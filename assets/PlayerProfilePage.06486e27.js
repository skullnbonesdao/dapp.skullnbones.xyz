import{dD as V,dE as Ae,d2 as N,dF as F,dG as Pe,d3 as te,dH as we,dI as Vt,dJ as Oe,dK as ie,dL as rm,dM as nm,dN as sm,dO as Ie,dn as ki,dP as rc,dQ as im,dR as Tb,dS as Rb,dT as Cb,dU as gV,dV as M0e,dW as B0e,dX as z0e,dY as Oy,dZ as fue,d_ as m1,d$ as oD,e0 as $De,e1 as Jz,e2 as R5,e3 as DDe,e4 as aD,e5 as $0e,e6 as ODe,e7 as D0e,d5 as Ve,e8 as O0e,bY as K0e,bW as xd,bX as K,e9 as KDe,ea as hue,eb as Fo,ec as US,ed as L0e,ee as _c,ef as hn,eg as VS,eh as om,ei as i4,ej as Ig,ek as Zg,el as LDe,em as WDe,en as W0e,eo as VD,ep as NDe,eq as FDe,er as Px,P as Ex,es as UDe,df as j1,cS as Yf,de as o4,et as VDe,dc as qDe,eu as q,ev as Z,ew as jDe,ex as N0e,ey as HDe,ez as GDe,eA as YDe,dm as F0e,cP as ZDe,eB as gue,cp as JDe,au as vH,b1 as bv,ak as mue,b7 as yue,ai as qD,bx as cf,as as fl,al as od,a1 as x2,a6 as pue,V as $1,J as XDe,cm as QDe,aX as eOe,bs as tOe,co as rOe,ar as C5}from"./index.8d97180e.js";import{Q as cD}from"./QCardSection.add758a0.js";import{Q as nOe}from"./QSeparator.4c8bff6c.js";import{Q as U0e}from"./use-form.85b490af.js";import{Q as sOe}from"./QPage.239e55b4.js";import{r as rl}from"./index.4ae4ec44.js";import{h as iOe}from"./handleTransaction.7ef6e530.js";import{Q as oOe}from"./QToggle.9a32af23.js";import{Q as aOe,a as cOe}from"./QItem.9bfe295c.js";import{Q as uOe}from"./QList.6a7be5cf.js";import"./transferChecked.1f69f5da.js";import"./use-checkbox.aeffbb44.js";var IB={};function jD(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function lOe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function _B(n,...e){if(!lOe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function dOe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");jD(n.outputLen),jD(n.blockLen)}function gA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function V0e(n,e){_B(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const M5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fOe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),B5=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Md=(n,e)=>n<<32-e|n>>>e,bue=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,hOe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Sue(n){for(let e=0;e<n.length;e++)n[e]=hOe(n[e])}function gOe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function a4(n){return typeof n=="string"&&(n=gOe(n)),_B(n),n}function mOe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];_B(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class AH{clone(){return this._cloneInto()}}function wH(n){const e=r=>n().update(a4(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function q0e(n=32){if(M5&&typeof M5.getRandomValues=="function")return M5.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function yOe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const pOe=(n,e,t)=>n&e^~n&t,bOe=(n,e,t)=>n&e^n&t^e&t;class j0e extends AH{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=B5(this.buffer)}update(e){gA(this);const{view:t,buffer:r,blockLen:s}=this;e=a4(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=B5(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){gA(this),V0e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;yOe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=B5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const Xz=BigInt(2**32-1),mV=BigInt(32);function H0e(n,e=!1){return e?{h:Number(n&Xz),l:Number(n>>mV&Xz)}:{h:Number(n>>mV&Xz)|0,l:Number(n&Xz)|0}}function G0e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=H0e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const SOe=(n,e)=>BigInt(n>>>0)<<mV|BigInt(e>>>0),kOe=(n,e,t)=>n>>>t,vOe=(n,e,t)=>n<<32-t|e>>>t,AOe=(n,e,t)=>n>>>t|e<<32-t,wOe=(n,e,t)=>n<<32-t|e>>>t,IOe=(n,e,t)=>n<<64-t|e>>>t-32,_Oe=(n,e,t)=>n>>>t-32|e<<64-t,POe=(n,e)=>e,EOe=(n,e)=>n,Y0e=(n,e,t)=>n<<t|e>>>32-t,Z0e=(n,e,t)=>e<<t|n>>>32-t,J0e=(n,e,t)=>e<<t-32|n>>>64-t,X0e=(n,e,t)=>n<<t-32|e>>>64-t;function xOe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const TOe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),ROe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,COe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),MOe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,BOe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),zOe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Rr={fromBig:H0e,split:G0e,toBig:SOe,shrSH:kOe,shrSL:vOe,rotrSH:AOe,rotrSL:wOe,rotrBH:IOe,rotrBL:_Oe,rotr32H:POe,rotr32L:EOe,rotlSH:Y0e,rotlSL:Z0e,rotlBH:J0e,rotlBL:X0e,add:xOe,add3L:TOe,add3H:ROe,add4L:COe,add4H:MOe,add5H:zOe,add5L:BOe},[$Oe,DOe]=(()=>Rr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),pm=new Uint32Array(80),bm=new Uint32Array(80);class OOe extends j0e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)pm[p]=e.getUint32(t),bm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=pm[p-15]|0,A=bm[p-15]|0,w=Rr.rotrSH(I,A,1)^Rr.rotrSH(I,A,8)^Rr.shrSH(I,A,7),_=Rr.rotrSL(I,A,1)^Rr.rotrSL(I,A,8)^Rr.shrSL(I,A,7),P=pm[p-2]|0,M=bm[p-2]|0,E=Rr.rotrSH(P,M,19)^Rr.rotrBH(P,M,61)^Rr.shrSH(P,M,6),T=Rr.rotrSL(P,M,19)^Rr.rotrBL(P,M,61)^Rr.shrSL(P,M,6),z=Rr.add4L(_,T,bm[p-7],bm[p-16]),O=Rr.add4H(z,w,E,pm[p-7],pm[p-16]);pm[p]=O|0,bm[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Rr.rotrSH(d,y,14)^Rr.rotrSH(d,y,18)^Rr.rotrBH(d,y,41),A=Rr.rotrSL(d,y,14)^Rr.rotrSL(d,y,18)^Rr.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=Rr.add5L(S,A,_,DOe[p],bm[p]),M=Rr.add5H(P,b,I,w,$Oe[p],pm[p]),E=P|0,T=Rr.rotrSH(r,s,28)^Rr.rotrBH(r,s,34)^Rr.rotrBH(r,s,39),z=Rr.rotrSL(r,s,28)^Rr.rotrBL(r,s,34)^Rr.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Rr.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Rr.add3L(E,z,R);r=Rr.add3H(v,M,T,O),s=v|0}({h:r,l:s}=Rr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Rr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Rr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Rr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Rr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Rr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Rr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Rr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){pm.fill(0),bm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const KOe=wH(()=>new OOe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const IH=BigInt(0),c4=BigInt(1),LOe=BigInt(2);function H1(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function PB(n){if(!H1(n))throw new Error("Uint8Array expected")}function Wg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const WOe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function G1(n){PB(n);let e="";for(let t=0;t<n.length;t++)e+=WOe[n[t]];return e}function Q0e(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function _H(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Ah={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function kue(n){if(n>=Ah._0&&n<=Ah._9)return n-Ah._0;if(n>=Ah._A&&n<=Ah._F)return n-(Ah._A-10);if(n>=Ah._a&&n<=Ah._f)return n-(Ah._a-10)}function mA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=kue(n.charCodeAt(i)),a=kue(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function D1(n){return _H(G1(n))}function Ov(n){return PB(n),_H(G1(Uint8Array.from(n).reverse()))}function yA(n,e){return mA(n.toString(16).padStart(e*2,"0"))}function Y2(n,e){return yA(n,e).reverse()}function NOe(n){return mA(Q0e(n))}function Jo(n,e,t){let r;if(typeof e=="string")try{r=mA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(H1(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function Y1(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];PB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function FOe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function UOe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const z5=n=>typeof n=="bigint"&&IH<=n;function u4(n,e,t){return z5(n)&&z5(e)&&z5(t)&&e<=n&&n<t}function gl(n,e,t,r){if(!u4(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function VOe(n){let e;for(e=0;n>IH;n>>=c4,e+=1);return e}function qOe(n,e){return n>>BigInt(e)&c4}function jOe(n,e,t){return n|(t?c4:IH)<<BigInt(e)}const PH=n=>(LOe<<BigInt(n-1))-c4,$5=n=>new Uint8Array(n),vue=n=>Uint8Array.from(n);function e1e(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=$5(n),s=$5(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=$5())=>{s=a(vue([0]),d),r=a(),d.length!==0&&(s=a(vue([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return Y1(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const HOe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||H1(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function xx(n,e,t={}){const r=(s,i,o)=>{const a=HOe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const GOe=()=>{throw new Error("not implemented")};function Z2(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var YOe=Object.freeze(Object.defineProperty({__proto__:null,isBytes:H1,abytes:PB,abool:Wg,bytesToHex:G1,numberToHexUnpadded:Q0e,hexToNumber:_H,hexToBytes:mA,bytesToNumberBE:D1,bytesToNumberLE:Ov,numberToBytesBE:yA,numberToBytesLE:Y2,numberToVarBytesBE:NOe,ensureBytes:Jo,concatBytes:Y1,equalBytes:FOe,utf8ToBytes:UOe,inRange:u4,aInRange:gl,bitLen:VOe,bitGet:qOe,bitSet:jOe,bitMask:PH,createHmacDrbg:e1e,validateObject:xx,notImplemented:GOe,memoized:Z2},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qa=BigInt(0),Mi=BigInt(1),H0=BigInt(2),ZOe=BigInt(3),yV=BigInt(4),Aue=BigInt(5),wue=BigInt(8);BigInt(9);BigInt(16);function di(n,e){const t=n%e;return t>=qa?t:e+t}function JOe(n,e,t){if(t<=qa||e<qa)throw new Error("Expected power/modulo > 0");if(t===Mi)return qa;let r=Mi;for(;e>qa;)e&Mi&&(r=r*n%t),n=n*n%t,e>>=Mi;return r}function Ji(n,e,t){let r=n;for(;e-- >qa;)r*=r,r%=t;return r}function pV(n,e){if(n===qa||e<=qa)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=di(n,e),r=e,s=qa,i=Mi;for(;t!==qa;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Mi)throw new Error("invert: does not exist");return di(s,e)}function XOe(n){const e=(n-Mi)/H0;let t,r,s;for(t=n-Mi,r=0;t%H0===qa;t/=H0,r++);for(s=H0;s<n&&JOe(s,e,n)!==n-Mi;s++);if(r===1){const o=(n+Mi)/yV;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Mi)/H0;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Mi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function QOe(n){if(n%yV===ZOe){const e=(n+Mi)/yV;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%wue===Aue){const e=(n-Aue)/wue;return function(r,s){const i=r.mul(s,H0),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,H0),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return XOe(n)}const e4e=(n,e)=>(di(n,e)&Mi)===Mi,t4e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function r4e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=t4e.reduce((r,s)=>(r[s]="function",r),e);return xx(n,t)}function n4e(n,e,t){if(t<qa)throw new Error("Expected power > 0");if(t===qa)return n.ONE;if(t===Mi)return e;let r=n.ONE,s=e;for(;t>qa;)t&Mi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Mi;return r}function s4e(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function t1e(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function r1e(n,e,t=!1,r={}){if(n<=qa)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=t1e(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=QOe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:PH(s),ZERO:qa,ONE:Mi,create:c=>di(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return qa<=c&&c<n},is0:c=>c===qa,isOdd:c=>(c&Mi)===Mi,neg:c=>di(-c,n),eql:(c,u)=>c===u,sqr:c=>di(c*c,n),add:(c,u)=>di(c+u,n),sub:(c,u)=>di(c-u,n),mul:(c,u)=>di(c*u,n),pow:(c,u)=>n4e(a,c,u),div:(c,u)=>di(c*pV(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>pV(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>s4e(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?Y2(c,i):yA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Ov(c):D1(c)}});return Object.freeze(a)}function n1e(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function s1e(n){const e=n1e(n);return e+Math.ceil(e/2)}function i4e(n,e,t=!1){const r=n.length,s=n1e(e),i=s1e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?D1(n):Ov(n),a=di(o,e-Mi)+Mi;return t?Y2(a,s):yA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const o4e=BigInt(0),D5=BigInt(1),O5=new WeakMap,Iue=new WeakMap;function i1e(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>o4e;)o&D5&&(a=a.add(c)),c=c.double(),o>>=D5;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=D5);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,A=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(A,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Iue.get(i)||1;let u=O5.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&O5.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Iue.set(i,o),O5.delete(i)}}}function EH(n){return r4e(n.Fp),xx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...t1e(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cl=BigInt(0),Kc=BigInt(1),Qz=BigInt(2),a4e=BigInt(8),c4e={zip215:!0};function u4e(n){const e=EH(n);return xx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function l4e(n){const e=u4e(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=Qz<<BigInt(a*8)-Kc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Cl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Wg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){gl("coordinate "+v,k,Cl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=Z2((v,k)=>{const{ex:x,ey:C,ez:B}=v,D=v.is0();k==null&&(k=D?a4e:t.inv(B));const $=l(x*k),W=l(C*k),L=l(B*k);if(D)return{x:Cl,y:Kc};if(L!==Kc)throw new Error("invZ was invalid");return{x:$,y:W}}),b=Z2(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:D,et:$}=v,W=l(C*C),L=l(B*B),U=l(D*D),G=l(U*U),J=l(W*k),Q=l(U*l(J+L)),Y=l(G+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(D*$);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Kc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:D,ey:$,ez:W}=k,L=l(x*W),U=l(D*B),G=l(C*W),J=l($*B);return L===U&&G===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,D=l(x*x),$=l(C*C),W=l(Qz*l(B*B)),L=l(k*D),U=x+C,G=l(l(U*U)-D-$),J=L+$,Q=J-W,Y=L-$,X=l(G*Q),re=l(J*Y),se=l(G*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:D,ez:$,et:W}=this,{ex:L,ey:U,ez:G,et:J}=k;if(x===BigInt(-1)){const Lt=l((D-B)*(U+L)),Dt=l((D+B)*(U-L)),et=l(Dt-Lt);if(et===Cl)return this.double();const Ue=l($*Qz*J),Wt=l(W*Qz*G),sr=Wt+Ue,tr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(tr*pr),gn=l(sr*pr),ds=l(et*tr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(D*U),X=l(W*C*J),re=l($*G),se=l((B+D)*(L+U)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),_e=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(_e,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return A.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;gl("scalar",x,Kc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return gl("scalar",x,Cl,r),x===Cl?I:this.equals(I)||x===Kc?this:this.equals(p)?this.wNAF(x).p:A.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Kc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,D=t.BYTES;k=Jo("pointHex",k,D),Wg("zip215",x);const $=k.slice(),W=k[D-1];$[D-1]=W&-129;const L=Ov($),U=x?u:t.ORDER;gl("pointHex.y",L,Cl,U);const G=l(L*L),J=l(G-Kc),Q=l(C*G-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Kc)===Kc,se=(W&128)!==0;if(!x&&X===Cl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return P(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=Y2(x,t.BYTES);return C[C.length-1]|=k&Kc?128:0,C}toHex(){return G1(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Kc,l(e.Gx*e.Gy)),S.ZERO=new S(Cl,Kc,Kc,Cl);const{BASE:p,ZERO:I}=S,A=i1e(S,a*8);function w(v){return di(v,r)}function _(v){return w(Ov(v))}function P(v){const k=a;v=Jo("private key",v,k);const x=Jo("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),D=_(C),$=p.multiply(D),W=$.toRawBytes();return{head:C,prefix:B,scalar:D,point:$,pointBytes:W}}function M(v){return P(v).pointBytes}function E(v=new Uint8Array,...k){const x=Y1(...k);return _(i(h(x,Jo("context",v),!!s)))}function T(v,k,x={}){v=Jo("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:D}=P(k),$=E(x.context,C,v),W=p.multiply($).toRawBytes(),L=E(x.context,W,D,v),U=w($+L*B);gl("signature.s",U,Cl,r);const G=Y1(W,Y2(U,t.BYTES));return Jo("result",G,a*2)}const z=c4e;function O(v,k,x,C=z){const{context:B,zip215:D}=C,$=t.BYTES;v=Jo("signature",v,2*$),k=Jo("message",k),D!==void 0&&Wg("zip215",D),s&&(k=s(k));const W=Ov(v.slice($,2*$));let L,U,G;try{L=S.fromHex(x,D),U=S.fromHex(v.slice(0,$),D),G=p.multiplyUnsafe(W)}catch{return!1}if(!D&&L.isSmallOrder())return!1;const J=E(B,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(G).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:T,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xH=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),_ue=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const d4e=BigInt(1),Pue=BigInt(2);BigInt(3);const f4e=BigInt(5),h4e=BigInt(8);function g4e(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=xH,a=n*n%i*n%i,c=Ji(a,Pue,i)*a%i,u=Ji(c,d4e,i)*n%i,l=Ji(u,f4e,i)*u%i,d=Ji(l,e,i)*l%i,y=Ji(d,t,i)*d%i,h=Ji(y,r,i)*y%i,m=Ji(h,s,i)*h%i,f=Ji(m,s,i)*h%i,g=Ji(f,e,i)*l%i;return{pow_p_5_8:Ji(g,Pue,i)*n%i,b2:a}}function m4e(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function y4e(n,e){const t=xH,r=di(e*e*e,t),s=di(r*r*e,t),i=g4e(n*s).pow_p_5_8;let o=di(n*r*i,t);const a=di(e*o*o,t),c=o,u=di(o*_ue,t),l=a===n,d=a===di(-n,t),y=a===di(-n*_ue,t);return l&&(o=c),(d||y)&&(o=u),e4e(o,t)&&(o=di(-o,t)),{isValid:l||d,value:o}}const p4e=(()=>r1e(xH,void 0,!0))(),b4e=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p4e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:h4e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:KOe,randomBytes:q0e,adjustScalarBytes:m4e,uvRatio:y4e}))(),Tx=(()=>l4e(b4e))(),S4e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Sm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),km=new Uint32Array(64);class k4e extends j0e{constructor(){super(64,32,8,!1),this.A=Sm[0]|0,this.B=Sm[1]|0,this.C=Sm[2]|0,this.D=Sm[3]|0,this.E=Sm[4]|0,this.F=Sm[5]|0,this.G=Sm[6]|0,this.H=Sm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)km[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=km[d-15],h=km[d-2],m=Md(y,7)^Md(y,18)^y>>>3,f=Md(h,17)^Md(h,19)^h>>>10;km[d]=f+km[d-7]+m+km[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Md(a,6)^Md(a,11)^Md(a,25),h=l+y+pOe(a,c,u)+S4e[d]+km[d]|0,f=(Md(r,2)^Md(r,13)^Md(r,22))+bOe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){km.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const bV=wH(()=>new k4e);class v4e extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function A4e(n){return EB(n)&&typeof n[Symbol.iterator]=="function"}function EB(n){return typeof n=="object"&&n!=null}function HD(n){return EB(n)&&!Array.isArray(n)}function ld(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function w4e(n){const{done:e,value:t}=n.next();return e?void 0:t}function I4e(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ld(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Eue(n,e,t,r){A4e(n)||(n=[n]);for(const s of n){const i=I4e(s,e,t,r);i&&(yield i)}}function*TH(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=TH(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):EB(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class ah{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Eue(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Eue(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return o1e(e,this,t)}create(e,t){return dt(e,this,t)}is(e){return a1e(e,this)}mask(e,t){return _4e(e,this,t)}validate(e,t={}){return xB(e,this,t)}}function o1e(n,e,t){const r=xB(n,e,{message:t});if(r[0])throw r[0]}function dt(n,e,t){const r=xB(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function _4e(n,e,t){const r=xB(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function a1e(n,e){return!xB(n,e)[0]}function xB(n,e,t={}){const r=TH(n,e,t),s=w4e(r);if(s[0])return[new v4e(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function qS(n,e){return new ah({type:n,schema:null,validator:e})}function P4e(){return qS("any",()=>!0)}function kt(n){return new ah({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ld(e)}`}})}function Zf(){return qS("boolean",n=>typeof n=="boolean")}function RH(n){return qS("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${ld(e)}`)}function wi(n){const e=ld(n),t=typeof n;return new ah({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${ld(r)}`}})}function E4e(){return qS("never",()=>!1)}function xt(n){return new ah({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function fe(){return qS("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${ld(n)}`)}function ur(n){return new ah({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function c1e(n,e){return new ah({type:"record",schema:null,*entries(t){if(EB(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return HD(t)||`Expected an object, but received: ${ld(t)}`},coercer(t){return HD(t)?{...t}:t}})}function qe(){return qS("string",n=>typeof n=="string"||`Expected a string, but received: ${ld(n)}`)}function CH(n){const e=E4e();return new ah({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${ld(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function xe(n){const e=Object.keys(n);return new ah({type:"type",schema:n,*entries(t){if(EB(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return HD(t)||`Expected an object, but received: ${ld(t)}`},coercer(t){return HD(t)?{...t}:t}})}function Tc(n){const e=n.map(t=>t.type).join(" | ");return new ah({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=TH(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ld(t)}`,...s]}})}function Rx(){return qS("unknown",()=>!0)}function TB(n,e,t){return new ah({...n,coercer:(r,s)=>a1e(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const u1e=[],l1e=[],d1e=[],x4e=BigInt(0),fR=BigInt(1),T4e=BigInt(2),R4e=BigInt(7),C4e=BigInt(256),M4e=BigInt(113);for(let n=0,e=fR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],u1e.push(2*(5*r+t)),l1e.push((n+1)*(n+2)/2%64);let s=x4e;for(let i=0;i<7;i++)e=(e<<fR^(e>>R4e)*M4e)%C4e,e&T4e&&(s^=fR<<(fR<<BigInt(i))-fR);d1e.push(s)}const[B4e,z4e]=G0e(d1e,!0),xue=(n,e,t)=>t>32?J0e(n,e,t):Y0e(n,e,t),Tue=(n,e,t)=>t>32?X0e(n,e,t):Z0e(n,e,t);function $4e(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=xue(u,l,1)^t[a],y=Tue(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=l1e[o],c=xue(s,i,a),u=Tue(s,i,a),l=u1e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=B4e[r],n[1]^=z4e[r]}t.fill(0)}class MH extends AH{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,jD(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fOe(this.state)}keccak(){bue||Sue(this.state32),$4e(this.state32,this.rounds),bue||Sue(this.state32),this.posOut=0,this.pos=0}update(e){gA(this);const{blockLen:t,state:r}=this;e=a4(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){gA(this,!1),_B(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return jD(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(V0e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new MH(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const D4e=(n,e,t)=>wH(()=>new MH(e,n,t)),Rue=D4e(1,136,256/8);class f1e extends AH{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,dOe(e);const r=a4(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return gA(this),this.iHash.update(e),this}digestInto(e){gA(this),_B(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const h1e=(n,e,t)=>new f1e(n,e).update(t).digest();h1e.create=(n,e)=>new f1e(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cue(n){n.lowS!==void 0&&Wg("lowS",n.lowS),n.prehash!==void 0&&Wg("prehash",n.prehash)}function O4e(n){const e=EH(n);xx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:K4e,hexToBytes:L4e}=YOe,y1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=y1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:K4e(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=y1,t=typeof n=="string"?L4e(n):n;PB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=y1._parseInt(t.subarray(2)),{d:o,l:a}=y1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ay=BigInt(0),ua=BigInt(1);BigInt(2);const Mue=BigInt(3);BigInt(4);function W4e(n){const e=O4e(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return Y1(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return u4(m,ua,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(H1(m)&&(m=G1(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:D1(Jo("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=di(p,S)),gl("private key",p,ua,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=Z2((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),A=t.mul(b,f),w=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),l=Z2(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Jo("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f,w=t.eql(t.mul(g,A),t.mul(p,S)),_=t.eql(t.mul(b,A),t.mul(I,S));return w&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Mue),{px:S,py:p,pz:I}=this;let A=t.ZERO,w=t.ZERO,_=t.ZERO,P=t.mul(S,S),M=t.mul(p,p),E=t.mul(I,I),T=t.mul(S,p);return T=t.add(T,T),_=t.mul(S,I),_=t.add(_,_),A=t.mul(f,_),w=t.mul(b,E),w=t.add(A,w),A=t.sub(M,w),w=t.add(M,w),w=t.mul(A,w),A=t.mul(T,A),_=t.mul(b,_),E=t.mul(f,E),T=t.sub(P,E),T=t.mul(f,T),T=t.add(T,_),_=t.add(P,P),P=t.add(_,P),P=t.add(P,E),P=t.mul(P,T),w=t.add(w,P),E=t.mul(p,I),E=t.add(E,E),P=t.mul(E,T),A=t.sub(A,P),_=t.mul(E,M),_=t.add(_,_),_=t.add(_,_),new d(A,w,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f;let w=t.ZERO,_=t.ZERO,P=t.ZERO;const M=e.a,E=t.mul(e.b,Mue);let T=t.mul(g,p),z=t.mul(b,I),O=t.mul(S,A),R=t.add(g,b),v=t.add(p,I);R=t.mul(R,v),v=t.add(T,z),R=t.sub(R,v),v=t.add(g,S);let k=t.add(p,A);return v=t.mul(v,k),k=t.add(T,O),v=t.sub(v,k),k=t.add(b,S),w=t.add(I,A),k=t.mul(k,w),w=t.add(z,O),k=t.sub(k,w),P=t.mul(M,v),w=t.mul(E,O),P=t.add(w,P),w=t.sub(z,P),P=t.add(z,P),_=t.mul(w,P),z=t.add(T,T),z=t.add(z,T),O=t.mul(M,O),v=t.mul(E,v),z=t.add(z,O),O=t.sub(T,O),O=t.mul(M,O),v=t.add(v,O),T=t.mul(z,v),_=t.add(_,T),T=t.mul(k,v),w=t.mul(R,w),w=t.sub(w,T),T=t.mul(R,z),P=t.mul(k,P),P=t.add(P,T),new d(w,_,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){gl("scalar",f,Ay,e.n);const g=d.ZERO;if(f===Ay)return g;if(f===ua)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:A}=b.splitScalar(f),w=g,_=g,P=this;for(;p>Ay||A>Ay;)p&ua&&(w=w.add(P)),A&ua&&(_=_.add(P)),P=P.double(),p>>=ua,A>>=ua;return S&&(w=w.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),w.add(_)}multiply(f){const{endo:g,n:b}=e;gl("scalar",f,ua,b);let S,p;if(g){const{k1neg:I,k1:A,k2neg:w,k2:_}=g.splitScalar(f);let{p:P,f:M}=this.wNAF(A),{p:E,f:T}=this.wNAF(_);P=h.constTimeNegate(I,P),E=h.constTimeNegate(w,E),E=new d(t.mul(E.px,g.beta),E.py,E.pz),S=P.add(E),p=M.add(T)}else{const{p:I,f:A}=this.wNAF(f);S=I,p=A}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(A,w)=>w===Ay||w===ua||!A.equals(S)?A.multiplyUnsafe(w):A.multiply(w),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ua)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ua?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Wg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Wg("isCompressed",f),G1(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=i1e(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function N4e(n){const e=EH(n);return xx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function F4e(n){const e=N4e(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(R){return di(R,r)}function a(R){return pV(R,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=W4e({...e,toBytes(R,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=Y1;return Wg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(R){const v=R.length,k=R[0],x=R.subarray(1);if(v===s&&(k===2||k===3)){const C=D1(x);if(!u4(C,ua,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let D;try{D=t.sqrt(B)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const $=(D&ua)===ua;return(k&1)===1!==$&&(D=t.neg(D)),{x:C,y:D}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=R=>G1(yA(R,e.nByteLength));function h(R){const v=r>>ua;return R>v}function m(R){return h(R)?o(-R):R}const f=(R,v,k)=>D1(R.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Jo("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=y1.toSig(Jo("DER",v));return new g(k,x)}assertValidity(){gl("r",this.r,ua,r),gl("s",this.s,ua,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=w(Jo("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const D=C===2||C===3?k+e.n:k;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(C&1)===0?"02":"03",W=c.fromHex($+y(D)),L=a(D),U=o(-B*L),G=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,U,G);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return mA(this.toDERHex())}toDERHex(){return y1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return mA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=s1e(e.n);return i4e(e.randomBytes(R),e.n)},precompute(R=8,v=c.BASE){return v._setWindowSize(R),v.multiply(BigInt(3)),v}};function S(R,v=!0){return c.fromPrivateKey(R).toRawBytes(v)}function p(R){const v=H1(R),k=typeof R=="string",x=(v||k)&&R.length;return v?x===s||x===i:k?x===2*s||x===2*i:R instanceof c}function I(R,v,k=!0){if(p(R))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(R)).toRawBytes(k)}const A=e.bits2int||function(R){const v=D1(R),k=R.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},w=e.bits2int_modN||function(R){return o(A(R))},_=PH(e.nBitLength);function P(R){return gl(`num < 2^${e.nBitLength}`,R,Ay,_),yA(R,e.nByteLength)}function M(R,v,k=E){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:D,extraEntropy:$}=k;B==null&&(B=!0),R=Jo("msgHash",R),Cue(k),D&&(R=Jo("prehashed msgHash",x(R)));const W=w(R),L=u(v),U=[P(L),P(W)];if($!=null&&$!==!1){const Y=$===!0?C(t.BYTES):$;U.push(Jo("extraEntropy",Y))}const G=Y1(...U),J=W;function Q(Y){const X=A(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ay)return;const ne=o(re*o(J+ee*L));if(ne===Ay)return;let ve=(se.x===ee?0:2)|Number(se.y&ua),_e=ne;return B&&h(ne)&&(_e=m(ne),ve^=1),new g(ee,_e,ve)}return{seed:G,k2sig:Q}}const E={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function z(R,v,k=E){const{seed:x,k2sig:C}=M(R,v,k),B=e;return e1e(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function O(R,v,k,x=T){var se;const C=R;if(v=Jo("msgHash",v),k=Jo("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Cue(x);const{lowS:B,prehash:D}=x;let $,W;try{if(typeof C=="string"||H1(C))try{$=g.fromDER(C)}catch(ee){if(!(ee instanceof y1.Err))throw ee;$=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;$=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&$.hasHighS())return!1;D&&(v=e.hash(v));const{r:L,s:U}=$,G=w(v),J=a(U),Q=o(G*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:z,verify:O,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function U4e(n){return{hash:n,hmac:(e,...t)=>h1e(n,e,mOe(...t)),randomBytes:q0e}}function V4e(n,e){const t=r=>F4e({...n,...U4e(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const g1e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Bue=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),q4e=BigInt(1),SV=BigInt(2),zue=(n,e)=>(n+e/SV)/e;function j4e(n){const e=g1e,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Ji(l,t,e)*l%e,y=Ji(d,t,e)*l%e,h=Ji(y,SV,e)*u%e,m=Ji(h,s,e)*h%e,f=Ji(m,i,e)*m%e,g=Ji(f,a,e)*f%e,b=Ji(g,c,e)*g%e,S=Ji(b,a,e)*f%e,p=Ji(S,t,e)*l%e,I=Ji(p,o,e)*m%e,A=Ji(I,r,e)*u%e,w=Ji(A,SV,e);if(!kV.eql(kV.sqr(w),n))throw new Error("Cannot find square root");return w}const kV=r1e(g1e,void 0,void 0,{sqrt:j4e}),l4=V4e({a:BigInt(0),b:BigInt(7),Fp:kV,n:Bue,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Bue,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-q4e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=zue(i*n,e),c=zue(-r*n,e);let u=di(n-a*t-c*s,e),l=di(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},bV);BigInt(0);l4.ProjectivePoint;const H4e=Tx.utils.randomPrivateKey,$ue=()=>{const n=Tx.utils.randomPrivateKey(),e=GD(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},GD=Tx.getPublicKey;function Due(n){try{return Tx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const BH=(n,e)=>Tx.sign(n,e.slice(0,32)),G4e=Tx.verify,Zr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class zH{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(rm(T2,this))}static decode(e){return nm(T2,this,e)}static decodeUnchecked(e){return sm(T2,this,e)}}class Y4e extends zH{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const T2=new Map;var m1e;const y1e=32,Kf=32;function Z4e(n){return n._bn!==void 0}let Oue=1;class Ee extends zH{constructor(e){if(super({}),this._bn=void 0,Z4e(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Kf)throw new Error("Invalid public key input");this._bn=new ki(t)}else this._bn=new ki(e);if(this._bn.byteLength()>Kf)throw new Error("Invalid public key input")}}static unique(){const e=new Ee(Oue);return Oue+=1,new Ee(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Kf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=bV(s);return new Ee(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>y1e)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Zr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=bV(r);if(Due(s))throw new Error("Invalid seeds, address must fall off the curve");return new Ee(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new Ee(e);return Due(t.toBytes())}}m1e=Ee;Ee.default=new m1e("11111111111111111111111111111111");T2.set(Ee,{kind:"struct",fields:[["_bn","u256"]]});class J4e{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Zr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Zr(H4e()),this._publicKey=Zr(GD(this._secretKey))}get publicKey(){return new Ee(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const X4e=new Ee("BPFLoader1111111111111111111111111111111111"),Ky=1280-40-8,d4=127,J2=64;class $H extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty($H.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class DH extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(DH.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Sv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Sv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class X2{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const mn=(n="publicKey")=>ie(32,n),Q4e=(n="signature")=>ie(64,n),p1=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Vt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},eKe=(n="authorized")=>N([mn("staker"),mn("withdrawer")],n),tKe=(n="lockup")=>N([Pe("unixTimestamp"),Pe("epoch"),mn("custodian")],n),rKe=(n="voteInit")=>N([mn("nodePubkey"),mn("authorizedVoter"),mn("authorizedWithdrawer"),te("commission")],n),nKe=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),mn("currentAuthorityDerivedKeyOwnerPubkey"),p1("currentAuthorityDerivedKeySeed"),mn("newAuthorized")],n);function p1e(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return p1e({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Qc(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function zu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function On(n,e){if(!n)throw new Error(e||"Assertion failed")}class f4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new f4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];On(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{On(t.length>0,"Expected at least one writable signer key");const[c]=t[0];On(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Ee(c)),...r.map(([c])=>new Ee(c)),...s.map(([c])=>new Ee(c)),...i.map(([c])=>new Ee(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new Ee(i),c=e.findIndex(u=>u.equals(a));c>=0&&(On(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const b1e="Reached end of buffer unexpectedly";function uf(n){if(n.length===0)throw new Error(b1e);return n.shift()}function eu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(b1e);return n.splice(...e)}class dd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Ee(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new X2(this.staticAccountKeys)}static compile(e){const t=f4.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new X2(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new dd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];zu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];zu(f,y.length);let g=[];return zu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];zu(s,r.length);let i=V.Buffer.alloc(Ky);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(mn("key"),e,"keys"),mn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Zr(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=uf(t);if(r!==(r&d4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=uf(t),i=uf(t),o=Qc(t);let a=[];for(let y=0;y<o;y++){const h=eu(t,0,Kf);a.push(new Ee(V.Buffer.from(h)))}const c=eu(t,0,Kf),u=Qc(t);let l=[];for(let y=0;y<u;y++){const h=uf(t),m=Qc(t),f=eu(t,0,m),g=Qc(t),b=eu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new dd(d)}}class Z1{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new X2(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=f4.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new X2(a,s).compileInstructions(e.instructions);return new Z1({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();zu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();zu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();zu(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(mn(),this.staticAccountKeys.length,"staticAccountKeys"),mn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ky),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Ky);for(const r of this.compiledInstructions){const s=Array();zu(s,r.accountKeyIndexes.length);const i=Array();zu(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Ky);for(const r of this.addressTableLookups){const s=Array();zu(s,r.writableIndexes.length);const i=Array();zu(i,r.readonlyIndexes.length),e+=N([mn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=uf(t),s=r&d4;On(r!==s,"Expected versioned message but received legacy message");const i=s;On(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:uf(t),numReadonlySignedAccounts:uf(t),numReadonlyUnsignedAccounts:uf(t)},a=[],c=Qc(t);for(let m=0;m<c;m++)a.push(new Ee(eu(t,0,Kf)));const u=Ie.encode(eu(t,0,Kf)),l=Qc(t),d=[];for(let m=0;m<l;m++){const f=uf(t),g=Qc(t),b=eu(t,0,g),S=Qc(t),p=new Uint8Array(eu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Qc(t),h=[];for(let m=0;m<y;m++){const f=new Ee(eu(t,0,Kf)),g=Qc(t),b=eu(t,0,g),S=Qc(t),p=eu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new Z1({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const OH={deserializeMessageVersion(n){const e=n[0],t=e&d4;return t===e?"legacy":t},deserialize:n=>{const e=OH.deserializeMessageVersion(n);if(e==="legacy")return dd.from(n);if(e===0)return Z1.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let hg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const sKe=V.Buffer.alloc(J2).fill(0);class us{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Dn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new us(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new Ee(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{On(f.programIdIndex>=0),f.accounts.forEach(g=>On(g>=0))}),new dd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=BH(r,s.secretKey);this._addSignature(s.publicKey,Zr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){On(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):G4e(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];zu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return On(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(On(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),On(i.length<=Ky,`Transaction too large: ${i.length} > ${Ky}`),i}get keys(){return On(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return On(this.instructions.length===1),this.instructions[0].programId}get data(){return On(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Qc(t);let s=[];for(let i=0;i<r;i++){const o=eu(t,0,J2);s.push(Ie.encode(V.Buffer.from(o)))}return Dn.populate(dd.from(t),s)}static populate(e,t=[]){const r=new Dn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(sKe)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new us({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class KH{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;On(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;On(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new us({programId:g,data:Zr(m.data),keys:f}))}return new KH({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return dd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Z1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class LH{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)On(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(J2));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();zu(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(Q4e(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Qc(t);for(let o=0;o<s;o++)r.push(new Uint8Array(eu(t,0,J2)));const i=OH.deserialize(new Uint8Array(t));return new LH(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));On(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=BH(t,s.secretKey)}}addSignature(e,t){On(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));On(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const iKe=160,oKe=64,aKe=iKe/oKe,S1e=1e3/aKe,Zd=new Ee("SysvarC1ock11111111111111111111111111111111"),cKe=new Ee("SysvarEpochSchedu1e111111111111111111111111"),uKe=new Ee("Sysvar1nstructions1111111111111111111111111"),uD=new Ee("SysvarRecentB1ockHashes11111111111111111111"),J1=new Ee("SysvarRent111111111111111111111111111111111"),lKe=new Ee("SysvarRewards111111111111111111111111111111"),dKe=new Ee("SysvarS1otHashes111111111111111111111111111"),fKe=new Ee("SysvarS1otHistory11111111111111111111111111"),lD=new Ee("SysvarStakeHistory1111111111111111111111111");class Wp extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const hKe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class jt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function vV(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new Wp({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function G0(n){return new Promise(e=>setTimeout(e,n))}function En(n,e){const t=n.layout.span>=0?n.layout.span:p1e(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function Qn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const k1e=Ae("lamportsPerSignature"),v1e=N([F("version"),F("state"),mn("authorizedPubkey"),mn("nonce"),N([k1e],"feeCalculator")]),Q2=v1e.span;class h4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=v1e.decode(Zr(e),0);return new h4({authorizedPubkey:new Ee(t.authorizedPubkey),nonce:new Ee(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const gKe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},mKe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=gKe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return im(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=rc(o,n);return r(u,a,c)},i},pA=mKe(8);class yKe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Bs))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=Qn(Bs.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Ee(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Qn(Bs.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=Qn(Bs.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Ee(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Qn(Bs.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=Qn(Bs.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ee(t),seed:r,space:s,programId:new Ee(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Qn(Bs.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ee(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=Qn(Bs.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ee(t),seed:r,programId:new Ee(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=Qn(Bs.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ee(t),seed:r,lamports:s,space:i,programId:new Ee(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Qn(Bs.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ee(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qn(Bs.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qn(Bs.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Qn(Bs.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ee(t)}}static checkProgramId(e){if(!e.equals(zo.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Bs=Object.freeze({Create:{index:0,layout:N([F("instruction"),Pe("lamports"),Pe("space"),mn("programId")])},Assign:{index:1,layout:N([F("instruction"),mn("programId")])},Transfer:{index:2,layout:N([F("instruction"),pA("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),mn("base"),p1("seed"),Pe("lamports"),Pe("space"),mn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Pe("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),mn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),mn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Pe("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),mn("base"),p1("seed"),Pe("space"),mn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),mn("base"),p1("seed"),mn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),pA("lamports"),p1("seed"),mn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class zo{constructor(){}static createAccount(e){const t=Bs.Create,r=En(t,{lamports:e.lamports,space:e.space,programId:Zr(e.programId.toBuffer())});return new us({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Bs.TransferWithSeed;t=En(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Bs.Transfer;t=En(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Bs.AssignWithSeed;t=En(s,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Bs.Assign;t=En(s,{programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Bs.CreateWithSeed,r=En(t,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Zr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new us({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Dn;"basePubkey"in e&&"seed"in e?t.add(zo.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Q2,programId:this.programId})):t.add(zo.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Q2,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Bs.InitializeNonceAccount,r=En(t,{authorized:Zr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:uD,isSigner:!1,isWritable:!1},{pubkey:J1,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new us(s)}static nonceAdvance(e){const t=Bs.AdvanceNonceAccount,r=En(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:uD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new us(s)}static nonceWithdraw(e){const t=Bs.WithdrawNonceAccount,r=En(t,{lamports:e.lamports});return new us({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:uD,isSigner:!1,isWritable:!1},{pubkey:J1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Bs.AuthorizeNonceAccount,r=En(t,{authorized:Zr(e.newAuthorizedPubkey.toBuffer())});return new us({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Bs.AllocateWithSeed;t=En(s,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Bs.Allocate;t=En(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}}zo.programId=new Ee("11111111111111111111111111111111");const pKe=Ky-300;class X1{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/X1.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Dn,h.add(zo.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Dn,h.add(zo.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Dn,h.add(zo.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Dn().add(zo.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await vV(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Vt(F(),-8),"bytes")]),a=X1.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Dn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(vV(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await G0(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Dn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:J1,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(S1e/2)))}}return!0}}X1.chunkSize=pKe;const bKe=new Ee("BPFLoader2111111111111111111111111111111111");class SKe{static getMinNumSignatures(e){return X1.getMinNumSignatures(e)}static load(e,t,r,s,i){return X1.load(e,t,r,i,s)}}function kKe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var K5,Kue;function vKe(){if(Kue)return K5;Kue=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return K5=function(r){var s=t(r,!1);if(s!==void 0)return""+s},K5}var AKe=vKe(),Lue=kKe(AKe);const hR=32;function L5(n){let e=0;for(;n>1;)n/=2,e++;return e}function wKe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class A1e{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=L5(wKe(e+hR+1))-L5(hR)-1,r=this.getSlotsInEpoch(t),s=e-(r-hR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*hR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+L5(hR)):this.slotsPerEpoch}}var IKe=globalThis.fetch;class _Ke extends Tb{constructor(e,t,r){const s=i=>{const o=Cb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function PKe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Wue=56;class AV{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=PKe(EKe,e),r=e.length-Wue;On(r>=0,"lookup table is invalid"),On(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(mn(),s,"addresses")]).decode(e.slice(Wue));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Ee(t.authority[0]):void 0,addresses:i.map(o=>new Ee(o))}}}const EKe={index:1,layout:N([F("typeIndex"),pA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(mn(),Vt(te(),-1),"authority")])},xKe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function TKe(n){const e=n.match(xKe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Ni=TB(RH(Ee),qe(),n=>new Ee(n)),w1e=CH([qe(),wi("base64")]),WH=TB(RH(V.Buffer),w1e,n=>V.Buffer.from(n[0],"base64")),I1e=30*1e3;function RKe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function _s(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Nue(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function _1e(n){return Tc([xe({jsonrpc:wi("2.0"),id:qe(),result:n}),xe({jsonrpc:wi("2.0"),id:qe(),error:xe({code:Rx(),message:qe(),data:ur(P4e())})})])}const CKe=_1e(Rx());function Nr(n){return TB(_1e(n),CKe,e=>"error"in e?e:{...e,result:dt(e.result,n)})}function co(n){return Nr(xe({context:xe({slot:fe()}),value:n}))}function g4(n){return xe({context:xe({slot:fe()}),value:n})}function W5(n,e){return n===0?new Z1({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Ee(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new dd(e)}const MKe=xe({foundation:fe(),foundationTerm:fe(),initial:fe(),taper:fe(),terminal:fe()}),BKe=Nr(kt(xt(xe({epoch:fe(),effectiveSlot:fe(),amount:fe(),postBalance:fe(),commission:ur(xt(fe()))})))),zKe=kt(xe({slot:fe(),prioritizationFee:fe()})),$Ke=xe({total:fe(),validator:fe(),foundation:fe(),epoch:fe()}),DKe=xe({epoch:fe(),slotIndex:fe(),slotsInEpoch:fe(),absoluteSlot:fe(),blockHeight:ur(fe()),transactionCount:ur(fe())}),OKe=xe({slotsPerEpoch:fe(),leaderScheduleSlotOffset:fe(),warmup:Zf(),firstNormalEpoch:fe(),firstNormalSlot:fe()}),KKe=c1e(qe(),kt(fe())),jS=xt(Tc([xe({}),qe()])),LKe=xe({err:jS}),WKe=wi("receivedSignature"),NKe=xe({"solana-core":qe(),"feature-set":ur(fe())}),FKe=xe({program:qe(),programId:Ni,parsed:Rx()}),UKe=xe({programId:Ni,accounts:kt(Ni),data:qe()}),Fue=co(xe({err:xt(Tc([xe({}),qe()])),logs:xt(kt(qe())),accounts:ur(xt(kt(xt(xe({executable:Zf(),owner:qe(),lamports:fe(),data:kt(qe()),rentEpoch:ur(fe())}))))),unitsConsumed:ur(fe()),returnData:ur(xt(xe({programId:qe(),data:CH([qe(),wi("base64")])}))),innerInstructions:ur(xt(kt(xe({index:fe(),instructions:kt(Tc([FKe,UKe]))}))))})),VKe=co(xe({byIdentity:c1e(qe(),kt(fe())),range:xe({firstSlot:fe(),lastSlot:fe()})}));function qKe(n,e,t,r,s,i){const o=t||IKe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Rb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},j6e)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await G0(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function jKe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function HKe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const GKe=Nr(MKe),YKe=Nr($Ke),ZKe=Nr(zKe),JKe=Nr(DKe),XKe=Nr(OKe),QKe=Nr(KKe),e6e=Nr(fe()),t6e=co(xe({total:fe(),circulating:fe(),nonCirculating:fe(),nonCirculatingAccounts:kt(Ni)})),wV=xe({amount:qe(),uiAmount:xt(fe()),decimals:fe(),uiAmountString:ur(qe())}),r6e=co(kt(xe({address:Ni,amount:qe(),uiAmount:xt(fe()),decimals:fe(),uiAmountString:ur(qe())}))),n6e=co(kt(xe({pubkey:Ni,account:xe({executable:Zf(),owner:Ni,lamports:fe(),data:WH,rentEpoch:fe()})}))),IV=xe({program:qe(),parsed:Rx(),space:fe()}),s6e=co(kt(xe({pubkey:Ni,account:xe({executable:Zf(),owner:Ni,lamports:fe(),data:IV,rentEpoch:fe()})}))),i6e=co(kt(xe({lamports:fe(),address:Ni}))),eM=xe({executable:Zf(),owner:Ni,lamports:fe(),data:WH,rentEpoch:fe()}),o6e=xe({pubkey:Ni,account:eM}),a6e=TB(Tc([RH(V.Buffer),IV]),Tc([w1e,IV]),n=>Array.isArray(n)?dt(n,WH):n),_V=xe({executable:Zf(),owner:Ni,lamports:fe(),data:a6e,rentEpoch:fe()}),c6e=xe({pubkey:Ni,account:_V}),u6e=xe({state:Tc([wi("active"),wi("inactive"),wi("activating"),wi("deactivating")]),active:fe(),inactive:fe()}),l6e=Nr(kt(xe({signature:qe(),slot:fe(),err:jS,memo:xt(qe()),blockTime:ur(xt(fe()))}))),d6e=Nr(kt(xe({signature:qe(),slot:fe(),err:jS,memo:xt(qe()),blockTime:ur(xt(fe()))}))),f6e=xe({subscription:fe(),result:g4(eM)}),h6e=xe({pubkey:Ni,account:eM}),g6e=xe({subscription:fe(),result:g4(h6e)}),m6e=xe({parent:fe(),slot:fe(),root:fe()}),y6e=xe({subscription:fe(),result:m6e}),p6e=Tc([xe({type:Tc([wi("firstShredReceived"),wi("completed"),wi("optimisticConfirmation"),wi("root")]),slot:fe(),timestamp:fe()}),xe({type:wi("createdBank"),parent:fe(),slot:fe(),timestamp:fe()}),xe({type:wi("frozen"),slot:fe(),timestamp:fe(),stats:xe({numTransactionEntries:fe(),numSuccessfulTransactions:fe(),numFailedTransactions:fe(),maxTransactionsPerEntry:fe()})}),xe({type:wi("dead"),slot:fe(),timestamp:fe(),err:qe()})]),b6e=xe({subscription:fe(),result:p6e}),S6e=xe({subscription:fe(),result:g4(Tc([LKe,WKe]))}),k6e=xe({subscription:fe(),result:fe()}),v6e=xe({pubkey:qe(),gossip:xt(qe()),tpu:xt(qe()),rpc:xt(qe()),version:xt(qe())}),Uue=xe({votePubkey:qe(),nodePubkey:qe(),activatedStake:fe(),epochVoteAccount:Zf(),epochCredits:kt(CH([fe(),fe(),fe()])),commission:fe(),lastVote:fe(),rootSlot:xt(fe())}),A6e=Nr(xe({current:kt(Uue),delinquent:kt(Uue)})),w6e=Tc([wi("processed"),wi("confirmed"),wi("finalized")]),I6e=xe({slot:fe(),confirmations:xt(fe()),err:jS,confirmationStatus:ur(w6e)}),_6e=co(kt(xt(I6e))),P6e=Nr(fe()),P1e=xe({accountKey:Ni,writableIndexes:kt(fe()),readonlyIndexes:kt(fe())}),NH=xe({signatures:kt(qe()),message:xe({accountKeys:kt(qe()),header:xe({numRequiredSignatures:fe(),numReadonlySignedAccounts:fe(),numReadonlyUnsignedAccounts:fe()}),instructions:kt(xe({accounts:kt(fe()),data:qe(),programIdIndex:fe()})),recentBlockhash:qe(),addressTableLookups:ur(kt(P1e))})}),E1e=xe({pubkey:Ni,signer:Zf(),writable:Zf(),source:ur(Tc([wi("transaction"),wi("lookupTable")]))}),x1e=xe({accountKeys:kt(E1e),signatures:kt(qe())}),T1e=xe({parsed:Rx(),program:qe(),programId:Ni}),R1e=xe({accounts:kt(Ni),data:qe(),programId:Ni}),E6e=Tc([R1e,T1e]),x6e=Tc([xe({parsed:Rx(),program:qe(),programId:qe()}),xe({accounts:kt(qe()),data:qe(),programId:qe()})]),C1e=TB(E6e,x6e,n=>"accounts"in n?dt(n,R1e):dt(n,T1e)),M1e=xe({signatures:kt(qe()),message:xe({accountKeys:kt(E1e),instructions:kt(C1e),recentBlockhash:qe(),addressTableLookups:ur(xt(kt(P1e)))})}),YD=xe({accountIndex:fe(),mint:qe(),owner:ur(qe()),programId:ur(qe()),uiTokenAmount:wV}),B1e=xe({writable:kt(Ni),readonly:kt(Ni)}),m4=xe({err:jS,fee:fe(),innerInstructions:ur(xt(kt(xe({index:fe(),instructions:kt(xe({accounts:kt(fe()),data:qe(),programIdIndex:fe()}))})))),preBalances:kt(fe()),postBalances:kt(fe()),logMessages:ur(xt(kt(qe()))),preTokenBalances:ur(xt(kt(YD))),postTokenBalances:ur(xt(kt(YD))),loadedAddresses:ur(B1e),computeUnitsConsumed:ur(fe())}),FH=xe({err:jS,fee:fe(),innerInstructions:ur(xt(kt(xe({index:fe(),instructions:kt(C1e)})))),preBalances:kt(fe()),postBalances:kt(fe()),logMessages:ur(xt(kt(qe()))),preTokenBalances:ur(xt(kt(YD))),postTokenBalances:ur(xt(kt(YD))),loadedAddresses:ur(B1e),computeUnitsConsumed:ur(fe())}),Cx=Tc([wi(0),wi("legacy")]),HS=xe({pubkey:qe(),lamports:fe(),postBalance:xt(fe()),rewardType:xt(qe()),commission:ur(xt(fe()))}),T6e=Nr(xt(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:fe(),transactions:kt(xe({transaction:NH,meta:xt(m4),version:ur(Cx)})),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),R6e=Nr(xt(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:fe(),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),C6e=Nr(xt(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:fe(),transactions:kt(xe({transaction:x1e,meta:xt(m4),version:ur(Cx)})),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),M6e=Nr(xt(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:fe(),transactions:kt(xe({transaction:M1e,meta:xt(FH),version:ur(Cx)})),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),B6e=Nr(xt(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:fe(),transactions:kt(xe({transaction:x1e,meta:xt(FH),version:ur(Cx)})),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),z6e=Nr(xt(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:fe(),rewards:ur(kt(HS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),$6e=Nr(xt(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:fe(),transactions:kt(xe({transaction:NH,meta:xt(m4)})),rewards:ur(kt(HS)),blockTime:xt(fe())}))),Vue=Nr(xt(xe({blockhash:qe(),previousBlockhash:qe(),parentSlot:fe(),signatures:kt(qe()),blockTime:xt(fe())}))),N5=Nr(xt(xe({slot:fe(),meta:xt(m4),blockTime:ur(xt(fe())),transaction:NH,version:ur(Cx)}))),e$=Nr(xt(xe({slot:fe(),transaction:M1e,meta:xt(FH),blockTime:ur(xt(fe())),version:ur(Cx)}))),D6e=co(xe({blockhash:qe(),feeCalculator:xe({lamportsPerSignature:fe()})})),O6e=co(xe({blockhash:qe(),lastValidBlockHeight:fe()})),K6e=co(Zf()),L6e=xe({slot:fe(),numTransactions:fe(),numSlots:fe(),samplePeriodSecs:fe()}),W6e=Nr(kt(L6e)),N6e=co(xt(xe({feeCalculator:xe({lamportsPerSignature:fe()})}))),F6e=Nr(qe()),U6e=Nr(qe()),V6e=xe({err:jS,logs:kt(qe()),signature:qe()}),q6e=xe({result:g4(V6e),subscription:fe()}),j6e={"solana-client":"js/1.0.0-maintenance"};class PV{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=_s(l),h=this._buildArgs([],d,void 0,y),m=Lue(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=dt(f,Nr(fe()));if("error"in g)throw new jt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=RKe(e),this._rpcWsEndpoint=r||TKe(e),this._rpcClient=qKe(e,s,i,o,a,c),this._rpcRequest=jKe(this._rpcClient),this._rpcBatchRequest=HKe(this._rpcClient),this._rpcWebSocket=new _Ke(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=dt(o,co(fe()));if("error"in a)throw new jt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=dt(t,Nr(xt(fe())));if("error"in r)throw new jt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=dt(e,Nr(fe()));if("error"in t)throw new jt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=dt(e,e6e);if("error"in t)throw new jt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=dt(r,t6e);if("error"in s)throw new jt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=dt(s,co(wV));if("error"in i)throw new jt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=dt(s,co(wV));if("error"in i)throw new jt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=_s(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=dt(c,n6e);if("error"in u)throw new jt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=dt(o,s6e);if("error"in a)throw new jt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=dt(s,i6e);if("error"in i)throw new jt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=dt(s,r6e);if("error"in i)throw new jt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=dt(o,co(xt(eM)));if("error"in a)throw new jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=dt(o,co(xt(_V)));if("error"in a)throw new jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=_s(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=dt(a,co(kt(xt(_V))));if("error"in c)throw new jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=_s(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=dt(a,co(kt(xt(eM))));if("error"in c)throw new jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=_s(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=dt(a,Nr(u6e));if("error"in c)throw new jt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=_s(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Nue(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=kt(o6e),l=o.withContext===!0?dt(c,co(u)):dt(c,Nr(u));if("error"in l)throw new jt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=dt(o,Nr(kt(c6e)));if("error"in a)throw new jt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return On(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:hg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:hg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await G0(1e3),i||(h=await y(),i))return;d({__type:hg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===hg.PROCESSED)l=d.response;else throw new $H(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:hg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await G0(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===hg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await G0(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Sv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Sv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Sv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Sv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:hg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===hg.PROCESSED)a=c.response;else throw new DH(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=dt(e,Nr(kt(v6e)));if("error"in t)throw new jt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=dt(r,A6e);if("error"in s)throw new jt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=dt(i,Nr(fe()));if("error"in o)throw new jt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=dt(i,Nr(qe()));if("error"in o)throw new jt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=dt(s,Nr(kt(Ni)));if("error"in i)throw new jt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);On(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=dt(s,_6e);if("error"in i)throw new jt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=dt(i,Nr(fe()));if("error"in o)throw new jt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=dt(r,GKe);if("error"in s)throw new jt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=_s(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=dt(a,BKe);if("error"in c)throw new jt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=dt(e,YKe);if("error"in t)throw new jt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=dt(i,JKe);if("error"in o)throw new jt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=dt(e,XKe);if("error"in t)throw new jt(t.error,"failed to get epoch schedule");const r=t.result;return new A1e(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=dt(e,QKe);if("error"in t)throw new jt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=dt(s,P6e);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=dt(r,D6e);if("error"in s)throw new jt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=dt(t,W6e);if("error"in r)throw new jt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=dt(s,N6e);if("error"in i)throw new jt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Zr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=dt(i,co(xt(fe())));if("error"in o)throw new jt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=dt(s,ZKe);if("error"in i)throw new jt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=dt(i,O6e);if("error"in o)throw new jt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=dt(o,K6e);if("error"in a)throw new jt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=dt(e,Nr(NKe));if("error"in t)throw new jt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=dt(e,Nr(qe()));if("error"in t)throw new jt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=dt(o,C6e);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(o,R6e);if("error"in a)throw a.error;return a.result}default:{const a=dt(o,T6e);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:W5(d,u.message)},version:d}))}:null}}}catch(a){throw new jt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=dt(o,B6e);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(o,z6e);if("error"in a)throw a.error;return a.result}default:{const a=dt(o,M6e);if("error"in a)throw a.error;return a.result}}}catch(a){throw new jt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=dt(i,VKe);if("error"in o)throw new jt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=dt(o,N5);if("error"in a)throw new jt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:W5(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=dt(o,e$);if("error"in a)throw new jt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=_s(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=dt(c,e$);if("error"in u)throw new jt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=_s(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=dt(c,N5);if("error"in u)throw new jt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:W5(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=dt(s,$6e);if("error"in i)throw new jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new dd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Dn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=dt(i,Nr(kt(fe())));if("error"in o)throw new jt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=dt(s,Vue);if("error"in i)throw new jt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=dt(s,Vue);if("error"in i)throw new jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=dt(s,N5);if("error"in i)throw new jt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new dd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Dn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=dt(s,e$);if("error"in i)throw new jt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=dt(o,e$);if("error"in a)throw new jt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=dt(i,l6e);if("error"in o)throw new jt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=dt(i,d6e);if("error"in o)throw new jt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new AV({key:e,state:AV.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=h4.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=dt(r,F6e);if("error"in s)throw new jt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await G0(100);const r=Date.now()-this._blockhashInfo.lastFetch>=I1e;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await G0(S1e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=dt(i,co(fe()));if("error"in o)throw new jt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=dt(p,Fue);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Dn){let m=e;s=new Dn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Dn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=dt(y,Fue);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new Wp({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Zr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=dt(a,U6e);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Wp({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=dt(e,f6e);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Lue([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];On(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=_s(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=dt(e,g6e);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=_s(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Nue(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=dt(e,q6e);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=dt(e,y6e);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=dt(e,b6e);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=dt(e,S6e);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=dt(e,k6e);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Kv{constructor(e){this._keypair=void 0,this._keypair=e??$ue()}static generate(){return new Kv($ue())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=GD(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Kv({publicKey:r,secretKey:e})}static fromSeed(e){const t=GD(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Kv({publicKey:t,secretKey:r})}get publicKey(){return new Ee(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const _g=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),pA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),pA(),we(mn(),Vt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class H6e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(_g))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Qn(_g.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Qn(_g.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Ee(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(UH.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class UH{constructor(){}static createLookupTable(e){const[t,r]=Ee.findProgramAddressSync([e.authority.toBuffer(),rc(BigInt(e.recentSlot),8)],this.programId),s=_g.CreateLookupTable,i=En(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:zo.programId,isSigner:!1,isWritable:!1}];return[new us({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=_g.FreezeLookupTable,r=En(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new us({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=_g.ExtendLookupTable,r=En(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:zo.programId,isSigner:!1,isWritable:!1}),new us({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=_g.DeactivateLookupTable,r=En(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new us({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=_g.CloseLookupTable,r=En(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new us({programId:this.programId,keys:s,data:r})}}UH.programId=new Ee("AddressLookupTab1e1111111111111111111111111");class G6e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(lf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Qn(lf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Qn(lf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Qn(lf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Qn(lf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(VH.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const lf=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),pA("microLamports")])}});class VH{constructor(){}static requestUnits(e){const t=lf.RequestUnits,r=En(t,e);return new us({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=lf.RequestHeapFrame,r=En(t,e);return new us({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=lf.SetComputeUnitLimit,r=En(t,e);return new us({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=lf.SetComputeUnitPrice,r=En(t,{microLamports:BigInt(e.microLamports)});return new us({keys:[],programId:this.programId,data:r})}}VH.programId=new Ee("ComputeBudget111111111111111111111111111111");const que=64,jue=32,Hue=64,Gue=N([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class y4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;On(t.length===jue,`Public Key must be ${jue} bytes but received ${t.length} bytes`),On(s.length===Hue,`Signature must be ${Hue} bytes but received ${s.length} bytes`);const o=Gue.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Gue.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new us({keys:[],programId:y4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;On(t.length===que,`Private key must be ${que} bytes but received ${t.length} bytes`);try{const i=Kv.fromSecretKey(t),o=i.publicKey.toBytes(),a=BH(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}y4.programId=new Ee("Ed25519SigVerify111111111111111111111111111");const Y6e=(n,e)=>{const t=l4.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};l4.utils.isValidPrivateKey;const Z6e=l4.getPublicKey,Yue=32,F5=20,Zue=64,J6e=11,U5=N([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Lv{constructor(){}static publicKeyToEthAddress(e){On(e.length===Zue,`Public key must be ${Zue} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Rue(Zr(e))).slice(-F5)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Lv.createInstructionWithEthAddress({ethAddress:Lv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,On(a.length===F5,`Address must be ${F5} bytes but received ${a.length} bytes`);const c=1+J6e,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(U5.span+r.length);return U5.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Zr(s),ethAddress:Zr(a),recoveryId:i},h),h.fill(Zr(r),U5.span),new us({keys:[],programId:Lv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;On(t.length===Yue,`Private key must be ${Yue} bytes but received ${t.length} bytes`);try{const i=Zr(t),o=Z6e(i,!1).slice(1),a=V.Buffer.from(Rue(Zr(r))),[c,u]=Y6e(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Lv.programId=new Ee("KeccakSecp256k11111111111111111111111111111");var z1e;const $1e=new Ee("StakeConfig11111111111111111111111111111111");class D1e{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class RB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}z1e=RB;RB.default=new z1e(0,0,Ee.default);class X6e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(pa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Qn(pa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new D1e(new Ee(t.staker),new Ee(t.withdrawer)),lockup:new RB(r.unixTimestamp,r.epoch,new Ee(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Qn(pa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Qn(pa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ee(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=Qn(pa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new Ee(i),newAuthorizedPubkey:new Ee(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qn(pa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qn(pa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qn(pa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qn(pa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(p4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const pa=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),eKe(),tKe()])},Authorize:{index:1,layout:N([F("instruction"),mn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Pe("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Pe("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),mn("newAuthorized"),F("stakeAuthorizationType"),p1("authoritySeed"),mn("authorityOwner")])}}),Q6e=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class p4{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||RB.default,o=pa.Initialize,a=En(o,{authorized:{staker:Zr(r.staker.toBuffer()),withdrawer:Zr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Zr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:J1,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new us(c)}static createAccountWithSeed(e){const t=new Dn;t.add(zo.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Dn;t.add(zo.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=pa.Delegate,o=En(i);return new Dn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Zd,isSigner:!1,isWritable:!1},{pubkey:lD,isSigner:!1,isWritable:!1},{pubkey:$1e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=pa.Authorize,c=En(a,{newAuthorized:Zr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Zd,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Dn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=pa.AuthorizeWithSeed,l=En(u,{newAuthorized:Zr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Zr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Zd,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Dn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=pa.Split,a=En(o,{lamports:i});return new us({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Dn;return r.add(zo.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Dn;return u.add(zo.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(zo.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=pa.Merge,o=En(i);return new Dn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Zd,isSigner:!1,isWritable:!1},{pubkey:lD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=pa.Withdraw,c=En(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Zd,isSigner:!1,isWritable:!1},{pubkey:lD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Dn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=pa.Deactivate,i=En(s);return new Dn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Zd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}p4.programId=new Ee("Stake11111111111111111111111111111111111111");p4.space=200;class O1e{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class eLe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(df))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Qn(df.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new O1e(new Ee(t.nodePubkey),new Ee(t.authorizedVoter),new Ee(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Qn(df.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ee(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=Qn(df.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ee(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Ee(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qn(df.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Mx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const df=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),rKe()])},Authorize:{index:1,layout:N([F("instruction"),mn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Pe("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),nKe()])}}),tLe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Mx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=df.InitializeAccount,o=En(i,{voteInit:{nodePubkey:Zr(s.nodePubkey.toBuffer()),authorizedVoter:Zr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Zr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:J1,isSigner:!1,isWritable:!1},{pubkey:Zd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new us(a)}static createAccount(e){const t=new Dn;return t.add(zo.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=df.Authorize,a=En(o,{newAuthorized:Zr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Zd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=df.AuthorizeWithSeed,u=En(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Zr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Zr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Zd,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Dn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=df.Withdraw,a=En(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Mx.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=df.UpdateValidatorIdentity,o=En(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:a,programId:this.programId,data:o})}}Mx.programId=new Ee("Vote111111111111111111111111111111111111111");Mx.space=3762;const K1e=new Ee("Va1idator1nfo111111111111111111111111111111"),rLe=xe({name:qe(),website:ur(qe()),details:ur(qe()),iconUrl:ur(qe()),keybaseUsername:ur(qe())});class qH{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Qc(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new Ee(eu(t,0,Kf)),a=uf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(K1e)&&s[1].isSigner){const i=p1().decode(V.Buffer.from(t)),o=JSON.parse(i);return o1e(o,rLe),new qH(s[1].publicKey,o)}return null}}const nLe=new Ee("Vote111111111111111111111111111111111111111"),sLe=N([mn("nodePubkey"),mn("authorizedWithdrawer"),te("commission"),Ae(),we(N([Ae("slot"),F("confirmationCount")]),Vt(F(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(N([Ae("epoch"),mn("authorizedVoter")]),Vt(F(),-8),"authorizedVoters"),N([we(N([mn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(N([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(F(),-8),"epochCredits"),N([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class jH{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=sLe.decode(Zr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new jH({nodePubkey:new Ee(r.nodePubkey),authorizedWithdrawer:new Ee(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(iLe),priorVoters:oLe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function iLe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Ee(n)}}function Jue({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Ee(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function oLe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Jue),...n.slice(0,e).map(Jue)]}const Xue={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function aLe(n,e){const t=e===!1?"http":"https";if(!n)return Xue[t].devnet;const r=Xue[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function cLe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Wp({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const uLe=1e9;var lLe=Object.freeze(Object.defineProperty({__proto__:null,Account:J4e,AddressLookupTableAccount:AV,AddressLookupTableInstruction:H6e,AddressLookupTableProgram:UH,Authorized:D1e,BLOCKHASH_CACHE_TIMEOUT_MS:I1e,BPF_LOADER_DEPRECATED_PROGRAM_ID:X4e,BPF_LOADER_PROGRAM_ID:bKe,BpfLoader:SKe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:lf,ComputeBudgetInstruction:G6e,ComputeBudgetProgram:VH,Connection:PV,Ed25519Program:y4,Enum:Y4e,EpochSchedule:A1e,FeeCalculatorLayout:k1e,Keypair:Kv,LAMPORTS_PER_SOL:uLe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:_g,Loader:X1,Lockup:RB,MAX_SEED_LENGTH:y1e,Message:dd,MessageAccountKeys:X2,MessageV0:Z1,NONCE_ACCOUNT_LENGTH:Q2,NonceAccount:h4,PACKET_DATA_SIZE:Ky,PUBLIC_KEY_LENGTH:Kf,PublicKey:Ee,SIGNATURE_LENGTH_IN_BYTES:J2,SOLANA_SCHEMA:T2,STAKE_CONFIG_ID:$1e,STAKE_INSTRUCTION_LAYOUTS:pa,SYSTEM_INSTRUCTION_LAYOUTS:Bs,SYSVAR_CLOCK_PUBKEY:Zd,SYSVAR_EPOCH_SCHEDULE_PUBKEY:cKe,SYSVAR_INSTRUCTIONS_PUBKEY:uKe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:uD,SYSVAR_RENT_PUBKEY:J1,SYSVAR_REWARDS_PUBKEY:lKe,SYSVAR_SLOT_HASHES_PUBKEY:dKe,SYSVAR_SLOT_HISTORY_PUBKEY:fKe,SYSVAR_STAKE_HISTORY_PUBKEY:lD,Secp256k1Program:Lv,SendTransactionError:Wp,SolanaJSONRPCError:jt,SolanaJSONRPCErrorCode:hKe,StakeAuthorizationLayout:Q6e,StakeInstruction:X6e,StakeProgram:p4,Struct:zH,SystemInstruction:yKe,SystemProgram:zo,Transaction:Dn,TransactionExpiredBlockheightExceededError:$H,TransactionExpiredNonceInvalidError:Sv,TransactionExpiredTimeoutError:DH,TransactionInstruction:us,TransactionMessage:KH,TransactionStatus:hg,VALIDATOR_INFO_KEY:K1e,VERSION_PREFIX_MASK:d4,VOTE_PROGRAM_ID:nLe,ValidatorInfo:qH,VersionedMessage:OH,VersionedTransaction:LH,VoteAccount:jH,VoteAuthorizationLayout:tLe,VoteInit:O1e,VoteInstruction:eLe,VoteProgram:Mx,clusterApiUrl:aLe,sendAndConfirmRawTransaction:cLe,sendAndConfirmTransaction:vV},Symbol.toStringTag,{value:"Module"})),V5;const tM={}.ANCHOR_BROWSER||typeof window<"u"&&!(!((V5=window.process)===null||V5===void 0)&&V5.hasOwnProperty("type"));function dLe(n,e){return Array.apply(0,new Array(Math.ceil(n.length/e))).map((t,r)=>n.slice(r*e,(r+1)*e))}const gR=n=>"version"in n;function fLe(n){return n.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"0x")}function hLe(n){n.indexOf("0x")===0&&(n=n.substr(2)),n.length%2===1&&(n="0"+n);let e=n.match(/.{2}/g);return e===null?V.Buffer.from([]):V.Buffer.from(e.map(t=>parseInt(t,16)))}var gLe=Object.freeze(Object.defineProperty({__proto__:null,encode:fLe,decode:hLe},Symbol.toStringTag,{value:"Module"}));function L1e(n){return(tM?new TextDecoder("utf-8"):new(require("util")).TextDecoder("utf-8")).decode(n)}function W1e(n){return(tM?new TextEncoder:new(require("util")).TextEncoder("utf-8")).encode(n)}var mLe=Object.freeze(Object.defineProperty({__proto__:null,decode:L1e,encode:W1e},Symbol.toStringTag,{value:"Module"}));function EV(n){return Ie.encode(n)}function yLe(n){return Ie.decode(n)}var pLe=Object.freeze(Object.defineProperty({__proto__:null,encode:EV,decode:yLe},Symbol.toStringTag,{value:"Module"}));function bLe(n){return gV(n)}function N1e(n){return V.Buffer.from(M0e(n))}var SLe=Object.freeze(Object.defineProperty({__proto__:null,encode:bLe,decode:N1e},Symbol.toStringTag,{value:"Module"})),kLe=Object.freeze(Object.defineProperty({__proto__:null,hex:gLe,utf8:mLe,bs58:pLe,base64:SLe},Symbol.toStringTag,{value:"Module"}));function HH(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let s=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,s)}),e}function F1e(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(s=>{t[s.name]=e[r],r+=1}),t}function b4(n,e={}){n.forEach(t=>{if("accounts"in t)b4(t.accounts,e[t.name]);else if(e[t.name]===void 0)throw new Error(`Invalid arguments: ${t.name} not provided.`)})}function ad(n){return n instanceof Ee?n:new Ee(n)}async function vLe(n,e,t,r){n=ad(n),r||(r=bA());const s=new Dn;if(s.add(new us({programId:n,keys:e??[],data:t})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(s,[])}const Que=99;async function U1e(n,e,t){if(e.length<=Que)return await ele(n,e,t);{const r=dLe(e,Que);return(await Promise.all(r.map(i=>ele(n,i,t)))).flat()}}async function ele(n,e,t){const r=t??n.commitment;return(await n.getMultipleAccountsInfo(e,r)).map((i,o)=>i===null?null:{publicKey:e[o],account:i})}async function V1e(n,e,t,r,s){t&&t.length>0&&e.sign(...t);const i=e._compile(),o=i.serialize(),c=e._serialize(o).toString("base64"),u={encoding:"base64",commitment:r??n.commitment};if(s){const h=(Array.isArray(s)?s:i.nonProgramIds()).map(m=>m.toBase58());u.accounts={encoding:"base64",addresses:h}}t&&(u.sigVerify=!0);const l=[c,u],d=await n._rpcRequest("simulateTransaction",l),y=$0e(d,_Le);if("error"in y){let h;if("data"in y.error&&(h=y.error.data.logs,h&&Array.isArray(h))){const m=`
    `,f=m+h.join(m);console.error(y.error.message,f)}throw new Wp("failed to simulate transaction: "+y.error.message,h)}return y.result}function ALe(n){return ODe(q1e(n),wLe,e=>"error"in e?e:{...e,result:$0e(e.result,n)})}const wLe=q1e(B0e());function q1e(n){return z0e([Oy({jsonrpc:fue("2.0"),id:m1(),result:n}),Oy({jsonrpc:fue("2.0"),id:m1(),error:Oy({code:B0e(),message:m1(),data:oD($De())})})])}function ILe(n){return ALe(Oy({context:Oy({slot:aD()}),value:n}))}const _Le=ILe(Oy({err:Jz(z0e([Oy({}),m1()])),logs:Jz(R5(m1())),accounts:oD(Jz(R5(Jz(Oy({executable:DDe(),owner:m1(),lamports:aD(),data:R5(m1()),rentEpoch:oD(aD())}))))),unitsConsumed:oD(aD())}));var PLe=Object.freeze(Object.defineProperty({__proto__:null,invoke:vLe,getMultipleAccounts:U1e,simulateTransaction:V1e},Symbol.toStringTag,{value:"Module"}));class b1{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){if(tM)throw new Error("Provider local is not available on browser.");t=t??b1.defaultOptions();const r=new PV(e??"http://localhost:8899",t.preflightCommitment),i=require("./nodewallet.js").default.local();return new b1(r,i,t)}static env(){if(tM)throw new Error("Provider env is not available on browser.");require("process");const e={}.ANCHOR_PROVIDER_URL;if(e===void 0)throw new Error("ANCHOR_PROVIDER_URL is not defined");const t=b1.defaultOptions(),r=new PV(e,t.commitment),i=require("./nodewallet.js").default.local();return new b1(r,i,t)}async sendAndConfirm(e,t,r){var s,i,o,a;if(r===void 0&&(r=this.opts),gR(e))t&&e.sign(t);else if(e.feePayer=(s=e.feePayer)!==null&&s!==void 0?s:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const u of t)e.partialSign(u);e=await this.wallet.signTransaction(e);const c=e.serialize();try{return await tle(this.connection,c,r)}catch(u){if(u instanceof xV){const l=EV(gR(e)?((i=e.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(o=e.signature)!==null&&o!==void 0?o:new Uint8Array),d=await this.connection.getTransaction(l,{commitment:"confirmed"});if(d){const y=(a=d.meta)===null||a===void 0?void 0:a.logMessages;throw y?new Wp(u.message,y):u}else throw u}else throw u}}async sendAll(e,t){var r,s,i;t===void 0&&(t=this.opts);const o=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let a=e.map(l=>{var d,y;if(gR(l.tx)){let h=l.tx;return l.signers&&h.sign(l.signers),h}else{let h=l.tx,m=(d=l.signers)!==null&&d!==void 0?d:[];return h.feePayer=(y=h.feePayer)!==null&&y!==void 0?y:this.wallet.publicKey,h.recentBlockhash=o,m.forEach(f=>{h.partialSign(f)}),h}});const c=await this.wallet.signAllTransactions(a),u=[];for(let l=0;l<a.length;l+=1){const d=c[l],y=d.serialize();try{u.push(await tle(this.connection,y,t))}catch(h){if(h instanceof xV){const m=EV(gR(d)?((r=d.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(s=d.signature)!==null&&s!==void 0?s:new Uint8Array),f=await this.connection.getTransaction(m,{commitment:"confirmed"});if(f){const g=(i=f.meta)===null||i===void 0?void 0:i.logMessages;throw g?new Wp(h.message,g):h}else throw h}else throw h}}return u}async simulate(e,t,r,s){let i=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,o;if(gR(e)?(t&&(e.sign(t),e=await this.wallet.signTransaction(e)),o=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=i,t&&(e=await this.wallet.signTransaction(e)),o=await V1e(this.connection,e,t,r,s)),o.value.err)throw new ELe(o.value);return o.value}}class ELe extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function tle(n,e,t){const r=t&&{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment},s=await n.sendRawTransaction(e,r),i=(await n.confirmTransaction(s,t&&t.commitment)).value;if(i.err)throw new xV(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}class xV extends Error{constructor(e){super(e)}}function xLe(n){TV=n}function bA(){return TV===null?b1.local():TV}let TV=null;const TLe=new Set(["anchor-deprecated-state","debug-logs"]),j1e=new Map;function RLe(n){if(!TLe.has(n))throw new Error("Invalid feature");j1e.set(n,!0)}function S4(n){return j1e.get(n)!==void 0}var CLe=Object.freeze(Object.defineProperty({__proto__:null,set:RLe,isSet:S4},Symbol.toStringTag,{value:"Module"}));class rM extends Error{constructor(e){super(e),this.name="IdlError"}}class Bx{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,s=/^Program \w* success/,i=[];for(let o=0;o<e.length;o++){if(s.exec(e[o])){i.pop();continue}const a=(t=r.exec(e[o]))===null||t===void 0?void 0:t[1];!a||i.push(new Ee(a))}return new Bx(i)}}class Wv extends Error{constructor(e,t,r,s,i,o){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=s,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=Bx.parse(s)}static parse(e){if(!e)return null;const t=e.findIndex(y=>y.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],s=[r];let i;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const y=/^Program log: (.*)$/,h=y.exec(e[t+2])[1],m=y.exec(e[t+4])[1];i=[new Ee(h),new Ee(m)],s.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const y=/^Program log: (Left|Right): (.*)$/,h=y.exec(e[t+1])[2],m=y.exec(e[t+2])[2];s.push(...e.slice(t+1,t+3)),i=[h,m]}}const a=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),u=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),d=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(a){const[y,h,m]=a.slice(1,4),f={code:y,number:parseInt(h)};return new Wv(f,m,s,e,void 0,i)}else if(u){const[y,h,m,f,g]=u.slice(1,6),b={code:m,number:parseInt(f)},S={file:y,line:parseInt(h)};return new Wv(b,g,s,e,S,i)}else if(d){const[y,h,m,f]=d.slice(1,5),g=y,b={code:h,number:parseInt(m)};return new Wv(b,f,s,e,g,i)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class nM extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=Bx.parse(r))}static parse(e,t){const r=e.toString();let s;if(r.includes("custom program error:")){let a=r.split("custom program error: ");if(a.length!==2)return null;s=a[1]}else{const a=r.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;s=a[0].match(/([0-9]+)/g)[0]}let i;try{i=parseInt(s)}catch{return null}let o=t.get(i);return o!==void 0?new nM(i,o,e.logs):(o=H1e.get(i),o!==void 0?new nM(i,o,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function GH(n,e){S4("debug-logs")&&console.log("Translating error:",n);const t=Wv.parse(n.logs);if(t)return t;const r=nM.parse(n,e);if(r)return r;if(n.logs){const s={get:function(i,o){return o==="programErrorStack"?i.programErrorStack.stack:o==="program"?i.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=Bx.parse(n.logs),new Proxy(n,s)}return n}const rr={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},H1e=new Map([[rr.InstructionMissing,"8 byte instruction identifier not provided"],[rr.InstructionFallbackNotFound,"Fallback functions are not supported"],[rr.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[rr.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[rr.IdlInstructionStub,"The program was compiled without idl instructions"],[rr.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[rr.ConstraintMut,"A mut constraint was violated"],[rr.ConstraintHasOne,"A has_one constraint was violated"],[rr.ConstraintSigner,"A signer constraint was violated"],[rr.ConstraintRaw,"A raw constraint was violated"],[rr.ConstraintOwner,"An owner constraint was violated"],[rr.ConstraintRentExempt,"A rent exemption constraint was violated"],[rr.ConstraintSeeds,"A seeds constraint was violated"],[rr.ConstraintExecutable,"An executable constraint was violated"],[rr.ConstraintState,"A state constraint was violated"],[rr.ConstraintAssociated,"An associated constraint was violated"],[rr.ConstraintAssociatedInit,"An associated init constraint was violated"],[rr.ConstraintClose,"A close constraint was violated"],[rr.ConstraintAddress,"An address constraint was violated"],[rr.ConstraintZero,"Expected zero account discriminant"],[rr.ConstraintTokenMint,"A token mint constraint was violated"],[rr.ConstraintTokenOwner,"A token owner constraint was violated"],[rr.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[rr.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[rr.ConstraintMintDecimals,"A mint decimals constraint was violated"],[rr.ConstraintSpace,"A space constraint was violated"],[rr.RequireViolated,"A require expression was violated"],[rr.RequireEqViolated,"A require_eq expression was violated"],[rr.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[rr.RequireNeqViolated,"A require_neq expression was violated"],[rr.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[rr.RequireGtViolated,"A require_gt expression was violated"],[rr.RequireGteViolated,"A require_gte expression was violated"],[rr.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[rr.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[rr.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[rr.AccountDidNotDeserialize,"Failed to deserialize the account"],[rr.AccountDidNotSerialize,"Failed to serialize the account"],[rr.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[rr.AccountNotMutable,"The given account is not mutable"],[rr.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[rr.InvalidProgramId,"Program ID was not as expected"],[rr.InvalidProgramExecutable,"Program account is not executable"],[rr.AccountNotSigner,"The given account did not sign"],[rr.AccountNotSystemOwned,"The given account is not owned by the system program"],[rr.AccountNotInitialized,"The program expected this account to be already initialized"],[rr.AccountNotProgramData,"The given account is not a program data account"],[rr.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[rr.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[rr.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[rr.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[rr.StateInvalidAddress,"The given state account does not have the correct address"],[rr.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[rr.Deprecated,"The API being used is deprecated and should no longer be used"]]);var RV=function(){return RV=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},RV.apply(this,arguments)};var CV=function(){return CV=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},CV.apply(this,arguments)};function MLe(n){return n.toLowerCase()}var BLe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],zLe=/[^A-Z0-9]+/gi;function $Le(n,e){e===void 0&&(e={});for(var t=e.splitRegexp,r=t===void 0?BLe:t,s=e.stripRegexp,i=s===void 0?zLe:s,o=e.transform,a=o===void 0?MLe:o,c=e.delimiter,u=c===void 0?" ":c,l=rle(rle(n,r,"$1\0$2"),i,"\0"),d=0,y=l.length;l.charAt(d)==="\0";)d++;for(;l.charAt(y-1)==="\0";)y--;return l.slice(d,y).split("\0").map(a).join(u)}function rle(n,e,t){return e instanceof RegExp?n.replace(e,t):e.reduce(function(r,s){return r.replace(s,t)},n)}function DLe(n,e){return e===void 0&&(e={}),$Le(n,CV({delimiter:"."},e))}function OLe(n,e){return e===void 0&&(e={}),DLe(n,RV({delimiter:"_"},e))}var xr={};function ZD(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function YH(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function KLe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ZD(n.outputLen),ZD(n.blockLen)}function SA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function G1e(n,e){YH(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const q5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y1e=n=>n instanceof Uint8Array,LLe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),j5=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Bd=(n,e)=>n<<32-e|n>>>e,WLe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!WLe)throw new Error("Non little-endian hardware is not supported");function Z1e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function k4(n){if(typeof n=="string"&&(n=Z1e(n)),!Y1e(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function J1e(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!Y1e(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class ZH{clone(){return this._cloneInto()}}function JH(n){const e=r=>n().update(k4(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function X1e(n=32){if(q5&&typeof q5.getRandomValues=="function")return q5.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function NLe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}class Q1e extends ZH{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=j5(this.buffer)}update(e){SA(this);const{view:t,buffer:r,blockLen:s}=this;e=k4(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=j5(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){SA(this),G1e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;NLe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=j5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const t$=BigInt(2**32-1),MV=BigInt(32);function eSe(n,e=!1){return e?{h:Number(n&t$),l:Number(n>>MV&t$)}:{h:Number(n>>MV&t$)|0,l:Number(n&t$)|0}}function tSe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=eSe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const FLe=(n,e)=>BigInt(n>>>0)<<MV|BigInt(e>>>0),ULe=(n,e,t)=>n>>>t,VLe=(n,e,t)=>n<<32-t|e>>>t,qLe=(n,e,t)=>n>>>t|e<<32-t,jLe=(n,e,t)=>n<<32-t|e>>>t,HLe=(n,e,t)=>n<<64-t|e>>>t-32,GLe=(n,e,t)=>n>>>t-32|e<<64-t,YLe=(n,e)=>e,ZLe=(n,e)=>n,rSe=(n,e,t)=>n<<t|e>>>32-t,nSe=(n,e,t)=>e<<t|n>>>32-t,sSe=(n,e,t)=>e<<t-32|n>>>64-t,iSe=(n,e,t)=>n<<t-32|e>>>64-t;function JLe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const XLe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),QLe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,e5e=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),t5e=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,r5e=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),n5e=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,s5e={fromBig:eSe,split:tSe,toBig:FLe,shrSH:ULe,shrSL:VLe,rotrSH:qLe,rotrSL:jLe,rotrBH:HLe,rotrBL:GLe,rotr32H:YLe,rotr32L:ZLe,rotlSH:rSe,rotlSL:nSe,rotlBH:sSe,rotlBL:iSe,add:JLe,add3L:XLe,add3H:QLe,add4L:e5e,add4H:t5e,add5H:n5e,add5L:r5e};var Cr=s5e;const[i5e,o5e]=(()=>Cr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),vm=new Uint32Array(80),Am=new Uint32Array(80);class a5e extends Q1e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)vm[p]=e.getUint32(t),Am[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=vm[p-15]|0,A=Am[p-15]|0,w=Cr.rotrSH(I,A,1)^Cr.rotrSH(I,A,8)^Cr.shrSH(I,A,7),_=Cr.rotrSL(I,A,1)^Cr.rotrSL(I,A,8)^Cr.shrSL(I,A,7),P=vm[p-2]|0,M=Am[p-2]|0,E=Cr.rotrSH(P,M,19)^Cr.rotrBH(P,M,61)^Cr.shrSH(P,M,6),T=Cr.rotrSL(P,M,19)^Cr.rotrBL(P,M,61)^Cr.shrSL(P,M,6),z=Cr.add4L(_,T,Am[p-7],Am[p-16]),O=Cr.add4H(z,w,E,vm[p-7],vm[p-16]);vm[p]=O|0,Am[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Cr.rotrSH(d,y,14)^Cr.rotrSH(d,y,18)^Cr.rotrBH(d,y,41),A=Cr.rotrSL(d,y,14)^Cr.rotrSL(d,y,18)^Cr.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=Cr.add5L(S,A,_,o5e[p],Am[p]),M=Cr.add5H(P,b,I,w,i5e[p],vm[p]),E=P|0,T=Cr.rotrSH(r,s,28)^Cr.rotrBH(r,s,34)^Cr.rotrBH(r,s,39),z=Cr.rotrSL(r,s,28)^Cr.rotrBL(r,s,34)^Cr.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Cr.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Cr.add3L(E,z,R);r=Cr.add3H(v,M,T,O),s=v|0}({h:r,l:s}=Cr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Cr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Cr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Cr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Cr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Cr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Cr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Cr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){vm.fill(0),Am.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const oSe=JH(()=>new a5e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aSe=BigInt(0),v4=BigInt(1),c5e=BigInt(2),A4=n=>n instanceof Uint8Array,u5e=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Q1(n){if(!A4(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=u5e[n[t]];return e}function cSe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function XH(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function kA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const s=r*2,i=n.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function O1(n){return XH(Q1(n))}function Nv(n){if(!A4(n))throw new Error("Uint8Array expected");return XH(Q1(Uint8Array.from(n).reverse()))}function vA(n,e){return kA(n.toString(16).padStart(e*2,"0"))}function sM(n,e){return vA(n,e).reverse()}function l5e(n){return kA(cSe(n))}function Xo(n,e,t){let r;if(typeof e=="string")try{r=kA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(A4(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function eS(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!A4(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function d5e(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function f5e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function h5e(n){let e;for(e=0;n>aSe;n>>=v4,e+=1);return e}function g5e(n,e){return n>>BigInt(e)&v4}const m5e=(n,e,t)=>n|(t?v4:aSe)<<BigInt(e),QH=n=>(c5e<<BigInt(n-1))-v4,H5=n=>new Uint8Array(n),nle=n=>Uint8Array.from(n);function uSe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=H5(n),s=H5(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=H5())=>{s=a(nle([0]),d),r=a(),d.length!==0&&(s=a(nle([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return eS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const y5e={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function zx(n,e,t={}){const r=(s,i,o)=>{const a=y5e[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}var p5e=Object.freeze(Object.defineProperty({__proto__:null,bytesToHex:Q1,numberToHexUnpadded:cSe,hexToNumber:XH,hexToBytes:kA,bytesToNumberBE:O1,bytesToNumberLE:Nv,numberToBytesBE:vA,numberToBytesLE:sM,numberToVarBytesBE:l5e,ensureBytes:Xo,concatBytes:eS,equalBytes:d5e,utf8ToBytes:f5e,bitLen:h5e,bitGet:g5e,bitSet:m5e,bitMask:QH,createHmacDrbg:uSe,validateObject:zx},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ja=BigInt(0),Bi=BigInt(1),Y0=BigInt(2),b5e=BigInt(3),BV=BigInt(4),sle=BigInt(5),ile=BigInt(8);BigInt(9);BigInt(16);function fi(n,e){const t=n%e;return t>=ja?t:e+t}function S5e(n,e,t){if(t<=ja||e<ja)throw new Error("Expected power/modulo > 0");if(t===Bi)return ja;let r=Bi;for(;e>ja;)e&Bi&&(r=r*n%t),n=n*n%t,e>>=Bi;return r}function Xi(n,e,t){let r=n;for(;e-- >ja;)r*=r,r%=t;return r}function zV(n,e){if(n===ja||e<=ja)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=fi(n,e),r=e,s=ja,i=Bi;for(;t!==ja;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Bi)throw new Error("invert: does not exist");return fi(s,e)}function k5e(n){const e=(n-Bi)/Y0;let t,r,s;for(t=n-Bi,r=0;t%Y0===ja;t/=Y0,r++);for(s=Y0;s<n&&S5e(s,e,n)!==n-Bi;s++);if(r===1){const o=(n+Bi)/BV;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Bi)/Y0;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Bi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function v5e(n){if(n%BV===b5e){const e=(n+Bi)/BV;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%ile===sle){const e=(n-sle)/ile;return function(r,s){const i=r.mul(s,Y0),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Y0),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return k5e(n)}const A5e=(n,e)=>(fi(n,e)&Bi)===Bi,w5e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function I5e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=w5e.reduce((r,s)=>(r[s]="function",r),e);return zx(n,t)}function _5e(n,e,t){if(t<ja)throw new Error("Expected power > 0");if(t===ja)return n.ONE;if(t===Bi)return e;let r=n.ONE,s=e;for(;t>ja;)t&Bi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Bi;return r}function P5e(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function lSe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function dSe(n,e,t=!1,r={}){if(n<=ja)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=lSe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=v5e(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:QH(s),ZERO:ja,ONE:Bi,create:c=>fi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ja<=c&&c<n},is0:c=>c===ja,isOdd:c=>(c&Bi)===Bi,neg:c=>fi(-c,n),eql:(c,u)=>c===u,sqr:c=>fi(c*c,n),add:(c,u)=>fi(c+u,n),sub:(c,u)=>fi(c-u,n),mul:(c,u)=>fi(c*u,n),pow:(c,u)=>_5e(a,c,u),div:(c,u)=>fi(c*zV(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>zV(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>P5e(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?sM(c,i):vA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Nv(c):O1(c)}});return Object.freeze(a)}function E5e(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function fSe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function hSe(n){const e=fSe(n);return e+Math.ceil(e/2)}function x5e(n,e,t=!1){const r=n.length,s=fSe(e),i=hSe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?O1(n):Nv(n),a=fi(o,e-Bi)+Bi;return t?sM(a,s):vA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const T5e=BigInt(0),G5=BigInt(1);function gSe(n,e){const t=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=n.ZERO,a=s;for(;i>T5e;)i&G5&&(o=o.add(a)),a=a.double(),i>>=G5;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let u=s,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let y=1;y<a;y++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let u=n.ZERO,l=n.BASE;const d=BigInt(2**s-1),y=2**s,h=BigInt(s);for(let m=0;m<a;m++){const f=m*c;let g=Number(o&d);o>>=h,g>c&&(g-=y,o+=G5);const b=f,S=f+Math.abs(g)-1,p=m%2!==0,I=g<0;g===0?l=l.add(t(p,i[b])):u=u.add(t(I,i[S]))}return{p:u,f:l}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&i.set(s,a(u))),this.wNAF(c,u,o)}}}function eG(n){return I5e(n.Fp),zx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lSe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ml=BigInt(0),_u=BigInt(1),r$=BigInt(2),R5e=BigInt(8),C5e={zip215:!0};function M5e(n){const e=eG(n);return zx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function tG(n){const e=M5e(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=r$<<BigInt(a*8)-_u,l=t.create,d=e.uvRatio||((C,B)=>{try{return{isValid:!0,value:t.sqrt(C*t.inv(B))}}catch{return{isValid:!1,value:Ml}}}),y=e.adjustScalarBytes||(C=>C),h=e.domain||((C,B,D)=>{if(B.length||D)throw new Error("Contexts/pre-hash are not supported");return C}),m=C=>typeof C=="bigint"&&Ml<C,f=(C,B)=>m(C)&&m(B)&&C<B,g=C=>C===Ml||f(C,u);function b(C,B){if(f(C,B))return C;throw new Error(`Expected valid scalar < ${B}, got ${typeof C} ${C}`)}function S(C){return C===Ml?C:b(C,r)}const p=new Map;function I(C){if(!(C instanceof A))throw new Error("ExtendedPoint expected")}class A{constructor(B,D,$,W){if(this.ex=B,this.ey=D,this.ez=$,this.et=W,!g(B))throw new Error("x required");if(!g(D))throw new Error("y required");if(!g($))throw new Error("z required");if(!g(W))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(B){if(B instanceof A)throw new Error("extended point not allowed");const{x:D,y:$}=B||{};if(!g(D)||!g($))throw new Error("invalid affine point");return new A(D,$,_u,l(D*$))}static normalizeZ(B){const D=t.invertBatch(B.map($=>$.ez));return B.map(($,W)=>$.toAffine(D[W])).map(A.fromAffine)}_setWindowSize(B){this._WINDOW_SIZE=B,p.delete(this)}assertValidity(){const{a:B,d:D}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:$,ey:W,ez:L,et:U}=this,G=l($*$),J=l(W*W),Q=l(L*L),Y=l(Q*Q),X=l(G*B),re=l(Q*l(X+J)),se=l(Y+l(D*l(G*J)));if(re!==se)throw new Error("bad point: equation left != right (1)");const ee=l($*W),ne=l(L*U);if(ee!==ne)throw new Error("bad point: equation left != right (2)")}equals(B){I(B);const{ex:D,ey:$,ez:W}=this,{ex:L,ey:U,ez:G}=B,J=l(D*G),Q=l(L*W),Y=l($*G),X=l(U*W);return J===Q&&Y===X}is0(){return this.equals(A.ZERO)}negate(){return new A(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:B}=e,{ex:D,ey:$,ez:W}=this,L=l(D*D),U=l($*$),G=l(r$*l(W*W)),J=l(B*L),Q=D+$,Y=l(l(Q*Q)-L-U),X=J+U,re=X-G,se=J-U,ee=l(Y*re),ne=l(X*se),ve=l(Y*se),_e=l(re*X);return new A(ee,ne,_e,ve)}add(B){I(B);const{a:D,d:$}=e,{ex:W,ey:L,ez:U,et:G}=this,{ex:J,ey:Q,ez:Y,et:X}=B;if(D===BigInt(-1)){const Ue=l((L-W)*(Q+J)),Wt=l((L+W)*(Q-J)),sr=l(Wt-Ue);if(sr===Ml)return this.double();const tr=l(U*r$*X),pr=l(G*r$*Y),wr=pr+tr,ls=Wt+Ue,gn=pr-tr,ds=l(wr*sr),sl=l(ls*gn),Ub=l(wr*gn),T5=l(sr*ls);return new A(ds,sl,T5,Ub)}const re=l(W*J),se=l(L*Q),ee=l(G*$*X),ne=l(U*Y),ve=l((W+L)*(J+Q)-re-se),_e=ne-ee,Le=ne+ee,We=l(se-D*re),Ft=l(ve*_e),Lt=l(Le*We),Dt=l(ve*We),et=l(_e*Le);return new A(Ft,Lt,et,Dt)}subtract(B){return this.add(B.negate())}wNAF(B){return P.wNAFCached(this,p,B,A.normalizeZ)}multiply(B){const{p:D,f:$}=this.wNAF(b(B,r));return A.normalizeZ([D,$])[0]}multiplyUnsafe(B){let D=S(B);return D===Ml?_:this.equals(_)||D===_u?this:this.equals(w)?this.wNAF(D).p:P.unsafeLadder(this,D)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return P.unsafeLadder(this,r).is0()}toAffine(B){const{ex:D,ey:$,ez:W}=this,L=this.is0();B==null&&(B=L?R5e:t.inv(W));const U=l(D*B),G=l($*B),J=l(W*B);if(L)return{x:Ml,y:_u};if(J!==_u)throw new Error("invZ was invalid");return{x:U,y:G}}clearCofactor(){const{h:B}=e;return B===_u?this:this.multiplyUnsafe(B)}static fromHex(B,D=!1){const{d:$,a:W}=e,L=t.BYTES;B=Xo("pointHex",B,L);const U=B.slice(),G=B[L-1];U[L-1]=G&-129;const J=Nv(U);J===Ml||(D?b(J,u):b(J,t.ORDER));const Q=l(J*J),Y=l(Q-_u),X=l($*Q-W);let{isValid:re,value:se}=d(Y,X);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const ee=(se&_u)===_u,ne=(G&128)!==0;if(!D&&se===Ml&&ne)throw new Error("Point.fromHex: x=0 and x_0=1");return ne!==ee&&(se=l(-se)),A.fromAffine({x:se,y:J})}static fromPrivateKey(B){return T(B).point}toRawBytes(){const{x:B,y:D}=this.toAffine(),$=sM(D,t.BYTES);return $[$.length-1]|=B&_u?128:0,$}toHex(){return Q1(this.toRawBytes())}}A.BASE=new A(e.Gx,e.Gy,_u,l(e.Gx*e.Gy)),A.ZERO=new A(Ml,_u,_u,Ml);const{BASE:w,ZERO:_}=A,P=gSe(A,a*8);function M(C){return fi(C,r)}function E(C){return M(Nv(C))}function T(C){const B=a;C=Xo("private key",C,B);const D=Xo("hashed private key",i(C),2*B),$=y(D.slice(0,B)),W=D.slice(B,2*B),L=E($),U=w.multiply(L),G=U.toRawBytes();return{head:$,prefix:W,scalar:L,point:U,pointBytes:G}}function z(C){return T(C).pointBytes}function O(C=new Uint8Array,...B){const D=eS(...B);return E(i(h(D,Xo("context",C),!!s)))}function R(C,B,D={}){C=Xo("message",C),s&&(C=s(C));const{prefix:$,scalar:W,pointBytes:L}=T(B),U=O(D.context,$,C),G=w.multiply(U).toRawBytes(),J=O(D.context,G,L,C),Q=M(U+J*W);S(Q);const Y=eS(G,sM(Q,t.BYTES));return Xo("result",Y,a*2)}const v=C5e;function k(C,B,D,$=v){const{context:W,zip215:L}=$,U=t.BYTES;C=Xo("signature",C,2*U),B=Xo("message",B),s&&(B=s(B));const G=Nv(C.slice(U,2*U));let J,Q,Y;try{J=A.fromHex(D,L),Q=A.fromHex(C.slice(0,U),L),Y=w.multiplyUnsafe(G)}catch{return!1}if(!L&&J.isSmallOrder())return!1;const X=O(W,Q.toRawBytes(),J.toRawBytes(),B);return Q.add(J.multiplyUnsafe(X)).subtract(Y).clearCofactor().equals(A.ZERO)}return w._setWindowSize(8),{CURVE:e,getPublicKey:z,sign:R,verify:k,ExtendedPoint:A,utils:{getExtendedPublicKey:T,randomPrivateKey:()=>o(t.BYTES),precompute(C=8,B=A.BASE){return B._setWindowSize(C),B.multiply(BigInt(3)),B}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rG=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ole=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const B5e=BigInt(1),$V=BigInt(2),z5e=BigInt(5),ale=BigInt(10),$5e=BigInt(20),D5e=BigInt(40),cle=BigInt(80);function O5e(n){const e=rG,r=n*n%e*n%e,s=Xi(r,$V,e)*r%e,i=Xi(s,B5e,e)*n%e,o=Xi(i,z5e,e)*i%e,a=Xi(o,ale,e)*o%e,c=Xi(a,$5e,e)*a%e,u=Xi(c,D5e,e)*c%e,l=Xi(u,cle,e)*u%e,d=Xi(l,cle,e)*u%e,y=Xi(d,ale,e)*o%e;return{pow_p_5_8:Xi(y,$V,e)*n%e,b2:r}}function K5e(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function L5e(n,e){const t=rG,r=fi(e*e*e,t),s=fi(r*r*e,t),i=O5e(n*s).pow_p_5_8;let o=fi(n*r*i,t);const a=fi(e*o*o,t),c=o,u=fi(o*ole,t),l=a===n,d=a===fi(-n,t),y=a===fi(-n*ole,t);return l&&(o=c),(d||y)&&(o=u),A5e(o,t)&&(o=fi(-o,t)),{isValid:l||d,value:o}}const Ng=dSe(rG,void 0,!0),nG={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Ng,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:oSe,randomBytes:X1e,adjustScalarBytes:K5e,uvRatio:L5e},$x=tG(nG);function mSe(n,e,t){if(e.length>255)throw new Error("Context is too big");return J1e(Z1e("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}({...nG});({...nG});const W5e=(Ng.ORDER+BigInt(3))/BigInt(8);Ng.pow($V,W5e);Ng.sqrt(Ng.neg(Ng.ONE));(Ng.ORDER-BigInt(5))/BigInt(8);BigInt(486662);E5e(Ng,Ng.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const N5e=(n,e,t)=>n&e^~n&t,F5e=(n,e,t)=>n&e^n&t^e&t,U5e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Im=new Uint32Array(64);class V5e extends Q1e{constructor(){super(64,32,8,!1),this.A=wm[0]|0,this.B=wm[1]|0,this.C=wm[2]|0,this.D=wm[3]|0,this.E=wm[4]|0,this.F=wm[5]|0,this.G=wm[6]|0,this.H=wm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Im[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Im[d-15],h=Im[d-2],m=Bd(y,7)^Bd(y,18)^y>>>3,f=Bd(h,17)^Bd(h,19)^h>>>10;Im[d]=f+Im[d-7]+m+Im[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Bd(a,6)^Bd(a,11)^Bd(a,25),h=l+y+N5e(a,c,u)+U5e[d]+Im[d]|0,f=(Bd(r,2)^Bd(r,13)^Bd(r,22))+F5e(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Im.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const DV=JH(()=>new V5e);class q5e extends TypeError{constructor(e,t){let r;const{message:s,...i}=e,{path:o}=e,a=o.length===0?s:"At path: "+o.join(".")+" -- "+s;super(a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...t()]}}}function j5e(n){return Ly(n)&&typeof n[Symbol.iterator]=="function"}function Ly(n){return typeof n=="object"&&n!=null}function fd(n){return typeof n=="string"?JSON.stringify(n):""+n}function H5e(n){const{done:e,value:t}=n.next();return e?void 0:t}function G5e(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+fd(r)+"`"}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*ule(n,e,t,r){j5e(n)||(n=[n]);for(const s of n){const i=G5e(s,e,t,r);i&&(yield i)}}function*sG(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s};if(i&&(n=e.coercer(n,a),o&&e.type!=="type"&&Ly(e.schema)&&Ly(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=sG(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o});for(const h of y)h[0]?(c=!1,yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Ly(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}class ch{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return ule(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return ule(l,u,this,c)}:this.refiner=()=>[]}assert(e){return ySe(e,this)}create(e){return ft(e,this)}is(e){return pSe(e,this)}mask(e){return Y5e(e,this)}validate(e,t={}){return CB(e,this,t)}}function ySe(n,e){const t=CB(n,e);if(t[0])throw t[0]}function ft(n,e){const t=CB(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function Y5e(n,e){const t=CB(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function pSe(n,e){return!CB(n,e)[0]}function CB(n,e,t={}){const r=sG(n,e,t),s=H5e(r);if(s[0])return[new q5e(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function GS(n,e){return new ch({type:n,schema:null,validator:e})}function Z5e(){return GS("any",()=>!0)}function Ot(n){return new ch({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+fd(e)}})}function Jf(){return GS("boolean",n=>typeof n=="boolean")}function iG(n){return GS("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+fd(e))}function Ii(n){const e=fd(n),t=typeof n;return new ch({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+fd(r)}})}function J5e(){return GS("never",()=>!1)}function Kt(n){return new ch({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ke(){return GS("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+fd(n))}function kr(n){return new ch({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function bSe(n,e){return new ch({type:"record",schema:null,*entries(t){if(Ly(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return Ly(t)||"Expected an object, but received: "+fd(t)}})}function Qe(){return GS("string",n=>typeof n=="string"||"Expected a string, but received: "+fd(n))}function oG(n){const e=J5e();return new ch({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+fd(t)}})}function De(n){const e=Object.keys(n);return new ch({type:"type",schema:n,*entries(t){if(Ly(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Ly(t)||"Expected an object, but received: "+fd(t)}})}function wu(n){const e=n.map(t=>t.type).join(" | ");return new ch({type:"union",schema:null,validator(t,r){const s=[];for(const i of n){const[...o]=sG(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+fd(t),...s]}})}function MB(){return GS("unknown",()=>!0)}function BB(n,e,t){return new ch({...n,coercer:(r,s)=>pSe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const X5e=D0e.v4,Q5e=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:n};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){const o=typeof r.generator=="function"?r.generator:function(){return X5e()};i.id=o(i,r)}else s===2&&t===null?r.notificationIdNull&&(i.id=null):i.id=t;return i};var eWe=Q5e;const tWe=D0e.v4,rWe=eWe,iM=function(n,e){if(!(this instanceof iM))return new iM(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return tWe()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var nWe=iM;iM.prototype.request=function(n,e,t,r){const s=this;let i=null;const o=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&n&&typeof n=="object"&&typeof e=="function")r=e,i=n;else{typeof t=="function"&&(r=t,t=void 0);const u=typeof r=="function";try{i=rWe(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){s._parseResponse(u,l,r)}),i};iM.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return t(null,r.filter(s),r.filter(i))}else return t(null,r.error,r.result);t(null,r)};var SSe={},aG={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(aG);var kSe={exports:{}},Dx={exports:{}};(function(n){function e(t){return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Dx);(function(n){var e=Dx.exports.default;function t(){n.exports=t=function(){return s},n.exports.__esModule=!0,n.exports.default=n.exports;var r,s={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(B,D,$){B[D]=$.value},c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function y(B,D,$){return Object.defineProperty(B,D,{value:$,enumerable:!0,configurable:!0,writable:!0}),B[D]}try{y({},"")}catch{y=function($,W,L){return $[W]=L}}function h(B,D,$,W){var L=D&&D.prototype instanceof I?D:I,U=Object.create(L.prototype),G=new x(W||[]);return a(U,"_invoke",{value:O(B,$,G)}),U}function m(B,D,$){try{return{type:"normal",arg:B.call(D,$)}}catch(W){return{type:"throw",arg:W}}}s.wrap=h;var f="suspendedStart",g="suspendedYield",b="executing",S="completed",p={};function I(){}function A(){}function w(){}var _={};y(_,u,function(){return this});var P=Object.getPrototypeOf,M=P&&P(P(C([])));M&&M!==i&&o.call(M,u)&&(_=M);var E=w.prototype=I.prototype=Object.create(_);function T(B){["next","throw","return"].forEach(function(D){y(B,D,function($){return this._invoke(D,$)})})}function z(B,D){function $(L,U,G,J){var Q=m(B[L],B,U);if(Q.type!=="throw"){var Y=Q.arg,X=Y.value;return X&&e(X)=="object"&&o.call(X,"__await")?D.resolve(X.__await).then(function(re){$("next",re,G,J)},function(re){$("throw",re,G,J)}):D.resolve(X).then(function(re){Y.value=re,G(Y)},function(re){return $("throw",re,G,J)})}J(Q.arg)}var W;a(this,"_invoke",{value:function(U,G){function J(){return new D(function(Q,Y){$(U,G,Q,Y)})}return W=W?W.then(J,J):J()}})}function O(B,D,$){var W=f;return function(L,U){if(W===b)throw new Error("Generator is already running");if(W===S){if(L==="throw")throw U;return{value:r,done:!0}}for($.method=L,$.arg=U;;){var G=$.delegate;if(G){var J=R(G,$);if(J){if(J===p)continue;return J}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(W===f)throw W=S,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);W=b;var Q=m(B,D,$);if(Q.type==="normal"){if(W=$.done?S:g,Q.arg===p)continue;return{value:Q.arg,done:$.done}}Q.type==="throw"&&(W=S,$.method="throw",$.arg=Q.arg)}}}function R(B,D){var $=D.method,W=B.iterator[$];if(W===r)return D.delegate=null,$==="throw"&&B.iterator.return&&(D.method="return",D.arg=r,R(B,D),D.method==="throw")||$!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+$+"' method")),p;var L=m(W,B.iterator,D.arg);if(L.type==="throw")return D.method="throw",D.arg=L.arg,D.delegate=null,p;var U=L.arg;return U?U.done?(D[B.resultName]=U.value,D.next=B.nextLoc,D.method!=="return"&&(D.method="next",D.arg=r),D.delegate=null,p):U:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,p)}function v(B){var D={tryLoc:B[0]};1 in B&&(D.catchLoc=B[1]),2 in B&&(D.finallyLoc=B[2],D.afterLoc=B[3]),this.tryEntries.push(D)}function k(B){var D=B.completion||{};D.type="normal",delete D.arg,B.completion=D}function x(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(v,this),this.reset(!0)}function C(B){if(B||B===""){var D=B[u];if(D)return D.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var $=-1,W=function L(){for(;++$<B.length;)if(o.call(B,$))return L.value=B[$],L.done=!1,L;return L.value=r,L.done=!0,L};return W.next=W}}throw new TypeError(e(B)+" is not iterable")}return A.prototype=w,a(E,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:A,configurable:!0}),A.displayName=y(w,d,"GeneratorFunction"),s.isGeneratorFunction=function(B){var D=typeof B=="function"&&B.constructor;return!!D&&(D===A||(D.displayName||D.name)==="GeneratorFunction")},s.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,w):(B.__proto__=w,y(B,d,"GeneratorFunction")),B.prototype=Object.create(E),B},s.awrap=function(B){return{__await:B}},T(z.prototype),y(z.prototype,l,function(){return this}),s.AsyncIterator=z,s.async=function(B,D,$,W,L){L===void 0&&(L=Promise);var U=new z(h(B,D,$,W),L);return s.isGeneratorFunction(D)?U:U.next().then(function(G){return G.done?G.value:U.next()})},T(E),y(E,d,"Generator"),y(E,u,function(){return this}),y(E,"toString",function(){return"[object Generator]"}),s.keys=function(B){var D=Object(B),$=[];for(var W in D)$.push(W);return $.reverse(),function L(){for(;$.length;){var U=$.pop();if(U in D)return L.value=U,L.done=!1,L}return L.done=!0,L}},s.values=C,x.prototype={constructor:x,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!D)for(var $ in this)$.charAt(0)==="t"&&o.call(this,$)&&!isNaN(+$.slice(1))&&(this[$]=r)},stop:function(){this.done=!0;var D=this.tryEntries[0].completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var $=this;function W(Y,X){return G.type="throw",G.arg=D,$.next=Y,X&&($.method="next",$.arg=r),!!X}for(var L=this.tryEntries.length-1;L>=0;--L){var U=this.tryEntries[L],G=U.completion;if(U.tryLoc==="root")return W("end");if(U.tryLoc<=this.prev){var J=o.call(U,"catchLoc"),Q=o.call(U,"finallyLoc");if(J&&Q){if(this.prev<U.catchLoc)return W(U.catchLoc,!0);if(this.prev<U.finallyLoc)return W(U.finallyLoc)}else if(J){if(this.prev<U.catchLoc)return W(U.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<U.finallyLoc)return W(U.finallyLoc)}}}},abrupt:function(D,$){for(var W=this.tryEntries.length-1;W>=0;--W){var L=this.tryEntries[W];if(L.tryLoc<=this.prev&&o.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var U=L;break}}U&&(D==="break"||D==="continue")&&U.tryLoc<=$&&$<=U.finallyLoc&&(U=null);var G=U?U.completion:{};return G.type=D,G.arg=$,U?(this.method="next",this.next=U.finallyLoc,p):this.complete(G)},complete:function(D,$){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&$&&(this.next=$),p},finish:function(D){for(var $=this.tryEntries.length-1;$>=0;--$){var W=this.tryEntries[$];if(W.finallyLoc===D)return this.complete(W.completion,W.afterLoc),k(W),p}},catch:function(D){for(var $=this.tryEntries.length-1;$>=0;--$){var W=this.tryEntries[$];if(W.tryLoc===D){var L=W.completion;if(L.type==="throw"){var U=L.arg;k(W)}return U}}throw new Error("illegal catch attempt")},delegateYield:function(D,$,W){return this.delegate={iterator:C(D),resultName:$,nextLoc:W},this.method==="next"&&(this.arg=r),p}},s}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(kSe);var dD=kSe.exports(),sWe=dD;try{regeneratorRuntime=dD}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=dD:Function("r","regeneratorRuntime = r")(dD)}var vSe={exports:{}};(function(n){function e(r,s,i,o,a,c,u){try{var l=r[c](u),d=l.value}catch(y){i(y);return}l.done?s(d):Promise.resolve(d).then(o,a)}function t(r){return function(){var s=this,i=arguments;return new Promise(function(o,a){var c=r.apply(s,i);function u(d){e(c,o,a,u,l,"next",d)}function l(d){e(c,o,a,u,l,"throw",d)}u(void 0)})}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(vSe);var cG={exports:{}};(function(n){function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(cG);var uG={exports:{}},ASe={exports:{}},wSe={exports:{}};(function(n){var e=Dx.exports.default;function t(r,s){if(e(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,s||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(wSe);(function(n){var e=Dx.exports.default,t=wSe.exports;function r(s){var i=t(s,"string");return e(i)==="symbol"?i:String(i)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(ASe);(function(n){var e=ASe.exports;function t(s,i){for(var o=0;o<i.length;o++){var a=i[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,e(a.key),a)}}function r(s,i,o){return i&&t(s.prototype,i),o&&t(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(uG);var lG={exports:{}},ISe={exports:{}};(function(n){function e(t,r){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(ISe);(function(n){var e=ISe.exports;function t(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&e(r,s)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(lG);var dG={exports:{}},_Se={exports:{}};(function(n){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(_Se);(function(n){var e=Dx.exports.default,t=_Se.exports;function r(s,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(s)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(dG);var fG={exports:{}};(function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(fG);(function(n){var e=aG.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(sWe),r=e(vSe.exports),s=e(Dx.exports),i=e(cG.exports),o=e(uG.exports),a=e(lG.exports),c=e(dG.exports),u=e(fG.exports),l=O0e.exports;function d(f){var g=y();return function(){var S=(0,u.default)(f),p;if(g){var I=(0,u.default)(this).constructor;p=Reflect.construct(S,arguments,I)}else p=S.apply(this,arguments);return(0,c.default)(this,p)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var h=function(f,g){var b={};for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&g.indexOf(S)<0&&(b[S]=f[S]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,S=Object.getOwnPropertySymbols(f);p<S.length;p++)g.indexOf(S[p])<0&&Object.prototype.propertyIsEnumerable.call(f,S[p])&&(b[S[p]]=f[S[p]]);return b},m=function(f){(0,a.default)(b,f);var g=d(b);function b(S){var p,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},w=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,b);var _=A.autoconnect,P=_===void 0?!0:_,M=A.reconnect,E=M===void 0?!0:M,T=A.reconnect_interval,z=T===void 0?1e3:T,O=A.max_reconnects,R=O===void 0?5:O,v=h(A,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return p=g.call(this),p.webSocketFactory=S,p.queue={},p.rpc_id=0,p.address=I,p.autoconnect=P,p.ready=!1,p.reconnect=E,p.reconnect_timer_id=void 0,p.reconnect_interval=z,p.max_reconnects=R,p.rest_options=v,p.current_reconnects=0,p.generate_request_id=w||function(){return++p.rpc_id},p.autoconnect&&p._connect(p.address,Object.assign({autoconnect:p.autoconnect,reconnect:p.reconnect,reconnect_interval:p.reconnect_interval,max_reconnects:p.max_reconnects},p.rest_options)),p}return(0,o.default)(b,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(p,I,A,w){var _=this;return!w&&(0,s.default)(A)==="object"&&(w=A,A=null),new Promise(function(P,M){if(!_.ready)return M(new Error("socket not ready"));var E=_.generate_request_id(p,I),T={jsonrpc:"2.0",method:p,params:I||null,id:E};_.socket.send(JSON.stringify(T),w,function(z){if(z)return M(z);_.queue[E]={promise:[P,M]},A&&(_.queue[E].timeout=setTimeout(function(){delete _.queue[E],M(new Error("reply timeout"))},A))})})}},{key:"login",value:function(){var S=(0,r.default)(t.default.mark(function I(A){var w;return t.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,this.call("rpc.login",A);case 2:if(w=P.sent,w){P.next=5;break}throw new Error("authentication failed");case 5:return P.abrupt("return",w);case 6:case"end":return P.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"listMethods",value:function(){var S=(0,r.default)(t.default.mark(function I(){return t.default.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,this.call("__listMethods");case 2:return w.abrupt("return",w.sent);case 3:case"end":return w.stop()}},I,this)}));function p(){return S.apply(this,arguments)}return p}()},{key:"notify",value:function(p,I){var A=this;return new Promise(function(w,_){if(!A.ready)return _(new Error("socket not ready"));var P={jsonrpc:"2.0",method:p,params:I||null};A.socket.send(JSON.stringify(P),function(M){if(M)return _(M);w()})})}},{key:"subscribe",value:function(){var S=(0,r.default)(t.default.mark(function I(A){var w;return t.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return typeof A=="string"&&(A=[A]),P.next=3,this.call("rpc.on",A);case 3:if(w=P.sent,!(typeof A=="string"&&w[A]!=="ok")){P.next=6;break}throw new Error("Failed subscribing to an event '"+A+"' with: "+w[A]);case 6:return P.abrupt("return",w);case 7:case"end":return P.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"unsubscribe",value:function(){var S=(0,r.default)(t.default.mark(function I(A){var w;return t.default.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return typeof A=="string"&&(A=[A]),P.next=3,this.call("rpc.off",A);case 3:if(w=P.sent,!(typeof A=="string"&&w[A]!=="ok")){P.next=6;break}throw new Error("Failed unsubscribing from an event with: "+w);case 6:return P.abrupt("return",w);case 7:case"end":return P.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"close",value:function(p,I){this.socket.close(p||1e3,I)}},{key:"_connect",value:function(p,I){var A=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(p,I),this.socket.addEventListener("open",function(){A.ready=!0,A.emit("open"),A.current_reconnects=0}),this.socket.addEventListener("message",function(w){var _=w.data;_ instanceof ArrayBuffer&&(_=Ve.Buffer.from(_).toString());try{_=JSON.parse(_)}catch{return}if(_.notification&&A.listeners(_.notification).length){if(!Object.keys(_.params).length)return A.emit(_.notification);var P=[_.notification];if(_.params.constructor===Object)P.push(_.params);else for(var M=0;M<_.params.length;M++)P.push(_.params[M]);return Promise.resolve().then(function(){A.emit.apply(A,P)})}if(!A.queue[_.id])return _.method&&_.params?Promise.resolve().then(function(){A.emit(_.method,_.params)}):void 0;"error"in _=="result"in _&&A.queue[_.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),A.queue[_.id].timeout&&clearTimeout(A.queue[_.id].timeout),_.error?A.queue[_.id].promise[1](_.error):A.queue[_.id].promise[0](_.result),delete A.queue[_.id]}),this.socket.addEventListener("error",function(w){return A.emit("error",w)}),this.socket.addEventListener("close",function(w){var _=w.code,P=w.reason;A.ready&&setTimeout(function(){return A.emit("close",_,P)},0),A.ready=!1,A.socket=void 0,_!==1e3&&(A.current_reconnects++,A.reconnect&&(A.max_reconnects>A.current_reconnects||A.max_reconnects===0)&&(A.reconnect_timer_id=setTimeout(function(){return A._connect(p,I)},A.reconnect_interval)))})}}]),b}(l.EventEmitter);n.default=m})(SSe);var iWe=K0e(SSe),PSe={};(function(n){var e=aG.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var t=e(cG.exports),r=e(uG.exports),s=e(lG.exports),i=e(dG.exports),o=e(fG.exports),a=O0e.exports;function c(y){var h=u();return function(){var f=(0,o.default)(y),g;if(h){var b=(0,o.default)(this).constructor;g=Reflect.construct(f,arguments,b)}else g=f.apply(this,arguments);return(0,i.default)(this,g)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var l=function(y){(0,s.default)(m,y);var h=c(m);function m(f,g,b){var S;return(0,t.default)(this,m),S=h.call(this),S.socket=new window.WebSocket(f,b),S.socket.onopen=function(){return S.emit("open")},S.socket.onmessage=function(p){return S.emit("message",p.data)},S.socket.onerror=function(p){return S.emit("error",p)},S.socket.onclose=function(p){S.emit("close",p.code,p.reason)},S}return(0,r.default)(m,[{key:"send",value:function(g,b,S){var p=S||b;try{this.socket.send(g),p()}catch(I){p(I)}}},{key:"close",value:function(g,b){this.socket.close(g,b)}},{key:"addEventListener",value:function(g,b,S){this.socket.addEventListener(g,b,S)}}]),m}(a.EventEmitter);function d(y,h){return new l(y,h)}})(PSe);var oWe=K0e(PSe);const[ESe,xSe,TSe]=[[],[],[]],aWe=BigInt(0),mR=BigInt(1),cWe=BigInt(2),uWe=BigInt(7),lWe=BigInt(256),dWe=BigInt(113);for(let n=0,e=mR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],ESe.push(2*(5*r+t)),xSe.push((n+1)*(n+2)/2%64);let s=aWe;for(let i=0;i<7;i++)e=(e<<mR^(e>>uWe)*dWe)%lWe,e&cWe&&(s^=mR<<(mR<<BigInt(i))-mR);TSe.push(s)}const[fWe,hWe]=tSe(TSe,!0),lle=(n,e,t)=>t>32?sSe(n,e,t):rSe(n,e,t),dle=(n,e,t)=>t>32?iSe(n,e,t):nSe(n,e,t);function gWe(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=lle(u,l,1)^t[a],y=dle(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=xSe[o],c=lle(s,i,a),u=dle(s,i,a),l=ESe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=fWe[r],n[1]^=hWe[r]}t.fill(0)}class hG extends ZH{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ZD(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=LLe(this.state)}keccak(){gWe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){SA(this);const{blockLen:t,state:r}=this;e=k4(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){SA(this,!1),YH(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return ZD(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(G1e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new hG(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const mWe=(n,e,t)=>JH(()=>new hG(e,n,t)),fle=mWe(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yWe(n){const e=eG(n);zx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:pWe,hexToBytes:bWe}=p5e,S1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=S1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:pWe(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=S1,t=typeof n=="string"?bWe(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=S1._parseInt(t.subarray(2)),{d:o,l:a}=S1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Pg=BigInt(0),hl=BigInt(1);BigInt(2);const hle=BigInt(3);BigInt(4);function SWe(n){const e=yWe(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return eS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Pg<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Q1(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:O1(Xo("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=fi(p,S)),a(p),p}const u=new Map;function l(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required")}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Xo("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(c(f))}_setWindowSize(f){this._WINDOW_SIZE=f,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=this.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){l(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f,w=t.eql(t.mul(g,A),t.mul(p,S)),_=t.eql(t.mul(b,A),t.mul(I,S));return w&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,hle),{px:S,py:p,pz:I}=this;let A=t.ZERO,w=t.ZERO,_=t.ZERO,P=t.mul(S,S),M=t.mul(p,p),E=t.mul(I,I),T=t.mul(S,p);return T=t.add(T,T),_=t.mul(S,I),_=t.add(_,_),A=t.mul(f,_),w=t.mul(b,E),w=t.add(A,w),A=t.sub(M,w),w=t.add(M,w),w=t.mul(A,w),A=t.mul(T,A),_=t.mul(b,_),E=t.mul(f,E),T=t.sub(P,E),T=t.mul(f,T),T=t.add(T,_),_=t.add(P,P),P=t.add(_,P),P=t.add(P,E),P=t.mul(P,T),w=t.add(w,P),E=t.mul(p,I),E=t.add(E,E),P=t.mul(E,T),A=t.sub(A,P),_=t.mul(E,M),_=t.add(_,_),_=t.add(_,_),new d(A,w,_)}add(f){l(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f;let w=t.ZERO,_=t.ZERO,P=t.ZERO;const M=e.a,E=t.mul(e.b,hle);let T=t.mul(g,p),z=t.mul(b,I),O=t.mul(S,A),R=t.add(g,b),v=t.add(p,I);R=t.mul(R,v),v=t.add(T,z),R=t.sub(R,v),v=t.add(g,S);let k=t.add(p,A);return v=t.mul(v,k),k=t.add(T,O),v=t.sub(v,k),k=t.add(b,S),w=t.add(I,A),k=t.mul(k,w),w=t.add(z,O),k=t.sub(k,w),P=t.mul(M,v),w=t.mul(E,O),P=t.add(w,P),w=t.sub(z,P),P=t.add(z,P),_=t.mul(w,P),z=t.add(T,T),z=t.add(z,T),O=t.mul(M,O),v=t.mul(E,v),z=t.add(z,O),O=t.sub(T,O),O=t.mul(M,O),v=t.add(v,O),T=t.mul(z,v),_=t.add(_,T),T=t.mul(k,v),w=t.mul(R,w),w=t.sub(w,T),T=t.mul(R,z),P=t.mul(k,P),P=t.add(P,T),new d(w,_,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,u,f,g=>{const b=t.invertBatch(g.map(S=>S.pz));return g.map((S,p)=>S.toAffine(b[p])).map(d.fromAffine)})}multiplyUnsafe(f){const g=d.ZERO;if(f===Pg)return g;if(a(f),f===hl)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:A}=b.splitScalar(f),w=g,_=g,P=this;for(;p>Pg||A>Pg;)p&hl&&(w=w.add(P)),A&hl&&(_=_.add(P)),P=P.double(),p>>=hl,A>>=hl;return S&&(w=w.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),w.add(_)}multiply(f){a(f);let g=f,b,S;const{endo:p}=e;if(p){const{k1neg:I,k1:A,k2neg:w,k2:_}=p.splitScalar(g);let{p:P,f:M}=this.wNAF(A),{p:E,f:T}=this.wNAF(_);P=h.constTimeNegate(I,P),E=h.constTimeNegate(w,E),E=new d(t.mul(E.px,p.beta),E.py,E.pz),b=P.add(E),S=M.add(T)}else{const{p:I,f:A}=this.wNAF(g);b=I,S=A}return d.normalizeZ([b,S])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(A,w)=>w===Pg||w===hl||!A.equals(S)?A.multiplyUnsafe(w):A.multiply(w),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){const{px:g,py:b,pz:S}=this,p=this.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),A=t.mul(b,f),w=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===hl)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===hl?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return this.assertValidity(),r(d,this,f)}toHex(f=!0){return Q1(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=gSe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function kWe(n){const e=eG(n);return zx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function vWe(n){const e=kWe(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(v){return Pg<v&&v<t.ORDER}function a(v){return fi(v,r)}function c(v){return zV(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:y}=SWe({...e,toBytes(v,k,x){const C=k.toAffine(),B=t.toBytes(C.x),D=eS;return x?D(Uint8Array.from([k.hasEvenY()?2:3]),B):D(Uint8Array.from([4]),B,t.toBytes(C.y))},fromBytes(v){const k=v.length,x=v[0],C=v.subarray(1);if(k===s&&(x===2||x===3)){const B=O1(C);if(!o(B))throw new Error("Point is not on curve");const D=d(B);let $=t.sqrt(D);const W=($&hl)===hl;return(x&1)===1!==W&&($=t.neg($)),{x:B,y:$}}else if(k===i&&x===4){const B=t.fromBytes(C.subarray(0,t.BYTES)),D=t.fromBytes(C.subarray(t.BYTES,2*t.BYTES));return{x:B,y:D}}else throw new Error(`Point of length ${k} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),h=v=>Q1(vA(v,e.nByteLength));function m(v){const k=r>>hl;return v>k}function f(v){return m(v)?a(-v):v}const g=(v,k,x)=>O1(v.slice(k,x));class b{constructor(k,x,C){this.r=k,this.s=x,this.recovery=C,this.assertValidity()}static fromCompact(k){const x=e.nByteLength;return k=Xo("compactSignature",k,x*2),new b(g(k,0,x),g(k,x,2*x))}static fromDER(k){const{r:x,s:C}=S1.toSig(Xo("DER",k));return new b(x,C)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new b(this.r,this.s,k)}recoverPublicKey(k){const{r:x,s:C,recovery:B}=this,D=_(Xo("msgHash",k));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const $=B===2||B===3?x+e.n:x;if($>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(B&1)===0?"02":"03",L=u.fromHex(W+h($)),U=c($),G=a(-D*U),J=a(C*U),Q=u.BASE.multiplyAndAddUnsafe(L,G,J);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return kA(this.toDERHex())}toDERHex(){return S1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kA(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const S={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const v=hSe(e.n);return x5e(e.randomBytes(v),e.n)},precompute(v=8,k=u.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}};function p(v,k=!0){return u.fromPrivateKey(v).toRawBytes(k)}function I(v){const k=v instanceof Uint8Array,x=typeof v=="string",C=(k||x)&&v.length;return k?C===s||C===i:x?C===2*s||C===2*i:v instanceof u}function A(v,k,x=!0){if(I(v))throw new Error("first arg must be private key");if(!I(k))throw new Error("second arg must be public key");return u.fromHex(k).multiply(l(v)).toRawBytes(x)}const w=e.bits2int||function(v){const k=O1(v),x=v.length*8-e.nBitLength;return x>0?k>>BigInt(x):k},_=e.bits2int_modN||function(v){return a(w(v))},P=QH(e.nBitLength);function M(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(Pg<=v&&v<P))throw new Error(`bigint expected < 2^${e.nBitLength}`);return vA(v,e.nByteLength)}function E(v,k,x=T){if(["recovered","canonical"].some(X=>X in x))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:B}=e;let{lowS:D,prehash:$,extraEntropy:W}=x;D==null&&(D=!0),v=Xo("msgHash",v),$&&(v=Xo("prehashed msgHash",C(v)));const L=_(v),U=l(k),G=[M(U),M(L)];if(W!=null){const X=W===!0?B(t.BYTES):W;G.push(Xo("extraEntropy",X))}const J=eS(...G),Q=L;function Y(X){const re=w(X);if(!y(re))return;const se=c(re),ee=u.BASE.multiply(re).toAffine(),ne=a(ee.x);if(ne===Pg)return;const ve=a(se*a(Q+ne*U));if(ve===Pg)return;let _e=(ee.x===ne?0:2)|Number(ee.y&hl),Le=ve;return D&&m(ve)&&(Le=f(ve),_e^=1),new b(ne,Le,_e)}return{seed:J,k2sig:Y}}const T={lowS:e.lowS,prehash:!1},z={lowS:e.lowS,prehash:!1};function O(v,k,x=T){const{seed:C,k2sig:B}=E(v,k,x),D=e;return uSe(D.hash.outputLen,D.nByteLength,D.hmac)(C,B)}u.BASE._setWindowSize(8);function R(v,k,x,C=z){var ee;const B=v;if(k=Xo("msgHash",k),x=Xo("publicKey",x),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:D,prehash:$}=C;let W,L;try{if(typeof B=="string"||B instanceof Uint8Array)try{W=b.fromDER(B)}catch(ne){if(!(ne instanceof S1.Err))throw ne;W=b.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ne,s:ve}=B;W=new b(ne,ve)}else throw new Error("PARSE");L=u.fromHex(x)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(D&&W.hasHighS())return!1;$&&(k=e.hash(k));const{r:U,s:G}=W,J=_(k),Q=c(G),Y=a(J*Q),X=a(U*Q),re=(ee=u.BASE.multiplyAndAddUnsafe(L,Y,X))==null?void 0:ee.toAffine();return re?a(re.x)===U:!1}return{CURVE:e,getPublicKey:p,getSharedSecret:A,sign:O,verify:R,ProjectivePoint:u,Signature:b,utils:S}}class RSe extends ZH{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,KLe(e);const r=k4(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return SA(this),this.iHash.update(e),this}digestInto(e){SA(this),YH(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const CSe=(n,e,t)=>new RSe(n,e).update(t).digest();CSe.create=(n,e)=>new RSe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function AWe(n){return{hash:n,hmac:(e,...t)=>CSe(n,e,J1e(...t)),randomBytes:X1e}}function wWe(n,e){const t=r=>vWe({...n,...AWe(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MSe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),gle=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),IWe=BigInt(1),OV=BigInt(2),mle=(n,e)=>(n+e/OV)/e;function _We(n){const e=MSe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Xi(l,t,e)*l%e,y=Xi(d,t,e)*l%e,h=Xi(y,OV,e)*u%e,m=Xi(h,s,e)*h%e,f=Xi(m,i,e)*m%e,g=Xi(f,a,e)*f%e,b=Xi(g,c,e)*g%e,S=Xi(b,a,e)*f%e,p=Xi(S,t,e)*l%e,I=Xi(p,o,e)*m%e,A=Xi(I,r,e)*u%e,w=Xi(A,OV,e);if(!KV.eql(KV.sqr(w),n))throw new Error("Cannot find square root");return w}const KV=dSe(MSe,void 0,void 0,{sqrt:_We}),w4=wWe({a:BigInt(0),b:BigInt(7),Fp:KV,n:gle,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=gle,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-IWe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=mle(i*n,e),c=mle(-r*n,e);let u=fi(n-a*t-c*s,e),l=fi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},DV);BigInt(0);w4.ProjectivePoint;const PWe=$x.utils.randomPrivateKey,yle=()=>{const n=$x.utils.randomPrivateKey(),e=JD(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},JD=$x.getPublicKey;function ple(n){try{return $x.ExtendedPoint.fromHex(n),!0}catch{return!1}}const gG=(n,e)=>$x.sign(n,e.slice(0,32)),EWe=$x.verify,Jr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class mG{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(rm(R2,this))}static decode(e){return nm(R2,this,e)}static decodeUnchecked(e){return sm(R2,this,e)}}class xWe extends mG{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const R2=new Map;var BSe;let zSe;const $Se=32,Xu=32;function TWe(n){return n._bn!==void 0}let ble=1;zSe=Symbol.toStringTag;class tt extends mG{constructor(e){if(super({}),this._bn=void 0,TWe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Xu)throw new Error("Invalid public key input");this._bn=new ki(t)}else this._bn=new ki(e);if(this._bn.byteLength()>Xu)throw new Error("Invalid public key input")}}static unique(){const e=new tt(ble);return ble+=1,new tt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Xu)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[zSe](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=DV(s);return new tt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>$Se)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Jr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=DV(r);if(ple(s))throw new Error("Invalid seeds, address must fall off the curve");return new tt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new tt(e);return ple(t.toBytes())}}BSe=tt;tt.default=new BSe("11111111111111111111111111111111");R2.set(tt,{kind:"struct",fields:[["_bn","u256"]]});class RWe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Jr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Jr(PWe()),this._publicKey=Jr(JD(this._secretKey))}get publicKey(){return new tt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const CWe=new tt("BPFLoader1111111111111111111111111111111111"),Wy=1280-40-8,I4=127,AA=64;class yG extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(yG.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class pG extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(pG.prototype,"name",{value:"TransactionExpiredTimeoutError"});class kv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(kv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class oM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const yn=(n="publicKey")=>ie(32,n),MWe=(n="signature")=>ie(64,n),k1=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Vt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},BWe=(n="authorized")=>N([yn("staker"),yn("withdrawer")],n),zWe=(n="lockup")=>N([Pe("unixTimestamp"),Pe("epoch"),yn("custodian")],n),$We=(n="voteInit")=>N([yn("nodePubkey"),yn("authorizedVoter"),yn("authorizedWithdrawer"),te("commission")],n),DWe=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),yn("currentAuthorityDerivedKeyOwnerPubkey"),k1("currentAuthorityDerivedKeySeed"),yn("newAuthorized")],n);function DSe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return DSe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function tu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function $u(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Kn(n,e){if(!n)throw new Error(e||"Assertion failed")}class _4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new _4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Kn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Kn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Kn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new tt(c)),...r.map(([c])=>new tt(c)),...s.map(([c])=>new tt(c)),...i.map(([c])=>new tt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new tt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Kn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}class hd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new tt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new oM(this.staticAccountKeys)}static compile(e){const t=_4.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new oM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new hd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];$u(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];$u(f,y.length);let g=[];return $u(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];$u(s,r.length);let i=V.Buffer.alloc(Wy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(yn("key"),e,"keys"),yn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Jr(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&I4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=t.shift(),i=t.shift(),o=tu(t);let a=[];for(let y=0;y<o;y++){const h=t.slice(0,Xu);t=t.slice(Xu),a.push(new tt(V.Buffer.from(h)))}const c=t.slice(0,Xu);t=t.slice(Xu);const u=tu(t);let l=[];for(let y=0;y<u;y++){const h=t.shift(),m=tu(t),f=t.slice(0,m);t=t.slice(m);const g=tu(t),b=t.slice(0,g),S=Ie.encode(V.Buffer.from(b));t=t.slice(g),l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new hd(d)}}class tS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new oM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=_4.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new oM(a,s).compileInstructions(e.instructions);return new tS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();$u(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();$u(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();$u(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(yn(),this.staticAccountKeys.length,"staticAccountKeys"),yn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Wy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Wy);for(const r of this.compiledInstructions){const s=Array();$u(s,r.accountKeyIndexes.length);const i=Array();$u(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Wy);for(const r of this.addressTableLookups){const s=Array();$u(s,r.writableIndexes.length);const i=Array();$u(i,r.readonlyIndexes.length),e+=N([yn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),s=r&I4;Kn(r!==s,"Expected versioned message but received legacy message");const i=s;Kn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},a=[],c=tu(t);for(let m=0;m<c;m++)a.push(new tt(t.splice(0,Xu)));const u=Ie.encode(t.splice(0,Xu)),l=tu(t),d=[];for(let m=0;m<l;m++){const f=t.shift(),g=tu(t),b=t.splice(0,g),S=tu(t),p=new Uint8Array(t.splice(0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=tu(t),h=[];for(let m=0;m<y;m++){const f=new tt(t.splice(0,Xu)),g=tu(t),b=t.splice(0,g),S=tu(t),p=t.splice(0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new tS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const bG={deserializeMessageVersion(n){const e=n[0],t=e&I4;return t===e?"legacy":t},deserialize:n=>{const e=bG.deserializeMessageVersion(n);if(e==="legacy")return hd.from(n);if(e===0)return tS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let gg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const OWe=V.Buffer.alloc(AA).fill(0);class ps{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class cs{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ps(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new tt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Kn(f.programIdIndex>=0),f.accounts.forEach(g=>Kn(g>=0))}),new hd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=gG(r,s.secretKey);this._addSignature(s.publicKey,Jr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Kn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:s}of this.signatures)if(r===null){if(t)return!1}else if(!EWe(r,e,s.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r&&!this._verifySignatures(s,t))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];$u(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Kn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Kn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Kn(i.length<=Wy,`Transaction too large: ${i.length} > ${Wy}`),i}get keys(){return Kn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Kn(this.instructions.length===1),this.instructions[0].programId}get data(){return Kn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=tu(t);let s=[];for(let i=0;i<r;i++){const o=t.slice(0,AA);t=t.slice(AA),s.push(Ie.encode(V.Buffer.from(o)))}return cs.populate(hd.from(t),s)}static populate(e,t=[]){const r=new cs;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(OWe)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ps({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class SG{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Kn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Kn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new ps({programId:g,data:Jr(m.data),keys:f}))}return new SG({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return hd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return tS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class kG{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Kn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(AA));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();$u(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(MWe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=tu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(t.splice(0,AA)));const i=bG.deserialize(new Uint8Array(t));return new kG(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Kn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=gG(t,s.secretKey)}}addSignature(e,t){Kn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Kn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const KWe=160,LWe=64,WWe=KWe/LWe,OSe=1e3/WWe,Jd=new tt("SysvarC1ock11111111111111111111111111111111"),NWe=new tt("SysvarEpochSchedu1e111111111111111111111111"),FWe=new tt("Sysvar1nstructions1111111111111111111111111"),fD=new tt("SysvarRecentB1ockHashes11111111111111111111"),wA=new tt("SysvarRent111111111111111111111111111111111"),UWe=new tt("SysvarRewards111111111111111111111111111111"),VWe=new tt("SysvarS1otHashes111111111111111111111111111"),qWe=new tt("SysvarS1otHistory11111111111111111111111111"),hD=new tt("SysvarStakeHistory1111111111111111111111111");async function LV(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function Z0(n){return new Promise(e=>setTimeout(e,n))}function $n(n,e){const t=n.layout.span>=0?n.layout.span:DSe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function es(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const KSe=Ae("lamportsPerSignature"),LSe=N([F("version"),F("state"),yn("authorizedPubkey"),yn("nonce"),N([KSe],"feeCalculator")]),WV=LSe.span;class P4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=LSe.decode(Jr(e),0);return new P4({authorizedPubkey:new tt(t.authorizedPubkey),nonce:new tt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const jWe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},HWe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=jWe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return im(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=rc(o,n);return r(u,a,c)},i},IA=HWe(8);class GWe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(zs))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=es(zs.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new tt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=es(zs.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=es(zs.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new tt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=es(zs.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=es(zs.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new tt(t),seed:r,space:s,programId:new tt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=es(zs.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new tt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=es(zs.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new tt(t),seed:r,programId:new tt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=es(zs.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new tt(t),seed:r,lamports:s,space:i,programId:new tt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=es(zs.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new tt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),es(zs.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=es(zs.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=es(zs.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new tt(t)}}static checkProgramId(e){if(!e.equals(ac.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const zs=Object.freeze({Create:{index:0,layout:N([F("instruction"),Pe("lamports"),Pe("space"),yn("programId")])},Assign:{index:1,layout:N([F("instruction"),yn("programId")])},Transfer:{index:2,layout:N([F("instruction"),IA("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),yn("base"),k1("seed"),Pe("lamports"),Pe("space"),yn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Pe("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),yn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),yn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Pe("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),yn("base"),k1("seed"),Pe("space"),yn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),yn("base"),k1("seed"),yn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),IA("lamports"),k1("seed"),yn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class ac{constructor(){}static createAccount(e){const t=zs.Create,r=$n(t,{lamports:e.lamports,space:e.space,programId:Jr(e.programId.toBuffer())});return new ps({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=zs.TransferWithSeed;t=$n(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=zs.Transfer;t=$n(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ps({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=zs.AssignWithSeed;t=$n(s,{base:Jr(e.basePubkey.toBuffer()),seed:e.seed,programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=zs.Assign;t=$n(s,{programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ps({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=zs.CreateWithSeed,r=$n(t,{base:Jr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Jr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ps({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new cs;"basePubkey"in e&&"seed"in e?t.add(ac.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:WV,programId:this.programId})):t.add(ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:WV,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=zs.InitializeNonceAccount,r=$n(t,{authorized:Jr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:fD,isSigner:!1,isWritable:!1},{pubkey:wA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ps(s)}static nonceAdvance(e){const t=zs.AdvanceNonceAccount,r=$n(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:fD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ps(s)}static nonceWithdraw(e){const t=zs.WithdrawNonceAccount,r=$n(t,{lamports:e.lamports});return new ps({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:fD,isSigner:!1,isWritable:!1},{pubkey:wA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=zs.AuthorizeNonceAccount,r=$n(t,{authorized:Jr(e.newAuthorizedPubkey.toBuffer())});return new ps({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=zs.AllocateWithSeed;t=$n(s,{base:Jr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=zs.Allocate;t=$n(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ps({keys:r,programId:this.programId,data:t})}}ac.programId=new tt("11111111111111111111111111111111");const YWe=Wy-300;class rS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/rS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new cs,h.add(ac.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new cs,h.add(ac.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new cs,h.add(ac.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new cs().add(ac.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await LV(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Vt(F(),-8),"bytes")]),a=rS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new cs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(LV(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Z0(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new cs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:wA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(OSe/2)))}}return!0}}rS.chunkSize=YWe;const ZWe=new tt("BPFLoader2111111111111111111111111111111111");class JWe{static getMinNumSignatures(e){return rS.getMinNumSignatures(e)}static load(e,t,r,s,i){return rS.load(e,t,r,i,s)}}function XWe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var QWe=Object.prototype.toString,eNe=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function A2(n,e){var t,r,s,i,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return A2(n.toJSON(),e);if(c=QWe.call(n),c==="[object Array]"){for(s="[",r=n.length-1,t=0;t<r;t++)s+=A2(n[t],!0)+",";return r>-1&&(s+=A2(n[t],!0)),s+"]"}else if(c==="[object Object]"){for(i=eNe(n).sort(),r=i.length,s="",t=0;t<r;)o=i[t],a=A2(n[o],!1),a!==void 0&&(s&&(s+=","),s+=JSON.stringify(o)+":"+a),t++;return"{"+s+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var tNe=function(n){var e=A2(n,!1);if(e!==void 0)return""+e},Sle=XWe(tNe);const yR=32;function Y5(n){let e=0;for(;n>1;)n/=2,e++;return e}function rNe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class WSe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=Y5(rNe(e+yR+1))-Y5(yR)-1,r=this.getSlotsInEpoch(t),s=e-(r-yR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*yR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Y5(yR)):this.slotsPerEpoch}}class NV extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const nNe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ht extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var sNe=globalThis.fetch;class iNe extends iWe{constructor(e,t,r){const s=i=>{const o=oWe(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function oNe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const kle=56;class FV{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=oNe(aNe,e),r=e.length-kle;Kn(r>=0,"lookup table is invalid"),Kn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(yn(),s,"addresses")]).decode(e.slice(kle));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new tt(t.authority[0]):void 0,addresses:i.map(o=>new tt(o))}}}const aNe={index:1,layout:N([F("typeIndex"),IA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(yn(),Vt(te(),-1),"authority")])},cNe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function uNe(n){const e=n.match(cNe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Uo=BB(iG(tt),Qe(),n=>new tt(n)),NSe=oG([Qe(),Ii("base64")]),vG=BB(iG(V.Buffer),NSe,n=>V.Buffer.from(n[0],"base64")),FSe=30*1e3;function lNe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ys(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function USe(n){return wu([De({jsonrpc:Ii("2.0"),id:Qe(),result:n}),De({jsonrpc:Ii("2.0"),id:Qe(),error:De({code:MB(),message:Qe(),data:kr(Z5e())})})])}const dNe=USe(MB());function Fr(n){return BB(USe(n),dNe,e=>"error"in e?e:{...e,result:ft(e.result,n)})}function uo(n){return Fr(De({context:De({slot:ke()}),value:n}))}function E4(n){return De({context:De({slot:ke()}),value:n})}function Z5(n,e){return n===0?new tS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new tt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new hd(e)}const fNe=De({foundation:ke(),foundationTerm:ke(),initial:ke(),taper:ke(),terminal:ke()}),hNe=Fr(Ot(Kt(De({epoch:ke(),effectiveSlot:ke(),amount:ke(),postBalance:ke(),commission:kr(Kt(ke()))})))),gNe=Ot(De({slot:ke(),prioritizationFee:ke()})),mNe=De({total:ke(),validator:ke(),foundation:ke(),epoch:ke()}),yNe=De({epoch:ke(),slotIndex:ke(),slotsInEpoch:ke(),absoluteSlot:ke(),blockHeight:kr(ke()),transactionCount:kr(ke())}),pNe=De({slotsPerEpoch:ke(),leaderScheduleSlotOffset:ke(),warmup:Jf(),firstNormalEpoch:ke(),firstNormalSlot:ke()}),bNe=bSe(Qe(),Ot(ke())),YS=Kt(wu([De({}),Qe()])),SNe=De({err:YS}),kNe=Ii("receivedSignature"),vNe=De({"solana-core":Qe(),"feature-set":kr(ke())}),vle=uo(De({err:Kt(wu([De({}),Qe()])),logs:Kt(Ot(Qe())),accounts:kr(Kt(Ot(Kt(De({executable:Jf(),owner:Qe(),lamports:ke(),data:Ot(Qe()),rentEpoch:kr(ke())}))))),unitsConsumed:kr(ke()),returnData:kr(Kt(De({programId:Qe(),data:oG([Qe(),Ii("base64")])})))})),ANe=uo(De({byIdentity:bSe(Qe(),Ot(ke())),range:De({firstSlot:ke(),lastSlot:ke()})}));function wNe(n,e,t,r,s,i){const o=t||sNe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new nWe(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},IFe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.log(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await Z0(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function INe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function _Ne(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const PNe=Fr(fNe),ENe=Fr(mNe),xNe=Fr(gNe),TNe=Fr(yNe),RNe=Fr(pNe),CNe=Fr(bNe),MNe=Fr(ke()),BNe=uo(De({total:ke(),circulating:ke(),nonCirculating:ke(),nonCirculatingAccounts:Ot(Uo)})),UV=De({amount:Qe(),uiAmount:Kt(ke()),decimals:ke(),uiAmountString:kr(Qe())}),zNe=uo(Ot(De({address:Uo,amount:Qe(),uiAmount:Kt(ke()),decimals:ke(),uiAmountString:kr(Qe())}))),$Ne=uo(Ot(De({pubkey:Uo,account:De({executable:Jf(),owner:Uo,lamports:ke(),data:vG,rentEpoch:ke()})}))),VV=De({program:Qe(),parsed:MB(),space:ke()}),DNe=uo(Ot(De({pubkey:Uo,account:De({executable:Jf(),owner:Uo,lamports:ke(),data:VV,rentEpoch:ke()})}))),ONe=uo(Ot(De({lamports:ke(),address:Uo}))),aM=De({executable:Jf(),owner:Uo,lamports:ke(),data:vG,rentEpoch:ke()}),KNe=De({pubkey:Uo,account:aM}),LNe=BB(wu([iG(V.Buffer),VV]),wu([NSe,VV]),n=>Array.isArray(n)?ft(n,vG):n),qV=De({executable:Jf(),owner:Uo,lamports:ke(),data:LNe,rentEpoch:ke()}),WNe=De({pubkey:Uo,account:qV}),NNe=De({state:wu([Ii("active"),Ii("inactive"),Ii("activating"),Ii("deactivating")]),active:ke(),inactive:ke()}),FNe=Fr(Ot(De({signature:Qe(),slot:ke(),err:YS,memo:Kt(Qe()),blockTime:kr(Kt(ke()))}))),UNe=Fr(Ot(De({signature:Qe(),slot:ke(),err:YS,memo:Kt(Qe()),blockTime:kr(Kt(ke()))}))),VNe=De({subscription:ke(),result:E4(aM)}),qNe=De({pubkey:Uo,account:aM}),jNe=De({subscription:ke(),result:E4(qNe)}),HNe=De({parent:ke(),slot:ke(),root:ke()}),GNe=De({subscription:ke(),result:HNe}),YNe=wu([De({type:wu([Ii("firstShredReceived"),Ii("completed"),Ii("optimisticConfirmation"),Ii("root")]),slot:ke(),timestamp:ke()}),De({type:Ii("createdBank"),parent:ke(),slot:ke(),timestamp:ke()}),De({type:Ii("frozen"),slot:ke(),timestamp:ke(),stats:De({numTransactionEntries:ke(),numSuccessfulTransactions:ke(),numFailedTransactions:ke(),maxTransactionsPerEntry:ke()})}),De({type:Ii("dead"),slot:ke(),timestamp:ke(),err:Qe()})]),ZNe=De({subscription:ke(),result:YNe}),JNe=De({subscription:ke(),result:E4(wu([SNe,kNe]))}),XNe=De({subscription:ke(),result:ke()}),QNe=De({pubkey:Qe(),gossip:Kt(Qe()),tpu:Kt(Qe()),rpc:Kt(Qe()),version:Kt(Qe())}),Ale=De({votePubkey:Qe(),nodePubkey:Qe(),activatedStake:ke(),epochVoteAccount:Jf(),epochCredits:Ot(oG([ke(),ke(),ke()])),commission:ke(),lastVote:ke(),rootSlot:Kt(ke())}),eFe=Fr(De({current:Ot(Ale),delinquent:Ot(Ale)})),tFe=wu([Ii("processed"),Ii("confirmed"),Ii("finalized")]),rFe=De({slot:ke(),confirmations:Kt(ke()),err:YS,confirmationStatus:kr(tFe)}),nFe=uo(Ot(Kt(rFe))),sFe=Fr(ke()),VSe=De({accountKey:Uo,writableIndexes:Ot(ke()),readonlyIndexes:Ot(ke())}),AG=De({signatures:Ot(Qe()),message:De({accountKeys:Ot(Qe()),header:De({numRequiredSignatures:ke(),numReadonlySignedAccounts:ke(),numReadonlyUnsignedAccounts:ke()}),instructions:Ot(De({accounts:Ot(ke()),data:Qe(),programIdIndex:ke()})),recentBlockhash:Qe(),addressTableLookups:kr(Ot(VSe))})}),qSe=De({pubkey:Uo,signer:Jf(),writable:Jf(),source:kr(wu([Ii("transaction"),Ii("lookupTable")]))}),jSe=De({accountKeys:Ot(qSe),signatures:Ot(Qe())}),HSe=De({parsed:MB(),program:Qe(),programId:Uo}),GSe=De({accounts:Ot(Uo),data:Qe(),programId:Uo}),iFe=wu([GSe,HSe]),oFe=wu([De({parsed:MB(),program:Qe(),programId:Qe()}),De({accounts:Ot(Qe()),data:Qe(),programId:Qe()})]),YSe=BB(iFe,oFe,n=>"accounts"in n?ft(n,GSe):ft(n,HSe)),ZSe=De({signatures:Ot(Qe()),message:De({accountKeys:Ot(qSe),instructions:Ot(YSe),recentBlockhash:Qe(),addressTableLookups:kr(Kt(Ot(VSe)))})}),XD=De({accountIndex:ke(),mint:Qe(),owner:kr(Qe()),uiTokenAmount:UV}),JSe=De({writable:Ot(Uo),readonly:Ot(Uo)}),x4=De({err:YS,fee:ke(),innerInstructions:kr(Kt(Ot(De({index:ke(),instructions:Ot(De({accounts:Ot(ke()),data:Qe(),programIdIndex:ke()}))})))),preBalances:Ot(ke()),postBalances:Ot(ke()),logMessages:kr(Kt(Ot(Qe()))),preTokenBalances:kr(Kt(Ot(XD))),postTokenBalances:kr(Kt(Ot(XD))),loadedAddresses:kr(JSe),computeUnitsConsumed:kr(ke())}),wG=De({err:YS,fee:ke(),innerInstructions:kr(Kt(Ot(De({index:ke(),instructions:Ot(YSe)})))),preBalances:Ot(ke()),postBalances:Ot(ke()),logMessages:kr(Kt(Ot(Qe()))),preTokenBalances:kr(Kt(Ot(XD))),postTokenBalances:kr(Kt(Ot(XD))),loadedAddresses:kr(JSe),computeUnitsConsumed:kr(ke())}),Ox=wu([Ii(0),Ii("legacy")]),ZS=De({pubkey:Qe(),lamports:ke(),postBalance:Kt(ke()),rewardType:Kt(Qe()),commission:kr(Kt(ke()))}),aFe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:AG,meta:Kt(x4),version:kr(Ox)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),cFe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),uFe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:jSe,meta:Kt(x4),version:kr(Ox)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),lFe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:ZSe,meta:Kt(wG),version:kr(Ox)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),dFe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:jSe,meta:Kt(wG),version:kr(Ox)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),fFe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),rewards:kr(Ot(ZS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),hFe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:AG,meta:Kt(x4)})),rewards:kr(Ot(ZS)),blockTime:Kt(ke())}))),wle=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),signatures:Ot(Qe()),blockTime:Kt(ke())}))),J5=Fr(Kt(De({slot:ke(),meta:x4,blockTime:kr(Kt(ke())),transaction:AG,version:kr(Ox)}))),n$=Fr(Kt(De({slot:ke(),transaction:ZSe,meta:Kt(wG),blockTime:kr(Kt(ke())),version:kr(Ox)}))),gFe=uo(De({blockhash:Qe(),feeCalculator:De({lamportsPerSignature:ke()})})),mFe=uo(De({blockhash:Qe(),lastValidBlockHeight:ke()})),yFe=uo(Jf()),pFe=De({slot:ke(),numTransactions:ke(),numSlots:ke(),samplePeriodSecs:ke()}),bFe=Fr(Ot(pFe)),SFe=uo(Kt(De({feeCalculator:De({lamportsPerSignature:ke()})}))),kFe=Fr(Qe()),vFe=Fr(Qe()),AFe=De({err:YS,logs:Ot(Qe()),signature:Qe()}),wFe=De({result:E4(AFe),subscription:ke()}),IFe={"solana-client":"js/0.0.0-development"};class _Fe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ys(l),h=this._buildArgs([],d,void 0,y),m=Sle(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=ft(f,Fr(ke()));if("error"in g)throw new Ht(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=lNe(e),this._rpcWsEndpoint=r||uNe(e),this._rpcClient=wNe(e,s,i,o,a,c),this._rpcRequest=INe(this._rpcClient),this._rpcBatchRequest=_Ne(this._rpcClient),this._rpcWebSocket=new iNe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=ft(o,uo(ke()));if("error"in a)throw new Ht(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=ft(t,Fr(Kt(ke())));if("error"in r)throw new Ht(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=ft(e,Fr(ke()));if("error"in t)throw new Ht(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=ft(e,MNe);if("error"in t)throw new Ht(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=ft(r,BNe);if("error"in s)throw new Ht(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=ft(s,uo(UV));if("error"in i)throw new Ht(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=ft(s,uo(UV));if("error"in i)throw new Ht(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ys(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=ft(c,$Ne);if("error"in u)throw new Ht(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=ft(o,DNe);if("error"in a)throw new Ht(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=ft(s,ONe);if("error"in i)throw new Ht(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=ft(s,zNe);if("error"in i)throw new Ht(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=ft(o,uo(Kt(aM)));if("error"in a)throw new Ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=ft(o,uo(Kt(qV)));if("error"in a)throw new Ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ft(a,uo(Ot(Kt(qV))));if("error"in c)throw new Ht(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ft(a,uo(Ot(Kt(aM))));if("error"in c)throw new Ht(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ys(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=ft(a,Fr(NNe));if("error"in c)throw new Ht(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ys(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=Ot(KNe),l=o.withContext===!0?ft(c,uo(u)):ft(c,Fr(u));if("error"in l)throw new Ht(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=ft(o,Fr(Ot(WNe)));if("error"in a)throw new Ht(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Kn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:gg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:gg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await Z0(1e3),i||(h=await y(),i))return;d({__type:gg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===gg.PROCESSED)l=d.response;else throw new yG(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:gg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await Z0(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===gg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await Z0(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new kv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new kv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new kv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new kv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:gg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===gg.PROCESSED)a=c.response;else throw new pG(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=ft(e,Fr(Ot(QNe)));if("error"in t)throw new Ht(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=ft(r,eFe);if("error"in s)throw new Ht(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=ft(i,Fr(ke()));if("error"in o)throw new Ht(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=ft(i,Fr(Qe()));if("error"in o)throw new Ht(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=ft(s,Fr(Ot(Uo)));if("error"in i)throw new Ht(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Kn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=ft(s,nFe);if("error"in i)throw new Ht(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=ft(i,Fr(ke()));if("error"in o)throw new Ht(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=ft(r,PNe);if("error"in s)throw new Ht(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ys(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=ft(a,hNe);if("error"in c)throw new Ht(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=ft(e,ENe);if("error"in t)throw new Ht(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=ft(i,TNe);if("error"in o)throw new Ht(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=ft(e,RNe);if("error"in t)throw new Ht(t.error,"failed to get epoch schedule");const r=t.result;return new WSe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=ft(e,CNe);if("error"in t)throw new Ht(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ft(s,sFe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=ft(r,gFe);if("error"in s)throw new Ht(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ft(t,bFe);if("error"in r)throw new Ht(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ft(s,SFe);if("error"in i)throw new Ht(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Jr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=ft(i,uo(Kt(ke())));if("error"in o)throw new Ht(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=ft(s,xNe);if("error"in i)throw new Ht(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=ft(i,mFe);if("error"in o)throw new Ht(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=ft(o,yFe);if("error"in a)throw new Ht(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=ft(e,Fr(vNe));if("error"in t)throw new Ht(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=ft(e,Fr(Qe()));if("error"in t)throw new Ht(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ft(o,uFe);if("error"in a)throw a.error;return a.result}case"none":{const a=ft(o,cFe);if("error"in a)throw a.error;return a.result}default:{const a=ft(o,aFe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:Z5(d,u.message)},version:d}))}:null}}}catch(a){throw new Ht(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ft(o,dFe);if("error"in a)throw a.error;return a.result}case"none":{const a=ft(o,fFe);if("error"in a)throw a.error;return a.result}default:{const a=ft(o,lFe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ht(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=ft(i,ANe);if("error"in o)throw new Ht(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=ft(o,J5);if("error"in a)throw new Ht(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Z5(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=ft(o,n$);if("error"in a)throw new Ht(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ft(c,n$);if("error"in u)throw new Ht(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ft(c,J5);if("error"in u)throw new Ht(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:Z5(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=ft(s,hFe);if("error"in i)throw new Ht(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new hd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:cs.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=ft(i,Fr(Ot(ke())));if("error"in o)throw new Ht(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ft(s,wle);if("error"in i)throw new Ht(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=ft(s,wle);if("error"in i)throw new Ht(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=ft(s,J5);if("error"in i)throw new Ht(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new hd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:cs.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=ft(s,n$);if("error"in i)throw new Ht(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=ft(o,n$);if("error"in a)throw new Ht(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=ft(i,FNe);if("error"in o)throw new Ht(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=ft(i,UNe);if("error"in o)throw new Ht(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new FV({key:e,state:FV.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=P4.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=ft(r,kFe);if("error"in s)throw new Ht(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Z0(100);const r=Date.now()-this._blockhashInfo.lastFetch>=FSe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Z0(OSe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=ft(i,uo(ke()));if("error"in o)throw new Ht(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=ft(p,vle);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof cs){let m=e;s=new cs,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=cs.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=ft(y,vle);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new NV("failed to simulate transaction: "+h.error.message,m)}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Jr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=ft(a,vFe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new NV("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,i,a.message),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=ft(e,VNe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Sle([e.method,t],!0),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Kn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=ft(e,jNe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",s?{filters:s}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=ft(e,wFe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=ft(e,GNe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=ft(e,ZNe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=ft(e,JNe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=ft(e,XNe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Fv{constructor(e){this._keypair=void 0,this._keypair=e??yle()}static generate(){return new Fv(yle())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=JD(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Fv({publicKey:r,secretKey:e})}static fromSeed(e){const t=JD(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Fv({publicKey:t,secretKey:r})}get publicKey(){return new tt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Eg=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),IA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),IA(),we(yn(),Vt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class PFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Eg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=es(Eg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=es(Eg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new tt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(IG.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class IG{constructor(){}static createLookupTable(e){const[t,r]=tt.findProgramAddressSync([e.authority.toBuffer(),rc(BigInt(e.recentSlot),8)],this.programId),s=Eg.CreateLookupTable,i=$n(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ac.programId,isSigner:!1,isWritable:!1}];return[new ps({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Eg.FreezeLookupTable,r=$n(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ps({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Eg.ExtendLookupTable,r=$n(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ac.programId,isSigner:!1,isWritable:!1}),new ps({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Eg.DeactivateLookupTable,r=$n(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ps({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Eg.CloseLookupTable,r=$n(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ps({programId:this.programId,keys:s,data:r})}}IG.programId=new tt("AddressLookupTab1e1111111111111111111111111");class EFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ff))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=es(ff.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=es(ff.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=es(ff.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=es(ff.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(_G.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ff=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),IA("microLamports")])}});class _G{constructor(){}static requestUnits(e){const t=ff.RequestUnits,r=$n(t,e);return new ps({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=ff.RequestHeapFrame,r=$n(t,e);return new ps({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=ff.SetComputeUnitLimit,r=$n(t,e);return new ps({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=ff.SetComputeUnitPrice,r=$n(t,{microLamports:BigInt(e.microLamports)});return new ps({keys:[],programId:this.programId,data:r})}}_G.programId=new tt("ComputeBudget111111111111111111111111111111");const Ile=64,_le=32,Ple=64,Ele=N([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class T4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Kn(t.length===_le,`Public Key must be ${_le} bytes but received ${t.length} bytes`),Kn(s.length===Ple,`Signature must be ${Ple} bytes but received ${s.length} bytes`);const o=Ele.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Ele.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new ps({keys:[],programId:T4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Kn(t.length===Ile,`Private key must be ${Ile} bytes but received ${t.length} bytes`);try{const i=Fv.fromSecretKey(t),o=i.publicKey.toBytes(),a=gG(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}T4.programId=new tt("Ed25519SigVerify111111111111111111111111111");const xFe=(n,e)=>{const t=w4.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};w4.utils.isValidPrivateKey;const TFe=w4.getPublicKey,xle=32,X5=20,Tle=64,RFe=11,Q5=N([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Uv{constructor(){}static publicKeyToEthAddress(e){Kn(e.length===Tle,`Public key must be ${Tle} bytes but received ${e.length} bytes`);try{return V.Buffer.from(fle(Jr(e))).slice(-X5)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Uv.createInstructionWithEthAddress({ethAddress:Uv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Kn(a.length===X5,`Address must be ${X5} bytes but received ${a.length} bytes`);const c=1+RFe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(Q5.span+r.length);return Q5.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Jr(s),ethAddress:Jr(a),recoveryId:i},h),h.fill(Jr(r),Q5.span),new ps({keys:[],programId:Uv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Kn(t.length===xle,`Private key must be ${xle} bytes but received ${t.length} bytes`);try{const i=Jr(t),o=TFe(i,!1).slice(1),a=V.Buffer.from(fle(Jr(r))),[c,u]=xFe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Uv.programId=new tt("KeccakSecp256k11111111111111111111111111111");var XSe;const QSe=new tt("StakeConfig11111111111111111111111111111111");class eke{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class zB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}XSe=zB;zB.default=new XSe(0,0,tt.default);class CFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ba))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=es(ba.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new eke(new tt(t.staker),new tt(t.withdrawer)),lockup:new zB(r.unixTimestamp,r.epoch,new tt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),es(ba.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=es(ba.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new tt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=es(ba.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new tt(i),newAuthorizedPubkey:new tt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=es(ba.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),es(ba.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=es(ba.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),es(ba.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(R4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ba=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),BWe(),zWe()])},Authorize:{index:1,layout:N([F("instruction"),yn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Pe("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Pe("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),yn("newAuthorized"),F("stakeAuthorizationType"),k1("authoritySeed"),yn("authorityOwner")])}}),MFe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class R4{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||zB.default,o=ba.Initialize,a=$n(o,{authorized:{staker:Jr(r.staker.toBuffer()),withdrawer:Jr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Jr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:wA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ps(c)}static createAccountWithSeed(e){const t=new cs;t.add(ac.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new cs;t.add(ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=ba.Delegate,o=$n(i);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:hD,isSigner:!1,isWritable:!1},{pubkey:QSe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=ba.Authorize,c=$n(a,{newAuthorized:Jr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!1,isWritable:!1}),new cs().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=ba.AuthorizeWithSeed,l=$n(u,{newAuthorized:Jr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Jr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Jd,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!1,isWritable:!1}),new cs().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=ba.Split,a=$n(o,{lamports:i});return new ps({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){const t=new cs;return t.add(ac.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,basePubkey:i,seed:o,lamports:a}=e,c=new cs;return c.add(ac.allocate({accountPubkey:s,basePubkey:i,seed:o,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=ba.Merge,o=$n(i);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:hD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=ba.Withdraw,c=$n(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:hD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!1,isWritable:!1}),new cs().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=ba.Deactivate,i=$n(s);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}R4.programId=new tt("Stake11111111111111111111111111111111111111");R4.space=200;class tke{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class BFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(xg))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=es(xg.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new tke(new tt(t.nodePubkey),new tt(t.authorizedVoter),new tt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=es(xg.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new tt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=es(xg.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new tt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new tt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=es(xg.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Kx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const xg=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),$We()])},Authorize:{index:1,layout:N([F("instruction"),yn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Pe("lamports")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),DWe()])}}),zFe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Kx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=xg.InitializeAccount,o=$n(i,{voteInit:{nodePubkey:Jr(s.nodePubkey.toBuffer()),authorizedVoter:Jr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Jr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:wA,isSigner:!1,isWritable:!1},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ps(a)}static createAccount(e){const t=new cs;return t.add(ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=xg.Authorize,a=$n(o,{newAuthorized:Jr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new cs().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=xg.AuthorizeWithSeed,u=$n(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Jr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Jr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Jd,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new cs().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=xg.Withdraw,a=$n(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new cs().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return Kx.withdraw(e)}}Kx.programId=new tt("Vote111111111111111111111111111111111111111");Kx.space=3731;const rke=new tt("Va1idator1nfo111111111111111111111111111111"),$Fe=De({name:Qe(),website:kr(Qe()),details:kr(Qe()),keybaseUsername:kr(Qe())});class PG{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(tu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new tt(t.slice(0,Xu));t=t.slice(Xu);const a=t.slice(0,1)[0]===1;t=t.slice(1),s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(rke)&&s[1].isSigner){const i=k1().decode(V.Buffer.from(t)),o=JSON.parse(i);return ySe(o,$Fe),new PG(s[1].publicKey,o)}return null}}const DFe=new tt("Vote111111111111111111111111111111111111111"),OFe=N([yn("nodePubkey"),yn("authorizedWithdrawer"),te("commission"),Ae(),we(N([Ae("slot"),F("confirmationCount")]),Vt(F(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(N([Ae("epoch"),yn("authorizedVoter")]),Vt(F(),-8),"authorizedVoters"),N([we(N([yn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(N([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(F(),-8),"epochCredits"),N([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class EG{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=OFe.decode(Jr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new EG({nodePubkey:new tt(r.nodePubkey),authorizedWithdrawer:new tt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(KFe),priorVoters:LFe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function KFe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new tt(n)}}function Rle({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new tt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function LFe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Rle),...n.slice(0,e).map(Rle)]}const Cle={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function WFe(n,e){const t=e===!1?"http":"https";if(!n)return Cle[t].devnet;const r=Cle[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function NFe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const FFe=1e9;var UFe=Object.freeze(Object.defineProperty({__proto__:null,Account:RWe,AddressLookupTableAccount:FV,AddressLookupTableInstruction:PFe,AddressLookupTableProgram:IG,Authorized:eke,BLOCKHASH_CACHE_TIMEOUT_MS:FSe,BPF_LOADER_DEPRECATED_PROGRAM_ID:CWe,BPF_LOADER_PROGRAM_ID:ZWe,BpfLoader:JWe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ff,ComputeBudgetInstruction:EFe,ComputeBudgetProgram:_G,Connection:_Fe,Ed25519Program:T4,Enum:xWe,EpochSchedule:WSe,FeeCalculatorLayout:KSe,Keypair:Fv,LAMPORTS_PER_SOL:FFe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Eg,Loader:rS,Lockup:zB,MAX_SEED_LENGTH:$Se,Message:hd,MessageAccountKeys:oM,MessageV0:tS,NONCE_ACCOUNT_LENGTH:WV,NonceAccount:P4,PACKET_DATA_SIZE:Wy,PUBLIC_KEY_LENGTH:Xu,PublicKey:tt,SIGNATURE_LENGTH_IN_BYTES:AA,SOLANA_SCHEMA:R2,STAKE_CONFIG_ID:QSe,STAKE_INSTRUCTION_LAYOUTS:ba,SYSTEM_INSTRUCTION_LAYOUTS:zs,SYSVAR_CLOCK_PUBKEY:Jd,SYSVAR_EPOCH_SCHEDULE_PUBKEY:NWe,SYSVAR_INSTRUCTIONS_PUBKEY:FWe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:fD,SYSVAR_RENT_PUBKEY:wA,SYSVAR_REWARDS_PUBKEY:UWe,SYSVAR_SLOT_HASHES_PUBKEY:VWe,SYSVAR_SLOT_HISTORY_PUBKEY:qWe,SYSVAR_STAKE_HISTORY_PUBKEY:hD,Secp256k1Program:Uv,SendTransactionError:NV,SolanaJSONRPCError:Ht,SolanaJSONRPCErrorCode:nNe,StakeAuthorizationLayout:MFe,StakeInstruction:CFe,StakeProgram:R4,Struct:mG,SystemInstruction:GWe,SystemProgram:ac,Transaction:cs,TransactionExpiredBlockheightExceededError:yG,TransactionExpiredNonceInvalidError:kv,TransactionExpiredTimeoutError:pG,TransactionInstruction:ps,TransactionMessage:SG,TransactionStatus:gg,VALIDATOR_INFO_KEY:rke,VERSION_PREFIX_MASK:I4,VOTE_PROGRAM_ID:DFe,ValidatorInfo:PG,VersionedMessage:bG,VersionedTransaction:kG,VoteAccount:EG,VoteAuthorizationLayout:zFe,VoteInit:tke,VoteInstruction:BFe,VoteProgram:Kx,clusterApiUrl:WFe,sendAndConfirmRawTransaction:NFe,sendAndConfirmTransaction:LV},Symbol.toStringTag,{value:"Module"})),VFe=xd(UFe);(function(n){var e=K&&K.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=hue,r=VFe,s=e(KDe.exports);var i=hue;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return i.struct}});class o extends t.Layout{constructor(T,z,O){super(T,O),this.blob=t.blob(T),this.signed=z}decode(T,z=0){const O=new s.default(this.blob.decode(T,z),10,"le");return this.signed?O.fromTwos(this.span*8).clone():O}encode(T,z,O=0){return this.signed&&(T=T.toTwos(this.span*8)),this.blob.encode(T.toArrayLike(Ve.Buffer,"le",this.span),z,O)}}function a(E){return new o(8,!1,E)}n.u64=a;function c(E){return new o(8,!0,E)}n.i64=c;function u(E){return new o(16,!1,E)}n.u128=u;function l(E){return new o(16,!0,E)}n.i128=l;class d extends t.Layout{constructor(T,z,O,R){super(T.span,R),this.layout=T,this.decoder=z,this.encoder=O}decode(T,z){return this.decoder(this.layout.decode(T,z))}encode(T,z,O){return this.layout.encode(this.encoder(T),z,O)}getSpan(T,z){return this.layout.getSpan(T,z)}}function y(E){return new d(t.blob(32),T=>new r.PublicKey(T),T=>T.toBuffer(),E)}n.publicKey=y;class h extends t.Layout{constructor(T,z){super(-1,z),this.layout=T,this.discriminator=t.u8()}encode(T,z,O=0){return T==null?this.discriminator.encode(0,z,O):(this.discriminator.encode(1,z,O),this.layout.encode(T,z,O+1)+1)}decode(T,z=0){const O=this.discriminator.decode(T,z);if(O===0)return null;if(O===1)return this.layout.decode(T,z+1);throw new Error("Invalid option "+this.property)}getSpan(T,z=0){const O=this.discriminator.decode(T,z);if(O===0)return 1;if(O===1)return this.layout.getSpan(T,z+1)+1;throw new Error("Invalid option "+this.property)}}function m(E,T){return new h(E,T)}n.option=m;function f(E){return new d(t.u8(),g,b,E)}n.bool=f;function g(E){if(E===0)return!1;if(E===1)return!0;throw new Error("Invalid bool: "+E)}function b(E){return E?1:0}function S(E,T){const z=t.u32("length"),O=t.struct([z,t.seq(E,t.offset(z,-z.span),"values")]);return new d(O,({values:R})=>R,R=>({values:R}),T)}n.vec=S;function p(E,T,z){const O=t.struct([a("tag"),T.replicate("data")]);function R({tag:v,data:k}){if(!v.eq(E))throw new Error("Invalid tag, expected: "+E.toString("hex")+", got: "+v.toString("hex"));return k}return new d(O,R,v=>({tag:E,data:v}),z)}n.tagged=p;function I(E){const T=t.u32("length"),z=t.struct([T,t.blob(t.offset(T,-T.span),"data")]);return new d(z,({data:O})=>O,O=>({data:O}),E)}n.vecU8=I;function A(E){return new d(I(),T=>T.toString("utf-8"),T=>Ve.Buffer.from(T,"utf-8"),E)}n.str=A;function w(E,T,z){const O=t.union(z??t.u8(),T);return E.forEach((R,v)=>O.addVariant(v,R,R.property)),O}n.rustEnum=w;function _(E,T,z){const O=t.struct([t.seq(E,T,"values")]);return new d(O,({values:R})=>R,R=>({values:R}),z)}n.array=_;class P extends t.Layout{constructor(T,z,O){super(T.span+z.span,O),this.keyLayout=T,this.valueLayout=z}decode(T,z){z=z||0;const O=this.keyLayout.decode(T,z),R=this.valueLayout.decode(T,z+this.keyLayout.getSpan(T,z));return[O,R]}encode(T,z,O){O=O||0;const R=this.keyLayout.encode(T[0],z,O),v=this.valueLayout.encode(T[1],z,O+R);return R+v}getSpan(T,z){return this.keyLayout.getSpan(T,z)+this.valueLayout.getSpan(T,z)}}function M(E,T,z){const O=t.u32("length"),R=t.struct([O,t.seq(new P(E,T),t.offset(O,-O.span),"values")]);return new d(R,({values:v})=>new Map(v),v=>({values:Array.from(v.entries())}),z)}n.map=M})(xr);class yu{static fieldLayout(e,t){const r=e.name!==void 0?Fo(e.name):void 0;switch(e.type){case"bool":return xr.bool(r);case"u8":return xr.u8(r);case"i8":return xr.i8(r);case"u16":return xr.u16(r);case"i16":return xr.i16(r);case"u32":return xr.u32(r);case"i32":return xr.i32(r);case"f32":return xr.f32(r);case"u64":return xr.u64(r);case"i64":return xr.i64(r);case"f64":return xr.f64(r);case"u128":return xr.u128(r);case"i128":return xr.i128(r);case"bytes":return xr.vecU8(r);case"string":return xr.str(r);case"publicKey":return xr.publicKey(r);default:{if("vec"in e.type)return xr.vec(yu.fieldLayout({name:void 0,type:e.type.vec},t),r);if("option"in e.type)return xr.option(yu.fieldLayout({name:void 0,type:e.type.option},t),r);if("defined"in e.type){const s=e.type.defined;if(t===void 0)throw new rM("User defined types not provided");const i=t.filter(o=>o.name===s);if(i.length!==1)throw new rM(`Type not found: ${JSON.stringify(e)}`);return yu.typeDefLayout(i[0],t,r)}else if("array"in e.type){let s=e.type.array[0],i=e.type.array[1],o=yu.fieldLayout({name:void 0,type:s},t);return xr.array(o,i,r)}else throw new Error(`Not yet implemented: ${e}`)}}}static typeDefLayout(e,t=[],r){if(e.type.kind==="struct"){const s=e.type.fields.map(i=>yu.fieldLayout(i,t));return xr.struct(s,r)}else if(e.type.kind==="enum"){let s=e.type.variants.map(i=>{const o=Fo(i.name);if(i.fields===void 0)return xr.struct([],o);const a=i.fields.map(c=>{if(!c.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return yu.fieldLayout(c,t)});return xr.struct(a,o)});return r!==void 0?xr.rustEnum(s).replicate(r):xr.rustEnum(s,r)}else throw new Error(`Unknown type kint: ${e}`)}}const Mle="state",Ble="global";class C4{constructor(e){this.idl=e,this.ixLayout=C4.parseIxLayout(e);const t=new Map;e.instructions.forEach(r=>{const s=eW(Ble,r.name);t.set(Ie.encode(s),{layout:this.ixLayout.get(r.name),name:r.name})}),e.state&&e.state.methods.map(r=>{const s=eW(Mle,r.name);t.set(Ie.encode(s),{layout:this.ixLayout.get(r.name),name:r.name})}),this.sighashLayouts=t}encode(e,t){return this._encode(Ble,e,t)}encodeState(e,t){return this._encode(Mle,e,t)}_encode(e,t,r){const s=V.Buffer.alloc(1e3),i=Fo(t),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const a=o.encode(r,s),c=s.slice(0,a);return V.Buffer.concat([eW(e,t),c])}static parseIxLayout(e){const r=(e.state?e.state.methods:[]).map(s=>{let i=s.args.map(a=>{var c,u;return yu.fieldLayout(a,Array.from([...(c=e.accounts)!==null&&c!==void 0?c:[],...(u=e.types)!==null&&u!==void 0?u:[]]))});const o=Fo(s.name);return[o,xr.struct(i,o)]}).concat(e.instructions.map(s=>{let i=s.args.map(a=>{var c,u;return yu.fieldLayout(a,Array.from([...(c=e.accounts)!==null&&c!==void 0?c:[],...(u=e.types)!==null&&u!==void 0?u:[]]))});const o=Fo(s.name);return[o,xr.struct(i,o)]}));return new Map(r)}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?V.Buffer.from(e,"hex"):Ie.decode(e));let r=Ie.encode(e.slice(0,8)),s=e.slice(8);const i=this.sighashLayouts.get(r);return i?{data:i.layout.decode(s),name:i.name}:null}format(e,t){return Ag.format(e,t,this.idl)}}class Ag{static format(e,t,r){const s=r.instructions.filter(c=>e.name===c.name)[0];if(s===void 0)return console.error("Invalid instruction given"),null;const i=s.args.map(c=>({name:c.name,type:Ag.formatIdlType(c.type),data:Ag.formatIdlData(c,e.data[c.name],r.types)})),o=Ag.flattenIdlAccounts(s.accounts),a=t.map((c,u)=>u<o.length?{name:o[u].name,...c}:{name:void 0,...c});return{args:i,accounts:a}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map(s=>this.formatIdlData({name:"",type:e.type.vec},s)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if(e.type.hasOwnProperty("defined")){if(r===void 0)throw new Error("User defined types not provided");const s=r.filter(i=>i.name===e.type.defined);if(s.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Ag.formatIdlDataDefined(s[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if(e.type.kind==="struct"){const s=e.type,i=Object.keys(t).map(o=>{const a=s.fields.filter(c=>c.name===o)[0];if(a===void 0)throw new Error("Unable to find type");return o+": "+Ag.formatIdlData(a,t[o],r)}).join(", ");return"{ "+i+" }"}else{if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const s=e.type.variants,i=Object.keys(t)[0],o=t[i],a=Object.keys(o).map(u=>{var l;const d=o[u],y=(l=s[i])===null||l===void 0?void 0:l.filter(h=>h.name===u)[0];if(y===void 0)throw new Error("Unable to find variant");return u+": "+Ag.formatIdlData(y,d,r)}).join(", "),c=Fo(i,{pascalCase:!0});return a.length===0?c:`${c} { ${a} }`}else return"Tuple formatting not yet implemented"}}static flattenIdlAccounts(e,t){return e.map(r=>{const s=qFe(r.name);if(r.hasOwnProperty("accounts")){const i=t?`${t} > ${s}`:s;return Ag.flattenIdlAccounts(r.accounts,i)}else return{...r,name:t?`${t} > ${s}`:s}}).flat()}}function qFe(n){const e=n.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}function eW(n,e){let t=OLe(e),r=`${n}:${t}`;return V.Buffer.from(US.exports.sha256.digest(r)).slice(0,8)}function $B(n,e){if(e.type.kind==="enum"){let t=e.type.variants.map(r=>r.fields===void 0?0:r.fields.map(s=>{if(!(typeof s=="object"&&"name"in s))throw new Error("Tuple enum variants not yet implemented.");return C2(n,s.type)}).reduce((s,i)=>s+i));return Math.max(...t)+1}return e.type.fields===void 0?0:e.type.fields.map(t=>C2(n,t.type)).reduce((t,r)=>t+r,0)}function C2(n,e){var t,r;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"bytes":return 1;case"string":return 1;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+C2(n,e.option);if("coption"in e)return 4+C2(n,e.coption);if("defined"in e){const s=(r=(t=n.types)===null||t===void 0?void 0:t.filter(o=>o.name===e.defined))!==null&&r!==void 0?r:[];if(s.length!==1)throw new rM(`Type not found: ${JSON.stringify(e)}`);let i=s[0];return $B(n,i)}if("array"in e){let s=e.array[0],i=e.array[1];return C2(n,s)*i}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const gD=8;class Vv{constructor(e){if(e.accounts===void 0){this.accountLayouts=new Map;return}const t=e.accounts.map(r=>[r.name,yu.typeDefLayout(r,e.types)]);this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const r=V.Buffer.alloc(1e3),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);const i=s.encode(t,r);let o=r.slice(0,i),a=Vv.accountDiscriminator(e);return V.Buffer.concat([a,o])}decode(e,t){if(Vv.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const r=t.slice(gD),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);return s.decode(r)}memcmp(e,t){const r=Vv.accountDiscriminator(e);return{offset:0,bytes:Ie.encode(t?V.Buffer.concat([r,t]):r)}}size(e){var t;return gD+((t=$B(this.idl,e))!==null&&t!==void 0?t:0)}static accountDiscriminator(e){return V.Buffer.from(US.exports.sha256.digest(`account:${Fo(e,{pascalCase:!0})}`)).slice(0,gD)}}class nke{constructor(e){if(e.events===void 0){this.layouts=new Map;return}const t=e.events.map(r=>{let s={name:r.name,type:{kind:"struct",fields:r.fields.map(i=>({name:i.name,type:i.type}))}};return[r.name,yu.typeDefLayout(s,e.types)]});this.layouts=new Map(t),this.discriminators=new Map(e.events===void 0?[]:e.events.map(r=>[gV(ske(r.name)),r.name]))}decode(e){let t;try{t=V.Buffer.from(M0e(e))}catch{return null}const r=gV(t.slice(0,8)),s=this.discriminators.get(r);if(s===void 0)return null;const i=this.layouts.get(s);if(!i)throw new Error(`Unknown event: ${s}`);return{data:i.decode(t.slice(8)),name:s}}}function ske(n){return V.Buffer.from(US.exports.sha256.digest(`event:${n}`)).slice(0,8)}class ike{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=yu.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=V.Buffer.alloc(1e3),s=this.layout.encode(t,r),i=await xG(e),o=r.slice(0,s);return V.Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function xG(n){let e=S4("anchor-deprecated-state")?"account":"state";return V.Buffer.from(US.exports.sha256.digest(`${e}:${n}`)).slice(0,8)}class jFe{constructor(e){if(e.types===void 0){this.typeLayouts=new Map;return}const t=e.types.map(r=>[r.name,yu.typeDefLayout(r,e.types)]);this.typeLayouts=new Map(t),this.idl=e}encode(e,t){const r=V.Buffer.alloc(1e3),s=this.typeLayouts.get(e);if(!s)throw new Error(`Unknown type: ${e}`);const i=s.encode(t,r);return r.slice(0,i)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class M4{constructor(e){this.instruction=new C4(e),this.accounts=new Vv(e),this.events=new nke(e),e.state&&(this.state=new ike(e)),this.types=new jFe(e)}}class HFe{constructor(e){}encode(e,t){switch(Fo(e)){case"initializeMint":return GFe(t);case"initializeAccount":return YFe();case"initializeMultisig":return ZFe(t);case"transfer":return JFe(t);case"approve":return XFe(t);case"revoke":return QFe();case"setAuthority":return eUe(t);case"mintTo":return tUe(t);case"burn":return rUe(t);case"closeAccount":return nUe();case"freezeAccount":return sUe();case"thawAccount":return iUe();case"transferChecked":return oUe(t);case"approvedChecked":return aUe(t);case"mintToChecked":return cUe(t);case"burnChecked":return uUe(t);case"intializeAccount2":return lUe(t);case"syncNative":return dUe();case"initializeAccount3":return fUe(t);case"initializeMultisig2":return hUe(t);case"initializeMint2":return gUe(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}function GFe({decimals:n,mintAuthority:e,freezeAuthority:t}){return $o({initializeMint:{decimals:n,mintAuthority:e.toBuffer(),freezeAuthorityOption:!!t,freezeAuthority:(t||Ee.default).toBuffer()}})}function YFe(n){return $o({initializeAccount:{}})}function ZFe({m:n}){return $o({initializeMultisig:{m:n}})}function JFe({amount:n}){return $o({transfer:{amount:n}})}function XFe({amount:n}){return $o({approve:{amount:n}})}function QFe(n){return $o({revoke:{}})}function eUe({authorityType:n,newAuthority:e}){return $o({setAuthority:{authorityType:n,newAuthority:e}})}function tUe({amount:n}){return $o({mintTo:{amount:n}})}function rUe({amount:n}){return $o({burn:{amount:n}})}function nUe(n){return $o({closeAccount:{}})}function sUe(n){return $o({freezeAccount:{}})}function iUe(n){return $o({thawAccount:{}})}function oUe({amount:n,decimals:e}){return $o({transferChecked:{amount:n,decimals:e}})}function aUe({amount:n,decimals:e}){return $o({approveChecked:{amount:n,decimals:e}})}function cUe({amount:n,decimals:e}){return $o({mintToChecked:{amount:n,decimals:e}})}function uUe({amount:n,decimals:e}){return $o({burnChecked:{amount:n,decimals:e}})}function lUe({authority:n}){return $o({initilaizeAccount2:{authority:n}})}function dUe(n){return $o({syncNative:{}})}function fUe({authority:n}){return $o({initializeAccount3:{authority:n}})}function hUe({m:n}){return $o({initializeMultisig2:{m:n}})}function gUe({decimals:n,mintAuthority:e,freezeAuthority:t}){return $o({encodeInitializeMint2:{decimals:n,mintAuthority:e,freezeAuthority:t}})}const Yi=L0e(_c("instruction"));Yi.addVariant(0,hn([_c("decimals"),VS(32,"mintAuthority"),_c("freezeAuthorityOption"),_A("freezeAuthority")]),"initializeMint");Yi.addVariant(1,hn([]),"initializeAccount");Yi.addVariant(2,hn([_c("m")]),"initializeMultisig");Yi.addVariant(3,hn([om("amount")]),"transfer");Yi.addVariant(4,hn([om("amount")]),"approve");Yi.addVariant(5,hn([]),"revoke");Yi.addVariant(6,hn([_c("authorityType"),_c("newAuthorityOption"),_A("newAuthority")]),"setAuthority");Yi.addVariant(7,hn([om("amount")]),"mintTo");Yi.addVariant(8,hn([om("amount")]),"burn");Yi.addVariant(9,hn([]),"closeAccount");Yi.addVariant(10,hn([]),"freezeAccount");Yi.addVariant(11,hn([]),"thawAccount");Yi.addVariant(12,hn([om("amount"),_c("decimals")]),"transferChecked");Yi.addVariant(13,hn([om("amount"),_c("decimals")]),"approvedChecked");Yi.addVariant(14,hn([om("amount"),_c("decimals")]),"mintToChecked");Yi.addVariant(15,hn([om("amount"),_c("decimals")]),"burnedChecked");Yi.addVariant(16,hn([_A("authority")]),"InitializeAccount2");Yi.addVariant(17,hn([]),"syncNative");Yi.addVariant(18,hn([_A("authority")]),"initializeAccount3");Yi.addVariant(19,hn([_c("m")]),"initializeMultisig2");Yi.addVariant(20,hn([_c("decimals"),_A("mintAuthority"),_c("freezeAuthorityOption"),_A("freezeAuthority")]),"initializeMint2");function _A(n){return VS(32,n)}function $o(n){let e=Ve.Buffer.alloc(mUe),t=Yi.encode(n,e);return e.slice(0,t)}const mUe=Math.max(...Object.values(Yi.registry).map(n=>n.span));class yUe{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function mD(n){return new TG(VS(8),e=>RG.fromBuffer(e),e=>e.toBuffer(),n)}function pUe(n){return new TG(_c(),SUe,kUe,n)}function vv(n){return new TG(VS(32),e=>new Ee(e),e=>e.toBuffer(),n)}function M2(n,e){return new bUe(n,e)}class TG extends i4{constructor(e,t,r,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class bUe extends i4{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Ig()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}function SUe(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function kUe(n){return n?1:0}class RG extends ki{toBuffer(){const e=super.toArray().reverse(),t=Ve.Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=Ve.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new RG([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}class vUe{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const r=Ve.Buffer.alloc(165),s=ake.encode(t,r);return r.slice(0,s)}case"mint":{const r=Ve.Buffer.alloc(82),s=oke.encode(t,r);return r.slice(0,s)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return wUe(t);case"mint":return AUe(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return(t=$B(this.idl,e))!==null&&t!==void 0?t:0}}function AUe(n){return oke.decode(n)}function wUe(n){return ake.decode(n)}const oke=hn([M2(vv(),"mintAuthority"),mD("supply"),_c("decimals"),pUe("isInitialized"),M2(vv(),"freezeAuthority")]),ake=hn([vv("mint"),vv("authority"),mD("amount"),M2(vv(),"delegate"),_c("state"),M2(mD(),"isNative"),mD("delegatedAmount"),M2(vv(),"closeAuthority")]);class IUe{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class _Ue{constructor(e){}encode(e,t){throw new Error("SPL token does not have user-defined types")}decode(e,t){throw new Error("SPL token does not have user-defined types")}}class cke{constructor(e){this.instruction=new HFe(e),this.accounts=new vUe(e),this.events=new IUe(e),this.state=new yUe(e),this.types=new _Ue(e)}}class PUe{constructor(e){}encode(e,t){switch(Fo(e)){case"createAccount":return xUe(t);case"assign":return TUe(t);case"transfer":return RUe(t);case"createAccountWithSeed":return CUe(t);case"advanceNonceAccount":return BUe(t);case"withdrawNonceAccount":return zUe(t);case"initializeNonceAccount":return MUe(t);case"authorizeNonceAccount":return $Ue(t);case"allocate":return DUe(t);case"allocateWithSeed":return OUe(t);case"assignWithSeed":return KUe(t);case"transferWithSeed":return LUe(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("System does not have state")}}class EUe extends i4{constructor(e){super(-1,e),this.property=e,this.layout=hn([Ig("length"),Ig("lengthPadding"),VS(LDe(Ig(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const s={chars:Ve.Buffer.from(e,"utf8")};return this.layout.encode(s,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return Ig().span+Ig().span+new ki(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function B4(n){return new EUe(n)}function xl(n){return VS(32,n)}function xUe({lamports:n,space:e,owner:t}){return Tl({createAccount:{lamports:n,space:e,owner:t.toBuffer()}})}function TUe({owner:n}){return Tl({assign:{owner:n.toBuffer()}})}function RUe({lamports:n}){return Tl({transfer:{lamports:n}})}function CUe({base:n,seed:e,lamports:t,space:r,owner:s}){return Tl({createAccountWithSeed:{base:n.toBuffer(),seed:e,lamports:t,space:r,owner:s.toBuffer()}},nc.getVariant(3).span+e.length)}function MUe({authorized:n}){return Tl({initializeNonceAccount:{authorized:n.toBuffer()}})}function BUe({authorized:n}){return Tl({advanceNonceAccount:{authorized:n.toBuffer()}})}function zUe({lamports:n}){return Tl({withdrawNonceAccount:{lamports:n}})}function $Ue({authorized:n}){return Tl({authorizeNonceAccount:{authorized:n.toBuffer()}})}function DUe({space:n}){return Tl({allocate:{space:n}})}function OUe({base:n,seed:e,space:t,owner:r}){return Tl({allocateWithSeed:{base:n.toBuffer(),seed:e,space:t,owner:r.toBuffer()}},nc.getVariant(9).span+e.length)}function KUe({base:n,seed:e,owner:t}){return Tl({assignWithSeed:{base:n.toBuffer(),seed:e,owner:t.toBuffer()}},nc.getVariant(10).span+e.length)}function LUe({lamports:n,seed:e,owner:t}){return Tl({transferWithSeed:{lamports:n,seed:e,owner:t.toBuffer()}},nc.getVariant(11).span+e.length)}const nc=L0e(Ig("instruction"));nc.addVariant(0,hn([Zg("lamports"),Zg("space"),xl("owner")]),"createAccount");nc.addVariant(1,hn([xl("owner")]),"assign");nc.addVariant(2,hn([Zg("lamports")]),"transfer");nc.addVariant(3,hn([xl("base"),B4("seed"),Zg("lamports"),Zg("space"),xl("owner")]),"createAccountWithSeed");nc.addVariant(4,hn([xl("authorized")]),"advanceNonceAccount");nc.addVariant(5,hn([Zg("lamports")]),"withdrawNonceAccount");nc.addVariant(6,hn([xl("authorized")]),"initializeNonceAccount");nc.addVariant(7,hn([xl("authorized")]),"authorizeNonceAccount");nc.addVariant(8,hn([Zg("space")]),"allocate");nc.addVariant(9,hn([xl("base"),B4("seed"),Zg("space"),xl("owner")]),"allocateWithSeed");nc.addVariant(10,hn([xl("base"),B4("seed"),xl("owner")]),"assignWithSeed");nc.addVariant(11,hn([Zg("lamports"),B4("seed"),xl("owner")]),"transferWithSeed");function Tl(n,e){const t=Ve.Buffer.alloc(e??WUe),r=nc.encode(n,t);return e===void 0?t.slice(0,r):t}const WUe=Math.max(...Object.values(nc.registry).map(n=>n.span));class NUe{constructor(e){}encode(e,t){throw new Error("System does not have state")}decode(e){throw new Error("System does not have state")}}class FUe{constructor(e){this.idl=e}async encode(e,t){switch(e){case"nonce":{const r=Ve.Buffer.alloc(Q2),s=uke.encode(t,r);return r.slice(0,s)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"nonce":return UUe(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"nonce":return{dataSize:Q2};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return(t=$B(this.idl,e))!==null&&t!==void 0?t:0}}function UUe(n){return uke.decode(n)}class VUe extends i4{constructor(e,t,r,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function zle(n){return new VUe(VS(32),e=>new Ee(e),e=>e.toBuffer(),n)}const uke=hn([Ig("version"),Ig("state"),zle("authorizedPubkey"),zle("nonce"),hn([om("lamportsPerSignature")],"feeCalculator")]);class qUe{constructor(e){}decode(e){throw new Error("System program does not have events")}}class jUe{constructor(e){}encode(e,t){throw new Error("System does not have user-defined types")}decode(e,t){throw new Error("System does not have user-defined types")}}class lke{constructor(e){this.instruction=new PUe(e),this.accounts=new FUe(e),this.events=new qUe(e),this.state=new NUe(e),this.types=new jUe(e)}}function HUe(n){return US.exports.sha256(n)}var GUe=Object.freeze(Object.defineProperty({__proto__:null,hash:HUe},Symbol.toStringTag,{value:"Module"}));function dke(n,e,t){const r=V.Buffer.concat([n.toBuffer(),V.Buffer.from(e),t.toBuffer()]),s=US.exports.sha256.digest(r);return new Ee(V.Buffer.from(s))}function fke(n,e){let r=V.Buffer.alloc(0);n.forEach(function(o){if(o.length>32)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,YUe(o)])}),r=V.Buffer.concat([r,e.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);let s=US.exports.sha256(new Uint8Array(r)),i=new ki(s,16).toArray(void 0,32);if(Ee.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new Ee(i)}function CG(n,e){let t=255,r;for(;t!=0;){try{const s=n.concat(V.Buffer.from([t]));r=fke(s,e)}catch(s){if(s instanceof TypeError)throw s;t--;continue}return[r,t]}throw new Error("Unable to find a viable program address nonce")}const YUe=n=>n instanceof V.Buffer?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);async function hke(n,...e){let t=[V.Buffer.from([97,110,99,104,111,114])];e.forEach(s=>{t.push(s instanceof V.Buffer?s:ad(s).toBuffer())});const[r]=await Ee.findProgramAddress(t,ad(n));return r}var ZUe=Object.freeze(Object.defineProperty({__proto__:null,createWithSeedSync:dke,createProgramAddressSync:fke,findProgramAddressSync:CG,associated:hke},Symbol.toStringTag,{value:"Module"}));const MG=new Ee("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),BG=new Ee("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function JUe({mint:n,owner:e}){return(await Ee.findProgramAddress([e.toBuffer(),MG.toBuffer(),n.toBuffer()],BG))[0]}var XUe=Object.freeze(Object.defineProperty({__proto__:null,TOKEN_PROGRAM_ID:MG,ASSOCIATED_PROGRAM_ID:BG,associatedAddress:JUe},Symbol.toStringTag,{value:"Module"}));async function QUe(n,e,t=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${t}`,[s,i]=await Promise.all([gke(n,e),WDe(r)]),o=(await i.json()).filter(c=>!c.aborted&&c.state==="Built"&&c.verified==="Verified");if(o.length===0)return null;const a=o[0];return s.slot.toNumber()!==a.verified_slot?null:a}async function gke(n,e){const t=await n.getAccountInfo(e);if(t===null)throw new Error("program account not found");const{program:r}=jV(t.data),s=await n.getAccountInfo(r.programdataAddress);if(s===null)throw new Error("program data account not found");const{programData:i}=jV(s.data);return i}const e7e=xr.rustEnum([xr.struct([],"uninitialized"),xr.struct([xr.option(xr.publicKey(),"authorityAddress")],"buffer"),xr.struct([xr.publicKey("programdataAddress")],"program"),xr.struct([xr.u64("slot"),xr.option(xr.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,xr.u32());function jV(n){return e7e.decode(n)}var t7e=Object.freeze(Object.defineProperty({__proto__:null,verifiedBuild:QUe,fetchData:gke,decodeUpgradeableLoaderState:jV},Symbol.toStringTag,{value:"Module"})),r7e=Object.freeze(Object.defineProperty({__proto__:null,sha256:GUe,rpc:PLe,publicKey:ZUe,bytes:kLe,token:XUe,features:CLe,registry:t7e},Symbol.toStringTag,{value:"Module"}));async function n7e(n){const e=(await Ee.findProgramAddress([],n))[0];return await Ee.createWithSeed(e,s7e(),n)}function s7e(){return"anchor:idl"}const i7e=xr.struct([xr.publicKey("authority"),xr.vecU8("data")]);function o7e(n){return i7e.decode(n)}function DB(n,e){var t,r;let s={};const i=n.args?n.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(o=>o.name))!==null&&r!==void 0?r:[]}`);s=e.pop()}return[e,s]}class PA{static build(e,t,r){if(e.name==="_inner")throw new rM("the _inner name is reserved");const s=(...i)=>{const[o,a]=DB(e,[...i]);b4(e.accounts,a.accounts),a7e(e,...i);const c=s.accounts(a.accounts);return a.remainingAccounts!==void 0&&c.push(...a.remainingAccounts),S4("debug-logs")&&console.log("Outgoing account metas:",c),new us({keys:c,programId:r,data:t(e.name,F1e(e,...o))})};return s.accounts=i=>PA.accountsArray(i,e.accounts,e.name),s}static accountsArray(e,t,r){return e?t.map(s=>{if(("accounts"in s?s.accounts:void 0)!==void 0){const o=e[s.name];return PA.accountsArray(o,s.accounts,r).flat()}else{const o=s;let a;try{a=ad(e[s.name])}catch{throw new Error(`Wrong input type for account "${s.name}" in the instruction accounts object${r!==void 0?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:a,isWritable:o.isMut,isSigner:o.isSigner}}}).flat():[]}}function a7e(n,...e){}class mke{static build(e,t,r,s){return async(...o)=>{var a;const c=t(...o),[,u]=DB(e,[...o]);if(s.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await s.sendAndConfirm(c,(a=u.signers)!==null&&a!==void 0?a:[],u.options)}catch(l){throw GH(l,r)}}}}class yke{static build(e,t){return(...s)=>{var i,o,a;const[,c]=DB(e,[...s]),u=new Dn;if(c.preInstructions&&c.instructions)throw new Error("instructions is deprecated, use preInstructions");return(i=c.preInstructions)===null||i===void 0||i.forEach(l=>u.add(l)),(o=c.instructions)===null||o===void 0||o.forEach(l=>u.add(l)),u.add(t(...s)),(a=c.postInstructions)===null||a===void 0||a.forEach(l=>u.add(l)),u}}}class c7e{static build(e,t,r,s){if(e.state!==void 0)return new pke(e,r,s,t)}}class pke{constructor(e,t,r=bA(),s=new M4(e)){this.provider=r,this.coder=s,this._idl=e,this._programId=t,this._address=HV(t),this._sub=null;const[i,o,a]=(()=>{var c;let u={},l={},d={};return(c=e.state)===null||c===void 0||c.methods.forEach(y=>{const h=PA.build(y,(b,S)=>s.instruction.encodeState(b,S),t);h.accounts=b=>u7e(t,r,y,b).concat(PA.accountsArray(b,y.accounts,y.name));const m=yke.build(y,h),f=mke.build(y,m,HH(e),r),g=Fo(y.name);u[g]=h,l[g]=m,d[g]=f}),[u,l,d]})();this.instruction=i,this.transaction=o,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(t===null)throw new Error(`Account does not exist ${e.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await xG(r.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const t=new W0e,r=this.provider.connection.onAccountChange(this.address(),s=>{const i=this.coder.state.decode(s.data);t.emit("change",i)},e);return this._sub={ee:t,listener:r},t}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function HV(n){let[e]=CG([],n);return dke(e,"unversioned",n)}function u7e(n,e,t,r){if(t.name==="new"){const[s]=CG([],n);if(e.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:HV(n),isWritable:!0,isSigner:!1},{pubkey:s,isWritable:!1,isSigner:!1},{pubkey:zo.programId,isWritable:!1,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1}]}else return b4(t.accounts,r),[{pubkey:HV(n),isWritable:!0,isSigner:!1}]}class l7e{static build(e,t,r,s){var i;const o={};return(i=e.accounts)===null||i===void 0||i.forEach(a=>{const c=Fo(a.name);o[c]=new bke(e,a,r,s,t)}),o}}class bke{constructor(e,t,r,s,i){this._idlAccount=t,this._programId=r,this._provider=s??bA(),this._coder=i??new M4(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const r=await this.getAccountInfo(e,t);return r===null?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(e,t){const r=await this.fetchNullable(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return r}async fetchMultiple(e,t){return(await U1e(this._provider.connection,e.map(s=>ad(s)),t)).map(s=>s==null?null:this._coder.accounts.decode(this._idlAccount.name,s==null?void 0:s.account.data))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Ve.Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map(({pubkey:r,account:s})=>({publicKey:r,account:this._coder.accounts.decode(this._idlAccount.name,s.data)}))}subscribe(e,t){const r=pR.get(e.toString());if(r)return r.ee;const s=new W0e;e=ad(e);const i=this._provider.connection.onAccountChange(e,o=>{const a=this._coder.accounts.decode(this._idlAccount.name,o.data);s.emit("change",a)},t);return pR.set(e.toString(),{ee:s,listener:i}),s}async unsubscribe(e){let t=pR.get(e.toString());if(!t){console.warn("Address is not subscribed");return}pR&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{pR.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){const r=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return zo.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await hke(this._programId,...e)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(ad(e),t)}}const pR=new Map,GV="Program log: ",Ske="Program data: ",d7e=GV.length,f7e=Ske.length;class kke{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new zG(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let s=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(s)),this._eventCallbacks.set(s,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(i,o)=>{if(!i.err)for(const a of this._eventParser.parseLogs(i.logs)){const c=this._eventListeners.get(a.name);c&&c.forEach(u=>{const l=this._eventCallbacks.get(u);if(l){const[,d]=l;d(a.data,o.slot,i.signature)}})}})),s}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let s=this._eventListeners.get(r);if(!s)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),s=s.filter(i=>i!==e),s.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size==0&&(VD.exports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class zG{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e){const t=new g7e(e),r=new h7e;let s=t.next();for(;s!==null;){let[i,o,a]=this.handleLog(r,s);i&&(yield i),o&&r.push(o),a&&r.pop(),s=t.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith(GV)||e.startsWith(Ske)){const t=e.startsWith(GV)?e.slice(d7e):e.slice(f7e);return[this.coder.events.decode(t),null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class h7e{constructor(){this.stack=[]}program(){return VD.exports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){VD.exports.ok(this.stack.length>0),this.stack.pop()}}class g7e{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class m7e{static build(e,t,r,s,i,o,a){return async(...u)=>{var l;const d=t(...u),[,y]=DB(e,[...u]);let h;if(s.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{h=await s.simulate(d,y.signers,(l=y.options)===null||l===void 0?void 0:l.commitment)}catch(g){throw GH(g,r)}if(h===void 0)throw new Error("Unable to simulate transaction");const m=h.logs;if(!m)throw new Error("Simulated logs not found");const f=[];if(a.events){let g=new zG(o,i);for(const b of g.parseLogs(m))f.push(b)}return{events:f,raw:m}}}}const y7e=new Ee("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function p7e(n){return new nS(Ake,y7e,n,vke())}function vke(){return new cke(Ake)}const Ake={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class cM{constructor(e,t,r,s,i,o){this._args=e,this._accounts=t,this._provider=r,this._programId=s,this._idlIx=i,this._accountStore=new b7e(r,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=Fo(t.name);if(t.isSigner&&!this._accounts[r]){if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[r]=this._provider.wallet.publicKey;continue}Reflect.has(cM.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=cM.CONST_ACCOUNTS[r])}for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=Fo(t.name);if(t.pda&&t.pda.seeds.length>0&&!this._accounts[r]){await this.autoPopulatePda(t);continue}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map(i=>this.toBuffer(i))),r=await this.parseProgramId(e),[s]=await Ee.findProgramAddress(t,r);this._accounts[Fo(e.name)]=s}async parseProgramId(e){var t;if(!(!((t=e.pda)===null||t===void 0)&&t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new Ee(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=Fo(e.path.split(".")[0]),r=this._idlIx.args.findIndex(s=>s.name===t);if(r===-1)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[r]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),r=t[0],s=this._accounts[Fo(r)];if(t.length===1)return s;const i=await this._accountStore.fetchAccount(e.account,s);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let r;for(;t.length>0;)r=e[Fo(t[0])],t=t.slice(1);return r}toBufferValue(e,t){switch(e){case"u8":return Ve.Buffer.from([t]);case"u16":let r=Ve.Buffer.alloc(2);return r.writeUInt16LE(t),r;case"u32":let s=Ve.Buffer.alloc(4);return s.writeUInt32LE(t),s;case"u64":let i=Ve.Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return Ve.Buffer.from(W1e(t));case"publicKey":return t.toBuffer();default:if(e.array)return Ve.Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}cM.CONST_ACCOUNTS={associatedTokenProgram:BG,rent:J1,systemProgram:zo.programId,tokenProgram:MG};class b7e{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const r=t.toString();if(!this._cache.has(r))if(e==="TokenAccount"){const s=await this._provider.connection.getAccountInfo(t);if(s===null)throw new Error(`invalid account info for ${r}`);const i=vke().accounts.decode("token",s.data);this._cache.set(r,i)}else{const s=this._accounts[Fo(e)].fetch(t);this._cache.set(r,s)}return this._cache.get(r)}}class wke{static build(e,t,r,s,i,o,a,c,u){return(...l)=>new S7e(l,s,i,o,a,c,e,t,r,u)}}class S7e{constructor(e,t,r,s,i,o,a,c,u,l){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=s,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._accountsResolver=new cM(e,this._accounts,a,c,u,l)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,Object.assign(this._accounts,e),this}accountsStrict(e){return this._autoResolveAccounts=!1,Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class k7e{static build(e,t,r,s){const i=t.accounts.find(c=>c.isMut),o=!!t.returns;return i||!o?void 0:async(...c)=>{var u,l;let d=await r(...c);const y=`Program return: ${e} `;let h=d.raw.find(b=>b.startsWith(y));if(!h)throw new Error("View expected return log");let m=N1e(h.slice(y.length)),f=t.returns;if(!f)throw new Error("View expected return type");return yu.fieldLayout({type:f},Array.from([...(u=s.accounts)!==null&&u!==void 0?u:[],...(l=s.types)!==null&&l!==void 0?l:[]])).decode(m)}}}class v7e{static build(e,t,r,s){const i={},o={},a={},c={},u={},l={},d=HH(e),y=e.accounts?l7e.build(e,t,r,s):{},h=c7e.build(e,t,r,s);return e.instructions.forEach(m=>{const f=PA.build(m,(w,_)=>t.instruction.encode(w,_),r),g=yke.build(m,f),b=mke.build(m,g,d,s),S=m7e.build(m,g,d,s,t,r,e),p=k7e.build(r,m,S,e),I=wke.build(s,r,m,f,g,b,S,p,y),A=Fo(m.name);o[A]=f,a[A]=g,i[A]=b,c[A]=S,u[A]=I,p&&(l[A]=p)}),[i,o,a,y,c,u,h,l]}}class nS{constructor(e,t,r,s){t=ad(t),r||(r=bA()),this._idl=e,this._provider=r,this._programId=t,this._coder=s??new M4(e),this._events=new kke(this._programId,r,this._coder);const[i,o,a,c,u,l,d,y]=v7e.build(e,this._coder,t,r);this.rpc=i,this.instruction=o,this.transaction=a,this.account=c,this.simulate=u,this.methods=l,this.state=d,this.views=y}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=ad(e),s=await nS.fetchIdl(r,t);if(!s)throw new Error(`IDL not found for program: ${e.toString()}`);return new nS(s,r,t)}static async fetchIdl(e,t){t=t??bA();const r=ad(e),s=await n7e(r),i=await t.connection.getAccountInfo(s);if(!i)return null;let o=o7e(i.data.slice(8));const a=NDe(o.data);return JSON.parse(L1e(a))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class A7e{constructor(e){}encode(e,t){switch(Fo(e)){case"create":return Ve.Buffer.alloc(0);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL associated token does not have state")}}class w7e{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have state")}decode(e){throw new Error("SPL associated token does not have state")}}class I7e{constructor(e){this.idl=e}async encode(e,t){switch(e){default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return(t=$B(this.idl,e))!==null&&t!==void 0?t:0}}class _7e{constructor(e){}decode(e){throw new Error("SPL associated token program does not have events")}}class P7e{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have user-defined types")}decode(e,t){throw new Error("SPL associated token does not have user-defined types")}}class E7e{constructor(e){this.instruction=new A7e(e),this.accounts=new I7e(e),this.events=new _7e(e),this.state=new w7e(e),this.types=new P7e(e)}}const x7e=new Ee("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function T7e(n){return new nS(Ike,x7e,n,R7e())}function R7e(){return new E7e(Ike)}const Ike={version:"0.1.0",name:"spl_associated_token",instructions:[{name:"create",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"associatedAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}]};class C7e{static token(e){return p7e(e)}static associatedToken(e){return T7e(e)}}const M7e=new Ee("11111111111111111111111111111111");function B7e(n){return new nS(_ke,M7e,n,z7e())}function z7e(){return new lke(_ke)}const _ke={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class $7e{static system(e){return B7e(e)}}tM||(exports.workspace=require("./workspace.js").default,exports.Wallet=require("./nodewallet.js").default);var D7e=Object.freeze(Object.defineProperty({__proto__:null,BN:ki,web3:lLe,getProvider:bA,setProvider:xLe,AnchorProvider:b1,utils:r7e,IdlError:rM,ProgramErrorStack:Bx,AnchorError:Wv,ProgramError:nM,translateError:GH,LangErrorCode:rr,LangErrorMessage:H1e,BorshInstructionCoder:C4,BorshAccountsCoder:Vv,ACCOUNT_DISCRIMINATOR_SIZE:gD,BorshEventCoder:nke,eventDiscriminator:ske,BorshStateCoder:ike,stateDiscriminator:xG,BorshCoder:M4,SplTokenCoder:cke,SystemCoder:lke,parseIdlErrors:HH,toInstruction:F1e,validateAccounts:b4,translateAddress:ad,splitArgsAndCtx:DB,EventManager:kke,EventParser:zG,StateClient:pke,AccountClient:bke,MethodsBuilderFactory:wke,Program:nS,Spl:C7e,Native:$7e},Symbol.toStringTag,{value:"Module"})),cc=xd(D7e),nr={},z4={};Object.defineProperty(z4,"__esModule",{value:!0});z4.decodeAccount=O7e;z4.decodeAccountWithRemaining=K7e;const Pke=cc;function O7e(n,e,t){if(n.accountInfo.owner.equals(e.programId))if(n.accountInfo.data.subarray(0,8).equals(Pke.BorshAccountsCoder.accountDiscriminator(t.ACCOUNT_NAME)))try{const s=e.coder.accounts.decode(t.ACCOUNT_NAME,n.accountInfo.data);return{type:"ok",key:n.accountId,data:new t(s,n.accountId)}}catch(r){return{type:"error",key:n.accountId,error:r}}else return{type:"error",key:n.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:n.accountId,error:new Error("not owned by program")}}function K7e(n,e,t,r){if(n.accountInfo.owner.equals(e.programId))if(n.accountInfo.data.subarray(0,8).equals(Pke.BorshAccountsCoder.accountDiscriminator(t.ACCOUNT_NAME)))try{const i=e.coder.accounts.decode(t.ACCOUNT_NAME,n.accountInfo.data.subarray(0,t.MIN_DATA_SIZE));return{type:"ok",key:n.accountId,data:new t(i,n.accountId,r(n.accountInfo.data.subarray(t.MIN_DATA_SIZE),i))}}catch(s){return{type:"error",key:n.accountId,error:s}}else return{type:"error",key:n.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:n.accountId,error:new Error("not owned by program")}}var OB={};function QD(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function L7e(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function KB(n,...e){if(!L7e(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function W7e(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");QD(n.outputLen),QD(n.blockLen)}function EA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Eke(n,e){KB(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const tW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const N7e=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),rW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),zd=(n,e)=>n<<32-e|n>>>e,$le=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,F7e=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Dle(n){for(let e=0;e<n.length;e++)n[e]=F7e(n[e])}function U7e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function $4(n){return typeof n=="string"&&(n=U7e(n)),KB(n),n}function V7e(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];KB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class $G{clone(){return this._cloneInto()}}function DG(n){const e=r=>n().update($4(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function xke(n=32){if(tW&&typeof tW.getRandomValues=="function")return tW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function q7e(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const j7e=(n,e,t)=>n&e^~n&t,H7e=(n,e,t)=>n&e^n&t^e&t;class Tke extends $G{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=rW(this.buffer)}update(e){EA(this);const{view:t,buffer:r,blockLen:s}=this;e=$4(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=rW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){EA(this),Eke(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;q7e(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=rW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const s$=BigInt(2**32-1),YV=BigInt(32);function Rke(n,e=!1){return e?{h:Number(n&s$),l:Number(n>>YV&s$)}:{h:Number(n>>YV&s$)|0,l:Number(n&s$)|0}}function Cke(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Rke(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const G7e=(n,e)=>BigInt(n>>>0)<<YV|BigInt(e>>>0),Y7e=(n,e,t)=>n>>>t,Z7e=(n,e,t)=>n<<32-t|e>>>t,J7e=(n,e,t)=>n>>>t|e<<32-t,X7e=(n,e,t)=>n<<32-t|e>>>t,Q7e=(n,e,t)=>n<<64-t|e>>>t-32,eVe=(n,e,t)=>n>>>t-32|e<<64-t,tVe=(n,e)=>e,rVe=(n,e)=>n,Mke=(n,e,t)=>n<<t|e>>>32-t,Bke=(n,e,t)=>e<<t|n>>>32-t,zke=(n,e,t)=>e<<t-32|n>>>64-t,$ke=(n,e,t)=>n<<t-32|e>>>64-t;function nVe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const sVe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),iVe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,oVe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),aVe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,cVe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),uVe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,lVe={fromBig:Rke,split:Cke,toBig:G7e,shrSH:Y7e,shrSL:Z7e,rotrSH:J7e,rotrSL:X7e,rotrBH:Q7e,rotrBL:eVe,rotr32H:tVe,rotr32L:rVe,rotlSH:Mke,rotlSL:Bke,rotlBH:zke,rotlBL:$ke,add:nVe,add3L:sVe,add3H:iVe,add4L:oVe,add4H:aVe,add5H:uVe,add5L:cVe};var Mr=lVe;const[dVe,fVe]=(()=>Mr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),_m=new Uint32Array(80),Pm=new Uint32Array(80);class hVe extends Tke{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)_m[p]=e.getUint32(t),Pm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=_m[p-15]|0,A=Pm[p-15]|0,w=Mr.rotrSH(I,A,1)^Mr.rotrSH(I,A,8)^Mr.shrSH(I,A,7),_=Mr.rotrSL(I,A,1)^Mr.rotrSL(I,A,8)^Mr.shrSL(I,A,7),P=_m[p-2]|0,M=Pm[p-2]|0,E=Mr.rotrSH(P,M,19)^Mr.rotrBH(P,M,61)^Mr.shrSH(P,M,6),T=Mr.rotrSL(P,M,19)^Mr.rotrBL(P,M,61)^Mr.shrSL(P,M,6),z=Mr.add4L(_,T,Pm[p-7],Pm[p-16]),O=Mr.add4H(z,w,E,_m[p-7],_m[p-16]);_m[p]=O|0,Pm[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Mr.rotrSH(d,y,14)^Mr.rotrSH(d,y,18)^Mr.rotrBH(d,y,41),A=Mr.rotrSL(d,y,14)^Mr.rotrSL(d,y,18)^Mr.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=Mr.add5L(S,A,_,fVe[p],Pm[p]),M=Mr.add5H(P,b,I,w,dVe[p],_m[p]),E=P|0,T=Mr.rotrSH(r,s,28)^Mr.rotrBH(r,s,34)^Mr.rotrBH(r,s,39),z=Mr.rotrSL(r,s,28)^Mr.rotrBL(r,s,34)^Mr.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Mr.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Mr.add3L(E,z,R);r=Mr.add3H(v,M,T,O),s=v|0}({h:r,l:s}=Mr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Mr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Mr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Mr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Mr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Mr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Mr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Mr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){_m.fill(0),Pm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const gVe=DG(()=>new hVe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const OG=BigInt(0),D4=BigInt(1),mVe=BigInt(2);function sS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function LB(n){if(!sS(n))throw new Error("Uint8Array expected")}function Fg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const yVe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function iS(n){LB(n);let e="";for(let t=0;t<n.length;t++)e+=yVe[n[t]];return e}function Dke(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function KG(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const wh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ole(n){if(n>=wh._0&&n<=wh._9)return n-wh._0;if(n>=wh._A&&n<=wh._F)return n-(wh._A-10);if(n>=wh._a&&n<=wh._f)return n-(wh._a-10)}function xA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Ole(n.charCodeAt(i)),a=Ole(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function K1(n){return KG(iS(n))}function qv(n){return LB(n),KG(iS(Uint8Array.from(n).reverse()))}function TA(n,e){return xA(n.toString(16).padStart(e*2,"0"))}function uM(n,e){return TA(n,e).reverse()}function pVe(n){return xA(Dke(n))}function Qo(n,e,t){let r;if(typeof e=="string")try{r=xA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(sS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function oS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];LB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function bVe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function SVe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const nW=n=>typeof n=="bigint"&&OG<=n;function O4(n,e,t){return nW(n)&&nW(e)&&nW(t)&&e<=n&&n<t}function ml(n,e,t,r){if(!O4(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function kVe(n){let e;for(e=0;n>OG;n>>=D4,e+=1);return e}function vVe(n,e){return n>>BigInt(e)&D4}function AVe(n,e,t){return n|(t?D4:OG)<<BigInt(e)}const LG=n=>(mVe<<BigInt(n-1))-D4,sW=n=>new Uint8Array(n),Kle=n=>Uint8Array.from(n);function Oke(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=sW(n),s=sW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=sW())=>{s=a(Kle([0]),d),r=a(),d.length!==0&&(s=a(Kle([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return oS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const wVe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||sS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Lx(n,e,t={}){const r=(s,i,o)=>{const a=wVe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const IVe=()=>{throw new Error("not implemented")};function lM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var _Ve=Object.freeze(Object.defineProperty({__proto__:null,isBytes:sS,abytes:LB,abool:Fg,bytesToHex:iS,numberToHexUnpadded:Dke,hexToNumber:KG,hexToBytes:xA,bytesToNumberBE:K1,bytesToNumberLE:qv,numberToBytesBE:TA,numberToBytesLE:uM,numberToVarBytesBE:pVe,ensureBytes:Qo,concatBytes:oS,equalBytes:bVe,utf8ToBytes:SVe,inRange:O4,aInRange:ml,bitLen:kVe,bitGet:vVe,bitSet:AVe,bitMask:LG,createHmacDrbg:Oke,validateObject:Lx,notImplemented:IVe,memoized:lM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ha=BigInt(0),zi=BigInt(1),J0=BigInt(2),PVe=BigInt(3),ZV=BigInt(4),Lle=BigInt(5),Wle=BigInt(8);BigInt(9);BigInt(16);function hi(n,e){const t=n%e;return t>=Ha?t:e+t}function EVe(n,e,t){if(t<=Ha||e<Ha)throw new Error("Expected power/modulo > 0");if(t===zi)return Ha;let r=zi;for(;e>Ha;)e&zi&&(r=r*n%t),n=n*n%t,e>>=zi;return r}function Qi(n,e,t){let r=n;for(;e-- >Ha;)r*=r,r%=t;return r}function JV(n,e){if(n===Ha||e<=Ha)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=hi(n,e),r=e,s=Ha,i=zi;for(;t!==Ha;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==zi)throw new Error("invert: does not exist");return hi(s,e)}function xVe(n){const e=(n-zi)/J0;let t,r,s;for(t=n-zi,r=0;t%J0===Ha;t/=J0,r++);for(s=J0;s<n&&EVe(s,e,n)!==n-zi;s++);if(r===1){const o=(n+zi)/ZV;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+zi)/J0;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,zi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function TVe(n){if(n%ZV===PVe){const e=(n+zi)/ZV;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Wle===Lle){const e=(n-Lle)/Wle;return function(r,s){const i=r.mul(s,J0),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,J0),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return xVe(n)}const RVe=(n,e)=>(hi(n,e)&zi)===zi,CVe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function MVe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=CVe.reduce((r,s)=>(r[s]="function",r),e);return Lx(n,t)}function BVe(n,e,t){if(t<Ha)throw new Error("Expected power > 0");if(t===Ha)return n.ONE;if(t===zi)return e;let r=n.ONE,s=e;for(;t>Ha;)t&zi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=zi;return r}function zVe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function Kke(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Lke(n,e,t=!1,r={}){if(n<=Ha)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=Kke(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=TVe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:LG(s),ZERO:Ha,ONE:zi,create:c=>hi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ha<=c&&c<n},is0:c=>c===Ha,isOdd:c=>(c&zi)===zi,neg:c=>hi(-c,n),eql:(c,u)=>c===u,sqr:c=>hi(c*c,n),add:(c,u)=>hi(c+u,n),sub:(c,u)=>hi(c-u,n),mul:(c,u)=>hi(c*u,n),pow:(c,u)=>BVe(a,c,u),div:(c,u)=>hi(c*JV(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>JV(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>zVe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?uM(c,i):TA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?qv(c):K1(c)}});return Object.freeze(a)}function Wke(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Nke(n){const e=Wke(n);return e+Math.ceil(e/2)}function $Ve(n,e,t=!1){const r=n.length,s=Wke(e),i=Nke(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?K1(n):qv(n),a=hi(o,e-zi)+zi;return t?uM(a,s):TA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const DVe=BigInt(0),iW=BigInt(1),oW=new WeakMap,Nle=new WeakMap;function Fke(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>DVe;)o&iW&&(a=a.add(c)),c=c.double(),o>>=iW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=iW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,A=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(A,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Nle.get(i)||1;let u=oW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&oW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Nle.set(i,o),oW.delete(i)}}}function WG(n){return MVe(n.Fp),Lx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Kke(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bl=BigInt(0),Lc=BigInt(1),i$=BigInt(2),OVe=BigInt(8),KVe={zip215:!0};function LVe(n){const e=WG(n);return Lx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function WVe(n){const e=LVe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=i$<<BigInt(a*8)-Lc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Bl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Fg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){ml("coordinate "+v,k,Bl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=lM((v,k)=>{const{ex:x,ey:C,ez:B}=v,D=v.is0();k==null&&(k=D?OVe:t.inv(B));const $=l(x*k),W=l(C*k),L=l(B*k);if(D)return{x:Bl,y:Lc};if(L!==Lc)throw new Error("invZ was invalid");return{x:$,y:W}}),b=lM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:D,et:$}=v,W=l(C*C),L=l(B*B),U=l(D*D),G=l(U*U),J=l(W*k),Q=l(U*l(J+L)),Y=l(G+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(D*$);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Lc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:D,ey:$,ez:W}=k,L=l(x*W),U=l(D*B),G=l(C*W),J=l($*B);return L===U&&G===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,D=l(x*x),$=l(C*C),W=l(i$*l(B*B)),L=l(k*D),U=x+C,G=l(l(U*U)-D-$),J=L+$,Q=J-W,Y=L-$,X=l(G*Q),re=l(J*Y),se=l(G*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:D,ez:$,et:W}=this,{ex:L,ey:U,ez:G,et:J}=k;if(x===BigInt(-1)){const Lt=l((D-B)*(U+L)),Dt=l((D+B)*(U-L)),et=l(Dt-Lt);if(et===Bl)return this.double();const Ue=l($*i$*J),Wt=l(W*i$*G),sr=Wt+Ue,tr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(tr*pr),gn=l(sr*pr),ds=l(et*tr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(D*U),X=l(W*C*J),re=l($*G),se=l((B+D)*(L+U)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),_e=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(_e,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return A.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;ml("scalar",x,Lc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return ml("scalar",x,Bl,r),x===Bl?I:this.equals(I)||x===Lc?this:this.equals(p)?this.wNAF(x).p:A.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Lc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,D=t.BYTES;k=Qo("pointHex",k,D),Fg("zip215",x);const $=k.slice(),W=k[D-1];$[D-1]=W&-129;const L=qv($),U=x?u:t.ORDER;ml("pointHex.y",L,Bl,U);const G=l(L*L),J=l(G-Lc),Q=l(C*G-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Lc)===Lc,se=(W&128)!==0;if(!x&&X===Bl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return P(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=uM(x,t.BYTES);return C[C.length-1]|=k&Lc?128:0,C}toHex(){return iS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Lc,l(e.Gx*e.Gy)),S.ZERO=new S(Bl,Lc,Lc,Bl);const{BASE:p,ZERO:I}=S,A=Fke(S,a*8);function w(v){return hi(v,r)}function _(v){return w(qv(v))}function P(v){const k=a;v=Qo("private key",v,k);const x=Qo("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),D=_(C),$=p.multiply(D),W=$.toRawBytes();return{head:C,prefix:B,scalar:D,point:$,pointBytes:W}}function M(v){return P(v).pointBytes}function E(v=new Uint8Array,...k){const x=oS(...k);return _(i(h(x,Qo("context",v),!!s)))}function T(v,k,x={}){v=Qo("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:D}=P(k),$=E(x.context,C,v),W=p.multiply($).toRawBytes(),L=E(x.context,W,D,v),U=w($+L*B);ml("signature.s",U,Bl,r);const G=oS(W,uM(U,t.BYTES));return Qo("result",G,a*2)}const z=KVe;function O(v,k,x,C=z){const{context:B,zip215:D}=C,$=t.BYTES;v=Qo("signature",v,2*$),k=Qo("message",k),D!==void 0&&Fg("zip215",D),s&&(k=s(k));const W=qv(v.slice($,2*$));let L,U,G;try{L=S.fromHex(x,D),U=S.fromHex(v.slice(0,$),D),G=p.multiplyUnsafe(W)}catch{return!1}if(!D&&L.isSmallOrder())return!1;const J=E(B,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(G).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:T,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const NG=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Fle=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const NVe=BigInt(1),Ule=BigInt(2);BigInt(3);const FVe=BigInt(5),UVe=BigInt(8);function VVe(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=NG,a=n*n%i*n%i,c=Qi(a,Ule,i)*a%i,u=Qi(c,NVe,i)*n%i,l=Qi(u,FVe,i)*u%i,d=Qi(l,e,i)*l%i,y=Qi(d,t,i)*d%i,h=Qi(y,r,i)*y%i,m=Qi(h,s,i)*h%i,f=Qi(m,s,i)*h%i,g=Qi(f,e,i)*l%i;return{pow_p_5_8:Qi(g,Ule,i)*n%i,b2:a}}function qVe(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function jVe(n,e){const t=NG,r=hi(e*e*e,t),s=hi(r*r*e,t),i=VVe(n*s).pow_p_5_8;let o=hi(n*r*i,t);const a=hi(e*o*o,t),c=o,u=hi(o*Fle,t),l=a===n,d=a===hi(-n,t),y=a===hi(-n*Fle,t);return l&&(o=c),(d||y)&&(o=u),RVe(o,t)&&(o=hi(-o,t)),{isValid:l||d,value:o}}const HVe=(()=>Lke(NG,void 0,!0))(),GVe=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:HVe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:UVe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:gVe,randomBytes:xke,adjustScalarBytes:qVe,uvRatio:jVe}))(),Wx=(()=>WVe(GVe))();var o$=FDe.exports.Buffer;function YVe(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=n.length,a=n.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=o$.from(h)),!o$.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var m=0,f=0,g=0,b=h.length;g!==b&&h[g]===0;)g++,m++;for(var S=(b-g)*u+1>>>0,p=new Uint8Array(S);g!==b;){for(var I=h[g],A=0,w=S-1;(I!==0||A<f)&&w!==-1;w--,A++)I+=256*p[w]>>>0,p[w]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");f=A,g++}for(var _=S-f;_!==S&&p[_]===0;)_++;for(var P=a.repeat(m);_<S;++_)P+=n.charAt(p[_]);return P}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return o$.alloc(0);for(var m=0,f=0,g=0;h[m]===a;)f++,m++;for(var b=(h.length-m)*c+1>>>0,S=new Uint8Array(b);h[m];){var p=e[h.charCodeAt(m)];if(p===255)return;for(var I=0,A=b-1;(p!==0||I<g)&&A!==-1;A--,I++)p+=o*S[A]>>>0,S[A]=p%256>>>0,p=p/256>>>0;if(p!==0)throw new Error("Non-zero carry");g=I,m++}for(var w=b-g;w!==b&&S[w]===0;)w++;var _=o$.allocUnsafe(f+(b-w));_.fill(0,0,f);for(var P=f;w!==b;)_[P++]=S[w++];return _}function y(h){var m=d(h);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:y}}var ZVe=YVe,JVe=ZVe,XVe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",oc=JVe(XVe);const QVe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Em=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xm=new Uint32Array(64);class e9e extends Tke{constructor(){super(64,32,8,!1),this.A=Em[0]|0,this.B=Em[1]|0,this.C=Em[2]|0,this.D=Em[3]|0,this.E=Em[4]|0,this.F=Em[5]|0,this.G=Em[6]|0,this.H=Em[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)xm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=xm[d-15],h=xm[d-2],m=zd(y,7)^zd(y,18)^y>>>3,f=zd(h,17)^zd(h,19)^h>>>10;xm[d]=f+xm[d-7]+m+xm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=zd(a,6)^zd(a,11)^zd(a,25),h=l+y+j7e(a,c,u)+QVe[d]+xm[d]|0,f=(zd(r,2)^zd(r,13)^zd(r,22))+H7e(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){xm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const XV=DG(()=>new e9e);class t9e extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function r9e(n){return WB(n)&&typeof n[Symbol.iterator]=="function"}function WB(n){return typeof n=="object"&&n!=null}function eO(n){return WB(n)&&!Array.isArray(n)}function gd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function n9e(n){const{done:e,value:t}=n.next();return e?void 0:t}function s9e(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${gd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Vle(n,e,t,r){r9e(n)||(n=[n]);for(const s of n){const i=s9e(s,e,t,r);i&&(yield i)}}function*FG(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=FG(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):WB(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class uh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Vle(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Vle(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return Uke(e,this,t)}create(e,t){return ht(e,this,t)}is(e){return Vke(e,this)}mask(e,t){return i9e(e,this,t)}validate(e,t={}){return NB(e,this,t)}}function Uke(n,e,t){const r=NB(n,e,{message:t});if(r[0])throw r[0]}function ht(n,e,t){const r=NB(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function i9e(n,e,t){const r=NB(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function Vke(n,e){return!NB(n,e)[0]}function NB(n,e,t={}){const r=FG(n,e,t),s=n9e(r);if(s[0])return[new t9e(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function JS(n,e){return new uh({type:n,schema:null,validator:e})}function o9e(){return JS("any",()=>!0)}function vt(n){return new uh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${gd(e)}`}})}function Xf(){return JS("boolean",n=>typeof n=="boolean")}function UG(n){return JS("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${gd(e)}`)}function _i(n){const e=gd(n),t=typeof n;return new uh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${gd(r)}`}})}function a9e(){return JS("never",()=>!1)}function Tt(n){return new uh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function he(){return JS("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${gd(n)}`)}function lr(n){return new uh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function qke(n,e){return new uh({type:"record",schema:null,*entries(t){if(WB(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return eO(t)||`Expected an object, but received: ${gd(t)}`},coercer(t){return eO(t)?{...t}:t}})}function je(){return JS("string",n=>typeof n=="string"||`Expected a string, but received: ${gd(n)}`)}function VG(n){const e=a9e();return new uh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${gd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Te(n){const e=Object.keys(n);return new uh({type:"type",schema:n,*entries(t){if(WB(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return eO(t)||`Expected an object, but received: ${gd(t)}`},coercer(t){return eO(t)?{...t}:t}})}function Rc(n){const e=n.map(t=>t.type).join(" | ");return new uh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=FG(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${gd(t)}`,...s]}})}function Nx(){return JS("unknown",()=>!0)}function FB(n,e,t){return new uh({...n,coercer:(r,s)=>Vke(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const jke=[],Hke=[],Gke=[],c9e=BigInt(0),bR=BigInt(1),u9e=BigInt(2),l9e=BigInt(7),d9e=BigInt(256),f9e=BigInt(113);for(let n=0,e=bR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],jke.push(2*(5*r+t)),Hke.push((n+1)*(n+2)/2%64);let s=c9e;for(let i=0;i<7;i++)e=(e<<bR^(e>>l9e)*f9e)%d9e,e&u9e&&(s^=bR<<(bR<<BigInt(i))-bR);Gke.push(s)}const[h9e,g9e]=Cke(Gke,!0),qle=(n,e,t)=>t>32?zke(n,e,t):Mke(n,e,t),jle=(n,e,t)=>t>32?$ke(n,e,t):Bke(n,e,t);function m9e(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=qle(u,l,1)^t[a],y=jle(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=Hke[o],c=qle(s,i,a),u=jle(s,i,a),l=jke[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=h9e[r],n[1]^=g9e[r]}t.fill(0)}class qG extends $G{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,QD(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=N7e(this.state)}keccak(){$le||Dle(this.state32),m9e(this.state32,this.rounds),$le||Dle(this.state32),this.posOut=0,this.pos=0}update(e){EA(this);const{blockLen:t,state:r}=this;e=$4(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){EA(this,!1),KB(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return QD(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Eke(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new qG(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const y9e=(n,e,t)=>DG(()=>new qG(e,n,t)),Hle=y9e(1,136,256/8);class Yke extends $G{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,W7e(e);const r=$4(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return EA(this),this.iHash.update(e),this}digestInto(e){EA(this),KB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Zke=(n,e,t)=>new Yke(n,e).update(t).digest();Zke.create=(n,e)=>new Yke(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Gle(n){n.lowS!==void 0&&Fg("lowS",n.lowS),n.prehash!==void 0&&Fg("prehash",n.prehash)}function p9e(n){const e=WG(n);Lx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b9e,hexToBytes:S9e}=_Ve,v1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=v1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:b9e(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=v1,t=typeof n=="string"?S9e(n):n;LB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=v1._parseInt(t.subarray(2)),{d:o,l:a}=v1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},wy=BigInt(0),la=BigInt(1);BigInt(2);const Yle=BigInt(3);BigInt(4);function k9e(n){const e=p9e(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return oS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return O4(m,la,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(sS(m)&&(m=iS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:K1(Qo("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=hi(p,S)),ml("private key",p,la,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=lM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),A=t.mul(b,f),w=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),l=lM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Qo("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f,w=t.eql(t.mul(g,A),t.mul(p,S)),_=t.eql(t.mul(b,A),t.mul(I,S));return w&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Yle),{px:S,py:p,pz:I}=this;let A=t.ZERO,w=t.ZERO,_=t.ZERO,P=t.mul(S,S),M=t.mul(p,p),E=t.mul(I,I),T=t.mul(S,p);return T=t.add(T,T),_=t.mul(S,I),_=t.add(_,_),A=t.mul(f,_),w=t.mul(b,E),w=t.add(A,w),A=t.sub(M,w),w=t.add(M,w),w=t.mul(A,w),A=t.mul(T,A),_=t.mul(b,_),E=t.mul(f,E),T=t.sub(P,E),T=t.mul(f,T),T=t.add(T,_),_=t.add(P,P),P=t.add(_,P),P=t.add(P,E),P=t.mul(P,T),w=t.add(w,P),E=t.mul(p,I),E=t.add(E,E),P=t.mul(E,T),A=t.sub(A,P),_=t.mul(E,M),_=t.add(_,_),_=t.add(_,_),new d(A,w,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f;let w=t.ZERO,_=t.ZERO,P=t.ZERO;const M=e.a,E=t.mul(e.b,Yle);let T=t.mul(g,p),z=t.mul(b,I),O=t.mul(S,A),R=t.add(g,b),v=t.add(p,I);R=t.mul(R,v),v=t.add(T,z),R=t.sub(R,v),v=t.add(g,S);let k=t.add(p,A);return v=t.mul(v,k),k=t.add(T,O),v=t.sub(v,k),k=t.add(b,S),w=t.add(I,A),k=t.mul(k,w),w=t.add(z,O),k=t.sub(k,w),P=t.mul(M,v),w=t.mul(E,O),P=t.add(w,P),w=t.sub(z,P),P=t.add(z,P),_=t.mul(w,P),z=t.add(T,T),z=t.add(z,T),O=t.mul(M,O),v=t.mul(E,v),z=t.add(z,O),O=t.sub(T,O),O=t.mul(M,O),v=t.add(v,O),T=t.mul(z,v),_=t.add(_,T),T=t.mul(k,v),w=t.mul(R,w),w=t.sub(w,T),T=t.mul(R,z),P=t.mul(k,P),P=t.add(P,T),new d(w,_,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){ml("scalar",f,wy,e.n);const g=d.ZERO;if(f===wy)return g;if(f===la)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:A}=b.splitScalar(f),w=g,_=g,P=this;for(;p>wy||A>wy;)p&la&&(w=w.add(P)),A&la&&(_=_.add(P)),P=P.double(),p>>=la,A>>=la;return S&&(w=w.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),w.add(_)}multiply(f){const{endo:g,n:b}=e;ml("scalar",f,la,b);let S,p;if(g){const{k1neg:I,k1:A,k2neg:w,k2:_}=g.splitScalar(f);let{p:P,f:M}=this.wNAF(A),{p:E,f:T}=this.wNAF(_);P=h.constTimeNegate(I,P),E=h.constTimeNegate(w,E),E=new d(t.mul(E.px,g.beta),E.py,E.pz),S=P.add(E),p=M.add(T)}else{const{p:I,f:A}=this.wNAF(f);S=I,p=A}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(A,w)=>w===wy||w===la||!A.equals(S)?A.multiplyUnsafe(w):A.multiply(w),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===la)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===la?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Fg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Fg("isCompressed",f),iS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=Fke(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function v9e(n){const e=WG(n);return Lx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function A9e(n){const e=v9e(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(R){return hi(R,r)}function a(R){return JV(R,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=k9e({...e,toBytes(R,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=oS;return Fg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(R){const v=R.length,k=R[0],x=R.subarray(1);if(v===s&&(k===2||k===3)){const C=K1(x);if(!O4(C,la,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let D;try{D=t.sqrt(B)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const $=(D&la)===la;return(k&1)===1!==$&&(D=t.neg(D)),{x:C,y:D}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=R=>iS(TA(R,e.nByteLength));function h(R){const v=r>>la;return R>v}function m(R){return h(R)?o(-R):R}const f=(R,v,k)=>K1(R.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Qo("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=v1.toSig(Qo("DER",v));return new g(k,x)}assertValidity(){ml("r",this.r,la,r),ml("s",this.s,la,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=w(Qo("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const D=C===2||C===3?k+e.n:k;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(C&1)===0?"02":"03",W=c.fromHex($+y(D)),L=a(D),U=o(-B*L),G=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,U,G);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return xA(this.toDERHex())}toDERHex(){return v1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return xA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=Nke(e.n);return $Ve(e.randomBytes(R),e.n)},precompute(R=8,v=c.BASE){return v._setWindowSize(R),v.multiply(BigInt(3)),v}};function S(R,v=!0){return c.fromPrivateKey(R).toRawBytes(v)}function p(R){const v=sS(R),k=typeof R=="string",x=(v||k)&&R.length;return v?x===s||x===i:k?x===2*s||x===2*i:R instanceof c}function I(R,v,k=!0){if(p(R))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(R)).toRawBytes(k)}const A=e.bits2int||function(R){const v=K1(R),k=R.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},w=e.bits2int_modN||function(R){return o(A(R))},_=LG(e.nBitLength);function P(R){return ml(`num < 2^${e.nBitLength}`,R,wy,_),TA(R,e.nByteLength)}function M(R,v,k=E){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:D,extraEntropy:$}=k;B==null&&(B=!0),R=Qo("msgHash",R),Gle(k),D&&(R=Qo("prehashed msgHash",x(R)));const W=w(R),L=u(v),U=[P(L),P(W)];if($!=null&&$!==!1){const Y=$===!0?C(t.BYTES):$;U.push(Qo("extraEntropy",Y))}const G=oS(...U),J=W;function Q(Y){const X=A(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===wy)return;const ne=o(re*o(J+ee*L));if(ne===wy)return;let ve=(se.x===ee?0:2)|Number(se.y&la),_e=ne;return B&&h(ne)&&(_e=m(ne),ve^=1),new g(ee,_e,ve)}return{seed:G,k2sig:Q}}const E={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function z(R,v,k=E){const{seed:x,k2sig:C}=M(R,v,k),B=e;return Oke(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function O(R,v,k,x=T){var se;const C=R;if(v=Qo("msgHash",v),k=Qo("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Gle(x);const{lowS:B,prehash:D}=x;let $,W;try{if(typeof C=="string"||sS(C))try{$=g.fromDER(C)}catch(ee){if(!(ee instanceof v1.Err))throw ee;$=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;$=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&$.hasHighS())return!1;D&&(v=e.hash(v));const{r:L,s:U}=$,G=w(v),J=a(U),Q=o(G*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:z,verify:O,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function w9e(n){return{hash:n,hmac:(e,...t)=>Zke(n,e,V7e(...t)),randomBytes:xke}}function I9e(n,e){const t=r=>A9e({...n,...w9e(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Jke=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Zle=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_9e=BigInt(1),QV=BigInt(2),Jle=(n,e)=>(n+e/QV)/e;function P9e(n){const e=Jke,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Qi(l,t,e)*l%e,y=Qi(d,t,e)*l%e,h=Qi(y,QV,e)*u%e,m=Qi(h,s,e)*h%e,f=Qi(m,i,e)*m%e,g=Qi(f,a,e)*f%e,b=Qi(g,c,e)*g%e,S=Qi(b,a,e)*f%e,p=Qi(S,t,e)*l%e,I=Qi(p,o,e)*m%e,A=Qi(I,r,e)*u%e,w=Qi(A,QV,e);if(!e9.eql(e9.sqr(w),n))throw new Error("Cannot find square root");return w}const e9=Lke(Jke,void 0,void 0,{sqrt:P9e}),K4=I9e({a:BigInt(0),b:BigInt(7),Fp:e9,n:Zle,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Zle,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_9e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Jle(i*n,e),c=Jle(-r*n,e);let u=hi(n-a*t-c*s,e),l=hi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},XV);BigInt(0);K4.ProjectivePoint;const E9e=Wx.utils.randomPrivateKey,Xle=()=>{const n=Wx.utils.randomPrivateKey(),e=tO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},tO=Wx.getPublicKey;function Qle(n){try{return Wx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const jG=(n,e)=>Wx.sign(n,e.slice(0,32)),x9e=Wx.verify,Xr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class HG{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(rm(B2,this))}static decode(e){return nm(B2,this,e)}static decodeUnchecked(e){return sm(B2,this,e)}}class T9e extends HG{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const B2=new Map;var Xke;const Qke=32,Lf=32;function R9e(n){return n._bn!==void 0}let ede=1;class rt extends HG{constructor(e){if(super({}),this._bn=void 0,R9e(e))this._bn=e._bn;else{if(typeof e=="string"){const t=oc.decode(e);if(t.length!=Lf)throw new Error("Invalid public key input");this._bn=new ki(t)}else this._bn=new ki(e);if(this._bn.byteLength()>Lf)throw new Error("Invalid public key input")}}static unique(){const e=new rt(ede);return ede+=1,new rt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return oc.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Lf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=XV(s);return new rt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>Qke)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Xr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=XV(r);if(Qle(s))throw new Error("Invalid seeds, address must fall off the curve");return new rt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new rt(e);return Qle(t.toBytes())}}Xke=rt;rt.default=new Xke("11111111111111111111111111111111");B2.set(rt,{kind:"struct",fields:[["_bn","u256"]]});class C9e{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Xr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Xr(E9e()),this._publicKey=Xr(tO(this._secretKey))}get publicKey(){return new rt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const M9e=new rt("BPFLoader1111111111111111111111111111111111"),Ny=1280-40-8,L4=127,dM=64;class GG extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(GG.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class YG extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(YG.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Av extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Av.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class fM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const pn=(n="publicKey")=>ie(32,n),B9e=(n="signature")=>ie(64,n),A1=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Vt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},z9e=(n="authorized")=>N([pn("staker"),pn("withdrawer")],n),$9e=(n="lockup")=>N([Pe("unixTimestamp"),Pe("epoch"),pn("custodian")],n),D9e=(n="voteInit")=>N([pn("nodePubkey"),pn("authorizedVoter"),pn("authorizedWithdrawer"),te("commission")],n),O9e=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),pn("currentAuthorityDerivedKeyOwnerPubkey"),A1("currentAuthorityDerivedKeySeed"),pn("newAuthorized")],n);function eve(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return eve({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function ru(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Du(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Ln(n,e){if(!n)throw new Error(e||"Assertion failed")}class W4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new W4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ln(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Ln(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Ln(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new rt(c)),...r.map(([c])=>new rt(c)),...s.map(([c])=>new rt(c)),...i.map(([c])=>new rt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new rt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Ln(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const tve="Reached end of buffer unexpectedly";function hf(n){if(n.length===0)throw new Error(tve);return n.shift()}function nu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(tve);return n.splice(...e)}class md{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new rt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:oc.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new fM(this.staticAccountKeys)}static compile(e){const t=W4.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new fM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:oc.encode(a.data)}));return new md({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Du(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(oc.decode(d.data));let f=[];Du(f,y.length);let g=[];return Du(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Du(s,r.length);let i=V.Buffer.alloc(Ny);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(pn("key"),e,"keys"),pn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Xr(d.toBytes())),recentBlockhash:oc.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=hf(t);if(r!==(r&L4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=hf(t),i=hf(t),o=ru(t);let a=[];for(let y=0;y<o;y++){const h=nu(t,0,Lf);a.push(new rt(V.Buffer.from(h)))}const c=nu(t,0,Lf),u=ru(t);let l=[];for(let y=0;y<u;y++){const h=hf(t),m=ru(t),f=nu(t,0,m),g=ru(t),b=nu(t,0,g),S=oc.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:oc.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new md(d)}}class aS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new fM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=W4.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new fM(a,s).compileInstructions(e.instructions);return new aS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Du(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Du(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Du(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(pn(),this.staticAccountKeys.length,"staticAccountKeys"),pn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ny),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:oc.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Ny);for(const r of this.compiledInstructions){const s=Array();Du(s,r.accountKeyIndexes.length);const i=Array();Du(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Ny);for(const r of this.addressTableLookups){const s=Array();Du(s,r.writableIndexes.length);const i=Array();Du(i,r.readonlyIndexes.length),e+=N([pn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=hf(t),s=r&L4;Ln(r!==s,"Expected versioned message but received legacy message");const i=s;Ln(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:hf(t),numReadonlySignedAccounts:hf(t),numReadonlyUnsignedAccounts:hf(t)},a=[],c=ru(t);for(let m=0;m<c;m++)a.push(new rt(nu(t,0,Lf)));const u=oc.encode(nu(t,0,Lf)),l=ru(t),d=[];for(let m=0;m<l;m++){const f=hf(t),g=ru(t),b=nu(t,0,g),S=ru(t),p=new Uint8Array(nu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=ru(t),h=[];for(let m=0;m<y;m++){const f=new rt(nu(t,0,Lf)),g=ru(t),b=nu(t,0,g),S=ru(t),p=nu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new aS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const ZG={deserializeMessageVersion(n){const e=n[0],t=e&L4;return t===e?"legacy":t},deserialize:n=>{const e=ZG.deserializeMessageVersion(n);if(e==="legacy")return md.from(n);if(e===0)return aS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let mg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const K9e=V.Buffer.alloc(dM).fill(0);class bs{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class jn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new bs(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new rt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:oc.encode(g)}});return m.forEach(f=>{Ln(f.programIdIndex>=0),f.accounts.forEach(g=>Ln(g>=0))}),new md({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=jG(r,s.secretKey);this._addSignature(s.publicKey,Xr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ln(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):x9e(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Du(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Ln(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Ln(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Ln(i.length<=Ny,`Transaction too large: ${i.length} > ${Ny}`),i}get keys(){return Ln(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ln(this.instructions.length===1),this.instructions[0].programId}get data(){return Ln(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=ru(t);let s=[];for(let i=0;i<r;i++){const o=nu(t,0,dM);s.push(oc.encode(V.Buffer.from(o)))}return jn.populate(md.from(t),s)}static populate(e,t=[]){const r=new jn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==oc.encode(K9e)?null:oc.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new bs({keys:i,programId:e.accountKeys[s.programIdIndex],data:oc.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class JG{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Ln(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Ln(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new bs({programId:g,data:Xr(m.data),keys:f}))}return new JG({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return md.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return aS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class XG{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ln(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(dM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Du(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(B9e(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=ru(t);for(let o=0;o<s;o++)r.push(new Uint8Array(nu(t,0,dM)));const i=ZG.deserialize(new Uint8Array(t));return new XG(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Ln(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=jG(t,s.secretKey)}}addSignature(e,t){Ln(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Ln(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const L9e=160,W9e=64,N9e=L9e/W9e,rve=1e3/N9e,Xd=new rt("SysvarC1ock11111111111111111111111111111111"),F9e=new rt("SysvarEpochSchedu1e111111111111111111111111"),U9e=new rt("Sysvar1nstructions1111111111111111111111111"),yD=new rt("SysvarRecentB1ockHashes11111111111111111111"),RA=new rt("SysvarRent111111111111111111111111111111111"),V9e=new rt("SysvarRewards111111111111111111111111111111"),q9e=new rt("SysvarS1otHashes111111111111111111111111111"),j9e=new rt("SysvarS1otHistory11111111111111111111111111"),pD=new rt("SysvarStakeHistory1111111111111111111111111");class hM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const H9e={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Gt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function t9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new hM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function X0(n){return new Promise(e=>setTimeout(e,n))}function xn(n,e){const t=n.layout.span>=0?n.layout.span:eve(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ts(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const nve=Ae("lamportsPerSignature"),sve=N([F("version"),F("state"),pn("authorizedPubkey"),pn("nonce"),N([nve],"feeCalculator")]),r9=sve.span;class N4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=sve.decode(Xr(e),0);return new N4({authorizedPubkey:new rt(t.authorizedPubkey),nonce:new rt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const G9e=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Y9e=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=G9e(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return im(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=rc(o,n);return r(u,a,c)},i},CA=Y9e(8);class Z9e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries($s))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ts($s.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new rt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ts($s.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ts($s.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new rt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ts($s.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ts($s.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(t),seed:r,space:s,programId:new rt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ts($s.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new rt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ts($s.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(t),seed:r,programId:new rt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ts($s.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new rt(t),seed:r,lamports:s,space:i,programId:new rt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ts($s.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new rt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ts($s.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ts($s.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ts($s.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new rt(t)}}static checkProgramId(e){if(!e.equals(Ka.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const $s=Object.freeze({Create:{index:0,layout:N([F("instruction"),Pe("lamports"),Pe("space"),pn("programId")])},Assign:{index:1,layout:N([F("instruction"),pn("programId")])},Transfer:{index:2,layout:N([F("instruction"),CA("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),pn("base"),A1("seed"),Pe("lamports"),Pe("space"),pn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Pe("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),pn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),pn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Pe("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),pn("base"),A1("seed"),Pe("space"),pn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),pn("base"),A1("seed"),pn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),CA("lamports"),A1("seed"),pn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class Ka{constructor(){}static createAccount(e){const t=$s.Create,r=xn(t,{lamports:e.lamports,space:e.space,programId:Xr(e.programId.toBuffer())});return new bs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=$s.TransferWithSeed;t=xn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=$s.Transfer;t=xn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new bs({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=$s.AssignWithSeed;t=xn(s,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=$s.Assign;t=xn(s,{programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new bs({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=$s.CreateWithSeed,r=xn(t,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Xr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new bs({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new jn;"basePubkey"in e&&"seed"in e?t.add(Ka.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:r9,programId:this.programId})):t.add(Ka.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:r9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=$s.InitializeNonceAccount,r=xn(t,{authorized:Xr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yD,isSigner:!1,isWritable:!1},{pubkey:RA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new bs(s)}static nonceAdvance(e){const t=$s.AdvanceNonceAccount,r=xn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:yD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new bs(s)}static nonceWithdraw(e){const t=$s.WithdrawNonceAccount,r=xn(t,{lamports:e.lamports});return new bs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:yD,isSigner:!1,isWritable:!1},{pubkey:RA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=$s.AuthorizeNonceAccount,r=xn(t,{authorized:Xr(e.newAuthorizedPubkey.toBuffer())});return new bs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=$s.AllocateWithSeed;t=xn(s,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=$s.Allocate;t=xn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new bs({keys:r,programId:this.programId,data:t})}}Ka.programId=new rt("11111111111111111111111111111111");const J9e=Ny-300;class cS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/cS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new jn,h.add(Ka.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new jn,h.add(Ka.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new jn,h.add(Ka.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new jn().add(Ka.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await t9(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Vt(F(),-8),"bytes")]),a=cS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(t9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await X0(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:RA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(rve/2)))}}return!0}}cS.chunkSize=J9e;const X9e=new rt("BPFLoader2111111111111111111111111111111111");class Q9e{static getMinNumSignatures(e){return cS.getMinNumSignatures(e)}static load(e,t,r,s,i){return cS.load(e,t,r,i,s)}}function eqe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var aW,tde;function tqe(){if(tde)return aW;tde=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return aW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},aW}var rqe=tqe(),rde=eqe(rqe);const SR=32;function cW(n){let e=0;for(;n>1;)n/=2,e++;return e}function nqe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class ive{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=cW(nqe(e+SR+1))-cW(SR)-1,r=this.getSlotsInEpoch(t),s=e-(r-SR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*SR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+cW(SR)):this.slotsPerEpoch}}var sqe=globalThis.fetch;class iqe extends Tb{constructor(e,t,r){const s=i=>{const o=Cb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function oqe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const nde=56;class n9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=oqe(aqe,e),r=e.length-nde;Ln(r>=0,"lookup table is invalid"),Ln(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(pn(),s,"addresses")]).decode(e.slice(nde));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new rt(t.authority[0]):void 0,addresses:i.map(o=>new rt(o))}}}const aqe={index:1,layout:N([F("typeIndex"),CA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(pn(),Vt(te(),-1),"authority")])},cqe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function uqe(n){const e=n.match(cqe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Fi=FB(UG(rt),je(),n=>new rt(n)),ove=VG([je(),_i("base64")]),QG=FB(UG(V.Buffer),ove,n=>V.Buffer.from(n[0],"base64")),ave=30*1e3;function lqe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ps(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function sde(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function cve(n){return Rc([Te({jsonrpc:_i("2.0"),id:je(),result:n}),Te({jsonrpc:_i("2.0"),id:je(),error:Te({code:Nx(),message:je(),data:lr(o9e())})})])}const dqe=cve(Nx());function Ur(n){return FB(cve(n),dqe,e=>"error"in e?e:{...e,result:ht(e.result,n)})}function lo(n){return Ur(Te({context:Te({slot:he()}),value:n}))}function F4(n){return Te({context:Te({slot:he()}),value:n})}function uW(n,e){return n===0?new aS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new rt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:oc.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new md(e)}const fqe=Te({foundation:he(),foundationTerm:he(),initial:he(),taper:he(),terminal:he()}),hqe=Ur(vt(Tt(Te({epoch:he(),effectiveSlot:he(),amount:he(),postBalance:he(),commission:lr(Tt(he()))})))),gqe=vt(Te({slot:he(),prioritizationFee:he()})),mqe=Te({total:he(),validator:he(),foundation:he(),epoch:he()}),yqe=Te({epoch:he(),slotIndex:he(),slotsInEpoch:he(),absoluteSlot:he(),blockHeight:lr(he()),transactionCount:lr(he())}),pqe=Te({slotsPerEpoch:he(),leaderScheduleSlotOffset:he(),warmup:Xf(),firstNormalEpoch:he(),firstNormalSlot:he()}),bqe=qke(je(),vt(he())),XS=Tt(Rc([Te({}),je()])),Sqe=Te({err:XS}),kqe=_i("receivedSignature"),vqe=Te({"solana-core":je(),"feature-set":lr(he())}),Aqe=Te({program:je(),programId:Fi,parsed:Nx()}),wqe=Te({programId:Fi,accounts:vt(Fi),data:je()}),ide=lo(Te({err:Tt(Rc([Te({}),je()])),logs:Tt(vt(je())),accounts:lr(Tt(vt(Tt(Te({executable:Xf(),owner:je(),lamports:he(),data:vt(je()),rentEpoch:lr(he())}))))),unitsConsumed:lr(he()),returnData:lr(Tt(Te({programId:je(),data:VG([je(),_i("base64")])}))),innerInstructions:lr(Tt(vt(Te({index:he(),instructions:vt(Rc([Aqe,wqe]))}))))})),Iqe=lo(Te({byIdentity:qke(je(),vt(he())),range:Te({firstSlot:he(),lastSlot:he()})}));function _qe(n,e,t,r,s,i){const o=t||sqe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Rb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Pje)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await X0(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function Pqe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Eqe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const xqe=Ur(fqe),Tqe=Ur(mqe),Rqe=Ur(gqe),Cqe=Ur(yqe),Mqe=Ur(pqe),Bqe=Ur(bqe),zqe=Ur(he()),$qe=lo(Te({total:he(),circulating:he(),nonCirculating:he(),nonCirculatingAccounts:vt(Fi)})),s9=Te({amount:je(),uiAmount:Tt(he()),decimals:he(),uiAmountString:lr(je())}),Dqe=lo(vt(Te({address:Fi,amount:je(),uiAmount:Tt(he()),decimals:he(),uiAmountString:lr(je())}))),Oqe=lo(vt(Te({pubkey:Fi,account:Te({executable:Xf(),owner:Fi,lamports:he(),data:QG,rentEpoch:he()})}))),i9=Te({program:je(),parsed:Nx(),space:he()}),Kqe=lo(vt(Te({pubkey:Fi,account:Te({executable:Xf(),owner:Fi,lamports:he(),data:i9,rentEpoch:he()})}))),Lqe=lo(vt(Te({lamports:he(),address:Fi}))),gM=Te({executable:Xf(),owner:Fi,lamports:he(),data:QG,rentEpoch:he()}),Wqe=Te({pubkey:Fi,account:gM}),Nqe=FB(Rc([UG(V.Buffer),i9]),Rc([ove,i9]),n=>Array.isArray(n)?ht(n,QG):n),o9=Te({executable:Xf(),owner:Fi,lamports:he(),data:Nqe,rentEpoch:he()}),Fqe=Te({pubkey:Fi,account:o9}),Uqe=Te({state:Rc([_i("active"),_i("inactive"),_i("activating"),_i("deactivating")]),active:he(),inactive:he()}),Vqe=Ur(vt(Te({signature:je(),slot:he(),err:XS,memo:Tt(je()),blockTime:lr(Tt(he()))}))),qqe=Ur(vt(Te({signature:je(),slot:he(),err:XS,memo:Tt(je()),blockTime:lr(Tt(he()))}))),jqe=Te({subscription:he(),result:F4(gM)}),Hqe=Te({pubkey:Fi,account:gM}),Gqe=Te({subscription:he(),result:F4(Hqe)}),Yqe=Te({parent:he(),slot:he(),root:he()}),Zqe=Te({subscription:he(),result:Yqe}),Jqe=Rc([Te({type:Rc([_i("firstShredReceived"),_i("completed"),_i("optimisticConfirmation"),_i("root")]),slot:he(),timestamp:he()}),Te({type:_i("createdBank"),parent:he(),slot:he(),timestamp:he()}),Te({type:_i("frozen"),slot:he(),timestamp:he(),stats:Te({numTransactionEntries:he(),numSuccessfulTransactions:he(),numFailedTransactions:he(),maxTransactionsPerEntry:he()})}),Te({type:_i("dead"),slot:he(),timestamp:he(),err:je()})]),Xqe=Te({subscription:he(),result:Jqe}),Qqe=Te({subscription:he(),result:F4(Rc([Sqe,kqe]))}),eje=Te({subscription:he(),result:he()}),tje=Te({pubkey:je(),gossip:Tt(je()),tpu:Tt(je()),rpc:Tt(je()),version:Tt(je())}),ode=Te({votePubkey:je(),nodePubkey:je(),activatedStake:he(),epochVoteAccount:Xf(),epochCredits:vt(VG([he(),he(),he()])),commission:he(),lastVote:he(),rootSlot:Tt(he())}),rje=Ur(Te({current:vt(ode),delinquent:vt(ode)})),nje=Rc([_i("processed"),_i("confirmed"),_i("finalized")]),sje=Te({slot:he(),confirmations:Tt(he()),err:XS,confirmationStatus:lr(nje)}),ije=lo(vt(Tt(sje))),oje=Ur(he()),uve=Te({accountKey:Fi,writableIndexes:vt(he()),readonlyIndexes:vt(he())}),eY=Te({signatures:vt(je()),message:Te({accountKeys:vt(je()),header:Te({numRequiredSignatures:he(),numReadonlySignedAccounts:he(),numReadonlyUnsignedAccounts:he()}),instructions:vt(Te({accounts:vt(he()),data:je(),programIdIndex:he()})),recentBlockhash:je(),addressTableLookups:lr(vt(uve))})}),lve=Te({pubkey:Fi,signer:Xf(),writable:Xf(),source:lr(Rc([_i("transaction"),_i("lookupTable")]))}),dve=Te({accountKeys:vt(lve),signatures:vt(je())}),fve=Te({parsed:Nx(),program:je(),programId:Fi}),hve=Te({accounts:vt(Fi),data:je(),programId:Fi}),aje=Rc([hve,fve]),cje=Rc([Te({parsed:Nx(),program:je(),programId:je()}),Te({accounts:vt(je()),data:je(),programId:je()})]),gve=FB(aje,cje,n=>"accounts"in n?ht(n,hve):ht(n,fve)),mve=Te({signatures:vt(je()),message:Te({accountKeys:vt(lve),instructions:vt(gve),recentBlockhash:je(),addressTableLookups:lr(Tt(vt(uve)))})}),rO=Te({accountIndex:he(),mint:je(),owner:lr(je()),programId:lr(je()),uiTokenAmount:s9}),yve=Te({writable:vt(Fi),readonly:vt(Fi)}),U4=Te({err:XS,fee:he(),innerInstructions:lr(Tt(vt(Te({index:he(),instructions:vt(Te({accounts:vt(he()),data:je(),programIdIndex:he()}))})))),preBalances:vt(he()),postBalances:vt(he()),logMessages:lr(Tt(vt(je()))),preTokenBalances:lr(Tt(vt(rO))),postTokenBalances:lr(Tt(vt(rO))),loadedAddresses:lr(yve),computeUnitsConsumed:lr(he())}),tY=Te({err:XS,fee:he(),innerInstructions:lr(Tt(vt(Te({index:he(),instructions:vt(gve)})))),preBalances:vt(he()),postBalances:vt(he()),logMessages:lr(Tt(vt(je()))),preTokenBalances:lr(Tt(vt(rO))),postTokenBalances:lr(Tt(vt(rO))),loadedAddresses:lr(yve),computeUnitsConsumed:lr(he())}),Fx=Rc([_i(0),_i("legacy")]),QS=Te({pubkey:je(),lamports:he(),postBalance:Tt(he()),rewardType:Tt(je()),commission:lr(Tt(he()))}),uje=Ur(Tt(Te({blockhash:je(),previousBlockhash:je(),parentSlot:he(),transactions:vt(Te({transaction:eY,meta:Tt(U4),version:lr(Fx)})),rewards:lr(vt(QS)),blockTime:Tt(he()),blockHeight:Tt(he())}))),lje=Ur(Tt(Te({blockhash:je(),previousBlockhash:je(),parentSlot:he(),rewards:lr(vt(QS)),blockTime:Tt(he()),blockHeight:Tt(he())}))),dje=Ur(Tt(Te({blockhash:je(),previousBlockhash:je(),parentSlot:he(),transactions:vt(Te({transaction:dve,meta:Tt(U4),version:lr(Fx)})),rewards:lr(vt(QS)),blockTime:Tt(he()),blockHeight:Tt(he())}))),fje=Ur(Tt(Te({blockhash:je(),previousBlockhash:je(),parentSlot:he(),transactions:vt(Te({transaction:mve,meta:Tt(tY),version:lr(Fx)})),rewards:lr(vt(QS)),blockTime:Tt(he()),blockHeight:Tt(he())}))),hje=Ur(Tt(Te({blockhash:je(),previousBlockhash:je(),parentSlot:he(),transactions:vt(Te({transaction:dve,meta:Tt(tY),version:lr(Fx)})),rewards:lr(vt(QS)),blockTime:Tt(he()),blockHeight:Tt(he())}))),gje=Ur(Tt(Te({blockhash:je(),previousBlockhash:je(),parentSlot:he(),rewards:lr(vt(QS)),blockTime:Tt(he()),blockHeight:Tt(he())}))),mje=Ur(Tt(Te({blockhash:je(),previousBlockhash:je(),parentSlot:he(),transactions:vt(Te({transaction:eY,meta:Tt(U4)})),rewards:lr(vt(QS)),blockTime:Tt(he())}))),ade=Ur(Tt(Te({blockhash:je(),previousBlockhash:je(),parentSlot:he(),signatures:vt(je()),blockTime:Tt(he())}))),lW=Ur(Tt(Te({slot:he(),meta:Tt(U4),blockTime:lr(Tt(he())),transaction:eY,version:lr(Fx)}))),a$=Ur(Tt(Te({slot:he(),transaction:mve,meta:Tt(tY),blockTime:lr(Tt(he())),version:lr(Fx)}))),yje=lo(Te({blockhash:je(),feeCalculator:Te({lamportsPerSignature:he()})})),pje=lo(Te({blockhash:je(),lastValidBlockHeight:he()})),bje=lo(Xf()),Sje=Te({slot:he(),numTransactions:he(),numSlots:he(),samplePeriodSecs:he()}),kje=Ur(vt(Sje)),vje=lo(Tt(Te({feeCalculator:Te({lamportsPerSignature:he()})}))),Aje=Ur(je()),wje=Ur(je()),Ije=Te({err:XS,logs:vt(je()),signature:je()}),_je=Te({result:F4(Ije),subscription:he()}),Pje={"solana-client":"js/1.0.0-maintenance"};class Eje{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ps(l),h=this._buildArgs([],d,void 0,y),m=rde(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=ht(f,Ur(he()));if("error"in g)throw new Gt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=lqe(e),this._rpcWsEndpoint=r||uqe(e),this._rpcClient=_qe(e,s,i,o,a,c),this._rpcRequest=Pqe(this._rpcClient),this._rpcBatchRequest=Eqe(this._rpcClient),this._rpcWebSocket=new iqe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=ht(o,lo(he()));if("error"in a)throw new Gt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=ht(t,Ur(Tt(he())));if("error"in r)throw new Gt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=ht(e,Ur(he()));if("error"in t)throw new Gt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=ht(e,zqe);if("error"in t)throw new Gt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=ht(r,$qe);if("error"in s)throw new Gt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=ht(s,lo(s9));if("error"in i)throw new Gt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=ht(s,lo(s9));if("error"in i)throw new Gt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ps(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=ht(c,Oqe);if("error"in u)throw new Gt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=ht(o,Kqe);if("error"in a)throw new Gt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=ht(s,Lqe);if("error"in i)throw new Gt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=ht(s,Dqe);if("error"in i)throw new Gt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=ht(o,lo(Tt(gM)));if("error"in a)throw new Gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=ht(o,lo(Tt(o9)));if("error"in a)throw new Gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ht(a,lo(vt(Tt(o9))));if("error"in c)throw new Gt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ht(a,lo(vt(Tt(gM))));if("error"in c)throw new Gt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ps(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=ht(a,Ur(Uqe));if("error"in c)throw new Gt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ps(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:sde(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=vt(Wqe),l=o.withContext===!0?ht(c,lo(u)):ht(c,Ur(u));if("error"in l)throw new Gt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=ht(o,Ur(vt(Fqe)));if("error"in a)throw new Gt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=oc.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Ln(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:mg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:mg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await X0(1e3),i||(h=await y(),i))return;d({__type:mg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===mg.PROCESSED)l=d.response;else throw new GG(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:mg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await X0(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===mg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await X0(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Av(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Av(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Av(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Av(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:mg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===mg.PROCESSED)a=c.response;else throw new YG(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=ht(e,Ur(vt(tje)));if("error"in t)throw new Gt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=ht(r,rje);if("error"in s)throw new Gt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=ht(i,Ur(he()));if("error"in o)throw new Gt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=ht(i,Ur(je()));if("error"in o)throw new Gt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=ht(s,Ur(vt(Fi)));if("error"in i)throw new Gt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Ln(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=ht(s,ije);if("error"in i)throw new Gt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=ht(i,Ur(he()));if("error"in o)throw new Gt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=ht(r,xqe);if("error"in s)throw new Gt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ps(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=ht(a,hqe);if("error"in c)throw new Gt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=ht(e,Tqe);if("error"in t)throw new Gt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=ht(i,Cqe);if("error"in o)throw new Gt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=ht(e,Mqe);if("error"in t)throw new Gt(t.error,"failed to get epoch schedule");const r=t.result;return new ive(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=ht(e,Bqe);if("error"in t)throw new Gt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ht(s,oje);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=ht(r,yje);if("error"in s)throw new Gt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ht(t,kje);if("error"in r)throw new Gt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ht(s,vje);if("error"in i)throw new Gt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Xr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=ht(i,lo(Tt(he())));if("error"in o)throw new Gt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=ht(s,Rqe);if("error"in i)throw new Gt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=ht(i,pje);if("error"in o)throw new Gt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=ht(o,bje);if("error"in a)throw new Gt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=ht(e,Ur(vqe));if("error"in t)throw new Gt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=ht(e,Ur(je()));if("error"in t)throw new Gt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ht(o,dje);if("error"in a)throw a.error;return a.result}case"none":{const a=ht(o,lje);if("error"in a)throw a.error;return a.result}default:{const a=ht(o,uje);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:uW(d,u.message)},version:d}))}:null}}}catch(a){throw new Gt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ht(o,hje);if("error"in a)throw a.error;return a.result}case"none":{const a=ht(o,gje);if("error"in a)throw a.error;return a.result}default:{const a=ht(o,fje);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Gt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=ht(i,Iqe);if("error"in o)throw new Gt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=ht(o,lW);if("error"in a)throw new Gt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:uW(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=ht(o,a$);if("error"in a)throw new Gt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ht(c,a$);if("error"in u)throw new Gt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ht(c,lW);if("error"in u)throw new Gt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:uW(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=ht(s,mje);if("error"in i)throw new Gt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new md(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:jn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=ht(i,Ur(vt(he())));if("error"in o)throw new Gt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ht(s,ade);if("error"in i)throw new Gt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=ht(s,ade);if("error"in i)throw new Gt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=ht(s,lW);if("error"in i)throw new Gt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new md(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:jn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=ht(s,a$);if("error"in i)throw new Gt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=ht(o,a$);if("error"in a)throw new Gt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=ht(i,Vqe);if("error"in o)throw new Gt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=ht(i,qqe);if("error"in o)throw new Gt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new n9({key:e,state:n9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=N4.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=ht(r,Aje);if("error"in s)throw new Gt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await X0(100);const r=Date.now()-this._blockhashInfo.lastFetch>=ave;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await X0(rve/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=ht(i,lo(he()));if("error"in o)throw new Gt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=ht(p,ide);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof jn){let m=e;s=new jn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=jn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=ht(y,ide);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new hM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Xr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=ht(a,wje);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new hM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=ht(e,jqe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=rde([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Ln(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ps(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=ht(e,Gqe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ps(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:sde(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=ht(e,_je);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=ht(e,Zqe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=ht(e,Xqe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=ht(e,Qqe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=ht(e,eje);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class jv{constructor(e){this._keypair=void 0,this._keypair=e??Xle()}static generate(){return new jv(Xle())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=tO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new jv({publicKey:r,secretKey:e})}static fromSeed(e){const t=tO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new jv({publicKey:t,secretKey:r})}get publicKey(){return new rt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Tg=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),CA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),CA(),we(pn(),Vt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class xje{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Tg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ts(Tg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ts(Tg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new rt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(rY.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class rY{constructor(){}static createLookupTable(e){const[t,r]=rt.findProgramAddressSync([e.authority.toBuffer(),rc(BigInt(e.recentSlot),8)],this.programId),s=Tg.CreateLookupTable,i=xn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ka.programId,isSigner:!1,isWritable:!1}];return[new bs({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Tg.FreezeLookupTable,r=xn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new bs({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Tg.ExtendLookupTable,r=xn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ka.programId,isSigner:!1,isWritable:!1}),new bs({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Tg.DeactivateLookupTable,r=xn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new bs({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Tg.CloseLookupTable,r=xn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new bs({programId:this.programId,keys:s,data:r})}}rY.programId=new rt("AddressLookupTab1e1111111111111111111111111");class Tje{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(gf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ts(gf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ts(gf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ts(gf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ts(gf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(nY.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const gf=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),CA("microLamports")])}});class nY{constructor(){}static requestUnits(e){const t=gf.RequestUnits,r=xn(t,e);return new bs({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=gf.RequestHeapFrame,r=xn(t,e);return new bs({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=gf.SetComputeUnitLimit,r=xn(t,e);return new bs({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=gf.SetComputeUnitPrice,r=xn(t,{microLamports:BigInt(e.microLamports)});return new bs({keys:[],programId:this.programId,data:r})}}nY.programId=new rt("ComputeBudget111111111111111111111111111111");const cde=64,ude=32,lde=64,dde=N([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class V4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Ln(t.length===ude,`Public Key must be ${ude} bytes but received ${t.length} bytes`),Ln(s.length===lde,`Signature must be ${lde} bytes but received ${s.length} bytes`);const o=dde.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return dde.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new bs({keys:[],programId:V4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Ln(t.length===cde,`Private key must be ${cde} bytes but received ${t.length} bytes`);try{const i=jv.fromSecretKey(t),o=i.publicKey.toBytes(),a=jG(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}V4.programId=new rt("Ed25519SigVerify111111111111111111111111111");const Rje=(n,e)=>{const t=K4.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};K4.utils.isValidPrivateKey;const Cje=K4.getPublicKey,fde=32,dW=20,hde=64,Mje=11,fW=N([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Hv{constructor(){}static publicKeyToEthAddress(e){Ln(e.length===hde,`Public key must be ${hde} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Hle(Xr(e))).slice(-dW)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Hv.createInstructionWithEthAddress({ethAddress:Hv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Ln(a.length===dW,`Address must be ${dW} bytes but received ${a.length} bytes`);const c=1+Mje,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(fW.span+r.length);return fW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Xr(s),ethAddress:Xr(a),recoveryId:i},h),h.fill(Xr(r),fW.span),new bs({keys:[],programId:Hv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Ln(t.length===fde,`Private key must be ${fde} bytes but received ${t.length} bytes`);try{const i=Xr(t),o=Cje(i,!1).slice(1),a=V.Buffer.from(Hle(Xr(r))),[c,u]=Rje(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Hv.programId=new rt("KeccakSecp256k11111111111111111111111111111");var pve;const bve=new rt("StakeConfig11111111111111111111111111111111");class Sve{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class UB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}pve=UB;UB.default=new pve(0,0,rt.default);class Bje{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Sa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ts(Sa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Sve(new rt(t.staker),new rt(t.withdrawer)),lockup:new UB(r.unixTimestamp,r.epoch,new rt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ts(Sa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ts(Sa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ts(Sa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new rt(i),newAuthorizedPubkey:new rt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ts(Sa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ts(Sa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ts(Sa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ts(Sa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(q4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Sa=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),z9e(),$9e()])},Authorize:{index:1,layout:N([F("instruction"),pn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Pe("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Pe("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),pn("newAuthorized"),F("stakeAuthorizationType"),A1("authoritySeed"),pn("authorityOwner")])}}),zje=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class q4{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||UB.default,o=Sa.Initialize,a=xn(o,{authorized:{staker:Xr(r.staker.toBuffer()),withdrawer:Xr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Xr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:RA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new bs(c)}static createAccountWithSeed(e){const t=new jn;t.add(Ka.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new jn;t.add(Ka.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Sa.Delegate,o=xn(i);return new jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:pD,isSigner:!1,isWritable:!1},{pubkey:bve,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Sa.Authorize,c=xn(a,{newAuthorized:Xr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new jn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Sa.AuthorizeWithSeed,l=xn(u,{newAuthorized:Xr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Xr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Xd,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new jn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Sa.Split,a=xn(o,{lamports:i});return new bs({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new jn;return r.add(Ka.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new jn;return u.add(Ka.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Ka.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Sa.Merge,o=xn(i);return new jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:pD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Sa.Withdraw,c=xn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:pD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new jn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Sa.Deactivate,i=xn(s);return new jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}q4.programId=new rt("Stake11111111111111111111111111111111111111");q4.space=200;class kve{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class $je{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(mf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ts(mf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new kve(new rt(t.nodePubkey),new rt(t.authorizedVoter),new rt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ts(mf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ts(mf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new rt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new rt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ts(mf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Ux.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const mf=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),D9e()])},Authorize:{index:1,layout:N([F("instruction"),pn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Pe("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),O9e()])}}),Dje=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Ux{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=mf.InitializeAccount,o=xn(i,{voteInit:{nodePubkey:Xr(s.nodePubkey.toBuffer()),authorizedVoter:Xr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Xr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:RA,isSigner:!1,isWritable:!1},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new bs(a)}static createAccount(e){const t=new jn;return t.add(Ka.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=mf.Authorize,a=xn(o,{newAuthorized:Xr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new jn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=mf.AuthorizeWithSeed,u=xn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Xr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Xr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new jn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=mf.Withdraw,a=xn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new jn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Ux.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=mf.UpdateValidatorIdentity,o=xn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new jn().add({keys:a,programId:this.programId,data:o})}}Ux.programId=new rt("Vote111111111111111111111111111111111111111");Ux.space=3762;const vve=new rt("Va1idator1nfo111111111111111111111111111111"),Oje=Te({name:je(),website:lr(je()),details:lr(je()),iconUrl:lr(je()),keybaseUsername:lr(je())});class sY{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(ru(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new rt(nu(t,0,Lf)),a=hf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(vve)&&s[1].isSigner){const i=A1().decode(V.Buffer.from(t)),o=JSON.parse(i);return Uke(o,Oje),new sY(s[1].publicKey,o)}return null}}const Kje=new rt("Vote111111111111111111111111111111111111111"),Lje=N([pn("nodePubkey"),pn("authorizedWithdrawer"),te("commission"),Ae(),we(N([Ae("slot"),F("confirmationCount")]),Vt(F(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(N([Ae("epoch"),pn("authorizedVoter")]),Vt(F(),-8),"authorizedVoters"),N([we(N([pn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(N([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(F(),-8),"epochCredits"),N([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class iY{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Lje.decode(Xr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new iY({nodePubkey:new rt(r.nodePubkey),authorizedWithdrawer:new rt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(Wje),priorVoters:Nje(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Wje({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new rt(n)}}function gde({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new rt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function Nje({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(gde),...n.slice(0,e).map(gde)]}const mde={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Fje(n,e){const t=e===!1?"http":"https";if(!n)return mde[t].devnet;const r=mde[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Uje(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new hM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Vje=1e9;var qje=Object.freeze(Object.defineProperty({__proto__:null,Account:C9e,AddressLookupTableAccount:n9,AddressLookupTableInstruction:xje,AddressLookupTableProgram:rY,Authorized:Sve,BLOCKHASH_CACHE_TIMEOUT_MS:ave,BPF_LOADER_DEPRECATED_PROGRAM_ID:M9e,BPF_LOADER_PROGRAM_ID:X9e,BpfLoader:Q9e,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:gf,ComputeBudgetInstruction:Tje,ComputeBudgetProgram:nY,Connection:Eje,Ed25519Program:V4,Enum:T9e,EpochSchedule:ive,FeeCalculatorLayout:nve,Keypair:jv,LAMPORTS_PER_SOL:Vje,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Tg,Loader:cS,Lockup:UB,MAX_SEED_LENGTH:Qke,Message:md,MessageAccountKeys:fM,MessageV0:aS,NONCE_ACCOUNT_LENGTH:r9,NonceAccount:N4,PACKET_DATA_SIZE:Ny,PUBLIC_KEY_LENGTH:Lf,PublicKey:rt,SIGNATURE_LENGTH_IN_BYTES:dM,SOLANA_SCHEMA:B2,STAKE_CONFIG_ID:bve,STAKE_INSTRUCTION_LAYOUTS:Sa,SYSTEM_INSTRUCTION_LAYOUTS:$s,SYSVAR_CLOCK_PUBKEY:Xd,SYSVAR_EPOCH_SCHEDULE_PUBKEY:F9e,SYSVAR_INSTRUCTIONS_PUBKEY:U9e,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:yD,SYSVAR_RENT_PUBKEY:RA,SYSVAR_REWARDS_PUBKEY:V9e,SYSVAR_SLOT_HASHES_PUBKEY:q9e,SYSVAR_SLOT_HISTORY_PUBKEY:j9e,SYSVAR_STAKE_HISTORY_PUBKEY:pD,Secp256k1Program:Hv,SendTransactionError:hM,SolanaJSONRPCError:Gt,SolanaJSONRPCErrorCode:H9e,StakeAuthorizationLayout:zje,StakeInstruction:Bje,StakeProgram:q4,Struct:HG,SystemInstruction:Z9e,SystemProgram:Ka,Transaction:jn,TransactionExpiredBlockheightExceededError:GG,TransactionExpiredNonceInvalidError:Av,TransactionExpiredTimeoutError:YG,TransactionInstruction:bs,TransactionMessage:JG,TransactionStatus:mg,VALIDATOR_INFO_KEY:vve,VERSION_PREFIX_MASK:L4,VOTE_PROGRAM_ID:Kje,ValidatorInfo:sY,VersionedMessage:ZG,VersionedTransaction:XG,VoteAccount:iY,VoteAuthorizationLayout:Dje,VoteInit:kve,VoteInstruction:$je,VoteProgram:Ux,clusterApiUrl:Fje,sendAndConfirmRawTransaction:Uje,sendAndConfirmTransaction:t9},Symbol.toStringTag,{value:"Module"})),Mb=xd(qje);const jje={withStackTrace:!1},Ave=(n,e,t=jje)=>{const r=e.isOk()?{type:"Ok",value:e.value}:{type:"Err",value:e.error},s=t.withStackTrace?new Error().stack:void 0;return{data:r,message:n,stack:s}};function Ik(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function yde(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qd(n){return this instanceof Qd?(this.v=n,this):new Qd(n)}function pde(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(s[h]=function(f){return new Promise(function(g,b){i.push([h,f,g,b])>1||c(h,f)})},m&&(s[h]=m(s[h])))}function c(h,m){try{u(r[h](m))}catch(f){y(i[0][3],f)}}function u(h){h.value instanceof Qd?Promise.resolve(h.value.v).then(l,d):y(i[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function y(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Hje(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=n[s]?function(o){return(t=!t)?{value:Qd(n[s](o)),done:!1}:i?i(o):o}:i}}function Gje(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof yde=="function"?yde(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(o){return new Promise(function(a,c){o=n[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}class Bo{constructor(e){this._promise=e}static fromSafePromise(e){const t=e.then(r=>new Yl(r));return new Bo(t)}static fromPromise(e,t){const r=e.then(s=>new Yl(s)).catch(s=>new Zl(t(s)));return new Bo(r)}static fromThrowable(e,t){return(...r)=>new Bo((()=>Ik(this,void 0,void 0,function*(){try{return new Yl(yield e(...r))}catch(s){return new Zl(t?t(s):s)}}))())}static combine(e){return Qje(e)}static combineWithAllErrors(e){return eHe(e)}map(e){return new Bo(this._promise.then(t=>Ik(this,void 0,void 0,function*(){return t.isErr()?new Zl(t.error):new Yl(yield e(t.value))})))}andThrough(e){return new Bo(this._promise.then(t=>Ik(this,void 0,void 0,function*(){if(t.isErr())return new Zl(t.error);const r=yield e(t.value);return r.isErr()?new Zl(r.error):new Yl(t.value)})))}andTee(e){return new Bo(this._promise.then(t=>Ik(this,void 0,void 0,function*(){if(t.isErr())return new Zl(t.error);try{yield e(t.value)}catch{}return new Yl(t.value)})))}mapErr(e){return new Bo(this._promise.then(t=>Ik(this,void 0,void 0,function*(){return t.isOk()?new Yl(t.value):new Zl(yield e(t.error))})))}andThen(e){return new Bo(this._promise.then(t=>{if(t.isErr())return new Zl(t.error);const r=e(t.value);return r instanceof Bo?r._promise:r}))}orElse(e){return new Bo(this._promise.then(t=>Ik(this,void 0,void 0,function*(){return t.isErr()?e(t.error):new Yl(t.value)})))}match(e,t){return this._promise.then(r=>r.match(e,t))}unwrapOr(e){return this._promise.then(t=>t.unwrapOr(e))}safeUnwrap(){return pde(this,arguments,function*(){return yield Qd(yield Qd(yield*Hje(Gje(yield Qd(this._promise.then(t=>t.safeUnwrap()))))))})}then(e,t){return this._promise.then(e,t)}[Symbol.asyncIterator](){return pde(this,arguments,function*(){const t=yield Qd(this._promise);return t.isErr()&&(yield yield Qd(z2(t.error))),yield Qd(t.value)})}}const Yje=n=>new Bo(Promise.resolve(new Yl(n))),z2=n=>new Bo(Promise.resolve(new Zl(n))),Zje=Bo.fromPromise,Jje=Bo.fromSafePromise,Xje=Bo.fromThrowable,wve=n=>{let e=My([]);for(const t of n)if(t.isErr()){e=ef(t.error);break}else e.map(r=>r.push(t.value));return e},Qje=n=>Bo.fromSafePromise(Promise.all(n)).andThen(wve),Ive=n=>{let e=My([]);for(const t of n)t.isErr()&&e.isErr()?e.error.push(t.error):t.isErr()&&e.isOk()?e=ef([t.error]):t.isOk()&&e.isOk()&&e.value.push(t.value);return e},eHe=n=>Bo.fromSafePromise(Promise.all(n)).andThen(Ive);var nO;(function(n){function e(s,i){return(...o)=>{try{const a=s(...o);return My(a)}catch(a){return ef(i?i(a):a)}}}n.fromThrowable=e;function t(s){return wve(s)}n.combine=t;function r(s){return Ive(s)}n.combineWithAllErrors=r})(nO||(nO={}));const My=n=>new Yl(n);function ef(n){return new Zl(n)}function tHe(n){const e=n().next();return e instanceof Promise?new Bo(e.then(t=>t.value)):e.value}class Yl{constructor(e){this.value=e}isOk(){return!0}isErr(){return!this.isOk()}map(e){return My(e(this.value))}mapErr(e){return My(this.value)}andThen(e){return e(this.value)}andThrough(e){return e(this.value).map(t=>this.value)}andTee(e){try{e(this.value)}catch{}return My(this.value)}orElse(e){return My(this.value)}asyncAndThen(e){return e(this.value)}asyncAndThrough(e){return e(this.value).map(()=>this.value)}asyncMap(e){return Bo.fromSafePromise(e(this.value))}unwrapOr(e){return this.value}match(e,t){return e(this.value)}safeUnwrap(){const e=this.value;return function*(){return e}()}_unsafeUnwrap(e){return this.value}_unsafeUnwrapErr(e){throw Ave("Called `_unsafeUnwrapErr` on an Ok",this,e)}*[Symbol.iterator](){return this.value}}class Zl{constructor(e){this.error=e}isOk(){return!1}isErr(){return!this.isOk()}map(e){return ef(this.error)}mapErr(e){return ef(e(this.error))}andThrough(e){return ef(this.error)}andTee(e){return ef(this.error)}andThen(e){return ef(this.error)}orElse(e){return e(this.error)}asyncAndThen(e){return z2(this.error)}asyncAndThrough(e){return z2(this.error)}asyncMap(e){return z2(this.error)}unwrapOr(e){return e}match(e,t){return t(this.error)}safeUnwrap(){const e=this.error;return function*(){throw yield ef(e),new Error("Do not use this generator out of `safeTry`")}()}_unsafeUnwrap(e){throw Ave("Called `_unsafeUnwrap` on an Err",this,e)}_unsafeUnwrapErr(e){return this.error}*[Symbol.iterator](){const e=this;return yield e,e}}const rHe=nO.fromThrowable;var nHe=Object.freeze(Object.defineProperty({__proto__:null,Err:Zl,Ok:Yl,get Result(){return nO},ResultAsync:Bo,err:ef,errAsync:z2,fromAsyncThrowable:Xje,fromPromise:Zje,fromSafePromise:Jje,fromThrowable:rHe,ok:My,okAsync:Yje,safeTry:tHe},Symbol.toStringTag,{value:"Module"})),VB=xd(nHe),oY={},Np={},Bb={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.EXEMPTION_THRESHOLD=n.LAMPORTS_PER_BYTE_YEAR=n.ACCOUNT_STORAGE_OVERHEAD=n.snakeCaseToTitleCase=n.getElementOrError=n.isNull=void 0,n.optionalToArray=t,n.remapObject=r,n.fixedSizeArray=s,n.fixedSizeArrayInit=i,n.fixedSizeArrayFromArray=o,n.arrayDeepEquals=a,n.stringToByteArray=c,n.byteArrayToString=u,n.assertNever=l,n.staticImplements=d,n.normalizeArray=m,n.calculateMinimumRent=g;const e=Px.exports;function t(b){return b==null?[]:[b]}function r(b,S){return Object.entries(b).map(([p,I])=>({[p]:S(I,p)})).reduce((p,I)=>Object.assign(Object.assign({},p),I))}function s(b,S){return new Array(b).fill(S)}function i(b,S){return(0,e.range)(0,b).map(S)}function o(b,S){return S.length===b?S:null}function a(b,S,p){return b.length!==S.length?!1:b.reduce((I,A,w)=>{const _=S[w];return _==null?!1:I&&p(A,_)},!0)}function c(b,S){const p=new TextEncoder().encode(b);if(S===void 0)return Array.from(p);if(p.length>S)throw new Error("name too long");return Array.from(p).concat(new Array(S-p.length).fill(0))}function u(b){const S=b.findIndex(p=>p===0);return new TextDecoder().decode(Uint8Array.from(b).slice(0,S===-1?void 0:S))}function l(b){throw new Error("Unexpected object: "+b)}function d(){return b=>{}}const y=b=>Object.values(b).every(S=>S===null);n.isNull=y;const h=(b,S)=>{const p=b[S];if(p==null)throw new Error(`element at index ${S} doesn't exist in ${typeof b}`);return p};n.getElementOrError=h;function m(b){return Array.isArray(b)?b:[b]}const f=b=>{const S=b.replace(/([A-Z])/g," $1");return S.charAt(0).toUpperCase()+S.slice(1)};n.snakeCaseToTitleCase=f,n.ACCOUNT_STORAGE_OVERHEAD=128,n.LAMPORTS_PER_BYTE_YEAR=1e9/100*365/(1024*1024),n.EXEMPTION_THRESHOLD=2;function g(b){return(n.ACCOUNT_STORAGE_OVERHEAD+b)*n.LAMPORTS_PER_BYTE_YEAR*n.EXEMPTION_THRESHOLD}})(Bb);var aY={},j4={},Mo={},_ve={},Pa={},Fy={},Td={};Object.defineProperty(Td,"__esModule",{value:!0});Td.anumber=mM;Td.number=mM;Td.abytes=H4;Td.bytes=H4;Td.ahash=Pve;Td.aexists=Eve;Td.aoutput=xve;function mM(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function sHe(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function H4(n,...e){if(!sHe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function Pve(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");mM(n.outputLen),mM(n.blockLen)}function Eve(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function xve(n,e){H4(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const iHe={number:mM,bytes:H4,hash:Pve,exists:Eve,output:xve};Td.default=iHe;var G4={},Y4={};Object.defineProperty(Y4,"__esModule",{value:!0});Y4.crypto=void 0;Y4.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,"__esModule",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.byteSwap=n.isLE=n.rotl=n.rotr=n.createView=n.u32=n.u8=void 0,n.isBytes=r,n.byteSwap32=l,n.bytesToHex=y,n.hexToBytes=f,n.asyncLoop=b,n.utf8ToBytes=S,n.toBytes=p,n.concatBytes=I,n.checkOpts=w,n.wrapConstructor=_,n.wrapConstructorWithOpts=P,n.wrapXOFConstructorWithOpts=M,n.randomBytes=E;const e=Y4,t=Td;function r(T){return T instanceof Uint8Array||ArrayBuffer.isView(T)&&T.constructor.name==="Uint8Array"}const s=T=>new Uint8Array(T.buffer,T.byteOffset,T.byteLength);n.u8=s;const i=T=>new Uint32Array(T.buffer,T.byteOffset,Math.floor(T.byteLength/4));n.u32=i;const o=T=>new DataView(T.buffer,T.byteOffset,T.byteLength);n.createView=o;const a=(T,z)=>T<<32-z|T>>>z;n.rotr=a;const c=(T,z)=>T<<z|T>>>32-z>>>0;n.rotl=c,n.isLE=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();const u=T=>T<<24&4278190080|T<<8&16711680|T>>>8&65280|T>>>24&255;n.byteSwap=u,n.byteSwapIfBE=n.isLE?T=>T:T=>(0,n.byteSwap)(T);function l(T){for(let z=0;z<T.length;z++)T[z]=(0,n.byteSwap)(T[z])}const d=Array.from({length:256},(T,z)=>z.toString(16).padStart(2,"0"));function y(T){(0,t.abytes)(T);let z="";for(let O=0;O<T.length;O++)z+=d[T[O]];return z}const h={_0:48,_9:57,A:65,F:70,a:97,f:102};function m(T){if(T>=h._0&&T<=h._9)return T-h._0;if(T>=h.A&&T<=h.F)return T-(h.A-10);if(T>=h.a&&T<=h.f)return T-(h.a-10)}function f(T){if(typeof T!="string")throw new Error("hex string expected, got "+typeof T);const z=T.length,O=z/2;if(z%2)throw new Error("padded hex string expected, got unpadded hex of length "+z);const R=new Uint8Array(O);for(let v=0,k=0;v<O;v++,k+=2){const x=m(T.charCodeAt(k)),C=m(T.charCodeAt(k+1));if(x===void 0||C===void 0){const B=T[k]+T[k+1];throw new Error('hex string expected, got non-hex character "'+B+'" at index '+k)}R[v]=x*16+C}return R}const g=async()=>{};n.nextTick=g;async function b(T,z,O){let R=Date.now();for(let v=0;v<T;v++){O(v);const k=Date.now()-R;k>=0&&k<z||(await(0,n.nextTick)(),R+=k)}}function S(T){if(typeof T!="string")throw new Error("utf8ToBytes expected string, got "+typeof T);return new Uint8Array(new TextEncoder().encode(T))}function p(T){return typeof T=="string"&&(T=S(T)),(0,t.abytes)(T),T}function I(...T){let z=0;for(let R=0;R<T.length;R++){const v=T[R];(0,t.abytes)(v),z+=v.length}const O=new Uint8Array(z);for(let R=0,v=0;R<T.length;R++){const k=T[R];O.set(k,v),v+=k.length}return O}class A{clone(){return this._cloneInto()}}n.Hash=A;function w(T,z){if(z!==void 0&&{}.toString.call(z)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(T,z)}function _(T){const z=R=>T().update(p(R)).digest(),O=T();return z.outputLen=O.outputLen,z.blockLen=O.blockLen,z.create=()=>T(),z}function P(T){const z=(R,v)=>T(v).update(p(R)).digest(),O=T({});return z.outputLen=O.outputLen,z.blockLen=O.blockLen,z.create=R=>T(R),z}function M(T){const z=(R,v)=>T(v).update(p(R)).digest(),O=T({});return z.outputLen=O.outputLen,z.blockLen=O.blockLen,z.create=R=>T(R),z}function E(T=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(T));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(T);throw new Error("crypto.getRandomValues must be defined")}})(G4);Object.defineProperty(Fy,"__esModule",{value:!0});Fy.HashMD=Fy.Maj=Fy.Chi=void 0;const hW=Td,kR=G4;function oHe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const aHe=(n,e,t)=>n&e^~n&t;Fy.Chi=aHe;const cHe=(n,e,t)=>n&e^n&t^e&t;Fy.Maj=cHe;class uHe extends kR.Hash{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,kR.createView)(this.buffer)}update(e){(0,hW.aexists)(this);const{view:t,buffer:r,blockLen:s}=this;e=(0,kR.toBytes)(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=(0,kR.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,hW.aexists)(this),(0,hW.aoutput)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;oHe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=(0,kR.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}Fy.HashMD=uHe;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.add5L=Ir.add5H=Ir.add4H=Ir.add4L=Ir.add3H=Ir.add3L=Ir.rotlBL=Ir.rotlBH=Ir.rotlSL=Ir.rotlSH=Ir.rotr32L=Ir.rotr32H=Ir.rotrBL=Ir.rotrBH=Ir.rotrSL=Ir.rotrSH=Ir.shrSL=Ir.shrSH=Ir.toBig=void 0;Ir.fromBig=cY;Ir.split=Tve;Ir.add=Uve;const c$=BigInt(2**32-1),a9=BigInt(32);function cY(n,e=!1){return e?{h:Number(n&c$),l:Number(n>>a9&c$)}:{h:Number(n>>a9&c$)|0,l:Number(n&c$)|0}}function Tve(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=cY(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const Rve=(n,e)=>BigInt(n>>>0)<<a9|BigInt(e>>>0);Ir.toBig=Rve;const Cve=(n,e,t)=>n>>>t;Ir.shrSH=Cve;const Mve=(n,e,t)=>n<<32-t|e>>>t;Ir.shrSL=Mve;const Bve=(n,e,t)=>n>>>t|e<<32-t;Ir.rotrSH=Bve;const zve=(n,e,t)=>n<<32-t|e>>>t;Ir.rotrSL=zve;const $ve=(n,e,t)=>n<<64-t|e>>>t-32;Ir.rotrBH=$ve;const Dve=(n,e,t)=>n>>>t-32|e<<64-t;Ir.rotrBL=Dve;const Ove=(n,e)=>e;Ir.rotr32H=Ove;const Kve=(n,e)=>n;Ir.rotr32L=Kve;const Lve=(n,e,t)=>n<<t|e>>>32-t;Ir.rotlSH=Lve;const Wve=(n,e,t)=>e<<t|n>>>32-t;Ir.rotlSL=Wve;const Nve=(n,e,t)=>e<<t-32|n>>>64-t;Ir.rotlBH=Nve;const Fve=(n,e,t)=>n<<t-32|e>>>64-t;Ir.rotlBL=Fve;function Uve(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Vve=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0);Ir.add3L=Vve;const qve=(n,e,t,r)=>e+t+r+(n/2**32|0)|0;Ir.add3H=qve;const jve=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0);Ir.add4L=jve;const Hve=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0;Ir.add4H=Hve;const Gve=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0);Ir.add5L=Gve;const Yve=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0;Ir.add5H=Yve;const lHe={fromBig:cY,split:Tve,toBig:Rve,shrSH:Cve,shrSL:Mve,rotrSH:Bve,rotrSL:zve,rotrBH:$ve,rotrBL:Dve,rotr32H:Ove,rotr32L:Kve,rotlSH:Lve,rotlSL:Wve,rotlBH:Nve,rotlBL:Fve,add:Uve,add3L:Vve,add3H:qve,add4L:jve,add4H:Hve,add5H:Yve,add5L:Gve};Ir.default=lHe;Object.defineProperty(Pa,"__esModule",{value:!0});Pa.sha384=Pa.sha512_256=Pa.sha512_224=Pa.sha512=Pa.SHA384=Pa.SHA512_256=Pa.SHA512_224=Pa.SHA512=void 0;const dHe=Fy,Br=Ir,Z4=G4,[fHe,hHe]=(()=>Br.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Tm=new Uint32Array(80),Rm=new Uint32Array(80);class qB extends dHe.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Tm[p]=e.getUint32(t),Rm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Tm[p-15]|0,A=Rm[p-15]|0,w=Br.default.rotrSH(I,A,1)^Br.default.rotrSH(I,A,8)^Br.default.shrSH(I,A,7),_=Br.default.rotrSL(I,A,1)^Br.default.rotrSL(I,A,8)^Br.default.shrSL(I,A,7),P=Tm[p-2]|0,M=Rm[p-2]|0,E=Br.default.rotrSH(P,M,19)^Br.default.rotrBH(P,M,61)^Br.default.shrSH(P,M,6),T=Br.default.rotrSL(P,M,19)^Br.default.rotrBL(P,M,61)^Br.default.shrSL(P,M,6),z=Br.default.add4L(_,T,Rm[p-7],Rm[p-16]),O=Br.default.add4H(z,w,E,Tm[p-7],Tm[p-16]);Tm[p]=O|0,Rm[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Br.default.rotrSH(d,y,14)^Br.default.rotrSH(d,y,18)^Br.default.rotrBH(d,y,41),A=Br.default.rotrSL(d,y,14)^Br.default.rotrSL(d,y,18)^Br.default.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=Br.default.add5L(S,A,_,hHe[p],Rm[p]),M=Br.default.add5H(P,b,I,w,fHe[p],Tm[p]),E=P|0,T=Br.default.rotrSH(r,s,28)^Br.default.rotrBH(r,s,34)^Br.default.rotrBH(r,s,39),z=Br.default.rotrSL(r,s,28)^Br.default.rotrBL(r,s,34)^Br.default.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Br.default.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Br.default.add3L(E,z,R);r=Br.default.add3H(v,M,T,O),s=v|0}({h:r,l:s}=Br.default.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Br.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Br.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Br.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Br.default.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Br.default.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Br.default.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Br.default.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Tm.fill(0),Rm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Pa.SHA512=qB;class Zve extends qB{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Pa.SHA512_224=Zve;class Jve extends qB{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Pa.SHA512_256=Jve;class Xve extends qB{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Pa.SHA384=Xve;Pa.sha512=(0,Z4.wrapConstructor)(()=>new qB);Pa.sha512_224=(0,Z4.wrapConstructor)(()=>new Zve);Pa.sha512_256=(0,Z4.wrapConstructor)(()=>new Jve);Pa.sha384=(0,Z4.wrapConstructor)(()=>new Xve);var uY={},Vx={},hs={},In={};Object.defineProperty(In,"__esModule",{value:!0});In.notImplemented=In.bitMask=void 0;In.isBytes=Q4;In.abytes=eK;In.abool=mHe;In.bytesToHex=lY;In.numberToHexUnpadded=Qve;In.hexToNumber=dY;In.hexToBytes=tK;In.bytesToNumberBE=pHe;In.bytesToNumberLE=bHe;In.numberToBytesBE=eAe;In.numberToBytesLE=SHe;In.numberToVarBytesBE=kHe;In.ensureBytes=vHe;In.concatBytes=tAe;In.equalBytes=AHe;In.utf8ToBytes=wHe;In.inRange=rAe;In.aInRange=IHe;In.bitLen=_He;In.bitGet=PHe;In.bitSet=EHe;In.createHmacDrbg=THe;In.validateObject=CHe;In.memoized=BHe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J4=BigInt(0),X4=BigInt(1),gHe=BigInt(2);function Q4(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function eK(n){if(!Q4(n))throw new Error("Uint8Array expected")}function mHe(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}const yHe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function lY(n){eK(n);let e="";for(let t=0;t<n.length;t++)e+=yHe[n[t]];return e}function Qve(n){const e=n.toString(16);return e.length&1?"0"+e:e}function dY(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?J4:BigInt("0x"+n)}const Ih={_0:48,_9:57,A:65,F:70,a:97,f:102};function bde(n){if(n>=Ih._0&&n<=Ih._9)return n-Ih._0;if(n>=Ih.A&&n<=Ih.F)return n-(Ih.A-10);if(n>=Ih.a&&n<=Ih.f)return n-(Ih.a-10)}function tK(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=bde(n.charCodeAt(i)),a=bde(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function pHe(n){return dY(lY(n))}function bHe(n){return eK(n),dY(lY(Uint8Array.from(n).reverse()))}function eAe(n,e){return tK(n.toString(16).padStart(e*2,"0"))}function SHe(n,e){return eAe(n,e).reverse()}function kHe(n){return tK(Qve(n))}function vHe(n,e,t){let r;if(typeof e=="string")try{r=tK(e)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(Q4(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(n+" of length "+t+" expected, got "+s);return r}function tAe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];eK(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function AHe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function wHe(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}const gW=n=>typeof n=="bigint"&&J4<=n;function rAe(n,e,t){return gW(n)&&gW(e)&&gW(t)&&e<=n&&n<t}function IHe(n,e,t,r){if(!rAe(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function _He(n){let e;for(e=0;n>J4;n>>=X4,e+=1);return e}function PHe(n,e){return n>>BigInt(e)&X4}function EHe(n,e,t){return n|(t?X4:J4)<<BigInt(e)}const xHe=n=>(gHe<<BigInt(n-1))-X4;In.bitMask=xHe;const mW=n=>new Uint8Array(n),Sde=n=>Uint8Array.from(n);function THe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=mW(n),s=mW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=mW())=>{s=a(Sde([0]),d),r=a(),d.length!==0&&(s=a(Sde([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return tAe(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const RHe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Q4(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function CHe(n,e,t={}){const r=(s,i,o)=>{const a=RHe[i];if(typeof a!="function")throw new Error("invalid validator function");const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const MHe=()=>{throw new Error("not implemented")};In.notImplemented=MHe;function BHe(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}Object.defineProperty(hs,"__esModule",{value:!0});hs.isNegativeLE=void 0;hs.mod=Ou;hs.pow=nAe;hs.pow2=$He;hs.invert=sO;hs.tonelliShanks=sAe;hs.FpSqrt=iAe;hs.validateField=KHe;hs.FpPow=oAe;hs.FpInvertBatch=aAe;hs.FpDiv=LHe;hs.FpLegendre=cAe;hs.FpIsSquare=WHe;hs.nLength=fY;hs.Field=NHe;hs.FpSqrtOdd=FHe;hs.FpSqrtEven=UHe;hs.hashToPrivateScalar=VHe;hs.getFieldBytesLength=hY;hs.getMinHashLength=uAe;hs.mapHashToField=qHe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hu=In,Ga=BigInt(0),Fs=BigInt(1),Iy=BigInt(2),zHe=BigInt(3),c9=BigInt(4),kde=BigInt(5),vde=BigInt(8);function Ou(n,e){const t=n%e;return t>=Ga?t:e+t}function nAe(n,e,t){if(e<Ga)throw new Error("invalid exponent, negatives unsupported");if(t<=Ga)throw new Error("invalid modulus");if(t===Fs)return Ga;let r=Fs;for(;e>Ga;)e&Fs&&(r=r*n%t),n=n*n%t,e>>=Fs;return r}function $He(n,e,t){let r=n;for(;e-- >Ga;)r*=r,r%=t;return r}function sO(n,e){if(n===Ga)throw new Error("invert: expected non-zero number");if(e<=Ga)throw new Error("invert: expected positive modulus, got "+e);let t=Ou(n,e),r=e,s=Ga,i=Fs;for(;t!==Ga;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Fs)throw new Error("invert: does not exist");return Ou(s,e)}function sAe(n){const e=(n-Fs)/Iy;let t,r,s;for(t=n-Fs,r=0;t%Iy===Ga;t/=Iy,r++);for(s=Iy;s<n&&nAe(s,e,n)!==n-Fs;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(n+Fs)/c9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Fs)/Iy;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Fs<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function iAe(n){if(n%c9===zHe){const e=(n+Fs)/c9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%vde===kde){const e=(n-kde)/vde;return function(r,s){const i=r.mul(s,Iy),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Iy),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return sAe(n)}const DHe=(n,e)=>(Ou(n,e)&Fs)===Fs;hs.isNegativeLE=DHe;const OHe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function KHe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=OHe.reduce((r,s)=>(r[s]="function",r),e);return(0,Hu.validateObject)(n,t)}function oAe(n,e,t){if(t<Ga)throw new Error("invalid exponent, negatives unsupported");if(t===Ga)return n.ONE;if(t===Fs)return e;let r=n.ONE,s=e;for(;t>Ga;)t&Fs&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Fs;return r}function aAe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function LHe(n,e,t){return n.mul(e,typeof t=="bigint"?sO(t,n.ORDER):n.inv(t))}function cAe(n){const e=(n-Fs)/Iy;return(t,r)=>t.pow(r,e)}function WHe(n){const e=cAe(n.ORDER);return t=>{const r=e(n,t);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function fY(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function NHe(n,e,t=!1,r={}){if(n<=Ga)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:i}=fY(n,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:(0,Hu.bitMask)(s),ZERO:Ga,ONE:Fs,create:c=>Ou(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ga<=c&&c<n},is0:c=>c===Ga,isOdd:c=>(c&Fs)===Fs,neg:c=>Ou(-c,n),eql:(c,u)=>c===u,sqr:c=>Ou(c*c,n),add:(c,u)=>Ou(c+u,n),sub:(c,u)=>Ou(c-u,n),mul:(c,u)=>Ou(c*u,n),pow:(c,u)=>oAe(a,c,u),div:(c,u)=>Ou(c*sO(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>sO(c,n),sqrt:r.sqrt||(c=>(o||(o=iAe(n)),o(a,c))),invertBatch:c=>aAe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?(0,Hu.numberToBytesLE)(c,i):(0,Hu.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return t?(0,Hu.bytesToNumberLE)(c):(0,Hu.bytesToNumberBE)(c)}});return Object.freeze(a)}function FHe(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function UHe(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function VHe(n,e,t=!1){n=(0,Hu.ensureBytes)("privateHash",n);const r=n.length,s=fY(e).nByteLength+8;if(s<24||r<s||r>1024)throw new Error("hashToPrivateScalar: expected "+s+"-1024 bytes of input, got "+r);const i=t?(0,Hu.bytesToNumberLE)(n):(0,Hu.bytesToNumberBE)(n);return Ou(i,e-Fs)+Fs}function hY(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function uAe(n){const e=hY(n);return e+Math.ceil(e/2)}function qHe(n,e,t=!1){const r=n.length,s=hY(e),i=uAe(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=t?(0,Hu.bytesToNumberBE)(n):(0,Hu.bytesToNumberLE)(n),a=Ou(o,e-Fs)+Fs;return t?(0,Hu.numberToBytesLE)(a,s):(0,Hu.numberToBytesBE)(a,s)}Object.defineProperty(Vx,"__esModule",{value:!0});Vx.wNAF=jHe;Vx.pippenger=HHe;Vx.precomputeMSMUnsafe=GHe;Vx.validateBasic=YHe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ade=hs,lAe=In,wde=BigInt(0),u$=BigInt(1);function yW(n,e){const t=e.negate();return n?t:e}function gY(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function pW(n,e){gY(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1);return{windows:t,windowSize:r}}function dAe(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function fAe(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const bW=new WeakMap,hAe=new WeakMap;function SW(n){return hAe.get(n)||1}function jHe(n,e){return{constTimeNegate:yW,hasPrecomputes(t){return SW(t)!==1},unsafeLadder(t,r,s=n.ZERO){let i=t;for(;r>wde;)r&u$&&(s=s.add(i)),i=i.double(),r>>=u$;return s},precomputeWindow(t,r){const{windows:s,windowSize:i}=pW(r,e),o=[];let a=t,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,r,s){const{windows:i,windowSize:o}=pW(t,e);let a=n.ZERO,c=n.BASE;const u=BigInt(2**t-1),l=2**t,d=BigInt(t);for(let y=0;y<i;y++){const h=y*o;let m=Number(s&u);s>>=d,m>o&&(m-=l,s+=u$);const f=h,g=h+Math.abs(m)-1,b=y%2!==0,S=m<0;m===0?c=c.add(yW(b,r[f])):a=a.add(yW(S,r[g]))}return{p:a,f:c}},wNAFUnsafe(t,r,s,i=n.ZERO){const{windows:o,windowSize:a}=pW(t,e),c=BigInt(2**t-1),u=2**t,l=BigInt(t);for(let d=0;d<o;d++){const y=d*a;if(s===wde)break;let h=Number(s&c);if(s>>=l,h>a&&(h-=u,s+=u$),h===0)continue;let m=r[y+Math.abs(h)-1];h<0&&(m=m.negate()),i=i.add(m)}return i},getPrecomputes(t,r,s){let i=bW.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&bW.set(r,s(i))),i},wNAFCached(t,r,s){const i=SW(t);return this.wNAF(i,this.getPrecomputes(i,t,s),r)},wNAFCachedUnsafe(t,r,s,i){const o=SW(t);return o===1?this.unsafeLadder(t,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,s),r,i)},setWindowSize(t,r){gY(r,e),hAe.set(t,r),bW.delete(t)}}}function HHe(n,e,t,r){if(dAe(t,n),fAe(r,e),t.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=n.ZERO,i=(0,lAe.bitLen)(BigInt(t.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),u=Math.floor((e.BITS-1)/o)*o;let l=s;for(let d=u;d>=0;d-=o){c.fill(s);for(let h=0;h<r.length;h++){const m=r[h],f=Number(m>>BigInt(d)&BigInt(a));c[f]=c[f].add(t[h])}let y=s;for(let h=c.length-1,m=s;h>0;h--)m=m.add(c[h]),y=y.add(m);if(l=l.add(y),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function GHe(n,e,t,r){gY(r,e.BITS),dAe(t,n);const s=n.ZERO,i=2**r-1,o=Math.ceil(e.BITS/r),a=BigInt((1<<r)-1),c=t.map(u=>{const l=[];for(let d=0,y=u;d<i;d++)l.push(y),y=y.add(u);return l});return u=>{if(fAe(u,e),u.length>t.length)throw new Error("array of scalars must be smaller than array of points");let l=s;for(let d=0;d<o;d++){if(l!==s)for(let h=0;h<r;h++)l=l.double();const y=BigInt(o*r-(d+1)*r);for(let h=0;h<u.length;h++){const m=u[h],f=Number(m>>y&a);!f||(l=l.add(c[h][f-1]))}}return l}}function YHe(n){return(0,Ade.validateField)(n.Fp),(0,lAe.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Ade.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}Object.defineProperty(uY,"__esModule",{value:!0});uY.twistedEdwards=QHe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u9=Vx,Ide=hs,Zc=In,Wc=In,zl=BigInt(0),Nc=BigInt(1),l$=BigInt(2),ZHe=BigInt(8),JHe={zip215:!0};function XHe(n){const e=(0,u9.validateBasic)(n);return Zc.validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function QHe(n){const e=XHe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=l$<<BigInt(a*8)-Nc,l=t.create,d=(0,Ide.Field)(e.n,e.nBitLength),y=e.uvRatio||((k,x)=>{try{return{isValid:!0,value:t.sqrt(k*t.inv(x))}}catch{return{isValid:!1,value:zl}}}),h=e.adjustScalarBytes||(k=>k),m=e.domain||((k,x,C)=>{if((0,Wc.abool)("phflag",C),x.length||C)throw new Error("Contexts/pre-hash are not supported");return k});function f(k,x){Zc.aInRange("coordinate "+k,x,zl,u)}function g(k){if(!(k instanceof p))throw new Error("ExtendedPoint expected")}const b=(0,Wc.memoized)((k,x)=>{const{ex:C,ey:B,ez:D}=k,$=k.is0();x==null&&(x=$?ZHe:t.inv(D));const W=l(C*x),L=l(B*x),U=l(D*x);if($)return{x:zl,y:Nc};if(U!==Nc)throw new Error("invZ was invalid");return{x:W,y:L}}),S=(0,Wc.memoized)(k=>{const{a:x,d:C}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:B,ey:D,ez:$,et:W}=k,L=l(B*B),U=l(D*D),G=l($*$),J=l(G*G),Q=l(L*x),Y=l(G*l(Q+U)),X=l(J+l(C*l(L*U)));if(Y!==X)throw new Error("bad point: equation left != right (1)");const re=l(B*D),se=l($*W);if(re!==se)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(x,C,B,D){this.ex=x,this.ey=C,this.ez=B,this.et=D,f("x",x),f("y",C),f("z",B),f("t",D),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof p)throw new Error("extended point not allowed");const{x:C,y:B}=x||{};return f("x",C),f("y",B),new p(C,B,Nc,l(C*B))}static normalizeZ(x){const C=t.invertBatch(x.map(B=>B.ez));return x.map((B,D)=>B.toAffine(C[D])).map(p.fromAffine)}static msm(x,C){return(0,u9.pippenger)(p,d,x,C)}_setWindowSize(x){w.setWindowSize(this,x)}assertValidity(){S(this)}equals(x){g(x);const{ex:C,ey:B,ez:D}=this,{ex:$,ey:W,ez:L}=x,U=l(C*L),G=l($*D),J=l(B*L),Q=l(W*D);return U===G&&J===Q}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:x}=e,{ex:C,ey:B,ez:D}=this,$=l(C*C),W=l(B*B),L=l(l$*l(D*D)),U=l(x*$),G=C+B,J=l(l(G*G)-$-W),Q=U+W,Y=Q-L,X=U-W,re=l(J*Y),se=l(Q*X),ee=l(J*X),ne=l(Y*Q);return new p(re,se,ne,ee)}add(x){g(x);const{a:C,d:B}=e,{ex:D,ey:$,ez:W,et:L}=this,{ex:U,ey:G,ez:J,et:Q}=x;if(C===BigInt(-1)){const Dt=l(($-D)*(G+U)),et=l(($+D)*(G-U)),Ue=l(et-Dt);if(Ue===zl)return this.double();const Wt=l(W*l$*Q),sr=l(L*l$*J),tr=sr+Wt,pr=et+Dt,wr=sr-Wt,ls=l(tr*Ue),gn=l(pr*wr),ds=l(tr*wr),sl=l(Ue*pr);return new p(ls,gn,sl,ds)}const Y=l(D*U),X=l($*G),re=l(L*B*Q),se=l(W*J),ee=l((D+$)*(U+G)-Y-X),ne=se-re,ve=se+re,_e=l(X-C*Y),Le=l(ee*ne),We=l(ve*_e),Ft=l(ee*_e),Lt=l(ne*ve);return new p(Le,We,Lt,Ft)}subtract(x){return this.add(x.negate())}wNAF(x){return w.wNAFCached(this,x,p.normalizeZ)}multiply(x){const C=x;Zc.aInRange("scalar",C,Nc,r);const{p:B,f:D}=this.wNAF(C);return p.normalizeZ([B,D])[0]}multiplyUnsafe(x,C=p.ZERO){const B=x;return Zc.aInRange("scalar",B,zl,r),B===zl?A:this.is0()||B===Nc?this:w.wNAFCachedUnsafe(this,B,p.normalizeZ,C)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(x){return b(this,x)}clearCofactor(){const{h:x}=e;return x===Nc?this:this.multiplyUnsafe(x)}static fromHex(x,C=!1){const{d:B,a:D}=e,$=t.BYTES;x=(0,Wc.ensureBytes)("pointHex",x,$),(0,Wc.abool)("zip215",C);const W=x.slice(),L=x[$-1];W[$-1]=L&-129;const U=Zc.bytesToNumberLE(W),G=C?u:t.ORDER;Zc.aInRange("pointHex.y",U,zl,G);const J=l(U*U),Q=l(J-Nc),Y=l(B*J-D);let{isValid:X,value:re}=y(Q,Y);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const se=(re&Nc)===Nc,ee=(L&128)!==0;if(!C&&re===zl&&ee)throw new Error("Point.fromHex: x=0 and x_0=1");return ee!==se&&(re=l(-re)),p.fromAffine({x:re,y:U})}static fromPrivateKey(x){return M(x).point}toRawBytes(){const{x,y:C}=this.toAffine(),B=Zc.numberToBytesLE(C,t.BYTES);return B[B.length-1]|=x&Nc?128:0,B}toHex(){return Zc.bytesToHex(this.toRawBytes())}}p.BASE=new p(e.Gx,e.Gy,Nc,l(e.Gx*e.Gy)),p.ZERO=new p(zl,Nc,Nc,zl);const{BASE:I,ZERO:A}=p,w=(0,u9.wNAF)(p,a*8);function _(k){return(0,Ide.mod)(k,r)}function P(k){return _(Zc.bytesToNumberLE(k))}function M(k){const x=t.BYTES;k=(0,Wc.ensureBytes)("private key",k,x);const C=(0,Wc.ensureBytes)("hashed private key",i(k),2*x),B=h(C.slice(0,x)),D=C.slice(x,2*x),$=P(B),W=I.multiply($),L=W.toRawBytes();return{head:B,prefix:D,scalar:$,point:W,pointBytes:L}}function E(k){return M(k).pointBytes}function T(k=new Uint8Array,...x){const C=Zc.concatBytes(...x);return P(i(m(C,(0,Wc.ensureBytes)("context",k),!!s)))}function z(k,x,C={}){k=(0,Wc.ensureBytes)("message",k),s&&(k=s(k));const{prefix:B,scalar:D,pointBytes:$}=M(x),W=T(C.context,B,k),L=I.multiply(W).toRawBytes(),U=T(C.context,L,$,k),G=_(W+U*D);Zc.aInRange("signature.s",G,zl,r);const J=Zc.concatBytes(L,Zc.numberToBytesLE(G,t.BYTES));return(0,Wc.ensureBytes)("result",J,t.BYTES*2)}const O=JHe;function R(k,x,C,B=O){const{context:D,zip215:$}=B,W=t.BYTES;k=(0,Wc.ensureBytes)("signature",k,2*W),x=(0,Wc.ensureBytes)("message",x),C=(0,Wc.ensureBytes)("publicKey",C,W),$!==void 0&&(0,Wc.abool)("zip215",$),s&&(x=s(x));const L=Zc.bytesToNumberLE(k.slice(W,2*W));let U,G,J;try{U=p.fromHex(C,$),G=p.fromHex(k.slice(0,W),$),J=I.multiplyUnsafe(L)}catch{return!1}if(!$&&U.isSmallOrder())return!1;const Q=T(D,G.toRawBytes(),U.toRawBytes(),x);return G.add(U.multiplyUnsafe(Q)).subtract(J).clearCofactor().equals(p.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:E,sign:z,verify:R,ExtendedPoint:p,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(t.BYTES),precompute(k=8,x=p.BASE){return x._setWindowSize(k),x.multiply(BigInt(3)),x}}}}var ek={};Object.defineProperty(ek,"__esModule",{value:!0});ek.expand_message_xmd=gAe;ek.expand_message_xof=mAe;ek.hash_to_field=l9;ek.isogenyMap=nGe;ek.createHasher=sGe;const eGe=hs,mc=In,tGe=mc.bytesToNumberBE;function by(n,e){if(yM(n),yM(e),n<0||n>=1<<8*e)throw new Error("invalid I2OSP input: "+n);const t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function rGe(n,e){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function yM(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function gAe(n,e,t,r){(0,mc.abytes)(n),(0,mc.abytes)(e),yM(t),e.length>255&&(e=r((0,mc.concatBytes)((0,mc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(t/s);if(t>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,mc.concatBytes)(e,by(e.length,1)),c=by(0,i),u=by(t,2),l=new Array(o),d=r((0,mc.concatBytes)(c,n,u,by(0,1),a));l[0]=r((0,mc.concatBytes)(d,by(1,1),a));for(let h=1;h<=o;h++){const m=[rGe(d,l[h-1]),by(h+1,1),a];l[h]=r((0,mc.concatBytes)(...m))}return(0,mc.concatBytes)(...l).slice(0,t)}function mAe(n,e,t,r,s){if((0,mc.abytes)(n),(0,mc.abytes)(e),yM(t),e.length>255){const i=Math.ceil(2*r/8);e=s.create({dkLen:i}).update((0,mc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(n).update(by(t,2)).update(e).update(by(e.length,1)).digest()}function l9(n,e,t){(0,mc.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=t;(0,mc.abytes)(n),yM(e);const u=typeof c=="string"?(0,mc.utf8ToBytes)(c):c,l=r.toString(2).length,d=Math.ceil((l+s)/8),y=e*i*d;let h;if(a==="xmd")h=gAe(n,u,y,o);else if(a==="xof")h=mAe(n,u,y,s,o);else if(a==="_internal_pass")h=n;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(e);for(let f=0;f<e;f++){const g=new Array(i);for(let b=0;b<i;b++){const S=d*(b+f*i),p=h.subarray(S,S+d);g[b]=(0,eGe.mod)(tGe(p),r)}m[f]=g}return m}function nGe(n,e){const t=e.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=t.map(u=>u.reduce((l,d)=>n.add(n.mul(l,r),d)));return r=n.div(i,o),s=n.mul(s,n.div(a,c)),{x:r,y:s}}}function sGe(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const i=l9(r,2,{...t,DST:t.DST,...s}),o=n.fromAffine(e(i[0])),a=n.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const i=l9(r,1,{...t,DST:t.encodeDST,...s}),o=n.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const i of r)if(typeof i!="bigint")throw new Error("mapToCurve: expected array of bigints");const s=n.fromAffine(e(r)).clearCofactor();return s.assertValidity(),s}}}var mY={};Object.defineProperty(mY,"__esModule",{value:!0});mY.montgomery=oGe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _de=hs,dy=In,_k=BigInt(0),kW=BigInt(1);function iGe(n){return(0,dy.validateObject)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function oGe(n){const e=iGe(n),{P:t}=e,r=S=>(0,_de.mod)(S,t),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>(0,_de.pow)(S,t-BigInt(2),t));function u(S,p,I){const A=r(S*(p-I));return p=r(p-A),I=r(I+A),[p,I]}const l=(e.a-BigInt(2))/BigInt(4);function d(S,p){(0,dy.aInRange)("u",S,_k,t),(0,dy.aInRange)("scalar",p,_k,t);const I=p,A=S;let w=kW,_=_k,P=S,M=kW,E=_k,T;for(let O=BigInt(s-1);O>=_k;O--){const R=I>>O&kW;E^=R,T=u(E,w,P),w=T[0],P=T[1],T=u(E,_,M),_=T[0],M=T[1],E=R;const v=w+_,k=r(v*v),x=w-_,C=r(x*x),B=k-C,D=P+M,$=P-M,W=r($*v),L=r(D*x),U=W+L,G=W-L;P=r(U*U),M=r(A*r(G*G)),w=r(k*C),_=r(B*(k+r(l*B)))}T=u(E,w,P),w=T[0],P=T[1],T=u(E,_,M),_=T[0],M=T[1];const z=c(_);return r(w*z)}function y(S){return(0,dy.numberToBytesLE)(r(S),i)}function h(S){const p=(0,dy.ensureBytes)("u coordinate",S,i);return o===32&&(p[31]&=127),(0,dy.bytesToNumberLE)(p)}function m(S){const p=(0,dy.ensureBytes)("scalar",S),I=p.length;if(I!==i&&I!==o){let A=""+i+" or "+o;throw new Error("invalid scalar, expected "+A+" bytes, got "+I)}return(0,dy.bytesToNumberLE)(a(p))}function f(S,p){const I=h(p),A=m(S),w=d(I,A);if(w===_k)throw new Error("invalid private or public key received");return y(w)}const g=y(e.Gu);function b(S){return f(S,g)}return{scalarMult:f,scalarMultBase:b,getSharedSecret:(S,p)=>f(S,p),getPublicKey:S=>b(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.RistrettoPoint=n.encodeToCurve=n.hashToCurve=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=n.ED25519_TORSION_SUBGROUP=void 0,n.edwardsToMontgomeryPub=w,n.edwardsToMontgomeryPriv=_;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Pa,t=G4,r=uY,s=ek,i=hs,o=mY,a=In,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=BigInt(0),d=BigInt(1),y=BigInt(2),h=BigInt(3),m=BigInt(5),f=BigInt(8);function g(Q){const Y=BigInt(10),X=BigInt(20),re=BigInt(40),se=BigInt(80),ee=c,ve=Q*Q%ee*Q%ee,_e=(0,i.pow2)(ve,y,ee)*ve%ee,Le=(0,i.pow2)(_e,d,ee)*Q%ee,We=(0,i.pow2)(Le,m,ee)*Le%ee,Ft=(0,i.pow2)(We,Y,ee)*We%ee,Lt=(0,i.pow2)(Ft,X,ee)*Ft%ee,Dt=(0,i.pow2)(Lt,re,ee)*Lt%ee,et=(0,i.pow2)(Dt,se,ee)*Dt%ee,Ue=(0,i.pow2)(et,se,ee)*Dt%ee,Wt=(0,i.pow2)(Ue,Y,ee)*We%ee;return{pow_p_5_8:(0,i.pow2)(Wt,y,ee)*Q%ee,b2:ve}}function b(Q){return Q[0]&=248,Q[31]&=127,Q[31]|=64,Q}function S(Q,Y){const X=c,re=(0,i.mod)(Y*Y*Y,X),se=(0,i.mod)(re*re*Y,X),ee=g(Q*se).pow_p_5_8;let ne=(0,i.mod)(Q*re*ee,X);const ve=(0,i.mod)(Y*ne*ne,X),_e=ne,Le=(0,i.mod)(ne*u,X),We=ve===Q,Ft=ve===(0,i.mod)(-Q,X),Lt=ve===(0,i.mod)(-Q*u,X);return We&&(ne=_e),(Ft||Lt)&&(ne=Le),(0,i.isNegativeLE)(ne,X)&&(ne=(0,i.mod)(-ne,X)),{isValid:We||Ft,value:ne}}n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const p=(()=>(0,i.Field)(c,void 0,!0))(),I=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:f,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:t.randomBytes,adjustScalarBytes:b,uvRatio:S}))();n.ed25519=(()=>(0,r.twistedEdwards)(I))();function A(Q,Y,X){if(Y.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([X?1:0,Y.length]),Y,Q)}n.ed25519ctx=(()=>(0,r.twistedEdwards)({...I,domain:A}))(),n.ed25519ph=(()=>(0,r.twistedEdwards)(Object.assign({},I,{domain:A,prehash:e.sha512})))(),n.x25519=(()=>(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Q=>{const Y=c,{pow_p_5_8:X,b2:re}=g(Q);return(0,i.mod)((0,i.pow2)(X,h,Y)*re,Y)},adjustScalarBytes:b,randomBytes:t.randomBytes}))();function w(Q){const{y:Y}=n.ed25519.ExtendedPoint.fromHex(Q),X=BigInt(1);return p.toBytes(p.create((X+Y)*p.inv(X-Y)))}n.edwardsToMontgomery=w;function _(Q){const Y=I.hash(Q.subarray(0,32));return I.adjustScalarBytes(Y).subarray(0,32)}const P=(()=>(p.ORDER+h)/f)(),M=(()=>p.pow(y,P))(),E=(()=>p.sqrt(p.neg(p.ONE)))();function T(Q){const Y=(p.ORDER-m)/f,X=BigInt(486662);let re=p.sqr(Q);re=p.mul(re,y);let se=p.add(re,p.ONE),ee=p.neg(X),ne=p.sqr(se),ve=p.mul(ne,se),_e=p.mul(re,X);_e=p.mul(_e,ee),_e=p.add(_e,ne),_e=p.mul(_e,ee);let Le=p.sqr(ve);ne=p.sqr(Le),Le=p.mul(Le,ve),Le=p.mul(Le,_e),ne=p.mul(ne,Le);let We=p.pow(ne,Y);We=p.mul(We,Le);let Ft=p.mul(We,E);ne=p.sqr(We),ne=p.mul(ne,ve);let Lt=p.eql(ne,_e),Dt=p.cmov(Ft,We,Lt),et=p.mul(ee,re),Ue=p.mul(We,Q);Ue=p.mul(Ue,M);let Wt=p.mul(Ue,E),sr=p.mul(_e,re);ne=p.sqr(Ue),ne=p.mul(ne,ve);let tr=p.eql(ne,sr),pr=p.cmov(Wt,Ue,tr);ne=p.sqr(Dt),ne=p.mul(ne,ve);let wr=p.eql(ne,_e),ls=p.cmov(et,ee,wr),gn=p.cmov(pr,Dt,wr),ds=p.isOdd(gn);return gn=p.cmov(gn,p.neg(gn),wr!==ds),{xMn:ls,xMd:se,yMn:gn,yMd:d}}const z=(()=>(0,i.FpSqrtEven)(p,p.neg(BigInt(486664))))();function O(Q){const{xMn:Y,xMd:X,yMn:re,yMd:se}=T(Q);let ee=p.mul(Y,se);ee=p.mul(ee,z);let ne=p.mul(X,re),ve=p.sub(Y,X),_e=p.add(Y,X),Le=p.mul(ne,_e),We=p.eql(Le,p.ZERO);ee=p.cmov(ee,p.ZERO,We),ne=p.cmov(ne,p.ONE,We),ve=p.cmov(ve,p.ONE,We),_e=p.cmov(_e,p.ONE,We);const Ft=p.invertBatch([ne,_e]);return{x:p.mul(ee,Ft[0]),y:p.mul(ve,Ft[1])}}const R=(()=>(0,s.createHasher)(n.ed25519.ExtendedPoint,Q=>O(Q[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512}))();n.hashToCurve=(()=>R.hashToCurve)(),n.encodeToCurve=(()=>R.encodeToCurve)();function v(Q){if(!(Q instanceof G))throw new Error("RistrettoPoint expected")}const k=u,x=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),C=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),$=Q=>S(d,Q),W=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=Q=>n.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Q)&W);function U(Q){const{d:Y}=n.ed25519.CURVE,X=n.ed25519.CURVE.Fp.ORDER,re=n.ed25519.CURVE.Fp.create,se=re(k*Q*Q),ee=re((se+d)*B);let ne=BigInt(-1);const ve=re((ne-Y*se)*re(se+Y));let{isValid:_e,value:Le}=S(ee,ve),We=re(Le*Q);(0,i.isNegativeLE)(We,X)||(We=re(-We)),_e||(Le=We),_e||(ne=se);const Ft=re(ne*(se-d)*D-ve),Lt=Le*Le,Dt=re((Le+Le)*ve),et=re(Ft*x),Ue=re(d-Lt),Wt=re(d+Lt);return new n.ed25519.ExtendedPoint(re(Dt*Wt),re(Ue*et),re(et*Wt),re(Dt*Ue))}class G{constructor(Y){this.ep=Y}static fromAffine(Y){return new G(n.ed25519.ExtendedPoint.fromAffine(Y))}static hashToCurve(Y){Y=(0,a.ensureBytes)("ristrettoHash",Y,64);const X=L(Y.slice(0,32)),re=U(X),se=L(Y.slice(32,64)),ee=U(se);return new G(re.add(ee))}static fromHex(Y){Y=(0,a.ensureBytes)("ristrettoHex",Y,32);const{a:X,d:re}=n.ed25519.CURVE,se=n.ed25519.CURVE.Fp.ORDER,ee=n.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ve=L(Y);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(ve,32),Y)||(0,i.isNegativeLE)(ve,se))throw new Error(ne);const _e=ee(ve*ve),Le=ee(d+X*_e),We=ee(d-X*_e),Ft=ee(Le*Le),Lt=ee(We*We),Dt=ee(X*re*Ft-Lt),{isValid:et,value:Ue}=$(ee(Dt*Lt)),Wt=ee(Ue*We),sr=ee(Ue*Wt*Dt);let tr=ee((ve+ve)*Wt);(0,i.isNegativeLE)(tr,se)&&(tr=ee(-tr));const pr=ee(Le*sr),wr=ee(tr*pr);if(!et||(0,i.isNegativeLE)(wr,se)||pr===l)throw new Error(ne);return new G(new n.ed25519.ExtendedPoint(tr,pr,d,wr))}toRawBytes(){let{ex:Y,ey:X,ez:re,et:se}=this.ep;const ee=n.ed25519.CURVE.Fp.ORDER,ne=n.ed25519.CURVE.Fp.create,ve=ne(ne(re+X)*ne(re-X)),_e=ne(Y*X),Le=ne(_e*_e),{value:We}=$(ne(ve*Le)),Ft=ne(We*ve),Lt=ne(We*_e),Dt=ne(Ft*Lt*se);let et;if((0,i.isNegativeLE)(se*Dt,ee)){let Wt=ne(X*k),sr=ne(Y*k);Y=Wt,X=sr,et=ne(Ft*C)}else et=Lt;(0,i.isNegativeLE)(Y*Dt,ee)&&(X=ne(-X));let Ue=ne((re-X)*et);return(0,i.isNegativeLE)(Ue,ee)&&(Ue=ne(-Ue)),(0,a.numberToBytesLE)(Ue,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Y){v(Y);const{ex:X,ey:re}=this.ep,{ex:se,ey:ee}=Y.ep,ne=n.ed25519.CURVE.Fp.create,ve=ne(X*ee)===ne(re*se),_e=ne(re*ee)===ne(X*se);return ve||_e}add(Y){return v(Y),new G(this.ep.add(Y.ep))}subtract(Y){return v(Y),new G(this.ep.subtract(Y.ep))}multiply(Y){return new G(this.ep.multiply(Y))}multiplyUnsafe(Y){return new G(this.ep.multiplyUnsafe(Y))}double(){return new G(this.ep.double())}negate(){return new G(this.ep.negate())}}n.RistrettoPoint=(()=>(G.BASE||(G.BASE=new G(n.ed25519.ExtendedPoint.BASE)),G.ZERO||(G.ZERO=new G(n.ed25519.ExtendedPoint.ZERO)),G))();const J=(Q,Y)=>{const X=Y.DST,re=typeof X=="string"?(0,t.utf8ToBytes)(X):X,se=(0,s.expand_message_xmd)(Q,re,64,e.sha512);return G.hashToCurve(se)};n.hashToRistretto255=J,n.hash_to_ristretto255=n.hashToRistretto255})(_ve);var rK={},yY={};Object.defineProperty(yY,"__esModule",{value:!0});function aGe(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<n.length;u++){const l=n.charAt(u),d=l.charCodeAt(0);if(e[d]!==255)throw new TypeError(l+" is ambiguous");e[d]=u}const t=n.length,r=n.charAt(0),s=Math.log(t)/Math.log(256),i=Math.log(256)/Math.log(t);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,d=0,y=0;const h=u.length;for(;y!==h&&u[y]===0;)y++,l++;const m=(h-y)*i+1>>>0,f=new Uint8Array(m);for(;y!==h;){let S=u[y],p=0;for(let I=m-1;(S!==0||p<d)&&I!==-1;I--,p++)S+=256*f[I]>>>0,f[I]=S%t>>>0,S=S/t>>>0;if(S!==0)throw new Error("Non-zero carry");d=p,y++}let g=m-d;for(;g!==m&&f[g]===0;)g++;let b=r.repeat(l);for(;g<m;++g)b+=n.charAt(f[g]);return b}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,d=0,y=0;for(;u[l]===r;)d++,l++;const h=(u.length-l)*s+1>>>0,m=new Uint8Array(h);for(;u[l];){let S=e[u.charCodeAt(l)];if(S===255)return;let p=0;for(let I=h-1;(S!==0||p<y)&&I!==-1;I--,p++)S+=t*m[I]>>>0,m[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");y=p,l++}let f=h-y;for(;f!==h&&m[f]===0;)f++;const g=new Uint8Array(d+(h-f));let b=d;for(;f!==h;)g[b++]=m[f++];return g}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+t+" character")}return{encode:o,decodeUnsafe:a,decode:c}}yY.default=aGe;var cGe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rK,"__esModule",{value:!0});var uGe=cGe(yY),lGe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";rK.default=(0,uGe.default)(lGe);var tl=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},yAe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.isVersionedTransaction=qx;Mo.verifySignatures=pAe;Mo.getSignature=gGe;Mo.ixToIxReturn=mGe;Mo.ixReturnsToIxs=yGe;Mo.buildAndSignTransaction=bAe;Mo.buildAndSignTransactions=SAe;Mo.formatExplorerMessageLink=pGe;Mo.formatExplorerLink=kAe;Mo.convertBuildTransactionReturn=vAe;Mo.buildTransactionsFromIxWithSigners=AAe;Mo.signTransactionReturns=wAe;Mo.buildAndSignTransactionsFromIxWithSigners=IAe;Mo.sendAndConfirmTransaction=_Ae;Mo.sendTransaction=bGe;Mo.buildSendAndCheck=SGe;Mo.prettyTransaction=kGe;const dGe=_ve,Pde=Mb,fGe=yAe(VD.exports),hGe=yAe(rK),Ede=VB,pM=Bb;function qx(n){return"version"in n}function pAe(n){if(qx(n)){const e=n.message.serialize();for(const[t,r]of n.signatures.entries()){const s=n.message.staticAccountKeys[t];if(r.every(i=>i===0))throw new Error(`Missing required signature for key ${s} at index ${t}`);if(!dGe.ed25519.verify(r,e,s.toBytes()))throw new Error(`Signature ${t} failed to verify for key ${s}`)}}else n.serialize()}function gGe(n){const e=qx(n)?n.signatures[0]:n.signature;return e?hGe.default.encode(e):void 0}function mGe(n,e=[]){return()=>tl(this,void 0,void 0,function*(){return{signers:e,instruction:n}})}function yGe(n,e){return tl(this,void 0,void 0,function*(){return(yield Promise.all((0,pM.normalizeArray)(n).map(r=>r(e)))).flat().map(r=>r.instruction)})}function bAe(n,e,t){return tl(this,arguments,void 0,function*(r,s,i,o=[]){const a=(yield SAe([{ixs:r,connectionOrRbh:i,lookupTables:o}],s))[0];if(a===void 0)throw new Error("Transaction was not built correctly");return a})}function SAe(n,e){return tl(this,void 0,void 0,function*(){return yield IAe(yield Promise.all(n.map(t=>tl(this,[t],void 0,function*({ixs:r,connectionOrRbh:s,lookupTables:i}){return{ixs:(0,pM.normalizeArray)(yield Promise.all((0,pM.normalizeArray)(r).map(o=>o(e)))).flat(),connectionOrRbh:s,lookupTables:i}}))),e)})}function pGe(n,e){const t=encodeURIComponent(e.rpcEndpoint);let r;return qx(n)?r=Ve.Buffer.from(n.message.serialize()):r=n.serializeMessage(),`https://explorer.solana.com/tx/inspector?message=${encodeURIComponent(r.toString("base64"))}&cluster=custom&customUrl=${t}`}function kAe(n,e){const t=encodeURIComponent(e.rpcEndpoint);return`https://explorer.solana.com/tx/${n}?cluster=custom&customUrl=${t}`}function vAe(n){const e=Pde.MessageV0.compile(n.compileArgs),t=new Pde.VersionedTransaction(e);return Object.assign(Object.assign({},n),{transaction:t})}function AAe(n,e){return tl(this,void 0,void 0,function*(){const t=new Map;if("signer"in e){const s=e.signer.publicKey().toBase58(),i={signer:e.signer,transactions:new Set};for(let o=0;o<n.length;o++)i.transactions.add(o);t.set(s,i)}const r="signer"in e?e.signer.publicKey():e.key;return{tx:yield Promise.all(n.map((s,i)=>tl(this,[s,i],void 0,function*({ixs:o,connectionOrRbh:a,lookupTables:c},u){const l=(0,pM.normalizeArray)(o);for(const f of l.flatMap(g=>g.signers)){const g=f.publicKey().toBase58(),b=t.get(g);b===void 0?t.set(g,{signer:f,transactions:new Set([u])}):b.transactions.add(u)}let d,y;"connection"in a?(d=yield a.connection.getLatestBlockhash(a.commitment),y=a.commitment||a.connection.commitment||"processed"):(d=a.rbh,y=a.commitment);const h=l.map(f=>f.instruction);return{compileArgs:{addressLookupTableAccounts:c,instructions:[...h],payerKey:r,recentBlockhash:d.blockhash},commitment:y,rbh:d}}))),signers:t}})}function wAe(n,e){return tl(this,void 0,void 0,function*(){const t=r=>tl(this,[r],void 0,function*({signer:s,transactions:i}){const o=n.map((c,u)=>({tx:c,index:u})).filter(({index:c})=>i.has(c)),a=yield s.signAll(o.map(({tx:c})=>c.transaction));(0,fGe.default)(a.length===o.length);for(let c=0;c<o.length;c++)n[o[c].index].transaction=a[c]});for(const r of e.values())r.signer.requiresAsync()&&(yield t(r));for(const r of e.values())r.signer.requiresAsync()||(yield t(r));return n})}function IAe(n,e){return tl(this,void 0,void 0,function*(){const{tx:t,signers:r}=yield AAe(n,{signer:e}),s=t.map(i=>vAe(i));return wAe(s,r)})}function _Ae(n,e,t,r){return tl(this,void 0,void 0,function*(){const s=yield e.sendRawTransaction(n.transaction.serialize(),t);return{signature:s,signatureResult:(yield e.confirmTransaction(Object.assign(Object.assign({},n.rbh),{signature:s}),n.commitment)).value}})}function bGe(n,e,t){return tl(this,arguments,void 0,function*(r,s,i,o=3e3,a=10){const c=r.transaction.serialize();qx(r.transaction)&&pAe(r.transaction);const u=(i==null?void 0:i.commitment)||"confirmed",l=yield s.sendRawTransaction(c,i==null?void 0:i.sendOptions);let d=0;const y=setInterval(()=>{d<a&&s.sendRawTransaction(c,Object.assign(Object.assign({},i==null?void 0:i.sendOptions),{skipPreflight:!0})),d++},o);let h;try{h=yield s.confirmTransaction(Object.assign({signature:l},r.rbh),u)}finally{clearInterval(y)}return h.value.err!==null?{context:h.context,value:(0,Ede.err)(h.value.err)}:{context:h.context,value:(0,Ede.ok)(l)}})}function SGe(n,e,t,r,s){return tl(this,void 0,void 0,function*(){var i,o;n=(0,pM.normalizeArray)(n);const a=(r==null?void 0:r.commitment)||"confirmed";let c=yield bAe(n,e,{connection:t,commitment:a},s);if(r!=null&&r.postTransactionHandler){const d=r.postTransactionHandler(c);d&&(c=d)}const{signature:u,signatureResult:l}=yield _Ae(c,t,Object.assign({skipPreflight:!1},r==null?void 0:r.sendOptions),r==null?void 0:r.serializeConfig);if(l.err!==null){if(!(r!=null&&r.suppressLogging)){console.error("Transaction signature: ",u);const d=yield t.getTransaction(u,{commitment:a,maxSupportedTransactionVersion:1});console.error("Transaction logs: ",(i=d==null?void 0:d.meta)===null||i===void 0?void 0:i.logMessages),console.error(`Explorer link: ${kAe(u,t)}`)}throw new Error("Transaction error: "+JSON.stringify(l.err,null,2))}else if(r!=null&&r.suppressLogging!=null&&!r.suppressLogging){console.info("Transaction signature: ",u);const d=yield t.getTransaction(u,{commitment:a,maxSupportedTransactionVersion:1});console.info("Transaction logs: ",(o=d==null?void 0:d.meta)===null||o===void 0?void 0:o.logMessages)}return u})}function kGe(n,e){var t;if(qx(n)){const r=n.message.getAccountKeys(e);return{signatures:vGe(n.signatures,r),instructions:AGe(n.message,r),feePayer:n.message.staticAccountKeys[0].toBase58(),recentBlockhash:n.message.recentBlockhash}}else return{signatures:n.signatures.map(r=>({publicKey:r.publicKey.toBase58(),signature:r.signature!==null})),instructions:n.instructions.map(r=>({keys:r.keys.map(s=>Object.assign(Object.assign({},s),{pubkey:s.pubkey.toBase58()})),programId:r.programId.toBase58()})),feePayer:(t=n.feePayer)===null||t===void 0?void 0:t.toBase58(),recentBlockhash:n.recentBlockhash}}function vGe(n,e){return n.map((t,r)=>{var s;return{publicKey:(s=e.get(r))===null||s===void 0?void 0:s.toBase58(),signature:t.every(i=>i!==0)}})}function AGe(n,e){return n.compiledInstructions.map(t=>{var r;return{keys:t.accountKeyIndexes.map(s=>{const i=e.get(s);return{pubkey:i==null?void 0:i.toBase58(),isSigner:n.isAccountSigner(s),isWritable:n.isAccountWritable(s)}}),programId:(r=e.get(t.programIdIndex))===null||r===void 0?void 0:r.toBase58()}})}(function(n){var e=K&&K.__awaiter||function(b,S,p,I){function A(w){return w instanceof p?w:new p(function(_){_(w)})}return new(p||(p=Promise))(function(w,_){function P(T){try{E(I.next(T))}catch(z){_(z)}}function M(T){try{E(I.throw(T))}catch(z){_(z)}}function E(T){T.done?w(T.value):A(T.value).then(P,M)}E((I=I.apply(b,S||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.deepCopyInstructions=n.insert=n.MAX_UNIQUE_KEYS_COUNT=n.MAX_TRANSACTION_SIZE=void 0,n.containedInLUTCount=o,n.getTransactionSize=a,n.buildLookupTableSet=y,n.getNextFullTransaction=h,n.buildDynamicTransactionsNoSigning=m,n.buildDynamicTransactions=f;const t=Mb,r=VB,s=Bb,i=Mo;n.MAX_TRANSACTION_SIZE=1232,n.MAX_UNIQUE_KEYS_COUNT=128;function o(b,S){let p=0;const I=new Set;return b.forEach(A=>{S.has(A)?p++:I.add(A)}),[p,I]}function a(b,S,p=[]){const I=new Set,A=new Set,w=new Set;I.add(S.toBase58()),b.forEach(({instruction:O})=>{A.add(O.programId.toBase58()),O.keys.forEach(R=>{R.isSigner&&I.add(R.pubkey.toBase58()),w.add(R.pubkey.toBase58())})});for(const O of I)w.delete(O);for(const O of A)w.delete(O);const _=new Set([...I,...A]);let P=0;b.forEach(({instruction:O})=>{P+=1+g(O.keys.length)+O.keys.length+g(O.data.length)+O.data.length});const E={staticSize:g(I.size)+I.size*64+3+32+1+g(b.length)+P+1,staticAccounts:_.size},T=u(E,0,0,w.size),z=_.size+w.size;return T<=n.MAX_TRANSACTION_SIZE||p.length===0?{size:T,lookupTables:[],uniqueKeyCount:z}:z>n.MAX_UNIQUE_KEYS_COUNT?{size:T,lookupTables:[],uniqueKeyCount:z}:c(E,T,0,0,w,[],[...p])}function c(b,S,p,I,A,w,_){if(_.length===0)return{size:S,lookupTables:w,uniqueKeyCount:I+A.size};let P=A,M=S,E=I,T=0;for(const[O,R]of _.entries()){const[v,k]=o(A,R[0]),x=I+v,C=u(b,p+1,x,k.size);if(C<n.MAX_TRANSACTION_SIZE)return w.push(R[1]),{size:C,lookupTables:w,uniqueKeyCount:x+k.size};C<M&&(M=C,P=k,E=x,T=O)}if(S===M)return{size:S,lookupTables:w,uniqueKeyCount:I+A.size};const z=_.splice(T,1)[0];return w.push(z[1]),c(b,M,p+1,E,P,w,_)}function u(b,S,p,I){const A=b.staticAccounts+I;return b.staticSize+34*S+p+g(A)+A*32}const l=(b,S,p)=>[...b.slice(0,S),p,...b.slice(S)];n.insert=l;const d=b=>({instructions:b.instructions.map(S=>Object.assign(Object.assign({},S),{instruction:new t.TransactionInstruction({keys:S.instruction.keys.map(p=>Object.assign({},p)),programId:S.instruction.programId,data:S.instruction.data?Ve.Buffer.from(S.instruction.data):void 0})})),lookupTables:b.lookupTables});n.deepCopyInstructions=d;function y(b){return b.map(S=>{const p=S.state.addresses.map(A=>A.toBase58());return[new Set(p),S]})}function h(b,S){return e(this,arguments,void 0,function*(p,I,A=[],w=[],_=[],P=64){const M=(yield Promise.all(p.map(C=>C(I)))).flat(),E=(yield Promise.all(A.map(C=>C(I)))).flat(),T=(yield Promise.all(w.map(C=>C(I)))).flat(),z=y(_);let O={instructions:[...E,...T],lookupTables:[]};const{size:R,lookupTables:v,uniqueKeyCount:k}=a(O.instructions,I.publicKey(),z);if(R>n.MAX_TRANSACTION_SIZE)return(0,r.err)("Before and after instructions alone are too big to fit in transaction");if(k>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)("Before and after instructions alone have too many unique keys to fit in transaction");O.lookupTables=v;let x=0;for(const C of M){const B=(0,n.insert)(O.instructions,O.instructions.length-T.length,C),{size:D,lookupTables:$,uniqueKeyCount:W}=a(B,I.publicKey(),z);if(D>n.MAX_TRANSACTION_SIZE||W>n.MAX_UNIQUE_KEYS_COUNT||B.length>P)return x===0?(0,r.err)("Only the before and after instructions fit"):(0,r.ok)([(0,n.deepCopyInstructions)(O),x]);x++,O={instructions:B,lookupTables:$}}return(0,r.ok)([(0,n.deepCopyInstructions)(O),x])})}function m(b,S){return e(this,arguments,void 0,function*(p,I,A=[],w=[],_=[],P=64){const M=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(p).map(C=>C(I)))).flat(),E=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(A).map(C=>C(I)))).flat(),T=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(w).map(C=>C(I)))).flat(),z=[],O=y(_);let R={instructions:[...E,...T],lookupTables:[]};const{size:v,lookupTables:k,uniqueKeyCount:x}=a(R.instructions,I.publicKey(),O);if(v>n.MAX_TRANSACTION_SIZE)return(0,r.err)("Before and after instructions alone are too big to fit in transaction");if(x>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)("Before and after instructions alone have too many unique keys to fit in transaction");R.lookupTables=k;for(const C of M){const B=(0,n.insert)(R.instructions,R.instructions.length-T.length,C),{size:D,lookupTables:$,uniqueKeyCount:W}=a(B,I.publicKey(),O);if(D>n.MAX_TRANSACTION_SIZE||W>n.MAX_UNIQUE_KEYS_COUNT||B.length>P){z.push((0,n.deepCopyInstructions)(R));const L=[...E,C,...T],{size:U,lookupTables:G,uniqueKeyCount:J}=a(L,I.publicKey(),O);if(U>n.MAX_TRANSACTION_SIZE)return(0,r.err)(`Instruction too large to fit in transaction: ${C.instruction.programId.toBase58()}`);if(J>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)(`Instruction has too many unique accounts to fit in transaction: ${C.instruction.programId.toBase58()}`);R={instructions:L,lookupTables:G}}else R={instructions:B,lookupTables:$}}return R.instructions.length>E.length+T.length&&z.push((0,n.deepCopyInstructions)(R)),(0,r.ok)(z)})}function f(b,S,p){return e(this,arguments,void 0,function*(I,A,w,_=[],P=[],M=[],E=64){const T=yield m(I,A,_,P,M,E);if(T.isErr())return(0,r.err)(T.error);const z=T.value.map(O=>({ixs:O.instructions,connectionOrRbh:w,lookupTables:O.lookupTables}));return(0,r.ok)(yield(0,i.buildAndSignTransactionsFromIxWithSigners)(z,A))})}function g(b){return b>127?2:1}})(j4);(function(n){var e=K&&K.__awaiter||function(h,m,f,g){function b(S){return S instanceof f?S:new f(function(p){p(S)})}return new(f||(f=Promise))(function(S,p){function I(_){try{w(g.next(_))}catch(P){p(P)}}function A(_){try{w(g.throw(_))}catch(P){p(P)}}function w(_){_.done?S(_.value):b(_.value).then(I,A)}w((g=g.apply(h,m||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getSimulationUnits=n.DEFAULT_COMPUTE_UNIT_LIMIT=n.COMPUTE_TEST_INSTRUCTIONS=n.COMPUTE_TEST_INSTRUCTION_RETURNS=void 0,n.getWritableAccounts=a,n.buildSimulationTransaction=c,n.buildAndSignOptimalTransaction=l,n.buildOptimalDynamicTransactions=d,n.buildOptimalDynamicTransactionsNoSigning=y;const t=Mb,r=VB,s=Bb,i=j4,o=Mo;n.COMPUTE_TEST_INSTRUCTION_RETURNS=[(0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426})),(0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitLimit({units:14e5}))],n.COMPUTE_TEST_INSTRUCTIONS=[t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426}),t.ComputeBudgetProgram.setComputeUnitLimit({units:14e5})],n.DEFAULT_COMPUTE_UNIT_LIMIT=5e5;function a(h){const m=h.map(g=>g.keys.filter(b=>b.isWritable).map(b=>b.pubkey)).flat(),f=new Set(m);return Array.from(f)}function c(h,m,f){return new t.VersionedTransaction(new t.TransactionMessage({instructions:h,payerKey:f,recentBlockhash:t.PublicKey.default.toString()}).compileToV0Message(m))}const u=(h,m)=>e(void 0,void 0,void 0,function*(){var f;try{const g=yield m.simulateTransaction(h,{sigVerify:!1,replaceRecentBlockhash:!0});return g.value.err?n.DEFAULT_COMPUTE_UNIT_LIMIT:(f=g.value)===null||f===void 0?void 0:f.unitsConsumed}catch(g){return console.debug(g),n.DEFAULT_COMPUTE_UNIT_LIMIT}});n.getSimulationUnits=u;function l(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,A=[]){var w;const _=(0,s.normalizeArray)(S),P=()=>e(this,void 0,void 0,function*(){if(I.getLimit===void 0)return;const O=c([...n.COMPUTE_TEST_INSTRUCTIONS,...yield(0,o.ixReturnsToIxs)(_,p)],A,p.publicKey());return I.getLimit(O,b)}),M=()=>e(this,void 0,void 0,function*(){if(I.getFee===void 0)return;const O=yield(0,o.ixReturnsToIxs)(_,p),R=a(O);return I.getFee(R,b)}),[E,T,z]=yield Promise.all([P(),M(),b.getLatestBlockhash()]);return E&&_.unshift((0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitLimit({units:E}))),T&&_.unshift((0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:T}))),(0,o.buildAndSignTransaction)(_,p,{rbh:z,commitment:(w=b.commitment)!==null&&w!==void 0?w:"confirmed"},A)})}function d(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,A=[],w,_,P=64){const[M,E]=yield Promise.all([y(b,S,p,I,A,w,_,P),b.getLatestBlockhash()]);return M.forEach(T=>{var z;T.connectionOrRbh={rbh:E,commitment:(z=b.commitment)!==null&&z!==void 0?z:"confirmed"}}),(0,r.ok)(yield(0,o.buildAndSignTransactionsFromIxWithSigners)(M,p))})}function y(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,A=[],w,_,P=64){const M=[...n.COMPUTE_TEST_INSTRUCTION_RETURNS,...w??[]],E=yield(0,i.buildDynamicTransactionsNoSigning)(S,p,M,_,A,P);if(E.isErr())throw E.error;const T=E.value.map(R=>{const v=R.instructions.map(C=>C.instruction),k=I.getFee?a(v):[],x=c(v,R.lookupTables,p.publicKey());return R.instructions.splice(0,2),{simulationTransaction:x,writableKeys:k,instructionsWithSigners:R}});return(yield(()=>Promise.all(T.map(R=>e(this,[R],void 0,function*({writableKeys:v,simulationTransaction:k,instructionsWithSigners:x}){const[C,B]=yield Promise.all([I.getLimit?I.getLimit(k,b):void 0,I.getFee?I.getFee(v,b):void 0]);return{simulationUnits:C,fees:B,instructionsWithSigners:x}}))))()).map(R=>{const v=R.instructionsWithSigners;return R.fees!==void 0&&v.instructions.unshift({instruction:t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:R.fees}),signers:[]}),R.simulationUnits!==void 0&&v.instructions.unshift({instruction:t.ComputeBudgetProgram.setComputeUnitLimit({units:R.simulationUnits}),signers:[]}),{connectionOrRbh:{connection:b},ixs:v.instructions,lookupTables:v.lookupTables}})})}})(aY);var wv=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},MA=K&&K.__await||function(n){return this instanceof MA?(this.v=n,this):new MA(n)},PAe=K&&K.__asyncGenerator||function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(s[h]=function(f){return new Promise(function(g,b){i.push([h,f,g,b])>1||c(h,f)})},m&&(s[h]=m(s[h])))}function c(h,m){try{u(r[h](m))}catch(f){y(i[0][3],f)}}function u(h){h.value instanceof MA?Promise.resolve(h.value.v).then(l,d):y(i[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function y(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}};Object.defineProperty(Np,"__esModule",{value:!0});Np.TransactionBuilder=Np.TransactionBuilderCore=void 0;Np.checkTraceExceeded=EAe;Np.transactionReturnIterator=IGe;const xde=Mb,Go=VB,wGe=Bb,Rg=aY,vW=j4,d9=Mo;function EAe(n){const e=n.value.err;if(e&&typeof e=="object"&&"InstructionError"in e){const t=e.InstructionError;if(t&&typeof t=="object"&&"1"in t&&typeof t[1]=="string"&&t[1]==="MaxInstructionTraceLengthExceeded"&&"0"in t&&typeof t[0]=="number"){const s=[];return{traceExceeded:t[0],unitsConsumed:n.value.unitsConsumed,ixTraces:s}}}}class xAe{constructor(e){var t,r,s,i,o,a,c;this.instructions=[],this.lastBuilt=null,this.lastTransaction=null,this.lastTryIterations=0,this.isBuildingNext=!1,this.connection=e.connection,this.commitment=(r=(t=e.commitment)!==null&&t!==void 0?t:e.connection.commitment)!==null&&r!==void 0?r:"confirmed",this.feePayer=e.feePayer,this.lookupTables=(s=e.lookupTables)!==null&&s!==void 0?s:[],this.beforeIxs=(i=e.beforeIxs)!==null&&i!==void 0?i:[],this.afterIxs=(o=e.afterIxs)!==null&&o!==void 0?o:[],this.instructionCountConfig={max:(a=e.instructionCount)===null||a===void 0?void 0:a.max,maxOnFail:(c=e.instructionCount)===null||c===void 0?void 0:c.maxOnFail};const u=l=>l+Math.min(1e5,Math.max(1e4,l*.1));this.mapLimit=e.mapLimit||u,this.getFee=e.getFee}add(e,t){const r=(0,wGe.normalizeArray)(e);return r.length===0?this:(typeof r[0]=="function"?this.instructions.push(...r):this.instructions.push(...r.map(s=>{let i;if(t){const o=s.keys.filter(a=>a.isSigner).map(a=>a.pubkey);i=t.filter(a=>o.some(c=>c.equals(a.publicKey())))}return(0,d9.ixToIxReturn)(s,i)})),this)}getPopCount(e){return e.instructions.length-e.computeCount-e.beforeCount-e.afterCount}resetIterations(){this.lastTryIterations=0}computeBeforeIxs(){return[...Rg.COMPUTE_TEST_INSTRUCTION_RETURNS,...this.beforeIxs]}resetDummyComputeInstructions(e){e.instructions.splice(0,e.computeCount),e.computeCount=2,e.instructions.unshift(...Rg.COMPUTE_TEST_INSTRUCTIONS.map(t=>({instruction:t,signers:[]})))}getLatestBlockhash(){return this.connection.getLatestBlockhash({commitment:this.commitment})}parseSimulationResult(e){var t;if(!e.value.err)return(0,Go.ok)((t=e.value)===null||t===void 0?void 0:t.unitsConsumed);const s=EAe(e);return s?(0,Go.err)(s):(0,Go.err)(void 0)}simulateTransaction(e){return wv(this,void 0,void 0,function*(){const t=this.commitment==="processed"?"processed":"confirmed",r=yield this.connection.simulateTransaction(e,{commitment:t,replaceRecentBlockhash:!0});return this.parseSimulationResult(r)})}handlePriorityOptimization(e,t,r){return wv(this,arguments,void 0,function*(s,i,o,a=3){var c;if(o>a)return(0,Go.err)("Priority optimizer depth exceeded");const u=(0,Rg.buildSimulationTransaction)(s.instructions.map(m=>m.instruction),s.lookupTables,this.feePayer.publicKey()),l=(0,Rg.getWritableAccounts)(s.instructions.map(m=>m.instruction));this.lastTryIterations++;const[d,y]=yield Promise.all([this.simulateTransaction(u),this.getFee?yield this.getFee(l,this.connection):void 0]);let h;if(d.isOk()){const m=d.value;m!==void 0&&(h=this.mapLimit(m))}else{if(typeof d.error=="string")return(0,Go.err)(d.error);if(!i){const m=d.error;let f=!1;if(typeof m=="string")return(0,Go.err)(m);if(m!==void 0){const{traceExceeded:g,ixTraces:b,unitsConsumed:S}=m;if(s.afterCount===0)return s.instructions.splice(g-1),this.handlePriorityOptimization(s,!0,o+1);f=!0}else f=!0;if(f){const g=(c=this.instructionCountConfig.maxOnFail)!==null&&c!==void 0?c:14;if(s.instructions.length<=g)console.warn("TransactionBuilder: simulation failed; instructions count is less than max on fail. Ignoring error...");else{const b=this.getPopCount(s);let S=s.instructions.length-g;return S>b&&(console.warn(`TransactionBuilder: simulation failed; remove count is greater than max removable of ${b}. Removing ${b-1} instructions`),S=b-1),s.instructions.splice(s.beforeCount+s.computeCount,S),this.handlePriorityOptimization(s,!0,o+1)}}}}return(0,Go.ok)({limit:h,fee:y})})}replaceComputeInstructions(e,t){const{limit:r,fee:s}=t;e.instructions.splice(0,e.computeCount),e.computeCount=0,r!==void 0&&(e.instructions.unshift({instruction:xde.ComputeBudgetProgram.setComputeUnitLimit({units:r}),signers:[]}),e.computeCount++),s!==void 0&&(e.instructions.unshift({instruction:xde.ComputeBudgetProgram.setComputeUnitPrice({microLamports:s}),signers:[]}),e.computeCount++)}startBuildingNext(){if(this.isBuildingNext)throw new Error("Already building next optimal transaction");this.isBuildingNext=!0}buildNextOptimalTransactionNoSigning(){return wv(this,void 0,void 0,function*(){this.resetIterations();const e=this.computeBeforeIxs(),t=yield(0,vW.getNextFullTransaction)(this.instructions,this.feePayer,e,this.afterIxs.map(l=>l.ix),this.lookupTables,this.instructionCountConfig.max);if(t.isErr())return(0,Go.err)(t.error);const[r]=t.value,s=Object.assign(Object.assign({},r),{computeCount:Rg.COMPUTE_TEST_INSTRUCTION_RETURNS.length,beforeCount:this.beforeIxs.length,afterCount:this.afterIxs.length}),[i,o]=yield Promise.all([this.handlePriorityOptimization(s,!1,0),this.getLatestBlockhash()]);if(i.isErr())return(0,Go.err)(i.error);const{fee:a,limit:c}=i.value;this.replaceComputeInstructions(s,{limit:c,fee:a});const u=Object.assign(Object.assign({},s),(0,vW.deepCopyInstructions)(s));return(0,Go.ok)({rbh:o,lastBuilt:u})})}rebuildLastNoSigning(e){return wv(this,void 0,void 0,function*(){if(this.resetIterations(),this.lastBuilt===null)return(0,Go.err)("No last built transaction to rebuild");const t=Object.assign(Object.assign({},this.lastBuilt),(0,vW.deepCopyInstructions)(this.lastBuilt));let r;if(e){this.resetDummyComputeInstructions(t);const s=this.getPopCount(t),[i,o]=yield Promise.all([this.handlePriorityOptimization(t,!1,0,1),this.getLatestBlockhash()]);if(r=o,i.isErr())return(0,Go.err)(i.error);const{fee:a,limit:c}=i.value,u=this.getPopCount(t);u!==s&&console.warn(`TransactionBuilder: pop count changed from ${s} to ${u} in rebuildLastBuilt`),this.replaceComputeInstructions(t,{limit:c,fee:a})}else r=yield this.getLatestBlockhash();return(0,Go.ok)({lastBuilt:t,rbh:r})})}handlePostBuild(e,t){if(this.getPopCount(t)<=0)throw new Error("TransactionBuilder: pop count is less than or equal to 0");this.instructions.splice(0,this.getPopCount(t)),this.lastBuilt=t,this.lastTransaction=e}clear(){return this.instructions.splice(0,this.instructions.length)}}Np.TransactionBuilderCore=xAe;function IGe(n){return PAe(this,arguments,function*(){if(n.isErr())yield yield MA((0,Go.err)(n.error));else for(const t of n.value)yield yield MA((0,Go.ok)(t))})}class _Ge extends xAe{constructor(e){super(e)}optimalTransactions(){return PAe(this,arguments,function*(){for(;this.instructions.length>0;)yield yield MA(this.buildNextOptimalTransaction())})}buildNextOptimalTransaction(){return wv(this,void 0,void 0,function*(){this.startBuildingNext();try{const e=yield this.buildNextOptimalTransactionNoSigning();if(e.isErr())return(0,Go.err)(e.error);const{rbh:t,lastBuilt:r}=e.value,s=(yield(0,d9.buildAndSignTransactionsFromIxWithSigners)([{ixs:r.instructions,lookupTables:r.lookupTables,connectionOrRbh:{rbh:t,commitment:this.commitment}}],this.feePayer))[0];return this.handlePostBuild(s,r),(0,Go.ok)(s)}finally{this.isBuildingNext=!1}})}rebuildLast(){return wv(this,arguments,void 0,function*(e=!0){const t=yield this.rebuildLastNoSigning(e);if(t.isErr())return(0,Go.err)(t.error);const{lastBuilt:r,rbh:s}=t.value,i=(yield(0,d9.buildAndSignTransactionsFromIxWithSigners)([{ixs:r.instructions,lookupTables:r.lookupTables,connectionOrRbh:{rbh:s,commitment:this.commitment}}],this.feePayer))[0];return(0,Go.ok)(i)})}buildDynamic(){return(0,Rg.buildOptimalDynamicTransactions)(this.connection,this.instructions,this.feePayer,{getFee:this.getFee,getLimit:(...e)=>(0,Rg.getSimulationUnits)(...e).then(t=>{if(t!==void 0)return this.mapLimit(t)})},this.lookupTables,this.beforeIxs,this.afterIxs.map(e=>e.ix),this.instructionCountConfig.max)}buildAndSignOptimal(){var e;const t=[...this.beforeIxs,...this.instructions,...this.afterIxs.map(s=>s.ix)],r={getLimit:(...s)=>(0,Rg.getSimulationUnits)(...s).then(i=>{if(i!==void 0)return this.mapLimit(i)}),getFee:(e=this.getFee)!==null&&e!==void 0?e:void 0};return(0,Rg.buildAndSignOptimalTransaction)(this.connection,t,this.feePayer,r,this.lookupTables)}}Np.TransactionBuilder=_Ge;var TAe={};Object.defineProperty(TAe,"__esModule",{value:!0});(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Np,n),t(aY,n),t(j4,n),t(Mo,n),t(TAe,n)})(oY);var pY=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(OB,"__esModule",{value:!0});OB.createAddressLookupTable=CAe;OB.extendAddressLookupTable=MAe;OB.createAndExtendAddressLookupTable=EGe;const RAe=Mb,Iv=VB,iO=oY;function CAe(n,e,t,r,s){return pY(this,void 0,void 0,function*(){const[i,o]=RAe.AddressLookupTableProgram.createLookupTable({authority:e.publicKey(),payer:t.publicKey(),recentSlot:r??(yield n.getSlot("confirmed"))}),c=yield new iO.TransactionBuilder({connection:n,commitment:"confirmed",feePayer:t}).add(i,[e,t]).buildAndSignOptimal(),u=yield(0,iO.sendTransaction)(c,n,Object.assign(Object.assign({},s),{sendOptions:{skipPreflight:!0}}));return u.value.isErr()?(0,Iv.err)(`Failed to create address lookup table: ${u.value.error}`):(0,Iv.ok)(o)})}const PGe=400;function MAe(n,e,t,r,s,i){return pY(this,void 0,void 0,function*(){var o;if(s.length>256)return(0,Iv.err)("Transaction lookup table can only hold up to 256 addresses");const a=[...s],c=[];for(;a.length>0;){const h=a.splice(0,20),m=RAe.AddressLookupTableProgram.extendLookupTable({lookupTable:e,authority:t.publicKey(),payer:r.publicKey(),addresses:h});c.push(m)}const u=c.map(h=>m=>Promise.resolve({instruction:h,signers:[m,r,t]})),l=yield new iO.TransactionBuilder({connection:n,commitment:i==null?void 0:i.commitment,feePayer:r}).add(u).buildDynamic();if(l.isErr())return new Iv.Err(`Failed to build dynamic transactions: ${l.error}`);const d=yield Promise.all(l.value.map(h=>(0,iO.sendTransaction)(h,n,i))),y=d.find(h=>h.value.isErr());if(y)return(0,Iv.err)(`Failed to extend address lookup table: ${y.value}`);if(i!=null&&i.awaitNewSlot){const h=d.map(g=>g.context.slot),m=Math.max(...h),f=(o=i==null?void 0:i.commitment)!==null&&o!==void 0?o:"confirmed";for(;(yield n.getSlot(f))<=m;)yield new Promise(g=>setTimeout(g,PGe/2))}return(0,Iv.ok)(e)})}function EGe(n,e,t,r,s,i){return pY(this,void 0,void 0,function*(){const o=yield CAe(n,e,t,s,i);return o.isErr()?o:yield MAe(n,o.value,e,t,r,i)})}var BAe={};Object.defineProperty(BAe,"__esModule",{value:!0});var tk={};Object.defineProperty(tk,"__esModule",{value:!0});tk.isAsyncSigner=xGe;tk.keypairToAsyncSigner=TGe;tk.walletToAsyncSigner=RGe;tk.signerToAsyncSigner=CGe;tk.createDummyAsyncSigner=MGe;function xGe(n){return"inner"in n&&"requiresAsync"in n&&"publicKey"in n&&"sign"in n&&"signAll"in n}function oO(n,e){"instructions"in n?n.partialSign(e):n.sign([e])}function TGe(n){return{inner:()=>n,requiresAsync(){return!1},publicKey(){return n.publicKey},sign:e=>(oO(e,n),Promise.resolve(e)),signAll:e=>{for(const t of e)oO(t,n);return Promise.resolve(e)}}}function RGe(n){return{inner(){return n},publicKey(){return n.publicKey},requiresAsync(){return!0},sign(e){return n.signTransaction(e)},signAll(e){return n.signAllTransactions(e)}}}function CGe(n){return{inner:()=>n,publicKey:()=>n.publicKey,requiresAsync:()=>!1,sign:e=>(oO(e,n),Promise.resolve(e)),signAll:e=>{for(const t of e)oO(t,n);return Promise.resolve(e)}}}function MGe(n){return{requiresAsync(){return!1},publicKey(){return n},sign:e=>(e.addSignature(n,Ve.Buffer.alloc(64)),Promise.resolve(e)),signAll:e=>{for(const t of e)t.addSignature(n,Ve.Buffer.alloc(64));return Promise.resolve(e)}}}var zAe={};Object.defineProperty(zAe,"__esModule",{value:!0});var BA={};Object.defineProperty(BA,"__esModule",{value:!0});BA.getNumberFromEnum=BA.getAnchorEnum=void 0;const BGe=(n,e)=>{const t=Object.entries(n);for(let r=0;r<t.length;r++){const s=t[r];if(s&&e===s[1])return{[s[0].toUpperCase()===s[0]?s[0].toLowerCase():s[0].charAt(0).toLowerCase()+s[0].slice(1)]:{}}}throw new Error(`${e} is not found in the enum`)};BA.getAnchorEnum=BGe;const zGe=(n,e,t=1)=>{const r=Object.entries(n);for(let s=0;s<r.length;s++){const i=r[s];if(i&&e===i[1])return i[1]+t}throw new Error(`${e} is not found in the enum`)};BA.getNumberFromEnum=zGe;var nK={};Object.defineProperty(nK,"__esModule",{value:!0});nK.generateErrorMap=void 0;const $Ge=n=>{var e,t;return(t=(e=n.errors)===null||e===void 0?void 0:e.reduce((r,s)=>Object.assign(Object.assign({},r),{[s.name]:s}),{}))!==null&&t!==void 0?t:{}};nK.generateErrorMap=$Ge;var sK={};Object.defineProperty(sK,"__esModule",{value:!0});sK.ListenProgram=void 0;const DGe=cc,Tde=Bb;class OGe{constructor(e,t){this.program=e,this.parsers=t,this.accountClosedListener=null,this.accountDiscriminants=(0,Tde.remapObject)(t,r=>DGe.BorshAccountsCoder.accountDiscriminator(r.ACCOUNT_NAME)),this.listeners=(0,Tde.remapObject)(t,()=>null)}setAccountClosedListener(e){this.accountClosedListener=e}get programId(){return this.program.programId}accountDiscriminant(e){return this.accountDiscriminants[e]}discriminantToAccountId(e){for(const[t,r]of Object.entries(this.accountDiscriminants))if(e.subarray(0,r.length).equals(r))return{key:t,discriminantLength:r.length};return null}provideDecodedAccountEvent(e,t,r,s,i,o,a){const c=this.listeners[e];c&&c({account:t,slot:r,confirmationStatus:s,isStartup:i,accountInfo:o,writeVersion:a})}provideAccountEvent(e,t,r,s,i,o=a=>{console.error(`Unknown account \`${a.toBase58()}\` for program \`${this.programId.toBase58()}\``)}){const a=this.discriminantToAccountId(e.accountInfo.data);if(a===null){o(e.accountId);return}if(this.listeners[a.key]){const c=this.parsers[a.key].decodeData(e,this.program);if("error"in c)throw c.error;this.provideDecodedAccountEvent(a.key,c.data,t,r,s,e.accountInfo,i)}}setAccountListener(e,t,r){r?this.listeners[e]=s=>{s.account instanceof t?r(Object.assign(Object.assign({},s),{account:s.account})):console.error("Wrong account type passed, account: ",JSON.stringify(s.account))}:this.listeners[e]=null}discriminantToAccountIdNoSubarray(e){const t=Object.keys(this.accountDiscriminants);for(const r of t){const s=this.accountDiscriminants[r];if(e.equals(s))return{key:r,discriminantLength:s.length}}return null}provideAccountClosedEvent(e,t,r,s,i,o,a){const c=this.accountClosedListener;c&&c({accountInfo:a,slot:s,confirmationStatus:i,writeVersion:o,key:e,oldOwner:t,newOwner:r})}}sK.ListenProgram=OGe;var Rl={},yl=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},KGe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.getCurrentTimestampOnChain=void 0;Rl.buildRPCDataSource=UGe;Rl.readAllFromRPC=VGe;Rl.readFromRPC=bY;Rl.readFromRPCOrError=qGe;Rl.readFromRPCNullable=jGe;Rl.accountRPCSubscribe=HGe;Rl.airdrop=GGe;Rl.readMultipleFromRPC=YGe;const $Ae=Mb,LGe=cc,WGe=KGe(rK),NGe=Px.exports,FGe=Bb;function UGe(n){const e={programs:[]},t=(r,s,i)=>(o,a)=>{r.provideAccountEvent(o,a.slot,s,i,0)};return{insertProgram(r,s){return yl(this,arguments,void 0,function*(i,o,a=!1){if(e.programs===null)throw new Error("Data source closed");if(o==="recent")throw new Error("RPC Data Source does not support recent");const c=(0,FGe.fixedSizeArrayFromArray)(3,[n.onProgramAccountChange(i.programId,t(i,"processed",!1),"processed"),n.onProgramAccountChange(i.programId,t(i,"confirmed",!1),"confirmed"),n.onProgramAccountChange(i.programId,t(i,"finalized",!1),"finalized")]);if(c===null)throw new Error("Could not create listener array");const u=e.programs.length,l=()=>yl(this,void 0,void 0,function*(){if(e.programs===null)return;const d=e.programs[u];if(!d)return;const{program:y}=d,{context:h,value:m}=yield n.getProgramAccounts(y.programId,{commitment:o,withContext:!0});for(const f of m)y.provideAccountEvent({accountId:f.pubkey,accountInfo:f.account},h.slot,o,!0,0)});return e.programs.push({program:i,listenerId:c,refresh:l}),a||(yield l()),{close:()=>yl(this,void 0,void 0,function*(){if(e.programs===null)return;const d=e.programs[u];if(!d)return;const{listenerId:y}=d;e.programs[u]=null,yield Promise.all([n.removeProgramAccountChangeListener(y[0]),n.removeProgramAccountChangeListener(y[1]),n.removeProgramAccountChangeListener(y[2])])}),refresh:l}})},closeDataSource(){return yl(this,void 0,void 0,function*(){if(e.programs===null)throw new Error("Data source already closed");const r=[];for(const s of e.programs.filter(i=>i!==null).flatMap(i=>i.listenerId))try{r.push(n.removeAccountChangeListener(s))}catch(i){console.error("Could not remove listener: ",i)}e.programs=null,yield Promise.all(r)})},refreshAll(){return yl(this,void 0,void 0,function*(){var r,s;yield Promise.all((s=(r=e.programs)===null||r===void 0?void 0:r.map(i=>i==null?void 0:i.refresh()))!==null&&s!==void 0?s:[])})}}}function VGe(n,e,t,r){return yl(this,arguments,void 0,function*(s,i,o,a,c=[]){return(yield s.getProgramAccounts(i.programId,Object.assign(Object.assign({},a?{commitment:a}:{}),{filters:[{memcmp:{offset:0,bytes:WGe.default.encode(LGe.BorshAccountsCoder.accountDiscriminator(o.ACCOUNT_NAME))}},...c]}))).map(l=>o.decodeData({accountInfo:l.account,accountId:l.pubkey},i))})}function bY(n,e,t,r,s){return yl(this,void 0,void 0,function*(){const i=yield n.getAccountInfo(t,s);return i===null?{type:"error",key:t,error:new Error("account does not exist")}:r.decodeData({accountInfo:i,accountId:t},e)})}function qGe(n,e,t,r,s){return yl(this,void 0,void 0,function*(){const i=yield bY(n,e,t,r,s);if("error"in i)throw i.error;return i.data})}function jGe(n,e,t,r,s){return yl(this,void 0,void 0,function*(){const i=yield bY(n,e,t,r,s);return"error"in i?null:i.data})}function HGe(n,e,t,r,s,i){return n.onAccountChange(t,o=>{s(r.decodeData({accountInfo:o,accountId:t},e))},i)}function GGe(n,e){return yl(this,arguments,void 0,function*(t,r,s=$Ae.LAMPORTS_PER_SOL,i){const o=yield t.requestAirdrop(r,s);return yield t.confirmTransaction(o,i),o})}function YGe(n,e,t,r,s){return yl(this,void 0,void 0,function*(){const i=(yield Promise.all((0,NGe.chunk)(n,100).map(a=>e.getMultipleAccountsInfo(a,s)))).flat(),o=[];for(let a=0;a<i.length;a++){const c=i[a],u=n[a];c&&o.push(r.decodeData({accountInfo:c,accountId:u},t))}return o})}const ZGe=n=>yl(void 0,void 0,void 0,function*(){const e=yield n.getAccountInfo($Ae.SYSVAR_CLOCK_PUBKEY);if(e===null)throw"Failed to fetch Clock account info";return e.data.readBigInt64LE(8*4)});Rl.getCurrentTimestampOnChain=ZGe;var iK={};Object.defineProperty(iK,"__esModule",{value:!0});iK.combineObjectArrays=DAe;iK.runForAll=JGe;function DAe(n,e){return n.map(t=>e.map(r=>Object.assign(Object.assign({},t),r))).flat()}function JGe(n,e){return Object.keys(n).map(r=>n[r].map(s=>({[r]:s}))).reduce((r,s)=>DAe(r,s),[{}]).map(r=>e(r))}var SY={};Object.defineProperty(SY,"__esModule",{value:!0});SY.transfer=QGe;const XGe=Mb;function QGe(n,e,t){return r=>{var s;return Promise.resolve({instruction:XGe.SystemProgram.transfer({fromPubkey:(s=n==null?void 0:n.publicKey())!==null&&s!==void 0?s:r.publicKey(),toPubkey:e,lamports:t}),signers:[n??r]})}}var nl={},lh=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(nl,"__esModule",{value:!0});nl.getParsedTokenAccountsByOwner=void 0;nl.createMint=tYe;nl.createTokenAccount=rYe;nl.mintToTokenAccount=nYe;nl.setMintAuthority=sYe;nl.setFreezeAuthority=iYe;nl.setAccountAuthority=oYe;nl.transferToTokenAccount=aYe;nl.createAssociatedTokenAccount=cYe;nl.createAssociatedTokenAccountIdempotent=uYe;const Vs=rl,OAe=Mb,KAe=nr,eYe=(n,e,...t)=>lh(void 0,[n,e,...t],void 0,function*(r,s,i=Vs.TOKEN_PROGRAM_ID){return(yield r.getTokenAccountsByOwner(s,{programId:i})).value.map(o=>(0,Vs.unpackAccount)(o.pubkey,o.account,i))});nl.getParsedTokenAccountsByOwner=eYe;function tYe(n,e,t,r){return s=>lh(this,void 0,void 0,function*(){return[{instruction:OAe.SystemProgram.createAccount({fromPubkey:s.publicKey(),lamports:(0,KAe.calculateMinimumRent)(Vs.MINT_SIZE),newAccountPubkey:n.publicKey(),programId:Vs.TOKEN_PROGRAM_ID,space:Vs.MINT_SIZE}),signers:[n,s]},{instruction:(0,Vs.createInitializeMintInstruction)(n.publicKey(),e,t,r),signers:[]}]})}function rYe(n,e,t){return r=>lh(this,void 0,void 0,function*(){return[{instruction:OAe.SystemProgram.createAccount({fromPubkey:r.publicKey(),lamports:(0,KAe.calculateMinimumRent)(Vs.ACCOUNT_SIZE),newAccountPubkey:n.publicKey(),programId:Vs.TOKEN_PROGRAM_ID,space:Vs.ACCOUNT_SIZE}),signers:[n,r]},{instruction:(0,Vs.createInitializeAccountInstruction)(n.publicKey(),t,e),signers:[]}]})}function nYe(n,e,t,r){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createMintToInstruction)(e,t,n.publicKey(),r,[]),signers:[n]}})}function sYe(n,e,t){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createSetAuthorityInstruction)(n,e.publicKey(),Vs.AuthorityType.MintTokens,t),signers:[e]}})}function iYe(n,e,t){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createSetAuthorityInstruction)(n,e.publicKey(),Vs.AuthorityType.FreezeAccount,t),signers:[e]}})}function oYe(n,e,t){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createSetAuthorityInstruction)(n,e.publicKey(),Vs.AuthorityType.AccountOwner,t),signers:[e]}})}function aYe(n,e,t,r){return()=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createTransferInstruction)(e,t,n.publicKey(),r,[]),signers:[n]}})}function cYe(n,e,t=!0,r=Vs.TOKEN_PROGRAM_ID,s=Vs.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,Vs.getAssociatedTokenAddressSync)(n,e,t,r,s);return{instructions:o=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createAssociatedTokenAccountInstruction)(o.publicKey(),i,e,n,r,s),signers:[o]}}),address:i}}function uYe(n,e,t=!0,r=Vs.TOKEN_PROGRAM_ID,s=Vs.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,Vs.getAssociatedTokenAddressSync)(n,e,t,r,s);return{instructions:o=>lh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createAssociatedTokenAccountIdempotentInstruction)(o.publicKey(),i,e,n,r,s),signers:[o]}}),address:i}}(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(z4,n),t(OB,n),t(BAe,n),t(tk,n),t(zAe,n),t(BA,n),t(nK,n),t(sK,n),t(Rl,n),t(iK,n),t(SY,n),t(nl,n),t(oY,n),t(Bb,n)})(nr);var bM={};Object.defineProperty(bM,"__esModule",{value:!0});bM.IDL=void 0;bM.IDL={version:"0.7.3",name:"player_profile",instructions:[{name:"acceptRoleInvitation",accounts:[{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addExistingMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for reallocation."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the member to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addKeys",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::ADD_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to add to"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyAddIndex",type:"u16"},{name:"keyPermissionsIndex",type:"u16"},{name:"keysToAdd",type:{vec:{defined:"AddKeyInput"}}}]},{name:"adjustAuth",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"authIndexes",type:{vec:"u16"}},{name:"newKeyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"removeRange",type:{array:["u16",2]}},{name:"newKeyThreshold",type:"u8"}]},{name:"createProfile",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"profile",isMut:!0,isSigner:!0,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"keyThreshold",type:"u8"}]},{name:"createRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The [`Profile`] account that the role is being created for"]},{name:"newRoleAccount",isMut:!0,isSigner:!1,docs:["The role account being created"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"inviteMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"joinRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member joining the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"leaveRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation."]},{name:"member",isMut:!1,isSigner:!1,docs:["The member leaving the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is leaving"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeKeys",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::REMOVE_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keysToRemove",type:{array:["u16",2]}}]},{name:"removeMemberFromRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation"]},{name:"member",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is being removed from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The Profile that the role is being removed from"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role being removed"]},{name:"roleNameAccount",isMut:!0,isSigner:!1,docs:["The role name account (if it exists)"]}],args:[{name:"roleNameBump",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"setName",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized to change the name."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as accepting members."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleAuthorizer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set the authorizer for."]},{name:"authorizer",isMut:!1,isSigner:!1,docs:["The authorizer account to set."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleName",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to"]},{name:"role",isMut:!1,isSigner:!1,docs:["The role to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleNotAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as not accepting members."]}],args:[{name:"keyIndex",type:"u16"}]}],accounts:[{name:"playerName",docs:["Stores a player's name on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this name is for."],type:"publicKey"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}},{name:"profile",docs:["A player profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authKeyCount",docs:["The number of auth keys on the account"],type:"u16"},{name:"keyThreshold",docs:["The number of auth keys needed to update the profile."],type:"u8"},{name:"nextSeqId",docs:["The next sequence number for a new role."],type:"u64"},{name:"createdAt",docs:["When the profile was created."],type:"i64"}]}},{name:"profileRoleMembership",docs:["A player's roles for a given profile","Remaining data contains an unordered list of [`RoleMembership`](RoleMembership) structs"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The Profile this belongs to"],type:"publicKey"},{name:"member",docs:["The member's profile pubkey"],type:"publicKey"},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"role",docs:["A Role associated with a Profile. A Role contains an unordered list of Role Members in its","remaining data which lists all of the members who carry this role."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["Profile that this role belongs to"],type:"publicKey"},{name:"authorizer",docs:["Origin authority of the account"],type:"publicKey"},{name:"roleSeqId",docs:["Role's seq_id"],type:"u64"},{name:"acceptingNewMembers",docs:["Is role accepting new members"],type:"u8"},{name:"bump",docs:["The name of the rank","TODO: Add instruction to use `player-name` as the label","PDA bump"],type:"u8"}]}}],types:[{name:"AddKeyInput",docs:["Struct for adding a key"],type:{kind:"struct",fields:[{name:"scope",docs:["The block of permissions"],type:"publicKey"},{name:"expireTime",docs:["The expire time of the key to add"],type:"i64"},{name:"permissions",docs:["The permissions for the key"],type:{array:["u8",8]}}]}},{name:"MemberStatus",docs:["Represents potential membership statuses for a player with a role"],type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"ProfileKey",docs:["A key on a profile."],type:{kind:"struct",fields:[{name:"key",docs:["The key."],type:"publicKey"},{name:"scope",docs:["The key for the permissions."],type:"publicKey"},{name:"expireTime",docs:["The expire time for this key.","If `<0` does not expire."],type:"i64"},{name:"permissions",docs:["The permissions for the key."],type:{array:["u8",8]}}]}},{name:"RoleMembership",docs:["Represents a member's status in a role"],type:{kind:"struct",fields:[{name:"key",docs:["The member or role key associated with this membership"],type:"publicKey"},{name:"status",docs:["The member's role status"],type:"u8"}]}}],errors:[{code:6e3,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds"},{code:6001,name:"ProfileMismatch",msg:"Profile did not match profile key"},{code:6002,name:"KeyMismatch",msg:"Key did not match profile key"},{code:6003,name:"ScopeMismatch",msg:"Scope did not match profile scope"},{code:6004,name:"KeyExpired",msg:"Key expired"},{code:6005,name:"KeyMissingPermissions",msg:"Key is missing permissions"},{code:6006,name:"PermissionsMismatch",msg:"Permissions don't match available"},{code:6007,name:"AuthKeyCannotExpire",msg:"Auth keys cannot expire"},{code:6008,name:"AuthKeyMustSign",msg:"New auth keys must be signers"},{code:6009,name:"DuplicateAuthKey",msg:"Duplicate key when adjusting auth keys"},{code:6010,name:"RoleAuthorityAlreadySet",msg:"Role authority has already been set"},{code:6011,name:"RoleNotAcceptingMembers",msg:"Role is not accepting new members"},{code:6012,name:"RoleMembershipMismatch",msg:"Role membership is not as expected"},{code:6013,name:"RoleLimitExceeded",msg:"Role limit exceeded"},{code:6014,name:"RoleHasMembers",msg:"Cannot remove role with members"},{code:6015,name:"FeatureNotImplemented",msg:"This feature is not yet support"}]};var Jg={};function aO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function lYe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function jB(n,...e){if(!lYe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function dYe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");aO(n.outputLen),aO(n.blockLen)}function zA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function LAe(n,e){jB(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const AW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fYe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),wW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),$d=(n,e)=>n<<32-e|n>>>e,Rde=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,hYe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Cde(n){for(let e=0;e<n.length;e++)n[e]=hYe(n[e])}function gYe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function oK(n){return typeof n=="string"&&(n=gYe(n)),jB(n),n}function mYe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];jB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class kY{clone(){return this._cloneInto()}}function vY(n){const e=r=>n().update(oK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function WAe(n=32){if(AW&&typeof AW.getRandomValues=="function")return AW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function yYe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const pYe=(n,e,t)=>n&e^~n&t,bYe=(n,e,t)=>n&e^n&t^e&t;class NAe extends kY{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wW(this.buffer)}update(e){zA(this);const{view:t,buffer:r,blockLen:s}=this;e=oK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=wW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zA(this),LAe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;yYe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=wW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const d$=BigInt(2**32-1),f9=BigInt(32);function FAe(n,e=!1){return e?{h:Number(n&d$),l:Number(n>>f9&d$)}:{h:Number(n>>f9&d$)|0,l:Number(n&d$)|0}}function UAe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=FAe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const SYe=(n,e)=>BigInt(n>>>0)<<f9|BigInt(e>>>0),kYe=(n,e,t)=>n>>>t,vYe=(n,e,t)=>n<<32-t|e>>>t,AYe=(n,e,t)=>n>>>t|e<<32-t,wYe=(n,e,t)=>n<<32-t|e>>>t,IYe=(n,e,t)=>n<<64-t|e>>>t-32,_Ye=(n,e,t)=>n>>>t-32|e<<64-t,PYe=(n,e)=>e,EYe=(n,e)=>n,VAe=(n,e,t)=>n<<t|e>>>32-t,qAe=(n,e,t)=>e<<t|n>>>32-t,jAe=(n,e,t)=>e<<t-32|n>>>64-t,HAe=(n,e,t)=>n<<t-32|e>>>64-t;function xYe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const TYe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),RYe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,CYe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),MYe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,BYe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),zYe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,$Ye={fromBig:FAe,split:UAe,toBig:SYe,shrSH:kYe,shrSL:vYe,rotrSH:AYe,rotrSL:wYe,rotrBH:IYe,rotrBL:_Ye,rotr32H:PYe,rotr32L:EYe,rotlSH:VAe,rotlSL:qAe,rotlBH:jAe,rotlBL:HAe,add:xYe,add3L:TYe,add3H:RYe,add4L:CYe,add4H:MYe,add5H:zYe,add5L:BYe};var zr=$Ye;const[DYe,OYe]=(()=>zr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Cm=new Uint32Array(80),Mm=new Uint32Array(80);class KYe extends NAe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Cm[p]=e.getUint32(t),Mm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Cm[p-15]|0,A=Mm[p-15]|0,w=zr.rotrSH(I,A,1)^zr.rotrSH(I,A,8)^zr.shrSH(I,A,7),_=zr.rotrSL(I,A,1)^zr.rotrSL(I,A,8)^zr.shrSL(I,A,7),P=Cm[p-2]|0,M=Mm[p-2]|0,E=zr.rotrSH(P,M,19)^zr.rotrBH(P,M,61)^zr.shrSH(P,M,6),T=zr.rotrSL(P,M,19)^zr.rotrBL(P,M,61)^zr.shrSL(P,M,6),z=zr.add4L(_,T,Mm[p-7],Mm[p-16]),O=zr.add4H(z,w,E,Cm[p-7],Cm[p-16]);Cm[p]=O|0,Mm[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=zr.rotrSH(d,y,14)^zr.rotrSH(d,y,18)^zr.rotrBH(d,y,41),A=zr.rotrSL(d,y,14)^zr.rotrSL(d,y,18)^zr.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=zr.add5L(S,A,_,OYe[p],Mm[p]),M=zr.add5H(P,b,I,w,DYe[p],Cm[p]),E=P|0,T=zr.rotrSH(r,s,28)^zr.rotrBH(r,s,34)^zr.rotrBH(r,s,39),z=zr.rotrSL(r,s,28)^zr.rotrBL(r,s,34)^zr.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=zr.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=zr.add3L(E,z,R);r=zr.add3H(v,M,T,O),s=v|0}({h:r,l:s}=zr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=zr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=zr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=zr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=zr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=zr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=zr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=zr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Cm.fill(0),Mm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const LYe=vY(()=>new KYe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AY=BigInt(0),aK=BigInt(1),WYe=BigInt(2);function uS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function HB(n){if(!uS(n))throw new Error("Uint8Array expected")}function Ug(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const NYe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function lS(n){HB(n);let e="";for(let t=0;t<n.length;t++)e+=NYe[n[t]];return e}function GAe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function wY(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const _h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Mde(n){if(n>=_h._0&&n<=_h._9)return n-_h._0;if(n>=_h._A&&n<=_h._F)return n-(_h._A-10);if(n>=_h._a&&n<=_h._f)return n-(_h._a-10)}function $A(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Mde(n.charCodeAt(i)),a=Mde(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function L1(n){return wY(lS(n))}function Gv(n){return HB(n),wY(lS(Uint8Array.from(n).reverse()))}function DA(n,e){return $A(n.toString(16).padStart(e*2,"0"))}function SM(n,e){return DA(n,e).reverse()}function FYe(n){return $A(GAe(n))}function ea(n,e,t){let r;if(typeof e=="string")try{r=$A(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(uS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function dS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];HB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function UYe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function VYe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const IW=n=>typeof n=="bigint"&&AY<=n;function cK(n,e,t){return IW(n)&&IW(e)&&IW(t)&&e<=n&&n<t}function pl(n,e,t,r){if(!cK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function qYe(n){let e;for(e=0;n>AY;n>>=aK,e+=1);return e}function jYe(n,e){return n>>BigInt(e)&aK}function HYe(n,e,t){return n|(t?aK:AY)<<BigInt(e)}const IY=n=>(WYe<<BigInt(n-1))-aK,_W=n=>new Uint8Array(n),Bde=n=>Uint8Array.from(n);function YAe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=_W(n),s=_W(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=_W())=>{s=a(Bde([0]),d),r=a(),d.length!==0&&(s=a(Bde([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return dS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const GYe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||uS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function jx(n,e,t={}){const r=(s,i,o)=>{const a=GYe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const YYe=()=>{throw new Error("not implemented")};function kM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var ZYe=Object.freeze(Object.defineProperty({__proto__:null,isBytes:uS,abytes:HB,abool:Ug,bytesToHex:lS,numberToHexUnpadded:GAe,hexToNumber:wY,hexToBytes:$A,bytesToNumberBE:L1,bytesToNumberLE:Gv,numberToBytesBE:DA,numberToBytesLE:SM,numberToVarBytesBE:FYe,ensureBytes:ea,concatBytes:dS,equalBytes:UYe,utf8ToBytes:VYe,inRange:cK,aInRange:pl,bitLen:qYe,bitGet:jYe,bitSet:HYe,bitMask:IY,createHmacDrbg:YAe,validateObject:jx,notImplemented:YYe,memoized:kM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ya=BigInt(0),$i=BigInt(1),Q0=BigInt(2),JYe=BigInt(3),h9=BigInt(4),zde=BigInt(5),$de=BigInt(8);BigInt(9);BigInt(16);function gi(n,e){const t=n%e;return t>=Ya?t:e+t}function XYe(n,e,t){if(t<=Ya||e<Ya)throw new Error("Expected power/modulo > 0");if(t===$i)return Ya;let r=$i;for(;e>Ya;)e&$i&&(r=r*n%t),n=n*n%t,e>>=$i;return r}function eo(n,e,t){let r=n;for(;e-- >Ya;)r*=r,r%=t;return r}function g9(n,e){if(n===Ya||e<=Ya)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=gi(n,e),r=e,s=Ya,i=$i;for(;t!==Ya;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==$i)throw new Error("invert: does not exist");return gi(s,e)}function QYe(n){const e=(n-$i)/Q0;let t,r,s;for(t=n-$i,r=0;t%Q0===Ya;t/=Q0,r++);for(s=Q0;s<n&&XYe(s,e,n)!==n-$i;s++);if(r===1){const o=(n+$i)/h9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+$i)/Q0;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,$i<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function eZe(n){if(n%h9===JYe){const e=(n+$i)/h9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%$de===zde){const e=(n-zde)/$de;return function(r,s){const i=r.mul(s,Q0),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Q0),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return QYe(n)}const tZe=(n,e)=>(gi(n,e)&$i)===$i,rZe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nZe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=rZe.reduce((r,s)=>(r[s]="function",r),e);return jx(n,t)}function sZe(n,e,t){if(t<Ya)throw new Error("Expected power > 0");if(t===Ya)return n.ONE;if(t===$i)return e;let r=n.ONE,s=e;for(;t>Ya;)t&$i&&(r=n.mul(r,s)),s=n.sqr(s),t>>=$i;return r}function iZe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function ZAe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function JAe(n,e,t=!1,r={}){if(n<=Ya)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=ZAe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=eZe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:IY(s),ZERO:Ya,ONE:$i,create:c=>gi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ya<=c&&c<n},is0:c=>c===Ya,isOdd:c=>(c&$i)===$i,neg:c=>gi(-c,n),eql:(c,u)=>c===u,sqr:c=>gi(c*c,n),add:(c,u)=>gi(c+u,n),sub:(c,u)=>gi(c-u,n),mul:(c,u)=>gi(c*u,n),pow:(c,u)=>sZe(a,c,u),div:(c,u)=>gi(c*g9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>g9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>iZe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?SM(c,i):DA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Gv(c):L1(c)}});return Object.freeze(a)}function XAe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function QAe(n){const e=XAe(n);return e+Math.ceil(e/2)}function oZe(n,e,t=!1){const r=n.length,s=XAe(e),i=QAe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?L1(n):Gv(n),a=gi(o,e-$i)+$i;return t?SM(a,s):DA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aZe=BigInt(0),PW=BigInt(1),EW=new WeakMap,Dde=new WeakMap;function ewe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>aZe;)o&PW&&(a=a.add(c)),c=c.double(),o>>=PW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=PW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,A=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(A,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Dde.get(i)||1;let u=EW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&EW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Dde.set(i,o),EW.delete(i)}}}function _Y(n){return nZe(n.Fp),jx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ZAe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $l=BigInt(0),Fc=BigInt(1),f$=BigInt(2),cZe=BigInt(8),uZe={zip215:!0};function lZe(n){const e=_Y(n);return jx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function dZe(n){const e=lZe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=f$<<BigInt(a*8)-Fc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:$l}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Ug("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){pl("coordinate "+v,k,$l,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=kM((v,k)=>{const{ex:x,ey:C,ez:B}=v,D=v.is0();k==null&&(k=D?cZe:t.inv(B));const $=l(x*k),W=l(C*k),L=l(B*k);if(D)return{x:$l,y:Fc};if(L!==Fc)throw new Error("invZ was invalid");return{x:$,y:W}}),b=kM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:D,et:$}=v,W=l(C*C),L=l(B*B),U=l(D*D),G=l(U*U),J=l(W*k),Q=l(U*l(J+L)),Y=l(G+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(D*$);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Fc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:D,ey:$,ez:W}=k,L=l(x*W),U=l(D*B),G=l(C*W),J=l($*B);return L===U&&G===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,D=l(x*x),$=l(C*C),W=l(f$*l(B*B)),L=l(k*D),U=x+C,G=l(l(U*U)-D-$),J=L+$,Q=J-W,Y=L-$,X=l(G*Q),re=l(J*Y),se=l(G*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:D,ez:$,et:W}=this,{ex:L,ey:U,ez:G,et:J}=k;if(x===BigInt(-1)){const Lt=l((D-B)*(U+L)),Dt=l((D+B)*(U-L)),et=l(Dt-Lt);if(et===$l)return this.double();const Ue=l($*f$*J),Wt=l(W*f$*G),sr=Wt+Ue,tr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(tr*pr),gn=l(sr*pr),ds=l(et*tr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(D*U),X=l(W*C*J),re=l($*G),se=l((B+D)*(L+U)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),_e=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(_e,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return A.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;pl("scalar",x,Fc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return pl("scalar",x,$l,r),x===$l?I:this.equals(I)||x===Fc?this:this.equals(p)?this.wNAF(x).p:A.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Fc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,D=t.BYTES;k=ea("pointHex",k,D),Ug("zip215",x);const $=k.slice(),W=k[D-1];$[D-1]=W&-129;const L=Gv($),U=x?u:t.ORDER;pl("pointHex.y",L,$l,U);const G=l(L*L),J=l(G-Fc),Q=l(C*G-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Fc)===Fc,se=(W&128)!==0;if(!x&&X===$l&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return P(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=SM(x,t.BYTES);return C[C.length-1]|=k&Fc?128:0,C}toHex(){return lS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Fc,l(e.Gx*e.Gy)),S.ZERO=new S($l,Fc,Fc,$l);const{BASE:p,ZERO:I}=S,A=ewe(S,a*8);function w(v){return gi(v,r)}function _(v){return w(Gv(v))}function P(v){const k=a;v=ea("private key",v,k);const x=ea("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),D=_(C),$=p.multiply(D),W=$.toRawBytes();return{head:C,prefix:B,scalar:D,point:$,pointBytes:W}}function M(v){return P(v).pointBytes}function E(v=new Uint8Array,...k){const x=dS(...k);return _(i(h(x,ea("context",v),!!s)))}function T(v,k,x={}){v=ea("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:D}=P(k),$=E(x.context,C,v),W=p.multiply($).toRawBytes(),L=E(x.context,W,D,v),U=w($+L*B);pl("signature.s",U,$l,r);const G=dS(W,SM(U,t.BYTES));return ea("result",G,a*2)}const z=uZe;function O(v,k,x,C=z){const{context:B,zip215:D}=C,$=t.BYTES;v=ea("signature",v,2*$),k=ea("message",k),D!==void 0&&Ug("zip215",D),s&&(k=s(k));const W=Gv(v.slice($,2*$));let L,U,G;try{L=S.fromHex(x,D),U=S.fromHex(v.slice(0,$),D),G=p.multiplyUnsafe(W)}catch{return!1}if(!D&&L.isSmallOrder())return!1;const J=E(B,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(G).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:T,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const PY=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ode=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const fZe=BigInt(1),Kde=BigInt(2);BigInt(3);const hZe=BigInt(5),gZe=BigInt(8);function mZe(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=PY,a=n*n%i*n%i,c=eo(a,Kde,i)*a%i,u=eo(c,fZe,i)*n%i,l=eo(u,hZe,i)*u%i,d=eo(l,e,i)*l%i,y=eo(d,t,i)*d%i,h=eo(y,r,i)*y%i,m=eo(h,s,i)*h%i,f=eo(m,s,i)*h%i,g=eo(f,e,i)*l%i;return{pow_p_5_8:eo(g,Kde,i)*n%i,b2:a}}function yZe(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function pZe(n,e){const t=PY,r=gi(e*e*e,t),s=gi(r*r*e,t),i=mZe(n*s).pow_p_5_8;let o=gi(n*r*i,t);const a=gi(e*o*o,t),c=o,u=gi(o*Ode,t),l=a===n,d=a===gi(-n,t),y=a===gi(-n*Ode,t);return l&&(o=c),(d||y)&&(o=u),tZe(o,t)&&(o=gi(-o,t)),{isValid:l||d,value:o}}const bZe=(()=>JAe(PY,void 0,!0))(),SZe=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:bZe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:gZe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:LYe,randomBytes:WAe,adjustScalarBytes:yZe,uvRatio:pZe}))(),Hx=(()=>dZe(SZe))(),kZe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zm=new Uint32Array(64);class vZe extends NAe{constructor(){super(64,32,8,!1),this.A=Bm[0]|0,this.B=Bm[1]|0,this.C=Bm[2]|0,this.D=Bm[3]|0,this.E=Bm[4]|0,this.F=Bm[5]|0,this.G=Bm[6]|0,this.H=Bm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)zm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=zm[d-15],h=zm[d-2],m=$d(y,7)^$d(y,18)^y>>>3,f=$d(h,17)^$d(h,19)^h>>>10;zm[d]=f+zm[d-7]+m+zm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=$d(a,6)^$d(a,11)^$d(a,25),h=l+y+pYe(a,c,u)+kZe[d]+zm[d]|0,f=($d(r,2)^$d(r,13)^$d(r,22))+bYe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){zm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const m9=vY(()=>new vZe);class AZe extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function wZe(n){return GB(n)&&typeof n[Symbol.iterator]=="function"}function GB(n){return typeof n=="object"&&n!=null}function cO(n){return GB(n)&&!Array.isArray(n)}function yd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function IZe(n){const{done:e,value:t}=n.next();return e?void 0:t}function _Ze(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${yd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Lde(n,e,t,r){wZe(n)||(n=[n]);for(const s of n){const i=_Ze(s,e,t,r);i&&(yield i)}}function*EY(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=EY(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):GB(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class dh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Lde(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Lde(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return twe(e,this,t)}create(e,t){return gt(e,this,t)}is(e){return rwe(e,this)}mask(e,t){return PZe(e,this,t)}validate(e,t={}){return YB(e,this,t)}}function twe(n,e,t){const r=YB(n,e,{message:t});if(r[0])throw r[0]}function gt(n,e,t){const r=YB(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function PZe(n,e,t){const r=YB(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function rwe(n,e){return!YB(n,e)[0]}function YB(n,e,t={}){const r=EY(n,e,t),s=IZe(r);if(s[0])return[new AZe(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function rk(n,e){return new dh({type:n,schema:null,validator:e})}function EZe(){return rk("any",()=>!0)}function At(n){return new dh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${yd(e)}`}})}function Qf(){return rk("boolean",n=>typeof n=="boolean")}function xY(n){return rk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${yd(e)}`)}function Pi(n){const e=yd(n),t=typeof n;return new dh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${yd(r)}`}})}function xZe(){return rk("never",()=>!1)}function Rt(n){return new dh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ge(){return rk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${yd(n)}`)}function dr(n){return new dh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function nwe(n,e){return new dh({type:"record",schema:null,*entries(t){if(GB(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return cO(t)||`Expected an object, but received: ${yd(t)}`},coercer(t){return cO(t)?{...t}:t}})}function He(){return rk("string",n=>typeof n=="string"||`Expected a string, but received: ${yd(n)}`)}function TY(n){const e=xZe();return new dh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${yd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Re(n){const e=Object.keys(n);return new dh({type:"type",schema:n,*entries(t){if(GB(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return cO(t)||`Expected an object, but received: ${yd(t)}`},coercer(t){return cO(t)?{...t}:t}})}function Cc(n){const e=n.map(t=>t.type).join(" | ");return new dh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=EY(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${yd(t)}`,...s]}})}function Gx(){return rk("unknown",()=>!0)}function ZB(n,e,t){return new dh({...n,coercer:(r,s)=>rwe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const swe=[],iwe=[],owe=[],TZe=BigInt(0),vR=BigInt(1),RZe=BigInt(2),CZe=BigInt(7),MZe=BigInt(256),BZe=BigInt(113);for(let n=0,e=vR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],swe.push(2*(5*r+t)),iwe.push((n+1)*(n+2)/2%64);let s=TZe;for(let i=0;i<7;i++)e=(e<<vR^(e>>CZe)*BZe)%MZe,e&RZe&&(s^=vR<<(vR<<BigInt(i))-vR);owe.push(s)}const[zZe,$Ze]=UAe(owe,!0),Wde=(n,e,t)=>t>32?jAe(n,e,t):VAe(n,e,t),Nde=(n,e,t)=>t>32?HAe(n,e,t):qAe(n,e,t);function DZe(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Wde(u,l,1)^t[a],y=Nde(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=iwe[o],c=Wde(s,i,a),u=Nde(s,i,a),l=swe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=zZe[r],n[1]^=$Ze[r]}t.fill(0)}class RY extends kY{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,aO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fYe(this.state)}keccak(){Rde||Cde(this.state32),DZe(this.state32,this.rounds),Rde||Cde(this.state32),this.posOut=0,this.pos=0}update(e){zA(this);const{blockLen:t,state:r}=this;e=oK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){zA(this,!1),jB(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return aO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(LAe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new RY(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const OZe=(n,e,t)=>vY(()=>new RY(e,n,t)),Fde=OZe(1,136,256/8);class awe extends kY{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,dYe(e);const r=oK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return zA(this),this.iHash.update(e),this}digestInto(e){zA(this),jB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const cwe=(n,e,t)=>new awe(n,e).update(t).digest();cwe.create=(n,e)=>new awe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ude(n){n.lowS!==void 0&&Ug("lowS",n.lowS),n.prehash!==void 0&&Ug("prehash",n.prehash)}function KZe(n){const e=_Y(n);jx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:LZe,hexToBytes:WZe}=ZYe,w1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=w1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:LZe(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=w1,t=typeof n=="string"?WZe(n):n;HB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=w1._parseInt(t.subarray(2)),{d:o,l:a}=w1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},_y=BigInt(0),da=BigInt(1);BigInt(2);const Vde=BigInt(3);BigInt(4);function NZe(n){const e=KZe(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return dS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return cK(m,da,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(uS(m)&&(m=lS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:L1(ea("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=gi(p,S)),pl("private key",p,da,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=kM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),A=t.mul(b,f),w=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),l=kM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ea("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f,w=t.eql(t.mul(g,A),t.mul(p,S)),_=t.eql(t.mul(b,A),t.mul(I,S));return w&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Vde),{px:S,py:p,pz:I}=this;let A=t.ZERO,w=t.ZERO,_=t.ZERO,P=t.mul(S,S),M=t.mul(p,p),E=t.mul(I,I),T=t.mul(S,p);return T=t.add(T,T),_=t.mul(S,I),_=t.add(_,_),A=t.mul(f,_),w=t.mul(b,E),w=t.add(A,w),A=t.sub(M,w),w=t.add(M,w),w=t.mul(A,w),A=t.mul(T,A),_=t.mul(b,_),E=t.mul(f,E),T=t.sub(P,E),T=t.mul(f,T),T=t.add(T,_),_=t.add(P,P),P=t.add(_,P),P=t.add(P,E),P=t.mul(P,T),w=t.add(w,P),E=t.mul(p,I),E=t.add(E,E),P=t.mul(E,T),A=t.sub(A,P),_=t.mul(E,M),_=t.add(_,_),_=t.add(_,_),new d(A,w,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f;let w=t.ZERO,_=t.ZERO,P=t.ZERO;const M=e.a,E=t.mul(e.b,Vde);let T=t.mul(g,p),z=t.mul(b,I),O=t.mul(S,A),R=t.add(g,b),v=t.add(p,I);R=t.mul(R,v),v=t.add(T,z),R=t.sub(R,v),v=t.add(g,S);let k=t.add(p,A);return v=t.mul(v,k),k=t.add(T,O),v=t.sub(v,k),k=t.add(b,S),w=t.add(I,A),k=t.mul(k,w),w=t.add(z,O),k=t.sub(k,w),P=t.mul(M,v),w=t.mul(E,O),P=t.add(w,P),w=t.sub(z,P),P=t.add(z,P),_=t.mul(w,P),z=t.add(T,T),z=t.add(z,T),O=t.mul(M,O),v=t.mul(E,v),z=t.add(z,O),O=t.sub(T,O),O=t.mul(M,O),v=t.add(v,O),T=t.mul(z,v),_=t.add(_,T),T=t.mul(k,v),w=t.mul(R,w),w=t.sub(w,T),T=t.mul(R,z),P=t.mul(k,P),P=t.add(P,T),new d(w,_,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){pl("scalar",f,_y,e.n);const g=d.ZERO;if(f===_y)return g;if(f===da)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:A}=b.splitScalar(f),w=g,_=g,P=this;for(;p>_y||A>_y;)p&da&&(w=w.add(P)),A&da&&(_=_.add(P)),P=P.double(),p>>=da,A>>=da;return S&&(w=w.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),w.add(_)}multiply(f){const{endo:g,n:b}=e;pl("scalar",f,da,b);let S,p;if(g){const{k1neg:I,k1:A,k2neg:w,k2:_}=g.splitScalar(f);let{p:P,f:M}=this.wNAF(A),{p:E,f:T}=this.wNAF(_);P=h.constTimeNegate(I,P),E=h.constTimeNegate(w,E),E=new d(t.mul(E.px,g.beta),E.py,E.pz),S=P.add(E),p=M.add(T)}else{const{p:I,f:A}=this.wNAF(f);S=I,p=A}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(A,w)=>w===_y||w===da||!A.equals(S)?A.multiplyUnsafe(w):A.multiply(w),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===da)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===da?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Ug("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Ug("isCompressed",f),lS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=ewe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function FZe(n){const e=_Y(n);return jx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function UZe(n){const e=FZe(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(R){return gi(R,r)}function a(R){return g9(R,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=NZe({...e,toBytes(R,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=dS;return Ug("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(R){const v=R.length,k=R[0],x=R.subarray(1);if(v===s&&(k===2||k===3)){const C=L1(x);if(!cK(C,da,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let D;try{D=t.sqrt(B)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const $=(D&da)===da;return(k&1)===1!==$&&(D=t.neg(D)),{x:C,y:D}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=R=>lS(DA(R,e.nByteLength));function h(R){const v=r>>da;return R>v}function m(R){return h(R)?o(-R):R}const f=(R,v,k)=>L1(R.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ea("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=w1.toSig(ea("DER",v));return new g(k,x)}assertValidity(){pl("r",this.r,da,r),pl("s",this.s,da,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=w(ea("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const D=C===2||C===3?k+e.n:k;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(C&1)===0?"02":"03",W=c.fromHex($+y(D)),L=a(D),U=o(-B*L),G=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,U,G);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return $A(this.toDERHex())}toDERHex(){return w1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return $A(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=QAe(e.n);return oZe(e.randomBytes(R),e.n)},precompute(R=8,v=c.BASE){return v._setWindowSize(R),v.multiply(BigInt(3)),v}};function S(R,v=!0){return c.fromPrivateKey(R).toRawBytes(v)}function p(R){const v=uS(R),k=typeof R=="string",x=(v||k)&&R.length;return v?x===s||x===i:k?x===2*s||x===2*i:R instanceof c}function I(R,v,k=!0){if(p(R))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(R)).toRawBytes(k)}const A=e.bits2int||function(R){const v=L1(R),k=R.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},w=e.bits2int_modN||function(R){return o(A(R))},_=IY(e.nBitLength);function P(R){return pl(`num < 2^${e.nBitLength}`,R,_y,_),DA(R,e.nByteLength)}function M(R,v,k=E){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:D,extraEntropy:$}=k;B==null&&(B=!0),R=ea("msgHash",R),Ude(k),D&&(R=ea("prehashed msgHash",x(R)));const W=w(R),L=u(v),U=[P(L),P(W)];if($!=null&&$!==!1){const Y=$===!0?C(t.BYTES):$;U.push(ea("extraEntropy",Y))}const G=dS(...U),J=W;function Q(Y){const X=A(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===_y)return;const ne=o(re*o(J+ee*L));if(ne===_y)return;let ve=(se.x===ee?0:2)|Number(se.y&da),_e=ne;return B&&h(ne)&&(_e=m(ne),ve^=1),new g(ee,_e,ve)}return{seed:G,k2sig:Q}}const E={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function z(R,v,k=E){const{seed:x,k2sig:C}=M(R,v,k),B=e;return YAe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function O(R,v,k,x=T){var se;const C=R;if(v=ea("msgHash",v),k=ea("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Ude(x);const{lowS:B,prehash:D}=x;let $,W;try{if(typeof C=="string"||uS(C))try{$=g.fromDER(C)}catch(ee){if(!(ee instanceof w1.Err))throw ee;$=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;$=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&$.hasHighS())return!1;D&&(v=e.hash(v));const{r:L,s:U}=$,G=w(v),J=a(U),Q=o(G*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:z,verify:O,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function VZe(n){return{hash:n,hmac:(e,...t)=>cwe(n,e,mYe(...t)),randomBytes:WAe}}function qZe(n,e){const t=r=>UZe({...n,...VZe(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uwe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qde=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jZe=BigInt(1),y9=BigInt(2),jde=(n,e)=>(n+e/y9)/e;function HZe(n){const e=uwe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=eo(l,t,e)*l%e,y=eo(d,t,e)*l%e,h=eo(y,y9,e)*u%e,m=eo(h,s,e)*h%e,f=eo(m,i,e)*m%e,g=eo(f,a,e)*f%e,b=eo(g,c,e)*g%e,S=eo(b,a,e)*f%e,p=eo(S,t,e)*l%e,I=eo(p,o,e)*m%e,A=eo(I,r,e)*u%e,w=eo(A,y9,e);if(!p9.eql(p9.sqr(w),n))throw new Error("Cannot find square root");return w}const p9=JAe(uwe,void 0,void 0,{sqrt:HZe}),uK=qZe({a:BigInt(0),b:BigInt(7),Fp:p9,n:qde,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=qde,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-jZe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=jde(i*n,e),c=jde(-r*n,e);let u=gi(n-a*t-c*s,e),l=gi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},m9);BigInt(0);uK.ProjectivePoint;const GZe=Hx.utils.randomPrivateKey,Hde=()=>{const n=Hx.utils.randomPrivateKey(),e=uO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},uO=Hx.getPublicKey;function Gde(n){try{return Hx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const CY=(n,e)=>Hx.sign(n,e.slice(0,32)),YZe=Hx.verify,Qr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class MY{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(rm($2,this))}static decode(e){return nm($2,this,e)}static decodeUnchecked(e){return sm($2,this,e)}}class ZZe extends MY{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const $2=new Map;var lwe;const dwe=32,Wf=32;function JZe(n){return n._bn!==void 0}let Yde=1;class nt extends MY{constructor(e){if(super({}),this._bn=void 0,JZe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Wf)throw new Error("Invalid public key input");this._bn=new ki(t)}else this._bn=new ki(e);if(this._bn.byteLength()>Wf)throw new Error("Invalid public key input")}}static unique(){const e=new nt(Yde);return Yde+=1,new nt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Wf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=m9(s);return new nt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>dwe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Qr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=m9(r);if(Gde(s))throw new Error("Invalid seeds, address must fall off the curve");return new nt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new nt(e);return Gde(t.toBytes())}}lwe=nt;nt.default=new lwe("11111111111111111111111111111111");$2.set(nt,{kind:"struct",fields:[["_bn","u256"]]});class XZe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Qr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Qr(GZe()),this._publicKey=Qr(uO(this._secretKey))}get publicKey(){return new nt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const QZe=new nt("BPFLoader1111111111111111111111111111111111"),Uy=1280-40-8,lK=127,vM=64;class BY extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(BY.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class zY extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(zY.prototype,"name",{value:"TransactionExpiredTimeoutError"});class _v extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(_v.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class AM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const bn=(n="publicKey")=>ie(32,n),eJe=(n="signature")=>ie(64,n),I1=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Vt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},tJe=(n="authorized")=>N([bn("staker"),bn("withdrawer")],n),rJe=(n="lockup")=>N([Pe("unixTimestamp"),Pe("epoch"),bn("custodian")],n),nJe=(n="voteInit")=>N([bn("nodePubkey"),bn("authorizedVoter"),bn("authorizedWithdrawer"),te("commission")],n),sJe=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),bn("currentAuthorityDerivedKeyOwnerPubkey"),I1("currentAuthorityDerivedKeySeed"),bn("newAuthorized")],n);function fwe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return fwe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function su(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Ku(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Wn(n,e){if(!n)throw new Error(e||"Assertion failed")}class dK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new dK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Wn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Wn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Wn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new nt(c)),...r.map(([c])=>new nt(c)),...s.map(([c])=>new nt(c)),...i.map(([c])=>new nt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new nt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Wn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const hwe="Reached end of buffer unexpectedly";function yf(n){if(n.length===0)throw new Error(hwe);return n.shift()}function iu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(hwe);return n.splice(...e)}class pd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new nt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new AM(this.staticAccountKeys)}static compile(e){const t=dK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new AM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new pd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Ku(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Ku(f,y.length);let g=[];return Ku(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Ku(s,r.length);let i=V.Buffer.alloc(Uy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(bn("key"),e,"keys"),bn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Qr(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=yf(t);if(r!==(r&lK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=yf(t),i=yf(t),o=su(t);let a=[];for(let y=0;y<o;y++){const h=iu(t,0,Wf);a.push(new nt(V.Buffer.from(h)))}const c=iu(t,0,Wf),u=su(t);let l=[];for(let y=0;y<u;y++){const h=yf(t),m=su(t),f=iu(t,0,m),g=su(t),b=iu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new pd(d)}}class fS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new AM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=dK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new AM(a,s).compileInstructions(e.instructions);return new fS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Ku(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Ku(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Ku(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(bn(),this.staticAccountKeys.length,"staticAccountKeys"),bn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Uy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Uy);for(const r of this.compiledInstructions){const s=Array();Ku(s,r.accountKeyIndexes.length);const i=Array();Ku(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Uy);for(const r of this.addressTableLookups){const s=Array();Ku(s,r.writableIndexes.length);const i=Array();Ku(i,r.readonlyIndexes.length),e+=N([bn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=yf(t),s=r&lK;Wn(r!==s,"Expected versioned message but received legacy message");const i=s;Wn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:yf(t),numReadonlySignedAccounts:yf(t),numReadonlyUnsignedAccounts:yf(t)},a=[],c=su(t);for(let m=0;m<c;m++)a.push(new nt(iu(t,0,Wf)));const u=Ie.encode(iu(t,0,Wf)),l=su(t),d=[];for(let m=0;m<l;m++){const f=yf(t),g=su(t),b=iu(t,0,g),S=su(t),p=new Uint8Array(iu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=su(t),h=[];for(let m=0;m<y;m++){const f=new nt(iu(t,0,Wf)),g=su(t),b=iu(t,0,g),S=su(t),p=iu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new fS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const $Y={deserializeMessageVersion(n){const e=n[0],t=e&lK;return t===e?"legacy":t},deserialize:n=>{const e=$Y.deserializeMessageVersion(n);if(e==="legacy")return pd.from(n);if(e===0)return fS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let yg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const iJe=V.Buffer.alloc(vM).fill(0);class Ss{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Hn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ss(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new nt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Wn(f.programIdIndex>=0),f.accounts.forEach(g=>Wn(g>=0))}),new pd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=CY(r,s.secretKey);this._addSignature(s.publicKey,Qr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Wn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):YZe(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Ku(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Wn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Wn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Wn(i.length<=Uy,`Transaction too large: ${i.length} > ${Uy}`),i}get keys(){return Wn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Wn(this.instructions.length===1),this.instructions[0].programId}get data(){return Wn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=su(t);let s=[];for(let i=0;i<r;i++){const o=iu(t,0,vM);s.push(Ie.encode(V.Buffer.from(o)))}return Hn.populate(pd.from(t),s)}static populate(e,t=[]){const r=new Hn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(iJe)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ss({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class DY{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Wn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Wn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Ss({programId:g,data:Qr(m.data),keys:f}))}return new DY({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return pd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return fS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class OY{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Wn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(vM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Ku(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(eJe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=su(t);for(let o=0;o<s;o++)r.push(new Uint8Array(iu(t,0,vM)));const i=$Y.deserialize(new Uint8Array(t));return new OY(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Wn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=CY(t,s.secretKey)}}addSignature(e,t){Wn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Wn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const oJe=160,aJe=64,cJe=oJe/aJe,gwe=1e3/cJe,tf=new nt("SysvarC1ock11111111111111111111111111111111"),uJe=new nt("SysvarEpochSchedu1e111111111111111111111111"),lJe=new nt("Sysvar1nstructions1111111111111111111111111"),bD=new nt("SysvarRecentB1ockHashes11111111111111111111"),OA=new nt("SysvarRent111111111111111111111111111111111"),dJe=new nt("SysvarRewards111111111111111111111111111111"),fJe=new nt("SysvarS1otHashes111111111111111111111111111"),hJe=new nt("SysvarS1otHistory11111111111111111111111111"),SD=new nt("SysvarStakeHistory1111111111111111111111111");class wM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const gJe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Yt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function b9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new wM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function e1(n){return new Promise(e=>setTimeout(e,n))}function Tn(n,e){const t=n.layout.span>=0?n.layout.span:fwe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function rs(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const mwe=Ae("lamportsPerSignature"),ywe=N([F("version"),F("state"),bn("authorizedPubkey"),bn("nonce"),N([mwe],"feeCalculator")]),S9=ywe.span;class fK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=ywe.decode(Qr(e),0);return new fK({authorizedPubkey:new nt(t.authorizedPubkey),nonce:new nt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const mJe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},yJe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=mJe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return im(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=rc(o,n);return r(u,a,c)},i},KA=yJe(8);class pJe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ds))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=rs(Ds.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new nt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=rs(Ds.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=rs(Ds.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new nt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=rs(Ds.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=rs(Ds.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(t),seed:r,space:s,programId:new nt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=rs(Ds.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new nt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=rs(Ds.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(t),seed:r,programId:new nt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=rs(Ds.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new nt(t),seed:r,lamports:s,space:i,programId:new nt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=rs(Ds.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new nt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(Ds.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=rs(Ds.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=rs(Ds.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new nt(t)}}static checkProgramId(e){if(!e.equals(La.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ds=Object.freeze({Create:{index:0,layout:N([F("instruction"),Pe("lamports"),Pe("space"),bn("programId")])},Assign:{index:1,layout:N([F("instruction"),bn("programId")])},Transfer:{index:2,layout:N([F("instruction"),KA("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),bn("base"),I1("seed"),Pe("lamports"),Pe("space"),bn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Pe("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),bn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),bn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Pe("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),bn("base"),I1("seed"),Pe("space"),bn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),bn("base"),I1("seed"),bn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),KA("lamports"),I1("seed"),bn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class La{constructor(){}static createAccount(e){const t=Ds.Create,r=Tn(t,{lamports:e.lamports,space:e.space,programId:Qr(e.programId.toBuffer())});return new Ss({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ds.TransferWithSeed;t=Tn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ds.Transfer;t=Tn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ss({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ds.AssignWithSeed;t=Tn(s,{base:Qr(e.basePubkey.toBuffer()),seed:e.seed,programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ds.Assign;t=Tn(s,{programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ss({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ds.CreateWithSeed,r=Tn(t,{base:Qr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Qr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ss({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Hn;"basePubkey"in e&&"seed"in e?t.add(La.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:S9,programId:this.programId})):t.add(La.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:S9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ds.InitializeNonceAccount,r=Tn(t,{authorized:Qr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bD,isSigner:!1,isWritable:!1},{pubkey:OA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ss(s)}static nonceAdvance(e){const t=Ds.AdvanceNonceAccount,r=Tn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:bD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ss(s)}static nonceWithdraw(e){const t=Ds.WithdrawNonceAccount,r=Tn(t,{lamports:e.lamports});return new Ss({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:bD,isSigner:!1,isWritable:!1},{pubkey:OA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ds.AuthorizeNonceAccount,r=Tn(t,{authorized:Qr(e.newAuthorizedPubkey.toBuffer())});return new Ss({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ds.AllocateWithSeed;t=Tn(s,{base:Qr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ds.Allocate;t=Tn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ss({keys:r,programId:this.programId,data:t})}}La.programId=new nt("11111111111111111111111111111111");const bJe=Uy-300;class hS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/hS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Hn,h.add(La.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Hn,h.add(La.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Hn,h.add(La.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Hn().add(La.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await b9(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Vt(F(),-8),"bytes")]),a=hS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Hn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(b9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await e1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Hn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:OA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(gwe/2)))}}return!0}}hS.chunkSize=bJe;const SJe=new nt("BPFLoader2111111111111111111111111111111111");class kJe{static getMinNumSignatures(e){return hS.getMinNumSignatures(e)}static load(e,t,r,s,i){return hS.load(e,t,r,i,s)}}function vJe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xW,Zde;function AJe(){if(Zde)return xW;Zde=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return xW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},xW}var wJe=AJe(),Jde=vJe(wJe);const AR=32;function TW(n){let e=0;for(;n>1;)n/=2,e++;return e}function IJe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class pwe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=TW(IJe(e+AR+1))-TW(AR)-1,r=this.getSlotsInEpoch(t),s=e-(r-AR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*AR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+TW(AR)):this.slotsPerEpoch}}var _Je=globalThis.fetch;class PJe extends Tb{constructor(e,t,r){const s=i=>{const o=Cb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function EJe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Xde=56;class k9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=EJe(xJe,e),r=e.length-Xde;Wn(r>=0,"lookup table is invalid"),Wn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(bn(),s,"addresses")]).decode(e.slice(Xde));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new nt(t.authority[0]):void 0,addresses:i.map(o=>new nt(o))}}}const xJe={index:1,layout:N([F("typeIndex"),KA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(bn(),Vt(te(),-1),"authority")])},TJe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function RJe(n){const e=n.match(TJe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Ui=ZB(xY(nt),He(),n=>new nt(n)),bwe=TY([He(),Pi("base64")]),KY=ZB(xY(V.Buffer),bwe,n=>V.Buffer.from(n[0],"base64")),Swe=30*1e3;function CJe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Es(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Qde(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function kwe(n){return Cc([Re({jsonrpc:Pi("2.0"),id:He(),result:n}),Re({jsonrpc:Pi("2.0"),id:He(),error:Re({code:Gx(),message:He(),data:dr(EZe())})})])}const MJe=kwe(Gx());function Vr(n){return ZB(kwe(n),MJe,e=>"error"in e?e:{...e,result:gt(e.result,n)})}function fo(n){return Vr(Re({context:Re({slot:ge()}),value:n}))}function hK(n){return Re({context:Re({slot:ge()}),value:n})}function RW(n,e){return n===0?new fS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new nt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new pd(e)}const BJe=Re({foundation:ge(),foundationTerm:ge(),initial:ge(),taper:ge(),terminal:ge()}),zJe=Vr(At(Rt(Re({epoch:ge(),effectiveSlot:ge(),amount:ge(),postBalance:ge(),commission:dr(Rt(ge()))})))),$Je=At(Re({slot:ge(),prioritizationFee:ge()})),DJe=Re({total:ge(),validator:ge(),foundation:ge(),epoch:ge()}),OJe=Re({epoch:ge(),slotIndex:ge(),slotsInEpoch:ge(),absoluteSlot:ge(),blockHeight:dr(ge()),transactionCount:dr(ge())}),KJe=Re({slotsPerEpoch:ge(),leaderScheduleSlotOffset:ge(),warmup:Qf(),firstNormalEpoch:ge(),firstNormalSlot:ge()}),LJe=nwe(He(),At(ge())),nk=Rt(Cc([Re({}),He()])),WJe=Re({err:nk}),NJe=Pi("receivedSignature"),FJe=Re({"solana-core":He(),"feature-set":dr(ge())}),UJe=Re({program:He(),programId:Ui,parsed:Gx()}),VJe=Re({programId:Ui,accounts:At(Ui),data:He()}),efe=fo(Re({err:Rt(Cc([Re({}),He()])),logs:Rt(At(He())),accounts:dr(Rt(At(Rt(Re({executable:Qf(),owner:He(),lamports:ge(),data:At(He()),rentEpoch:dr(ge())}))))),unitsConsumed:dr(ge()),returnData:dr(Rt(Re({programId:He(),data:TY([He(),Pi("base64")])}))),innerInstructions:dr(Rt(At(Re({index:ge(),instructions:At(Cc([UJe,VJe]))}))))})),qJe=fo(Re({byIdentity:nwe(He(),At(ge())),range:Re({firstSlot:ge(),lastSlot:ge()})}));function jJe(n,e,t,r,s,i){const o=t||_Je;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Rb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},HXe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await e1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function HJe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function GJe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const YJe=Vr(BJe),ZJe=Vr(DJe),JJe=Vr($Je),XJe=Vr(OJe),QJe=Vr(KJe),eXe=Vr(LJe),tXe=Vr(ge()),rXe=fo(Re({total:ge(),circulating:ge(),nonCirculating:ge(),nonCirculatingAccounts:At(Ui)})),v9=Re({amount:He(),uiAmount:Rt(ge()),decimals:ge(),uiAmountString:dr(He())}),nXe=fo(At(Re({address:Ui,amount:He(),uiAmount:Rt(ge()),decimals:ge(),uiAmountString:dr(He())}))),sXe=fo(At(Re({pubkey:Ui,account:Re({executable:Qf(),owner:Ui,lamports:ge(),data:KY,rentEpoch:ge()})}))),A9=Re({program:He(),parsed:Gx(),space:ge()}),iXe=fo(At(Re({pubkey:Ui,account:Re({executable:Qf(),owner:Ui,lamports:ge(),data:A9,rentEpoch:ge()})}))),oXe=fo(At(Re({lamports:ge(),address:Ui}))),IM=Re({executable:Qf(),owner:Ui,lamports:ge(),data:KY,rentEpoch:ge()}),aXe=Re({pubkey:Ui,account:IM}),cXe=ZB(Cc([xY(V.Buffer),A9]),Cc([bwe,A9]),n=>Array.isArray(n)?gt(n,KY):n),w9=Re({executable:Qf(),owner:Ui,lamports:ge(),data:cXe,rentEpoch:ge()}),uXe=Re({pubkey:Ui,account:w9}),lXe=Re({state:Cc([Pi("active"),Pi("inactive"),Pi("activating"),Pi("deactivating")]),active:ge(),inactive:ge()}),dXe=Vr(At(Re({signature:He(),slot:ge(),err:nk,memo:Rt(He()),blockTime:dr(Rt(ge()))}))),fXe=Vr(At(Re({signature:He(),slot:ge(),err:nk,memo:Rt(He()),blockTime:dr(Rt(ge()))}))),hXe=Re({subscription:ge(),result:hK(IM)}),gXe=Re({pubkey:Ui,account:IM}),mXe=Re({subscription:ge(),result:hK(gXe)}),yXe=Re({parent:ge(),slot:ge(),root:ge()}),pXe=Re({subscription:ge(),result:yXe}),bXe=Cc([Re({type:Cc([Pi("firstShredReceived"),Pi("completed"),Pi("optimisticConfirmation"),Pi("root")]),slot:ge(),timestamp:ge()}),Re({type:Pi("createdBank"),parent:ge(),slot:ge(),timestamp:ge()}),Re({type:Pi("frozen"),slot:ge(),timestamp:ge(),stats:Re({numTransactionEntries:ge(),numSuccessfulTransactions:ge(),numFailedTransactions:ge(),maxTransactionsPerEntry:ge()})}),Re({type:Pi("dead"),slot:ge(),timestamp:ge(),err:He()})]),SXe=Re({subscription:ge(),result:bXe}),kXe=Re({subscription:ge(),result:hK(Cc([WJe,NJe]))}),vXe=Re({subscription:ge(),result:ge()}),AXe=Re({pubkey:He(),gossip:Rt(He()),tpu:Rt(He()),rpc:Rt(He()),version:Rt(He())}),tfe=Re({votePubkey:He(),nodePubkey:He(),activatedStake:ge(),epochVoteAccount:Qf(),epochCredits:At(TY([ge(),ge(),ge()])),commission:ge(),lastVote:ge(),rootSlot:Rt(ge())}),wXe=Vr(Re({current:At(tfe),delinquent:At(tfe)})),IXe=Cc([Pi("processed"),Pi("confirmed"),Pi("finalized")]),_Xe=Re({slot:ge(),confirmations:Rt(ge()),err:nk,confirmationStatus:dr(IXe)}),PXe=fo(At(Rt(_Xe))),EXe=Vr(ge()),vwe=Re({accountKey:Ui,writableIndexes:At(ge()),readonlyIndexes:At(ge())}),LY=Re({signatures:At(He()),message:Re({accountKeys:At(He()),header:Re({numRequiredSignatures:ge(),numReadonlySignedAccounts:ge(),numReadonlyUnsignedAccounts:ge()}),instructions:At(Re({accounts:At(ge()),data:He(),programIdIndex:ge()})),recentBlockhash:He(),addressTableLookups:dr(At(vwe))})}),Awe=Re({pubkey:Ui,signer:Qf(),writable:Qf(),source:dr(Cc([Pi("transaction"),Pi("lookupTable")]))}),wwe=Re({accountKeys:At(Awe),signatures:At(He())}),Iwe=Re({parsed:Gx(),program:He(),programId:Ui}),_we=Re({accounts:At(Ui),data:He(),programId:Ui}),xXe=Cc([_we,Iwe]),TXe=Cc([Re({parsed:Gx(),program:He(),programId:He()}),Re({accounts:At(He()),data:He(),programId:He()})]),Pwe=ZB(xXe,TXe,n=>"accounts"in n?gt(n,_we):gt(n,Iwe)),Ewe=Re({signatures:At(He()),message:Re({accountKeys:At(Awe),instructions:At(Pwe),recentBlockhash:He(),addressTableLookups:dr(Rt(At(vwe)))})}),lO=Re({accountIndex:ge(),mint:He(),owner:dr(He()),programId:dr(He()),uiTokenAmount:v9}),xwe=Re({writable:At(Ui),readonly:At(Ui)}),gK=Re({err:nk,fee:ge(),innerInstructions:dr(Rt(At(Re({index:ge(),instructions:At(Re({accounts:At(ge()),data:He(),programIdIndex:ge()}))})))),preBalances:At(ge()),postBalances:At(ge()),logMessages:dr(Rt(At(He()))),preTokenBalances:dr(Rt(At(lO))),postTokenBalances:dr(Rt(At(lO))),loadedAddresses:dr(xwe),computeUnitsConsumed:dr(ge())}),WY=Re({err:nk,fee:ge(),innerInstructions:dr(Rt(At(Re({index:ge(),instructions:At(Pwe)})))),preBalances:At(ge()),postBalances:At(ge()),logMessages:dr(Rt(At(He()))),preTokenBalances:dr(Rt(At(lO))),postTokenBalances:dr(Rt(At(lO))),loadedAddresses:dr(xwe),computeUnitsConsumed:dr(ge())}),Yx=Cc([Pi(0),Pi("legacy")]),sk=Re({pubkey:He(),lamports:ge(),postBalance:Rt(ge()),rewardType:Rt(He()),commission:dr(Rt(ge()))}),RXe=Vr(Rt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:ge(),transactions:At(Re({transaction:LY,meta:Rt(gK),version:dr(Yx)})),rewards:dr(At(sk)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),CXe=Vr(Rt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:ge(),rewards:dr(At(sk)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),MXe=Vr(Rt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:ge(),transactions:At(Re({transaction:wwe,meta:Rt(gK),version:dr(Yx)})),rewards:dr(At(sk)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),BXe=Vr(Rt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:ge(),transactions:At(Re({transaction:Ewe,meta:Rt(WY),version:dr(Yx)})),rewards:dr(At(sk)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),zXe=Vr(Rt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:ge(),transactions:At(Re({transaction:wwe,meta:Rt(WY),version:dr(Yx)})),rewards:dr(At(sk)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),$Xe=Vr(Rt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:ge(),rewards:dr(At(sk)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),DXe=Vr(Rt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:ge(),transactions:At(Re({transaction:LY,meta:Rt(gK)})),rewards:dr(At(sk)),blockTime:Rt(ge())}))),rfe=Vr(Rt(Re({blockhash:He(),previousBlockhash:He(),parentSlot:ge(),signatures:At(He()),blockTime:Rt(ge())}))),CW=Vr(Rt(Re({slot:ge(),meta:Rt(gK),blockTime:dr(Rt(ge())),transaction:LY,version:dr(Yx)}))),h$=Vr(Rt(Re({slot:ge(),transaction:Ewe,meta:Rt(WY),blockTime:dr(Rt(ge())),version:dr(Yx)}))),OXe=fo(Re({blockhash:He(),feeCalculator:Re({lamportsPerSignature:ge()})})),KXe=fo(Re({blockhash:He(),lastValidBlockHeight:ge()})),LXe=fo(Qf()),WXe=Re({slot:ge(),numTransactions:ge(),numSlots:ge(),samplePeriodSecs:ge()}),NXe=Vr(At(WXe)),FXe=fo(Rt(Re({feeCalculator:Re({lamportsPerSignature:ge()})}))),UXe=Vr(He()),VXe=Vr(He()),qXe=Re({err:nk,logs:At(He()),signature:He()}),jXe=Re({result:hK(qXe),subscription:ge()}),HXe={"solana-client":"js/1.0.0-maintenance"};class GXe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Es(l),h=this._buildArgs([],d,void 0,y),m=Jde(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=gt(f,Vr(ge()));if("error"in g)throw new Yt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=CJe(e),this._rpcWsEndpoint=r||RJe(e),this._rpcClient=jJe(e,s,i,o,a,c),this._rpcRequest=HJe(this._rpcClient),this._rpcBatchRequest=GJe(this._rpcClient),this._rpcWebSocket=new PJe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=gt(o,fo(ge()));if("error"in a)throw new Yt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=gt(t,Vr(Rt(ge())));if("error"in r)throw new Yt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=gt(e,Vr(ge()));if("error"in t)throw new Yt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=gt(e,tXe);if("error"in t)throw new Yt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=gt(r,rXe);if("error"in s)throw new Yt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=gt(s,fo(v9));if("error"in i)throw new Yt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=gt(s,fo(v9));if("error"in i)throw new Yt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Es(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=gt(c,sXe);if("error"in u)throw new Yt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=gt(o,iXe);if("error"in a)throw new Yt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=gt(s,oXe);if("error"in i)throw new Yt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=gt(s,nXe);if("error"in i)throw new Yt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=gt(o,fo(Rt(IM)));if("error"in a)throw new Yt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=gt(o,fo(Rt(w9)));if("error"in a)throw new Yt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Es(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=gt(a,fo(At(Rt(w9))));if("error"in c)throw new Yt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Es(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=gt(a,fo(At(Rt(IM))));if("error"in c)throw new Yt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Es(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=gt(a,Vr(lXe));if("error"in c)throw new Yt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Es(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Qde(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=At(aXe),l=o.withContext===!0?gt(c,fo(u)):gt(c,Vr(u));if("error"in l)throw new Yt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=gt(o,Vr(At(uXe)));if("error"in a)throw new Yt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Wn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:yg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:yg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await e1(1e3),i||(h=await y(),i))return;d({__type:yg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===yg.PROCESSED)l=d.response;else throw new BY(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:yg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await e1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===yg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await e1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new _v(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new _v(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new _v(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new _v(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:yg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===yg.PROCESSED)a=c.response;else throw new zY(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=gt(e,Vr(At(AXe)));if("error"in t)throw new Yt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=gt(r,wXe);if("error"in s)throw new Yt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=gt(i,Vr(ge()));if("error"in o)throw new Yt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=gt(i,Vr(He()));if("error"in o)throw new Yt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=gt(s,Vr(At(Ui)));if("error"in i)throw new Yt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Wn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=gt(s,PXe);if("error"in i)throw new Yt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=gt(i,Vr(ge()));if("error"in o)throw new Yt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=gt(r,YJe);if("error"in s)throw new Yt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Es(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=gt(a,zJe);if("error"in c)throw new Yt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=gt(e,ZJe);if("error"in t)throw new Yt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=gt(i,XJe);if("error"in o)throw new Yt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=gt(e,QJe);if("error"in t)throw new Yt(t.error,"failed to get epoch schedule");const r=t.result;return new pwe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=gt(e,eXe);if("error"in t)throw new Yt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=gt(s,EXe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=gt(r,OXe);if("error"in s)throw new Yt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=gt(t,NXe);if("error"in r)throw new Yt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=gt(s,FXe);if("error"in i)throw new Yt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Qr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=gt(i,fo(Rt(ge())));if("error"in o)throw new Yt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=gt(s,JJe);if("error"in i)throw new Yt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=gt(i,KXe);if("error"in o)throw new Yt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=gt(o,LXe);if("error"in a)throw new Yt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=gt(e,Vr(FJe));if("error"in t)throw new Yt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=gt(e,Vr(He()));if("error"in t)throw new Yt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=gt(o,MXe);if("error"in a)throw a.error;return a.result}case"none":{const a=gt(o,CXe);if("error"in a)throw a.error;return a.result}default:{const a=gt(o,RXe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:RW(d,u.message)},version:d}))}:null}}}catch(a){throw new Yt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=gt(o,zXe);if("error"in a)throw a.error;return a.result}case"none":{const a=gt(o,$Xe);if("error"in a)throw a.error;return a.result}default:{const a=gt(o,BXe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Yt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=gt(i,qJe);if("error"in o)throw new Yt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=gt(o,CW);if("error"in a)throw new Yt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:RW(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=gt(o,h$);if("error"in a)throw new Yt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Es(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=gt(c,h$);if("error"in u)throw new Yt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Es(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=gt(c,CW);if("error"in u)throw new Yt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:RW(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=gt(s,DXe);if("error"in i)throw new Yt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new pd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Hn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=gt(i,Vr(At(ge())));if("error"in o)throw new Yt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=gt(s,rfe);if("error"in i)throw new Yt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=gt(s,rfe);if("error"in i)throw new Yt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=gt(s,CW);if("error"in i)throw new Yt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new pd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Hn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=gt(s,h$);if("error"in i)throw new Yt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=gt(o,h$);if("error"in a)throw new Yt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=gt(i,dXe);if("error"in o)throw new Yt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=gt(i,fXe);if("error"in o)throw new Yt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new k9({key:e,state:k9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=fK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=gt(r,UXe);if("error"in s)throw new Yt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await e1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Swe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await e1(gwe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=gt(i,fo(ge()));if("error"in o)throw new Yt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=gt(p,efe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Hn){let m=e;s=new Hn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Hn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=gt(y,efe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new wM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Qr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=gt(a,VXe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new wM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=gt(e,hXe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Jde([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Wn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Es(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=gt(e,mXe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Es(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Qde(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=gt(e,jXe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=gt(e,pXe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=gt(e,SXe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=gt(e,kXe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=gt(e,vXe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Yv{constructor(e){this._keypair=void 0,this._keypair=e??Hde()}static generate(){return new Yv(Hde())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=uO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Yv({publicKey:r,secretKey:e})}static fromSeed(e){const t=uO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Yv({publicKey:t,secretKey:r})}get publicKey(){return new nt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Cg=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),KA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),KA(),we(bn(),Vt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class YXe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Cg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=rs(Cg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=rs(Cg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new nt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(NY.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class NY{constructor(){}static createLookupTable(e){const[t,r]=nt.findProgramAddressSync([e.authority.toBuffer(),rc(BigInt(e.recentSlot),8)],this.programId),s=Cg.CreateLookupTable,i=Tn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:La.programId,isSigner:!1,isWritable:!1}];return[new Ss({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Cg.FreezeLookupTable,r=Tn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ss({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Cg.ExtendLookupTable,r=Tn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:La.programId,isSigner:!1,isWritable:!1}),new Ss({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Cg.DeactivateLookupTable,r=Tn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ss({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Cg.CloseLookupTable,r=Tn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ss({programId:this.programId,keys:s,data:r})}}NY.programId=new nt("AddressLookupTab1e1111111111111111111111111");class ZXe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(pf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=rs(pf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=rs(pf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=rs(pf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=rs(pf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(FY.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const pf=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),KA("microLamports")])}});class FY{constructor(){}static requestUnits(e){const t=pf.RequestUnits,r=Tn(t,e);return new Ss({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=pf.RequestHeapFrame,r=Tn(t,e);return new Ss({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=pf.SetComputeUnitLimit,r=Tn(t,e);return new Ss({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=pf.SetComputeUnitPrice,r=Tn(t,{microLamports:BigInt(e.microLamports)});return new Ss({keys:[],programId:this.programId,data:r})}}FY.programId=new nt("ComputeBudget111111111111111111111111111111");const nfe=64,sfe=32,ife=64,ofe=N([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class mK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Wn(t.length===sfe,`Public Key must be ${sfe} bytes but received ${t.length} bytes`),Wn(s.length===ife,`Signature must be ${ife} bytes but received ${s.length} bytes`);const o=ofe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return ofe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Ss({keys:[],programId:mK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Wn(t.length===nfe,`Private key must be ${nfe} bytes but received ${t.length} bytes`);try{const i=Yv.fromSecretKey(t),o=i.publicKey.toBytes(),a=CY(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}mK.programId=new nt("Ed25519SigVerify111111111111111111111111111");const JXe=(n,e)=>{const t=uK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};uK.utils.isValidPrivateKey;const XXe=uK.getPublicKey,afe=32,MW=20,cfe=64,QXe=11,BW=N([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Zv{constructor(){}static publicKeyToEthAddress(e){Wn(e.length===cfe,`Public key must be ${cfe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Fde(Qr(e))).slice(-MW)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Zv.createInstructionWithEthAddress({ethAddress:Zv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Wn(a.length===MW,`Address must be ${MW} bytes but received ${a.length} bytes`);const c=1+QXe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(BW.span+r.length);return BW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Qr(s),ethAddress:Qr(a),recoveryId:i},h),h.fill(Qr(r),BW.span),new Ss({keys:[],programId:Zv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Wn(t.length===afe,`Private key must be ${afe} bytes but received ${t.length} bytes`);try{const i=Qr(t),o=XXe(i,!1).slice(1),a=V.Buffer.from(Fde(Qr(r))),[c,u]=JXe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Zv.programId=new nt("KeccakSecp256k11111111111111111111111111111");var Twe;const Rwe=new nt("StakeConfig11111111111111111111111111111111");class Cwe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class JB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Twe=JB;JB.default=new Twe(0,0,nt.default);class eQe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ka))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=rs(ka.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Cwe(new nt(t.staker),new nt(t.withdrawer)),lockup:new JB(r.unixTimestamp,r.epoch,new nt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),rs(ka.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=rs(ka.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=rs(ka.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new nt(i),newAuthorizedPubkey:new nt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=rs(ka.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(ka.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=rs(ka.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(ka.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(yK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ka=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),tJe(),rJe()])},Authorize:{index:1,layout:N([F("instruction"),bn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Pe("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Pe("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),bn("newAuthorized"),F("stakeAuthorizationType"),I1("authoritySeed"),bn("authorityOwner")])}}),tQe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class yK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||JB.default,o=ka.Initialize,a=Tn(o,{authorized:{staker:Qr(r.staker.toBuffer()),withdrawer:Qr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Qr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:OA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ss(c)}static createAccountWithSeed(e){const t=new Hn;t.add(La.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Hn;t.add(La.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=ka.Delegate,o=Tn(i);return new Hn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:tf,isSigner:!1,isWritable:!1},{pubkey:SD,isSigner:!1,isWritable:!1},{pubkey:Rwe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=ka.Authorize,c=Tn(a,{newAuthorized:Qr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:tf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Hn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=ka.AuthorizeWithSeed,l=Tn(u,{newAuthorized:Qr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Qr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:tf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Hn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=ka.Split,a=Tn(o,{lamports:i});return new Ss({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Hn;return r.add(La.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Hn;return u.add(La.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(La.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=ka.Merge,o=Tn(i);return new Hn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:tf,isSigner:!1,isWritable:!1},{pubkey:SD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=ka.Withdraw,c=Tn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:tf,isSigner:!1,isWritable:!1},{pubkey:SD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Hn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=ka.Deactivate,i=Tn(s);return new Hn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:tf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}yK.programId=new nt("Stake11111111111111111111111111111111111111");yK.space=200;class Mwe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class rQe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(bf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=rs(bf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Mwe(new nt(t.nodePubkey),new nt(t.authorizedVoter),new nt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=rs(bf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=rs(bf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new nt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new nt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=rs(bf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Zx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const bf=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),nJe()])},Authorize:{index:1,layout:N([F("instruction"),bn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Pe("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),sJe()])}}),nQe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Zx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=bf.InitializeAccount,o=Tn(i,{voteInit:{nodePubkey:Qr(s.nodePubkey.toBuffer()),authorizedVoter:Qr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Qr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:OA,isSigner:!1,isWritable:!1},{pubkey:tf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ss(a)}static createAccount(e){const t=new Hn;return t.add(La.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=bf.Authorize,a=Tn(o,{newAuthorized:Qr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:tf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=bf.AuthorizeWithSeed,u=Tn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Qr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Qr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:tf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Hn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=bf.Withdraw,a=Tn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Zx.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=bf.UpdateValidatorIdentity,o=Tn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:a,programId:this.programId,data:o})}}Zx.programId=new nt("Vote111111111111111111111111111111111111111");Zx.space=3762;const Bwe=new nt("Va1idator1nfo111111111111111111111111111111"),sQe=Re({name:He(),website:dr(He()),details:dr(He()),iconUrl:dr(He()),keybaseUsername:dr(He())});class UY{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(su(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new nt(iu(t,0,Wf)),a=yf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(Bwe)&&s[1].isSigner){const i=I1().decode(V.Buffer.from(t)),o=JSON.parse(i);return twe(o,sQe),new UY(s[1].publicKey,o)}return null}}const iQe=new nt("Vote111111111111111111111111111111111111111"),oQe=N([bn("nodePubkey"),bn("authorizedWithdrawer"),te("commission"),Ae(),we(N([Ae("slot"),F("confirmationCount")]),Vt(F(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(N([Ae("epoch"),bn("authorizedVoter")]),Vt(F(),-8),"authorizedVoters"),N([we(N([bn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(N([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(F(),-8),"epochCredits"),N([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class VY{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=oQe.decode(Qr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new VY({nodePubkey:new nt(r.nodePubkey),authorizedWithdrawer:new nt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(aQe),priorVoters:cQe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function aQe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new nt(n)}}function ufe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new nt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function cQe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(ufe),...n.slice(0,e).map(ufe)]}const lfe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function uQe(n,e){const t=e===!1?"http":"https";if(!n)return lfe[t].devnet;const r=lfe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function lQe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new wM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const dQe=1e9;var fQe=Object.freeze(Object.defineProperty({__proto__:null,Account:XZe,AddressLookupTableAccount:k9,AddressLookupTableInstruction:YXe,AddressLookupTableProgram:NY,Authorized:Cwe,BLOCKHASH_CACHE_TIMEOUT_MS:Swe,BPF_LOADER_DEPRECATED_PROGRAM_ID:QZe,BPF_LOADER_PROGRAM_ID:SJe,BpfLoader:kJe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:pf,ComputeBudgetInstruction:ZXe,ComputeBudgetProgram:FY,Connection:GXe,Ed25519Program:mK,Enum:ZZe,EpochSchedule:pwe,FeeCalculatorLayout:mwe,Keypair:Yv,LAMPORTS_PER_SOL:dQe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Cg,Loader:hS,Lockup:JB,MAX_SEED_LENGTH:dwe,Message:pd,MessageAccountKeys:AM,MessageV0:fS,NONCE_ACCOUNT_LENGTH:S9,NonceAccount:fK,PACKET_DATA_SIZE:Uy,PUBLIC_KEY_LENGTH:Wf,PublicKey:nt,SIGNATURE_LENGTH_IN_BYTES:vM,SOLANA_SCHEMA:$2,STAKE_CONFIG_ID:Rwe,STAKE_INSTRUCTION_LAYOUTS:ka,SYSTEM_INSTRUCTION_LAYOUTS:Ds,SYSVAR_CLOCK_PUBKEY:tf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:uJe,SYSVAR_INSTRUCTIONS_PUBKEY:lJe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:bD,SYSVAR_RENT_PUBKEY:OA,SYSVAR_REWARDS_PUBKEY:dJe,SYSVAR_SLOT_HASHES_PUBKEY:fJe,SYSVAR_SLOT_HISTORY_PUBKEY:hJe,SYSVAR_STAKE_HISTORY_PUBKEY:SD,Secp256k1Program:Zv,SendTransactionError:wM,SolanaJSONRPCError:Yt,SolanaJSONRPCErrorCode:gJe,StakeAuthorizationLayout:tQe,StakeInstruction:eQe,StakeProgram:yK,Struct:MY,SystemInstruction:pJe,SystemProgram:La,Transaction:Hn,TransactionExpiredBlockheightExceededError:BY,TransactionExpiredNonceInvalidError:_v,TransactionExpiredTimeoutError:zY,TransactionInstruction:Ss,TransactionMessage:DY,TransactionStatus:yg,VALIDATOR_INFO_KEY:Bwe,VERSION_PREFIX_MASK:lK,VOTE_PROGRAM_ID:iQe,ValidatorInfo:UY,VersionedMessage:$Y,VersionedTransaction:OY,VoteAccount:VY,VoteAuthorizationLayout:nQe,VoteInit:Mwe,VoteInstruction:rQe,VoteProgram:Zx,clusterApiUrl:uQe,sendAndConfirmRawTransaction:lQe,sendAndConfirmTransaction:b9},Symbol.toStringTag,{value:"Module"})),pK=xd(fQe),hQe=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},gQe=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},I9;Object.defineProperty(Jg,"__esModule",{value:!0});Jg.PlayerName=Jg.playerNameDataEquals=void 0;const zwe=pK,$we=nr;function mQe(n,e){return n.version===e.version&&n.profile.equals(e.profile)}Jg.playerNameDataEquals=mQe;let dO=Jg.PlayerName=I9=class{constructor(e,t,r){this._data=e,this._key=t,this._name=r}get data(){return this._data}get key(){return this._key}get name(){return this._name}static findAddress(e,t){return zwe.PublicKey.findProgramAddressSync([Ve.Buffer.from("player_name"),t.toBuffer()],e.programId)}static decodeData(e,t){return(0,$we.decodeAccountWithRemaining)(e,t,I9,r=>new TextDecoder().decode(r))}};dO.ACCOUNT_NAME="playerName";dO.MIN_DATA_SIZE=8+1+32+1;Jg.PlayerName=dO=I9=hQe([(0,$we.staticImplements)(),gQe("design:paramtypes",[Object,zwe.PublicKey,String])],dO);var fO={};(function(n){var e=K&&K.__decorate||function(S,p,I,A){var w=arguments.length,_=w<3?p:A===null?A=Object.getOwnPropertyDescriptor(p,I):A,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(S,p,I,A);else for(var M=S.length-1;M>=0;M--)(P=S[M])&&(_=(w<3?P(_):w>3?P(p,I,_):P(p,I))||_);return w>3&&_&&Object.defineProperty(p,I,_),_},t=K&&K.__metadata||function(S,p){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(S,p)},r=K&&K.__awaiter||function(S,p,I,A){function w(_){return _ instanceof I?_:new I(function(P){P(_)})}return new(I||(I=Promise))(function(_,P){function M(z){try{T(A.next(z))}catch(O){P(O)}}function E(z){try{T(A.throw(z))}catch(O){P(O)}}function T(z){z.done?_(z.value):w(z.value).then(M,E)}T((A=A.apply(S,p||[])).next())})},s,i;Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerProfile=n.findKeyInProfile=n.profileKeyInputToFindKeyInput=n.getProfileKey=n.ProfilePermissions=n.PROFILE_KEY_MIN_DATA_SIZE=n.profileKeyEquals=n.profileDataEquals=void 0;const o=pK,a=cc,c=nr,u=IB,l=Jg;function d(S,p){return S.authKeyCount===p.authKeyCount&&S.keyThreshold===p.keyThreshold&&S.nextSeqId.eq(p.nextSeqId)&&S.createdAt.eq(p.createdAt)}n.profileDataEquals=d;function y(S,p){return S.key.equals(p.key)&&S.scope.equals(p.scope)&&S.expireTime.eq(p.expireTime)&&(0,c.arrayDeepEquals)(S.permissions,p.permissions,(I,A)=>I===A)}n.profileKeyEquals=y,n.PROFILE_KEY_MIN_DATA_SIZE=32+32+8+8;let h=n.ProfilePermissions=s=class{constructor(p,I,A,w,_,P,M,E,T,z,O,R){this.auth=p,this.addKeys=I,this.removeKeys=A,this.changeName=w,this.createRole=_,this.removeRole=P,this.setAuthorizer=M,this.joinRole=E,this.leaveRole=T,this.toggleAcceptingMembers=z,this.addMember=O,this.removeMember=R}static auth(){return new s(!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static addKeys(){return new s(!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static removeKeys(){return new s(!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static changeName(){return new s(!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1)}static createRole(){return new s(!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1)}static removeRole(){return new s(!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1)}static setAuthorizer(){return new s(!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1)}static joinRole(){return new s(!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1)}static leaveRole(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1)}static toggleAcceptingMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1)}static addMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1)}static removeMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0)}getPermissions(){const p=(0,c.fixedSizeArray)(8,0);return p[0]=(this.auth?1<<0:0)|(this.addKeys?1<<1:0)|(this.removeKeys?1<<2:0)|(this.changeName?1<<3:0)|(this.createRole?1<<4:0)|(this.removeRole?1<<5:0)|(this.setAuthorizer?1<<6:0)|(this.joinRole?1<<7:0),p[1]=(this.leaveRole?1<<0:0)|(this.toggleAcceptingMembers?1<<1:0)|(this.addMember?1<<2:0)|(this.removeMember?1<<3:0),p}static empty(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new s(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static fromPermissions(p){return new s((p[0]&1<<0)!==0,(p[0]&1<<1)!==0,(p[0]&1<<2)!==0,(p[0]&1<<3)!==0,(p[0]&1<<4)!==0,(p[0]&1<<5)!==0,(p[0]&1<<6)!==0,(p[0]&1<<7)!==0,(p[1]&1<<0)!==0,(p[1]&1<<1)!==0,(p[1]&1<<2)!==0,(p[1]&1<<3)!==0)}and(p){return new s(this.auth&&p.auth,this.addKeys&&p.addKeys,this.removeKeys&&p.removeKeys,this.changeName&&p.changeName,this.createRole&&p.createRole,this.removeRole&&p.removeRole,this.setAuthorizer&&p.setAuthorizer,this.joinRole&&p.joinRole,this.leaveRole&&p.leaveRole,this.toggleAcceptingMembers&&p.toggleAcceptingMembers,this.addMember&&p.addMember,this.removeMember&&p.removeMember)}or(p){return new s(this.auth||p.auth,this.addKeys||p.addKeys,this.removeKeys&&p.removeKeys,this.changeName||p.changeName,this.createRole||p.createRole,this.removeRole||p.removeRole,this.setAuthorizer||p.setAuthorizer,this.joinRole||p.joinRole,this.leaveRole||p.leaveRole,this.toggleAcceptingMembers||p.toggleAcceptingMembers,this.addMember||p.addMember,this.removeMember||p.removeMember)}eq(p){return this.auth===p.auth&&this.addKeys===p.addKeys&&this.removeKeys==p.removeKeys&&this.changeName===p.changeName&&this.createRole===p.createRole&&this.removeRole===p.removeRole&&this.setAuthorizer===p.setAuthorizer&&this.joinRole===p.joinRole&&this.leaveRole===p.leaveRole&&this.toggleAcceptingMembers===p.toggleAcceptingMembers&&this.addMember===p.addMember&&this.removeMember===p.removeMember}contains(p){return(!p.auth||this.auth)&&(!p.addKeys||this.addKeys)&&(!p.removeKeys||this.removeKeys)&&(!p.changeName||this.changeName)&&(!p.createRole||this.createRole)&&(!p.removeRole||this.removeRole)&&(!p.setAuthorizer||this.setAuthorizer)&&(!p.joinRole||this.joinRole)&&(!p.leaveRole||this.leaveRole)&&(!p.toggleAcceptingMembers||this.toggleAcceptingMembers)&&(!p.addMember||this.addMember)&&(!p.removeMember||this.removeMember)}};n.ProfilePermissions=h=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],h);function m(S){return"profile"in S?S.profile.key:S.profileKey}n.getProfileKey=m;function f(S,p,I){return"keyIndex"in S?S:Object.assign(Object.assign({},S),{validScopes:p,requiredPermissions:I})}n.profileKeyInputToFindKeyInput=f;function g(S,p){if("keyIndex"in S)return S;{const{key:I,profile:A,validScopes:w,requiredPermissions:_}=S,M=A.profileKeys.findIndex(E=>{const T=E.key.equals(I.publicKey()),z=E.scope.equals(S.playerProfileProgram.programId)&&h.fromPermissions(E.permissions).contains(h.auth()),O=()=>{for(const v of w)if(v.equals(E.scope))return!0;return!1},R=()=>p.fromPermissions(E.permissions).contains(_);return T&&(z||O()&&R())});return M===-1?{error:"cannot find key"}:{profileKey:A.key,key:I,keyIndex:M}}}n.findKeyInProfile=g;let b=n.PlayerProfile=i=class{constructor(p,I,A){this._data=p,this._key=I,this._profileKeys=A}get data(){return this._data}get key(){return this._key}get profileKeys(){return this._profileKeys}static createProfile(p,I,A,w){return _=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.createProfile(A.map(P=>{if(P.expireTime!==null&&P.expireTime.lt(new a.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return{scope:P.scope,expireTime:P.expireTime===null?new a.BN(-1):P.expireTime,permissions:P.permissions.getPermissions()}}),w).accountsStrict({funder:_.publicKey(),profile:I.publicKey(),systemProgram:o.SystemProgram.programId}).remainingAccounts(A.map(P=>(0,c.isAsyncSigner)(P.key)?{pubkey:P.key.publicKey(),isSigner:!0,isWritable:!1}:{pubkey:P.key,isSigner:!1,isWritable:!1})).instruction(),signers:[_,I,...A.map(P=>P.key).filter(c.isAsyncSigner)]}})}static createRole(p,I,A,w){const _=g(f(I,[p.programId],h.changeName()),h);if("error"in _)throw _.error;const{profileKey:P,key:M,keyIndex:E}=_;return{instructions:T=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.createRole(E).accountsStrict({funder:T.publicKey(),profile:P,systemProgram:o.SystemProgram.programId,newRoleAccount:A[0]}).remainingAccounts([{pubkey:M.publicKey(),isSigner:!0,isWritable:!1}].concat((0,u.getMetaAccountsFromProfilesOrRoles)(w))).instruction().then(O=>(0,u.addKeyIndexesToTransactionInstruction)(O,w)),signers:[T,M]}]}),role:A}}static removeRole(p,I,A,w){const _=g(f(I,[p.programId],h.changeName()),h);if("error"in _)throw _.error;const{profileKey:P,key:M,keyIndex:E}=_,[T,z]=l.PlayerName.findAddress(p,A);return O=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.removeRole(z,E).accountsStrict({funder:O.publicKey(),profile:P,roleAccount:A,roleNameAccount:T}).remainingAccounts([{pubkey:M.publicKey(),isSigner:!0,isWritable:!1}].concat((0,u.getMetaAccountsFromProfilesOrRoles)(w))).instruction().then(R=>(0,u.addKeyIndexesToTransactionInstruction)(R,w)),signers:[O,M]}]})}static setName(p,I,A,w){const _=g(f(I,[p.programId],h.changeName()),h);if("error"in _)throw _.error;const{profileKey:P,key:M,keyIndex:E}=_,T=l.PlayerName.findAddress(p,P);return{instructions:z=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.setName(E,Ve.Buffer.from(new TextEncoder().encode(A))).accountsStrict({key:M.publicKey(),funder:z.publicKey(),profile:P,name:T[0],systemProgram:o.SystemProgram.programId}).remainingAccounts((0,u.getMetaAccountsFromProfilesOrRoles)(w)).instruction().then(O=>(0,u.addKeyIndexesToTransactionInstruction)(O,w)),signers:[z,M]}]}),name:T}}static addKeys(p,I,A,w,_,P,M){const E=P.reduce((O,R)=>O.or(R.permissions),w.empty()),{addKeyIndex:T,permissionsKeyIndex:z}=A.profileKeys.reduce((O,R,v)=>{if(O.addKeyIndex!==null&&O.permissionsKeyIndex!==null)return O;if(R.key.equals(I.publicKey())){if(R.scope.equals(p.programId)){const k=h.fromPermissions(R.permissions);if(k.auth)return{addKeyIndex:v,permissionsKeyIndex:v};k.addKeys&&(O.addKeyIndex=v)}_.equals(R.scope)&&E.and(w.fromPermissions(R.permissions)).eq(E)&&(O.permissionsKeyIndex=v)}return O},{addKeyIndex:null,permissionsKeyIndex:null});if(T===null||z===null)throw new Error("key does not have permissions to add given keys");return O=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.addKeys(T,z,P.map(R=>({scope:_,expireTime:R.expireTime===null?new a.BN(-1):R.expireTime,permissions:R.permissions.getPermissions()}))).accountsStrict({funder:O.publicKey(),profile:A.key,key:I.publicKey(),systemProgram:o.SystemProgram.programId}).remainingAccounts(P.map(R=>({pubkey:R.key,isSigner:!1,isWritable:!1})).concat((0,u.getMetaAccountsFromProfilesOrRoles)(M))).instruction().then(R=>(0,u.addKeyIndexesToTransactionInstruction)(R,M)),signers:[O,I]}]})}static removeKeys(p,I,A,w,_){const P=g(f(I,[p.programId],h.removeKeys()),h);if("error"in P)throw P.error;const{profileKey:M,key:E,keyIndex:T}=P;return z=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.removeKeys(T,w).accountsStrict({funder:A==="funder"?z.publicKey():A,key:E.publicKey(),profile:M,systemProgram:o.SystemProgram.programId}).remainingAccounts((0,u.getMetaAccountsFromProfilesOrRoles)(_)).instruction().then(O=>(0,u.addKeyIndexesToTransactionInstruction)(O,_)),signers:[E]}})}static adjustAuth(p,I,A,w,_,P){if(I.length===0)throw new Error("no keys provided");const M=I.map(R=>g(f(R,[p.programId],h.auth()),h)),E=M.filter(R=>"error"in R);if(E.length>0)throw E[0].error;const T=M;let z=null;for(const R of T)if(z===null)z=R.profileKey;else if(!z.equals(R.profileKey))throw new Error("keys are not from the same profile");if(z===null)throw new Error("no keys provided after profile key");const O=A.map(R=>R(({key:v,expireTime:k,scope:x,permissions:C})=>{if(k!==null&&k.lt(new a.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return[{scope:x,expireTime:k===null?new a.BN(-1):k,permissions:C.getPermissions()},v]}));return R=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.adjustAuth(T.map(v=>v.keyIndex),O.map(([v])=>v),w,_).accountsStrict({funder:R.publicKey(),profile:z,systemProgram:o.SystemProgram.programId}).remainingAccounts([...T.map(v=>({pubkey:v.key.publicKey(),isSigner:!0,isWritable:!1})),...O.map(([v,k])=>({pubkey:k,isSigner:!1,isWritable:!1}))].concat((0,u.getMetaAccountsFromProfilesOrRoles)(P))).instruction().then(v=>(0,u.addKeyIndexesToTransactionInstruction)(v,P)),signers:[R,...T.map(v=>v.key)]}})}static decodeData(p,I){return(0,c.decodeAccountWithRemaining)(p,I,i,(A,w)=>{const _=A.readUint16LE();return A=A.subarray(2),Array(_).fill(0).map((P,M)=>I.coder.types.decode("ProfileKey",A.subarray(n.PROFILE_KEY_MIN_DATA_SIZE*M).subarray(0,n.PROFILE_KEY_MIN_DATA_SIZE)))})}};b.ACCOUNT_NAME="profile",b.MIN_DATA_SIZE=8+1+2+1+8+8,n.PlayerProfile=b=i=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],b)})(fO);var _M={};(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)},r;Object.defineProperty(n,"__esModule",{value:!0}),n.ProfileRoleMembership=n.roleMembershipEquals=n.ROLE_MEMBERSHIP_MIN_DATA_SIZE=n.MemberStatus=void 0;const s=pK,i=nr;var o;(function(u){u[u.Inactive=0]="Inactive",u[u.Active=1]="Active"})(o||(n.MemberStatus=o={})),n.ROLE_MEMBERSHIP_MIN_DATA_SIZE=32+1;function a(u,l){return u.key.equals(l.key)&&u.status===l.status}n.roleMembershipEquals=a;let c=n.ProfileRoleMembership=r=class{constructor(l,d,y){this._data=l,this._key=d,this._roleMemberships=y}get data(){return this._data}get key(){return this._key}get roleMemberships(){return this._roleMemberships}static findAddress(l,d,y){return s.PublicKey.findProgramAddressSync([Ve.Buffer.from("role-member"),d.toBuffer(),y.toBuffer()],l.programId)}static decodeData(l,d){return(0,i.decodeAccountWithRemaining)(l,d,r,(y,h)=>{const m=y.readUInt32LE();return y=y.subarray(4),Array(m).fill(0).map((f,g)=>d.coder.types.decode("RoleMembership",y.subarray(n.ROLE_MEMBERSHIP_MIN_DATA_SIZE*g).subarray(0,n.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};c.ACCOUNT_NAME="profileRoleMembership",c.MIN_DATA_SIZE=8+1+32+32+1,n.ProfileRoleMembership=c=r=e([(0,i.staticImplements)(),t("design:paramtypes",[Object,s.PublicKey,Array])],c)})(_M);var Xg={},yQe=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},pQe=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Dd=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},_9;Object.defineProperty(Xg,"__esModule",{value:!0});Xg.RoleAccount=Xg.roleAccountEquals=void 0;const fy=pK,Dwe=nr,qt=IB,Pu=_M;function bQe(n,e){return n.profile.equals(e.profile)&&n.authorizer.equals(e.authorizer)&&n.roleSeqId.eq(e.roleSeqId)&&n.acceptingNewMembers===e.acceptingNewMembers}Xg.roleAccountEquals=bQe;let hO=Xg.RoleAccount=_9=class{constructor(e,t,r){this._data=e,this._key=t,this._roleMembers=r}get data(){return this._data}get key(){return this._key}get roleMembers(){return this._roleMembers}static setName(e,t,r,s,i){const o=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId],qt.ProfilePermissions.changeName()),qt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o,l=qt.PlayerName.findAddress(e,r);return{instructions:d=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleName(u,Ve.Buffer.from(new TextEncoder().encode(s))).accountsStrict({funder:d.publicKey(),profile:a,name:l[0],systemProgram:fy.SystemProgram.programId,role:r}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(y=>(0,qt.addKeyIndexesToTransactionInstruction)(y,i)),signers:[d,c]}]}),name:l}}static setAuthorizer(e,t,r,s,i){const o=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId],qt.ProfilePermissions.changeName()),qt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o;return l=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleAuthorizer(u).accountsStrict({profile:a,funder:l.publicKey(),roleAccount:r,authorizer:s}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(d=>(0,qt.addKeyIndexesToTransactionInstruction)(d,i)),signers:[l,c]}]})}static joinRole(e,t,r,s){const{ownerKey:i,keyIndex:o,key:a}=(0,qt.ownerToAccounts)([e.programId,r.data.profile],qt.ProfilePermissions.joinRole(),t),c=Pu.ProfileRoleMembership.findAddress(e,r.data.profile,i.key);return{instructions:u=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.joinRole(o).accountsStrict({funder:u.publicKey(),systemProgram:fy.SystemProgram.programId,newMember:i.key,roleMembershipAccount:c[0],roleAccount:r.key}).remainingAccounts([...a===null?[]:[{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>{const d=i.signer;if(d){const y=l.keys.find(h=>h.pubkey.equals(d.publicKey()));y&&(y.isSigner=!0)}return(0,qt.addKeyIndexesToTransactionInstruction)(l,s)}),signers:[u,i.signer,a].filter(l=>!!l&&"publicKey"in l)}]}),roleMembership:c}}static leaveRole(e,t,r,s,i){const{ownerKey:o,keyIndex:a,key:c}=(0,qt.ownerToAccounts)([e.programId,r.data.profile],qt.ProfilePermissions.joinRole(),t),u=(0,qt.findRoleInRoleMemberships)(r.roleMembers,Pu.MemberStatus.Active,o.key);if("error"in u)throw u.error;const{keyIndex:l}=u,d=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Pu.MemberStatus.Active,r.key);if("error"in d)throw d.error;const{keyIndex:y}=d;return h=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.leaveRole(a,l,y).accountsStrict({funder:h.publicKey(),systemProgram:fy.SystemProgram.programId,member:o.key,roleMembershipAccount:s.key,roleAccount:r.key}).remainingAccounts([...c===null?[]:[{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(m=>{const f=o.signer;if(f){const g=m.keys.find(b=>b.pubkey.equals(f.publicKey()));g&&(g.isSigner=!0)}return(0,qt.addKeyIndexesToTransactionInstruction)(m,i)}),signers:[h,o.signer,c].filter(m=>!!m&&"publicKey"in m)}]})}static setAcceptingNewMembers(e,t,r,s){const i=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return u=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleAcceptingMembers(c).accountsStrict({profile:o,roleAccount:r}).remainingAccounts([{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>(0,qt.addKeyIndexesToTransactionInstruction)(l,s)),signers:[u,a]}]})}static setNotAcceptingNewMembers(e,t,r,s){const i=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return u=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleNotAcceptingMembers(c).accountsStrict({profile:o,roleAccount:r}).remainingAccounts([{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>(0,qt.addKeyIndexesToTransactionInstruction)(l,s)),signers:[u,a]}]})}static inviteToRole(e,t,r,s,i){const o=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o,l=Pu.ProfileRoleMembership.findAddress(e,r.data.profile,s);return{instructions:d=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.inviteMemberToRole(u).accountsStrict({profile:a,roleAccount:r.key,funder:d.publicKey(),systemProgram:fy.SystemProgram.programId,newMember:s,roleMembershipAccount:l[0]}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(y=>(0,qt.addKeyIndexesToTransactionInstruction)(y,i)),signers:[d,c]}]}),roleMembership:l}}static acceptInvite(e,t,r,s,i){const{ownerKey:o,keyIndex:a,key:c}=(0,qt.ownerToAccounts)([e.programId,r.data.profile],qt.ProfilePermissions.joinRole(),t),u=(0,qt.findRoleInRoleMemberships)(r.roleMembers,Pu.MemberStatus.Inactive,o.key);if("error"in u)throw u.error;const{keyIndex:l}=u,d=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Pu.MemberStatus.Inactive,r.key);if("error"in d)throw d.error;const{keyIndex:y}=d,h=Pu.ProfileRoleMembership.findAddress(e,r.data.profile,o.key);return{instructions:m=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.acceptRoleInvitation(a,l,y).accountsStrict({newMember:o.key,roleAccount:r.key,roleMembershipAccount:h[0]}).remainingAccounts([...c===null?[]:[{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(f=>{const g=o.signer;if(g){const b=f.keys.find(S=>S.pubkey.equals(g.publicKey()));b&&(b.isSigner=!0)}return(0,qt.addKeyIndexesToTransactionInstruction)(f,i)}),signers:[m,o.signer,c].filter(f=>!!f&&"publicKey"in f)}]}),roleMembership:h}}static addExistingMemberToRole(e,t,r,s,i,o){const a=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in a)throw a.error;const{profileKey:c,key:u,keyIndex:l}=a,d=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Pu.MemberStatus.Active);if("error"in d)throw d.error;const{keyIndex:y}=d,h=Pu.ProfileRoleMembership.findAddress(e,r.data.profile,i);return{instructions:m=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addExistingMemberToRole(l,y).accountsStrict({profile:c,newMember:i,roleAccount:r.key,roleMembershipAccount:s.key,funder:m.publicKey(),systemProgram:fy.SystemProgram.programId}).remainingAccounts([...u===null?[]:[{pubkey:u.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(o))).instruction().then(g=>(0,qt.addKeyIndexesToTransactionInstruction)(g,o)),signers:[m,u]}]}),roleMembership:h}}static removeMemberFromRole(e,t,r,s,i,o){const a=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in a)throw a.error;const{profileKey:c,key:u,keyIndex:l}=a,d=(0,qt.findRoleInRoleMemberships)(r.roleMembers,Pu.MemberStatus.Active,i);if("error"in d)throw d.error;const{keyIndex:y}=d,h=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Pu.MemberStatus.Active,r.key);if("error"in h)throw h.error;const{keyIndex:m}=h;return f=>Dd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeMemberFromRole(l,y,m).accountsStrict({profile:c,member:i,roleAccount:r.key,roleMembershipAccount:s.key,funder:f.publicKey(),systemProgram:fy.SystemProgram.programId}).remainingAccounts([...u===null?[]:[{pubkey:u.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(o))).instruction().then(b=>(0,qt.addKeyIndexesToTransactionInstruction)(b,o)),signers:[f,u]}]})}static findAddress(e,t,r){return fy.PublicKey.findProgramAddressSync([Ve.Buffer.from("profile-role"),t.toBuffer(),r.toArrayLike(Ve.Buffer,"le",8)],e.programId)}static decodeData(e,t){return(0,Dwe.decodeAccountWithRemaining)(e,t,_9,(r,s)=>{const i=r.readUint32LE();return r=r.subarray(4),Array(i).fill(0).map((o,a)=>t.coder.types.decode("RoleMembership",r.subarray(Pu.ROLE_MEMBERSHIP_MIN_DATA_SIZE*a).subarray(0,Pu.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};hO.ACCOUNT_NAME="role";hO.MIN_DATA_SIZE=8+1+32+32+8+1+1;Xg.RoleAccount=hO=_9=yQe([(0,Dwe.staticImplements)(),pQe("design:paramtypes",[Object,fy.PublicKey,Array])],hO);var bl={},SQe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(bl,"__esModule",{value:!0});bl.getMetaAccountsFromProfilesOrRoles=bl.addKeyIndexesToTransactionInstruction=bl.findRoleInRoleMemberships=bl.findAllRoles=bl.ownerToAccounts=void 0;const kQe=nr,zW=fO,vQe=_M,AQe=Xg;function wQe(n,e,t){if("profile"in t){const r=(0,zW.findKeyInProfile)((0,zW.profileKeyInputToFindKeyInput)(t.profile,n,e),zW.ProfilePermissions);if("error"in r)throw new Error(r.error);return{ownerKey:{key:r.profileKey},keyIndex:r.keyIndex,key:r.key}}else return{ownerKey:{key:t.key.publicKey(),signer:t.key},keyIndex:0,key:null}}bl.ownerToAccounts=wQe;function IQe(n,e,t){return SQe(this,void 0,void 0,function*(){const r=[];return(yield(0,kQe.readAllFromRPC)(e,t,AQe.RoleAccount,"confirmed",[{memcmp:{offset:9,bytes:n.toBase58()}}])).forEach(i=>{i.type==="ok"&&r.push(i.data)}),r})}bl.findAllRoles=IQe;function _Qe(n,e=vQe.MemberStatus.Active,t){const r=n.findIndex(s=>{const i=!t||s.key.equals(t),o=s.status===e;return i&&o});return r===-1?{error:"Role membership not found"}:{roleMembership:{key:n[r].key,status:e},keyIndex:r}}bl.findRoleInRoleMemberships=_Qe;function PQe(n,e){const t=xQe(e);return n.data=Ve.Buffer.concat([n.data,t]),n}bl.addKeyIndexesToTransactionInstruction=PQe;function EQe(n){var e;return(e=n==null?void 0:n.map(t=>({pubkey:t.extraProfilesOrRoles,isSigner:!1,isWritable:!1})))!==null&&e!==void 0?e:[]}bl.getMetaAccountsFromProfilesOrRoles=EQe;function xQe(n){var e;const t=Ve.Buffer.alloc(2*((e=n==null?void 0:n.length)!==null&&e!==void 0?e:0));for(const[r,s]of(n??[]).entries())t.writeUint16LE(s.extraKeyIndexes,r*2);return t}(function(n){var e=K&&K.__createBinding||(Object.create?function(m,f,g,b){b===void 0&&(b=g);var S=Object.getOwnPropertyDescriptor(f,g);(!S||("get"in S?!f.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return f[g]}}),Object.defineProperty(m,b,S)}:function(m,f,g,b){b===void 0&&(b=g),m[b]=f[g]}),t=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var A=m.length-1;A>=0;A--)(I=m[A])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},r=K&&K.__exportStar||function(m,f){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(f,g)&&e(f,m,g)},s=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)};Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerProfileProgram=n.playerProfileErrorMap=n.PLAYER_PROFILE_IDL=void 0;const i=cc,o=nr,a=bM,c=Jg,u=fO,l=_M,d=Xg;var y=bM;Object.defineProperty(n,"PLAYER_PROFILE_IDL",{enumerable:!0,get:function(){return y.IDL}}),r(Jg,n),r(fO,n),r(_M,n),r(Xg,n),r(bl,n),n.playerProfileErrorMap=(0,o.generateErrorMap)(a.IDL);let h=n.PlayerProfileProgram=class extends o.ListenProgram{constructor(f){super(f,{profile:u.PlayerProfile,playerName:c.PlayerName,role:d.RoleAccount,roleMembership:l.ProfileRoleMembership})}static buildProgram(f,g,b){return new i.Program(a.IDL,f,g,b)}};n.PlayerProfileProgram=h=t([(0,o.staticImplements)(),s("design:paramtypes",[Object])],h)})(IB);const qY=new Ex(UDe.address);function TQe(n){return qDe.findProgramAddressSync([Ve.Buffer.from("player_name"),n.toBuffer()],qY)}async function RQe(n){var t;const e=(t=j1())==null?void 0:t.pg_playerProfile.value;return e==null?void 0:e.methods.createProfile([{scope:qY,expireTime:new ki(-1),permissions:IB.ProfilePermissions.all().getPermissions()}],1).accountsPartial({funder:Yf(),profile:n,systemProgram:o4.programId}).remainingAccounts([{pubkey:Yf(),isSigner:!0,isWritable:!1}]).transaction()}async function CQe(n,e,t){var s;const r=(s=j1())==null?void 0:s.pg_playerProfile.value;return r==null?void 0:r.methods.setName(0,VDe(n)).accountsPartial({key:e,funder:Yf(),profile:t,name:TQe(t)[0],systemProgram:o4.programId}).transaction()}var Owe={},jY={},cd={};function gO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function MQe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function XB(n,...e){if(!MQe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function BQe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");gO(n.outputLen),gO(n.blockLen)}function LA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Kwe(n,e){XB(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const $W=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zQe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),DW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Od=(n,e)=>n<<32-e|n>>>e,dfe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,$Qe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function ffe(n){for(let e=0;e<n.length;e++)n[e]=$Qe(n[e])}function DQe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function bK(n){return typeof n=="string"&&(n=DQe(n)),XB(n),n}function OQe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];XB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class HY{clone(){return this._cloneInto()}}function GY(n){const e=r=>n().update(bK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Lwe(n=32){if($W&&typeof $W.getRandomValues=="function")return $W.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function KQe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const LQe=(n,e,t)=>n&e^~n&t,WQe=(n,e,t)=>n&e^n&t^e&t;class Wwe extends HY{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=DW(this.buffer)}update(e){LA(this);const{view:t,buffer:r,blockLen:s}=this;e=bK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=DW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){LA(this),Kwe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;KQe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=DW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const g$=BigInt(2**32-1),P9=BigInt(32);function Nwe(n,e=!1){return e?{h:Number(n&g$),l:Number(n>>P9&g$)}:{h:Number(n>>P9&g$)|0,l:Number(n&g$)|0}}function Fwe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Nwe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const NQe=(n,e)=>BigInt(n>>>0)<<P9|BigInt(e>>>0),FQe=(n,e,t)=>n>>>t,UQe=(n,e,t)=>n<<32-t|e>>>t,VQe=(n,e,t)=>n>>>t|e<<32-t,qQe=(n,e,t)=>n<<32-t|e>>>t,jQe=(n,e,t)=>n<<64-t|e>>>t-32,HQe=(n,e,t)=>n>>>t-32|e<<64-t,GQe=(n,e)=>e,YQe=(n,e)=>n,Uwe=(n,e,t)=>n<<t|e>>>32-t,Vwe=(n,e,t)=>e<<t|n>>>32-t,qwe=(n,e,t)=>e<<t-32|n>>>64-t,jwe=(n,e,t)=>n<<t-32|e>>>64-t;function ZQe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const JQe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),XQe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,QQe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),eet=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,tet=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),ret=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,net={fromBig:Nwe,split:Fwe,toBig:NQe,shrSH:FQe,shrSL:UQe,rotrSH:VQe,rotrSL:qQe,rotrBH:jQe,rotrBL:HQe,rotr32H:GQe,rotr32L:YQe,rotlSH:Uwe,rotlSL:Vwe,rotlBH:qwe,rotlBL:jwe,add:ZQe,add3L:JQe,add3H:XQe,add4L:QQe,add4H:eet,add5H:ret,add5L:tet};var $r=net;const[set,iet]=(()=>$r.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),$m=new Uint32Array(80),Dm=new Uint32Array(80);class oet extends Wwe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)$m[p]=e.getUint32(t),Dm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=$m[p-15]|0,A=Dm[p-15]|0,w=$r.rotrSH(I,A,1)^$r.rotrSH(I,A,8)^$r.shrSH(I,A,7),_=$r.rotrSL(I,A,1)^$r.rotrSL(I,A,8)^$r.shrSL(I,A,7),P=$m[p-2]|0,M=Dm[p-2]|0,E=$r.rotrSH(P,M,19)^$r.rotrBH(P,M,61)^$r.shrSH(P,M,6),T=$r.rotrSL(P,M,19)^$r.rotrBL(P,M,61)^$r.shrSL(P,M,6),z=$r.add4L(_,T,Dm[p-7],Dm[p-16]),O=$r.add4H(z,w,E,$m[p-7],$m[p-16]);$m[p]=O|0,Dm[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=$r.rotrSH(d,y,14)^$r.rotrSH(d,y,18)^$r.rotrBH(d,y,41),A=$r.rotrSL(d,y,14)^$r.rotrSL(d,y,18)^$r.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=$r.add5L(S,A,_,iet[p],Dm[p]),M=$r.add5H(P,b,I,w,set[p],$m[p]),E=P|0,T=$r.rotrSH(r,s,28)^$r.rotrBH(r,s,34)^$r.rotrBH(r,s,39),z=$r.rotrSL(r,s,28)^$r.rotrBL(r,s,34)^$r.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=$r.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=$r.add3L(E,z,R);r=$r.add3H(v,M,T,O),s=v|0}({h:r,l:s}=$r.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=$r.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=$r.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=$r.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=$r.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=$r.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=$r.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=$r.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){$m.fill(0),Dm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const aet=GY(()=>new oet);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const YY=BigInt(0),SK=BigInt(1),cet=BigInt(2);function gS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function QB(n){if(!gS(n))throw new Error("Uint8Array expected")}function Vg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const uet=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function mS(n){QB(n);let e="";for(let t=0;t<n.length;t++)e+=uet[n[t]];return e}function Hwe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function ZY(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Ph={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function hfe(n){if(n>=Ph._0&&n<=Ph._9)return n-Ph._0;if(n>=Ph._A&&n<=Ph._F)return n-(Ph._A-10);if(n>=Ph._a&&n<=Ph._f)return n-(Ph._a-10)}function WA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=hfe(n.charCodeAt(i)),a=hfe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function W1(n){return ZY(mS(n))}function Jv(n){return QB(n),ZY(mS(Uint8Array.from(n).reverse()))}function NA(n,e){return WA(n.toString(16).padStart(e*2,"0"))}function PM(n,e){return NA(n,e).reverse()}function det(n){return WA(Hwe(n))}function ta(n,e,t){let r;if(typeof e=="string")try{r=WA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(gS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function yS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];QB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function fet(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function het(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const OW=n=>typeof n=="bigint"&&YY<=n;function kK(n,e,t){return OW(n)&&OW(e)&&OW(t)&&e<=n&&n<t}function Sl(n,e,t,r){if(!kK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function get(n){let e;for(e=0;n>YY;n>>=SK,e+=1);return e}function met(n,e){return n>>BigInt(e)&SK}function yet(n,e,t){return n|(t?SK:YY)<<BigInt(e)}const JY=n=>(cet<<BigInt(n-1))-SK,KW=n=>new Uint8Array(n),gfe=n=>Uint8Array.from(n);function Gwe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=KW(n),s=KW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=KW())=>{s=a(gfe([0]),d),r=a(),d.length!==0&&(s=a(gfe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return yS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const pet={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||gS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Jx(n,e,t={}){const r=(s,i,o)=>{const a=pet[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const bet=()=>{throw new Error("not implemented")};function EM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var ket=Object.freeze(Object.defineProperty({__proto__:null,isBytes:gS,abytes:QB,abool:Vg,bytesToHex:mS,numberToHexUnpadded:Hwe,hexToNumber:ZY,hexToBytes:WA,bytesToNumberBE:W1,bytesToNumberLE:Jv,numberToBytesBE:NA,numberToBytesLE:PM,numberToVarBytesBE:det,ensureBytes:ta,concatBytes:yS,equalBytes:fet,utf8ToBytes:het,inRange:kK,aInRange:Sl,bitLen:get,bitGet:met,bitSet:yet,bitMask:JY,createHmacDrbg:Gwe,validateObject:Jx,notImplemented:bet,memoized:EM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Za=BigInt(0),Di=BigInt(1),t1=BigInt(2),vet=BigInt(3),E9=BigInt(4),mfe=BigInt(5),yfe=BigInt(8);BigInt(9);BigInt(16);function mi(n,e){const t=n%e;return t>=Za?t:e+t}function Aet(n,e,t){if(t<=Za||e<Za)throw new Error("Expected power/modulo > 0");if(t===Di)return Za;let r=Di;for(;e>Za;)e&Di&&(r=r*n%t),n=n*n%t,e>>=Di;return r}function to(n,e,t){let r=n;for(;e-- >Za;)r*=r,r%=t;return r}function x9(n,e){if(n===Za||e<=Za)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=mi(n,e),r=e,s=Za,i=Di;for(;t!==Za;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Di)throw new Error("invert: does not exist");return mi(s,e)}function wet(n){const e=(n-Di)/t1;let t,r,s;for(t=n-Di,r=0;t%t1===Za;t/=t1,r++);for(s=t1;s<n&&Aet(s,e,n)!==n-Di;s++);if(r===1){const o=(n+Di)/E9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Di)/t1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Di<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function Iet(n){if(n%E9===vet){const e=(n+Di)/E9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%yfe===mfe){const e=(n-mfe)/yfe;return function(r,s){const i=r.mul(s,t1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,t1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return wet(n)}const _et=(n,e)=>(mi(n,e)&Di)===Di,Pet=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Eet(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Pet.reduce((r,s)=>(r[s]="function",r),e);return Jx(n,t)}function xet(n,e,t){if(t<Za)throw new Error("Expected power > 0");if(t===Za)return n.ONE;if(t===Di)return e;let r=n.ONE,s=e;for(;t>Za;)t&Di&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Di;return r}function Tet(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function Ywe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Zwe(n,e,t=!1,r={}){if(n<=Za)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=Ywe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Iet(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:JY(s),ZERO:Za,ONE:Di,create:c=>mi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Za<=c&&c<n},is0:c=>c===Za,isOdd:c=>(c&Di)===Di,neg:c=>mi(-c,n),eql:(c,u)=>c===u,sqr:c=>mi(c*c,n),add:(c,u)=>mi(c+u,n),sub:(c,u)=>mi(c-u,n),mul:(c,u)=>mi(c*u,n),pow:(c,u)=>xet(a,c,u),div:(c,u)=>mi(c*x9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>x9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>Tet(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?PM(c,i):NA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Jv(c):W1(c)}});return Object.freeze(a)}function Jwe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Xwe(n){const e=Jwe(n);return e+Math.ceil(e/2)}function Ret(n,e,t=!1){const r=n.length,s=Jwe(e),i=Xwe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?W1(n):Jv(n),a=mi(o,e-Di)+Di;return t?PM(a,s):NA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cet=BigInt(0),LW=BigInt(1),WW=new WeakMap,pfe=new WeakMap;function Qwe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>Cet;)o&LW&&(a=a.add(c)),c=c.double(),o>>=LW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=LW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,A=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(A,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=pfe.get(i)||1;let u=WW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&WW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),pfe.set(i,o),WW.delete(i)}}}function XY(n){return Eet(n.Fp),Jx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ywe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dl=BigInt(0),Uc=BigInt(1),m$=BigInt(2),Met=BigInt(8),Bet={zip215:!0};function zet(n){const e=XY(n);return Jx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function $et(n){const e=zet(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=m$<<BigInt(a*8)-Uc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Dl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Vg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){Sl("coordinate "+v,k,Dl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=EM((v,k)=>{const{ex:x,ey:C,ez:B}=v,D=v.is0();k==null&&(k=D?Met:t.inv(B));const $=l(x*k),W=l(C*k),L=l(B*k);if(D)return{x:Dl,y:Uc};if(L!==Uc)throw new Error("invZ was invalid");return{x:$,y:W}}),b=EM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:D,et:$}=v,W=l(C*C),L=l(B*B),U=l(D*D),G=l(U*U),J=l(W*k),Q=l(U*l(J+L)),Y=l(G+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(D*$);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Uc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:D,ey:$,ez:W}=k,L=l(x*W),U=l(D*B),G=l(C*W),J=l($*B);return L===U&&G===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,D=l(x*x),$=l(C*C),W=l(m$*l(B*B)),L=l(k*D),U=x+C,G=l(l(U*U)-D-$),J=L+$,Q=J-W,Y=L-$,X=l(G*Q),re=l(J*Y),se=l(G*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:D,ez:$,et:W}=this,{ex:L,ey:U,ez:G,et:J}=k;if(x===BigInt(-1)){const Lt=l((D-B)*(U+L)),Dt=l((D+B)*(U-L)),et=l(Dt-Lt);if(et===Dl)return this.double();const Ue=l($*m$*J),Wt=l(W*m$*G),sr=Wt+Ue,tr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(tr*pr),gn=l(sr*pr),ds=l(et*tr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(D*U),X=l(W*C*J),re=l($*G),se=l((B+D)*(L+U)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),_e=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(_e,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return A.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;Sl("scalar",x,Uc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return Sl("scalar",x,Dl,r),x===Dl?I:this.equals(I)||x===Uc?this:this.equals(p)?this.wNAF(x).p:A.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Uc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,D=t.BYTES;k=ta("pointHex",k,D),Vg("zip215",x);const $=k.slice(),W=k[D-1];$[D-1]=W&-129;const L=Jv($),U=x?u:t.ORDER;Sl("pointHex.y",L,Dl,U);const G=l(L*L),J=l(G-Uc),Q=l(C*G-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Uc)===Uc,se=(W&128)!==0;if(!x&&X===Dl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return P(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=PM(x,t.BYTES);return C[C.length-1]|=k&Uc?128:0,C}toHex(){return mS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Uc,l(e.Gx*e.Gy)),S.ZERO=new S(Dl,Uc,Uc,Dl);const{BASE:p,ZERO:I}=S,A=Qwe(S,a*8);function w(v){return mi(v,r)}function _(v){return w(Jv(v))}function P(v){const k=a;v=ta("private key",v,k);const x=ta("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),D=_(C),$=p.multiply(D),W=$.toRawBytes();return{head:C,prefix:B,scalar:D,point:$,pointBytes:W}}function M(v){return P(v).pointBytes}function E(v=new Uint8Array,...k){const x=yS(...k);return _(i(h(x,ta("context",v),!!s)))}function T(v,k,x={}){v=ta("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:D}=P(k),$=E(x.context,C,v),W=p.multiply($).toRawBytes(),L=E(x.context,W,D,v),U=w($+L*B);Sl("signature.s",U,Dl,r);const G=yS(W,PM(U,t.BYTES));return ta("result",G,a*2)}const z=Bet;function O(v,k,x,C=z){const{context:B,zip215:D}=C,$=t.BYTES;v=ta("signature",v,2*$),k=ta("message",k),D!==void 0&&Vg("zip215",D),s&&(k=s(k));const W=Jv(v.slice($,2*$));let L,U,G;try{L=S.fromHex(x,D),U=S.fromHex(v.slice(0,$),D),G=p.multiplyUnsafe(W)}catch{return!1}if(!D&&L.isSmallOrder())return!1;const J=E(B,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(G).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:T,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const QY=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),bfe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Det=BigInt(1),Sfe=BigInt(2);BigInt(3);const Oet=BigInt(5),Ket=BigInt(8);function Let(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=QY,a=n*n%i*n%i,c=to(a,Sfe,i)*a%i,u=to(c,Det,i)*n%i,l=to(u,Oet,i)*u%i,d=to(l,e,i)*l%i,y=to(d,t,i)*d%i,h=to(y,r,i)*y%i,m=to(h,s,i)*h%i,f=to(m,s,i)*h%i,g=to(f,e,i)*l%i;return{pow_p_5_8:to(g,Sfe,i)*n%i,b2:a}}function Wet(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Net(n,e){const t=QY,r=mi(e*e*e,t),s=mi(r*r*e,t),i=Let(n*s).pow_p_5_8;let o=mi(n*r*i,t);const a=mi(e*o*o,t),c=o,u=mi(o*bfe,t),l=a===n,d=a===mi(-n,t),y=a===mi(-n*bfe,t);return l&&(o=c),(d||y)&&(o=u),_et(o,t)&&(o=mi(-o,t)),{isValid:l||d,value:o}}const Fet=(()=>Zwe(QY,void 0,!0))(),Uet=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Fet,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Ket,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:aet,randomBytes:Lwe,adjustScalarBytes:Wet,uvRatio:Net}))(),Xx=(()=>$et(Uet))(),Vet=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Om=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Km=new Uint32Array(64);class qet extends Wwe{constructor(){super(64,32,8,!1),this.A=Om[0]|0,this.B=Om[1]|0,this.C=Om[2]|0,this.D=Om[3]|0,this.E=Om[4]|0,this.F=Om[5]|0,this.G=Om[6]|0,this.H=Om[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Km[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Km[d-15],h=Km[d-2],m=Od(y,7)^Od(y,18)^y>>>3,f=Od(h,17)^Od(h,19)^h>>>10;Km[d]=f+Km[d-7]+m+Km[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Od(a,6)^Od(a,11)^Od(a,25),h=l+y+LQe(a,c,u)+Vet[d]+Km[d]|0,f=(Od(r,2)^Od(r,13)^Od(r,22))+WQe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Km.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const T9=GY(()=>new qet);class jet extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Het(n){return ez(n)&&typeof n[Symbol.iterator]=="function"}function ez(n){return typeof n=="object"&&n!=null}function mO(n){return ez(n)&&!Array.isArray(n)}function bd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Get(n){const{done:e,value:t}=n.next();return e?void 0:t}function Yet(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${bd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*kfe(n,e,t,r){Het(n)||(n=[n]);for(const s of n){const i=Yet(s,e,t,r);i&&(yield i)}}function*eZ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=eZ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):ez(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class fh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return kfe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return kfe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return eIe(e,this,t)}create(e,t){return mt(e,this,t)}is(e){return tIe(e,this)}mask(e,t){return Zet(e,this,t)}validate(e,t={}){return tz(e,this,t)}}function eIe(n,e,t){const r=tz(n,e,{message:t});if(r[0])throw r[0]}function mt(n,e,t){const r=tz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Zet(n,e,t){const r=tz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function tIe(n,e){return!tz(n,e)[0]}function tz(n,e,t={}){const r=eZ(n,e,t),s=Get(r);if(s[0])return[new jet(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function ik(n,e){return new fh({type:n,schema:null,validator:e})}function Jet(){return ik("any",()=>!0)}function wt(n){return new fh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${bd(e)}`}})}function eh(){return ik("boolean",n=>typeof n=="boolean")}function tZ(n){return ik("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${bd(e)}`)}function Ei(n){const e=bd(n),t=typeof n;return new fh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${bd(r)}`}})}function Xet(){return ik("never",()=>!1)}function Ct(n){return new fh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function me(){return ik("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${bd(n)}`)}function fr(n){return new fh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function rIe(n,e){return new fh({type:"record",schema:null,*entries(t){if(ez(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return mO(t)||`Expected an object, but received: ${bd(t)}`},coercer(t){return mO(t)?{...t}:t}})}function Ge(){return ik("string",n=>typeof n=="string"||`Expected a string, but received: ${bd(n)}`)}function rZ(n){const e=Xet();return new fh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${bd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Ce(n){const e=Object.keys(n);return new fh({type:"type",schema:n,*entries(t){if(ez(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return mO(t)||`Expected an object, but received: ${bd(t)}`},coercer(t){return mO(t)?{...t}:t}})}function Mc(n){const e=n.map(t=>t.type).join(" | ");return new fh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=eZ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${bd(t)}`,...s]}})}function Qx(){return ik("unknown",()=>!0)}function rz(n,e,t){return new fh({...n,coercer:(r,s)=>tIe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const nIe=[],sIe=[],iIe=[],Qet=BigInt(0),wR=BigInt(1),ett=BigInt(2),ttt=BigInt(7),rtt=BigInt(256),ntt=BigInt(113);for(let n=0,e=wR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],nIe.push(2*(5*r+t)),sIe.push((n+1)*(n+2)/2%64);let s=Qet;for(let i=0;i<7;i++)e=(e<<wR^(e>>ttt)*ntt)%rtt,e&ett&&(s^=wR<<(wR<<BigInt(i))-wR);iIe.push(s)}const[stt,itt]=Fwe(iIe,!0),vfe=(n,e,t)=>t>32?qwe(n,e,t):Uwe(n,e,t),Afe=(n,e,t)=>t>32?jwe(n,e,t):Vwe(n,e,t);function ott(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=vfe(u,l,1)^t[a],y=Afe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=sIe[o],c=vfe(s,i,a),u=Afe(s,i,a),l=nIe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=stt[r],n[1]^=itt[r]}t.fill(0)}class nZ extends HY{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,gO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=zQe(this.state)}keccak(){dfe||ffe(this.state32),ott(this.state32,this.rounds),dfe||ffe(this.state32),this.posOut=0,this.pos=0}update(e){LA(this);const{blockLen:t,state:r}=this;e=bK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){LA(this,!1),XB(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return gO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Kwe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new nZ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const att=(n,e,t)=>GY(()=>new nZ(e,n,t)),wfe=att(1,136,256/8);class oIe extends HY{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,BQe(e);const r=bK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return LA(this),this.iHash.update(e),this}digestInto(e){LA(this),XB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const aIe=(n,e,t)=>new oIe(n,e).update(t).digest();aIe.create=(n,e)=>new oIe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ife(n){n.lowS!==void 0&&Vg("lowS",n.lowS),n.prehash!==void 0&&Vg("prehash",n.prehash)}function ctt(n){const e=XY(n);Jx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:utt,hexToBytes:ltt}=ket,_1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=_1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:utt(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=_1,t=typeof n=="string"?ltt(n):n;QB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=_1._parseInt(t.subarray(2)),{d:o,l:a}=_1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Py=BigInt(0),fa=BigInt(1);BigInt(2);const _fe=BigInt(3);BigInt(4);function dtt(n){const e=ctt(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return yS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return kK(m,fa,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(gS(m)&&(m=mS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:W1(ta("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=mi(p,S)),Sl("private key",p,fa,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=EM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),A=t.mul(b,f),w=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),l=EM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ta("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f,w=t.eql(t.mul(g,A),t.mul(p,S)),_=t.eql(t.mul(b,A),t.mul(I,S));return w&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,_fe),{px:S,py:p,pz:I}=this;let A=t.ZERO,w=t.ZERO,_=t.ZERO,P=t.mul(S,S),M=t.mul(p,p),E=t.mul(I,I),T=t.mul(S,p);return T=t.add(T,T),_=t.mul(S,I),_=t.add(_,_),A=t.mul(f,_),w=t.mul(b,E),w=t.add(A,w),A=t.sub(M,w),w=t.add(M,w),w=t.mul(A,w),A=t.mul(T,A),_=t.mul(b,_),E=t.mul(f,E),T=t.sub(P,E),T=t.mul(f,T),T=t.add(T,_),_=t.add(P,P),P=t.add(_,P),P=t.add(P,E),P=t.mul(P,T),w=t.add(w,P),E=t.mul(p,I),E=t.add(E,E),P=t.mul(E,T),A=t.sub(A,P),_=t.mul(E,M),_=t.add(_,_),_=t.add(_,_),new d(A,w,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f;let w=t.ZERO,_=t.ZERO,P=t.ZERO;const M=e.a,E=t.mul(e.b,_fe);let T=t.mul(g,p),z=t.mul(b,I),O=t.mul(S,A),R=t.add(g,b),v=t.add(p,I);R=t.mul(R,v),v=t.add(T,z),R=t.sub(R,v),v=t.add(g,S);let k=t.add(p,A);return v=t.mul(v,k),k=t.add(T,O),v=t.sub(v,k),k=t.add(b,S),w=t.add(I,A),k=t.mul(k,w),w=t.add(z,O),k=t.sub(k,w),P=t.mul(M,v),w=t.mul(E,O),P=t.add(w,P),w=t.sub(z,P),P=t.add(z,P),_=t.mul(w,P),z=t.add(T,T),z=t.add(z,T),O=t.mul(M,O),v=t.mul(E,v),z=t.add(z,O),O=t.sub(T,O),O=t.mul(M,O),v=t.add(v,O),T=t.mul(z,v),_=t.add(_,T),T=t.mul(k,v),w=t.mul(R,w),w=t.sub(w,T),T=t.mul(R,z),P=t.mul(k,P),P=t.add(P,T),new d(w,_,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){Sl("scalar",f,Py,e.n);const g=d.ZERO;if(f===Py)return g;if(f===fa)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:A}=b.splitScalar(f),w=g,_=g,P=this;for(;p>Py||A>Py;)p&fa&&(w=w.add(P)),A&fa&&(_=_.add(P)),P=P.double(),p>>=fa,A>>=fa;return S&&(w=w.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),w.add(_)}multiply(f){const{endo:g,n:b}=e;Sl("scalar",f,fa,b);let S,p;if(g){const{k1neg:I,k1:A,k2neg:w,k2:_}=g.splitScalar(f);let{p:P,f:M}=this.wNAF(A),{p:E,f:T}=this.wNAF(_);P=h.constTimeNegate(I,P),E=h.constTimeNegate(w,E),E=new d(t.mul(E.px,g.beta),E.py,E.pz),S=P.add(E),p=M.add(T)}else{const{p:I,f:A}=this.wNAF(f);S=I,p=A}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(A,w)=>w===Py||w===fa||!A.equals(S)?A.multiplyUnsafe(w):A.multiply(w),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===fa)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===fa?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Vg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Vg("isCompressed",f),mS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=Qwe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function ftt(n){const e=XY(n);return Jx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function htt(n){const e=ftt(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(R){return mi(R,r)}function a(R){return x9(R,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=dtt({...e,toBytes(R,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=yS;return Vg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(R){const v=R.length,k=R[0],x=R.subarray(1);if(v===s&&(k===2||k===3)){const C=W1(x);if(!kK(C,fa,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let D;try{D=t.sqrt(B)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const $=(D&fa)===fa;return(k&1)===1!==$&&(D=t.neg(D)),{x:C,y:D}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=R=>mS(NA(R,e.nByteLength));function h(R){const v=r>>fa;return R>v}function m(R){return h(R)?o(-R):R}const f=(R,v,k)=>W1(R.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ta("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=_1.toSig(ta("DER",v));return new g(k,x)}assertValidity(){Sl("r",this.r,fa,r),Sl("s",this.s,fa,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=w(ta("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const D=C===2||C===3?k+e.n:k;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(C&1)===0?"02":"03",W=c.fromHex($+y(D)),L=a(D),U=o(-B*L),G=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,U,G);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return WA(this.toDERHex())}toDERHex(){return _1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return WA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=Xwe(e.n);return Ret(e.randomBytes(R),e.n)},precompute(R=8,v=c.BASE){return v._setWindowSize(R),v.multiply(BigInt(3)),v}};function S(R,v=!0){return c.fromPrivateKey(R).toRawBytes(v)}function p(R){const v=gS(R),k=typeof R=="string",x=(v||k)&&R.length;return v?x===s||x===i:k?x===2*s||x===2*i:R instanceof c}function I(R,v,k=!0){if(p(R))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(R)).toRawBytes(k)}const A=e.bits2int||function(R){const v=W1(R),k=R.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},w=e.bits2int_modN||function(R){return o(A(R))},_=JY(e.nBitLength);function P(R){return Sl(`num < 2^${e.nBitLength}`,R,Py,_),NA(R,e.nByteLength)}function M(R,v,k=E){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:D,extraEntropy:$}=k;B==null&&(B=!0),R=ta("msgHash",R),Ife(k),D&&(R=ta("prehashed msgHash",x(R)));const W=w(R),L=u(v),U=[P(L),P(W)];if($!=null&&$!==!1){const Y=$===!0?C(t.BYTES):$;U.push(ta("extraEntropy",Y))}const G=yS(...U),J=W;function Q(Y){const X=A(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Py)return;const ne=o(re*o(J+ee*L));if(ne===Py)return;let ve=(se.x===ee?0:2)|Number(se.y&fa),_e=ne;return B&&h(ne)&&(_e=m(ne),ve^=1),new g(ee,_e,ve)}return{seed:G,k2sig:Q}}const E={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function z(R,v,k=E){const{seed:x,k2sig:C}=M(R,v,k),B=e;return Gwe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function O(R,v,k,x=T){var se;const C=R;if(v=ta("msgHash",v),k=ta("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Ife(x);const{lowS:B,prehash:D}=x;let $,W;try{if(typeof C=="string"||gS(C))try{$=g.fromDER(C)}catch(ee){if(!(ee instanceof _1.Err))throw ee;$=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;$=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&$.hasHighS())return!1;D&&(v=e.hash(v));const{r:L,s:U}=$,G=w(v),J=a(U),Q=o(G*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:z,verify:O,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gtt(n){return{hash:n,hmac:(e,...t)=>aIe(n,e,OQe(...t)),randomBytes:Lwe}}function mtt(n,e){const t=r=>htt({...n,...gtt(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cIe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Pfe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ytt=BigInt(1),R9=BigInt(2),Efe=(n,e)=>(n+e/R9)/e;function ptt(n){const e=cIe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=to(l,t,e)*l%e,y=to(d,t,e)*l%e,h=to(y,R9,e)*u%e,m=to(h,s,e)*h%e,f=to(m,i,e)*m%e,g=to(f,a,e)*f%e,b=to(g,c,e)*g%e,S=to(b,a,e)*f%e,p=to(S,t,e)*l%e,I=to(p,o,e)*m%e,A=to(I,r,e)*u%e,w=to(A,R9,e);if(!C9.eql(C9.sqr(w),n))throw new Error("Cannot find square root");return w}const C9=Zwe(cIe,void 0,void 0,{sqrt:ptt}),vK=mtt({a:BigInt(0),b:BigInt(7),Fp:C9,n:Pfe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Pfe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ytt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Efe(i*n,e),c=Efe(-r*n,e);let u=mi(n-a*t-c*s,e),l=mi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},T9);BigInt(0);vK.ProjectivePoint;const btt=Xx.utils.randomPrivateKey,xfe=()=>{const n=Xx.utils.randomPrivateKey(),e=yO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},yO=Xx.getPublicKey;function Tfe(n){try{return Xx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sZ=(n,e)=>Xx.sign(n,e.slice(0,32)),Stt=Xx.verify,en=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class iZ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(rm(D2,this))}static decode(e){return nm(D2,this,e)}static decodeUnchecked(e){return sm(D2,this,e)}}class ktt extends iZ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const D2=new Map;var uIe;const lIe=32,Nf=32;function vtt(n){return n._bn!==void 0}let Rfe=1;class st extends iZ{constructor(e){if(super({}),this._bn=void 0,vtt(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Nf)throw new Error("Invalid public key input");this._bn=new ki(t)}else this._bn=new ki(e);if(this._bn.byteLength()>Nf)throw new Error("Invalid public key input")}}static unique(){const e=new st(Rfe);return Rfe+=1,new st(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Nf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=T9(s);return new st(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>lIe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,en(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=T9(r);if(Tfe(s))throw new Error("Invalid seeds, address must fall off the curve");return new st(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new st(e);return Tfe(t.toBytes())}}uIe=st;st.default=new uIe("11111111111111111111111111111111");D2.set(st,{kind:"struct",fields:[["_bn","u256"]]});class Att{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=en(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=en(btt()),this._publicKey=en(yO(this._secretKey))}get publicKey(){return new st(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const wtt=new st("BPFLoader1111111111111111111111111111111111"),Vy=1280-40-8,AK=127,xM=64;class oZ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(oZ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class aZ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(aZ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Pv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Pv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class TM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Sn=(n="publicKey")=>ie(32,n),Itt=(n="signature")=>ie(64,n),P1=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Vt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},_tt=(n="authorized")=>N([Sn("staker"),Sn("withdrawer")],n),Ptt=(n="lockup")=>N([Pe("unixTimestamp"),Pe("epoch"),Sn("custodian")],n),Ett=(n="voteInit")=>N([Sn("nodePubkey"),Sn("authorizedVoter"),Sn("authorizedWithdrawer"),te("commission")],n),xtt=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),Sn("currentAuthorityDerivedKeyOwnerPubkey"),P1("currentAuthorityDerivedKeySeed"),Sn("newAuthorized")],n);function dIe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return dIe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function ou(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Lu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Nn(n,e){if(!n)throw new Error(e||"Assertion failed")}class wK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new wK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Nn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Nn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Nn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new st(c)),...r.map(([c])=>new st(c)),...s.map(([c])=>new st(c)),...i.map(([c])=>new st(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new st(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Nn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const fIe="Reached end of buffer unexpectedly";function Sf(n){if(n.length===0)throw new Error(fIe);return n.shift()}function au(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(fIe);return n.splice(...e)}class Sd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new st(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new TM(this.staticAccountKeys)}static compile(e){const t=wK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new TM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new Sd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Lu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Lu(f,y.length);let g=[];return Lu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Lu(s,r.length);let i=V.Buffer.alloc(Vy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(Sn("key"),e,"keys"),Sn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>en(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Sf(t);if(r!==(r&AK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Sf(t),i=Sf(t),o=ou(t);let a=[];for(let y=0;y<o;y++){const h=au(t,0,Nf);a.push(new st(V.Buffer.from(h)))}const c=au(t,0,Nf),u=ou(t);let l=[];for(let y=0;y<u;y++){const h=Sf(t),m=ou(t),f=au(t,0,m),g=ou(t),b=au(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new Sd(d)}}class pS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new TM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=wK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new TM(a,s).compileInstructions(e.instructions);return new pS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Lu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Lu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Lu(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(Sn(),this.staticAccountKeys.length,"staticAccountKeys"),Sn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Vy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Vy);for(const r of this.compiledInstructions){const s=Array();Lu(s,r.accountKeyIndexes.length);const i=Array();Lu(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Vy);for(const r of this.addressTableLookups){const s=Array();Lu(s,r.writableIndexes.length);const i=Array();Lu(i,r.readonlyIndexes.length),e+=N([Sn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Sf(t),s=r&AK;Nn(r!==s,"Expected versioned message but received legacy message");const i=s;Nn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Sf(t),numReadonlySignedAccounts:Sf(t),numReadonlyUnsignedAccounts:Sf(t)},a=[],c=ou(t);for(let m=0;m<c;m++)a.push(new st(au(t,0,Nf)));const u=Ie.encode(au(t,0,Nf)),l=ou(t),d=[];for(let m=0;m<l;m++){const f=Sf(t),g=ou(t),b=au(t,0,g),S=ou(t),p=new Uint8Array(au(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=ou(t),h=[];for(let m=0;m<y;m++){const f=new st(au(t,0,Nf)),g=ou(t),b=au(t,0,g),S=ou(t),p=au(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new pS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const cZ={deserializeMessageVersion(n){const e=n[0],t=e&AK;return t===e?"legacy":t},deserialize:n=>{const e=cZ.deserializeMessageVersion(n);if(e==="legacy")return Sd.from(n);if(e===0)return pS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let pg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Ttt=V.Buffer.alloc(xM).fill(0);class ks{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Gn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ks(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new st(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Nn(f.programIdIndex>=0),f.accounts.forEach(g=>Nn(g>=0))}),new Sd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=sZ(r,s.secretKey);this._addSignature(s.publicKey,en(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Nn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):Stt(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Lu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Nn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Nn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Nn(i.length<=Vy,`Transaction too large: ${i.length} > ${Vy}`),i}get keys(){return Nn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Nn(this.instructions.length===1),this.instructions[0].programId}get data(){return Nn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=ou(t);let s=[];for(let i=0;i<r;i++){const o=au(t,0,xM);s.push(Ie.encode(V.Buffer.from(o)))}return Gn.populate(Sd.from(t),s)}static populate(e,t=[]){const r=new Gn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(Ttt)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ks({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class uZ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Nn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Nn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new ks({programId:g,data:en(m.data),keys:f}))}return new uZ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return Sd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return pS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class lZ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Nn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(xM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Lu(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(Itt(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=ou(t);for(let o=0;o<s;o++)r.push(new Uint8Array(au(t,0,xM)));const i=cZ.deserialize(new Uint8Array(t));return new lZ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Nn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=sZ(t,s.secretKey)}}addSignature(e,t){Nn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Nn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const Rtt=160,Ctt=64,Mtt=Rtt/Ctt,hIe=1e3/Mtt,rf=new st("SysvarC1ock11111111111111111111111111111111"),Btt=new st("SysvarEpochSchedu1e111111111111111111111111"),ztt=new st("Sysvar1nstructions1111111111111111111111111"),kD=new st("SysvarRecentB1ockHashes11111111111111111111"),FA=new st("SysvarRent111111111111111111111111111111111"),$tt=new st("SysvarRewards111111111111111111111111111111"),Dtt=new st("SysvarS1otHashes111111111111111111111111111"),Ott=new st("SysvarS1otHistory11111111111111111111111111"),vD=new st("SysvarStakeHistory1111111111111111111111111");class RM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Ktt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Zt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function M9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new RM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function r1(n){return new Promise(e=>setTimeout(e,n))}function Rn(n,e){const t=n.layout.span>=0?n.layout.span:dIe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ns(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const gIe=Ae("lamportsPerSignature"),mIe=N([F("version"),F("state"),Sn("authorizedPubkey"),Sn("nonce"),N([gIe],"feeCalculator")]),B9=mIe.span;class IK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=mIe.decode(en(e),0);return new IK({authorizedPubkey:new st(t.authorizedPubkey),nonce:new st(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Ltt=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Wtt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Ltt(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return im(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=rc(o,n);return r(u,a,c)},i},UA=Wtt(8);class Ntt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Os))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ns(Os.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new st(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ns(Os.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ns(Os.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new st(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ns(Os.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ns(Os.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new st(t),seed:r,space:s,programId:new st(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ns(Os.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new st(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ns(Os.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new st(t),seed:r,programId:new st(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ns(Os.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new st(t),seed:r,lamports:s,space:i,programId:new st(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ns(Os.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new st(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ns(Os.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ns(Os.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ns(Os.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new st(t)}}static checkProgramId(e){if(!e.equals(Wa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Os=Object.freeze({Create:{index:0,layout:N([F("instruction"),Pe("lamports"),Pe("space"),Sn("programId")])},Assign:{index:1,layout:N([F("instruction"),Sn("programId")])},Transfer:{index:2,layout:N([F("instruction"),UA("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),Sn("base"),P1("seed"),Pe("lamports"),Pe("space"),Sn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Pe("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),Sn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),Sn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Pe("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),Sn("base"),P1("seed"),Pe("space"),Sn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),Sn("base"),P1("seed"),Sn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),UA("lamports"),P1("seed"),Sn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class Wa{constructor(){}static createAccount(e){const t=Os.Create,r=Rn(t,{lamports:e.lamports,space:e.space,programId:en(e.programId.toBuffer())});return new ks({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Os.TransferWithSeed;t=Rn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:en(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Os.Transfer;t=Rn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ks({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Os.AssignWithSeed;t=Rn(s,{base:en(e.basePubkey.toBuffer()),seed:e.seed,programId:en(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Os.Assign;t=Rn(s,{programId:en(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ks({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Os.CreateWithSeed,r=Rn(t,{base:en(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:en(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ks({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Gn;"basePubkey"in e&&"seed"in e?t.add(Wa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:B9,programId:this.programId})):t.add(Wa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:B9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Os.InitializeNonceAccount,r=Rn(t,{authorized:en(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:kD,isSigner:!1,isWritable:!1},{pubkey:FA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ks(s)}static nonceAdvance(e){const t=Os.AdvanceNonceAccount,r=Rn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:kD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ks(s)}static nonceWithdraw(e){const t=Os.WithdrawNonceAccount,r=Rn(t,{lamports:e.lamports});return new ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:kD,isSigner:!1,isWritable:!1},{pubkey:FA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Os.AuthorizeNonceAccount,r=Rn(t,{authorized:en(e.newAuthorizedPubkey.toBuffer())});return new ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Os.AllocateWithSeed;t=Rn(s,{base:en(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:en(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Os.Allocate;t=Rn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ks({keys:r,programId:this.programId,data:t})}}Wa.programId=new st("11111111111111111111111111111111");const Ftt=Vy-300;class bS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/bS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Gn,h.add(Wa.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Gn,h.add(Wa.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Gn,h.add(Wa.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Gn().add(Wa.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await M9(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Vt(F(),-8),"bytes")]),a=bS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Gn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(M9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await r1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Gn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:FA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(hIe/2)))}}return!0}}bS.chunkSize=Ftt;const Utt=new st("BPFLoader2111111111111111111111111111111111");class Vtt{static getMinNumSignatures(e){return bS.getMinNumSignatures(e)}static load(e,t,r,s,i){return bS.load(e,t,r,i,s)}}function qtt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var NW,Cfe;function jtt(){if(Cfe)return NW;Cfe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return NW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},NW}var Htt=jtt(),Mfe=qtt(Htt);const IR=32;function FW(n){let e=0;for(;n>1;)n/=2,e++;return e}function Gtt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class yIe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=FW(Gtt(e+IR+1))-FW(IR)-1,r=this.getSlotsInEpoch(t),s=e-(r-IR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*IR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+FW(IR)):this.slotsPerEpoch}}var Ytt=globalThis.fetch;class Ztt extends Tb{constructor(e,t,r){const s=i=>{const o=Cb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Jtt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Bfe=56;class z9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Jtt(Xtt,e),r=e.length-Bfe;Nn(r>=0,"lookup table is invalid"),Nn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(Sn(),s,"addresses")]).decode(e.slice(Bfe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new st(t.authority[0]):void 0,addresses:i.map(o=>new st(o))}}}const Xtt={index:1,layout:N([F("typeIndex"),UA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(Sn(),Vt(te(),-1),"authority")])},Qtt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function ert(n){const e=n.match(Qtt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Vi=rz(tZ(st),Ge(),n=>new st(n)),pIe=rZ([Ge(),Ei("base64")]),dZ=rz(tZ(V.Buffer),pIe,n=>V.Buffer.from(n[0],"base64")),bIe=30*1e3;function trt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function xs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function zfe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function SIe(n){return Mc([Ce({jsonrpc:Ei("2.0"),id:Ge(),result:n}),Ce({jsonrpc:Ei("2.0"),id:Ge(),error:Ce({code:Qx(),message:Ge(),data:fr(Jet())})})])}const rrt=SIe(Qx());function qr(n){return rz(SIe(n),rrt,e=>"error"in e?e:{...e,result:mt(e.result,n)})}function ho(n){return qr(Ce({context:Ce({slot:me()}),value:n}))}function _K(n){return Ce({context:Ce({slot:me()}),value:n})}function UW(n,e){return n===0?new pS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new st(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Sd(e)}const nrt=Ce({foundation:me(),foundationTerm:me(),initial:me(),taper:me(),terminal:me()}),srt=qr(wt(Ct(Ce({epoch:me(),effectiveSlot:me(),amount:me(),postBalance:me(),commission:fr(Ct(me()))})))),irt=wt(Ce({slot:me(),prioritizationFee:me()})),ort=Ce({total:me(),validator:me(),foundation:me(),epoch:me()}),art=Ce({epoch:me(),slotIndex:me(),slotsInEpoch:me(),absoluteSlot:me(),blockHeight:fr(me()),transactionCount:fr(me())}),crt=Ce({slotsPerEpoch:me(),leaderScheduleSlotOffset:me(),warmup:eh(),firstNormalEpoch:me(),firstNormalSlot:me()}),urt=rIe(Ge(),wt(me())),ok=Ct(Mc([Ce({}),Ge()])),lrt=Ce({err:ok}),drt=Ei("receivedSignature"),frt=Ce({"solana-core":Ge(),"feature-set":fr(me())}),hrt=Ce({program:Ge(),programId:Vi,parsed:Qx()}),grt=Ce({programId:Vi,accounts:wt(Vi),data:Ge()}),$fe=ho(Ce({err:Ct(Mc([Ce({}),Ge()])),logs:Ct(wt(Ge())),accounts:fr(Ct(wt(Ct(Ce({executable:eh(),owner:Ge(),lamports:me(),data:wt(Ge()),rentEpoch:fr(me())}))))),unitsConsumed:fr(me()),returnData:fr(Ct(Ce({programId:Ge(),data:rZ([Ge(),Ei("base64")])}))),innerInstructions:fr(Ct(wt(Ce({index:me(),instructions:wt(Mc([hrt,grt]))}))))})),mrt=ho(Ce({byIdentity:rIe(Ge(),wt(me())),range:Ce({firstSlot:me(),lastSlot:me()})}));function yrt(n,e,t,r,s,i){const o=t||Ytt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Rb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},pnt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await r1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function prt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function brt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Srt=qr(nrt),krt=qr(ort),vrt=qr(irt),Art=qr(art),wrt=qr(crt),Irt=qr(urt),_rt=qr(me()),Prt=ho(Ce({total:me(),circulating:me(),nonCirculating:me(),nonCirculatingAccounts:wt(Vi)})),$9=Ce({amount:Ge(),uiAmount:Ct(me()),decimals:me(),uiAmountString:fr(Ge())}),Ert=ho(wt(Ce({address:Vi,amount:Ge(),uiAmount:Ct(me()),decimals:me(),uiAmountString:fr(Ge())}))),xrt=ho(wt(Ce({pubkey:Vi,account:Ce({executable:eh(),owner:Vi,lamports:me(),data:dZ,rentEpoch:me()})}))),D9=Ce({program:Ge(),parsed:Qx(),space:me()}),Trt=ho(wt(Ce({pubkey:Vi,account:Ce({executable:eh(),owner:Vi,lamports:me(),data:D9,rentEpoch:me()})}))),Rrt=ho(wt(Ce({lamports:me(),address:Vi}))),CM=Ce({executable:eh(),owner:Vi,lamports:me(),data:dZ,rentEpoch:me()}),Crt=Ce({pubkey:Vi,account:CM}),Mrt=rz(Mc([tZ(V.Buffer),D9]),Mc([pIe,D9]),n=>Array.isArray(n)?mt(n,dZ):n),O9=Ce({executable:eh(),owner:Vi,lamports:me(),data:Mrt,rentEpoch:me()}),Brt=Ce({pubkey:Vi,account:O9}),zrt=Ce({state:Mc([Ei("active"),Ei("inactive"),Ei("activating"),Ei("deactivating")]),active:me(),inactive:me()}),$rt=qr(wt(Ce({signature:Ge(),slot:me(),err:ok,memo:Ct(Ge()),blockTime:fr(Ct(me()))}))),Drt=qr(wt(Ce({signature:Ge(),slot:me(),err:ok,memo:Ct(Ge()),blockTime:fr(Ct(me()))}))),Ort=Ce({subscription:me(),result:_K(CM)}),Krt=Ce({pubkey:Vi,account:CM}),Lrt=Ce({subscription:me(),result:_K(Krt)}),Wrt=Ce({parent:me(),slot:me(),root:me()}),Nrt=Ce({subscription:me(),result:Wrt}),Frt=Mc([Ce({type:Mc([Ei("firstShredReceived"),Ei("completed"),Ei("optimisticConfirmation"),Ei("root")]),slot:me(),timestamp:me()}),Ce({type:Ei("createdBank"),parent:me(),slot:me(),timestamp:me()}),Ce({type:Ei("frozen"),slot:me(),timestamp:me(),stats:Ce({numTransactionEntries:me(),numSuccessfulTransactions:me(),numFailedTransactions:me(),maxTransactionsPerEntry:me()})}),Ce({type:Ei("dead"),slot:me(),timestamp:me(),err:Ge()})]),Urt=Ce({subscription:me(),result:Frt}),Vrt=Ce({subscription:me(),result:_K(Mc([lrt,drt]))}),qrt=Ce({subscription:me(),result:me()}),jrt=Ce({pubkey:Ge(),gossip:Ct(Ge()),tpu:Ct(Ge()),rpc:Ct(Ge()),version:Ct(Ge())}),Dfe=Ce({votePubkey:Ge(),nodePubkey:Ge(),activatedStake:me(),epochVoteAccount:eh(),epochCredits:wt(rZ([me(),me(),me()])),commission:me(),lastVote:me(),rootSlot:Ct(me())}),Hrt=qr(Ce({current:wt(Dfe),delinquent:wt(Dfe)})),Grt=Mc([Ei("processed"),Ei("confirmed"),Ei("finalized")]),Yrt=Ce({slot:me(),confirmations:Ct(me()),err:ok,confirmationStatus:fr(Grt)}),Zrt=ho(wt(Ct(Yrt))),Jrt=qr(me()),kIe=Ce({accountKey:Vi,writableIndexes:wt(me()),readonlyIndexes:wt(me())}),fZ=Ce({signatures:wt(Ge()),message:Ce({accountKeys:wt(Ge()),header:Ce({numRequiredSignatures:me(),numReadonlySignedAccounts:me(),numReadonlyUnsignedAccounts:me()}),instructions:wt(Ce({accounts:wt(me()),data:Ge(),programIdIndex:me()})),recentBlockhash:Ge(),addressTableLookups:fr(wt(kIe))})}),vIe=Ce({pubkey:Vi,signer:eh(),writable:eh(),source:fr(Mc([Ei("transaction"),Ei("lookupTable")]))}),AIe=Ce({accountKeys:wt(vIe),signatures:wt(Ge())}),wIe=Ce({parsed:Qx(),program:Ge(),programId:Vi}),IIe=Ce({accounts:wt(Vi),data:Ge(),programId:Vi}),Xrt=Mc([IIe,wIe]),Qrt=Mc([Ce({parsed:Qx(),program:Ge(),programId:Ge()}),Ce({accounts:wt(Ge()),data:Ge(),programId:Ge()})]),_Ie=rz(Xrt,Qrt,n=>"accounts"in n?mt(n,IIe):mt(n,wIe)),PIe=Ce({signatures:wt(Ge()),message:Ce({accountKeys:wt(vIe),instructions:wt(_Ie),recentBlockhash:Ge(),addressTableLookups:fr(Ct(wt(kIe)))})}),pO=Ce({accountIndex:me(),mint:Ge(),owner:fr(Ge()),programId:fr(Ge()),uiTokenAmount:$9}),EIe=Ce({writable:wt(Vi),readonly:wt(Vi)}),PK=Ce({err:ok,fee:me(),innerInstructions:fr(Ct(wt(Ce({index:me(),instructions:wt(Ce({accounts:wt(me()),data:Ge(),programIdIndex:me()}))})))),preBalances:wt(me()),postBalances:wt(me()),logMessages:fr(Ct(wt(Ge()))),preTokenBalances:fr(Ct(wt(pO))),postTokenBalances:fr(Ct(wt(pO))),loadedAddresses:fr(EIe),computeUnitsConsumed:fr(me())}),hZ=Ce({err:ok,fee:me(),innerInstructions:fr(Ct(wt(Ce({index:me(),instructions:wt(_Ie)})))),preBalances:wt(me()),postBalances:wt(me()),logMessages:fr(Ct(wt(Ge()))),preTokenBalances:fr(Ct(wt(pO))),postTokenBalances:fr(Ct(wt(pO))),loadedAddresses:fr(EIe),computeUnitsConsumed:fr(me())}),eT=Mc([Ei(0),Ei("legacy")]),ak=Ce({pubkey:Ge(),lamports:me(),postBalance:Ct(me()),rewardType:Ct(Ge()),commission:fr(Ct(me()))}),ent=qr(Ct(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:wt(Ce({transaction:fZ,meta:Ct(PK),version:fr(eT)})),rewards:fr(wt(ak)),blockTime:Ct(me()),blockHeight:Ct(me())}))),tnt=qr(Ct(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),rewards:fr(wt(ak)),blockTime:Ct(me()),blockHeight:Ct(me())}))),rnt=qr(Ct(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:wt(Ce({transaction:AIe,meta:Ct(PK),version:fr(eT)})),rewards:fr(wt(ak)),blockTime:Ct(me()),blockHeight:Ct(me())}))),nnt=qr(Ct(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:wt(Ce({transaction:PIe,meta:Ct(hZ),version:fr(eT)})),rewards:fr(wt(ak)),blockTime:Ct(me()),blockHeight:Ct(me())}))),snt=qr(Ct(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:wt(Ce({transaction:AIe,meta:Ct(hZ),version:fr(eT)})),rewards:fr(wt(ak)),blockTime:Ct(me()),blockHeight:Ct(me())}))),int=qr(Ct(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),rewards:fr(wt(ak)),blockTime:Ct(me()),blockHeight:Ct(me())}))),ont=qr(Ct(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),transactions:wt(Ce({transaction:fZ,meta:Ct(PK)})),rewards:fr(wt(ak)),blockTime:Ct(me())}))),Ofe=qr(Ct(Ce({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:me(),signatures:wt(Ge()),blockTime:Ct(me())}))),VW=qr(Ct(Ce({slot:me(),meta:Ct(PK),blockTime:fr(Ct(me())),transaction:fZ,version:fr(eT)}))),y$=qr(Ct(Ce({slot:me(),transaction:PIe,meta:Ct(hZ),blockTime:fr(Ct(me())),version:fr(eT)}))),ant=ho(Ce({blockhash:Ge(),feeCalculator:Ce({lamportsPerSignature:me()})})),cnt=ho(Ce({blockhash:Ge(),lastValidBlockHeight:me()})),unt=ho(eh()),lnt=Ce({slot:me(),numTransactions:me(),numSlots:me(),samplePeriodSecs:me()}),dnt=qr(wt(lnt)),fnt=ho(Ct(Ce({feeCalculator:Ce({lamportsPerSignature:me()})}))),hnt=qr(Ge()),gnt=qr(Ge()),mnt=Ce({err:ok,logs:wt(Ge()),signature:Ge()}),ynt=Ce({result:_K(mnt),subscription:me()}),pnt={"solana-client":"js/1.0.0-maintenance"};class bnt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=xs(l),h=this._buildArgs([],d,void 0,y),m=Mfe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=mt(f,qr(me()));if("error"in g)throw new Zt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=trt(e),this._rpcWsEndpoint=r||ert(e),this._rpcClient=yrt(e,s,i,o,a,c),this._rpcRequest=prt(this._rpcClient),this._rpcBatchRequest=brt(this._rpcClient),this._rpcWebSocket=new Ztt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=mt(o,ho(me()));if("error"in a)throw new Zt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=mt(t,qr(Ct(me())));if("error"in r)throw new Zt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=mt(e,qr(me()));if("error"in t)throw new Zt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=mt(e,_rt);if("error"in t)throw new Zt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=mt(r,Prt);if("error"in s)throw new Zt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=mt(s,ho($9));if("error"in i)throw new Zt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=mt(s,ho($9));if("error"in i)throw new Zt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=xs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=mt(c,xrt);if("error"in u)throw new Zt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=mt(o,Trt);if("error"in a)throw new Zt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=mt(s,Rrt);if("error"in i)throw new Zt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=mt(s,Ert);if("error"in i)throw new Zt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=mt(o,ho(Ct(CM)));if("error"in a)throw new Zt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=mt(o,ho(Ct(O9)));if("error"in a)throw new Zt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=xs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=mt(a,ho(wt(Ct(O9))));if("error"in c)throw new Zt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=xs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=mt(a,ho(wt(Ct(CM))));if("error"in c)throw new Zt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=xs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=mt(a,qr(zrt));if("error"in c)throw new Zt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=xs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:zfe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=wt(Crt),l=o.withContext===!0?mt(c,ho(u)):mt(c,qr(u));if("error"in l)throw new Zt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=mt(o,qr(wt(Brt)));if("error"in a)throw new Zt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Nn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:pg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:pg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await r1(1e3),i||(h=await y(),i))return;d({__type:pg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===pg.PROCESSED)l=d.response;else throw new oZ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:pg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await r1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===pg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await r1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Pv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Pv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Pv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Pv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:pg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===pg.PROCESSED)a=c.response;else throw new aZ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=mt(e,qr(wt(jrt)));if("error"in t)throw new Zt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=mt(r,Hrt);if("error"in s)throw new Zt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=mt(i,qr(me()));if("error"in o)throw new Zt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=mt(i,qr(Ge()));if("error"in o)throw new Zt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=mt(s,qr(wt(Vi)));if("error"in i)throw new Zt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Nn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=mt(s,Zrt);if("error"in i)throw new Zt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=mt(i,qr(me()));if("error"in o)throw new Zt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=mt(r,Srt);if("error"in s)throw new Zt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=xs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=mt(a,srt);if("error"in c)throw new Zt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=mt(e,krt);if("error"in t)throw new Zt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=mt(i,Art);if("error"in o)throw new Zt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=mt(e,wrt);if("error"in t)throw new Zt(t.error,"failed to get epoch schedule");const r=t.result;return new yIe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=mt(e,Irt);if("error"in t)throw new Zt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=mt(s,Jrt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=mt(r,ant);if("error"in s)throw new Zt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=mt(t,dnt);if("error"in r)throw new Zt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=mt(s,fnt);if("error"in i)throw new Zt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=en(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=mt(i,ho(Ct(me())));if("error"in o)throw new Zt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=mt(s,vrt);if("error"in i)throw new Zt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=mt(i,cnt);if("error"in o)throw new Zt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=mt(o,unt);if("error"in a)throw new Zt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=mt(e,qr(frt));if("error"in t)throw new Zt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=mt(e,qr(Ge()));if("error"in t)throw new Zt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=mt(o,rnt);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(o,tnt);if("error"in a)throw a.error;return a.result}default:{const a=mt(o,ent);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:UW(d,u.message)},version:d}))}:null}}}catch(a){throw new Zt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=mt(o,snt);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(o,int);if("error"in a)throw a.error;return a.result}default:{const a=mt(o,nnt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Zt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=mt(i,mrt);if("error"in o)throw new Zt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=mt(o,VW);if("error"in a)throw new Zt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:UW(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=mt(o,y$);if("error"in a)throw new Zt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=xs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=mt(c,y$);if("error"in u)throw new Zt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=xs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=mt(c,VW);if("error"in u)throw new Zt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:UW(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=mt(s,ont);if("error"in i)throw new Zt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Sd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Gn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=mt(i,qr(wt(me())));if("error"in o)throw new Zt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=mt(s,Ofe);if("error"in i)throw new Zt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=mt(s,Ofe);if("error"in i)throw new Zt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=mt(s,VW);if("error"in i)throw new Zt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Sd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Gn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=mt(s,y$);if("error"in i)throw new Zt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=mt(o,y$);if("error"in a)throw new Zt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=mt(i,$rt);if("error"in o)throw new Zt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=mt(i,Drt);if("error"in o)throw new Zt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new z9({key:e,state:z9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=IK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=mt(r,hnt);if("error"in s)throw new Zt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await r1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=bIe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await r1(hIe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=mt(i,ho(me()));if("error"in o)throw new Zt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=mt(p,$fe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Gn){let m=e;s=new Gn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Gn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=mt(y,$fe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new RM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=en(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=mt(a,gnt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new RM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=mt(e,Ort);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Mfe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Nn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=xs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=mt(e,Lrt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=xs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:zfe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=mt(e,ynt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=mt(e,Nrt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=mt(e,Urt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=mt(e,Vrt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=mt(e,qrt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Xv{constructor(e){this._keypair=void 0,this._keypair=e??xfe()}static generate(){return new Xv(xfe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=yO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Xv({publicKey:r,secretKey:e})}static fromSeed(e){const t=yO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Xv({publicKey:t,secretKey:r})}get publicKey(){return new st(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Mg=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),UA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),UA(),we(Sn(),Vt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class Snt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Mg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ns(Mg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ns(Mg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new st(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(gZ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class gZ{constructor(){}static createLookupTable(e){const[t,r]=st.findProgramAddressSync([e.authority.toBuffer(),rc(BigInt(e.recentSlot),8)],this.programId),s=Mg.CreateLookupTable,i=Rn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Wa.programId,isSigner:!1,isWritable:!1}];return[new ks({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Mg.FreezeLookupTable,r=Rn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ks({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Mg.ExtendLookupTable,r=Rn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Wa.programId,isSigner:!1,isWritable:!1}),new ks({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Mg.DeactivateLookupTable,r=Rn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ks({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Mg.CloseLookupTable,r=Rn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ks({programId:this.programId,keys:s,data:r})}}gZ.programId=new st("AddressLookupTab1e1111111111111111111111111");class knt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(kf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ns(kf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ns(kf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ns(kf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ns(kf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(mZ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const kf=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),UA("microLamports")])}});class mZ{constructor(){}static requestUnits(e){const t=kf.RequestUnits,r=Rn(t,e);return new ks({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=kf.RequestHeapFrame,r=Rn(t,e);return new ks({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=kf.SetComputeUnitLimit,r=Rn(t,e);return new ks({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=kf.SetComputeUnitPrice,r=Rn(t,{microLamports:BigInt(e.microLamports)});return new ks({keys:[],programId:this.programId,data:r})}}mZ.programId=new st("ComputeBudget111111111111111111111111111111");const Kfe=64,Lfe=32,Wfe=64,Nfe=N([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class EK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Nn(t.length===Lfe,`Public Key must be ${Lfe} bytes but received ${t.length} bytes`),Nn(s.length===Wfe,`Signature must be ${Wfe} bytes but received ${s.length} bytes`);const o=Nfe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Nfe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new ks({keys:[],programId:EK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Nn(t.length===Kfe,`Private key must be ${Kfe} bytes but received ${t.length} bytes`);try{const i=Xv.fromSecretKey(t),o=i.publicKey.toBytes(),a=sZ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}EK.programId=new st("Ed25519SigVerify111111111111111111111111111");const vnt=(n,e)=>{const t=vK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};vK.utils.isValidPrivateKey;const Ant=vK.getPublicKey,Ffe=32,qW=20,Ufe=64,wnt=11,jW=N([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Qv{constructor(){}static publicKeyToEthAddress(e){Nn(e.length===Ufe,`Public key must be ${Ufe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(wfe(en(e))).slice(-qW)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Qv.createInstructionWithEthAddress({ethAddress:Qv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Nn(a.length===qW,`Address must be ${qW} bytes but received ${a.length} bytes`);const c=1+wnt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(jW.span+r.length);return jW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:en(s),ethAddress:en(a),recoveryId:i},h),h.fill(en(r),jW.span),new ks({keys:[],programId:Qv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Nn(t.length===Ffe,`Private key must be ${Ffe} bytes but received ${t.length} bytes`);try{const i=en(t),o=Ant(i,!1).slice(1),a=V.Buffer.from(wfe(en(r))),[c,u]=vnt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Qv.programId=new st("KeccakSecp256k11111111111111111111111111111");var xIe;const TIe=new st("StakeConfig11111111111111111111111111111111");class RIe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class nz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}xIe=nz;nz.default=new xIe(0,0,st.default);class Int{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(va))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ns(va.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new RIe(new st(t.staker),new st(t.withdrawer)),lockup:new nz(r.unixTimestamp,r.epoch,new st(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ns(va.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ns(va.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new st(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ns(va.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new st(i),newAuthorizedPubkey:new st(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ns(va.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ns(va.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ns(va.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ns(va.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(xK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const va=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),_tt(),Ptt()])},Authorize:{index:1,layout:N([F("instruction"),Sn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Pe("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Pe("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),Sn("newAuthorized"),F("stakeAuthorizationType"),P1("authoritySeed"),Sn("authorityOwner")])}}),_nt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class xK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||nz.default,o=va.Initialize,a=Rn(o,{authorized:{staker:en(r.staker.toBuffer()),withdrawer:en(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:en(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:FA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ks(c)}static createAccountWithSeed(e){const t=new Gn;t.add(Wa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Gn;t.add(Wa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=va.Delegate,o=Rn(i);return new Gn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:vD,isSigner:!1,isWritable:!1},{pubkey:TIe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=va.Authorize,c=Rn(a,{newAuthorized:en(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Gn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=va.AuthorizeWithSeed,l=Rn(u,{newAuthorized:en(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:en(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:rf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Gn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=va.Split,a=Rn(o,{lamports:i});return new ks({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Gn;return r.add(Wa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Gn;return u.add(Wa.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Wa.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=va.Merge,o=Rn(i);return new Gn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:vD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=va.Withdraw,c=Rn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:vD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Gn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=va.Deactivate,i=Rn(s);return new Gn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}xK.programId=new st("Stake11111111111111111111111111111111111111");xK.space=200;class CIe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class Pnt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(vf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ns(vf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new CIe(new st(t.nodePubkey),new st(t.authorizedVoter),new st(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ns(vf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new st(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ns(vf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new st(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new st(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ns(vf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(tT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const vf=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),Ett()])},Authorize:{index:1,layout:N([F("instruction"),Sn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Pe("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),xtt()])}}),Ent=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class tT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=vf.InitializeAccount,o=Rn(i,{voteInit:{nodePubkey:en(s.nodePubkey.toBuffer()),authorizedVoter:en(s.authorizedVoter.toBuffer()),authorizedWithdrawer:en(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:FA,isSigner:!1,isWritable:!1},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ks(a)}static createAccount(e){const t=new Gn;return t.add(Wa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=vf.Authorize,a=Rn(o,{newAuthorized:en(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=vf.AuthorizeWithSeed,u=Rn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:en(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:en(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:rf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Gn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=vf.Withdraw,a=Rn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return tT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=vf.UpdateValidatorIdentity,o=Rn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:a,programId:this.programId,data:o})}}tT.programId=new st("Vote111111111111111111111111111111111111111");tT.space=3762;const MIe=new st("Va1idator1nfo111111111111111111111111111111"),xnt=Ce({name:Ge(),website:fr(Ge()),details:fr(Ge()),iconUrl:fr(Ge()),keybaseUsername:fr(Ge())});class yZ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(ou(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new st(au(t,0,Nf)),a=Sf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(MIe)&&s[1].isSigner){const i=P1().decode(V.Buffer.from(t)),o=JSON.parse(i);return eIe(o,xnt),new yZ(s[1].publicKey,o)}return null}}const Tnt=new st("Vote111111111111111111111111111111111111111"),Rnt=N([Sn("nodePubkey"),Sn("authorizedWithdrawer"),te("commission"),Ae(),we(N([Ae("slot"),F("confirmationCount")]),Vt(F(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(N([Ae("epoch"),Sn("authorizedVoter")]),Vt(F(),-8),"authorizedVoters"),N([we(N([Sn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(N([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(F(),-8),"epochCredits"),N([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class pZ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Rnt.decode(en(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new pZ({nodePubkey:new st(r.nodePubkey),authorizedWithdrawer:new st(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(Cnt),priorVoters:Mnt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Cnt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new st(n)}}function Vfe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new st(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function Mnt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Vfe),...n.slice(0,e).map(Vfe)]}const qfe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Bnt(n,e){const t=e===!1?"http":"https";if(!n)return qfe[t].devnet;const r=qfe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function znt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new RM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const $nt=1e9;var Dnt=Object.freeze(Object.defineProperty({__proto__:null,Account:Att,AddressLookupTableAccount:z9,AddressLookupTableInstruction:Snt,AddressLookupTableProgram:gZ,Authorized:RIe,BLOCKHASH_CACHE_TIMEOUT_MS:bIe,BPF_LOADER_DEPRECATED_PROGRAM_ID:wtt,BPF_LOADER_PROGRAM_ID:Utt,BpfLoader:Vtt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:kf,ComputeBudgetInstruction:knt,ComputeBudgetProgram:mZ,Connection:bnt,Ed25519Program:EK,Enum:ktt,EpochSchedule:yIe,FeeCalculatorLayout:gIe,Keypair:Xv,LAMPORTS_PER_SOL:$nt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Mg,Loader:bS,Lockup:nz,MAX_SEED_LENGTH:lIe,Message:Sd,MessageAccountKeys:TM,MessageV0:pS,NONCE_ACCOUNT_LENGTH:B9,NonceAccount:IK,PACKET_DATA_SIZE:Vy,PUBLIC_KEY_LENGTH:Nf,PublicKey:st,SIGNATURE_LENGTH_IN_BYTES:xM,SOLANA_SCHEMA:D2,STAKE_CONFIG_ID:TIe,STAKE_INSTRUCTION_LAYOUTS:va,SYSTEM_INSTRUCTION_LAYOUTS:Os,SYSVAR_CLOCK_PUBKEY:rf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Btt,SYSVAR_INSTRUCTIONS_PUBKEY:ztt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:kD,SYSVAR_RENT_PUBKEY:FA,SYSVAR_REWARDS_PUBKEY:$tt,SYSVAR_SLOT_HASHES_PUBKEY:Dtt,SYSVAR_SLOT_HISTORY_PUBKEY:Ott,SYSVAR_STAKE_HISTORY_PUBKEY:vD,Secp256k1Program:Qv,SendTransactionError:RM,SolanaJSONRPCError:Zt,SolanaJSONRPCErrorCode:Ktt,StakeAuthorizationLayout:_nt,StakeInstruction:Int,StakeProgram:xK,Struct:iZ,SystemInstruction:Ntt,SystemProgram:Wa,Transaction:Gn,TransactionExpiredBlockheightExceededError:oZ,TransactionExpiredNonceInvalidError:Pv,TransactionExpiredTimeoutError:aZ,TransactionInstruction:ks,TransactionMessage:uZ,TransactionStatus:pg,VALIDATOR_INFO_KEY:MIe,VERSION_PREFIX_MASK:AK,VOTE_PROGRAM_ID:Tnt,ValidatorInfo:yZ,VersionedMessage:cZ,VersionedTransaction:lZ,VoteAccount:pZ,VoteAuthorizationLayout:Ent,VoteInit:CIe,VoteInstruction:Pnt,VoteProgram:tT,clusterApiUrl:Bnt,sendAndConfirmRawTransaction:znt,sendAndConfirmTransaction:M9},Symbol.toStringTag,{value:"Module"})),qs=xd(Dnt),bZ={},BIe={};Object.defineProperty(BIe,"__esModule",{value:!0});var zIe={},Fp={};function bO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function Ont(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function sz(n,...e){if(!Ont(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function Knt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bO(n.outputLen),bO(n.blockLen)}function VA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function $Ie(n,e){sz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const HW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lnt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),GW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Kd=(n,e)=>n<<32-e|n>>>e,jfe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Wnt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Hfe(n){for(let e=0;e<n.length;e++)n[e]=Wnt(n[e])}function Nnt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function TK(n){return typeof n=="string"&&(n=Nnt(n)),sz(n),n}function Fnt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];sz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class SZ{clone(){return this._cloneInto()}}function kZ(n){const e=r=>n().update(TK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function DIe(n=32){if(HW&&typeof HW.getRandomValues=="function")return HW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function Unt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const Vnt=(n,e,t)=>n&e^~n&t,qnt=(n,e,t)=>n&e^n&t^e&t;class OIe extends SZ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=GW(this.buffer)}update(e){VA(this);const{view:t,buffer:r,blockLen:s}=this;e=TK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=GW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){VA(this),$Ie(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;Unt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=GW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const p$=BigInt(2**32-1),K9=BigInt(32);function KIe(n,e=!1){return e?{h:Number(n&p$),l:Number(n>>K9&p$)}:{h:Number(n>>K9&p$)|0,l:Number(n&p$)|0}}function LIe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=KIe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const jnt=(n,e)=>BigInt(n>>>0)<<K9|BigInt(e>>>0),Hnt=(n,e,t)=>n>>>t,Gnt=(n,e,t)=>n<<32-t|e>>>t,Ynt=(n,e,t)=>n>>>t|e<<32-t,Znt=(n,e,t)=>n<<32-t|e>>>t,Jnt=(n,e,t)=>n<<64-t|e>>>t-32,Xnt=(n,e,t)=>n>>>t-32|e<<64-t,Qnt=(n,e)=>e,est=(n,e)=>n,WIe=(n,e,t)=>n<<t|e>>>32-t,NIe=(n,e,t)=>e<<t|n>>>32-t,FIe=(n,e,t)=>e<<t-32|n>>>64-t,UIe=(n,e,t)=>n<<t-32|e>>>64-t;function tst(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const rst=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),nst=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,sst=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),ist=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,ost=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),ast=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,cst={fromBig:KIe,split:LIe,toBig:jnt,shrSH:Hnt,shrSL:Gnt,rotrSH:Ynt,rotrSL:Znt,rotrBH:Jnt,rotrBL:Xnt,rotr32H:Qnt,rotr32L:est,rotlSH:WIe,rotlSL:NIe,rotlBH:FIe,rotlBL:UIe,add:tst,add3L:rst,add3H:nst,add4L:sst,add4H:ist,add5H:ast,add5L:ost};var Dr=cst;const[ust,lst]=(()=>Dr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Lm=new Uint32Array(80),Wm=new Uint32Array(80);class dst extends OIe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Lm[p]=e.getUint32(t),Wm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Lm[p-15]|0,A=Wm[p-15]|0,w=Dr.rotrSH(I,A,1)^Dr.rotrSH(I,A,8)^Dr.shrSH(I,A,7),_=Dr.rotrSL(I,A,1)^Dr.rotrSL(I,A,8)^Dr.shrSL(I,A,7),P=Lm[p-2]|0,M=Wm[p-2]|0,E=Dr.rotrSH(P,M,19)^Dr.rotrBH(P,M,61)^Dr.shrSH(P,M,6),T=Dr.rotrSL(P,M,19)^Dr.rotrBL(P,M,61)^Dr.shrSL(P,M,6),z=Dr.add4L(_,T,Wm[p-7],Wm[p-16]),O=Dr.add4H(z,w,E,Lm[p-7],Lm[p-16]);Lm[p]=O|0,Wm[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Dr.rotrSH(d,y,14)^Dr.rotrSH(d,y,18)^Dr.rotrBH(d,y,41),A=Dr.rotrSL(d,y,14)^Dr.rotrSL(d,y,18)^Dr.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=Dr.add5L(S,A,_,lst[p],Wm[p]),M=Dr.add5H(P,b,I,w,ust[p],Lm[p]),E=P|0,T=Dr.rotrSH(r,s,28)^Dr.rotrBH(r,s,34)^Dr.rotrBH(r,s,39),z=Dr.rotrSL(r,s,28)^Dr.rotrBL(r,s,34)^Dr.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Dr.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Dr.add3L(E,z,R);r=Dr.add3H(v,M,T,O),s=v|0}({h:r,l:s}=Dr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Dr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Dr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Dr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Dr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Dr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Dr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Dr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Lm.fill(0),Wm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fst=kZ(()=>new dst);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vZ=BigInt(0),RK=BigInt(1),hst=BigInt(2);function SS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function iz(n){if(!SS(n))throw new Error("Uint8Array expected")}function qg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const gst=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function kS(n){iz(n);let e="";for(let t=0;t<n.length;t++)e+=gst[n[t]];return e}function VIe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function AZ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Eh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Gfe(n){if(n>=Eh._0&&n<=Eh._9)return n-Eh._0;if(n>=Eh._A&&n<=Eh._F)return n-(Eh._A-10);if(n>=Eh._a&&n<=Eh._f)return n-(Eh._a-10)}function qA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Gfe(n.charCodeAt(i)),a=Gfe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function N1(n){return AZ(kS(n))}function eA(n){return iz(n),AZ(kS(Uint8Array.from(n).reverse()))}function jA(n,e){return qA(n.toString(16).padStart(e*2,"0"))}function MM(n,e){return jA(n,e).reverse()}function mst(n){return qA(VIe(n))}function ra(n,e,t){let r;if(typeof e=="string")try{r=qA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(SS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function vS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];iz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function yst(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function pst(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const YW=n=>typeof n=="bigint"&&vZ<=n;function CK(n,e,t){return YW(n)&&YW(e)&&YW(t)&&e<=n&&n<t}function kl(n,e,t,r){if(!CK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function bst(n){let e;for(e=0;n>vZ;n>>=RK,e+=1);return e}function Sst(n,e){return n>>BigInt(e)&RK}function kst(n,e,t){return n|(t?RK:vZ)<<BigInt(e)}const wZ=n=>(hst<<BigInt(n-1))-RK,ZW=n=>new Uint8Array(n),Yfe=n=>Uint8Array.from(n);function qIe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=ZW(n),s=ZW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=ZW())=>{s=a(Yfe([0]),d),r=a(),d.length!==0&&(s=a(Yfe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return vS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const vst={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||SS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function rT(n,e,t={}){const r=(s,i,o)=>{const a=vst[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Ast=()=>{throw new Error("not implemented")};function BM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var wst=Object.freeze(Object.defineProperty({__proto__:null,isBytes:SS,abytes:iz,abool:qg,bytesToHex:kS,numberToHexUnpadded:VIe,hexToNumber:AZ,hexToBytes:qA,bytesToNumberBE:N1,bytesToNumberLE:eA,numberToBytesBE:jA,numberToBytesLE:MM,numberToVarBytesBE:mst,ensureBytes:ra,concatBytes:vS,equalBytes:yst,utf8ToBytes:pst,inRange:CK,aInRange:kl,bitLen:bst,bitGet:Sst,bitSet:kst,bitMask:wZ,createHmacDrbg:qIe,validateObject:rT,notImplemented:Ast,memoized:BM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ja=BigInt(0),Oi=BigInt(1),n1=BigInt(2),Ist=BigInt(3),L9=BigInt(4),Zfe=BigInt(5),Jfe=BigInt(8);BigInt(9);BigInt(16);function yi(n,e){const t=n%e;return t>=Ja?t:e+t}function _st(n,e,t){if(t<=Ja||e<Ja)throw new Error("Expected power/modulo > 0");if(t===Oi)return Ja;let r=Oi;for(;e>Ja;)e&Oi&&(r=r*n%t),n=n*n%t,e>>=Oi;return r}function ro(n,e,t){let r=n;for(;e-- >Ja;)r*=r,r%=t;return r}function W9(n,e){if(n===Ja||e<=Ja)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=yi(n,e),r=e,s=Ja,i=Oi;for(;t!==Ja;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Oi)throw new Error("invert: does not exist");return yi(s,e)}function Pst(n){const e=(n-Oi)/n1;let t,r,s;for(t=n-Oi,r=0;t%n1===Ja;t/=n1,r++);for(s=n1;s<n&&_st(s,e,n)!==n-Oi;s++);if(r===1){const o=(n+Oi)/L9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Oi)/n1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Oi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function Est(n){if(n%L9===Ist){const e=(n+Oi)/L9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Jfe===Zfe){const e=(n-Zfe)/Jfe;return function(r,s){const i=r.mul(s,n1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,n1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Pst(n)}const xst=(n,e)=>(yi(n,e)&Oi)===Oi,Tst=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Rst(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Tst.reduce((r,s)=>(r[s]="function",r),e);return rT(n,t)}function Cst(n,e,t){if(t<Ja)throw new Error("Expected power > 0");if(t===Ja)return n.ONE;if(t===Oi)return e;let r=n.ONE,s=e;for(;t>Ja;)t&Oi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Oi;return r}function Mst(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function jIe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function HIe(n,e,t=!1,r={}){if(n<=Ja)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=jIe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=Est(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:wZ(s),ZERO:Ja,ONE:Oi,create:c=>yi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ja<=c&&c<n},is0:c=>c===Ja,isOdd:c=>(c&Oi)===Oi,neg:c=>yi(-c,n),eql:(c,u)=>c===u,sqr:c=>yi(c*c,n),add:(c,u)=>yi(c+u,n),sub:(c,u)=>yi(c-u,n),mul:(c,u)=>yi(c*u,n),pow:(c,u)=>Cst(a,c,u),div:(c,u)=>yi(c*W9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>W9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>Mst(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?MM(c,i):jA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?eA(c):N1(c)}});return Object.freeze(a)}function GIe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function YIe(n){const e=GIe(n);return e+Math.ceil(e/2)}function Bst(n,e,t=!1){const r=n.length,s=GIe(e),i=YIe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?N1(n):eA(n),a=yi(o,e-Oi)+Oi;return t?MM(a,s):jA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zst=BigInt(0),JW=BigInt(1),XW=new WeakMap,Xfe=new WeakMap;function ZIe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>zst;)o&JW&&(a=a.add(c)),c=c.double(),o>>=JW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=JW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,A=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(A,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Xfe.get(i)||1;let u=XW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&XW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Xfe.set(i,o),XW.delete(i)}}}function IZ(n){return Rst(n.Fp),rT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jIe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ol=BigInt(0),Vc=BigInt(1),b$=BigInt(2),$st=BigInt(8),Dst={zip215:!0};function Ost(n){const e=IZ(n);return rT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Kst(n){const e=Ost(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=b$<<BigInt(a*8)-Vc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Ol}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(qg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){kl("coordinate "+v,k,Ol,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=BM((v,k)=>{const{ex:x,ey:C,ez:B}=v,D=v.is0();k==null&&(k=D?$st:t.inv(B));const $=l(x*k),W=l(C*k),L=l(B*k);if(D)return{x:Ol,y:Vc};if(L!==Vc)throw new Error("invZ was invalid");return{x:$,y:W}}),b=BM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:D,et:$}=v,W=l(C*C),L=l(B*B),U=l(D*D),G=l(U*U),J=l(W*k),Q=l(U*l(J+L)),Y=l(G+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(D*$);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Vc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:D,ey:$,ez:W}=k,L=l(x*W),U=l(D*B),G=l(C*W),J=l($*B);return L===U&&G===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,D=l(x*x),$=l(C*C),W=l(b$*l(B*B)),L=l(k*D),U=x+C,G=l(l(U*U)-D-$),J=L+$,Q=J-W,Y=L-$,X=l(G*Q),re=l(J*Y),se=l(G*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:D,ez:$,et:W}=this,{ex:L,ey:U,ez:G,et:J}=k;if(x===BigInt(-1)){const Lt=l((D-B)*(U+L)),Dt=l((D+B)*(U-L)),et=l(Dt-Lt);if(et===Ol)return this.double();const Ue=l($*b$*J),Wt=l(W*b$*G),sr=Wt+Ue,tr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(tr*pr),gn=l(sr*pr),ds=l(et*tr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(D*U),X=l(W*C*J),re=l($*G),se=l((B+D)*(L+U)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),_e=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(_e,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return A.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;kl("scalar",x,Vc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return kl("scalar",x,Ol,r),x===Ol?I:this.equals(I)||x===Vc?this:this.equals(p)?this.wNAF(x).p:A.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Vc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,D=t.BYTES;k=ra("pointHex",k,D),qg("zip215",x);const $=k.slice(),W=k[D-1];$[D-1]=W&-129;const L=eA($),U=x?u:t.ORDER;kl("pointHex.y",L,Ol,U);const G=l(L*L),J=l(G-Vc),Q=l(C*G-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Vc)===Vc,se=(W&128)!==0;if(!x&&X===Ol&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return P(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=MM(x,t.BYTES);return C[C.length-1]|=k&Vc?128:0,C}toHex(){return kS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Vc,l(e.Gx*e.Gy)),S.ZERO=new S(Ol,Vc,Vc,Ol);const{BASE:p,ZERO:I}=S,A=ZIe(S,a*8);function w(v){return yi(v,r)}function _(v){return w(eA(v))}function P(v){const k=a;v=ra("private key",v,k);const x=ra("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),D=_(C),$=p.multiply(D),W=$.toRawBytes();return{head:C,prefix:B,scalar:D,point:$,pointBytes:W}}function M(v){return P(v).pointBytes}function E(v=new Uint8Array,...k){const x=vS(...k);return _(i(h(x,ra("context",v),!!s)))}function T(v,k,x={}){v=ra("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:D}=P(k),$=E(x.context,C,v),W=p.multiply($).toRawBytes(),L=E(x.context,W,D,v),U=w($+L*B);kl("signature.s",U,Ol,r);const G=vS(W,MM(U,t.BYTES));return ra("result",G,a*2)}const z=Dst;function O(v,k,x,C=z){const{context:B,zip215:D}=C,$=t.BYTES;v=ra("signature",v,2*$),k=ra("message",k),D!==void 0&&qg("zip215",D),s&&(k=s(k));const W=eA(v.slice($,2*$));let L,U,G;try{L=S.fromHex(x,D),U=S.fromHex(v.slice(0,$),D),G=p.multiplyUnsafe(W)}catch{return!1}if(!D&&L.isSmallOrder())return!1;const J=E(B,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(G).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:T,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _Z=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Qfe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Lst=BigInt(1),ehe=BigInt(2);BigInt(3);const Wst=BigInt(5),Nst=BigInt(8);function Fst(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=_Z,a=n*n%i*n%i,c=ro(a,ehe,i)*a%i,u=ro(c,Lst,i)*n%i,l=ro(u,Wst,i)*u%i,d=ro(l,e,i)*l%i,y=ro(d,t,i)*d%i,h=ro(y,r,i)*y%i,m=ro(h,s,i)*h%i,f=ro(m,s,i)*h%i,g=ro(f,e,i)*l%i;return{pow_p_5_8:ro(g,ehe,i)*n%i,b2:a}}function Ust(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Vst(n,e){const t=_Z,r=yi(e*e*e,t),s=yi(r*r*e,t),i=Fst(n*s).pow_p_5_8;let o=yi(n*r*i,t);const a=yi(e*o*o,t),c=o,u=yi(o*Qfe,t),l=a===n,d=a===yi(-n,t),y=a===yi(-n*Qfe,t);return l&&(o=c),(d||y)&&(o=u),xst(o,t)&&(o=yi(-o,t)),{isValid:l||d,value:o}}const qst=(()=>HIe(_Z,void 0,!0))(),jst=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:qst,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Nst,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:fst,randomBytes:DIe,adjustScalarBytes:Ust,uvRatio:Vst}))(),nT=(()=>Kst(jst))(),Hst=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Nm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Fm=new Uint32Array(64);class Gst extends OIe{constructor(){super(64,32,8,!1),this.A=Nm[0]|0,this.B=Nm[1]|0,this.C=Nm[2]|0,this.D=Nm[3]|0,this.E=Nm[4]|0,this.F=Nm[5]|0,this.G=Nm[6]|0,this.H=Nm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Fm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Fm[d-15],h=Fm[d-2],m=Kd(y,7)^Kd(y,18)^y>>>3,f=Kd(h,17)^Kd(h,19)^h>>>10;Fm[d]=f+Fm[d-7]+m+Fm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Kd(a,6)^Kd(a,11)^Kd(a,25),h=l+y+Vnt(a,c,u)+Hst[d]+Fm[d]|0,f=(Kd(r,2)^Kd(r,13)^Kd(r,22))+qnt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Fm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const N9=kZ(()=>new Gst);class Yst extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Zst(n){return oz(n)&&typeof n[Symbol.iterator]=="function"}function oz(n){return typeof n=="object"&&n!=null}function SO(n){return oz(n)&&!Array.isArray(n)}function kd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Jst(n){const{done:e,value:t}=n.next();return e?void 0:t}function Xst(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${kd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*the(n,e,t,r){Zst(n)||(n=[n]);for(const s of n){const i=Xst(s,e,t,r);i&&(yield i)}}function*PZ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=PZ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):oz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class hh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return the(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return the(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return JIe(e,this,t)}create(e,t){return yt(e,this,t)}is(e){return XIe(e,this)}mask(e,t){return Qst(e,this,t)}validate(e,t={}){return az(e,this,t)}}function JIe(n,e,t){const r=az(n,e,{message:t});if(r[0])throw r[0]}function yt(n,e,t){const r=az(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Qst(n,e,t){const r=az(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function XIe(n,e){return!az(n,e)[0]}function az(n,e,t={}){const r=PZ(n,e,t),s=Jst(r);if(s[0])return[new Yst(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function ck(n,e){return new hh({type:n,schema:null,validator:e})}function eit(){return ck("any",()=>!0)}function It(n){return new hh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${kd(e)}`}})}function th(){return ck("boolean",n=>typeof n=="boolean")}function EZ(n){return ck("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${kd(e)}`)}function xi(n){const e=kd(n),t=typeof n;return new hh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${kd(r)}`}})}function tit(){return ck("never",()=>!1)}function Mt(n){return new hh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ye(){return ck("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${kd(n)}`)}function hr(n){return new hh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function QIe(n,e){return new hh({type:"record",schema:null,*entries(t){if(oz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return SO(t)||`Expected an object, but received: ${kd(t)}`},coercer(t){return SO(t)?{...t}:t}})}function Ye(){return ck("string",n=>typeof n=="string"||`Expected a string, but received: ${kd(n)}`)}function xZ(n){const e=tit();return new hh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${kd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Me(n){const e=Object.keys(n);return new hh({type:"type",schema:n,*entries(t){if(oz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return SO(t)||`Expected an object, but received: ${kd(t)}`},coercer(t){return SO(t)?{...t}:t}})}function Bc(n){const e=n.map(t=>t.type).join(" | ");return new hh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=PZ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${kd(t)}`,...s]}})}function sT(){return ck("unknown",()=>!0)}function cz(n,e,t){return new hh({...n,coercer:(r,s)=>XIe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const e_e=[],t_e=[],r_e=[],rit=BigInt(0),_R=BigInt(1),nit=BigInt(2),sit=BigInt(7),iit=BigInt(256),oit=BigInt(113);for(let n=0,e=_R,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],e_e.push(2*(5*r+t)),t_e.push((n+1)*(n+2)/2%64);let s=rit;for(let i=0;i<7;i++)e=(e<<_R^(e>>sit)*oit)%iit,e&nit&&(s^=_R<<(_R<<BigInt(i))-_R);r_e.push(s)}const[ait,cit]=LIe(r_e,!0),rhe=(n,e,t)=>t>32?FIe(n,e,t):WIe(n,e,t),nhe=(n,e,t)=>t>32?UIe(n,e,t):NIe(n,e,t);function uit(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=rhe(u,l,1)^t[a],y=nhe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=t_e[o],c=rhe(s,i,a),u=nhe(s,i,a),l=e_e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=ait[r],n[1]^=cit[r]}t.fill(0)}class TZ extends SZ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,bO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Lnt(this.state)}keccak(){jfe||Hfe(this.state32),uit(this.state32,this.rounds),jfe||Hfe(this.state32),this.posOut=0,this.pos=0}update(e){VA(this);const{blockLen:t,state:r}=this;e=TK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){VA(this,!1),sz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return bO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($Ie(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new TZ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const lit=(n,e,t)=>kZ(()=>new TZ(e,n,t)),she=lit(1,136,256/8);class n_e extends SZ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Knt(e);const r=TK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return VA(this),this.iHash.update(e),this}digestInto(e){VA(this),sz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const s_e=(n,e,t)=>new n_e(n,e).update(t).digest();s_e.create=(n,e)=>new n_e(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ihe(n){n.lowS!==void 0&&qg("lowS",n.lowS),n.prehash!==void 0&&qg("prehash",n.prehash)}function dit(n){const e=IZ(n);rT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:fit,hexToBytes:hit}=wst,E1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=E1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:fit(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=E1,t=typeof n=="string"?hit(n):n;iz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=E1._parseInt(t.subarray(2)),{d:o,l:a}=E1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ey=BigInt(0),ha=BigInt(1);BigInt(2);const ohe=BigInt(3);BigInt(4);function git(n){const e=dit(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return vS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return CK(m,ha,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(SS(m)&&(m=kS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:N1(ra("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=yi(p,S)),kl("private key",p,ha,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=BM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),A=t.mul(b,f),w=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),l=BM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ra("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f,w=t.eql(t.mul(g,A),t.mul(p,S)),_=t.eql(t.mul(b,A),t.mul(I,S));return w&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,ohe),{px:S,py:p,pz:I}=this;let A=t.ZERO,w=t.ZERO,_=t.ZERO,P=t.mul(S,S),M=t.mul(p,p),E=t.mul(I,I),T=t.mul(S,p);return T=t.add(T,T),_=t.mul(S,I),_=t.add(_,_),A=t.mul(f,_),w=t.mul(b,E),w=t.add(A,w),A=t.sub(M,w),w=t.add(M,w),w=t.mul(A,w),A=t.mul(T,A),_=t.mul(b,_),E=t.mul(f,E),T=t.sub(P,E),T=t.mul(f,T),T=t.add(T,_),_=t.add(P,P),P=t.add(_,P),P=t.add(P,E),P=t.mul(P,T),w=t.add(w,P),E=t.mul(p,I),E=t.add(E,E),P=t.mul(E,T),A=t.sub(A,P),_=t.mul(E,M),_=t.add(_,_),_=t.add(_,_),new d(A,w,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f;let w=t.ZERO,_=t.ZERO,P=t.ZERO;const M=e.a,E=t.mul(e.b,ohe);let T=t.mul(g,p),z=t.mul(b,I),O=t.mul(S,A),R=t.add(g,b),v=t.add(p,I);R=t.mul(R,v),v=t.add(T,z),R=t.sub(R,v),v=t.add(g,S);let k=t.add(p,A);return v=t.mul(v,k),k=t.add(T,O),v=t.sub(v,k),k=t.add(b,S),w=t.add(I,A),k=t.mul(k,w),w=t.add(z,O),k=t.sub(k,w),P=t.mul(M,v),w=t.mul(E,O),P=t.add(w,P),w=t.sub(z,P),P=t.add(z,P),_=t.mul(w,P),z=t.add(T,T),z=t.add(z,T),O=t.mul(M,O),v=t.mul(E,v),z=t.add(z,O),O=t.sub(T,O),O=t.mul(M,O),v=t.add(v,O),T=t.mul(z,v),_=t.add(_,T),T=t.mul(k,v),w=t.mul(R,w),w=t.sub(w,T),T=t.mul(R,z),P=t.mul(k,P),P=t.add(P,T),new d(w,_,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){kl("scalar",f,Ey,e.n);const g=d.ZERO;if(f===Ey)return g;if(f===ha)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:A}=b.splitScalar(f),w=g,_=g,P=this;for(;p>Ey||A>Ey;)p&ha&&(w=w.add(P)),A&ha&&(_=_.add(P)),P=P.double(),p>>=ha,A>>=ha;return S&&(w=w.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),w.add(_)}multiply(f){const{endo:g,n:b}=e;kl("scalar",f,ha,b);let S,p;if(g){const{k1neg:I,k1:A,k2neg:w,k2:_}=g.splitScalar(f);let{p:P,f:M}=this.wNAF(A),{p:E,f:T}=this.wNAF(_);P=h.constTimeNegate(I,P),E=h.constTimeNegate(w,E),E=new d(t.mul(E.px,g.beta),E.py,E.pz),S=P.add(E),p=M.add(T)}else{const{p:I,f:A}=this.wNAF(f);S=I,p=A}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(A,w)=>w===Ey||w===ha||!A.equals(S)?A.multiplyUnsafe(w):A.multiply(w),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ha)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ha?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return qg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return qg("isCompressed",f),kS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=ZIe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function mit(n){const e=IZ(n);return rT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function yit(n){const e=mit(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(R){return yi(R,r)}function a(R){return W9(R,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=git({...e,toBytes(R,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=vS;return qg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(R){const v=R.length,k=R[0],x=R.subarray(1);if(v===s&&(k===2||k===3)){const C=N1(x);if(!CK(C,ha,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let D;try{D=t.sqrt(B)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const $=(D&ha)===ha;return(k&1)===1!==$&&(D=t.neg(D)),{x:C,y:D}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=R=>kS(jA(R,e.nByteLength));function h(R){const v=r>>ha;return R>v}function m(R){return h(R)?o(-R):R}const f=(R,v,k)=>N1(R.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ra("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=E1.toSig(ra("DER",v));return new g(k,x)}assertValidity(){kl("r",this.r,ha,r),kl("s",this.s,ha,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=w(ra("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const D=C===2||C===3?k+e.n:k;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(C&1)===0?"02":"03",W=c.fromHex($+y(D)),L=a(D),U=o(-B*L),G=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,U,G);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return qA(this.toDERHex())}toDERHex(){return E1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=YIe(e.n);return Bst(e.randomBytes(R),e.n)},precompute(R=8,v=c.BASE){return v._setWindowSize(R),v.multiply(BigInt(3)),v}};function S(R,v=!0){return c.fromPrivateKey(R).toRawBytes(v)}function p(R){const v=SS(R),k=typeof R=="string",x=(v||k)&&R.length;return v?x===s||x===i:k?x===2*s||x===2*i:R instanceof c}function I(R,v,k=!0){if(p(R))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(R)).toRawBytes(k)}const A=e.bits2int||function(R){const v=N1(R),k=R.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},w=e.bits2int_modN||function(R){return o(A(R))},_=wZ(e.nBitLength);function P(R){return kl(`num < 2^${e.nBitLength}`,R,Ey,_),jA(R,e.nByteLength)}function M(R,v,k=E){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:D,extraEntropy:$}=k;B==null&&(B=!0),R=ra("msgHash",R),ihe(k),D&&(R=ra("prehashed msgHash",x(R)));const W=w(R),L=u(v),U=[P(L),P(W)];if($!=null&&$!==!1){const Y=$===!0?C(t.BYTES):$;U.push(ra("extraEntropy",Y))}const G=vS(...U),J=W;function Q(Y){const X=A(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ey)return;const ne=o(re*o(J+ee*L));if(ne===Ey)return;let ve=(se.x===ee?0:2)|Number(se.y&ha),_e=ne;return B&&h(ne)&&(_e=m(ne),ve^=1),new g(ee,_e,ve)}return{seed:G,k2sig:Q}}const E={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function z(R,v,k=E){const{seed:x,k2sig:C}=M(R,v,k),B=e;return qIe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function O(R,v,k,x=T){var se;const C=R;if(v=ra("msgHash",v),k=ra("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");ihe(x);const{lowS:B,prehash:D}=x;let $,W;try{if(typeof C=="string"||SS(C))try{$=g.fromDER(C)}catch(ee){if(!(ee instanceof E1.Err))throw ee;$=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;$=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&$.hasHighS())return!1;D&&(v=e.hash(v));const{r:L,s:U}=$,G=w(v),J=a(U),Q=o(G*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:z,verify:O,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function pit(n){return{hash:n,hmac:(e,...t)=>s_e(n,e,Fnt(...t)),randomBytes:DIe}}function bit(n,e){const t=r=>yit({...n,...pit(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const i_e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ahe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Sit=BigInt(1),F9=BigInt(2),che=(n,e)=>(n+e/F9)/e;function kit(n){const e=i_e,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=ro(l,t,e)*l%e,y=ro(d,t,e)*l%e,h=ro(y,F9,e)*u%e,m=ro(h,s,e)*h%e,f=ro(m,i,e)*m%e,g=ro(f,a,e)*f%e,b=ro(g,c,e)*g%e,S=ro(b,a,e)*f%e,p=ro(S,t,e)*l%e,I=ro(p,o,e)*m%e,A=ro(I,r,e)*u%e,w=ro(A,F9,e);if(!U9.eql(U9.sqr(w),n))throw new Error("Cannot find square root");return w}const U9=HIe(i_e,void 0,void 0,{sqrt:kit}),MK=bit({a:BigInt(0),b:BigInt(7),Fp:U9,n:ahe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=ahe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Sit*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=che(i*n,e),c=che(-r*n,e);let u=yi(n-a*t-c*s,e),l=yi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},N9);BigInt(0);MK.ProjectivePoint;const vit=nT.utils.randomPrivateKey,uhe=()=>{const n=nT.utils.randomPrivateKey(),e=kO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},kO=nT.getPublicKey;function lhe(n){try{return nT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const RZ=(n,e)=>nT.sign(n,e.slice(0,32)),Ait=nT.verify,tn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class CZ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(rm(O2,this))}static decode(e){return nm(O2,this,e)}static decodeUnchecked(e){return sm(O2,this,e)}}class wit extends CZ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const O2=new Map;var o_e;const a_e=32,Ff=32;function Iit(n){return n._bn!==void 0}let dhe=1;class it extends CZ{constructor(e){if(super({}),this._bn=void 0,Iit(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Ff)throw new Error("Invalid public key input");this._bn=new ki(t)}else this._bn=new ki(e);if(this._bn.byteLength()>Ff)throw new Error("Invalid public key input")}}static unique(){const e=new it(dhe);return dhe+=1,new it(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Ff)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=N9(s);return new it(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>a_e)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,tn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=N9(r);if(lhe(s))throw new Error("Invalid seeds, address must fall off the curve");return new it(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new it(e);return lhe(t.toBytes())}}o_e=it;it.default=new o_e("11111111111111111111111111111111");O2.set(it,{kind:"struct",fields:[["_bn","u256"]]});class _it{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=tn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=tn(vit()),this._publicKey=tn(kO(this._secretKey))}get publicKey(){return new it(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Pit=new it("BPFLoader1111111111111111111111111111111111"),qy=1280-40-8,BK=127,zM=64;class MZ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(MZ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class BZ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(BZ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ev extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ev.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class $M{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const kn=(n="publicKey")=>ie(32,n),Eit=(n="signature")=>ie(64,n),x1=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Vt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},xit=(n="authorized")=>N([kn("staker"),kn("withdrawer")],n),Tit=(n="lockup")=>N([Pe("unixTimestamp"),Pe("epoch"),kn("custodian")],n),Rit=(n="voteInit")=>N([kn("nodePubkey"),kn("authorizedVoter"),kn("authorizedWithdrawer"),te("commission")],n),Cit=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),kn("currentAuthorityDerivedKeyOwnerPubkey"),x1("currentAuthorityDerivedKeySeed"),kn("newAuthorized")],n);function c_e(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return c_e({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function cu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Wu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Fn(n,e){if(!n)throw new Error(e||"Assertion failed")}class zK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new zK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Fn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Fn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Fn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new it(c)),...r.map(([c])=>new it(c)),...s.map(([c])=>new it(c)),...i.map(([c])=>new it(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new it(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Fn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const u_e="Reached end of buffer unexpectedly";function Af(n){if(n.length===0)throw new Error(u_e);return n.shift()}function uu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(u_e);return n.splice(...e)}class vd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new it(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new $M(this.staticAccountKeys)}static compile(e){const t=zK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new $M(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new vd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Wu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Wu(f,y.length);let g=[];return Wu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Wu(s,r.length);let i=V.Buffer.alloc(qy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(kn("key"),e,"keys"),kn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>tn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Af(t);if(r!==(r&BK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Af(t),i=Af(t),o=cu(t);let a=[];for(let y=0;y<o;y++){const h=uu(t,0,Ff);a.push(new it(V.Buffer.from(h)))}const c=uu(t,0,Ff),u=cu(t);let l=[];for(let y=0;y<u;y++){const h=Af(t),m=cu(t),f=uu(t,0,m),g=cu(t),b=uu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new vd(d)}}class AS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new $M(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=zK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new $M(a,s).compileInstructions(e.instructions);return new AS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Wu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Wu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Wu(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(kn(),this.staticAccountKeys.length,"staticAccountKeys"),kn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(qy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(qy);for(const r of this.compiledInstructions){const s=Array();Wu(s,r.accountKeyIndexes.length);const i=Array();Wu(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(qy);for(const r of this.addressTableLookups){const s=Array();Wu(s,r.writableIndexes.length);const i=Array();Wu(i,r.readonlyIndexes.length),e+=N([kn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Af(t),s=r&BK;Fn(r!==s,"Expected versioned message but received legacy message");const i=s;Fn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Af(t),numReadonlySignedAccounts:Af(t),numReadonlyUnsignedAccounts:Af(t)},a=[],c=cu(t);for(let m=0;m<c;m++)a.push(new it(uu(t,0,Ff)));const u=Ie.encode(uu(t,0,Ff)),l=cu(t),d=[];for(let m=0;m<l;m++){const f=Af(t),g=cu(t),b=uu(t,0,g),S=cu(t),p=new Uint8Array(uu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=cu(t),h=[];for(let m=0;m<y;m++){const f=new it(uu(t,0,Ff)),g=cu(t),b=uu(t,0,g),S=cu(t),p=uu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new AS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const zZ={deserializeMessageVersion(n){const e=n[0],t=e&BK;return t===e?"legacy":t},deserialize:n=>{const e=zZ.deserializeMessageVersion(n);if(e==="legacy")return vd.from(n);if(e===0)return AS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let bg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Mit=V.Buffer.alloc(zM).fill(0);class vs{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Yn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new vs(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new it(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Fn(f.programIdIndex>=0),f.accounts.forEach(g=>Fn(g>=0))}),new vd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=RZ(r,s.secretKey);this._addSignature(s.publicKey,tn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Fn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):Ait(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Wu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Fn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Fn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Fn(i.length<=qy,`Transaction too large: ${i.length} > ${qy}`),i}get keys(){return Fn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Fn(this.instructions.length===1),this.instructions[0].programId}get data(){return Fn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=cu(t);let s=[];for(let i=0;i<r;i++){const o=uu(t,0,zM);s.push(Ie.encode(V.Buffer.from(o)))}return Yn.populate(vd.from(t),s)}static populate(e,t=[]){const r=new Yn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(Mit)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new vs({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class $Z{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Fn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Fn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new vs({programId:g,data:tn(m.data),keys:f}))}return new $Z({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return vd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return AS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class DZ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Fn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(zM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Wu(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(Eit(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=cu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(uu(t,0,zM)));const i=zZ.deserialize(new Uint8Array(t));return new DZ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Fn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=RZ(t,s.secretKey)}}addSignature(e,t){Fn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Fn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const Bit=160,zit=64,$it=Bit/zit,l_e=1e3/$it,nf=new it("SysvarC1ock11111111111111111111111111111111"),Dit=new it("SysvarEpochSchedu1e111111111111111111111111"),Oit=new it("Sysvar1nstructions1111111111111111111111111"),AD=new it("SysvarRecentB1ockHashes11111111111111111111"),HA=new it("SysvarRent111111111111111111111111111111111"),Kit=new it("SysvarRewards111111111111111111111111111111"),Lit=new it("SysvarS1otHashes111111111111111111111111111"),Wit=new it("SysvarS1otHistory11111111111111111111111111"),wD=new it("SysvarStakeHistory1111111111111111111111111");class DM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Nit={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Jt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function V9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new DM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function s1(n){return new Promise(e=>setTimeout(e,n))}function Cn(n,e){const t=n.layout.span>=0?n.layout.span:c_e(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ss(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const d_e=Ae("lamportsPerSignature"),f_e=N([F("version"),F("state"),kn("authorizedPubkey"),kn("nonce"),N([d_e],"feeCalculator")]),q9=f_e.span;class $K{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=f_e.decode(tn(e),0);return new $K({authorizedPubkey:new it(t.authorizedPubkey),nonce:new it(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Fit=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Uit=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Fit(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return im(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=rc(o,n);return r(u,a,c)},i},GA=Uit(8);class Vit{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ks))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ss(Ks.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new it(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ss(Ks.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ss(Ks.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new it(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ss(Ks.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ss(Ks.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(t),seed:r,space:s,programId:new it(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ss(Ks.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new it(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ss(Ks.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(t),seed:r,programId:new it(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ss(Ks.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new it(t),seed:r,lamports:s,space:i,programId:new it(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ss(Ks.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new it(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ss(Ks.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ss(Ks.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ss(Ks.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new it(t)}}static checkProgramId(e){if(!e.equals(Na.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ks=Object.freeze({Create:{index:0,layout:N([F("instruction"),Pe("lamports"),Pe("space"),kn("programId")])},Assign:{index:1,layout:N([F("instruction"),kn("programId")])},Transfer:{index:2,layout:N([F("instruction"),GA("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),kn("base"),x1("seed"),Pe("lamports"),Pe("space"),kn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Pe("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),kn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),kn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Pe("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),kn("base"),x1("seed"),Pe("space"),kn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),kn("base"),x1("seed"),kn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),GA("lamports"),x1("seed"),kn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class Na{constructor(){}static createAccount(e){const t=Ks.Create,r=Cn(t,{lamports:e.lamports,space:e.space,programId:tn(e.programId.toBuffer())});return new vs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ks.TransferWithSeed;t=Cn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ks.Transfer;t=Cn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new vs({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ks.AssignWithSeed;t=Cn(s,{base:tn(e.basePubkey.toBuffer()),seed:e.seed,programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ks.Assign;t=Cn(s,{programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vs({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ks.CreateWithSeed,r=Cn(t,{base:tn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:tn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new vs({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Yn;"basePubkey"in e&&"seed"in e?t.add(Na.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:q9,programId:this.programId})):t.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:q9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ks.InitializeNonceAccount,r=Cn(t,{authorized:tn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:AD,isSigner:!1,isWritable:!1},{pubkey:HA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new vs(s)}static nonceAdvance(e){const t=Ks.AdvanceNonceAccount,r=Cn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:AD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new vs(s)}static nonceWithdraw(e){const t=Ks.WithdrawNonceAccount,r=Cn(t,{lamports:e.lamports});return new vs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:AD,isSigner:!1,isWritable:!1},{pubkey:HA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ks.AuthorizeNonceAccount,r=Cn(t,{authorized:tn(e.newAuthorizedPubkey.toBuffer())});return new vs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ks.AllocateWithSeed;t=Cn(s,{base:tn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ks.Allocate;t=Cn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vs({keys:r,programId:this.programId,data:t})}}Na.programId=new it("11111111111111111111111111111111");const qit=qy-300;class wS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/wS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Yn,h.add(Na.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Yn,h.add(Na.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Yn,h.add(Na.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Yn().add(Na.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await V9(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Vt(F(),-8),"bytes")]),a=wS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Yn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(V9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await s1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Yn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:HA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(l_e/2)))}}return!0}}wS.chunkSize=qit;const jit=new it("BPFLoader2111111111111111111111111111111111");class Hit{static getMinNumSignatures(e){return wS.getMinNumSignatures(e)}static load(e,t,r,s,i){return wS.load(e,t,r,i,s)}}function Git(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var QW,fhe;function Yit(){if(fhe)return QW;fhe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return QW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},QW}var Zit=Yit(),hhe=Git(Zit);const PR=32;function eN(n){let e=0;for(;n>1;)n/=2,e++;return e}function Jit(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class h_e{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=eN(Jit(e+PR+1))-eN(PR)-1,r=this.getSlotsInEpoch(t),s=e-(r-PR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*PR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+eN(PR)):this.slotsPerEpoch}}var Xit=globalThis.fetch;class Qit extends Tb{constructor(e,t,r){const s=i=>{const o=Cb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function eot(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const ghe=56;class j9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=eot(tot,e),r=e.length-ghe;Fn(r>=0,"lookup table is invalid"),Fn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(kn(),s,"addresses")]).decode(e.slice(ghe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new it(t.authority[0]):void 0,addresses:i.map(o=>new it(o))}}}const tot={index:1,layout:N([F("typeIndex"),GA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(kn(),Vt(te(),-1),"authority")])},rot=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function not(n){const e=n.match(rot);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const qi=cz(EZ(it),Ye(),n=>new it(n)),g_e=xZ([Ye(),xi("base64")]),OZ=cz(EZ(V.Buffer),g_e,n=>V.Buffer.from(n[0],"base64")),m_e=30*1e3;function sot(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ts(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function mhe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function y_e(n){return Bc([Me({jsonrpc:xi("2.0"),id:Ye(),result:n}),Me({jsonrpc:xi("2.0"),id:Ye(),error:Me({code:sT(),message:Ye(),data:hr(eit())})})])}const iot=y_e(sT());function jr(n){return cz(y_e(n),iot,e=>"error"in e?e:{...e,result:yt(e.result,n)})}function go(n){return jr(Me({context:Me({slot:ye()}),value:n}))}function DK(n){return Me({context:Me({slot:ye()}),value:n})}function tN(n,e){return n===0?new AS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new it(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new vd(e)}const oot=Me({foundation:ye(),foundationTerm:ye(),initial:ye(),taper:ye(),terminal:ye()}),aot=jr(It(Mt(Me({epoch:ye(),effectiveSlot:ye(),amount:ye(),postBalance:ye(),commission:hr(Mt(ye()))})))),cot=It(Me({slot:ye(),prioritizationFee:ye()})),uot=Me({total:ye(),validator:ye(),foundation:ye(),epoch:ye()}),lot=Me({epoch:ye(),slotIndex:ye(),slotsInEpoch:ye(),absoluteSlot:ye(),blockHeight:hr(ye()),transactionCount:hr(ye())}),dot=Me({slotsPerEpoch:ye(),leaderScheduleSlotOffset:ye(),warmup:th(),firstNormalEpoch:ye(),firstNormalSlot:ye()}),fot=QIe(Ye(),It(ye())),uk=Mt(Bc([Me({}),Ye()])),hot=Me({err:uk}),got=xi("receivedSignature"),mot=Me({"solana-core":Ye(),"feature-set":hr(ye())}),yot=Me({program:Ye(),programId:qi,parsed:sT()}),pot=Me({programId:qi,accounts:It(qi),data:Ye()}),yhe=go(Me({err:Mt(Bc([Me({}),Ye()])),logs:Mt(It(Ye())),accounts:hr(Mt(It(Mt(Me({executable:th(),owner:Ye(),lamports:ye(),data:It(Ye()),rentEpoch:hr(ye())}))))),unitsConsumed:hr(ye()),returnData:hr(Mt(Me({programId:Ye(),data:xZ([Ye(),xi("base64")])}))),innerInstructions:hr(Mt(It(Me({index:ye(),instructions:It(Bc([yot,pot]))}))))})),bot=go(Me({byIdentity:QIe(Ye(),It(ye())),range:Me({firstSlot:ye(),lastSlot:ye()})}));function Sot(n,e,t,r,s,i){const o=t||Xit;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Rb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},kat)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await s1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function kot(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function vot(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Aot=jr(oot),wot=jr(uot),Iot=jr(cot),_ot=jr(lot),Pot=jr(dot),Eot=jr(fot),xot=jr(ye()),Tot=go(Me({total:ye(),circulating:ye(),nonCirculating:ye(),nonCirculatingAccounts:It(qi)})),H9=Me({amount:Ye(),uiAmount:Mt(ye()),decimals:ye(),uiAmountString:hr(Ye())}),Rot=go(It(Me({address:qi,amount:Ye(),uiAmount:Mt(ye()),decimals:ye(),uiAmountString:hr(Ye())}))),Cot=go(It(Me({pubkey:qi,account:Me({executable:th(),owner:qi,lamports:ye(),data:OZ,rentEpoch:ye()})}))),G9=Me({program:Ye(),parsed:sT(),space:ye()}),Mot=go(It(Me({pubkey:qi,account:Me({executable:th(),owner:qi,lamports:ye(),data:G9,rentEpoch:ye()})}))),Bot=go(It(Me({lamports:ye(),address:qi}))),OM=Me({executable:th(),owner:qi,lamports:ye(),data:OZ,rentEpoch:ye()}),zot=Me({pubkey:qi,account:OM}),$ot=cz(Bc([EZ(V.Buffer),G9]),Bc([g_e,G9]),n=>Array.isArray(n)?yt(n,OZ):n),Y9=Me({executable:th(),owner:qi,lamports:ye(),data:$ot,rentEpoch:ye()}),Dot=Me({pubkey:qi,account:Y9}),Oot=Me({state:Bc([xi("active"),xi("inactive"),xi("activating"),xi("deactivating")]),active:ye(),inactive:ye()}),Kot=jr(It(Me({signature:Ye(),slot:ye(),err:uk,memo:Mt(Ye()),blockTime:hr(Mt(ye()))}))),Lot=jr(It(Me({signature:Ye(),slot:ye(),err:uk,memo:Mt(Ye()),blockTime:hr(Mt(ye()))}))),Wot=Me({subscription:ye(),result:DK(OM)}),Not=Me({pubkey:qi,account:OM}),Fot=Me({subscription:ye(),result:DK(Not)}),Uot=Me({parent:ye(),slot:ye(),root:ye()}),Vot=Me({subscription:ye(),result:Uot}),qot=Bc([Me({type:Bc([xi("firstShredReceived"),xi("completed"),xi("optimisticConfirmation"),xi("root")]),slot:ye(),timestamp:ye()}),Me({type:xi("createdBank"),parent:ye(),slot:ye(),timestamp:ye()}),Me({type:xi("frozen"),slot:ye(),timestamp:ye(),stats:Me({numTransactionEntries:ye(),numSuccessfulTransactions:ye(),numFailedTransactions:ye(),maxTransactionsPerEntry:ye()})}),Me({type:xi("dead"),slot:ye(),timestamp:ye(),err:Ye()})]),jot=Me({subscription:ye(),result:qot}),Hot=Me({subscription:ye(),result:DK(Bc([hot,got]))}),Got=Me({subscription:ye(),result:ye()}),Yot=Me({pubkey:Ye(),gossip:Mt(Ye()),tpu:Mt(Ye()),rpc:Mt(Ye()),version:Mt(Ye())}),phe=Me({votePubkey:Ye(),nodePubkey:Ye(),activatedStake:ye(),epochVoteAccount:th(),epochCredits:It(xZ([ye(),ye(),ye()])),commission:ye(),lastVote:ye(),rootSlot:Mt(ye())}),Zot=jr(Me({current:It(phe),delinquent:It(phe)})),Jot=Bc([xi("processed"),xi("confirmed"),xi("finalized")]),Xot=Me({slot:ye(),confirmations:Mt(ye()),err:uk,confirmationStatus:hr(Jot)}),Qot=go(It(Mt(Xot))),eat=jr(ye()),p_e=Me({accountKey:qi,writableIndexes:It(ye()),readonlyIndexes:It(ye())}),KZ=Me({signatures:It(Ye()),message:Me({accountKeys:It(Ye()),header:Me({numRequiredSignatures:ye(),numReadonlySignedAccounts:ye(),numReadonlyUnsignedAccounts:ye()}),instructions:It(Me({accounts:It(ye()),data:Ye(),programIdIndex:ye()})),recentBlockhash:Ye(),addressTableLookups:hr(It(p_e))})}),b_e=Me({pubkey:qi,signer:th(),writable:th(),source:hr(Bc([xi("transaction"),xi("lookupTable")]))}),S_e=Me({accountKeys:It(b_e),signatures:It(Ye())}),k_e=Me({parsed:sT(),program:Ye(),programId:qi}),v_e=Me({accounts:It(qi),data:Ye(),programId:qi}),tat=Bc([v_e,k_e]),rat=Bc([Me({parsed:sT(),program:Ye(),programId:Ye()}),Me({accounts:It(Ye()),data:Ye(),programId:Ye()})]),A_e=cz(tat,rat,n=>"accounts"in n?yt(n,v_e):yt(n,k_e)),w_e=Me({signatures:It(Ye()),message:Me({accountKeys:It(b_e),instructions:It(A_e),recentBlockhash:Ye(),addressTableLookups:hr(Mt(It(p_e)))})}),vO=Me({accountIndex:ye(),mint:Ye(),owner:hr(Ye()),programId:hr(Ye()),uiTokenAmount:H9}),I_e=Me({writable:It(qi),readonly:It(qi)}),OK=Me({err:uk,fee:ye(),innerInstructions:hr(Mt(It(Me({index:ye(),instructions:It(Me({accounts:It(ye()),data:Ye(),programIdIndex:ye()}))})))),preBalances:It(ye()),postBalances:It(ye()),logMessages:hr(Mt(It(Ye()))),preTokenBalances:hr(Mt(It(vO))),postTokenBalances:hr(Mt(It(vO))),loadedAddresses:hr(I_e),computeUnitsConsumed:hr(ye())}),LZ=Me({err:uk,fee:ye(),innerInstructions:hr(Mt(It(Me({index:ye(),instructions:It(A_e)})))),preBalances:It(ye()),postBalances:It(ye()),logMessages:hr(Mt(It(Ye()))),preTokenBalances:hr(Mt(It(vO))),postTokenBalances:hr(Mt(It(vO))),loadedAddresses:hr(I_e),computeUnitsConsumed:hr(ye())}),iT=Bc([xi(0),xi("legacy")]),lk=Me({pubkey:Ye(),lamports:ye(),postBalance:Mt(ye()),rewardType:Mt(Ye()),commission:hr(Mt(ye()))}),nat=jr(Mt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:It(Me({transaction:KZ,meta:Mt(OK),version:hr(iT)})),rewards:hr(It(lk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),sat=jr(Mt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),rewards:hr(It(lk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),iat=jr(Mt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:It(Me({transaction:S_e,meta:Mt(OK),version:hr(iT)})),rewards:hr(It(lk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),oat=jr(Mt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:It(Me({transaction:w_e,meta:Mt(LZ),version:hr(iT)})),rewards:hr(It(lk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),aat=jr(Mt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:It(Me({transaction:S_e,meta:Mt(LZ),version:hr(iT)})),rewards:hr(It(lk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),cat=jr(Mt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),rewards:hr(It(lk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),uat=jr(Mt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),transactions:It(Me({transaction:KZ,meta:Mt(OK)})),rewards:hr(It(lk)),blockTime:Mt(ye())}))),bhe=jr(Mt(Me({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:ye(),signatures:It(Ye()),blockTime:Mt(ye())}))),rN=jr(Mt(Me({slot:ye(),meta:Mt(OK),blockTime:hr(Mt(ye())),transaction:KZ,version:hr(iT)}))),S$=jr(Mt(Me({slot:ye(),transaction:w_e,meta:Mt(LZ),blockTime:hr(Mt(ye())),version:hr(iT)}))),lat=go(Me({blockhash:Ye(),feeCalculator:Me({lamportsPerSignature:ye()})})),dat=go(Me({blockhash:Ye(),lastValidBlockHeight:ye()})),fat=go(th()),hat=Me({slot:ye(),numTransactions:ye(),numSlots:ye(),samplePeriodSecs:ye()}),gat=jr(It(hat)),mat=go(Mt(Me({feeCalculator:Me({lamportsPerSignature:ye()})}))),yat=jr(Ye()),pat=jr(Ye()),bat=Me({err:uk,logs:It(Ye()),signature:Ye()}),Sat=Me({result:DK(bat),subscription:ye()}),kat={"solana-client":"js/1.0.0-maintenance"};class vat{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ts(l),h=this._buildArgs([],d,void 0,y),m=hhe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=yt(f,jr(ye()));if("error"in g)throw new Jt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=sot(e),this._rpcWsEndpoint=r||not(e),this._rpcClient=Sot(e,s,i,o,a,c),this._rpcRequest=kot(this._rpcClient),this._rpcBatchRequest=vot(this._rpcClient),this._rpcWebSocket=new Qit(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=yt(o,go(ye()));if("error"in a)throw new Jt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=yt(t,jr(Mt(ye())));if("error"in r)throw new Jt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=yt(e,jr(ye()));if("error"in t)throw new Jt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=yt(e,xot);if("error"in t)throw new Jt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=yt(r,Tot);if("error"in s)throw new Jt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=yt(s,go(H9));if("error"in i)throw new Jt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=yt(s,go(H9));if("error"in i)throw new Jt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ts(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=yt(c,Cot);if("error"in u)throw new Jt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=yt(o,Mot);if("error"in a)throw new Jt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=yt(s,Bot);if("error"in i)throw new Jt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=yt(s,Rot);if("error"in i)throw new Jt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=yt(o,go(Mt(OM)));if("error"in a)throw new Jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=yt(o,go(Mt(Y9)));if("error"in a)throw new Jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=yt(a,go(It(Mt(Y9))));if("error"in c)throw new Jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=yt(a,go(It(Mt(OM))));if("error"in c)throw new Jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ts(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=yt(a,jr(Oot));if("error"in c)throw new Jt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ts(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:mhe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=It(zot),l=o.withContext===!0?yt(c,go(u)):yt(c,jr(u));if("error"in l)throw new Jt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=yt(o,jr(It(Dot)));if("error"in a)throw new Jt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Fn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:bg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:bg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await s1(1e3),i||(h=await y(),i))return;d({__type:bg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===bg.PROCESSED)l=d.response;else throw new MZ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:bg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await s1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===bg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await s1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Ev(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Ev(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Ev(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Ev(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:bg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===bg.PROCESSED)a=c.response;else throw new BZ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=yt(e,jr(It(Yot)));if("error"in t)throw new Jt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=yt(r,Zot);if("error"in s)throw new Jt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=yt(i,jr(ye()));if("error"in o)throw new Jt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=yt(i,jr(Ye()));if("error"in o)throw new Jt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=yt(s,jr(It(qi)));if("error"in i)throw new Jt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Fn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=yt(s,Qot);if("error"in i)throw new Jt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=yt(i,jr(ye()));if("error"in o)throw new Jt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=yt(r,Aot);if("error"in s)throw new Jt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ts(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=yt(a,aot);if("error"in c)throw new Jt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=yt(e,wot);if("error"in t)throw new Jt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=yt(i,_ot);if("error"in o)throw new Jt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=yt(e,Pot);if("error"in t)throw new Jt(t.error,"failed to get epoch schedule");const r=t.result;return new h_e(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=yt(e,Eot);if("error"in t)throw new Jt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=yt(s,eat);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=yt(r,lat);if("error"in s)throw new Jt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=yt(t,gat);if("error"in r)throw new Jt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=yt(s,mat);if("error"in i)throw new Jt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=tn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=yt(i,go(Mt(ye())));if("error"in o)throw new Jt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=yt(s,Iot);if("error"in i)throw new Jt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=yt(i,dat);if("error"in o)throw new Jt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=yt(o,fat);if("error"in a)throw new Jt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=yt(e,jr(mot));if("error"in t)throw new Jt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=yt(e,jr(Ye()));if("error"in t)throw new Jt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=yt(o,iat);if("error"in a)throw a.error;return a.result}case"none":{const a=yt(o,sat);if("error"in a)throw a.error;return a.result}default:{const a=yt(o,nat);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:tN(d,u.message)},version:d}))}:null}}}catch(a){throw new Jt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=yt(o,aat);if("error"in a)throw a.error;return a.result}case"none":{const a=yt(o,cat);if("error"in a)throw a.error;return a.result}default:{const a=yt(o,oat);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Jt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=yt(i,bot);if("error"in o)throw new Jt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=yt(o,rN);if("error"in a)throw new Jt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:tN(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=yt(o,S$);if("error"in a)throw new Jt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=yt(c,S$);if("error"in u)throw new Jt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=yt(c,rN);if("error"in u)throw new Jt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:tN(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=yt(s,uat);if("error"in i)throw new Jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new vd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Yn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=yt(i,jr(It(ye())));if("error"in o)throw new Jt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=yt(s,bhe);if("error"in i)throw new Jt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=yt(s,bhe);if("error"in i)throw new Jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=yt(s,rN);if("error"in i)throw new Jt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new vd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Yn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=yt(s,S$);if("error"in i)throw new Jt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=yt(o,S$);if("error"in a)throw new Jt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=yt(i,Kot);if("error"in o)throw new Jt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=yt(i,Lot);if("error"in o)throw new Jt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new j9({key:e,state:j9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=$K.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=yt(r,yat);if("error"in s)throw new Jt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await s1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=m_e;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await s1(l_e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=yt(i,go(ye()));if("error"in o)throw new Jt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=yt(p,yhe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Yn){let m=e;s=new Yn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Yn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=yt(y,yhe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new DM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=tn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=yt(a,pat);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new DM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=yt(e,Wot);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=hhe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Fn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ts(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=yt(e,Fot);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ts(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:mhe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=yt(e,Sat);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=yt(e,Vot);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=yt(e,jot);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=yt(e,Hot);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=yt(e,Got);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class tA{constructor(e){this._keypair=void 0,this._keypair=e??uhe()}static generate(){return new tA(uhe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=kO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new tA({publicKey:r,secretKey:e})}static fromSeed(e){const t=kO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new tA({publicKey:t,secretKey:r})}get publicKey(){return new it(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Bg=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),GA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),GA(),we(kn(),Vt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class Aat{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Bg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ss(Bg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ss(Bg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new it(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(WZ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class WZ{constructor(){}static createLookupTable(e){const[t,r]=it.findProgramAddressSync([e.authority.toBuffer(),rc(BigInt(e.recentSlot),8)],this.programId),s=Bg.CreateLookupTable,i=Cn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Na.programId,isSigner:!1,isWritable:!1}];return[new vs({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Bg.FreezeLookupTable,r=Cn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new vs({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Bg.ExtendLookupTable,r=Cn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Na.programId,isSigner:!1,isWritable:!1}),new vs({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Bg.DeactivateLookupTable,r=Cn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new vs({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Bg.CloseLookupTable,r=Cn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new vs({programId:this.programId,keys:s,data:r})}}WZ.programId=new it("AddressLookupTab1e1111111111111111111111111");class wat{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(wf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ss(wf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ss(wf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ss(wf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ss(wf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(NZ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const wf=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),GA("microLamports")])}});class NZ{constructor(){}static requestUnits(e){const t=wf.RequestUnits,r=Cn(t,e);return new vs({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=wf.RequestHeapFrame,r=Cn(t,e);return new vs({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=wf.SetComputeUnitLimit,r=Cn(t,e);return new vs({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=wf.SetComputeUnitPrice,r=Cn(t,{microLamports:BigInt(e.microLamports)});return new vs({keys:[],programId:this.programId,data:r})}}NZ.programId=new it("ComputeBudget111111111111111111111111111111");const She=64,khe=32,vhe=64,Ahe=N([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class KK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Fn(t.length===khe,`Public Key must be ${khe} bytes but received ${t.length} bytes`),Fn(s.length===vhe,`Signature must be ${vhe} bytes but received ${s.length} bytes`);const o=Ahe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Ahe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new vs({keys:[],programId:KK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Fn(t.length===She,`Private key must be ${She} bytes but received ${t.length} bytes`);try{const i=tA.fromSecretKey(t),o=i.publicKey.toBytes(),a=RZ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}KK.programId=new it("Ed25519SigVerify111111111111111111111111111");const Iat=(n,e)=>{const t=MK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};MK.utils.isValidPrivateKey;const _at=MK.getPublicKey,whe=32,nN=20,Ihe=64,Pat=11,sN=N([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class rA{constructor(){}static publicKeyToEthAddress(e){Fn(e.length===Ihe,`Public key must be ${Ihe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(she(tn(e))).slice(-nN)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return rA.createInstructionWithEthAddress({ethAddress:rA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Fn(a.length===nN,`Address must be ${nN} bytes but received ${a.length} bytes`);const c=1+Pat,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(sN.span+r.length);return sN.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:tn(s),ethAddress:tn(a),recoveryId:i},h),h.fill(tn(r),sN.span),new vs({keys:[],programId:rA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Fn(t.length===whe,`Private key must be ${whe} bytes but received ${t.length} bytes`);try{const i=tn(t),o=_at(i,!1).slice(1),a=V.Buffer.from(she(tn(r))),[c,u]=Iat(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}rA.programId=new it("KeccakSecp256k11111111111111111111111111111");var __e;const P_e=new it("StakeConfig11111111111111111111111111111111");class E_e{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class uz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}__e=uz;uz.default=new __e(0,0,it.default);class Eat{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Aa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ss(Aa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new E_e(new it(t.staker),new it(t.withdrawer)),lockup:new uz(r.unixTimestamp,r.epoch,new it(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ss(Aa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ss(Aa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ss(Aa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new it(i),newAuthorizedPubkey:new it(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ss(Aa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ss(Aa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ss(Aa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ss(Aa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(LK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Aa=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),xit(),Tit()])},Authorize:{index:1,layout:N([F("instruction"),kn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Pe("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Pe("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),kn("newAuthorized"),F("stakeAuthorizationType"),x1("authoritySeed"),kn("authorityOwner")])}}),xat=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class LK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||uz.default,o=Aa.Initialize,a=Cn(o,{authorized:{staker:tn(r.staker.toBuffer()),withdrawer:tn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:tn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:HA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new vs(c)}static createAccountWithSeed(e){const t=new Yn;t.add(Na.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Yn;t.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Aa.Delegate,o=Cn(i);return new Yn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:wD,isSigner:!1,isWritable:!1},{pubkey:P_e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Aa.Authorize,c=Cn(a,{newAuthorized:tn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Yn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Aa.AuthorizeWithSeed,l=Cn(u,{newAuthorized:tn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:tn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:nf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Yn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Aa.Split,a=Cn(o,{lamports:i});return new vs({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Yn;return r.add(Na.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Yn;return u.add(Na.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Na.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Aa.Merge,o=Cn(i);return new Yn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:wD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Aa.Withdraw,c=Cn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:wD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Yn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Aa.Deactivate,i=Cn(s);return new Yn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}LK.programId=new it("Stake11111111111111111111111111111111111111");LK.space=200;class x_e{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class Tat{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(If))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ss(If.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new x_e(new it(t.nodePubkey),new it(t.authorizedVoter),new it(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ss(If.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ss(If.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new it(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new it(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ss(If.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(oT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const If=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),Rit()])},Authorize:{index:1,layout:N([F("instruction"),kn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Pe("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),Cit()])}}),Rat=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class oT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=If.InitializeAccount,o=Cn(i,{voteInit:{nodePubkey:tn(s.nodePubkey.toBuffer()),authorizedVoter:tn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:tn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:HA,isSigner:!1,isWritable:!1},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new vs(a)}static createAccount(e){const t=new Yn;return t.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=If.Authorize,a=Cn(o,{newAuthorized:tn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=If.AuthorizeWithSeed,u=Cn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:tn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:tn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Yn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=If.Withdraw,a=Cn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return oT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=If.UpdateValidatorIdentity,o=Cn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:a,programId:this.programId,data:o})}}oT.programId=new it("Vote111111111111111111111111111111111111111");oT.space=3762;const T_e=new it("Va1idator1nfo111111111111111111111111111111"),Cat=Me({name:Ye(),website:hr(Ye()),details:hr(Ye()),iconUrl:hr(Ye()),keybaseUsername:hr(Ye())});class FZ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(cu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new it(uu(t,0,Ff)),a=Af(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(T_e)&&s[1].isSigner){const i=x1().decode(V.Buffer.from(t)),o=JSON.parse(i);return JIe(o,Cat),new FZ(s[1].publicKey,o)}return null}}const Mat=new it("Vote111111111111111111111111111111111111111"),Bat=N([kn("nodePubkey"),kn("authorizedWithdrawer"),te("commission"),Ae(),we(N([Ae("slot"),F("confirmationCount")]),Vt(F(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(N([Ae("epoch"),kn("authorizedVoter")]),Vt(F(),-8),"authorizedVoters"),N([we(N([kn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(N([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(F(),-8),"epochCredits"),N([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class UZ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Bat.decode(tn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new UZ({nodePubkey:new it(r.nodePubkey),authorizedWithdrawer:new it(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(zat),priorVoters:$at(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function zat({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new it(n)}}function _he({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new it(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function $at({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(_he),...n.slice(0,e).map(_he)]}const Phe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Dat(n,e){const t=e===!1?"http":"https";if(!n)return Phe[t].devnet;const r=Phe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Oat(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new DM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Kat=1e9;var Lat=Object.freeze(Object.defineProperty({__proto__:null,Account:_it,AddressLookupTableAccount:j9,AddressLookupTableInstruction:Aat,AddressLookupTableProgram:WZ,Authorized:E_e,BLOCKHASH_CACHE_TIMEOUT_MS:m_e,BPF_LOADER_DEPRECATED_PROGRAM_ID:Pit,BPF_LOADER_PROGRAM_ID:jit,BpfLoader:Hit,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:wf,ComputeBudgetInstruction:wat,ComputeBudgetProgram:NZ,Connection:vat,Ed25519Program:KK,Enum:wit,EpochSchedule:h_e,FeeCalculatorLayout:d_e,Keypair:tA,LAMPORTS_PER_SOL:Kat,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Bg,Loader:wS,Lockup:uz,MAX_SEED_LENGTH:a_e,Message:vd,MessageAccountKeys:$M,MessageV0:AS,NONCE_ACCOUNT_LENGTH:q9,NonceAccount:$K,PACKET_DATA_SIZE:qy,PUBLIC_KEY_LENGTH:Ff,PublicKey:it,SIGNATURE_LENGTH_IN_BYTES:zM,SOLANA_SCHEMA:O2,STAKE_CONFIG_ID:P_e,STAKE_INSTRUCTION_LAYOUTS:Aa,SYSTEM_INSTRUCTION_LAYOUTS:Ks,SYSVAR_CLOCK_PUBKEY:nf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Dit,SYSVAR_INSTRUCTIONS_PUBKEY:Oit,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:AD,SYSVAR_RENT_PUBKEY:HA,SYSVAR_REWARDS_PUBKEY:Kit,SYSVAR_SLOT_HASHES_PUBKEY:Lit,SYSVAR_SLOT_HISTORY_PUBKEY:Wit,SYSVAR_STAKE_HISTORY_PUBKEY:wD,Secp256k1Program:rA,SendTransactionError:DM,SolanaJSONRPCError:Jt,SolanaJSONRPCErrorCode:Nit,StakeAuthorizationLayout:xat,StakeInstruction:Eat,StakeProgram:LK,Struct:CZ,SystemInstruction:Vit,SystemProgram:Na,Transaction:Yn,TransactionExpiredBlockheightExceededError:MZ,TransactionExpiredNonceInvalidError:Ev,TransactionExpiredTimeoutError:BZ,TransactionInstruction:vs,TransactionMessage:$Z,TransactionStatus:bg,VALIDATOR_INFO_KEY:T_e,VERSION_PREFIX_MASK:BK,VOTE_PROGRAM_ID:Mat,ValidatorInfo:FZ,VersionedMessage:zZ,VersionedTransaction:DZ,VoteAccount:UZ,VoteAuthorizationLayout:Rat,VoteInit:x_e,VoteInstruction:Tat,VoteProgram:oT,clusterApiUrl:Dat,sendAndConfirmRawTransaction:Oat,sendAndConfirmTransaction:V9},Symbol.toStringTag,{value:"Module"})),aT=xd(Lat),Wat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Nat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Ehe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Z9;Object.defineProperty(Fp,"__esModule",{value:!0});Fp.CraftableItem=Fp.craftableItemDataEquals=void 0;const xhe=rl,J9=aT,X9=nr,Fat=Px.exports;function Uat(n,e){return n.version===e.version&&n.bump===e.bump&&(0,Fat.isEqual)(n.namespace,e.namespace)&&n.domain.equals(e.domain)&&n.mint.equals(e.mint)}Fp.craftableItemDataEquals=Uat;let KM=Z9=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return J9.PublicKey.findProgramAddressSync([Ve.Buffer.from("CraftableItem"),t.toBuffer(),r.toBuffer()],e.programId)}static registerCraftableItem(e,t,r,s,i,o){return a=>Ehe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerCraftableItem(o).accountsStrict({key:t.publicKey(),profile:r,funder:a.publicKey(),craftableItem:this.findAddress(e,s,i)[0],domain:s,mint:i,systemProgram:J9.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static fundCraftableItemBank(e,t,r,s,i){const o=(0,xhe.getAssociatedTokenAddressSync)(t,e,!0);return(0,X9.transferToTokenAccount)(r,s,o,i)}static drainCraftableItemBank(e,t,r,s,i,o,a,c,u){return l=>Ehe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainCraftableItemBank(u).accountsStrict({key:r.publicKey(),profile:s,fundsTo:i==="funder"?l.publicKey():i,craftableItem:t,domain:o,tokenFrom:a,tokenTo:c,tokenProgram:xhe.TOKEN_PROGRAM_ID}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,X9.decodeAccount)(e,t,Z9)}};Fp.CraftableItem=KM;KM.ACCOUNT_NAME="craftableItem";KM.MIN_DATA_SIZE=8+1+32+32+32+32+1;Fp.CraftableItem=KM=Z9=Wat([(0,X9.staticImplements)(),Nat("design:paramtypes",[Object,J9.PublicKey])],KM);var VZ={};(function(n){var e=K&&K.__decorate||function(l,d,y,h){var m=arguments.length,f=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,y):h,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,d,y,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(f=(m<3?g(f):m>3?g(d,y,f):g(d,y))||f);return m>3&&f&&Object.defineProperty(d,y,f),f},t=K&&K.__metadata||function(l,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,d)},r=K&&K.__awaiter||function(l,d,y,h){function m(f){return f instanceof y?f:new y(function(g){g(f)})}return new(y||(y=Promise))(function(f,g){function b(I){try{p(h.next(I))}catch(A){g(A)}}function S(I){try{p(h.throw(I))}catch(A){g(A)}}function p(I){I.done?f(I.value):m(I.value).then(b,S)}p((h=h.apply(l,d||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CraftingFacility=n.craftingFacilityDataEquals=n.CRAFTING_FACILITY_MIN_DATA_SIZE=n.CraftingFacilityLocationType=void 0;const i=aT,o=nr;var a;(function(l){l[l.Starbase=0]="Starbase"})(a||(n.CraftingFacilityLocationType=a={})),n.CRAFTING_FACILITY_MIN_DATA_SIZE=8+1+32+32+1+4+4+4+4;function c(l,d){return l.version===d.version&&l.locationType===d.locationType&&l.maxConcurrentProcesses===d.maxConcurrentProcesses&&l.numConcurrentProcesses===d.numConcurrentProcesses&&l.efficiency===d.efficiency&&l.numRecipeCategories===d.numRecipeCategories&&l.domain.equals(d.domain)&&l.location.equals(d.location)}n.craftingFacilityDataEquals=c;let u=s=class{constructor(d,y,h){this._data=d,this._key=y,this._recipeCategories=h}get data(){return this._data}get key(){return this._key}get recipeCategories(){return this._recipeCategories||[]}static registerCraftingFacility(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.registerCraftingFacility(Object.assign(Object.assign({},b),{locationType:(0,o.getAnchorEnum)(a,b.locationType)})).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y.publicKey(),domain:f,location:g,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S,y]}]})}static updateCraftingFacility(d,y,h,m,f,g){const b=Object.assign(Object.assign({},g),{efficiency:g.efficiency==null?null:g.efficiency,maxConcurrentProcesses:g.maxConcurrentProcesses==null?null:g.maxConcurrentProcesses});return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.updateCraftingFacility(b).accountsStrict({key:h.publicKey(),profile:m,craftingFacility:y,domain:f}).instruction(),signers:[h]}]})}static addCraftingFacilityRecipeCategory(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.addCraftingFacilityRecipeCategory(b).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y,recipeCategory:g,domain:f,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S]}]})}static removeCraftingFacilityRecipeCategory(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.removeCraftingFacilityRecipeCategory(b).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y,recipeCategory:g,domain:f,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S]}]})}static deregisterCraftingFacility(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.deregisterCraftingFacility(b).accountsStrict({key:h.publicKey(),profile:m,fundsTo:f==="funder"?S.publicKey():f,craftingFacility:y,domain:g}).instruction(),signers:[h]}]})}static decodeData(d,y){return(0,o.decodeAccountWithRemaining)(d,y,s,(h,m)=>Array(m.numRecipeCategories).fill(0).map((f,g)=>y.coder.types.decode("WrappedRecipeCategory",h.subarray(32*g).subarray(0,32)).id))}};n.CraftingFacility=u,u.ACCOUNT_NAME="craftingFacility",u.MIN_DATA_SIZE=n.CRAFTING_FACILITY_MIN_DATA_SIZE,n.CraftingFacility=u=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],u)})(VZ);var Uf={},Vat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},qat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Kl=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Q9;Object.defineProperty(Uf,"__esModule",{value:!0});Uf.CraftingProcess=Uf.craftingProcessDataEquals=Uf.CraftingProcessStatus=void 0;const xh=rl,ID=aT,AO=nr;var The;(function(n){n[n.Initialized=0]="Initialized",n[n.Started=1]="Started",n[n.Completed=2]="Completed"})(The||(Uf.CraftingProcessStatus=The={}));function jat(n,e){return n.version===e.version&&n.craftingId.eq(e.craftingId)&&n.authority.equals(e.authority)&&n.recipe.equals(e.recipe)&&n.craftingFacility.equals(e.craftingFacility)&&(0,AO.arrayDeepEquals)(n.inputsChecksum,e.inputsChecksum,(t,r)=>t===r)&&(0,AO.arrayDeepEquals)(n.outputsChecksum,e.outputsChecksum,(t,r)=>t===r)&&n.quantity.eq(e.quantity)&&n.status===e.status&&n.startTime.eq(e.startTime)&&n.endTime.eq(e.endTime)&&n.denyPermissionlessClaiming===e.denyPermissionlessClaiming&&n.useLocalTime===e.useLocalTime&&n.bump===e.bump}Uf.craftingProcessDataEquals=jat;let LM=Q9=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static getCargoPodSeeds(){return ID.Keypair.generate().publicKey.toBuffer()}static findAddress(e,t,r,s){return ID.PublicKey.findProgramAddressSync([Ve.Buffer.from("CraftingProcess"),t.toBuffer(),r.toBuffer(),s.toArrayLike(Ve.Buffer,"le",8)],e.programId)}static createCraftingProcess(e,t,r,s,i,o){const a=this.findAddress(e,s,i,o.craftingId)[0];return c=>Kl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.createCraftingProcess(o).accountsStrict({location:t.publicKey(),authority:r.publicKey(),funder:c.publicKey(),craftingProcess:a,recipe:i,craftingFacility:s,systemProgram:ID.SystemProgram.programId}).instruction(),signers:[t,r,c]}]})}static addRecipeIngredient(e,t,r,s,i,o,a,c,u){return()=>Kl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addRecipeIngredient(u).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenFrom:a,tokenTo:c,tokenProgram:xh.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static legitimizeRecipeIngredient(e,t,r,s,i,o,a,c){return()=>Kl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.legitimizeRecipeIngredient(c).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenTo:a,tokenProgram:xh.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static removeRecipeIngredient(e,t,r,s,i,o,a,c,u,l){return()=>Kl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeRecipeIngredient(l).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenFrom:a,tokenTo:c,mint:u,tokenProgram:xh.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static startCraftingProcess(e,t,r,s,i,o,a,c,u,l){const d=[t],y=[];return a&&c&&u&&l&&(d.map(h=>h.publicKey().toBase58()).includes(c.publicKey().toBase58())||d.push(c),y.push({pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c.publicKey(),isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:xh.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>Kl(this,void 0,void 0,function*(){var h,m;return[{instruction:yield e.methods.startCraftingProcess({recipeDurationOverride:(h=o==null?void 0:o.recipeDurationOverride)!==null&&h!==void 0?h:null,localTime:(m=o==null?void 0:o.localTime)!==null&&m!==void 0?m:null}).accountsStrict({location:t.publicKey(),craftingProcess:r,recipe:s,craftingFacility:i}).remainingAccounts(y).instruction(),signers:d}]})}static stopCraftingProcess(e,t,r,s,i,o,a,c){const u=[t],l=[];return a&&c&&l.push({pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:xh.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),()=>Kl(this,void 0,void 0,function*(){var d;return[{instruction:yield e.methods.stopCraftingProcess({localTime:(d=o==null?void 0:o.localTime)!==null&&d!==void 0?d:null}).accountsStrict({location:t.publicKey(),craftingProcess:r,recipe:s,craftingFacility:i}).remainingAccounts(l).instruction(),signers:u}]})}static cancelCraftingProcess(e,t,r,s,i,o){return a=>Kl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.cancelCraftingProcess().accountsStrict({location:t.publicKey(),authority:r.publicKey(),fundsTo:s==="funder"?a.publicKey():s,craftingProcess:i,craftingFacility:o}).instruction(),signers:[t,r]}]})}static burnConsumableIngredient(e,t,r,s,i,o){return()=>Kl(this,void 0,void 0,function*(){var a;return[{instruction:yield e.methods.burnConsumableIngredient(Object.assign(Object.assign({},o),{localTime:(a=o.localTime)!==null&&a!==void 0?a:null})).accountsStrict({craftingProcess:t,recipe:r,tokenFrom:s,mint:i,tokenProgram:xh.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimNonConsumableIngredient(e,t,r,s,i,o,a,c){return()=>Kl(this,void 0,void 0,function*(){var u;return[{instruction:yield e.methods.claimNonConsumableIngredient(Object.assign(Object.assign({},c),{localTime:(u=c.localTime)!==null&&u!==void 0?u:null})).accountsStrict({authority:r,craftingProcess:t,recipe:s,tokenFrom:i,tokenTo:o,mint:a,tokenProgram:xh.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimRecipeOutput(e,t,r,s,i,o,a,c){return()=>Kl(this,void 0,void 0,function*(){var u;return[{instruction:yield e.methods.claimRecipeOutput(Object.assign(Object.assign({},c),{localTime:(u=c.localTime)!==null&&u!==void 0?u:null})).accountsStrict({authority:r,craftingProcess:t,recipe:s,tokenFrom:i,tokenTo:o,craftableItem:a,tokenProgram:xh.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(e,t,r,s,i,o,a,c){const u=[];return a&&c&&u.push({pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:xh.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),l=>Kl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.closeCraftingProcess().accountsStrict({authority:t.publicKey(),fundsTo:r==="funder"?l.publicKey():r,craftingProcess:s,recipe:i,craftingFacility:o}).remainingAccounts(u).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,AO.decodeAccount)(e,t,Q9)}};Uf.CraftingProcess=LM;LM.ACCOUNT_NAME="craftingProcess";LM.MIN_DATA_SIZE=8+1+8+32+32+32+32+16+16+8+1+8+8+1;Uf.CraftingProcess=LM=Q9=Vat([(0,AO.staticImplements)(),qat("design:paramtypes",[Object,ID.PublicKey])],LM);var Up={},Hat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Gat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Rhe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},eq;Object.defineProperty(Up,"__esModule",{value:!0});Up.CraftingDomain=Up.craftingDomainDataEquals=void 0;const R_e=aT,C_e=nr,Yat=Px.exports;function Zat(n,e){return n.version===e.version&&n.profile.equals(e.profile)&&(0,Yat.isEqual)(n.namespace,e.namespace)}Up.craftingDomainDataEquals=Zat;let WM=eq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return(0,C_e.decodeAccount)(e,t,eq)}static initializeDomain(e,t,r,s,i){return o=>Rhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initializeDomain(i).accountsStrict({signer:r.publicKey(),domain:t.publicKey(),funder:o.publicKey(),profile:s,systemProgram:R_e.SystemProgram.programId}).instruction(),signers:[r,t,o]}]})}static updateDomain(e,t,r,s,i,o){return()=>Rhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateDomain(o).accountsStrict({key:r.publicKey(),domain:t,profile:s,newProfile:i}).instruction(),signers:[r]}]})}};Up.CraftingDomain=WM;WM.ACCOUNT_NAME="domain";WM.MIN_DATA_SIZE=8+1+32+32+32;Up.CraftingDomain=WM=eq=Hat([(0,C_e.staticImplements)(),Gat("design:paramtypes",[Object,R_e.PublicKey])],WM);var NM={};Object.defineProperty(NM,"__esModule",{value:!0});NM.IDL=void 0;NM.IDL={version:"0.1.0",name:"crafting",instructions:[{name:"addConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Mint Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The [`RecipeCategory`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"addNonConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addOutputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The Craftable Item that the output represents"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"AddRecipeIngredientInput"}}]},{name:"burnConsumableIngredient",accounts:[{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the consumable recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"BurnConsumableIngredientInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"claimNonConsumableIngredient",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account to receive the non-consumable ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimNonConsumableIngredientInput"}}]},{name:"claimRecipeOutput",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by `craftable_item`."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable_item (this is also the mint authority)"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimRecipeOutputInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The owner/authority for the new crafting_process account"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"CreateCraftingProcessInput"}}]},{name:"deregisterCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainCraftableItemBank",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [omain account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The craftable item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"initializeDomain",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the crafting program permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"domain",isMut:!0,isSigner:!0,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"namespace",type:{array:["u8",32]}}]},{name:"legitimizeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"LegitimizeRecipeIngredientInput"}}]},{name:"registerCraftableItem",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the Craftable Item to be registered"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item to be registered"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftableItemInput"}}]},{name:"registerCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingFacility",isMut:!0,isSigner:!0,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"location",isMut:!1,isSigner:!1,docs:["The Location address"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftingFacilityInput"}}]},{name:"registerRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!0,docs:["The [Recipe] account"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeInput"}}]},{name:"registerRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!0,isSigner:!0,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeCategoryInput"}}]},{name:"removeConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The recipe category to remove."]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveCraftingFacilityRecipeCategoryInput"}}]},{name:"removeNonConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeOutputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account that receives the recipe ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [`Token`] program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredientInput"}}]},{name:"startCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[{name:"input",type:{defined:"StartCraftingProcessInput"}}]},{name:"stopCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[{name:"input",type:{defined:"StopCraftingProcessInput"}}]},{name:"updateCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateCraftingFacilityInput"}}]},{name:"updateDomain",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"newProfile",isMut:!1,isSigner:!1,docs:["The new crafting permissions profile"]},{name:"domain",isMut:!0,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"updateRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateRecipeInput"}}]},{name:"updateRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"recipeCategoryOld",isMut:!0,isSigner:!1,docs:["The old [RecipeCategory] account"]},{name:"recipeCategoryNew",isMut:!0,isSigner:!1,docs:["The new [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]}],accounts:[{name:"craftableItem",docs:["This PDA represents a token registered as an item that can be crafted"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"mint",docs:["the mint representing the items crafted"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"craftingFacility",docs:["Represents a crafting facility account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"numConcurrentProcesses",docs:["the current number of concurrent crafting processes"],type:"u32"},{name:"efficiency",docs:["the efficiency rate for this crafting_facility (as basis points)"],type:"u32"},{name:"numRecipeCategories",docs:["number of recipe categories"],type:"u32"}]}},{name:"craftingProcess",docs:["This account represents crafting in progress"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"craftingId",docs:["the crafting id"],type:"u64"},{name:"authority",docs:["the owner/authority of this crafting process"],type:"publicKey"},{name:"recipe",docs:["the recipe"],type:"publicKey"},{name:"craftingFacility",docs:["the crafting facility"],type:"publicKey"},{name:"inputsChecksum",docs:["used to check if expected inputs have been supplied"],type:{array:["u8",16]}},{name:"outputsChecksum",docs:["used to check if expected outputs have been claimed"],type:{array:["u8",16]}},{name:"quantity",docs:["Quantity of outputs to craft"],type:"u64"},{name:"status",docs:["The status of this crafting process"],type:"u8"},{name:"startTime",docs:["the start timestamp"],type:"i64"},{name:"endTime",docs:["the end timestamp"],type:"i64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"u8"},{name:"useLocalTime",docs:["Whether or not to local time supplied by the location.  True when > 0"],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"domain",docs:['This account allows for a crafting "domain" which allows an admin to set up',"craftable items, recipes and crafting facilities tied to a domain that the control"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The [`Profile`] that handles the crafting program permissions"],type:"publicKey"},{name:"namespace",docs:["the namespace"],type:{array:["u8",32]}}]}},{name:"recipe",docs:["The definition of a recipe."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"category",docs:["The Recipe Category"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"duration",docs:["The time required to craft this Recipe."],type:"i64"},{name:"minDuration",docs:["The minimum time required to craft this Recipe."],type:"i64"},{name:"namespace",docs:["The name of this recipe."],type:{array:["u8",32]}},{name:"status",docs:["The status of the recipe"],type:"u8"},{name:"feeAmount",docs:["The amount to charge when this recipe is used"],type:"u64"},{name:"feeRecipient",docs:["The token account that receives the `fee_amount`.  If [`None`] the recipe requires no fees when used."],type:{defined:"OptionalNonSystemPubkey"}},{name:"usageCount",docs:["The number of times that this recipe has been used"],type:"u64"},{name:"usageLimit",docs:["The maximum number of times that this recipe can be used"],type:"u64"},{name:"value",docs:['The value of this recipe e.g. might be "economic value"','The precise meaning of "value" is left to the person creating recipes to determine'],type:"u64"},{name:"consumablesCount",docs:["The number of consumable inputs in this recipe."],type:"u8"},{name:"nonConsumablesCount",docs:["The number of non-consumable inputs in this recipe."],type:"u8"},{name:"outputsCount",docs:["The number of outputs from this recipe."],type:"u8"},{name:"totalCount",docs:["The number of all inputs and outputs in this recipe."],type:"u16"}]}},{name:"recipeCategory",docs:["A Crafting Recipe Category account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"recipeCount",docs:["The number of recipes in this category."],type:"u32"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}}]}}],types:[{name:"AddRecipeIngredientInput",docs:["Struct for data input to add an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"BurnConsumableIngredientInput",docs:["Struct for data input to burn a consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the consumable recipe ingredient"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"ClaimNonConsumableIngredientInput",docs:["Struct for data input to claim a non-consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"ClaimRecipeOutputInput",docs:["Struct for data input to claim an output"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"CreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"bool"},{name:"useLocalTime",docs:["Whether or not to local time supplied by the location.  True when > 0"],type:"bool"}]}},{name:"KeyIndexInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"LegitimizeRecipeIngredientInput",docs:["Struct for data input to legitimize an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `CraftingFacility` might be found"],type:{kind:"enum",variants:[{name:"Starbase"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"ProcessStatus",docs:["The `CraftingProcess` `status`"],type:{kind:"enum",variants:[{name:"Initialized"},{name:"Started"},{name:"Completed"}]}},{name:"RecipeIngredients",docs:["A copy of the [`RecipeInputsOutputs`] struct --> to be used as inputs into the program, avoiding using Borsch Serialization with Zero Copy serialization"],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RecipeInputsOutputs",docs:["The [`RecipeInputsOutputs`] struct."],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"}]}},{name:"RecipeStatus",docs:["Represents the `Recipe` status"],type:{kind:"enum",variants:[{name:"Initializing"},{name:"Active"},{name:"Deactivated"}]}},{name:"RegisterCraftableItemInput",docs:["used as input struct when registering a `CraftableItem`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `CraftableItem` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterCraftingFacilityInput",docs:["Struct for data input to Register a `CraftingFacility`"],type:{kind:"struct",fields:[{name:"locationType",docs:["`CraftingFacility` location type"],type:{defined:"LocationType"}},{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:"u32"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeCategoryInput",docs:["Struct for data input for `RegisterRecipeCategory`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `RecipeCategory` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeInput",docs:["used as input struct when registering a Recipe"],type:{kind:"struct",fields:[{name:"duration",docs:["the recipe duration (seconds)"],type:"i64"},{name:"minDuration",docs:["the recipe minimum duration (seconds)"],type:"i64"},{name:"namespace",docs:["the recipe namespace"],type:{array:["u8",32]}},{name:"feeAmount",docs:["the recipe fee amount"],type:{option:"u64"}},{name:"usageLimit",docs:["the maximum number of times that this recipe can be used; if not provided a limit will not be set"],type:{option:"u64"}},{name:"value",docs:["the recipe's value"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveCraftingFacilityRecipeCategoryInput",docs:["Struct for data input for removing a [`CraftingFacility`] `RecipeCategory`"],type:{kind:"struct",fields:[{name:"recipeCategoryIndex",docs:["the index of the `RecipeCategory` in the [`CraftingFacility`]"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveRecipeIngredientInput",docs:["Struct for data input to remove an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw/remove"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"RemoveRecipeIngredients",docs:["used as input struct when removing recipe ingredients"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"StartCraftingProcessInput",docs:["Inputs for `StartCraftingProcess`"],type:{kind:"struct",fields:[{name:"recipeDurationOverride",docs:["recipe duration override"],type:{option:"u64"}},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"StopCraftingProcessInput",docs:["Inputs for `StopCraftingProcess`"],type:{kind:"struct",fields:[{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"UpdateCraftingFacilityInput",docs:["Struct for data input to Update `CraftingFacility`"],type:{kind:"struct",fields:[{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:{option:"u32"}},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"UpdateRecipeInput",docs:["Struct for data input to Update `Recipe`"],type:{kind:"struct",fields:[{name:"duration",docs:["`Recipe` duration"],type:{option:"i64"}},{name:"minDuration",docs:["`Recipe` minimum duration"],type:{option:"i64"}},{name:"feeAmount",docs:["`Recipe` fee amount"],type:{option:"u64"}},{name:"status",docs:["`Recipe` status"],type:{option:"u8"}},{name:"usageLimit",docs:["the maximum number of times that this recipe can be used"],type:{option:"u64"}},{name:"value",docs:["the recipe's value"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"WrappedRecipeCategory",docs:["Wrapped recipe category","We are wrapping this around Pubkey so that we can use Anchor's coder to decode it"],type:{kind:"struct",fields:[{name:"id",docs:["The recipe category public key"],type:"publicKey"}]}}],errors:[{code:6e3,name:"IncorrectProfileAddress",msg:"Incorrect profile address."},{code:6001,name:"IncorrectAuthority",msg:"The authority is incorrect."},{code:6002,name:"NumericOverflow",msg:"Numeric overflow"},{code:6003,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6004,name:"AdminNotMintAuthority",msg:"Admin wallet is not the mint authority of the entered token."},{code:6005,name:"IncorrectMintAddress",msg:"Incorrect mint address entered."},{code:6006,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6007,name:"IncorrectLocation",msg:"The location is incorrect."},{code:6008,name:"IncorrectDomain",msg:"The domain is incorrect."},{code:6009,name:"IncorrectRecipe",msg:"The recipe is incorrect."},{code:6010,name:"IncorrectRecipeCategory",msg:"The recipe category is incorrect."},{code:6011,name:"IncorrectCraftingFacility",msg:"The crafting facility is incorrect."},{code:6012,name:"OverCraftingFacilityCapacity",msg:"The crafting facility capacity has been exceeded."},{code:6013,name:"InsufficientAmount",msg:"The amount is insufficient."},{code:6014,name:"AmountRequired",msg:"An amount greater than 0 must be provided."},{code:6015,name:"AmountTooMuch",msg:"The amount is more than what is required."},{code:6016,name:"InputAlreadySupplied",msg:"The input has already been supplied."},{code:6017,name:"InputNotSupplied",msg:"The input has NOT been supplied."},{code:6018,name:"OutputAlreadyClaimed",msg:"The output has already been claimed."},{code:6019,name:"CraftingProcessAlreadyStarted",msg:"The crafting process has already started."},{code:6020,name:"CraftingProcessNotStarted",msg:"The crafting process has not started."},{code:6021,name:"CraftingProcessNotCompleted",msg:"The crafting process has not completed."},{code:6022,name:"CraftingProcessAlreadyCompleted",msg:"The crafting process has already completed."},{code:6023,name:"IngredientNotAnInput",msg:"The ingredient is not an input."},{code:6024,name:"IngredientNotAConsumableInput",msg:"The ingredient is not a consumable input."},{code:6025,name:"IngredientNotANonConsumableInput",msg:"The ingredient is not a non-consumable input."},{code:6026,name:"IngredientNotAnOutput",msg:"The ingredient is not an output."},{code:6027,name:"IncorrectInputsChecksum",msg:"The inputs checksum is incorrect."},{code:6028,name:"IncorrectOutputsChecksum",msg:"The outputs checksum is incorrect."},{code:6029,name:"RecipeCountNotZero",msg:"The recipe count is not zero."},{code:6030,name:"RecipeCategoryCountNotZero",msg:"The recipe category count is not zero."},{code:6031,name:"ConcurrentProcessCountNotZero",msg:"The concurrent process count is not zero."},{code:6032,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds."},{code:6033,name:"InvalidDuration",msg:"Duration is invalid."},{code:6034,name:"MissingRequiredSignature",msg:"Missing required signature."},{code:6035,name:"AddressMismatchATA",msg:"ATA address does not match"},{code:6036,name:"CannotUpdateDeactivatedRecipe",msg:"Cannot Update Deactivated Recipe"},{code:6037,name:"InvalidRecipeStatus",msg:"Invalid Recipe Status"},{code:6038,name:"EfficiencyIsZero",msg:"Crafting Facility Efficiency Is Zero"},{code:6039,name:"AddressMismatch",msg:"Address Mismatch"},{code:6040,name:"RecipeLimitExceeded",msg:"Recipe Limit Exceeded"}]};var qZ={};(function(n){var e=K&&K.__createBinding||(Object.create?function(f,g,b,S){S===void 0&&(S=b);var p=Object.getOwnPropertyDescriptor(g,b);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(f,S,p)}:function(f,g,b,S){S===void 0&&(S=b),f[S]=g[b]}),t=K&&K.__setModuleDefault||(Object.create?function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}:function(f,g){f.default=g}),r=K&&K.__decorate||function(f,g,b,S){var p=arguments.length,I=p<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,b):S,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(f,g,b,S);else for(var w=f.length-1;w>=0;w--)(A=f[w])&&(I=(p<3?A(I):p>3?A(g,b,I):A(g,b))||I);return p>3&&I&&Object.defineProperty(g,b,I),I},s=K&&K.__importStar||function(f){if(f&&f.__esModule)return f;var g={};if(f!=null)for(var b in f)b!=="default"&&Object.prototype.hasOwnProperty.call(f,b)&&e(g,f,b);return t(g,f),g},i=K&&K.__metadata||function(f,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,g)},o=K&&K.__awaiter||function(f,g,b,S){function p(I){return I instanceof b?I:new b(function(A){A(I)})}return new(b||(b=Promise))(function(I,A){function w(M){try{P(S.next(M))}catch(E){A(E)}}function _(M){try{P(S.throw(M))}catch(E){A(E)}}function P(M){M.done?I(M.value):p(M.value).then(w,_)}P((S=S.apply(f,g||[])).next())})},a;Object.defineProperty(n,"__esModule",{value:!0}),n.Recipe=n.recipeDataEquals=n.RECIPE_MIN_DATA_SIZE=n.RecipeStatus=void 0;const c=aT,u=s(cc),l=nr,d=Px.exports;var y;(function(f){f[f.Initializing=1]="Initializing",f[f.Active=2]="Active",f[f.Deactivated=3]="Deactivated"})(y||(n.RecipeStatus=y={})),n.RECIPE_MIN_DATA_SIZE=8+1+32+32+32+8+8+32+1+1+1+1+8+8+8+8+32+2;function h(f,g){return f.version===g.version&&f.domain.equals(g.domain)&&f.category.equals(g.category)&&f.duration.eq(g.duration)&&f.minDuration.eq(g.minDuration)&&(0,d.isEqual)(f.namespace,g.namespace)&&f.consumablesCount===g.consumablesCount&&f.nonConsumablesCount===g.nonConsumablesCount&&f.outputsCount===g.outputsCount&&f.totalCount===g.totalCount&&f.feeAmount.eq(g.feeAmount)&&f.usageCount.eq(g.usageCount)&&f.usageLimit.eq(g.usageLimit)&&f.value.eq(g.value)&&f.feeRecipient.key.equals(g.feeRecipient.key)&&f.status===g.status}n.recipeDataEquals=h;let m=a=class{constructor(g,b,S){this._data=g,this._key=b,this._ingredientInputsOutputs=S}get data(){return this._data}get key(){return this._key}get ingredientInputsOutputs(){return this._ingredientInputsOutputs}static registerRecipe(g,b,S,p,I,A,w,_){if(w.feeAmount&&w.feeAmount.gt(new u.BN(0))&&!_||_&&(!w.feeAmount||w.feeAmount.lte(new u.BN(0))))throw"feeRecipient must be set if feeAmount is set";const P=_&&w.feeAmount&&w.feeAmount.gt(new u.BN(0))?[{pubkey:_,isSigner:!1,isWritable:!1}]:[];return M=>o(this,void 0,void 0,function*(){var E,T;return[{instruction:yield g.methods.registerRecipe(Object.assign(Object.assign({},w),{feeAmount:w.feeAmount&&w.feeAmount.gt(new u.BN(0))?w.feeAmount:null,usageLimit:(E=w.usageLimit)!==null&&E!==void 0?E:null,value:(T=w.value)!==null&&T!==void 0?T:null})).accountsStrict({key:S.publicKey(),profile:p,funder:M.publicKey(),recipe:b.publicKey(),recipeCategory:A,domain:I,systemProgram:c.SystemProgram.programId}).remainingAccounts(P).instruction(),signers:[S,M,b]}]})}static addConsumableInputToRecipe(g,b,S,p,I,A,w){return _=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addConsumableInputToRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:_.publicKey(),recipe:b,domain:I,mint:A,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,_]}]})}static addNonConsumableInputToRecipe(g,b,S,p,I,A,w){return _=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addNonConsumableInputToRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:_.publicKey(),recipe:b,domain:I,mint:A,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,_]}]})}static addOutputToRecipe(g,b,S,p,I,A,w){return _=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addOutputToRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:_.publicKey(),recipe:b,domain:I,craftableItem:A,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,_]}]})}static removeConsumableInputFromRecipe(g,b,S,p,I,A){return w=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeConsumableInputFromRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:w.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,w]}]})}static removeNonConsumableInputFromRecipe(g,b,S,p,I,A){return w=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeNonConsumableInputFromRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:w.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,w]}]})}static removeOutputFromRecipe(g,b,S,p,I,A){return w=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeOutputFromRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:w.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,w]}]})}static updateRecipeCategory(g,b,S,p,I,A,w,_){return()=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.updateRecipeCategory(_).accountsStrict({key:S.publicKey(),profile:p,recipe:b,recipeCategoryOld:A,recipeCategoryNew:w,domain:I}).instruction(),signers:[S]}]})}static updateRecipe(g,b,S,p,I,A,w){if(A.feeAmount&&A.feeAmount.gt(new u.BN(0))&&!w||w&&(!A.feeAmount||A.feeAmount.lte(new u.BN(0))))throw"feeRecipient must be set if feeAmount is set";const _=w&&A.feeAmount&&A.feeAmount.gt(new u.BN(0))?[{pubkey:w,isSigner:!1,isWritable:!1}]:[];return()=>o(this,void 0,void 0,function*(){var P,M,E,T,z,O;return[{instruction:yield g.methods.updateRecipe({keyIndex:A.keyIndex,duration:(P=A.duration)!==null&&P!==void 0?P:null,minDuration:(M=A.minDuration)!==null&&M!==void 0?M:null,status:(E=A.status)!==null&&E!==void 0?E:null,usageLimit:(T=A.usageLimit)!==null&&T!==void 0?T:null,feeAmount:(z=A.feeAmount)!==null&&z!==void 0?z:null,value:(O=A.value)!==null&&O!==void 0?O:null}).accountsStrict({key:S.publicKey(),profile:p,recipe:b,domain:I}).remainingAccounts(_).instruction(),signers:[S]}]})}static decodeData(g,b){return(0,l.decodeAccountWithRemaining)(g,b,a,(p,I)=>Array(I.totalCount).fill(0).map((A,w)=>b.coder.types.decode("RecipeInputsOutputs",p.subarray(w*40).subarray(0,40))))}};n.Recipe=m,m.ACCOUNT_NAME="recipe",m.MIN_DATA_SIZE=n.RECIPE_MIN_DATA_SIZE,n.Recipe=m=a=r([(0,l.staticImplements)(),i("design:paramtypes",[Object,c.PublicKey,Array])],m)})(qZ);var Vp={},Jat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Xat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Che=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},tq;Object.defineProperty(Vp,"__esModule",{value:!0});Vp.RecipeCategory=Vp.recipeCategoryDataEquals=void 0;const rq=aT,jZ=nr;function Qat(n,e){return n.version===e.version&&n.domain.equals(e.domain)&&n.recipeCount===e.recipeCount&&(0,jZ.arrayDeepEquals)(n.namespace,e.namespace,(t,r)=>t===r)}Vp.recipeCategoryDataEquals=Qat;let FM=tq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static registerRecipeCategory(e,t,r,s,i,o){return a=>Che(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerRecipeCategory(o).accountsStrict({key:r.publicKey(),profile:s,funder:a.publicKey(),recipeCategory:t.publicKey(),domain:i,systemProgram:rq.SystemProgram.programId}).instruction(),signers:[r,a,t]}]})}static deregisterRecipeCategory(e,t,r,s,i,o,a){return c=>Che(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterRecipeCategory(a).accountsStrict({key:r.publicKey(),profile:s,fundsTo:i==="funder"?c.publicKey():i,recipeCategory:t,domain:o,systemProgram:rq.SystemProgram.programId}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,jZ.decodeAccount)(e,t,tq)}};Vp.RecipeCategory=FM;FM.ACCOUNT_NAME="recipeCategory";FM.MIN_DATA_SIZE=8+1+32+32+4+32;Vp.RecipeCategory=FM=tq=Jat([(0,jZ.staticImplements)(),Xat("design:paramtypes",[Object,rq.PublicKey])],FM);(function(n){var e=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var A=m.length-1;A>=0;A--)(I=m[A])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},t=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)};Object.defineProperty(n,"__esModule",{value:!0}),n.CraftingProgram=n.craftingErrorMap=n.CRAFTING_IDL=void 0;const r=cc,s=nr,i=Fp,o=VZ,a=Uf,c=Up,u=NM,l=qZ,d=Vp;var y=NM;Object.defineProperty(n,"CRAFTING_IDL",{enumerable:!0,get:function(){return y.IDL}}),n.craftingErrorMap=(0,s.generateErrorMap)(u.IDL);let h=class extends s.ListenProgram{constructor(f){super(f,{craftableItem:i.CraftableItem,craftingFacility:o.CraftingFacility,craftingProcess:a.CraftingProcess,domain:c.CraftingDomain,recipe:l.Recipe,recipeCategory:d.RecipeCategory})}static buildProgram(f,g,b){return new r.Program(u.IDL,f,g,b)}};n.CraftingProgram=h,n.CraftingProgram=h=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],h)})(zIe);var lz={},ect=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},tct=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Zi;Object.defineProperty(lz,"__esModule",{value:!0});lz.CraftingPermissions=void 0;const M_e=nr;let nq=Zi=class{constructor(e,t,r,s,i,o,a,c){this.manageDomain=e,this.createCraftableItem=t,this.manageCraftableItem=r,this.manageCraftingFacility=s,this.createRecipeCategory=i,this.manageRecipeCategory=o,this.createRecipe=a,this.manageRecipe=c}getPermissions(){const e=(0,M_e.fixedSizeArray)(8,0);return e[0]=(this.manageDomain?1<<0:0)|(this.createCraftableItem?1<<1:0)|(this.manageCraftableItem?1<<2:0)|(this.manageCraftingFacility?1<<3:0)|(this.createRecipeCategory?1<<4:0)|(this.manageRecipeCategory?1<<5:0)|(this.createRecipe?1<<6:0)|(this.manageRecipe?1<<7:0),e}static empty(){return new Zi(!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new Zi(!0,!0,!0,!0,!0,!0,!0,!0)}static manageDomain(){return Zi.permissionsBuilder("manageDomain")}static createCraftableItem(){return Zi.permissionsBuilder("createCraftableItem")}static manageCraftableItem(){return Zi.permissionsBuilder("manageCraftableItem")}static manageCraftingFacility(){return Zi.permissionsBuilder("manageCraftingFacility")}static createRecipeCategory(){return Zi.permissionsBuilder("createRecipeCategory")}static manageRecipeCategory(){return Zi.permissionsBuilder("manageRecipeCategory")}static createRecipe(){return Zi.permissionsBuilder("createRecipe")}static manageRecipe(){return Zi.permissionsBuilder("manageRecipe")}static craftableItemPermissions(){return Zi.permissionsBuilder(["createCraftableItem","manageCraftableItem"])}static recipeCategoryPermissions(){return Zi.permissionsBuilder(["createRecipeCategory","manageRecipeCategory"])}static recipePermissions(){return Zi.permissionsBuilder(["createRecipe","manageRecipe"])}static fromPermissions(e){return new Zi((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0,(e[0]&1<<5)!==0,(e[0]&1<<6)!==0,(e[0]&1<<7)!==0)}and(e){return new Zi(this.manageDomain&&e.manageDomain,this.createCraftableItem&&e.createCraftableItem,this.manageCraftableItem&&e.manageCraftableItem,this.manageCraftingFacility&&e.manageCraftingFacility,this.createRecipeCategory&&e.createRecipeCategory,this.manageRecipeCategory&&e.manageRecipeCategory,this.createRecipe&&e.createRecipe,this.manageRecipe&&e.manageRecipe)}or(e){return new Zi(this.manageDomain||e.manageDomain,this.createCraftableItem||e.createCraftableItem,this.manageCraftableItem||e.manageCraftableItem,this.manageCraftingFacility||e.manageCraftingFacility,this.createRecipeCategory||e.createRecipeCategory,this.manageRecipeCategory||e.manageRecipeCategory,this.createRecipe||e.createRecipe,this.manageRecipe||e.manageRecipe)}eq(e){return this.manageDomain===e.manageDomain&&this.createCraftableItem===e.createCraftableItem&&this.manageCraftableItem===e.manageCraftableItem&&this.manageCraftingFacility===e.manageCraftingFacility&&this.createRecipeCategory===e.createRecipeCategory&&this.manageRecipeCategory===e.manageRecipeCategory&&this.createRecipe===e.createRecipe&&this.manageRecipe===e.manageRecipe}contains(e){return this.and(e).eq(e)}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(Zi.empty()).map(s=>t.includes(s));if(r.length!=Zi.length)throw console.log(r.length,Zi.length),"Incorrect permissions array";return new Zi(...r)}};lz.CraftingPermissions=nq;lz.CraftingPermissions=nq=Zi=ect([(0,M_e.staticImplements)(),tct("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],nq);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(BIe,n),t(zIe,n),t(Fp,n),t(VZ,n),t(Uf,n),t(Up,n),t(lz,n),t(qZ,n),t(Vp,n)})(bZ);var Au={},rct=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},nct=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},iN=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},hy;Object.defineProperty(Au,"__esModule",{value:!0});Au.ProgressionConfig=Au.progressionConfigDataEquals=Au.ProgressionItemType=void 0;const w2=qs,B_e=nr;var Mhe;(function(n){n[n.Subwarp=0]="Subwarp",n[n.Warp=1]="Warp",n[n.WarpLane=2]="WarpLane",n[n.AsteroidExit=3]="AsteroidExit",n[n.ScanUnsuccessful=4]="ScanUnsuccessful",n[n.ScanSuccessful=5]="ScanSuccessful",n[n.Mining=6]="Mining",n[n.Crafting=7]="Crafting",n[n.Upkeep=8]="Upkeep",n[n.Upgrade=9]="Upgrade"})(Mhe||(Au.ProgressionItemType=Mhe={}));function sct(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.dailyLpLimit.eq(e.dailyLpLimit)&&n.dailyCouncilRankXpLimit.eq(e.dailyCouncilRankXpLimit)&&n.dailyPilotXpLimit.eq(e.dailyPilotXpLimit)&&n.dailyDataRunningXpLimit.eq(e.dailyDataRunningXpLimit)&&n.dailyMiningXpLimit.eq(e.dailyMiningXpLimit)&&n.dailyCraftingXpLimit.eq(e.dailyCraftingXpLimit)&&n.numItems===e.numItems}Au.progressionConfigDataEquals=sct;let YA=hy=class{constructor(e,t,r){this._data=e,this._key=t,this._items=r}get data(){return this._data}get key(){return this._key}get items(){return this._items||[]}static findAddress(e,t){return w2.PublicKey.findProgramAddressSync([Ve.Buffer.from("ProgressionConfig"),t.toBuffer()],e.programId)}static registerProgressionConfig(e,t,r,s,i){const o=hy.findAddress(e,s);return{configKey:o,instructions:a=>iN(this,void 0,void 0,function*(){var c,u,l,d,y,h;return[{instruction:yield e.methods.registerProgressionConfig(Object.assign(Object.assign({},i),{dailyLpLimit:(c=i.dailyLpLimit)!==null&&c!==void 0?c:null,dailyCouncilRankXpLimit:(u=i.dailyCouncilRankXpLimit)!==null&&u!==void 0?u:null,dailyPilotXpLimit:(l=i.dailyPilotXpLimit)!==null&&l!==void 0?l:null,dailyDataRunningXpLimit:(d=i.dailyDataRunningXpLimit)!==null&&d!==void 0?d:null,dailyMiningXpLimit:(y=i.dailyMiningXpLimit)!==null&&y!==void 0?y:null,dailyCraftingXpLimit:(h=i.dailyCraftingXpLimit)!==null&&h!==void 0?h:null})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:a.publicKey(),progressionConfig:o[0],systemProgram:w2.SystemProgram.programId}).instruction(),signers:[t,a]}]})}}static updateProgressionConfig(e,t,r,s,i){return()=>iN(this,void 0,void 0,function*(){var o,a,c,u,l,d,y;return[{instruction:yield e.methods.updateProgressionConfig({keyIndex:i.keyIndex,items:(o=i.items)!==null&&o!==void 0?o:null,dailyLpLimit:(a=i.dailyLpLimit)!==null&&a!==void 0?a:null,dailyCouncilRankXpLimit:(c=i.dailyCouncilRankXpLimit)!==null&&c!==void 0?c:null,dailyPilotXpLimit:(u=i.dailyPilotXpLimit)!==null&&u!==void 0?u:null,dailyDataRunningXpLimit:(l=i.dailyDataRunningXpLimit)!==null&&l!==void 0?l:null,dailyMiningXpLimit:(d=i.dailyMiningXpLimit)!==null&&d!==void 0?d:null,dailyCraftingXpLimit:(y=i.dailyCraftingXpLimit)!==null&&y!==void 0?y:null}).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},progressionConfig:hy.findAddress(e,s)[0],systemProgram:w2.SystemProgram.programId}).instruction(),signers:[t]}]})}static deregisterProgressionConfig(e,t,r,s,i,o){return a=>iN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterProgressionConfig(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},fundsTo:s==="funder"?a.publicKey():s,progressionConfig:hy.findAddress(e,i)[0],systemProgram:w2.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static decodeData(e,t){return(0,B_e.decodeAccountWithRemaining)(e,t,hy,(r,s)=>Array(s.numItems).fill(0).map((i,o)=>t.coder.types.decode("ProgressionItem",r.subarray(hy.PROGRESSION_ITEM_DATA_SIZE*o).subarray(0,hy.PROGRESSION_ITEM_DATA_SIZE))))}};Au.ProgressionConfig=YA;YA.ACCOUNT_NAME="progressionConfig";YA.MIN_DATA_SIZE=8+1+32+8+8+8+8+8+8+2;YA.PROGRESSION_ITEM_DATA_SIZE=4;Au.ProgressionConfig=YA=hy=rct([(0,B_e.staticImplements)(),nct("design:paramtypes",[Object,w2.PublicKey,Array])],YA);var ict=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},oct=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Ld=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},sq;Object.defineProperty(cd,"__esModule",{value:!0});cd.CraftingInstance=cd.craftingInstanceDataEquals=cd.CraftingInstanceType=void 0;const Um=rl,iq=qs,Pk=cc,act=bZ,z_e=nr,cct=Au;var Bhe;(function(n){n[n.StarbaseCrafting=1]="StarbaseCrafting",n[n.StarbaseUpgradeMaterial=2]="StarbaseUpgradeMaterial"})(Bhe||(cd.CraftingInstanceType=Bhe={}));function uct(n,e){return n.version===e.version&&n.seqId===e.seqId&&n.numCrew.eq(e.numCrew)&&n.authority.equals(e.authority)&&n.craftingProcess.equals(e.craftingProcess)&&n.instanceType===e.instanceType&&n.bump===e.bump}cd.craftingInstanceDataEquals=uct;let UM=sq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static calculateCraftingDuration(e,t,r,s=0,i=1){if(r.isZero())throw new Error("Invalid value for numCrew");const o=t.div(r),a=t.mod(r),c=o.add(Pk.BN.min(a,new Pk.BN(1))).mul(e),u=Number(c);if(s>=u)return new Pk.BN(u);{const l=Math.max(0,s),y=(u-l)/i;return new Pk.BN(l+y)}}static calculateUpgradeDuration(e,t,r){if(r.isZero())throw new Error("Invalid value for numCrew");const s=t.div(r),i=t.mod(r);return s.add(Pk.BN.min(i,new Pk.BN(1))).mul(e)}static findAddress(e,t,r){return iq.PublicKey.findProgramAddressSync([Ve.Buffer.from("CraftingInstance"),t.toBuffer(),r.toBuffer()],e.programId)}static createCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h){const m=act.CraftingProcess.findAddress(t,l,d,h.craftingId)[0];return f=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.createCraftingProcess(h).accountsStrict({funder:f.publicKey(),starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:c,key:r.publicKey(),profile:s,profileFaction:i},gameState:u},craftingInstance:this.findAddress(e,o,m)[0],craftingProcess:m,craftingFacility:l,craftingRecipe:d,craftingDomain:y,craftingProgram:t.programId,systemProgram:iq.SystemProgram.programId}).instruction(),signers:[r,f]}]})}static depositCraftingIngredient(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I){return()=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.depositCraftingIngredient(I).accountsStrict({starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:S,key:s.publicKey(),profile:i,profileFaction:o},gameState:p},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingRecipe:y,cargoPodFrom:h,cargoType:m,cargoStatsDefinition:f,tokenFrom:g,tokenTo:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[s]}]})}static withdrawCraftingIngredient(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,A){return()=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.withdrawCraftingIngredient(A).accountsStrict({starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:p,key:s.publicKey(),profile:i,profileFaction:o},gameState:I},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingRecipe:y,cargoPodTo:h,cargoType:m,cargoStatsDefinition:f,tokenFrom:g,tokenTo:b,tokenMint:S,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[s]}]})}static startCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){const p=[r],I=[];return f&&g&&b&&S&&(p.map(A=>A.publicKey().toBase58()).includes(g.publicKey().toBase58())||p.push(g),I.push({pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g.publicKey(),isSigner:!0,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:Um.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.startCraftingProcess(m).accountsStrict({starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},craftingInstance:c,craftingProcess:u,craftingRecipe:d,craftingFacility:l,gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingProgram:t.programId}).remainingAccounts(I).instruction(),signers:p}]})}static stopCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){const b=[];return f&&g&&b.push({pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:Um.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),()=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.stopCraftingProcess(m).accountsStrict({starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},craftingInstance:c,craftingProcess:u,craftingRecipe:d,craftingFacility:l,gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingProgram:t.programId}).remainingAccounts(b).instruction(),signers:[r]}]})}static cancelCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m){return f=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.cancelCraftingProcess(m).accountsStrict({fundsTo:o==="funder"?f.publicKey():o,starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingProgram:t.programId}).instruction(),signers:[r]}]})}static claimCraftingNonConsumables(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){return()=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.claimCraftingNonConsumables(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:h,gameState:m},craftingInstance:o,craftingProcess:a,craftingFacility:c,craftingRecipe:u,cargoPodTo:l,cargoType:d,cargoStatsDefinition:y,tokenFrom:f,tokenTo:g,tokenMint:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static burnCraftingConsumables(e,t,r,s,i,o,a,c,u,l,d,y,h){return()=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.burnCraftingConsumables(h).accountsStrict({starbaseAndStarbasePlayer:{starbase:s,starbasePlayer:r},gameAccounts:{gameId:u,gameState:l},craftingInstance:i,craftingProcess:o,craftingFacility:a,craftingRecipe:c,tokenFrom:d,tokenMint:y,craftingProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimCraftingOutputs(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){return()=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.claimCraftingOutputs(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:m,gameState:f},craftingInstance:o,craftingProcess:a,craftingFacility:c,craftingRecipe:u,craftableItem:l,cargoPodTo:d,cargoType:y,cargoStatsDefinition:h,tokenFrom:g,tokenTo:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:Um.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,A,w,_,P){const M=[];return _&&P&&M.push({pubkey:_,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:Um.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),E=>Ld(this,void 0,void 0,function*(){return[{instruction:yield e.methods.closeCraftingProcess(w).accountsStrict({fundsTo:a==="funder"?E.publicKey():a,starbaseAndStarbasePlayer:{starbase:u,starbasePlayer:c},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:I,key:s.publicKey(),profile:i,profileFaction:o},gameState:A},craftingInstance:l,craftingProcess:d,craftingRecipe:h,craftingFacility:y,craftingXpAccounts:{userPointsAccount:m,pointsCategory:f,pointsModifierAccount:g},councilRankXpAccounts:{userPointsAccount:b,pointsCategory:S,pointsModifierAccount:p},progressionConfig:cct.ProgressionConfig.findAddress(e,I)[0],pointsProgram:r.programId,craftingProgram:t.programId}).remainingAccounts(M).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,z_e.decodeAccount)(e,t,sq)}};cd.CraftingInstance=UM;UM.ACCOUNT_NAME="craftingInstance";UM.MIN_DATA_SIZE=8+1+2+8+32+32+1+1;cd.CraftingInstance=UM=sq=ict([(0,z_e.staticImplements)(),oct("design:paramtypes",[Object,iq.PublicKey])],UM);var WK={};(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)},r=K&&K.__awaiter||function(u,l,d,y){function h(m){return m instanceof d?m:new d(function(f){f(m)})}return new(d||(d=Promise))(function(m,f){function g(p){try{S(y.next(p))}catch(I){f(I)}}function b(p){try{S(y.throw(p))}catch(I){f(I)}}function S(p){p.done?m(p.value):h(p.value).then(g,b)}S((y=y.apply(u,l||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.DisbandedFleet=n.SHIP_COUNTS_SIZE=n.disbandedFleetDataEquals=void 0;const i=qs,o=nr;function a(u,l){return u.version===l.version&&u.bump===l.bump&&u.gameId.equals(l.gameId)&&u.ownerProfile.equals(l.ownerProfile)&&u.fleetShips.equals(l.fleetShips)&&u.starbase.equals(l.starbase)&&(0,o.arrayDeepEquals)(u.fleetLabel,l.fleetLabel,(d,y)=>d===y)}n.disbandedFleetDataEquals=a,n.SHIP_COUNTS_SIZE=9*2;let c=s=class{constructor(l,d){this._data=l,this._key=d}get data(){return this._data}get key(){return this._key}static findAddress(l,d,y,h){return i.PublicKey.findProgramAddressSync([Ve.Buffer.from("DisbandedFleet"),d.toBuffer(),y.toBuffer(),Ve.Buffer.from(h)],l.programId)}static disbandedFleetToEscrow(l,d,y,h,m,f,g,b,S,p,I,A){return w=>r(this,void 0,void 0,function*(){return[{instruction:yield l.methods.disbandedFleetToEscrow(A).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:d.publicKey(),profile:y,profileFaction:h,gameId:p},gameState:I},funder:w.publicKey(),disbandedFleet:m,fleetShips:f,ship:g,starbaseAndStarbasePlayer:{starbase:S,starbasePlayer:b},systemProgram:i.SystemProgram.programId}).instruction(),signers:[d,w]}]})}static closeDisbandedFleet(l,d,y,h,m,f,g){return b=>r(this,void 0,void 0,function*(){return[{instruction:yield l.methods.closeDisbandedFleet(g).accountsStrict({key:d.publicKey(),playerProfile:y,fundsTo:h==="funder"?b.publicKey():h,disbandedFleet:m,fleetShips:f}).instruction(),signers:[d]}]})}static decodeData(l,d){return(0,o.decodeAccount)(l,d,s)}};n.DisbandedFleet=c,c.ACCOUNT_NAME="disbandedFleet",c.MIN_DATA_SIZE=8+1+32+32+32+32+n.SHIP_COUNTS_SIZE+1,n.DisbandedFleet=c=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],c)})(WK);var NK={},FK={},HZ={};function wO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function lct(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function dz(n,...e){if(!lct(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function dct(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");wO(n.outputLen),wO(n.blockLen)}function ZA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function $_e(n,e){dz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const oN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fct=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),aN=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Wd=(n,e)=>n<<32-e|n>>>e,zhe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,hct=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function $he(n){for(let e=0;e<n.length;e++)n[e]=hct(n[e])}function gct(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function UK(n){return typeof n=="string"&&(n=gct(n)),dz(n),n}function mct(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];dz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class GZ{clone(){return this._cloneInto()}}function YZ(n){const e=r=>n().update(UK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function D_e(n=32){if(oN&&typeof oN.getRandomValues=="function")return oN.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function yct(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const pct=(n,e,t)=>n&e^~n&t,bct=(n,e,t)=>n&e^n&t^e&t;class O_e extends GZ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=aN(this.buffer)}update(e){ZA(this);const{view:t,buffer:r,blockLen:s}=this;e=UK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=aN(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ZA(this),$_e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;yct(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=aN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const k$=BigInt(2**32-1),oq=BigInt(32);function K_e(n,e=!1){return e?{h:Number(n&k$),l:Number(n>>oq&k$)}:{h:Number(n>>oq&k$)|0,l:Number(n&k$)|0}}function L_e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=K_e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const Sct=(n,e)=>BigInt(n>>>0)<<oq|BigInt(e>>>0),kct=(n,e,t)=>n>>>t,vct=(n,e,t)=>n<<32-t|e>>>t,Act=(n,e,t)=>n>>>t|e<<32-t,wct=(n,e,t)=>n<<32-t|e>>>t,Ict=(n,e,t)=>n<<64-t|e>>>t-32,_ct=(n,e,t)=>n>>>t-32|e<<64-t,Pct=(n,e)=>e,Ect=(n,e)=>n,W_e=(n,e,t)=>n<<t|e>>>32-t,N_e=(n,e,t)=>e<<t|n>>>32-t,F_e=(n,e,t)=>e<<t-32|n>>>64-t,U_e=(n,e,t)=>n<<t-32|e>>>64-t;function xct(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Tct=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Rct=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Cct=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Mct=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Bct=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),zct=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,$ct={fromBig:K_e,split:L_e,toBig:Sct,shrSH:kct,shrSL:vct,rotrSH:Act,rotrSL:wct,rotrBH:Ict,rotrBL:_ct,rotr32H:Pct,rotr32L:Ect,rotlSH:W_e,rotlSL:N_e,rotlBH:F_e,rotlBL:U_e,add:xct,add3L:Tct,add3H:Rct,add4L:Cct,add4H:Mct,add5H:zct,add5L:Bct};var Or=$ct;const[Dct,Oct]=(()=>Or.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Vm=new Uint32Array(80),qm=new Uint32Array(80);class Kct extends O_e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Vm[p]=e.getUint32(t),qm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Vm[p-15]|0,A=qm[p-15]|0,w=Or.rotrSH(I,A,1)^Or.rotrSH(I,A,8)^Or.shrSH(I,A,7),_=Or.rotrSL(I,A,1)^Or.rotrSL(I,A,8)^Or.shrSL(I,A,7),P=Vm[p-2]|0,M=qm[p-2]|0,E=Or.rotrSH(P,M,19)^Or.rotrBH(P,M,61)^Or.shrSH(P,M,6),T=Or.rotrSL(P,M,19)^Or.rotrBL(P,M,61)^Or.shrSL(P,M,6),z=Or.add4L(_,T,qm[p-7],qm[p-16]),O=Or.add4H(z,w,E,Vm[p-7],Vm[p-16]);Vm[p]=O|0,qm[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Or.rotrSH(d,y,14)^Or.rotrSH(d,y,18)^Or.rotrBH(d,y,41),A=Or.rotrSL(d,y,14)^Or.rotrSL(d,y,18)^Or.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=Or.add5L(S,A,_,Oct[p],qm[p]),M=Or.add5H(P,b,I,w,Dct[p],Vm[p]),E=P|0,T=Or.rotrSH(r,s,28)^Or.rotrBH(r,s,34)^Or.rotrBH(r,s,39),z=Or.rotrSL(r,s,28)^Or.rotrBL(r,s,34)^Or.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Or.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Or.add3L(E,z,R);r=Or.add3H(v,M,T,O),s=v|0}({h:r,l:s}=Or.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Or.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Or.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Or.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Or.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Or.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Or.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Or.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Vm.fill(0),qm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Lct=YZ(()=>new Kct);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ZZ=BigInt(0),VK=BigInt(1),Wct=BigInt(2);function IS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function fz(n){if(!IS(n))throw new Error("Uint8Array expected")}function jg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Nct=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function _S(n){fz(n);let e="";for(let t=0;t<n.length;t++)e+=Nct[n[t]];return e}function V_e(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function JZ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Th={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Dhe(n){if(n>=Th._0&&n<=Th._9)return n-Th._0;if(n>=Th._A&&n<=Th._F)return n-(Th._A-10);if(n>=Th._a&&n<=Th._f)return n-(Th._a-10)}function JA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Dhe(n.charCodeAt(i)),a=Dhe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function F1(n){return JZ(_S(n))}function nA(n){return fz(n),JZ(_S(Uint8Array.from(n).reverse()))}function XA(n,e){return JA(n.toString(16).padStart(e*2,"0"))}function VM(n,e){return XA(n,e).reverse()}function Fct(n){return JA(V_e(n))}function na(n,e,t){let r;if(typeof e=="string")try{r=JA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(IS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function PS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];fz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Uct(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Vct(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const cN=n=>typeof n=="bigint"&&ZZ<=n;function qK(n,e,t){return cN(n)&&cN(e)&&cN(t)&&e<=n&&n<t}function vl(n,e,t,r){if(!qK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function qct(n){let e;for(e=0;n>ZZ;n>>=VK,e+=1);return e}function jct(n,e){return n>>BigInt(e)&VK}function Hct(n,e,t){return n|(t?VK:ZZ)<<BigInt(e)}const XZ=n=>(Wct<<BigInt(n-1))-VK,uN=n=>new Uint8Array(n),Ohe=n=>Uint8Array.from(n);function q_e(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=uN(n),s=uN(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=uN())=>{s=a(Ohe([0]),d),r=a(),d.length!==0&&(s=a(Ohe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return PS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Gct={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||IS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function cT(n,e,t={}){const r=(s,i,o)=>{const a=Gct[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Yct=()=>{throw new Error("not implemented")};function qM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Zct=Object.freeze(Object.defineProperty({__proto__:null,isBytes:IS,abytes:fz,abool:jg,bytesToHex:_S,numberToHexUnpadded:V_e,hexToNumber:JZ,hexToBytes:JA,bytesToNumberBE:F1,bytesToNumberLE:nA,numberToBytesBE:XA,numberToBytesLE:VM,numberToVarBytesBE:Fct,ensureBytes:na,concatBytes:PS,equalBytes:Uct,utf8ToBytes:Vct,inRange:qK,aInRange:vl,bitLen:qct,bitGet:jct,bitSet:Hct,bitMask:XZ,createHmacDrbg:q_e,validateObject:cT,notImplemented:Yct,memoized:qM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xa=BigInt(0),Ki=BigInt(1),i1=BigInt(2),Jct=BigInt(3),aq=BigInt(4),Khe=BigInt(5),Lhe=BigInt(8);BigInt(9);BigInt(16);function pi(n,e){const t=n%e;return t>=Xa?t:e+t}function Xct(n,e,t){if(t<=Xa||e<Xa)throw new Error("Expected power/modulo > 0");if(t===Ki)return Xa;let r=Ki;for(;e>Xa;)e&Ki&&(r=r*n%t),n=n*n%t,e>>=Ki;return r}function no(n,e,t){let r=n;for(;e-- >Xa;)r*=r,r%=t;return r}function cq(n,e){if(n===Xa||e<=Xa)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=pi(n,e),r=e,s=Xa,i=Ki;for(;t!==Xa;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Ki)throw new Error("invert: does not exist");return pi(s,e)}function Qct(n){const e=(n-Ki)/i1;let t,r,s;for(t=n-Ki,r=0;t%i1===Xa;t/=i1,r++);for(s=i1;s<n&&Xct(s,e,n)!==n-Ki;s++);if(r===1){const o=(n+Ki)/aq;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Ki)/i1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Ki<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function eut(n){if(n%aq===Jct){const e=(n+Ki)/aq;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Lhe===Khe){const e=(n-Khe)/Lhe;return function(r,s){const i=r.mul(s,i1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,i1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Qct(n)}const tut=(n,e)=>(pi(n,e)&Ki)===Ki,rut=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nut(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=rut.reduce((r,s)=>(r[s]="function",r),e);return cT(n,t)}function sut(n,e,t){if(t<Xa)throw new Error("Expected power > 0");if(t===Xa)return n.ONE;if(t===Ki)return e;let r=n.ONE,s=e;for(;t>Xa;)t&Ki&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Ki;return r}function iut(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function j_e(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function H_e(n,e,t=!1,r={}){if(n<=Xa)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=j_e(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=eut(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:XZ(s),ZERO:Xa,ONE:Ki,create:c=>pi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Xa<=c&&c<n},is0:c=>c===Xa,isOdd:c=>(c&Ki)===Ki,neg:c=>pi(-c,n),eql:(c,u)=>c===u,sqr:c=>pi(c*c,n),add:(c,u)=>pi(c+u,n),sub:(c,u)=>pi(c-u,n),mul:(c,u)=>pi(c*u,n),pow:(c,u)=>sut(a,c,u),div:(c,u)=>pi(c*cq(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>cq(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>iut(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?VM(c,i):XA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?nA(c):F1(c)}});return Object.freeze(a)}function G_e(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Y_e(n){const e=G_e(n);return e+Math.ceil(e/2)}function out(n,e,t=!1){const r=n.length,s=G_e(e),i=Y_e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?F1(n):nA(n),a=pi(o,e-Ki)+Ki;return t?VM(a,s):XA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aut=BigInt(0),lN=BigInt(1),dN=new WeakMap,Whe=new WeakMap;function Z_e(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>aut;)o&lN&&(a=a.add(c)),c=c.double(),o>>=lN;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=lN);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,A=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(A,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Whe.get(i)||1;let u=dN.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&dN.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Whe.set(i,o),dN.delete(i)}}}function QZ(n){return nut(n.Fp),cT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...j_e(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ll=BigInt(0),qc=BigInt(1),v$=BigInt(2),cut=BigInt(8),uut={zip215:!0};function lut(n){const e=QZ(n);return cT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function dut(n){const e=lut(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=v$<<BigInt(a*8)-qc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Ll}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(jg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){vl("coordinate "+v,k,Ll,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=qM((v,k)=>{const{ex:x,ey:C,ez:B}=v,D=v.is0();k==null&&(k=D?cut:t.inv(B));const $=l(x*k),W=l(C*k),L=l(B*k);if(D)return{x:Ll,y:qc};if(L!==qc)throw new Error("invZ was invalid");return{x:$,y:W}}),b=qM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:D,et:$}=v,W=l(C*C),L=l(B*B),U=l(D*D),G=l(U*U),J=l(W*k),Q=l(U*l(J+L)),Y=l(G+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(D*$);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,qc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:D,ey:$,ez:W}=k,L=l(x*W),U=l(D*B),G=l(C*W),J=l($*B);return L===U&&G===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,D=l(x*x),$=l(C*C),W=l(v$*l(B*B)),L=l(k*D),U=x+C,G=l(l(U*U)-D-$),J=L+$,Q=J-W,Y=L-$,X=l(G*Q),re=l(J*Y),se=l(G*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:D,ez:$,et:W}=this,{ex:L,ey:U,ez:G,et:J}=k;if(x===BigInt(-1)){const Lt=l((D-B)*(U+L)),Dt=l((D+B)*(U-L)),et=l(Dt-Lt);if(et===Ll)return this.double();const Ue=l($*v$*J),Wt=l(W*v$*G),sr=Wt+Ue,tr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(tr*pr),gn=l(sr*pr),ds=l(et*tr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(D*U),X=l(W*C*J),re=l($*G),se=l((B+D)*(L+U)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),_e=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(_e,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return A.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;vl("scalar",x,qc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return vl("scalar",x,Ll,r),x===Ll?I:this.equals(I)||x===qc?this:this.equals(p)?this.wNAF(x).p:A.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===qc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,D=t.BYTES;k=na("pointHex",k,D),jg("zip215",x);const $=k.slice(),W=k[D-1];$[D-1]=W&-129;const L=nA($),U=x?u:t.ORDER;vl("pointHex.y",L,Ll,U);const G=l(L*L),J=l(G-qc),Q=l(C*G-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&qc)===qc,se=(W&128)!==0;if(!x&&X===Ll&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return P(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=VM(x,t.BYTES);return C[C.length-1]|=k&qc?128:0,C}toHex(){return _S(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,qc,l(e.Gx*e.Gy)),S.ZERO=new S(Ll,qc,qc,Ll);const{BASE:p,ZERO:I}=S,A=Z_e(S,a*8);function w(v){return pi(v,r)}function _(v){return w(nA(v))}function P(v){const k=a;v=na("private key",v,k);const x=na("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),D=_(C),$=p.multiply(D),W=$.toRawBytes();return{head:C,prefix:B,scalar:D,point:$,pointBytes:W}}function M(v){return P(v).pointBytes}function E(v=new Uint8Array,...k){const x=PS(...k);return _(i(h(x,na("context",v),!!s)))}function T(v,k,x={}){v=na("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:D}=P(k),$=E(x.context,C,v),W=p.multiply($).toRawBytes(),L=E(x.context,W,D,v),U=w($+L*B);vl("signature.s",U,Ll,r);const G=PS(W,VM(U,t.BYTES));return na("result",G,a*2)}const z=uut;function O(v,k,x,C=z){const{context:B,zip215:D}=C,$=t.BYTES;v=na("signature",v,2*$),k=na("message",k),D!==void 0&&jg("zip215",D),s&&(k=s(k));const W=nA(v.slice($,2*$));let L,U,G;try{L=S.fromHex(x,D),U=S.fromHex(v.slice(0,$),D),G=p.multiplyUnsafe(W)}catch{return!1}if(!D&&L.isSmallOrder())return!1;const J=E(B,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(G).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:T,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eJ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Nhe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const fut=BigInt(1),Fhe=BigInt(2);BigInt(3);const hut=BigInt(5),gut=BigInt(8);function mut(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=eJ,a=n*n%i*n%i,c=no(a,Fhe,i)*a%i,u=no(c,fut,i)*n%i,l=no(u,hut,i)*u%i,d=no(l,e,i)*l%i,y=no(d,t,i)*d%i,h=no(y,r,i)*y%i,m=no(h,s,i)*h%i,f=no(m,s,i)*h%i,g=no(f,e,i)*l%i;return{pow_p_5_8:no(g,Fhe,i)*n%i,b2:a}}function yut(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function put(n,e){const t=eJ,r=pi(e*e*e,t),s=pi(r*r*e,t),i=mut(n*s).pow_p_5_8;let o=pi(n*r*i,t);const a=pi(e*o*o,t),c=o,u=pi(o*Nhe,t),l=a===n,d=a===pi(-n,t),y=a===pi(-n*Nhe,t);return l&&(o=c),(d||y)&&(o=u),tut(o,t)&&(o=pi(-o,t)),{isValid:l||d,value:o}}const but=(()=>H_e(eJ,void 0,!0))(),Sut=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:but,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:gut,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Lct,randomBytes:D_e,adjustScalarBytes:yut,uvRatio:put}))(),uT=(()=>dut(Sut))(),kut=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Hm=new Uint32Array(64);class vut extends O_e{constructor(){super(64,32,8,!1),this.A=jm[0]|0,this.B=jm[1]|0,this.C=jm[2]|0,this.D=jm[3]|0,this.E=jm[4]|0,this.F=jm[5]|0,this.G=jm[6]|0,this.H=jm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Hm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Hm[d-15],h=Hm[d-2],m=Wd(y,7)^Wd(y,18)^y>>>3,f=Wd(h,17)^Wd(h,19)^h>>>10;Hm[d]=f+Hm[d-7]+m+Hm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Wd(a,6)^Wd(a,11)^Wd(a,25),h=l+y+pct(a,c,u)+kut[d]+Hm[d]|0,f=(Wd(r,2)^Wd(r,13)^Wd(r,22))+bct(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Hm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const uq=YZ(()=>new vut);class Aut extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function wut(n){return hz(n)&&typeof n[Symbol.iterator]=="function"}function hz(n){return typeof n=="object"&&n!=null}function IO(n){return hz(n)&&!Array.isArray(n)}function Ad(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Iut(n){const{done:e,value:t}=n.next();return e?void 0:t}function _ut(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ad(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Uhe(n,e,t,r){wut(n)||(n=[n]);for(const s of n){const i=_ut(s,e,t,r);i&&(yield i)}}function*tJ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=tJ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):hz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class gh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Uhe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Uhe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return J_e(e,this,t)}create(e,t){return pt(e,this,t)}is(e){return X_e(e,this)}mask(e,t){return Put(e,this,t)}validate(e,t={}){return gz(e,this,t)}}function J_e(n,e,t){const r=gz(n,e,{message:t});if(r[0])throw r[0]}function pt(n,e,t){const r=gz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Put(n,e,t){const r=gz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function X_e(n,e){return!gz(n,e)[0]}function gz(n,e,t={}){const r=tJ(n,e,t),s=Iut(r);if(s[0])return[new Aut(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function dk(n,e){return new gh({type:n,schema:null,validator:e})}function Eut(){return dk("any",()=>!0)}function _t(n){return new gh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ad(e)}`}})}function rh(){return dk("boolean",n=>typeof n=="boolean")}function rJ(n){return dk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Ad(e)}`)}function Ti(n){const e=Ad(n),t=typeof n;return new gh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Ad(r)}`}})}function xut(){return dk("never",()=>!1)}function Bt(n){return new gh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function pe(){return dk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Ad(n)}`)}function gr(n){return new gh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function Q_e(n,e){return new gh({type:"record",schema:null,*entries(t){if(hz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return IO(t)||`Expected an object, but received: ${Ad(t)}`},coercer(t){return IO(t)?{...t}:t}})}function Ze(){return dk("string",n=>typeof n=="string"||`Expected a string, but received: ${Ad(n)}`)}function nJ(n){const e=xut();return new gh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Ad(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Be(n){const e=Object.keys(n);return new gh({type:"type",schema:n,*entries(t){if(hz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return IO(t)||`Expected an object, but received: ${Ad(t)}`},coercer(t){return IO(t)?{...t}:t}})}function zc(n){const e=n.map(t=>t.type).join(" | ");return new gh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=tJ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ad(t)}`,...s]}})}function lT(){return dk("unknown",()=>!0)}function mz(n,e,t){return new gh({...n,coercer:(r,s)=>X_e(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const ePe=[],tPe=[],rPe=[],Tut=BigInt(0),ER=BigInt(1),Rut=BigInt(2),Cut=BigInt(7),Mut=BigInt(256),But=BigInt(113);for(let n=0,e=ER,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],ePe.push(2*(5*r+t)),tPe.push((n+1)*(n+2)/2%64);let s=Tut;for(let i=0;i<7;i++)e=(e<<ER^(e>>Cut)*But)%Mut,e&Rut&&(s^=ER<<(ER<<BigInt(i))-ER);rPe.push(s)}const[zut,$ut]=L_e(rPe,!0),Vhe=(n,e,t)=>t>32?F_e(n,e,t):W_e(n,e,t),qhe=(n,e,t)=>t>32?U_e(n,e,t):N_e(n,e,t);function Dut(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Vhe(u,l,1)^t[a],y=qhe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=tPe[o],c=Vhe(s,i,a),u=qhe(s,i,a),l=ePe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=zut[r],n[1]^=$ut[r]}t.fill(0)}class sJ extends GZ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,wO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fct(this.state)}keccak(){zhe||$he(this.state32),Dut(this.state32,this.rounds),zhe||$he(this.state32),this.posOut=0,this.pos=0}update(e){ZA(this);const{blockLen:t,state:r}=this;e=UK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ZA(this,!1),dz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return wO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($_e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new sJ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Out=(n,e,t)=>YZ(()=>new sJ(e,n,t)),jhe=Out(1,136,256/8);class nPe extends GZ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,dct(e);const r=UK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return ZA(this),this.iHash.update(e),this}digestInto(e){ZA(this),dz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sPe=(n,e,t)=>new nPe(n,e).update(t).digest();sPe.create=(n,e)=>new nPe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Hhe(n){n.lowS!==void 0&&jg("lowS",n.lowS),n.prehash!==void 0&&jg("prehash",n.prehash)}function Kut(n){const e=QZ(n);cT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Lut,hexToBytes:Wut}=Zct,T1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=T1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Lut(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=T1,t=typeof n=="string"?Wut(n):n;fz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=T1._parseInt(t.subarray(2)),{d:o,l:a}=T1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},xy=BigInt(0),ga=BigInt(1);BigInt(2);const Ghe=BigInt(3);BigInt(4);function Nut(n){const e=Kut(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return PS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return qK(m,ga,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(IS(m)&&(m=_S(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:F1(na("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=pi(p,S)),vl("private key",p,ga,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=qM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),A=t.mul(b,f),w=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),l=qM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(na("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f,w=t.eql(t.mul(g,A),t.mul(p,S)),_=t.eql(t.mul(b,A),t.mul(I,S));return w&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Ghe),{px:S,py:p,pz:I}=this;let A=t.ZERO,w=t.ZERO,_=t.ZERO,P=t.mul(S,S),M=t.mul(p,p),E=t.mul(I,I),T=t.mul(S,p);return T=t.add(T,T),_=t.mul(S,I),_=t.add(_,_),A=t.mul(f,_),w=t.mul(b,E),w=t.add(A,w),A=t.sub(M,w),w=t.add(M,w),w=t.mul(A,w),A=t.mul(T,A),_=t.mul(b,_),E=t.mul(f,E),T=t.sub(P,E),T=t.mul(f,T),T=t.add(T,_),_=t.add(P,P),P=t.add(_,P),P=t.add(P,E),P=t.mul(P,T),w=t.add(w,P),E=t.mul(p,I),E=t.add(E,E),P=t.mul(E,T),A=t.sub(A,P),_=t.mul(E,M),_=t.add(_,_),_=t.add(_,_),new d(A,w,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f;let w=t.ZERO,_=t.ZERO,P=t.ZERO;const M=e.a,E=t.mul(e.b,Ghe);let T=t.mul(g,p),z=t.mul(b,I),O=t.mul(S,A),R=t.add(g,b),v=t.add(p,I);R=t.mul(R,v),v=t.add(T,z),R=t.sub(R,v),v=t.add(g,S);let k=t.add(p,A);return v=t.mul(v,k),k=t.add(T,O),v=t.sub(v,k),k=t.add(b,S),w=t.add(I,A),k=t.mul(k,w),w=t.add(z,O),k=t.sub(k,w),P=t.mul(M,v),w=t.mul(E,O),P=t.add(w,P),w=t.sub(z,P),P=t.add(z,P),_=t.mul(w,P),z=t.add(T,T),z=t.add(z,T),O=t.mul(M,O),v=t.mul(E,v),z=t.add(z,O),O=t.sub(T,O),O=t.mul(M,O),v=t.add(v,O),T=t.mul(z,v),_=t.add(_,T),T=t.mul(k,v),w=t.mul(R,w),w=t.sub(w,T),T=t.mul(R,z),P=t.mul(k,P),P=t.add(P,T),new d(w,_,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){vl("scalar",f,xy,e.n);const g=d.ZERO;if(f===xy)return g;if(f===ga)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:A}=b.splitScalar(f),w=g,_=g,P=this;for(;p>xy||A>xy;)p&ga&&(w=w.add(P)),A&ga&&(_=_.add(P)),P=P.double(),p>>=ga,A>>=ga;return S&&(w=w.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),w.add(_)}multiply(f){const{endo:g,n:b}=e;vl("scalar",f,ga,b);let S,p;if(g){const{k1neg:I,k1:A,k2neg:w,k2:_}=g.splitScalar(f);let{p:P,f:M}=this.wNAF(A),{p:E,f:T}=this.wNAF(_);P=h.constTimeNegate(I,P),E=h.constTimeNegate(w,E),E=new d(t.mul(E.px,g.beta),E.py,E.pz),S=P.add(E),p=M.add(T)}else{const{p:I,f:A}=this.wNAF(f);S=I,p=A}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(A,w)=>w===xy||w===ga||!A.equals(S)?A.multiplyUnsafe(w):A.multiply(w),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ga)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ga?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return jg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return jg("isCompressed",f),_S(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=Z_e(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Fut(n){const e=QZ(n);return cT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Uut(n){const e=Fut(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(R){return pi(R,r)}function a(R){return cq(R,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Nut({...e,toBytes(R,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=PS;return jg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(R){const v=R.length,k=R[0],x=R.subarray(1);if(v===s&&(k===2||k===3)){const C=F1(x);if(!qK(C,ga,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let D;try{D=t.sqrt(B)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const $=(D&ga)===ga;return(k&1)===1!==$&&(D=t.neg(D)),{x:C,y:D}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=R=>_S(XA(R,e.nByteLength));function h(R){const v=r>>ga;return R>v}function m(R){return h(R)?o(-R):R}const f=(R,v,k)=>F1(R.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=na("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=T1.toSig(na("DER",v));return new g(k,x)}assertValidity(){vl("r",this.r,ga,r),vl("s",this.s,ga,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=w(na("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const D=C===2||C===3?k+e.n:k;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(C&1)===0?"02":"03",W=c.fromHex($+y(D)),L=a(D),U=o(-B*L),G=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,U,G);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return JA(this.toDERHex())}toDERHex(){return T1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return JA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=Y_e(e.n);return out(e.randomBytes(R),e.n)},precompute(R=8,v=c.BASE){return v._setWindowSize(R),v.multiply(BigInt(3)),v}};function S(R,v=!0){return c.fromPrivateKey(R).toRawBytes(v)}function p(R){const v=IS(R),k=typeof R=="string",x=(v||k)&&R.length;return v?x===s||x===i:k?x===2*s||x===2*i:R instanceof c}function I(R,v,k=!0){if(p(R))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(R)).toRawBytes(k)}const A=e.bits2int||function(R){const v=F1(R),k=R.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},w=e.bits2int_modN||function(R){return o(A(R))},_=XZ(e.nBitLength);function P(R){return vl(`num < 2^${e.nBitLength}`,R,xy,_),XA(R,e.nByteLength)}function M(R,v,k=E){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:D,extraEntropy:$}=k;B==null&&(B=!0),R=na("msgHash",R),Hhe(k),D&&(R=na("prehashed msgHash",x(R)));const W=w(R),L=u(v),U=[P(L),P(W)];if($!=null&&$!==!1){const Y=$===!0?C(t.BYTES):$;U.push(na("extraEntropy",Y))}const G=PS(...U),J=W;function Q(Y){const X=A(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===xy)return;const ne=o(re*o(J+ee*L));if(ne===xy)return;let ve=(se.x===ee?0:2)|Number(se.y&ga),_e=ne;return B&&h(ne)&&(_e=m(ne),ve^=1),new g(ee,_e,ve)}return{seed:G,k2sig:Q}}const E={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function z(R,v,k=E){const{seed:x,k2sig:C}=M(R,v,k),B=e;return q_e(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function O(R,v,k,x=T){var se;const C=R;if(v=na("msgHash",v),k=na("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Hhe(x);const{lowS:B,prehash:D}=x;let $,W;try{if(typeof C=="string"||IS(C))try{$=g.fromDER(C)}catch(ee){if(!(ee instanceof T1.Err))throw ee;$=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;$=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&$.hasHighS())return!1;D&&(v=e.hash(v));const{r:L,s:U}=$,G=w(v),J=a(U),Q=o(G*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:z,verify:O,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Vut(n){return{hash:n,hmac:(e,...t)=>sPe(n,e,mct(...t)),randomBytes:D_e}}function qut(n,e){const t=r=>Uut({...n,...Vut(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iPe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Yhe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),jut=BigInt(1),lq=BigInt(2),Zhe=(n,e)=>(n+e/lq)/e;function Hut(n){const e=iPe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=no(l,t,e)*l%e,y=no(d,t,e)*l%e,h=no(y,lq,e)*u%e,m=no(h,s,e)*h%e,f=no(m,i,e)*m%e,g=no(f,a,e)*f%e,b=no(g,c,e)*g%e,S=no(b,a,e)*f%e,p=no(S,t,e)*l%e,I=no(p,o,e)*m%e,A=no(I,r,e)*u%e,w=no(A,lq,e);if(!dq.eql(dq.sqr(w),n))throw new Error("Cannot find square root");return w}const dq=H_e(iPe,void 0,void 0,{sqrt:Hut}),jK=qut({a:BigInt(0),b:BigInt(7),Fp:dq,n:Yhe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Yhe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-jut*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Zhe(i*n,e),c=Zhe(-r*n,e);let u=pi(n-a*t-c*s,e),l=pi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},uq);BigInt(0);jK.ProjectivePoint;const Gut=uT.utils.randomPrivateKey,Jhe=()=>{const n=uT.utils.randomPrivateKey(),e=_O(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},_O=uT.getPublicKey;function Xhe(n){try{return uT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const iJ=(n,e)=>uT.sign(n,e.slice(0,32)),Yut=uT.verify,rn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class oJ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(rm(K2,this))}static decode(e){return nm(K2,this,e)}static decodeUnchecked(e){return sm(K2,this,e)}}class Zut extends oJ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const K2=new Map;var oPe;const aPe=32,Vf=32;function Jut(n){return n._bn!==void 0}let Qhe=1;class ot extends oJ{constructor(e){if(super({}),this._bn=void 0,Jut(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Vf)throw new Error("Invalid public key input");this._bn=new ki(t)}else this._bn=new ki(e);if(this._bn.byteLength()>Vf)throw new Error("Invalid public key input")}}static unique(){const e=new ot(Qhe);return Qhe+=1,new ot(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Vf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=uq(s);return new ot(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>aPe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,rn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=uq(r);if(Xhe(s))throw new Error("Invalid seeds, address must fall off the curve");return new ot(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ot(e);return Xhe(t.toBytes())}}oPe=ot;ot.default=new oPe("11111111111111111111111111111111");K2.set(ot,{kind:"struct",fields:[["_bn","u256"]]});class Xut{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=rn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=rn(Gut()),this._publicKey=rn(_O(this._secretKey))}get publicKey(){return new ot(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Qut=new ot("BPFLoader1111111111111111111111111111111111"),jy=1280-40-8,HK=127,jM=64;class aJ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(aJ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class cJ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(cJ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class xv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(xv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class HM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const vn=(n="publicKey")=>ie(32,n),elt=(n="signature")=>ie(64,n),R1=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Vt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},tlt=(n="authorized")=>N([vn("staker"),vn("withdrawer")],n),rlt=(n="lockup")=>N([Pe("unixTimestamp"),Pe("epoch"),vn("custodian")],n),nlt=(n="voteInit")=>N([vn("nodePubkey"),vn("authorizedVoter"),vn("authorizedWithdrawer"),te("commission")],n),slt=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),vn("currentAuthorityDerivedKeyOwnerPubkey"),R1("currentAuthorityDerivedKeySeed"),vn("newAuthorized")],n);function cPe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return cPe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function lu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Nu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Un(n,e){if(!n)throw new Error(e||"Assertion failed")}class GK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new GK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Un(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Un(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Un(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ot(c)),...r.map(([c])=>new ot(c)),...s.map(([c])=>new ot(c)),...i.map(([c])=>new ot(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ot(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Un(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const uPe="Reached end of buffer unexpectedly";function _f(n){if(n.length===0)throw new Error(uPe);return n.shift()}function du(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(uPe);return n.splice(...e)}class wd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ot(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new HM(this.staticAccountKeys)}static compile(e){const t=GK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new HM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new wd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Nu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Nu(f,y.length);let g=[];return Nu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Nu(s,r.length);let i=V.Buffer.alloc(jy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(vn("key"),e,"keys"),vn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>rn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=_f(t);if(r!==(r&HK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=_f(t),i=_f(t),o=lu(t);let a=[];for(let y=0;y<o;y++){const h=du(t,0,Vf);a.push(new ot(V.Buffer.from(h)))}const c=du(t,0,Vf),u=lu(t);let l=[];for(let y=0;y<u;y++){const h=_f(t),m=lu(t),f=du(t,0,m),g=lu(t),b=du(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new wd(d)}}class ES{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new HM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=GK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new HM(a,s).compileInstructions(e.instructions);return new ES({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Nu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Nu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Nu(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(vn(),this.staticAccountKeys.length,"staticAccountKeys"),vn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(jy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(jy);for(const r of this.compiledInstructions){const s=Array();Nu(s,r.accountKeyIndexes.length);const i=Array();Nu(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(jy);for(const r of this.addressTableLookups){const s=Array();Nu(s,r.writableIndexes.length);const i=Array();Nu(i,r.readonlyIndexes.length),e+=N([vn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=_f(t),s=r&HK;Un(r!==s,"Expected versioned message but received legacy message");const i=s;Un(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:_f(t),numReadonlySignedAccounts:_f(t),numReadonlyUnsignedAccounts:_f(t)},a=[],c=lu(t);for(let m=0;m<c;m++)a.push(new ot(du(t,0,Vf)));const u=Ie.encode(du(t,0,Vf)),l=lu(t),d=[];for(let m=0;m<l;m++){const f=_f(t),g=lu(t),b=du(t,0,g),S=lu(t),p=new Uint8Array(du(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=lu(t),h=[];for(let m=0;m<y;m++){const f=new ot(du(t,0,Vf)),g=lu(t),b=du(t,0,g),S=lu(t),p=du(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new ES({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const uJ={deserializeMessageVersion(n){const e=n[0],t=e&HK;return t===e?"legacy":t},deserialize:n=>{const e=uJ.deserializeMessageVersion(n);if(e==="legacy")return wd.from(n);if(e===0)return ES.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Sg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const ilt=V.Buffer.alloc(jM).fill(0);class As{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Zn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new As(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ot(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Un(f.programIdIndex>=0),f.accounts.forEach(g=>Un(g>=0))}),new wd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=iJ(r,s.secretKey);this._addSignature(s.publicKey,rn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Un(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):Yut(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Nu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Un(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Un(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Un(i.length<=jy,`Transaction too large: ${i.length} > ${jy}`),i}get keys(){return Un(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Un(this.instructions.length===1),this.instructions[0].programId}get data(){return Un(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=lu(t);let s=[];for(let i=0;i<r;i++){const o=du(t,0,jM);s.push(Ie.encode(V.Buffer.from(o)))}return Zn.populate(wd.from(t),s)}static populate(e,t=[]){const r=new Zn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(ilt)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new As({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class lJ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Un(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Un(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new As({programId:g,data:rn(m.data),keys:f}))}return new lJ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return wd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ES.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class dJ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Un(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(jM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Nu(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(elt(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=lu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(du(t,0,jM)));const i=uJ.deserialize(new Uint8Array(t));return new dJ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Un(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=iJ(t,s.secretKey)}}addSignature(e,t){Un(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Un(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const olt=160,alt=64,clt=olt/alt,lPe=1e3/clt,sf=new ot("SysvarC1ock11111111111111111111111111111111"),ult=new ot("SysvarEpochSchedu1e111111111111111111111111"),llt=new ot("Sysvar1nstructions1111111111111111111111111"),_D=new ot("SysvarRecentB1ockHashes11111111111111111111"),QA=new ot("SysvarRent111111111111111111111111111111111"),dlt=new ot("SysvarRewards111111111111111111111111111111"),flt=new ot("SysvarS1otHashes111111111111111111111111111"),hlt=new ot("SysvarS1otHistory11111111111111111111111111"),PD=new ot("SysvarStakeHistory1111111111111111111111111");class GM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const glt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Xt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function fq(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new GM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function o1(n){return new Promise(e=>setTimeout(e,n))}function Mn(n,e){const t=n.layout.span>=0?n.layout.span:cPe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function is(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const dPe=Ae("lamportsPerSignature"),fPe=N([F("version"),F("state"),vn("authorizedPubkey"),vn("nonce"),N([dPe],"feeCalculator")]),hq=fPe.span;class YK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=fPe.decode(rn(e),0);return new YK({authorizedPubkey:new ot(t.authorizedPubkey),nonce:new ot(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const mlt=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},ylt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=mlt(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return im(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=rc(o,n);return r(u,a,c)},i},ew=ylt(8);class plt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ls))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=is(Ls.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ot(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=is(Ls.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=is(Ls.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ot(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=is(Ls.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=is(Ls.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(t),seed:r,space:s,programId:new ot(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=is(Ls.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ot(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=is(Ls.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(t),seed:r,programId:new ot(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=is(Ls.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ot(t),seed:r,lamports:s,space:i,programId:new ot(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=is(Ls.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ot(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),is(Ls.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=is(Ls.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=is(Ls.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ot(t)}}static checkProgramId(e){if(!e.equals(Fa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ls=Object.freeze({Create:{index:0,layout:N([F("instruction"),Pe("lamports"),Pe("space"),vn("programId")])},Assign:{index:1,layout:N([F("instruction"),vn("programId")])},Transfer:{index:2,layout:N([F("instruction"),ew("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),vn("base"),R1("seed"),Pe("lamports"),Pe("space"),vn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Pe("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),vn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),vn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Pe("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),vn("base"),R1("seed"),Pe("space"),vn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),vn("base"),R1("seed"),vn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),ew("lamports"),R1("seed"),vn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class Fa{constructor(){}static createAccount(e){const t=Ls.Create,r=Mn(t,{lamports:e.lamports,space:e.space,programId:rn(e.programId.toBuffer())});return new As({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ls.TransferWithSeed;t=Mn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ls.Transfer;t=Mn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new As({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ls.AssignWithSeed;t=Mn(s,{base:rn(e.basePubkey.toBuffer()),seed:e.seed,programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ls.Assign;t=Mn(s,{programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new As({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ls.CreateWithSeed,r=Mn(t,{base:rn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:rn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new As({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Zn;"basePubkey"in e&&"seed"in e?t.add(Fa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:hq,programId:this.programId})):t.add(Fa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:hq,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ls.InitializeNonceAccount,r=Mn(t,{authorized:rn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_D,isSigner:!1,isWritable:!1},{pubkey:QA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new As(s)}static nonceAdvance(e){const t=Ls.AdvanceNonceAccount,r=Mn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:_D,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new As(s)}static nonceWithdraw(e){const t=Ls.WithdrawNonceAccount,r=Mn(t,{lamports:e.lamports});return new As({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:_D,isSigner:!1,isWritable:!1},{pubkey:QA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ls.AuthorizeNonceAccount,r=Mn(t,{authorized:rn(e.newAuthorizedPubkey.toBuffer())});return new As({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ls.AllocateWithSeed;t=Mn(s,{base:rn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ls.Allocate;t=Mn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new As({keys:r,programId:this.programId,data:t})}}Fa.programId=new ot("11111111111111111111111111111111");const blt=jy-300;class xS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/xS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Zn,h.add(Fa.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Zn,h.add(Fa.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Zn,h.add(Fa.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Zn().add(Fa.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await fq(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Vt(F(),-8),"bytes")]),a=xS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Zn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(fq(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await o1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Zn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:QA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(lPe/2)))}}return!0}}xS.chunkSize=blt;const Slt=new ot("BPFLoader2111111111111111111111111111111111");class klt{static getMinNumSignatures(e){return xS.getMinNumSignatures(e)}static load(e,t,r,s,i){return xS.load(e,t,r,i,s)}}function vlt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fN,ege;function Alt(){if(ege)return fN;ege=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return fN=function(r){var s=t(r,!1);if(s!==void 0)return""+s},fN}var wlt=Alt(),tge=vlt(wlt);const xR=32;function hN(n){let e=0;for(;n>1;)n/=2,e++;return e}function Ilt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class hPe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=hN(Ilt(e+xR+1))-hN(xR)-1,r=this.getSlotsInEpoch(t),s=e-(r-xR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*xR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+hN(xR)):this.slotsPerEpoch}}var _lt=globalThis.fetch;class Plt extends Tb{constructor(e,t,r){const s=i=>{const o=Cb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Elt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const rge=56;class gq{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Elt(xlt,e),r=e.length-rge;Un(r>=0,"lookup table is invalid"),Un(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(vn(),s,"addresses")]).decode(e.slice(rge));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ot(t.authority[0]):void 0,addresses:i.map(o=>new ot(o))}}}const xlt={index:1,layout:N([F("typeIndex"),ew("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(vn(),Vt(te(),-1),"authority")])},Tlt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Rlt(n){const e=n.match(Tlt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const ji=mz(rJ(ot),Ze(),n=>new ot(n)),gPe=nJ([Ze(),Ti("base64")]),fJ=mz(rJ(V.Buffer),gPe,n=>V.Buffer.from(n[0],"base64")),mPe=30*1e3;function Clt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Rs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function nge(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function yPe(n){return zc([Be({jsonrpc:Ti("2.0"),id:Ze(),result:n}),Be({jsonrpc:Ti("2.0"),id:Ze(),error:Be({code:lT(),message:Ze(),data:gr(Eut())})})])}const Mlt=yPe(lT());function Hr(n){return mz(yPe(n),Mlt,e=>"error"in e?e:{...e,result:pt(e.result,n)})}function mo(n){return Hr(Be({context:Be({slot:pe()}),value:n}))}function ZK(n){return Be({context:Be({slot:pe()}),value:n})}function gN(n,e){return n===0?new ES({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ot(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new wd(e)}const Blt=Be({foundation:pe(),foundationTerm:pe(),initial:pe(),taper:pe(),terminal:pe()}),zlt=Hr(_t(Bt(Be({epoch:pe(),effectiveSlot:pe(),amount:pe(),postBalance:pe(),commission:gr(Bt(pe()))})))),$lt=_t(Be({slot:pe(),prioritizationFee:pe()})),Dlt=Be({total:pe(),validator:pe(),foundation:pe(),epoch:pe()}),Olt=Be({epoch:pe(),slotIndex:pe(),slotsInEpoch:pe(),absoluteSlot:pe(),blockHeight:gr(pe()),transactionCount:gr(pe())}),Klt=Be({slotsPerEpoch:pe(),leaderScheduleSlotOffset:pe(),warmup:rh(),firstNormalEpoch:pe(),firstNormalSlot:pe()}),Llt=Q_e(Ze(),_t(pe())),fk=Bt(zc([Be({}),Ze()])),Wlt=Be({err:fk}),Nlt=Ti("receivedSignature"),Flt=Be({"solana-core":Ze(),"feature-set":gr(pe())}),Ult=Be({program:Ze(),programId:ji,parsed:lT()}),Vlt=Be({programId:ji,accounts:_t(ji),data:Ze()}),sge=mo(Be({err:Bt(zc([Be({}),Ze()])),logs:Bt(_t(Ze())),accounts:gr(Bt(_t(Bt(Be({executable:rh(),owner:Ze(),lamports:pe(),data:_t(Ze()),rentEpoch:gr(pe())}))))),unitsConsumed:gr(pe()),returnData:gr(Bt(Be({programId:Ze(),data:nJ([Ze(),Ti("base64")])}))),innerInstructions:gr(Bt(_t(Be({index:pe(),instructions:_t(zc([Ult,Vlt]))}))))})),qlt=mo(Be({byIdentity:Q_e(Ze(),_t(pe())),range:Be({firstSlot:pe(),lastSlot:pe()})}));function jlt(n,e,t,r,s,i){const o=t||_lt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Rb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Hdt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await o1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function Hlt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Glt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Ylt=Hr(Blt),Zlt=Hr(Dlt),Jlt=Hr($lt),Xlt=Hr(Olt),Qlt=Hr(Klt),edt=Hr(Llt),tdt=Hr(pe()),rdt=mo(Be({total:pe(),circulating:pe(),nonCirculating:pe(),nonCirculatingAccounts:_t(ji)})),mq=Be({amount:Ze(),uiAmount:Bt(pe()),decimals:pe(),uiAmountString:gr(Ze())}),ndt=mo(_t(Be({address:ji,amount:Ze(),uiAmount:Bt(pe()),decimals:pe(),uiAmountString:gr(Ze())}))),sdt=mo(_t(Be({pubkey:ji,account:Be({executable:rh(),owner:ji,lamports:pe(),data:fJ,rentEpoch:pe()})}))),yq=Be({program:Ze(),parsed:lT(),space:pe()}),idt=mo(_t(Be({pubkey:ji,account:Be({executable:rh(),owner:ji,lamports:pe(),data:yq,rentEpoch:pe()})}))),odt=mo(_t(Be({lamports:pe(),address:ji}))),YM=Be({executable:rh(),owner:ji,lamports:pe(),data:fJ,rentEpoch:pe()}),adt=Be({pubkey:ji,account:YM}),cdt=mz(zc([rJ(V.Buffer),yq]),zc([gPe,yq]),n=>Array.isArray(n)?pt(n,fJ):n),pq=Be({executable:rh(),owner:ji,lamports:pe(),data:cdt,rentEpoch:pe()}),udt=Be({pubkey:ji,account:pq}),ldt=Be({state:zc([Ti("active"),Ti("inactive"),Ti("activating"),Ti("deactivating")]),active:pe(),inactive:pe()}),ddt=Hr(_t(Be({signature:Ze(),slot:pe(),err:fk,memo:Bt(Ze()),blockTime:gr(Bt(pe()))}))),fdt=Hr(_t(Be({signature:Ze(),slot:pe(),err:fk,memo:Bt(Ze()),blockTime:gr(Bt(pe()))}))),hdt=Be({subscription:pe(),result:ZK(YM)}),gdt=Be({pubkey:ji,account:YM}),mdt=Be({subscription:pe(),result:ZK(gdt)}),ydt=Be({parent:pe(),slot:pe(),root:pe()}),pdt=Be({subscription:pe(),result:ydt}),bdt=zc([Be({type:zc([Ti("firstShredReceived"),Ti("completed"),Ti("optimisticConfirmation"),Ti("root")]),slot:pe(),timestamp:pe()}),Be({type:Ti("createdBank"),parent:pe(),slot:pe(),timestamp:pe()}),Be({type:Ti("frozen"),slot:pe(),timestamp:pe(),stats:Be({numTransactionEntries:pe(),numSuccessfulTransactions:pe(),numFailedTransactions:pe(),maxTransactionsPerEntry:pe()})}),Be({type:Ti("dead"),slot:pe(),timestamp:pe(),err:Ze()})]),Sdt=Be({subscription:pe(),result:bdt}),kdt=Be({subscription:pe(),result:ZK(zc([Wlt,Nlt]))}),vdt=Be({subscription:pe(),result:pe()}),Adt=Be({pubkey:Ze(),gossip:Bt(Ze()),tpu:Bt(Ze()),rpc:Bt(Ze()),version:Bt(Ze())}),ige=Be({votePubkey:Ze(),nodePubkey:Ze(),activatedStake:pe(),epochVoteAccount:rh(),epochCredits:_t(nJ([pe(),pe(),pe()])),commission:pe(),lastVote:pe(),rootSlot:Bt(pe())}),wdt=Hr(Be({current:_t(ige),delinquent:_t(ige)})),Idt=zc([Ti("processed"),Ti("confirmed"),Ti("finalized")]),_dt=Be({slot:pe(),confirmations:Bt(pe()),err:fk,confirmationStatus:gr(Idt)}),Pdt=mo(_t(Bt(_dt))),Edt=Hr(pe()),pPe=Be({accountKey:ji,writableIndexes:_t(pe()),readonlyIndexes:_t(pe())}),hJ=Be({signatures:_t(Ze()),message:Be({accountKeys:_t(Ze()),header:Be({numRequiredSignatures:pe(),numReadonlySignedAccounts:pe(),numReadonlyUnsignedAccounts:pe()}),instructions:_t(Be({accounts:_t(pe()),data:Ze(),programIdIndex:pe()})),recentBlockhash:Ze(),addressTableLookups:gr(_t(pPe))})}),bPe=Be({pubkey:ji,signer:rh(),writable:rh(),source:gr(zc([Ti("transaction"),Ti("lookupTable")]))}),SPe=Be({accountKeys:_t(bPe),signatures:_t(Ze())}),kPe=Be({parsed:lT(),program:Ze(),programId:ji}),vPe=Be({accounts:_t(ji),data:Ze(),programId:ji}),xdt=zc([vPe,kPe]),Tdt=zc([Be({parsed:lT(),program:Ze(),programId:Ze()}),Be({accounts:_t(Ze()),data:Ze(),programId:Ze()})]),APe=mz(xdt,Tdt,n=>"accounts"in n?pt(n,vPe):pt(n,kPe)),wPe=Be({signatures:_t(Ze()),message:Be({accountKeys:_t(bPe),instructions:_t(APe),recentBlockhash:Ze(),addressTableLookups:gr(Bt(_t(pPe)))})}),PO=Be({accountIndex:pe(),mint:Ze(),owner:gr(Ze()),programId:gr(Ze()),uiTokenAmount:mq}),IPe=Be({writable:_t(ji),readonly:_t(ji)}),JK=Be({err:fk,fee:pe(),innerInstructions:gr(Bt(_t(Be({index:pe(),instructions:_t(Be({accounts:_t(pe()),data:Ze(),programIdIndex:pe()}))})))),preBalances:_t(pe()),postBalances:_t(pe()),logMessages:gr(Bt(_t(Ze()))),preTokenBalances:gr(Bt(_t(PO))),postTokenBalances:gr(Bt(_t(PO))),loadedAddresses:gr(IPe),computeUnitsConsumed:gr(pe())}),gJ=Be({err:fk,fee:pe(),innerInstructions:gr(Bt(_t(Be({index:pe(),instructions:_t(APe)})))),preBalances:_t(pe()),postBalances:_t(pe()),logMessages:gr(Bt(_t(Ze()))),preTokenBalances:gr(Bt(_t(PO))),postTokenBalances:gr(Bt(_t(PO))),loadedAddresses:gr(IPe),computeUnitsConsumed:gr(pe())}),dT=zc([Ti(0),Ti("legacy")]),hk=Be({pubkey:Ze(),lamports:pe(),postBalance:Bt(pe()),rewardType:Bt(Ze()),commission:gr(Bt(pe()))}),Rdt=Hr(Bt(Be({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:_t(Be({transaction:hJ,meta:Bt(JK),version:gr(dT)})),rewards:gr(_t(hk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Cdt=Hr(Bt(Be({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),rewards:gr(_t(hk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Mdt=Hr(Bt(Be({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:_t(Be({transaction:SPe,meta:Bt(JK),version:gr(dT)})),rewards:gr(_t(hk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Bdt=Hr(Bt(Be({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:_t(Be({transaction:wPe,meta:Bt(gJ),version:gr(dT)})),rewards:gr(_t(hk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),zdt=Hr(Bt(Be({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:_t(Be({transaction:SPe,meta:Bt(gJ),version:gr(dT)})),rewards:gr(_t(hk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),$dt=Hr(Bt(Be({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),rewards:gr(_t(hk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Ddt=Hr(Bt(Be({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),transactions:_t(Be({transaction:hJ,meta:Bt(JK)})),rewards:gr(_t(hk)),blockTime:Bt(pe())}))),oge=Hr(Bt(Be({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:pe(),signatures:_t(Ze()),blockTime:Bt(pe())}))),mN=Hr(Bt(Be({slot:pe(),meta:Bt(JK),blockTime:gr(Bt(pe())),transaction:hJ,version:gr(dT)}))),A$=Hr(Bt(Be({slot:pe(),transaction:wPe,meta:Bt(gJ),blockTime:gr(Bt(pe())),version:gr(dT)}))),Odt=mo(Be({blockhash:Ze(),feeCalculator:Be({lamportsPerSignature:pe()})})),Kdt=mo(Be({blockhash:Ze(),lastValidBlockHeight:pe()})),Ldt=mo(rh()),Wdt=Be({slot:pe(),numTransactions:pe(),numSlots:pe(),samplePeriodSecs:pe()}),Ndt=Hr(_t(Wdt)),Fdt=mo(Bt(Be({feeCalculator:Be({lamportsPerSignature:pe()})}))),Udt=Hr(Ze()),Vdt=Hr(Ze()),qdt=Be({err:fk,logs:_t(Ze()),signature:Ze()}),jdt=Be({result:ZK(qdt),subscription:pe()}),Hdt={"solana-client":"js/1.0.0-maintenance"};class Gdt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Rs(l),h=this._buildArgs([],d,void 0,y),m=tge(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=pt(f,Hr(pe()));if("error"in g)throw new Xt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Clt(e),this._rpcWsEndpoint=r||Rlt(e),this._rpcClient=jlt(e,s,i,o,a,c),this._rpcRequest=Hlt(this._rpcClient),this._rpcBatchRequest=Glt(this._rpcClient),this._rpcWebSocket=new Plt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=pt(o,mo(pe()));if("error"in a)throw new Xt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=pt(t,Hr(Bt(pe())));if("error"in r)throw new Xt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=pt(e,Hr(pe()));if("error"in t)throw new Xt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=pt(e,tdt);if("error"in t)throw new Xt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=pt(r,rdt);if("error"in s)throw new Xt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=pt(s,mo(mq));if("error"in i)throw new Xt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=pt(s,mo(mq));if("error"in i)throw new Xt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Rs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=pt(c,sdt);if("error"in u)throw new Xt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=pt(o,idt);if("error"in a)throw new Xt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=pt(s,odt);if("error"in i)throw new Xt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=pt(s,ndt);if("error"in i)throw new Xt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=pt(o,mo(Bt(YM)));if("error"in a)throw new Xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=pt(o,mo(Bt(pq)));if("error"in a)throw new Xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=pt(a,mo(_t(Bt(pq))));if("error"in c)throw new Xt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=pt(a,mo(_t(Bt(YM))));if("error"in c)throw new Xt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Rs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=pt(a,Hr(ldt));if("error"in c)throw new Xt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Rs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:nge(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=_t(adt),l=o.withContext===!0?pt(c,mo(u)):pt(c,Hr(u));if("error"in l)throw new Xt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=pt(o,Hr(_t(udt)));if("error"in a)throw new Xt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Un(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:Sg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Sg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await o1(1e3),i||(h=await y(),i))return;d({__type:Sg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Sg.PROCESSED)l=d.response;else throw new aJ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:Sg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await o1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===Sg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await o1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new xv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new xv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new xv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new xv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Sg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===Sg.PROCESSED)a=c.response;else throw new cJ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=pt(e,Hr(_t(Adt)));if("error"in t)throw new Xt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=pt(r,wdt);if("error"in s)throw new Xt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=pt(i,Hr(pe()));if("error"in o)throw new Xt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=pt(i,Hr(Ze()));if("error"in o)throw new Xt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=pt(s,Hr(_t(ji)));if("error"in i)throw new Xt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Un(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=pt(s,Pdt);if("error"in i)throw new Xt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=pt(i,Hr(pe()));if("error"in o)throw new Xt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=pt(r,Ylt);if("error"in s)throw new Xt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Rs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=pt(a,zlt);if("error"in c)throw new Xt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=pt(e,Zlt);if("error"in t)throw new Xt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=pt(i,Xlt);if("error"in o)throw new Xt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=pt(e,Qlt);if("error"in t)throw new Xt(t.error,"failed to get epoch schedule");const r=t.result;return new hPe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=pt(e,edt);if("error"in t)throw new Xt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=pt(s,Edt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=pt(r,Odt);if("error"in s)throw new Xt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=pt(t,Ndt);if("error"in r)throw new Xt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=pt(s,Fdt);if("error"in i)throw new Xt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=rn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=pt(i,mo(Bt(pe())));if("error"in o)throw new Xt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=pt(s,Jlt);if("error"in i)throw new Xt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=pt(i,Kdt);if("error"in o)throw new Xt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=pt(o,Ldt);if("error"in a)throw new Xt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=pt(e,Hr(Flt));if("error"in t)throw new Xt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=pt(e,Hr(Ze()));if("error"in t)throw new Xt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=pt(o,Mdt);if("error"in a)throw a.error;return a.result}case"none":{const a=pt(o,Cdt);if("error"in a)throw a.error;return a.result}default:{const a=pt(o,Rdt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:gN(d,u.message)},version:d}))}:null}}}catch(a){throw new Xt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=pt(o,zdt);if("error"in a)throw a.error;return a.result}case"none":{const a=pt(o,$dt);if("error"in a)throw a.error;return a.result}default:{const a=pt(o,Bdt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Xt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=pt(i,qlt);if("error"in o)throw new Xt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=pt(o,mN);if("error"in a)throw new Xt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:gN(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=pt(o,A$);if("error"in a)throw new Xt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=pt(c,A$);if("error"in u)throw new Xt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=pt(c,mN);if("error"in u)throw new Xt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:gN(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=pt(s,Ddt);if("error"in i)throw new Xt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new wd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Zn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=pt(i,Hr(_t(pe())));if("error"in o)throw new Xt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=pt(s,oge);if("error"in i)throw new Xt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=pt(s,oge);if("error"in i)throw new Xt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=pt(s,mN);if("error"in i)throw new Xt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new wd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Zn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=pt(s,A$);if("error"in i)throw new Xt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=pt(o,A$);if("error"in a)throw new Xt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=pt(i,ddt);if("error"in o)throw new Xt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=pt(i,fdt);if("error"in o)throw new Xt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new gq({key:e,state:gq.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=YK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=pt(r,Udt);if("error"in s)throw new Xt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await o1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=mPe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await o1(lPe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=pt(i,mo(pe()));if("error"in o)throw new Xt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=pt(p,sge);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Zn){let m=e;s=new Zn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Zn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=pt(y,sge);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new GM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=rn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=pt(a,Vdt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new GM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=pt(e,hdt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=tge([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Un(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Rs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=pt(e,mdt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Rs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:nge(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=pt(e,jdt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=pt(e,pdt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=pt(e,Sdt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=pt(e,kdt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=pt(e,vdt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class sA{constructor(e){this._keypair=void 0,this._keypair=e??Jhe()}static generate(){return new sA(Jhe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=_O(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new sA({publicKey:r,secretKey:e})}static fromSeed(e){const t=_O(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new sA({publicKey:t,secretKey:r})}get publicKey(){return new ot(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const zg=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),ew("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),ew(),we(vn(),Vt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class Ydt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(zg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=is(zg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=is(zg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ot(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(mJ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class mJ{constructor(){}static createLookupTable(e){const[t,r]=ot.findProgramAddressSync([e.authority.toBuffer(),rc(BigInt(e.recentSlot),8)],this.programId),s=zg.CreateLookupTable,i=Mn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Fa.programId,isSigner:!1,isWritable:!1}];return[new As({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=zg.FreezeLookupTable,r=Mn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new As({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=zg.ExtendLookupTable,r=Mn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Fa.programId,isSigner:!1,isWritable:!1}),new As({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=zg.DeactivateLookupTable,r=Mn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new As({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=zg.CloseLookupTable,r=Mn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new As({programId:this.programId,keys:s,data:r})}}mJ.programId=new ot("AddressLookupTab1e1111111111111111111111111");class Zdt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Pf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=is(Pf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=is(Pf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=is(Pf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=is(Pf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(yJ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Pf=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),ew("microLamports")])}});class yJ{constructor(){}static requestUnits(e){const t=Pf.RequestUnits,r=Mn(t,e);return new As({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Pf.RequestHeapFrame,r=Mn(t,e);return new As({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Pf.SetComputeUnitLimit,r=Mn(t,e);return new As({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Pf.SetComputeUnitPrice,r=Mn(t,{microLamports:BigInt(e.microLamports)});return new As({keys:[],programId:this.programId,data:r})}}yJ.programId=new ot("ComputeBudget111111111111111111111111111111");const age=64,cge=32,uge=64,lge=N([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class XK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Un(t.length===cge,`Public Key must be ${cge} bytes but received ${t.length} bytes`),Un(s.length===uge,`Signature must be ${uge} bytes but received ${s.length} bytes`);const o=lge.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return lge.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new As({keys:[],programId:XK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Un(t.length===age,`Private key must be ${age} bytes but received ${t.length} bytes`);try{const i=sA.fromSecretKey(t),o=i.publicKey.toBytes(),a=iJ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}XK.programId=new ot("Ed25519SigVerify111111111111111111111111111");const Jdt=(n,e)=>{const t=jK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};jK.utils.isValidPrivateKey;const Xdt=jK.getPublicKey,dge=32,yN=20,fge=64,Qdt=11,pN=N([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class iA{constructor(){}static publicKeyToEthAddress(e){Un(e.length===fge,`Public key must be ${fge} bytes but received ${e.length} bytes`);try{return V.Buffer.from(jhe(rn(e))).slice(-yN)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return iA.createInstructionWithEthAddress({ethAddress:iA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Un(a.length===yN,`Address must be ${yN} bytes but received ${a.length} bytes`);const c=1+Qdt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(pN.span+r.length);return pN.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:rn(s),ethAddress:rn(a),recoveryId:i},h),h.fill(rn(r),pN.span),new As({keys:[],programId:iA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Un(t.length===dge,`Private key must be ${dge} bytes but received ${t.length} bytes`);try{const i=rn(t),o=Xdt(i,!1).slice(1),a=V.Buffer.from(jhe(rn(r))),[c,u]=Jdt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}iA.programId=new ot("KeccakSecp256k11111111111111111111111111111");var _Pe;const PPe=new ot("StakeConfig11111111111111111111111111111111");class EPe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class yz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_Pe=yz;yz.default=new _Pe(0,0,ot.default);class eft{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(wa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=is(wa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new EPe(new ot(t.staker),new ot(t.withdrawer)),lockup:new yz(r.unixTimestamp,r.epoch,new ot(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),is(wa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=is(wa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=is(wa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ot(i),newAuthorizedPubkey:new ot(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=is(wa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),is(wa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=is(wa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),is(wa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(QK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const wa=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),tlt(),rlt()])},Authorize:{index:1,layout:N([F("instruction"),vn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Pe("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Pe("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),vn("newAuthorized"),F("stakeAuthorizationType"),R1("authoritySeed"),vn("authorityOwner")])}}),tft=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class QK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||yz.default,o=wa.Initialize,a=Mn(o,{authorized:{staker:rn(r.staker.toBuffer()),withdrawer:rn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:rn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:QA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new As(c)}static createAccountWithSeed(e){const t=new Zn;t.add(Fa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Zn;t.add(Fa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=wa.Delegate,o=Mn(i);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:PD,isSigner:!1,isWritable:!1},{pubkey:PPe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=wa.Authorize,c=Mn(a,{newAuthorized:rn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Zn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=wa.AuthorizeWithSeed,l=Mn(u,{newAuthorized:rn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:rn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:sf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Zn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=wa.Split,a=Mn(o,{lamports:i});return new As({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Zn;return r.add(Fa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Zn;return u.add(Fa.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Fa.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=wa.Merge,o=Mn(i);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:PD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=wa.Withdraw,c=Mn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:PD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Zn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=wa.Deactivate,i=Mn(s);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}QK.programId=new ot("Stake11111111111111111111111111111111111111");QK.space=200;class xPe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class rft{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ef))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=is(Ef.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new xPe(new ot(t.nodePubkey),new ot(t.authorizedVoter),new ot(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=is(Ef.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=is(Ef.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ot(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ot(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=is(Ef.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(fT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ef=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),nlt()])},Authorize:{index:1,layout:N([F("instruction"),vn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Pe("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),slt()])}}),nft=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class fT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Ef.InitializeAccount,o=Mn(i,{voteInit:{nodePubkey:rn(s.nodePubkey.toBuffer()),authorizedVoter:rn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:rn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:QA,isSigner:!1,isWritable:!1},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new As(a)}static createAccount(e){const t=new Zn;return t.add(Fa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Ef.Authorize,a=Mn(o,{newAuthorized:rn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Ef.AuthorizeWithSeed,u=Mn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:rn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:rn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Zn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Ef.Withdraw,a=Mn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return fT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Ef.UpdateValidatorIdentity,o=Mn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:a,programId:this.programId,data:o})}}fT.programId=new ot("Vote111111111111111111111111111111111111111");fT.space=3762;const TPe=new ot("Va1idator1nfo111111111111111111111111111111"),sft=Be({name:Ze(),website:gr(Ze()),details:gr(Ze()),iconUrl:gr(Ze()),keybaseUsername:gr(Ze())});class pJ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(lu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ot(du(t,0,Vf)),a=_f(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(TPe)&&s[1].isSigner){const i=R1().decode(V.Buffer.from(t)),o=JSON.parse(i);return J_e(o,sft),new pJ(s[1].publicKey,o)}return null}}const ift=new ot("Vote111111111111111111111111111111111111111"),oft=N([vn("nodePubkey"),vn("authorizedWithdrawer"),te("commission"),Ae(),we(N([Ae("slot"),F("confirmationCount")]),Vt(F(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(N([Ae("epoch"),vn("authorizedVoter")]),Vt(F(),-8),"authorizedVoters"),N([we(N([vn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(N([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(F(),-8),"epochCredits"),N([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class bJ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=oft.decode(rn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new bJ({nodePubkey:new ot(r.nodePubkey),authorizedWithdrawer:new ot(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(aft),priorVoters:cft(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function aft({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ot(n)}}function hge({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ot(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function cft({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(hge),...n.slice(0,e).map(hge)]}const gge={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function uft(n,e){const t=e===!1?"http":"https";if(!n)return gge[t].devnet;const r=gge[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function lft(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new GM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const dft=1e9;var fft=Object.freeze(Object.defineProperty({__proto__:null,Account:Xut,AddressLookupTableAccount:gq,AddressLookupTableInstruction:Ydt,AddressLookupTableProgram:mJ,Authorized:EPe,BLOCKHASH_CACHE_TIMEOUT_MS:mPe,BPF_LOADER_DEPRECATED_PROGRAM_ID:Qut,BPF_LOADER_PROGRAM_ID:Slt,BpfLoader:klt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Pf,ComputeBudgetInstruction:Zdt,ComputeBudgetProgram:yJ,Connection:Gdt,Ed25519Program:XK,Enum:Zut,EpochSchedule:hPe,FeeCalculatorLayout:dPe,Keypair:sA,LAMPORTS_PER_SOL:dft,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:zg,Loader:xS,Lockup:yz,MAX_SEED_LENGTH:aPe,Message:wd,MessageAccountKeys:HM,MessageV0:ES,NONCE_ACCOUNT_LENGTH:hq,NonceAccount:YK,PACKET_DATA_SIZE:jy,PUBLIC_KEY_LENGTH:Vf,PublicKey:ot,SIGNATURE_LENGTH_IN_BYTES:jM,SOLANA_SCHEMA:K2,STAKE_CONFIG_ID:PPe,STAKE_INSTRUCTION_LAYOUTS:wa,SYSTEM_INSTRUCTION_LAYOUTS:Ls,SYSVAR_CLOCK_PUBKEY:sf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:ult,SYSVAR_INSTRUCTIONS_PUBKEY:llt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:_D,SYSVAR_RENT_PUBKEY:QA,SYSVAR_REWARDS_PUBKEY:dlt,SYSVAR_SLOT_HASHES_PUBKEY:flt,SYSVAR_SLOT_HISTORY_PUBKEY:hlt,SYSVAR_STAKE_HISTORY_PUBKEY:PD,Secp256k1Program:iA,SendTransactionError:GM,SolanaJSONRPCError:Xt,SolanaJSONRPCErrorCode:glt,StakeAuthorizationLayout:tft,StakeInstruction:eft,StakeProgram:QK,Struct:oJ,SystemInstruction:plt,SystemProgram:Fa,Transaction:Zn,TransactionExpiredBlockheightExceededError:aJ,TransactionExpiredNonceInvalidError:xv,TransactionExpiredTimeoutError:cJ,TransactionInstruction:As,TransactionMessage:lJ,TransactionStatus:Sg,VALIDATOR_INFO_KEY:TPe,VERSION_PREFIX_MASK:HK,VOTE_PROGRAM_ID:ift,ValidatorInfo:pJ,VersionedMessage:uJ,VersionedTransaction:dJ,VoteAccount:bJ,VoteAuthorizationLayout:nft,VoteInit:xPe,VoteInstruction:rft,VoteProgram:fT,clusterApiUrl:uft,sendAndConfirmRawTransaction:lft,sendAndConfirmTransaction:fq},Symbol.toStringTag,{value:"Module"})),SJ=xd(fft);(function(n){var e=K&&K.__decorate||function(d,y,h,m){var f=arguments.length,g=f<3?y:m===null?m=Object.getOwnPropertyDescriptor(y,h):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,y,h,m);else for(var S=d.length-1;S>=0;S--)(b=d[S])&&(g=(f<3?b(g):f>3?b(y,h,g):b(y,h))||g);return f>3&&g&&Object.defineProperty(y,h,g),g},t=K&&K.__metadata||function(d,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,y)},r=K&&K.__awaiter||function(d,y,h,m){function f(g){return g instanceof h?g:new h(function(b){b(g)})}return new(h||(h=Promise))(function(g,b){function S(A){try{I(m.next(A))}catch(w){b(w)}}function p(A){try{I(m.throw(A))}catch(w){b(w)}}function I(A){A.done?g(A.value):f(A.value).then(S,p)}I((m=m.apply(d,y||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CargoPod=n.CARGO_POD_OFFSET=n.cargoPodDataEquals=void 0;const i=rl,o=SJ,a=cc,c=nr;function u(d,y){return d.version===y.version&&d.podBump===y.podBump&&d.openTokenAccounts===y.openTokenAccounts&&(0,c.arrayDeepEquals)(d.podSeeds,y.podSeeds,(h,m)=>h===m)&&d.statsDefinition.equals(y.statsDefinition)&&d.authority.equals(y.authority)&&d.seqId===y.seqId&&d.unupdatedTokenAccounts===y.unupdatedTokenAccounts}n.cargoPodDataEquals=u,n.CARGO_POD_OFFSET=8+1+32+32+1+32+1+2+1;let l=s=class{constructor(y,h,m){this._data=y,this._key=h,this._stats=m}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(y,h){return o.PublicKey.findProgramAddressSync([Ve.Buffer.from("cargo_pod"),h],y.programId)}static initCargoPod(y,h,m,f){const g=this.findAddress(y,f);return b=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.initCargoPod(Array.from(f)).accountsStrict({authority:h.publicKey(),funder:b.publicKey(),cargoPod:g[0],statsDefinition:m,systemProgram:o.SystemProgram.programId}).instruction(),signers:[h,b]}]})}static addCargo(y,h,m,f,g,b,S,p,I){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.addCargo(I).accountsStrict({authority:h.publicKey(),signerOriginAccount:m.publicKey(),cargoPod:f,cargoType:g,statsDefinition:b,originTokenAccount:S,cargoTokenAccount:p,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h,m]}]})}static legitimizeCargo(y,h,m,f,g,b,S){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.legitimizeCargo(S).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static removeCargo(y,h,m,f,g,b,S,p){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.removeCargo(p).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,destinationTokenAccount:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static consumeCargo(y,h,m,f,g,b,S,p){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.consumeCargo(p).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,tokenMint:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static transferCargo(y,h,m,f,g,b,S,p,I,A){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.transferCargo(A).accountsStrict({originPodAuthority:h.publicKey(),destinationPodAuthority:m.publicKey(),originCargoPod:f,destinationCargoPod:g,cargoType:b,statsDefinition:S,originTokenAccount:p,destinationTokenAccount:I,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h,m]}]})}static transferAuthority(y,h,m,f){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.transferAuthority().accountsStrict({originPodAuthority:h.publicKey(),newPodAuthority:m.publicKey(),cargoPod:f}).instruction(),signers:[h,m]}]})}static mintTo(y,h,m,f,g,b,S,p,I){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.mintTo(h).accountsStrict({authority:m.publicKey(),mintAuthority:f.publicKey(),statsDefinition:g,cargoPod:b,cargoType:S,cargoTokenAccount:p.publicKey(),tokenMint:f.publicKey(),tokenProgram:I}).instruction(),signers:[m,f]}]})}static updateCargoPod(y,h,m){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.updateCargoPod().accountsStrict({cargoPod:h,statsDefinition:m}).instruction(),signers:[]}]})}static updatePodTokenAccount(y,h,m,f,g,b){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.updatePodTokenAccount().accountsStrict({statsDefinition:h,cargoPod:m,oldCargoType:f,cargoType:g,cargoTokenAccount:b,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeTokenAccount(y){const{program:h,authority:m,cargoPod:f,tokenAccountToClose:g,cargoType:b,mint:S}=y;return p=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.closeTokenAccount().accountsStrict({funder:p.publicKey(),authority:m.publicKey(),cargoPod:f,cargoType:b,cargoTokenAccount:g,mint:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[m]}]})}static closeCargoPod(y,h,m){return f=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.closeCargoPod().accountsStrict({funder:f.publicKey(),authority:h.publicKey(),cargoPod:m,systemProgram:o.SystemProgram.programId}).instruction(),signers:[h]}]})}static decodeData(y,h){return(0,c.decodeAccountWithRemaining)(y,h,s,m=>Array((y.accountInfo.data.length-n.CARGO_POD_OFFSET)/8).fill(0).map((f,g)=>new a.BN(m.subarray(8*g).subarray(0,8),10,"le")))}};n.CargoPod=l,l.ACCOUNT_NAME="cargoPod",l.MIN_DATA_SIZE=n.CARGO_POD_OFFSET,n.CargoPod=l=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],l)})(HZ);var kJ={};(function(n){var e=K&&K.__decorate||function(l,d,y,h){var m=arguments.length,f=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,y):h,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,d,y,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(f=(m<3?g(f):m>3?g(d,y,f):g(d,y))||f);return m>3&&f&&Object.defineProperty(d,y,f),f},t=K&&K.__metadata||function(l,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,d)},r=K&&K.__awaiter||function(l,d,y,h){function m(f){return f instanceof y?f:new y(function(g){g(f)})}return new(y||(y=Promise))(function(f,g){function b(I){try{p(h.next(I))}catch(A){g(A)}}function S(I){try{p(h.throw(I))}catch(A){g(A)}}function p(I){I.done?f(I.value):m(I.value).then(b,S)}p((h=h.apply(l,d||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CargoType=n.CARGO_TYPE_OFFSET=n.cargoTypeDataEquals=void 0;const i=SJ,o=cc,a=nr;function c(l,d){return l.version===d.version&&l.bump===d.bump&&l.statsCount===d.statsCount&&l.statsDefinition.equals(d.statsDefinition)&&l.mint.equals(d.mint)&&l.seqId===d.seqId}n.cargoTypeDataEquals=c,n.CARGO_TYPE_OFFSET=8+1+32+32+32+1+2+2;let u=s=class{constructor(d,y,h){this._data=d,this._key=y,this._stats=h}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(d,y,h,m){const f=new ArrayBuffer(2),g=new DataView(f);g.setUint16(0,m,!0);const b=new Uint8Array(g.buffer);return i.PublicKey.findProgramAddressSync([Ve.Buffer.from("cargo_type"),b,y.toBuffer(),h.toBuffer()],d.programId)}static initCargoType({program:d,managerKey:y,profile:h,statsDefinition:m,mint:f,input:g,statsDefinitionSeqId:b}){const S=this.findAddress(d,m,f,b);return p=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoType(g).accountsStrict({funder:p.publicKey(),cargoType:S[0],statsDefinition:m,mint:f,systemProgram:i.SystemProgram.programId,key:y.publicKey(),profile:h}).instruction(),signers:[y,p]}]})}static initCargoTypeFromOldCargoType({program:d,managerKey:y,profile:h,statsDefinition:m,oldCargoType:f,mint:g,input:b}){const[S]=this.findAddress(d,m,g.publicKey(),f.data.seqId+1);return p=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeFromOldCargoType(b).accountsStrict({key:y.publicKey(),profile:h,funder:p.publicKey(),statsDefinition:m,oldCargoType:f.key,cargoType:S,systemProgram:i.SystemProgram.programId}).instruction(),signers:[y]}]})}static initCargoTypeForNextSeqId({program:d,managerKey:y,profile:h,statsDefinition:m,typeMint:f,input:g}){const[b]=this.findAddress(d,m.key,f,m.data.seqId+1);return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeForNextSeqId(g).accountsStrict({key:y.publicKey(),profile:h,funder:S.publicKey(),mint:f,statsDefinition:m.key,cargoType:b,systemProgram:i.SystemProgram.programId}).instruction(),signers:[y]}]})}static decodeData(d,y){return(0,a.decodeAccountWithRemaining)(d,y,s,h=>Array((d.accountInfo.data.length-n.CARGO_TYPE_OFFSET)/8).fill(0).map((m,f)=>new o.BN(h.subarray(8*f).subarray(0,8),10,"le")))}};n.CargoType=u,u.ACCOUNT_NAME="cargoType",u.MIN_DATA_SIZE=n.CARGO_TYPE_OFFSET,n.CargoType=u=s=e([(0,a.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],u)})(kJ);var RPe={},ZM={};Object.defineProperty(ZM,"__esModule",{value:!0});ZM.IDL=void 0;ZM.IDL={version:"0.1.0",name:"cargo",docs:["The `cargo` program"],instructions:[{name:"addCargo",docs:["Adds cargo to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"signerOriginAccount",isMut:!1,isSigner:!0,docs:["Signer for Cargo Token Transfer"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"closeCargoPod",docs:["Closes the [`CargoPod`](state::CargoPod) if it has no open token accounts.","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the pod account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system Program"]}],args:[]},{name:"closeTokenAccount",docs:["Closes and burns any excess tokens in a given token account within a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for [CargoPod] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account","If the token account belongs to a registered Cargo Type then this account must be a valid Cargo Type","However, to allow closing token account that are not valid Cargo this is an unchecked account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]}],args:[]},{name:"consumeCargo",docs:["Consumes cargo from a [`CargoPod`](state::CargoPod), burning the amount.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"initCargoPod",docs:["Inits a new [`CargoPod`](state::CargoPod) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition) and authority."],accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new cargo pod"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the new cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"podSeeds",type:{array:["u8",32]}}]},{name:"initCargoType",docs:["Inits a new [`CargoType`](state::CargoType) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition)."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeForNextSeqId",docs:["Creates a new cargo type for the next `seq_id`."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeFromOldCargoType",docs:["Creates a new cargo type for the next `seq_id` from a given cargo type."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The old Cargo Type Account"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeFromOldCargoTypeInput"}}]},{name:"initDefinition",docs:["Inits a [`CargoStatsDefinition`](state::CargoStatsDefinition) account."],accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](Profile).","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new definition"]},{name:"statsDefinition",isMut:!0,isSigner:!0,docs:["The new definition"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitDefinitionInput"}}]},{name:"legitimizeCargo",docs:["Legitimizes cargo in a [`CargoPod`](state::CargoPod) that was added outside of [`add_cargo`] or other cargo ix.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"mintTo",docs:["Mints tokens directly to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the [`CargoPod`] Account"]},{name:"mintAuthority",isMut:!1,isSigner:!0,docs:["The mint Authority"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [`CargoPod`] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The [`CargoType`] Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The Cargo token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"mintAmount",type:"u64"}]},{name:"removeCargo",docs:["Removes cargo from a [`CargoPod`](state::CargoPod) to a given token account.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"transferAuthority",docs:["Transfers authority of a [`CargoPod`](state::CargoPod) to a new authority.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"newPodAuthority",isMut:!1,isSigner:!0,docs:["New authority for the cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]}],args:[]},{name:"transferCargo",docs:["Transfers cargo between [`CargoPod`](state::CargoPod)s.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the origin cargo pod"]},{name:"destinationPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the destination cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"originCargoPod",isMut:!0,isSigner:!1,docs:["The Origin [CargoPod] Account"]},{name:"destinationCargoPod",isMut:!0,isSigner:!1,docs:["The Destination [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"updateCargoPod",docs:["Updates a [`CargoPod`](state::CargoPod) account to have the newest sequence id from the [`CargoDefinition`](state::CargoStatsDefinition).","This is the first step to update a [`CargoPod`](state::CargoPod) to a new [`CargoStatsDefinition`](state::CargoStatsDefinition).","Permissionless function."],accounts:[{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to update"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]}],args:[]},{name:"updateDefinition",docs:["Updates a [`CargoStatsDefinition`](state::CargoStatsDefinition) account.","Will advance the `seq_id` unless `rollback` is set to true."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](Profile).","Is going to act as the authority for the new definition."]},{name:"statsDefinition",isMut:!0,isSigner:!1,docs:["The [CargoStatsDefinition]"]}],args:[{name:"input",type:{defined:"UpdateDefinitionInput"}}]},{name:"updatePodTokenAccount",docs:["Updates a [`CargoPod`](state::CargoPod)'s token account to have the same sequence id as the [`CargoPod`](state::CargoPod).","This must be called after [`update_cargo_pod`].","Permissionless function."],accounts:[{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The previous version(`seq_id`) Cargo Type"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The updated Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]}],accounts:[{name:"cargoPod",docs:["A pod that can store any number of resources and tracks stats given a definition."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition of tracked stats."],type:"publicKey"},{name:"authority",docs:["The authority for this pod."],type:"publicKey"},{name:"openTokenAccounts",docs:["The number of open token accounts in this pod."],type:"u8"},{name:"podSeeds",docs:["The seeds of the signer for this pod."],type:{array:["u8",32]}},{name:"podBump",docs:["The bump of the signer for this pod."],type:"u8"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"},{name:"unupdatedTokenAccounts",docs:["The number of unupdated token accounts in this pod. If this is greater than zero means the pod is frozen and only can withdraw cargo but not deposit."],type:"u8"}]}},{name:"cargoStatsDefinition",docs:["A definition of cargo stats."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authority",docs:["The authority for this definition."],type:"publicKey"},{name:"defaultCargoType",docs:["The default cargo type. System program (all 0s) if none."],type:"publicKey"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}},{name:"cargoType",docs:["The stats for a given cargo type (token mint)."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition this follows"],type:"publicKey"},{name:"mint",docs:["The mint the cargo type is for"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"bump",docs:["The bump for this account"],type:"u8"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}}],types:[{name:"InitCargoTypeFromOldCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"newValues",docs:["vector with values for all stats tracked by the definition"],type:{option:{vec:"u64"}}}]}},{name:"InitCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"values",docs:["vector with values for all stats tracked by the definition"],type:{vec:"u64"}}]}},{name:"InitDefinitionInput",docs:["Struct for data input for [`InitDefinition`]"],type:{kind:"struct",fields:[{name:"cargoStats",docs:["the count of stats the definition has"],type:"u16"}]}},{name:"UpdateDefinitionInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"rollback",docs:["flag that if present means we need to decrease the definition seq_id"],type:{option:"bool"}}]}}],errors:[{code:6e3,name:"StatOutOfBounds",msg:"A given stat was out of bounds"},{code:6001,name:"TooManyStats",msg:"There are too many stats"},{code:6002,name:"InvalidRentFunder",msg:"Rent funder was not owned by the system program or this program"},{code:6003,name:"TooFewStats",msg:"Popped a stat when there are no stats left"},{code:6004,name:"MissingSystemProgram",msg:"System program is missing when needed"},{code:6005,name:"InvalidCargoStat",msg:"Cargo stat data was invalid"},{code:6006,name:"InvalidCargoStatSize",msg:"Cargo stat size data was invalid"},{code:6007,name:"InvalidCargoType",msg:"Cargo type is invalid"},{code:6008,name:"WrongNumberOfDefinitions",msg:"Wrong number of definitions provided to init a cargo type"},{code:6009,name:"InvalidValueForStat",msg:"Invalid value provided for stat"},{code:6010,name:"NumericOverflow",msg:"Math overflow"},{code:6011,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6012,name:"StatsDefinitionMismatch",msg:"Stats definition mismatch"},{code:6013,name:"MintMismatch",msg:"Mint mismatch"},{code:6014,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6015,name:"InvalidDelegation",msg:"Delegated amount is invalid"},{code:6016,name:"FrozenPod",msg:"The pod is frozen"},{code:6017,name:"UnupdatedCargoPodAccount",msg:"Unupdated CargoPod Account"},{code:6018,name:"InvalidSeqId",msg:"Invalid seq_id"},{code:6019,name:"UnupdatedTokenAccount",msg:"Unupdated token account"},{code:6020,name:"OpenTokenAccounts",msg:"Cargo Pod has token accounts open"},{code:6021,name:"NonZeroDelegation",msg:"Non Zero Delegated Amount"},{code:6022,name:"InvalidPreviousType",msg:"Invalid previous cargo_type account"},{code:6023,name:"InsufficientCargoAmount",msg:"Insufficient cargo amount"},{code:6024,name:"InsufficientTokenAmount",msg:"Insufficient token amount"},{code:6025,name:"PodTokenAccountAlreadyUpdated",msg:"Pod Token Account Already Updated"}]};var qp={},hft=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},gft=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},mge=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},bq;Object.defineProperty(qp,"__esModule",{value:!0});qp.CargoStatsDefinition=qp.cargoStatsDefinitionAccountDataEquals=void 0;const CPe=SJ,MPe=nr;function mft(n,e){return n.version===e.version&&n.authority.equals(e.authority)&&n.defaultCargoType.equals(e.defaultCargoType)&&n.statsCount===e.statsCount&&n.seqId===e.seqId}qp.cargoStatsDefinitionAccountDataEquals=mft;let JM=bq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static initDefinition({program:e,profile:t,statsDefinition:r,input:s}){return i=>mge(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initDefinition(s).accountsStrict({profile:t,funder:i.publicKey(),statsDefinition:r.publicKey(),systemProgram:CPe.SystemProgram.programId}).instruction(),signers:[i,r]}]})}static updateDefinition({program:e,managerKey:t,profile:r,statsDefinition:s,input:i}){return()=>mge(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateDefinition(i).accountsStrict({statsDefinition:s,key:t.publicKey(),profile:r}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,MPe.decodeAccount)(e,t,bq)}};qp.CargoStatsDefinition=JM;JM.ACCOUNT_NAME="cargoStatsDefinition";JM.MIN_DATA_SIZE=8+1+32+32+2+2;qp.CargoStatsDefinition=JM=bq=hft([(0,MPe.staticImplements)(),gft("design:paramtypes",[Object,CPe.PublicKey])],JM);(function(n){var e=K&&K.__decorate||function(d,y,h,m){var f=arguments.length,g=f<3?y:m===null?m=Object.getOwnPropertyDescriptor(y,h):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,y,h,m);else for(var S=d.length-1;S>=0;S--)(b=d[S])&&(g=(f<3?b(g):f>3?b(y,h,g):b(y,h))||g);return f>3&&g&&Object.defineProperty(y,h,g),g},t=K&&K.__metadata||function(d,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,y)};Object.defineProperty(n,"__esModule",{value:!0}),n.CargoProgram=n.cargoErrorMap=n.CARGO_IDL=void 0;const r=cc,s=nr,i=HZ,o=kJ,a=ZM,c=qp;var u=ZM;Object.defineProperty(n,"CARGO_IDL",{enumerable:!0,get:function(){return u.IDL}}),n.cargoErrorMap=(0,s.generateErrorMap)(a.IDL);let l=class extends s.ListenProgram{constructor(y){super(y,{cargoPod:i.CargoPod,cargoType:o.CargoType,cargoStatsDefinition:c.CargoStatsDefinition})}static buildProgram(y,h,m){return new r.Program(a.IDL,y,h,m)}};n.CargoProgram=l,n.CargoProgram=l=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],l)})(RPe);var pz={},yft=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},pft=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},ll;Object.defineProperty(pz,"__esModule",{value:!0});pz.CargoPermissions=void 0;const BPe=nr;let Sq=ll=class{constructor(e,t,r){this.manageDefinition=e,this.createCargoType=t,this.manageCargoType=r}getPermissions(){const e=(0,BPe.fixedSizeArray)(8,0);return e[0]=(this.manageDefinition?1<<0:0)|(this.createCargoType?1<<1:0)|(this.manageCargoType?1<<2:0),e}static empty(){return new ll(!1,!1,!1)}static all(){return new ll(!0,!0,!0)}static manageDefinition(){return new ll(!0,!1,!1)}static createCargoType(){return new ll(!1,!0,!1)}static manageCargoType(){return new ll(!1,!1,!0)}static definitionPermissions(){return ll.manageDefinition()}static cargoTypePermissions(){return new ll(!1,!0,!0)}static fromPermissions(e){return new ll((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0)}and(e){return new ll(this.manageDefinition&&e.manageDefinition,this.createCargoType&&e.createCargoType,this.manageCargoType&&e.manageCargoType)}or(e){return new ll(this.manageDefinition||e.manageDefinition,this.createCargoType||e.createCargoType,this.manageCargoType||e.manageCargoType)}eq(e){return this.manageDefinition===e.manageDefinition&&this.createCargoType===e.createCargoType&&this.manageCargoType===e.manageCargoType}contains(e){return this.and(e).eq(e)}};pz.CargoPermissions=Sq;pz.CargoPermissions=Sq=ll=yft([(0,BPe.staticImplements)(),pft("design:paramtypes",[Boolean,Boolean,Boolean])],Sq);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(HZ,n),t(kJ,n),t(RPe,n),t(pz,n),t(qp,n)})(FK);var e6={},zPe={},XM={};Object.defineProperty(XM,"__esModule",{value:!0});XM.IDL=void 0;XM.IDL={version:"0.7.1",name:"profile_faction",instructions:[{name:"chooseFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key with auth permissions."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to change faction for."]},{name:"faction",isMut:!0,isSigner:!1,docs:["The faction to change to."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"faction",type:{defined:"Faction"}}]}],accounts:[{name:"profileFactionAccount",docs:["Stores a profile's enlisted faction on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this faction enlistment is for."],type:"publicKey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}}],types:[{name:"Faction",docs:["A faction that a player can belong to."],type:{kind:"enum",variants:[{name:"Unaligned"},{name:"MUD"},{name:"ONI"},{name:"Ustur"}]}}]};var qf={};function EO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function bft(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function bz(n,...e){if(!bft(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function Sft(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");EO(n.outputLen),EO(n.blockLen)}function tw(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function $Pe(n,e){bz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const bN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kft=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),SN=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Nd=(n,e)=>n<<32-e|n>>>e,yge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,vft=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function pge(n){for(let e=0;e<n.length;e++)n[e]=vft(n[e])}function Aft(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function t6(n){return typeof n=="string"&&(n=Aft(n)),bz(n),n}function wft(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];bz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class vJ{clone(){return this._cloneInto()}}function AJ(n){const e=r=>n().update(t6(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function DPe(n=32){if(bN&&typeof bN.getRandomValues=="function")return bN.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function Ift(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const _ft=(n,e,t)=>n&e^~n&t,Pft=(n,e,t)=>n&e^n&t^e&t;class OPe extends vJ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=SN(this.buffer)}update(e){tw(this);const{view:t,buffer:r,blockLen:s}=this;e=t6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=SN(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tw(this),$Pe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;Ift(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=SN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const w$=BigInt(2**32-1),kq=BigInt(32);function KPe(n,e=!1){return e?{h:Number(n&w$),l:Number(n>>kq&w$)}:{h:Number(n>>kq&w$)|0,l:Number(n&w$)|0}}function LPe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=KPe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const Eft=(n,e)=>BigInt(n>>>0)<<kq|BigInt(e>>>0),xft=(n,e,t)=>n>>>t,Tft=(n,e,t)=>n<<32-t|e>>>t,Rft=(n,e,t)=>n>>>t|e<<32-t,Cft=(n,e,t)=>n<<32-t|e>>>t,Mft=(n,e,t)=>n<<64-t|e>>>t-32,Bft=(n,e,t)=>n>>>t-32|e<<64-t,zft=(n,e)=>e,$ft=(n,e)=>n,WPe=(n,e,t)=>n<<t|e>>>32-t,NPe=(n,e,t)=>e<<t|n>>>32-t,FPe=(n,e,t)=>e<<t-32|n>>>64-t,UPe=(n,e,t)=>n<<t-32|e>>>64-t;function Dft(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Oft=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Kft=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Lft=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Wft=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Nft=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Fft=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Uft={fromBig:KPe,split:LPe,toBig:Eft,shrSH:xft,shrSL:Tft,rotrSH:Rft,rotrSL:Cft,rotrBH:Mft,rotrBL:Bft,rotr32H:zft,rotr32L:$ft,rotlSH:WPe,rotlSL:NPe,rotlBH:FPe,rotlBL:UPe,add:Dft,add3L:Oft,add3H:Kft,add4L:Lft,add4H:Wft,add5H:Fft,add5L:Nft};var Kr=Uft;const[Vft,qft]=(()=>Kr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Gm=new Uint32Array(80),Ym=new Uint32Array(80);class jft extends OPe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Gm[p]=e.getUint32(t),Ym[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Gm[p-15]|0,A=Ym[p-15]|0,w=Kr.rotrSH(I,A,1)^Kr.rotrSH(I,A,8)^Kr.shrSH(I,A,7),_=Kr.rotrSL(I,A,1)^Kr.rotrSL(I,A,8)^Kr.shrSL(I,A,7),P=Gm[p-2]|0,M=Ym[p-2]|0,E=Kr.rotrSH(P,M,19)^Kr.rotrBH(P,M,61)^Kr.shrSH(P,M,6),T=Kr.rotrSL(P,M,19)^Kr.rotrBL(P,M,61)^Kr.shrSL(P,M,6),z=Kr.add4L(_,T,Ym[p-7],Ym[p-16]),O=Kr.add4H(z,w,E,Gm[p-7],Gm[p-16]);Gm[p]=O|0,Ym[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Kr.rotrSH(d,y,14)^Kr.rotrSH(d,y,18)^Kr.rotrBH(d,y,41),A=Kr.rotrSL(d,y,14)^Kr.rotrSL(d,y,18)^Kr.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=Kr.add5L(S,A,_,qft[p],Ym[p]),M=Kr.add5H(P,b,I,w,Vft[p],Gm[p]),E=P|0,T=Kr.rotrSH(r,s,28)^Kr.rotrBH(r,s,34)^Kr.rotrBH(r,s,39),z=Kr.rotrSL(r,s,28)^Kr.rotrBL(r,s,34)^Kr.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Kr.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Kr.add3L(E,z,R);r=Kr.add3H(v,M,T,O),s=v|0}({h:r,l:s}=Kr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Kr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Kr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Kr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Kr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Kr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Kr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Kr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Gm.fill(0),Ym.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Hft=AJ(()=>new jft);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wJ=BigInt(0),r6=BigInt(1),Gft=BigInt(2);function TS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Sz(n){if(!TS(n))throw new Error("Uint8Array expected")}function Hg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Yft=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function RS(n){Sz(n);let e="";for(let t=0;t<n.length;t++)e+=Yft[n[t]];return e}function VPe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function IJ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Rh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function bge(n){if(n>=Rh._0&&n<=Rh._9)return n-Rh._0;if(n>=Rh._A&&n<=Rh._F)return n-(Rh._A-10);if(n>=Rh._a&&n<=Rh._f)return n-(Rh._a-10)}function rw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=bge(n.charCodeAt(i)),a=bge(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function U1(n){return IJ(RS(n))}function oA(n){return Sz(n),IJ(RS(Uint8Array.from(n).reverse()))}function nw(n,e){return rw(n.toString(16).padStart(e*2,"0"))}function QM(n,e){return nw(n,e).reverse()}function Zft(n){return rw(VPe(n))}function sa(n,e,t){let r;if(typeof e=="string")try{r=rw(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(TS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function CS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Sz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Jft(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Xft(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const kN=n=>typeof n=="bigint"&&wJ<=n;function n6(n,e,t){return kN(n)&&kN(e)&&kN(t)&&e<=n&&n<t}function Al(n,e,t,r){if(!n6(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function Qft(n){let e;for(e=0;n>wJ;n>>=r6,e+=1);return e}function eht(n,e){return n>>BigInt(e)&r6}function tht(n,e,t){return n|(t?r6:wJ)<<BigInt(e)}const _J=n=>(Gft<<BigInt(n-1))-r6,vN=n=>new Uint8Array(n),Sge=n=>Uint8Array.from(n);function qPe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=vN(n),s=vN(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=vN())=>{s=a(Sge([0]),d),r=a(),d.length!==0&&(s=a(Sge([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return CS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const rht={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||TS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function hT(n,e,t={}){const r=(s,i,o)=>{const a=rht[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const nht=()=>{throw new Error("not implemented")};function eB(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var sht=Object.freeze(Object.defineProperty({__proto__:null,isBytes:TS,abytes:Sz,abool:Hg,bytesToHex:RS,numberToHexUnpadded:VPe,hexToNumber:IJ,hexToBytes:rw,bytesToNumberBE:U1,bytesToNumberLE:oA,numberToBytesBE:nw,numberToBytesLE:QM,numberToVarBytesBE:Zft,ensureBytes:sa,concatBytes:CS,equalBytes:Jft,utf8ToBytes:Xft,inRange:n6,aInRange:Al,bitLen:Qft,bitGet:eht,bitSet:tht,bitMask:_J,createHmacDrbg:qPe,validateObject:hT,notImplemented:nht,memoized:eB},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qa=BigInt(0),Li=BigInt(1),a1=BigInt(2),iht=BigInt(3),vq=BigInt(4),kge=BigInt(5),vge=BigInt(8);BigInt(9);BigInt(16);function bi(n,e){const t=n%e;return t>=Qa?t:e+t}function oht(n,e,t){if(t<=Qa||e<Qa)throw new Error("Expected power/modulo > 0");if(t===Li)return Qa;let r=Li;for(;e>Qa;)e&Li&&(r=r*n%t),n=n*n%t,e>>=Li;return r}function so(n,e,t){let r=n;for(;e-- >Qa;)r*=r,r%=t;return r}function Aq(n,e){if(n===Qa||e<=Qa)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=bi(n,e),r=e,s=Qa,i=Li;for(;t!==Qa;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Li)throw new Error("invert: does not exist");return bi(s,e)}function aht(n){const e=(n-Li)/a1;let t,r,s;for(t=n-Li,r=0;t%a1===Qa;t/=a1,r++);for(s=a1;s<n&&oht(s,e,n)!==n-Li;s++);if(r===1){const o=(n+Li)/vq;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Li)/a1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Li<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function cht(n){if(n%vq===iht){const e=(n+Li)/vq;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%vge===kge){const e=(n-kge)/vge;return function(r,s){const i=r.mul(s,a1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,a1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return aht(n)}const uht=(n,e)=>(bi(n,e)&Li)===Li,lht=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function dht(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=lht.reduce((r,s)=>(r[s]="function",r),e);return hT(n,t)}function fht(n,e,t){if(t<Qa)throw new Error("Expected power > 0");if(t===Qa)return n.ONE;if(t===Li)return e;let r=n.ONE,s=e;for(;t>Qa;)t&Li&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Li;return r}function hht(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function jPe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function HPe(n,e,t=!1,r={}){if(n<=Qa)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=jPe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=cht(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:_J(s),ZERO:Qa,ONE:Li,create:c=>bi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Qa<=c&&c<n},is0:c=>c===Qa,isOdd:c=>(c&Li)===Li,neg:c=>bi(-c,n),eql:(c,u)=>c===u,sqr:c=>bi(c*c,n),add:(c,u)=>bi(c+u,n),sub:(c,u)=>bi(c-u,n),mul:(c,u)=>bi(c*u,n),pow:(c,u)=>fht(a,c,u),div:(c,u)=>bi(c*Aq(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Aq(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>hht(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?QM(c,i):nw(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?oA(c):U1(c)}});return Object.freeze(a)}function GPe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function YPe(n){const e=GPe(n);return e+Math.ceil(e/2)}function ght(n,e,t=!1){const r=n.length,s=GPe(e),i=YPe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?U1(n):oA(n),a=bi(o,e-Li)+Li;return t?QM(a,s):nw(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mht=BigInt(0),AN=BigInt(1),wN=new WeakMap,Age=new WeakMap;function ZPe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>mht;)o&AN&&(a=a.add(c)),c=c.double(),o>>=AN;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=AN);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,A=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(A,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Age.get(i)||1;let u=wN.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&wN.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Age.set(i,o),wN.delete(i)}}}function PJ(n){return dht(n.Fp),hT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jPe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wl=BigInt(0),jc=BigInt(1),I$=BigInt(2),yht=BigInt(8),pht={zip215:!0};function bht(n){const e=PJ(n);return hT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Sht(n){const e=bht(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=I$<<BigInt(a*8)-jc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Wl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Hg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){Al("coordinate "+v,k,Wl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=eB((v,k)=>{const{ex:x,ey:C,ez:B}=v,D=v.is0();k==null&&(k=D?yht:t.inv(B));const $=l(x*k),W=l(C*k),L=l(B*k);if(D)return{x:Wl,y:jc};if(L!==jc)throw new Error("invZ was invalid");return{x:$,y:W}}),b=eB(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:D,et:$}=v,W=l(C*C),L=l(B*B),U=l(D*D),G=l(U*U),J=l(W*k),Q=l(U*l(J+L)),Y=l(G+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(D*$);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,jc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:D,ey:$,ez:W}=k,L=l(x*W),U=l(D*B),G=l(C*W),J=l($*B);return L===U&&G===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,D=l(x*x),$=l(C*C),W=l(I$*l(B*B)),L=l(k*D),U=x+C,G=l(l(U*U)-D-$),J=L+$,Q=J-W,Y=L-$,X=l(G*Q),re=l(J*Y),se=l(G*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:D,ez:$,et:W}=this,{ex:L,ey:U,ez:G,et:J}=k;if(x===BigInt(-1)){const Lt=l((D-B)*(U+L)),Dt=l((D+B)*(U-L)),et=l(Dt-Lt);if(et===Wl)return this.double();const Ue=l($*I$*J),Wt=l(W*I$*G),sr=Wt+Ue,tr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(tr*pr),gn=l(sr*pr),ds=l(et*tr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(D*U),X=l(W*C*J),re=l($*G),se=l((B+D)*(L+U)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),_e=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(_e,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return A.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;Al("scalar",x,jc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return Al("scalar",x,Wl,r),x===Wl?I:this.equals(I)||x===jc?this:this.equals(p)?this.wNAF(x).p:A.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===jc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,D=t.BYTES;k=sa("pointHex",k,D),Hg("zip215",x);const $=k.slice(),W=k[D-1];$[D-1]=W&-129;const L=oA($),U=x?u:t.ORDER;Al("pointHex.y",L,Wl,U);const G=l(L*L),J=l(G-jc),Q=l(C*G-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&jc)===jc,se=(W&128)!==0;if(!x&&X===Wl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return P(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=QM(x,t.BYTES);return C[C.length-1]|=k&jc?128:0,C}toHex(){return RS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,jc,l(e.Gx*e.Gy)),S.ZERO=new S(Wl,jc,jc,Wl);const{BASE:p,ZERO:I}=S,A=ZPe(S,a*8);function w(v){return bi(v,r)}function _(v){return w(oA(v))}function P(v){const k=a;v=sa("private key",v,k);const x=sa("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),D=_(C),$=p.multiply(D),W=$.toRawBytes();return{head:C,prefix:B,scalar:D,point:$,pointBytes:W}}function M(v){return P(v).pointBytes}function E(v=new Uint8Array,...k){const x=CS(...k);return _(i(h(x,sa("context",v),!!s)))}function T(v,k,x={}){v=sa("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:D}=P(k),$=E(x.context,C,v),W=p.multiply($).toRawBytes(),L=E(x.context,W,D,v),U=w($+L*B);Al("signature.s",U,Wl,r);const G=CS(W,QM(U,t.BYTES));return sa("result",G,a*2)}const z=pht;function O(v,k,x,C=z){const{context:B,zip215:D}=C,$=t.BYTES;v=sa("signature",v,2*$),k=sa("message",k),D!==void 0&&Hg("zip215",D),s&&(k=s(k));const W=oA(v.slice($,2*$));let L,U,G;try{L=S.fromHex(x,D),U=S.fromHex(v.slice(0,$),D),G=p.multiplyUnsafe(W)}catch{return!1}if(!D&&L.isSmallOrder())return!1;const J=E(B,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(G).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:T,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EJ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),wge=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const kht=BigInt(1),Ige=BigInt(2);BigInt(3);const vht=BigInt(5),Aht=BigInt(8);function wht(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=EJ,a=n*n%i*n%i,c=so(a,Ige,i)*a%i,u=so(c,kht,i)*n%i,l=so(u,vht,i)*u%i,d=so(l,e,i)*l%i,y=so(d,t,i)*d%i,h=so(y,r,i)*y%i,m=so(h,s,i)*h%i,f=so(m,s,i)*h%i,g=so(f,e,i)*l%i;return{pow_p_5_8:so(g,Ige,i)*n%i,b2:a}}function Iht(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function _ht(n,e){const t=EJ,r=bi(e*e*e,t),s=bi(r*r*e,t),i=wht(n*s).pow_p_5_8;let o=bi(n*r*i,t);const a=bi(e*o*o,t),c=o,u=bi(o*wge,t),l=a===n,d=a===bi(-n,t),y=a===bi(-n*wge,t);return l&&(o=c),(d||y)&&(o=u),uht(o,t)&&(o=bi(-o,t)),{isValid:l||d,value:o}}const Pht=(()=>HPe(EJ,void 0,!0))(),Eht=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Pht,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Aht,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Hft,randomBytes:DPe,adjustScalarBytes:Iht,uvRatio:_ht}))(),gT=(()=>Sht(Eht))(),xht=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Zm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jm=new Uint32Array(64);class Tht extends OPe{constructor(){super(64,32,8,!1),this.A=Zm[0]|0,this.B=Zm[1]|0,this.C=Zm[2]|0,this.D=Zm[3]|0,this.E=Zm[4]|0,this.F=Zm[5]|0,this.G=Zm[6]|0,this.H=Zm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Jm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Jm[d-15],h=Jm[d-2],m=Nd(y,7)^Nd(y,18)^y>>>3,f=Nd(h,17)^Nd(h,19)^h>>>10;Jm[d]=f+Jm[d-7]+m+Jm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Nd(a,6)^Nd(a,11)^Nd(a,25),h=l+y+_ft(a,c,u)+xht[d]+Jm[d]|0,f=(Nd(r,2)^Nd(r,13)^Nd(r,22))+Pft(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Jm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const wq=AJ(()=>new Tht);class Rht extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Cht(n){return kz(n)&&typeof n[Symbol.iterator]=="function"}function kz(n){return typeof n=="object"&&n!=null}function xO(n){return kz(n)&&!Array.isArray(n)}function Id(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Mht(n){const{done:e,value:t}=n.next();return e?void 0:t}function Bht(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Id(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*_ge(n,e,t,r){Cht(n)||(n=[n]);for(const s of n){const i=Bht(s,e,t,r);i&&(yield i)}}function*xJ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=xJ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):kz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class mh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return _ge(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return _ge(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return JPe(e,this,t)}create(e,t){return bt(e,this,t)}is(e){return XPe(e,this)}mask(e,t){return zht(e,this,t)}validate(e,t={}){return vz(e,this,t)}}function JPe(n,e,t){const r=vz(n,e,{message:t});if(r[0])throw r[0]}function bt(n,e,t){const r=vz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function zht(n,e,t){const r=vz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function XPe(n,e){return!vz(n,e)[0]}function vz(n,e,t={}){const r=xJ(n,e,t),s=Mht(r);if(s[0])return[new Rht(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function gk(n,e){return new mh({type:n,schema:null,validator:e})}function $ht(){return gk("any",()=>!0)}function Pt(n){return new mh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Id(e)}`}})}function nh(){return gk("boolean",n=>typeof n=="boolean")}function TJ(n){return gk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Id(e)}`)}function Ri(n){const e=Id(n),t=typeof n;return new mh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Id(r)}`}})}function Dht(){return gk("never",()=>!1)}function zt(n){return new mh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function be(){return gk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Id(n)}`)}function mr(n){return new mh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function QPe(n,e){return new mh({type:"record",schema:null,*entries(t){if(kz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return xO(t)||`Expected an object, but received: ${Id(t)}`},coercer(t){return xO(t)?{...t}:t}})}function Je(){return gk("string",n=>typeof n=="string"||`Expected a string, but received: ${Id(n)}`)}function RJ(n){const e=Dht();return new mh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Id(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function ze(n){const e=Object.keys(n);return new mh({type:"type",schema:n,*entries(t){if(kz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return xO(t)||`Expected an object, but received: ${Id(t)}`},coercer(t){return xO(t)?{...t}:t}})}function $c(n){const e=n.map(t=>t.type).join(" | ");return new mh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=xJ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Id(t)}`,...s]}})}function mT(){return gk("unknown",()=>!0)}function Az(n,e,t){return new mh({...n,coercer:(r,s)=>XPe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const eEe=[],tEe=[],rEe=[],Oht=BigInt(0),TR=BigInt(1),Kht=BigInt(2),Lht=BigInt(7),Wht=BigInt(256),Nht=BigInt(113);for(let n=0,e=TR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],eEe.push(2*(5*r+t)),tEe.push((n+1)*(n+2)/2%64);let s=Oht;for(let i=0;i<7;i++)e=(e<<TR^(e>>Lht)*Nht)%Wht,e&Kht&&(s^=TR<<(TR<<BigInt(i))-TR);rEe.push(s)}const[Fht,Uht]=LPe(rEe,!0),Pge=(n,e,t)=>t>32?FPe(n,e,t):WPe(n,e,t),Ege=(n,e,t)=>t>32?UPe(n,e,t):NPe(n,e,t);function Vht(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Pge(u,l,1)^t[a],y=Ege(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=tEe[o],c=Pge(s,i,a),u=Ege(s,i,a),l=eEe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Fht[r],n[1]^=Uht[r]}t.fill(0)}class CJ extends vJ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,EO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=kft(this.state)}keccak(){yge||pge(this.state32),Vht(this.state32,this.rounds),yge||pge(this.state32),this.posOut=0,this.pos=0}update(e){tw(this);const{blockLen:t,state:r}=this;e=t6(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){tw(this,!1),bz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return EO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if($Pe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new CJ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const qht=(n,e,t)=>AJ(()=>new CJ(e,n,t)),xge=qht(1,136,256/8);class nEe extends vJ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Sft(e);const r=t6(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return tw(this),this.iHash.update(e),this}digestInto(e){tw(this),bz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const sEe=(n,e,t)=>new nEe(n,e).update(t).digest();sEe.create=(n,e)=>new nEe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Tge(n){n.lowS!==void 0&&Hg("lowS",n.lowS),n.prehash!==void 0&&Hg("prehash",n.prehash)}function jht(n){const e=PJ(n);hT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Hht,hexToBytes:Ght}=sht,C1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=C1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Hht(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=C1,t=typeof n=="string"?Ght(n):n;Sz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=C1._parseInt(t.subarray(2)),{d:o,l:a}=C1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ty=BigInt(0),ma=BigInt(1);BigInt(2);const Rge=BigInt(3);BigInt(4);function Yht(n){const e=jht(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return CS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return n6(m,ma,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(TS(m)&&(m=RS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:U1(sa("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=bi(p,S)),Al("private key",p,ma,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=eB((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),A=t.mul(b,f),w=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),l=eB(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(sa("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f,w=t.eql(t.mul(g,A),t.mul(p,S)),_=t.eql(t.mul(b,A),t.mul(I,S));return w&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Rge),{px:S,py:p,pz:I}=this;let A=t.ZERO,w=t.ZERO,_=t.ZERO,P=t.mul(S,S),M=t.mul(p,p),E=t.mul(I,I),T=t.mul(S,p);return T=t.add(T,T),_=t.mul(S,I),_=t.add(_,_),A=t.mul(f,_),w=t.mul(b,E),w=t.add(A,w),A=t.sub(M,w),w=t.add(M,w),w=t.mul(A,w),A=t.mul(T,A),_=t.mul(b,_),E=t.mul(f,E),T=t.sub(P,E),T=t.mul(f,T),T=t.add(T,_),_=t.add(P,P),P=t.add(_,P),P=t.add(P,E),P=t.mul(P,T),w=t.add(w,P),E=t.mul(p,I),E=t.add(E,E),P=t.mul(E,T),A=t.sub(A,P),_=t.mul(E,M),_=t.add(_,_),_=t.add(_,_),new d(A,w,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f;let w=t.ZERO,_=t.ZERO,P=t.ZERO;const M=e.a,E=t.mul(e.b,Rge);let T=t.mul(g,p),z=t.mul(b,I),O=t.mul(S,A),R=t.add(g,b),v=t.add(p,I);R=t.mul(R,v),v=t.add(T,z),R=t.sub(R,v),v=t.add(g,S);let k=t.add(p,A);return v=t.mul(v,k),k=t.add(T,O),v=t.sub(v,k),k=t.add(b,S),w=t.add(I,A),k=t.mul(k,w),w=t.add(z,O),k=t.sub(k,w),P=t.mul(M,v),w=t.mul(E,O),P=t.add(w,P),w=t.sub(z,P),P=t.add(z,P),_=t.mul(w,P),z=t.add(T,T),z=t.add(z,T),O=t.mul(M,O),v=t.mul(E,v),z=t.add(z,O),O=t.sub(T,O),O=t.mul(M,O),v=t.add(v,O),T=t.mul(z,v),_=t.add(_,T),T=t.mul(k,v),w=t.mul(R,w),w=t.sub(w,T),T=t.mul(R,z),P=t.mul(k,P),P=t.add(P,T),new d(w,_,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){Al("scalar",f,Ty,e.n);const g=d.ZERO;if(f===Ty)return g;if(f===ma)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:A}=b.splitScalar(f),w=g,_=g,P=this;for(;p>Ty||A>Ty;)p&ma&&(w=w.add(P)),A&ma&&(_=_.add(P)),P=P.double(),p>>=ma,A>>=ma;return S&&(w=w.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),w.add(_)}multiply(f){const{endo:g,n:b}=e;Al("scalar",f,ma,b);let S,p;if(g){const{k1neg:I,k1:A,k2neg:w,k2:_}=g.splitScalar(f);let{p:P,f:M}=this.wNAF(A),{p:E,f:T}=this.wNAF(_);P=h.constTimeNegate(I,P),E=h.constTimeNegate(w,E),E=new d(t.mul(E.px,g.beta),E.py,E.pz),S=P.add(E),p=M.add(T)}else{const{p:I,f:A}=this.wNAF(f);S=I,p=A}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(A,w)=>w===Ty||w===ma||!A.equals(S)?A.multiplyUnsafe(w):A.multiply(w),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ma)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ma?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Hg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Hg("isCompressed",f),RS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=ZPe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Zht(n){const e=PJ(n);return hT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Jht(n){const e=Zht(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(R){return bi(R,r)}function a(R){return Aq(R,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Yht({...e,toBytes(R,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=CS;return Hg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(R){const v=R.length,k=R[0],x=R.subarray(1);if(v===s&&(k===2||k===3)){const C=U1(x);if(!n6(C,ma,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let D;try{D=t.sqrt(B)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const $=(D&ma)===ma;return(k&1)===1!==$&&(D=t.neg(D)),{x:C,y:D}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=R=>RS(nw(R,e.nByteLength));function h(R){const v=r>>ma;return R>v}function m(R){return h(R)?o(-R):R}const f=(R,v,k)=>U1(R.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=sa("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=C1.toSig(sa("DER",v));return new g(k,x)}assertValidity(){Al("r",this.r,ma,r),Al("s",this.s,ma,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=w(sa("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const D=C===2||C===3?k+e.n:k;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(C&1)===0?"02":"03",W=c.fromHex($+y(D)),L=a(D),U=o(-B*L),G=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,U,G);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return rw(this.toDERHex())}toDERHex(){return C1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rw(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=YPe(e.n);return ght(e.randomBytes(R),e.n)},precompute(R=8,v=c.BASE){return v._setWindowSize(R),v.multiply(BigInt(3)),v}};function S(R,v=!0){return c.fromPrivateKey(R).toRawBytes(v)}function p(R){const v=TS(R),k=typeof R=="string",x=(v||k)&&R.length;return v?x===s||x===i:k?x===2*s||x===2*i:R instanceof c}function I(R,v,k=!0){if(p(R))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(R)).toRawBytes(k)}const A=e.bits2int||function(R){const v=U1(R),k=R.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},w=e.bits2int_modN||function(R){return o(A(R))},_=_J(e.nBitLength);function P(R){return Al(`num < 2^${e.nBitLength}`,R,Ty,_),nw(R,e.nByteLength)}function M(R,v,k=E){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:D,extraEntropy:$}=k;B==null&&(B=!0),R=sa("msgHash",R),Tge(k),D&&(R=sa("prehashed msgHash",x(R)));const W=w(R),L=u(v),U=[P(L),P(W)];if($!=null&&$!==!1){const Y=$===!0?C(t.BYTES):$;U.push(sa("extraEntropy",Y))}const G=CS(...U),J=W;function Q(Y){const X=A(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ty)return;const ne=o(re*o(J+ee*L));if(ne===Ty)return;let ve=(se.x===ee?0:2)|Number(se.y&ma),_e=ne;return B&&h(ne)&&(_e=m(ne),ve^=1),new g(ee,_e,ve)}return{seed:G,k2sig:Q}}const E={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function z(R,v,k=E){const{seed:x,k2sig:C}=M(R,v,k),B=e;return qPe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function O(R,v,k,x=T){var se;const C=R;if(v=sa("msgHash",v),k=sa("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Tge(x);const{lowS:B,prehash:D}=x;let $,W;try{if(typeof C=="string"||TS(C))try{$=g.fromDER(C)}catch(ee){if(!(ee instanceof C1.Err))throw ee;$=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;$=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&$.hasHighS())return!1;D&&(v=e.hash(v));const{r:L,s:U}=$,G=w(v),J=a(U),Q=o(G*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:z,verify:O,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Xht(n){return{hash:n,hmac:(e,...t)=>sEe(n,e,wft(...t)),randomBytes:DPe}}function Qht(n,e){const t=r=>Jht({...n,...Xht(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iEe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Cge=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),egt=BigInt(1),Iq=BigInt(2),Mge=(n,e)=>(n+e/Iq)/e;function tgt(n){const e=iEe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=so(l,t,e)*l%e,y=so(d,t,e)*l%e,h=so(y,Iq,e)*u%e,m=so(h,s,e)*h%e,f=so(m,i,e)*m%e,g=so(f,a,e)*f%e,b=so(g,c,e)*g%e,S=so(b,a,e)*f%e,p=so(S,t,e)*l%e,I=so(p,o,e)*m%e,A=so(I,r,e)*u%e,w=so(A,Iq,e);if(!_q.eql(_q.sqr(w),n))throw new Error("Cannot find square root");return w}const _q=HPe(iEe,void 0,void 0,{sqrt:tgt}),s6=Qht({a:BigInt(0),b:BigInt(7),Fp:_q,n:Cge,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Cge,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-egt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Mge(i*n,e),c=Mge(-r*n,e);let u=bi(n-a*t-c*s,e),l=bi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},wq);BigInt(0);s6.ProjectivePoint;const rgt=gT.utils.randomPrivateKey,Bge=()=>{const n=gT.utils.randomPrivateKey(),e=TO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},TO=gT.getPublicKey;function zge(n){try{return gT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const MJ=(n,e)=>gT.sign(n,e.slice(0,32)),ngt=gT.verify,nn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class BJ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(rm(L2,this))}static decode(e){return nm(L2,this,e)}static decodeUnchecked(e){return sm(L2,this,e)}}class sgt extends BJ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const L2=new Map;var oEe;const aEe=32,jf=32;function igt(n){return n._bn!==void 0}let $ge=1;class at extends BJ{constructor(e){if(super({}),this._bn=void 0,igt(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=jf)throw new Error("Invalid public key input");this._bn=new ki(t)}else this._bn=new ki(e);if(this._bn.byteLength()>jf)throw new Error("Invalid public key input")}}static unique(){const e=new at($ge);return $ge+=1,new at(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===jf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=wq(s);return new at(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>aEe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,nn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=wq(r);if(zge(s))throw new Error("Invalid seeds, address must fall off the curve");return new at(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new at(e);return zge(t.toBytes())}}oEe=at;at.default=new oEe("11111111111111111111111111111111");L2.set(at,{kind:"struct",fields:[["_bn","u256"]]});class ogt{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=nn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=nn(rgt()),this._publicKey=nn(TO(this._secretKey))}get publicKey(){return new at(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const agt=new at("BPFLoader1111111111111111111111111111111111"),Hy=1280-40-8,i6=127,tB=64;class zJ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(zJ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class $J extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty($J.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Tv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Tv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class rB{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const An=(n="publicKey")=>ie(32,n),cgt=(n="signature")=>ie(64,n),M1=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Vt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},ugt=(n="authorized")=>N([An("staker"),An("withdrawer")],n),lgt=(n="lockup")=>N([Pe("unixTimestamp"),Pe("epoch"),An("custodian")],n),dgt=(n="voteInit")=>N([An("nodePubkey"),An("authorizedVoter"),An("authorizedWithdrawer"),te("commission")],n),fgt=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),An("currentAuthorityDerivedKeyOwnerPubkey"),M1("currentAuthorityDerivedKeySeed"),An("newAuthorized")],n);function cEe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return cEe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function fu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Fu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Vn(n,e){if(!n)throw new Error(e||"Assertion failed")}class o6{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new o6(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Vn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Vn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Vn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new at(c)),...r.map(([c])=>new at(c)),...s.map(([c])=>new at(c)),...i.map(([c])=>new at(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new at(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Vn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const uEe="Reached end of buffer unexpectedly";function xf(n){if(n.length===0)throw new Error(uEe);return n.shift()}function hu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(uEe);return n.splice(...e)}class _d{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new at(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new rB(this.staticAccountKeys)}static compile(e){const t=o6.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new rB(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new _d({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Fu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Fu(f,y.length);let g=[];return Fu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Fu(s,r.length);let i=V.Buffer.alloc(Hy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(An("key"),e,"keys"),An("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>nn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=xf(t);if(r!==(r&i6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=xf(t),i=xf(t),o=fu(t);let a=[];for(let y=0;y<o;y++){const h=hu(t,0,jf);a.push(new at(V.Buffer.from(h)))}const c=hu(t,0,jf),u=fu(t);let l=[];for(let y=0;y<u;y++){const h=xf(t),m=fu(t),f=hu(t,0,m),g=fu(t),b=hu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new _d(d)}}class MS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new rB(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=o6.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new rB(a,s).compileInstructions(e.instructions);return new MS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Fu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Fu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Fu(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(An(),this.staticAccountKeys.length,"staticAccountKeys"),An("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Hy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Hy);for(const r of this.compiledInstructions){const s=Array();Fu(s,r.accountKeyIndexes.length);const i=Array();Fu(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Hy);for(const r of this.addressTableLookups){const s=Array();Fu(s,r.writableIndexes.length);const i=Array();Fu(i,r.readonlyIndexes.length),e+=N([An("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=xf(t),s=r&i6;Vn(r!==s,"Expected versioned message but received legacy message");const i=s;Vn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:xf(t),numReadonlySignedAccounts:xf(t),numReadonlyUnsignedAccounts:xf(t)},a=[],c=fu(t);for(let m=0;m<c;m++)a.push(new at(hu(t,0,jf)));const u=Ie.encode(hu(t,0,jf)),l=fu(t),d=[];for(let m=0;m<l;m++){const f=xf(t),g=fu(t),b=hu(t,0,g),S=fu(t),p=new Uint8Array(hu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=fu(t),h=[];for(let m=0;m<y;m++){const f=new at(hu(t,0,jf)),g=fu(t),b=hu(t,0,g),S=fu(t),p=hu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new MS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const DJ={deserializeMessageVersion(n){const e=n[0],t=e&i6;return t===e?"legacy":t},deserialize:n=>{const e=DJ.deserializeMessageVersion(n);if(e==="legacy")return _d.from(n);if(e===0)return MS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let kg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const hgt=V.Buffer.alloc(tB).fill(0);class ws{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Jn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ws(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new at(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Vn(f.programIdIndex>=0),f.accounts.forEach(g=>Vn(g>=0))}),new _d({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=MJ(r,s.secretKey);this._addSignature(s.publicKey,nn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Vn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):ngt(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Fu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Vn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Vn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Vn(i.length<=Hy,`Transaction too large: ${i.length} > ${Hy}`),i}get keys(){return Vn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Vn(this.instructions.length===1),this.instructions[0].programId}get data(){return Vn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=fu(t);let s=[];for(let i=0;i<r;i++){const o=hu(t,0,tB);s.push(Ie.encode(V.Buffer.from(o)))}return Jn.populate(_d.from(t),s)}static populate(e,t=[]){const r=new Jn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(hgt)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ws({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class OJ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Vn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Vn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new ws({programId:g,data:nn(m.data),keys:f}))}return new OJ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return _d.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class KJ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Vn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(tB));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Fu(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(cgt(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=fu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(hu(t,0,tB)));const i=DJ.deserialize(new Uint8Array(t));return new KJ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Vn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=MJ(t,s.secretKey)}}addSignature(e,t){Vn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Vn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const ggt=160,mgt=64,ygt=ggt/mgt,lEe=1e3/ygt,of=new at("SysvarC1ock11111111111111111111111111111111"),pgt=new at("SysvarEpochSchedu1e111111111111111111111111"),bgt=new at("Sysvar1nstructions1111111111111111111111111"),ED=new at("SysvarRecentB1ockHashes11111111111111111111"),sw=new at("SysvarRent111111111111111111111111111111111"),Sgt=new at("SysvarRewards111111111111111111111111111111"),kgt=new at("SysvarS1otHashes111111111111111111111111111"),vgt=new at("SysvarS1otHistory11111111111111111111111111"),xD=new at("SysvarStakeHistory1111111111111111111111111");class nB extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Agt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Qt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Pq(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new nB({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function c1(n){return new Promise(e=>setTimeout(e,n))}function Bn(n,e){const t=n.layout.span>=0?n.layout.span:cEe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function os(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const dEe=Ae("lamportsPerSignature"),fEe=N([F("version"),F("state"),An("authorizedPubkey"),An("nonce"),N([dEe],"feeCalculator")]),Eq=fEe.span;class a6{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=fEe.decode(nn(e),0);return new a6({authorizedPubkey:new at(t.authorizedPubkey),nonce:new at(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const wgt=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Igt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=wgt(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return im(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=rc(o,n);return r(u,a,c)},i},iw=Igt(8);class _gt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ws))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=os(Ws.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new at(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=os(Ws.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=os(Ws.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new at(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=os(Ws.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=os(Ws.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(t),seed:r,space:s,programId:new at(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=os(Ws.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new at(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=os(Ws.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(t),seed:r,programId:new at(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=os(Ws.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new at(t),seed:r,lamports:s,space:i,programId:new at(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=os(Ws.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new at(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),os(Ws.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=os(Ws.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=os(Ws.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new at(t)}}static checkProgramId(e){if(!e.equals(Ua.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ws=Object.freeze({Create:{index:0,layout:N([F("instruction"),Pe("lamports"),Pe("space"),An("programId")])},Assign:{index:1,layout:N([F("instruction"),An("programId")])},Transfer:{index:2,layout:N([F("instruction"),iw("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),An("base"),M1("seed"),Pe("lamports"),Pe("space"),An("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Pe("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),An("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),An("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Pe("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),An("base"),M1("seed"),Pe("space"),An("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),An("base"),M1("seed"),An("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),iw("lamports"),M1("seed"),An("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class Ua{constructor(){}static createAccount(e){const t=Ws.Create,r=Bn(t,{lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())});return new ws({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ws.TransferWithSeed;t=Bn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ws.Transfer;t=Bn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ws({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ws.AssignWithSeed;t=Bn(s,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ws.Assign;t=Bn(s,{programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ws({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ws.CreateWithSeed,r=Bn(t,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ws({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Jn;"basePubkey"in e&&"seed"in e?t.add(Ua.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Eq,programId:this.programId})):t.add(Ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Eq,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ws.InitializeNonceAccount,r=Bn(t,{authorized:nn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ED,isSigner:!1,isWritable:!1},{pubkey:sw,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ws(s)}static nonceAdvance(e){const t=Ws.AdvanceNonceAccount,r=Bn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ED,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ws(s)}static nonceWithdraw(e){const t=Ws.WithdrawNonceAccount,r=Bn(t,{lamports:e.lamports});return new ws({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ED,isSigner:!1,isWritable:!1},{pubkey:sw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ws.AuthorizeNonceAccount,r=Bn(t,{authorized:nn(e.newAuthorizedPubkey.toBuffer())});return new ws({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ws.AllocateWithSeed;t=Bn(s,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ws.Allocate;t=Bn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ws({keys:r,programId:this.programId,data:t})}}Ua.programId=new at("11111111111111111111111111111111");const Pgt=Hy-300;class BS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/BS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Jn,h.add(Ua.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Jn,h.add(Ua.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Jn,h.add(Ua.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Jn().add(Ua.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await Pq(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Vt(F(),-8),"bytes")]),a=BS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(Pq(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await c1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:sw,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(lEe/2)))}}return!0}}BS.chunkSize=Pgt;const Egt=new at("BPFLoader2111111111111111111111111111111111");class xgt{static getMinNumSignatures(e){return BS.getMinNumSignatures(e)}static load(e,t,r,s,i){return BS.load(e,t,r,i,s)}}function Tgt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var IN,Dge;function Rgt(){if(Dge)return IN;Dge=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return IN=function(r){var s=t(r,!1);if(s!==void 0)return""+s},IN}var Cgt=Rgt(),Oge=Tgt(Cgt);const RR=32;function _N(n){let e=0;for(;n>1;)n/=2,e++;return e}function Mgt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class hEe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=_N(Mgt(e+RR+1))-_N(RR)-1,r=this.getSlotsInEpoch(t),s=e-(r-RR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*RR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+_N(RR)):this.slotsPerEpoch}}var Bgt=globalThis.fetch;class zgt extends Tb{constructor(e,t,r){const s=i=>{const o=Cb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function $gt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Kge=56;class xq{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=$gt(Dgt,e),r=e.length-Kge;Vn(r>=0,"lookup table is invalid"),Vn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(An(),s,"addresses")]).decode(e.slice(Kge));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new at(t.authority[0]):void 0,addresses:i.map(o=>new at(o))}}}const Dgt={index:1,layout:N([F("typeIndex"),iw("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(An(),Vt(te(),-1),"authority")])},Ogt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Kgt(n){const e=n.match(Ogt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Hi=Az(TJ(at),Je(),n=>new at(n)),gEe=RJ([Je(),Ri("base64")]),LJ=Az(TJ(V.Buffer),gEe,n=>V.Buffer.from(n[0],"base64")),mEe=30*1e3;function Lgt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Cs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Lge(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function yEe(n){return $c([ze({jsonrpc:Ri("2.0"),id:Je(),result:n}),ze({jsonrpc:Ri("2.0"),id:Je(),error:ze({code:mT(),message:Je(),data:mr($ht())})})])}const Wgt=yEe(mT());function Gr(n){return Az(yEe(n),Wgt,e=>"error"in e?e:{...e,result:bt(e.result,n)})}function yo(n){return Gr(ze({context:ze({slot:be()}),value:n}))}function c6(n){return ze({context:ze({slot:be()}),value:n})}function PN(n,e){return n===0?new MS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new at(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new _d(e)}const Ngt=ze({foundation:be(),foundationTerm:be(),initial:be(),taper:be(),terminal:be()}),Fgt=Gr(Pt(zt(ze({epoch:be(),effectiveSlot:be(),amount:be(),postBalance:be(),commission:mr(zt(be()))})))),Ugt=Pt(ze({slot:be(),prioritizationFee:be()})),Vgt=ze({total:be(),validator:be(),foundation:be(),epoch:be()}),qgt=ze({epoch:be(),slotIndex:be(),slotsInEpoch:be(),absoluteSlot:be(),blockHeight:mr(be()),transactionCount:mr(be())}),jgt=ze({slotsPerEpoch:be(),leaderScheduleSlotOffset:be(),warmup:nh(),firstNormalEpoch:be(),firstNormalSlot:be()}),Hgt=QPe(Je(),Pt(be())),mk=zt($c([ze({}),Je()])),Ggt=ze({err:mk}),Ygt=Ri("receivedSignature"),Zgt=ze({"solana-core":Je(),"feature-set":mr(be())}),Jgt=ze({program:Je(),programId:Hi,parsed:mT()}),Xgt=ze({programId:Hi,accounts:Pt(Hi),data:Je()}),Wge=yo(ze({err:zt($c([ze({}),Je()])),logs:zt(Pt(Je())),accounts:mr(zt(Pt(zt(ze({executable:nh(),owner:Je(),lamports:be(),data:Pt(Je()),rentEpoch:mr(be())}))))),unitsConsumed:mr(be()),returnData:mr(zt(ze({programId:Je(),data:RJ([Je(),Ri("base64")])}))),innerInstructions:mr(zt(Pt(ze({index:be(),instructions:Pt($c([Jgt,Xgt]))}))))})),Qgt=yo(ze({byIdentity:QPe(Je(),Pt(be())),range:ze({firstSlot:be(),lastSlot:be()})}));function emt(n,e,t,r,s,i){const o=t||Bgt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Rb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},tyt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await c1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function tmt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function rmt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const nmt=Gr(Ngt),smt=Gr(Vgt),imt=Gr(Ugt),omt=Gr(qgt),amt=Gr(jgt),cmt=Gr(Hgt),umt=Gr(be()),lmt=yo(ze({total:be(),circulating:be(),nonCirculating:be(),nonCirculatingAccounts:Pt(Hi)})),Tq=ze({amount:Je(),uiAmount:zt(be()),decimals:be(),uiAmountString:mr(Je())}),dmt=yo(Pt(ze({address:Hi,amount:Je(),uiAmount:zt(be()),decimals:be(),uiAmountString:mr(Je())}))),fmt=yo(Pt(ze({pubkey:Hi,account:ze({executable:nh(),owner:Hi,lamports:be(),data:LJ,rentEpoch:be()})}))),Rq=ze({program:Je(),parsed:mT(),space:be()}),hmt=yo(Pt(ze({pubkey:Hi,account:ze({executable:nh(),owner:Hi,lamports:be(),data:Rq,rentEpoch:be()})}))),gmt=yo(Pt(ze({lamports:be(),address:Hi}))),sB=ze({executable:nh(),owner:Hi,lamports:be(),data:LJ,rentEpoch:be()}),mmt=ze({pubkey:Hi,account:sB}),ymt=Az($c([TJ(V.Buffer),Rq]),$c([gEe,Rq]),n=>Array.isArray(n)?bt(n,LJ):n),Cq=ze({executable:nh(),owner:Hi,lamports:be(),data:ymt,rentEpoch:be()}),pmt=ze({pubkey:Hi,account:Cq}),bmt=ze({state:$c([Ri("active"),Ri("inactive"),Ri("activating"),Ri("deactivating")]),active:be(),inactive:be()}),Smt=Gr(Pt(ze({signature:Je(),slot:be(),err:mk,memo:zt(Je()),blockTime:mr(zt(be()))}))),kmt=Gr(Pt(ze({signature:Je(),slot:be(),err:mk,memo:zt(Je()),blockTime:mr(zt(be()))}))),vmt=ze({subscription:be(),result:c6(sB)}),Amt=ze({pubkey:Hi,account:sB}),wmt=ze({subscription:be(),result:c6(Amt)}),Imt=ze({parent:be(),slot:be(),root:be()}),_mt=ze({subscription:be(),result:Imt}),Pmt=$c([ze({type:$c([Ri("firstShredReceived"),Ri("completed"),Ri("optimisticConfirmation"),Ri("root")]),slot:be(),timestamp:be()}),ze({type:Ri("createdBank"),parent:be(),slot:be(),timestamp:be()}),ze({type:Ri("frozen"),slot:be(),timestamp:be(),stats:ze({numTransactionEntries:be(),numSuccessfulTransactions:be(),numFailedTransactions:be(),maxTransactionsPerEntry:be()})}),ze({type:Ri("dead"),slot:be(),timestamp:be(),err:Je()})]),Emt=ze({subscription:be(),result:Pmt}),xmt=ze({subscription:be(),result:c6($c([Ggt,Ygt]))}),Tmt=ze({subscription:be(),result:be()}),Rmt=ze({pubkey:Je(),gossip:zt(Je()),tpu:zt(Je()),rpc:zt(Je()),version:zt(Je())}),Nge=ze({votePubkey:Je(),nodePubkey:Je(),activatedStake:be(),epochVoteAccount:nh(),epochCredits:Pt(RJ([be(),be(),be()])),commission:be(),lastVote:be(),rootSlot:zt(be())}),Cmt=Gr(ze({current:Pt(Nge),delinquent:Pt(Nge)})),Mmt=$c([Ri("processed"),Ri("confirmed"),Ri("finalized")]),Bmt=ze({slot:be(),confirmations:zt(be()),err:mk,confirmationStatus:mr(Mmt)}),zmt=yo(Pt(zt(Bmt))),$mt=Gr(be()),pEe=ze({accountKey:Hi,writableIndexes:Pt(be()),readonlyIndexes:Pt(be())}),WJ=ze({signatures:Pt(Je()),message:ze({accountKeys:Pt(Je()),header:ze({numRequiredSignatures:be(),numReadonlySignedAccounts:be(),numReadonlyUnsignedAccounts:be()}),instructions:Pt(ze({accounts:Pt(be()),data:Je(),programIdIndex:be()})),recentBlockhash:Je(),addressTableLookups:mr(Pt(pEe))})}),bEe=ze({pubkey:Hi,signer:nh(),writable:nh(),source:mr($c([Ri("transaction"),Ri("lookupTable")]))}),SEe=ze({accountKeys:Pt(bEe),signatures:Pt(Je())}),kEe=ze({parsed:mT(),program:Je(),programId:Hi}),vEe=ze({accounts:Pt(Hi),data:Je(),programId:Hi}),Dmt=$c([vEe,kEe]),Omt=$c([ze({parsed:mT(),program:Je(),programId:Je()}),ze({accounts:Pt(Je()),data:Je(),programId:Je()})]),AEe=Az(Dmt,Omt,n=>"accounts"in n?bt(n,vEe):bt(n,kEe)),wEe=ze({signatures:Pt(Je()),message:ze({accountKeys:Pt(bEe),instructions:Pt(AEe),recentBlockhash:Je(),addressTableLookups:mr(zt(Pt(pEe)))})}),RO=ze({accountIndex:be(),mint:Je(),owner:mr(Je()),programId:mr(Je()),uiTokenAmount:Tq}),IEe=ze({writable:Pt(Hi),readonly:Pt(Hi)}),u6=ze({err:mk,fee:be(),innerInstructions:mr(zt(Pt(ze({index:be(),instructions:Pt(ze({accounts:Pt(be()),data:Je(),programIdIndex:be()}))})))),preBalances:Pt(be()),postBalances:Pt(be()),logMessages:mr(zt(Pt(Je()))),preTokenBalances:mr(zt(Pt(RO))),postTokenBalances:mr(zt(Pt(RO))),loadedAddresses:mr(IEe),computeUnitsConsumed:mr(be())}),NJ=ze({err:mk,fee:be(),innerInstructions:mr(zt(Pt(ze({index:be(),instructions:Pt(AEe)})))),preBalances:Pt(be()),postBalances:Pt(be()),logMessages:mr(zt(Pt(Je()))),preTokenBalances:mr(zt(Pt(RO))),postTokenBalances:mr(zt(Pt(RO))),loadedAddresses:mr(IEe),computeUnitsConsumed:mr(be())}),yT=$c([Ri(0),Ri("legacy")]),yk=ze({pubkey:Je(),lamports:be(),postBalance:zt(be()),rewardType:zt(Je()),commission:mr(zt(be()))}),Kmt=Gr(zt(ze({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Pt(ze({transaction:WJ,meta:zt(u6),version:mr(yT)})),rewards:mr(Pt(yk)),blockTime:zt(be()),blockHeight:zt(be())}))),Lmt=Gr(zt(ze({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),rewards:mr(Pt(yk)),blockTime:zt(be()),blockHeight:zt(be())}))),Wmt=Gr(zt(ze({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Pt(ze({transaction:SEe,meta:zt(u6),version:mr(yT)})),rewards:mr(Pt(yk)),blockTime:zt(be()),blockHeight:zt(be())}))),Nmt=Gr(zt(ze({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Pt(ze({transaction:wEe,meta:zt(NJ),version:mr(yT)})),rewards:mr(Pt(yk)),blockTime:zt(be()),blockHeight:zt(be())}))),Fmt=Gr(zt(ze({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Pt(ze({transaction:SEe,meta:zt(NJ),version:mr(yT)})),rewards:mr(Pt(yk)),blockTime:zt(be()),blockHeight:zt(be())}))),Umt=Gr(zt(ze({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),rewards:mr(Pt(yk)),blockTime:zt(be()),blockHeight:zt(be())}))),Vmt=Gr(zt(ze({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),transactions:Pt(ze({transaction:WJ,meta:zt(u6)})),rewards:mr(Pt(yk)),blockTime:zt(be())}))),Fge=Gr(zt(ze({blockhash:Je(),previousBlockhash:Je(),parentSlot:be(),signatures:Pt(Je()),blockTime:zt(be())}))),EN=Gr(zt(ze({slot:be(),meta:zt(u6),blockTime:mr(zt(be())),transaction:WJ,version:mr(yT)}))),_$=Gr(zt(ze({slot:be(),transaction:wEe,meta:zt(NJ),blockTime:mr(zt(be())),version:mr(yT)}))),qmt=yo(ze({blockhash:Je(),feeCalculator:ze({lamportsPerSignature:be()})})),jmt=yo(ze({blockhash:Je(),lastValidBlockHeight:be()})),Hmt=yo(nh()),Gmt=ze({slot:be(),numTransactions:be(),numSlots:be(),samplePeriodSecs:be()}),Ymt=Gr(Pt(Gmt)),Zmt=yo(zt(ze({feeCalculator:ze({lamportsPerSignature:be()})}))),Jmt=Gr(Je()),Xmt=Gr(Je()),Qmt=ze({err:mk,logs:Pt(Je()),signature:Je()}),eyt=ze({result:c6(Qmt),subscription:be()}),tyt={"solana-client":"js/1.0.0-maintenance"};class ryt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Cs(l),h=this._buildArgs([],d,void 0,y),m=Oge(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=bt(f,Gr(be()));if("error"in g)throw new Qt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Lgt(e),this._rpcWsEndpoint=r||Kgt(e),this._rpcClient=emt(e,s,i,o,a,c),this._rpcRequest=tmt(this._rpcClient),this._rpcBatchRequest=rmt(this._rpcClient),this._rpcWebSocket=new zgt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=bt(o,yo(be()));if("error"in a)throw new Qt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=bt(t,Gr(zt(be())));if("error"in r)throw new Qt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=bt(e,Gr(be()));if("error"in t)throw new Qt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=bt(e,umt);if("error"in t)throw new Qt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=bt(r,lmt);if("error"in s)throw new Qt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=bt(s,yo(Tq));if("error"in i)throw new Qt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=bt(s,yo(Tq));if("error"in i)throw new Qt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Cs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=bt(c,fmt);if("error"in u)throw new Qt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=bt(o,hmt);if("error"in a)throw new Qt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=bt(s,gmt);if("error"in i)throw new Qt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=bt(s,dmt);if("error"in i)throw new Qt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=bt(o,yo(zt(sB)));if("error"in a)throw new Qt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=bt(o,yo(zt(Cq)));if("error"in a)throw new Qt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=bt(a,yo(Pt(zt(Cq))));if("error"in c)throw new Qt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=bt(a,yo(Pt(zt(sB))));if("error"in c)throw new Qt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Cs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=bt(a,Gr(bmt));if("error"in c)throw new Qt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Cs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Lge(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Pt(mmt),l=o.withContext===!0?bt(c,yo(u)):bt(c,Gr(u));if("error"in l)throw new Qt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=bt(o,Gr(Pt(pmt)));if("error"in a)throw new Qt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Vn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:kg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:kg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await c1(1e3),i||(h=await y(),i))return;d({__type:kg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===kg.PROCESSED)l=d.response;else throw new zJ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:kg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await c1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===kg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await c1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Tv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Tv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Tv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Tv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:kg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===kg.PROCESSED)a=c.response;else throw new $J(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=bt(e,Gr(Pt(Rmt)));if("error"in t)throw new Qt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=bt(r,Cmt);if("error"in s)throw new Qt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=bt(i,Gr(be()));if("error"in o)throw new Qt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=bt(i,Gr(Je()));if("error"in o)throw new Qt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=bt(s,Gr(Pt(Hi)));if("error"in i)throw new Qt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Vn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=bt(s,zmt);if("error"in i)throw new Qt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=bt(i,Gr(be()));if("error"in o)throw new Qt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=bt(r,nmt);if("error"in s)throw new Qt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Cs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=bt(a,Fgt);if("error"in c)throw new Qt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=bt(e,smt);if("error"in t)throw new Qt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=bt(i,omt);if("error"in o)throw new Qt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=bt(e,amt);if("error"in t)throw new Qt(t.error,"failed to get epoch schedule");const r=t.result;return new hEe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=bt(e,cmt);if("error"in t)throw new Qt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=bt(s,$mt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=bt(r,qmt);if("error"in s)throw new Qt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=bt(t,Ymt);if("error"in r)throw new Qt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=bt(s,Zmt);if("error"in i)throw new Qt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=nn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=bt(i,yo(zt(be())));if("error"in o)throw new Qt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=bt(s,imt);if("error"in i)throw new Qt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=bt(i,jmt);if("error"in o)throw new Qt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=bt(o,Hmt);if("error"in a)throw new Qt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=bt(e,Gr(Zgt));if("error"in t)throw new Qt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=bt(e,Gr(Je()));if("error"in t)throw new Qt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=bt(o,Wmt);if("error"in a)throw a.error;return a.result}case"none":{const a=bt(o,Lmt);if("error"in a)throw a.error;return a.result}default:{const a=bt(o,Kmt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:PN(d,u.message)},version:d}))}:null}}}catch(a){throw new Qt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=bt(o,Fmt);if("error"in a)throw a.error;return a.result}case"none":{const a=bt(o,Umt);if("error"in a)throw a.error;return a.result}default:{const a=bt(o,Nmt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Qt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=bt(i,Qgt);if("error"in o)throw new Qt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=bt(o,EN);if("error"in a)throw new Qt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:PN(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=bt(o,_$);if("error"in a)throw new Qt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=bt(c,_$);if("error"in u)throw new Qt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=bt(c,EN);if("error"in u)throw new Qt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:PN(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=bt(s,Vmt);if("error"in i)throw new Qt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new _d(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Jn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=bt(i,Gr(Pt(be())));if("error"in o)throw new Qt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=bt(s,Fge);if("error"in i)throw new Qt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=bt(s,Fge);if("error"in i)throw new Qt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=bt(s,EN);if("error"in i)throw new Qt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new _d(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Jn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=bt(s,_$);if("error"in i)throw new Qt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=bt(o,_$);if("error"in a)throw new Qt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=bt(i,Smt);if("error"in o)throw new Qt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=bt(i,kmt);if("error"in o)throw new Qt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new xq({key:e,state:xq.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=a6.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=bt(r,Jmt);if("error"in s)throw new Qt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await c1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=mEe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await c1(lEe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=bt(i,yo(be()));if("error"in o)throw new Qt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=bt(p,Wge);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Jn){let m=e;s=new Jn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Jn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=bt(y,Wge);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new nB({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=nn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=bt(a,Xmt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new nB({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=bt(e,vmt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Oge([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Vn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Cs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=bt(e,wmt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Cs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Lge(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=bt(e,eyt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=bt(e,_mt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=bt(e,Emt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=bt(e,xmt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=bt(e,Tmt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class aA{constructor(e){this._keypair=void 0,this._keypair=e??Bge()}static generate(){return new aA(Bge())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=TO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new aA({publicKey:r,secretKey:e})}static fromSeed(e){const t=TO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new aA({publicKey:t,secretKey:r})}get publicKey(){return new at(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const $g=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),iw("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),iw(),we(An(),Vt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class nyt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries($g))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=os($g.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=os($g.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new at(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(FJ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class FJ{constructor(){}static createLookupTable(e){const[t,r]=at.findProgramAddressSync([e.authority.toBuffer(),rc(BigInt(e.recentSlot),8)],this.programId),s=$g.CreateLookupTable,i=Bn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ua.programId,isSigner:!1,isWritable:!1}];return[new ws({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=$g.FreezeLookupTable,r=Bn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ws({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=$g.ExtendLookupTable,r=Bn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ua.programId,isSigner:!1,isWritable:!1}),new ws({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=$g.DeactivateLookupTable,r=Bn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ws({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=$g.CloseLookupTable,r=Bn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ws({programId:this.programId,keys:s,data:r})}}FJ.programId=new at("AddressLookupTab1e1111111111111111111111111");class syt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Tf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=os(Tf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=os(Tf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=os(Tf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=os(Tf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(UJ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Tf=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),iw("microLamports")])}});class UJ{constructor(){}static requestUnits(e){const t=Tf.RequestUnits,r=Bn(t,e);return new ws({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Tf.RequestHeapFrame,r=Bn(t,e);return new ws({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Tf.SetComputeUnitLimit,r=Bn(t,e);return new ws({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Tf.SetComputeUnitPrice,r=Bn(t,{microLamports:BigInt(e.microLamports)});return new ws({keys:[],programId:this.programId,data:r})}}UJ.programId=new at("ComputeBudget111111111111111111111111111111");const Uge=64,Vge=32,qge=64,jge=N([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class l6{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Vn(t.length===Vge,`Public Key must be ${Vge} bytes but received ${t.length} bytes`),Vn(s.length===qge,`Signature must be ${qge} bytes but received ${s.length} bytes`);const o=jge.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return jge.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new ws({keys:[],programId:l6.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Vn(t.length===Uge,`Private key must be ${Uge} bytes but received ${t.length} bytes`);try{const i=aA.fromSecretKey(t),o=i.publicKey.toBytes(),a=MJ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}l6.programId=new at("Ed25519SigVerify111111111111111111111111111");const iyt=(n,e)=>{const t=s6.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};s6.utils.isValidPrivateKey;const oyt=s6.getPublicKey,Hge=32,xN=20,Gge=64,ayt=11,TN=N([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class cA{constructor(){}static publicKeyToEthAddress(e){Vn(e.length===Gge,`Public key must be ${Gge} bytes but received ${e.length} bytes`);try{return V.Buffer.from(xge(nn(e))).slice(-xN)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return cA.createInstructionWithEthAddress({ethAddress:cA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Vn(a.length===xN,`Address must be ${xN} bytes but received ${a.length} bytes`);const c=1+ayt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(TN.span+r.length);return TN.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:nn(s),ethAddress:nn(a),recoveryId:i},h),h.fill(nn(r),TN.span),new ws({keys:[],programId:cA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Vn(t.length===Hge,`Private key must be ${Hge} bytes but received ${t.length} bytes`);try{const i=nn(t),o=oyt(i,!1).slice(1),a=V.Buffer.from(xge(nn(r))),[c,u]=iyt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}cA.programId=new at("KeccakSecp256k11111111111111111111111111111");var _Ee;const PEe=new at("StakeConfig11111111111111111111111111111111");class EEe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class wz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_Ee=wz;wz.default=new _Ee(0,0,at.default);class cyt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ia))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=os(Ia.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new EEe(new at(t.staker),new at(t.withdrawer)),lockup:new wz(r.unixTimestamp,r.epoch,new at(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),os(Ia.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=os(Ia.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=os(Ia.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new at(i),newAuthorizedPubkey:new at(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=os(Ia.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),os(Ia.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=os(Ia.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),os(Ia.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(d6.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ia=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),ugt(),lgt()])},Authorize:{index:1,layout:N([F("instruction"),An("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Pe("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Pe("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),An("newAuthorized"),F("stakeAuthorizationType"),M1("authoritySeed"),An("authorityOwner")])}}),uyt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class d6{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||wz.default,o=Ia.Initialize,a=Bn(o,{authorized:{staker:nn(r.staker.toBuffer()),withdrawer:nn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:nn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sw,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ws(c)}static createAccountWithSeed(e){const t=new Jn;t.add(Ua.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Jn;t.add(Ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Ia.Delegate,o=Bn(i);return new Jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:xD,isSigner:!1,isWritable:!1},{pubkey:PEe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Ia.Authorize,c=Bn(a,{newAuthorized:nn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Jn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ia.AuthorizeWithSeed,l=Bn(u,{newAuthorized:nn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:nn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:of,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Jn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Ia.Split,a=Bn(o,{lamports:i});return new ws({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Jn;return r.add(Ua.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Jn;return u.add(Ua.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Ua.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Ia.Merge,o=Bn(i);return new Jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:xD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Ia.Withdraw,c=Bn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:xD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Jn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Ia.Deactivate,i=Bn(s);return new Jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}d6.programId=new at("Stake11111111111111111111111111111111111111");d6.space=200;class xEe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class lyt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Rf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=os(Rf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new xEe(new at(t.nodePubkey),new at(t.authorizedVoter),new at(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=os(Rf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=os(Rf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new at(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new at(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=os(Rf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(pT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Rf=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),dgt()])},Authorize:{index:1,layout:N([F("instruction"),An("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Pe("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),fgt()])}}),dyt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class pT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Rf.InitializeAccount,o=Bn(i,{voteInit:{nodePubkey:nn(s.nodePubkey.toBuffer()),authorizedVoter:nn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:nn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sw,isSigner:!1,isWritable:!1},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ws(a)}static createAccount(e){const t=new Jn;return t.add(Ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Rf.Authorize,a=Bn(o,{newAuthorized:nn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Rf.AuthorizeWithSeed,u=Bn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:nn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:nn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Jn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Rf.Withdraw,a=Bn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return pT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Rf.UpdateValidatorIdentity,o=Bn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:a,programId:this.programId,data:o})}}pT.programId=new at("Vote111111111111111111111111111111111111111");pT.space=3762;const TEe=new at("Va1idator1nfo111111111111111111111111111111"),fyt=ze({name:Je(),website:mr(Je()),details:mr(Je()),iconUrl:mr(Je()),keybaseUsername:mr(Je())});class VJ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(fu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new at(hu(t,0,jf)),a=xf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(TEe)&&s[1].isSigner){const i=M1().decode(V.Buffer.from(t)),o=JSON.parse(i);return JPe(o,fyt),new VJ(s[1].publicKey,o)}return null}}const hyt=new at("Vote111111111111111111111111111111111111111"),gyt=N([An("nodePubkey"),An("authorizedWithdrawer"),te("commission"),Ae(),we(N([Ae("slot"),F("confirmationCount")]),Vt(F(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(N([Ae("epoch"),An("authorizedVoter")]),Vt(F(),-8),"authorizedVoters"),N([we(N([An("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(N([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(F(),-8),"epochCredits"),N([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class qJ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=gyt.decode(nn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new qJ({nodePubkey:new at(r.nodePubkey),authorizedWithdrawer:new at(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(myt),priorVoters:yyt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function myt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new at(n)}}function Yge({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new at(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function yyt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Yge),...n.slice(0,e).map(Yge)]}const Zge={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function pyt(n,e){const t=e===!1?"http":"https";if(!n)return Zge[t].devnet;const r=Zge[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function byt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new nB({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Syt=1e9;var kyt=Object.freeze(Object.defineProperty({__proto__:null,Account:ogt,AddressLookupTableAccount:xq,AddressLookupTableInstruction:nyt,AddressLookupTableProgram:FJ,Authorized:EEe,BLOCKHASH_CACHE_TIMEOUT_MS:mEe,BPF_LOADER_DEPRECATED_PROGRAM_ID:agt,BPF_LOADER_PROGRAM_ID:Egt,BpfLoader:xgt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Tf,ComputeBudgetInstruction:syt,ComputeBudgetProgram:UJ,Connection:ryt,Ed25519Program:l6,Enum:sgt,EpochSchedule:hEe,FeeCalculatorLayout:dEe,Keypair:aA,LAMPORTS_PER_SOL:Syt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:$g,Loader:BS,Lockup:wz,MAX_SEED_LENGTH:aEe,Message:_d,MessageAccountKeys:rB,MessageV0:MS,NONCE_ACCOUNT_LENGTH:Eq,NonceAccount:a6,PACKET_DATA_SIZE:Hy,PUBLIC_KEY_LENGTH:jf,PublicKey:at,SIGNATURE_LENGTH_IN_BYTES:tB,SOLANA_SCHEMA:L2,STAKE_CONFIG_ID:PEe,STAKE_INSTRUCTION_LAYOUTS:Ia,SYSTEM_INSTRUCTION_LAYOUTS:Ws,SYSVAR_CLOCK_PUBKEY:of,SYSVAR_EPOCH_SCHEDULE_PUBKEY:pgt,SYSVAR_INSTRUCTIONS_PUBKEY:bgt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:ED,SYSVAR_RENT_PUBKEY:sw,SYSVAR_REWARDS_PUBKEY:Sgt,SYSVAR_SLOT_HASHES_PUBKEY:kgt,SYSVAR_SLOT_HISTORY_PUBKEY:vgt,SYSVAR_STAKE_HISTORY_PUBKEY:xD,Secp256k1Program:cA,SendTransactionError:nB,SolanaJSONRPCError:Qt,SolanaJSONRPCErrorCode:Agt,StakeAuthorizationLayout:uyt,StakeInstruction:cyt,StakeProgram:d6,Struct:BJ,SystemInstruction:_gt,SystemProgram:Ua,Transaction:Jn,TransactionExpiredBlockheightExceededError:zJ,TransactionExpiredNonceInvalidError:Tv,TransactionExpiredTimeoutError:$J,TransactionInstruction:ws,TransactionMessage:OJ,TransactionStatus:kg,VALIDATOR_INFO_KEY:TEe,VERSION_PREFIX_MASK:i6,VOTE_PROGRAM_ID:hyt,ValidatorInfo:VJ,VersionedMessage:DJ,VersionedTransaction:KJ,VoteAccount:qJ,VoteAuthorizationLayout:dyt,VoteInit:xEe,VoteInstruction:lyt,VoteProgram:pT,clusterApiUrl:pyt,sendAndConfirmRawTransaction:byt,sendAndConfirmTransaction:Pq},Symbol.toStringTag,{value:"Module"})),vyt=xd(kyt),bT={},Ayt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},wyt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},gy;Object.defineProperty(bT,"__esModule",{value:!0});bT.FactionPermissions=void 0;const REe=nr;let Jge=bT.FactionPermissions=gy=class{constructor(e){this.setFaction=e}getPermissions(){const e=(0,REe.fixedSizeArray)(8,0);return e[0]=this.setFaction?1<<0:0,e}static empty(){return new gy(!1)}static all(){return new gy(!0)}static setFactionPermissions(){return new gy(!0)}static fromPermissions(e){return new gy((e[0]&1<<0)!==0)}and(e){return new gy(this.setFaction&&e.setFaction)}or(e){return new gy(this.setFaction||e.setFaction)}eq(e){return this.setFaction===e.setFaction}contains(e){return this.setFaction||!e.setFaction}};bT.FactionPermissions=Jge=gy=Ayt([(0,REe.staticImplements)(),wyt("design:paramtypes",[Boolean])],Jge);var Iyt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},_yt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Pyt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},I2;Object.defineProperty(qf,"__esModule",{value:!0});qf.ProfileFactionAccount=qf.Faction=qf.profileFactionDataEquals=void 0;const Mq=vyt,Bq=nr,P$=IB,Xge=bT;function Eyt(n,e){return n.version===e.version&&n.faction===e.faction&&n.profile.equals(e.profile)}qf.profileFactionDataEquals=Eyt;var zq;(function(n){n[n.Unaligned=0]="Unaligned",n[n.MUD=1]="MUD",n[n.ONI=2]="ONI",n[n.Ustur=3]="Ustur"})(zq||(qf.Faction=zq={}));let CO=qf.ProfileFactionAccount=I2=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static chooseFactionBareBones(e,t,r,s,i,o){const a=I2.findAddress(e,r);return{instructions:c=>Pyt(this,void 0,void 0,function*(){return{instruction:yield e.methods.chooseFaction(i,(0,Bq.getAnchorEnum)(zq,s)).accountsStrict({key:t.publicKey(),funder:c.publicKey(),profile:r,faction:a[0],systemProgram:Mq.SystemProgram.programId}).remainingAccounts((0,P$.getMetaAccountsFromProfilesOrRoles)(o)).instruction().then(u=>(0,P$.addKeyIndexesToTransactionInstruction)(u,o)),signers:[t]}}),faction:a}}static chooseFaction(e,t,r,s){const i=(0,P$.findKeyInProfile)((0,P$.profileKeyInputToFindKeyInput)(t,[e.programId],Xge.FactionPermissions.setFactionPermissions()),Xge.FactionPermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return I2.chooseFactionBareBones(e,a,o,r,c,s)}static findAddress(e,t){return Mq.PublicKey.findProgramAddressSync([Ve.Buffer.from("player_faction"),t.toBuffer()],e.programId)}static decodeData(e,t){return(0,Bq.decodeAccount)(e,t,I2)}};CO.ACCOUNT_NAME="profileFactionAccount";CO.MIN_DATA_SIZE=8+1+32+1+1;qf.ProfileFactionAccount=CO=I2=Iyt([(0,Bq.staticImplements)(),_yt("design:paramtypes",[Object,Mq.PublicKey])],CO);(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.ProfileFactionProgram=n.profileFactionErrorMap=n.PROFILE_FACTION_IDL=void 0;const r=cc,s=nr,i=XM,o=qf;var a=XM;Object.defineProperty(n,"PROFILE_FACTION_IDL",{enumerable:!0,get:function(){return a.IDL}}),n.profileFactionErrorMap=(0,s.generateErrorMap)(i.IDL);let c=n.ProfileFactionProgram=class extends s.ListenProgram{constructor(l){super(l,{profileFaction:o.ProfileFactionAccount})}static buildProgram(l,d,y){return new r.Program(i.IDL,l,d,y)}};n.ProfileFactionProgram=c=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],c)})(zPe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(zPe,n),t(bT,n),t(qf,n)})(e6);var f6={};(function(n){var e=K&&K.__decorate||function(c,u,l,d){var y=arguments.length,h=y<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,l):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(c,u,l,d);else for(var f=c.length-1;f>=0;f--)(m=c[f])&&(h=(y<3?m(h):y>3?m(u,l,h):m(u,l))||h);return y>3&&h&&Object.defineProperty(u,l,h),h},t=K&&K.__metadata||function(c,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(c,u)},r;Object.defineProperty(n,"__esModule",{value:!0}),n.FleetShips=n.fleetShipsEquals=n.FLEET_SHIPS_MIN_DATA_SIZE=void 0;const s=qs,i=nr;n.FLEET_SHIPS_MIN_DATA_SIZE=8+1+1+32+4;function o(c,u){return c.version===u.version&&c.bump===u.bump&&c.fleet.equals(u.fleet)&&c.fleetShipsInfoCount==u.fleetShipsInfoCount}n.fleetShipsEquals=o;let a=r=class{constructor(u,l,d){this._data=u,this._key=l,this._fleetShips=d}get data(){return this._data}get key(){return this._key}get fleetShips(){return this._fleetShips||[]}static findAddress(u,l){return s.PublicKey.findProgramAddressSync([Ve.Buffer.from("FleetShips"),l.toBuffer()],u.programId)}static decodeData(u,l){return(0,i.decodeAccountWithRemaining)(u,l,r,(y,h)=>Array(h.fleetShipsInfoCount).fill(0).map((m,f)=>l.coder.types.decode("FleetShipsInfo",y.subarray(48*f).subarray(0,48))))}};n.FleetShips=a,a.ACCOUNT_NAME="fleetShips",a.MIN_DATA_SIZE=n.FLEET_SHIPS_MIN_DATA_SIZE,n.FleetShips=a=r=e([(0,i.staticImplements)(),t("design:paramtypes",[Object,s.PublicKey,Array])],a)})(f6);var Qg={},xyt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Tyt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},E$=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},TD;Object.defineProperty(Qg,"__esModule",{value:!0});Qg.MineItem=Qg.mineItemDataEquals=void 0;const Qge=rl,$q=qs,MO=nr;function Ryt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.mint.equals(e.mint)&&(0,MO.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&n.numResourceAccounts.eq(e.numResourceAccounts)&&n.resourceHardness===e.resourceHardness&&n.bump===e.bump}Qg.mineItemDataEquals=Ryt;let ow=TD=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return $q.PublicKey.findProgramAddressSync([Ve.Buffer.from("MineItem"),t.toBuffer(),r.toBuffer()],e.programId)}static registerMineItem(e,t,r,s,i,o){const a=TD.findAddress(e,i,s);return{mineItemKey:a,instructions:c=>E$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerMineItem(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},funder:c.publicKey(),mineItem:a[0],mint:s,systemProgram:$q.SystemProgram.programId}).instruction(),signers:[t,c]}]})}}static fundMineItemBank(e,t,r,s,i){const o=(0,Qge.getAssociatedTokenAddressSync)(t,e,!0);return(0,MO.transferToTokenAccount)(r,s,o,i)}static updateMineItem(e,t,r,s,i,o){const a=Object.assign(Object.assign({},o),{name:o.name==null?null:o.name,resourceHardness:o.resourceHardness==null?null:o.resourceHardness});return()=>E$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateMineItem(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},mineItem:s}).instruction(),signers:[t]}]})}static drainMineItemBank(e,t,r,s,i,o,a,c,u){return l=>E$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainMineItemBank(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?l.publicKey():s,mineItem:i,tokenFrom:a,tokenTo:c,tokenProgram:Qge.TOKEN_PROGRAM_ID}).instruction(),signers:[t]}]})}static deregisterMineItem(e,t,r,s,i,o,a){return c=>E$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterMineItem(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?c.publicKey():s,mineItem:i}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,MO.decodeAccount)(e,t,TD)}};Qg.MineItem=ow;ow.ACCOUNT_NAME="mineItem";ow.MIN_DATA_SIZE=8+1+32+32+64+8+2+1;ow.RESOURCE_HARDNESS_DECIMALS=100;Qg.MineItem=ow=TD=xyt([(0,MO.staticImplements)(),Tyt("design:paramtypes",[Object,$q.PublicKey])],ow);var ud={},Cyt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Myt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},RN=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},RD;Object.defineProperty(ud,"__esModule",{value:!0});ud.Resource=ud.resourceDataEquals=ud.LocationType=void 0;const Dq=qs,CEe=nr;var eme;(function(n){n[n.Planet=1]="Planet"})(eme||(ud.LocationType=eme={}));function Byt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.location.equals(e.location)&&n.mineItem.equals(e.mineItem)&&n.locationType===e.locationType&&n.numMiners.eq(e.numMiners)&&n.amountMined.eq(e.amountMined)&&n.systemRichness===e.systemRichness&&n.bump===e.bump}ud.resourceDataEquals=Byt;let aw=RD=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return Dq.PublicKey.findProgramAddressSync([Ve.Buffer.from("Resource"),t.toBuffer(),r.toBuffer()],e.programId)}static registerResource(e,t,r,s,i,o,a){const c=RD.findAddress(e,i,s);return{resourceKey:c,instructions:u=>RN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerResource(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},funder:u.publicKey(),resource:c[0],location:s,mineItem:i,systemProgram:Dq.SystemProgram.programId}).instruction(),signers:[t,u]}]})}}static updateResource(e,t,r,s,i,o,a){return()=>RN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateResource(Object.assign(Object.assign({},a),{systemRichness:a.systemRichness==null?null:a.systemRichness})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},mineItem:i,resource:s}).instruction(),signers:[t]}]})}static deregisterResource(e,t,r,s,i,o,a,c,u){return l=>RN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterResource(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:c},fundsTo:s==="funder"?l.publicKey():s,resource:i,mineItem:o,location:a}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,CEe.decodeAccount)(e,t,RD)}};ud.Resource=aw;aw.ACCOUNT_NAME="resource";aw.MIN_DATA_SIZE=8+1+32+32+32+1+8+8+2+1;aw.SYSTEM_RICHNESS_DECIMALS=100;ud.Resource=aw=RD=Cyt([(0,CEe.staticImplements)(),Myt("design:paramtypes",[Object,Dq.PublicKey])],aw);var h6={};(function(n){var e=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var A=m.length-1;A>=0;A--)(I=m[A])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},t=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)},r=K&&K.__awaiter||function(m,f,g,b){function S(p){return p instanceof g?p:new g(function(I){I(p)})}return new(g||(g=Promise))(function(p,I){function A(P){try{_(b.next(P))}catch(M){I(M)}}function w(P){try{_(b.throw(P))}catch(M){I(M)}}function _(P){P.done?p(P.value):S(P.value).then(A,w)}_((b=b.apply(m,f||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Sector=n.connectionFlagsFromByte=n.connectionFlagsToByte=n.connectionFlagsEquals=n.SECTOR_CONNECTION_MIN_DATA_SIZE=n.sectorConnectionEquals=n.sectorDataEquals=n.calculateDistance=void 0;const i=qs,o=nr,a=(m,f)=>Math.sqrt(f[0].sub(m[0]).sqr().add(f[1].sub(m[1]).sqr()).toNumber());n.calculateDistance=a;function c(m,f){return m.version===f.version&&m.gameId.equals(f.gameId)&&(0,o.arrayDeepEquals)(m.coordinates,f.coordinates,(g,b)=>g.eq(b))&&m.discoverer.equals(f.discoverer)&&(0,o.arrayDeepEquals)(m.name,f.name,(g,b)=>g===b)&&m.numStars===f.numStars&&m.numPlanets===f.numPlanets&&m.numMoons===f.numMoons&&m.numAsteroidBelts===f.numAsteroidBelts&&m.numConnections===f.numConnections&&m.lastScanTime.eq(f.lastScanTime)&&m.lastScanChance===f.lastScanChance&&m.bump===f.bump}n.sectorDataEquals=c;function u(m,f){return m.connectionSector.equals(f.connectionSector)&&m.subCoordinates[0].eq(f.subCoordinates[0])&&m.subCoordinates[1].eq(f.subCoordinates[1])&&m.flags===f.flags}n.sectorConnectionEquals=u,n.SECTOR_CONNECTION_MIN_DATA_SIZE=32+8*2+1;function l(m,f){return m.isJumpPoint===f.isJumpPoint}n.connectionFlagsEquals=l;function d(m){return m.isJumpPoint?1<<0:0}n.connectionFlagsToByte=d;function y(m){return{isJumpPoint:(m&1<<0)>0}}n.connectionFlagsFromByte=y;let h=s=class{constructor(f,g,b){this._data=f,this._key=g,this._connections=b}get data(){return this._data}get key(){return this._key}get connections(){return this._connections}static findAddress(f,g,b){return i.PublicKey.findProgramAddressSync([Ve.Buffer.from("Sector"),g.toBuffer(),b[0].toTwos(64).toArrayLike(Ve.Buffer,"le",8),b[1].toTwos(64).toArrayLike(Ve.Buffer,"le",8)],f.programId)}static decodeData(f,g){return(0,o.decodeAccountWithRemaining)(f,g,s,(b,S)=>Array(S.numConnections).fill(0).map((p,I)=>g.coder.types.decode("SectorConnection",b.subarray(n.SECTOR_CONNECTION_MIN_DATA_SIZE*I).subarray(0,n.SECTOR_CONNECTION_MIN_DATA_SIZE))))}static registerSector(f,g,b,S,p,I,A,w){const _=s.findAddress(f,p,I);return{sectorKey:_,instructions:P=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.registerSector(I,(0,o.stringToByteArray)(A,64),w).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:p},funder:P.publicKey(),discoverer:S,sector:_[0],systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,P]}]})}}static discoverSector(f,g,b,S,p,I,A,w,_){const P=s.findAddress(f,I,w);return{sectorKey:P,instructions:M=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.discoverSector({coordinates:w,keyIndex:_}).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:p,owningProfile:b,owningProfileFaction:S,key:g.publicKey()},gameId:I},gameState:A},funder:M.publicKey(),sector:P[0],systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,M]}]})}}static addConnection(f,g,b,S,p,I,A,w,_,P,M){return E=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.addConnection(A,d(w),_,d(P),M).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:I},funder:E.publicKey(),sector1:S,sector2:p,systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,E]}]})}static removeConnection(f,g,b,S,p,I,A,w){const _=p.connections.findIndex(M=>M.connectionSector.equals(I.key)),P=I.connections.findIndex(M=>M.connectionSector.equals(p.key));if(_===-1||P===-1)throw new Error("Connection not found");return M=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.removeConnection(_,P,A).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:w},fundsTo:S==="funder"?M.publicKey():S,sector1:p.key,sector2:I.key,systemProgram:i.SystemProgram.programId}).instruction(),signers:[g]}]})}};n.Sector=h,h.ACCOUNT_NAME="sector",h.MIN_DATA_SIZE=8+1+32+8*2+32+64+2+2+2+2+2+8+4+1,n.Sector=h=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],h)})(h6);var g6={};(function(n){var e=K&&K.__decorate||function(p,I,A,w){var _=arguments.length,P=_<3?I:w===null?w=Object.getOwnPropertyDescriptor(I,A):w,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(p,I,A,w);else for(var E=p.length-1;E>=0;E--)(M=p[E])&&(P=(_<3?M(P):_>3?M(I,A,P):M(I,A))||P);return _>3&&P&&Object.defineProperty(I,A,P),P},t=K&&K.__metadata||function(p,I){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,I)},r=K&&K.__awaiter||function(p,I,A,w){function _(P){return P instanceof A?P:new A(function(M){M(P)})}return new(A||(A=Promise))(function(P,M){function E(O){try{z(w.next(O))}catch(R){M(R)}}function T(O){try{z(w.throw(O))}catch(R){M(R)}}function z(O){O.done?P(O.value):_(O.value).then(E,T)}z((w=w.apply(p,I||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Ship=n.shipDataEquals=n.shipStatsEquals=n.miscStatsEquals=n.cargoStatsEquals=n.movementStatsEquals=n.SHIP_MIN_DATA_SIZE=n.shipStatsDefault=n.getSizeClassAnchorEnum=n.SHIP_STATS_MIN_DATA_SIZE=n.SHIP_SIZES=n.SizeClass=void 0;const i=qs,o=nr;var a;(function(p){p[p.XxSmall=1]="XxSmall",p[p.XSmall=2]="XSmall",p[p.Small=3]="Small",p[p.Medium=4]="Medium",p[p.Large=5]="Large",p[p.Capital=6]="Capital",p[p.Commander=7]="Commander",p[p.Titan=9]="Titan"})(a||(n.SizeClass=a={})),n.SHIP_SIZES={xxSmall:1,xSmall:4,small:9,medium:16,large:25,capital:36,commander:49,titan:81};const c=24,u=36,l=32;n.SHIP_STATS_MIN_DATA_SIZE=c+u+l;const d=p=>{const I=a[p];if(I)return{[I.toUpperCase()===I?I.toLowerCase():I.charAt(0).toLowerCase()+I.slice(1)]:{}};throw new Error(`${p} is not found in the "SizeClass" enum`)};n.getSizeClassAnchorEnum=d;function y(){return{movementStats:{warpSpeed:0,subwarpSpeed:0,maxWarpDistance:0,warpCoolDown:0,subwarpFuelConsumptionRate:0,warpFuelConsumptionRate:0,planetExitFuelAmount:0},cargoStats:{cargoCapacity:0,fuelCapacity:0,ammoCapacity:0,ammoConsumptionRate:0,foodConsumptionRate:0,miningRate:0,upgradeRate:0,cargoTransferRate:0,tractorBeamGatherRate:0},miscStats:{requiredCrew:0,passengerCapacity:0,crewCount:0,rentedCrew:0,respawnTime:0,scanCoolDown:0,sduPerScan:0,scanCost:0,placeholder:0,placeholder2:0,placeholder3:0}}}n.shipStatsDefault=y,n.SHIP_MIN_DATA_SIZE=8+1+32+32+1+8+8+32+64+n.SHIP_STATS_MIN_DATA_SIZE;function h(p,I){return p.subwarpSpeed===I.subwarpSpeed&&p.maxWarpDistance===I.maxWarpDistance&&p.warpCoolDown===I.warpCoolDown&&p.warpCoolDown===I.warpCoolDown&&p.subwarpFuelConsumptionRate===I.subwarpFuelConsumptionRate&&p.warpFuelConsumptionRate===I.warpFuelConsumptionRate&&p.planetExitFuelAmount===I.planetExitFuelAmount}n.movementStatsEquals=h;function m(p,I){return p.cargoCapacity===I.cargoCapacity&&p.fuelCapacity===I.fuelCapacity&&p.ammoCapacity===I.ammoCapacity&&p.ammoConsumptionRate===I.ammoConsumptionRate&&p.foodConsumptionRate===I.foodConsumptionRate&&p.miningRate===I.miningRate&&p.tractorBeamGatherRate===I.tractorBeamGatherRate&&p.cargoTransferRate===I.cargoTransferRate&&p.upgradeRate===I.upgradeRate}n.cargoStatsEquals=m;function f(p,I){return p.requiredCrew===I.requiredCrew&&p.passengerCapacity===I.passengerCapacity&&p.crewCount===I.crewCount&&p.scanCoolDown===I.scanCoolDown&&p.respawnTime===I.respawnTime&&p.sduPerScan===I.sduPerScan&&p.scanCost===I.scanCost&&p.placeholder===I.placeholder&&p.placeholder2===I.placeholder2&&p.placeholder3===I.placeholder3}n.miscStatsEquals=f;function g(p,I){return h(p.movementStats,I.movementStats)&&m(p.cargoStats,I.cargoStats)&&f(p.miscStats,I.miscStats)}n.shipStatsEquals=g;function b(p,I){return p.version===I.version&&p.gameId.equals(I.gameId)&&p.mint.equals(I.mint)&&p.sizeClass===I.sizeClass&&g(p.stats,I.stats)&&p.updateId.eq(I.updateId)&&p.maxUpdateId.eq(I.maxUpdateId)&&p.next.key.equals(I.next.key)&&(0,o.arrayDeepEquals)(p.name,I.name,(A,w)=>A===w)}n.shipDataEquals=b;let S=s=class{constructor(I,A){this._data=I,this._key=A}get data(){return this._data}get key(){return this._key}static registerShip(I,A,w,_,P,M,E){return T=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.registerShip(E).accountsStrict({gameAndProfile:{key:A.publicKey(),profile:w,gameId:M},funder:T.publicKey(),ship:_.publicKey(),mint:P,systemProgram:i.SystemProgram.programId}).instruction(),signers:[A,T,_]}]})}static updateShip(I,A,w,_,P,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.updateShip(M).accountsStrict({gameAndProfile:{key:A.publicKey(),profile:w,gameId:P},ship:_}).instruction(),signers:[A]}]})}static invalidateShip(I,A,w,_,P,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.invalidateShip(M).accountsStrict({gameAndProfile:{key:A.publicKey(),profile:w,gameId:P},ship:_}).instruction(),signers:[A]}]})}static setNextShip(I,A,w,_,P,M,E){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.setNextShip(E).accountsStrict({gameAndProfile:{key:A.publicKey(),profile:w,gameId:M},ship:_,nextShip:P}).instruction(),signers:[A]}]})}static decodeData(I,A){return(0,o.decodeAccount)(I,A,s)}};n.Ship=S,S.ACCOUNT_NAME="ship",S.MIN_DATA_SIZE=n.SHIP_MIN_DATA_SIZE,n.Ship=S=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],S)})(g6);(function(n){var e=K&&K.__decorate||function(I,A,w,_){var P=arguments.length,M=P<3?A:_===null?_=Object.getOwnPropertyDescriptor(A,w):_,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(I,A,w,_);else for(var T=I.length-1;T>=0;T--)(E=I[T])&&(M=(P<3?E(M):P>3?E(A,w,M):E(A,w))||M);return P>3&&M&&Object.defineProperty(A,w,M),M},t=K&&K.__metadata||function(I,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,A)},r=K&&K.__awaiter||function(I,A,w,_){function P(M){return M instanceof w?M:new w(function(E){E(M)})}return new(w||(w=Promise))(function(M,E){function T(R){try{O(_.next(R))}catch(v){E(v)}}function z(R){try{O(_.throw(R))}catch(v){E(v)}}function O(R){R.done?M(R.value):P(R.value).then(T,z)}O((_=_.apply(I,A||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Fleet=n.fleetDataEquals=n.GLOBAL_SCALE_DECIMALS_6=n.GLOBAL_SCALE_DECIMALS_4=n.GLOBAL_SCALE_DECIMALS_2=n.FLEET_MIN_DATA_SIZE=n.PointsCategoryEnum=n.MAX_CONSUMPTION_CAPACITY=n.MAX_CARGO_CAPACITY=n.MAX_WARP_DISTANCE=n.MIN_WARP_DISTANCE=void 0;const i=rl,o=qs,a=FK,c=nr,u=e6,l=WK,d=f6,y=Qg,h=Au,m=ud,f=h6,g=g6;n.MIN_WARP_DISTANCE=0,n.MAX_WARP_DISTANCE=20*100,n.MAX_CARGO_CAPACITY=1e8,n.MAX_CONSUMPTION_CAPACITY=5e7;var b;(function(I){I[I.XP=1]="XP",I[I.LP=2]="LP"})(b||(n.PointsCategoryEnum=b={})),n.FLEET_MIN_DATA_SIZE=8+1+32+32+32+32+32+(2*8+4*2)+8+8+g.SHIP_STATS_MIN_DATA_SIZE+32+32+32+8+32+1+1,n.GLOBAL_SCALE_DECIMALS_2=100,n.GLOBAL_SCALE_DECIMALS_4=1e4,n.GLOBAL_SCALE_DECIMALS_6=1e6;function S(I,A){return I.version===A.version&&I.gameId.equals(A.gameId)&&I.ownerProfile.equals(A.ownerProfile)&&I.subProfile.key.equals(A.subProfile.key)&&I.subProfileInvalidator.equals(A.subProfileInvalidator)&&(0,c.arrayDeepEquals)(I.fleetLabel,A.fleetLabel,(w,_)=>w===_)&&(0,c.arrayDeepEquals)(Object.values(I.shipCounts),Object.values(A.shipCounts),(w,_)=>w===_)&&(0,g.shipStatsEquals)(I.stats,A.stats)&&I.cargoHold.equals(A.cargoHold)&&I.ammoBank.equals(A.ammoBank)&&I.fuelTank.equals(A.fuelTank)&&I.updateId.eq(A.updateId)&&I.warpCooldownExpiresAt.eq(A.warpCooldownExpiresAt)&&I.fleetShips.equals(A.fleetShips)&&I.faction===A.faction&&I.bump===A.bump}n.fleetDataEquals=S;let p=s=class{constructor(A,w,_){this._data=A,this._key=w,this._state=_}get data(){return this._data}get key(){return this._key}get state(){return this._state}static findAddress(A,w,_,P){return o.PublicKey.findProgramAddressSync([Ve.Buffer.from("Fleet"),w.toBuffer(),_.toBuffer(),Ve.Buffer.from(P)],A.programId)}static getFleetSize(A){return A.xxSmall*g.SizeClass.XxSmall+A.xSmall*g.SizeClass.XSmall+A.small*g.SizeClass.Small+A.medium*g.SizeClass.Medium+A.large*g.SizeClass.Large+A.capital*g.SizeClass.Capital+A.commander*g.SizeClass.Commander+A.titan*g.SizeClass.Titan}static calculateWarpTime(A,w){return A.movementStats.warpSpeed>0?w/(A.movementStats.warpSpeed/n.GLOBAL_SCALE_DECIMALS_6):0}static calculateWarpTimeWithCoords(A,w,_){return this.calculateWarpTime(A,(0,f.calculateDistance)(w,_))}static calculateWarpFuelBurnWithDistance(A,w){return w*(A.movementStats.warpFuelConsumptionRate/n.GLOBAL_SCALE_DECIMALS_2)}static calculateWarpFuelBurnWithCoords(A,w,_){return this.calculateWarpFuelBurnWithDistance(A,(0,f.calculateDistance)(w,_))}static calculateSubwarpTime(A,w){return A.movementStats.subwarpSpeed>0?w/(A.movementStats.subwarpSpeed/n.GLOBAL_SCALE_DECIMALS_6):0}static calculateSubwarpTimeWithCoords(A,w,_){return this.calculateSubwarpTime(A,(0,f.calculateDistance)(w,_))}static calculateSubwarpFuelBurnWithDistance(A,w){return w*(A.movementStats.subwarpFuelConsumptionRate/n.GLOBAL_SCALE_DECIMALS_2)}static calculateSubwarpFuelBurnWithCoords(A,w,_){return this.calculateSubwarpFuelBurnWithDistance(A,(0,f.calculateDistance)(w,_))}static calculateAsteroidMiningFoodDuration(A,w){return A.cargoStats.foodConsumptionRate>0?w/(A.cargoStats.foodConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningFoodToConsume(A,w,_){const P=s.calculateAsteroidMiningFoodDuration(A,w),E=Math.min(_,P)*(A.cargoStats.foodConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4);return E>0?w>E?E:w:0}static calculateAsteroidMiningAmmoDuration(A,w){return A.cargoStats.ammoConsumptionRate>0?w/(A.cargoStats.ammoConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningAmmoToConsume(A,w,_){const P=s.calculateAsteroidMiningAmmoDuration(A,w),E=Math.min(_,P)*(A.cargoStats.ammoConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4);return E>0?w>E?E:w:0}static applyAsteroidMiningRatePenalty(A,w){return w>=1?0:(1-w)*A}static calculateAsteroidMiningEmissionRateBareBones(A,w,_,P=0){const M=w/y.MineItem.RESOURCE_HARDNESS_DECIMALS;if(M>0){const E=_/m.Resource.SYSTEM_RICHNESS_DECIMALS,T=A.cargoStats.miningRate/n.GLOBAL_SCALE_DECIMALS_4*E/M;return s.applyAsteroidMiningRatePenalty(T,P)}return 0}static calculateAsteroidMiningEmissionRate(A,w,_,P=0){return s.calculateAsteroidMiningEmissionRateBareBones(A,w.resourceHardness,_.systemRichness,P)}static calculateAsteroidMiningResourceExtractionDurationBareBones(A,w,_,P,M=0){const E=s.calculateAsteroidMiningEmissionRateBareBones(A,w,_,M);return E>0?P/E:0}static calculateAsteroidMiningResourceExtractionDuration(A,w,_,P){return s.calculateAsteroidMiningResourceExtractionDurationBareBones(A,w.resourceHardness,_.systemRichness,P)}static calculateAsteroidMiningResourceToExtractBareBones(A,w,_,P,M,E=0){const T=s.calculateAsteroidMiningEmissionRateBareBones(A,w,_,E);return Math.min(M,T*P)}static calculateAsteroidMiningResourceToExtract(A,w,_,P,M,E=0){return s.calculateAsteroidMiningResourceToExtractBareBones(A,w.resourceHardness,_.systemRichness,P,M,E)}normalizedCrew(){return this.data.stats.miscStats.crewCount>=this.data.stats.miscStats.requiredCrew}static createFleet(A,w,_,P,M,E,T,z,O,R,v,k){const x=s.findAddress(A,O,P,k.fleetLabel),C=d.FleetShips.findAddress(A,x[0]),B=o.Keypair.generate().publicKey.toBuffer(),D=o.Keypair.generate().publicKey.toBuffer(),$=o.Keypair.generate().publicKey.toBuffer(),W=a.CargoPod.findAddress(w,B),L=a.CargoPod.findAddress(w,D),U=a.CargoPod.findAddress(w,$);return{fleetKey:x,cargoHoldKey:W,fuelTankKey:L,ammoBankKey:U,instructions:G=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.createFleet(Object.assign(Object.assign({},k),{cargoHoldSeeds:Array.from(B),fuelTankSeeds:Array.from(D),ammoBankSeeds:Array.from($)})).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:_.publicKey(),profile:P,profileFaction:M,gameId:O},gameState:R},funder:G.publicKey(),fleet:x[0],fleetShips:C[0],ship:E,starbaseAndStarbasePlayer:{starbase:z,starbasePlayer:T},cargoHold:W[0],fuelTank:L[0],ammoBank:U[0],cargoStatsDefinition:v,cargoProgram:w.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[_,G]}]})}}static addShipToFleet(A,w,_,P,M,E,T,z,O,R,v){return k=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.addShipToFleet(v).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:O},gameState:R},funder:k.publicKey(),fleetShips:d.FleetShips.findAddress(A,M)[0],ship:E,starbaseAndStarbasePlayer:{starbase:z,starbasePlayer:T},systemProgram:o.SystemProgram.programId}).remainingAccounts([{pubkey:z,isSigner:!1,isWritable:!1}]).instruction(),signers:[w,k]}]})}static updateShipInFleet(A,w,_,P,M,E,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.updateShipInFleet(T).accountsStrict({fleet:w,fleetShips:d.FleetShips.findAddress(A,w)[0],oldShip:_,next:P,gameAccounts:{gameState:E,gameId:M}}).instruction(),signers:[]}]})}static disbandFleet(A,w,_,P,M,E,T,z,O,R,v){return s.disbandFleetBareBones(A,w,_,P,M,E.key,E.data.fleetLabel,E.data.ammoBank,E.data.cargoHold,E.data.fuelTank,T,z,O,R,v)}static disbandFleetBareBones(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B){const D=l.DisbandedFleet.findAddress(A,x,P,T);return{disbandedFleetKey:D,instructions:$=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.disbandFleet(B).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:_.publicKey(),profile:P,profileFaction:M,gameId:x},gameState:C},funder:$.publicKey(),fleet:E,fleetShips:d.FleetShips.findAddress(A,E)[0],disbandedFleet:D[0],cargoHold:O,fuelTank:R,ammoBank:z,starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},cargoProgram:w.programId,systemProgram:o.SystemProgram.programId}).remainingAccounts([{pubkey:k,isSigner:!1,isWritable:!1}]).instruction(),signers:[_,$]}]})}}static forceDisbandFleet(A,w,_,P,M,E,T,z,O,R,v){return s.forceDisbandFleetBareBones(A,w,_.key,_.data.ownerProfile,_.data.fleetLabel,_.data.ammoBank,_.data.cargoHold,_.data.fuelTank,P,M,E,T,z,O,R,v)}static forceDisbandFleetBareBones(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B,D){const $=l.DisbandedFleet.findAddress(A,k,P,M),W=B&&D?[{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!0}]:[];return{disbandedFleetKey:$,instructions:L=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.forceDisbandFleet(C).accountsStrict({funder:L.publicKey(),fleet:_,fleetShips:d.FleetShips.findAddress(A,_)[0],disbandedFleet:$[0],cargoHold:T,fuelTank:z,ammoBank:E,starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:O},ship:v,gameAccounts:{gameId:k,gameState:x},cargoProgram:w.programId,systemProgram:o.SystemProgram.programId}).remainingAccounts(W).instruction(),signers:[L]}]})}}static depositCargoToFleet(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B,D,$,W,L){return U=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.depositCargoToFleet(L).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:O,owningProfile:P,owningProfileFaction:M,key:_.publicKey()},gameId:$},gameState:W},fundsTo:E==="funder"?U.publicKey():E,starbaseAndStarbasePlayer:{starbase:T,starbasePlayer:z},cargoPodFrom:R,cargoPodTo:v,cargoType:k,cargoStatsDefinition:x,tokenFrom:C,tokenTo:B,tokenMint:D,cargoProgram:w.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:T,isSigner:!1,isWritable:!1}]).instruction(),signers:[_]}]})}static transferCargoWithinFleet(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B,D,$,W){const L=W?[{pubkey:W,isSigner:!1,isWritable:!1}]:[];return U=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.transferCargoWithinFleet($).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:T,owningProfile:M,owningProfileFaction:E,key:_.publicKey()},gameId:B},gameState:D},cargoPodFrom:z,cargoPodTo:O,cargoType:R,cargoStatsDefinition:v,tokenFrom:k,tokenTo:x,tokenMint:C,fundsTo:P==="funder"?U.publicKey():P,cargoProgram:w.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts(L).instruction(),signers:[_]}]})}static withdrawCargoFromFleet(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B,D,$,W,L){return U=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.withdrawCargoFromFleet(L).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:O,owningProfile:M,owningProfileFaction:E,key:_.publicKey()},gameId:$},gameState:W},starbaseAndStarbasePlayer:{starbase:T,starbasePlayer:z},cargoPodFrom:R,cargoPodTo:v,cargoType:k,cargoStatsDefinition:x,tokenFrom:C,tokenTo:B,tokenMint:D,fundsTo:P==="funder"?U.publicKey():P,cargoProgram:w.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:T,isSigner:!1,isWritable:!1}]).instruction(),signers:[_]}]})}static closeFleetCargoPodTokenAccount(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B){return D=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.closeFleetCargoPodTokenAccount(B).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:T,owningProfile:M,owningProfileFaction:E,key:_.publicKey()},gameId:x},gameState:C},cargoPod:z,cargoType:O,cargoStatsDefinition:R,token:v,tokenMint:k,fundsTo:P==="funder"?D.publicKey():P,cargoProgram:w.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[_]}]})}static idleToLoadingBay(A,w,_,P,M,E,T,z,O,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.idleToLoadingBay(R).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:z},gameState:O},starbaseAndStarbasePlayer:{starbase:E,starbasePlayer:T}}).instruction(),signers:[w]}]})}static idleToRespawn(A,w,_,P,M,E,T,z,O,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.idleToRespawn(R).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:O},gameState:z},atlasTokenFrom:E,atlasTokenTo:T,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[w]}]})}static loadingBayToIdle(A,w,_,P,M,E,T,z,O,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.loadingBayToIdle(R).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:z},gameState:O},starbaseAndStarbasePlayer:{starbase:E,starbasePlayer:T}}).remainingAccounts([{pubkey:E,isSigner:!1,isWritable:!1}]).instruction(),signers:[w]}]})}static moveWarpHandler(A,w,_,P,M,E,T,z,O,R,v){const k=[{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:h.ProgressionConfig.findAddress(A,v)[0],isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:w.programId,isSigner:!1,isWritable:!1}];return this.fleetStateHandler(A,P,k)}static movementSubwarpHandler(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B,D,$){const W=s.getSubwarpRemainingAccounts(A,w,_,P,E,T,z,O,R,v,k,x,C,B,D,$);return this.fleetStateHandler(A,M,W)}static fleetStateHandler(A,w,_=[]){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.fleetStateHandler().accountsStrict({fleet:w}).remainingAccounts(_).instruction(),signers:[]}]})}static warpToCoordinate(A,w,_,P,M,E,T,z,O,R,v,k,x,C){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.warpToCoordinate(C).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:k},gameState:v},fuelTank:E,cargoType:T,statsDefinition:z,tokenFrom:O,tokenMint:R,cargoProgram:x.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[w]}]})}static warpLane(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.warpLane(G).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:L},gameState:W},fromStarbase:E,toStarbase:T,fromSector:z,toSector:O,fuelTank:R,cargoType:v,statsDefinition:k,fuelTokenFrom:x,fuelMint:C,feeTokenFrom:B,feeTokenTo:D,feeMint:$,cargoProgram:U.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[w]}]})}static startSubwarp(A,w,_,P,M,E,T,z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.startSubwarp(z).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:E},gameState:T}}).instruction(),signers:[w]}]})}static stopSubwarp(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G){const J=s.getSubwarpRemainingAccounts(A,w,_,M,z,O,R,v,k,x,C,B,D,$,W,L);return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.stopSubwarp(G).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:T,owningProfile:M,owningProfileFaction:E,key:P.publicKey()},gameId:L},gameState:U}}).remainingAccounts(J).instruction(),signers:[P]}]})}static startMiningAsteroid(A,w,_,P,M,E,T,z,O,R,v,k,x,C){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.startMiningAsteroid(C).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:k},gameState:v},starbaseAndStarbasePlayer:{starbase:E,starbasePlayer:T},mineItem:z,resource:O,planet:R,fleetFuelTokenAccount:x}).instruction(),signers:[w]}]})}static asteroidMiningHandler(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G){return this.fleetStateHandler(A,_,[{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:D,isSigner:!1,isWritable:!0},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:W,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:U,isSigner:!1,isWritable:!0},{pubkey:G,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:w.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}])}static stopMiningAsteroid(A,w,_,P,M,E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J,Q,Y,X,re,se){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.stopMiningAsteroid(se).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:T,owningProfile:M,owningProfileFaction:E,key:P.publicKey()},gameId:Y},gameState:Q},mineItem:z,resource:O,planet:R,fuelTank:v,cargoType:k,cargoStatsDefinition:x,tokenFrom:X,tokenMint:re,miningXpAccounts:{userPointsAccount:C,pointsCategory:B,pointsModifierAccount:D},pilotXpAccounts:{userPointsAccount:$,pointsCategory:W,pointsModifierAccount:L},councilRankXpAccounts:{userPointsAccount:U,pointsCategory:G,pointsModifierAccount:J},progressionConfig:h.ProgressionConfig.findAddress(A,Y)[0],cargoProgram:w.programId,pointsProgram:_.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[P]}]})}static mineAsteroidToRespawn(A,w,_,P,M,E,T,z,O,R,v,k){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.mineAsteroidToRespawn(k).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:O},gameState:z},resource:E,planet:T,atlasTokenFrom:R,atlasTokenTo:v,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[w]}]})}static forceDropFleetCargo(A,w,_,P,M,E,T,z,O){const R=d.FleetShips.findAddress(A,_);return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.forceDropFleetCargo().accountsStrict({fleet:_,fleetShips:R[0],cargoPod:P,cargoType:M,cargoStatsDefinition:E,gameId:T,tokenFrom:z,tokenMint:O,cargoProgram:w.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static respawnToLoadingBay(A,w,_,P,M,E,T,z,O,R,v,k,x){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.respawnToLoadingBay(x).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:P,key:w.publicKey()},gameId:v},gameState:k},starbaseAndStarbasePlayer:{starbase:E,starbasePlayer:T},cargoHold:z,fuelTank:O,ammoBank:R}).instruction(),signers:[w]}]})}static loadFleetCrew(A,w,_,P,M,E,T,z,O){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.loadFleetCrew(O).accountsStrict({fleetAndOwner:{fleet:M,key:w.publicKey(),owningProfile:_,owningProfileFaction:P},starbaseAndStarbasePlayer:{starbase:E,starbasePlayer:T},gameId:z}).remainingAccounts([{pubkey:E,isSigner:!1,isWritable:!1}]).instruction(),signers:[w]}]})}static unloadFleetCrew(A,w,_,P,M,E,T,z,O){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.unloadFleetCrew(O).accountsStrict({fleetAndOwner:{fleet:M,key:w.publicKey(),owningProfile:_,owningProfileFaction:P},starbaseAndStarbasePlayer:{starbase:E,starbasePlayer:T},gameId:z}).remainingAccounts([{pubkey:E,isSigner:!1,isWritable:!1}]).instruction(),signers:[w]}]})}static addRental(A,w,_,P,M,E,T,z,O){const R=u.ProfileFactionAccount.findAddress(w,E)[0];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.addRental(O).accountsStrict({ownerKey:_.publicKey(),ownerProfile:M,invalidator:P.publicKey(),subProfileFaction:R,subProfile:E,fleet:T,gameId:z}).instruction(),signers:[_,P]}]})}static changeRental(A,w,_,P,M,E){const T=u.ProfileFactionAccount.findAddress(w,P)[0];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.changeRental().accountsStrict({subProfileInvalidator:_.publicKey(),newSubProfile:P,subProfileFaction:T,fleet:M,gameId:E}).instruction(),signers:[_]}]})}static invalidateRental(A,w,_,P,M,E,T){const z=P&&M&&E&&T?[{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0}]:[];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield A.methods.invalidateRental().accountsStrict({subProfileInvalidator:w.publicKey(),fleet:_}).remainingAccounts(z).instruction(),signers:[w]}]})}static decodeData(A,w){return(0,c.decodeAccountWithRemaining)(A,w,s,(_,P)=>{const M=_[0];let E;switch(M){case 0:{E={StarbaseLoadingBay:w.coder.types.decode("StarbaseLoadingBay",_.subarray(1))};break}case 1:{E={Idle:w.coder.types.decode("Idle",_.subarray(1))};break}case 2:{E={MineAsteroid:w.coder.types.decode("MineAsteroid",_.subarray(1))};break}case 3:{E={MoveWarp:w.coder.types.decode("MoveWarp",_.subarray(1))};break}case 4:{E={MoveSubwarp:w.coder.types.decode("MoveSubwarp",_.subarray(1))};break}case 5:{E={Respawn:w.coder.types.decode("Respawn",_.subarray(1))};break}default:throw new Error("Unknown fleet state: "+M)}return E})}static calculateCombinedStats(A,w,_){const P=A;return P.cargoStats=s.calculateCombinedCargoStats(A.cargoStats,this.multiplyCargoStats(w.cargoStats,_)),P.miscStats=s.calculateCombinedMiscStats(A.miscStats,this.multiplyMiscStats(w.miscStats,_)),P.movementStats=s.calculateCombinedMovementStats(A.movementStats,this.multiplyMovementStats(w.movementStats,_)),P}static multiplyShipStats(A,w){const _=A;return _.cargoStats=s.multiplyCargoStats(A.cargoStats,w),_.miscStats=s.multiplyMiscStats(A.miscStats,w),_.movementStats=s.multiplyMovementStats(A.movementStats,w),_}static calculateCombinedCargoStats(A,w){return{cargoCapacity:Math.min(n.MAX_CARGO_CAPACITY,A.cargoCapacity+w.cargoCapacity),fuelCapacity:Math.min(n.MAX_CARGO_CAPACITY,A.fuelCapacity+w.fuelCapacity),ammoCapacity:Math.min(n.MAX_CARGO_CAPACITY,A.ammoCapacity+w.ammoCapacity),ammoConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.ammoConsumptionRate+w.ammoConsumptionRate),foodConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.foodConsumptionRate+w.foodConsumptionRate),miningRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.miningRate+w.miningRate),upgradeRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.upgradeRate+w.upgradeRate),cargoTransferRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.cargoTransferRate+w.cargoTransferRate),tractorBeamGatherRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.tractorBeamGatherRate+w.tractorBeamGatherRate)}}static multiplyCargoStats(A,w){return{cargoCapacity:Math.min(n.MAX_CARGO_CAPACITY,w*A.cargoCapacity),fuelCapacity:Math.min(n.MAX_CARGO_CAPACITY,w*A.fuelCapacity),ammoCapacity:Math.min(n.MAX_CARGO_CAPACITY,w*A.ammoCapacity),ammoConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.ammoConsumptionRate),foodConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.foodConsumptionRate),miningRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.miningRate),upgradeRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.upgradeRate),cargoTransferRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.cargoTransferRate),tractorBeamGatherRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.tractorBeamGatherRate)}}static calculateCombinedMiscStats(A,w){return{requiredCrew:A.requiredCrew+w.requiredCrew,passengerCapacity:A.passengerCapacity+w.passengerCapacity,crewCount:A.crewCount+w.crewCount,rentedCrew:A.rentedCrew+w.rentedCrew,respawnTime:Math.max(A.respawnTime,w.respawnTime),scanCoolDown:Math.max(A.scanCoolDown,w.scanCoolDown),sduPerScan:A.sduPerScan+w.sduPerScan,scanCost:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.scanCost+w.scanCost),placeholder:0,placeholder2:0,placeholder3:0}}static multiplyMiscStats(A,w){return{requiredCrew:A.requiredCrew*w,passengerCapacity:A.passengerCapacity*w,crewCount:A.crewCount*w,rentedCrew:A.rentedCrew*w,respawnTime:A.respawnTime,scanCoolDown:A.scanCoolDown,sduPerScan:A.sduPerScan*w,scanCost:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.scanCost),placeholder:0,placeholder2:0,placeholder3:0}}static calculateCombinedMovementStats(A,w){return{subwarpSpeed:Math.min(A.subwarpSpeed,w.subwarpSpeed),warpSpeed:Math.min(A.warpSpeed,w.warpSpeed),maxWarpDistance:Math.min(n.MAX_WARP_DISTANCE,Math.max(n.MIN_WARP_DISTANCE,Math.max(A.maxWarpDistance,w.maxWarpDistance))),warpCoolDown:Math.max(A.warpCoolDown,w.warpCoolDown),subwarpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.subwarpFuelConsumptionRate+w.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.warpFuelConsumptionRate+w.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(n.MAX_CONSUMPTION_CAPACITY,A.planetExitFuelAmount+w.planetExitFuelAmount)}}static multiplyMovementStats(A,w){return{subwarpSpeed:A.subwarpSpeed,warpSpeed:A.warpSpeed,maxWarpDistance:Math.min(n.MAX_WARP_DISTANCE,Math.max(n.MIN_WARP_DISTANCE,A.maxWarpDistance)),warpCoolDown:A.warpCoolDown,subwarpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(n.MAX_CONSUMPTION_CAPACITY,w*A.planetExitFuelAmount)}}};n.Fleet=p,p.ACCOUNT_NAME="fleet",p.MIN_DATA_SIZE=n.FLEET_MIN_DATA_SIZE,p.getSubwarpRemainingAccounts=(I,A,w,_,P,M,E,T,z,O,R,v,k,x,C,B)=>[{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:h.ProgressionConfig.findAddress(I,B)[0],isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:w.programId,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],n.Fleet=p=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Object])],p)})(NK);var m6={};(function(n){var e=K&&K.__decorate||function(M,E,T,z){var O=arguments.length,R=O<3?E:z===null?z=Object.getOwnPropertyDescriptor(E,T):z,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(M,E,T,z);else for(var k=M.length-1;k>=0;k--)(v=M[k])&&(R=(O<3?v(R):O>3?v(E,T,R):v(E,T))||R);return O>3&&R&&Object.defineProperty(E,T,R),R},t=K&&K.__metadata||function(M,E){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,E)},r=K&&K.__awaiter||function(M,E,T,z){function O(R){return R instanceof T?R:new T(function(v){v(R)})}return new(T||(T=Promise))(function(R,v){function k(B){try{C(z.next(B))}catch(D){v(D)}}function x(B){try{C(z.throw(B))}catch(D){v(D)}}function C(B){B.done?R(B.value):O(B.value).then(k,x)}C((z=z.apply(M,E||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Game=n.RISK_ZONES_MIN_DATA_SIZE=n.MISC_VARIABLES_MIN_DATA_SIZE=n.VAULTS_MIN_DATA_SIZE=n.MINTS_MIN_DATA_SIZE=n.FLEET_INFO_MIN_DATA_SIZE=n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE=n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=n.CRAFTING_MIN_DATA_SIZE=n.CARGO_MIN_DATA_SIZE=n.POINTS_MIN_DATA_SIZE=n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=n.gameDataEquals=n.riskZonesEquals=n.riskZoneEquals=n.RiskZones=n.DEFAULT_RISK_ZONES=n.DEFAULT_RISK_ZONE=n.starbaseUpkeepLevelsEquals=n.starbaseUpkeepInfoEquals=n.factionsStarbaseLevelInfoEqual=n.starbaseLevelInfoArraysEqual=n.starbaseLevelInfoEquals=n.PointsCategoryType=n.vaultsEquals=n.mintsEquals=n.pointsEquals=n.sagePointsCategoryEquals=n.craftingEquals=n.cargoEquals=void 0;const i=qs,o=cc,a=nr;function c(M,E){return M.statsDefinition.equals(E.statsDefinition)}n.cargoEquals=c;function u(M,E){return M.domain.equals(E.domain)}n.craftingEquals=u;function l(M,E){return M.modifierBump===E.modifierBump&&M.modifier.equals(E.modifier)&&M.category.equals(E.category)}n.sagePointsCategoryEquals=l;function d(M,E){return l(M.lpCategory,E.lpCategory)&&l(M.councilRankXpCategory,E.councilRankXpCategory)&&l(M.pilotXpCategory,E.pilotXpCategory)&&l(M.dataRunningXpCategory,E.dataRunningXpCategory)&&l(M.miningXpCategory,E.miningXpCategory)&&l(M.craftingXpCategory,E.craftingXpCategory)}n.pointsEquals=d;function y(M,E){return M.atlas.equals(E.atlas)&&M.polis.equals(E.polis)&&M.ammo.equals(E.ammo)&&M.food.equals(E.food)&&M.fuel.equals(E.fuel)&&M.repairKit.equals(E.repairKit)}n.mintsEquals=y;function h(M,E){return M.atlas.equals(E.atlas)&&M.polis.equals(E.polis)}n.vaultsEquals=h;var m;(function(M){M[M.LP=1]="LP",M[M.CRXP=2]="CRXP",M[M.PXP=3]="PXP",M[M.DRXP=4]="DRXP",M[M.MXP=5]="MXP",M[M.CXP=6]="CXP"})(m||(n.PointsCategoryType=m={}));function f(M,E){return M.hp.eq(E.hp)&&M.sp.eq(E.sp)&&M.sectorRingAvailable===E.sectorRingAvailable&&M.warpLaneMovementFee.eq(E.warpLaneMovementFee)&&M.recipeCategoryForLevel.equals(E.recipeCategoryForLevel)&&M.recipeForUpgrade.equals(E.recipeForUpgrade)}n.starbaseLevelInfoEquals=f;function g(M,E){return(0,a.arrayDeepEquals)(M,E,f)}n.starbaseLevelInfoArraysEqual=g;function b(M,E){const T=g(M.mud,E.mud),z=g(M.oni,E.oni),O=g(M.ustur,E.ustur);return T&&z&&O}n.factionsStarbaseLevelInfoEqual=b;function S(M,E){return M.ammoReserve.eq(E.ammoReserve)&&M.foodReserve.eq(E.foodReserve)&&M.toolkitReserve.eq(E.toolkitReserve)&&M.ammoDepletionRate===E.ammoDepletionRate&&M.foodDepletionRate===E.foodDepletionRate&&M.toolkitDepletionRate===E.toolkitDepletionRate}n.starbaseUpkeepInfoEquals=S;function p(M,E){return S(M.level1,E.level1)&&S(M.level2,E.level2)&&S(M.level3,E.level3)&&S(M.level4,E.level4)&&S(M.level5,E.level5)}n.starbaseUpkeepLevelsEquals=p,n.DEFAULT_RISK_ZONE={center:[new o.BN(0),new o.BN(0)],radius:new o.BN(0)},n.DEFAULT_RISK_ZONES={mudSecurityZone:n.DEFAULT_RISK_ZONE,oniSecurityZone:n.DEFAULT_RISK_ZONE,usturSecurityZone:n.DEFAULT_RISK_ZONE,highRiskZone:n.DEFAULT_RISK_ZONE,mediumRiskZone:n.DEFAULT_RISK_ZONE};var I;(function(M){M[M.MudSecurityZone=0]="MudSecurityZone",M[M.OniSecurityZone=1]="OniSecurityZone",M[M.UsturSecurityZone=2]="UsturSecurityZone",M[M.HighRiskZone=3]="HighRiskZone",M[M.MediumRiskZone=4]="MediumRiskZone"})(I||(n.RiskZones=I={}));function A(M,E){return M.radius.eq(E.radius)&&M.center[0].eq(E.center[0])&&M.center[1].eq(E.center[1])}n.riskZoneEquals=A;function w(M,E){return A(M.mudSecurityZone,E.mudSecurityZone)&&A(M.oniSecurityZone,E.oniSecurityZone)&&A(M.usturSecurityZone,E.usturSecurityZone)&&A(M.highRiskZone,E.highRiskZone)&&A(M.mediumRiskZone,E.mediumRiskZone)}n.riskZonesEquals=w;function _(M,E){return M.version===E.version&&M.profile.equals(E.profile)&&M.gameState.equals(E.gameState)&&c(M.cargo,E.cargo)&&u(M.crafting,E.crafting)&&d(M.points,E.points)&&y(M.mints,E.mints)&&h(M.vaults,E.vaults)&&w(M.riskZones,E.riskZones)&&M.updateId.eq(E.updateId)}n.gameDataEquals=_,n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=32+32+1,n.POINTS_MIN_DATA_SIZE=6*n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE,n.CARGO_MIN_DATA_SIZE=32,n.CRAFTING_MIN_DATA_SIZE=32,n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=32+32+8+8+8+1,n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE=8+4+8+4+8+4,n.FLEET_INFO_MIN_DATA_SIZE=n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE*21+n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE*7+4,n.MINTS_MIN_DATA_SIZE=32+32+32+32+32+32,n.VAULTS_MIN_DATA_SIZE=32+32,n.MISC_VARIABLES_MIN_DATA_SIZE=2+2+8,n.RISK_ZONES_MIN_DATA_SIZE=(8*2+8)*5;let P=s=class{constructor(E,T){this._data=E,this._key=T}get data(){return this._data}get key(){return this._key}static findPointsModifierAddress(E,T,z){return i.PublicKey.findProgramAddressSync([Ve.Buffer.from("PointsModifier"),T.toBuffer(),z.toBuffer()],E.programId)}static initGame(E,T,z,O){return R=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.initGame().accountsStrict({signer:T.publicKey(),gameId:O.publicKey(),funder:R.publicKey(),profile:z,systemProgram:i.SystemProgram.programId}).instruction(),signers:[T,R,O]}]})}static updateGame(E,T,z,O,R,v,k,x,C,B,D){const $=[],W={mints:0,vaults:0,points:0,crafting:0,cargo:0,riskZones:D||null,keyIndex:R};return v&&(v.lpCategory&&(W.points|=1<<0,$.push({isSigner:!1,isWritable:!1,pubkey:v.lpCategory})),v.councilRankXpCategory&&(W.points|=1<<1,$.push({isSigner:!1,isWritable:!1,pubkey:v.councilRankXpCategory})),v.pilotXpCategory&&(W.points|=1<<2,$.push({isSigner:!1,isWritable:!1,pubkey:v.pilotXpCategory})),v.dataRunningXpCategory&&(W.points|=1<<3,$.push({isSigner:!1,isWritable:!1,pubkey:v.dataRunningXpCategory})),v.miningXpCategory&&(W.points|=1<<4,$.push({isSigner:!1,isWritable:!1,pubkey:v.miningXpCategory})),v.craftingXpCategory&&(W.points|=1<<5,$.push({isSigner:!1,isWritable:!1,pubkey:v.craftingXpCategory}))),k&&(k.atlas&&(W.mints|=1<<0,$.push({isSigner:!1,isWritable:!1,pubkey:k.atlas})),k.polis&&(W.mints|=1<<1,$.push({isSigner:!1,isWritable:!1,pubkey:k.polis})),k.ammo&&(W.mints|=1<<2,$.push({isSigner:!1,isWritable:!1,pubkey:k.ammo})),k.food&&(W.mints|=1<<3,$.push({isSigner:!1,isWritable:!1,pubkey:k.food})),k.fuel&&(W.mints|=1<<4,$.push({isSigner:!1,isWritable:!1,pubkey:k.fuel})),k.repairKit&&(W.mints|=1<<5,$.push({isSigner:!1,isWritable:!1,pubkey:k.repairKit}))),x&&(x.atlas&&(W.vaults|=1<<0,$.push({isSigner:!1,isWritable:!1,pubkey:x.atlas})),x.polis&&(W.vaults|=1<<1,$.push({isSigner:!1,isWritable:!1,pubkey:x.polis}))),C&&C.domain&&(W.crafting|=1<<0,$.push({isSigner:!1,isWritable:!1,pubkey:C.domain})),B&&B.statsDefinition&&(W.cargo|=1<<0,$.push({isSigner:!1,isWritable:!1,pubkey:B.statsDefinition})),()=>r(this,void 0,void 0,function*(){return[{instruction:yield T.methods.updateGame(W).accountsStrict({gameAndProfile:{key:z.publicKey(),profile:O,gameId:E}}).remainingAccounts($).instruction(),signers:[z]}]})}static registerSagePointModifier(E,T,z,O,R,v,k,x){const C=s.findPointsModifierAddress(E,R,v);return{modifierKey:C,instructions:B=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.registerSagePointModifier({pointsCategoryType:k,keyIndex:x}).accountsStrict({gameAndProfile:{key:z.publicKey(),profile:O,gameId:R},funder:B.publicKey(),pointsCategory:v,pointsModifier:C[0],pointsProgram:T.programId,systemProgram:i.SystemProgram.programId}).instruction(),signers:[z,B]}]})}}static decodeData(E,T){return(0,a.decodeAccount)(E,T,s)}};n.Game=P,P.ACCOUNT_NAME="game",P.MIN_DATA_SIZE=8+1+8+32+32+n.POINTS_MIN_DATA_SIZE+n.CARGO_MIN_DATA_SIZE+n.CRAFTING_MIN_DATA_SIZE+n.MINTS_MIN_DATA_SIZE+n.VAULTS_MIN_DATA_SIZE+n.RISK_ZONES_MIN_DATA_SIZE,P.MIN_STAR_BASE_LEVEL=0,P.MAX_STAR_BASE_LEVEL=6,n.Game=P=s=e([(0,a.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],P)})(m6);var Pl={},Qu={},zyt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},$yt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},tme=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Oq;Object.defineProperty(Qu,"__esModule",{value:!0});Qu.Planet=Qu.planetDataEquals=Qu.PlanetType=Qu.SectorRing=void 0;const MEe=qs,By=nr;var rme;(function(n){n[n.Inner=1]="Inner",n[n.Mid=2]="Mid",n[n.Outer=3]="Outer"})(rme||(Qu.SectorRing=rme={}));var nme;(function(n){n[n.Terrestrial=0]="Terrestrial",n[n.Volcanic=1]="Volcanic",n[n.Barren=2]="Barren",n[n.AsteroidBelt=3]="AsteroidBelt",n[n.GasGiant=4]="GasGiant",n[n.IceGiant=5]="IceGiant",n[n.Dark=6]="Dark"})(nme||(Qu.PlanetType=nme={}));function Dyt(n,e){return n.version===e.version&&(0,By.arrayDeepEquals)(n.sector,e.sector,(t,r)=>t.eq(r))&&n.gameId.equals(e.gameId)&&n.size.eq(e.size)&&(0,By.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&(0,By.arrayDeepEquals)(n.subCoordinates,e.subCoordinates,(t,r)=>t.eq(r))&&n.planetType===e.planetType&&n.position===e.position&&n.maxHp.eq(e.maxHp)&&n.currentHealth.eq(e.currentHealth)&&n.amountMined.eq(e.amountMined)&&n.numResources===e.numResources&&n.numMiners.eq(e.numMiners)}Qu.planetDataEquals=Dyt;let iB=Oq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,By.byteArrayToString)(this.data.name)}static registerPlanet(e,t,r,s,i,o,a){return c=>tme(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerPlanet(Object.assign(Object.assign({},a),{name:(0,By.stringToByteArray)(a.name,64)})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},funder:c.publicKey(),planet:s.publicKey(),sector:i,systemProgram:MEe.SystemProgram.programId}).instruction(),signers:[t,c,s]}]})}static updatePlanet(e,t,r,s,i,o){return()=>tme(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updatePlanet(Object.assign(Object.assign({},o),{name:o.name==null?null:(0,By.stringToByteArray)(o.name,64),size:o.size==null?null:o.size,maxHp:o.maxHp==null?null:o.maxHp,subCoordinates:o.subCoordinates==null?null:o.subCoordinates})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},planet:s}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,By.decodeAccount)(e,t,Oq)}};Qu.Planet=iB;iB.ACCOUNT_NAME="planet";iB.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+1+8+8+8+8+1+8;Qu.Planet=iB=Oq=zyt([(0,By.staticImplements)(),$yt("design:paramtypes",[Object,MEe.PublicKey])],iB);var Oyt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Kyt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},x$=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Kq;Object.defineProperty(Pl,"__esModule",{value:!0});Pl.GameState=Pl.SCALE_DECIMALS_4=Pl.gameStateDataEquals=Pl.miscVariablesEquals=void 0;const CD=qs,pv=nr,CR=e6,Lyt=Px.exports,cw=m6,Wyt=Qu;function BEe(n,e){return n.warpLaneFuelCostReduction===e.warpLaneFuelCostReduction&&n.upkeepMiningEmissionsPenalty===e.upkeepMiningEmissionsPenalty&&n.respawnFee.eq(e.respawnFee)}Pl.miscVariablesEquals=BEe;function Nyt(n,e){return n.version===e.version&&n.bump===e.bump&&n.gameId.equals(e.gameId)&&n.updateId.eq(e.updateId)&&n.fleet.maxFleetSize===e.fleet.maxFleetSize&&(0,cw.factionsStarbaseLevelInfoEqual)(n.fleet.starbaseLevels,e.fleet.starbaseLevels)&&(0,cw.starbaseUpkeepLevelsEquals)(n.fleet.upkeep,e.fleet.upkeep)&&BEe(n.misc,e.misc)}Pl.gameStateDataEquals=Nyt;Pl.SCALE_DECIMALS_4=1e4;let oB=Kq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return CD.PublicKey.findProgramAddressSync([Ve.Buffer.from("GameState"),t.toBuffer(),r.toArrayLike(Ve.Buffer,"le",8)],e.programId)}static initGameState(e,t,r,s,i,o){return a=>x$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initGameState(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:a.publicKey(),gameState:i,systemProgram:CD.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static updateGameState(e,t,r,s,i,o,a,c){const u=[],l=c||null,d={starbaseLevelInfoArray:null,upkeepInfoArray:null,maxFleetSize:null},y=(a==null?void 0:a.starbaseLevels)||[],h={fleet:d,misc:l,keyIndex:o},m=[y.filter(f=>f.faction==(0,pv.getNumberFromEnum)(CR.Faction,CR.Faction.ONI)),y.filter(f=>f.faction==CR.Faction.MUD),y.filter(f=>f.faction==(0,pv.getNumberFromEnum)(CR.Faction,CR.Faction.Ustur))];for(let f=0;f<m.length;f++){const g=m[f];if(g){const b=(0,Lyt.uniq)(g.map(S=>S.level));if(b.length!==g.length)throw new Error("Starbase levels must be unique");if(Math.max(...b)>cw.Game.MAX_STAR_BASE_LEVEL||Math.min(...b)<cw.Game.MIN_STAR_BASE_LEVEL)throw new Error("Starbase levels must be between 0 and 6")}}y.sort((f,g)=>f.faction-g.faction||f.level-g.level);for(let f=0;f<y.length;f++){const g=y[f];if(g){const b={faction:g.faction,level:g.level,hp:g.hp,sp:g.sp,warpLaneMovementFee:g.warpLaneMovementFee,sectorRingAvailable:(0,pv.getAnchorEnum)(Wyt.SectorRing,g.sectorRingAvailable)};d.starbaseLevelInfoArray==null?d.starbaseLevelInfoArray=[b]:d.starbaseLevelInfoArray.push(b),u.push({isSigner:!1,isWritable:!1,pubkey:g.oldRecipeForUpgrade}),u.push({isSigner:!1,isWritable:!1,pubkey:g.newRecipeForUpgrade}),u.push({isSigner:!1,isWritable:!1,pubkey:g.recipeCategoryForLevel})}}return a!=null&&a.maxFleetSize&&(d.maxFleetSize=a.maxFleetSize),a!=null&&a.starbaseUpkeep&&(d.upkeepInfoArray=a.starbaseUpkeep),h.fleet=(0,pv.isNull)(d)?null:d,()=>x$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateGameState(h).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},gameState:i}).remainingAccounts(u).instruction(),signers:[t]}]})}static activateGameState(e,t,r,s,i,o){return()=>x$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.activateGameState(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},gameState:i}).instruction(),signers:[t]}]})}static copyGameState(e,t,r,s,i,o,a){return c=>x$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.copyGameState(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:c.publicKey(),oldGameState:i,newGameState:o,systemProgram:CD.SystemProgram.programId}).instruction(),signers:[t,c]}]})}static decodeData(e,t){return(0,pv.decodeAccount)(e,t,Kq)}};Pl.GameState=oB;oB.ACCOUNT_NAME="gameState";oB.MIN_DATA_SIZE=8+1+32+8+cw.FLEET_INFO_MIN_DATA_SIZE+cw.MISC_VARIABLES_MIN_DATA_SIZE+1;Pl.GameState=oB=Kq=Oyt([(0,pv.staticImplements)(),Kyt("design:paramtypes",[Object,CD.PublicKey])],oB);var aB={};Object.defineProperty(aB,"__esModule",{value:!0});aB.IDL=void 0;aB.IDL={version:"0.1.0",name:"sage",instructions:[{name:"activateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"addConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for adding the connection"]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first connected sector"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second connected sector"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"subCoordinates1",type:{array:["i64",2]}},{name:"flags1",type:"u8"},{name:"subCoordinates2",type:{array:["i64",2]}},{name:"flags2",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"addCrewToGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"crewOwner",isMut:!1,isSigner:!0,docs:["The crew owner"]},{name:"crewDelegate",isMut:!1,isSigner:!1,docs:["The crew delegate"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddCrewInput"}}]},{name:"addRental",accounts:[{name:"ownerProfile",isMut:!1,isSigner:!1,docs:["The fleet owner's profile."]},{name:"ownerKey",isMut:!1,isSigner:!0,docs:["The key on the owner profile with renting permissions."]},{name:"invalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator - this is a signer to help make sure the fleet won't be locked."]},{name:"subProfile",isMut:!1,isSigner:!1,docs:["The profile to rent to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet to rent out."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"subProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the sub_profile belongs to."]}],args:[{name:"ownerKeyIndex",type:"u16"}]},{name:"addShipEscrow",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipEscrowInput"}}]},{name:"addShipToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipToFleetInput"}}]},{name:"burnCraftingConsumables",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to cancel"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"changeRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator"]},{name:"newSubProfile",isMut:!1,isSigner:!1,docs:["The new sub profile"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"subProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the sub_profile belongs to."]}],args:[]},{name:"claimCraftingNonConsumables",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"claimCraftingOutputs",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable item"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `craftable_item`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to close"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeDisbandedFleet",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the player profile."]},{name:"playerProfile",isMut:!1,isSigner:!1,docs:["The player profile."]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]}],args:[{name:"input",type:{defined:"CloseDisbandedFleetInput"}}]},{name:"closeFleetCargoPodTokenAccount",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod, owned by the fleet"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closePlayerCrewRecord",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"crewRecord",isMut:!0,isSigner:!1,docs:["The [`PlayerCrewRecord`] account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeStarbaseCargoTokenAccount",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeUpgradeProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"resourceCraftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to close"]},{name:"resourceCraftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the upgrade resource"]},{name:"resourceCraftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"completeStarbaseUpgrade",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account for crafting at this `Starbase`"]},{name:"upgradeFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account for starbase upgrades"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"newRecipeCategory",isMut:!1,isSigner:!1,docs:["The crafting recipe category for the next `Starbase` level"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"copyGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"oldGameState",isMut:!1,isSigner:!1,docs:["The old [`GameState`] account"]},{name:"newGameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account","This will and should fail if there already exists a `GameState`for the desired `update_id`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"createCargoPod",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCargoPodInput"}}]},{name:"createCertificateMint",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The Starbase to create a certificate mint for"]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint to create a certificate mint for"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The new certificate mint"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type to associate with the `cargo_mint`","Included to ensure that this instruction can only be called for valid cargo types"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The game account"]},{name:"transferHookExtraAccountMetaList",isMut:!0,isSigner:!1,docs:["The transfer hook extra accounts list"]},{name:"transferHookProgram",isMut:!1,isSigner:!1,docs:["The transfer hook program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to initialize"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account (NOT initialized)"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCraftingProcessInput"}}]},{name:"createFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The new fleet `cargo_hold` cargo pod (not initialized)"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The new fleet `fuel_tank` cargo pod (not initialized)"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The new fleet `ammo_bank` cargo pod (not initialized)"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account - represents the first ship in the new fleet"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"CreateFleetInput"}}]},{name:"createStarbaseUpgradeResourceProcess",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to initialize"]},{name:"upgradeFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account (NOT initialized)"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCraftingProcessInput"}}]},{name:"depositCargoToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"DepositCargoToFleetInput"}}]},{name:"depositCargoToGame",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `key`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"depositCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The source cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `crafting_process`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseDepositCraftingIngredientInput"}}]},{name:"depositStarbaseUpkeepResource",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The source cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `cargo_pod_from`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the upkeep resource"]},{name:"loyaltyPointsAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"DepositStarbaseUpkeepResourceInput"}}]},{name:"deregisterMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterProgressionConfig",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"DeregisterSurveyDataUnitTrackerInput"}}]},{name:"devAddCrewToGame",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The starbase player account to add crew to"]}],args:[{name:"input",type:{defined:"DevAddCrewInput"}}]},{name:"disbandFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account","The fleet can only be disbanded by the `owner_profile` and not `sub_profile`","Fleet cannot be disbanded while rented"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandFleetInput"}}]},{name:"disbandedFleetToEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandedFleetToEscrowInput"}}]},{name:"discoverSector",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!1,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new sector"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DiscoverSectorInput"}}]},{name:"drainMineItemBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The mine item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainSurveyDataUnitsBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing rent refunds go."]},{name:"surveyDataUnitTracker",isMut:!1,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The SDU token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"fleetStateHandler",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}],args:[]},{name:"forceDisbandFleet",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The new [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`]","Must provide at least one ship that is invalid for this instruction"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"ForcedDisbandFleetInput"}}]},{name:"forceDropFleetCargo",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The `Fleet` Account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `cargo_type` for the token"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]},{name:"idleToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"idleToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"IdleToRespawnInput"}}]},{name:"initGame",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The sector permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"gameId",isMut:!0,isSigner:!0,docs:["The [`Game`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"initGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitGameStateInput"}}]},{name:"invalidateRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet"]}],args:[]},{name:"invalidateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"loadFleetCrew",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:"FleetCrewInput"}}]},{name:"loadingBayToIdle",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"mineAsteroidToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"MineAsteroidToRespawnInput"}}]},{name:"mintCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateTokenTo",isMut:!0,isSigner:!1,docs:["The token account where certificates are minted to"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the Starbase"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to take from"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"mintCrewToGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]}],args:[]},{name:"redeemCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateOwnerAuthority",isMut:!1,isSigner:!0,docs:["Owner of the certificates"]},{name:"certificateTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo certificate - owned by the `certificate_owner_authority`"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the Starbase"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to send to"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"registerMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new mine item"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint address representing the mine item"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterMineItemInput"}}]},{name:"registerPlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"planet",isMut:!0,isSigner:!0,docs:["The [`Planet`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterPlanetInput"}}]},{name:"registerProgressionConfig",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterProgressionConfigInput"}}]},{name:"registerResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new resource"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterResourceInput"}}]},{name:"registerSageCrewConfig",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"sageCrewConfig",isMut:!0,isSigner:!1,docs:["The [`SageCrewConfig`] account"]},{name:"config",isMut:!1,isSigner:!1,docs:["The crew config"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"registerSagePlayerProfile",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The player permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The `SagePlayerProfile` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[]},{name:"registerSagePointModifier",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The `PointCategory`"]},{name:"pointsModifier",isMut:!0,isSigner:!1,docs:["The `PointsModifier` account to be created in Points CPI"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterSagePointsModifierInput"}}]},{name:"registerSector",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new sector"]},{name:"discoverer",isMut:!1,isSigner:!1,docs:["The discoverer of this sector"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"coordinates",type:{array:["i64",2]}},{name:"name",type:{array:["u8",64]}},{name:"keyIndex",type:"u16"}]},{name:"registerShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"ship",isMut:!0,isSigner:!0,docs:["The [`Ship`] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint address representing the [`Ship`]"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterShipInput"}}]},{name:"registerStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"star",isMut:!0,isSigner:!0,docs:["The [`Star`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarInput"}}]},{name:"registerStarbase",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"sector",isMut:!1,isSigner:!1,docs:["The [`Sector`] account"]},{name:"gameStateAndProfile",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarbaseInputUnpacked"}}]},{name:"registerStarbasePlayer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder -- pays account rent"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"sagePlayerProfile",isMut:!1,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the player belongs to."]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] account to initialize"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"registerSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `SurveyDataUnitTracker`"]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!0,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"sduMint",isMut:!1,isSigner:!1,docs:["The Survey Data Unit Mint"]},{name:"resourceMint",isMut:!1,isSigner:!1,docs:["The mint of the resource spent when scanning for SDUs"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterSurveyDataUnitTrackerInput"}}]},{name:"removeCargoPod",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod (should be empty)"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseRemoveCargoPodInput"}}]},{name:"removeConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the rent refund funds from the connections go to."]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first sector to remove from"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second sector to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"sector1Index",type:"u16"},{name:"sector2Index",type:"u16"},{name:"keyIndex",type:"u16"}]},{name:"removeCrewFromGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"newCrewOwner",isMut:!1,isSigner:!1,docs:["The new crew owner"]},{name:"crewDelegate",isMut:!1,isSigner:!1,docs:["The crew delegate"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveCrewInput"}}]},{name:"removeInvalidShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"removeShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"respawnToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoHold",isMut:!1,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!1,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!1,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]}],args:[{name:"input",type:{defined:"RespawnToLoadingBayInput"}}]},{name:"scanForSurveyDataUnits",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"surveyDataUnitTracker",isMut:!1,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The general cargo hold cargo pod for the fleet"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"sduTokenFrom",isMut:!0,isSigner:!1,docs:["Source token account for the SDU, owned by `survey_data_unit_tracker_signer`"]},{name:"sduTokenTo",isMut:!0,isSigner:!1,docs:["Destination token account for the SDU, owned by cargo_hold"]},{name:"resourceTokenFrom",isMut:!0,isSigner:!1,docs:["Token account for `resource_mint`, owned by fleet"]},{name:"resourceMint",isMut:!0,isSigner:!1,docs:["The resource that is spent when scanning for Survey Data Units"]},{name:"sduCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of the SDU"]},{name:"resourceCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of `resource_mint`"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"dataRunningXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The cargo program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"recentSlothashes",isMut:!1,isSigner:!1,docs:["Solana recent slothashes"]}],args:[{name:"input",type:{defined:"ScanForSurveyDataUnitsInput"}}]},{name:"setNextShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]},{name:"nextShip",isMut:!0,isSigner:!1,docs:["The next [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"startCraftingProcess",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!0,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fleetFuelTokenAccount",isMut:!1,isSigner:!1,docs:["The fleet fuel token account - owned by the `fuel_tank`"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startStarbaseUpgrade",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"upgradeFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account for starbase upgrades"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StartSubwarpInput"}}]},{name:"stopCraftingProcess",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!0,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"stopMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"pilotXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"miningXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StopMiningAsteroidInput"}}]},{name:"stopSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StopSubwarpInput"}}]},{name:"submitStarbaseUpgradeResource",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"resourceCraftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"resourceCraftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"resourceCraftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"upgradeProcessRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the submission of resources used in the upgrade process"]},{name:"starbaseUpgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the resource being submitted","i.e. the recipe for crafting the resource whose mint would be `token_mint`"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to` (receives any refunds)"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"loyaltyPointsAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"SubmitStarbaseUpgradeResourceInput"}}]},{name:"syncStarbasePlayer",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[]},{name:"syncStarbaseUpgradeIngredients",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"transferCargoAtStarbase",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StarbaseTransferCargoInput"}}]},{name:"transferCargoWithinFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"TransferCargoWithinFleetInput"}}]},{name:"unloadFleetCrew",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:"FleetCrewInput"}}]},{name:"updateGame",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]}],args:[{name:"input",type:{defined:"UpdateGameInput"}}]},{name:"updateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"UpdateGameStateInput"}}]},{name:"updateMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"UpdateMineItemInput"}}]},{name:"updatePlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"UpdatePlanetInput"}}]},{name:"updateProgressionConfig",accounts:[{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"UpdateProgressionConfigInput"}}]},{name:"updateResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]}],args:[{name:"input",type:{defined:"UpdateResourceInput"}}]},{name:"updateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The [`Ship`] account"]}],args:[{name:"input",type:{defined:"UpdateShipInput"}}]},{name:"updateShipEscrow",accounts:[{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipEscrowInput"}}]},{name:"updateShipInFleet",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipFleetInput"}}]},{name:"updateStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"star",isMut:!0,isSigner:!1,docs:["The [`Star`] account"]}],args:[{name:"input",type:{defined:"UpdateStarInput"}}]},{name:"updateStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"UpdateStarbaseInput"}}]},{name:"updateSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"UpdateSurveyDataUnitTrackerInput"}}]},{name:"warpLane",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fromStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"toStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"fromSector",isMut:!1,isSigner:!1,docs:["The Sector account representing the fleet`s  current sector"]},{name:"toSector",isMut:!1,isSigner:!1,docs:["The Sector account that `Fleet` will move to"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `Cargo Type` Account"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The `CargoStatsDefinition` for the cargo type"]},{name:"fuelTokenFrom",isMut:!0,isSigner:!1,docs:["The fuel source token account - owned by the `fuel_tank`"]},{name:"fuelMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"feeTokenFrom",isMut:!0,isSigner:!1,docs:["The fee source token account"]},{name:"feeTokenTo",isMut:!0,isSigner:!1,docs:["The fee destination token account"]},{name:"feeMint",isMut:!0,isSigner:!1,docs:["Fee Token Mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpLaneInput"}}]},{name:"warpToCoordinate",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpToCoordinateInput"}}]},{name:"withdrawCargoFromFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod, owned by the fleet"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod, owned by the Starbase player"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WithdrawCargoFromFleetInput"}}]},{name:"withdrawCargoFromGame",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `key`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"withdrawCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseWithdrawCraftingIngredientInput"}}]}],accounts:[{name:"craftingInstance",docs:["This account is used to store relevant information for a crafting process instance"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"authority",docs:["The authority over the `CraftingInstance`"],type:"publicKey"},{name:"craftingProcess",docs:["The `CraftingProcess` account address"],type:"publicKey"},{name:"instanceType",docs:["the planet type"],type:"u8"},{name:"numCrew",docs:["The number of crew taking part in the crafting process"],type:"u64"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"disbandedFleet",docs:["Keeps track of a fleet while it is disbanded"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"starbase",docs:["The `Starbase` at which the original `Fleet` was disbanded."],type:"publicKey"},{name:"fleetLabel",docs:["The label or name of the disbanded fleet."],type:{array:["u8",32]}},{name:"fleetShips",docs:["The `FleetShips` account belonging to the original `Fleet` that was disbanded."],type:"publicKey"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"fleet",docs:["A `SAGE` fleet."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"fleetShips",docs:["Fleet Ships Key"],type:"publicKey"},{name:"subProfile",docs:["The fleet's sub-authority.","If [`Some`] will have the exclusive ability to interact with this fleet."],type:{defined:"OptionalNonSystemPubkey"}},{name:"subProfileInvalidator",docs:["The authority for revoking a sun-authority."],type:"publicKey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"fleetLabel",docs:["The label or name of the fleet."],type:{array:["u8",32]}},{name:"shipCounts",docs:["The number of ships in the fleet."],type:{defined:"ShipCounts"}},{name:"warpCooldownExpiresAt",docs:["The time at which the warp cooldown expires"],type:"i64"},{name:"scanCooldownExpiresAt",docs:["The time at which the scan cooldown expires"],type:"i64"},{name:"stats",docs:["The fleet's stats."],type:{defined:"ShipStats"}},{name:"cargoHold",docs:["The Cargo pod representing the fleet's cargo hold"],type:"publicKey"},{name:"fuelTank",docs:["The Cargo pod representing the fleet's fuel tank"],type:"publicKey"},{name:"ammoBank",docs:["The Cargo pod representing the fleet's ammo bank"],type:"publicKey"},{name:"updateId",docs:["The update id for the `Fleet`"],type:"u64"},{name:"bump",docs:["The fleet's bump."],type:"u8"}]}},{name:"fleetShips",docs:["Keeps track of a the individual ships that make up a fleet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"fleet",docs:["The `Fleet` account this belongs to"],type:"publicKey"},{name:"fleetShipsInfoCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"game",docs:["Global Game Configuration variables"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"updateId",docs:["The sequence id for updates."],type:"u64"},{name:"profile",docs:["The [`Profile`](player_profile::state::Profile) that handles the sector program permissions"],type:"publicKey"},{name:"gameState",docs:["The associated `GameState` account."],type:"publicKey"},{name:"points",docs:["Points setting"],type:{defined:"Points"}},{name:"cargo",docs:["Cargo settings"],type:{defined:"Cargo"}},{name:"crafting",docs:["Crafting settings"],type:{defined:"Crafting"}},{name:"mints",docs:["mint related settings"],type:{defined:"Mints"}},{name:"vaults",docs:["vault related settings"],type:{defined:"Vaults"}},{name:"riskZones",docs:["Data for risk zones"],type:{defined:"RiskZonesData"}}]}},{name:"gameState",docs:["Keeps track of variables that may change frequently during a `Game` session"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"updateId",docs:["The sequence id for updates"],type:"u64"},{name:"gameId",docs:["The `Game` that this belongs to"],type:"publicKey"},{name:"fleet",docs:["Fleet settings"],type:{defined:"FleetInfo"}},{name:"misc",docs:["Miscellaneous settings"],type:{defined:"MiscVariables"}},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"mineItem",docs:["Represents a token registered as an item that can be mined"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this item is registered with"],type:"publicKey"},{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"mint",docs:["the mint representing the items mined"],type:"publicKey"},{name:"resourceHardness",docs:["How hard it is to mine this item -> Ranges from 1-10"],type:"u16"},{name:"numResourceAccounts",docs:["The number of resource accounts for this mine item"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"planet",docs:["Planet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Planet`"],type:{array:["u8",64]}},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"planetType",docs:["the planet type"],type:"u8"},{name:"position",docs:["the planet position"],type:"u8"},{name:"size",docs:["size"],type:"u64"},{name:"maxHp",docs:["maximum health"],type:"u64"},{name:"currentHealth",docs:["The current health of the `Planet`."],type:"u64"},{name:"amountMined",docs:["the cumulative amount mined from this `Asteroid`"],type:"u64"},{name:"numResources",docs:["the number of resources at this `Asteroid`"],type:"u8"},{name:"numMiners",docs:["the number of entities currently mining at this `Asteroid`"],type:"u64"}]}},{name:"playerCrewRecord",docs:["An account used to record how many crew members have been added to the game by a player",'This is meant to be used temporarily during the crew "pre add" period where players can add crew members to the game but not use them'],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"crewConfig",docs:["The `SageCrewConfig` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"count",docs:["The number of crew members"],type:"u32"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"progressionConfig",docs:["Progression Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:"u64"},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:"u64"},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:"u64"},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:"u64"},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:"u64"},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:"u64"},{name:"numItems",docs:["number of progression items being tracked"],type:"u16"}]}},{name:"resource",docs:["Represents a mine-able item existing at a particular location (e.g. a planet)"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id pubkey"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"mineItem",docs:["the mine item pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"systemRichness",docs:["How abundant the resource is at the location -> Ranges from 1-5"],type:"u16"},{name:"amountMined",docs:["the cumulative amount mined from this resource"],type:"u64"},{name:"numMiners",docs:["the number of entities currently mining this resource"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"sageCrewConfig",docs:["SAGE crew Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"config",docs:["the `CrewConfig` account address"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"sagePlayerProfile",docs:["A `SAGE` player's profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"sector",docs:["Sector"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"coordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"discoverer",docs:["The discoverer of this sector"],type:"publicKey"},{name:"name",docs:["The name of this sector"],type:{array:["u8",64]}},{name:"numStars",docs:["the number of stars in this system"],type:"u16"},{name:"numPlanets",docs:["the number of planets in this system"],type:"u16"},{name:"numMoons",docs:["the number of moons in this system"],type:"u16"},{name:"numAsteroidBelts",docs:["the number of num_asteroid belts in this system"],type:"u16"},{name:"lastScanTime",docs:["The last time the `Sector` was scanned"],type:"i64"},{name:"lastScanChance",docs:["The probability of finding SDUs in the `Sector` from the last time it was scanned"],type:"u32"},{name:"bump",docs:["PDA bump"],type:"u8"},{name:"numConnections",docs:["the number of connections in this system"],type:"u16"}]}},{name:"ship",docs:["This account represents a Ship"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this Ship is registered with"],type:"publicKey"},{name:"mint",docs:["the mint representing the Ship"],type:"publicKey"},{name:"name",docs:["The name of this `Ship`"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:"u8"},{name:"stats",docs:["The ship's stats"],type:{defined:"ShipStats"}},{name:"updateId",docs:["The `update_id` for the `Ship`"],type:"u64"},{name:"maxUpdateId",docs:["The max `Game` `update_id` that the `Ship` is valid for"],type:"u64"},{name:"next",docs:["the next `Ship` account to use when this `Ship` is updated"],type:{defined:"OptionalNonSystemPubkey"}}]}},{name:"star",docs:["`Star` account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Star`"],type:{array:["u8",64]}},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"size",docs:["size"],type:"u64"},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"starType",docs:["the star type"],type:"u8"}]}},{name:"starbase",docs:["Starbase"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this `Starbase` account."],type:"u8"},{name:"gameId",docs:["the game_id that this `Starbase` belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this `Starbase` belongs to"],type:{array:["i64",2]}},{name:"craftingFacility",docs:["the [`CraftingFacility`] to use for crafting at this `Starbase`"],type:"publicKey"},{name:"upgradeFacility",docs:["the [`CraftingFacility`] to use for upgrade jobs at this `Starbase`"],type:"publicKey"},{name:"name",docs:["The name of this `Starbase`"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"faction",docs:["The faction of the `Starbase`."],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"state",docs:["The state of the `Starbase`. Is a [`StarbaseState`]."],type:"u8"},{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"hp",docs:["The `Starbase` health points."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position (`sector::state::Ring`) available for this `Starbase`"],type:"u8"},{name:"upgradeState",docs:["The `Starbase` upgrade state"],type:"u8"},{name:"upgradeIngredientsChecksum",docs:["used to check if expected upgrade ingredients have been supplied"],type:{array:["u8",16]}},{name:"numUpgradeIngredients",docs:["number of ingredients needed for starbase upgrade"],type:"u8"},{name:"upkeepAmmoBalance",docs:["The balance of ammo for upkeep"],type:"u64"},{name:"upkeepAmmoLastUpdate",docs:["The last time ammo for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepAmmoGlobalLastUpdate",docs:["The last time ammo for upkeep was updated (Global time)"],type:"i64"},{name:"upkeepFoodBalance",docs:["The balance of food for upkeep"],type:"u64"},{name:"upkeepFoodLastUpdate",docs:["The last time food for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepFoodGlobalLastUpdate",docs:["The last time food for upkeep was updated (Global time)"],type:"i64"},{name:"upkeepToolkitBalance",docs:["The balance of toolkits for upkeep"],type:"u64"},{name:"upkeepToolkitLastUpdate",docs:["The last time toolkits for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepToolkitGlobalLastUpdate",docs:["The last time toolkits for upkeep was updated (Global time)"],type:"i64"},{name:"builtDestroyedTimestamp",docs:["The last time the starbase was built or destroyed"],type:"i64"}]}},{name:"starbasePlayer",docs:["The `SAGE` player info within a `Starbase`"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"starbase",docs:["The `Starbase` key"],type:"publicKey"},{name:"sagePlayerProfile",docs:["The `SagePlayerProfile` key"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"},{name:"shipEscrowCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"oldTotalCrew",docs:["The old total crew members from the player's fleets at the `Starbase`","This is used BEFORE crew program features are turned ON"],type:"u32"},{name:"newTotalCrew",docs:["The new total crew members from the player's fleets at the `Starbase`","This is used AFTER crew program features are turned ON"],type:"u32"},{name:"busyCrew",docs:["The number of crew members that is engaged/busy and not available"],type:"u64"},{name:"updateId",docs:["The `Game` update id"],type:"u64"},{name:"updatedShipEscrowCount",docs:["Number of updated items in `RemainingData` list","This will be `ship_escrow_count` when all ships in escrow are up-to-date"],type:"u32"}]}},{name:"surveyDataUnitTracker",docs:["Survey Data Unit (SDU) Tracker"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game_id that this belongs to"],type:"publicKey"},{name:"sduMint",docs:["The Survey Data Unit Mint"],type:"publicKey"},{name:"resourceMint",docs:["The mint of the resource spent when scanning for SDUs"],type:"publicKey"},{name:"signer",docs:["The signer for this account"],type:"publicKey"},{name:"signerBump",docs:["The signer for this account"],type:"u8"},{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"}]}}],types:[{name:"AddCrewInput",docs:["Struct for data input for `AddCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:"CrewTransferInput"}}}]}},{name:"AddShipEscrowInput",docs:["Struct for data input for `AddShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer to escrow"],type:"u64"},{name:"index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`","Some index `WrappedShipEscrow`, or None for new `WrappedShipEscrow`"],type:{option:"u32"}}]}},{name:"AddShipToFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Cargo",docs:["Variables for the Cargo program"],type:{kind:"struct",fields:[{name:"statsDefinition",docs:["The cargo stats definition account"],type:"publicKey"}]}},{name:"CargoStats",docs:["A ship's cargo stats"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargoTransferRate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractorBeamGatherRate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoStatsUnpacked",docs:["Unpacked version of [`CargoStats`]"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargoTransferRate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractorBeamGatherRate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoToGameInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CloseDisbandedFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Crafting",docs:["Variables for the Crafting program"],type:{kind:"struct",fields:[{name:"domain",docs:["The crafting domain account"],type:"publicKey"}]}},{name:"CraftingInstanceType",docs:["Represents the type of `CraftingInstance`"],type:{kind:"enum",variants:[{name:"StarbaseCrafting"},{name:"StarbaseUpgradeMaterial"}]}},{name:"CreateFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"fleetLabel",docs:["the fleet label"],type:{array:["u8",32]}},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"cargoHoldSeeds",docs:["cargo hold seeds"],type:{array:["u8",32]}},{name:"fuelTankSeeds",docs:["fuel tank seeds"],type:{array:["u8",32]}},{name:"ammoBankSeeds",docs:["ammo bank seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CrewTransferInput",docs:["Struct for data input for crew cNFT transfer"],type:{kind:"struct",fields:[{name:"dataHash",docs:["The crew cNFT data hash"],type:{array:["u8",32]}},{name:"proofCount",docs:["The number of proofs for the crew cNFT"],type:"u8"},{name:"leafIndex",docs:["The crew cNFT index (index of the leaf node in the Merkle tree)"],type:"u32"}]}},{name:"DepositCargoToFleetInput",docs:["Struct for data input to `DepositCargoToFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DepositStarbaseUpkeepResourceInput",docs:["Submit starbase upkeep resource inputs"],type:{kind:"struct",fields:[{name:"pointsProgramPermissionsKeyIndex",docs:["the index of the points program permissions in the player profile"],type:"u16"},{name:"sagePermissionsKeyIndex",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"resourceType",docs:["the resource type"],type:"u8"},{name:"resourceIndex",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list"],type:"u16"},{name:"amount",docs:["the amount"],type:"u64"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"DeregisterSurveyDataUnitTrackerInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"DevAddCrewInput",docs:["Struct for data input to Dev Add Crew"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the permissions profile"],type:"u16"},{name:"crewCount",docs:["The number of crew to add or remove"],type:"i32"}]}},{name:"DisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DisbandedFleetToEscrowInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:{option:"u32"}},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DiscoverSectorInput",docs:["Struct for data input for `DiscoverSector`"],type:{kind:"struct",fields:[{name:"coordinates",docs:["The coordinates of the new `Sector`"],type:{array:["i64",2]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FactionsStarbaseLevelInfo",docs:["`Starbase` levels discriminated by faction"],type:{kind:"struct",fields:[{name:"mud",docs:["Mud Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"oni",docs:["Oni Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"ustur",docs:["Ustur Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}}]}},{name:"FleetCrewInput",docs:["Struct for data input to `FleetCrew`"],type:{kind:"struct",fields:[{name:"count",docs:["passenger count"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FleetInfo",docs:["Variables for the Fleet program"],type:{kind:"struct",fields:[{name:"starbaseLevels",docs:["`Starbase` levels discriminated by faction"],type:{defined:"FactionsStarbaseLevelInfo"}},{name:"upkeep",docs:["`Starbase` upkeep discriminated by level"],type:{defined:"StarbaseUpkeepLevels"}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:"u32"}]}},{name:"FleetInput",docs:["Struct for data input to Update fleet settings"],type:{kind:"struct",fields:[{name:"starbaseLevelInfoArray",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:"StarbaseLevelInfoArrayInput"}}}},{name:"upkeepInfoArray",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:"StarbaseUpkeepInfoArrayInput"}}}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:{option:"u32"}}]}},{name:"FleetShipsInfo",docs:["Struct that represents info on a single ship type in a fleet"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}},{name:"ForcedDisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"Idle",docs:["The data for the [`FleetStateData::Idle`](crate::state_machine::FleetStateData::Idle) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet is in"],type:{array:["i64",2]}}]}},{name:"IdleToRespawnInput",docs:["Struct for data input to initialize an `IdleToRespawn` Ix"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["index of the key in the player profile"],type:"u16"}]}},{name:"IngredientIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"}]}},{name:"InitGameStateInput",docs:["Struct for data input to `InitGameState`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"KeyIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `Resource` might be found"],type:{kind:"enum",variants:[{name:"Planet"}]}},{name:"ManageGameInput",docs:["Struct for data input to managing Game accounts"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"MineAsteroid",docs:["The data for the [`FleetStateData::MineAsteroid`](crate::state_machine::FleetStateData::MineAsteroid) state"],type:{kind:"struct",fields:[{name:"asteroid",docs:["The `Asteroid` the `Fleet` is mining (Must be an asteroid belt)"],type:"publicKey"},{name:"resource",docs:["The `Resource` being mined on the `Asteroid`"],type:"publicKey"},{name:"start",docs:["The timestamp at which mining activity started"],type:"i64"},{name:"end",docs:["The timestamp at which mining activity stops"],type:"i64"},{name:"amountMined",docs:["The cumulative amount mined"],type:"u64"},{name:"lastUpdate",docs:["The last time the `Fleet` was updated"],type:"i64"}]}},{name:"MineAsteroidToRespawnInput",docs:["Struct for data input for `MineAsteroidToRespawnInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Mints",docs:["Token mints"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"},{name:"ammo",docs:["ammunition"],type:"publicKey"},{name:"food",docs:["food"],type:"publicKey"},{name:"fuel",docs:["fuel"],type:"publicKey"},{name:"repairKit",docs:["repair kit"],type:"publicKey"}]}},{name:"MiscStats",docs:["A ship's miscellaneous stats"],type:{kind:"struct",fields:[{name:"requiredCrew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passengerCapacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crewCount",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rentedCrew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sduPerScan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scanCost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscStatsUnpacked",docs:["Unpacked version of [`MiscStats`]"],type:{kind:"struct",fields:[{name:"requiredCrew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passengerCapacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crewCount",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rentedCrew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sduPerScan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scanCost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscVariables",docs:["Miscellaneous game state variables"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:"i16"},{name:"respawnFee",docs:["Respawn fee; You cannot enter into the respawning state without paying this fee","Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"},{name:"upkeepMiningEmissionsPenalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:"i16"}]}},{name:"MiscVariablesInput",docs:["Struct for data input to update miscellaneous settings"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:{option:"i16"}},{name:"upkeepMiningEmissionsPenalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:{option:"i16"}},{name:"respawnFee",docs:["Respawn fee, charged in ATLAS"],type:{option:"u64"}}]}},{name:"MoveSubwarp",docs:["The data for the [`FleetStateData::MoveSubwarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The sector the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The sector the fleet is going to"],type:{array:["i64",2]}},{name:"currentSector",docs:["The sector the fleet is currently in"],type:{array:["i64",2]}},{name:"departureTime",docs:["When the fleet started subwarp"],type:"i64"},{name:"arrivalTime",docs:["When the fleet will finish subwarp"],type:"i64"},{name:"fuelExpenditure",docs:["The fuel cost of the subwarp"],type:"u64"},{name:"lastUpdate",docs:["The last update time"],type:"i64"}]}},{name:"MoveWarp",docs:["The data for the [`FleetStateData::MoveWarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The star system the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The star system the fleet is going to"],type:{array:["i64",2]}},{name:"warpStart",docs:["When the fleet started warping"],type:"i64"},{name:"warpFinish",docs:["When the warp will end"],type:"i64"}]}},{name:"MovementStats",docs:["A ship's movement stats"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"MovementStatsUnpacked",docs:["Unpacked version of [`MovementStats`]"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"PlanetType",docs:["Represents different types a `Planet` could be"],type:{kind:"enum",variants:[{name:"Terrestrial"},{name:"Volcanic"},{name:"Barren"},{name:"AsteroidBelt"},{name:"GasGiant"},{name:"IceGiant"},{name:"Dark"}]}},{name:"Points",docs:["Variables for the Points program"],type:{kind:"struct",fields:[{name:"lpCategory",docs:["Represents the points category & modifier to use for Loyalty Points (LP)"],type:{defined:"SagePointsCategory"}},{name:"councilRankXpCategory",docs:["Represents the points category & modifier to use for Council Rank Experience Points (CRXP)"],type:{defined:"SagePointsCategory"}},{name:"pilotXpCategory",docs:["Represents the points category & modifier to use for Pilot License Experience Points (PXP)"],type:{defined:"SagePointsCategory"}},{name:"dataRunningXpCategory",docs:["Represents the points category & modifier to use for Data Running Experience Points (DRXP)"],type:{defined:"SagePointsCategory"}},{name:"miningXpCategory",docs:["Represents the points category & modifier to use for Mining Experience Points (MXP)"],type:{defined:"SagePointsCategory"}},{name:"craftingXpCategory",docs:["Represents the points category & modifier to use for Crafting Experience Points (CXP)"],type:{defined:"SagePointsCategory"}}]}},{name:"ProgressionItem",docs:["Progression Item"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"ProgressionItemInput",docs:["Progression Item for Data Input"],type:{kind:"struct",fields:[{name:"itemType",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:"ProgressionItem"}}]}},{name:"ProgressionItemInputUnpacked",docs:["Unpacked version of [`ProgressionItemInput`]"],type:{kind:"struct",fields:[{name:"itemType",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:"ProgressionItem"}}]}},{name:"ProgressionItemType",docs:["The different types of progression items"],type:{kind:"enum",variants:[{name:"Subwarp"},{name:"Warp"},{name:"WarpLane"},{name:"AsteroidExit"},{name:"ScanUnsuccessful"},{name:"ScanSuccessful"},{name:"Mining"},{name:"Crafting"},{name:"Upkeep"},{name:"Upgrade"}]}},{name:"ProgressionItemUnpacked",docs:["Unpacked version of [`ProgressionItem`]"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"RegisterMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterPlanetInput",docs:["Struct for data input to Register Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{array:["u8",64]}},{name:"size",docs:["`Planet` size"],type:"u64"},{name:"maxHp",docs:["`Planet` max health"],type:"u64"},{name:"subCoordinates",docs:["`Planet` sub_coordinates"],type:{array:["i64",2]}},{name:"planetType",docs:["`Planet` type"],type:"u8"},{name:"position",docs:["`Planet` position"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterProgressionConfigInput",docs:["Data input for RegisterProgressionConfig"],type:{kind:"struct",fields:[{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterResourceInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"locationType",docs:["`Resource` location type"],type:"u8"},{name:"systemRichness",docs:["`Resource` `system_richness`"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSagePointsModifierInput",docs:["Struct for data input to register a points modifier for SAGE program"],type:{kind:"struct",fields:[{name:"pointsCategoryType",docs:["The points category type of the modifier"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RegisterShipInput",docs:["Struct for data input to Register Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"},{name:"isActive",docs:["Whether the ship is initialized to active (`update_id == current_update_id`)"],type:"bool"}]}},{name:"RegisterStarInput",docs:["Struct for data input to Register Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{array:["u8",64]}},{name:"size",docs:["`Star` size"],type:"u64"},{name:"subCoordinates",docs:["`Star` sub_coordinates"],type:{array:["i64",2]}},{name:"starType",docs:["`Star` type"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInput",docs:["Struct for data input to Register `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInputUnpacked",docs:["Unpacked version of [`RegisterStarbaseInput`]"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSurveyDataUnitTrackerInput",docs:["Struct for data input to Register SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RemoveCrewInput",docs:["Accounts for Struct for data input for `RemoveCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:"CrewTransferInput"}}},{name:"keyIndex",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"}]}},{name:"RemoveShipEscrowInput",docs:["Struct for data input for `RemoveShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer from escrow"],type:"u64"},{name:"permissionKeyIndex",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"Respawn",docs:["The data for the [`FleetStateData::Respawn`](crate::state_machine::FleetStateData::Respawn) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet was in when it entered the `Respawn` state"],type:{array:["i64",2]}},{name:"start",docs:["The time `Respawn` started"],type:"i64"}]}},{name:"RespawnToLoadingBayInput",docs:["Struct for data input to `RespawnToLoadingBay`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RiskZoneData",docs:["`RiskZone` center and radius"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZoneDataUnpacked",docs:["Unpacked version of [`RiskZoneData`]"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZonesData",docs:["[`RiskZoneData`] for [`RiskZones`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"RiskZonesDataUnpacked",docs:["Unpacked version of [`RiskZonesData`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"SagePointsCategory",docs:["Represents a points category & modifier as defined in the Points program"],type:{kind:"struct",fields:[{name:"category",docs:["The points category"],type:"publicKey"},{name:"modifier",docs:["The points category modifier"],type:"publicKey"},{name:"modifierBump",docs:["The points category modifier bump"],type:"u8"}]}},{name:"ScanForSurveyDataUnitsInput",docs:["Struct for data input to Scan For Survey Data Units"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SectorConnection",docs:["Connection between sectors"],type:{kind:"struct",fields:[{name:"connectionSector",docs:["The sector connected to"],type:"publicKey"},{name:"subCoordinates",docs:["The location of the connection"],type:{array:["i64",2]}},{name:"flags",docs:["Connection flags"],type:"u8"}]}},{name:"SectorRing",docs:["Represents the orbital position of a `Planet` in the `Sector`"],type:{kind:"enum",variants:[{name:"Inner"},{name:"Mid"},{name:"Outer"}]}},{name:"ShipCounts",docs:["Ship counts for a fleet."],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipCountsUnpacked",docs:["Unpacked version of [`ShipCounts`]"],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipSizes",docs:["Ship sizes."],type:{kind:"struct",fields:[{name:"xxSmall",docs:["The size of xx small ships"],type:"u8"},{name:"xSmall",docs:["The size of x small ships"],type:"u8"},{name:"small",docs:["The size of small ships"],type:"u8"},{name:"medium",docs:["The size of medium ships"],type:"u8"},{name:"large",docs:["The size of large ships"],type:"u8"},{name:"capital",docs:["The size of capital ships"],type:"u8"},{name:"commander",docs:["The size of commander ships"],type:"u8"},{name:"titan",docs:["The size of titan ships"],type:"u8"}]}},{name:"ShipStats",docs:["A ship's stats"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"ShipStatsUnpacked",docs:["Unpacked version of [`ShipStats`]"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"SizeClass",docs:["Represents different types of Ships"],type:{kind:"enum",variants:[{name:"XxSmall"},{name:"XSmall"},{name:"Small"},{name:"Medium"},{name:"Large"},{name:"Capital"},{name:"Commander"},{name:"Titan"}]}},{name:"StarType",docs:["Represents different types of Stars"],type:{kind:"enum",variants:[{name:"WhiteDwarf"},{name:"RedDwarf"},{name:"Solar"},{name:"HotBlue"},{name:"RedGiant"}]}},{name:"StarbaseCreateCargoPodInput",docs:["Struct for data input to `StarbaseCreateCargoPod`"],type:{kind:"struct",fields:[{name:"podSeeds",docs:["cargo pod seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseCreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"numCrew",docs:["number of crew members to use for this crafting process"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseDepositCraftingIngredientInput",docs:["Struct for data input to deposit an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseLevelInfo",docs:["Information associated with `Starbase` levels"],type:{kind:"struct",fields:[{name:"recipeForUpgrade",docs:["The crafting recipe required to upgrade a `Starbase` to this level"],type:"publicKey"},{name:"recipeCategoryForLevel",docs:["The crafting recipe category enabled for crafting at a `Starbase` of this level."],type:"publicKey"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:"u8"},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS',"Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"}]}},{name:"StarbaseLevelInfoArrayInput",docs:["Struct for data input to Update Starbase Level Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"faction",docs:["The `Starbase` faction."],type:"u8"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:{defined:"SectorRing"}},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS'],type:"u64"}]}},{name:"StarbaseLoadingBay",docs:["The data for the [`FleetStateData::StarbaseLoadingBay`] state"],type:{kind:"struct",fields:[{name:"starbase",docs:["The `Starbase` is in the loading bay of"],type:"publicKey"},{name:"lastUpdate",docs:["The last time this fleet was updated"],type:"i64"}]}},{name:"StarbaseRemoveCargoPodInput",docs:["Struct for data input to `StarbaseRemoveCargoPod`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"Active"},{name:"Destroyed"}]}},{name:"StarbaseTransferCargoInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseUpgradeState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"NotStarted"},{name:"Started"},{name:"Completed"}]}},{name:"StarbaseUpkeepInfo",docs:["Information associated with `Starbase` upkeep"],type:{kind:"struct",fields:[{name:"ammoReserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammoDepletionRate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"foodReserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"foodDepletionRate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkitReserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkitDepletionRate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepInfoArrayInput",docs:["Struct for data input to Update Starbase Upkeep Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"info",docs:["The stats for the ship"],type:{defined:"StarbaseUpkeepInfoUnpacked"}}]}},{name:"StarbaseUpkeepInfoUnpacked",docs:["Unpacked version of [`StarbaseUpkeepInfo`]"],type:{kind:"struct",fields:[{name:"ammoReserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammoDepletionRate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"foodReserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"foodDepletionRate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkitReserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkitDepletionRate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepLevels",docs:["Information on `Starbase` upkeep by level"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}}]}},{name:"StarbaseUpkeepLevelsUnpacked",docs:["Unpacked version of [`StarbaseUpkeepLevels`]"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}}]}},{name:"StarbaseWithdrawCraftingIngredientInput",docs:["Struct for data input to withdraw an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StartSubwarpInput",docs:["Struct for data input to initialize an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}},{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"StopMiningAsteroidInput",docs:["Struct for data input for `StopMiningAsteroidInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StopSubwarpInput",docs:["Struct for data input to stop an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SubmitStarbaseUpgradeResourceInput",docs:["Submit starbase upgrade resource inputs"],type:{kind:"struct",fields:[{name:"pointsProgramPermissionsKeyIndex",docs:["the index of the point program permissions in the player profile"],type:"u16"},{name:"sagePermissionsKeyIndex",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"upgradeProcessRecipeInputIndex",docs:["the index of the resource in the upgrade_process_recipe ingredients list","The resource is a non-consumable in this recipe"],type:"u16"},{name:"starbaseUpgradeRecipeInputIndex",docs:["the index of the resource in the upgrade recipe","The resource is a consumable in this recipe"],type:"u16"},{name:"resourceRecipeOutputIndex",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list","The resource is an output in this recipe"],type:"u16"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"TransferCargoWithinFleetInput",docs:["Struct for data input to `TransferCargoWithinFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"UpdateGameInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"cargo",docs:["Cargo settings"],type:"u8"},{name:"crafting",docs:["Crafting settings"],type:"u8"},{name:"mints",docs:["Mints"],type:"u8"},{name:"vaults",docs:["Vaults"],type:"u8"},{name:"points",docs:["Points settings"],type:"u8"},{name:"riskZones",docs:["Data for risk zones"],type:{option:{defined:"RiskZonesDataUnpacked"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateGameStateInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"fleet",docs:["Fleet settings"],type:{option:{defined:"FleetInput"}}},{name:"misc",docs:["Miscellaneous settings"],type:{option:{defined:"MiscVariablesInput"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{option:{array:["u8",64]}}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdatePlanetInput",docs:["Struct for data input to Update Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Planet` size"],type:{option:"u64"}},{name:"maxHp",docs:["`Planet` max_hp"],type:{option:"u64"}},{name:"subCoordinates",docs:["`Planet` sub_coordinates"],type:{option:{array:["i64",2]}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateProgressionConfigInput",docs:["Struct for data input for `UpdateProgressionConfig`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the permissions profile"],type:"u16"},{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"items",docs:["the progression items"],type:{option:{vec:{defined:"ProgressionItemInputUnpacked"}}}}]}},{name:"UpdateResourceInput",docs:["Struct for data input to Update Resource"],type:{kind:"struct",fields:[{name:"systemRichness",docs:["`Resource` richness"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdateShipEscrowInput",docs:["Struct for data input for `UpdateShipEscrow`"],type:{kind:"struct",fields:[{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"UpdateShipFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"UpdateShipInput",docs:["Struct for data input to Update Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarInput",docs:["Struct for data input to Update Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Star` size"],type:{option:"u64"}},{name:"starType",docs:["`Star` type"],type:{option:"u8"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarbaseInput",docs:["Struct for data input to Update `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{option:{array:["u8",64]}}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{option:{array:["i64",2]}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateSurveyDataUnitTrackerInput",docs:["Struct for data input to Update SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{option:{array:["i64",2]}}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{option:{array:[{array:["i64",2]},3]}}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{option:{array:["i64",2]}}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:{option:"u32"}},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:{option:"u32"}},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:{option:"u32"}},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:{option:"i64"}},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:{option:"u32"}},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:{option:"u32"}},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:{option:"u32"}},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:{option:"u32"}},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:{option:"i16"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpkeepResourceType",docs:["The different types of upkeep resources"],type:{kind:"enum",variants:[{name:"Ammo"},{name:"Food"},{name:"Toolkit"}]}},{name:"Vaults",docs:["Token vaults"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"}]}},{name:"WarpLaneInput",docs:["Struct for data input to initialize a `WarpLane`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSectorIndex",docs:["Index of the to_sector in `SectorConnections` of the from_sector"],type:"u16"},{name:"fromSectorIndex",docs:["Index of the from_sector in `SectorConnections` of the to_sector"],type:"u16"}]}},{name:"WarpToCoordinateInput",docs:["Struct for data input to initialize a `WarpToCoordinate`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}}]}},{name:"WithdrawCargoFromFleetInput",docs:["Struct for data input to `WithdrawCargoFromFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"WrappedShipEscrow",docs:["Wrapped `Ship` escrow info"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}}],errors:[{code:6e3,name:"IncorrectAdminAddress",msg:"Incorrect admin address."},{code:6001,name:"MissingRemainingAccount",msg:"An expected remaining account is missing."},{code:6002,name:"NoStargateConnectionsAvailable",msg:"No Stargate connections available."},{code:6003,name:"StargatesNotConnected",msg:"The provided Stargates are not connected."},{code:6004,name:"InvalidPlanetType",msg:"Invalid Planet Type."},{code:6005,name:"InvalidRingType",msg:"Invalid Ring Type."},{code:6006,name:"InvalidStarType",msg:"Invalid Star Type."},{code:6007,name:"InvalidOrInactiveGame",msg:"Invalid Or Inactive Game"},{code:6008,name:"InvalidShipSizeClass",msg:"Invalid Ship Size Class."},{code:6009,name:"IncorrectAccountSize",msg:"Incorrect Account Size."},{code:6010,name:"UpdateIdMismatch",msg:"The update_id is mismatched."},{code:6011,name:"AlreadyActive",msg:"The account is already active."},{code:6012,name:"InactiveAccount",msg:"The account is inactive."},{code:6013,name:"InvalidGame",msg:"The game account is invalid."},{code:6014,name:"InvalidGameState",msg:"The game state account is invalid."},{code:6015,name:"InvalidSector",msg:"The sector account is invalid."},{code:6016,name:"FleetCrewNotNormalized",msg:"Fleet Crew Not Normalized"},{code:6017,name:"InsufficientFuel",msg:"Insufficient Fuel to complete movement"},{code:6018,name:"DistanceGreaterThanMax",msg:"Distance of movement is greater than the allowed maximum"},{code:6019,name:"NumericOverflow",msg:"Numeric overflow"},{code:6020,name:"InvalidLocationType",msg:"Invalid Location Type."},{code:6021,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6022,name:"IncorrectMineItem",msg:"Incorrect mine item address."},{code:6023,name:"IncorrectAuthorityAddress",msg:"Incorrect authority address."},{code:6024,name:"IncorrectResourceAddress",msg:"Incorrect resource address."},{code:6025,name:"IncorrectMintAuthority",msg:"Incorrect mint authority."},{code:6026,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6027,name:"InvalidCurrentFleetState",msg:"The current fleet state is not valid."},{code:6028,name:"InvalidCurrentStarbaseState",msg:"The current starbase state is not valid."},{code:6029,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6030,name:"MintMismatch",msg:"Mint mismatch"},{code:6031,name:"TokenMismatch",msg:"Incorrect token address."},{code:6032,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6033,name:"GameMismatch",msg:"Game ID mismatch"},{code:6034,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6035,name:"SagePlayerProfileMismatch",msg:"SagePlayerProfile mismatch"},{code:6036,name:"StarbaseMismatch",msg:"Starbase mismatch"},{code:6037,name:"FactionMismatch",msg:"Faction mismatch"},{code:6038,name:"SeqIdMismatch",msg:"Sequence id mismatch"},{code:6039,name:"ShipMismatch",msg:"Ship mismatch"},{code:6040,name:"CargoPodMismatch",msg:"Cargo Pod mismatch"},{code:6041,name:"PlanetMismatch",msg:"Planet mismatch"},{code:6042,name:"MineItemMismatch",msg:"MineItem mismatch"},{code:6043,name:"LocationMismatch",msg:"Location mismatch"},{code:6044,name:"InvalidEscrowKey",msg:"Escrow key not found in remaining data"},{code:6045,name:"InvalidShipAmount",msg:"Insufficient Ship token amount"},{code:6046,name:"InvalidShipHangarSpaceAmount",msg:"Insufficient Ship hangar space amount"},{code:6047,name:"InvalidCrewAmount",msg:"Invalid crew amount"},{code:6048,name:"InvalidState",msg:"Invalid state"},{code:6049,name:"InvalidDistance",msg:"Invalid distance"},{code:6050,name:"NotAtCentralSpaceStation",msg:"Not at central space station"},{code:6051,name:"ShipNotExpected",msg:"The instruction does not expect a ship account"},{code:6052,name:"AddressMismatch",msg:"Address mismatch"},{code:6053,name:"InvalidSectorConnection",msg:"Invalid sector connection"},{code:6054,name:"InvalidStarbaseLevel",msg:"Invalid Starbase level"},{code:6055,name:"InvalidStarbaseUpgradeRecipeCategory",msg:"Invalid Starbase upgrade recipe category"},{code:6056,name:"HangarUpgradeNotPossible",msg:"Hangar upgrade not Possible"},{code:6057,name:"DisbandedFleetNotEmpty",msg:"Disbanded fleet not empty"},{code:6058,name:"FaultyMovement",msg:"Faulty movement"},{code:6059,name:"IncorrectHandleRawAccount",msg:"Incorrect Account Type for Handle Raw"},{code:6060,name:"InsufficientShipCargoCapacity",msg:"Insufficient Ship Cargo Capacity"},{code:6061,name:"FleetDoesNotNeedUpdate",msg:"Fleet does not need update"},{code:6062,name:"MustDisbandFleet",msg:"Must disband fleet"},{code:6063,name:"CannotForceDisbandFleet",msg:"Cannot force-disband fleet"},{code:6064,name:"ShipMismatchOrAlreadyUpdated",msg:"Ship mismatch or already updated"},{code:6065,name:"ShipAlreadyUpdated",msg:"Ship already updated"},{code:6066,name:"InvalidNextShipAddress",msg:"Invalid next ship address"},{code:6067,name:"InvalidShipForForcedDisband",msg:"Ship is not valid for forced disband of fleet"},{code:6068,name:"InvalidWarpRange",msg:"Warp range exceeded"},{code:6069,name:"InvalidIngredient",msg:"Invalid Ingredient"},{code:6070,name:"StarbaseUpgradeNotInProgress",msg:"Starbase Upgrade Not in progress"},{code:6071,name:"MissingRentedCrew",msg:"Missing Rented Crew"},{code:6072,name:"NoPassengersAllowed",msg:"No Passengers Allowed"},{code:6073,name:"PlanetNotReachable",msg:"Planet Not Reachable"},{code:6074,name:"RespawnNotPossible",msg:"Respawn Not Possible"},{code:6075,name:"InvalidMovement",msg:"Cannot enter enemy faction's Security Zone"},{code:6076,name:"CargoAmountAboveZero",msg:"The Cargo Pod contains a non-zero amount of the Cargo Type"},{code:6077,name:"InvalidCargoPod",msg:"The Cargo Pod is invalid"},{code:6078,name:"InvalidZoneCoordinates",msg:"Invalid Zone Coordinates"},{code:6079,name:"RespawnTimeNotElapsed",msg:"Respawn time not elapsed"},{code:6080,name:"ActiveAccount",msg:"The Account is Active"},{code:6081,name:"StarbasePlayerMismatch",msg:"Starbase Player mismatch"},{code:6082,name:"AlreadyProcessed",msg:"The account has already been processed"},{code:6083,name:"InvalidAmount",msg:"The amount is invalid"},{code:6084,name:"WarpIsOnCooldown",msg:"Warp is on cooldown"},{code:6085,name:"ProgramMismatch",msg:"Program Mismatch"},{code:6086,name:"MustBeOnlyInstruction",msg:"Current Instruction Is Not Only Instruction"},{code:6087,name:"InvalidTime",msg:"Invalid Time"},{code:6088,name:"ScanIsOnCooldown",msg:"Scanning is on cooldown"},{code:6089,name:"InvalidFleetSize",msg:"Invalid Fleet Size"},{code:6090,name:"InactiveFeature",msg:"The feature is inactive"},{code:6091,name:"ZeroShipsAdded",msg:"Zero ships added to fleet"},{code:6092,name:"InvalidNoiseSeed",msg:"Invalid Noise Seed"},{code:6093,name:"InvalidType",msg:"Invalid type"},{code:6094,name:"RentedFleet",msg:"Rented Fleet"},{code:6095,name:"NoCrewItems",msg:"No Crew Items"},{code:6096,name:"GenericInvalid",msg:"Generic invalid data"}]};var jp={},el={},Fyt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Uyt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Vyt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Lq;Object.defineProperty(el,"__esModule",{value:!0});el.SageCrewConfig=el.sageCrewConfigDataEquals=el.CREW_FEATURE=void 0;const Wq=qs,zEe=nr;el.CREW_FEATURE=!0;function qyt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.config.equals(e.config)&&n.bump===e.bump}el.sageCrewConfigDataEquals=qyt;let cB=Lq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t){return Wq.PublicKey.findProgramAddressSync([Ve.Buffer.from("SageCrewConfig"),t.toBuffer()],e.programId)}static registerSageCrewConfig(e){const{program:t,key:r,profile:s,crewProgramConfig:i,gameId:o,input:a}=e;return c=>Vyt(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerSageCrewConfig(a).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:s,gameId:o},funder:c.publicKey(),sageCrewConfig:this.findAddress(t,o)[0],config:i,systemProgram:Wq.SystemProgram.programId}).instruction(),signers:[r,c]}]})}static decodeData(e,t){return(0,zEe.decodeAccount)(e,t,Lq)}};el.SageCrewConfig=cB;cB.ACCOUNT_NAME="sageCrewConfig";cB.MIN_DATA_SIZE=8+1+32+32+1;el.SageCrewConfig=cB=Lq=Fyt([(0,zEe.staticImplements)(),Uyt("design:paramtypes",[Object,Wq.PublicKey])],cB);var jyt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Hyt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Gyt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Nq;Object.defineProperty(jp,"__esModule",{value:!0});jp.PlayerCrewRecord=jp.playerCrewRecordDataEquals=void 0;const $Ee=qs,DEe=nr,Yyt=el;function Zyt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.playerProfile.equals(e.playerProfile)&&n.crewConfig.equals(e.crewConfig)&&n.count===e.count&&n.bump===e.bump}jp.playerCrewRecordDataEquals=Zyt;let uB=Nq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return $Ee.PublicKey.findProgramAddressSync([Ve.Buffer.from("PlayerCrewRecord"),t.toBuffer(),r.toBuffer()],e.programId)}static closePlayerCrewRecord(e){const{profile:t,profileFaction:r,key:s,fundsTo:i,program:o,starbase:a,starbasePlayer:c,gameId:u,input:l}=e;return d=>Gyt(this,void 0,void 0,function*(){return[{instruction:yield o.methods.closePlayerCrewRecord(l).accountsStrict({fundsTo:i==="funder"?d.publicKey():i,gameAndProfileAndFaction:{key:s.publicKey(),profile:t,profileFaction:r,gameId:u},starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:c},crewRecord:this.findAddress(o,t,u)[0],crewConfig:Yyt.SageCrewConfig.findAddress(o,u)[0]}).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,DEe.decodeAccount)(e,t,Nq)}};jp.PlayerCrewRecord=uB;uB.ACCOUNT_NAME="playerCrewRecord";uB.MIN_DATA_SIZE=8+1+32+32+32+4+1;jp.PlayerCrewRecord=uB=Nq=jyt([(0,DEe.staticImplements)(),Hyt("design:paramtypes",[Object,$Ee.PublicKey])],uB);var El={},jJ={},y6={},am={},uc={},pu={},yh={},Iz={};Object.defineProperty(Iz,"__esModule",{value:!0});Iz.getChangeLogSerializer=void 0;const Ek=q,Jyt=n=>(0,Ek.struct)([["root",(0,Ek.publicKey)()],["pathNodes",(0,Ek.array)((0,Ek.publicKey)(),{size:n})],["index",(0,Ek.fixSerializer)((0,Ek.u32)(),8)]]);Iz.getChangeLogSerializer=Jyt;var zS={},_z={};Object.defineProperty(_z,"__esModule",{value:!0});_z.getPathSerializer=void 0;const Vb=q;function Xyt(n){return(0,Vb.mapSerializer)((0,Vb.struct)([["proof",(0,Vb.array)((0,Vb.publicKey)(),{size:n})],["leaf",(0,Vb.publicKey)()],["index",(0,Vb.u32)()],["padding",(0,Vb.u32)()]],{description:"Path"}),e=>({...e,padding:0}),e=>{const{padding:t,...r}=e;return r})}_z.getPathSerializer=Xyt;Object.defineProperty(zS,"__esModule",{value:!0});zS.getCurrentRoot=zS.getConcurrentMerkleTreeSerializer=void 0;const Qyt=Z,MR=q,ept=Iz,tpt=_z,rpt=(n,e)=>(0,MR.struct)([["sequenceNumber",(0,MR.u64)()],["activeIndex",(0,MR.u64)()],["bufferSize",(0,MR.u64)()],["changeLogs",(0,MR.array)((0,ept.getChangeLogSerializer)(n),{size:e})],["rightMostPath",(0,tpt.getPathSerializer)(n)]]);zS.getConcurrentMerkleTreeSerializer=rpt;const npt=n=>(0,Qyt.publicKeyBytes)(n.changeLogs[Number(n.activeIndex)].root);zS.getCurrentRoot=npt;var OEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMerkleTreeSize=n.getMerkleTreeAccountDataV1Serializer=n.getMerkleTreeAccountDataSerializer=void 0;const e=q,t=am,r=zS,s=()=>{const a=(0,t.getConcurrentMerkleTreeHeaderSerializer)();return{description:"MerkleTreeAccountData",fixedSize:null,maxSize:null,serialize:c=>{switch(c.treeHeader.__kind){case"V1":return(0,n.getMerkleTreeAccountDataV1Serializer)(c.treeHeader.maxDepth,c.treeHeader.maxBufferSize).serialize(c);default:throw new Error(`Unknown MerkleTreeAccountData version: ${c.treeHeader.__kind}`)}},deserialize:(c,u=0)=>{const{header:l}=a.deserialize(c,u)[0];switch(l.__kind){case"V1":return(0,n.getMerkleTreeAccountDataV1Serializer)(l.maxDepth,l.maxBufferSize).deserialize(c,u);default:throw new Error(`Unknown MerkleTreeAccountData version: ${l.__kind}`)}}}};n.getMerkleTreeAccountDataSerializer=s;const i=(a,c)=>(0,e.mapSerializer)((0,e.struct)([["discriminator",(0,e.u8)()],["treeHeader",(0,t.getConcurrentMerkleTreeHeaderDataSerializer)()],["tree",(0,r.getConcurrentMerkleTreeSerializer)(a,c)],["canopy",(0,e.array)((0,e.publicKey)(),{size:"remainder"})]]),u=>({...u,discriminator:t.CompressionAccountType.ConcurrentMerkleTree}));n.getMerkleTreeAccountDataV1Serializer=i;const o=(a,c,u=0)=>{const d=(0,t.getConcurrentMerkleTreeHeaderDataSerializer)().fixedSize,y=(0,r.getConcurrentMerkleTreeSerializer)(a,c).fixedSize,h=32*Math.max((1<<u+1)-2,0);return 1+d+y+h};n.getMerkleTreeSize=o})(OEe);var p6={};Object.defineProperty(p6,"__esModule",{value:!0});p6.findMintAuthorityPda=void 0;const spt=q,ipt=am;function opt(n,e){const t=n.programs.getPublicKey("mplBubblegum",ipt.MPL_BUBBLEGUM_PROGRAM_ID);return n.eddsa.findPda(t,[(0,spt.publicKey)().serialize(e.mint)])}p6.findMintAuthorityPda=opt;var uw={},Gu={},KEe=xd(jDe),Gg={};Object.defineProperty(Gg,"__esModule",{value:!0});Gg.parseLeafFromMintToCollectionV1Transaction=Gg.parseLeafFromMintV1Transaction=Gg.findLeafAssetIdPda=void 0;const CN=q,HJ=am;function apt(n,e){const t=n.programs.getPublicKey("mplBubblegum",HJ.MPL_BUBBLEGUM_PROGRAM_ID);return n.eddsa.findPda(t,[(0,CN.string)({size:"variable"}).serialize("asset"),(0,CN.publicKey)().serialize(e.merkleTree),(0,CN.u64)().serialize(e.leafIndex)])}Gg.findLeafAssetIdPda=apt;async function cpt(n,e){const t=await n.rpc.getTransaction(e),r=t==null?void 0:t.meta.innerInstructions;if(r)return(0,HJ.getLeafSchemaSerializer)().deserialize(r[0].instructions[0].data.slice(8))[0];throw new Error("Could not parse leaf from transaction")}Gg.parseLeafFromMintV1Transaction=cpt;async function upt(n,e){const t=await n.rpc.getTransaction(e),r=t==null?void 0:t.meta.innerInstructions;if(r)return(0,HJ.getLeafSchemaSerializer)().deserialize(r[0].instructions[0].data.slice(8))[0];throw new Error("Could not parse leaf from transaction")}Gg.parseLeafFromMintToCollectionV1Transaction=upt;Object.defineProperty(Gu,"__esModule",{value:!0});Gu.hashMetadataCreators=Gu.hashMetadataData=Gu.hashMetadata=Gu.hashLeaf=Gu.hash=void 0;const Dg=q,lpt=KEe,LEe=am,dpt=Gg;function lB(n){return(0,lpt.keccak_256)(Array.isArray(n)?(0,Dg.mergeBytes)(n):n)}Gu.hash=lB;function fpt(n,e){const t=e.delegate??e.owner,r=e.nftVersion??1,[s]=(0,dpt.findLeafAssetIdPda)(n,{merkleTree:e.merkleTree,leafIndex:e.leafIndex});return lB([(0,Dg.u8)().serialize(r),(0,Dg.publicKey)().serialize(s),(0,Dg.publicKey)().serialize(e.owner),(0,Dg.publicKey)().serialize(t),(0,Dg.u64)().serialize(e.leafIndex),WEe(e.metadata)])}Gu.hashLeaf=fpt;function WEe(n){return(0,Dg.mergeBytes)([NEe(n),FEe(n.creators)])}Gu.hashMetadata=WEe;function NEe(n){return lB([lB((0,LEe.getMetadataArgsSerializer)().serialize(n)),(0,Dg.u16)().serialize(n.sellerFeeBasisPoints)])}Gu.hashMetadataData=NEe;function FEe(n){return lB((0,Dg.array)((0,LEe.getCreatorSerializer)(),{size:"remainder"}).serialize(n))}Gu.hashMetadataCreators=FEe;Object.defineProperty(uw,"__esModule",{value:!0});uw.resolveCreatorHash=uw.resolveDataHash=void 0;const UEe=Gu,hpt=(n,e,t,r,s)=>(0,UEe.hashMetadataData)(t.metadata);uw.resolveDataHash=hpt;const gpt=(n,e,t,r,s)=>(0,UEe.hashMetadataCreators)(t.metadata.creators);uw.resolveCreatorHash=gpt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Iz,n),t(zS,n),t(OEe,n),t(p6,n),t(_z,n),t(uw,n)})(yh);var oa={},VEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBubblegumEventTypeSerializer=n.BubblegumEventType=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.LeafSchemaEvent=1]="LeafSchemaEvent"})(t=n.BubblegumEventType||(n.BubblegumEventType={}));function r(){return(0,e.scalarEnum)(t,{description:"BubblegumEventType"})}n.getBubblegumEventTypeSerializer=r})(VEe);var b6={};Object.defineProperty(b6,"__esModule",{value:!0});b6.getCollectionSerializer=void 0;const MN=q;function mpt(){return(0,MN.struct)([["verified",(0,MN.bool)()],["key",(0,MN.publicKey)()]],{description:"Collection"})}b6.getCollectionSerializer=mpt;var qEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCompressionAccountTypeSerializer=n.CompressionAccountType=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.ConcurrentMerkleTree=1]="ConcurrentMerkleTree"})(t=n.CompressionAccountType||(n.CompressionAccountType={}));function r(){return(0,e.scalarEnum)(t,{description:"CompressionAccountType"})}n.getCompressionAccountTypeSerializer=r})(qEe);var S6={};Object.defineProperty(S6,"__esModule",{value:!0});S6.getConcurrentMerkleTreeHeaderSerializer=void 0;const ypt=q,sme=oa;function ppt(){return(0,ypt.struct)([["accountType",(0,sme.getCompressionAccountTypeSerializer)()],["header",(0,sme.getConcurrentMerkleTreeHeaderDataSerializer)()]],{description:"ConcurrentMerkleTreeHeader"})}S6.getConcurrentMerkleTreeHeaderSerializer=ppt;var Gy={};Object.defineProperty(Gy,"__esModule",{value:!0});Gy.isConcurrentMerkleTreeHeaderData=Gy.concurrentMerkleTreeHeaderData=Gy.getConcurrentMerkleTreeHeaderDataSerializer=void 0;const Xm=q;function bpt(){return(0,Xm.dataEnum)([["V1",(0,Xm.struct)([["maxBufferSize",(0,Xm.u32)()],["maxDepth",(0,Xm.u32)()],["authority",(0,Xm.publicKey)()],["creationSlot",(0,Xm.u64)()],["padding",(0,Xm.array)((0,Xm.u8)(),{size:6})]])]],{description:"ConcurrentMerkleTreeHeaderData"})}Gy.getConcurrentMerkleTreeHeaderDataSerializer=bpt;function Spt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Gy.concurrentMerkleTreeHeaderData=Spt;function kpt(n,e){return e.__kind===n}Gy.isConcurrentMerkleTreeHeaderData=kpt;var k6={};Object.defineProperty(k6,"__esModule",{value:!0});k6.getCreatorSerializer=void 0;const T$=q;function vpt(){return(0,T$.struct)([["address",(0,T$.publicKey)()],["verified",(0,T$.bool)()],["share",(0,T$.u8)()]],{description:"Creator"})}k6.getCreatorSerializer=vpt;var jEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDecompressibleStateSerializer=n.DecompressibleState=void 0;const e=q;var t;(function(s){s[s.Enabled=0]="Enabled",s[s.Disabled=1]="Disabled"})(t=n.DecompressibleState||(n.DecompressibleState={}));function r(){return(0,e.scalarEnum)(t,{description:"DecompressibleState"})}n.getDecompressibleStateSerializer=r})(jEe);var Yy={};Object.defineProperty(Yy,"__esModule",{value:!0});Yy.isLeafSchema=Yy.leafSchema=Yy.getLeafSchemaSerializer=void 0;const Qm=q;function Apt(){return(0,Qm.dataEnum)([["V1",(0,Qm.struct)([["id",(0,Qm.publicKey)()],["owner",(0,Qm.publicKey)()],["delegate",(0,Qm.publicKey)()],["nonce",(0,Qm.u64)()],["dataHash",(0,Qm.bytes)({size:32})],["creatorHash",(0,Qm.bytes)({size:32})]])]],{description:"LeafSchema"})}Yy.getLeafSchemaSerializer=Apt;function wpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Yy.leafSchema=wpt;function Ipt(n,e){return e.__kind===n}Yy.isLeafSchema=Ipt;var v6={};Object.defineProperty(v6,"__esModule",{value:!0});v6.getMetadataArgsSerializer=void 0;const BN=Z,Hc=q,qb=oa;function _pt(){return(0,Hc.mapSerializer)((0,Hc.struct)([["name",(0,Hc.string)()],["symbol",(0,Hc.string)()],["uri",(0,Hc.string)()],["sellerFeeBasisPoints",(0,Hc.u16)()],["primarySaleHappened",(0,Hc.bool)()],["isMutable",(0,Hc.bool)()],["editionNonce",(0,Hc.option)((0,Hc.u8)())],["tokenStandard",(0,Hc.option)((0,qb.getTokenStandardSerializer)())],["collection",(0,Hc.option)((0,qb.getCollectionSerializer)())],["uses",(0,Hc.option)((0,qb.getUsesSerializer)())],["tokenProgramVersion",(0,qb.getTokenProgramVersionSerializer)()],["creators",(0,Hc.array)((0,qb.getCreatorSerializer)())]],{description:"MetadataArgs"}),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,editionNonce:n.editionNonce??(0,BN.none)(),tokenStandard:n.tokenStandard??(0,BN.some)(qb.TokenStandard.NonFungible),uses:n.uses??(0,BN.none)(),tokenProgramVersion:n.tokenProgramVersion??qb.TokenProgramVersion.Original}))}v6.getMetadataArgsSerializer=_pt;var HEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenProgramVersionSerializer=n.TokenProgramVersion=void 0;const e=q;var t;(function(s){s[s.Original=0]="Original",s[s.Token2022=1]="Token2022"})(t=n.TokenProgramVersion||(n.TokenProgramVersion={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenProgramVersion"})}n.getTokenProgramVersionSerializer=r})(HEe);var GEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=q;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(GEe);var A6={};Object.defineProperty(A6,"__esModule",{value:!0});A6.getUpdateArgsSerializer=void 0;const jb=Z,dc=q,Ppt=oa;function Ept(){return(0,dc.mapSerializer)((0,dc.struct)([["name",(0,dc.option)((0,dc.string)())],["symbol",(0,dc.option)((0,dc.string)())],["uri",(0,dc.option)((0,dc.string)())],["creators",(0,dc.option)((0,dc.array)((0,Ppt.getCreatorSerializer)()))],["sellerFeeBasisPoints",(0,dc.option)((0,dc.u16)())],["primarySaleHappened",(0,dc.option)((0,dc.bool)())],["isMutable",(0,dc.option)((0,dc.bool)())]],{description:"UpdateArgs"}),n=>({...n,name:n.name??(0,jb.none)(),symbol:n.symbol??(0,jb.none)(),uri:n.uri??(0,jb.none)(),creators:n.creators??(0,jb.none)(),sellerFeeBasisPoints:n.sellerFeeBasisPoints??(0,jb.none)(),primarySaleHappened:n.primarySaleHappened??(0,jb.none)(),isMutable:n.isMutable??(0,jb.none)()}))}A6.getUpdateArgsSerializer=Ept;var YEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=q;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(YEe);var w6={};Object.defineProperty(w6,"__esModule",{value:!0});w6.getUsesSerializer=void 0;const zN=q,xpt=oa;function Tpt(){return(0,zN.struct)([["useMethod",(0,xpt.getUseMethodSerializer)()],["remaining",(0,zN.u64)()],["total",(0,zN.u64)()]],{description:"Uses"})}w6.getUsesSerializer=Tpt;var ZEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionSerializer=n.Version=void 0;const e=q;var t;(function(s){s[s.V1=0]="V1"})(t=n.Version||(n.Version={}));function r(){return(0,e.scalarEnum)(t,{description:"Version"})}n.getVersionSerializer=r})(ZEe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(VEe,n),t(b6,n),t(qEe,n),t(S6,n),t(Gy,n),t(k6,n),t(jEe,n),t(Yy,n),t(v6,n),t(HEe,n),t(GEe,n),t(A6,n),t(YEe,n),t(w6,n),t(ZEe,n)})(oa);Object.defineProperty(pu,"__esModule",{value:!0});pu.getMerkleTreeGpaBuilder=pu.safeFetchAllMerkleTree=pu.fetchAllMerkleTree=pu.safeFetchMerkleTree=pu.fetchMerkleTree=pu.deserializeMerkleTree=void 0;const Hp=Z,Rpt=q,Cpt=yh,ime=oa;function ST(n){return(0,Hp.deserializeAccount)(n,(0,Cpt.getMerkleTreeAccountDataSerializer)())}pu.deserializeMerkleTree=ST;async function Mpt(n,e,t){const r=await n.rpc.getAccount((0,Hp.publicKey)(e,!1),t);return(0,Hp.assertAccountExists)(r,"MerkleTree"),ST(r)}pu.fetchMerkleTree=Mpt;async function Bpt(n,e,t){const r=await n.rpc.getAccount((0,Hp.publicKey)(e,!1),t);return r.exists?ST(r):null}pu.safeFetchMerkleTree=Bpt;async function zpt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Hp.publicKey)(s,!1)),t)).map(s=>((0,Hp.assertAccountExists)(s,"MerkleTree"),ST(s)))}pu.fetchAllMerkleTree=zpt;async function $pt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Hp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>ST(s))}pu.safeFetchAllMerkleTree=$pt;function Dpt(n){const e=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK");return(0,Hp.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,ime.getCompressionAccountTypeSerializer)()],treeHeader:[1,(0,ime.getConcurrentMerkleTreeHeaderDataSerializer)()],serializedTree:[56,(0,Rpt.bytes)()]}).deserializeUsing(t=>ST(t))}pu.getMerkleTreeGpaBuilder=Dpt;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.safeFetchTreeConfigFromSeeds=Xs.fetchTreeConfigFromSeeds=Xs.findTreeConfigPda=Xs.getTreeConfigSize=Xs.getTreeConfigGpaBuilder=Xs.safeFetchAllTreeConfig=Xs.fetchAllTreeConfig=Xs.safeFetchTreeConfig=Xs.fetchTreeConfig=Xs.deserializeTreeConfig=Xs.getTreeConfigAccountDataSerializer=void 0;const Gp=Z,ic=q,JEe=oa;function XEe(){return(0,ic.mapSerializer)((0,ic.struct)([["discriminator",(0,ic.array)((0,ic.u8)(),{size:8})],["treeCreator",(0,ic.publicKey)()],["treeDelegate",(0,ic.publicKey)()],["totalMintCapacity",(0,ic.u64)()],["numMinted",(0,ic.u64)()],["isPublic",(0,ic.bool)()],["isDecompressible",(0,JEe.getDecompressibleStateSerializer)()]],{description:"TreeConfigAccountData"}),n=>({...n,discriminator:[122,245,175,248,171,34,0,207]}))}Xs.getTreeConfigAccountDataSerializer=XEe;function kT(n){return(0,Gp.deserializeAccount)(n,XEe())}Xs.deserializeTreeConfig=kT;async function QEe(n,e,t){const r=await n.rpc.getAccount((0,Gp.publicKey)(e,!1),t);return(0,Gp.assertAccountExists)(r,"TreeConfig"),kT(r)}Xs.fetchTreeConfig=QEe;async function exe(n,e,t){const r=await n.rpc.getAccount((0,Gp.publicKey)(e,!1),t);return r.exists?kT(r):null}Xs.safeFetchTreeConfig=exe;async function Opt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Gp.publicKey)(s,!1)),t)).map(s=>((0,Gp.assertAccountExists)(s,"TreeConfig"),kT(s)))}Xs.fetchAllTreeConfig=Opt;async function Kpt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Gp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>kT(s))}Xs.safeFetchAllTreeConfig=Kpt;function Lpt(n){const e=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return(0,Gp.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,ic.array)((0,ic.u8)(),{size:8})],treeCreator:[8,(0,ic.publicKey)()],treeDelegate:[40,(0,ic.publicKey)()],totalMintCapacity:[72,(0,ic.u64)()],numMinted:[80,(0,ic.u64)()],isPublic:[88,(0,ic.bool)()],isDecompressible:[89,(0,JEe.getDecompressibleStateSerializer)()]}).deserializeUsing(t=>kT(t)).whereField("discriminator",[122,245,175,248,171,34,0,207])}Xs.getTreeConfigGpaBuilder=Lpt;function Wpt(){return 96}Xs.getTreeConfigSize=Wpt;function GJ(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return n.eddsa.findPda(t,[(0,ic.publicKey)().serialize(e.merkleTree)])}Xs.findTreeConfigPda=GJ;async function Npt(n,e,t){return QEe(n,GJ(n,e),t)}Xs.fetchTreeConfigFromSeeds=Npt;async function Fpt(n,e,t){return exe(n,GJ(n,e),t)}Xs.safeFetchTreeConfigFromSeeds=Fpt;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.safeFetchVoucherFromSeeds=Qs.fetchVoucherFromSeeds=Qs.findVoucherPda=Qs.getVoucherSize=Qs.getVoucherGpaBuilder=Qs.safeFetchAllVoucher=Qs.fetchAllVoucher=Qs.safeFetchVoucher=Qs.fetchVoucher=Qs.deserializeVoucher=Qs.getVoucherAccountDataSerializer=void 0;const Yp=Z,qu=q,txe=oa;function rxe(){return(0,qu.mapSerializer)((0,qu.struct)([["discriminator",(0,qu.array)((0,qu.u8)(),{size:8})],["leafSchema",(0,txe.getLeafSchemaSerializer)()],["index",(0,qu.u32)()],["merkleTree",(0,qu.publicKey)()]],{description:"VoucherAccountData"}),n=>({...n,discriminator:[191,204,149,234,213,165,13,65]}))}Qs.getVoucherAccountDataSerializer=rxe;function vT(n){return(0,Yp.deserializeAccount)(n,rxe())}Qs.deserializeVoucher=vT;async function nxe(n,e,t){const r=await n.rpc.getAccount((0,Yp.publicKey)(e,!1),t);return(0,Yp.assertAccountExists)(r,"Voucher"),vT(r)}Qs.fetchVoucher=nxe;async function sxe(n,e,t){const r=await n.rpc.getAccount((0,Yp.publicKey)(e,!1),t);return r.exists?vT(r):null}Qs.safeFetchVoucher=sxe;async function Upt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Yp.publicKey)(s,!1)),t)).map(s=>((0,Yp.assertAccountExists)(s,"Voucher"),vT(s)))}Qs.fetchAllVoucher=Upt;async function Vpt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Yp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>vT(s))}Qs.safeFetchAllVoucher=Vpt;function qpt(n){const e=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return(0,Yp.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,qu.array)((0,qu.u8)(),{size:8})],leafSchema:[8,(0,txe.getLeafSchemaSerializer)()],index:[177,(0,qu.u32)()],merkleTree:[181,(0,qu.publicKey)()]}).deserializeUsing(t=>vT(t)).whereField("discriminator",[191,204,149,234,213,165,13,65])}Qs.getVoucherGpaBuilder=qpt;function jpt(){return 213}Qs.getVoucherSize=jpt;function YJ(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return n.eddsa.findPda(t,[(0,qu.string)({size:"variable"}).serialize("voucher"),(0,qu.publicKey)().serialize(e.merkleTree),(0,qu.u64)().serialize(e.nonce)])}Qs.findVoucherPda=YJ;async function Hpt(n,e,t){return nxe(n,YJ(n,e),t)}Qs.fetchVoucherFromSeeds=Hpt;async function Gpt(n,e,t){return sxe(n,YJ(n,e),t)}Qs.safeFetchVoucherFromSeeds=Gpt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(pu,n),t(Xs,n),t(Qs,n)})(uc);var Pz={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.getMplBubblegumErrorFromName=Fe.getMplBubblegumErrorFromCode=Fe.InvalidCanopySizeError=Fe.InvalidTokenStandardError=Fe.CreatorDidNotUnverifyError=Fe.PrimarySaleCanOnlyBeFlippedToTrueError=Fe.MetadataImmutableError=Fe.CollectionMismatchError=Fe.MissingCollectionMetadataAccountError=Fe.MissingCollectionMintAccountError=Fe.DecompressionDisabledError=Fe.UnknownExternalErrorError=Fe.CollectionMustBeAUniqueMasterEditionError=Fe.CollectionMasterEditionAccountInvalidError=Fe.InvalidDelegateRecordError=Fe.InvalidCollectionAuthorityError=Fe.MetadataMintMismatchError=Fe.CollectionMustBeSizedError=Fe.LeafAuthorityMustSignError=Fe.UpdateAuthorityIncorrectError=Fe.AlreadyUnverifiedError=Fe.AlreadyVerifiedError=Fe.CollectionNotFoundError=Fe.CollectionCannotBeVerifiedInThisInstructionError=Fe.IncorrectOwnerError=Fe.NumericalOverflowErrorError=Fe.InsufficientMintCapacityError=Fe.TreeAuthorityIncorrectError=Fe.MetadataBasisPointsTooHighError=Fe.MetadataUriTooLongError=Fe.MetadataSymbolTooLongError=Fe.MetadataNameTooLongError=Fe.CreatorsTooLongError=Fe.DataHashMismatchError=Fe.CreatorHashMismatchError=Fe.NoCreatorsPresentError=Fe.CreatorNotFoundError=Fe.CreatorDidNotVerifyError=Fe.DuplicateCreatorAddressError=Fe.CreatorShareTotalMustBe100Error=Fe.UnsupportedSchemaVersionError=Fe.HashingMismatchError=Fe.PublicKeyMismatchError=Fe.AssetOwnerMismatchError=void 0;const Tr=Z,Pr=new Map,Er=new Map;class ZJ extends Tr.ProgramError{constructor(e,t){super("Asset Owner Does not match",e,t),this.name="AssetOwnerMismatch",this.code=6e3}}Fe.AssetOwnerMismatchError=ZJ;Pr.set(6e3,ZJ);Er.set("AssetOwnerMismatch",ZJ);class JJ extends Tr.ProgramError{constructor(e,t){super("PublicKeyMismatch",e,t),this.name="PublicKeyMismatch",this.code=6001}}Fe.PublicKeyMismatchError=JJ;Pr.set(6001,JJ);Er.set("PublicKeyMismatch",JJ);class XJ extends Tr.ProgramError{constructor(e,t){super("Hashing Mismatch Within Leaf Schema",e,t),this.name="HashingMismatch",this.code=6002}}Fe.HashingMismatchError=XJ;Pr.set(6002,XJ);Er.set("HashingMismatch",XJ);class QJ extends Tr.ProgramError{constructor(e,t){super("Unsupported Schema Version",e,t),this.name="UnsupportedSchemaVersion",this.code=6003}}Fe.UnsupportedSchemaVersionError=QJ;Pr.set(6003,QJ);Er.set("UnsupportedSchemaVersion",QJ);class eX extends Tr.ProgramError{constructor(e,t){super("Creator shares must sum to 100",e,t),this.name="CreatorShareTotalMustBe100",this.code=6004}}Fe.CreatorShareTotalMustBe100Error=eX;Pr.set(6004,eX);Er.set("CreatorShareTotalMustBe100",eX);class tX extends Tr.ProgramError{constructor(e,t){super("No duplicate creator addresses in metadata",e,t),this.name="DuplicateCreatorAddress",this.code=6005}}Fe.DuplicateCreatorAddressError=tX;Pr.set(6005,tX);Er.set("DuplicateCreatorAddress",tX);class rX extends Tr.ProgramError{constructor(e,t){super("Creator did not verify the metadata",e,t),this.name="CreatorDidNotVerify",this.code=6006}}Fe.CreatorDidNotVerifyError=rX;Pr.set(6006,rX);Er.set("CreatorDidNotVerify",rX);class nX extends Tr.ProgramError{constructor(e,t){super("Creator not found in creator Vec",e,t),this.name="CreatorNotFound",this.code=6007}}Fe.CreatorNotFoundError=nX;Pr.set(6007,nX);Er.set("CreatorNotFound",nX);class sX extends Tr.ProgramError{constructor(e,t){super("No creators in creator Vec",e,t),this.name="NoCreatorsPresent",this.code=6008}}Fe.NoCreatorsPresentError=sX;Pr.set(6008,sX);Er.set("NoCreatorsPresent",sX);class iX extends Tr.ProgramError{constructor(e,t){super("User-provided creator Vec must result in same user-provided creator hash",e,t),this.name="CreatorHashMismatch",this.code=6009}}Fe.CreatorHashMismatchError=iX;Pr.set(6009,iX);Er.set("CreatorHashMismatch",iX);class oX extends Tr.ProgramError{constructor(e,t){super("User-provided metadata must result in same user-provided data hash",e,t),this.name="DataHashMismatch",this.code=6010}}Fe.DataHashMismatchError=oX;Pr.set(6010,oX);Er.set("DataHashMismatch",oX);class aX extends Tr.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=6011}}Fe.CreatorsTooLongError=aX;Pr.set(6011,aX);Er.set("CreatorsTooLong",aX);class cX extends Tr.ProgramError{constructor(e,t){super("Name in metadata is too long",e,t),this.name="MetadataNameTooLong",this.code=6012}}Fe.MetadataNameTooLongError=cX;Pr.set(6012,cX);Er.set("MetadataNameTooLong",cX);class uX extends Tr.ProgramError{constructor(e,t){super("Symbol in metadata is too long",e,t),this.name="MetadataSymbolTooLong",this.code=6013}}Fe.MetadataSymbolTooLongError=uX;Pr.set(6013,uX);Er.set("MetadataSymbolTooLong",uX);class lX extends Tr.ProgramError{constructor(e,t){super("Uri in metadata is too long",e,t),this.name="MetadataUriTooLong",this.code=6014}}Fe.MetadataUriTooLongError=lX;Pr.set(6014,lX);Er.set("MetadataUriTooLong",lX);class dX extends Tr.ProgramError{constructor(e,t){super("Basis points in metadata cannot exceed 10000",e,t),this.name="MetadataBasisPointsTooHigh",this.code=6015}}Fe.MetadataBasisPointsTooHighError=dX;Pr.set(6015,dX);Er.set("MetadataBasisPointsTooHigh",dX);class fX extends Tr.ProgramError{constructor(e,t){super("Tree creator or tree delegate must sign.",e,t),this.name="TreeAuthorityIncorrect",this.code=6016}}Fe.TreeAuthorityIncorrectError=fX;Pr.set(6016,fX);Er.set("TreeAuthorityIncorrect",fX);class hX extends Tr.ProgramError{constructor(e,t){super("Not enough unapproved mints left",e,t),this.name="InsufficientMintCapacity",this.code=6017}}Fe.InsufficientMintCapacityError=hX;Pr.set(6017,hX);Er.set("InsufficientMintCapacity",hX);class gX extends Tr.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=6018}}Fe.NumericalOverflowErrorError=gX;Pr.set(6018,gX);Er.set("NumericalOverflowError",gX);class mX extends Tr.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=6019}}Fe.IncorrectOwnerError=mX;Pr.set(6019,mX);Er.set("IncorrectOwner",mX);class yX extends Tr.ProgramError{constructor(e,t){super("Cannot Verify Collection in this Instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=6020}}Fe.CollectionCannotBeVerifiedInThisInstructionError=yX;Pr.set(6020,yX);Er.set("CollectionCannotBeVerifiedInThisInstruction",yX);class pX extends Tr.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=6021}}Fe.CollectionNotFoundError=pX;Pr.set(6021,pX);Er.set("CollectionNotFound",pX);class bX extends Tr.ProgramError{constructor(e,t){super("Collection item is already verified.",e,t),this.name="AlreadyVerified",this.code=6022}}Fe.AlreadyVerifiedError=bX;Pr.set(6022,bX);Er.set("AlreadyVerified",bX);class SX extends Tr.ProgramError{constructor(e,t){super("Collection item is already unverified.",e,t),this.name="AlreadyUnverified",this.code=6023}}Fe.AlreadyUnverifiedError=SX;Pr.set(6023,SX);Er.set("AlreadyUnverified",SX);class kX extends Tr.ProgramError{constructor(e,t){super("Incorrect leaf metadata update authority.",e,t),this.name="UpdateAuthorityIncorrect",this.code=6024}}Fe.UpdateAuthorityIncorrectError=kX;Pr.set(6024,kX);Er.set("UpdateAuthorityIncorrect",kX);class vX extends Tr.ProgramError{constructor(e,t){super("This transaction must be signed by either the leaf owner or leaf delegate",e,t),this.name="LeafAuthorityMustSign",this.code=6025}}Fe.LeafAuthorityMustSignError=vX;Pr.set(6025,vX);Er.set("LeafAuthorityMustSign",vX);class AX extends Tr.ProgramError{constructor(e,t){super("Collection Not Compatable with Compression, Must be Sized",e,t),this.name="CollectionMustBeSized",this.code=6026}}Fe.CollectionMustBeSizedError=AX;Pr.set(6026,AX);Er.set("CollectionMustBeSized",AX);class wX extends Tr.ProgramError{constructor(e,t){super("Metadata mint does not match collection mint",e,t),this.name="MetadataMintMismatch",this.code=6027}}Fe.MetadataMintMismatchError=wX;Pr.set(6027,wX);Er.set("MetadataMintMismatch",wX);class IX extends Tr.ProgramError{constructor(e,t){super("Invalid collection authority",e,t),this.name="InvalidCollectionAuthority",this.code=6028}}Fe.InvalidCollectionAuthorityError=IX;Pr.set(6028,IX);Er.set("InvalidCollectionAuthority",IX);class _X extends Tr.ProgramError{constructor(e,t){super("Invalid delegate record pda derivation",e,t),this.name="InvalidDelegateRecord",this.code=6029}}Fe.InvalidDelegateRecordError=_X;Pr.set(6029,_X);Er.set("InvalidDelegateRecord",_X);class PX extends Tr.ProgramError{constructor(e,t){super("Edition account doesnt match collection",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=6030}}Fe.CollectionMasterEditionAccountInvalidError=PX;Pr.set(6030,PX);Er.set("CollectionMasterEditionAccountInvalid",PX);class EX extends Tr.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=6031}}Fe.CollectionMustBeAUniqueMasterEditionError=EX;Pr.set(6031,EX);Er.set("CollectionMustBeAUniqueMasterEdition",EX);class xX extends Tr.ProgramError{constructor(e,t){super("Could not convert external error to BubblegumError",e,t),this.name="UnknownExternalError",this.code=6032}}Fe.UnknownExternalErrorError=xX;Pr.set(6032,xX);Er.set("UnknownExternalError",xX);class TX extends Tr.ProgramError{constructor(e,t){super("Decompression is disabled for this tree.",e,t),this.name="DecompressionDisabled",this.code=6033}}Fe.DecompressionDisabledError=TX;Pr.set(6033,TX);Er.set("DecompressionDisabled",TX);class RX extends Tr.ProgramError{constructor(e,t){super("Missing collection mint account",e,t),this.name="MissingCollectionMintAccount",this.code=6034}}Fe.MissingCollectionMintAccountError=RX;Pr.set(6034,RX);Er.set("MissingCollectionMintAccount",RX);class CX extends Tr.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadataAccount",this.code=6035}}Fe.MissingCollectionMetadataAccountError=CX;Pr.set(6035,CX);Er.set("MissingCollectionMetadataAccount",CX);class MX extends Tr.ProgramError{constructor(e,t){super("Collection mismatch",e,t),this.name="CollectionMismatch",this.code=6036}}Fe.CollectionMismatchError=MX;Pr.set(6036,MX);Er.set("CollectionMismatch",MX);class BX extends Tr.ProgramError{constructor(e,t){super("Metadata not mutable",e,t),this.name="MetadataImmutable",this.code=6037}}Fe.MetadataImmutableError=BX;Pr.set(6037,BX);Er.set("MetadataImmutable",BX);class zX extends Tr.ProgramError{constructor(e,t){super("Can only update primary sale to true",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=6038}}Fe.PrimarySaleCanOnlyBeFlippedToTrueError=zX;Pr.set(6038,zX);Er.set("PrimarySaleCanOnlyBeFlippedToTrue",zX);class $X extends Tr.ProgramError{constructor(e,t){super("Creator did not unverify the metadata",e,t),this.name="CreatorDidNotUnverify",this.code=6039}}Fe.CreatorDidNotUnverifyError=$X;Pr.set(6039,$X);Er.set("CreatorDidNotUnverify",$X);class DX extends Tr.ProgramError{constructor(e,t){super("Only NonFungible standard is supported",e,t),this.name="InvalidTokenStandard",this.code=6040}}Fe.InvalidTokenStandardError=DX;Pr.set(6040,DX);Er.set("InvalidTokenStandard",DX);class OX extends Tr.ProgramError{constructor(e,t){super("Canopy size should be set bigger for this tree",e,t),this.name="InvalidCanopySize",this.code=6041}}Fe.InvalidCanopySizeError=OX;Pr.set(6041,OX);Er.set("InvalidCanopySize",OX);function Ypt(n,e,t){const r=Pr.get(n);return r?new r(e,t):null}Fe.getMplBubblegumErrorFromCode=Ypt;function Zpt(n,e,t){const r=Er.get(n);return r?new r(e,t):null}Fe.getMplBubblegumErrorFromName=Zpt;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.getSplAccountCompressionErrorFromName=ei.getSplAccountCompressionErrorFromCode=ei.LeafIndexOutOfBoundsError=ei.IncorrectAccountTypeError=ei.IncorrectAccountOwnerError=ei.IncorrectAuthorityError=ei.CanopyLengthMismatchError=ei.ConcurrentMerkleTreeConstantsErrorError=ei.ZeroCopyErrorError=ei.ConcurrentMerkleTreeErrorError=ei.IncorrectLeafLengthError=void 0;const cm=Z,ph=new Map,bh=new Map;class KX extends cm.ProgramError{constructor(e,t){super("Incorrect leaf length. Expected vec of 32 bytes",e,t),this.name="IncorrectLeafLength",this.code=6e3}}ei.IncorrectLeafLengthError=KX;ph.set(6e3,KX);bh.set("IncorrectLeafLength",KX);class LX extends cm.ProgramError{constructor(e,t){super("Concurrent merkle tree error",e,t),this.name="ConcurrentMerkleTreeError",this.code=6001}}ei.ConcurrentMerkleTreeErrorError=LX;ph.set(6001,LX);bh.set("ConcurrentMerkleTreeError",LX);class WX extends cm.ProgramError{constructor(e,t){super("Issue zero copying concurrent merkle tree data",e,t),this.name="ZeroCopyError",this.code=6002}}ei.ZeroCopyErrorError=WX;ph.set(6002,WX);bh.set("ZeroCopyError",WX);class NX extends cm.ProgramError{constructor(e,t){super("An unsupported max depth or max buffer size constant was provided",e,t),this.name="ConcurrentMerkleTreeConstantsError",this.code=6003}}ei.ConcurrentMerkleTreeConstantsErrorError=NX;ph.set(6003,NX);bh.set("ConcurrentMerkleTreeConstantsError",NX);class FX extends cm.ProgramError{constructor(e,t){super("Expected a different byte length for the merkle tree canopy",e,t),this.name="CanopyLengthMismatch",this.code=6004}}ei.CanopyLengthMismatchError=FX;ph.set(6004,FX);bh.set("CanopyLengthMismatch",FX);class UX extends cm.ProgramError{constructor(e,t){super("Provided authority does not match expected tree authority",e,t),this.name="IncorrectAuthority",this.code=6005}}ei.IncorrectAuthorityError=UX;ph.set(6005,UX);bh.set("IncorrectAuthority",UX);class VX extends cm.ProgramError{constructor(e,t){super("Account is owned by a different program, expected it to be owned by this program",e,t),this.name="IncorrectAccountOwner",this.code=6006}}ei.IncorrectAccountOwnerError=VX;ph.set(6006,VX);bh.set("IncorrectAccountOwner",VX);class qX extends cm.ProgramError{constructor(e,t){super("Account provided has incorrect account type",e,t),this.name="IncorrectAccountType",this.code=6007}}ei.IncorrectAccountTypeError=qX;ph.set(6007,qX);bh.set("IncorrectAccountType",qX);class jX extends cm.ProgramError{constructor(e,t){super("Leaf index of concurrent merkle tree is out of bounds",e,t),this.name="LeafIndexOutOfBounds",this.code=6008}}ei.LeafIndexOutOfBoundsError=jX;ph.set(6008,jX);bh.set("LeafIndexOutOfBounds",jX);function Jpt(n,e,t){const r=ph.get(n);return r?new r(e,t):null}ei.getSplAccountCompressionErrorFromCode=Jpt;function Xpt(n,e,t){const r=bh.get(n);return r?new r(e,t):null}ei.getSplAccountCompressionErrorFromName=Xpt;var lw={};Object.defineProperty(lw,"__esModule",{value:!0});lw.getSplNoopErrorFromName=lw.getSplNoopErrorFromCode=void 0;const Qpt=new Map,ebt=new Map;function tbt(n,e,t){const r=Qpt.get(n);return r?new r(e,t):null}lw.getSplNoopErrorFromCode=tbt;function rbt(n,e,t){const r=ebt.get(n);return r?new r(e,t):null}lw.getSplNoopErrorFromName=rbt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Fe,n),t(ei,n),t(lw,n)})(Pz);var ixe={},dw={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.getAccountMetasAndSigners=fs.expectPda=fs.expectPublicKey=fs.expectSome=void 0;const W2=Z;function nbt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}fs.expectSome=nbt;function sbt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,W2.publicKey)(n,!1)}fs.expectPublicKey=sbt;function ibt(n){if(!n||!Array.isArray(n)||!(0,W2.isPda)(n))throw new Error("Expected a PDA.");return n}fs.expectPda=ibt;function obt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,W2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,W2.publicKey)(i.value,!1),isSigner:(0,W2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}fs.getAccountMetasAndSigners=obt;Object.defineProperty(dw,"__esModule",{value:!0});dw.burn=dw.getBurnInstructionDataSerializer=void 0;const abt=Z,Ch=q,cbt=uc,$N=fs;function oxe(){return(0,Ch.mapSerializer)((0,Ch.struct)([["discriminator",(0,Ch.array)((0,Ch.u8)(),{size:8})],["root",(0,Ch.bytes)({size:32})],["dataHash",(0,Ch.bytes)({size:32})],["creatorHash",(0,Ch.bytes)({size:32})],["nonce",(0,Ch.u64)()],["index",(0,Ch.u32)()]],{description:"BurnInstructionData"}),n=>({...n,discriminator:[116,110,29,56,107,219,42,93]}))}dw.getBurnInstructionDataSerializer=oxe;function ubt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,cbt.findTreeConfigPda)(n,{merkleTree:(0,$N.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,$N.expectSome)(r.leafOwner.value)),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,$N.getAccountMetasAndSigners)(i,"programId",t),u=oxe().serialize(s),l=0;return(0,abt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}dw.burn=ubt;var fw={};Object.defineProperty(fw,"__esModule",{value:!0});fw.cancelRedeem=fw.getCancelRedeemInstructionDataSerializer=void 0;const lbt=Z,BR=q,dbt=uc,ome=fs;function axe(){return(0,BR.mapSerializer)((0,BR.struct)([["discriminator",(0,BR.array)((0,BR.u8)(),{size:8})],["root",(0,BR.bytes)({size:32})]],{description:"CancelRedeemInstructionData"}),n=>({...n,discriminator:[111,76,232,50,39,175,48,242]}))}fw.getCancelRedeemInstructionDataSerializer=axe;function fbt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},merkleTree:{index:2,isWritable:!0,value:e.merkleTree??null},voucher:{index:3,isWritable:!0,value:e.voucher??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,dbt.findTreeConfigPda)(n,{merkleTree:(0,ome.expectPublicKey)(r.merkleTree.value)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ome.getAccountMetasAndSigners)(i,"programId",t),c=axe().serialize(s),u=0;return(0,lbt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}fw.cancelRedeem=fbt;var hw={};Object.defineProperty(hw,"__esModule",{value:!0});hw.createTreeConfig=hw.getCreateTreeConfigInstructionDataSerializer=void 0;const Fq=Z,ey=q,ame=uc,cme=fs;function cxe(){return(0,ey.mapSerializer)((0,ey.struct)([["discriminator",(0,ey.array)((0,ey.u8)(),{size:8})],["maxDepth",(0,ey.u32)()],["maxBufferSize",(0,ey.u32)()],["public",(0,ey.option)((0,ey.bool)())]],{description:"CreateTreeConfigInstructionData"}),n=>({...n,discriminator:[165,83,136,142,89,202,47,220],public:n.public??(0,Fq.none)()}))}hw.getCreateTreeConfigInstructionDataSerializer=cxe;function hbt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},merkleTree:{index:1,isWritable:!0,value:e.merkleTree??null},payer:{index:2,isWritable:!0,value:e.payer??null},treeCreator:{index:3,isWritable:!1,value:e.treeCreator??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,ame.findTreeConfigPda)(n,{merkleTree:(0,cme.expectPublicKey)(r.merkleTree.value)})),r.payer.value||(r.payer.value=n.payer),r.treeCreator.value||(r.treeCreator.value=n.identity),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,cme.getAccountMetasAndSigners)(i,"programId",t),c=cxe().serialize(s),u=(0,ame.getTreeConfigSize)()+Fq.ACCOUNT_HEADER_SIZE;return(0,Fq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}hw.createTreeConfig=hbt;var gw={},pk={},zb={},Ut={},po={},ut={},uxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.None=0]="None",s[s.Metadata=1]="Metadata",s[s.Holder=2]="Holder",s[s.MetadataDelegate=3]="MetadataDelegate",s[s.TokenDelegate=4]="TokenDelegate"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(uxe);var I6={};Object.defineProperty(I6,"__esModule",{value:!0});I6.getAuthorizationDataSerializer=void 0;const gbt=q,mbt=ut;function ybt(){return(0,gbt.struct)([["payload",(0,mbt.getPayloadSerializer)()]],{description:"AuthorizationData"})}I6.getAuthorizationDataSerializer=ybt;var Zy={};Object.defineProperty(Zy,"__esModule",{value:!0});Zy.isBurnArgs=Zy.burnArgs=Zy.getBurnArgsSerializer=void 0;const R$=q;function pbt(){return(0,R$.dataEnum)([["V1",(0,R$.mapSerializer)((0,R$.struct)([["amount",(0,R$.u64)()]]),n=>({...n,amount:n.amount??1}))]],{description:"BurnArgs"})}Zy.getBurnArgsSerializer=pbt;function bbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Zy.burnArgs=bbt;function Sbt(n,e){return e.__kind===n}Zy.isBurnArgs=Sbt;var _6={};Object.defineProperty(_6,"__esModule",{value:!0});_6.getCollectionSerializer=void 0;const DN=q;function kbt(){return(0,DN.struct)([["verified",(0,DN.bool)()],["key",(0,DN.publicKey)()]],{description:"Collection"})}_6.getCollectionSerializer=kbt;var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.isCollectionDetails=Jy.collectionDetails=Jy.getCollectionDetailsSerializer=void 0;const xk=q;function vbt(){return(0,xk.dataEnum)([["V1",(0,xk.struct)([["size",(0,xk.u64)()]])],["V2",(0,xk.struct)([["padding",(0,xk.array)((0,xk.u8)(),{size:8})]])]],{description:"CollectionDetails"})}Jy.getCollectionDetailsSerializer=vbt;function Abt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Jy.collectionDetails=Abt;function wbt(n,e){return e.__kind===n}Jy.isCollectionDetails=wbt;var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.isCollectionDetailsToggle=Xy.collectionDetailsToggle=Xy.getCollectionDetailsToggleSerializer=void 0;const zR=q,Ibt=ut;function _bt(){return(0,zR.dataEnum)([["None",(0,zR.unit)()],["Clear",(0,zR.unit)()],["Set",(0,zR.struct)([["fields",(0,zR.tuple)([(0,Ibt.getCollectionDetailsSerializer)()])]])]],{description:"CollectionDetailsToggle"})}Xy.getCollectionDetailsToggleSerializer=_bt;function Pbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Xy.collectionDetailsToggle=Pbt;function Ebt(n,e){return e.__kind===n}Xy.isCollectionDetailsToggle=Ebt;var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});Qy.isCollectionToggle=Qy.collectionToggle=Qy.getCollectionToggleSerializer=void 0;const $R=q,xbt=ut;function Tbt(){return(0,$R.dataEnum)([["None",(0,$R.unit)()],["Clear",(0,$R.unit)()],["Set",(0,$R.struct)([["fields",(0,$R.tuple)([(0,xbt.getCollectionSerializer)()])]])]],{description:"CollectionToggle"})}Qy.getCollectionToggleSerializer=Tbt;function Rbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Qy.collectionToggle=Rbt;function Cbt(n,e){return e.__kind===n}Qy.isCollectionToggle=Cbt;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.isCreateArgs=ep.createArgs=ep.getCreateArgsSerializer=void 0;const Hb=Z,jo=q,Tk=ut;function Mbt(){return(0,jo.dataEnum)([["V1",(0,jo.mapSerializer)((0,jo.struct)([["name",(0,jo.string)()],["symbol",(0,jo.string)()],["uri",(0,jo.string)()],["sellerFeeBasisPoints",(0,Hb.mapAmountSerializer)((0,jo.u16)(),"%",2)],["creators",(0,jo.option)((0,jo.array)((0,Tk.getCreatorSerializer)()))],["primarySaleHappened",(0,jo.bool)()],["isMutable",(0,jo.bool)()],["tokenStandard",(0,Tk.getTokenStandardSerializer)()],["collection",(0,jo.option)((0,Tk.getCollectionSerializer)())],["uses",(0,jo.option)((0,Tk.getUsesSerializer)())],["collectionDetails",(0,jo.option)((0,Tk.getCollectionDetailsSerializer)())],["ruleSet",(0,jo.option)((0,jo.publicKey)())],["decimals",(0,jo.option)((0,jo.u8)())],["printSupply",(0,jo.option)((0,Tk.getPrintSupplySerializer)())]]),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,collection:n.collection??(0,Hb.none)(),uses:n.uses??(0,Hb.none)(),collectionDetails:n.collectionDetails??(0,Hb.none)(),ruleSet:n.ruleSet??(0,Hb.none)(),decimals:n.decimals??(0,Hb.none)(),printSupply:n.printSupply??(0,Hb.none)()}))]],{description:"CreateArgs"})}ep.getCreateArgsSerializer=Mbt;function Bbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ep.createArgs=Bbt;function zbt(n,e){return e.__kind===n}ep.isCreateArgs=zbt;var P6={};Object.defineProperty(P6,"__esModule",{value:!0});P6.getCreatorSerializer=void 0;const C$=q;function $bt(){return(0,C$.struct)([["address",(0,C$.publicKey)()],["verified",(0,C$.bool)()],["share",(0,C$.u8)()]],{description:"Creator"})}P6.getCreatorSerializer=$bt;var E6={};Object.defineProperty(E6,"__esModule",{value:!0});E6.getDataSerializer=void 0;const Gb=q,Dbt=ut;function Obt(){return(0,Gb.struct)([["name",(0,Gb.string)()],["symbol",(0,Gb.string)()],["uri",(0,Gb.string)()],["sellerFeeBasisPoints",(0,Gb.u16)()],["creators",(0,Gb.option)((0,Gb.array)((0,Dbt.getCreatorSerializer)()))]],{description:"Data"})}E6.getDataSerializer=Obt;var x6={};Object.defineProperty(x6,"__esModule",{value:!0});x6.getDataV2Serializer=void 0;const Mh=q,ON=ut;function Kbt(){return(0,Mh.struct)([["name",(0,Mh.string)()],["symbol",(0,Mh.string)()],["uri",(0,Mh.string)()],["sellerFeeBasisPoints",(0,Mh.u16)()],["creators",(0,Mh.option)((0,Mh.array)((0,ON.getCreatorSerializer)()))],["collection",(0,Mh.option)((0,ON.getCollectionSerializer)())],["uses",(0,Mh.option)((0,ON.getUsesSerializer)())]],{description:"DataV2"})}x6.getDataV2Serializer=Kbt;var tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.isDelegateArgs=tp.delegateArgs=tp.getDelegateArgsSerializer=void 0;const Eu=Z,br=q,xu=ut;function Lbt(){return(0,br.dataEnum)([["CollectionV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Eu.none)()}))],["SaleV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Eu.none)()}))],["TransferV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Eu.none)()}))],["DataV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Eu.none)()}))],["UtilityV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Eu.none)()}))],["StakingV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Eu.none)()}))],["StandardV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()]]),n=>({...n,amount:n.amount??1}))],["LockedTransferV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["lockedAddress",(0,br.publicKey)()],["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Eu.none)()}))],["ProgrammableConfigV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Eu.none)()}))],["AuthorityItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Eu.none)()}))],["DataItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Eu.none)()}))],["CollectionItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Eu.none)()}))],["ProgrammableConfigItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Eu.none)()}))],["PrintDelegateV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,xu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Eu.none)()}))]],{description:"DelegateArgs"})}tp.getDelegateArgsSerializer=Lbt;function Wbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}tp.delegateArgs=Wbt;function Nbt(n,e){return e.__kind===n}tp.isDelegateArgs=Nbt;var rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.isEscrowAuthority=rp.escrowAuthority=rp.getEscrowAuthoritySerializer=void 0;const DR=q;function Fbt(){return(0,DR.dataEnum)([["TokenOwner",(0,DR.unit)()],["Creator",(0,DR.struct)([["fields",(0,DR.tuple)([(0,DR.publicKey)()])]])]],{description:"EscrowAuthority"})}rp.getEscrowAuthoritySerializer=Fbt;function Ubt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}rp.escrowAuthority=Ubt;function Vbt(n,e){return e.__kind===n}rp.isEscrowAuthority=Vbt;var HX={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHolderDelegateRoleSerializer=n.HolderDelegateRole=void 0;const e=q;var t;(function(s){s[s.PrintDelegate=0]="PrintDelegate"})(t=n.HolderDelegateRole||(n.HolderDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"HolderDelegateRole"})}n.getHolderDelegateRoleSerializer=r})(HX);var lxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getKeySerializer=n.Key=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.EditionV1=1]="EditionV1",s[s.MasterEditionV1=2]="MasterEditionV1",s[s.ReservationListV1=3]="ReservationListV1",s[s.MetadataV1=4]="MetadataV1",s[s.ReservationListV2=5]="ReservationListV2",s[s.MasterEditionV2=6]="MasterEditionV2",s[s.EditionMarker=7]="EditionMarker",s[s.UseAuthorityRecord=8]="UseAuthorityRecord",s[s.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",s[s.TokenOwnedEscrow=10]="TokenOwnedEscrow",s[s.TokenRecord=11]="TokenRecord",s[s.MetadataDelegate=12]="MetadataDelegate",s[s.EditionMarkerV2=13]="EditionMarkerV2",s[s.HolderDelegate=14]="HolderDelegate"})(t=n.Key||(n.Key={}));function r(){return(0,e.scalarEnum)(t,{description:"Key"})}n.getKeySerializer=r})(lxe);var np={};Object.defineProperty(np,"__esModule",{value:!0});np.isLockArgs=np.lockArgs=np.getLockArgsSerializer=void 0;const qbt=Z,M$=q,jbt=ut;function Hbt(){return(0,M$.dataEnum)([["V1",(0,M$.mapSerializer)((0,M$.struct)([["authorizationData",(0,M$.option)((0,jbt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,qbt.none)()}))]],{description:"LockArgs"})}np.getLockArgsSerializer=Hbt;function Gbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}np.lockArgs=Gbt;function Ybt(n,e){return e.__kind===n}np.isLockArgs=Ybt;var GX={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMetadataDelegateRoleSerializer=n.MetadataDelegateRole=void 0;const e=q;var t;(function(s){s[s.AuthorityItem=0]="AuthorityItem",s[s.Collection=1]="Collection",s[s.Use=2]="Use",s[s.Data=3]="Data",s[s.ProgrammableConfig=4]="ProgrammableConfig",s[s.DataItem=5]="DataItem",s[s.CollectionItem=6]="CollectionItem",s[s.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(t=n.MetadataDelegateRole||(n.MetadataDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"MetadataDelegateRole"})}n.getMetadataDelegateRoleSerializer=r})(GX);var dxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMigrationTypeSerializer=n.MigrationType=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.ProgrammableV1=1]="ProgrammableV1"})(t=n.MigrationType||(n.MigrationType={}));function r(){return(0,e.scalarEnum)(t,{description:"MigrationType"})}n.getMigrationTypeSerializer=r})(dxe);var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.isMintArgs=sp.mintArgs=sp.getMintArgsSerializer=void 0;const Zbt=Z,OR=q,Jbt=ut;function Xbt(){return(0,OR.dataEnum)([["V1",(0,OR.mapSerializer)((0,OR.struct)([["amount",(0,OR.u64)()],["authorizationData",(0,OR.option)((0,Jbt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Zbt.none)()}))]],{description:"MintArgs"})}sp.getMintArgsSerializer=Xbt;function Qbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}sp.mintArgs=Qbt;function e0t(n,e){return e.__kind===n}sp.isMintArgs=e0t;var T6={};Object.defineProperty(T6,"__esModule",{value:!0});T6.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=void 0;const ume=q;function t0t(){return(0,ume.struct)([["edition",(0,ume.u64)()]],{description:"MintNewEditionFromMasterEditionViaTokenArgs"})}T6.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=t0t;var R6={};Object.defineProperty(R6,"__esModule",{value:!0});R6.getPayloadSerializer=void 0;const KN=q,r0t=ut;function n0t(){return(0,KN.struct)([["map",(0,KN.map)((0,KN.string)(),(0,r0t.getPayloadTypeSerializer)())]],{description:"Payload"})}R6.getPayloadSerializer=n0t;var fxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPayloadKeySerializer=n.PayloadKey=void 0;const e=q;var t;(function(s){s[s.Amount=0]="Amount",s[s.Authority=1]="Authority",s[s.AuthoritySeeds=2]="AuthoritySeeds",s[s.Delegate=3]="Delegate",s[s.DelegateSeeds=4]="DelegateSeeds",s[s.Destination=5]="Destination",s[s.DestinationSeeds=6]="DestinationSeeds",s[s.Holder=7]="Holder",s[s.Source=8]="Source",s[s.SourceSeeds=9]="SourceSeeds"})(t=n.PayloadKey||(n.PayloadKey={}));function r(){return(0,e.scalarEnum)(t,{description:"PayloadKey"})}n.getPayloadKeySerializer=r})(fxe);var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.isPayloadType=ip.payloadType=ip.getPayloadTypeSerializer=void 0;const Nl=q,lme=ut;function s0t(){return(0,Nl.dataEnum)([["Pubkey",(0,Nl.struct)([["fields",(0,Nl.tuple)([(0,Nl.publicKey)()])]])],["Seeds",(0,Nl.struct)([["fields",(0,Nl.tuple)([(0,lme.getSeedsVecSerializer)()])]])],["MerkleProof",(0,Nl.struct)([["fields",(0,Nl.tuple)([(0,lme.getProofInfoSerializer)()])]])],["Number",(0,Nl.struct)([["fields",(0,Nl.tuple)([(0,Nl.u64)()])]])]],{description:"PayloadType"})}ip.getPayloadTypeSerializer=s0t;function i0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ip.payloadType=i0t;function o0t(n,e){return e.__kind===n}ip.isPayloadType=o0t;var op={};Object.defineProperty(op,"__esModule",{value:!0});op.isPrintArgs=op.printArgs=op.getPrintArgsSerializer=void 0;const KR=q;function a0t(){return(0,KR.dataEnum)([["V1",(0,KR.struct)([["edition",(0,KR.u64)()]])],["V2",(0,KR.struct)([["edition",(0,KR.u64)()]])]],{description:"PrintArgs"})}op.getPrintArgsSerializer=a0t;function c0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}op.printArgs=c0t;function u0t(n,e){return e.__kind===n}op.isPrintArgs=u0t;var ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.isPrintSupply=ap.printSupply=ap.getPrintSupplySerializer=void 0;const Rk=q;function l0t(){return(0,Rk.dataEnum)([["Zero",(0,Rk.unit)()],["Limited",(0,Rk.struct)([["fields",(0,Rk.tuple)([(0,Rk.u64)()])]])],["Unlimited",(0,Rk.unit)()]],{description:"PrintSupply"})}ap.getPrintSupplySerializer=l0t;function d0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ap.printSupply=d0t;function f0t(n,e){return e.__kind===n}ap.isPrintSupply=f0t;var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.isProgrammableConfig=cp.programmableConfig=cp.getProgrammableConfigSerializer=void 0;const B$=q;function h0t(){return(0,B$.dataEnum)([["V1",(0,B$.struct)([["ruleSet",(0,B$.option)((0,B$.publicKey)())]])]],{description:"ProgrammableConfig"})}cp.getProgrammableConfigSerializer=h0t;function g0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}cp.programmableConfig=g0t;function m0t(n,e){return e.__kind===n}cp.isProgrammableConfig=m0t;var C6={};Object.defineProperty(C6,"__esModule",{value:!0});C6.getProofInfoSerializer=void 0;const LN=q;function y0t(){return(0,LN.struct)([["proof",(0,LN.array)((0,LN.bytes)({size:32}))]],{description:"ProofInfo"})}C6.getProofInfoSerializer=y0t;var M6={};Object.defineProperty(M6,"__esModule",{value:!0});M6.getReservationSerializer=void 0;const z$=q;function p0t(){return(0,z$.struct)([["address",(0,z$.publicKey)()],["spotsRemaining",(0,z$.u64)()],["totalSpots",(0,z$.u64)()]],{description:"Reservation"})}M6.getReservationSerializer=p0t;var B6={};Object.defineProperty(B6,"__esModule",{value:!0});B6.getReservationV1Serializer=void 0;const $$=q;function b0t(){return(0,$$.struct)([["address",(0,$$.publicKey)()],["spotsRemaining",(0,$$.u8)()],["totalSpots",(0,$$.u8)()]],{description:"ReservationV1"})}B6.getReservationV1Serializer=b0t;var hxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRevokeArgsSerializer=n.RevokeArgs=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.SaleV1=1]="SaleV1",s[s.TransferV1=2]="TransferV1",s[s.DataV1=3]="DataV1",s[s.UtilityV1=4]="UtilityV1",s[s.StakingV1=5]="StakingV1",s[s.StandardV1=6]="StandardV1",s[s.LockedTransferV1=7]="LockedTransferV1",s[s.ProgrammableConfigV1=8]="ProgrammableConfigV1",s[s.MigrationV1=9]="MigrationV1",s[s.AuthorityItemV1=10]="AuthorityItemV1",s[s.DataItemV1=11]="DataItemV1",s[s.CollectionItemV1=12]="CollectionItemV1",s[s.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1",s[s.PrintDelegateV1=14]="PrintDelegateV1"})(t=n.RevokeArgs||(n.RevokeArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"RevokeArgs"})}n.getRevokeArgsSerializer=r})(hxe);var up={};Object.defineProperty(up,"__esModule",{value:!0});up.isRuleSetToggle=up.ruleSetToggle=up.getRuleSetToggleSerializer=void 0;const Ck=q;function S0t(){return(0,Ck.dataEnum)([["None",(0,Ck.unit)()],["Clear",(0,Ck.unit)()],["Set",(0,Ck.struct)([["fields",(0,Ck.tuple)([(0,Ck.publicKey)()])]])]],{description:"RuleSetToggle"})}up.getRuleSetToggleSerializer=S0t;function k0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}up.ruleSetToggle=k0t;function v0t(n,e){return e.__kind===n}up.isRuleSetToggle=v0t;var z6={};Object.defineProperty(z6,"__esModule",{value:!0});z6.getSeedsVecSerializer=void 0;const D$=q;function A0t(){return(0,D$.struct)([["seeds",(0,D$.array)((0,D$.bytes)({size:(0,D$.u32)()}))]],{description:"SeedsVec"})}z6.getSeedsVecSerializer=A0t;var $6={};Object.defineProperty($6,"__esModule",{value:!0});$6.getSetCollectionSizeArgsSerializer=void 0;const dme=q;function w0t(){return(0,dme.struct)([["size",(0,dme.u64)()]],{description:"SetCollectionSizeArgs"})}$6.getSetCollectionSizeArgsSerializer=w0t;var gxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenDelegateRoleSerializer=n.TokenDelegateRole=void 0;const e=q;var t;(function(s){s[s.Sale=0]="Sale",s[s.Transfer=1]="Transfer",s[s.Utility=2]="Utility",s[s.Staking=3]="Staking",s[s.Standard=4]="Standard",s[s.LockedTransfer=5]="LockedTransfer",s[s.Migration=6]="Migration"})(t=n.TokenDelegateRole||(n.TokenDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenDelegateRole"})}n.getTokenDelegateRoleSerializer=r})(gxe);var mxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=q;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition",s[s.ProgrammableNonFungible=4]="ProgrammableNonFungible",s[s.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(mxe);var yxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Unlocked=0]="Unlocked",s[s.Locked=1]="Locked",s[s.Listed=2]="Listed"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(yxe);var lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.isTransferArgs=lp.transferArgs=lp.getTransferArgsSerializer=void 0;const I0t=Z,LR=q,_0t=ut;function P0t(){return(0,LR.dataEnum)([["V1",(0,LR.mapSerializer)((0,LR.struct)([["amount",(0,LR.u64)()],["authorizationData",(0,LR.option)((0,_0t.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,I0t.none)()}))]],{description:"TransferArgs"})}lp.getTransferArgsSerializer=P0t;function E0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}lp.transferArgs=E0t;function x0t(n,e){return e.__kind===n}lp.isTransferArgs=x0t;var dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.isUnlockArgs=dp.unlockArgs=dp.getUnlockArgsSerializer=void 0;const T0t=Z,O$=q,R0t=ut;function C0t(){return(0,O$.dataEnum)([["V1",(0,O$.mapSerializer)((0,O$.struct)([["authorizationData",(0,O$.option)((0,R0t.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,T0t.none)()}))]],{description:"UnlockArgs"})}dp.getUnlockArgsSerializer=C0t;function M0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}dp.unlockArgs=M0t;function B0t(n,e){return e.__kind===n}dp.isUnlockArgs=B0t;var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.isUpdateArgs=fp.updateArgs=fp.getUpdateArgsSerializer=void 0;const Zs=Z,ar=q,cn=ut;function z0t(){return(0,ar.dataEnum)([["V1",(0,ar.mapSerializer)((0,ar.struct)([["newUpdateAuthority",(0,ar.option)((0,ar.publicKey)())],["data",(0,ar.option)((0,cn.getDataSerializer)())],["primarySaleHappened",(0,ar.option)((0,ar.bool)())],["isMutable",(0,ar.option)((0,ar.bool)())],["collection",(0,cn.getCollectionToggleSerializer)()],["collectionDetails",(0,cn.getCollectionDetailsToggleSerializer)()],["uses",(0,cn.getUsesToggleSerializer)()],["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Zs.none)(),data:n.data??(0,Zs.none)(),primarySaleHappened:n.primarySaleHappened??(0,Zs.none)(),isMutable:n.isMutable??(0,Zs.none)(),collection:n.collection??(0,cn.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,cn.collectionDetailsToggle)("None"),uses:n.uses??(0,cn.usesToggle)("None"),ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsUpdateAuthorityV2",(0,ar.mapSerializer)((0,ar.struct)([["newUpdateAuthority",(0,ar.option)((0,ar.publicKey)())],["data",(0,ar.option)((0,cn.getDataSerializer)())],["primarySaleHappened",(0,ar.option)((0,ar.bool)())],["isMutable",(0,ar.option)((0,ar.bool)())],["collection",(0,cn.getCollectionToggleSerializer)()],["collectionDetails",(0,cn.getCollectionDetailsToggleSerializer)()],["uses",(0,cn.getUsesToggleSerializer)()],["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["tokenStandard",(0,ar.option)((0,cn.getTokenStandardSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Zs.none)(),data:n.data??(0,Zs.none)(),primarySaleHappened:n.primarySaleHappened??(0,Zs.none)(),isMutable:n.isMutable??(0,Zs.none)(),collection:n.collection??(0,cn.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,cn.collectionDetailsToggle)("None"),uses:n.uses??(0,cn.usesToggle)("None"),ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsAuthorityItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["newUpdateAuthority",(0,ar.option)((0,ar.publicKey)())],["primarySaleHappened",(0,ar.option)((0,ar.bool)())],["isMutable",(0,ar.option)((0,ar.bool)())],["tokenStandard",(0,ar.option)((0,cn.getTokenStandardSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Zs.none)(),primarySaleHappened:n.primarySaleHappened??(0,Zs.none)(),isMutable:n.isMutable??(0,Zs.none)(),tokenStandard:n.tokenStandard??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsCollectionDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["collection",(0,cn.getCollectionToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,cn.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsDataDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["data",(0,ar.option)((0,cn.getDataSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsProgrammableConfigDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsDataItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["data",(0,ar.option)((0,cn.getDataSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsCollectionItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["collection",(0,cn.getCollectionToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,cn.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsProgrammableConfigItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))]],{description:"UpdateArgs"})}fp.getUpdateArgsSerializer=z0t;function $0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}fp.updateArgs=$0t;function D0t(n,e){return e.__kind===n}fp.isUpdateArgs=D0t;var hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.isUseArgs=hp.useArgs=hp.getUseArgsSerializer=void 0;const O0t=Z,K$=q,K0t=ut;function L0t(){return(0,K$.dataEnum)([["V1",(0,K$.mapSerializer)((0,K$.struct)([["authorizationData",(0,K$.option)((0,K0t.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,O0t.none)()}))]],{description:"UseArgs"})}hp.getUseArgsSerializer=L0t;function W0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}hp.useArgs=W0t;function N0t(n,e){return e.__kind===n}hp.isUseArgs=N0t;var pxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=q;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(pxe);var D6={};Object.defineProperty(D6,"__esModule",{value:!0});D6.getUsesSerializer=void 0;const WN=q,F0t=ut;function U0t(){return(0,WN.struct)([["useMethod",(0,F0t.getUseMethodSerializer)()],["remaining",(0,WN.u64)()],["total",(0,WN.u64)()]],{description:"Uses"})}D6.getUsesSerializer=U0t;var gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.isUsesToggle=gp.usesToggle=gp.getUsesToggleSerializer=void 0;const WR=q,V0t=ut;function q0t(){return(0,WR.dataEnum)([["None",(0,WR.unit)()],["Clear",(0,WR.unit)()],["Set",(0,WR.struct)([["fields",(0,WR.tuple)([(0,V0t.getUsesSerializer)()])]])]],{description:"UsesToggle"})}gp.getUsesToggleSerializer=q0t;function j0t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}gp.usesToggle=j0t;function H0t(n,e){return e.__kind===n}gp.isUsesToggle=H0t;var bxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVerificationArgsSerializer=n.VerificationArgs=void 0;const e=q;var t;(function(s){s[s.CreatorV1=0]="CreatorV1",s[s.CollectionV1=1]="CollectionV1"})(t=n.VerificationArgs||(n.VerificationArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"VerificationArgs"})}n.getVerificationArgsSerializer=r})(bxe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(uxe,n),t(I6,n),t(Zy,n),t(_6,n),t(Jy,n),t(Xy,n),t(Qy,n),t(ep,n),t(P6,n),t(E6,n),t(x6,n),t(tp,n),t(rp,n),t(HX,n),t(lxe,n),t(np,n),t(GX,n),t(dxe,n),t(sp,n),t(T6,n),t(R6,n),t(fxe,n),t(ip,n),t(op,n),t(ap,n),t(cp,n),t(C6,n),t(M6,n),t(B6,n),t(hxe,n),t(up,n),t(z6,n),t($6,n),t(gxe,n),t(mxe,n),t(yxe,n),t(lp,n),t(dp,n),t(fp,n),t(hp,n),t(pxe,n),t(D6,n),t(gp,n),t(bxe,n)})(ut);Object.defineProperty(po,"__esModule",{value:!0});po.safeFetchCollectionAuthorityRecordFromSeeds=po.fetchCollectionAuthorityRecordFromSeeds=po.findCollectionAuthorityRecordPda=po.getCollectionAuthorityRecordGpaBuilder=po.safeFetchAllCollectionAuthorityRecord=po.fetchAllCollectionAuthorityRecord=po.safeFetchCollectionAuthorityRecord=po.fetchCollectionAuthorityRecord=po.deserializeCollectionAuthorityRecord=po.getCollectionAuthorityRecordAccountDataSerializer=void 0;const Zp=Z,Yu=q,BO=ut;function Sxe(){return(0,Yu.mapSerializer)((0,Yu.struct)([["key",(0,BO.getKeySerializer)()],["bump",(0,Yu.u8)()],["updateAuthority",(0,Yu.option)((0,Yu.publicKey)())]],{description:"CollectionAuthorityRecordAccountData"}),n=>({...n,key:BO.Key.CollectionAuthorityRecord}))}po.getCollectionAuthorityRecordAccountDataSerializer=Sxe;function AT(n){return(0,Zp.deserializeAccount)(n,Sxe())}po.deserializeCollectionAuthorityRecord=AT;async function kxe(n,e,t){const r=await n.rpc.getAccount((0,Zp.publicKey)(e,!1),t);return(0,Zp.assertAccountExists)(r,"CollectionAuthorityRecord"),AT(r)}po.fetchCollectionAuthorityRecord=kxe;async function vxe(n,e,t){const r=await n.rpc.getAccount((0,Zp.publicKey)(e,!1),t);return r.exists?AT(r):null}po.safeFetchCollectionAuthorityRecord=vxe;async function G0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Zp.publicKey)(s,!1)),t)).map(s=>((0,Zp.assertAccountExists)(s,"CollectionAuthorityRecord"),AT(s)))}po.fetchAllCollectionAuthorityRecord=G0t;async function Y0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Zp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>AT(s))}po.safeFetchAllCollectionAuthorityRecord=Y0t;function Z0t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Zp.gpaBuilder)(n,e).registerFields({key:[0,(0,BO.getKeySerializer)()],bump:[1,(0,Yu.u8)()],updateAuthority:[2,(0,Yu.option)((0,Yu.publicKey)())]}).deserializeUsing(t=>AT(t)).whereField("key",BO.Key.CollectionAuthorityRecord)}po.getCollectionAuthorityRecordGpaBuilder=Z0t;function YX(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Yu.string)({size:"variable"}).serialize("metadata"),(0,Yu.publicKey)().serialize(t),(0,Yu.publicKey)().serialize(e.mint),(0,Yu.string)({size:"variable"}).serialize("collection_authority"),(0,Yu.publicKey)().serialize(e.collectionAuthority)])}po.findCollectionAuthorityRecordPda=YX;async function J0t(n,e,t){return kxe(n,YX(n,e),t)}po.fetchCollectionAuthorityRecordFromSeeds=J0t;async function X0t(n,e,t){return vxe(n,YX(n,e),t)}po.safeFetchCollectionAuthorityRecordFromSeeds=X0t;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.safeFetchDeprecatedMasterEditionV1FromSeeds=bo.fetchDeprecatedMasterEditionV1FromSeeds=bo.findDeprecatedMasterEditionV1Pda=bo.getDeprecatedMasterEditionV1GpaBuilder=bo.safeFetchAllDeprecatedMasterEditionV1=bo.fetchAllDeprecatedMasterEditionV1=bo.safeFetchDeprecatedMasterEditionV1=bo.fetchDeprecatedMasterEditionV1=bo.deserializeDeprecatedMasterEditionV1=bo.getDeprecatedMasterEditionV1AccountDataSerializer=void 0;const Jp=Z,Sc=q,zO=ut;function Axe(){return(0,Sc.mapSerializer)((0,Sc.struct)([["key",(0,zO.getKeySerializer)()],["supply",(0,Sc.u64)()],["maxSupply",(0,Sc.option)((0,Sc.u64)())],["printingMint",(0,Sc.publicKey)()],["oneTimePrintingAuthorizationMint",(0,Sc.publicKey)()]],{description:"DeprecatedMasterEditionV1AccountData"}),n=>({...n,key:zO.Key.MasterEditionV1}))}bo.getDeprecatedMasterEditionV1AccountDataSerializer=Axe;function wT(n){return(0,Jp.deserializeAccount)(n,Axe())}bo.deserializeDeprecatedMasterEditionV1=wT;async function wxe(n,e,t){const r=await n.rpc.getAccount((0,Jp.publicKey)(e,!1),t);return(0,Jp.assertAccountExists)(r,"DeprecatedMasterEditionV1"),wT(r)}bo.fetchDeprecatedMasterEditionV1=wxe;async function Ixe(n,e,t){const r=await n.rpc.getAccount((0,Jp.publicKey)(e,!1),t);return r.exists?wT(r):null}bo.safeFetchDeprecatedMasterEditionV1=Ixe;async function Q0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Jp.publicKey)(s,!1)),t)).map(s=>((0,Jp.assertAccountExists)(s,"DeprecatedMasterEditionV1"),wT(s)))}bo.fetchAllDeprecatedMasterEditionV1=Q0t;async function e1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Jp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>wT(s))}bo.safeFetchAllDeprecatedMasterEditionV1=e1t;function t1t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Jp.gpaBuilder)(n,e).registerFields({key:[0,(0,zO.getKeySerializer)()],supply:[1,(0,Sc.u64)()],maxSupply:[9,(0,Sc.option)((0,Sc.u64)())],printingMint:[null,(0,Sc.publicKey)()],oneTimePrintingAuthorizationMint:[null,(0,Sc.publicKey)()]}).deserializeUsing(t=>wT(t)).whereField("key",zO.Key.MasterEditionV1)}bo.getDeprecatedMasterEditionV1GpaBuilder=t1t;function ZX(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Sc.string)({size:"variable"}).serialize("metadata"),(0,Sc.publicKey)().serialize(t),(0,Sc.publicKey)().serialize(e.mint),(0,Sc.string)({size:"variable"}).serialize("edition")])}bo.findDeprecatedMasterEditionV1Pda=ZX;async function r1t(n,e,t){return wxe(n,ZX(n,e),t)}bo.fetchDeprecatedMasterEditionV1FromSeeds=r1t;async function n1t(n,e,t){return Ixe(n,ZX(n,e),t)}bo.safeFetchDeprecatedMasterEditionV1FromSeeds=n1t;var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.getEditionSize=Ea.getEditionGpaBuilder=Ea.safeFetchAllEdition=Ea.fetchAllEdition=Ea.safeFetchEdition=Ea.fetchEdition=Ea.deserializeEdition=Ea.getEditionAccountDataSerializer=void 0;const Xp=Z,Rv=q,$O=ut;function _xe(){return(0,Rv.mapSerializer)((0,Rv.struct)([["key",(0,$O.getKeySerializer)()],["parent",(0,Rv.publicKey)()],["edition",(0,Rv.u64)()]],{description:"EditionAccountData"}),n=>({...n,key:$O.Key.EditionV1}))}Ea.getEditionAccountDataSerializer=_xe;function IT(n){return(0,Xp.deserializeAccount)(n,_xe())}Ea.deserializeEdition=IT;async function s1t(n,e,t){const r=await n.rpc.getAccount((0,Xp.publicKey)(e,!1),t);return(0,Xp.assertAccountExists)(r,"Edition"),IT(r)}Ea.fetchEdition=s1t;async function i1t(n,e,t){const r=await n.rpc.getAccount((0,Xp.publicKey)(e,!1),t);return r.exists?IT(r):null}Ea.safeFetchEdition=i1t;async function o1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Xp.publicKey)(s,!1)),t)).map(s=>((0,Xp.assertAccountExists)(s,"Edition"),IT(s)))}Ea.fetchAllEdition=o1t;async function a1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Xp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>IT(s))}Ea.safeFetchAllEdition=a1t;function c1t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Xp.gpaBuilder)(n,e).registerFields({key:[0,(0,$O.getKeySerializer)()],parent:[1,(0,Rv.publicKey)()],edition:[33,(0,Rv.u64)()]}).deserializeUsing(t=>IT(t)).whereField("key",$O.Key.EditionV1)}Ea.getEditionGpaBuilder=c1t;function u1t(){return 41}Ea.getEditionSize=u1t;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.safeFetchEditionMarkerFromSeeds=ti.fetchEditionMarkerFromSeeds=ti.findEditionMarkerPda=ti.getEditionMarkerSize=ti.getEditionMarkerGpaBuilder=ti.safeFetchAllEditionMarker=ti.fetchAllEditionMarker=ti.safeFetchEditionMarker=ti.fetchEditionMarker=ti.deserializeEditionMarker=ti.getEditionMarkerAccountDataSerializer=void 0;const Qp=Z,Ql=q,DO=ut;function Pxe(){return(0,Ql.mapSerializer)((0,Ql.struct)([["key",(0,DO.getKeySerializer)()],["ledger",(0,Ql.array)((0,Ql.u8)(),{size:31})]],{description:"EditionMarkerAccountData"}),n=>({...n,key:DO.Key.EditionMarker}))}ti.getEditionMarkerAccountDataSerializer=Pxe;function _T(n){return(0,Qp.deserializeAccount)(n,Pxe())}ti.deserializeEditionMarker=_T;async function Exe(n,e,t){const r=await n.rpc.getAccount((0,Qp.publicKey)(e,!1),t);return(0,Qp.assertAccountExists)(r,"EditionMarker"),_T(r)}ti.fetchEditionMarker=Exe;async function xxe(n,e,t){const r=await n.rpc.getAccount((0,Qp.publicKey)(e,!1),t);return r.exists?_T(r):null}ti.safeFetchEditionMarker=xxe;async function l1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Qp.publicKey)(s,!1)),t)).map(s=>((0,Qp.assertAccountExists)(s,"EditionMarker"),_T(s)))}ti.fetchAllEditionMarker=l1t;async function d1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Qp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>_T(s))}ti.safeFetchAllEditionMarker=d1t;function f1t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Qp.gpaBuilder)(n,e).registerFields({key:[0,(0,DO.getKeySerializer)()],ledger:[1,(0,Ql.array)((0,Ql.u8)(),{size:31})]}).deserializeUsing(t=>_T(t)).whereField("key",DO.Key.EditionMarker)}ti.getEditionMarkerGpaBuilder=f1t;function h1t(){return 32}ti.getEditionMarkerSize=h1t;function JX(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ql.string)({size:"variable"}).serialize("metadata"),(0,Ql.publicKey)().serialize(t),(0,Ql.publicKey)().serialize(e.mint),(0,Ql.string)({size:"variable"}).serialize("edition"),(0,Ql.string)({size:"variable"}).serialize(e.editionMarker)])}ti.findEditionMarkerPda=JX;async function g1t(n,e,t){return Exe(n,JX(n,e),t)}ti.fetchEditionMarkerFromSeeds=g1t;async function m1t(n,e,t){return xxe(n,JX(n,e),t)}ti.safeFetchEditionMarkerFromSeeds=m1t;var So={};Object.defineProperty(So,"__esModule",{value:!0});So.safeFetchEditionMarkerV2FromSeeds=So.fetchEditionMarkerV2FromSeeds=So.findEditionMarkerV2Pda=So.getEditionMarkerV2GpaBuilder=So.safeFetchAllEditionMarkerV2=So.fetchAllEditionMarkerV2=So.safeFetchEditionMarkerV2=So.fetchEditionMarkerV2=So.deserializeEditionMarkerV2=So.getEditionMarkerV2AccountDataSerializer=void 0;const eb=Z,Cf=q,Txe=ut;function Rxe(){return(0,Cf.struct)([["key",(0,Txe.getKeySerializer)()],["ledger",(0,Cf.bytes)({size:(0,Cf.u32)()})]],{description:"EditionMarkerV2AccountData"})}So.getEditionMarkerV2AccountDataSerializer=Rxe;function PT(n){return(0,eb.deserializeAccount)(n,Rxe())}So.deserializeEditionMarkerV2=PT;async function Cxe(n,e,t){const r=await n.rpc.getAccount((0,eb.publicKey)(e,!1),t);return(0,eb.assertAccountExists)(r,"EditionMarkerV2"),PT(r)}So.fetchEditionMarkerV2=Cxe;async function Mxe(n,e,t){const r=await n.rpc.getAccount((0,eb.publicKey)(e,!1),t);return r.exists?PT(r):null}So.safeFetchEditionMarkerV2=Mxe;async function y1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,eb.publicKey)(s,!1)),t)).map(s=>((0,eb.assertAccountExists)(s,"EditionMarkerV2"),PT(s)))}So.fetchAllEditionMarkerV2=y1t;async function p1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,eb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>PT(s))}So.safeFetchAllEditionMarkerV2=p1t;function b1t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,eb.gpaBuilder)(n,e).registerFields({key:[0,(0,Txe.getKeySerializer)()],ledger:[1,(0,Cf.bytes)({size:(0,Cf.u32)()})]}).deserializeUsing(t=>PT(t))}So.getEditionMarkerV2GpaBuilder=b1t;function XX(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Cf.string)({size:"variable"}).serialize("metadata"),(0,Cf.publicKey)().serialize(t),(0,Cf.publicKey)().serialize(e.mint),(0,Cf.string)({size:"variable"}).serialize("edition"),(0,Cf.string)({size:"variable"}).serialize("marker")])}So.findEditionMarkerV2Pda=XX;async function S1t(n,e,t){return Cxe(n,XX(n,e),t)}So.fetchEditionMarkerV2FromSeeds=S1t;async function k1t(n,e,t){return Mxe(n,XX(n,e),t)}So.safeFetchEditionMarkerV2FromSeeds=k1t;var ri={},on={},O6={};Object.defineProperty(O6,"__esModule",{value:!0});O6.findEditionMarkerFromEditionNumberPda=void 0;const v1t=zb;function A1t(n,e){return(0,v1t.findEditionMarkerPda)(n,{mint:e.mint,editionMarker:(BigInt(e.editionNumber)/248n).toString(10)})}O6.findEditionMarkerFromEditionNumberPda=A1t;var K6={},$b={};Object.defineProperty($b,"__esModule",{value:!0});$b.TokenMetadataError=void 0;const w1t=Z;class I1t extends w1t.UmiError{constructor(e,t){super(e,"plugin","Token Metadata",t),this.name="TokenMetadataError"}}$b.TokenMetadataError=I1t;Object.defineProperty(K6,"__esModule",{value:!0});K6.getMetadataDelegateRoleSeedSerializer=void 0;const fme=q,_1t=$b,ty=GX;function P1t(){return(0,fme.mapSerializer)((0,fme.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case ty.MetadataDelegateRole.AuthorityItem:return"authority_item_delegate";case ty.MetadataDelegateRole.Collection:return"collection_delegate";case ty.MetadataDelegateRole.Use:return"use_delegate";case ty.MetadataDelegateRole.Data:return"data_delegate";case ty.MetadataDelegateRole.ProgrammableConfig:return"programmable_config_delegate";case ty.MetadataDelegateRole.DataItem:return"data_item_delegate";case ty.MetadataDelegateRole.CollectionItem:return"collection_item_delegate";case ty.MetadataDelegateRole.ProgrammableConfigItem:return"prog_config_item_delegate";default:throw new _1t.TokenMetadataError(`Invalid MetadataDelegateRoleArgs ${n}`)}},n=>n)}K6.getMetadataDelegateRoleSeedSerializer=P1t;var L6={};Object.defineProperty(L6,"__esModule",{value:!0});L6.getHolderDelegateRoleSeedSerializer=void 0;const hme=q,E1t=$b,x1t=HX;function T1t(){return(0,hme.mapSerializer)((0,hme.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case x1t.HolderDelegateRole.PrintDelegate:return"print_delegate";default:throw new E1t.TokenMetadataError(`Invalid PrintDelegateRoleArgs ${n}`)}},n=>n)}L6.getHolderDelegateRoleSeedSerializer=T1t;var xa={},Hs={},um={},W6={},ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.safeFetchAddressLookupTableFromSeeds=ko.fetchAddressLookupTableFromSeeds=ko.findAddressLookupTablePda=ko.getAddressLookupTableGpaBuilder=ko.safeFetchAllAddressLookupTable=ko.fetchAllAddressLookupTable=ko.safeFetchAddressLookupTable=ko.fetchAddressLookupTable=ko.deserializeAddressLookupTable=ko.getAddressLookupTableAccountDataSerializer=void 0;const tb=Z,oo=q;function Bxe(){return(0,oo.mapSerializer)((0,oo.struct)([["discriminator",(0,oo.u32)()],["deactivationSlot",(0,oo.u64)()],["lastExtendedSlot",(0,oo.u64)()],["lastExtendedStartIndex",(0,oo.u8)()],["authority",(0,oo.option)((0,oo.publicKey)(),{fixed:!0})],["padding",(0,oo.u16)()],["addresses",(0,oo.array)((0,oo.publicKey)(),{size:"remainder"})]],{description:"AddressLookupTableAccountData"}),n=>({...n,discriminator:1,padding:0}))}ko.getAddressLookupTableAccountDataSerializer=Bxe;function ET(n){return(0,tb.deserializeAccount)(n,Bxe())}ko.deserializeAddressLookupTable=ET;async function zxe(n,e,t){const r=await n.rpc.getAccount((0,tb.publicKey)(e,!1),t);return(0,tb.assertAccountExists)(r,"AddressLookupTable"),ET(r)}ko.fetchAddressLookupTable=zxe;async function $xe(n,e,t){const r=await n.rpc.getAccount((0,tb.publicKey)(e,!1),t);return r.exists?ET(r):null}ko.safeFetchAddressLookupTable=$xe;async function R1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,tb.publicKey)(s,!1)),t)).map(s=>((0,tb.assertAccountExists)(s,"AddressLookupTable"),ET(s)))}ko.fetchAllAddressLookupTable=R1t;async function C1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,tb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>ET(s))}ko.safeFetchAllAddressLookupTable=C1t;function M1t(n){const e=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return(0,tb.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,oo.u32)()],deactivationSlot:[4,(0,oo.u64)()],lastExtendedSlot:[12,(0,oo.u64)()],lastExtendedStartIndex:[20,(0,oo.u8)()],authority:[21,(0,oo.option)((0,oo.publicKey)(),{fixed:!0})],padding:[54,(0,oo.u16)()],addresses:[56,(0,oo.array)((0,oo.publicKey)(),{size:"remainder"})]}).deserializeUsing(t=>ET(t)).whereField("discriminator",1)}ko.getAddressLookupTableGpaBuilder=M1t;function QX(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return n.eddsa.findPda(t,[(0,oo.publicKey)().serialize(e.authority),(0,oo.u64)().serialize(e.recentSlot)])}ko.findAddressLookupTablePda=QX;async function B1t(n,e,t){return zxe(n,QX(n,e),t)}ko.fetchAddressLookupTableFromSeeds=B1t;async function z1t(n,e,t){return $xe(n,QX(n,e),t)}ko.safeFetchAddressLookupTableFromSeeds=z1t;var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});Ta.getMintSize=Ta.getMintGpaBuilder=Ta.safeFetchAllMint=Ta.fetchAllMint=Ta.safeFetchMint=Ta.fetchMint=Ta.deserializeMint=Ta.getMintAccountDataSerializer=void 0;const rb=Z,Yo=q;function Dxe(){return(0,Yo.struct)([["mintAuthority",(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})],["supply",(0,Yo.u64)()],["decimals",(0,Yo.u8)()],["isInitialized",(0,Yo.bool)()],["freezeAuthority",(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})]],{description:"MintAccountData"})}Ta.getMintAccountDataSerializer=Dxe;function xT(n){return(0,rb.deserializeAccount)(n,Dxe())}Ta.deserializeMint=xT;async function $1t(n,e,t){const r=await n.rpc.getAccount((0,rb.publicKey)(e,!1),t);return(0,rb.assertAccountExists)(r,"Mint"),xT(r)}Ta.fetchMint=$1t;async function D1t(n,e,t){const r=await n.rpc.getAccount((0,rb.publicKey)(e,!1),t);return r.exists?xT(r):null}Ta.safeFetchMint=D1t;async function O1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,rb.publicKey)(s,!1)),t)).map(s=>((0,rb.assertAccountExists)(s,"Mint"),xT(s)))}Ta.fetchAllMint=O1t;async function K1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,rb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>xT(s))}Ta.safeFetchAllMint=K1t;function L1t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,rb.gpaBuilder)(n,e).registerFields({mintAuthority:[0,(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})],supply:[36,(0,Yo.u64)()],decimals:[44,(0,Yo.u8)()],isInitialized:[45,(0,Yo.bool)()],freezeAuthority:[46,(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})]}).deserializeUsing(t=>xT(t)).whereSize(82)}Ta.getMintGpaBuilder=L1t;function W1t(){return 82}Ta.getMintSize=W1t;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.getMultisigSize=Ra.getMultisigGpaBuilder=Ra.safeFetchAllMultisig=Ra.fetchAllMultisig=Ra.safeFetchMultisig=Ra.fetchMultisig=Ra.deserializeMultisig=Ra.getMultisigAccountDataSerializer=void 0;const nb=Z,Jl=q;function Oxe(){return(0,Jl.struct)([["m",(0,Jl.u8)()],["n",(0,Jl.u8)()],["isInitialized",(0,Jl.bool)()],["signers",(0,Jl.array)((0,Jl.publicKey)(),{size:11})]],{description:"MultisigAccountData"})}Ra.getMultisigAccountDataSerializer=Oxe;function TT(n){return(0,nb.deserializeAccount)(n,Oxe())}Ra.deserializeMultisig=TT;async function N1t(n,e,t){const r=await n.rpc.getAccount((0,nb.publicKey)(e,!1),t);return(0,nb.assertAccountExists)(r,"Multisig"),TT(r)}Ra.fetchMultisig=N1t;async function F1t(n,e,t){const r=await n.rpc.getAccount((0,nb.publicKey)(e,!1),t);return r.exists?TT(r):null}Ra.safeFetchMultisig=F1t;async function U1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,nb.publicKey)(s,!1)),t)).map(s=>((0,nb.assertAccountExists)(s,"Multisig"),TT(s)))}Ra.fetchAllMultisig=U1t;async function V1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,nb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>TT(s))}Ra.safeFetchAllMultisig=V1t;function q1t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,nb.gpaBuilder)(n,e).registerFields({m:[0,(0,Jl.u8)()],n:[1,(0,Jl.u8)()],isInitialized:[2,(0,Jl.bool)()],signers:[3,(0,Jl.array)((0,Jl.publicKey)(),{size:11})]}).deserializeUsing(t=>TT(t)).whereSize(355)}Ra.getMultisigGpaBuilder=q1t;function j1t(){return 355}Ra.getMultisigSize=j1t;var Ca={},N6={},Kxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.MintTokens=0]="MintTokens",s[s.FreezeAccount=1]="FreezeAccount",s[s.AccountOwner=2]="AccountOwner",s[s.CloseAccount=3]="CloseAccount"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(Kxe);var Lxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initialized=1]="Initialized",s[s.Frozen=2]="Frozen"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(Lxe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Kxe,n),t(Lxe,n)})(N6);Object.defineProperty(Ca,"__esModule",{value:!0});Ca.getTokenSize=Ca.getTokenGpaBuilder=Ca.safeFetchAllToken=Ca.fetchAllToken=Ca.safeFetchToken=Ca.fetchToken=Ca.deserializeToken=Ca.getTokenAccountDataSerializer=void 0;const sb=Z,ms=q,Wxe=N6;function Nxe(){return(0,ms.struct)([["mint",(0,ms.publicKey)()],["owner",(0,ms.publicKey)()],["amount",(0,ms.u64)()],["delegate",(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})],["state",(0,Wxe.getTokenStateSerializer)()],["isNative",(0,ms.option)((0,ms.u64)(),{prefix:(0,ms.u32)(),fixed:!0})],["delegatedAmount",(0,ms.u64)()],["closeAuthority",(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})]],{description:"TokenAccountData"})}Ca.getTokenAccountDataSerializer=Nxe;function RT(n){return(0,sb.deserializeAccount)(n,Nxe())}Ca.deserializeToken=RT;async function H1t(n,e,t){const r=await n.rpc.getAccount((0,sb.publicKey)(e,!1),t);return(0,sb.assertAccountExists)(r,"Token"),RT(r)}Ca.fetchToken=H1t;async function G1t(n,e,t){const r=await n.rpc.getAccount((0,sb.publicKey)(e,!1),t);return r.exists?RT(r):null}Ca.safeFetchToken=G1t;async function Y1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,sb.publicKey)(s,!1)),t)).map(s=>((0,sb.assertAccountExists)(s,"Token"),RT(s)))}Ca.fetchAllToken=Y1t;async function Z1t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,sb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>RT(s))}Ca.safeFetchAllToken=Z1t;function J1t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,sb.gpaBuilder)(n,e).registerFields({mint:[0,(0,ms.publicKey)()],owner:[32,(0,ms.publicKey)()],amount:[64,(0,ms.u64)()],delegate:[72,(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})],state:[108,(0,Wxe.getTokenStateSerializer)()],isNative:[109,(0,ms.option)((0,ms.u64)(),{prefix:(0,ms.u32)(),fixed:!0})],delegatedAmount:[121,(0,ms.u64)()],closeAuthority:[129,(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})]}).deserializeUsing(t=>RT(t)).whereSize(165)}Ca.getTokenGpaBuilder=J1t;function X1t(){return 165}Ca.getTokenSize=X1t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(ko,n),t(Ta,n),t(Ra,n),t(Ca,n)})(W6);var Sh={},Df={};Object.defineProperty(Df,"__esModule",{value:!0});Df.getMplSystemExtrasErrorFromName=Df.getMplSystemExtrasErrorFromCode=Df.SysExInvalidOwnerForSourceError=Df.SysExInvalidSystemProgramError=void 0;const Fxe=Z,eQ=new Map,tQ=new Map;class rQ extends Fxe.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}Df.SysExInvalidSystemProgramError=rQ;eQ.set(0,rQ);tQ.set("InvalidSystemProgram",rQ);class nQ extends Fxe.ProgramError{constructor(e,t){super("Invalid Program Owner For The Source Account",e,t),this.name="InvalidOwnerForSource",this.code=1}}Df.SysExInvalidOwnerForSourceError=nQ;eQ.set(1,nQ);tQ.set("InvalidOwnerForSource",nQ);function Q1t(n,e,t){const r=eQ.get(n);return r?new r(e,t):null}Df.getMplSystemExtrasErrorFromCode=Q1t;function eSt(n,e,t){const r=tQ.get(n);return r?new r(e,t):null}Df.getMplSystemExtrasErrorFromName=eSt;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.getMplTokenExtrasErrorFromName=vo.getMplTokenExtrasErrorFromCode=vo.TokExCannotCreateNonAssociatedTokenError=vo.TokExInvalidTokenOwnerError=vo.TokExInvalidTokenMintError=vo.TokExInvalidProgramOwnerError=vo.TokExInvalidAssociatedTokenAccountError=vo.TokExInvalidAssociatedTokenProgramError=vo.TokExInvalidTokenProgramError=vo.TokExInvalidSystemProgramError=void 0;const Db=Z,lm=new Map,dm=new Map;class sQ extends Db.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}vo.TokExInvalidSystemProgramError=sQ;lm.set(0,sQ);dm.set("InvalidSystemProgram",sQ);class iQ extends Db.ProgramError{constructor(e,t){super("Invalid Token Program",e,t),this.name="InvalidTokenProgram",this.code=1}}vo.TokExInvalidTokenProgramError=iQ;lm.set(1,iQ);dm.set("InvalidTokenProgram",iQ);class oQ extends Db.ProgramError{constructor(e,t){super("Invalid Associated Token Program",e,t),this.name="InvalidAssociatedTokenProgram",this.code=2}}vo.TokExInvalidAssociatedTokenProgramError=oQ;lm.set(2,oQ);dm.set("InvalidAssociatedTokenProgram",oQ);class aQ extends Db.ProgramError{constructor(e,t){super("Invalid Associated Token Account: it should derive from the provided mint and owner",e,t),this.name="InvalidAssociatedTokenAccount",this.code=3}}vo.TokExInvalidAssociatedTokenAccountError=aQ;lm.set(3,aQ);dm.set("InvalidAssociatedTokenAccount",aQ);class cQ extends Db.ProgramError{constructor(e,t){super("Invalid Program Owner",e,t),this.name="InvalidProgramOwner",this.code=4}}vo.TokExInvalidProgramOwnerError=cQ;lm.set(4,cQ);dm.set("InvalidProgramOwner",cQ);class uQ extends Db.ProgramError{constructor(e,t){super("Invalid Token Mint: it should be the same as the provided mint account",e,t),this.name="InvalidTokenMint",this.code=5}}vo.TokExInvalidTokenMintError=uQ;lm.set(5,uQ);dm.set("InvalidTokenMint",uQ);class lQ extends Db.ProgramError{constructor(e,t){super("Invalid Program Owner: it should be the same as the provided owner account",e,t),this.name="InvalidTokenOwner",this.code=6}}vo.TokExInvalidTokenOwnerError=lQ;lm.set(6,lQ);dm.set("InvalidTokenOwner",lQ);class dQ extends Db.ProgramError{constructor(e,t){super("Cannot create non-associated token accounts as they would need to sign the transaction. Please provide an associated token account instead",e,t),this.name="CannotCreateNonAssociatedToken",this.code=7}}vo.TokExCannotCreateNonAssociatedTokenError=dQ;lm.set(7,dQ);dm.set("CannotCreateNonAssociatedToken",dQ);function tSt(n,e,t){const r=lm.get(n);return r?new r(e,t):null}vo.getMplTokenExtrasErrorFromCode=tSt;function rSt(n,e,t){const r=dm.get(n);return r?new r(e,t):null}vo.getMplTokenExtrasErrorFromName=rSt;var mw={};Object.defineProperty(mw,"__esModule",{value:!0});mw.getSplAddressLookupTableErrorFromName=mw.getSplAddressLookupTableErrorFromCode=void 0;const nSt=new Map,sSt=new Map;function iSt(n,e,t){const r=nSt.get(n);return r?new r(e,t):null}mw.getSplAddressLookupTableErrorFromCode=iSt;function oSt(n,e,t){const r=sSt.get(n);return r?new r(e,t):null}mw.getSplAddressLookupTableErrorFromName=oSt;var mp={};Object.defineProperty(mp,"__esModule",{value:!0});mp.getSplAssociatedTokenErrorFromName=mp.getSplAssociatedTokenErrorFromCode=mp.AtaInvalidOwnerError=void 0;const aSt=Z,Uxe=new Map,Vxe=new Map;class fQ extends aSt.ProgramError{constructor(e,t){super("Associated token account owner does not match address derivation",e,t),this.name="InvalidOwner",this.code=0}}mp.AtaInvalidOwnerError=fQ;Uxe.set(0,fQ);Vxe.set("InvalidOwner",fQ);function cSt(n,e,t){const r=Uxe.get(n);return r?new r(e,t):null}mp.getSplAssociatedTokenErrorFromCode=cSt;function uSt(n,e,t){const r=Vxe.get(n);return r?new r(e,t):null}mp.getSplAssociatedTokenErrorFromName=uSt;var yw={};Object.defineProperty(yw,"__esModule",{value:!0});yw.getSplComputeBudgetErrorFromName=yw.getSplComputeBudgetErrorFromCode=void 0;const lSt=new Map,dSt=new Map;function fSt(n,e,t){const r=lSt.get(n);return r?new r(e,t):null}yw.getSplComputeBudgetErrorFromCode=fSt;function hSt(n,e,t){const r=dSt.get(n);return r?new r(e,t):null}yw.getSplComputeBudgetErrorFromName=hSt;var pw={};Object.defineProperty(pw,"__esModule",{value:!0});pw.getSplMemoErrorFromName=pw.getSplMemoErrorFromCode=void 0;const gSt=new Map,mSt=new Map;function ySt(n,e,t){const r=gSt.get(n);return r?new r(e,t):null}pw.getSplMemoErrorFromCode=ySt;function pSt(n,e,t){const r=mSt.get(n);return r?new r(e,t):null}pw.getSplMemoErrorFromName=pSt;var bw={};Object.defineProperty(bw,"__esModule",{value:!0});bw.getSplSystemErrorFromName=bw.getSplSystemErrorFromCode=void 0;const bSt=new Map,SSt=new Map;function kSt(n,e,t){const r=bSt.get(n);return r?new r(e,t):null}bw.getSplSystemErrorFromCode=kSt;function vSt(n,e,t){const r=SSt.get(n);return r?new r(e,t):null}bw.getSplSystemErrorFromName=vSt;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.getSplTokenErrorFromName=vr.getSplTokenErrorFromCode=vr.TokNonNativeNotSupportedError=vr.TokMintDecimalsMismatchError=vr.TokAccountFrozenError=vr.TokMintCannotFreezeError=vr.TokAuthorityTypeNotSupportedError=vr.TokOverflowError=vr.TokInvalidStateError=vr.TokInvalidInstructionError=vr.TokNonNativeHasBalanceError=vr.TokNativeNotSupportedError=vr.TokUninitializedStateError=vr.TokInvalidNumberOfRequiredSignersError=vr.TokInvalidNumberOfProvidedSignersError=vr.TokAlreadyInUseError=vr.TokFixedSupplyError=vr.TokOwnerMismatchError=vr.TokMintMismatchError=vr.TokInvalidMintError=vr.TokInsufficientFundsError=vr.TokNotRentExemptError=void 0;const Vo=Z,Do=new Map,Oo=new Map;class hQ extends Vo.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=0}}vr.TokNotRentExemptError=hQ;Do.set(0,hQ);Oo.set("NotRentExempt",hQ);class gQ extends Vo.ProgramError{constructor(e,t){super("Insufficient funds",e,t),this.name="InsufficientFunds",this.code=1}}vr.TokInsufficientFundsError=gQ;Do.set(1,gQ);Oo.set("InsufficientFunds",gQ);class mQ extends Vo.ProgramError{constructor(e,t){super("Invalid Mint",e,t),this.name="InvalidMint",this.code=2}}vr.TokInvalidMintError=mQ;Do.set(2,mQ);Oo.set("InvalidMint",mQ);class yQ extends Vo.ProgramError{constructor(e,t){super("Account not associated with this Mint",e,t),this.name="MintMismatch",this.code=3}}vr.TokMintMismatchError=yQ;Do.set(3,yQ);Oo.set("MintMismatch",yQ);class pQ extends Vo.ProgramError{constructor(e,t){super("Owner does not match",e,t),this.name="OwnerMismatch",this.code=4}}vr.TokOwnerMismatchError=pQ;Do.set(4,pQ);Oo.set("OwnerMismatch",pQ);class bQ extends Vo.ProgramError{constructor(e,t){super("Fixed supply",e,t),this.name="FixedSupply",this.code=5}}vr.TokFixedSupplyError=bQ;Do.set(5,bQ);Oo.set("FixedSupply",bQ);class SQ extends Vo.ProgramError{constructor(e,t){super("Already in use",e,t),this.name="AlreadyInUse",this.code=6}}vr.TokAlreadyInUseError=SQ;Do.set(6,SQ);Oo.set("AlreadyInUse",SQ);class kQ extends Vo.ProgramError{constructor(e,t){super("Invalid number of provided signers",e,t),this.name="InvalidNumberOfProvidedSigners",this.code=7}}vr.TokInvalidNumberOfProvidedSignersError=kQ;Do.set(7,kQ);Oo.set("InvalidNumberOfProvidedSigners",kQ);class vQ extends Vo.ProgramError{constructor(e,t){super("Invalid number of required signers",e,t),this.name="InvalidNumberOfRequiredSigners",this.code=8}}vr.TokInvalidNumberOfRequiredSignersError=vQ;Do.set(8,vQ);Oo.set("InvalidNumberOfRequiredSigners",vQ);class AQ extends Vo.ProgramError{constructor(e,t){super("State is unititialized",e,t),this.name="UninitializedState",this.code=9}}vr.TokUninitializedStateError=AQ;Do.set(9,AQ);Oo.set("UninitializedState",AQ);class wQ extends Vo.ProgramError{constructor(e,t){super("Instruction does not support native tokens",e,t),this.name="NativeNotSupported",this.code=10}}vr.TokNativeNotSupportedError=wQ;Do.set(10,wQ);Oo.set("NativeNotSupported",wQ);class IQ extends Vo.ProgramError{constructor(e,t){super("Non-native account can only be closed if its balance is zero",e,t),this.name="NonNativeHasBalance",this.code=11}}vr.TokNonNativeHasBalanceError=IQ;Do.set(11,IQ);Oo.set("NonNativeHasBalance",IQ);class _Q extends Vo.ProgramError{constructor(e,t){super("Invalid instruction",e,t),this.name="InvalidInstruction",this.code=12}}vr.TokInvalidInstructionError=_Q;Do.set(12,_Q);Oo.set("InvalidInstruction",_Q);class PQ extends Vo.ProgramError{constructor(e,t){super("State is invalid for requested operation",e,t),this.name="InvalidState",this.code=13}}vr.TokInvalidStateError=PQ;Do.set(13,PQ);Oo.set("InvalidState",PQ);class EQ extends Vo.ProgramError{constructor(e,t){super("Operation overflowed",e,t),this.name="Overflow",this.code=14}}vr.TokOverflowError=EQ;Do.set(14,EQ);Oo.set("Overflow",EQ);class xQ extends Vo.ProgramError{constructor(e,t){super("Account does not support specified authority type",e,t),this.name="AuthorityTypeNotSupported",this.code=15}}vr.TokAuthorityTypeNotSupportedError=xQ;Do.set(15,xQ);Oo.set("AuthorityTypeNotSupported",xQ);class TQ extends Vo.ProgramError{constructor(e,t){super("This token mint cannot freeze accounts",e,t),this.name="MintCannotFreeze",this.code=16}}vr.TokMintCannotFreezeError=TQ;Do.set(16,TQ);Oo.set("MintCannotFreeze",TQ);class RQ extends Vo.ProgramError{constructor(e,t){super("Account is frozen",e,t),this.name="AccountFrozen",this.code=17}}vr.TokAccountFrozenError=RQ;Do.set(17,RQ);Oo.set("AccountFrozen",RQ);class CQ extends Vo.ProgramError{constructor(e,t){super("The provided decimals value different from the Mint decimals",e,t),this.name="MintDecimalsMismatch",this.code=18}}vr.TokMintDecimalsMismatchError=CQ;Do.set(18,CQ);Oo.set("MintDecimalsMismatch",CQ);class MQ extends Vo.ProgramError{constructor(e,t){super("Instruction does not support non-native tokens",e,t),this.name="NonNativeNotSupported",this.code=19}}vr.TokNonNativeNotSupportedError=MQ;Do.set(19,MQ);Oo.set("NonNativeNotSupported",MQ);function ASt(n,e,t){const r=Do.get(n);return r?new r(e,t):null}vr.getSplTokenErrorFromCode=ASt;function wSt(n,e,t){const r=Oo.get(n);return r?new r(e,t):null}vr.getSplTokenErrorFromName=wSt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Df,n),t(vo,n),t(mw,n),t(mp,n),t(yw,n),t(pw,n),t(bw,n),t(vr,n)})(Sh);var qxe={},Sw={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.getAccountMetasAndSigners=ir.expectPda=ir.expectPublicKey=ir.expectSome=void 0;const N2=Z;function ISt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}ir.expectSome=ISt;function _St(n){if(!n)throw new Error("Expected a PublicKey.");return(0,N2.publicKey)(n,!1)}ir.expectPublicKey=_St;function PSt(n){if(!n||!Array.isArray(n)||!(0,N2.isPda)(n))throw new Error("Expected a PDA.");return n}ir.expectPda=PSt;function ESt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,N2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,N2.publicKey)(i.value,!1),isSigner:(0,N2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}ir.getAccountMetasAndSigners=ESt;Object.defineProperty(Sw,"__esModule",{value:!0});Sw.addMemo=Sw.getAddMemoInstructionDataSerializer=void 0;const xSt=Z,gme=q,TSt=ir;function jxe(){return(0,gme.struct)([["memo",(0,gme.string)()]],{description:"AddMemoInstructionData"})}Sw.getAddMemoInstructionDataSerializer=jxe;function RSt(n,e){const t=n.programs.getPublicKey("splMemo","Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,TSt.getAccountMetasAndSigners)(i,"programId",t),c=jxe().serialize(s),u=0;return(0,xSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Sw.addMemo=RSt;var kw={};Object.defineProperty(kw,"__esModule",{value:!0});kw.amountToUiAmount=kw.getAmountToUiAmountInstructionDataSerializer=void 0;const CSt=Z,L$=q,MSt=ir;function Hxe(){return(0,L$.mapSerializer)((0,L$.struct)([["discriminator",(0,L$.u8)()],["amount",(0,L$.u64)()]],{description:"AmountToUiAmountInstructionData"}),n=>({...n,discriminator:23}))}kw.getAmountToUiAmountInstructionDataSerializer=Hxe;function BSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,MSt.getAccountMetasAndSigners)(i,"programId",t),c=Hxe().serialize(s),u=0;return(0,CSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kw.amountToUiAmount=BSt;var vw={};Object.defineProperty(vw,"__esModule",{value:!0});vw.approveTokenDelegate=vw.getApproveTokenDelegateInstructionDataSerializer=void 0;const zSt=Z,W$=q,$St=ir;function Gxe(){return(0,W$.mapSerializer)((0,W$.struct)([["discriminator",(0,W$.u8)()],["amount",(0,W$.u64)()]],{description:"ApproveTokenDelegateInstructionData"}),n=>({...n,discriminator:4}))}vw.getApproveTokenDelegateInstructionDataSerializer=Gxe;function DSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$St.getAccountMetasAndSigners)(i,"programId",t),c=Gxe().serialize(s),u=0;return(0,zSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}vw.approveTokenDelegate=DSt;var Aw={};Object.defineProperty(Aw,"__esModule",{value:!0});Aw.approveTokenDelegateChecked=Aw.getApproveTokenDelegateCheckedInstructionDataSerializer=void 0;const OSt=Z,NR=q,KSt=ir;function Yxe(){return(0,NR.mapSerializer)((0,NR.struct)([["discriminator",(0,NR.u8)()],["amount",(0,NR.u64)()],["decimals",(0,NR.u8)()]],{description:"ApproveTokenDelegateCheckedInstructionData"}),n=>({...n,discriminator:13}))}Aw.getApproveTokenDelegateCheckedInstructionDataSerializer=Yxe;function LSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},delegate:{index:2,isWritable:!1,value:e.delegate??null},owner:{index:3,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,KSt.getAccountMetasAndSigners)(i,"programId",t),c=Yxe().serialize(s),u=0;return(0,OSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Aw.approveTokenDelegateChecked=LSt;var ww={};Object.defineProperty(ww,"__esModule",{value:!0});ww.burnToken=ww.getBurnTokenInstructionDataSerializer=void 0;const WSt=Z,N$=q,NSt=ir;function Zxe(){return(0,N$.mapSerializer)((0,N$.struct)([["discriminator",(0,N$.u8)()],["amount",(0,N$.u64)()]],{description:"BurnTokenInstructionData"}),n=>({...n,discriminator:8}))}ww.getBurnTokenInstructionDataSerializer=Zxe;function FSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,NSt.getAccountMetasAndSigners)(i,"programId",t),c=Zxe().serialize(s),u=0;return(0,WSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ww.burnToken=FSt;var Iw={};Object.defineProperty(Iw,"__esModule",{value:!0});Iw.burnTokenChecked=Iw.getBurnTokenCheckedInstructionDataSerializer=void 0;const USt=Z,FR=q,VSt=ir;function Jxe(){return(0,FR.mapSerializer)((0,FR.struct)([["discriminator",(0,FR.u8)()],["amount",(0,FR.u64)()],["decimals",(0,FR.u8)()]],{description:"BurnTokenCheckedInstructionData"}),n=>({...n,discriminator:15}))}Iw.getBurnTokenCheckedInstructionDataSerializer=Jxe;function qSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,VSt.getAccountMetasAndSigners)(i,"programId",t),c=Jxe().serialize(s),u=0;return(0,USt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Iw.burnTokenChecked=qSt;var _w={};Object.defineProperty(_w,"__esModule",{value:!0});_w.closeLut=_w.getCloseLutInstructionDataSerializer=void 0;const jSt=Z,NN=q,HSt=ir;function Xxe(){return(0,NN.mapSerializer)((0,NN.struct)([["discriminator",(0,NN.u32)()]],{description:"CloseLutInstructionData"}),n=>({...n,discriminator:4}))}_w.getCloseLutInstructionDataSerializer=Xxe;function GSt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},recipient:{index:2,isWritable:!0,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,HSt.getAccountMetasAndSigners)(s,"programId",t),a=Xxe().serialize({}),c=0;return(0,jSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}_w.closeLut=GSt;var Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});Pw.closeToken=Pw.getCloseTokenInstructionDataSerializer=void 0;const YSt=Z,FN=q,ZSt=ir;function Qxe(){return(0,FN.mapSerializer)((0,FN.struct)([["discriminator",(0,FN.u8)()]],{description:"CloseTokenInstructionData"}),n=>({...n,discriminator:9}))}Pw.getCloseTokenInstructionDataSerializer=Qxe;function JSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},destination:{index:1,isWritable:!0,value:e.destination??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,ZSt.getAccountMetasAndSigners)(s,"programId",t),a=Qxe().serialize({}),c=0;return(0,YSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Pw.closeToken=JSt;var Ew={};Object.defineProperty(Ew,"__esModule",{value:!0});Ew.createAccount=Ew.getCreateAccountInstructionDataSerializer=void 0;const Uq=Z,Mk=q,XSt=ir;function eTe(){return(0,Mk.mapSerializer)((0,Mk.struct)([["discriminator",(0,Mk.u32)()],["lamports",(0,Uq.mapAmountSerializer)((0,Mk.u64)(),"SOL",9)],["space",(0,Mk.u64)()],["programId",(0,Mk.publicKey)()]],{description:"CreateAccountInstructionData"}),n=>({...n,discriminator:0}))}Ew.getCreateAccountInstructionDataSerializer=eTe;function QSt(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null}},s={...e};r.payer.value||(r.payer.value=n.payer);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,XSt.getAccountMetasAndSigners)(i,"programId",t),c=eTe().serialize(s),u=Number(e.space)+Uq.ACCOUNT_HEADER_SIZE;return(0,Uq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ew.createAccount=QSt;var xw={};Object.defineProperty(xw,"__esModule",{value:!0});xw.createAccountWithRent=xw.getCreateAccountWithRentInstructionDataSerializer=void 0;const mme=Z,UR=q,ekt=ir;function tTe(){return(0,UR.mapSerializer)((0,UR.struct)([["discriminator",(0,UR.u8)()],["space",(0,UR.u64)()],["programId",(0,UR.publicKey)()]],{description:"CreateAccountWithRentInstructionData"}),n=>({...n,discriminator:0}))}xw.getCreateAccountWithRentInstructionDataSerializer=tTe;function tkt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ekt.getAccountMetasAndSigners)(i,"programId",t),c=tTe().serialize(s),u=Number(e.space)+mme.ACCOUNT_HEADER_SIZE;return(0,mme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xw.createAccountWithRent=tkt;var F6={},CT={},U6={};Object.defineProperty(U6,"__esModule",{value:!0});U6.findAssociatedTokenPda=void 0;const UN=q;function rkt(n,e){const t=n.programs.getPublicKey("splAssociatedToken"),r=e.tokenProgramId??n.programs.getPublicKey("splToken");return n.eddsa.findPda(t,[(0,UN.publicKey)().serialize(e.owner),(0,UN.publicKey)().serialize(r),(0,UN.publicKey)().serialize(e.mint)])}U6.findAssociatedTokenPda=rkt;var V6={};Object.defineProperty(V6,"__esModule",{value:!0});V6.resolveExtendLutBytes=void 0;const nkt=(n,e,t,r)=>32*t.addresses.length;V6.resolveExtendLutBytes=nkt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(U6,n),t(V6,n)})(CT);Object.defineProperty(F6,"__esModule",{value:!0});F6.createAssociatedToken=void 0;const yme=Z,skt=CT,ikt=W6,F$=ir;function okt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,skt.findAssociatedTokenPda)(n,{owner:(0,F$.expectPublicKey)(r.owner.value),mint:(0,F$.expectPublicKey)(r.mint.value),tokenProgramId:(0,F$.expectPublicKey)(r.tokenProgram.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,F$.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=(0,ikt.getTokenSize)()+yme.ACCOUNT_HEADER_SIZE;return(0,yme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}F6.createAssociatedToken=okt;var Tw={};Object.defineProperty(Tw,"__esModule",{value:!0});Tw.createEmptyLut=Tw.getCreateEmptyLutInstructionDataSerializer=void 0;const pme=Z,VR=q,akt=W6,U$=ir;function rTe(){return(0,VR.mapSerializer)((0,VR.struct)([["discriminator",(0,VR.u32)()],["recentSlot",(0,VR.u64)()],["bump",(0,VR.u8)()]],{description:"CreateEmptyLutInstructionData"}),n=>({...n,discriminator:0}))}Tw.getCreateEmptyLutInstructionDataSerializer=rTe;function ckt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.address.value||(r.address.value=(0,akt.findAddressLookupTablePda)(n,{authority:(0,U$.expectPublicKey)(r.authority.value),recentSlot:(0,U$.expectSome)(s.recentSlot)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.bump||(s.bump=(0,U$.expectPda)(r.address.value)[1]);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,U$.getAccountMetasAndSigners)(i,"programId",t),c=rTe().serialize(s),u=56+pme.ACCOUNT_HEADER_SIZE;return(0,pme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Tw.createEmptyLut=ckt;var q6={};Object.defineProperty(q6,"__esModule",{value:!0});q6.createIdempotentAssociatedToken=void 0;const ukt=Z,lkt=ir;function dkt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,lkt.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,ukt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}q6.createIdempotentAssociatedToken=dkt;var Rw={};Object.defineProperty(Rw,"__esModule",{value:!0});Rw.createTokenIfMissing=Rw.getCreateTokenIfMissingInstructionDataSerializer=void 0;const fkt=Z,VN=q,hkt=CT,qR=ir;function nTe(){return(0,VN.mapSerializer)((0,VN.struct)([["discriminator",(0,VN.u8)()]],{description:"CreateTokenIfMissingInstructionData"}),n=>({...n,discriminator:0}))}Rw.getCreateTokenIfMissingInstructionDataSerializer=nTe;function gkt(n,e){const t=n.programs.getPublicKey("mplTokenExtras","TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p"),r={payer:{index:0,isWritable:!0,value:e.payer??null},token:{index:1,isWritable:!1,value:e.token??null},mint:{index:2,isWritable:!1,value:e.mint??null},owner:{index:3,isWritable:!1,value:e.owner??null},ata:{index:4,isWritable:!0,value:e.ata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:7,isWritable:!1,value:e.ataProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,hkt.findAssociatedTokenPda)(n,{owner:(0,qR.expectPublicKey)(r.owner.value),mint:(0,qR.expectPublicKey)(r.mint.value),tokenProgramId:(0,qR.expectPublicKey)(r.tokenProgram.value)})),r.token.value||(r.token.value=(0,qR.expectSome)(r.ata.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,qR.getAccountMetasAndSigners)(s,"programId",t),a=nTe().serialize({}),c=0;return(0,fkt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Rw.createTokenIfMissing=gkt;var Cw={};Object.defineProperty(Cw,"__esModule",{value:!0});Cw.deactivateLut=Cw.getDeactivateLutInstructionDataSerializer=void 0;const mkt=Z,qN=q,ykt=ir;function sTe(){return(0,qN.mapSerializer)((0,qN.struct)([["discriminator",(0,qN.u32)()]],{description:"DeactivateLutInstructionData"}),n=>({...n,discriminator:3}))}Cw.getDeactivateLutInstructionDataSerializer=sTe;function pkt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,ykt.getAccountMetasAndSigners)(s,"programId",t),a=sTe().serialize({}),c=0;return(0,mkt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Cw.deactivateLut=pkt;var Mw={};Object.defineProperty(Mw,"__esModule",{value:!0});Mw.extendLut=Mw.getExtendLutInstructionDataSerializer=void 0;const bkt=Z,Bk=q,Skt=CT,kkt=ir;function iTe(){return(0,Bk.mapSerializer)((0,Bk.struct)([["discriminator",(0,Bk.u32)()],["addresses",(0,Bk.array)((0,Bk.publicKey)(),{size:(0,Bk.u64)()})]],{description:"ExtendLutInstructionData"}),n=>({...n,discriminator:2}))}Mw.getExtendLutInstructionDataSerializer=iTe;function vkt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,kkt.getAccountMetasAndSigners)(i,"programId",t),c=iTe().serialize(s),u=(0,Skt.resolveExtendLutBytes)(n,r,s,t);return(0,bkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Mw.extendLut=vkt;var Bw={};Object.defineProperty(Bw,"__esModule",{value:!0});Bw.freezeLut=Bw.getFreezeLutInstructionDataSerializer=void 0;const Akt=Z,jN=q,wkt=ir;function oTe(){return(0,jN.mapSerializer)((0,jN.struct)([["discriminator",(0,jN.u32)()]],{description:"FreezeLutInstructionData"}),n=>({...n,discriminator:1}))}Bw.getFreezeLutInstructionDataSerializer=oTe;function Ikt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,wkt.getAccountMetasAndSigners)(s,"programId",t),a=oTe().serialize({}),c=0;return(0,Akt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Bw.freezeLut=Ikt;var zw={};Object.defineProperty(zw,"__esModule",{value:!0});zw.freezeToken=zw.getFreezeTokenInstructionDataSerializer=void 0;const _kt=Z,HN=q,Pkt=ir;function aTe(){return(0,HN.mapSerializer)((0,HN.struct)([["discriminator",(0,HN.u8)()]],{description:"FreezeTokenInstructionData"}),n=>({...n,discriminator:10}))}zw.getFreezeTokenInstructionDataSerializer=aTe;function Ekt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Pkt.getAccountMetasAndSigners)(s,"programId",t),a=aTe().serialize({}),c=0;return(0,_kt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}zw.freezeToken=Ekt;var $w={};Object.defineProperty($w,"__esModule",{value:!0});$w.getTokenDataSize=$w.getGetTokenDataSizeInstructionDataSerializer=void 0;const xkt=Z,GN=q,Tkt=ir;function cTe(){return(0,GN.mapSerializer)((0,GN.struct)([["discriminator",(0,GN.u8)()]],{description:"GetTokenDataSizeInstructionData"}),n=>({...n,discriminator:21}))}$w.getGetTokenDataSizeInstructionDataSerializer=cTe;function Rkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Tkt.getAccountMetasAndSigners)(s,"programId",t),a=cTe().serialize({}),c=0;return(0,xkt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}$w.getTokenDataSize=Rkt;var Dw={};Object.defineProperty(Dw,"__esModule",{value:!0});Dw.initializeImmutableOwner=Dw.getInitializeImmutableOwnerInstructionDataSerializer=void 0;const Ckt=Z,YN=q,Mkt=ir;function uTe(){return(0,YN.mapSerializer)((0,YN.struct)([["discriminator",(0,YN.u8)()]],{description:"InitializeImmutableOwnerInstructionData"}),n=>({...n,discriminator:22}))}Dw.getInitializeImmutableOwnerInstructionDataSerializer=uTe;function Bkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Mkt.getAccountMetasAndSigners)(s,"programId",t),a=uTe().serialize({}),c=0;return(0,Ckt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Dw.initializeImmutableOwner=Bkt;var Ow={};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.initializeMint=Ow.getInitializeMintInstructionDataSerializer=void 0;const bme=Z,Yb=q,zkt=ir;function lTe(){return(0,Yb.mapSerializer)((0,Yb.struct)([["discriminator",(0,Yb.u8)()],["decimals",(0,Yb.u8)()],["mintAuthority",(0,Yb.publicKey)()],["freezeAuthority",(0,Yb.option)((0,Yb.publicKey)())]],{description:"InitializeMintInstructionData"}),n=>({...n,discriminator:0}))}Ow.getInitializeMintInstructionDataSerializer=lTe;function $kt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,bme.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zkt.getAccountMetasAndSigners)(i,"programId",t),c=lTe().serialize(s),u=0;return(0,bme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ow.initializeMint=$kt;var Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});Kw.initializeMint2=Kw.getInitializeMint2InstructionDataSerializer=void 0;const Dkt=Z,Zb=q,Okt=ir;function dTe(){return(0,Zb.mapSerializer)((0,Zb.struct)([["discriminator",(0,Zb.u8)()],["decimals",(0,Zb.u8)()],["mintAuthority",(0,Zb.publicKey)()],["freezeAuthority",(0,Zb.option)((0,Zb.publicKey)())]],{description:"InitializeMint2InstructionData"}),n=>({...n,discriminator:20}))}Kw.getInitializeMint2InstructionDataSerializer=dTe;function Kkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Okt.getAccountMetasAndSigners)(i,"programId",t),c=dTe().serialize(s),u=0;return(0,Dkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Kw.initializeMint2=Kkt;var Lw={};Object.defineProperty(Lw,"__esModule",{value:!0});Lw.initializeMultisig=Lw.getInitializeMultisigInstructionDataSerializer=void 0;const Sme=Z,V$=q,Lkt=ir;function fTe(){return(0,V$.mapSerializer)((0,V$.struct)([["discriminator",(0,V$.u8)()],["m",(0,V$.u8)()]],{description:"InitializeMultisigInstructionData"}),n=>({...n,discriminator:2}))}Lw.getInitializeMultisigInstructionDataSerializer=fTe;function Wkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Sme.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Lkt.getAccountMetasAndSigners)(i,"programId",t),c=fTe().serialize(s),u=0;return(0,Sme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Lw.initializeMultisig=Wkt;var Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});Ww.initializeMultisig2=Ww.getInitializeMultisig2InstructionDataSerializer=void 0;const Nkt=Z,q$=q,Fkt=ir;function hTe(){return(0,q$.mapSerializer)((0,q$.struct)([["discriminator",(0,q$.u8)()],["m",(0,q$.u8)()]],{description:"InitializeMultisig2InstructionData"}),n=>({...n,discriminator:19}))}Ww.getInitializeMultisig2InstructionDataSerializer=hTe;function Ukt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},signer:{index:1,isWritable:!1,value:e.signer??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fkt.getAccountMetasAndSigners)(i,"programId",t),c=hTe().serialize(s),u=0;return(0,Nkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ww.initializeMultisig2=Ukt;var Nw={};Object.defineProperty(Nw,"__esModule",{value:!0});Nw.initializeToken=Nw.getInitializeTokenInstructionDataSerializer=void 0;const kme=Z,ZN=q,Vkt=ir;function gTe(){return(0,ZN.mapSerializer)((0,ZN.struct)([["discriminator",(0,ZN.u8)()]],{description:"InitializeTokenInstructionData"}),n=>({...n,discriminator:1}))}Nw.getInitializeTokenInstructionDataSerializer=gTe;function qkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null},rent:{index:3,isWritable:!1,value:e.rent??null}};r.rent.value||(r.rent.value=(0,kme.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Vkt.getAccountMetasAndSigners)(s,"programId",t),a=gTe().serialize({}),c=0;return(0,kme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Nw.initializeToken=qkt;var Fw={};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.initializeToken2=Fw.getInitializeToken2InstructionDataSerializer=void 0;const vme=Z,j$=q,jkt=ir;function mTe(){return(0,j$.mapSerializer)((0,j$.struct)([["discriminator",(0,j$.u8)()],["owner",(0,j$.publicKey)()]],{description:"InitializeToken2InstructionData"}),n=>({...n,discriminator:16}))}Fw.getInitializeToken2InstructionDataSerializer=mTe;function Hkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},rent:{index:2,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,vme.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,jkt.getAccountMetasAndSigners)(i,"programId",t),c=mTe().serialize(s),u=0;return(0,vme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Fw.initializeToken2=Hkt;var Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});Uw.initializeToken3=Uw.getInitializeToken3InstructionDataSerializer=void 0;const Gkt=Z,H$=q,Ykt=ir;function yTe(){return(0,H$.mapSerializer)((0,H$.struct)([["discriminator",(0,H$.u8)()],["owner",(0,H$.publicKey)()]],{description:"InitializeToken3InstructionData"}),n=>({...n,discriminator:18}))}Uw.getInitializeToken3InstructionDataSerializer=yTe;function Zkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ykt.getAccountMetasAndSigners)(i,"programId",t),c=yTe().serialize(s),u=0;return(0,Gkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Uw.initializeToken3=Zkt;var Vw={};Object.defineProperty(Vw,"__esModule",{value:!0});Vw.mintTokensTo=Vw.getMintTokensToInstructionDataSerializer=void 0;const Jkt=Z,G$=q,Xkt=ir;function pTe(){return(0,G$.mapSerializer)((0,G$.struct)([["discriminator",(0,G$.u8)()],["amount",(0,G$.u64)()]],{description:"MintTokensToInstructionData"}),n=>({...n,discriminator:7}))}Vw.getMintTokensToInstructionDataSerializer=pTe;function Qkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e};r.mintAuthority.value||(r.mintAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Xkt.getAccountMetasAndSigners)(i,"programId",t),c=pTe().serialize(s),u=0;return(0,Jkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Vw.mintTokensTo=Qkt;var qw={};Object.defineProperty(qw,"__esModule",{value:!0});qw.mintTokensToChecked=qw.getMintTokensToCheckedInstructionDataSerializer=void 0;const evt=Z,jR=q,tvt=ir;function bTe(){return(0,jR.mapSerializer)((0,jR.struct)([["discriminator",(0,jR.u8)()],["amount",(0,jR.u64)()],["decimals",(0,jR.u8)()]],{description:"MintTokensToCheckedInstructionData"}),n=>({...n,discriminator:14}))}qw.getMintTokensToCheckedInstructionDataSerializer=bTe;function rvt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,tvt.getAccountMetasAndSigners)(i,"programId",t),c=bTe().serialize(s),u=0;return(0,evt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qw.mintTokensToChecked=rvt;var j6={};Object.defineProperty(j6,"__esModule",{value:!0});j6.recoverNestedAssociatedToken=void 0;const nvt=Z,svt=ir;function ivt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={nestedAssociatedAccountAddress:{index:0,isWritable:!0,value:e.nestedAssociatedAccountAddress??null},nestedTokenMintAddress:{index:1,isWritable:!1,value:e.nestedTokenMintAddress??null},destinationAssociatedAccountAddress:{index:2,isWritable:!0,value:e.destinationAssociatedAccountAddress??null},ownerAssociatedAccountAddress:{index:3,isWritable:!1,value:e.ownerAssociatedAccountAddress??null},ownerTokenMintAddress:{index:4,isWritable:!1,value:e.ownerTokenMintAddress??null},walletAddress:{index:5,isWritable:!0,value:e.walletAddress??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null}};r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,svt.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,nvt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}j6.recoverNestedAssociatedToken=ivt;var jw={};Object.defineProperty(jw,"__esModule",{value:!0});jw.requestHeapFrame=jw.getRequestHeapFrameInstructionDataSerializer=void 0;const ovt=Z,Y$=q,avt=ir;function STe(){return(0,Y$.mapSerializer)((0,Y$.struct)([["discriminator",(0,Y$.u8)()],["bytes",(0,Y$.u32)()]],{description:"RequestHeapFrameInstructionData"}),n=>({...n,discriminator:1}))}jw.getRequestHeapFrameInstructionDataSerializer=STe;function cvt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,avt.getAccountMetasAndSigners)(i,"programId",t),c=STe().serialize(s),u=0;return(0,ovt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jw.requestHeapFrame=cvt;var Hw={};Object.defineProperty(Hw,"__esModule",{value:!0});Hw.requestUnits=Hw.getRequestUnitsInstructionDataSerializer=void 0;const uvt=Z,HR=q,lvt=ir;function kTe(){return(0,HR.mapSerializer)((0,HR.struct)([["discriminator",(0,HR.u8)()],["units",(0,HR.u32)()],["additionalFee",(0,HR.u32)()]],{description:"RequestUnitsInstructionData"}),n=>({...n,discriminator:0}))}Hw.getRequestUnitsInstructionDataSerializer=kTe;function dvt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,lvt.getAccountMetasAndSigners)(i,"programId",t),c=kTe().serialize(s),u=0;return(0,uvt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Hw.requestUnits=dvt;var Gw={};Object.defineProperty(Gw,"__esModule",{value:!0});Gw.revokeTokenDelegate=Gw.getRevokeTokenDelegateInstructionDataSerializer=void 0;const fvt=Z,JN=q,hvt=ir;function vTe(){return(0,JN.mapSerializer)((0,JN.struct)([["discriminator",(0,JN.u8)()]],{description:"RevokeTokenDelegateInstructionData"}),n=>({...n,discriminator:5}))}Gw.getRevokeTokenDelegateInstructionDataSerializer=vTe;function gvt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,hvt.getAccountMetasAndSigners)(s,"programId",t),a=vTe().serialize({}),c=0;return(0,fvt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Gw.revokeTokenDelegate=gvt;var Yw={};Object.defineProperty(Yw,"__esModule",{value:!0});Yw.setAuthority=Yw.getSetAuthorityInstructionDataSerializer=void 0;const mvt=Z,GR=q,yvt=ir,pvt=N6;function ATe(){return(0,GR.mapSerializer)((0,GR.struct)([["discriminator",(0,GR.u8)()],["authorityType",(0,pvt.getAuthorityTypeSerializer)()],["newAuthority",(0,GR.option)((0,GR.publicKey)())]],{description:"SetAuthorityInstructionData"}),n=>({...n,discriminator:6}))}Yw.getSetAuthorityInstructionDataSerializer=ATe;function bvt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={owned:{index:0,isWritable:!0,value:e.owned??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,yvt.getAccountMetasAndSigners)(i,"programId",t),c=ATe().serialize(s),u=0;return(0,mvt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Yw.setAuthority=bvt;var Zw={};Object.defineProperty(Zw,"__esModule",{value:!0});Zw.setComputeUnitLimit=Zw.getSetComputeUnitLimitInstructionDataSerializer=void 0;const Svt=Z,Z$=q,kvt=ir;function wTe(){return(0,Z$.mapSerializer)((0,Z$.struct)([["discriminator",(0,Z$.u8)()],["units",(0,Z$.u32)()]],{description:"SetComputeUnitLimitInstructionData"}),n=>({...n,discriminator:2}))}Zw.getSetComputeUnitLimitInstructionDataSerializer=wTe;function vvt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,kvt.getAccountMetasAndSigners)(i,"programId",t),c=wTe().serialize(s),u=0;return(0,Svt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Zw.setComputeUnitLimit=vvt;var Jw={};Object.defineProperty(Jw,"__esModule",{value:!0});Jw.setComputeUnitPrice=Jw.getSetComputeUnitPriceInstructionDataSerializer=void 0;const Avt=Z,J$=q,wvt=ir;function ITe(){return(0,J$.mapSerializer)((0,J$.struct)([["discriminator",(0,J$.u8)()],["microLamports",(0,J$.u64)()]],{description:"SetComputeUnitPriceInstructionData"}),n=>({...n,discriminator:3}))}Jw.getSetComputeUnitPriceInstructionDataSerializer=ITe;function Ivt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,wvt.getAccountMetasAndSigners)(i,"programId",t),c=ITe().serialize(s),u=0;return(0,Avt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Jw.setComputeUnitPrice=Ivt;var Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});Xw.syncNative=Xw.getSyncNativeInstructionDataSerializer=void 0;const _vt=Z,XN=q,Pvt=ir;function _Te(){return(0,XN.mapSerializer)((0,XN.struct)([["discriminator",(0,XN.u8)()]],{description:"SyncNativeInstructionData"}),n=>({...n,discriminator:17}))}Xw.getSyncNativeInstructionDataSerializer=_Te;function Evt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Pvt.getAccountMetasAndSigners)(s,"programId",t),a=_Te().serialize({}),c=0;return(0,_vt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Xw.syncNative=Evt;var Qw={};Object.defineProperty(Qw,"__esModule",{value:!0});Qw.thawToken=Qw.getThawTokenInstructionDataSerializer=void 0;const xvt=Z,QN=q,Tvt=ir;function PTe(){return(0,QN.mapSerializer)((0,QN.struct)([["discriminator",(0,QN.u8)()]],{description:"ThawTokenInstructionData"}),n=>({...n,discriminator:11}))}Qw.getThawTokenInstructionDataSerializer=PTe;function Rvt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Tvt.getAccountMetasAndSigners)(s,"programId",t),a=PTe().serialize({}),c=0;return(0,xvt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Qw.thawToken=Rvt;var eI={};Object.defineProperty(eI,"__esModule",{value:!0});eI.transferAllSol=eI.getTransferAllSolInstructionDataSerializer=void 0;const Cvt=Z,eF=q,Mvt=ir;function ETe(){return(0,eF.mapSerializer)((0,eF.struct)([["discriminator",(0,eF.u8)()]],{description:"TransferAllSolInstructionData"}),n=>({...n,discriminator:1}))}eI.getTransferAllSolInstructionDataSerializer=ETe;function Bvt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}};r.source.value||(r.source.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Mvt.getAccountMetasAndSigners)(s,"programId",t),a=ETe().serialize({}),c=0;return(0,Cvt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}eI.transferAllSol=Bvt;var tI={};Object.defineProperty(tI,"__esModule",{value:!0});tI.transferSol=tI.getTransferSolInstructionDataSerializer=void 0;const xTe=Z,X$=q,zvt=ir;function TTe(){return(0,X$.mapSerializer)((0,X$.struct)([["discriminator",(0,X$.u32)()],["amount",(0,xTe.mapAmountSerializer)((0,X$.u64)(),"SOL",9)]],{description:"TransferSolInstructionData"}),n=>({...n,discriminator:2}))}tI.getTransferSolInstructionDataSerializer=TTe;function $vt(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null}},s={...e};r.source.value||(r.source.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zvt.getAccountMetasAndSigners)(i,"programId",t),c=TTe().serialize(s),u=0;return(0,xTe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}tI.transferSol=$vt;var rI={};Object.defineProperty(rI,"__esModule",{value:!0});rI.transferTokens=rI.getTransferTokensInstructionDataSerializer=void 0;const Dvt=Z,Q$=q,Ovt=ir;function RTe(){return(0,Q$.mapSerializer)((0,Q$.struct)([["discriminator",(0,Q$.u8)()],["amount",(0,Q$.u64)()]],{description:"TransferTokensInstructionData"}),n=>({...n,discriminator:3}))}rI.getTransferTokensInstructionDataSerializer=RTe;function Kvt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ovt.getAccountMetasAndSigners)(i,"programId",t),c=RTe().serialize(s),u=0;return(0,Dvt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}rI.transferTokens=Kvt;var nI={};Object.defineProperty(nI,"__esModule",{value:!0});nI.transferTokensChecked=nI.getTransferTokensCheckedInstructionDataSerializer=void 0;const Lvt=Z,YR=q,Wvt=ir;function CTe(){return(0,YR.mapSerializer)((0,YR.struct)([["discriminator",(0,YR.u8)()],["amount",(0,YR.u64)()],["decimals",(0,YR.u8)()]],{description:"TransferTokensCheckedInstructionData"}),n=>({...n,discriminator:12}))}nI.getTransferTokensCheckedInstructionDataSerializer=CTe;function Nvt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},destination:{index:2,isWritable:!0,value:e.destination??null},authority:{index:3,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Wvt.getAccountMetasAndSigners)(i,"programId",t),c=CTe().serialize(s),u=0;return(0,Lvt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}nI.transferTokensChecked=Nvt;var sI={};Object.defineProperty(sI,"__esModule",{value:!0});sI.uiAmountToAmount=sI.getUiAmountToAmountInstructionDataSerializer=void 0;const Fvt=Z,e8=q,Uvt=ir;function MTe(){return(0,e8.mapSerializer)((0,e8.struct)([["discriminator",(0,e8.u8)()],["uiAmount",(0,e8.u64)()]],{description:"UiAmountToAmountInstructionData"}),n=>({...n,discriminator:24}))}sI.getUiAmountToAmountInstructionDataSerializer=MTe;function Vvt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Uvt.getAccountMetasAndSigners)(i,"programId",t),c=MTe().serialize(s),u=0;return(0,Fvt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}sI.uiAmountToAmount=Vvt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Sw,n),t(kw,n),t(vw,n),t(Aw,n),t(ww,n),t(Iw,n),t(_w,n),t(Pw,n),t(Ew,n),t(xw,n),t(F6,n),t(Tw,n),t(q6,n),t(Rw,n),t(Cw,n),t(Mw,n),t(Bw,n),t(zw,n),t($w,n),t(Dw,n),t(Ow,n),t(Kw,n),t(Lw,n),t(Ww,n),t(Nw,n),t(Fw,n),t(Uw,n),t(Vw,n),t(qw,n),t(j6,n),t(jw,n),t(Hw,n),t(Gw,n),t(Yw,n),t(Zw,n),t(Jw,n),t(Xw,n),t(Qw,n),t(eI,n),t(tI,n),t(rI,n),t(nI,n),t(sI,n)})(qxe);var BTe={},zTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplSystemExtrasProgramId=n.getMplSystemExtrasProgram=n.createMplSystemExtrasProgram=n.MPL_SYSTEM_EXTRAS_PROGRAM_ID=void 0;const e=Sh;n.MPL_SYSTEM_EXTRAS_PROGRAM_ID="SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG";function t(){return{name:"mplSystemExtras",publicKey:n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplSystemExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplSystemExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplSystemExtrasProgram=t;function r(i,o){return i.programs.get("mplSystemExtras",o)}n.getMplSystemExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplSystemExtras",n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,o)}n.getMplSystemExtrasProgramId=s})(zTe);var $Te={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenExtrasProgramId=n.getMplTokenExtrasProgram=n.createMplTokenExtrasProgram=n.MPL_TOKEN_EXTRAS_PROGRAM_ID=void 0;const e=Sh;n.MPL_TOKEN_EXTRAS_PROGRAM_ID="TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p";function t(){return{name:"mplTokenExtras",publicKey:n.MPL_TOKEN_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenExtrasProgram=t;function r(i,o){return i.programs.get("mplTokenExtras",o)}n.getMplTokenExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenExtras",n.MPL_TOKEN_EXTRAS_PROGRAM_ID,o)}n.getMplTokenExtrasProgramId=s})($Te);var DTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAddressLookupTableProgramId=n.getSplAddressLookupTableProgram=n.createSplAddressLookupTableProgram=n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID=void 0;const e=Sh;n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID="AddressLookupTab1e1111111111111111111111111";function t(){return{name:"splAddressLookupTable",publicKey:n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAddressLookupTableErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAddressLookupTableErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAddressLookupTableProgram=t;function r(i,o){return i.programs.get("splAddressLookupTable",o)}n.getSplAddressLookupTableProgram=r;function s(i,o){return i.programs.getPublicKey("splAddressLookupTable",n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,o)}n.getSplAddressLookupTableProgramId=s})(DTe);var OTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAssociatedTokenProgramId=n.getSplAssociatedTokenProgram=n.createSplAssociatedTokenProgram=n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const e=Sh;n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";function t(){return{name:"splAssociatedToken",publicKey:n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAssociatedTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAssociatedTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAssociatedTokenProgram=t;function r(i,o){return i.programs.get("splAssociatedToken",o)}n.getSplAssociatedTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splAssociatedToken",n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,o)}n.getSplAssociatedTokenProgramId=s})(OTe);var KTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplComputeBudgetProgramId=n.getSplComputeBudgetProgram=n.createSplComputeBudgetProgram=n.SPL_COMPUTE_BUDGET_PROGRAM_ID=void 0;const e=Sh;n.SPL_COMPUTE_BUDGET_PROGRAM_ID="ComputeBudget111111111111111111111111111111";function t(){return{name:"splComputeBudget",publicKey:n.SPL_COMPUTE_BUDGET_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplComputeBudgetErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplComputeBudgetErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplComputeBudgetProgram=t;function r(i,o){return i.programs.get("splComputeBudget",o)}n.getSplComputeBudgetProgram=r;function s(i,o){return i.programs.getPublicKey("splComputeBudget",n.SPL_COMPUTE_BUDGET_PROGRAM_ID,o)}n.getSplComputeBudgetProgramId=s})(KTe);var LTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplMemoProgramId=n.getSplMemoProgram=n.createSplMemoProgram=n.SPL_MEMO_PROGRAM_ID=void 0;const e=Sh;n.SPL_MEMO_PROGRAM_ID="Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo";function t(){return{name:"splMemo",publicKey:n.SPL_MEMO_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplMemoErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplMemoErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplMemoProgram=t;function r(i,o){return i.programs.get("splMemo",o)}n.getSplMemoProgram=r;function s(i,o){return i.programs.getPublicKey("splMemo",n.SPL_MEMO_PROGRAM_ID,o)}n.getSplMemoProgramId=s})(LTe);var WTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplSystemProgramId=n.getSplSystemProgram=n.createSplSystemProgram=n.SPL_SYSTEM_PROGRAM_ID=void 0;const e=Sh;n.SPL_SYSTEM_PROGRAM_ID="11111111111111111111111111111111";function t(){return{name:"splSystem",publicKey:n.SPL_SYSTEM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplSystemErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplSystemErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplSystemProgram=t;function r(i,o){return i.programs.get("splSystem",o)}n.getSplSystemProgram=r;function s(i,o){return i.programs.getPublicKey("splSystem",n.SPL_SYSTEM_PROGRAM_ID,o)}n.getSplSystemProgramId=s})(WTe);var NTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplTokenProgramId=n.getSplTokenProgram=n.createSplTokenProgram=n.SPL_TOKEN_PROGRAM_ID=void 0;const e=Sh;n.SPL_TOKEN_PROGRAM_ID="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function t(){return{name:"splToken",publicKey:n.SPL_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplTokenProgram=t;function r(i,o){return i.programs.get("splToken",o)}n.getSplTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splToken",n.SPL_TOKEN_PROGRAM_ID,o)}n.getSplTokenProgramId=s})(NTe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(zTe,n),t($Te,n),t(DTe,n),t(OTe,n),t(KTe,n),t(LTe,n),t(WTe,n),t(NTe,n)})(BTe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(W6,n),t(Sh,n),t(qxe,n),t(BTe,n),t(ir,n),t(N6,n)})(um);var H6={};Object.defineProperty(H6,"__esModule",{value:!0});H6.createLut=void 0;const qvt=Z,tF=um;function jvt(n,e){const{addresses:t,...r}=e,s=e.authority??n.identity,i=e.address??(0,tF.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:e.recentSlot});return[(0,qvt.transactionBuilder)().add((0,tF.createEmptyLut)(n,r)).add((0,tF.extendLut)(n,{address:i,authority:s,addresses:t,payer:e.payer})),{publicKey:i[0],addresses:t}]}H6.createLut=jvt;var G6={};Object.defineProperty(G6,"__esModule",{value:!0});G6.createLutForTransactionBuilder=void 0;const rF=Z,Vq=um,Hvt=(n,e,t,r)=>{const s=r??n.identity,i=(0,rF.uniquePublicKeys)([e.getFeePayer(n).publicKey,...e.items.flatMap(({instruction:u})=>u.keys.filter(l=>l.isSigner).map(l=>l.pubkey))]),o=(0,rF.uniquePublicKeys)(e.items.flatMap(({instruction:u})=>[u.programId,...u.keys.map(l=>l.pubkey)])).filter(u=>!i.includes(u)),a=[],c=[];return(0,rF.chunk)(o,256).forEach((u,l)=>{const d=t-l,[y]=(0,Vq.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:d});a.push({publicKey:y,addresses:u}),c.push(...Gvt(n,(0,Vq.createEmptyLut)(n,{recentSlot:d}),y,s,u))}),[c,a]};G6.createLutForTransactionBuilder=Hvt;function Gvt(n,e,t,r,s){const i=[];let o=[],a=e;return s.forEach(c=>{const u=e.add((0,Vq.extendLut)(n,{address:t,addresses:[...o,c],authority:r}));u.fitsInOneTransaction(n)?(o.push(c),a=u):(o=[c],i.push(a),e=e.empty(),a=e)}),o.length>0&&i.push(a),i}var Ez={};Object.defineProperty(Ez,"__esModule",{value:!0});Ez.createMint=void 0;const Ame=Z,nF=um;function Yvt(n,e){return(0,Ame.transactionBuilder)().add((0,nF.createAccountWithRent)(n,{newAccount:e.mint,space:(0,nF.getMintSize)(),programId:n.programs.get("splToken").publicKey})).add((0,nF.initializeMint2)(n,{mint:e.mint.publicKey,decimals:e.decimals??0,mintAuthority:e.mintAuthority??n.identity.publicKey,freezeAuthority:e.freezeAuthority===void 0?(0,Ame.some)(n.identity.publicKey):e.freezeAuthority}))}Ez.createMint=Yvt;var Y6={};Object.defineProperty(Y6,"__esModule",{value:!0});Y6.createMintWithAssociatedToken=void 0;const sF=Z,Zvt=Ez,wme=um,Jvt=CT;function Xvt(n,e){const t={mint:e.mint.publicKey,owner:e.owner??n.identity.publicKey},r=e.amount??0;let s=(0,sF.transactionBuilder)().add((0,Zvt.createMint)(n,{...e,mintAuthority:e.mintAuthority?(0,sF.publicKey)(e.mintAuthority,!1):void 0})).add((0,wme.createAssociatedToken)(n,t));return r>0&&(s=s.add((0,wme.mintTokensTo)(n,{amount:r,mint:e.mint.publicKey,token:(0,Jvt.findAssociatedTokenPda)(n,t),mintAuthority:e.mintAuthority&&(0,sF.isSigner)(e.mintAuthority)?e.mintAuthority:void 0}))),s}Y6.createMintWithAssociatedToken=Xvt;var Z6={};Object.defineProperty(Z6,"__esModule",{value:!0});Z6.createToken=void 0;const Qvt=Z,iF=um;function eAt(n,e){return(0,Qvt.transactionBuilder)().add((0,iF.createAccountWithRent)(n,{newAccount:e.token,space:(0,iF.getTokenSize)(),programId:n.programs.get("splToken").publicKey})).add((0,iF.initializeToken3)(n,{account:e.token.publicKey,mint:e.mint,owner:e.owner??n.identity.publicKey}))}Z6.createToken=eAt;var FTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchTokensByOwnerAndMint=n.fetchTokensByOwner=n.fetchAllMintByOwner=n.fetchAllMintPublicKeyByOwner=n.fetchAllTokenByOwnerAndMint=n.fetchAllTokenByOwner=void 0;const e=Z,t=q,r=um,s=async(u,l,d,y={})=>{const h=u.programs.get("splToken").publicKey,m=y.mint?{mint:y.mint}:{programId:h};return(await u.rpc.call("getTokenAccountsByOwner",[l,m],{...y,extra:{encoding:"base64"}})).value.filter(({account:g})=>{const b=t.base64.serialize(g.data[0]),S=(0,t.u64)().deserialize(b.slice(64,72))[0];return d(S)})},i=async(u,l,d={})=>{const{mint:y,tokenStrategy:h="getProgramAccounts",tokenAmountFilter:m=b=>b>0,...f}=d;if(h==="getTokenAccountsByOwner")return(await s(u,l,m,{mint:y,...f})).map(({pubkey:S,account:p})=>(0,r.deserializeToken)({...p,data:t.base64.serialize(p.data[0]),publicKey:(0,e.publicKey)(S),owner:(0,e.publicKey)(p.owner),lamports:(0,e.lamports)(p.lamports)}));let g=(0,r.getTokenGpaBuilder)(u).whereField("owner",l);return y&&(g=g.whereField("mint",y)),(await g.get()).filter(b=>{const S=(0,t.u64)().deserialize(b.data.slice(64,72))[0];return m(S)}).map(b=>(0,r.deserializeToken)(b))};n.fetchAllTokenByOwner=i;const o=(u,l,d,y={})=>(0,n.fetchAllTokenByOwner)(u,l,{...y,mint:d});n.fetchAllTokenByOwnerAndMint=o;const a=async(u,l,d={})=>{const{tokenStrategy:y="getProgramAccounts",tokenAmountFilter:h=f=>f>0,...m}=d;return y==="getTokenAccountsByOwner"?(await s(u,l,h,m)).map(({account:g})=>(0,e.publicKey)(t.base64.serialize(g.data[0]).slice(0,32))):(await(0,r.getTokenGpaBuilder)(u).slice(0,72).whereField("owner",l).get()).filter(f=>{const g=(0,t.u64)().deserialize(f.data.slice(64,72))[0];return h(g)}).map(f=>(0,e.publicKey)(f.data.slice(0,32)))};n.fetchAllMintPublicKeyByOwner=a;const c=async(u,l,d={})=>{const{tokenStrategy:y,tokenAmountFilter:h,...m}=d,f=await(0,n.fetchAllMintPublicKeyByOwner)(u,l,d);return(0,r.fetchAllMint)(u,f,m)};n.fetchAllMintByOwner=c,n.fetchTokensByOwner=n.fetchAllTokenByOwner,n.fetchTokensByOwnerAndMint=n.fetchAllTokenByOwnerAndMint})(FTe);var J6={};Object.defineProperty(J6,"__esModule",{value:!0});J6.findLargestTokensByMint=void 0;const Ime=Z,tAt=async(n,e,t={})=>(await n.rpc.call("getTokenLargestAccounts",[e],t)).value.map(({address:s,amount:i,decimals:o})=>({publicKey:(0,Ime.publicKey)(s),amount:(0,Ime.createAmount)(i,"splToken",o)}));J6.findLargestTokensByMint=tAt;var UTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.mplEssentials=n.mplToolbox=void 0;const e=Z,t=um,r=()=>({install(s){s.programs.add((0,t.createSplSystemProgram)(),!1),s.programs.add((0,t.createSplMemoProgram)(),!1),s.programs.add((0,t.createSplTokenProgram)(),!1),s.programs.add((0,t.createSplAssociatedTokenProgram)(),!1),s.programs.add((0,t.createSplAddressLookupTableProgram)(),!1),s.programs.add((0,t.createMplSystemExtrasProgram)(),!1),s.programs.add((0,t.createMplTokenExtrasProgram)(),!1),s.programs.add({...(0,t.createSplTokenProgram)(),name:"splToken2022",publicKey:(0,e.publicKey)("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")},!1)}});n.mplToolbox=r,n.mplEssentials=n.mplToolbox})(UTe);var X6={};Object.defineProperty(X6,"__esModule",{value:!0});X6.getSysvar=void 0;const Fd=Z,rAt=n=>{switch(n){case"clock":return(0,Fd.publicKey)("SysvarC1ock11111111111111111111111111111111");case"epochSchedule":return(0,Fd.publicKey)("SysvarEpochSchedu1e111111111111111111111111");case"instructions":return(0,Fd.publicKey)("Sysvar1nstructions1111111111111111111111111");case"recentBlockhashes":return(0,Fd.publicKey)("SysvarRecentB1ockHashes11111111111111111111");case"rent":return(0,Fd.publicKey)("SysvarRent111111111111111111111111111111111");case"rewards":return(0,Fd.publicKey)("SysvarRewards111111111111111111111111111111");case"slotHashes":return(0,Fd.publicKey)("SysvarS1otHashes111111111111111111111111111");case"slotHistory":return(0,Fd.publicKey)("SysvarS1otHistory11111111111111111111111111");case"stakeHistory":return(0,Fd.publicKey)("SysvarStakeHistory1111111111111111111111111");default:throw new Fd.SdkError(`Unknown sysvar: ${n}`)}};X6.getSysvar=rAt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(um,n),t(CT,n),t(H6,n),t(G6,n),t(Ez,n),t(Y6,n),t(Z6,n),t(FTe,n),t(J6,n),t(UTe,n),t(X6,n)})(Hs);var Q6={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isProgrammable=n.isNonFungible=n.isFungible=n.deserializeDigitalAsset=n.fetchAllMetadataByOwner=n.fetchAllDigitalAssetByOwner=n.fetchAllDigitalAssetByUpdateAuthority=n.fetchAllDigitalAssetByVerifiedCollection=n.fetchAllDigitalAssetByCreator=n.fetchAllDigitalAsset=n.fetchDigitalAssetByMetadata=n.fetchDigitalAsset=void 0;const e=Hs,t=Z,r=$b,s=zb,i=326,o=34,a=[366,400,434,468,502],c=1,u=2;async function l(w,_,P){const[M]=(0,s.findMetadataPda)(w,{mint:_}),[E]=(0,s.findMasterEditionPda)(w,{mint:_}),[T,z,O]=await w.rpc.getAccounts([_,M,E],P);return(0,t.assertAccountExists)(T,"Mint"),(0,t.assertAccountExists)(z,"Metadata"),S(T,z,O.exists?O:void 0)}n.fetchDigitalAsset=l;async function d(w,_,P){const M=await(0,s.fetchMetadata)(w,_,P);return l(w,M.mint,P)}n.fetchDigitalAssetByMetadata=d;async function y(w,_,P){const M=_.flatMap(T=>[T,(0,s.findMetadataPda)(w,{mint:T})[0],(0,s.findMasterEditionPda)(w,{mint:T})[0]]),E=await w.rpc.getAccounts(M,P);return(0,t.chunk)(E,3).flatMap(([T,z,O])=>{try{return(0,t.assertAccountExists)(T,"Mint"),(0,t.assertAccountExists)(z,"Metadata"),[S(T,z,O.exists?O:void 0)]}catch{return[]}})}n.fetchAllDigitalAsset=y;async function h(w,_,P){const M=((P==null?void 0:P.position)??1)-1,E=await(0,s.getMetadataGpaBuilder)(w).where(i+M*o,_).sliceField("mint").getDataAsPublicKeys();return y(w,E,P)}n.fetchAllDigitalAssetByCreator=h;async function m(w,_,P){const M=await Promise.all(a.map(async E=>(0,s.getMetadataGpaBuilder)(w).where(E,1).where(E+c,1).where(E+u,_).sliceField("mint").getDataAsPublicKeys()));return y(w,M.flat(),P)}n.fetchAllDigitalAssetByVerifiedCollection=m;async function f(w,_,P){const M=await(0,s.getMetadataGpaBuilder)(w).whereField("updateAuthority",_).sliceField("mint").getDataAsPublicKeys();return y(w,M,P)}n.fetchAllDigitalAssetByUpdateAuthority=f;async function g(w,_,P){const M=await(0,e.fetchAllMintPublicKeyByOwner)(w,_,P);return y(w,M,P)}n.fetchAllDigitalAssetByOwner=g;async function b(w,_,P){const E=(await(0,e.fetchAllMintPublicKeyByOwner)(w,_,P)).map(z=>(0,s.findMetadataPda)(w,{mint:z})[0]);return(await w.rpc.getAccounts(E,P)).flatMap(z=>{try{return(0,t.assertAccountExists)(z,"Metadata"),[(0,s.deserializeMetadata)(z)]}catch{return[]}})}n.fetchAllMetadataByOwner=b;function S(w,_,P){const M=(0,e.deserializeMint)(w),E=(0,s.deserializeMetadata)(_),T=(0,t.unwrapOption)(E.tokenStandard);if(T&&(0,n.isNonFungible)(T)&&!P)throw new Error("Edition account must be provided for non-fungible assets.");const z={publicKey:M.publicKey,mint:M,metadata:E};if(!P)return z;const O=(0,s.getKeySerializer)().deserialize(P.data)[0];let R;if(O===s.Key.MasterEditionV1||O===s.Key.MasterEditionV2)R={isOriginal:!0,...(0,s.deserializeMasterEdition)(P)};else if(O===s.Key.EditionV1)R={isOriginal:!1,...(0,s.deserializeEdition)(P)};else throw new r.TokenMetadataError(`Invalid key "${O}" for edition account.`);return{...z,edition:R}}n.deserializeDigitalAsset=S;const p=w=>w===s.TokenStandard.Fungible||w===s.TokenStandard.FungibleAsset;n.isFungible=p;const I=w=>!(0,n.isFungible)(w);n.isNonFungible=I;const A=w=>w===s.TokenStandard.ProgrammableNonFungible;n.isProgrammable=A})(Q6);Object.defineProperty(xa,"__esModule",{value:!0});xa.resolveIsNonFungibleOrIsMintSigner=xa.resolveOptionalTokenOwner=xa.resolveCreateV1Bytes=xa.resolveCreators=xa.resolvePrintSupply=xa.resolveDecimals=xa.resolveIsNonFungible=xa.resolveCollectionDetails=void 0;const nAt=Hs,sh=Z,xz=Q6,em=zb,sAt=679,iAt=282,oAt=(n,e,t,...r)=>t.isCollection?(0,sh.some)((0,em.collectionDetails)("V1",{size:0})):(0,sh.none)();xa.resolveCollectionDetails=oAt;const aAt=(n,e,t,...r)=>(0,xz.isNonFungible)((0,em.expectSome)(t.tokenStandard));xa.resolveIsNonFungible=aAt;const cAt=(n,e,t,...r)=>(0,xz.isNonFungible)((0,em.expectSome)(t.tokenStandard))?(0,sh.none)():(0,sh.some)(0);xa.resolveDecimals=cAt;const uAt=(n,e,t,...r)=>(0,xz.isNonFungible)((0,em.expectSome)(t.tokenStandard))?(0,sh.some)((0,em.printSupply)("Zero")):(0,sh.none)();xa.resolvePrintSupply=uAt;const lAt=(n,e,...t)=>(0,sh.some)([{address:(0,em.expectPublicKey)(e.authority.value),share:100,verified:!0}]);xa.resolveCreators=lAt;const dAt=(n,e,t,...r)=>{const s=(0,nAt.getMintSize)()+sAt+2*sh.ACCOUNT_HEADER_SIZE;return(0,xz.isNonFungible)((0,em.expectSome)(t.tokenStandard))?s+iAt+sh.ACCOUNT_HEADER_SIZE:s};xa.resolveCreateV1Bytes=dAt;const fAt=(n,e,...t)=>e.token.value?{value:null}:{value:n.identity.publicKey};xa.resolveOptionalTokenOwner=fAt;const hAt=(n,e,t,...r)=>(0,xz.isNonFungible)((0,em.expectSome)(t.tokenStandard))||(0,sh.isSigner)((0,em.expectSome)(e.mint.value));xa.resolveIsNonFungibleOrIsMintSigner=hAt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(O6,n),t(K6,n),t(L6,n),t(xa,n)})(on);Object.defineProperty(ri,"__esModule",{value:!0});ri.safeFetchHolderDelegateRecordFromSeeds=ri.fetchHolderDelegateRecordFromSeeds=ri.findHolderDelegateRecordPda=ri.getHolderDelegateRecordSize=ri.getHolderDelegateRecordGpaBuilder=ri.safeFetchAllHolderDelegateRecord=ri.fetchAllHolderDelegateRecord=ri.safeFetchHolderDelegateRecord=ri.fetchHolderDelegateRecord=ri.deserializeHolderDelegateRecord=ri.getHolderDelegateRecordAccountDataSerializer=void 0;const ib=Z,bu=q,gAt=on,VTe=ut;function qTe(){return(0,bu.struct)([["key",(0,VTe.getKeySerializer)()],["bump",(0,bu.u8)()],["mint",(0,bu.publicKey)()],["delegate",(0,bu.publicKey)()],["updateAuthority",(0,bu.publicKey)()]],{description:"HolderDelegateRecordAccountData"})}ri.getHolderDelegateRecordAccountDataSerializer=qTe;function MT(n){return(0,ib.deserializeAccount)(n,qTe())}ri.deserializeHolderDelegateRecord=MT;async function jTe(n,e,t){const r=await n.rpc.getAccount((0,ib.publicKey)(e,!1),t);return(0,ib.assertAccountExists)(r,"HolderDelegateRecord"),MT(r)}ri.fetchHolderDelegateRecord=jTe;async function HTe(n,e,t){const r=await n.rpc.getAccount((0,ib.publicKey)(e,!1),t);return r.exists?MT(r):null}ri.safeFetchHolderDelegateRecord=HTe;async function mAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ib.publicKey)(s,!1)),t)).map(s=>((0,ib.assertAccountExists)(s,"HolderDelegateRecord"),MT(s)))}ri.fetchAllHolderDelegateRecord=mAt;async function yAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ib.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>MT(s))}ri.safeFetchAllHolderDelegateRecord=yAt;function pAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,ib.gpaBuilder)(n,e).registerFields({key:[0,(0,VTe.getKeySerializer)()],bump:[1,(0,bu.u8)()],mint:[2,(0,bu.publicKey)()],delegate:[34,(0,bu.publicKey)()],updateAuthority:[66,(0,bu.publicKey)()]}).deserializeUsing(t=>MT(t))}ri.getHolderDelegateRecordGpaBuilder=pAt;function bAt(){return 98}ri.getHolderDelegateRecordSize=bAt;function BQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,bu.string)({size:"variable"}).serialize("metadata"),(0,bu.publicKey)().serialize(t),(0,bu.publicKey)().serialize(e.mint),(0,gAt.getHolderDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,bu.publicKey)().serialize(e.owner),(0,bu.publicKey)().serialize(e.delegate)])}ri.findHolderDelegateRecordPda=BQ;async function SAt(n,e,t){return jTe(n,BQ(n,e),t)}ri.fetchHolderDelegateRecordFromSeeds=SAt;async function kAt(n,e,t){return HTe(n,BQ(n,e),t)}ri.safeFetchHolderDelegateRecordFromSeeds=kAt;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.safeFetchMasterEditionFromSeeds=Ao.fetchMasterEditionFromSeeds=Ao.findMasterEditionPda=Ao.getMasterEditionGpaBuilder=Ao.safeFetchAllMasterEdition=Ao.fetchAllMasterEdition=Ao.safeFetchMasterEdition=Ao.fetchMasterEdition=Ao.deserializeMasterEdition=Ao.getMasterEditionAccountDataSerializer=void 0;const ob=Z,wl=q,OO=ut;function GTe(){return(0,wl.mapSerializer)((0,wl.struct)([["key",(0,OO.getKeySerializer)()],["supply",(0,wl.u64)()],["maxSupply",(0,wl.option)((0,wl.u64)())]],{description:"MasterEditionAccountData"}),n=>({...n,key:OO.Key.MasterEditionV2}))}Ao.getMasterEditionAccountDataSerializer=GTe;function BT(n){return(0,ob.deserializeAccount)(n,GTe())}Ao.deserializeMasterEdition=BT;async function YTe(n,e,t){const r=await n.rpc.getAccount((0,ob.publicKey)(e,!1),t);return(0,ob.assertAccountExists)(r,"MasterEdition"),BT(r)}Ao.fetchMasterEdition=YTe;async function ZTe(n,e,t){const r=await n.rpc.getAccount((0,ob.publicKey)(e,!1),t);return r.exists?BT(r):null}Ao.safeFetchMasterEdition=ZTe;async function vAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ob.publicKey)(s,!1)),t)).map(s=>((0,ob.assertAccountExists)(s,"MasterEdition"),BT(s)))}Ao.fetchAllMasterEdition=vAt;async function AAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ob.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>BT(s))}Ao.safeFetchAllMasterEdition=AAt;function wAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,ob.gpaBuilder)(n,e).registerFields({key:[0,(0,OO.getKeySerializer)()],supply:[1,(0,wl.u64)()],maxSupply:[9,(0,wl.option)((0,wl.u64)())]}).deserializeUsing(t=>BT(t)).whereField("key",OO.Key.MasterEditionV2)}Ao.getMasterEditionGpaBuilder=wAt;function zQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,wl.string)({size:"variable"}).serialize("metadata"),(0,wl.publicKey)().serialize(t),(0,wl.publicKey)().serialize(e.mint),(0,wl.string)({size:"variable"}).serialize("edition")])}Ao.findMasterEditionPda=zQ;async function IAt(n,e,t){return YTe(n,zQ(n,e),t)}Ao.fetchMasterEditionFromSeeds=IAt;async function _At(n,e,t){return ZTe(n,zQ(n,e),t)}Ao.safeFetchMasterEditionFromSeeds=_At;var wo={};Object.defineProperty(wo,"__esModule",{value:!0});wo.safeFetchMetadataFromSeeds=wo.fetchMetadataFromSeeds=wo.findMetadataPda=wo.getMetadataGpaBuilder=wo.safeFetchAllMetadata=wo.fetchAllMetadata=wo.safeFetchMetadata=wo.fetchMetadata=wo.deserializeMetadata=wo.getMetadataAccountDataSerializer=void 0;const ab=Z,ln=q,pc=ut;function JTe(){return(0,ln.mapSerializer)((0,ln.struct)([["key",(0,pc.getKeySerializer)()],["updateAuthority",(0,ln.publicKey)()],["mint",(0,ln.publicKey)()],["name",(0,ln.string)()],["symbol",(0,ln.string)()],["uri",(0,ln.string)()],["sellerFeeBasisPoints",(0,ln.u16)()],["creators",(0,ln.option)((0,ln.array)((0,pc.getCreatorSerializer)()))],["primarySaleHappened",(0,ln.bool)()],["isMutable",(0,ln.bool)()],["editionNonce",(0,ln.option)((0,ln.u8)())],["tokenStandard",(0,ln.option)((0,pc.getTokenStandardSerializer)())],["collection",(0,ln.option)((0,pc.getCollectionSerializer)())],["uses",(0,ln.option)((0,pc.getUsesSerializer)())],["collectionDetails",(0,ln.option)((0,pc.getCollectionDetailsSerializer)())],["programmableConfig",(0,ln.option)((0,pc.getProgrammableConfigSerializer)())]],{description:"MetadataAccountData"}),n=>({...n,key:pc.Key.MetadataV1}))}wo.getMetadataAccountDataSerializer=JTe;function zT(n){return(0,ab.deserializeAccount)(n,JTe())}wo.deserializeMetadata=zT;async function XTe(n,e,t){const r=await n.rpc.getAccount((0,ab.publicKey)(e,!1),t);return(0,ab.assertAccountExists)(r,"Metadata"),zT(r)}wo.fetchMetadata=XTe;async function QTe(n,e,t){const r=await n.rpc.getAccount((0,ab.publicKey)(e,!1),t);return r.exists?zT(r):null}wo.safeFetchMetadata=QTe;async function PAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ab.publicKey)(s,!1)),t)).map(s=>((0,ab.assertAccountExists)(s,"Metadata"),zT(s)))}wo.fetchAllMetadata=PAt;async function EAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ab.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>zT(s))}wo.safeFetchAllMetadata=EAt;function xAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,ab.gpaBuilder)(n,e).registerFields({key:[0,(0,pc.getKeySerializer)()],updateAuthority:[1,(0,ln.publicKey)()],mint:[33,(0,ln.publicKey)()],name:[65,(0,ln.string)()],symbol:[null,(0,ln.string)()],uri:[null,(0,ln.string)()],sellerFeeBasisPoints:[null,(0,ln.u16)()],creators:[null,(0,ln.option)((0,ln.array)((0,pc.getCreatorSerializer)()))],primarySaleHappened:[null,(0,ln.bool)()],isMutable:[null,(0,ln.bool)()],editionNonce:[null,(0,ln.option)((0,ln.u8)())],tokenStandard:[null,(0,ln.option)((0,pc.getTokenStandardSerializer)())],collection:[null,(0,ln.option)((0,pc.getCollectionSerializer)())],uses:[null,(0,ln.option)((0,pc.getUsesSerializer)())],collectionDetails:[null,(0,ln.option)((0,pc.getCollectionDetailsSerializer)())],programmableConfig:[null,(0,ln.option)((0,pc.getProgrammableConfigSerializer)())]}).deserializeUsing(t=>zT(t)).whereField("key",pc.Key.MetadataV1)}wo.getMetadataGpaBuilder=xAt;function $Q(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,ln.string)({size:"variable"}).serialize("metadata"),(0,ln.publicKey)().serialize(t),(0,ln.publicKey)().serialize(e.mint)])}wo.findMetadataPda=$Q;async function TAt(n,e,t){return XTe(n,$Q(n,e),t)}wo.fetchMetadataFromSeeds=TAt;async function RAt(n,e,t){return QTe(n,$Q(n,e),t)}wo.safeFetchMetadataFromSeeds=RAt;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.safeFetchMetadataDelegateRecordFromSeeds=ni.fetchMetadataDelegateRecordFromSeeds=ni.findMetadataDelegateRecordPda=ni.getMetadataDelegateRecordSize=ni.getMetadataDelegateRecordGpaBuilder=ni.safeFetchAllMetadataDelegateRecord=ni.fetchAllMetadataDelegateRecord=ni.safeFetchMetadataDelegateRecord=ni.fetchMetadataDelegateRecord=ni.deserializeMetadataDelegateRecord=ni.getMetadataDelegateRecordAccountDataSerializer=void 0;const cb=Z,Su=q,CAt=on,eRe=ut;function tRe(){return(0,Su.struct)([["key",(0,eRe.getKeySerializer)()],["bump",(0,Su.u8)()],["mint",(0,Su.publicKey)()],["delegate",(0,Su.publicKey)()],["updateAuthority",(0,Su.publicKey)()]],{description:"MetadataDelegateRecordAccountData"})}ni.getMetadataDelegateRecordAccountDataSerializer=tRe;function $T(n){return(0,cb.deserializeAccount)(n,tRe())}ni.deserializeMetadataDelegateRecord=$T;async function rRe(n,e,t){const r=await n.rpc.getAccount((0,cb.publicKey)(e,!1),t);return(0,cb.assertAccountExists)(r,"MetadataDelegateRecord"),$T(r)}ni.fetchMetadataDelegateRecord=rRe;async function nRe(n,e,t){const r=await n.rpc.getAccount((0,cb.publicKey)(e,!1),t);return r.exists?$T(r):null}ni.safeFetchMetadataDelegateRecord=nRe;async function MAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,cb.publicKey)(s,!1)),t)).map(s=>((0,cb.assertAccountExists)(s,"MetadataDelegateRecord"),$T(s)))}ni.fetchAllMetadataDelegateRecord=MAt;async function BAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,cb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>$T(s))}ni.safeFetchAllMetadataDelegateRecord=BAt;function zAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,cb.gpaBuilder)(n,e).registerFields({key:[0,(0,eRe.getKeySerializer)()],bump:[1,(0,Su.u8)()],mint:[2,(0,Su.publicKey)()],delegate:[34,(0,Su.publicKey)()],updateAuthority:[66,(0,Su.publicKey)()]}).deserializeUsing(t=>$T(t))}ni.getMetadataDelegateRecordGpaBuilder=zAt;function $At(){return 98}ni.getMetadataDelegateRecordSize=$At;function DQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Su.string)({size:"variable"}).serialize("metadata"),(0,Su.publicKey)().serialize(t),(0,Su.publicKey)().serialize(e.mint),(0,CAt.getMetadataDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,Su.publicKey)().serialize(e.updateAuthority),(0,Su.publicKey)().serialize(e.delegate)])}ni.findMetadataDelegateRecordPda=DQ;async function DAt(n,e,t){return rRe(n,DQ(n,e),t)}ni.fetchMetadataDelegateRecordFromSeeds=DAt;async function OAt(n,e,t){return nRe(n,DQ(n,e),t)}ni.safeFetchMetadataDelegateRecordFromSeeds=OAt;var kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.getTokenOwnedEscrowGpaBuilder=kc.safeFetchAllTokenOwnedEscrow=kc.fetchAllTokenOwnedEscrow=kc.safeFetchTokenOwnedEscrow=kc.fetchTokenOwnedEscrow=kc.deserializeTokenOwnedEscrow=kc.getTokenOwnedEscrowAccountDataSerializer=void 0;const ub=Z,Cv=q,uA=ut;function sRe(){return(0,Cv.mapSerializer)((0,Cv.struct)([["key",(0,uA.getKeySerializer)()],["baseToken",(0,Cv.publicKey)()],["authority",(0,uA.getEscrowAuthoritySerializer)()],["bump",(0,Cv.u8)()]],{description:"TokenOwnedEscrowAccountData"}),n=>({...n,key:uA.Key.TokenOwnedEscrow}))}kc.getTokenOwnedEscrowAccountDataSerializer=sRe;function DT(n){return(0,ub.deserializeAccount)(n,sRe())}kc.deserializeTokenOwnedEscrow=DT;async function KAt(n,e,t){const r=await n.rpc.getAccount((0,ub.publicKey)(e,!1),t);return(0,ub.assertAccountExists)(r,"TokenOwnedEscrow"),DT(r)}kc.fetchTokenOwnedEscrow=KAt;async function LAt(n,e,t){const r=await n.rpc.getAccount((0,ub.publicKey)(e,!1),t);return r.exists?DT(r):null}kc.safeFetchTokenOwnedEscrow=LAt;async function WAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ub.publicKey)(s,!1)),t)).map(s=>((0,ub.assertAccountExists)(s,"TokenOwnedEscrow"),DT(s)))}kc.fetchAllTokenOwnedEscrow=WAt;async function NAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ub.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>DT(s))}kc.safeFetchAllTokenOwnedEscrow=NAt;function FAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,ub.gpaBuilder)(n,e).registerFields({key:[0,(0,uA.getKeySerializer)()],baseToken:[1,(0,Cv.publicKey)()],authority:[33,(0,uA.getEscrowAuthoritySerializer)()],bump:[null,(0,Cv.u8)()]}).deserializeUsing(t=>DT(t)).whereField("key",uA.Key.TokenOwnedEscrow)}kc.getTokenOwnedEscrowGpaBuilder=FAt;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.safeFetchTokenRecordFromSeeds=si.fetchTokenRecordFromSeeds=si.findTokenRecordPda=si.getTokenRecordSize=si.getTokenRecordGpaBuilder=si.safeFetchAllTokenRecord=si.fetchAllTokenRecord=si.safeFetchTokenRecord=si.fetchTokenRecord=si.deserializeTokenRecord=si.getTokenRecordAccountDataSerializer=void 0;const lb=Z,vi=q,zy=ut;function iRe(){return(0,vi.mapSerializer)((0,vi.struct)([["key",(0,zy.getKeySerializer)()],["bump",(0,vi.u8)()],["state",(0,zy.getTokenStateSerializer)()],["ruleSetRevision",(0,vi.option)((0,vi.u64)())],["delegate",(0,vi.option)((0,vi.publicKey)())],["delegateRole",(0,vi.option)((0,zy.getTokenDelegateRoleSerializer)())],["lockedTransfer",(0,vi.option)((0,vi.publicKey)())]],{description:"TokenRecordAccountData"}),n=>({...n,key:zy.Key.TokenRecord}))}si.getTokenRecordAccountDataSerializer=iRe;function OT(n){return(0,lb.deserializeAccount)(n,iRe())}si.deserializeTokenRecord=OT;async function oRe(n,e,t){const r=await n.rpc.getAccount((0,lb.publicKey)(e,!1),t);return(0,lb.assertAccountExists)(r,"TokenRecord"),OT(r)}si.fetchTokenRecord=oRe;async function aRe(n,e,t){const r=await n.rpc.getAccount((0,lb.publicKey)(e,!1),t);return r.exists?OT(r):null}si.safeFetchTokenRecord=aRe;async function UAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,lb.publicKey)(s,!1)),t)).map(s=>((0,lb.assertAccountExists)(s,"TokenRecord"),OT(s)))}si.fetchAllTokenRecord=UAt;async function VAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,lb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>OT(s))}si.safeFetchAllTokenRecord=VAt;function qAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,lb.gpaBuilder)(n,e).registerFields({key:[0,(0,zy.getKeySerializer)()],bump:[1,(0,vi.u8)()],state:[2,(0,zy.getTokenStateSerializer)()],ruleSetRevision:[3,(0,vi.option)((0,vi.u64)())],delegate:[null,(0,vi.option)((0,vi.publicKey)())],delegateRole:[null,(0,vi.option)((0,zy.getTokenDelegateRoleSerializer)())],lockedTransfer:[null,(0,vi.option)((0,vi.publicKey)())]}).deserializeUsing(t=>OT(t)).whereField("key",zy.Key.TokenRecord)}si.getTokenRecordGpaBuilder=qAt;function jAt(){return 80}si.getTokenRecordSize=jAt;function OQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,vi.string)({size:"variable"}).serialize("metadata"),(0,vi.publicKey)().serialize(t),(0,vi.publicKey)().serialize(e.mint),(0,vi.string)({size:"variable"}).serialize("token_record"),(0,vi.publicKey)().serialize(e.token)])}si.findTokenRecordPda=OQ;async function HAt(n,e,t){return oRe(n,OQ(n,e),t)}si.fetchTokenRecordFromSeeds=HAt;async function GAt(n,e,t){return aRe(n,OQ(n,e),t)}si.safeFetchTokenRecordFromSeeds=GAt;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.safeFetchUseAuthorityRecordFromSeeds=ii.fetchUseAuthorityRecordFromSeeds=ii.findUseAuthorityRecordPda=ii.getUseAuthorityRecordSize=ii.getUseAuthorityRecordGpaBuilder=ii.safeFetchAllUseAuthorityRecord=ii.fetchAllUseAuthorityRecord=ii.safeFetchUseAuthorityRecord=ii.fetchUseAuthorityRecord=ii.deserializeUseAuthorityRecord=ii.getUseAuthorityRecordAccountDataSerializer=void 0;const db=Z,ed=q,KO=ut;function cRe(){return(0,ed.mapSerializer)((0,ed.struct)([["key",(0,KO.getKeySerializer)()],["allowedUses",(0,ed.u64)()],["bump",(0,ed.u8)()]],{description:"UseAuthorityRecordAccountData"}),n=>({...n,key:KO.Key.UseAuthorityRecord}))}ii.getUseAuthorityRecordAccountDataSerializer=cRe;function KT(n){return(0,db.deserializeAccount)(n,cRe())}ii.deserializeUseAuthorityRecord=KT;async function uRe(n,e,t){const r=await n.rpc.getAccount((0,db.publicKey)(e,!1),t);return(0,db.assertAccountExists)(r,"UseAuthorityRecord"),KT(r)}ii.fetchUseAuthorityRecord=uRe;async function lRe(n,e,t){const r=await n.rpc.getAccount((0,db.publicKey)(e,!1),t);return r.exists?KT(r):null}ii.safeFetchUseAuthorityRecord=lRe;async function YAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,db.publicKey)(s,!1)),t)).map(s=>((0,db.assertAccountExists)(s,"UseAuthorityRecord"),KT(s)))}ii.fetchAllUseAuthorityRecord=YAt;async function ZAt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,db.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>KT(s))}ii.safeFetchAllUseAuthorityRecord=ZAt;function JAt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,db.gpaBuilder)(n,e).registerFields({key:[0,(0,KO.getKeySerializer)()],allowedUses:[1,(0,ed.u64)()],bump:[9,(0,ed.u8)()]}).deserializeUsing(t=>KT(t)).whereField("key",KO.Key.UseAuthorityRecord)}ii.getUseAuthorityRecordGpaBuilder=JAt;function XAt(){return 10}ii.getUseAuthorityRecordSize=XAt;function KQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,ed.string)({size:"variable"}).serialize("metadata"),(0,ed.publicKey)().serialize(t),(0,ed.publicKey)().serialize(e.mint),(0,ed.string)({size:"variable"}).serialize("user"),(0,ed.publicKey)().serialize(e.useAuthority)])}ii.findUseAuthorityRecordPda=KQ;async function QAt(n,e,t){return uRe(n,KQ(n,e),t)}ii.fetchUseAuthorityRecordFromSeeds=QAt;async function ewt(n,e,t){return lRe(n,KQ(n,e),t)}ii.safeFetchUseAuthorityRecordFromSeeds=ewt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(po,n),t(bo,n),t(Ea,n),t(ti,n),t(So,n),t(ri,n),t(Ao,n),t(wo,n),t(ni,n),t(kc,n),t(si,n),t(ii,n)})(Ut);var LQ={},H={};Object.defineProperty(H,"__esModule",{value:!0});H.ReservationAlreadyMadeError=H.ReservationNotSetError=H.ReservationDoesNotExistError=H.ReservationExistsError=H.ShareTotalMustBe100Error=H.NoBalanceInAccountForAuthorizationError=H.OwnerMismatchError=H.PrimarySaleCanOnlyBeFlippedToTrueError=H.InvalidBasisPointsError=H.CreatorNotFoundError=H.NoCreatorsPresentOnMetadataError=H.MustBeOneOfCreatorsError=H.CreatorsMustBeAtleastOneError=H.CreatorsTooLongError=H.DisabledError=H.AuthorizationTokenAccountOwnerMismatchError=H.PrintingMintAuthorizationAccountMismatchError=H.NotEnoughTokensError=H.TokenAccountMintMismatchV2Error=H.TokenAccountMintMismatchError=H.OneTimePrintingAuthMintMismatchError=H.PrintingMintMismatchError=H.DerivedKeyInvalidError=H.TokenAccountOneTimeAuthMintMismatchError=H.TokenBurnFailedError=H.EditionMintDecimalsShouldBeZeroError=H.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=H.PrintingMintDecimalsShouldBeZeroError=H.EditionAlreadyMintedError=H.DestinationMintMismatchError=H.MasterRecordMismatchError=H.TokenMintToFailedError=H.MaxEditionsMintedAlreadyError=H.EditionsMustHaveExactlyOneTokenError=H.MintMismatchError=H.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=H.UriTooLongError=H.SymbolTooLongError=H.NameTooLongError=H.InvalidMintAuthorityError=H.NotMintAuthorityError=H.UpdateAuthorityIsNotSignerError=H.UpdateAuthorityIncorrectError=H.InvalidEditionKeyError=H.InvalidMetadataKeyError=H.UninitializedError=H.AlreadyInitializedError=H.NotRentExemptError=H.InstructionPackErrorError=H.InstructionUnpackErrorError=void 0;H.RevokeCollectionAuthoritySignerIncorrectError=H.InvalidUserError=H.EditionOverrideCannotBeZeroError=H.NotAllowedToChangeSellerFeeBasisPointsError=H.CannotWipeVerifiedCreatorsError=H.CannotRemoveVerifiedCreatorError=H.CannotAdjustVerifiedCreatorError=H.InvalidDelegateError=H.InvalidFreezeAuthorityError=H.InvalidCollectionAuthorityRecordError=H.InvalidUseAuthorityRecordError=H.CollectionAuthorityDoesNotExistError=H.CollectionAuthorityRecordAlreadyExistsError=H.NotEnoughUsesError=H.UnusableError=H.UseAuthorityRecordAlreadyRevokedError=H.UseAuthorityRecordAlreadyExistsError=H.CollectionMustBeAUniqueMasterEditionError=H.InvalidCollectionUpdateAuthorityError=H.CollectionNotFoundError=H.CannotChangeUsesAfterFirstUseError=H.CannotChangeUseMethodAfterFirstUseError=H.InvalidUseMethodError=H.MustBeBurnedError=H.RemovedError=H.CollectionCannotBeVerifiedInThisInstructionError=H.IsMutableCanOnlyBeFlippedToFalseError=H.ReservationArrayShouldBeSizeOneError=H.InvalidEditionIndexError=H.OneTimeAuthMintSupplyMustBeZeroForConversionError=H.PrintingMintSupplyMustBeZeroForConversionError=H.InvalidOwnerError=H.InvalidOperationError=H.TriedToReplaceAnExistingReservationError=H.ReservationNotCompleteError=H.BeyondAlottedAddressSizeError=H.DataTypeMismatchError=H.InvalidTokenProgramError=H.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=H.DuplicateCreatorAddressError=H.DataIsImmutableError=H.PrintingWouldBreachMaximumSupplyError=H.IncorrectOwnerError=H.SpotMismatchError=H.CannotUnverifyAnotherCreatorError=H.CannotVerifyAnotherCreatorError=H.AddressNotInReservationError=H.ReservationBreachesMaximumSupplyError=H.NumericalOverflowErrorError=H.BeyondMaxAddressSizeError=void 0;H.MissingSplTokenProgramError=H.MissingTokenAccountError=H.OnlySaleDelegateCanTransferError=H.InvalidSystemWalletError=H.FeatureNotSupportedError=H.MissingArgumentInBuilderError=H.MissingAccountInBuilderError=H.DelegateNotFoundError=H.DelegateAlreadyExistsError=H.InvalidProgrammableConfigError=H.MissingProgrammableConfigError=H.MissingAuthorizationRulesError=H.InvalidAuthorizationRulesError=H.InvalidMintForTokenStandardError=H.InvalidTokenStandardError=H.MintIsNotSignerError=H.EscrowParentHasDelegateError=H.InvalidBubblegumSignerError=H.InvalidCollectionSizeChangeError=H.NoFreezeAuthoritySetError=H.BorshSerializationErrorError=H.InsufficientTokensError=H.MustBeNonFungibleError=H.InvalidSystemProgramError=H.MustBeEscrowAuthorityError=H.InvalidEscrowBumpSeedError=H.MustUnverifyError=H.EditionNumberGreaterThanMaxSupplyError=H.PrintEditionDoesNotMatchMasterEditionError=H.ReservationListDeprecatedError=H.InvalidEditionMarkerError=H.InvalidPrintEditionError=H.InvalidMasterEditionError=H.NotAPrintEditionError=H.AlreadyUnverifiedError=H.AlreadyVerifiedError=H.CollectionMasterEditionAccountInvalidError=H.CannotUpdateVerifiedCollectionError=H.BorshDeserializationErrorError=H.MasterEditionHasPrintsError=H.NotAMasterEditionError=H.MissingEditionAccountError=H.CouldNotDetermineTokenStandardError=H.NotACollectionParentError=H.NotVerifiedMemberOfCollectionError=H.NotAMemberOfCollectionError=H.MissingCollectionMetadataError=H.SizedCollectionError=H.UnsizedCollectionError=H.TokenCloseFailedError=void 0;H.getMplTokenMetadataErrorFromCode=H.MissingImmutableOwnerExtensionError=H.InvalidTokenExtensionTypeError=H.InvalidMetadataPointerError=H.InvalidMintCloseAuthorityError=H.InvalidMintExtensionTypeError=H.CannotChangeUpdateAuthorityWithDelegateError=H.InvalidMetadataFlagsError=H.InvalidFeeAccountError=H.MissingDelegateRecordError=H.InvalidInstructionError=H.InvalidCloseAuthorityError=H.InvalidTokenRecordError=H.MissingCollectionMasterEditionError=H.MissingCollectionMintError=H.InsufficientTokenBalanceError=H.InvalidUpdateArgsError=H.InvalidParentAccountsError=H.InvalidInstructionsSysvarError=H.InvalidAssociatedTokenAccountProgramError=H.MissingEditionError=H.CannotBurnWithDelegateError=H.MissingEditionMarkerAccountError=H.MissingMasterEditionTokenAccountError=H.MissingMasterEditionMintAccountError=H.InvalidAmountError=H.CannotUpdateAssetWithDelegateError=H.DataIncrementLimitExceededError=H.InvalidLockedTransferAddressError=H.MissingLockedTransferAddressError=H.InvalidDelegateArgsError=H.AmountMustBeGreaterThanZeroError=H.MissingMasterEditionAccountError=H.MissingPrintSupplyError=H.InvalidDelegateRoleError=H.IncorrectTokenStateError=H.InvalidMasterEditionAccountLengthError=H.MissingTokenOwnerAccountError=H.DataIsEmptyOrZeroedError=H.MintSupplyMustBeZeroError=H.MissingTokenRecordError=H.InvalidAuthorityTypeError=H.MissingDelegateRoleError=H.UnlockedTokenError=H.LockedTokenError=H.KeyMismatchError=H.InstructionNotSupportedError=H.InvalidTransferAuthorityError=H.InvalidDelegateRoleForTransferError=H.MissingAuthorizationRulesProgramError=void 0;H.getMplTokenMetadataErrorFromName=void 0;const de=Z,ue=new Map,le=new Map;class WQ extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionUnpackError",this.code=0}}H.InstructionUnpackErrorError=WQ;ue.set(0,WQ);le.set("InstructionUnpackError",WQ);class NQ extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionPackError",this.code=1}}H.InstructionPackErrorError=NQ;ue.set(1,NQ);le.set("InstructionPackError",NQ);class FQ extends de.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=2}}H.NotRentExemptError=FQ;ue.set(2,FQ);le.set("NotRentExempt",FQ);class UQ extends de.ProgramError{constructor(e,t){super("Already initialized",e,t),this.name="AlreadyInitialized",this.code=3}}H.AlreadyInitializedError=UQ;ue.set(3,UQ);le.set("AlreadyInitialized",UQ);class VQ extends de.ProgramError{constructor(e,t){super("Uninitialized",e,t),this.name="Uninitialized",this.code=4}}H.UninitializedError=VQ;ue.set(4,VQ);le.set("Uninitialized",VQ);class qQ extends de.ProgramError{constructor(e,t){super(" Metadata's key must match seed of ['metadata', program id, mint] provided",e,t),this.name="InvalidMetadataKey",this.code=5}}H.InvalidMetadataKeyError=qQ;ue.set(5,qQ);le.set("InvalidMetadataKey",qQ);class jQ extends de.ProgramError{constructor(e,t){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided",e,t),this.name="InvalidEditionKey",this.code=6}}H.InvalidEditionKeyError=jQ;ue.set(6,jQ);le.set("InvalidEditionKey",jQ);class HQ extends de.ProgramError{constructor(e,t){super("Update Authority given does not match",e,t),this.name="UpdateAuthorityIncorrect",this.code=7}}H.UpdateAuthorityIncorrectError=HQ;ue.set(7,HQ);le.set("UpdateAuthorityIncorrect",HQ);class GQ extends de.ProgramError{constructor(e,t){super("Update Authority needs to be signer to update metadata",e,t),this.name="UpdateAuthorityIsNotSigner",this.code=8}}H.UpdateAuthorityIsNotSignerError=GQ;ue.set(8,GQ);le.set("UpdateAuthorityIsNotSigner",GQ);class YQ extends de.ProgramError{constructor(e,t){super("You must be the mint authority and signer on this transaction",e,t),this.name="NotMintAuthority",this.code=9}}H.NotMintAuthorityError=YQ;ue.set(9,YQ);le.set("NotMintAuthority",YQ);class ZQ extends de.ProgramError{constructor(e,t){super("Mint authority provided does not match the authority on the mint",e,t),this.name="InvalidMintAuthority",this.code=10}}H.InvalidMintAuthorityError=ZQ;ue.set(10,ZQ);le.set("InvalidMintAuthority",ZQ);class JQ extends de.ProgramError{constructor(e,t){super("Name too long",e,t),this.name="NameTooLong",this.code=11}}H.NameTooLongError=JQ;ue.set(11,JQ);le.set("NameTooLong",JQ);class XQ extends de.ProgramError{constructor(e,t){super("Symbol too long",e,t),this.name="SymbolTooLong",this.code=12}}H.SymbolTooLongError=XQ;ue.set(12,XQ);le.set("SymbolTooLong",XQ);class QQ extends de.ProgramError{constructor(e,t){super("URI too long",e,t),this.name="UriTooLong",this.code=13}}H.UriTooLongError=QQ;ue.set(13,QQ);le.set("UriTooLong",QQ);class eee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",this.code=14}}H.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=eee;ue.set(14,eee);le.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",eee);class tee extends de.ProgramError{constructor(e,t){super("Mint given does not match mint on Metadata",e,t),this.name="MintMismatch",this.code=15}}H.MintMismatchError=tee;ue.set(15,tee);le.set("MintMismatch",tee);class ree extends de.ProgramError{constructor(e,t){super("Editions must have exactly one token",e,t),this.name="EditionsMustHaveExactlyOneToken",this.code=16}}H.EditionsMustHaveExactlyOneTokenError=ree;ue.set(16,ree);le.set("EditionsMustHaveExactlyOneToken",ree);class nee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MaxEditionsMintedAlready",this.code=17}}H.MaxEditionsMintedAlreadyError=nee;ue.set(17,nee);le.set("MaxEditionsMintedAlready",nee);class see extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenMintToFailed",this.code=18}}H.TokenMintToFailedError=see;ue.set(18,see);le.set("TokenMintToFailed",see);class iee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MasterRecordMismatch",this.code=19}}H.MasterRecordMismatchError=iee;ue.set(19,iee);le.set("MasterRecordMismatch",iee);class oee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="DestinationMintMismatch",this.code=20}}H.DestinationMintMismatchError=oee;ue.set(20,oee);le.set("DestinationMintMismatch",oee);class aee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="EditionAlreadyMinted",this.code=21}}H.EditionAlreadyMintedError=aee;ue.set(21,aee);le.set("EditionAlreadyMinted",aee);class cee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintDecimalsShouldBeZero",this.code=22}}H.PrintingMintDecimalsShouldBeZeroError=cee;ue.set(22,cee);le.set("PrintingMintDecimalsShouldBeZero",cee);class uee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",this.code=23}}H.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=uee;ue.set(23,uee);le.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",uee);class lee extends de.ProgramError{constructor(e,t){super("EditionMintDecimalsShouldBeZero",e,t),this.name="EditionMintDecimalsShouldBeZero",this.code=24}}H.EditionMintDecimalsShouldBeZeroError=lee;ue.set(24,lee);le.set("EditionMintDecimalsShouldBeZero",lee);class dee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenBurnFailed",this.code=25}}H.TokenBurnFailedError=dee;ue.set(25,dee);le.set("TokenBurnFailed",dee);class fee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenAccountOneTimeAuthMintMismatch",this.code=26}}H.TokenAccountOneTimeAuthMintMismatchError=fee;ue.set(26,fee);le.set("TokenAccountOneTimeAuthMintMismatch",fee);class hee extends de.ProgramError{constructor(e,t){super("Derived key invalid",e,t),this.name="DerivedKeyInvalid",this.code=27}}H.DerivedKeyInvalidError=hee;ue.set(27,hee);le.set("DerivedKeyInvalid",hee);class gee extends de.ProgramError{constructor(e,t){super("The Printing mint does not match that on the master edition!",e,t),this.name="PrintingMintMismatch",this.code=28}}H.PrintingMintMismatchError=gee;ue.set(28,gee);le.set("PrintingMintMismatch",gee);class mee extends de.ProgramError{constructor(e,t){super("The One Time Printing Auth mint does not match that on the master edition!",e,t),this.name="OneTimePrintingAuthMintMismatch",this.code=29}}H.OneTimePrintingAuthMintMismatchError=mee;ue.set(29,mee);le.set("OneTimePrintingAuthMintMismatch",mee);class yee extends de.ProgramError{constructor(e,t){super("The mint of the token account does not match the Printing mint!",e,t),this.name="TokenAccountMintMismatch",this.code=30}}H.TokenAccountMintMismatchError=yee;ue.set(30,yee);le.set("TokenAccountMintMismatch",yee);class pee extends de.ProgramError{constructor(e,t){super("The mint of the token account does not match the master metadata mint!",e,t),this.name="TokenAccountMintMismatchV2",this.code=31}}H.TokenAccountMintMismatchV2Error=pee;ue.set(31,pee);le.set("TokenAccountMintMismatchV2",pee);class bee extends de.ProgramError{constructor(e,t){super("Not enough tokens to mint a limited edition",e,t),this.name="NotEnoughTokens",this.code=32}}H.NotEnoughTokensError=bee;ue.set(32,bee);le.set("NotEnoughTokens",bee);class See extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintAuthorizationAccountMismatch",this.code=33}}H.PrintingMintAuthorizationAccountMismatchError=See;ue.set(33,See);le.set("PrintingMintAuthorizationAccountMismatch",See);class kee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AuthorizationTokenAccountOwnerMismatch",this.code=34}}H.AuthorizationTokenAccountOwnerMismatchError=kee;ue.set(34,kee);le.set("AuthorizationTokenAccountOwnerMismatch",kee);class vee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="Disabled",this.code=35}}H.DisabledError=vee;ue.set(35,vee);le.set("Disabled",vee);class Aee extends de.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=36}}H.CreatorsTooLongError=Aee;ue.set(36,Aee);le.set("CreatorsTooLong",Aee);class wee extends de.ProgramError{constructor(e,t){super("Creators must be at least one if set",e,t),this.name="CreatorsMustBeAtleastOne",this.code=37}}H.CreatorsMustBeAtleastOneError=wee;ue.set(37,wee);le.set("CreatorsMustBeAtleastOne",wee);class Iee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeOneOfCreators",this.code=38}}H.MustBeOneOfCreatorsError=Iee;ue.set(38,Iee);le.set("MustBeOneOfCreators",Iee);class _ee extends de.ProgramError{constructor(e,t){super("This metadata does not have creators",e,t),this.name="NoCreatorsPresentOnMetadata",this.code=39}}H.NoCreatorsPresentOnMetadataError=_ee;ue.set(39,_ee);le.set("NoCreatorsPresentOnMetadata",_ee);class Pee extends de.ProgramError{constructor(e,t){super("This creator address was not found",e,t),this.name="CreatorNotFound",this.code=40}}H.CreatorNotFoundError=Pee;ue.set(40,Pee);le.set("CreatorNotFound",Pee);class Eee extends de.ProgramError{constructor(e,t){super("Basis points cannot be more than 10000",e,t),this.name="InvalidBasisPoints",this.code=41}}H.InvalidBasisPointsError=Eee;ue.set(41,Eee);le.set("InvalidBasisPoints",Eee);class xee extends de.ProgramError{constructor(e,t){super("Primary sale can only be flipped to true and is immutable",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=42}}H.PrimarySaleCanOnlyBeFlippedToTrueError=xee;ue.set(42,xee);le.set("PrimarySaleCanOnlyBeFlippedToTrue",xee);class Tee extends de.ProgramError{constructor(e,t){super("Owner does not match that on the account given",e,t),this.name="OwnerMismatch",this.code=43}}H.OwnerMismatchError=Tee;ue.set(43,Tee);le.set("OwnerMismatch",Tee);class Ree extends de.ProgramError{constructor(e,t){super("This account has no tokens to be used for authorization",e,t),this.name="NoBalanceInAccountForAuthorization",this.code=44}}H.NoBalanceInAccountForAuthorizationError=Ree;ue.set(44,Ree);le.set("NoBalanceInAccountForAuthorization",Ree);class Cee extends de.ProgramError{constructor(e,t){super("Share total must equal 100 for creator array",e,t),this.name="ShareTotalMustBe100",this.code=45}}H.ShareTotalMustBe100Error=Cee;ue.set(45,Cee);le.set("ShareTotalMustBe100",Cee);class Mee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationExists",this.code=46}}H.ReservationExistsError=Mee;ue.set(46,Mee);le.set("ReservationExists",Mee);class Bee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationDoesNotExist",this.code=47}}H.ReservationDoesNotExistError=Bee;ue.set(47,Bee);le.set("ReservationDoesNotExist",Bee);class zee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotSet",this.code=48}}H.ReservationNotSetError=zee;ue.set(48,zee);le.set("ReservationNotSet",zee);class $ee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationAlreadyMade",this.code=49}}H.ReservationAlreadyMadeError=$ee;ue.set(49,$ee);le.set("ReservationAlreadyMade",$ee);class Dee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondMaxAddressSize",this.code=50}}H.BeyondMaxAddressSizeError=Dee;ue.set(50,Dee);le.set("BeyondMaxAddressSize",Dee);class Oee extends de.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=51}}H.NumericalOverflowErrorError=Oee;ue.set(51,Oee);le.set("NumericalOverflowError",Oee);class Kee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationBreachesMaximumSupply",this.code=52}}H.ReservationBreachesMaximumSupplyError=Kee;ue.set(52,Kee);le.set("ReservationBreachesMaximumSupply",Kee);class Lee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AddressNotInReservation",this.code=53}}H.AddressNotInReservationError=Lee;ue.set(53,Lee);le.set("AddressNotInReservation",Lee);class Wee extends de.ProgramError{constructor(e,t){super("You cannot unilaterally verify another creator, they must sign",e,t),this.name="CannotVerifyAnotherCreator",this.code=54}}H.CannotVerifyAnotherCreatorError=Wee;ue.set(54,Wee);le.set("CannotVerifyAnotherCreator",Wee);class Nee extends de.ProgramError{constructor(e,t){super("You cannot unilaterally unverify another creator",e,t),this.name="CannotUnverifyAnotherCreator",this.code=55}}H.CannotUnverifyAnotherCreatorError=Nee;ue.set(55,Nee);le.set("CannotUnverifyAnotherCreator",Nee);class Fee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="SpotMismatch",this.code=56}}H.SpotMismatchError=Fee;ue.set(56,Fee);le.set("SpotMismatch",Fee);class Uee extends de.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=57}}H.IncorrectOwnerError=Uee;ue.set(57,Uee);le.set("IncorrectOwner",Uee);class Vee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingWouldBreachMaximumSupply",this.code=58}}H.PrintingWouldBreachMaximumSupplyError=Vee;ue.set(58,Vee);le.set("PrintingWouldBreachMaximumSupply",Vee);class qee extends de.ProgramError{constructor(e,t){super("Data is immutable",e,t),this.name="DataIsImmutable",this.code=59}}H.DataIsImmutableError=qee;ue.set(59,qee);le.set("DataIsImmutable",qee);class jee extends de.ProgramError{constructor(e,t){super("No duplicate creator addresses",e,t),this.name="DuplicateCreatorAddress",this.code=60}}H.DuplicateCreatorAddressError=jee;ue.set(60,jee);le.set("DuplicateCreatorAddress",jee);class Hee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",this.code=61}}H.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=Hee;ue.set(61,Hee);le.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",Hee);class Gee extends de.ProgramError{constructor(e,t){super("Invalid token program",e,t),this.name="InvalidTokenProgram",this.code=62}}H.InvalidTokenProgramError=Gee;ue.set(62,Gee);le.set("InvalidTokenProgram",Gee);class Yee extends de.ProgramError{constructor(e,t){super("Data type mismatch",e,t),this.name="DataTypeMismatch",this.code=63}}H.DataTypeMismatchError=Yee;ue.set(63,Yee);le.set("DataTypeMismatch",Yee);class Zee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondAlottedAddressSize",this.code=64}}H.BeyondAlottedAddressSizeError=Zee;ue.set(64,Zee);le.set("BeyondAlottedAddressSize",Zee);class Jee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotComplete",this.code=65}}H.ReservationNotCompleteError=Jee;ue.set(65,Jee);le.set("ReservationNotComplete",Jee);class Xee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TriedToReplaceAnExistingReservation",this.code=66}}H.TriedToReplaceAnExistingReservationError=Xee;ue.set(66,Xee);le.set("TriedToReplaceAnExistingReservation",Xee);class Qee extends de.ProgramError{constructor(e,t){super("Invalid operation",e,t),this.name="InvalidOperation",this.code=67}}H.InvalidOperationError=Qee;ue.set(67,Qee);le.set("InvalidOperation",Qee);class ete extends de.ProgramError{constructor(e,t){super("Invalid Owner",e,t),this.name="InvalidOwner",this.code=68}}H.InvalidOwnerError=ete;ue.set(68,ete);le.set("InvalidOwner",ete);class tte extends de.ProgramError{constructor(e,t){super("Printing mint supply must be zero for conversion",e,t),this.name="PrintingMintSupplyMustBeZeroForConversion",this.code=69}}H.PrintingMintSupplyMustBeZeroForConversionError=tte;ue.set(69,tte);le.set("PrintingMintSupplyMustBeZeroForConversion",tte);class rte extends de.ProgramError{constructor(e,t){super("One Time Auth mint supply must be zero for conversion",e,t),this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",this.code=70}}H.OneTimeAuthMintSupplyMustBeZeroForConversionError=rte;ue.set(70,rte);le.set("OneTimeAuthMintSupplyMustBeZeroForConversion",rte);class nte extends de.ProgramError{constructor(e,t){super("You tried to insert one edition too many into an edition mark pda",e,t),this.name="InvalidEditionIndex",this.code=71}}H.InvalidEditionIndexError=nte;ue.set(71,nte);le.set("InvalidEditionIndex",nte);class ste extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationArrayShouldBeSizeOne",this.code=72}}H.ReservationArrayShouldBeSizeOneError=ste;ue.set(72,ste);le.set("ReservationArrayShouldBeSizeOne",ste);class ite extends de.ProgramError{constructor(e,t){super("Is Mutable can only be flipped to false",e,t),this.name="IsMutableCanOnlyBeFlippedToFalse",this.code=73}}H.IsMutableCanOnlyBeFlippedToFalseError=ite;ue.set(73,ite);le.set("IsMutableCanOnlyBeFlippedToFalse",ite);class ote extends de.ProgramError{constructor(e,t){super("Collection cannot be verified in this instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=74}}H.CollectionCannotBeVerifiedInThisInstructionError=ote;ue.set(74,ote);le.set("CollectionCannotBeVerifiedInThisInstruction",ote);class ate extends de.ProgramError{constructor(e,t){super("This instruction was deprecated in a previous release and is now removed",e,t),this.name="Removed",this.code=75}}H.RemovedError=ate;ue.set(75,ate);le.set("Removed",ate);class cte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeBurned",this.code=76}}H.MustBeBurnedError=cte;ue.set(76,cte);le.set("MustBeBurned",cte);class ute extends de.ProgramError{constructor(e,t){super("This use method is invalid",e,t),this.name="InvalidUseMethod",this.code=77}}H.InvalidUseMethodError=ute;ue.set(77,ute);le.set("InvalidUseMethod",ute);class lte extends de.ProgramError{constructor(e,t){super("Cannot Change Use Method after the first use",e,t),this.name="CannotChangeUseMethodAfterFirstUse",this.code=78}}H.CannotChangeUseMethodAfterFirstUseError=lte;ue.set(78,lte);le.set("CannotChangeUseMethodAfterFirstUse",lte);class dte extends de.ProgramError{constructor(e,t){super("Cannot Change Remaining or Available uses after the first use",e,t),this.name="CannotChangeUsesAfterFirstUse",this.code=79}}H.CannotChangeUsesAfterFirstUseError=dte;ue.set(79,dte);le.set("CannotChangeUsesAfterFirstUse",dte);class fte extends de.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=80}}H.CollectionNotFoundError=fte;ue.set(80,fte);le.set("CollectionNotFound",fte);class hte extends de.ProgramError{constructor(e,t){super("Collection Update Authority is invalid",e,t),this.name="InvalidCollectionUpdateAuthority",this.code=81}}H.InvalidCollectionUpdateAuthorityError=hte;ue.set(81,hte);le.set("InvalidCollectionUpdateAuthority",hte);class gte extends de.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=82}}H.CollectionMustBeAUniqueMasterEditionError=gte;ue.set(82,gte);le.set("CollectionMustBeAUniqueMasterEdition",gte);class mte extends de.ProgramError{constructor(e,t){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve",e,t),this.name="UseAuthorityRecordAlreadyExists",this.code=83}}H.UseAuthorityRecordAlreadyExistsError=mte;ue.set(83,mte);le.set("UseAuthorityRecordAlreadyExists",mte);class yte extends de.ProgramError{constructor(e,t){super("The Use Authority Record is empty or already revoked",e,t),this.name="UseAuthorityRecordAlreadyRevoked",this.code=84}}H.UseAuthorityRecordAlreadyRevokedError=yte;ue.set(84,yte);le.set("UseAuthorityRecordAlreadyRevoked",yte);class pte extends de.ProgramError{constructor(e,t){super("This token has no uses",e,t),this.name="Unusable",this.code=85}}H.UnusableError=pte;ue.set(85,pte);le.set("Unusable",pte);class bte extends de.ProgramError{constructor(e,t){super("There are not enough Uses left on this token.",e,t),this.name="NotEnoughUses",this.code=86}}H.NotEnoughUsesError=bte;ue.set(86,bte);le.set("NotEnoughUses",bte);class Ste extends de.ProgramError{constructor(e,t){super("This Collection Authority Record Already Exists.",e,t),this.name="CollectionAuthorityRecordAlreadyExists",this.code=87}}H.CollectionAuthorityRecordAlreadyExistsError=Ste;ue.set(87,Ste);le.set("CollectionAuthorityRecordAlreadyExists",Ste);class kte extends de.ProgramError{constructor(e,t){super("This Collection Authority Record Does Not Exist.",e,t),this.name="CollectionAuthorityDoesNotExist",this.code=88}}H.CollectionAuthorityDoesNotExistError=kte;ue.set(88,kte);le.set("CollectionAuthorityDoesNotExist",kte);class vte extends de.ProgramError{constructor(e,t){super("This Use Authority Record is invalid.",e,t),this.name="InvalidUseAuthorityRecord",this.code=89}}H.InvalidUseAuthorityRecordError=vte;ue.set(89,vte);le.set("InvalidUseAuthorityRecord",vte);class Ate extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidCollectionAuthorityRecord",this.code=90}}H.InvalidCollectionAuthorityRecordError=Ate;ue.set(90,Ate);le.set("InvalidCollectionAuthorityRecord",Ate);class wte extends de.ProgramError{constructor(e,t){super("Metadata does not match the freeze authority on the mint",e,t),this.name="InvalidFreezeAuthority",this.code=91}}H.InvalidFreezeAuthorityError=wte;ue.set(91,wte);le.set("InvalidFreezeAuthority",wte);class Ite extends de.ProgramError{constructor(e,t){super("All tokens in this account have not been delegated to this user.",e,t),this.name="InvalidDelegate",this.code=92}}H.InvalidDelegateError=Ite;ue.set(92,Ite);le.set("InvalidDelegate",Ite);class _te extends de.ProgramError{constructor(e,t){super("",e,t),this.name="CannotAdjustVerifiedCreator",this.code=93}}H.CannotAdjustVerifiedCreatorError=_te;ue.set(93,_te);le.set("CannotAdjustVerifiedCreator",_te);class Pte extends de.ProgramError{constructor(e,t){super("Verified creators cannot be removed.",e,t),this.name="CannotRemoveVerifiedCreator",this.code=94}}H.CannotRemoveVerifiedCreatorError=Pte;ue.set(94,Pte);le.set("CannotRemoveVerifiedCreator",Pte);class Ete extends de.ProgramError{constructor(e,t){super("",e,t),this.name="CannotWipeVerifiedCreators",this.code=95}}H.CannotWipeVerifiedCreatorsError=Ete;ue.set(95,Ete);le.set("CannotWipeVerifiedCreators",Ete);class xte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="NotAllowedToChangeSellerFeeBasisPoints",this.code=96}}H.NotAllowedToChangeSellerFeeBasisPointsError=xte;ue.set(96,xte);le.set("NotAllowedToChangeSellerFeeBasisPoints",xte);class Tte extends de.ProgramError{constructor(e,t){super("Edition override cannot be zero",e,t),this.name="EditionOverrideCannotBeZero",this.code=97}}H.EditionOverrideCannotBeZeroError=Tte;ue.set(97,Tte);le.set("EditionOverrideCannotBeZero",Tte);class Rte extends de.ProgramError{constructor(e,t){super("Invalid User",e,t),this.name="InvalidUser",this.code=98}}H.InvalidUserError=Rte;ue.set(98,Rte);le.set("InvalidUser",Rte);class Cte extends de.ProgramError{constructor(e,t){super("Revoke Collection Authority signer is incorrect",e,t),this.name="RevokeCollectionAuthoritySignerIncorrect",this.code=99}}H.RevokeCollectionAuthoritySignerIncorrectError=Cte;ue.set(99,Cte);le.set("RevokeCollectionAuthoritySignerIncorrect",Cte);class Mte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenCloseFailed",this.code=100}}H.TokenCloseFailedError=Mte;ue.set(100,Mte);le.set("TokenCloseFailed",Mte);class Bte extends de.ProgramError{constructor(e,t){super("Can't use this function on unsized collection",e,t),this.name="UnsizedCollection",this.code=101}}H.UnsizedCollectionError=Bte;ue.set(101,Bte);le.set("UnsizedCollection",Bte);class zte extends de.ProgramError{constructor(e,t){super("Can't use this function on a sized collection",e,t),this.name="SizedCollection",this.code=102}}H.SizedCollectionError=zte;ue.set(102,zte);le.set("SizedCollection",zte);class $te extends de.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadata",this.code=103}}H.MissingCollectionMetadataError=$te;ue.set(103,$te);le.set("MissingCollectionMetadata",$te);class Dte extends de.ProgramError{constructor(e,t){super("This NFT is not a member of the specified collection.",e,t),this.name="NotAMemberOfCollection",this.code=104}}H.NotAMemberOfCollectionError=Dte;ue.set(104,Dte);le.set("NotAMemberOfCollection",Dte);class Ote extends de.ProgramError{constructor(e,t){super("This NFT is not a verified member of the specified collection.",e,t),this.name="NotVerifiedMemberOfCollection",this.code=105}}H.NotVerifiedMemberOfCollectionError=Ote;ue.set(105,Ote);le.set("NotVerifiedMemberOfCollection",Ote);class Kte extends de.ProgramError{constructor(e,t){super("This NFT is not a collection parent NFT.",e,t),this.name="NotACollectionParent",this.code=106}}H.NotACollectionParentError=Kte;ue.set(106,Kte);le.set("NotACollectionParent",Kte);class Lte extends de.ProgramError{constructor(e,t){super("Could not determine a TokenStandard type.",e,t),this.name="CouldNotDetermineTokenStandard",this.code=107}}H.CouldNotDetermineTokenStandardError=Lte;ue.set(107,Lte);le.set("CouldNotDetermineTokenStandard",Lte);class Wte extends de.ProgramError{constructor(e,t){super("This mint account has an edition but none was provided.",e,t),this.name="MissingEditionAccount",this.code=108}}H.MissingEditionAccountError=Wte;ue.set(108,Wte);le.set("MissingEditionAccount",Wte);class Nte extends de.ProgramError{constructor(e,t){super("This edition is not a Master Edition",e,t),this.name="NotAMasterEdition",this.code=109}}H.NotAMasterEditionError=Nte;ue.set(109,Nte);le.set("NotAMasterEdition",Nte);class Fte extends de.ProgramError{constructor(e,t){super("This Master Edition has existing prints",e,t),this.name="MasterEditionHasPrints",this.code=110}}H.MasterEditionHasPrintsError=Fte;ue.set(110,Fte);le.set("MasterEditionHasPrints",Fte);class Ute extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BorshDeserializationError",this.code=111}}H.BorshDeserializationErrorError=Ute;ue.set(111,Ute);le.set("BorshDeserializationError",Ute);class Vte extends de.ProgramError{constructor(e,t){super("Cannot update a verified collection in this command",e,t),this.name="CannotUpdateVerifiedCollection",this.code=112}}H.CannotUpdateVerifiedCollectionError=Vte;ue.set(112,Vte);le.set("CannotUpdateVerifiedCollection",Vte);class qte extends de.ProgramError{constructor(e,t){super("Edition account doesnt match collection ",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=113}}H.CollectionMasterEditionAccountInvalidError=qte;ue.set(113,qte);le.set("CollectionMasterEditionAccountInvalid",qte);class jte extends de.ProgramError{constructor(e,t){super("Item is already verified.",e,t),this.name="AlreadyVerified",this.code=114}}H.AlreadyVerifiedError=jte;ue.set(114,jte);le.set("AlreadyVerified",jte);class Hte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AlreadyUnverified",this.code=115}}H.AlreadyUnverifiedError=Hte;ue.set(115,Hte);le.set("AlreadyUnverified",Hte);class Gte extends de.ProgramError{constructor(e,t){super("This edition is not a Print Edition",e,t),this.name="NotAPrintEdition",this.code=116}}H.NotAPrintEditionError=Gte;ue.set(116,Gte);le.set("NotAPrintEdition",Gte);class Yte extends de.ProgramError{constructor(e,t){super("Invalid Master Edition",e,t),this.name="InvalidMasterEdition",this.code=117}}H.InvalidMasterEditionError=Yte;ue.set(117,Yte);le.set("InvalidMasterEdition",Yte);class Zte extends de.ProgramError{constructor(e,t){super("Invalid Print Edition",e,t),this.name="InvalidPrintEdition",this.code=118}}H.InvalidPrintEditionError=Zte;ue.set(118,Zte);le.set("InvalidPrintEdition",Zte);class Jte extends de.ProgramError{constructor(e,t){super("Invalid Edition Marker",e,t),this.name="InvalidEditionMarker",this.code=119}}H.InvalidEditionMarkerError=Jte;ue.set(119,Jte);le.set("InvalidEditionMarker",Jte);class Xte extends de.ProgramError{constructor(e,t){super("Reservation List is Deprecated",e,t),this.name="ReservationListDeprecated",this.code=120}}H.ReservationListDeprecatedError=Xte;ue.set(120,Xte);le.set("ReservationListDeprecated",Xte);class Qte extends de.ProgramError{constructor(e,t){super("Print Edition does not match Master Edition",e,t),this.name="PrintEditionDoesNotMatchMasterEdition",this.code=121}}H.PrintEditionDoesNotMatchMasterEditionError=Qte;ue.set(121,Qte);le.set("PrintEditionDoesNotMatchMasterEdition",Qte);class ere extends de.ProgramError{constructor(e,t){super("Edition Number greater than max supply",e,t),this.name="EditionNumberGreaterThanMaxSupply",this.code=122}}H.EditionNumberGreaterThanMaxSupplyError=ere;ue.set(122,ere);le.set("EditionNumberGreaterThanMaxSupply",ere);class tre extends de.ProgramError{constructor(e,t){super("Must unverify before migrating collections.",e,t),this.name="MustUnverify",this.code=123}}H.MustUnverifyError=tre;ue.set(123,tre);le.set("MustUnverify",tre);class rre extends de.ProgramError{constructor(e,t){super("Invalid Escrow Account Bump Seed",e,t),this.name="InvalidEscrowBumpSeed",this.code=124}}H.InvalidEscrowBumpSeedError=rre;ue.set(124,rre);le.set("InvalidEscrowBumpSeed",rre);class nre extends de.ProgramError{constructor(e,t){super("Must Escrow Authority",e,t),this.name="MustBeEscrowAuthority",this.code=125}}H.MustBeEscrowAuthorityError=nre;ue.set(125,nre);le.set("MustBeEscrowAuthority",nre);class sre extends de.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=126}}H.InvalidSystemProgramError=sre;ue.set(126,sre);le.set("InvalidSystemProgram",sre);class ire extends de.ProgramError{constructor(e,t){super("Must be a Non Fungible Token",e,t),this.name="MustBeNonFungible",this.code=127}}H.MustBeNonFungibleError=ire;ue.set(127,ire);le.set("MustBeNonFungible",ire);class ore extends de.ProgramError{constructor(e,t){super("Insufficient tokens for transfer",e,t),this.name="InsufficientTokens",this.code=128}}H.InsufficientTokensError=ore;ue.set(128,ore);le.set("InsufficientTokens",ore);class are extends de.ProgramError{constructor(e,t){super("Borsh Serialization Error",e,t),this.name="BorshSerializationError",this.code=129}}H.BorshSerializationErrorError=are;ue.set(129,are);le.set("BorshSerializationError",are);class cre extends de.ProgramError{constructor(e,t){super("Cannot create NFT with no Freeze Authority.",e,t),this.name="NoFreezeAuthoritySet",this.code=130}}H.NoFreezeAuthoritySetError=cre;ue.set(130,cre);le.set("NoFreezeAuthoritySet",cre);class ure extends de.ProgramError{constructor(e,t){super("Invalid collection size change",e,t),this.name="InvalidCollectionSizeChange",this.code=131}}H.InvalidCollectionSizeChangeError=ure;ue.set(131,ure);le.set("InvalidCollectionSizeChange",ure);class lre extends de.ProgramError{constructor(e,t){super("Invalid bubblegum signer",e,t),this.name="InvalidBubblegumSigner",this.code=132}}H.InvalidBubblegumSignerError=lre;ue.set(132,lre);le.set("InvalidBubblegumSigner",lre);class dre extends de.ProgramError{constructor(e,t){super("Escrow parent cannot have a delegate",e,t),this.name="EscrowParentHasDelegate",this.code=133}}H.EscrowParentHasDelegateError=dre;ue.set(133,dre);le.set("EscrowParentHasDelegate",dre);class fre extends de.ProgramError{constructor(e,t){super("Mint needs to be signer to initialize the account",e,t),this.name="MintIsNotSigner",this.code=134}}H.MintIsNotSignerError=fre;ue.set(134,fre);le.set("MintIsNotSigner",fre);class hre extends de.ProgramError{constructor(e,t){super("Invalid token standard",e,t),this.name="InvalidTokenStandard",this.code=135}}H.InvalidTokenStandardError=hre;ue.set(135,hre);le.set("InvalidTokenStandard",hre);class gre extends de.ProgramError{constructor(e,t){super("Invalid mint account for specified token standard",e,t),this.name="InvalidMintForTokenStandard",this.code=136}}H.InvalidMintForTokenStandardError=gre;ue.set(136,gre);le.set("InvalidMintForTokenStandard",gre);class mre extends de.ProgramError{constructor(e,t){super("Invalid authorization rules account",e,t),this.name="InvalidAuthorizationRules",this.code=137}}H.InvalidAuthorizationRulesError=mre;ue.set(137,mre);le.set("InvalidAuthorizationRules",mre);class yre extends de.ProgramError{constructor(e,t){super("Missing authorization rules account",e,t),this.name="MissingAuthorizationRules",this.code=138}}H.MissingAuthorizationRulesError=yre;ue.set(138,yre);le.set("MissingAuthorizationRules",yre);class pre extends de.ProgramError{constructor(e,t){super("Missing programmable configuration",e,t),this.name="MissingProgrammableConfig",this.code=139}}H.MissingProgrammableConfigError=pre;ue.set(139,pre);le.set("MissingProgrammableConfig",pre);class bre extends de.ProgramError{constructor(e,t){super("Invalid programmable configuration",e,t),this.name="InvalidProgrammableConfig",this.code=140}}H.InvalidProgrammableConfigError=bre;ue.set(140,bre);le.set("InvalidProgrammableConfig",bre);class Sre extends de.ProgramError{constructor(e,t){super("Delegate already exists",e,t),this.name="DelegateAlreadyExists",this.code=141}}H.DelegateAlreadyExistsError=Sre;ue.set(141,Sre);le.set("DelegateAlreadyExists",Sre);class kre extends de.ProgramError{constructor(e,t){super("Delegate not found",e,t),this.name="DelegateNotFound",this.code=142}}H.DelegateNotFoundError=kre;ue.set(142,kre);le.set("DelegateNotFound",kre);class vre extends de.ProgramError{constructor(e,t){super("Required account not set in instruction builder",e,t),this.name="MissingAccountInBuilder",this.code=143}}H.MissingAccountInBuilderError=vre;ue.set(143,vre);le.set("MissingAccountInBuilder",vre);class Are extends de.ProgramError{constructor(e,t){super("Required argument not set in instruction builder",e,t),this.name="MissingArgumentInBuilder",this.code=144}}H.MissingArgumentInBuilderError=Are;ue.set(144,Are);le.set("MissingArgumentInBuilder",Are);class wre extends de.ProgramError{constructor(e,t){super("Feature not supported currently",e,t),this.name="FeatureNotSupported",this.code=145}}H.FeatureNotSupportedError=wre;ue.set(145,wre);le.set("FeatureNotSupported",wre);class Ire extends de.ProgramError{constructor(e,t){super("Invalid system wallet",e,t),this.name="InvalidSystemWallet",this.code=146}}H.InvalidSystemWalletError=Ire;ue.set(146,Ire);le.set("InvalidSystemWallet",Ire);class _re extends de.ProgramError{constructor(e,t){super("Only the sale delegate can transfer while its set",e,t),this.name="OnlySaleDelegateCanTransfer",this.code=147}}H.OnlySaleDelegateCanTransferError=_re;ue.set(147,_re);le.set("OnlySaleDelegateCanTransfer",_re);class Pre extends de.ProgramError{constructor(e,t){super("Missing token account",e,t),this.name="MissingTokenAccount",this.code=148}}H.MissingTokenAccountError=Pre;ue.set(148,Pre);le.set("MissingTokenAccount",Pre);class Ere extends de.ProgramError{constructor(e,t){super("Missing SPL token program",e,t),this.name="MissingSplTokenProgram",this.code=149}}H.MissingSplTokenProgramError=Ere;ue.set(149,Ere);le.set("MissingSplTokenProgram",Ere);class xre extends de.ProgramError{constructor(e,t){super("Missing authorization rules program",e,t),this.name="MissingAuthorizationRulesProgram",this.code=150}}H.MissingAuthorizationRulesProgramError=xre;ue.set(150,xre);le.set("MissingAuthorizationRulesProgram",xre);class Tre extends de.ProgramError{constructor(e,t){super("Invalid delegate role for transfer",e,t),this.name="InvalidDelegateRoleForTransfer",this.code=151}}H.InvalidDelegateRoleForTransferError=Tre;ue.set(151,Tre);le.set("InvalidDelegateRoleForTransfer",Tre);class Rre extends de.ProgramError{constructor(e,t){super("Invalid transfer authority",e,t),this.name="InvalidTransferAuthority",this.code=152}}H.InvalidTransferAuthorityError=Rre;ue.set(152,Rre);le.set("InvalidTransferAuthority",Rre);class Cre extends de.ProgramError{constructor(e,t){super("Instruction not supported for ProgrammableNonFungible assets",e,t),this.name="InstructionNotSupported",this.code=153}}H.InstructionNotSupportedError=Cre;ue.set(153,Cre);le.set("InstructionNotSupported",Cre);class Mre extends de.ProgramError{constructor(e,t){super("Public key does not match expected value",e,t),this.name="KeyMismatch",this.code=154}}H.KeyMismatchError=Mre;ue.set(154,Mre);le.set("KeyMismatch",Mre);class Bre extends de.ProgramError{constructor(e,t){super("Token is locked",e,t),this.name="LockedToken",this.code=155}}H.LockedTokenError=Bre;ue.set(155,Bre);le.set("LockedToken",Bre);class zre extends de.ProgramError{constructor(e,t){super("Token is unlocked",e,t),this.name="UnlockedToken",this.code=156}}H.UnlockedTokenError=zre;ue.set(156,zre);le.set("UnlockedToken",zre);class $re extends de.ProgramError{constructor(e,t){super("Missing delegate role",e,t),this.name="MissingDelegateRole",this.code=157}}H.MissingDelegateRoleError=$re;ue.set(157,$re);le.set("MissingDelegateRole",$re);class Dre extends de.ProgramError{constructor(e,t){super("Invalid authority type",e,t),this.name="InvalidAuthorityType",this.code=158}}H.InvalidAuthorityTypeError=Dre;ue.set(158,Dre);le.set("InvalidAuthorityType",Dre);class Ore extends de.ProgramError{constructor(e,t){super("Missing token record account",e,t),this.name="MissingTokenRecord",this.code=159}}H.MissingTokenRecordError=Ore;ue.set(159,Ore);le.set("MissingTokenRecord",Ore);class Kre extends de.ProgramError{constructor(e,t){super("Mint supply must be zero for programmable assets",e,t),this.name="MintSupplyMustBeZero",this.code=160}}H.MintSupplyMustBeZeroError=Kre;ue.set(160,Kre);le.set("MintSupplyMustBeZero",Kre);class Lre extends de.ProgramError{constructor(e,t){super("Data is empty or zeroed",e,t),this.name="DataIsEmptyOrZeroed",this.code=161}}H.DataIsEmptyOrZeroedError=Lre;ue.set(161,Lre);le.set("DataIsEmptyOrZeroed",Lre);class Wre extends de.ProgramError{constructor(e,t){super("Missing token owner",e,t),this.name="MissingTokenOwnerAccount",this.code=162}}H.MissingTokenOwnerAccountError=Wre;ue.set(162,Wre);le.set("MissingTokenOwnerAccount",Wre);class Nre extends de.ProgramError{constructor(e,t){super("Master edition account has an invalid length",e,t),this.name="InvalidMasterEditionAccountLength",this.code=163}}H.InvalidMasterEditionAccountLengthError=Nre;ue.set(163,Nre);le.set("InvalidMasterEditionAccountLength",Nre);class Fre extends de.ProgramError{constructor(e,t){super("Incorrect token state",e,t),this.name="IncorrectTokenState",this.code=164}}H.IncorrectTokenStateError=Fre;ue.set(164,Fre);le.set("IncorrectTokenState",Fre);class Ure extends de.ProgramError{constructor(e,t){super("Invalid delegate role",e,t),this.name="InvalidDelegateRole",this.code=165}}H.InvalidDelegateRoleError=Ure;ue.set(165,Ure);le.set("InvalidDelegateRole",Ure);class Vre extends de.ProgramError{constructor(e,t){super("Print supply is required for non-fungibles",e,t),this.name="MissingPrintSupply",this.code=166}}H.MissingPrintSupplyError=Vre;ue.set(166,Vre);le.set("MissingPrintSupply",Vre);class qre extends de.ProgramError{constructor(e,t){super("Missing master edition account",e,t),this.name="MissingMasterEditionAccount",this.code=167}}H.MissingMasterEditionAccountError=qre;ue.set(167,qre);le.set("MissingMasterEditionAccount",qre);class jre extends de.ProgramError{constructor(e,t){super("Amount must be greater than zero",e,t),this.name="AmountMustBeGreaterThanZero",this.code=168}}H.AmountMustBeGreaterThanZeroError=jre;ue.set(168,jre);le.set("AmountMustBeGreaterThanZero",jre);class Hre extends de.ProgramError{constructor(e,t){super("Invalid delegate args",e,t),this.name="InvalidDelegateArgs",this.code=169}}H.InvalidDelegateArgsError=Hre;ue.set(169,Hre);le.set("InvalidDelegateArgs",Hre);class Gre extends de.ProgramError{constructor(e,t){super("Missing address for locked transfer",e,t),this.name="MissingLockedTransferAddress",this.code=170}}H.MissingLockedTransferAddressError=Gre;ue.set(170,Gre);le.set("MissingLockedTransferAddress",Gre);class Yre extends de.ProgramError{constructor(e,t){super("Invalid destination address for locked transfer",e,t),this.name="InvalidLockedTransferAddress",this.code=171}}H.InvalidLockedTransferAddressError=Yre;ue.set(171,Yre);le.set("InvalidLockedTransferAddress",Yre);class Zre extends de.ProgramError{constructor(e,t){super("Exceeded account realloc increase limit",e,t),this.name="DataIncrementLimitExceeded",this.code=172}}H.DataIncrementLimitExceededError=Zre;ue.set(172,Zre);le.set("DataIncrementLimitExceeded",Zre);class Jre extends de.ProgramError{constructor(e,t){super("Cannot update the rule set of a programmable asset that has a delegate",e,t),this.name="CannotUpdateAssetWithDelegate",this.code=173}}H.CannotUpdateAssetWithDelegateError=Jre;ue.set(173,Jre);le.set("CannotUpdateAssetWithDelegate",Jre);class Xre extends de.ProgramError{constructor(e,t){super("Invalid token amount for this operation or token standard",e,t),this.name="InvalidAmount",this.code=174}}H.InvalidAmountError=Xre;ue.set(174,Xre);le.set("InvalidAmount",Xre);class Qre extends de.ProgramError{constructor(e,t){super("Missing master edition mint account",e,t),this.name="MissingMasterEditionMintAccount",this.code=175}}H.MissingMasterEditionMintAccountError=Qre;ue.set(175,Qre);le.set("MissingMasterEditionMintAccount",Qre);class ene extends de.ProgramError{constructor(e,t){super("Missing master edition token account",e,t),this.name="MissingMasterEditionTokenAccount",this.code=176}}H.MissingMasterEditionTokenAccountError=ene;ue.set(176,ene);le.set("MissingMasterEditionTokenAccount",ene);class tne extends de.ProgramError{constructor(e,t){super("Missing edition marker account",e,t),this.name="MissingEditionMarkerAccount",this.code=177}}H.MissingEditionMarkerAccountError=tne;ue.set(177,tne);le.set("MissingEditionMarkerAccount",tne);class rne extends de.ProgramError{constructor(e,t){super("Cannot burn while persistent delegate is set",e,t),this.name="CannotBurnWithDelegate",this.code=178}}H.CannotBurnWithDelegateError=rne;ue.set(178,rne);le.set("CannotBurnWithDelegate",rne);class nne extends de.ProgramError{constructor(e,t){super("Missing edition account",e,t),this.name="MissingEdition",this.code=179}}H.MissingEditionError=nne;ue.set(179,nne);le.set("MissingEdition",nne);class sne extends de.ProgramError{constructor(e,t){super("Invalid Associated Token Account Program",e,t),this.name="InvalidAssociatedTokenAccountProgram",this.code=180}}H.InvalidAssociatedTokenAccountProgramError=sne;ue.set(180,sne);le.set("InvalidAssociatedTokenAccountProgram",sne);class ine extends de.ProgramError{constructor(e,t){super("Invalid InstructionsSysvar",e,t),this.name="InvalidInstructionsSysvar",this.code=181}}H.InvalidInstructionsSysvarError=ine;ue.set(181,ine);le.set("InvalidInstructionsSysvar",ine);class one extends de.ProgramError{constructor(e,t){super("Invalid or Unneeded parent accounts",e,t),this.name="InvalidParentAccounts",this.code=182}}H.InvalidParentAccountsError=one;ue.set(182,one);le.set("InvalidParentAccounts",one);class ane extends de.ProgramError{constructor(e,t){super("Authority cannot apply all update args",e,t),this.name="InvalidUpdateArgs",this.code=183}}H.InvalidUpdateArgsError=ane;ue.set(183,ane);le.set("InvalidUpdateArgs",ane);class cne extends de.ProgramError{constructor(e,t){super("Token account does not have enough tokens",e,t),this.name="InsufficientTokenBalance",this.code=184}}H.InsufficientTokenBalanceError=cne;ue.set(184,cne);le.set("InsufficientTokenBalance",cne);class une extends de.ProgramError{constructor(e,t){super("Missing collection account",e,t),this.name="MissingCollectionMint",this.code=185}}H.MissingCollectionMintError=une;ue.set(185,une);le.set("MissingCollectionMint",une);class lne extends de.ProgramError{constructor(e,t){super("Missing collection master edition account",e,t),this.name="MissingCollectionMasterEdition",this.code=186}}H.MissingCollectionMasterEditionError=lne;ue.set(186,lne);le.set("MissingCollectionMasterEdition",lne);class dne extends de.ProgramError{constructor(e,t){super("Invalid token record account",e,t),this.name="InvalidTokenRecord",this.code=187}}H.InvalidTokenRecordError=dne;ue.set(187,dne);le.set("InvalidTokenRecord",dne);class fne extends de.ProgramError{constructor(e,t){super("The close authority needs to be revoked by the Utility Delegate",e,t),this.name="InvalidCloseAuthority",this.code=188}}H.InvalidCloseAuthorityError=fne;ue.set(188,fne);le.set("InvalidCloseAuthority",fne);class hne extends de.ProgramError{constructor(e,t){super("Invalid or removed instruction",e,t),this.name="InvalidInstruction",this.code=189}}H.InvalidInstructionError=hne;ue.set(189,hne);le.set("InvalidInstruction",hne);class gne extends de.ProgramError{constructor(e,t){super("Missing delegate record",e,t),this.name="MissingDelegateRecord",this.code=190}}H.MissingDelegateRecordError=gne;ue.set(190,gne);le.set("MissingDelegateRecord",gne);class mne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidFeeAccount",this.code=191}}H.InvalidFeeAccountError=mne;ue.set(191,mne);le.set("InvalidFeeAccount",mne);class yne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidMetadataFlags",this.code=192}}H.InvalidMetadataFlagsError=yne;ue.set(192,yne);le.set("InvalidMetadataFlags",yne);class pne extends de.ProgramError{constructor(e,t){super("Cannot change the update authority with a delegate",e,t),this.name="CannotChangeUpdateAuthorityWithDelegate",this.code=193}}H.CannotChangeUpdateAuthorityWithDelegateError=pne;ue.set(193,pne);le.set("CannotChangeUpdateAuthorityWithDelegate",pne);class bne extends de.ProgramError{constructor(e,t){super("Invalid mint extension type",e,t),this.name="InvalidMintExtensionType",this.code=194}}H.InvalidMintExtensionTypeError=bne;ue.set(194,bne);le.set("InvalidMintExtensionType",bne);class Sne extends de.ProgramError{constructor(e,t){super("Invalid mint close authority",e,t),this.name="InvalidMintCloseAuthority",this.code=195}}H.InvalidMintCloseAuthorityError=Sne;ue.set(195,Sne);le.set("InvalidMintCloseAuthority",Sne);class kne extends de.ProgramError{constructor(e,t){super("Invalid metadata pointer",e,t),this.name="InvalidMetadataPointer",this.code=196}}H.InvalidMetadataPointerError=kne;ue.set(196,kne);le.set("InvalidMetadataPointer",kne);class vne extends de.ProgramError{constructor(e,t){super("Invalid token extension type",e,t),this.name="InvalidTokenExtensionType",this.code=197}}H.InvalidTokenExtensionTypeError=vne;ue.set(197,vne);le.set("InvalidTokenExtensionType",vne);class Ane extends de.ProgramError{constructor(e,t){super("Missing immutable owner extension",e,t),this.name="MissingImmutableOwnerExtension",this.code=198}}H.MissingImmutableOwnerExtensionError=Ane;ue.set(198,Ane);le.set("MissingImmutableOwnerExtension",Ane);function twt(n,e,t){const r=ue.get(n);return r?new r(e,t):null}H.getMplTokenMetadataErrorFromCode=twt;function rwt(n,e,t){const r=le.get(n);return r?new r(e,t):null}H.getMplTokenMetadataErrorFromName=rwt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(H,n)})(LQ);var dRe={},iI={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getAccountMetasAndSigners=Ne.expectPda=Ne.expectPublicKey=Ne.expectSome=void 0;const F2=Z;function nwt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}Ne.expectSome=nwt;function swt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,F2.publicKey)(n,!1)}Ne.expectPublicKey=swt;function iwt(n){if(!n||!Array.isArray(n)||!(0,F2.isPda)(n))throw new Error("Expected a PDA.");return n}Ne.expectPda=iwt;function owt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,F2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,F2.publicKey)(i.value,!1),isSigner:(0,F2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}Ne.getAccountMetasAndSigners=owt;Object.defineProperty(iI,"__esModule",{value:!0});iI.approveCollectionAuthority=iI.getApproveCollectionAuthorityInstructionDataSerializer=void 0;const awt=Z,oF=q,cwt=Ut,_me=Ne;function fRe(){return(0,oF.mapSerializer)((0,oF.struct)([["discriminator",(0,oF.u8)()]],{description:"ApproveCollectionAuthorityInstructionData"}),n=>({...n,discriminator:23}))}iI.getApproveCollectionAuthorityInstructionDataSerializer=fRe;function uwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},newCollectionAuthority:{index:1,isWritable:!1,value:e.newCollectionAuthority??null},updateAuthority:{index:2,isWritable:!0,value:e.updateAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},metadata:{index:4,isWritable:!1,value:e.metadata??null},mint:{index:5,isWritable:!1,value:e.mint??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},rent:{index:7,isWritable:!1,value:e.rent??null}};r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,cwt.findMetadataPda)(n,{mint:(0,_me.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,_me.getAccountMetasAndSigners)(s,"omitted",t),a=fRe().serialize({}),c=0;return(0,awt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}iI.approveCollectionAuthority=uwt;var oI={};Object.defineProperty(oI,"__esModule",{value:!0});oI.approveUseAuthority=oI.getApproveUseAuthorityInstructionDataSerializer=void 0;const lwt=Z,t8=q,dwt=Ut,Pme=Ne;function hRe(){return(0,t8.mapSerializer)((0,t8.struct)([["discriminator",(0,t8.u8)()],["numberOfUses",(0,t8.u64)()]],{description:"ApproveUseAuthorityInstructionData"}),n=>({...n,discriminator:20}))}oI.getApproveUseAuthorityInstructionDataSerializer=hRe;function fwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},payer:{index:2,isWritable:!0,value:e.payer??null},user:{index:3,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:4,isWritable:!0,value:e.ownerTokenAccount??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},mint:{index:6,isWritable:!1,value:e.mint??null},burner:{index:7,isWritable:!1,value:e.burner??null},tokenProgram:{index:8,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},rent:{index:10,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,dwt.findMetadataPda)(n,{mint:(0,Pme.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Pme.getAccountMetasAndSigners)(i,"omitted",t),c=hRe().serialize(s),u=0;return(0,lwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}oI.approveUseAuthority=fwt;var aI={};Object.defineProperty(aI,"__esModule",{value:!0});aI.bubblegumSetCollectionSize=aI.getBubblegumSetCollectionSizeInstructionDataSerializer=void 0;const hwt=Z,aF=q,gwt=Ne,mwt=ut;function gRe(){return(0,aF.mapSerializer)((0,aF.struct)([["discriminator",(0,aF.u8)()],["setCollectionSizeArgs",(0,mwt.getSetCollectionSizeArgsSerializer)()]],{description:"BubblegumSetCollectionSizeInstructionData"}),n=>({...n,discriminator:36}))}aI.getBubblegumSetCollectionSizeInstructionDataSerializer=gRe;function ywt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},bubblegumSigner:{index:3,isWritable:!1,value:e.bubblegumSigner??null},collectionAuthorityRecord:{index:4,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,gwt.getAccountMetasAndSigners)(i,"omitted",t),c=gRe().serialize(s),u=0;return(0,hwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}aI.bubblegumSetCollectionSize=ywt;var cI={};Object.defineProperty(cI,"__esModule",{value:!0});cI.burnEditionNft=cI.getBurnEditionNftInstructionDataSerializer=void 0;const pwt=Z,cF=q,bwt=Ne;function mRe(){return(0,cF.mapSerializer)((0,cF.struct)([["discriminator",(0,cF.u8)()]],{description:"BurnEditionNftInstructionData"}),n=>({...n,discriminator:37}))}cI.getBurnEditionNftInstructionDataSerializer=mRe;function Swt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},printEditionMint:{index:2,isWritable:!0,value:e.printEditionMint??null},masterEditionMint:{index:3,isWritable:!1,value:e.masterEditionMint??null},printEditionTokenAccount:{index:4,isWritable:!0,value:e.printEditionTokenAccount??null},masterEditionTokenAccount:{index:5,isWritable:!1,value:e.masterEditionTokenAccount??null},masterEditionAccount:{index:6,isWritable:!0,value:e.masterEditionAccount??null},printEditionAccount:{index:7,isWritable:!0,value:e.printEditionAccount??null},editionMarkerAccount:{index:8,isWritable:!0,value:e.editionMarkerAccount??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null}};r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,bwt.getAccountMetasAndSigners)(s,"programId",t),a=mRe().serialize({}),c=0;return(0,pwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}cI.burnEditionNft=Swt;var uI={};Object.defineProperty(uI,"__esModule",{value:!0});uI.burnNft=uI.getBurnNftInstructionDataSerializer=void 0;const kwt=Z,uF=q,vwt=Ut,Eme=Ne;function yRe(){return(0,uF.mapSerializer)((0,uF.struct)([["discriminator",(0,uF.u8)()]],{description:"BurnNftInstructionData"}),n=>({...n,discriminator:29}))}uI.getBurnNftInstructionDataSerializer=yRe;function Awt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},mint:{index:2,isWritable:!0,value:e.mint??null},tokenAccount:{index:3,isWritable:!0,value:e.tokenAccount??null},masterEditionAccount:{index:4,isWritable:!0,value:e.masterEditionAccount??null},splTokenProgram:{index:5,isWritable:!1,value:e.splTokenProgram??null},collectionMetadata:{index:6,isWritable:!0,value:e.collectionMetadata??null}};r.metadata.value||(r.metadata.value=(0,vwt.findMetadataPda)(n,{mint:(0,Eme.expectPublicKey)(r.mint.value)})),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Eme.getAccountMetasAndSigners)(s,"omitted",t),a=yRe().serialize({}),c=0;return(0,kwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}uI.burnNft=Awt;var lI={};Object.defineProperty(lI,"__esModule",{value:!0});lI.burnV1=lI.getBurnV1InstructionDataSerializer=void 0;const wwt=Hs,xme=Z,ZR=q,Iwt=on,r8=Ut,ry=Ne,_wt=ut;function pRe(){return(0,ZR.mapSerializer)((0,ZR.struct)([["discriminator",(0,ZR.u8)()],["burnV1Discriminator",(0,ZR.u8)()],["amount",(0,ZR.u64)()]],{description:"BurnV1InstructionData"}),n=>({...n,discriminator:41,burnV1Discriminator:0,amount:n.amount??1}))}lI.getBurnV1InstructionDataSerializer=pRe;function Pwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!0,value:e.authority??null},collectionMetadata:{index:1,isWritable:!0,value:e.collectionMetadata??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},edition:{index:3,isWritable:!0,value:e.edition??null},mint:{index:4,isWritable:!0,value:e.mint??null},token:{index:5,isWritable:!0,value:e.token??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},masterEditionMint:{index:7,isWritable:!1,value:e.masterEditionMint??null},masterEditionToken:{index:8,isWritable:!1,value:e.masterEditionToken??null},editionMarker:{index:9,isWritable:!0,value:e.editionMarker??null},tokenRecord:{index:10,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,r8.findMetadataPda)(n,{mint:(0,ry.expectPublicKey)(r.mint.value)})),r.edition.value||(0,Iwt.resolveIsNonFungible)(n,r,s,t,!0)&&(r.edition.value=(0,r8.findMasterEditionPda)(n,{mint:(0,ry.expectPublicKey)(r.mint.value)})),s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,wwt.findAssociatedTokenPda)(n,{mint:(0,ry.expectPublicKey)(r.mint.value),owner:(0,ry.expectSome)(s.tokenOwner)})),r.masterEdition.value||r.masterEditionMint.value&&(r.masterEdition.value=(0,r8.findMasterEditionPda)(n,{mint:(0,ry.expectPublicKey)(r.masterEditionMint.value)})),r.tokenRecord.value||s.tokenStandard===_wt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,r8.findTokenRecordPda)(n,{mint:(0,ry.expectPublicKey)(r.mint.value),token:(0,ry.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,xme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ry.getAccountMetasAndSigners)(i,"programId",t),c=pRe().serialize(s),u=0;return(0,xme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lI.burnV1=Pwt;var dI={};Object.defineProperty(dI,"__esModule",{value:!0});dI.closeEscrowAccount=dI.getCloseEscrowAccountInstructionDataSerializer=void 0;const Tme=Z,lF=q,Rme=Ut,dF=Ne;function bRe(){return(0,lF.mapSerializer)((0,lF.struct)([["discriminator",(0,lF.u8)()]],{description:"CloseEscrowAccountInstructionData"}),n=>({...n,discriminator:39}))}dI.getCloseEscrowAccountInstructionDataSerializer=bRe;function Ewt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.metadata.value||(r.metadata.value=(0,Rme.findMetadataPda)(n,{mint:(0,dF.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Rme.findMasterEditionPda)(n,{mint:(0,dF.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Tme.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,dF.getAccountMetasAndSigners)(s,"programId",t),a=bRe().serialize({}),c=0;return(0,Tme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}dI.closeEscrowAccount=Ewt;var fI={};Object.defineProperty(fI,"__esModule",{value:!0});fI.collect=fI.getCollectInstructionDataSerializer=void 0;const xwt=Z,fF=q,Twt=Ne;function SRe(){return(0,fF.mapSerializer)((0,fF.struct)([["discriminator",(0,fF.u8)()]],{description:"CollectInstructionData"}),n=>({...n,discriminator:54}))}fI.getCollectInstructionDataSerializer=SRe;function Rwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},recipient:{index:1,isWritable:!1,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Twt.getAccountMetasAndSigners)(s,"programId",t),a=SRe().serialize({}),c=0;return(0,xwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}fI.collect=Rwt;var hI={};Object.defineProperty(hI,"__esModule",{value:!0});hI.convertMasterEditionV1ToV2=hI.getConvertMasterEditionV1ToV2InstructionDataSerializer=void 0;const Cwt=Z,hF=q,Mwt=Ne;function kRe(){return(0,hF.mapSerializer)((0,hF.struct)([["discriminator",(0,hF.u8)()]],{description:"ConvertMasterEditionV1ToV2InstructionData"}),n=>({...n,discriminator:12}))}hI.getConvertMasterEditionV1ToV2InstructionDataSerializer=kRe;function Bwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={masterEdition:{index:0,isWritable:!0,value:e.masterEdition??null},oneTimeAuth:{index:1,isWritable:!0,value:e.oneTimeAuth??null},printingMint:{index:2,isWritable:!0,value:e.printingMint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Mwt.getAccountMetasAndSigners)(s,"programId",t),a=kRe().serialize({}),c=0;return(0,Cwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}hI.convertMasterEditionV1ToV2=Bwt;var gI={};Object.defineProperty(gI,"__esModule",{value:!0});gI.createEscrowAccount=gI.getCreateEscrowAccountInstructionDataSerializer=void 0;const Cme=Z,gF=q,Mme=Ut,mF=Ne;function vRe(){return(0,gF.mapSerializer)((0,gF.struct)([["discriminator",(0,gF.u8)()]],{description:"CreateEscrowAccountInstructionData"}),n=>({...n,discriminator:38}))}gI.getCreateEscrowAccountInstructionDataSerializer=vRe;function zwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:8,isWritable:!1,value:e.authority??null}};r.metadata.value||(r.metadata.value=(0,Mme.findMetadataPda)(n,{mint:(0,mF.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Mme.findMasterEditionPda)(n,{mint:(0,mF.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Cme.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,mF.getAccountMetasAndSigners)(s,"omitted",t),a=vRe().serialize({}),c=0;return(0,Cme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}gI.createEscrowAccount=zwt;var mI={};Object.defineProperty(mI,"__esModule",{value:!0});mI.createMasterEditionV3=mI.getCreateMasterEditionV3InstructionDataSerializer=void 0;const $wt=Z,JR=q,Bme=Ut,yF=Ne;function ARe(){return(0,JR.mapSerializer)((0,JR.struct)([["discriminator",(0,JR.u8)()],["maxSupply",(0,JR.option)((0,JR.u64)())]],{description:"CreateMasterEditionV3InstructionData"}),n=>({...n,discriminator:17}))}mI.getCreateMasterEditionV3InstructionDataSerializer=ARe;function Dwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={edition:{index:0,isWritable:!0,value:e.edition??null},mint:{index:1,isWritable:!0,value:e.mint??null},updateAuthority:{index:2,isWritable:!1,value:e.updateAuthority??null},mintAuthority:{index:3,isWritable:!1,value:e.mintAuthority??null},payer:{index:4,isWritable:!0,value:e.payer??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}},s={...e};r.edition.value||(r.edition.value=(0,Bme.findMasterEditionPda)(n,{mint:(0,yF.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,Bme.findMetadataPda)(n,{mint:(0,yF.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,yF.getAccountMetasAndSigners)(i,"omitted",t),c=ARe().serialize(s),u=0;return(0,$wt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mI.createMasterEditionV3=Dwt;var yI={};Object.defineProperty(yI,"__esModule",{value:!0});yI.createMetadataAccountV3=yI.getCreateMetadataAccountV3InstructionDataSerializer=void 0;const Owt=Z,XR=q,Kwt=Ut,zme=Ne,$me=ut;function wRe(){return(0,XR.mapSerializer)((0,XR.struct)([["discriminator",(0,XR.u8)()],["data",(0,$me.getDataV2Serializer)()],["isMutable",(0,XR.bool)()],["collectionDetails",(0,XR.option)((0,$me.getCollectionDetailsSerializer)())]],{description:"CreateMetadataAccountV3InstructionData"}),n=>({...n,discriminator:33}))}yI.getCreateMetadataAccountV3InstructionDataSerializer=wRe;function Lwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},mint:{index:1,isWritable:!1,value:e.mint??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},updateAuthority:{index:4,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},rent:{index:6,isWritable:!1,value:e.rent??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Kwt.findMetadataPda)(n,{mint:(0,zme.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zme.getAccountMetasAndSigners)(i,"omitted",t),c=wRe().serialize(s),u=0;return(0,Owt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yI.createMetadataAccountV3=Lwt;var pI={};Object.defineProperty(pI,"__esModule",{value:!0});pI.createV1=pI.getCreateV1InstructionDataSerializer=void 0;const Mv=Z,Wo=q,Jb=on,Dme=Ut,n8=Ne,my=ut;function IRe(){return(0,Wo.mapSerializer)((0,Wo.struct)([["discriminator",(0,Wo.u8)()],["createV1Discriminator",(0,Wo.u8)()],["name",(0,Wo.string)()],["symbol",(0,Wo.string)()],["uri",(0,Wo.string)()],["sellerFeeBasisPoints",(0,Mv.mapAmountSerializer)((0,Wo.u16)(),"%",2)],["creators",(0,Wo.option)((0,Wo.array)((0,my.getCreatorSerializer)()))],["primarySaleHappened",(0,Wo.bool)()],["isMutable",(0,Wo.bool)()],["tokenStandard",(0,my.getTokenStandardSerializer)()],["collection",(0,Wo.option)((0,my.getCollectionSerializer)())],["uses",(0,Wo.option)((0,my.getUsesSerializer)())],["collectionDetails",(0,Wo.option)((0,my.getCollectionDetailsSerializer)())],["ruleSet",(0,Wo.option)((0,Wo.publicKey)())],["decimals",(0,Wo.option)((0,Wo.u8)())],["printSupply",(0,Wo.option)((0,my.getPrintSupplySerializer)())]],{description:"CreateV1InstructionData"}),n=>({...n,discriminator:42,createV1Discriminator:0,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,tokenStandard:n.tokenStandard??my.TokenStandard.NonFungible,collection:n.collection??(0,Mv.none)(),uses:n.uses??(0,Mv.none)(),ruleSet:n.ruleSet??(0,Mv.none)()}))}pI.getCreateV1InstructionDataSerializer=IRe;function Wwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},masterEdition:{index:1,isWritable:!0,value:e.masterEdition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},payer:{index:4,isWritable:!0,value:e.payer??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:8,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Dme.findMetadataPda)(n,{mint:(0,n8.expectPublicKey)(r.mint.value)})),s.tokenStandard||(s.tokenStandard=my.TokenStandard.NonFungible),r.masterEdition.value||(0,Jb.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,Dme.findMasterEditionPda)(n,{mint:(0,n8.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=(0,n8.expectSome)(r.authority.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Mv.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(0,Jb.resolveIsNonFungibleOrIsMintSigner)(n,r,s,t,!1)&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),s.creators||(s.creators=(0,Jb.resolveCreators)(n,r,s,t,!1)),s.isCollection||(s.isCollection=!1),s.collectionDetails||(s.collectionDetails=(0,Jb.resolveCollectionDetails)(n,r,s,t,!1)),s.decimals||(s.decimals=(0,Jb.resolveDecimals)(n,r,s,t,!1)),s.printSupply||(s.printSupply=(0,Jb.resolvePrintSupply)(n,r,s,t,!1));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,n8.getAccountMetasAndSigners)(i,"programId",t),c=IRe().serialize(s),u=(0,Jb.resolveCreateV1Bytes)(n,r,s,t);return(0,Mv.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pI.createV1=Wwt;var bI={};Object.defineProperty(bI,"__esModule",{value:!0});bI.delegateAuthorityItemV1=bI.getDelegateAuthorityItemV1InstructionDataSerializer=void 0;const qq=Z,QR=q,Nwt=on,pF=Ut,Xb=Ne,_Re=ut;function PRe(){return(0,QR.mapSerializer)((0,QR.struct)([["discriminator",(0,QR.u8)()],["delegateAuthorityItemV1Discriminator",(0,QR.u8)()],["authorizationData",(0,QR.option)((0,_Re.getAuthorizationDataSerializer)())]],{description:"DelegateAuthorityItemV1InstructionData"}),n=>({...n,discriminator:44,delegateAuthorityItemV1Discriminator:9,authorizationData:n.authorizationData??(0,qq.none)()}))}bI.getDelegateAuthorityItemV1InstructionDataSerializer=PRe;function Fwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,Xb.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,pF.findMetadataDelegateRecordPda)(n,{delegateRole:_Re.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,Xb.expectSome)(s.updateAuthority),mint:(0,Xb.expectPublicKey)(r.mint.value),delegate:(0,Xb.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,pF.findMetadataPda)(n,{mint:(0,Xb.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Nwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,pF.findMasterEditionPda)(n,{mint:(0,Xb.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Xb.getAccountMetasAndSigners)(i,"programId",t),c=PRe().serialize(s),u=0;return(0,qq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bI.delegateAuthorityItemV1=Fwt;var SI={};Object.defineProperty(SI,"__esModule",{value:!0});SI.delegateCollectionItemV1=SI.getDelegateCollectionItemV1InstructionDataSerializer=void 0;const jq=Z,eC=q,Uwt=on,bF=Ut,Qb=Ne,ERe=ut;function xRe(){return(0,eC.mapSerializer)((0,eC.struct)([["discriminator",(0,eC.u8)()],["delegateCollectionItemV1Discriminator",(0,eC.u8)()],["authorizationData",(0,eC.option)((0,ERe.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionItemV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionItemV1Discriminator:11,authorizationData:n.authorizationData??(0,jq.none)()}))}SI.getDelegateCollectionItemV1InstructionDataSerializer=xRe;function Vwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,Qb.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,bF.findMetadataDelegateRecordPda)(n,{delegateRole:ERe.MetadataDelegateRole.CollectionItem,updateAuthority:(0,Qb.expectSome)(s.updateAuthority),mint:(0,Qb.expectPublicKey)(r.mint.value),delegate:(0,Qb.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,bF.findMetadataPda)(n,{mint:(0,Qb.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Uwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,bF.findMasterEditionPda)(n,{mint:(0,Qb.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,jq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Qb.getAccountMetasAndSigners)(i,"programId",t),c=xRe().serialize(s),u=0;return(0,jq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}SI.delegateCollectionItemV1=Vwt;var kI={};Object.defineProperty(kI,"__esModule",{value:!0});kI.delegateCollectionV1=kI.getDelegateCollectionV1InstructionDataSerializer=void 0;const Hq=Z,tC=q,qwt=on,SF=Ut,e0=Ne,TRe=ut;function RRe(){return(0,tC.mapSerializer)((0,tC.struct)([["discriminator",(0,tC.u8)()],["delegateCollectionV1Discriminator",(0,tC.u8)()],["authorizationData",(0,tC.option)((0,TRe.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionV1Discriminator:0,authorizationData:n.authorizationData??(0,Hq.none)()}))}kI.getDelegateCollectionV1InstructionDataSerializer=RRe;function jwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,e0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,SF.findMetadataDelegateRecordPda)(n,{delegateRole:TRe.MetadataDelegateRole.Collection,updateAuthority:(0,e0.expectSome)(s.updateAuthority),mint:(0,e0.expectPublicKey)(r.mint.value),delegate:(0,e0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,SF.findMetadataPda)(n,{mint:(0,e0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,qwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,SF.findMasterEditionPda)(n,{mint:(0,e0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Hq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,e0.getAccountMetasAndSigners)(i,"programId",t),c=RRe().serialize(s),u=0;return(0,Hq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kI.delegateCollectionV1=jwt;var vI={};Object.defineProperty(vI,"__esModule",{value:!0});vI.delegateDataItemV1=vI.getDelegateDataItemV1InstructionDataSerializer=void 0;const Gq=Z,rC=q,Hwt=on,kF=Ut,t0=Ne,CRe=ut;function MRe(){return(0,rC.mapSerializer)((0,rC.struct)([["discriminator",(0,rC.u8)()],["delegateDataItemV1Discriminator",(0,rC.u8)()],["authorizationData",(0,rC.option)((0,CRe.getAuthorizationDataSerializer)())]],{description:"DelegateDataItemV1InstructionData"}),n=>({...n,discriminator:44,delegateDataItemV1Discriminator:10,authorizationData:n.authorizationData??(0,Gq.none)()}))}vI.getDelegateDataItemV1InstructionDataSerializer=MRe;function Gwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,t0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,kF.findMetadataDelegateRecordPda)(n,{delegateRole:CRe.MetadataDelegateRole.DataItem,updateAuthority:(0,t0.expectSome)(s.updateAuthority),mint:(0,t0.expectPublicKey)(r.mint.value),delegate:(0,t0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,kF.findMetadataPda)(n,{mint:(0,t0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Hwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,kF.findMasterEditionPda)(n,{mint:(0,t0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Gq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,t0.getAccountMetasAndSigners)(i,"programId",t),c=MRe().serialize(s),u=0;return(0,Gq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}vI.delegateDataItemV1=Gwt;var AI={};Object.defineProperty(AI,"__esModule",{value:!0});AI.delegateDataV1=AI.getDelegateDataV1InstructionDataSerializer=void 0;const Yq=Z,nC=q,Ywt=on,vF=Ut,r0=Ne,BRe=ut;function zRe(){return(0,nC.mapSerializer)((0,nC.struct)([["discriminator",(0,nC.u8)()],["delegateDataV1Discriminator",(0,nC.u8)()],["authorizationData",(0,nC.option)((0,BRe.getAuthorizationDataSerializer)())]],{description:"DelegateDataV1InstructionData"}),n=>({...n,discriminator:44,delegateDataV1Discriminator:3,authorizationData:n.authorizationData??(0,Yq.none)()}))}AI.getDelegateDataV1InstructionDataSerializer=zRe;function Zwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,r0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,vF.findMetadataDelegateRecordPda)(n,{delegateRole:BRe.MetadataDelegateRole.Data,updateAuthority:(0,r0.expectSome)(s.updateAuthority),mint:(0,r0.expectPublicKey)(r.mint.value),delegate:(0,r0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,vF.findMetadataPda)(n,{mint:(0,r0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Ywt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,vF.findMasterEditionPda)(n,{mint:(0,r0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Yq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,r0.getAccountMetasAndSigners)(i,"programId",t),c=zRe().serialize(s),u=0;return(0,Yq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}AI.delegateDataV1=Zwt;var wI={};Object.defineProperty(wI,"__esModule",{value:!0});wI.delegateLockedTransferV1=wI.getDelegateLockedTransferV1InstructionDataSerializer=void 0;const Jwt=Hs,Zq=Z,n0=q,Xwt=on,s8=Ut,Bh=Ne,$Re=ut;function DRe(){return(0,n0.mapSerializer)((0,n0.struct)([["discriminator",(0,n0.u8)()],["delegateLockedTransferV1Discriminator",(0,n0.u8)()],["amount",(0,n0.u64)()],["lockedAddress",(0,n0.publicKey)()],["authorizationData",(0,n0.option)((0,$Re.getAuthorizationDataSerializer)())]],{description:"DelegateLockedTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateLockedTransferV1Discriminator:7,amount:n.amount??1,authorizationData:n.authorizationData??(0,Zq.none)()}))}wI.getDelegateLockedTransferV1InstructionDataSerializer=DRe;function Qwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,Jwt.findAssociatedTokenPda)(n,{mint:(0,Bh.expectPublicKey)(r.mint.value),owner:(0,Bh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,s8.findTokenRecordPda)(n,{mint:(0,Bh.expectPublicKey)(r.mint.value),token:(0,Bh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,s8.findMetadataPda)(n,{mint:(0,Bh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Xwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,s8.findMasterEditionPda)(n,{mint:(0,Bh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===$Re.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,s8.findTokenRecordPda)(n,{mint:(0,Bh.expectPublicKey)(r.mint.value),token:(0,Bh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Zq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Bh.getAccountMetasAndSigners)(i,"programId",t),c=DRe().serialize(s),u=0;return(0,Zq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wI.delegateLockedTransferV1=Qwt;var II={};Object.defineProperty(II,"__esModule",{value:!0});II.delegatePrintDelegateV1=II.getDelegatePrintDelegateV1InstructionDataSerializer=void 0;const Jq=Z,sC=q,eIt=on,Ome=Ut,AF=Ne,tIt=ut;function ORe(){return(0,sC.mapSerializer)((0,sC.struct)([["discriminator",(0,sC.u8)()],["delegatePrintDelegateV1Discriminator",(0,sC.u8)()],["authorizationData",(0,sC.option)((0,tIt.getAuthorizationDataSerializer)())]],{description:"DelegatePrintDelegateV1InstructionData"}),n=>({...n,discriminator:44,delegatePrintDelegateV1Discriminator:13,authorizationData:n.authorizationData??(0,Jq.none)()}))}II.getDelegatePrintDelegateV1InstructionDataSerializer=ORe;function rIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Ome.findMetadataPda)(n,{mint:(0,AF.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,eIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,Ome.findMasterEditionPda)(n,{mint:(0,AF.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Jq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,AF.getAccountMetasAndSigners)(i,"programId",t),c=ORe().serialize(s),u=0;return(0,Jq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}II.delegatePrintDelegateV1=rIt;var _I={};Object.defineProperty(_I,"__esModule",{value:!0});_I.delegateProgrammableConfigItemV1=_I.getDelegateProgrammableConfigItemV1InstructionDataSerializer=void 0;const Xq=Z,iC=q,nIt=on,wF=Ut,s0=Ne,KRe=ut;function LRe(){return(0,iC.mapSerializer)((0,iC.struct)([["discriminator",(0,iC.u8)()],["delegateProgrammableConfigItemV1Discriminator",(0,iC.u8)()],["authorizationData",(0,iC.option)((0,KRe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigItemV1Discriminator:12,authorizationData:n.authorizationData??(0,Xq.none)()}))}_I.getDelegateProgrammableConfigItemV1InstructionDataSerializer=LRe;function sIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,s0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,wF.findMetadataDelegateRecordPda)(n,{delegateRole:KRe.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,s0.expectSome)(s.updateAuthority),mint:(0,s0.expectPublicKey)(r.mint.value),delegate:(0,s0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,wF.findMetadataPda)(n,{mint:(0,s0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,nIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,wF.findMasterEditionPda)(n,{mint:(0,s0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Xq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,s0.getAccountMetasAndSigners)(i,"programId",t),c=LRe().serialize(s),u=0;return(0,Xq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_I.delegateProgrammableConfigItemV1=sIt;var PI={};Object.defineProperty(PI,"__esModule",{value:!0});PI.delegateProgrammableConfigV1=PI.getDelegateProgrammableConfigV1InstructionDataSerializer=void 0;const Qq=Z,oC=q,iIt=on,IF=Ut,i0=Ne,WRe=ut;function NRe(){return(0,oC.mapSerializer)((0,oC.struct)([["discriminator",(0,oC.u8)()],["delegateProgrammableConfigV1Discriminator",(0,oC.u8)()],["authorizationData",(0,oC.option)((0,WRe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigV1Discriminator:8,authorizationData:n.authorizationData??(0,Qq.none)()}))}PI.getDelegateProgrammableConfigV1InstructionDataSerializer=NRe;function oIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,i0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,IF.findMetadataDelegateRecordPda)(n,{delegateRole:WRe.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,i0.expectSome)(s.updateAuthority),mint:(0,i0.expectPublicKey)(r.mint.value),delegate:(0,i0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,IF.findMetadataPda)(n,{mint:(0,i0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,iIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,IF.findMasterEditionPda)(n,{mint:(0,i0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,i0.getAccountMetasAndSigners)(i,"programId",t),c=NRe().serialize(s),u=0;return(0,Qq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}PI.delegateProgrammableConfigV1=oIt;var EI={};Object.defineProperty(EI,"__esModule",{value:!0});EI.delegateSaleV1=EI.getDelegateSaleV1InstructionDataSerializer=void 0;const aIt=Hs,ej=Z,zk=q,cIt=on,i8=Ut,zh=Ne,FRe=ut;function URe(){return(0,zk.mapSerializer)((0,zk.struct)([["discriminator",(0,zk.u8)()],["delegateSaleV1Discriminator",(0,zk.u8)()],["amount",(0,zk.u64)()],["authorizationData",(0,zk.option)((0,FRe.getAuthorizationDataSerializer)())]],{description:"DelegateSaleV1InstructionData"}),n=>({...n,discriminator:44,delegateSaleV1Discriminator:1,amount:n.amount??1,authorizationData:n.authorizationData??(0,ej.none)()}))}EI.getDelegateSaleV1InstructionDataSerializer=URe;function uIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,aIt.findAssociatedTokenPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value),owner:(0,zh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,i8.findTokenRecordPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value),token:(0,zh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,i8.findMetadataPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,cIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,i8.findMasterEditionPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===FRe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,i8.findTokenRecordPda)(n,{mint:(0,zh.expectPublicKey)(r.mint.value),token:(0,zh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ej.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zh.getAccountMetasAndSigners)(i,"programId",t),c=URe().serialize(s),u=0;return(0,ej.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}EI.delegateSaleV1=uIt;var xI={};Object.defineProperty(xI,"__esModule",{value:!0});xI.delegateStakingV1=xI.getDelegateStakingV1InstructionDataSerializer=void 0;const lIt=Hs,tj=Z,$k=q,dIt=on,o8=Ut,$h=Ne,VRe=ut;function qRe(){return(0,$k.mapSerializer)((0,$k.struct)([["discriminator",(0,$k.u8)()],["delegateStakingV1Discriminator",(0,$k.u8)()],["amount",(0,$k.u64)()],["authorizationData",(0,$k.option)((0,VRe.getAuthorizationDataSerializer)())]],{description:"DelegateStakingV1InstructionData"}),n=>({...n,discriminator:44,delegateStakingV1Discriminator:5,amount:n.amount??1,authorizationData:n.authorizationData??(0,tj.none)()}))}xI.getDelegateStakingV1InstructionDataSerializer=qRe;function fIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,lIt.findAssociatedTokenPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value),owner:(0,$h.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,o8.findTokenRecordPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value),token:(0,$h.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,o8.findMetadataPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,dIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,o8.findMasterEditionPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===VRe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,o8.findTokenRecordPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value),token:(0,$h.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,tj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$h.getAccountMetasAndSigners)(i,"programId",t),c=qRe().serialize(s),u=0;return(0,tj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xI.delegateStakingV1=fIt;var TI={};Object.defineProperty(TI,"__esModule",{value:!0});TI.delegateStandardV1=TI.getDelegateStandardV1InstructionDataSerializer=void 0;const hIt=Hs,Kme=Z,aC=q,gIt=on,_F=Ut,o0=Ne;function jRe(){return(0,aC.mapSerializer)((0,aC.struct)([["discriminator",(0,aC.u8)()],["delegateStandardV1Discriminator",(0,aC.u8)()],["amount",(0,aC.u64)()]],{description:"DelegateStandardV1InstructionData"}),n=>({...n,discriminator:44,delegateStandardV1Discriminator:6,amount:n.amount??1}))}TI.getDelegateStandardV1InstructionDataSerializer=jRe;function mIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,hIt.findAssociatedTokenPda)(n,{mint:(0,o0.expectPublicKey)(r.mint.value),owner:(0,o0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,_F.findTokenRecordPda)(n,{mint:(0,o0.expectPublicKey)(r.mint.value),token:(0,o0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,_F.findMetadataPda)(n,{mint:(0,o0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,gIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,_F.findMasterEditionPda)(n,{mint:(0,o0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Kme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,o0.getAccountMetasAndSigners)(i,"programId",t),c=jRe().serialize(s),u=0;return(0,Kme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}TI.delegateStandardV1=mIt;var RI={};Object.defineProperty(RI,"__esModule",{value:!0});RI.delegateTransferV1=RI.getDelegateTransferV1InstructionDataSerializer=void 0;const yIt=Hs,rj=Z,Dk=q,pIt=on,a8=Ut,Dh=Ne,HRe=ut;function GRe(){return(0,Dk.mapSerializer)((0,Dk.struct)([["discriminator",(0,Dk.u8)()],["delegateTransferV1Discriminator",(0,Dk.u8)()],["amount",(0,Dk.u64)()],["authorizationData",(0,Dk.option)((0,HRe.getAuthorizationDataSerializer)())]],{description:"DelegateTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateTransferV1Discriminator:2,amount:n.amount??1,authorizationData:n.authorizationData??(0,rj.none)()}))}RI.getDelegateTransferV1InstructionDataSerializer=GRe;function bIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,yIt.findAssociatedTokenPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value),owner:(0,Dh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,a8.findTokenRecordPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value),token:(0,Dh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,a8.findMetadataPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,pIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,a8.findMasterEditionPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===HRe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,a8.findTokenRecordPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value),token:(0,Dh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,rj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Dh.getAccountMetasAndSigners)(i,"programId",t),c=GRe().serialize(s),u=0;return(0,rj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}RI.delegateTransferV1=bIt;var CI={};Object.defineProperty(CI,"__esModule",{value:!0});CI.delegateUtilityV1=CI.getDelegateUtilityV1InstructionDataSerializer=void 0;const SIt=Hs,nj=Z,Ok=q,kIt=on,c8=Ut,Oh=Ne,YRe=ut;function ZRe(){return(0,Ok.mapSerializer)((0,Ok.struct)([["discriminator",(0,Ok.u8)()],["delegateUtilityV1Discriminator",(0,Ok.u8)()],["amount",(0,Ok.u64)()],["authorizationData",(0,Ok.option)((0,YRe.getAuthorizationDataSerializer)())]],{description:"DelegateUtilityV1InstructionData"}),n=>({...n,discriminator:44,delegateUtilityV1Discriminator:4,amount:n.amount??1,authorizationData:n.authorizationData??(0,nj.none)()}))}CI.getDelegateUtilityV1InstructionDataSerializer=ZRe;function vIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,SIt.findAssociatedTokenPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value),owner:(0,Oh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,c8.findTokenRecordPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value),token:(0,Oh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,c8.findMetadataPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,kIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,c8.findMasterEditionPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===YRe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,c8.findTokenRecordPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value),token:(0,Oh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,nj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Oh.getAccountMetasAndSigners)(i,"programId",t),c=ZRe().serialize(s),u=0;return(0,nj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}CI.delegateUtilityV1=vIt;var MI={};Object.defineProperty(MI,"__esModule",{value:!0});MI.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=MI.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=void 0;const Lme=Z,PF=q,u8=Ut,cC=Ne;function JRe(){return(0,PF.mapSerializer)((0,PF.struct)([["discriminator",(0,PF.u8)()]],{description:"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionData"}),n=>({...n,discriminator:3}))}MI.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=JRe;function AIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!1,value:e.mintAuthority??null},printingMint:{index:5,isWritable:!0,value:e.printingMint??null},masterTokenAccount:{index:6,isWritable:!0,value:e.masterTokenAccount??null},editionMarker:{index:7,isWritable:!0,value:e.editionMarker??null},burnAuthority:{index:8,isWritable:!1,value:e.burnAuthority??null},payer:{index:9,isWritable:!1,value:e.payer??null},masterUpdateAuthority:{index:10,isWritable:!1,value:e.masterUpdateAuthority??null},masterMetadata:{index:11,isWritable:!1,value:e.masterMetadata??null},tokenProgram:{index:12,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:13,isWritable:!1,value:e.systemProgram??null},rent:{index:14,isWritable:!1,value:e.rent??null},reservationList:{index:15,isWritable:!0,value:e.reservationList??null}};r.metadata.value||(r.metadata.value=(0,u8.findMetadataPda)(n,{mint:(0,cC.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,u8.findMasterEditionPda)(n,{mint:(0,cC.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,u8.findMasterEditionPda)(n,{mint:(0,cC.expectPublicKey)(r.mint.value)})),r.editionMarker.value||(r.editionMarker.value=(0,u8.findMasterEditionPda)(n,{mint:(0,cC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,Lme.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,cC.getAccountMetasAndSigners)(s,"omitted",t),a=JRe().serialize({}),c=0;return(0,Lme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}MI.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=AIt;var BI={};Object.defineProperty(BI,"__esModule",{value:!0});BI.freezeDelegatedAccount=BI.getFreezeDelegatedAccountInstructionDataSerializer=void 0;const wIt=Z,EF=q,IIt=Ut,Wme=Ne;function XRe(){return(0,EF.mapSerializer)((0,EF.struct)([["discriminator",(0,EF.u8)()]],{description:"FreezeDelegatedAccountInstructionData"}),n=>({...n,discriminator:26}))}BI.getFreezeDelegatedAccountInstructionDataSerializer=XRe;function _It(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,IIt.findMasterEditionPda)(n,{mint:(0,Wme.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Wme.getAccountMetasAndSigners)(s,"programId",t),a=XRe().serialize({}),c=0;return(0,wIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}BI.freezeDelegatedAccount=_It;var zI={};Object.defineProperty(zI,"__esModule",{value:!0});zI.lockV1=zI.getLockV1InstructionDataSerializer=void 0;const PIt=Hs,sj=Z,uC=q,Nme=on,xF=Ut,a0=Ne,ij=ut;function QRe(){return(0,uC.mapSerializer)((0,uC.struct)([["discriminator",(0,uC.u8)()],["lockV1Discriminator",(0,uC.u8)()],["authorizationData",(0,uC.option)((0,ij.getAuthorizationDataSerializer)())]],{description:"LockV1InstructionData"}),n=>({...n,discriminator:46,lockV1Discriminator:0,authorizationData:n.authorizationData??(0,sj.none)()}))}zI.getLockV1InstructionDataSerializer=QRe;function EIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Nme.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,PIt.findAssociatedTokenPda)(n,{mint:(0,a0.expectPublicKey)(r.mint.value),owner:(0,a0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,xF.findMetadataPda)(n,{mint:(0,a0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,Nme.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,xF.findMasterEditionPda)(n,{mint:(0,a0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===ij.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,xF.findTokenRecordPda)(n,{mint:(0,a0.expectPublicKey)(r.mint.value),token:(0,a0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,sj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==ij.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,a0.getAccountMetasAndSigners)(i,"programId",t),c=QRe().serialize(s),u=0;return(0,sj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zI.lockV1=EIt;var $I={};Object.defineProperty($I,"__esModule",{value:!0});$I.migrate=$I.getMigrateInstructionDataSerializer=void 0;const Fme=Z,TF=q,RF=Ut,lC=Ne;function eCe(){return(0,TF.mapSerializer)((0,TF.struct)([["discriminator",(0,TF.u8)()]],{description:"MigrateInstructionData"}),n=>({...n,discriminator:48}))}$I.getMigrateInstructionDataSerializer=eCe;function xIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},token:{index:2,isWritable:!0,value:e.token??null},tokenOwner:{index:3,isWritable:!1,value:e.tokenOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},payer:{index:5,isWritable:!0,value:e.payer??null},authority:{index:6,isWritable:!1,value:e.authority??null},collectionMetadata:{index:7,isWritable:!1,value:e.collectionMetadata??null},delegateRecord:{index:8,isWritable:!1,value:e.delegateRecord??null},tokenRecord:{index:9,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:10,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:12,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,RF.findMetadataPda)(n,{mint:(0,lC.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,RF.findMasterEditionPda)(n,{mint:(0,lC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.authority.value||(r.authority.value=n.identity),r.tokenRecord.value||(r.tokenRecord.value=(0,RF.findTokenRecordPda)(n,{mint:(0,lC.expectPublicKey)(r.mint.value),token:(0,lC.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Fme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,lC.getAccountMetasAndSigners)(s,"programId",t),a=eCe().serialize({}),c=0;return(0,Fme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}$I.migrate=xIt;var DI={};Object.defineProperty(DI,"__esModule",{value:!0});DI.mintNewEditionFromMasterEditionViaToken=DI.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=void 0;const TIt=Z,CF=q,RIt=Ne,CIt=ut;function tCe(){return(0,CF.mapSerializer)((0,CF.struct)([["discriminator",(0,CF.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,CIt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaTokenInstructionData"}),n=>({...n,discriminator:11}))}DI.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=tCe;function MIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},tokenAccountOwner:{index:7,isWritable:!1,value:e.tokenAccountOwner??null},tokenAccount:{index:8,isWritable:!1,value:e.tokenAccount??null},newMetadataUpdateAuthority:{index:9,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:10,isWritable:!1,value:e.metadata??null},tokenProgram:{index:11,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null},rent:{index:13,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,RIt.getAccountMetasAndSigners)(i,"omitted",t),c=tCe().serialize(s),u=0;return(0,TIt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}DI.mintNewEditionFromMasterEditionViaToken=MIt;var OI={};Object.defineProperty(OI,"__esModule",{value:!0});OI.mintNewEditionFromMasterEditionViaVaultProxy=OI.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=void 0;const BIt=Z,MF=q,zIt=Ne,$It=ut;function rCe(){return(0,MF.mapSerializer)((0,MF.struct)([["discriminator",(0,MF.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,$It.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaVaultProxyInstructionData"}),n=>({...n,discriminator:13}))}OI.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=rCe;function DIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},vaultAuthority:{index:7,isWritable:!1,value:e.vaultAuthority??null},safetyDepositStore:{index:8,isWritable:!1,value:e.safetyDepositStore??null},safetyDepositBox:{index:9,isWritable:!1,value:e.safetyDepositBox??null},vault:{index:10,isWritable:!1,value:e.vault??null},newMetadataUpdateAuthority:{index:11,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:12,isWritable:!1,value:e.metadata??null},tokenProgram:{index:13,isWritable:!1,value:e.tokenProgram??null},tokenVaultProgram:{index:14,isWritable:!1,value:e.tokenVaultProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null},rent:{index:16,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,zIt.getAccountMetasAndSigners)(i,"omitted",t),c=rCe().serialize(s),u=0;return(0,BIt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}OI.mintNewEditionFromMasterEditionViaVaultProxy=DIt;var KI={};Object.defineProperty(KI,"__esModule",{value:!0});KI.mintV1=KI.getMintV1InstructionDataSerializer=void 0;const OIt=Hs,oj=Z,Kk=q,Ume=on,BF=Ut,c0=Ne,nCe=ut;function sCe(){return(0,Kk.mapSerializer)((0,Kk.struct)([["discriminator",(0,Kk.u8)()],["mintV1Discriminator",(0,Kk.u8)()],["amount",(0,Kk.u64)()],["authorizationData",(0,Kk.option)((0,nCe.getAuthorizationDataSerializer)())]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:43,mintV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,oj.none)()}))}KI.getMintV1InstructionDataSerializer=sCe;function KIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},metadata:{index:2,isWritable:!1,value:e.metadata??null},masterEdition:{index:3,isWritable:!0,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!0,value:e.mint??null},authority:{index:6,isWritable:!1,value:e.authority??null},delegateRecord:{index:7,isWritable:!1,value:e.delegateRecord??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:12,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Ume.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,OIt.findAssociatedTokenPda)(n,{mint:(0,c0.expectPublicKey)(r.mint.value),owner:(0,c0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,BF.findMetadataPda)(n,{mint:(0,c0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Ume.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,BF.findMasterEditionPda)(n,{mint:(0,c0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===nCe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,BF.findTokenRecordPda)(n,{mint:(0,c0.expectPublicKey)(r.mint.value),token:(0,c0.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,oj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,c0.getAccountMetasAndSigners)(i,"programId",t),c=sCe().serialize(s),u=468;return(0,oj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}KI.mintV1=KIt;var LI={};Object.defineProperty(LI,"__esModule",{value:!0});LI.printV1=LI.getPrintV1InstructionDataSerializer=void 0;const Vme=Hs,qme=Z,dC=q,LIt=on,Lk=Ut,Ec=Ne,jme=ut;function iCe(){return(0,dC.mapSerializer)((0,dC.struct)([["discriminator",(0,dC.u8)()],["printV1Discriminator",(0,dC.u8)()],["editionNumber",(0,dC.u64)()]],{description:"PrintV1InstructionData"}),n=>({...n,discriminator:55,printV1Discriminator:0}))}LI.getPrintV1InstructionDataSerializer=iCe;function WIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,Lk.findMetadataPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,Lk.findMasterEditionPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,Vme.findAssociatedTokenPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value),owner:(0,Ec.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.masterTokenAccountOwner.value||(r.masterTokenAccountOwner.value=n.identity),r.editionMintAuthority.value||(r.editionMintAuthority.value=(0,Ec.expectSome)(r.masterTokenAccountOwner.value)),r.editionTokenRecord.value||s.tokenStandard===jme.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,Lk.findTokenRecordPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value),token:(0,Ec.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,Lk.findMasterEditionPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===jme.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,Lk.findEditionMarkerV2Pda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,LIt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint),editionNumber:(0,Ec.expectSome)(s.editionNumber)})),r.payer.value||(r.payer.value=n.payer),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,Vme.findAssociatedTokenPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint),owner:(0,Ec.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,Lk.findMetadataPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ec.getAccountMetasAndSigners)(i,"programId",t),c=iCe().serialize(s),u=0;return(0,qme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}LI.printV1=WIt;var WI={};Object.defineProperty(WI,"__esModule",{value:!0});WI.printV2=WI.getPrintV2InstructionDataSerializer=void 0;const Hme=Hs,Gme=Z,fC=q,NIt=on,Wk=Ut,fc=Ne,Yme=ut;function oCe(){return(0,fC.mapSerializer)((0,fC.struct)([["discriminator",(0,fC.u8)()],["printV2Discriminator",(0,fC.u8)()],["editionNumber",(0,fC.u64)()]],{description:"PrintV2InstructionData"}),n=>({...n,discriminator:55,printV2Discriminator:1}))}WI.getPrintV2InstructionDataSerializer=oCe;function FIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null},holderDelegateRecord:{index:18,isWritable:!1,value:e.holderDelegateRecord??null},delegate:{index:19,isWritable:!1,value:e.delegate??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,Wk.findMetadataPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,Wk.findMasterEditionPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,Hme.findAssociatedTokenPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value),owner:(0,fc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.payer.value||(r.payer.value=n.payer),r.editionMintAuthority.value||(r.holderDelegateRecord.value?r.delegate.value?r.editionMintAuthority.value=(0,fc.expectSome)(r.delegate.value):r.editionMintAuthority.value=(0,fc.expectSome)(r.payer.value):r.editionMintAuthority.value=n.identity),r.editionTokenRecord.value||s.tokenStandard===Yme.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,Wk.findTokenRecordPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value),token:(0,fc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,Wk.findMasterEditionPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===Yme.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,Wk.findEditionMarkerV2Pda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,NIt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint),editionNumber:(0,fc.expectSome)(s.editionNumber)})),r.masterTokenAccountOwner.value||r.holderDelegateRecord.value||(r.masterTokenAccountOwner.value=n.identity),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,Hme.findAssociatedTokenPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint),owner:(0,fc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,Wk.findMetadataPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Gme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,fc.getAccountMetasAndSigners)(i,"programId",t),c=oCe().serialize(s),u=0;return(0,Gme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}WI.printV2=FIt;var NI={};Object.defineProperty(NI,"__esModule",{value:!0});NI.puffMetadata=NI.getPuffMetadataInstructionDataSerializer=void 0;const UIt=Z,zF=q,VIt=Ne;function aCe(){return(0,zF.mapSerializer)((0,zF.struct)([["discriminator",(0,zF.u8)()]],{description:"PuffMetadataInstructionData"}),n=>({...n,discriminator:14}))}NI.getPuffMetadataInstructionDataSerializer=aCe;function qIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,VIt.getAccountMetasAndSigners)(s,"programId",t),a=aCe().serialize({}),c=0;return(0,UIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}NI.puffMetadata=qIt;var FI={};Object.defineProperty(FI,"__esModule",{value:!0});FI.removeCreatorVerification=FI.getRemoveCreatorVerificationInstructionDataSerializer=void 0;const jIt=Z,$F=q,HIt=Ne;function cCe(){return(0,$F.mapSerializer)((0,$F.struct)([["discriminator",(0,$F.u8)()]],{description:"RemoveCreatorVerificationInstructionData"}),n=>({...n,discriminator:28}))}FI.getRemoveCreatorVerificationInstructionDataSerializer=cCe;function GIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,HIt.getAccountMetasAndSigners)(s,"programId",t),a=cCe().serialize({}),c=0;return(0,jIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}FI.removeCreatorVerification=GIt;var UI={};Object.defineProperty(UI,"__esModule",{value:!0});UI.revokeAuthorityItemV1=UI.getRevokeAuthorityItemV1InstructionDataSerializer=void 0;const Zme=Z,l8=q,YIt=on,DF=Ut,u0=Ne,ZIt=ut;function uCe(){return(0,l8.mapSerializer)((0,l8.struct)([["discriminator",(0,l8.u8)()],["revokeAuthorityItemV1Discriminator",(0,l8.u8)()]],{description:"RevokeAuthorityItemV1InstructionData"}),n=>({...n,discriminator:45,revokeAuthorityItemV1Discriminator:10}))}UI.getRevokeAuthorityItemV1InstructionDataSerializer=uCe;function JIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,u0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,DF.findMetadataDelegateRecordPda)(n,{delegateRole:ZIt.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,u0.expectSome)(s.updateAuthority),mint:(0,u0.expectPublicKey)(r.mint.value),delegate:(0,u0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,DF.findMetadataPda)(n,{mint:(0,u0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,YIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,DF.findMasterEditionPda)(n,{mint:(0,u0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Zme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,u0.getAccountMetasAndSigners)(i,"programId",t),c=uCe().serialize({}),u=0;return(0,Zme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}UI.revokeAuthorityItemV1=JIt;var VI={};Object.defineProperty(VI,"__esModule",{value:!0});VI.revokeCollectionAuthority=VI.getRevokeCollectionAuthorityInstructionDataSerializer=void 0;const XIt=Z,OF=q,QIt=Ut,Jme=Ne;function lCe(){return(0,OF.mapSerializer)((0,OF.struct)([["discriminator",(0,OF.u8)()]],{description:"RevokeCollectionAuthorityInstructionData"}),n=>({...n,discriminator:24}))}VI.getRevokeCollectionAuthorityInstructionDataSerializer=lCe;function e_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},delegateAuthority:{index:1,isWritable:!0,value:e.delegateAuthority??null},revokeAuthority:{index:2,isWritable:!0,value:e.revokeAuthority??null},metadata:{index:3,isWritable:!1,value:e.metadata??null},mint:{index:4,isWritable:!1,value:e.mint??null}};r.metadata.value||(r.metadata.value=(0,QIt.findMetadataPda)(n,{mint:(0,Jme.expectPublicKey)(r.mint.value)}));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Jme.getAccountMetasAndSigners)(s,"programId",t),a=lCe().serialize({}),c=0;return(0,XIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}VI.revokeCollectionAuthority=e_t;var qI={};Object.defineProperty(qI,"__esModule",{value:!0});qI.revokeCollectionItemV1=qI.getRevokeCollectionItemV1InstructionDataSerializer=void 0;const Xme=Z,d8=q,t_t=on,KF=Ut,l0=Ne,r_t=ut;function dCe(){return(0,d8.mapSerializer)((0,d8.struct)([["discriminator",(0,d8.u8)()],["revokeCollectionItemV1Discriminator",(0,d8.u8)()]],{description:"RevokeCollectionItemV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionItemV1Discriminator:12}))}qI.getRevokeCollectionItemV1InstructionDataSerializer=dCe;function n_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,l0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,KF.findMetadataDelegateRecordPda)(n,{delegateRole:r_t.MetadataDelegateRole.CollectionItem,updateAuthority:(0,l0.expectSome)(s.updateAuthority),mint:(0,l0.expectPublicKey)(r.mint.value),delegate:(0,l0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,KF.findMetadataPda)(n,{mint:(0,l0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,t_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,KF.findMasterEditionPda)(n,{mint:(0,l0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Xme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,l0.getAccountMetasAndSigners)(i,"programId",t),c=dCe().serialize({}),u=0;return(0,Xme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qI.revokeCollectionItemV1=n_t;var jI={};Object.defineProperty(jI,"__esModule",{value:!0});jI.revokeCollectionV1=jI.getRevokeCollectionV1InstructionDataSerializer=void 0;const Qme=Z,f8=q,s_t=on,LF=Ut,d0=Ne,i_t=ut;function fCe(){return(0,f8.mapSerializer)((0,f8.struct)([["discriminator",(0,f8.u8)()],["revokeCollectionV1Discriminator",(0,f8.u8)()]],{description:"RevokeCollectionV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionV1Discriminator:0}))}jI.getRevokeCollectionV1InstructionDataSerializer=fCe;function o_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,d0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,LF.findMetadataDelegateRecordPda)(n,{delegateRole:i_t.MetadataDelegateRole.Collection,updateAuthority:(0,d0.expectSome)(s.updateAuthority),mint:(0,d0.expectPublicKey)(r.mint.value),delegate:(0,d0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,LF.findMetadataPda)(n,{mint:(0,d0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,s_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,LF.findMasterEditionPda)(n,{mint:(0,d0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,d0.getAccountMetasAndSigners)(i,"programId",t),c=fCe().serialize({}),u=0;return(0,Qme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jI.revokeCollectionV1=o_t;var HI={};Object.defineProperty(HI,"__esModule",{value:!0});HI.revokeDataItemV1=HI.getRevokeDataItemV1InstructionDataSerializer=void 0;const eye=Z,h8=q,a_t=on,WF=Ut,f0=Ne,c_t=ut;function hCe(){return(0,h8.mapSerializer)((0,h8.struct)([["discriminator",(0,h8.u8)()],["revokeDataItemV1Discriminator",(0,h8.u8)()]],{description:"RevokeDataItemV1InstructionData"}),n=>({...n,discriminator:45,revokeDataItemV1Discriminator:11}))}HI.getRevokeDataItemV1InstructionDataSerializer=hCe;function u_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,f0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,WF.findMetadataDelegateRecordPda)(n,{delegateRole:c_t.MetadataDelegateRole.DataItem,updateAuthority:(0,f0.expectSome)(s.updateAuthority),mint:(0,f0.expectPublicKey)(r.mint.value),delegate:(0,f0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,WF.findMetadataPda)(n,{mint:(0,f0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,a_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,WF.findMasterEditionPda)(n,{mint:(0,f0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,eye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,f0.getAccountMetasAndSigners)(i,"programId",t),c=hCe().serialize({}),u=0;return(0,eye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}HI.revokeDataItemV1=u_t;var GI={};Object.defineProperty(GI,"__esModule",{value:!0});GI.revokeDataV1=GI.getRevokeDataV1InstructionDataSerializer=void 0;const tye=Z,g8=q,l_t=on,NF=Ut,h0=Ne,d_t=ut;function gCe(){return(0,g8.mapSerializer)((0,g8.struct)([["discriminator",(0,g8.u8)()],["revokeDataV1Discriminator",(0,g8.u8)()]],{description:"RevokeDataV1InstructionData"}),n=>({...n,discriminator:45,revokeDataV1Discriminator:3}))}GI.getRevokeDataV1InstructionDataSerializer=gCe;function f_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,h0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,NF.findMetadataDelegateRecordPda)(n,{delegateRole:d_t.MetadataDelegateRole.Data,updateAuthority:(0,h0.expectSome)(s.updateAuthority),mint:(0,h0.expectPublicKey)(r.mint.value),delegate:(0,h0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,NF.findMetadataPda)(n,{mint:(0,h0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,l_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,NF.findMasterEditionPda)(n,{mint:(0,h0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,tye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,h0.getAccountMetasAndSigners)(i,"programId",t),c=gCe().serialize({}),u=0;return(0,tye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}GI.revokeDataV1=f_t;var YI={};Object.defineProperty(YI,"__esModule",{value:!0});YI.revokeLockedTransferV1=YI.getRevokeLockedTransferV1InstructionDataSerializer=void 0;const h_t=Hs,rye=Z,m8=q,g_t=on,y8=Ut,Kh=Ne,m_t=ut;function mCe(){return(0,m8.mapSerializer)((0,m8.struct)([["discriminator",(0,m8.u8)()],["revokeLockedTransferV1Discriminator",(0,m8.u8)()]],{description:"RevokeLockedTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeLockedTransferV1Discriminator:7}))}YI.getRevokeLockedTransferV1InstructionDataSerializer=mCe;function y_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,h_t.findAssociatedTokenPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value),owner:(0,Kh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,y8.findTokenRecordPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value),token:(0,Kh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,y8.findMetadataPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,g_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,y8.findMasterEditionPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===m_t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,y8.findTokenRecordPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value),token:(0,Kh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,rye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Kh.getAccountMetasAndSigners)(i,"programId",t),c=mCe().serialize({}),u=0;return(0,rye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}YI.revokeLockedTransferV1=y_t;var ZI={};Object.defineProperty(ZI,"__esModule",{value:!0});ZI.revokeMigrationV1=ZI.getRevokeMigrationV1InstructionDataSerializer=void 0;const p_t=Hs,nye=Z,p8=q,b_t=on,b8=Ut,Lh=Ne,S_t=ut;function yCe(){return(0,p8.mapSerializer)((0,p8.struct)([["discriminator",(0,p8.u8)()],["revokeMigrationV1Discriminator",(0,p8.u8)()]],{description:"RevokeMigrationV1InstructionData"}),n=>({...n,discriminator:45,revokeMigrationV1Discriminator:9}))}ZI.getRevokeMigrationV1InstructionDataSerializer=yCe;function k_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,p_t.findAssociatedTokenPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value),owner:(0,Lh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,b8.findTokenRecordPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value),token:(0,Lh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,b8.findMetadataPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,b_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,b8.findMasterEditionPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===S_t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,b8.findTokenRecordPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value),token:(0,Lh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,nye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Lh.getAccountMetasAndSigners)(i,"programId",t),c=yCe().serialize({}),u=0;return(0,nye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ZI.revokeMigrationV1=k_t;var JI={};Object.defineProperty(JI,"__esModule",{value:!0});JI.revokePrintDelegateV1=JI.getRevokePrintDelegateV1InstructionDataSerializer=void 0;const sye=Z,S8=q,v_t=on,iye=Ut,FF=Ne;function pCe(){return(0,S8.mapSerializer)((0,S8.struct)([["discriminator",(0,S8.u8)()],["revokePrintDelegateV1Discriminator",(0,S8.u8)()]],{description:"RevokePrintDelegateV1InstructionData"}),n=>({...n,discriminator:45,revokePrintDelegateV1Discriminator:14}))}JI.getRevokePrintDelegateV1InstructionDataSerializer=pCe;function A_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,iye.findMetadataPda)(n,{mint:(0,FF.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,v_t.resolveIsNonFungible)(n,r,e,t,!1)&&(r.masterEdition.value=(0,iye.findMasterEditionPda)(n,{mint:(0,FF.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,sye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,FF.getAccountMetasAndSigners)(s,"programId",t),a=pCe().serialize({}),c=0;return(0,sye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}JI.revokePrintDelegateV1=A_t;var XI={};Object.defineProperty(XI,"__esModule",{value:!0});XI.revokeProgrammableConfigItemV1=XI.getRevokeProgrammableConfigItemV1InstructionDataSerializer=void 0;const oye=Z,k8=q,w_t=on,UF=Ut,g0=Ne,I_t=ut;function bCe(){return(0,k8.mapSerializer)((0,k8.struct)([["discriminator",(0,k8.u8)()],["revokeProgrammableConfigItemV1Discriminator",(0,k8.u8)()]],{description:"RevokeProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigItemV1Discriminator:13}))}XI.getRevokeProgrammableConfigItemV1InstructionDataSerializer=bCe;function __t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,g0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,UF.findMetadataDelegateRecordPda)(n,{delegateRole:I_t.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,g0.expectSome)(s.updateAuthority),mint:(0,g0.expectPublicKey)(r.mint.value),delegate:(0,g0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,UF.findMetadataPda)(n,{mint:(0,g0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,w_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,UF.findMasterEditionPda)(n,{mint:(0,g0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,oye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,g0.getAccountMetasAndSigners)(i,"programId",t),c=bCe().serialize({}),u=0;return(0,oye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XI.revokeProgrammableConfigItemV1=__t;var QI={};Object.defineProperty(QI,"__esModule",{value:!0});QI.revokeProgrammableConfigV1=QI.getRevokeProgrammableConfigV1InstructionDataSerializer=void 0;const aye=Z,v8=q,P_t=on,VF=Ut,m0=Ne,E_t=ut;function SCe(){return(0,v8.mapSerializer)((0,v8.struct)([["discriminator",(0,v8.u8)()],["revokeProgrammableConfigV1Discriminator",(0,v8.u8)()]],{description:"RevokeProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigV1Discriminator:8}))}QI.getRevokeProgrammableConfigV1InstructionDataSerializer=SCe;function x_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,m0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,VF.findMetadataDelegateRecordPda)(n,{delegateRole:E_t.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,m0.expectSome)(s.updateAuthority),mint:(0,m0.expectPublicKey)(r.mint.value),delegate:(0,m0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,VF.findMetadataPda)(n,{mint:(0,m0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,P_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,VF.findMasterEditionPda)(n,{mint:(0,m0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,aye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m0.getAccountMetasAndSigners)(i,"programId",t),c=SCe().serialize({}),u=0;return(0,aye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}QI.revokeProgrammableConfigV1=x_t;var e_={};Object.defineProperty(e_,"__esModule",{value:!0});e_.revokeSaleV1=e_.getRevokeSaleV1InstructionDataSerializer=void 0;const T_t=Hs,cye=Z,A8=q,R_t=on,w8=Ut,Wh=Ne,C_t=ut;function kCe(){return(0,A8.mapSerializer)((0,A8.struct)([["discriminator",(0,A8.u8)()],["revokeSaleV1Discriminator",(0,A8.u8)()]],{description:"RevokeSaleV1InstructionData"}),n=>({...n,discriminator:45,revokeSaleV1Discriminator:1}))}e_.getRevokeSaleV1InstructionDataSerializer=kCe;function M_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,T_t.findAssociatedTokenPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value),owner:(0,Wh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,w8.findTokenRecordPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value),token:(0,Wh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,w8.findMetadataPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,R_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,w8.findMasterEditionPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===C_t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,w8.findTokenRecordPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value),token:(0,Wh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,cye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Wh.getAccountMetasAndSigners)(i,"programId",t),c=kCe().serialize({}),u=0;return(0,cye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}e_.revokeSaleV1=M_t;var t_={};Object.defineProperty(t_,"__esModule",{value:!0});t_.revokeStakingV1=t_.getRevokeStakingV1InstructionDataSerializer=void 0;const B_t=Hs,uye=Z,I8=q,z_t=on,_8=Ut,Nh=Ne,$_t=ut;function vCe(){return(0,I8.mapSerializer)((0,I8.struct)([["discriminator",(0,I8.u8)()],["revokeStakingV1Discriminator",(0,I8.u8)()]],{description:"RevokeStakingV1InstructionData"}),n=>({...n,discriminator:45,revokeStakingV1Discriminator:5}))}t_.getRevokeStakingV1InstructionDataSerializer=vCe;function D_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,B_t.findAssociatedTokenPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value),owner:(0,Nh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,_8.findTokenRecordPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value),token:(0,Nh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,_8.findMetadataPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,z_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,_8.findMasterEditionPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===$_t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,_8.findTokenRecordPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value),token:(0,Nh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,uye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Nh.getAccountMetasAndSigners)(i,"programId",t),c=vCe().serialize({}),u=0;return(0,uye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}t_.revokeStakingV1=D_t;var r_={};Object.defineProperty(r_,"__esModule",{value:!0});r_.revokeStandardV1=r_.getRevokeStandardV1InstructionDataSerializer=void 0;const O_t=Hs,lye=Z,P8=q,K_t=on,qF=Ut,y0=Ne;function ACe(){return(0,P8.mapSerializer)((0,P8.struct)([["discriminator",(0,P8.u8)()],["revokeStandardV1Discriminator",(0,P8.u8)()]],{description:"RevokeStandardV1InstructionData"}),n=>({...n,discriminator:45,revokeStandardV1Discriminator:6}))}r_.getRevokeStandardV1InstructionDataSerializer=ACe;function L_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,O_t.findAssociatedTokenPda)(n,{mint:(0,y0.expectPublicKey)(r.mint.value),owner:(0,y0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,qF.findTokenRecordPda)(n,{mint:(0,y0.expectPublicKey)(r.mint.value),token:(0,y0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,qF.findMetadataPda)(n,{mint:(0,y0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,K_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,qF.findMasterEditionPda)(n,{mint:(0,y0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,lye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,y0.getAccountMetasAndSigners)(i,"programId",t),c=ACe().serialize({}),u=0;return(0,lye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}r_.revokeStandardV1=L_t;var n_={};Object.defineProperty(n_,"__esModule",{value:!0});n_.revokeTransferV1=n_.getRevokeTransferV1InstructionDataSerializer=void 0;const W_t=Hs,dye=Z,E8=q,N_t=on,x8=Ut,Fh=Ne,F_t=ut;function wCe(){return(0,E8.mapSerializer)((0,E8.struct)([["discriminator",(0,E8.u8)()],["revokeTransferV1Discriminator",(0,E8.u8)()]],{description:"RevokeTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeTransferV1Discriminator:2}))}n_.getRevokeTransferV1InstructionDataSerializer=wCe;function U_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,W_t.findAssociatedTokenPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value),owner:(0,Fh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,x8.findTokenRecordPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value),token:(0,Fh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,x8.findMetadataPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,N_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,x8.findMasterEditionPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===F_t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,x8.findTokenRecordPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value),token:(0,Fh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,dye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fh.getAccountMetasAndSigners)(i,"programId",t),c=wCe().serialize({}),u=0;return(0,dye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}n_.revokeTransferV1=U_t;var s_={};Object.defineProperty(s_,"__esModule",{value:!0});s_.revokeUseAuthority=s_.getRevokeUseAuthorityInstructionDataSerializer=void 0;const V_t=Z,jF=q,q_t=Ut,fye=Ne;function ICe(){return(0,jF.mapSerializer)((0,jF.struct)([["discriminator",(0,jF.u8)()]],{description:"RevokeUseAuthorityInstructionData"}),n=>({...n,discriminator:21}))}s_.getRevokeUseAuthorityInstructionDataSerializer=ICe;function j_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},user:{index:2,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:3,isWritable:!0,value:e.ownerTokenAccount??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}};r.metadata.value||(r.metadata.value=(0,q_t.findMetadataPda)(n,{mint:(0,fye.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fye.getAccountMetasAndSigners)(s,"omitted",t),a=ICe().serialize({}),c=0;return(0,V_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}s_.revokeUseAuthority=j_t;var i_={};Object.defineProperty(i_,"__esModule",{value:!0});i_.revokeUtilityV1=i_.getRevokeUtilityV1InstructionDataSerializer=void 0;const H_t=Hs,hye=Z,T8=q,G_t=on,R8=Ut,Uh=Ne,Y_t=ut;function _Ce(){return(0,T8.mapSerializer)((0,T8.struct)([["discriminator",(0,T8.u8)()],["revokeUtilityV1Discriminator",(0,T8.u8)()]],{description:"RevokeUtilityV1InstructionData"}),n=>({...n,discriminator:45,revokeUtilityV1Discriminator:4}))}i_.getRevokeUtilityV1InstructionDataSerializer=_Ce;function Z_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,H_t.findAssociatedTokenPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value),owner:(0,Uh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,R8.findTokenRecordPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value),token:(0,Uh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,R8.findMetadataPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,G_t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,R8.findMasterEditionPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===Y_t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,R8.findTokenRecordPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value),token:(0,Uh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,hye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Uh.getAccountMetasAndSigners)(i,"programId",t),c=_Ce().serialize({}),u=0;return(0,hye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}i_.revokeUtilityV1=Z_t;var o_={};Object.defineProperty(o_,"__esModule",{value:!0});o_.setAndVerifyCollection=o_.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const J_t=Z,HF=q,X_t=Ne;function PCe(){return(0,HF.mapSerializer)((0,HF.struct)([["discriminator",(0,HF.u8)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:25}))}o_.getSetAndVerifyCollectionInstructionDataSerializer=PCe;function Q_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,X_t.getAccountMetasAndSigners)(s,"omitted",t),a=PCe().serialize({}),c=0;return(0,J_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}o_.setAndVerifyCollection=Q_t;var a_={};Object.defineProperty(a_,"__esModule",{value:!0});a_.setAndVerifySizedCollectionItem=a_.getSetAndVerifySizedCollectionItemInstructionDataSerializer=void 0;const ePt=Z,GF=q,tPt=Ne;function ECe(){return(0,GF.mapSerializer)((0,GF.struct)([["discriminator",(0,GF.u8)()]],{description:"SetAndVerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:32}))}a_.getSetAndVerifySizedCollectionItemInstructionDataSerializer=ECe;function rPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,tPt.getAccountMetasAndSigners)(s,"omitted",t),a=ECe().serialize({}),c=0;return(0,ePt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}a_.setAndVerifySizedCollectionItem=rPt;var c_={};Object.defineProperty(c_,"__esModule",{value:!0});c_.setCollectionSize=c_.getSetCollectionSizeInstructionDataSerializer=void 0;const nPt=Z,YF=q,sPt=Ne,iPt=ut;function xCe(){return(0,YF.mapSerializer)((0,YF.struct)([["discriminator",(0,YF.u8)()],["setCollectionSizeArgs",(0,iPt.getSetCollectionSizeArgsSerializer)()]],{description:"SetCollectionSizeInstructionData"}),n=>({...n,discriminator:34}))}c_.getSetCollectionSizeInstructionDataSerializer=xCe;function oPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionAuthorityRecord:{index:3,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,sPt.getAccountMetasAndSigners)(i,"omitted",t),c=xCe().serialize(s),u=0;return(0,nPt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}c_.setCollectionSize=oPt;var u_={};Object.defineProperty(u_,"__esModule",{value:!0});u_.setTokenStandard=u_.getSetTokenStandardInstructionDataSerializer=void 0;const aPt=Z,ZF=q,cPt=Ut,gye=Ne;function TCe(){return(0,ZF.mapSerializer)((0,ZF.struct)([["discriminator",(0,ZF.u8)()]],{description:"SetTokenStandardInstructionData"}),n=>({...n,discriminator:35}))}u_.getSetTokenStandardInstructionDataSerializer=TCe;function uPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},mint:{index:2,isWritable:!1,value:e.mint??null},edition:{index:3,isWritable:!1,value:e.edition??null}};r.metadata.value||(r.metadata.value=(0,cPt.findMetadataPda)(n,{mint:(0,gye.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,gye.getAccountMetasAndSigners)(s,"omitted",t),a=TCe().serialize({}),c=0;return(0,aPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}u_.setTokenStandard=uPt;var l_={};Object.defineProperty(l_,"__esModule",{value:!0});l_.signMetadata=l_.getSignMetadataInstructionDataSerializer=void 0;const lPt=Z,JF=q,dPt=Ne;function RCe(){return(0,JF.mapSerializer)((0,JF.struct)([["discriminator",(0,JF.u8)()]],{description:"SignMetadataInstructionData"}),n=>({...n,discriminator:7}))}l_.getSignMetadataInstructionDataSerializer=RCe;function fPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,dPt.getAccountMetasAndSigners)(s,"programId",t),a=RCe().serialize({}),c=0;return(0,lPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}l_.signMetadata=fPt;var d_={};Object.defineProperty(d_,"__esModule",{value:!0});d_.thawDelegatedAccount=d_.getThawDelegatedAccountInstructionDataSerializer=void 0;const hPt=Z,XF=q,gPt=Ut,mye=Ne;function CCe(){return(0,XF.mapSerializer)((0,XF.struct)([["discriminator",(0,XF.u8)()]],{description:"ThawDelegatedAccountInstructionData"}),n=>({...n,discriminator:27}))}d_.getThawDelegatedAccountInstructionDataSerializer=CCe;function mPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,gPt.findMasterEditionPda)(n,{mint:(0,mye.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,mye.getAccountMetasAndSigners)(s,"programId",t),a=CCe().serialize({}),c=0;return(0,hPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}d_.thawDelegatedAccount=mPt;var f_={};Object.defineProperty(f_,"__esModule",{value:!0});f_.transferOutOfEscrow=f_.getTransferOutOfEscrowInstructionDataSerializer=void 0;const yye=Z,C8=q,yPt=Ne;function MCe(){return(0,C8.mapSerializer)((0,C8.struct)([["discriminator",(0,C8.u8)()],["amount",(0,C8.u64)()]],{description:"TransferOutOfEscrowInstructionData"}),n=>({...n,discriminator:40,amount:n.amount??1}))}f_.getTransferOutOfEscrowInstructionDataSerializer=MCe;function pPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!1,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},payer:{index:2,isWritable:!0,value:e.payer??null},attributeMint:{index:3,isWritable:!1,value:e.attributeMint??null},attributeSrc:{index:4,isWritable:!0,value:e.attributeSrc??null},attributeDst:{index:5,isWritable:!0,value:e.attributeDst??null},escrowMint:{index:6,isWritable:!1,value:e.escrowMint??null},escrowAccount:{index:7,isWritable:!1,value:e.escrowAccount??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},ataProgram:{index:9,isWritable:!1,value:e.ataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:12,isWritable:!1,value:e.authority??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,yye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,yPt.getAccountMetasAndSigners)(i,"omitted",t),c=MCe().serialize(s),u=0;return(0,yye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}f_.transferOutOfEscrow=pPt;var h_={};Object.defineProperty(h_,"__esModule",{value:!0});h_.transferV1=h_.getTransferV1InstructionDataSerializer=void 0;const pye=Hs,aj=Z,Nk=q,M8=Ut,Fl=Ne,MD=ut;function BCe(){return(0,Nk.mapSerializer)((0,Nk.struct)([["discriminator",(0,Nk.u8)()],["transferV1Discriminator",(0,Nk.u8)()],["amount",(0,Nk.u64)()],["authorizationData",(0,Nk.option)((0,MD.getAuthorizationDataSerializer)())]],{description:"TransferV1InstructionData"}),n=>({...n,discriminator:49,transferV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,aj.none)()}))}h_.getTransferV1InstructionDataSerializer=BCe;function bPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},destinationToken:{index:2,isWritable:!0,value:e.destinationToken??null},destinationOwner:{index:3,isWritable:!1,value:e.destinationOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},edition:{index:6,isWritable:!1,value:e.edition??null},tokenRecord:{index:7,isWritable:!0,value:e.tokenRecord??null},destinationTokenRecord:{index:8,isWritable:!0,value:e.destinationTokenRecord??null},authority:{index:9,isWritable:!1,value:e.authority??null},payer:{index:10,isWritable:!0,value:e.payer??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:14,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:15,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:16,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner.value=n.identity.publicKey),r.token.value||(r.token.value=(0,pye.findAssociatedTokenPda)(n,{mint:(0,Fl.expectPublicKey)(r.mint.value),owner:(0,Fl.expectPublicKey)(r.tokenOwner.value)})),r.destinationToken.value||(r.destinationToken.value=(0,pye.findAssociatedTokenPda)(n,{mint:(0,Fl.expectPublicKey)(r.mint.value),owner:(0,Fl.expectPublicKey)(r.destinationOwner.value)})),r.metadata.value||(r.metadata.value=(0,M8.findMetadataPda)(n,{mint:(0,Fl.expectPublicKey)(r.mint.value)})),r.edition.value||s.tokenStandard===MD.TokenStandard.ProgrammableNonFungible&&(r.edition.value=(0,M8.findMasterEditionPda)(n,{mint:(0,Fl.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===MD.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,M8.findTokenRecordPda)(n,{mint:(0,Fl.expectPublicKey)(r.mint.value),token:(0,Fl.expectPublicKey)(r.token.value)})),r.destinationTokenRecord.value||s.tokenStandard===MD.TokenStandard.ProgrammableNonFungible&&(r.destinationTokenRecord.value=(0,M8.findTokenRecordPda)(n,{token:(0,Fl.expectPublicKey)(r.destinationToken.value),mint:(0,Fl.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,aj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fl.getAccountMetasAndSigners)(i,"programId",t),c=BCe().serialize(s),u=0;return(0,aj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}h_.transferV1=bPt;var g_={};Object.defineProperty(g_,"__esModule",{value:!0});g_.unlockV1=g_.getUnlockV1InstructionDataSerializer=void 0;const SPt=Hs,cj=Z,hC=q,bye=on,QF=Ut,p0=Ne,uj=ut;function zCe(){return(0,hC.mapSerializer)((0,hC.struct)([["discriminator",(0,hC.u8)()],["unlockV1Discriminator",(0,hC.u8)()],["authorizationData",(0,hC.option)((0,uj.getAuthorizationDataSerializer)())]],{description:"UnlockV1InstructionData"}),n=>({...n,discriminator:47,unlockV1Discriminator:0,authorizationData:n.authorizationData??(0,cj.none)()}))}g_.getUnlockV1InstructionDataSerializer=zCe;function kPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,bye.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,SPt.findAssociatedTokenPda)(n,{mint:(0,p0.expectPublicKey)(r.mint.value),owner:(0,p0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,QF.findMetadataPda)(n,{mint:(0,p0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,bye.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,QF.findMasterEditionPda)(n,{mint:(0,p0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===uj.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,QF.findTokenRecordPda)(n,{mint:(0,p0.expectPublicKey)(r.mint.value),token:(0,p0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,cj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==uj.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,p0.getAccountMetasAndSigners)(i,"programId",t),c=zCe().serialize(s),u=0;return(0,cj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}g_.unlockV1=kPt;var m_={};Object.defineProperty(m_,"__esModule",{value:!0});m_.unverifyCollection=m_.getUnverifyCollectionInstructionDataSerializer=void 0;const vPt=Z,eU=q,APt=Ne;function $Ce(){return(0,eU.mapSerializer)((0,eU.struct)([["discriminator",(0,eU.u8)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:22}))}m_.getUnverifyCollectionInstructionDataSerializer=$Ce;function wPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collection:{index:3,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:4,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:5,isWritable:!1,value:e.collectionAuthorityRecord??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,APt.getAccountMetasAndSigners)(s,"omitted",t),a=$Ce().serialize({}),c=0;return(0,vPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}m_.unverifyCollection=wPt;var y_={};Object.defineProperty(y_,"__esModule",{value:!0});y_.unverifyCollectionV1=y_.getUnverifyCollectionV1InstructionDataSerializer=void 0;const Sye=Z,B8=q,IPt=Ut,kye=Ne;function DCe(){return(0,B8.mapSerializer)((0,B8.struct)([["discriminator",(0,B8.u8)()],["unverifyCollectionV1Discriminator",(0,B8.u8)()]],{description:"UnverifyCollectionV1InstructionData"}),n=>({...n,discriminator:53,unverifyCollectionV1Discriminator:1}))}y_.getUnverifyCollectionV1InstructionDataSerializer=DCe;function _Pt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,IPt.findMetadataPda)(n,{mint:(0,kye.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,kye.getAccountMetasAndSigners)(s,"programId",t),a=DCe().serialize({}),c=0;return(0,Sye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}y_.unverifyCollectionV1=_Pt;var p_={};Object.defineProperty(p_,"__esModule",{value:!0});p_.unverifyCreatorV1=p_.getUnverifyCreatorV1InstructionDataSerializer=void 0;const vye=Z,z8=q,PPt=Ne;function OCe(){return(0,z8.mapSerializer)((0,z8.struct)([["discriminator",(0,z8.u8)()],["unverifyCreatorV1Discriminator",(0,z8.u8)()]],{description:"UnverifyCreatorV1InstructionData"}),n=>({...n,discriminator:53,unverifyCreatorV1Discriminator:0}))}p_.getUnverifyCreatorV1InstructionDataSerializer=OCe;function EPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,vye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,PPt.getAccountMetasAndSigners)(s,"programId",t),a=OCe().serialize({}),c=0;return(0,vye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}p_.unverifyCreatorV1=EPt;var b_={};Object.defineProperty(b_,"__esModule",{value:!0});b_.unverifySizedCollectionItem=b_.getUnverifySizedCollectionItemInstructionDataSerializer=void 0;const xPt=Z,tU=q,TPt=Ne;function KCe(){return(0,tU.mapSerializer)((0,tU.struct)([["discriminator",(0,tU.u8)()]],{description:"UnverifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:31}))}b_.getUnverifySizedCollectionItemInstructionDataSerializer=KCe;function RPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,TPt.getAccountMetasAndSigners)(s,"omitted",t),a=KCe().serialize({}),c=0;return(0,xPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}b_.unverifySizedCollectionItem=RPt;var S_={};Object.defineProperty(S_,"__esModule",{value:!0});S_.updateAsAuthorityItemDelegateV2=S_.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=void 0;const u1=Z,il=q,Aye=Ut,gC=Ne,lj=ut;function LCe(){return(0,il.mapSerializer)((0,il.struct)([["discriminator",(0,il.u8)()],["updateAsAuthorityItemDelegateV2Discriminator",(0,il.u8)()],["newUpdateAuthority",(0,il.option)((0,il.publicKey)())],["primarySaleHappened",(0,il.option)((0,il.bool)())],["isMutable",(0,il.option)((0,il.bool)())],["tokenStandard",(0,il.option)((0,lj.getTokenStandardSerializer)())],["authorizationData",(0,il.option)((0,lj.getAuthorizationDataSerializer)())]],{description:"UpdateAsAuthorityItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsAuthorityItemDelegateV2Discriminator:2,newUpdateAuthority:n.newUpdateAuthority??(0,u1.none)(),primarySaleHappened:n.primarySaleHappened??(0,u1.none)(),isMutable:n.isMutable??(0,u1.none)(),tokenStandard:n.tokenStandard??(0,u1.none)(),authorizationData:n.authorizationData??(0,u1.none)()}))}S_.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=LCe;function CPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Aye.findMetadataDelegateRecordPda)(n,{delegateRole:lj.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,gC.expectSome)(s.updateAuthority),delegate:(0,gC.expectPublicKey)(r.authority.value),mint:(0,gC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Aye.findMetadataPda)(n,{mint:(0,gC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,u1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,gC.getAccountMetasAndSigners)(i,"programId",t),c=LCe().serialize(s),u=0;return(0,u1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}S_.updateAsAuthorityItemDelegateV2=CPt;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});k_.updateAsCollectionDelegateV2=k_.getUpdateAsCollectionDelegateV2InstructionDataSerializer=void 0;const dj=Z,mC=q,wye=Ut,Fk=Ne,BD=ut;function WCe(){return(0,mC.mapSerializer)((0,mC.struct)([["discriminator",(0,mC.u8)()],["updateAsCollectionDelegateV2Discriminator",(0,mC.u8)()],["collection",(0,BD.getCollectionToggleSerializer)()],["authorizationData",(0,mC.option)((0,BD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionDelegateV2Discriminator:3,collection:n.collection??(0,BD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,dj.none)()}))}k_.getUpdateAsCollectionDelegateV2InstructionDataSerializer=WCe;function MPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,Fk.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,wye.findMetadataDelegateRecordPda)(n,{mint:(0,Fk.expectSome)(s.delegateMint),delegateRole:BD.MetadataDelegateRole.Collection,updateAuthority:(0,Fk.expectSome)(s.delegateUpdateAuthority),delegate:(0,Fk.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,wye.findMetadataPda)(n,{mint:(0,Fk.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,dj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fk.getAccountMetasAndSigners)(i,"programId",t),c=WCe().serialize(s),u=0;return(0,dj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}k_.updateAsCollectionDelegateV2=MPt;var v_={};Object.defineProperty(v_,"__esModule",{value:!0});v_.updateAsCollectionItemDelegateV2=v_.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=void 0;const fj=Z,yC=q,Iye=Ut,pC=Ne,zD=ut;function NCe(){return(0,yC.mapSerializer)((0,yC.struct)([["discriminator",(0,yC.u8)()],["updateAsCollectionItemDelegateV2Discriminator",(0,yC.u8)()],["collection",(0,zD.getCollectionToggleSerializer)()],["authorizationData",(0,yC.option)((0,zD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionItemDelegateV2Discriminator:7,collection:n.collection??(0,zD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,fj.none)()}))}v_.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=NCe;function BPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Iye.findMetadataDelegateRecordPda)(n,{delegateRole:zD.MetadataDelegateRole.CollectionItem,updateAuthority:(0,pC.expectSome)(s.updateAuthority),delegate:(0,pC.expectPublicKey)(r.authority.value),mint:(0,pC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Iye.findMetadataPda)(n,{mint:(0,pC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,fj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,pC.getAccountMetasAndSigners)(i,"programId",t),c=NCe().serialize(s),u=0;return(0,fj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}v_.updateAsCollectionItemDelegateV2=BPt;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});A_.updateAsDataDelegateV2=A_.getUpdateAsDataDelegateV2InstructionDataSerializer=void 0;const LO=Z,Uk=q,_ye=Ut,Vk=Ne,hj=ut;function FCe(){return(0,Uk.mapSerializer)((0,Uk.struct)([["discriminator",(0,Uk.u8)()],["updateAsDataDelegateV2Discriminator",(0,Uk.u8)()],["data",(0,Uk.option)((0,hj.getDataSerializer)())],["authorizationData",(0,Uk.option)((0,hj.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataDelegateV2Discriminator:4,data:n.data??(0,LO.none)(),authorizationData:n.authorizationData??(0,LO.none)()}))}A_.getUpdateAsDataDelegateV2InstructionDataSerializer=FCe;function zPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,Vk.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,_ye.findMetadataDelegateRecordPda)(n,{mint:(0,Vk.expectSome)(s.delegateMint),delegateRole:hj.MetadataDelegateRole.Data,updateAuthority:(0,Vk.expectSome)(s.delegateUpdateAuthority),delegate:(0,Vk.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,_ye.findMetadataPda)(n,{mint:(0,Vk.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,LO.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Vk.getAccountMetasAndSigners)(i,"programId",t),c=FCe().serialize(s),u=0;return(0,LO.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}A_.updateAsDataDelegateV2=zPt;var w_={};Object.defineProperty(w_,"__esModule",{value:!0});w_.updateAsDataItemDelegateV2=w_.getUpdateAsDataItemDelegateV2InstructionDataSerializer=void 0;const WO=Z,qk=q,Pye=Ut,bC=Ne,gj=ut;function UCe(){return(0,qk.mapSerializer)((0,qk.struct)([["discriminator",(0,qk.u8)()],["updateAsDataItemDelegateV2Discriminator",(0,qk.u8)()],["data",(0,qk.option)((0,gj.getDataSerializer)())],["authorizationData",(0,qk.option)((0,gj.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataItemDelegateV2Discriminator:6,data:n.data??(0,WO.none)(),authorizationData:n.authorizationData??(0,WO.none)()}))}w_.getUpdateAsDataItemDelegateV2InstructionDataSerializer=UCe;function $Pt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Pye.findMetadataDelegateRecordPda)(n,{delegateRole:gj.MetadataDelegateRole.DataItem,updateAuthority:(0,bC.expectSome)(s.updateAuthority),delegate:(0,bC.expectPublicKey)(r.authority.value),mint:(0,bC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Pye.findMetadataPda)(n,{mint:(0,bC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,WO.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,bC.getAccountMetasAndSigners)(i,"programId",t),c=UCe().serialize(s),u=0;return(0,WO.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}w_.updateAsDataItemDelegateV2=$Pt;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});I_.updateAsProgrammableConfigDelegateV2=I_.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=void 0;const mj=Z,SC=q,Eye=Ut,jk=Ne,$D=ut;function VCe(){return(0,SC.mapSerializer)((0,SC.struct)([["discriminator",(0,SC.u8)()],["updateAsProgrammableConfigDelegateV2Discriminator",(0,SC.u8)()],["ruleSet",(0,$D.getRuleSetToggleSerializer)()],["authorizationData",(0,SC.option)((0,$D.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigDelegateV2Discriminator:5,ruleSet:n.ruleSet??(0,$D.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,mj.none)()}))}I_.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=VCe;function DPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,jk.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Eye.findMetadataDelegateRecordPda)(n,{mint:(0,jk.expectSome)(s.delegateMint),delegateRole:$D.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,jk.expectSome)(s.delegateUpdateAuthority),delegate:(0,jk.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,Eye.findMetadataPda)(n,{mint:(0,jk.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,jk.getAccountMetasAndSigners)(i,"programId",t),c=VCe().serialize(s),u=0;return(0,mj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}I_.updateAsProgrammableConfigDelegateV2=DPt;var __={};Object.defineProperty(__,"__esModule",{value:!0});__.updateAsProgrammableConfigItemDelegateV2=__.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=void 0;const yj=Z,kC=q,xye=Ut,vC=Ne,DD=ut;function qCe(){return(0,kC.mapSerializer)((0,kC.struct)([["discriminator",(0,kC.u8)()],["updateAsProgrammableConfigItemDelegateV2Discriminator",(0,kC.u8)()],["ruleSet",(0,DD.getRuleSetToggleSerializer)()],["authorizationData",(0,kC.option)((0,DD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigItemDelegateV2Discriminator:8,ruleSet:n.ruleSet??(0,DD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,yj.none)()}))}__.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=qCe;function OPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,xye.findMetadataDelegateRecordPda)(n,{delegateRole:DD.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,vC.expectSome)(s.updateAuthority),delegate:(0,vC.expectPublicKey)(r.authority.value),mint:(0,vC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,xye.findMetadataPda)(n,{mint:(0,vC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,yj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,vC.getAccountMetasAndSigners)(i,"programId",t),c=qCe().serialize(s),u=0;return(0,yj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}__.updateAsProgrammableConfigItemDelegateV2=OPt;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});P_.updateAsUpdateAuthorityV2=P_.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=void 0;const Sy=Z,Tu=q,KPt=Ut,Tye=Ne,Ul=ut;function jCe(){return(0,Tu.mapSerializer)((0,Tu.struct)([["discriminator",(0,Tu.u8)()],["updateAsUpdateAuthorityV2Discriminator",(0,Tu.u8)()],["newUpdateAuthority",(0,Tu.option)((0,Tu.publicKey)())],["data",(0,Tu.option)((0,Ul.getDataSerializer)())],["primarySaleHappened",(0,Tu.option)((0,Tu.bool)())],["isMutable",(0,Tu.option)((0,Tu.bool)())],["collection",(0,Ul.getCollectionToggleSerializer)()],["collectionDetails",(0,Ul.getCollectionDetailsToggleSerializer)()],["uses",(0,Ul.getUsesToggleSerializer)()],["ruleSet",(0,Ul.getRuleSetToggleSerializer)()],["tokenStandard",(0,Tu.option)((0,Ul.getTokenStandardSerializer)())],["authorizationData",(0,Tu.option)((0,Ul.getAuthorizationDataSerializer)())]],{description:"UpdateAsUpdateAuthorityV2InstructionData"}),n=>({...n,discriminator:50,updateAsUpdateAuthorityV2Discriminator:1,newUpdateAuthority:n.newUpdateAuthority??(0,Sy.none)(),data:n.data??(0,Sy.none)(),primarySaleHappened:n.primarySaleHappened??(0,Sy.none)(),isMutable:n.isMutable??(0,Sy.none)(),collection:n.collection??(0,Ul.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Ul.collectionDetailsToggle)("None"),uses:n.uses??(0,Ul.usesToggle)("None"),ruleSet:n.ruleSet??(0,Ul.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Sy.none)(),authorizationData:n.authorizationData??(0,Sy.none)()}))}P_.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=jCe;function LPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,KPt.findMetadataPda)(n,{mint:(0,Tye.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sy.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Tye.getAccountMetasAndSigners)(i,"programId",t),c=jCe().serialize(s),u=0;return(0,Sy.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}P_.updateAsUpdateAuthorityV2=LPt;var E_={};Object.defineProperty(E_,"__esModule",{value:!0});E_.updateMetadataAccountV2=E_.getUpdateMetadataAccountV2InstructionDataSerializer=void 0;const _2=Z,Ud=q,WPt=Ne,NPt=ut;function HCe(){return(0,Ud.mapSerializer)((0,Ud.struct)([["discriminator",(0,Ud.u8)()],["data",(0,Ud.option)((0,NPt.getDataV2Serializer)())],["newUpdateAuthority",(0,Ud.option)((0,Ud.publicKey)())],["primarySaleHappened",(0,Ud.option)((0,Ud.bool)())],["isMutable",(0,Ud.option)((0,Ud.bool)())]],{description:"UpdateMetadataAccountV2InstructionData"}),n=>({...n,discriminator:15,data:n.data??(0,_2.none)(),newUpdateAuthority:n.newUpdateAuthority??(0,_2.none)(),primarySaleHappened:n.primarySaleHappened??(0,_2.none)(),isMutable:n.isMutable??(0,_2.none)()}))}E_.getUpdateMetadataAccountV2InstructionDataSerializer=HCe;function FPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null}},s={...e};r.updateAuthority.value||(r.updateAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,WPt.getAccountMetasAndSigners)(i,"programId",t),c=HCe().serialize(s),u=0;return(0,_2.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}E_.updateMetadataAccountV2=FPt;var x_={};Object.defineProperty(x_,"__esModule",{value:!0});x_.updatePrimarySaleHappenedViaToken=x_.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=void 0;const UPt=Z,rU=q,VPt=Ne;function GCe(){return(0,rU.mapSerializer)((0,rU.struct)([["discriminator",(0,rU.u8)()]],{description:"UpdatePrimarySaleHappenedViaTokenInstructionData"}),n=>({...n,discriminator:4}))}x_.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=GCe;function qPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!1,value:e.owner??null},token:{index:2,isWritable:!1,value:e.token??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,VPt.getAccountMetasAndSigners)(s,"programId",t),a=GCe().serialize({}),c=0;return(0,UPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}x_.updatePrimarySaleHappenedViaToken=qPt;var T_={};Object.defineProperty(T_,"__esModule",{value:!0});T_.updateV1=T_.getUpdateV1InstructionDataSerializer=void 0;const l1=Z,ol=q,jPt=Ut,Rye=Ne,Vd=ut;function YCe(){return(0,ol.mapSerializer)((0,ol.struct)([["discriminator",(0,ol.u8)()],["updateV1Discriminator",(0,ol.u8)()],["newUpdateAuthority",(0,ol.option)((0,ol.publicKey)())],["data",(0,ol.option)((0,Vd.getDataSerializer)())],["primarySaleHappened",(0,ol.option)((0,ol.bool)())],["isMutable",(0,ol.option)((0,ol.bool)())],["collection",(0,Vd.getCollectionToggleSerializer)()],["collectionDetails",(0,Vd.getCollectionDetailsToggleSerializer)()],["uses",(0,Vd.getUsesToggleSerializer)()],["ruleSet",(0,Vd.getRuleSetToggleSerializer)()],["authorizationData",(0,ol.option)((0,Vd.getAuthorizationDataSerializer)())]],{description:"UpdateV1InstructionData"}),n=>({...n,discriminator:50,updateV1Discriminator:0,newUpdateAuthority:n.newUpdateAuthority??(0,l1.none)(),data:n.data??(0,l1.none)(),primarySaleHappened:n.primarySaleHappened??(0,l1.none)(),isMutable:n.isMutable??(0,l1.none)(),collection:n.collection??(0,Vd.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Vd.collectionDetailsToggle)("None"),uses:n.uses??(0,Vd.usesToggle)("None"),ruleSet:n.ruleSet??(0,Vd.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,l1.none)()}))}T_.getUpdateV1InstructionDataSerializer=YCe;function HPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,jPt.findMetadataPda)(n,{mint:(0,Rye.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,l1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Rye.getAccountMetasAndSigners)(i,"programId",t),c=YCe().serialize(s),u=0;return(0,l1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}T_.updateV1=HPt;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});R_.useV1=R_.getUseV1InstructionDataSerializer=void 0;const pj=Z,AC=q,GPt=Ut,Cye=Ne,YPt=ut;function ZCe(){return(0,AC.mapSerializer)((0,AC.struct)([["discriminator",(0,AC.u8)()],["useV1Discriminator",(0,AC.u8)()],["authorizationData",(0,AC.option)((0,YPt.getAuthorizationDataSerializer)())]],{description:"UseV1InstructionData"}),n=>({...n,discriminator:51,useV1Discriminator:0,authorizationData:n.authorizationData??(0,pj.none)()}))}R_.getUseV1InstructionDataSerializer=ZCe;function ZPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!0,value:e.delegateRecord??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!0,value:e.edition??null},payer:{index:6,isWritable:!1,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:10,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:11,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,GPt.findMetadataPda)(n,{mint:(0,Cye.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,pj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Cye.getAccountMetasAndSigners)(i,"programId",t),c=ZCe().serialize(s),u=0;return(0,pj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}R_.useV1=ZPt;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});C_.utilize=C_.getUtilizeInstructionDataSerializer=void 0;const Mye=Z,$8=q,JPt=Ut,Bye=Ne;function JCe(){return(0,$8.mapSerializer)((0,$8.struct)([["discriminator",(0,$8.u8)()],["numberOfUses",(0,$8.u64)()]],{description:"UtilizeInstructionData"}),n=>({...n,discriminator:19}))}C_.getUtilizeInstructionDataSerializer=JCe;function XPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},mint:{index:2,isWritable:!0,value:e.mint??null},useAuthority:{index:3,isWritable:!0,value:e.useAuthority??null},owner:{index:4,isWritable:!1,value:e.owner??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:6,isWritable:!1,value:e.ataProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null},useAuthorityRecord:{index:9,isWritable:!0,value:e.useAuthorityRecord??null},burner:{index:10,isWritable:!1,value:e.burner??null}},s={...e};r.metadata.value||(r.metadata.value=(0,JPt.findMetadataPda)(n,{mint:(0,Bye.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,Mye.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Bye.getAccountMetasAndSigners)(i,"omitted",t),c=JCe().serialize(s),u=0;return(0,Mye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}C_.utilize=XPt;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});M_.verifyCollection=M_.getVerifyCollectionInstructionDataSerializer=void 0;const QPt=Z,nU=q,eEt=Ne;function XCe(){return(0,nU.mapSerializer)((0,nU.struct)([["discriminator",(0,nU.u8)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:18}))}M_.getVerifyCollectionInstructionDataSerializer=XCe;function tEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,eEt.getAccountMetasAndSigners)(s,"omitted",t),a=XCe().serialize({}),c=0;return(0,QPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}M_.verifyCollection=tEt;var B_={};Object.defineProperty(B_,"__esModule",{value:!0});B_.verifyCollectionV1=B_.getVerifyCollectionV1InstructionDataSerializer=void 0;const zye=Z,D8=q,$ye=Ut,sU=Ne;function QCe(){return(0,D8.mapSerializer)((0,D8.struct)([["discriminator",(0,D8.u8)()],["verifyCollectionV1Discriminator",(0,D8.u8)()]],{description:"VerifyCollectionV1InstructionData"}),n=>({...n,discriminator:52,verifyCollectionV1Discriminator:1}))}B_.getVerifyCollectionV1InstructionDataSerializer=QCe;function rEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,$ye.findMetadataPda)(n,{mint:(0,sU.expectPublicKey)(r.collectionMint.value)})),r.collectionMasterEdition.value||(r.collectionMasterEdition.value=(0,$ye.findMasterEditionPda)(n,{mint:(0,sU.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,zye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,sU.getAccountMetasAndSigners)(s,"programId",t),a=QCe().serialize({}),c=0;return(0,zye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}B_.verifyCollectionV1=rEt;var z_={};Object.defineProperty(z_,"__esModule",{value:!0});z_.verifyCreatorV1=z_.getVerifyCreatorV1InstructionDataSerializer=void 0;const Dye=Z,O8=q,nEt=Ne;function e2e(){return(0,O8.mapSerializer)((0,O8.struct)([["discriminator",(0,O8.u8)()],["verifyCreatorV1Discriminator",(0,O8.u8)()]],{description:"VerifyCreatorV1InstructionData"}),n=>({...n,discriminator:52,verifyCreatorV1Discriminator:0}))}z_.getVerifyCreatorV1InstructionDataSerializer=e2e;function sEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Dye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,nEt.getAccountMetasAndSigners)(s,"programId",t),a=e2e().serialize({}),c=0;return(0,Dye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}z_.verifyCreatorV1=sEt;var $_={};Object.defineProperty($_,"__esModule",{value:!0});$_.verifySizedCollectionItem=$_.getVerifySizedCollectionItemInstructionDataSerializer=void 0;const iEt=Z,iU=q,oEt=Ne;function t2e(){return(0,iU.mapSerializer)((0,iU.struct)([["discriminator",(0,iU.u8)()]],{description:"VerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:30}))}$_.getVerifySizedCollectionItemInstructionDataSerializer=t2e;function aEt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,oEt.getAccountMetasAndSigners)(s,"omitted",t),a=t2e().serialize({}),c=0;return(0,iEt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}$_.verifySizedCollectionItem=aEt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(iI,n),t(oI,n),t(aI,n),t(cI,n),t(uI,n),t(lI,n),t(dI,n),t(fI,n),t(hI,n),t(gI,n),t(mI,n),t(yI,n),t(pI,n),t(bI,n),t(SI,n),t(kI,n),t(vI,n),t(AI,n),t(wI,n),t(II,n),t(_I,n),t(PI,n),t(EI,n),t(xI,n),t(TI,n),t(RI,n),t(CI,n),t(MI,n),t(BI,n),t(zI,n),t($I,n),t(DI,n),t(OI,n),t(KI,n),t(LI,n),t(WI,n),t(NI,n),t(FI,n),t(UI,n),t(VI,n),t(qI,n),t(jI,n),t(HI,n),t(GI,n),t(YI,n),t(ZI,n),t(JI,n),t(XI,n),t(QI,n),t(e_,n),t(t_,n),t(r_,n),t(n_,n),t(s_,n),t(i_,n),t(o_,n),t(a_,n),t(c_,n),t(u_,n),t(l_,n),t(d_,n),t(f_,n),t(h_,n),t(g_,n),t(m_,n),t(y_,n),t(p_,n),t(b_,n),t(S_,n),t(k_,n),t(v_,n),t(A_,n),t(w_,n),t(I_,n),t(__,n),t(P_,n),t(E_,n),t(x_,n),t(T_,n),t(R_,n),t(C_,n),t(M_,n),t(B_,n),t(z_,n),t($_,n)})(dRe);var r2e={},n2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenMetadataProgramId=n.getMplTokenMetadataProgram=n.createMplTokenMetadataProgram=n.MPL_TOKEN_METADATA_PROGRAM_ID=void 0;const e=LQ;n.MPL_TOKEN_METADATA_PROGRAM_ID="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";function t(){return{name:"mplTokenMetadata",publicKey:n.MPL_TOKEN_METADATA_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenMetadataErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenMetadataErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenMetadataProgram=t;function r(i,o){return i.programs.get("mplTokenMetadata",o)}n.getMplTokenMetadataProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenMetadata",n.MPL_TOKEN_METADATA_PROGRAM_ID,o)}n.getMplTokenMetadataProgramId=s})(n2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(n2e,n)})(r2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Ut,n),t(LQ,n),t(dRe,n),t(r2e,n),t(Ne,n),t(ut,n)})(zb);var s2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFungibleAsset=n.createFungible=n.createProgrammableNft=n.createNft=n.createAndMint=void 0;const e=Z,t=zb,r=(c,u)=>(0,e.transactionBuilder)().add((0,t.createV1)(c,u)).add((0,t.mintV1)(c,{...u,mint:(0,e.publicKey)(u.mint)}));n.createAndMint=r;const s=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.NonFungible,amount:1});n.createNft=s;const i=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.ProgrammableNonFungible,amount:1});n.createProgrammableNft=i;const o=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.Fungible});n.createFungible=o;const a=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.FungibleAsset});n.createFungibleAsset=a})(s2e);var vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.deserializeDigitalAssetWithToken=vc.fetchAllDigitalAssetWithTokenByMint=vc.fetchAllDigitalAssetWithTokenByOwnerAndMint=vc.fetchAllDigitalAssetWithTokenByOwner=vc.fetchDigitalAssetWithTokenByMint=vc.fetchDigitalAssetWithAssociatedToken=vc.fetchDigitalAssetWithToken=void 0;const yp=Z,eL=Hs,i2e=Q6,nd=zb;async function o2e(n,e,t,r){const[s,i,o,a,c]=await n.rpc.getAccounts([e,(0,nd.findMetadataPda)(n,{mint:e})[0],(0,nd.findMasterEditionPda)(n,{mint:e})[0],t,(0,nd.findTokenRecordPda)(n,{mint:e,token:t})[0]],r);return(0,yp.assertAccountExists)(s,"Mint"),(0,yp.assertAccountExists)(i,"Metadata"),(0,yp.assertAccountExists)(a,"Token"),wne(s,i,a,o.exists?o:void 0,c.exists?c:void 0)}vc.fetchDigitalAssetWithToken=o2e;async function cEt(n,e,t,r){const[s]=(0,eL.findAssociatedTokenPda)(n,{mint:e,owner:t});return o2e(n,e,s,r)}vc.fetchDigitalAssetWithAssociatedToken=cEt;async function uEt(n,e,t){const r=await c2e(n,e,t);if(r.length===0)throw new Error("No valid token accounts found for the provided mint");if(r.length>1)throw new Error("Multiple valid token accounts found for the provided mintuse `fetchAllDigitalAssetWithTokenByMint` instead to retrieve them all.");return r[0]}vc.fetchDigitalAssetWithTokenByMint=uEt;async function a2e(n,e,t){const r=await(0,eL.fetchAllTokenByOwner)(n,e,t),s=r.flatMap(o=>[o.mint,(0,nd.findMetadataPda)(n,{mint:o.mint})[0],(0,nd.findMasterEditionPda)(n,{mint:o.mint})[0],(0,nd.findTokenRecordPda)(n,{mint:o.mint,token:o.publicKey})[0]]),i=await n.rpc.getAccounts(s,t);return(0,yp.zipMap)(r,(0,yp.chunk)(i,4),(o,a)=>{if(!a||a.length!==4)return[];const[c,u,l,d]=a;if(!c.exists||!u.exists)return[];try{return[{...(0,i2e.deserializeDigitalAsset)(c,u,l.exists?l:void 0),token:o,tokenRecord:d.exists?(0,nd.deserializeTokenRecord)(d):void 0}]}catch{return[]}}).flat()}vc.fetchAllDigitalAssetWithTokenByOwner=a2e;function lEt(n,e,t,r){return a2e(n,e,{...r,mint:t})}vc.fetchAllDigitalAssetWithTokenByOwnerAndMint=lEt;async function c2e(n,e,t){const s=(await(0,eL.findLargestTokensByMint)(n,e,t)).filter(d=>d.amount.basisPoints>0).map(d=>d.publicKey),i=[e,(0,nd.findMetadataPda)(n,{mint:e})[0],(0,nd.findMasterEditionPda)(n,{mint:e})[0]];i.push(...s.flatMap(d=>[d,(0,nd.findTokenRecordPda)(n,{mint:e,token:d})[0]]));const o=await n.rpc.getAccounts(i,t),[a,c,u,...l]=o;return(0,yp.assertAccountExists)(a,"Mint"),(0,yp.assertAccountExists)(c,"Metadata"),(0,yp.chunk)(l,2).flatMap(([d,y])=>d.exists?[wne(a,c,d,u.exists?u:void 0,y.exists?y:void 0)]:[])}vc.fetchAllDigitalAssetWithTokenByMint=c2e;function wne(n,e,t,r,s){return{...(0,i2e.deserializeDigitalAsset)(n,e,r),token:(0,eL.deserializeToken)(t),tokenRecord:s?(0,nd.deserializeTokenRecord)(s):void 0}}vc.deserializeDigitalAssetWithToken=wne;var tL={};Object.defineProperty(tL,"__esModule",{value:!0});tL.fetchJsonMetadata=void 0;const dEt=$b,fEt=async(n,e)=>{try{return await n.downloader.downloadJson(e)}catch(t){throw new dEt.TokenMetadataError(`Failed to fetch JSON metadata from ${e}`,t)}};tL.fetchJsonMetadata=fEt;var rL={};Object.defineProperty(rL,"__esModule",{value:!0});rL.mplTokenMetadata=void 0;const hEt=Hs,gEt=zb,mEt=()=>({install(n){n.use((0,hEt.mplToolbox)()),n.programs.add((0,gEt.createMplTokenMetadataProgram)(),!1)}});rL.mplTokenMetadata=mEt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(zb,n),t(on,n),t(s2e,n),t(Q6,n),t(vc,n),t($b,n),t(tL,n),t(rL,n)})(pk);Object.defineProperty(gw,"__esModule",{value:!0});gw.decompressV1=gw.getDecompressV1InstructionDataSerializer=void 0;const Oye=pk,yEt=N0e,Kye=Z,K8=q,pEt=yh,Hk=fs,bEt=oa;function u2e(){return(0,K8.mapSerializer)((0,K8.struct)([["discriminator",(0,K8.array)((0,K8.u8)(),{size:8})],["metadata",(0,bEt.getMetadataArgsSerializer)()]],{description:"DecompressV1InstructionData"}),n=>({...n,discriminator:[54,85,76,70,228,250,164,81]}))}gw.getDecompressV1InstructionDataSerializer=u2e;function SEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={voucher:{index:0,isWritable:!0,value:e.voucher??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},tokenAccount:{index:2,isWritable:!0,value:e.tokenAccount??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!0,value:e.mintAuthority??null},metadataAccount:{index:5,isWritable:!0,value:e.metadataAccount??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarRent:{index:8,isWritable:!1,value:e.sysvarRent??null},tokenMetadataProgram:{index:9,isWritable:!1,value:e.tokenMetadataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},associatedTokenProgram:{index:11,isWritable:!1,value:e.associatedTokenProgram??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null}},s={...e};r.tokenAccount.value||(r.tokenAccount.value=(0,yEt.findAssociatedTokenPda)(n,{mint:(0,Hk.expectPublicKey)(r.mint.value),owner:(0,Hk.expectPublicKey)(r.leafOwner.value)})),r.mintAuthority.value||(r.mintAuthority.value=(0,pEt.findMintAuthorityPda)(n,{mint:(0,Hk.expectPublicKey)(r.mint.value)})),r.metadataAccount.value||(r.metadataAccount.value=(0,Oye.findMetadataPda)(n,{mint:(0,Hk.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,Oye.findMasterEditionPda)(n,{mint:(0,Hk.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarRent.value||(r.sysvarRent.value=(0,Kye.publicKey)("SysvarRent111111111111111111111111111111111")),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r.tokenMetadataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.associatedTokenProgram.value||(r.associatedTokenProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.associatedTokenProgram.isWritable=!1),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Hk.getAccountMetasAndSigners)(i,"programId",t),c=u2e().serialize(s),u=0;return(0,Kye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gw.decompressV1=SEt;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});D_.delegate=D_.getDelegateInstructionDataSerializer=void 0;const kEt=Z,Vh=q,vEt=uc,Lye=fs;function l2e(){return(0,Vh.mapSerializer)((0,Vh.struct)([["discriminator",(0,Vh.array)((0,Vh.u8)(),{size:8})],["root",(0,Vh.bytes)({size:32})],["dataHash",(0,Vh.bytes)({size:32})],["creatorHash",(0,Vh.bytes)({size:32})],["nonce",(0,Vh.u64)()],["index",(0,Vh.u32)()]],{description:"DelegateInstructionData"}),n=>({...n,discriminator:[90,147,75,178,85,88,4,137]}))}D_.getDelegateInstructionDataSerializer=l2e;function AEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},previousLeafDelegate:{index:2,isWritable:!1,value:e.previousLeafDelegate??null},newLeafDelegate:{index:3,isWritable:!1,value:e.newLeafDelegate??null},merkleTree:{index:4,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,vEt.findTreeConfigPda)(n,{merkleTree:(0,Lye.expectPublicKey)(r.merkleTree.value)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,Lye.getAccountMetasAndSigners)(i,"programId",t),u=l2e().serialize(s),l=0;return(0,kEt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}D_.delegate=AEt;var O_={};Object.defineProperty(O_,"__esModule",{value:!0});O_.mintToCollectionV1=O_.getMintToCollectionV1InstructionDataSerializer=void 0;const Wye=pk,oU=Z,L8=q,wEt=uc,wC=fs,IEt=oa;function d2e(){return(0,L8.mapSerializer)((0,L8.struct)([["discriminator",(0,L8.array)((0,L8.u8)(),{size:8})],["metadata",(0,IEt.getMetadataArgsSerializer)()]],{description:"MintToCollectionV1InstructionData"}),n=>({...n,discriminator:[153,18,178,47,197,158,86,15]}))}O_.getMintToCollectionV1InstructionDataSerializer=d2e;function _Et(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,wEt.findTreeConfigPda)(n,{merkleTree:(0,wC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,wC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,Wye.findMetadataPda)(n,{mint:(0,wC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,Wye.findMasterEditionPda)(n,{mint:(0,wC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,oU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,oU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,wC.getAccountMetasAndSigners)(i,"programId",t),c=d2e().serialize(s),u=0;return(0,oU.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}O_.mintToCollectionV1=_Et;var K_={};Object.defineProperty(K_,"__esModule",{value:!0});K_.mintV1=K_.getMintV1InstructionDataSerializer=void 0;const PEt=Z,W8=q,EEt=uc,aU=fs,xEt=oa;function f2e(){return(0,W8.mapSerializer)((0,W8.struct)([["discriminator",(0,W8.array)((0,W8.u8)(),{size:8})],["metadata",(0,xEt.getMetadataArgsSerializer)()]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:[145,98,192,118,184,147,118,104]}))}K_.getMintV1InstructionDataSerializer=f2e;function TEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,EEt.findTreeConfigPda)(n,{merkleTree:(0,aU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,aU.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,aU.getAccountMetasAndSigners)(i,"programId",t),c=f2e().serialize(s),u=0;return(0,PEt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}K_.mintV1=TEt;var L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.redeem=L_.getRedeemInstructionDataSerializer=void 0;const REt=Z,qh=q,Nye=uc,IC=fs;function h2e(){return(0,qh.mapSerializer)((0,qh.struct)([["discriminator",(0,qh.array)((0,qh.u8)(),{size:8})],["root",(0,qh.bytes)({size:32})],["dataHash",(0,qh.bytes)({size:32})],["creatorHash",(0,qh.bytes)({size:32})],["nonce",(0,qh.u64)()],["index",(0,qh.u32)()]],{description:"RedeemInstructionData"}),n=>({...n,discriminator:[184,12,86,149,70,196,97,225]}))}L_.getRedeemInstructionDataSerializer=h2e;function CEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},voucher:{index:4,isWritable:!0,value:e.voucher??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,Nye.findTreeConfigPda)(n,{merkleTree:(0,IC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,IC.expectSome)(r.leafOwner.value)),r.voucher.value||(r.voucher.value=(0,Nye.findVoucherPda)(n,{merkleTree:(0,IC.expectPublicKey)(r.merkleTree.value),nonce:(0,IC.expectSome)(s.nonce)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,IC.getAccountMetasAndSigners)(i,"programId",t),u=h2e().serialize(s),l=0;return(0,REt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}L_.redeem=CEt;var W_={};Object.defineProperty(W_,"__esModule",{value:!0});W_.setAndVerifyCollection=W_.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const Fye=pk,cU=Z,qd=q,Uye=yh,MEt=uc,Gk=fs,BEt=oa;function g2e(){return(0,qd.mapSerializer)((0,qd.struct)([["discriminator",(0,qd.array)((0,qd.u8)(),{size:8})],["root",(0,qd.bytes)({size:32})],["dataHash",(0,qd.bytes)({size:32})],["creatorHash",(0,qd.bytes)({size:32})],["nonce",(0,qd.u64)()],["index",(0,qd.u32)()],["metadata",(0,BEt.getMetadataArgsSerializer)()],["collection",(0,qd.publicKey)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:[235,242,121,216,158,234,180,234]}))}W_.getSetAndVerifyCollectionInstructionDataSerializer=g2e;function zEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,MEt.findTreeConfigPda)(n,{merkleTree:(0,Gk.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,Gk.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,Fye.findMetadataPda)(n,{mint:(0,Gk.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,Fye.findMasterEditionPda)(n,{mint:(0,Gk.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,cU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,cU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,Uye.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,Uye.resolveCreatorHash)(n,r,s,t,!1)),s.collection||(s.collection=(0,Gk.expectPublicKey)(r.collectionMint.value)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,Gk.getAccountMetasAndSigners)(i,"programId",t),u=g2e().serialize(s),l=0;return(0,cU.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}W_.setAndVerifyCollection=zEt;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});N_.setDecompressibleState=N_.getSetDecompressibleStateInstructionDataSerializer=void 0;const $Et=Z,N8=q,DEt=fs,OEt=oa;function m2e(){return(0,N8.mapSerializer)((0,N8.struct)([["discriminator",(0,N8.array)((0,N8.u8)(),{size:8})],["decompressableState",(0,OEt.getDecompressibleStateSerializer)()]],{description:"SetDecompressibleStateInstructionData"}),n=>({...n,discriminator:[82,104,152,6,149,111,100,13]}))}N_.getSetDecompressibleStateInstructionDataSerializer=m2e;function KEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},treeCreator:{index:1,isWritable:!1,value:e.treeCreator??null}},s={...e};r.treeCreator.value||(r.treeCreator.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,DEt.getAccountMetasAndSigners)(i,"programId",t),c=m2e().serialize(s),u=0;return(0,$Et.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}N_.setDecompressibleState=KEt;var F_={};Object.defineProperty(F_,"__esModule",{value:!0});F_.setTreeDelegate=F_.getSetTreeDelegateInstructionDataSerializer=void 0;const LEt=Z,F8=q,WEt=uc,Vye=fs;function y2e(){return(0,F8.mapSerializer)((0,F8.struct)([["discriminator",(0,F8.array)((0,F8.u8)(),{size:8})]],{description:"SetTreeDelegateInstructionData"}),n=>({...n,discriminator:[253,118,66,37,190,49,154,102]}))}F_.getSetTreeDelegateInstructionDataSerializer=y2e;function NEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},treeCreator:{index:1,isWritable:!1,value:e.treeCreator??null},newTreeDelegate:{index:2,isWritable:!1,value:e.newTreeDelegate??null},merkleTree:{index:3,isWritable:!1,value:e.merkleTree??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null}};r.treeConfig.value||(r.treeConfig.value=(0,WEt.findTreeConfigPda)(n,{merkleTree:(0,Vye.expectPublicKey)(r.merkleTree.value)})),r.treeCreator.value||(r.treeCreator.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Vye.getAccountMetasAndSigners)(s,"programId",t),a=y2e().serialize({}),c=0;return(0,LEt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}F_.setTreeDelegate=NEt;var U_={};Object.defineProperty(U_,"__esModule",{value:!0});U_.transfer=U_.getTransferInstructionDataSerializer=void 0;const FEt=Z,jh=q,UEt=uc,uU=fs;function p2e(){return(0,jh.mapSerializer)((0,jh.struct)([["discriminator",(0,jh.array)((0,jh.u8)(),{size:8})],["root",(0,jh.bytes)({size:32})],["dataHash",(0,jh.bytes)({size:32})],["creatorHash",(0,jh.bytes)({size:32})],["nonce",(0,jh.u64)()],["index",(0,jh.u32)()]],{description:"TransferInstructionData"}),n=>({...n,discriminator:[163,52,200,231,140,3,69,186]}))}U_.getTransferInstructionDataSerializer=p2e;function VEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},newLeafOwner:{index:3,isWritable:!1,value:e.newLeafOwner??null},merkleTree:{index:4,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,UEt.findTreeConfigPda)(n,{merkleTree:(0,uU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,uU.expectSome)(r.leafOwner.value)),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,uU.getAccountMetasAndSigners)(i,"programId",t),u=p2e().serialize(s),l=0;return(0,FEt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}U_.transfer=VEt;var V_={};Object.defineProperty(V_,"__esModule",{value:!0});V_.unverifyCollection=V_.getUnverifyCollectionInstructionDataSerializer=void 0;const qye=pk,lU=Z,Hh=q,jye=yh,qEt=uc,_C=fs,jEt=oa;function b2e(){return(0,Hh.mapSerializer)((0,Hh.struct)([["discriminator",(0,Hh.array)((0,Hh.u8)(),{size:8})],["root",(0,Hh.bytes)({size:32})],["dataHash",(0,Hh.bytes)({size:32})],["creatorHash",(0,Hh.bytes)({size:32})],["nonce",(0,Hh.u64)()],["index",(0,Hh.u32)()],["metadata",(0,jEt.getMetadataArgsSerializer)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:[250,251,42,106,41,137,186,168]}))}V_.getUnverifyCollectionInstructionDataSerializer=b2e;function HEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,qEt.findTreeConfigPda)(n,{merkleTree:(0,_C.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,_C.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity.publicKey),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,qye.findMetadataPda)(n,{mint:(0,_C.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,qye.findMasterEditionPda)(n,{mint:(0,_C.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,lU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,lU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,jye.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,jye.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,_C.getAccountMetasAndSigners)(i,"programId",t),u=b2e().serialize(s),l=0;return(0,lU.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}V_.unverifyCollection=HEt;var q_={};Object.defineProperty(q_,"__esModule",{value:!0});q_.unverifyCreator=q_.getUnverifyCreatorInstructionDataSerializer=void 0;const GEt=Z,Gh=q,Hye=yh,YEt=uc,dU=fs,ZEt=oa;function S2e(){return(0,Gh.mapSerializer)((0,Gh.struct)([["discriminator",(0,Gh.array)((0,Gh.u8)(),{size:8})],["root",(0,Gh.bytes)({size:32})],["dataHash",(0,Gh.bytes)({size:32})],["creatorHash",(0,Gh.bytes)({size:32})],["nonce",(0,Gh.u64)()],["index",(0,Gh.u32)()],["metadata",(0,ZEt.getMetadataArgsSerializer)()]],{description:"UnverifyCreatorInstructionData"}),n=>({...n,discriminator:[107,178,57,39,105,115,112,152]}))}q_.getUnverifyCreatorInstructionDataSerializer=S2e;function JEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},creator:{index:5,isWritable:!1,value:e.creator??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,YEt.findTreeConfigPda)(n,{merkleTree:(0,dU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,dU.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,Hye.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,Hye.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,dU.getAccountMetasAndSigners)(i,"programId",t),u=S2e().serialize(s),l=0;return(0,GEt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}q_.unverifyCreator=JEt;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});j_.updateMetadata=j_.getUpdateMetadataInstructionDataSerializer=void 0;const XEt=pk,Gye=Z,b0=q,QEt=uc,U8=fs,Yye=oa;function k2e(){return(0,b0.mapSerializer)((0,b0.struct)([["discriminator",(0,b0.array)((0,b0.u8)(),{size:8})],["root",(0,b0.bytes)({size:32})],["nonce",(0,b0.u64)()],["index",(0,b0.u32)()],["currentMetadata",(0,Yye.getMetadataArgsSerializer)()],["updateArgs",(0,Yye.getUpdateArgsSerializer)()]],{description:"UpdateMetadataInstructionData"}),n=>({...n,discriminator:[170,182,43,239,97,78,225,186]}))}j_.getUpdateMetadataInstructionDataSerializer=k2e;function ext(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},authority:{index:1,isWritable:!1,value:e.authority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:3,isWritable:!1,value:e.collectionMetadata??null},collectionAuthorityRecordPda:{index:4,isWritable:!1,value:e.collectionAuthorityRecordPda??null},leafOwner:{index:5,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:6,isWritable:!1,value:e.leafDelegate??null},payer:{index:7,isWritable:!1,value:e.payer??null},merkleTree:{index:8,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:9,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:10,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:11,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,QEt.findTreeConfigPda)(n,{merkleTree:(0,U8.expectPublicKey)(r.merkleTree.value)})),r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||r.collectionMint.value&&(r.collectionMetadata.value=(0,XEt.findMetadataPda)(n,{mint:(0,U8.expectPublicKey)(r.collectionMint.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,U8.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,Gye.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,U8.getAccountMetasAndSigners)(i,"programId",t),u=k2e().serialize(s),l=0;return(0,Gye.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}j_.updateMetadata=ext;var H_={};Object.defineProperty(H_,"__esModule",{value:!0});H_.verifyCollection=H_.getVerifyCollectionInstructionDataSerializer=void 0;const Zye=pk,fU=Z,Yh=q,Jye=yh,txt=uc,PC=fs,rxt=oa;function v2e(){return(0,Yh.mapSerializer)((0,Yh.struct)([["discriminator",(0,Yh.array)((0,Yh.u8)(),{size:8})],["root",(0,Yh.bytes)({size:32})],["dataHash",(0,Yh.bytes)({size:32})],["creatorHash",(0,Yh.bytes)({size:32})],["nonce",(0,Yh.u64)()],["index",(0,Yh.u32)()],["metadata",(0,rxt.getMetadataArgsSerializer)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:[56,113,101,253,79,55,122,169]}))}H_.getVerifyCollectionInstructionDataSerializer=v2e;function nxt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,txt.findTreeConfigPda)(n,{merkleTree:(0,PC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,PC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity.publicKey),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,Zye.findMetadataPda)(n,{mint:(0,PC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,Zye.findMasterEditionPda)(n,{mint:(0,PC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,fU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,fU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,Jye.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,Jye.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,PC.getAccountMetasAndSigners)(i,"programId",t),u=v2e().serialize(s),l=0;return(0,fU.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}H_.verifyCollection=nxt;var G_={};Object.defineProperty(G_,"__esModule",{value:!0});G_.verifyCreator=G_.getVerifyCreatorInstructionDataSerializer=void 0;const sxt=Z,Zh=q,Xye=yh,ixt=uc,hU=fs,oxt=oa;function A2e(){return(0,Zh.mapSerializer)((0,Zh.struct)([["discriminator",(0,Zh.array)((0,Zh.u8)(),{size:8})],["root",(0,Zh.bytes)({size:32})],["dataHash",(0,Zh.bytes)({size:32})],["creatorHash",(0,Zh.bytes)({size:32})],["nonce",(0,Zh.u64)()],["index",(0,Zh.u32)()],["metadata",(0,oxt.getMetadataArgsSerializer)()]],{description:"VerifyCreatorInstructionData"}),n=>({...n,discriminator:[52,17,96,132,71,4,85,194]}))}G_.getVerifyCreatorInstructionDataSerializer=A2e;function axt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},creator:{index:5,isWritable:!1,value:e.creator??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,ixt.findTreeConfigPda)(n,{merkleTree:(0,hU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,hU.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,Xye.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,Xye.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,hU.getAccountMetasAndSigners)(i,"programId",t),u=A2e().serialize(s),l=0;return(0,sxt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}G_.verifyCreator=axt;var Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.verifyLeaf=Y_.getVerifyLeafInstructionDataSerializer=void 0;const cxt=Z,S0=q,uxt=fs;function w2e(){return(0,S0.mapSerializer)((0,S0.struct)([["discriminator",(0,S0.array)((0,S0.u8)(),{size:8})],["root",(0,S0.bytes)({size:32})],["leaf",(0,S0.bytes)({size:32})],["index",(0,S0.u32)()]],{description:"VerifyLeafInstructionData"}),n=>({...n,discriminator:[124,220,22,223,104,10,250,224]}))}Y_.getVerifyLeafInstructionDataSerializer=w2e;function lxt(n,e){const t=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r={merkleTree:{index:0,isWritable:!1,value:e.merkleTree??null}},s={...e};s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,uxt.getAccountMetasAndSigners)(i,"programId",t),u=w2e().serialize(s),l=0;return(0,cxt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}Y_.verifyLeaf=lxt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(dw,n),t(fw,n),t(hw,n),t(gw,n),t(D_,n),t(O_,n),t(K_,n),t(L_,n),t(W_,n),t(N_,n),t(F_,n),t(U_,n),t(V_,n),t(q_,n),t(j_,n),t(H_,n),t(G_,n),t(Y_,n)})(ixe);var I2e={},_2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplBubblegumProgramId=n.getMplBubblegumProgram=n.createMplBubblegumProgram=n.MPL_BUBBLEGUM_PROGRAM_ID=void 0;const e=Pz;n.MPL_BUBBLEGUM_PROGRAM_ID="BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY";function t(){return{name:"mplBubblegum",publicKey:n.MPL_BUBBLEGUM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplBubblegumErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplBubblegumErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplBubblegumProgram=t;function r(i,o){return i.programs.get("mplBubblegum",o)}n.getMplBubblegumProgram=r;function s(i,o){return i.programs.getPublicKey("mplBubblegum",n.MPL_BUBBLEGUM_PROGRAM_ID,o)}n.getMplBubblegumProgramId=s})(_2e);var P2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAccountCompressionProgramId=n.getSplAccountCompressionProgram=n.createSplAccountCompressionProgram=n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID=void 0;const e=Pz;n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID="cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK";function t(){return{name:"splAccountCompression",publicKey:n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAccountCompressionErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAccountCompressionErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAccountCompressionProgram=t;function r(i,o){return i.programs.get("splAccountCompression",o)}n.getSplAccountCompressionProgram=r;function s(i,o){return i.programs.getPublicKey("splAccountCompression",n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,o)}n.getSplAccountCompressionProgramId=s})(P2e);var E2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplNoopProgramId=n.getSplNoopProgram=n.createSplNoopProgram=n.SPL_NOOP_PROGRAM_ID=void 0;const e=Pz;n.SPL_NOOP_PROGRAM_ID="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV";function t(){return{name:"splNoop",publicKey:n.SPL_NOOP_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplNoopErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplNoopErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplNoopProgram=t;function r(i,o){return i.programs.get("splNoop",o)}n.getSplNoopProgram=r;function s(i,o){return i.programs.getPublicKey("splNoop",n.SPL_NOOP_PROGRAM_ID,o)}n.getSplNoopProgramId=s})(E2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(_2e,n),t(P2e,n),t(E2e,n)})(I2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(uc,n),t(Pz,n),t(ixe,n),t(I2e,n),t(fs,n),t(oa,n)})(am);Object.defineProperty(y6,"__esModule",{value:!0});y6.createTree=void 0;const dxt=N0e,fxt=Z,Qye=am,hxt=yh,gxt=async(n,e)=>{const t=e.merkleTreeSize??(0,hxt.getMerkleTreeSize)(e.maxDepth,e.maxBufferSize,e.canopyDepth),r=await n.rpc.getRent(t);return(0,fxt.transactionBuilder)().add((0,dxt.createAccount)(n,{payer:e.payer??n.payer,newAccount:e.merkleTree,lamports:r,space:t,programId:n.programs.getPublicKey("splAccountCompression",Qye.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID)})).add((0,Qye.createTreeConfig)(n,{...e,merkleTree:e.merkleTree.publicKey}))};y6.createTree=gxt;var nL={};Object.defineProperty(nL,"__esModule",{value:!0});nL.ReadApiError=void 0;class mxt extends Error{constructor(){super(...arguments),this.name="ReadApiError"}}nL.ReadApiError=mxt;var sL={};Object.defineProperty(sL,"__esModule",{value:!0});sL.getAssetWithProof=void 0;const Jh=Z,gU=am,yxt=async(n,e,t)=>{var c,u,l,d,y,h,m,f,g;const[r,s]=await Promise.all([n.rpc.getAsset(e),n.rpc.getAssetProof(e)]);let{proof:i}=s;if(t!=null&&t.truncateCanopy){const b=await(0,gU.fetchMerkleTree)(n,s.tree_id),S=Math.log2(b.canopy.length+2)-1;i=s.proof.slice(0,S===0?void 0:-S)}const o=(c=(r.grouping??[]).find(b=>b.group_key==="collection"))==null?void 0:c.group_value,a={name:((l=(u=r.content)==null?void 0:u.metadata)==null?void 0:l.name)??"",symbol:((y=(d=r.content)==null?void 0:d.metadata)==null?void 0:y.symbol)??"",uri:(h=r.content)==null?void 0:h.json_uri,sellerFeeBasisPoints:(m=r.royalty)==null?void 0:m.basis_points,primarySaleHappened:(f=r.royalty)==null?void 0:f.primary_sale_happened,isMutable:r.mutable,editionNonce:(0,Jh.wrapNullable)((g=r.supply)==null?void 0:g.edition_nonce),tokenStandard:(0,Jh.some)(gU.TokenStandard.NonFungible),collection:o?(0,Jh.some)({key:(0,Jh.publicKey)(o),verified:!0}):(0,Jh.none)(),uses:(0,Jh.none)(),tokenProgramVersion:gU.TokenProgramVersion.Original,creators:r.creators};return{leafOwner:r.ownership.owner,leafDelegate:r.ownership.delegate?r.ownership.delegate:r.ownership.owner,merkleTree:s.tree_id,root:(0,Jh.publicKeyBytes)(s.root),dataHash:(0,Jh.publicKeyBytes)(r.compression.data_hash),creatorHash:(0,Jh.publicKeyBytes)(r.compression.creator_hash),nonce:r.compression.leaf_id,index:s.node_index-2**s.proof.length,proof:i,metadata:a,rpcAsset:r,rpcAssetProof:s}};sL.getAssetWithProof=yxt;var x2e={},T2e={},Tz={},pxt=function(e){for(var t=new Ve.Buffer(e.length),r=0,s=e.length-1;r<=s;++r,--s)t[r]=e[s],t[s]=e[r];return t},LT={exports:{}},Pn={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(K,function(){var t=t||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof K<"u"&&K.crypto&&(i=K.crypto),!i&&typeof HDe=="function")try{i=require("crypto")}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function S(){}return function(p){var I;return S.prototype=p,I=new S,S.prototype=null,I}}(),c={},u=c.lib={},l=u.Base=function(){return{extend:function(S){var p=a(this);return S&&p.mixIn(S),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var p in S)S.hasOwnProperty(p)&&(this[p]=S[p]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=l.extend({init:function(S,p){S=this.words=S||[],p!=s?this.sigBytes=p:this.sigBytes=S.length*4},toString:function(S){return(S||h).stringify(this)},concat:function(S){var p=this.words,I=S.words,A=this.sigBytes,w=S.sigBytes;if(this.clamp(),A%4)for(var _=0;_<w;_++){var P=I[_>>>2]>>>24-_%4*8&255;p[A+_>>>2]|=P<<24-(A+_)%4*8}else for(var M=0;M<w;M+=4)p[A+M>>>2]=I[M>>>2];return this.sigBytes+=w,this},clamp:function(){var S=this.words,p=this.sigBytes;S[p>>>2]&=4294967295<<32-p%4*8,S.length=r.ceil(p/4)},clone:function(){var S=l.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var p=[],I=0;I<S;I+=4)p.push(o());return new d.init(p,S)}}),y=c.enc={},h=y.Hex={stringify:function(S){for(var p=S.words,I=S.sigBytes,A=[],w=0;w<I;w++){var _=p[w>>>2]>>>24-w%4*8&255;A.push((_>>>4).toString(16)),A.push((_&15).toString(16))}return A.join("")},parse:function(S){for(var p=S.length,I=[],A=0;A<p;A+=2)I[A>>>3]|=parseInt(S.substr(A,2),16)<<24-A%8*4;return new d.init(I,p/2)}},m=y.Latin1={stringify:function(S){for(var p=S.words,I=S.sigBytes,A=[],w=0;w<I;w++){var _=p[w>>>2]>>>24-w%4*8&255;A.push(String.fromCharCode(_))}return A.join("")},parse:function(S){for(var p=S.length,I=[],A=0;A<p;A++)I[A>>>2]|=(S.charCodeAt(A)&255)<<24-A%4*8;return new d.init(I,p)}},f=y.Utf8={stringify:function(S){try{return decodeURIComponent(escape(m.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return m.parse(unescape(encodeURIComponent(S)))}},g=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=f.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var p,I=this._data,A=I.words,w=I.sigBytes,_=this.blockSize,P=_*4,M=w/P;S?M=r.ceil(M):M=r.max((M|0)-this._minBufferSize,0);var E=M*_,T=r.min(E*4,w);if(E){for(var z=0;z<E;z+=_)this._doProcessBlock(A,z);p=A.splice(0,E),I.sigBytes-=T}return new d.init(p,T)},clone:function(){var S=l.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});u.Hasher=g.extend({cfg:l.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var p=this._doFinalize();return p},blockSize:16,_createHelper:function(S){return function(p,I){return new S.init(I).finalize(p)}},_createHmacHelper:function(S){return function(p,I){return new b.HMAC.init(S,I).finalize(p)}}});var b=c.algo={};return c}(Math);return t})})(Pn);(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[],l=[];(function(){function h(b){for(var S=r.sqrt(b),p=2;p<=S;p++)if(!(b%p))return!1;return!0}function m(b){return(b-(b|0))*4294967296|0}for(var f=2,g=0;g<64;)h(f)&&(g<8&&(u[g]=m(r.pow(f,1/2))),l[g]=m(r.pow(f,1/3)),g++),f++})();var d=[],y=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(h,m){for(var f=this._hash.words,g=f[0],b=f[1],S=f[2],p=f[3],I=f[4],A=f[5],w=f[6],_=f[7],P=0;P<64;P++){if(P<16)d[P]=h[m+P]|0;else{var M=d[P-15],E=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,T=d[P-2],z=(T<<15|T>>>17)^(T<<13|T>>>19)^T>>>10;d[P]=E+d[P-7]+z+d[P-16]}var O=I&A^~I&w,R=g&b^g&S^b&S,v=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),k=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),x=_+k+O+l[P]+d[P],C=v+R;_=w,w=A,A=I,I=p+x|0,p=S,S=b,b=g,g=x+C|0}f[0]=f[0]+g|0,f[1]=f[1]+b|0,f[2]=f[2]+S|0,f[3]=f[3]+p|0,f[4]=f[4]+I|0,f[5]=f[5]+A|0,f[6]=f[6]+w|0,f[7]=f[7]+_|0},_doFinalize:function(){var h=this._data,m=h.words,f=this._nDataBytes*8,g=h.sigBytes*8;return m[g>>>5]|=128<<24-g%32,m[(g+64>>>9<<4)+14]=r.floor(f/4294967296),m[(g+64>>>9<<4)+15]=f,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});s.SHA256=a._createHelper(y),s.HmacSHA256=a._createHmacHelper(y)}(Math),t.SHA256})})(LT);var Ine={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(K,function(){function t(o,a){var c=a?"\u2514":"\u251C";return o?c+="\u2500 ":c+="\u2500\u2500\u2510",c}function r(o,a){var c=[];for(var u in o)!o.hasOwnProperty(u)||a&&typeof o[u]=="function"||c.push(u);return c}function s(o,a,c,u,l,d,y){var h="",m=0,f,g,b=u.slice(0);if(b.push([a,c])&&u.length>0&&(u.forEach(function(p,I){I>0&&(h+=(p[1]?" ":"\u2502")+"  "),!g&&p[0]===a&&(g=!0)}),h+=t(o,c)+o,l&&(typeof a!="object"||a instanceof Date)&&(h+=": "+a),g&&(h+=" (circular ref.)"),y(h)),!g&&typeof a=="object"){var S=r(a,d);S.forEach(function(p){f=++m===S.length,s(p,a[p],f,b,l,d,y)})}}var i={};return i.asLines=function(o,a,c,u){var l=typeof c!="function"?c:!1;s(".",o,!1,[],a,l,u||c)},i.asTree=function(o,a,c){var u="";return s(".",o,!1,[],a,c,function(l){u+=l+`
`}),u},i})})(Ine);var Ob={},R2e={exports:{}},Rz={exports:{}};(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.Base,a=i.WordArray,c=s.x64={};c.Word=o.extend({init:function(u,l){this.high=u,this.low=l}}),c.WordArray=o.extend({init:function(u,l){u=this.words=u||[],l!=r?this.sigBytes=l:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,l=u.length,d=[],y=0;y<l;y++){var h=u[y];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),l=u.words=this.words.slice(0),d=l.length,y=0;y<d;y++)l[y]=l[y].clone();return u}})}(),t})})(Rz);var C2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){return function(){if(typeof ArrayBuffer=="function"){var r=t,s=r.lib,i=s.WordArray,o=i.init,a=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,l=[],d=0;d<u;d++)l[d>>>2]|=c[d]<<24-d%4*8;o.call(this,l,u)}else o.apply(this,arguments)};a.prototype=i}}(),t.lib.WordArray})})(C2e);var M2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],y=0;y<l;y+=2){var h=u[y>>>2]>>>16-y%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return i.create(l,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],y=0;y<l;y+=2){var h=a(u[y>>>2]>>>16-y%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=a(c.charCodeAt(d)<<16-d%2*16);return i.create(l,u*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),t.enc.Utf16})})(M2e);var Kb={exports:{}};(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Base64={stringify:function(c){var u=c.words,l=c.sigBytes,d=this._map;c.clamp();for(var y=[],h=0;h<l;h+=3)for(var m=u[h>>>2]>>>24-h%4*8&255,f=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,b=m<<16|f<<8|g,S=0;S<4&&h+S*.75<l;S++)y.push(d.charAt(b>>>6*(3-S)&63));var p=d.charAt(64);if(p)for(;y.length%4;)y.push(p);return y.join("")},parse:function(c){var u=c.length,l=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var y=0;y<l.length;y++)d[l.charCodeAt(y)]=y}var h=l.charAt(64);if(h){var m=c.indexOf(h);m!==-1&&(u=m)}return a(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,u,l){for(var d=[],y=0,h=0;h<u;h++)if(h%4){var m=l[c.charCodeAt(h-1)]<<h%4*2,f=l[c.charCodeAt(h)]>>>6-h%4*2,g=m|f;d[y>>>2]|=g<<24-y%4*8,y++}return i.create(d,y)}}(),t.enc.Base64})})(Kb);var B2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var l=c.words,d=c.sigBytes,y=u?this._safe_map:this._map;c.clamp();for(var h=[],m=0;m<d;m+=3)for(var f=l[m>>>2]>>>24-m%4*8&255,g=l[m+1>>>2]>>>24-(m+1)%4*8&255,b=l[m+2>>>2]>>>24-(m+2)%4*8&255,S=f<<16|g<<8|b,p=0;p<4&&m+p*.75<d;p++)h.push(y.charAt(S>>>6*(3-p)&63));var I=y.charAt(64);if(I)for(;h.length%4;)h.push(I);return h.join("")},parse:function(c,u){u===void 0&&(u=!0);var l=c.length,d=u?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var h=0;h<d.length;h++)y[d.charCodeAt(h)]=h}var m=d.charAt(64);if(m){var f=c.indexOf(m);f!==-1&&(l=f)}return a(c,l,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,u,l){for(var d=[],y=0,h=0;h<u;h++)if(h%4){var m=l[c.charCodeAt(h-1)]<<h%4*2,f=l[c.charCodeAt(h)]>>>6-h%4*2,g=m|f;d[y>>>2]|=g<<24-y%4*8,y++}return i.create(d,y)}}(),t.enc.Base64url})})(B2e);var Lb={exports:{}};(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[];(function(){for(var f=0;f<64;f++)u[f]=r.abs(r.sin(f+1))*4294967296|0})();var l=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,g){for(var b=0;b<16;b++){var S=g+b,p=f[S];f[S]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var I=this._hash.words,A=f[g+0],w=f[g+1],_=f[g+2],P=f[g+3],M=f[g+4],E=f[g+5],T=f[g+6],z=f[g+7],O=f[g+8],R=f[g+9],v=f[g+10],k=f[g+11],x=f[g+12],C=f[g+13],B=f[g+14],D=f[g+15],$=I[0],W=I[1],L=I[2],U=I[3];$=d($,W,L,U,A,7,u[0]),U=d(U,$,W,L,w,12,u[1]),L=d(L,U,$,W,_,17,u[2]),W=d(W,L,U,$,P,22,u[3]),$=d($,W,L,U,M,7,u[4]),U=d(U,$,W,L,E,12,u[5]),L=d(L,U,$,W,T,17,u[6]),W=d(W,L,U,$,z,22,u[7]),$=d($,W,L,U,O,7,u[8]),U=d(U,$,W,L,R,12,u[9]),L=d(L,U,$,W,v,17,u[10]),W=d(W,L,U,$,k,22,u[11]),$=d($,W,L,U,x,7,u[12]),U=d(U,$,W,L,C,12,u[13]),L=d(L,U,$,W,B,17,u[14]),W=d(W,L,U,$,D,22,u[15]),$=y($,W,L,U,w,5,u[16]),U=y(U,$,W,L,T,9,u[17]),L=y(L,U,$,W,k,14,u[18]),W=y(W,L,U,$,A,20,u[19]),$=y($,W,L,U,E,5,u[20]),U=y(U,$,W,L,v,9,u[21]),L=y(L,U,$,W,D,14,u[22]),W=y(W,L,U,$,M,20,u[23]),$=y($,W,L,U,R,5,u[24]),U=y(U,$,W,L,B,9,u[25]),L=y(L,U,$,W,P,14,u[26]),W=y(W,L,U,$,O,20,u[27]),$=y($,W,L,U,C,5,u[28]),U=y(U,$,W,L,_,9,u[29]),L=y(L,U,$,W,z,14,u[30]),W=y(W,L,U,$,x,20,u[31]),$=h($,W,L,U,E,4,u[32]),U=h(U,$,W,L,O,11,u[33]),L=h(L,U,$,W,k,16,u[34]),W=h(W,L,U,$,B,23,u[35]),$=h($,W,L,U,w,4,u[36]),U=h(U,$,W,L,M,11,u[37]),L=h(L,U,$,W,z,16,u[38]),W=h(W,L,U,$,v,23,u[39]),$=h($,W,L,U,C,4,u[40]),U=h(U,$,W,L,A,11,u[41]),L=h(L,U,$,W,P,16,u[42]),W=h(W,L,U,$,T,23,u[43]),$=h($,W,L,U,R,4,u[44]),U=h(U,$,W,L,x,11,u[45]),L=h(L,U,$,W,D,16,u[46]),W=h(W,L,U,$,_,23,u[47]),$=m($,W,L,U,A,6,u[48]),U=m(U,$,W,L,z,10,u[49]),L=m(L,U,$,W,B,15,u[50]),W=m(W,L,U,$,E,21,u[51]),$=m($,W,L,U,x,6,u[52]),U=m(U,$,W,L,P,10,u[53]),L=m(L,U,$,W,v,15,u[54]),W=m(W,L,U,$,w,21,u[55]),$=m($,W,L,U,O,6,u[56]),U=m(U,$,W,L,D,10,u[57]),L=m(L,U,$,W,T,15,u[58]),W=m(W,L,U,$,C,21,u[59]),$=m($,W,L,U,M,6,u[60]),U=m(U,$,W,L,k,10,u[61]),L=m(L,U,$,W,_,15,u[62]),W=m(W,L,U,$,R,21,u[63]),I[0]=I[0]+$|0,I[1]=I[1]+W|0,I[2]=I[2]+L|0,I[3]=I[3]+U|0},_doFinalize:function(){var f=this._data,g=f.words,b=this._nDataBytes*8,S=f.sigBytes*8;g[S>>>5]|=128<<24-S%32;var p=r.floor(b/4294967296),I=b;g[(S+64>>>9<<4)+15]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,g[(S+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,f.sigBytes=(g.length+1)*4,this._process();for(var A=this._hash,w=A.words,_=0;_<4;_++){var P=w[_];w[_]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return A},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});function d(f,g,b,S,p,I,A){var w=f+(g&b|~g&S)+p+A;return(w<<I|w>>>32-I)+g}function y(f,g,b,S,p,I,A){var w=f+(g&S|b&~S)+p+A;return(w<<I|w>>>32-I)+g}function h(f,g,b,S,p,I,A){var w=f+(g^b^S)+p+A;return(w<<I|w>>>32-I)+g}function m(f,g,b,S,p,I,A){var w=f+(b^(g|~S))+p+A;return(w<<I|w>>>32-I)+g}s.MD5=a._createHelper(l),s.HmacMD5=a._createHmacHelper(l)}(Math),t.MD5})})(Lb);var _ne={exports:{}};(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=s.Hasher,a=r.algo,c=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,d){for(var y=this._hash.words,h=y[0],m=y[1],f=y[2],g=y[3],b=y[4],S=0;S<80;S++){if(S<16)c[S]=l[d+S]|0;else{var p=c[S-3]^c[S-8]^c[S-14]^c[S-16];c[S]=p<<1|p>>>31}var I=(h<<5|h>>>27)+b+c[S];S<20?I+=(m&f|~m&g)+1518500249:S<40?I+=(m^f^g)+1859775393:S<60?I+=(m&f|m&g|f&g)-1894007588:I+=(m^f^g)-899497514,b=g,g=f,f=m<<30|m>>>2,m=h,h=I}y[0]=y[0]+h|0,y[1]=y[1]+m|0,y[2]=y[2]+f|0,y[3]=y[3]+g|0,y[4]=y[4]+b|0},_doFinalize:function(){var l=this._data,d=l.words,y=this._nDataBytes*8,h=l.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(y/4294967296),d[(h+64>>>9<<4)+15]=y,l.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var l=o.clone.call(this);return l._hash=this._hash.clone(),l}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)}(),t.SHA1})})(_ne);var z2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,LT.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(c),r.HmacSHA224=a._createHmacHelper(c)}(),t.SHA224})})(z2e);var Pne={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Rz.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Hasher,o=r.x64,a=o.Word,c=o.WordArray,u=r.algo;function l(){return a.create.apply(a,arguments)}var d=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],y=[];(function(){for(var m=0;m<80;m++)y[m]=l()})();var h=u.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(m,f){for(var g=this._hash.words,b=g[0],S=g[1],p=g[2],I=g[3],A=g[4],w=g[5],_=g[6],P=g[7],M=b.high,E=b.low,T=S.high,z=S.low,O=p.high,R=p.low,v=I.high,k=I.low,x=A.high,C=A.low,B=w.high,D=w.low,$=_.high,W=_.low,L=P.high,U=P.low,G=M,J=E,Q=T,Y=z,X=O,re=R,se=v,ee=k,ne=x,ve=C,_e=B,Le=D,We=$,Ft=W,Lt=L,Dt=U,et=0;et<80;et++){var Ue,Wt,sr=y[et];if(et<16)Wt=sr.high=m[f+et*2]|0,Ue=sr.low=m[f+et*2+1]|0;else{var tr=y[et-15],pr=tr.high,wr=tr.low,ls=(pr>>>1|wr<<31)^(pr>>>8|wr<<24)^pr>>>7,gn=(wr>>>1|pr<<31)^(wr>>>8|pr<<24)^(wr>>>7|pr<<25),ds=y[et-2],sl=ds.high,Ub=ds.low,T5=(sl>>>19|Ub<<13)^(sl<<3|Ub>>>29)^sl>>>6,nue=(Ub>>>19|sl<<13)^(Ub<<3|sl>>>29)^(Ub>>>6|sl<<26),sue=y[et-7],IDe=sue.high,_De=sue.low,iue=y[et-16],PDe=iue.high,oue=iue.low;Ue=gn+_De,Wt=ls+IDe+(Ue>>>0<gn>>>0?1:0),Ue=Ue+nue,Wt=Wt+T5+(Ue>>>0<nue>>>0?1:0),Ue=Ue+oue,Wt=Wt+PDe+(Ue>>>0<oue>>>0?1:0),sr.high=Wt,sr.low=Ue}var EDe=ne&_e^~ne&We,aue=ve&Le^~ve&Ft,xDe=G&Q^G&X^Q&X,TDe=J&Y^J&re^Y&re,RDe=(G>>>28|J<<4)^(G<<30|J>>>2)^(G<<25|J>>>7),cue=(J>>>28|G<<4)^(J<<30|G>>>2)^(J<<25|G>>>7),CDe=(ne>>>14|ve<<18)^(ne>>>18|ve<<14)^(ne<<23|ve>>>9),MDe=(ve>>>14|ne<<18)^(ve>>>18|ne<<14)^(ve<<23|ne>>>9),uue=d[et],BDe=uue.high,lue=uue.low,Iu=Dt+MDe,ym=Lt+CDe+(Iu>>>0<Dt>>>0?1:0),Iu=Iu+aue,ym=ym+EDe+(Iu>>>0<aue>>>0?1:0),Iu=Iu+lue,ym=ym+BDe+(Iu>>>0<lue>>>0?1:0),Iu=Iu+Ue,ym=ym+Wt+(Iu>>>0<Ue>>>0?1:0),due=cue+TDe,zDe=RDe+xDe+(due>>>0<cue>>>0?1:0);Lt=We,Dt=Ft,We=_e,Ft=Le,_e=ne,Le=ve,ve=ee+Iu|0,ne=se+ym+(ve>>>0<ee>>>0?1:0)|0,se=X,ee=re,X=Q,re=Y,Q=G,Y=J,J=Iu+due|0,G=ym+zDe+(J>>>0<Iu>>>0?1:0)|0}E=b.low=E+J,b.high=M+G+(E>>>0<J>>>0?1:0),z=S.low=z+Y,S.high=T+Q+(z>>>0<Y>>>0?1:0),R=p.low=R+re,p.high=O+X+(R>>>0<re>>>0?1:0),k=I.low=k+ee,I.high=v+se+(k>>>0<ee>>>0?1:0),C=A.low=C+ve,A.high=x+ne+(C>>>0<ve>>>0?1:0),D=w.low=D+Le,w.high=B+_e+(D>>>0<Le>>>0?1:0),W=_.low=W+Ft,_.high=$+We+(W>>>0<Ft>>>0?1:0),U=P.low=U+Dt,P.high=L+Lt+(U>>>0<Dt>>>0?1:0)},_doFinalize:function(){var m=this._data,f=m.words,g=this._nDataBytes*8,b=m.sigBytes*8;f[b>>>5]|=128<<24-b%32,f[(b+128>>>10<<5)+30]=Math.floor(g/4294967296),f[(b+128>>>10<<5)+31]=g,m.sigBytes=f.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var m=i.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});r.SHA512=i._createHelper(h),r.HmacSHA512=i._createHmacHelper(h)}(),t.SHA512})})(Pne);var $2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Rz.exports,Pne.exports)})(K,function(t){return function(){var r=t,s=r.x64,i=s.Word,o=s.WordArray,a=r.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var l=c._doFinalize.call(this);return l.sigBytes-=16,l}});r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u)}(),t.SHA384})})($2e);var D2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Rz.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.x64,u=c.Word,l=s.algo,d=[],y=[],h=[];(function(){for(var g=1,b=0,S=0;S<24;S++){d[g+5*b]=(S+1)*(S+2)/2%64;var p=b%5,I=(2*g+3*b)%5;g=p,b=I}for(var g=0;g<5;g++)for(var b=0;b<5;b++)y[g+5*b]=b+(2*g+3*b)%5*5;for(var A=1,w=0;w<24;w++){for(var _=0,P=0,M=0;M<7;M++){if(A&1){var E=(1<<M)-1;E<32?P^=1<<E:_^=1<<E-32}A&128?A=A<<1^113:A<<=1}h[w]=u.create(_,P)}})();var m=[];(function(){for(var g=0;g<25;g++)m[g]=u.create()})();var f=l.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],b=0;b<25;b++)g[b]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,b){for(var S=this._state,p=this.blockSize/2,I=0;I<p;I++){var A=g[b+2*I],w=g[b+2*I+1];A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360;var _=S[I];_.high^=w,_.low^=A}for(var P=0;P<24;P++){for(var M=0;M<5;M++){for(var E=0,T=0,z=0;z<5;z++){var _=S[M+5*z];E^=_.high,T^=_.low}var O=m[M];O.high=E,O.low=T}for(var M=0;M<5;M++)for(var R=m[(M+4)%5],v=m[(M+1)%5],k=v.high,x=v.low,E=R.high^(k<<1|x>>>31),T=R.low^(x<<1|k>>>31),z=0;z<5;z++){var _=S[M+5*z];_.high^=E,_.low^=T}for(var C=1;C<25;C++){var E,T,_=S[C],B=_.high,D=_.low,$=d[C];$<32?(E=B<<$|D>>>32-$,T=D<<$|B>>>32-$):(E=D<<$-32|B>>>64-$,T=B<<$-32|D>>>64-$);var W=m[y[C]];W.high=E,W.low=T}var L=m[0],U=S[0];L.high=U.high,L.low=U.low;for(var M=0;M<5;M++)for(var z=0;z<5;z++){var C=M+5*z,_=S[C],G=m[C],J=m[(M+1)%5+5*z],Q=m[(M+2)%5+5*z];_.high=G.high^~J.high&Q.high,_.low=G.low^~J.low&Q.low}var _=S[0],Y=h[P];_.high^=Y.high,_.low^=Y.low}},_doFinalize:function(){var g=this._data,b=g.words;this._nDataBytes*8;var S=g.sigBytes*8,p=this.blockSize*32;b[S>>>5]|=1<<24-S%32,b[(r.ceil((S+1)/p)*p>>>5)-1]|=128,g.sigBytes=b.length*4,this._process();for(var I=this._state,A=this.cfg.outputLength/8,w=A/8,_=[],P=0;P<w;P++){var M=I[P],E=M.high,T=M.low;E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,_.push(T),_.push(E)}return new o.init(_,A)},clone:function(){for(var g=a.clone.call(this),b=g._state=this._state.slice(0),S=0;S<25;S++)b[S]=b[S].clone();return g}});s.SHA3=a._createHelper(f),s.HmacSHA3=a._createHmacHelper(f)}(Math),t.SHA3})})(D2e);var O2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){/** @preserve
	(c) 2012 by Cdric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),m=o.create([1352829926,1548603684,1836072691,2053994217,0]),f=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,_){for(var P=0;P<16;P++){var M=_+P,E=w[M];w[M]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var T=this._hash.words,z=h.words,O=m.words,R=u.words,v=l.words,k=d.words,x=y.words,C,B,D,$,W,L,U,G,J,Q;L=C=T[0],U=B=T[1],G=D=T[2],J=$=T[3],Q=W=T[4];for(var Y,P=0;P<80;P+=1)Y=C+w[_+R[P]]|0,P<16?Y+=g(B,D,$)+z[0]:P<32?Y+=b(B,D,$)+z[1]:P<48?Y+=S(B,D,$)+z[2]:P<64?Y+=p(B,D,$)+z[3]:Y+=I(B,D,$)+z[4],Y=Y|0,Y=A(Y,k[P]),Y=Y+W|0,C=W,W=$,$=A(D,10),D=B,B=Y,Y=L+w[_+v[P]]|0,P<16?Y+=I(U,G,J)+O[0]:P<32?Y+=p(U,G,J)+O[1]:P<48?Y+=S(U,G,J)+O[2]:P<64?Y+=b(U,G,J)+O[3]:Y+=g(U,G,J)+O[4],Y=Y|0,Y=A(Y,x[P]),Y=Y+Q|0,L=Q,Q=J,J=A(G,10),G=U,U=Y;Y=T[1]+D+J|0,T[1]=T[2]+$+Q|0,T[2]=T[3]+W+L|0,T[3]=T[4]+C+U|0,T[4]=T[0]+B+G|0,T[0]=Y},_doFinalize:function(){var w=this._data,_=w.words,P=this._nDataBytes*8,M=w.sigBytes*8;_[M>>>5]|=128<<24-M%32,_[(M+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,w.sigBytes=(_.length+1)*4,this._process();for(var E=this._hash,T=E.words,z=0;z<5;z++){var O=T[z];T[z]=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360}return E},clone:function(){var w=a.clone.call(this);return w._hash=this._hash.clone(),w}});function g(w,_,P){return w^_^P}function b(w,_,P){return w&_|~w&P}function S(w,_,P){return(w|~_)^P}function p(w,_,P){return w&P|_&~P}function I(w,_,P){return w^(_|~P)}function A(w,_){return w<<_|w>>>32-_}s.RIPEMD160=a._createHelper(f),s.HmacRIPEMD160=a._createHmacHelper(f)}(),t.RIPEMD160})})(O2e);var iL={exports:{}};(function(n,e){(function(t,r){n.exports=r(Pn.exports)})(K,function(t){(function(){var r=t,s=r.lib,i=s.Base,o=r.enc,a=o.Utf8,c=r.algo;c.HMAC=i.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=a.parse(l));var d=u.blockSize,y=d*4;l.sigBytes>y&&(l=u.finalize(l)),l.clamp();for(var h=this._oKey=l.clone(),m=this._iKey=l.clone(),f=h.words,g=m.words,b=0;b<d;b++)f[b]^=1549556828,g[b]^=909522486;h.sigBytes=m.sigBytes=y,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,d=l.finalize(u);l.reset();var y=l.finalize(this._oKey.clone().concat(d));return y}})})()})})(iL);var K2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,LT.exports,iL.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.SHA256,u=a.HMAC,l=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,y){for(var h=this.cfg,m=u.create(h.hasher,d),f=o.create(),g=o.create([1]),b=f.words,S=g.words,p=h.keySize,I=h.iterations;b.length<p;){var A=m.update(y).finalize(g);m.reset();for(var w=A.words,_=w.length,P=A,M=1;M<I;M++){P=m.finalize(P),m.reset();for(var E=P.words,T=0;T<_;T++)w[T]^=E[T]}f.concat(A),S[0]++}return f.sigBytes=p*4,f}});r.PBKDF2=function(d,y,h){return l.create(h).compute(d,y)}}(),t.PBKDF2})})(K2e);var fm={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,_ne.exports,iL.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.MD5,u=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,d){for(var y,h=this.cfg,m=h.hasher.create(),f=o.create(),g=f.words,b=h.keySize,S=h.iterations;g.length<b;){y&&m.update(y),y=m.update(l).finalize(d),m.reset();for(var p=1;p<S;p++)y=m.finalize(y),m.reset();f.concat(y)}return f.sigBytes=b*4,f}});r.EvpKDF=function(l,d,y){return u.create(y).compute(l,d)}}(),t.EvpKDF})})(fm);var aa={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,fm.exports)})(K,function(t){t.lib.Cipher||function(r){var s=t,i=s.lib,o=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var l=u.Base64,d=s.algo,y=d.EvpKDF,h=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(E,T){return this.create(this._ENC_XFORM_MODE,E,T)},createDecryptor:function(E,T){return this.create(this._DEC_XFORM_MODE,E,T)},init:function(E,T,z){this.cfg=this.cfg.extend(z),this._xformMode=E,this._key=T,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(E){return this._append(E),this._process()},finalize:function(E){E&&this._append(E);var T=this._doFinalize();return T},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function E(T){return typeof T=="string"?M:w}return function(T){return{encrypt:function(z,O,R){return E(O).encrypt(T,z,O,R)},decrypt:function(z,O,R){return E(O).decrypt(T,z,O,R)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){var E=this._process(!0);return E},blockSize:1});var m=s.mode={},f=i.BlockCipherMode=o.extend({createEncryptor:function(E,T){return this.Encryptor.create(E,T)},createDecryptor:function(E,T){return this.Decryptor.create(E,T)},init:function(E,T){this._cipher=E,this._iv=T}}),g=m.CBC=function(){var E=f.extend();E.Encryptor=E.extend({processBlock:function(z,O){var R=this._cipher,v=R.blockSize;T.call(this,z,O,v),R.encryptBlock(z,O),this._prevBlock=z.slice(O,O+v)}}),E.Decryptor=E.extend({processBlock:function(z,O){var R=this._cipher,v=R.blockSize,k=z.slice(O,O+v);R.decryptBlock(z,O),T.call(this,z,O,v),this._prevBlock=k}});function T(z,O,R){var v,k=this._iv;k?(v=k,this._iv=r):v=this._prevBlock;for(var x=0;x<R;x++)z[O+x]^=v[x]}return E}(),b=s.pad={},S=b.Pkcs7={pad:function(E,T){for(var z=T*4,O=z-E.sigBytes%z,R=O<<24|O<<16|O<<8|O,v=[],k=0;k<O;k+=4)v.push(R);var x=a.create(v,O);E.concat(x)},unpad:function(E){var T=E.words[E.sigBytes-1>>>2]&255;E.sigBytes-=T}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:S}),reset:function(){var E;h.reset.call(this);var T=this.cfg,z=T.iv,O=T.mode;this._xformMode==this._ENC_XFORM_MODE?E=O.createEncryptor:(E=O.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==E?this._mode.init(this,z&&z.words):(this._mode=E.call(O,this,z&&z.words),this._mode.__creator=E)},_doProcessBlock:function(E,T){this._mode.processBlock(E,T)},_doFinalize:function(){var E,T=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(T.pad(this._data,this.blockSize),E=this._process(!0)):(E=this._process(!0),T.unpad(E)),E},blockSize:128/32});var p=i.CipherParams=o.extend({init:function(E){this.mixIn(E)},toString:function(E){return(E||this.formatter).stringify(this)}}),I=s.format={},A=I.OpenSSL={stringify:function(E){var T,z=E.ciphertext,O=E.salt;return O?T=a.create([1398893684,1701076831]).concat(O).concat(z):T=z,T.toString(l)},parse:function(E){var T,z=l.parse(E),O=z.words;return O[0]==1398893684&&O[1]==1701076831&&(T=a.create(O.slice(2,4)),O.splice(0,4),z.sigBytes-=16),p.create({ciphertext:z,salt:T})}},w=i.SerializableCipher=o.extend({cfg:o.extend({format:A}),encrypt:function(E,T,z,O){O=this.cfg.extend(O);var R=E.createEncryptor(z,O),v=R.finalize(T),k=R.cfg;return p.create({ciphertext:v,key:z,iv:k.iv,algorithm:E,mode:k.mode,padding:k.padding,blockSize:E.blockSize,formatter:O.format})},decrypt:function(E,T,z,O){O=this.cfg.extend(O),T=this._parse(T,O.format);var R=E.createDecryptor(z,O).finalize(T.ciphertext);return R},_parse:function(E,T){return typeof E=="string"?T.parse(E,this):E}}),_=s.kdf={},P=_.OpenSSL={execute:function(E,T,z,O,R){if(O||(O=a.random(64/8)),R)var v=y.create({keySize:T+z,hasher:R}).compute(E,O);else var v=y.create({keySize:T+z}).compute(E,O);var k=a.create(v.words.slice(T),z*4);return v.sigBytes=T*4,p.create({key:v,iv:k,salt:O})}},M=i.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:P}),encrypt:function(E,T,z,O){O=this.cfg.extend(O);var R=O.kdf.execute(z,E.keySize,E.ivSize,O.salt,O.hasher);O.iv=R.iv;var v=w.encrypt.call(this,E,T,R.key,O);return v.mixIn(R),v},decrypt:function(E,T,z,O){O=this.cfg.extend(O),T=this._parse(T,O.format);var R=O.kdf.execute(z,E.keySize,E.ivSize,T.salt,O.hasher);O.iv=R.iv;var v=w.decrypt.call(this,E,T,R.key,O);return v}})}()})})(aa);var L2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return t.mode.CFB=function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize;s.call(this,i,o,c,a),this._prevBlock=i.slice(o,o+c)}}),r.Decryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=i.slice(o,o+c);s.call(this,i,o,c,a),this._prevBlock=u}});function s(i,o,a,c){var u,l=this._iv;l?(u=l.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var d=0;d<a;d++)i[o+d]^=u[d]}return r}(),t.mode.CFB})})(L2e);var W2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return t.mode.CTR=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,l=this._counter;u&&(l=this._counter=u.slice(0),this._iv=void 0);var d=l.slice(0);a.encryptBlock(d,0),l[c-1]=l[c-1]+1|0;for(var y=0;y<c;y++)i[o+y]^=d[y]}});return r.Decryptor=s,r}(),t.mode.CTR})})(W2e);var N2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var r=t.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var c=a>>16&255,u=a>>8&255,l=a&255;c===255?(c=0,u===255?(u=0,l===255?l=0:++l):++u):++c,a=0,a+=c<<16,a+=u<<8,a+=l}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,c){var u=this._cipher,l=u.blockSize,d=this._iv,y=this._counter;d&&(y=this._counter=d.slice(0),this._iv=void 0),i(y);var h=y.slice(0);u.encryptBlock(h,0);for(var m=0;m<l;m++)a[c+m]^=h[m]}});return r.Decryptor=o,r}(),t.mode.CTRGladman})})(N2e);var F2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return t.mode.OFB=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,l=this._keystream;u&&(l=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(l,0);for(var d=0;d<c;d++)i[o+d]^=l[d]}});return r.Decryptor=s,r}(),t.mode.OFB})})(F2e);var U2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return t.mode.ECB=function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),r.Decryptor=r.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),r}(),t.mode.ECB})})(U2e);var V2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return t.pad.AnsiX923={pad:function(r,s){var i=r.sigBytes,o=s*4,a=o-i%o,c=i+a-1;r.clamp(),r.words[c>>>2]|=a<<24-c%4*8,r.sigBytes+=a},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Ansix923})})(V2e);var q2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return t.pad.Iso10126={pad:function(r,s){var i=s*4,o=i-r.sigBytes%i;r.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Iso10126})})(q2e);var j2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return t.pad.Iso97971={pad:function(r,s){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,s)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})})(j2e);var H2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return t.pad.ZeroPadding={pad:function(r,s){var i=s*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var s=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},t.pad.ZeroPadding})})(H2e);var G2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(G2e);var Y2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,aa.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.CipherParams,a=s.enc,c=a.Hex,u=s.format;u.Hex={stringify:function(l){return l.ciphertext.toString(c)},parse:function(l){var d=c.parse(l);return o.create({ciphertext:d})}}}(),t.format.Hex})})(Y2e);var Z2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Kb.exports,Lb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.BlockCipher,o=r.algo,a=[],c=[],u=[],l=[],d=[],y=[],h=[],m=[],f=[],g=[];(function(){for(var p=[],I=0;I<256;I++)I<128?p[I]=I<<1:p[I]=I<<1^283;for(var A=0,w=0,I=0;I<256;I++){var _=w^w<<1^w<<2^w<<3^w<<4;_=_>>>8^_&255^99,a[A]=_,c[_]=A;var P=p[A],M=p[P],E=p[M],T=p[_]*257^_*16843008;u[A]=T<<24|T>>>8,l[A]=T<<16|T>>>16,d[A]=T<<8|T>>>24,y[A]=T;var T=E*16843009^M*65537^P*257^A*16843008;h[_]=T<<24|T>>>8,m[_]=T<<16|T>>>16,f[_]=T<<8|T>>>24,g[_]=T,A?(A=P^p[p[p[E^P]]],w^=p[p[w]]):A=w=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],S=o.AES=i.extend({_doReset:function(){var p;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,A=I.words,w=I.sigBytes/4,_=this._nRounds=w+6,P=(_+1)*4,M=this._keySchedule=[],E=0;E<P;E++)E<w?M[E]=A[E]:(p=M[E-1],E%w?w>6&&E%w==4&&(p=a[p>>>24]<<24|a[p>>>16&255]<<16|a[p>>>8&255]<<8|a[p&255]):(p=p<<8|p>>>24,p=a[p>>>24]<<24|a[p>>>16&255]<<16|a[p>>>8&255]<<8|a[p&255],p^=b[E/w|0]<<24),M[E]=M[E-w]^p);for(var T=this._invKeySchedule=[],z=0;z<P;z++){var E=P-z;if(z%4)var p=M[E];else var p=M[E-4];z<4||E<=4?T[z]=p:T[z]=h[a[p>>>24]]^m[a[p>>>16&255]]^f[a[p>>>8&255]]^g[a[p&255]]}}},encryptBlock:function(p,I){this._doCryptBlock(p,I,this._keySchedule,u,l,d,y,a)},decryptBlock:function(p,I){var A=p[I+1];p[I+1]=p[I+3],p[I+3]=A,this._doCryptBlock(p,I,this._invKeySchedule,h,m,f,g,c);var A=p[I+1];p[I+1]=p[I+3],p[I+3]=A},_doCryptBlock:function(p,I,A,w,_,P,M,E){for(var T=this._nRounds,z=p[I]^A[0],O=p[I+1]^A[1],R=p[I+2]^A[2],v=p[I+3]^A[3],k=4,x=1;x<T;x++){var C=w[z>>>24]^_[O>>>16&255]^P[R>>>8&255]^M[v&255]^A[k++],B=w[O>>>24]^_[R>>>16&255]^P[v>>>8&255]^M[z&255]^A[k++],D=w[R>>>24]^_[v>>>16&255]^P[z>>>8&255]^M[O&255]^A[k++],$=w[v>>>24]^_[z>>>16&255]^P[O>>>8&255]^M[R&255]^A[k++];z=C,O=B,R=D,v=$}var C=(E[z>>>24]<<24|E[O>>>16&255]<<16|E[R>>>8&255]<<8|E[v&255])^A[k++],B=(E[O>>>24]<<24|E[R>>>16&255]<<16|E[v>>>8&255]<<8|E[z&255])^A[k++],D=(E[R>>>24]<<24|E[v>>>16&255]<<16|E[z>>>8&255]<<8|E[O&255])^A[k++],$=(E[v>>>24]<<24|E[z>>>16&255]<<16|E[O>>>8&255]<<8|E[R&255])^A[k++];p[I]=C,p[I+1]=B,p[I+2]=D,p[I+3]=$},keySize:256/32});r.AES=i._createHelper(S)}(),t.AES})})(Z2e);var J2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Kb.exports,Lb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=s.BlockCipher,a=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=o.extend({_doReset:function(){for(var b=this._key,S=b.words,p=[],I=0;I<56;I++){var A=c[I]-1;p[I]=S[A>>>5]>>>31-A%32&1}for(var w=this._subKeys=[],_=0;_<16;_++){for(var P=w[_]=[],M=l[_],I=0;I<24;I++)P[I/6|0]|=p[(u[I]-1+M)%28]<<31-I%6,P[4+(I/6|0)]|=p[28+(u[I+24]-1+M)%28]<<31-I%6;P[0]=P[0]<<1|P[0]>>>31;for(var I=1;I<7;I++)P[I]=P[I]>>>(I-1)*4+3;P[7]=P[7]<<5|P[7]>>>27}for(var E=this._invSubKeys=[],I=0;I<16;I++)E[I]=w[15-I]},encryptBlock:function(b,S){this._doCryptBlock(b,S,this._subKeys)},decryptBlock:function(b,S){this._doCryptBlock(b,S,this._invSubKeys)},_doCryptBlock:function(b,S,p){this._lBlock=b[S],this._rBlock=b[S+1],m.call(this,4,252645135),m.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),m.call(this,1,1431655765);for(var I=0;I<16;I++){for(var A=p[I],w=this._lBlock,_=this._rBlock,P=0,M=0;M<8;M++)P|=d[M][((_^A[M])&y[M])>>>0];this._lBlock=_,this._rBlock=w^P}var E=this._lBlock;this._lBlock=this._rBlock,this._rBlock=E,m.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),b[S]=this._lBlock,b[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(b,S){var p=(this._lBlock>>>b^this._rBlock)&S;this._rBlock^=p,this._lBlock^=p<<b}function f(b,S){var p=(this._rBlock>>>b^this._lBlock)&S;this._lBlock^=p,this._rBlock^=p<<b}r.DES=o._createHelper(h);var g=a.TripleDES=o.extend({_doReset:function(){var b=this._key,S=b.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var p=S.slice(0,2),I=S.length<4?S.slice(0,2):S.slice(2,4),A=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=h.createEncryptor(i.create(p)),this._des2=h.createEncryptor(i.create(I)),this._des3=h.createEncryptor(i.create(A))},encryptBlock:function(b,S){this._des1.encryptBlock(b,S),this._des2.decryptBlock(b,S),this._des3.encryptBlock(b,S)},decryptBlock:function(b,S){this._des3.decryptBlock(b,S),this._des2.encryptBlock(b,S),this._des1.decryptBlock(b,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(g)}(),t.TripleDES})})(J2e);var X2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Kb.exports,Lb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=o.RC4=i.extend({_doReset:function(){for(var l=this._key,d=l.words,y=l.sigBytes,h=this._S=[],m=0;m<256;m++)h[m]=m;for(var m=0,f=0;m<256;m++){var g=m%y,b=d[g>>>2]>>>24-g%4*8&255;f=(f+h[m]+b)%256;var S=h[m];h[m]=h[f],h[f]=S}this._i=this._j=0},_doProcessBlock:function(l,d){l[d]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var l=this._S,d=this._i,y=this._j,h=0,m=0;m<4;m++){d=(d+1)%256,y=(y+l[d])%256;var f=l[d];l[d]=l[y],l[y]=f,h|=l[(l[d]+l[y])%256]<<24-m*8}return this._i=d,this._j=y,h}r.RC4=i._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)c.call(this)}});r.RC4Drop=i._createHelper(u)}(),t.RC4})})(X2e);var Q2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Kb.exports,Lb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],u=[],l=o.Rabbit=i.extend({_doReset:function(){for(var y=this._key.words,h=this.cfg.iv,m=0;m<4;m++)y[m]=(y[m]<<8|y[m]>>>24)&16711935|(y[m]<<24|y[m]>>>8)&4278255360;var f=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],g=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)g[m]^=f[m+4&7];if(h){var b=h.words,S=b[0],p=b[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,A=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,w=I>>>16|A&4294901760,_=A<<16|I&65535;g[0]^=I,g[1]^=w,g[2]^=A,g[3]^=_,g[4]^=I,g[5]^=w,g[6]^=A,g[7]^=_;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(y,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)a[f]=(a[f]<<8|a[f]>>>24)&16711935|(a[f]<<24|a[f]>>>8)&4278255360,y[h+f]^=a[f]},blockSize:128/32,ivSize:64/32});function d(){for(var y=this._X,h=this._C,m=0;m<8;m++)c[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var f=y[m]+h[m],g=f&65535,b=f>>>16,S=((g*g>>>17)+g*b>>>15)+b*b,p=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=S^p}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=i._createHelper(l)}(),t.Rabbit})})(Q2e);var eMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Kb.exports,Lb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],u=[],l=o.RabbitLegacy=i.extend({_doReset:function(){var y=this._key.words,h=this.cfg.iv,m=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],f=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)f[g]^=m[g+4&7];if(h){var b=h.words,S=b[0],p=b[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,A=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,w=I>>>16|A&4294901760,_=A<<16|I&65535;f[0]^=I,f[1]^=w,f[2]^=A,f[3]^=_,f[4]^=I,f[5]^=w,f[6]^=A,f[7]^=_;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(y,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)a[f]=(a[f]<<8|a[f]>>>24)&16711935|(a[f]<<24|a[f]>>>8)&4278255360,y[h+f]^=a[f]},blockSize:128/32,ivSize:64/32});function d(){for(var y=this._X,h=this._C,m=0;m<8;m++)c[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var f=y[m]+h[m],g=f&65535,b=f>>>16,S=((g*g>>>17)+g*b>>>15)+b*b,p=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=S^p}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=i._createHelper(l)}(),t.RabbitLegacy})})(eMe);var tMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Kb.exports,Lb.exports,fm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.BlockCipher,o=r.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function d(g,b){let S=b>>24&255,p=b>>16&255,I=b>>8&255,A=b&255,w=g.sbox[0][S]+g.sbox[1][p];return w=w^g.sbox[2][I],w=w+g.sbox[3][A],w}function y(g,b,S){let p=b,I=S,A;for(let w=0;w<a;++w)p=p^g.pbox[w],I=d(g,p)^I,A=p,p=I,I=A;return A=p,p=I,I=A,I=I^g.pbox[a],p=p^g.pbox[a+1],{left:p,right:I}}function h(g,b,S){let p=b,I=S,A;for(let w=a+1;w>1;--w)p=p^g.pbox[w],I=d(g,p)^I,A=p,p=I,I=A;return A=p,p=I,I=A,I=I^g.pbox[1],p=p^g.pbox[0],{left:p,right:I}}function m(g,b,S){for(let _=0;_<4;_++){g.sbox[_]=[];for(let P=0;P<256;P++)g.sbox[_][P]=u[_][P]}let p=0;for(let _=0;_<a+2;_++)g.pbox[_]=c[_]^b[p],p++,p>=S&&(p=0);let I=0,A=0,w=0;for(let _=0;_<a+2;_+=2)w=y(g,I,A),I=w.left,A=w.right,g.pbox[_]=I,g.pbox[_+1]=A;for(let _=0;_<4;_++)for(let P=0;P<256;P+=2)w=y(g,I,A),I=w.left,A=w.right,g.sbox[_][P]=I,g.sbox[_][P+1]=A;return!0}var f=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,b=g.words,S=g.sigBytes/4;m(l,b,S)}},encryptBlock:function(g,b){var S=y(l,g[b],g[b+1]);g[b]=S.left,g[b+1]=S.right},decryptBlock:function(g,b){var S=h(l,g[b],g[b+1]);g[b]=S.left,g[b+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(f)}(),t.Blowfish})})(tMe);(function(n,e){(function(t,r,s){n.exports=r(Pn.exports,Rz.exports,C2e.exports,M2e.exports,Kb.exports,B2e.exports,Lb.exports,_ne.exports,LT.exports,z2e.exports,Pne.exports,$2e.exports,D2e.exports,O2e.exports,iL.exports,K2e.exports,fm.exports,aa.exports,L2e.exports,W2e.exports,N2e.exports,F2e.exports,U2e.exports,V2e.exports,q2e.exports,j2e.exports,H2e.exports,G2e.exports,Y2e.exports,Z2e.exports,J2e.exports,X2e.exports,Q2e.exports,eMe.exports,tMe.exports)})(K,function(t){return t})})(R2e);var bxt=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ob,"__esModule",{value:!0});Ob.Base=void 0;const sc=V,mU=bxt(R2e.exports);class dl{print(){dl.print(this)}bufferIndexOf(e,t,r=!1){if(r)return this.binarySearch(e,t,sc.Buffer.compare);const s=(i,o)=>i.equals(o);return this.linearSearch(e,t,s)}static binarySearch(e,t,r){let s=0,i=e.length-1;for(;s<=i;){const o=Math.floor((s+i)/2),a=r(e[o],t);if(a===0){for(let c=o-1;c>=0;c--)if(r(e[c],t)!==0)return c+1;return 0}else a<0?s=o+1:i=o-1}return-1}binarySearch(e,t,r){return dl.binarySearch(e,t,r)}static linearSearch(e,t,r){for(let s=0;s<e.length;s++)if(r(e[s],t))return s;return-1}linearSearch(e,t,r){return dl.linearSearch(e,t,r)}static bufferify(e){if(!sc.Buffer.isBuffer(e)){if(typeof e=="object"&&e.words)return sc.Buffer.from(e.toString(mU.default.enc.Hex),"hex");if(dl.isHexString(e))return sc.Buffer.from(e.replace(/^0x/,""),"hex");if(typeof e=="string")return sc.Buffer.from(e);if(typeof e=="bigint")return sc.Buffer.from(e.toString(16),"hex");if(e instanceof Uint8Array)return sc.Buffer.from(e.buffer);if(typeof e=="number"){let t=e.toString();return t.length%2&&(t=`0${t}`),sc.Buffer.from(t,"hex")}else if(ArrayBuffer.isView(e))return sc.Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return e}bigNumberify(e){return dl.bigNumberify(e)}static bigNumberify(e){if(typeof e=="bigint")return e;if(typeof e=="string")return e.startsWith("0x")&&dl.isHexString(e)?BigInt("0x"+e.replace("0x","").toString()):BigInt(e);if(sc.Buffer.isBuffer(e))return BigInt("0x"+e.toString("hex"));if(e instanceof Uint8Array||typeof e=="number")return BigInt(e);throw new Error("cannot bigNumberify")}static isHexString(e){return typeof e=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(e)}static print(e){console.log(e.toString())}bufferToHex(e,t=!0){return dl.bufferToHex(e,t)}static bufferToHex(e,t=!0){return`${t?"0x":""}${(e||sc.Buffer.alloc(0)).toString("hex")}`}bufferify(e){return dl.bufferify(e)}bufferifyFn(e){return t=>{const r=e(t);return sc.Buffer.isBuffer(r)?r:this.isHexString(r)?sc.Buffer.from(r.replace("0x",""),"hex"):typeof r=="string"?sc.Buffer.from(r):typeof r=="bigint"?sc.Buffer.from(t.toString(16),"hex"):ArrayBuffer.isView(r)?sc.Buffer.from(r.buffer,r.byteOffset,r.byteLength):sc.Buffer.from(e(mU.default.enc.Hex.parse(t.toString("hex"))).toString(mU.default.enc.Hex),"hex")}}isHexString(e){return dl.isHexString(e)}log2(e){return e===1?0:1+this.log2(e/2|0)}zip(e,t){return e.map((r,s)=>[r,t[s]])}static hexZeroPad(e,t){return"0x"+e.replace("0x","").padStart(t,"0")}}Ob.Base=dl;Ob.default=dl;var oL=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Tz,"__esModule",{value:!0});Tz.MerkleTree=void 0;const ca=V,Xh=oL(pxt),yU=oL(LT.exports),Sxt=oL(Ine.exports),kxt=oL(Ob);class Xc extends kxt.default{constructor(e,t=yU.default,r={}){if(super(),this.duplicateOdd=!1,this.concatenator=ca.Buffer.concat,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.complete=!1,r.complete){if(r.isBitcoinTree)throw new Error('option "complete" is incompatible with "isBitcoinTree"');if(r.duplicateOdd)throw new Error('option "complete" is incompatible with "duplicateOdd"')}if(this.isBitcoinTree=!!r.isBitcoinTree,this.hashLeaves=!!r.hashLeaves,this.sortLeaves=!!r.sortLeaves,this.sortPairs=!!r.sortPairs,this.complete=!!r.complete,r.fillDefaultHash)if(typeof r.fillDefaultHash=="function")this.fillDefaultHash=r.fillDefaultHash;else if(ca.Buffer.isBuffer(r.fillDefaultHash)||typeof r.fillDefaultHash=="string")this.fillDefaultHash=(s,i)=>r.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.sort=!!r.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!r.duplicateOdd,r.concatenator&&(this.concatenator=r.concatenator),this.hashFn=this.bufferifyFn(t),this.processLeaves(e)}getOptions(){var e,t;return{complete:this.complete,isBitcoinTree:this.isBitcoinTree,hashLeaves:this.hashLeaves,sortLeaves:this.sortLeaves,sortPairs:this.sortPairs,sort:this.sort,fillDefaultHash:(t=(e=this.fillDefaultHash)===null||e===void 0?void 0:e.toString())!==null&&t!==void 0?t:null,duplicateOdd:this.duplicateOdd}}processLeaves(e){if(this.hashLeaves&&(e=e.map(this.hashFn)),this.leaves=e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(ca.Buffer.compare)),this.fillDefaultHash)for(let t=this.leaves.length;t<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));t++)this.leaves.push(this.bufferify(this.fillDefaultHash(t,this.hashFn)));this.createHashes(this.leaves)}createHashes(e){for(this.layers=[e];e.length>1;){const t=this.layers.length;this.layers.push([]);const r=this.complete&&t===1&&!Number.isInteger(Math.log2(e.length))?2*e.length-Math.pow(2,Math.ceil(Math.log2(e.length))):e.length;for(let s=0;s<e.length;s+=2){if(s>=r){this.layers[t].push(...e.slice(r));break}else if(s+1===e.length&&e.length%2===1){const u=e[e.length-1];let l=u;if(this.isBitcoinTree){l=this.hashFn(this.concatenator([Xh.default(u),Xh.default(u)])),l=Xh.default(this.hashFn(l)),this.layers[t].push(l);continue}else if(!this.duplicateOdd){this.layers[t].push(e[s]);continue}}const i=e[s],o=s+1===e.length?i:e[s+1];let a=null;this.isBitcoinTree?a=[Xh.default(i),Xh.default(o)]:a=[i,o],this.sortPairs&&a.sort(ca.Buffer.compare);let c=this.hashFn(this.concatenator(a));this.isBitcoinTree&&(c=Xh.default(this.hashFn(c))),this.layers[t].push(c)}e=this.layers[t]}}addLeaf(e,t=!1){t&&(e=this.hashFn(e)),this.processLeaves(this.leaves.concat(e))}addLeaves(e,t=!1){t&&(e=e.map(this.hashFn)),this.processLeaves(this.leaves.concat(e))}getLeaves(e){return Array.isArray(e)?(this.hashLeaves&&(e=e.map(this.hashFn),this.sortLeaves&&(e=e.sort(ca.Buffer.compare))),this.leaves.filter(t=>this.bufferIndexOf(e,t,this.sortLeaves)!==-1)):this.leaves}getLeaf(e){return e<0||e>this.leaves.length-1?ca.Buffer.from([]):this.leaves[e]}getLeafIndex(e){e=this.bufferify(e);const t=this.getLeaves();for(let r=0;r<t.length;r++)if(t[r].equals(e))return r;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(e=>this.bufferToHex(e))}static marshalLeaves(e){return JSON.stringify(e.map(t=>Xc.bufferToHex(t)),null,2)}static unmarshalLeaves(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(Xc.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((e,t)=>(Array.isArray(t)?e.push(t.map(r=>this.bufferToHex(r))):e.push(t),e),[])}getLayersFlat(){const e=this.layers.reduce((t,r)=>(Array.isArray(r)?t.unshift(...r):t.unshift(r),t),[]);return e.unshift(ca.Buffer.from([0])),e}getHexLayersFlat(){return this.getLayersFlat().map(e=>this.bufferToHex(e))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?ca.Buffer.from([]):this.layers[this.layers.length-1][0]||ca.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(e,t){if(typeof e>"u")throw new Error("leaf is required");e=this.bufferify(e);const r=[];if(!Number.isInteger(t)){t=-1;for(let s=0;s<this.leaves.length;s++)ca.Buffer.compare(e,this.leaves[s])===0&&(t=s)}if(t<=-1)return[];for(let s=0;s<this.layers.length;s++){const i=this.layers[s],o=t%2,a=o?t-1:this.isBitcoinTree&&t===i.length-1&&s<this.layers.length-1?t:t+1;a<i.length&&r.push({position:o?"left":"right",data:i[a]}),t=t/2|0}return r}getHexProof(e,t){return this.getProof(e,t).map(r=>this.bufferToHex(r.data))}getProofs(){const e=[],t=[];return this.getProofsDFS(this.layers.length-1,0,e,t),t}getProofsDFS(e,t,r,s){const i=t%2;if(e===-1){i||s.push([...r].reverse());return}if(t>=this.layers[e].length)return;const o=this.layers[e],a=i?t-1:t+1;let c=!1;a<o.length&&(c=!0,r.push({position:i?"left":"right",data:o[a]}));const u=t*2,l=t*2+1;this.getProofsDFS(e-1,u,r,s),this.getProofsDFS(e-1,l,r,s),c&&r.splice(r.length-1,1)}getHexProofs(){return this.getProofs().map(e=>this.bufferToHex(e.data))}getPositionalHexProof(e,t){return this.getProof(e,t).map(r=>[r.position==="left"?0:1,this.bufferToHex(r.data)])}static marshalProof(e){const t=e.map(r=>typeof r=="string"?r:ca.Buffer.isBuffer(r)?Xc.bufferToHex(r):{position:r.position,data:Xc.bufferToHex(r.data)});return JSON.stringify(t,null,2)}static unmarshalProof(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(r=>{if(typeof r=="string")return Xc.bufferify(r);if(r instanceof Object)return{position:r.position,data:Xc.bufferify(r.data)};throw new Error("Expected item to be of type string or object")})}static marshalTree(e){const t=e.getHexRoot(),r=e.leaves.map(o=>Xc.bufferToHex(o)),s=e.getHexLayers(),i=e.getOptions();return JSON.stringify({options:i,root:t,layers:s,leaves:r},null,2)}static unmarshalTree(e,t=yU.default,r={}){let s=null;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof Object)s=e;else throw new Error("Expected type of string or object");if(!s)throw new Error("could not parse json");return r=Object.assign({},s.options||{},r),new Xc(s.leaves,t,r)}getProofIndices(e,t){const r=Math.pow(2,t);let s=new Set;for(const u of e){let l=r+u;for(;l>1;)s.add(l^1),l=l/2|0}const i=e.map(u=>r+u),o=Array.from(s).sort((u,l)=>u-l).reverse();s=i.concat(o);const a=new Set,c=[];for(let u of s)if(!a.has(u))for(c.push(u);u>1&&(a.add(u),!!a.has(u^1));)u=u/2|0;return c.filter(u=>!e.includes(u-r))}getProofIndicesForUnevenTree(e,t){const r=Math.ceil(Math.log2(t)),s=[];for(let a=0;a<r;a++)t%2!==0&&s.push({index:a,leavesCount:t}),t=Math.ceil(t/2);const i=[];let o=e;for(let a=0;a<r;a++){let u=o.map(d=>d%2===0?d+1:d-1).filter(d=>!o.includes(d));const l=s.find(({index:d})=>d===a);l&&o.includes(l.leavesCount-1)&&(u=u.slice(0,-1)),i.push(u),o=[...new Set(o.map(d=>d%2===0?d/2:d%2===0?(d+1)/2:(d-1)/2))]}return i}getMultiProof(e,t){if(this.complete||console.warn("Warning: For correct multiProofs it's strongly recommended to set complete: true"),t||(t=e,e=this.getLayersFlat()),this.isUnevenTree()&&t.every(Number.isInteger))return this.getMultiProofForUnevenTree(t);if(!t.every(Number.isInteger)){let s=t;this.sortPairs&&(s=s.sort(ca.Buffer.compare));let i=s.map(u=>this.bufferIndexOf(this.leaves,u,this.sortLeaves)).sort((u,l)=>u===l?0:u>l?1:-1);if(!i.every(u=>u!==-1))throw new Error("Element does not exist in Merkle tree");const o=[],a=[];let c=[];for(let u=0;u<this.layers.length;u++){const l=this.layers[u];for(let d=0;d<i.length;d++){const y=i[d],h=this.getPairNode(l,y);o.push(l[y]),h&&a.push(h),c.push(y/2|0)}i=c.filter((d,y,h)=>h.indexOf(d)===y),c=[]}return a.filter(u=>!o.includes(u))}return this.getProofIndices(t,Math.log2(e.length/2|0)).map(s=>e[s])}getMultiProofForUnevenTree(e,t){t||(t=e,e=this.getLayers());let r=[],s=t;for(const i of e){const o=[];for(const c of s){if(c%2===0){const l=c+1;if(!s.includes(l)&&i[l]){o.push(i[l]);continue}}const u=c-1;if(!s.includes(u)&&i[u]){o.push(i[u]);continue}}r=r.concat(o);const a=new Set;for(const c of s){if(c%2===0){a.add(c/2);continue}if(c%2===0){a.add((c+1)/2);continue}a.add((c-1)/2)}s=Array.from(a)}return r}getHexMultiProof(e,t){return this.getMultiProof(e,t).map(r=>this.bufferToHex(r))}getProofFlags(e,t){if(!Array.isArray(e)||e.length<=0)throw new Error("Invalid Inputs!");let r;if(e.every(Number.isInteger)?r=[...e].sort((a,c)=>a===c?0:a>c?1:-1):r=e.map(a=>this.bufferIndexOf(this.leaves,a,this.sortLeaves)).sort((a,c)=>a===c?0:a>c?1:-1),!r.every(a=>a!==-1))throw new Error("Element does not exist in Merkle tree");const s=t.map(a=>this.bufferify(a)),i=[],o=[];for(let a=0;a<this.layers.length;a++){const c=this.layers[a];r=r.reduce((u,l)=>{if(!i.includes(c[l])){const y=this.getPairNode(c,l),h=s.includes(c[l])||s.includes(y);y&&o.push(!h),i.push(c[l]),i.push(y)}return u.push(l/2|0),u},[])}return o}verify(e,t,r){let s=this.bufferify(t);if(r=this.bufferify(r),!Array.isArray(e)||!t||!r)return!1;for(let i=0;i<e.length;i++){const o=e[i];let a=null,c=null;if(typeof o=="string")a=this.bufferify(o),c=!0;else if(Array.isArray(o))c=o[0]===0,a=this.bufferify(o[1]);else if(ca.Buffer.isBuffer(o))a=o,c=!0;else if(o instanceof Object)a=this.bufferify(o.data),c=o.position==="left";else throw new Error("Expected node to be of type string or object");const u=[];this.isBitcoinTree?(u.push(Xh.default(s)),u[c?"unshift":"push"](Xh.default(a)),s=this.hashFn(this.concatenator(u)),s=Xh.default(this.hashFn(s))):this.sortPairs?ca.Buffer.compare(s,a)===-1?(u.push(s,a),s=this.hashFn(this.concatenator(u))):(u.push(a,s),s=this.hashFn(this.concatenator(u))):(u.push(s),u[c?"unshift":"push"](a),s=this.hashFn(this.concatenator(u)))}return ca.Buffer.compare(s,r)===0}verifyMultiProof(e,t,r,s,i){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(e,t,r,s,i);const a=Math.ceil(Math.log2(s));e=this.bufferify(e),r=r.map(d=>this.bufferify(d)),i=i.map(d=>this.bufferify(d));const c={};for(const[d,y]of this.zip(t,r))c[Math.pow(2,a)+d]=y;for(const[d,y]of this.zip(this.getProofIndices(t,a),i))c[d]=y;let u=Object.keys(c).map(d=>+d).sort((d,y)=>d-y);u=u.slice(0,u.length-1);let l=0;for(;l<u.length;){const d=u[l];if(d>=2&&{}.hasOwnProperty.call(c,d^1)){let y=[c[d-d%2],c[d-d%2+1]];this.sortPairs&&(y=y.sort(ca.Buffer.compare));const h=y[1]?this.hashFn(this.concatenator(y)):y[0];c[d/2|0]=h,u.push(d/2|0)}l+=1}return!t.length||{}.hasOwnProperty.call(c,1)&&c[1].equals(e)}verifyMultiProofWithFlags(e,t,r,s){e=this.bufferify(e),t=t.map(this.bufferify),r=r.map(this.bufferify);const i=t.length,o=s.length,a=[];let c=0,u=0,l=0;for(let d=0;d<o;d++){const y=s[d]?c<i?t[c++]:a[u++]:r[l++],h=c<i?t[c++]:a[u++],m=[y,h].sort(ca.Buffer.compare);a[d]=this.hashFn(this.concatenator(m))}return ca.Buffer.compare(a[o-1],e)===0}verifyMultiProofForUnevenTree(e,t,r,s,i){e=this.bufferify(e),r=r.map(a=>this.bufferify(a)),i=i.map(a=>this.bufferify(a));const o=this.calculateRootForUnevenTree(t,r,s,i);return e.equals(o)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const e=this.getLayers().map(r=>r.map(s=>this.bufferToHex(s,!1))),t=[];for(let r=0;r<e.length;r++){const s=[];for(let i=0;i<e[r].length;i++){const o={[e[r][i]]:null};if(t.length){o[e[r][i]]={};const a=t.shift(),c=Object.keys(a)[0];if(o[e[r][i]][c]=a[c],t.length){const u=t.shift(),l=Object.keys(u)[0];o[e[r][i]][l]=u[l]}}s.push(o)}t.push(...s)}return t[0]}static verify(e,t,r,s=yU.default,i={}){return new Xc([],s,i).verify(e,t,r)}static getMultiProof(e,t){return new Xc([]).getMultiProof(e,t)}resetTree(){this.leaves=[],this.layers=[]}getPairNode(e,t){const r=t%2===0?t+1:t-1;return r<e.length?e[r]:null}toTreeString(){const e=this.getLayersAsObject();return Sxt.default.asTree(e,!0)}toString(){return this.toTreeString()}isUnevenTree(e){const t=(e==null?void 0:e.length)||this.getDepth();return!this.isPowOf2(t)}isPowOf2(e){return e&&!(e&e-1)}calculateRootForUnevenTree(e,t,r,s){const i=this.zip(e,t).sort(([d],[y])=>d-y),o=i.map(([d])=>d),a=this.getProofIndicesForUnevenTree(o,r);let c=0;const u=[];for(let d=0;d<a.length;d++){const y=a[d],h=c;c+=y.length,u[d]=this.zip(y,s.slice(h,c))}const l=[i];for(let d=0;d<u.length;d++){const y=u[d].concat(l[d]).sort(([g],[b])=>g-b).map(([,g])=>g),h=l[d].map(([g])=>g),m=[...new Set(h.map(g=>g%2===0?g/2:g%2===0?(g+1)/2:(g-1)/2))],f=[];for(let g=0;g<m.length;g++){const b=m[g],S=y[g*2],p=y[g*2+1],I=p?this.hashFn(this.concatenator([S,p])):S;f.push([b,I])}l.push(f)}return l[l.length-1][0][1]}}Tz.MerkleTree=Xc;typeof window<"u"&&(window.MerkleTree=Xc);Tz.default=Xc;var Cz={},rMe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Cz,"__esModule",{value:!0});Cz.MerkleMountainRange=void 0;const EC=V,vxt=rMe(LT.exports),Axt=rMe(Ob);class Ene extends Axt.default{constructor(e=vxt.default,t=[],r,s,i){super(),this.root=EC.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},t=t.map(this.bufferify),this.hashFn=this.bufferifyFn(e),this.hashLeafFn=r,this.peakBaggingFn=s,this.hashBranchFn=i;for(const o of t)this.append(o)}append(e){e=this.bufferify(e);const t=this.hashFn(e),r=this.bufferToHex(t);(!this.data[r]||this.bufferToHex(this.hashFn(this.data[r]))!==r)&&(this.data[r]=e);const s=this.hashLeaf(this.size+1,t);this.hashes[this.size+1]=s,this.width+=1;const i=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const o=[];for(let a=0;a<i.length;a++)o[a]=this._getOrCreateNode(i[a]);this.root=this.peakBagging(this.width,o)}hashLeaf(e,t){return t=this.bufferify(t),this.hashLeafFn?this.bufferify(this.hashLeafFn(e,t)):this.hashFn(EC.Buffer.concat([this.bufferify(e),t]))}hashBranch(e,t,r){return this.hashBranchFn?this.bufferify(this.hashBranchFn(e,t,r)):this.hashFn(EC.Buffer.concat([this.bufferify(e),this.bufferify(t),this.bufferify(r)]))}getPeaks(){const e=this.getPeakIndexes(this.width),t=[];for(let r=0;r<e.length;r++)t[r]=this.hashes[e[r]];return t}getLeafIndex(e){return e%2===1?this.getSize(e):this.getSize(e-1)+1}getPeakIndexes(e){const t=this.numOfPeaks(e),r=[];let s=0,i=0;for(let o=255;o>0&&!((e&1<<o-1)!==0&&(i=i+(1<<o)-1,r[s++]=i,r.length>=t));o--);if(s!==r.length)throw new Error("invalid bit calculation");return r}numOfPeaks(e){let t=e,r=0;for(;t>0;)t%2===1&&r++,t=t>>1;return r}peakBagging(e,t){const r=this.getSize(e);if(this.numOfPeaks(e)!==t.length)throw new Error("received invalid number of peaks");return e===0&&!t.length?EC.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(r,t)):this.hashFn(EC.Buffer.concat([this.bufferify(r),...t.map(this.bufferify)]))}getSize(e){return(e<<1)-this.numOfPeaks(e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(e){return this.hashes[e]}mountainHeight(e){let t=1;for(;1<<t<=e+t;)t++;return t-1}heightAt(e){let t=e,r=0,s=0;for(;t>r;)t-=(1<<s)-1,s=this.mountainHeight(t),r=(1<<s)-1;return s-(r-t)}isLeaf(e){return this.heightAt(e)===1}getChildren(e){const t=e-(1<<this.heightAt(e)-1),r=e-1;if(t===r)throw new Error("not a parent");return[t,r]}getMerkleProof(e){if(e>this.size)throw new Error("out of range");if(!this.isLeaf(e))throw new Error("not a leaf");const t=this.root,r=this.width,s=this.getPeakIndexes(this.width),i=[];let o=0;for(let d=0;d<s.length;d++)i[d]=this.hashes[s[d]],s[d]>=e&&o===0&&(o=s[d]);let a=0,c=0,u=this.heightAt(o);const l=[];for(;o!==e;)u--,[a,c]=this.getChildren(o),o=e<=a?a:c,l[u-1]=this.hashes[e<=a?c:a];return{root:t,width:r,peakBagging:i,siblings:l}}verify(e,t,r,s,i,o){if(s=this.bufferify(s),this.getSize(t)<r)throw new Error("index is out of range");if(!e.equals(this.peakBagging(t,i)))throw new Error("invalid root hash from the peaks");let c=0,u;const l=this.getPeakIndexes(t);for(let g=0;g<l.length;g++)if(l[g]>=r){u=i[g],c=l[g];break}if(!u)throw new Error("target not found");let d=o.length+1;const y=new Array(d);let h=0,m=0;for(;d>0&&(y[--d]=c,c!==r);)[h,m]=this.getChildren(c),c=r>h?m:h;let f;for(;d<y.length;)c=y[d],d===0?f=this.hashLeaf(c,this.hashFn(s)):c-1===y[d-1]?f=this.hashBranch(c,o[d-1],f):f=this.hashBranch(c,f,o[d-1]),d++;if(!f.equals(u))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(e,t){const r={};let s=0,i=0,o=t.length;for(let a=1;a<=32;a++)s=32-a,i=1<<a-1,(e&i)!==0?r[s]=t[--o]:r[s]=0;if(o!==0)throw new Error("invalid number of peaks");return r}peakMapToPeaks(e,t){const r=this.numOfPeaks(e),s=new Array(r);let i=0;for(let o=0;o<32;o++)t[o]!==0&&(s[i++]=t[o]);if(i!==r)throw new Error("invalid number of peaks");return s}peakUpdate(e,t,r){const s={},i=e+1;let o=this.getLeafIndex(i),a=this.hashLeaf(o,r),c=0,u=0,l=!1,d=!1,y=!1;for(let h=1;h<=32;h++)c=32-h,y?s[c]=t[c]:(u=1<<h-1,l=(e&u)!==0,d=(i&u)!==0,o++,l&&(a=this.hashBranch(o,t[c],a)),d?(l?s[c]=t[c]:s[c]=a,y=!0):s[c]=0);return s}rollUp(e,t,r,s){if(!e.equals(this.peakBagging(t,r)))throw new Error("invalid root hash from the peaks");let i=t,o=this.peaksToPeakMap(t,r);for(let a=0;a<s.length;a++)o=this.peakUpdate(i,o,s[a]),i++;return this.peakBagging(i,this.peakMapToPeaks(i,o))}_getOrCreateNode(e){if(e>this.size)throw new Error("out of range");if(!this.hashes[e]){const[t,r]=this.getChildren(e),s=this._getOrCreateNode(t),i=this._getOrCreateNode(r);this.hashes[e]=this.hashBranch(e,s,i)}return this.hashes[e]}}Cz.MerkleMountainRange=Ene;typeof window<"u"&&(window.MerkleMountainRange=Ene);Cz.default=Ene;var Mz={},nMe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mz,"__esModule",{value:!0});Mz.IncrementalMerkleTree=void 0;const wxt=nMe(Ob),Ixt=nMe(Ine.exports);class xne extends wxt.default{constructor(e,t){if(super(),this.hashFn=e,t.depth&&(this.depth=t.depth),t.arity&&(this.arity=t.arity),this.depth<1)throw new Error("depth must be greater than 0");if(this.arity<1)throw new Error("arity must be greater than 0");const r=[];let s=t.zeroValue;if(this.zeroValue=s,this.zeroes=[],this.depth)for(let i=0;i<this.depth;i++)this.zeroes.push(s),r[i]=[],s=this.hashFn(Array(this.arity).fill(s));this.nodes=r,this.root=s}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.bufferify(this.getRoot()))}insert(e){if(this.depth&&this.arity&&this.nodes[0].length>=this.getMaxLeaves())throw new Error("tree is full");let t=e,r=this.nodes[0].length;for(let s=0;s<this.depth;s+=1){const i=r%this.arity,o=r-i,a=o+this.arity,c=[];this.nodes[s][r]=t;for(let u=o;u<a;u+=1)u<this.nodes[s].length?c.push(this.nodes[s][u]):c.push(this.zeroes[s]);t=this.hashFn(c),r=Math.floor(r/this.arity)}this.root=t}delete(e){this.update(e,this.zeroValue)}update(e,t){if(e<0||e>=this.nodes[0].length)throw new Error("out of bounds");let r=t;for(let s=0;s<this.depth;s+=1){const i=e%this.arity,o=e-i,a=o+this.arity,c=[];this.nodes[s][e]=r;for(let u=o;u<a;u+=1)u<this.nodes[s].length?c.push(this.nodes[s][u]):c.push(this.zeroes[s]);r=this.hashFn(c),e=Math.floor(e/this.arity)}this.root=r}getDepth(){return this.depth}getArity(){return this.arity}getMaxLeaves(){return Math.pow(this.depth,this.arity)}indexOf(e){return this.nodes[0].indexOf(e)}getLeaves(){const e=this.copyList(this.nodes[0]),t=this.nodes[0].length;for(let r=t;r<this.getMaxLeaves();r++)e[r]=this.zeroValue;return e}copyList(e){return e.map(t=>BigInt(t))}getLayers(){const e=[];for(const t of this.nodes)e.push(this.copyList(t));if(e[0].length<this.getMaxLeaves()){let t=e[0].length;for(let r=t;r<this.getMaxLeaves();r++)e[0][r]=this.zeroValue;for(let r=0;r<this.depth;r++){const s=t%this.arity,i=t-s,o=i+this.arity;for(let a=i;a<o;a++)a>=e[r].length&&(e[r][a]=this.zeroes[r]);t=Math.floor(t/this.arity)}}return e.push([this.root]),e}getHexLayers(){return this.getLayers().reduce((e,t)=>(Array.isArray(t)?e.push(t.map(r=>this.bufferToHex(this.bufferify(r)))):e.push(t),e),[])}getLayersAsObject(){const e=this.getLayers().map(r=>r.map(s=>this.bufferToHex(this.bufferify(s),!1))),t=[];for(let r=0;r<e.length;r++){const s=[];for(let i=0;i<e[r].length;i++){const o={[e[r][i]]:null};if(t.length){o[e[r][i]]={};const a=t.shift(),c=Object.keys(a)[0];if(o[e[r][i]][c]=a[c],t.length){const u=t.shift(),l=Object.keys(u)[0];o[e[r][i]][l]=u[l]}}s.push(o)}t.push(...s)}return t[0]}computeRoot(){let e,t=this.nodes[0].length;for(let r=0;r<this.depth;r+=1){const s=t%this.arity,i=t-s,o=i+this.arity,a=[];for(let c=i;c<o;c+=1)c<this.nodes[r].length?a.push(this.nodes[r][c]):a.push(this.zeroes[r]);e=this.hashFn(a),t=Math.floor(t/this.arity)}return e}getProof(e){if(e<0||e>=this.nodes[0].length)throw new Error("The leaf does not exist in this tree");const t=[],r=[],s=e;for(let i=0;i<this.depth;i+=1){const o=e%this.arity,a=e-o,c=a+this.arity;r[i]=o,t[i]=[];for(let u=a;u<c;u+=1)u!==e&&(u<this.nodes[i].length?t[i].push(this.nodes[i][u]):t[i].push(this.zeroes[i]));e=Math.floor(e/this.arity)}return{root:this.root,leaf:this.nodes[0][s],pathIndices:r,siblings:t}}verify(e){let t=e.leaf;for(let r=0;r<e.siblings.length;r+=1){const s=e.siblings[r].slice();s.splice(e.pathIndices[r],0,t),t=this.hashFn(s)}return e.root===t}toString(){return this.toTreeString()}toTreeString(){const e=this.getLayersAsObject();return Ixt.default.asTree(e,!0)}}Mz.IncrementalMerkleTree=xne;typeof window<"u"&&(window.IncrementalMerkleTree=xne);Mz.default=xne;var sd={};Object.defineProperty(sd,"__esModule",{value:!0});sd.MerkleSumTree=sd.ProofStep=sd.Leaf=sd.Bucket=void 0;const _xt=Ob;class NO{constructor(e,t){this.size=BigInt(e),this.hashed=t,this.parent=null,this.left=null,this.right=null}}sd.Bucket=NO;class Pxt{constructor(e,t,r){this.hashFn=e,this.rng=t.map(s=>BigInt(s)),this.data=r}getBucket(){let e;return this.data?e=this.hashFn(this.data):e=Ve.Buffer.alloc(32),new NO(BigInt(this.rng[1])-BigInt(this.rng[0]),e)}}sd.Leaf=Pxt;class sMe{constructor(e,t){this.bucket=e,this.right=t}}sd.ProofStep=sMe;class Bz extends _xt.Base{constructor(e,t){super(),this.leaves=e,this.hashFn=t,Bz.checkConsecutive(e),this.buckets=[];for(const s of e)this.buckets.push(s.getBucket());let r=[];for(const s of this.buckets)r.push(s);for(;r.length!==1;){const s=[];for(;r.length;)if(r.length>=2){const i=r.shift(),o=r.shift(),a=i.size+o.size,c=this.hashFn(Ve.Buffer.concat([this.sizeToBuffer(i.size),this.bufferify(i.hashed),this.sizeToBuffer(o.size),this.bufferify(o.hashed)])),u=new NO(a,c);o.parent=u,i.parent=o.parent,i.right=o,o.left=i,s.push(u)}else s.push(r.shift());r=s}this.root=r[0]}sizeToBuffer(e){const t=Ve.Buffer.alloc(8);return new DataView(t.buffer).setBigInt64(0,BigInt(e),!1),t}static checkConsecutive(e){let t=BigInt(0);for(const r of e){if(r.rng[0]!==t)throw new Error("leaf ranges are invalid");t=BigInt(r.rng[1])}}getProof(e){let t=this.buckets[Number(e)];const r=[];for(;t&&t.parent;){const s=!!t.right,i=t.right?t.right:t.left;t=t.parent,r.push(new sMe(i,s))}return r}sum(e){let t=BigInt(0);for(const r of e)t+=BigInt(r);return t}verifyProof(e,t,r){const s=[this.sum(r.filter(a=>!a.right).map(a=>a.bucket.size)),BigInt(e.size)-this.sum(r.filter(a=>a.right).map(a=>a.bucket.size))];if(!(s[0]===t.rng[0]&&s[1]===t.rng[1]))return!1;let i=t.getBucket(),o;for(const a of r)a.right?o=this.hashFn(Ve.Buffer.concat([this.sizeToBuffer(i.size),this.bufferify(i.hashed),this.sizeToBuffer(a.bucket.size),this.bufferify(a.bucket.hashed)])):o=this.hashFn(Ve.Buffer.concat([this.sizeToBuffer(a.bucket.size),this.bufferify(a.bucket.hashed),this.sizeToBuffer(i.size),this.bufferify(i.hashed)])),i=new NO(BigInt(i.size)+BigInt(a.bucket.size),o);return i.size===e.size&&i.hashed.toString("hex")===e.hashed.toString("hex")}}sd.MerkleSumTree=Bz;typeof window<"u"&&(window.MerkleSumTree=Bz);sd.default=Bz;(function(n){var e=K&&K.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.MerkleTree=void 0;const t=e(Tz);n.MerkleTree=t.default;var r=Cz;Object.defineProperty(n,"MerkleMountainRange",{enumerable:!0,get:function(){return r.MerkleMountainRange}});var s=Mz;Object.defineProperty(n,"IncrementalMerkleTree",{enumerable:!0,get:function(){return s.IncrementalMerkleTree}});var i=sd;Object.defineProperty(n,"MerkleSumTree",{enumerable:!0,get:function(){return i.MerkleSumTree}}),n.default=t.default})(T2e);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMerkleProofAtIndex=n.getMerkleProof=n.getMerkleRoot=void 0;const e=Z,t=KEe,r=T2e,s=(c,u)=>new r.MerkleTree([...c.map(l=>(0,e.publicKeyBytes)(l)),...Array(2**u-c.length).fill(0).map(()=>new Uint8Array(32).fill(0))],t.keccak_256),i=(c,u)=>(0,e.publicKey)(s(c,u).getRoot());n.getMerkleRoot=i;const o=(c,u,l,d)=>s(c,u).getProof(Ve.Buffer.from((0,e.publicKeyBytes)(l)),d).map(y=>(0,e.publicKey)(y.data));n.getMerkleProof=o;const a=(c,u,l)=>(0,n.getMerkleProof)(c,u,c[l],l);n.getMerkleProofAtIndex=a})(x2e);var aL={},iMe={},zz={},$z={};Object.defineProperty($z,"__esModule",{value:!0});$z.DasApiError=void 0;class Ext extends Error{constructor(){super(...arguments),this.name="DasApiError"}}$z.DasApiError=Ext;Object.defineProperty(zz,"__esModule",{value:!0});zz.createDasApiDecorator=void 0;const al=$z,xxt=n=>({...n,getAsset:async e=>{const t=await n.call("getAsset",[e]);if(!t)throw new al.DasApiError(`Asset not found: ${e}`);return t},getAssetProof:async e=>{const t=await n.call("getAssetProof",[e]);if(!t)throw new al.DasApiError(`No proof found for asset: ${e}`);return t},getAssetsByAuthority:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new al.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByAuthority",[e.authority,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new al.DasApiError(`No assets found for authority: ${e.authority}`);return t},getAssetsByCreator:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new al.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByCreator",[e.creator,e.onlyVerified,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new al.DasApiError(`No assets found for creator: ${e.creator}`);return t},getAssetsByGroup:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new al.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByGroup",[e.groupKey,e.groupValue,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new al.DasApiError(`No assets found for group: ${e.groupKey} => ${e.groupValue}`);return t},getAssetsByOwner:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new al.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByOwner",[e.owner,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new al.DasApiError(`No assets found for owner: ${e.owner}`);return t},searchAssets:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new al.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("searchAssets",[e.negate??null,e.conditionType??null,e.interface??null,e.owner??null,e.ownerType??null,e.creator??null,e.creatorVerified??null,e.authority??null,e.grouping??null,e.delegate??null,e.frozen??null,e.supply??null,e.supplyMint??null,e.compressed??null,e.compressible??null,e.royaltyModel??null,e.royaltyTarget??null,e.royaltyAmount??null,e.burnt??null,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null,e.jsonUri??null]);if(!t)throw new al.DasApiError("No assets found for the given search criteria");return t}});zz.createDasApiDecorator=xxt;var cL={};Object.defineProperty(cL,"__esModule",{value:!0});cL.dasApi=void 0;const Txt=zz,Rxt=()=>({install(n){n.rpc=(0,Txt.createDasApiDecorator)(n.rpc)}});cL.dasApi=Rxt;var oMe={};Object.defineProperty(oMe,"__esModule",{value:!0});(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(zz,n),t($z,n),t(cL,n),t(oMe,n)})(iMe);Object.defineProperty(aL,"__esModule",{value:!0});aL.mplBubblegum=void 0;const Cxt=iMe,pU=am,Mxt=()=>({install(n){n.use((0,Cxt.dasApi)()),n.programs.add((0,pU.createMplBubblegumProgram)(),!1),n.programs.add((0,pU.createSplAccountCompressionProgram)(),!1),n.programs.add((0,pU.createSplNoopProgram)(),!1)}});aL.mplBubblegum=Mxt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(y6,n),t(nL,n),t(am,n),t(sL,n),t(Gu,n),t(yh,n),t(Gg,n),t(x2e,n),t(aL,n)})(jJ);var Oc={},Dz={},bk={};Object.defineProperty(bk,"__esModule",{value:!0});var Bxt=qs;function zxt(n){return n.toBase58()}function $xt(n){return new Bxt.PublicKey(n)}bk.fromWeb3JsPublicKey=zxt;bk.toWeb3JsPublicKey=$xt;Object.defineProperty(Dz,"__esModule",{value:!0});var Dxt=qs,Oxt=V,FO=bk;function Kxt(n){return{keys:n.keys.map(e=>({...e,pubkey:FO.fromWeb3JsPublicKey(e.pubkey)})),programId:FO.fromWeb3JsPublicKey(n.programId),data:new Uint8Array(n.data)}}function Lxt(n){return new Dxt.TransactionInstruction({keys:n.keys.map(e=>({...e,pubkey:FO.toWeb3JsPublicKey(e.pubkey)})),programId:FO.toWeb3JsPublicKey(n.programId),data:Oxt.Buffer.from(n.data)})}Dz.fromWeb3JsInstruction=Kxt;Dz.toWeb3JsInstruction=Lxt;var uL={};Object.defineProperty(uL,"__esModule",{value:!0});var Wxt=Z,Nxt=qs,Fxt=bk;function Uxt(n){return{publicKey:Fxt.fromWeb3JsPublicKey(n.publicKey),secretKey:n.secretKey}}function Vxt(n){return new Nxt.Keypair({publicKey:Wxt.publicKeyBytes(n.publicKey),secretKey:n.secretKey})}uL.fromWeb3JsKeypair=Uxt;uL.toWeb3JsKeypair=Vxt;var WT={},NT={};Object.defineProperty(NT,"__esModule",{value:!0});var qxt=Z,U2=qs,epe=Dz,Kg=bk;function jxt(n){return{version:n.version,header:n.header,accounts:n.staticAccountKeys.map(Kg.fromWeb3JsPublicKey),blockhash:n.recentBlockhash,instructions:n.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:n.addressTableLookups.map(e=>({publicKey:Kg.fromWeb3JsPublicKey(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function Hxt(n){return n.version==="legacy"?new U2.Message({header:n.header,accountKeys:n.accounts.map(Kg.toWeb3JsPublicKey),recentBlockhash:n.blockhash,instructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accounts:e.accountIndexes,data:qxt.base58.deserialize(e.data)[0]}))}):new U2.MessageV0({header:n.header,staticAccountKeys:n.accounts.map(Kg.toWeb3JsPublicKey),recentBlockhash:n.blockhash,compiledInstructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accountKeyIndexes:e.accountIndexes,data:e.data})),addressTableLookups:n.addressLookupTables.map(e=>({accountKey:Kg.toWeb3JsPublicKey(e.publicKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))})}function Gxt(n){var e;return n.version==="legacy"?U2.Message.compile({payerKey:Kg.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(epe.toWeb3JsInstruction),recentBlockhash:n.blockhash}):U2.MessageV0.compile({payerKey:Kg.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(epe.toWeb3JsInstruction),recentBlockhash:n.blockhash,addressLookupTableAccounts:(e=n.addressLookupTables)==null?void 0:e.map(t=>new U2.AddressLookupTableAccount({key:Kg.toWeb3JsPublicKey(t.publicKey),state:{addresses:t.addresses.map(Kg.toWeb3JsPublicKey),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}NT.fromWeb3JsMessage=jxt;NT.toWeb3JsMessage=Hxt;NT.toWeb3JsMessageFromInput=Gxt;Object.defineProperty(WT,"__esModule",{value:!0});var Yxt=Z,Tne=qs,Rne=NT;function Zxt(n){return{message:Rne.fromWeb3JsMessage(n.message),serializedMessage:n.message.serialize(),signatures:n.signatures}}function aMe(n){return new Tne.VersionedTransaction(Rne.toWeb3JsMessage(n.message),n.signatures)}function Jxt(n){const e=n.compileMessage(),t=n.signatures.reduce((s,i)=>(s[i.publicKey.toBase58()]=i.signature?new Uint8Array(i.signature):null,s),{}),r=[];for(let s=0;s<e.header.numRequiredSignatures;s+=1){const i=e.accountKeys[s].toBase58(),o=t[i]??null;r.push(o??new Uint8Array(Tne.SIGNATURE_LENGTH_IN_BYTES))}return{message:Rne.fromWeb3JsMessage(e),serializedMessage:e.serialize(),signatures:r}}function Xxt(n){const e=aMe({...n,message:{...n.message,version:"legacy"}});return Tne.Transaction.populate(e.message,e.signatures.map(t=>Yxt.base58.deserialize(t)[0]))}WT.fromWeb3JsLegacyTransaction=Jxt;WT.fromWeb3JsTransaction=Zxt;WT.toWeb3JsLegacyTransaction=Xxt;WT.toWeb3JsTransaction=aMe;Object.defineProperty(Oc,"__esModule",{value:!0});var cMe=Dz,uMe=uL,lMe=bk,lL=WT,Cne=NT;Oc.fromWeb3JsInstruction=cMe.fromWeb3JsInstruction;Oc.toWeb3JsInstruction=cMe.toWeb3JsInstruction;Oc.fromWeb3JsKeypair=uMe.fromWeb3JsKeypair;Oc.toWeb3JsKeypair=uMe.toWeb3JsKeypair;Oc.fromWeb3JsPublicKey=lMe.fromWeb3JsPublicKey;Oc.toWeb3JsPublicKey=lMe.toWeb3JsPublicKey;Oc.fromWeb3JsLegacyTransaction=lL.fromWeb3JsLegacyTransaction;Oc.fromWeb3JsTransaction=lL.fromWeb3JsTransaction;Oc.toWeb3JsLegacyTransaction=lL.toWeb3JsLegacyTransaction;Oc.toWeb3JsTransaction=lL.toWeb3JsTransaction;Oc.fromWeb3JsMessage=Cne.fromWeb3JsMessage;Oc.toWeb3JsMessage=Cne.toWeb3JsMessage;Oc.toWeb3JsMessageFromInput=Cne.toWeb3JsMessageFromInput;var dL={},fL={};(function(n){var e=K&&K.__decorate||function(y,h,m,f){var g=arguments.length,b=g<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,m):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,h,m,f);else for(var p=y.length-1;p>=0;p--)(S=y[p])&&(b=(g<3?S(b):g>3?S(h,m,b):S(h,m))||b);return g>3&&b&&Object.defineProperty(h,m,b),b},t=K&&K.__metadata||function(y,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,h)},r=K&&K.__awaiter||function(y,h,m,f){function g(b){return b instanceof m?b:new m(function(S){S(b)})}return new(m||(m=Promise))(function(b,S){function p(w){try{A(f.next(w))}catch(_){S(_)}}function I(w){try{A(f.throw(w))}catch(_){S(_)}}function A(w){w.done?b(w.value):g(w.value).then(p,I)}A((f=f.apply(y,h||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.StarbasePlayer=n.starbasePlayerDataEquals=n.STAR_BASE_PLAYER_MIN_DATA_SIZE=void 0;const i=rl,o=qs,a=FK,c=nr,u=el;n.STAR_BASE_PLAYER_MIN_DATA_SIZE=8+1+32+32+32+32+1+4+4+8+8+4+4;function l(y,h){return y.version===h.version&&y.playerProfile.equals(h.playerProfile)&&y.gameId.equals(h.gameId)&&y.starbase.equals(h.starbase)&&y.sagePlayerProfile.equals(h.sagePlayerProfile)&&y.bump===h.bump&&y.shipEscrowCount==h.shipEscrowCount&&y.updatedShipEscrowCount==h.updatedShipEscrowCount&&y.updateId.eq(h.updateId)&&y.oldTotalCrew==h.oldTotalCrew&&y.newTotalCrew==h.newTotalCrew&&y.busyCrew.eq(h.busyCrew)}n.starbasePlayerDataEquals=l;let d=s=class{constructor(h,m,f){this._data=h,this._key=m,this._wrappedShipEscrows=f}get data(){return this._data}get key(){return this._key}get wrappedShipEscrows(){return this._wrappedShipEscrows||[]}totalCrew(h=u.CREW_FEATURE){return h?this.data.newTotalCrew:this.data.oldTotalCrew}static findAddress(h,m,f,g){const b=new ArrayBuffer(2),S=new DataView(b);S.setUint16(0,g,!0);const p=new Uint8Array(S.buffer);return o.PublicKey.findProgramAddressSync([Ve.Buffer.from("starbase_player"),m.toBuffer(),f.toBuffer(),p],h.programId)}static registerStarbasePlayer(h,m,f,g,b,S,p){return I=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.registerStarbasePlayer().accountsStrict({profileFaction:m,funder:I.publicKey(),gameAccounts:{gameId:b,gameState:S},sagePlayerProfile:f,starbase:g,starbasePlayer:this.findAddress(h,g,f,p)[0],systemProgram:o.SystemProgram.programId}).instruction(),signers:[I]}]})}static syncStarbasePlayer(h,m,f,g,b){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.syncStarbasePlayer().accountsStrict({starbaseAndStarbasePlayer:{starbase:f,starbasePlayer:m},gameAccounts:{gameId:g,gameState:b}}).instruction(),signers:[]}]})}static createCargoPod(h,m,f,g,b,S,p,I,A,w,_){const P=a.CargoPod.findAddress(m,Ve.Buffer.from(_.podSeeds))[0];return M=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.createCargoPod(_).accountsStrict({funder:M.publicKey(),starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:A},gameState:w},cargoPod:P,cargoStatsDefinition:I,cargoProgram:m.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[g,M]}]})}static depositCargoToGame(h,m,f,g,b,S,p,I,A,w,_,P,M,E,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.depositCargoToGame(T).accountsStrict({starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:M},gameState:E},cargoPod:I,cargoType:A,cargoStatsDefinition:w,tokenFrom:_,tokenTo:P,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static withdrawCargoFromGame(h,m,f,g,b,S,p,I,A,w,_,P,M,E,T,z,O){return R=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.withdrawCargoFromGame(O).accountsStrict({fundsTo:b==="funder"?R.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:T},gameState:z},cargoPod:A,cargoType:w,cargoStatsDefinition:_,tokenFrom:P,tokenTo:M,tokenMint:E,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static transferCargoAtStarbase(h,m,f,g,b,S,p,I,A,w,_,P,M,E,T,z,O,R){return v=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.transferCargoAtStarbase(R).accountsStrict({fundsTo:b==="funder"?v.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:z},gameState:O},cargoPodFrom:A,cargoPodTo:w,cargoType:_,cargoStatsDefinition:P,tokenFrom:M,tokenTo:E,tokenMint:T,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static closeStarbaseCargoTokenAccount(h,m,f,g,b,S,p,I,A,w,_,P,M,E,T,z){return O=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.closeStarbaseCargoTokenAccount(z).accountsStrict({fundsTo:b==="funder"?O.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:E},gameState:T},cargoPod:A,cargoType:w,cargoStatsDefinition:_,token:P,tokenMint:M,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static removeCargoPod(h,m,f,g,b,S,p,I,A,w,_,P){return M=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.removeCargoPod(P).accountsStrict({fundsTo:p==="funder"?M.publicKey():p,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:w},gameState:_},cargoPod:A,cargoProgram:m.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[g]}]})}static mintCertificate(h,m,f,g,b,S,p,I,A,w,_,P,M,E,T,z,O,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.mintCertificate(R.keyIndex,R.amount).accountsStrict({starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:z},gameState:O},certificateTokenTo:_,certificateMint:P,cargoTokenFrom:M,cargoTokenTo:E,cargoMint:T,cargoPod:I,cargoType:A,cargoStatsDefinition:w,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID,token2022Program:i.TOKEN_2022_PROGRAM_ID}).instruction(),signers:[g]}]})}static redeemCertificate(h,m,f,g,b,S,p,I,A,w,_,P,M,E,T,z,O,R,v,k){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.redeemCertificate(k.keyIndex,k.amount).accountsStrict({certificateOwnerAuthority:M.publicKey(),fundsTo:p==="funder"?x.publicKey():p,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:R},gameState:v},certificateTokenFrom:P,certificateMint:E,cargoTokenFrom:T,cargoTokenTo:z,cargoMint:O,cargoPod:A,cargoType:w,cargoStatsDefinition:_,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID,token2022Program:i.TOKEN_2022_PROGRAM_ID}).instruction(),signers:[g,M]}]})}static decodeData(h,m){return(0,c.decodeAccountWithRemaining)(h,m,s,(g,b)=>Array(b.shipEscrowCount).fill(0).map((S,p)=>m.coder.types.decode("WrappedShipEscrow",g.subarray(48*p).subarray(0,48))))}};n.StarbasePlayer=d,d.ACCOUNT_NAME="starbasePlayer",d.MIN_DATA_SIZE=n.STAR_BASE_PLAYER_MIN_DATA_SIZE,n.StarbasePlayer=d=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],d)})(fL);(function(n){var e=K&&K.__awaiter||function(A,w,_,P){function M(E){return E instanceof _?E:new _(function(T){T(E)})}return new(_||(_=Promise))(function(E,T){function z(v){try{R(P.next(v))}catch(k){T(k)}}function O(v){try{R(P.throw(v))}catch(k){T(k)}}function R(v){v.done?E(v.value):M(v.value).then(z,O)}R((P=P.apply(A,w||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.divideIntoParts=n.normalizePublicKey=n.findExtraAccountMetaListAddress=n.findCertificateMintAddress=n.cleanUpStarbaseCargoPods=n.getPodCleanupInstructions=n.getCleanPodsByStarbasePlayerAccounts=n.cleanCargoPodsByStarbasePlayer=n.getCargoPodsByAuthority=n.getStarbasePlayersByProfile=n.getTokenAmountToReachTargetStat=n.getCargoSpaceUsedByTokenAmount=n.getUsedCargoSpace=n.SAGE_CARGO_STAT_VALUE_INDEX=void 0;const t=rl,r=qs,s=cc,i=FK,o=nr,a=fL;n.SAGE_CARGO_STAT_VALUE_INDEX=0;const c=A=>A.stats[n.SAGE_CARGO_STAT_VALUE_INDEX];n.getUsedCargoSpace=c;const u=(A,w)=>w.mul(A.stats[n.SAGE_CARGO_STAT_VALUE_INDEX]);n.getCargoSpaceUsedByTokenAmount=u;const l=(A,w)=>{const _=A.stats[n.SAGE_CARGO_STAT_VALUE_INDEX];return _.gt(new s.BN(0))?w.div(_):w};n.getTokenAmountToReachTargetStat=l;const d=(A,w,_,P)=>e(void 0,void 0,void 0,function*(){return yield(0,o.readAllFromRPC)(A,w,a.StarbasePlayer,"processed",[{memcmp:{offset:8+1,bytes:_.toBase58()}},{memcmp:{offset:8+1+32,bytes:P.toBase58()}}])});n.getStarbasePlayersByProfile=d;const y=(A,w,_)=>e(void 0,void 0,void 0,function*(){return yield(0,o.readAllFromRPC)(A,w,i.CargoPod,"processed",[{memcmp:{offset:8+1+32,bytes:_.toBase58()}}])});n.getCargoPodsByAuthority=y;const h=(A,w,_,P,M,E,T,z,O,R,v,k)=>e(void 0,void 0,void 0,function*(){const x=[],C=[],B=yield(0,n.getCargoPodsByAuthority)(A,_,P);if(B.length>1){let D=B.map(W=>{if(W.type==="error")throw new Error("Error reading CargoPod account");return W.data});const $=D.reduce(function(W,L){return W.data.openTokenAccounts>L.data.openTokenAccounts?W:L});D=D.filter(W=>!W.key.equals($.key));for(let W=0;W<D.length;W++){const L=D[W],U=yield(0,o.getParsedTokenAccountsByOwner)(A,L.key);if(U.length>0)for(let G=0;G<U.length;G++){const J=U[G],Q=i.CargoType.findAddress(_,z,J.mint,L.data.seqId)[0];if(Number(J.delegatedAmount)>0){const Y=(0,o.createAssociatedTokenAccountIdempotent)(J.mint,$.key,!0,t.TOKEN_PROGRAM_ID),X=Y.address.toBase58();C.includes(X)||(C.push(X),x.push(Y.instructions));const re=a.StarbasePlayer.transferCargoAtStarbase(w,_,P,v,"funder",E,T,M,L.key,$.key,Q,z,J.address,Y.address,J.mint,O,R,{amount:new s.BN(J.delegatedAmount.toString()),keyIndex:k});x.push(re)}else{const Y=a.StarbasePlayer.closeStarbaseCargoTokenAccount(w,_,P,v,"funder",E,T,M,L.key,Q,z,J.address,J.mint,O,R,{keyIndex:k});x.push(Y)}}x.push(a.StarbasePlayer.removeCargoPod(w,_,P,v,E,T,"funder",M,L.key,O,R,{keyIndex:k}))}}return x});n.cleanCargoPodsByStarbasePlayer=h;const m=(A,w,_)=>e(void 0,void 0,void 0,function*(){const P=yield(0,n.getCargoPodsByAuthority)(A,w,_);if(P.length>1){let M=P.map(z=>{if(z.type==="error")throw new Error("Error reading CargoPod account");return z.data});const E=M.reduce(function(z,O){return z.data.openTokenAccounts>O.data.openTokenAccounts?z:O});M=M.filter(z=>!z.key.equals(E.key));const T=[];for(let z=0;z<M.length;z++){const O=M[z],R=yield(0,o.getParsedTokenAccountsByOwner)(A,O.key),v=[O.key,R];T.push(v)}return{mainPod:E.key,podsAndTokensToClean:T,cargoSeqId:E.data.seqId}}});n.getCleanPodsByStarbasePlayerAccounts=m;const f=(A,w,_,P,M,E,T,z,O,R,v,k)=>{const x=[],C=[];if(A.podsAndTokensToClean.length>1)for(let B=0;B<A.podsAndTokensToClean.length;B++){const D=A.podsAndTokensToClean[B],$=D[0],W=D[1];if(W.length>0)for(let L=0;L<W.length;L++){const U=W[L],G=i.CargoType.findAddress(_,z,U.mint,A.cargoSeqId)[0];if(Number(U.delegatedAmount)>0){const J=(0,o.createAssociatedTokenAccountIdempotent)(U.mint,A.mainPod,!0,t.TOKEN_PROGRAM_ID),Q=J.address.toBase58();C.includes(Q)||(C.push(Q),x.push(J.instructions));const Y=a.StarbasePlayer.transferCargoAtStarbase(w,_,P,v,"funder",E,T,M,$,A.mainPod,G,z,U.address,J.address,U.mint,O,R,{amount:new s.BN(U.delegatedAmount.toString()),keyIndex:k});x.push(Y)}else{const J=a.StarbasePlayer.closeStarbaseCargoTokenAccount(w,_,P,v,"funder",E,T,M,$,G,z,U.address,U.mint,O,R,{keyIndex:k});x.push(J)}}x.push(a.StarbasePlayer.removeCargoPod(w,_,P,v,E,T,"funder",M,$,O,R,{keyIndex:k}))}return x};n.getPodCleanupInstructions=f;const g=(A,w,_,P,M,E,T,z,O,R)=>e(void 0,void 0,void 0,function*(){const v=[],k=yield(0,n.getStarbasePlayersByProfile)(A,w,P,T);if(k.length>0)for(let x=0;x<k.length;x++){const C=k[x];if(!C||C.type==="error")throw new Error("Error reading StarbasePlayer account");const B=yield(0,n.getCleanPodsByStarbasePlayerAccounts)(A,_,C.key),D=B?(0,n.getPodCleanupInstructions)(B,w,_,C.key,C.data.data.starbase,P,M,E,T,z,O,R):[];D.length>0&&v.push(...D)}else console.log("No StarbasePlayer accounts");return v});n.cleanUpStarbaseCargoPods=g;const b=(A,w,_,P)=>{const M=new ArrayBuffer(2),E=new DataView(M);E.setUint16(0,P,!0);const T=new Uint8Array(E.buffer);return r.PublicKey.findProgramAddressSync([Ve.Buffer.from("CertificateMint"),_.toBuffer(),w.toBuffer(),T],A.programId)};n.findCertificateMintAddress=b;const S=(A,w)=>r.PublicKey.findProgramAddressSync([Ve.Buffer.from("extra-account-metas"),w.toBuffer()],A);n.findExtraAccountMetaListAddress=S;const p=A=>Array.isArray(A)?new r.PublicKey(A):A;n.normalizePublicKey=p;function I(A,w){const _=Math.floor(A/w),P=A%w,M=Array(w).fill(_);for(let E=0;E<P;E++)M[E]+=1;return M}n.divideIntoParts=I})(dL);var Qxt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},eTt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},k0=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},bj;Object.defineProperty(El,"__esModule",{value:!0});El.SagePlayerProfile=El.crewTransferRemainingAccounts=El.crewTransferIxData=El.sppDataEquals=void 0;const j0=jJ,tTt=Oc,bU=rl,wg=qs,dMe=nr,tpe=el,Sj=dL;function rTt(n,e){return n.version===e.version&&n.playerProfile.equals(e.playerProfile)&&n.gameId.equals(e.gameId)&&n.bump===e.bump}El.sppDataEquals=rTt;function kj(n){const e=(0,Sj.normalizePublicKey)(n.dataHash).toBytes();return{dataHash:Array.from(e),leafIndex:n.leafIndex,proofCount:n.proof.length}}El.crewTransferIxData=kj;function vj(n){const e=wg.PublicKey.findProgramAddressSync([n.merkleTree.toBuffer()],(0,tTt.toWeb3JsPublicKey)(j0.MPL_BUBBLEGUM_PROGRAM_ID))[0],t=[{pubkey:n.merkleTree,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:(0,Sj.normalizePublicKey)(n.root),isSigner:!1,isWritable:!1},{pubkey:(0,Sj.normalizePublicKey)(n.creatorHash),isSigner:!1,isWritable:!1}];for(const r of n.proof)t.push({pubkey:r,isSigner:!1,isWritable:!1});return t}El.crewTransferRemainingAccounts=vj;let dB=bj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return wg.PublicKey.findProgramAddressSync([Ve.Buffer.from("sage_player_profile"),t.toBuffer(),r.toBuffer()],e.programId)}static registerSagePlayerProfile(e,t,r,s){return i=>k0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerSagePlayerProfile().accountsStrict({profile:t,funder:i.publicKey(),sagePlayerProfile:this.findAddress(e,t,r)[0],gameAccounts:{gameId:r,gameState:s},systemProgram:wg.SystemProgram.programId}).instruction(),signers:[i]}]})}static addShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>k0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addShipEscrow(h).accountsStrict({funder:m.publicKey(),sagePlayerProfile:s,originTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:i.publicKey(),profile:t,profileFaction:r,gameId:d},gameState:y},tokenProgram:bU.TOKEN_PROGRAM_ID,systemProgram:wg.SystemProgram.programId}).instruction(),signers:[i,m]}]})}static updateShipEscrow(e,t,r,s,i,o,a,c){return()=>k0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateShipEscrow(c).accountsStrict({oldShip:t,next:r,starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:o,gameState:a}}).instruction(),signers:[]}]})}static removeShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>k0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeShipEscrow(h).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:d},gameState:y},fundsTo:m.publicKey(),sagePlayerProfile:i,destinationTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},tokenProgram:bU.TOKEN_PROGRAM_ID,systemProgram:wg.SystemProgram.programId}).instruction(),signers:[t]}]})}static removeInvalidShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>k0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeInvalidShipEscrow(h).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:d},gameState:y},fundsTo:m.publicKey(),sagePlayerProfile:i,destinationTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},tokenProgram:bU.TOKEN_PROGRAM_ID,systemProgram:wg.SystemProgram.programId}).instruction(),signers:[t]}]})}static addCrewToGame(e,t,r,s,i,o,a,c,u,l){const d=u.items.map(vj).flat();return()=>k0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addCrewToGame({items:u.items.map(kj)}).accountsStrict({sagePlayerProfile:this.findAddress(e,t,c)[0],starbaseAndStarbasePlayer:{starbase:o,starbasePlayer:i},sageCrewConfig:tpe.SageCrewConfig.findAddress(e,c)[0],gameAndProfileAndFaction:{key:s.publicKey(),profile:t,profileFaction:r,gameId:c},crewConfig:a,crewOwner:s.publicKey(),crewDelegate:l??s.publicKey(),compressionProgram:j0.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,bubblegumProgram:j0.MPL_BUBBLEGUM_PROGRAM_ID,logWrapper:j0.SPL_NOOP_PROGRAM_ID,systemProgram:wg.SystemProgram.programId}).remainingAccounts(d).instruction(),signers:[s]}]})}static removeCrewFromGame(e,t,r,s,i,o,a,c,u,l,d){if(l.items.length===0)throw new Error("No crew members being removed!");const y=l.items.map(vj).flat(),h=this.findAddress(e,r,u)[0];return()=>k0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeCrewFromGame({keyIndex:l.keyIndex,items:l.items.map(kj)}).accountsStrict({sagePlayerProfile:h,starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},sageCrewConfig:tpe.SageCrewConfig.findAddress(e,u)[0],gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:u},crewConfig:c,newCrewOwner:i,crewDelegate:d??h,compressionProgram:j0.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,bubblegumProgram:j0.MPL_BUBBLEGUM_PROGRAM_ID,logWrapper:j0.SPL_NOOP_PROGRAM_ID,systemProgram:wg.SystemProgram.programId}).remainingAccounts(y).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,dMe.decodeAccount)(e,t,bj)}};El.SagePlayerProfile=dB;dB.ACCOUNT_NAME="sagePlayerProfile";dB.MIN_DATA_SIZE=8+1+32+32+1;El.SagePlayerProfile=dB=bj=Qxt([(0,dMe.staticImplements)(),eTt("design:paramtypes",[Object,wg.PublicKey])],dB);var Hf={},nTt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},sTt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},rpe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Aj;Object.defineProperty(Hf,"__esModule",{value:!0});Hf.Star=Hf.starDataEquals=Hf.StarType=void 0;const fMe=qs,$y=nr;var npe;(function(n){n[n.WhiteDwarf=0]="WhiteDwarf",n[n.RedDwarf=1]="RedDwarf",n[n.Solar=2]="Solar",n[n.HotBlue=3]="HotBlue",n[n.RedGiant=4]="RedGiant"})(npe||(Hf.StarType=npe={}));function iTt(n,e){return n.version===e.version&&(0,$y.arrayDeepEquals)(n.sector,e.sector,(t,r)=>t.eq(r))&&n.gameId.equals(e.gameId)&&n.size.eq(e.size)&&(0,$y.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&(0,$y.arrayDeepEquals)(n.subCoordinates,e.subCoordinates,(t,r)=>t.eq(r))&&n.starType===e.starType}Hf.starDataEquals=iTt;let fB=Aj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,$y.byteArrayToString)(this.data.name)}static registerStar(e){const{program:t,key:r,profile:s,star:i,sector:o,gameId:a,input:c}=e;return u=>rpe(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerStar(Object.assign(Object.assign({},c),{name:(0,$y.stringToByteArray)(c.name,64),starType:c.starType})).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:s,gameId:a},funder:u.publicKey(),star:i.publicKey(),sector:o,systemProgram:fMe.SystemProgram.programId}).instruction(),signers:[r,u,i]}]})}static updateStar(e){const{profile:t,key:r,program:s,star:i,gameId:o,input:a}=e;return()=>rpe(this,void 0,void 0,function*(){return[{instruction:yield s.methods.updateStar({keyIndex:a.keyIndex,name:a.name==null?null:(0,$y.stringToByteArray)(a.name,64),size:a.size==null?null:a.size,starType:a.starType==null?null:a.starType}).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:t,gameId:o},star:i}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,$y.decodeAccount)(e,t,Aj)}};Hf.Star=fB;fB.ACCOUNT_NAME="star";fB.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+8;Hf.Star=fB=Aj=nTt([(0,$y.staticImplements)(),sTt("design:paramtypes",[Object,fMe.PublicKey])],fB);var Mne={};(function(n){var e=K&&K.__decorate||function(M,E,T,z){var O=arguments.length,R=O<3?E:z===null?z=Object.getOwnPropertyDescriptor(E,T):z,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(M,E,T,z);else for(var k=M.length-1;k>=0;k--)(v=M[k])&&(R=(O<3?v(R):O>3?v(E,T,R):v(E,T))||R);return O>3&&R&&Object.defineProperty(E,T,R),R},t=K&&K.__metadata||function(M,E){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,E)},r=K&&K.__awaiter||function(M,E,T,z){function O(R){return R instanceof T?R:new T(function(v){v(R)})}return new(T||(T=Promise))(function(R,v){function k(B){try{C(z.next(B))}catch(D){v(D)}}function x(B){try{C(z.throw(B))}catch(D){v(D)}}function C(B){B.done?R(B.value):O(B.value).then(k,x)}C((z=z.apply(M,E||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Starbase=n.calculateCurrentResourceTimeStop=n.calculateCurrentResourceTimeSlow=n.calculateResourceExhaustionTime=n.starbaseDataEquals=n.MIN_CSS_LEVEL=n.UpkeepResourceType=n.StarbaseUpgradeState=n.StarbaseState=n.StarbaseFaction=void 0;const i=rl,o=qs,a=cc,c=bZ,u=nr,l=jY,d=cd,y=NK,h=Au,m=dL;var f;(function(M){M[M.Unaligned=0]="Unaligned",M[M.MUD=1]="MUD",M[M.ONI=2]="ONI",M[M.Ustur=3]="Ustur"})(f||(n.StarbaseFaction=f={}));var g;(function(M){M[M.Active=1]="Active",M[M.Destroyed=2]="Destroyed"})(g||(n.StarbaseState=g={}));var b;(function(M){M[M.NotStarted=1]="NotStarted",M[M.Started=2]="Started",M[M.Completed=3]="Completed"})(b||(n.StarbaseUpgradeState=b={}));var S;(function(M){M[M.Ammo=1]="Ammo",M[M.Food=2]="Food",M[M.Toolkit=3]="Toolkit"})(S||(n.UpkeepResourceType=S={})),n.MIN_CSS_LEVEL=6;function p(M,E,T){const z=M.version===E.version&&M.gameId.equals(E.gameId)&&(0,u.arrayDeepEquals)(M.sector,E.sector,(O,R)=>O.eq(R))&&M.craftingFacility.equals(E.craftingFacility)&&M.upgradeFacility.equals(E.upgradeFacility)&&(0,u.arrayDeepEquals)(M.name,E.name,(O,R)=>O===R)&&(0,u.arrayDeepEquals)(M.subCoordinates,E.subCoordinates,(O,R)=>O.eq(R))&&M.faction===E.faction&&M.bump===E.bump&&M.seqId===E.seqId&&M.state===E.state&&M.upgradeState===E.upgradeState&&M.level===E.level&&M.hp.eq(E.hp)&&M.sp.eq(E.sp)&&M.sectorRingAvailable===E.sectorRingAvailable&&(0,u.arrayDeepEquals)(M.upgradeIngredientsChecksum,E.upgradeIngredientsChecksum,(O,R)=>O===R)&&M.numUpgradeIngredients===E.numUpgradeIngredients&&M.upkeepAmmoBalance.eq(E.upkeepAmmoBalance)&&M.upkeepAmmoLastUpdate.eq(E.upkeepAmmoLastUpdate)&&M.upkeepAmmoGlobalLastUpdate.eq(E.upkeepAmmoGlobalLastUpdate)&&M.upkeepFoodBalance.eq(E.upkeepFoodBalance)&&M.upkeepFoodLastUpdate.eq(E.upkeepFoodLastUpdate)&&M.upkeepFoodGlobalLastUpdate.eq(E.upkeepFoodGlobalLastUpdate)&&M.upkeepToolkitBalance.eq(E.upkeepToolkitBalance)&&M.upkeepToolkitLastUpdate.eq(E.upkeepToolkitLastUpdate)&&M.upkeepToolkitGlobalLastUpdate.eq(E.upkeepToolkitGlobalLastUpdate)&&M.builtDestroyedTimestamp.eq(E.builtDestroyedTimestamp);return!z&&T==="printOnFalse"&&(console.log(`data1: ${JSON.stringify(M,null,2)}`),console.log(`data2: ${JSON.stringify(E,null,2)}`)),z}n.starbaseDataEquals=p;const I=(M,E,T)=>T>0?M.add(E.div(new a.BN(T))):M;n.calculateResourceExhaustionTime=I;const A=(M,E,T,z,O,R)=>{const{globalElapsedTime:v,adjustedLocalElapsedTime:k,maxElapsedTime:x,finalBalance:C}=_(M,E,T,z,O),B=a.BN.min(k,x),D=B.eq(x)?v.mul(new a.BN(100)).sub(B.mul(new a.BN(100))).mul(new a.BN(l.EMPTY_CRAFTING_SPEED_PER_TIER[R]*100)).div(new a.BN(100)):new a.BN(0);return{localTime:E.mul(new a.BN(100)).add(k.mul(new a.BN(100))).add(D).toNumber()/100,newBalance:C.toNumber()}};n.calculateCurrentResourceTimeSlow=A;const w=(M,E,T,z,O)=>{const{adjustedLocalElapsedTime:R,finalBalance:v}=_(M,E,T,z,O);return{localTime:E.add(R),newBalance:v}};n.calculateCurrentResourceTimeStop=w;const _=(M,E,T,z,O)=>{const R=M.gt(T)?M.sub(T):new a.BN(0),v=O>0?z.div(new a.BN(O)):new a.BN(0),k=a.BN.min(v,R),C=E.add(k).gt(M)?M.sub(E):k,B=C.mul(new a.BN(O)),D=z.sub(B),$=D.lt(new a.BN(0))?new a.BN(0):D;return{globalElapsedTime:R,adjustedLocalElapsedTime:C,maxElapsedTime:v,finalBalance:$}};let P=s=class{constructor(E,T,z){this._data=E,this._key=T,this._upgradeIngredientAmounts=z}get data(){return this._data}get key(){return this._key}get upgradeIngredientAmounts(){return this._upgradeIngredientAmounts||[]}isCentralSpaceStation(){return this.data.level>=n.MIN_CSS_LEVEL}getUpkeepInfo(E){const T=E.data.fleet.upkeep;let z;switch(this.data.level){case 0:z=T.level0;break;case 1:z=T.level1;break;case 2:z=T.level2;break;case 3:z=T.level3;break;case 4:z=T.level4;break;case 5:z=T.level5;break;case 6:z=T.level6;break;default:throw"Invalid Starbase level."}return z}getStarbaseTime(E,T,z){const O=this.getUpkeepInfo(z);let R,v,k,x,C;switch(E){case S.Ammo:R=O.ammoReserve,v=O.ammoDepletionRate,k=this.data.upkeepAmmoBalance,x=this.data.upkeepAmmoLastUpdate,C=this.data.upkeepAmmoGlobalLastUpdate;break;case S.Food:R=O.foodReserve,v=O.foodDepletionRate,k=this.data.upkeepFoodBalance,x=this.data.upkeepFoodLastUpdate,C=this.data.upkeepFoodGlobalLastUpdate;break;case S.Toolkit:R=O.toolkitReserve,v=O.toolkitDepletionRate,k=this.data.upkeepToolkitBalance,x=this.data.upkeepToolkitLastUpdate,C=this.data.upkeepToolkitGlobalLastUpdate;break;default:throw"Invalid resource type."}return v=v/y.GLOBAL_SCALE_DECIMALS_2,R.eq(new a.BN(0))?T:new a.BN((0,n.calculateCurrentResourceTimeSlow)(T,x,C,k,v,this.data.level).localTime)}static findAddress(E,T,z){return o.PublicKey.findProgramAddressSync([Ve.Buffer.from("Starbase"),T.toBuffer(),z[0].toTwos(64).toArrayLike(Ve.Buffer,"le",8),z[1].toTwos(64).toArrayLike(Ve.Buffer,"le",8)],E.programId)}static registerStarbase(E,T,z,O,R,v,k){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.registerStarbase(k).accountsStrict({funder:x.publicKey(),starbase:this.findAddress(E,R,k.sectorCoordinates)[0],sector:O,gameStateAndProfile:{gameAndProfile:{key:T.publicKey(),profile:z,gameId:R},gameState:v},systemProgram:o.SystemProgram.programId}).instruction(),signers:[T,x]}]})}static updateStarbase(E,T,z,O,R,v,k,x,C){const B=[];return[k,x,C].forEach(D=>D&&B.push({pubkey:D,isSigner:!1,isWritable:!1})),D=>r(this,void 0,void 0,function*(){var $,W;return[{instruction:yield E.methods.updateStarbase({name:($=v.name)!==null&&$!==void 0?$:null,subCoordinates:(W=v.subCoordinates)!==null&&W!==void 0?W:null,keyIndex:v.keyIndex}).accountsStrict({gameAndProfile:{key:z.publicKey(),profile:O,gameId:R},funder:D.publicKey(),starbase:T,systemProgram:o.SystemProgram.programId}).remainingAccounts(B).instruction(),signers:[z,D]}]})}static createStarbaseUpgradeResourceProcess(E,T,z,O,R,v,k,x,C,B,D,$,W){const L=c.CraftingProcess.findAddress(T,B,D,W.craftingId),U=d.CraftingInstance.findAddress(E,v,L[0]);return{craftingProcessKey:L,craftingInstanceKey:U,instructions:G=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.createStarbaseUpgradeResourceProcess(W).accountsStrict({funder:G.publicKey(),starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:x,key:z.publicKey(),profile:O,profileFaction:R},gameState:C},craftingInstance:U[0],craftingProcess:L[0],upgradeFacility:B,craftingRecipe:D,craftingDomain:$,craftingProgram:T.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[z,G]}]})}}static depositStarbaseUpgradeResourceIngredient(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J,Q,Y,X){return d.CraftingInstance.depositCraftingIngredient(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J,Q,Y,X)}static withdrawStarbaseUpgradeResourceIngredient(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J,Q,Y,X,re){return d.CraftingInstance.withdrawCraftingIngredient(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J,Q,Y,X,re)}static startStarbaseUpgradeCraftingProcess(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J,Q){return d.CraftingInstance.startCraftingProcess(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J,Q)}static cancelStarbaseUpgradeCraftingProcess(E,T,z,O,R,v,k,x,C,B,D,$,W,L){return d.CraftingInstance.cancelCraftingProcess(E,T,z,O,R,v,k,x,C,B,D,$,W,L)}static stopStarbaseUpgradeCraftingProcess(E,T,z,O,R,v,k,x,C,B,D,$,W,L){return d.CraftingInstance.stopCraftingProcess(E,T,z,O,R,v,k,x,C,B,D,$,W,L)}static submitStarbaseUpgradeResource(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J,Q,Y,X,re,se,ee,ne,ve,_e,Le,We,Ft,Lt){const Dt=[R],et=[];let Ue=!1;const Wt=(0,u.isAsyncSigner)(Le),sr=Wt?Le.publicKey():Le;return et.push({pubkey:sr,isSigner:Wt,isWritable:!0},{pubkey:We,isSigner:!1,isWritable:!0},{pubkey:Ft.programId,isSigner:!1,isWritable:!1}),Wt&&(Dt.push(Le),et.push({pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1})),Ue=Wt,tr=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.submitStarbaseUpgradeResource(Lt).accountsStrict({fundsTo:x==="funder"?tr.publicKey():x,starbaseAndStarbasePlayer:{starbase:B,starbasePlayer:C},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:D,key:R.publicKey(),profile:v,profileFaction:k},gameState:$},resourceCraftingInstance:d.CraftingInstance.findAddress(E,C,W)[0],resourceCraftingProcess:W,resourceCraftingFacility:L,upgradeProcessRecipe:U,starbaseUpgradeRecipe:G,resourceRecipe:J,cargoPodTo:Q,cargoType:Y,cargoStatsDefinition:X,tokenFrom:re,tokenTo:se,tokenMint:ee,loyaltyPointsAccounts:{userPointsAccount:ne,pointsCategory:ve,pointsModifierAccount:_e},progressionConfig:h.ProgressionConfig.findAddress(E,D)[0],pointsProgram:O.programId,craftingProgram:z.programId,cargoProgram:T.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([...et,...Ue?[{pubkey:tr.publicKey(),isSigner:!0,isWritable:!0}]:[]]).instruction(),signers:[...Dt,...Ue?[tr]:[]]}]})}static startStarbaseUpgrade(E,T,z,O,R,v,k,x,C,B,D){return $=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.startStarbaseUpgrade(D).accountsStrict({funder:$.publicKey(),starbaseAndStarbasePlayer:{starbase:v,starbasePlayer:R},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:k,key:T.publicKey(),profile:z,profileFaction:O},gameState:x},upgradeFacility:C,upgradeRecipe:B,systemProgram:o.SystemProgram.programId}).instruction(),signers:[T,$]}]})}static closeStarbaseUpgradeCraftingProcess(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J){const Q=[];return G&&J&&Q.push({pubkey:G,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!0},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),Y=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.closeUpgradeProcess(U).accountsStrict({fundsTo:v==="funder"?Y.publicKey():v,starbaseAndStarbasePlayer:{starbase:x,starbasePlayer:k},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:W,key:z.publicKey(),profile:O,profileFaction:R},gameState:L},resourceCraftingInstance:C,resourceCraftingProcess:B,resourceRecipe:$,resourceCraftingFacility:D,craftingProgram:T.programId}).remainingAccounts(Q).instruction(),signers:[z]}]})}static completeStarbaseUpgrade(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U){return G=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.completeStarbaseUpgrade(U).accountsStrict({funder:G.publicKey(),starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:x,key:z.publicKey(),profile:O,profileFaction:R},gameState:C},craftingFacility:B,upgradeFacility:D,upgradeRecipe:W,newRecipeCategory:$,craftingDomain:L,craftingProgram:T.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[z,G]}]})}static syncStarbaseUpgradeIngredients(E,T,z,O,R,v,k,x){return C=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.syncStarbaseUpgradeIngredients(x).accountsStrict({funder:C.publicKey(),starbase:O,gameAccountsAndProfile:{gameAndProfile:{gameId:R,key:T.publicKey(),profile:z},gameState:v},upgradeRecipe:k,systemProgram:o.SystemProgram.programId}).instruction(),signers:[T,C]}]})}static depositStarbaseUpkeepResource(E,T,z,O,R,v,k,x,C,B,D,$,W,L,U,G,J,Q,Y,X,re,se,ee,ne){const ve=[O],_e=[];let Le=!1;const We=(0,u.isAsyncSigner)(re),Ft=We?re.publicKey():re;return _e.push({pubkey:Ft,isSigner:We,isWritable:!0},{pubkey:se,isSigner:!1,isWritable:!0},{pubkey:ee.programId,isSigner:!1,isWritable:!1}),We&&(ve.push(re),_e.push({pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1})),Le=We,Lt=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.depositStarbaseUpkeepResource(ne).accountsStrict({fundsTo:k==="funder"?Lt.publicKey():k,starbaseAndStarbasePlayer:{starbase:C,starbasePlayer:x},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:B,key:O.publicKey(),profile:R,profileFaction:v},gameState:D},cargoPodFrom:$,cargoType:W,cargoStatsDefinition:L,resourceRecipe:U,tokenFrom:G,tokenMint:J,loyaltyPointsAccounts:{userPointsAccount:Q,pointsCategory:Y,pointsModifierAccount:X},progressionConfig:h.ProgressionConfig.findAddress(E,B)[0],pointsProgram:z.programId,cargoProgram:T.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([..._e,...Le?[{pubkey:Lt.publicKey(),isSigner:!0,isWritable:!0}]:[]]).instruction(),signers:[...ve,...Le?[Lt]:[]]}]})}static createCertificateMint(E,T,z,O,R,v,k){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield E.methods.createCertificateMint().accountsStrict({funder:x.publicKey(),starbase:z,cargoMint:O,cargoType:v,certificateMint:R,gameId:k,transferHookProgram:T,transferHookExtraAccountMetaList:(0,m.findExtraAccountMetaListAddress)(T,R)[0],token2022Program:i.TOKEN_2022_PROGRAM_ID,systemProgram:o.SystemProgram.programId}).instruction(),signers:[x]}]})}static decodeData(E,T){return(0,u.decodeAccountWithRemaining)(E,T,s,(z,O)=>Array(O.numUpgradeIngredients).fill(0).map((R,v)=>new a.BN(z.subarray(8*v).subarray(0,8),10,"le")))}};n.Starbase=P,P.ACCOUNT_NAME="starbase",P.MIN_DATA_SIZE=8+1+32+8*2+32+32+64+8*2+1+1+2+1+1+8+8+1+1+1+16+8+8+8+8+8+8+8+8+8+8,n.Starbase=P=s=e([(0,u.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],P)})(Mne);var fb={},oTt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},aTt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},xC=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},wj;Object.defineProperty(fb,"__esModule",{value:!0});fb.SurveyDataUnitTracker=fb.surveyDataUnitTrackerDataEquals=void 0;const SU=rl,P2=qs,Z_=nr,cTt=Au,uTt=(n,e)=>n.length!==e.length?!1:n.reduce((t,r,s)=>{const i=e[s];return i==null?!1:t&&(0,Z_.arrayDeepEquals)(r,i,(o,a)=>o.eq(a))},!0);function lTt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.sduMint.equals(e.sduMint)&&n.resourceMint.equals(e.resourceMint)&&n.signer.equals(e.signer)&&(0,Z_.arrayDeepEquals)(n.coordinatesRange,e.coordinatesRange,(t,r)=>t.eq(r))&&n.sduMaxPerSector===e.sduMaxPerSector&&n.scanChanceRegenPeriod===e.scanChanceRegenPeriod&&uTt(n.cssCoordinates,e.cssCoordinates)&&(0,Z_.arrayDeepEquals)(n.originCoordinates,e.originCoordinates,(t,r)=>t.eq(r))&&n.cssMaxDistance===e.cssMaxDistance&&n.originMaxDistance===e.originMaxDistance&&n.distanceWeighting===e.distanceWeighting&&n.tMax.eq(e.tMax)&&n.xMul===e.xMul&&n.yMul===e.yMul&&n.zMul===e.zMul}fb.surveyDataUnitTrackerDataEquals=lTt;let hB=wj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findSignerAddress(e,t){return P2.PublicKey.findProgramAddressSync([Ve.Buffer.from("SurveyDataUnitTracker"),t.toBuffer()],e.programId)}static findSignerTokenAccountAddress(e){return(0,SU.getAssociatedTokenAddressSync)(e.sduMint,e.signer,!0)}static fundSurveyDataUnitTrackerBank(e,t,r,s){const i=this.findSignerTokenAccountAddress(e);return(0,Z_.transferToTokenAccount)(t,r,i,s)}static registerSurveyDataUnitTracker(e,t,r,s,i,o,a,c){return u=>xC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerSurveyDataUnitTracker(c).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:a},funder:u.publicKey(),surveyDataUnitTracker:s.publicKey(),sduMint:i,resourceMint:o,systemProgram:P2.SystemProgram.programId}).instruction(),signers:[t,u,s]}]})}static updateSurveyDataUnitTracker(e,t,r,s,i,o,a){var c,u,l,d,y,h,m,f,g,b,S,p;const I=a?[{pubkey:a.sduMint,isSigner:!1,isWritable:!1},{pubkey:a.resourceMint,isSigner:!1,isWritable:!1}]:[],A=Object.assign(Object.assign({},o),{coordinatesRange:(c=o.coordinatesRange)!==null&&c!==void 0?c:null,cssCoordinates:(u=o.cssCoordinates)!==null&&u!==void 0?u:null,originCoordinates:(l=o.originCoordinates)!==null&&l!==void 0?l:null,cssMaxDistance:(d=o.cssMaxDistance)!==null&&d!==void 0?d:null,originMaxDistance:(y=o.originMaxDistance)!==null&&y!==void 0?y:null,distanceWeighting:(h=o.distanceWeighting)!==null&&h!==void 0?h:null,tMax:(m=o.tMax)!==null&&m!==void 0?m:null,xMul:(f=o.xMul)!==null&&f!==void 0?f:null,yMul:(g=o.yMul)!==null&&g!==void 0?g:null,zMul:(b=o.zMul)!==null&&b!==void 0?b:null,scanChanceRegenPeriod:(S=o.scanChanceRegenPeriod)!==null&&S!==void 0?S:null,sduMaxPerSector:(p=o.sduMaxPerSector)!==null&&p!==void 0?p:null});return()=>xC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateSurveyDataUnitTracker(A).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},surveyDataUnitTracker:s}).remainingAccounts(I).instruction(),signers:[t]}]})}static drainSurveyDataUnitsBank(e,t,r,s,i,o,a,c,u){return l=>xC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainSurveyDataUnitsBank(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?l.publicKey():s,surveyDataUnitTracker:i,surveyDataUnitTrackerSigner:this.findSignerAddress(e,i)[0],tokenFrom:a,tokenTo:c,tokenProgram:SU.TOKEN_PROGRAM_ID}).instruction(),signers:[t]}]})}static deregisterSurveyDataUnitTracker(e,t,r,s,i,o,a){return c=>xC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterSurveyDataUnitTracker(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},surveyDataUnitTracker:s,fundsTo:i==="funder"?c.publicKey():i}).instruction(),signers:[t]}]})}static scanForSurveyDataUnits(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,A,w,_,P,M,E){return()=>xC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.scanForSurveyDataUnits(E).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:a,owningProfile:i,owningProfileFaction:o,key:s.publicKey()},gameId:P},gameState:M},sector:c,surveyDataUnitTracker:u,surveyDataUnitTrackerSigner:this.findSignerAddress(e,u)[0],cargoHold:l,sduCargoType:d,resourceCargoType:y,cargoStatsDefinition:h,sduTokenFrom:m,sduTokenTo:f,resourceTokenFrom:g,resourceMint:b,dataRunningXpAccounts:{userPointsAccount:S,pointsCategory:p,pointsModifierAccount:I},councilRankXpAccounts:{userPointsAccount:A,pointsCategory:w,pointsModifierAccount:_},progressionConfig:cTt.ProgressionConfig.findAddress(e,P)[0],pointsProgram:r.programId,cargoProgram:t.programId,tokenProgram:SU.TOKEN_PROGRAM_ID,recentSlothashes:P2.SYSVAR_SLOT_HASHES_PUBKEY,instructionsSysvar:P2.SYSVAR_INSTRUCTIONS_PUBKEY}).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,Z_.decodeAccount)(e,t,wj)}};fb.SurveyDataUnitTracker=hB;hB.ACCOUNT_NAME="surveyDataUnitTracker";hB.MIN_DATA_SIZE=8+1+32+32+32+32+1+8*2+8*2*3+8*2+4+4+4+8+4+4+4+4+2;fb.SurveyDataUnitTracker=hB=wj=oTt([(0,Z_.staticImplements)(),aTt("design:paramtypes",[Object,P2.PublicKey])],hB);(function(n){var e=K&&K.__decorate||function(T,z,O,R){var v=arguments.length,k=v<3?z:R===null?R=Object.getOwnPropertyDescriptor(z,O):R,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(T,z,O,R);else for(var C=T.length-1;C>=0;C--)(x=T[C])&&(k=(v<3?x(k):v>3?x(z,O,k):x(z,O))||k);return v>3&&k&&Object.defineProperty(z,O,k),k},t=K&&K.__metadata||function(T,z){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(T,z)};Object.defineProperty(n,"__esModule",{value:!0}),n.SageProgram=n.sageErrorMap=n.SAGE_IDL=n.EMPTY_CRAFTING_SPEED_PER_TIER=void 0;const r=cc,s=nr,i=cd,o=WK,a=NK,c=f6,u=m6,l=Pl,d=aB,y=Qg,h=Qu,m=jp,f=Au,g=ud,b=el,S=El,p=h6,I=g6,A=Hf,w=Mne,_=fL,P=fb;n.EMPTY_CRAFTING_SPEED_PER_TIER=[0,.2,.275,.35,.425,.5,.5];var M=aB;Object.defineProperty(n,"SAGE_IDL",{enumerable:!0,get:function(){return M.IDL}}),n.sageErrorMap=(0,s.generateErrorMap)(d.IDL);let E=class extends s.ListenProgram{constructor(z){super(z,{craftingInstance:i.CraftingInstance,disbandedFleet:o.DisbandedFleet,fleet:a.Fleet,fleetShips:c.FleetShips,game:u.Game,gameState:l.GameState,mineItem:y.MineItem,planet:h.Planet,playerCrewRecord:m.PlayerCrewRecord,progressionConfig:f.ProgressionConfig,resource:g.Resource,sageCrewConfig:b.SageCrewConfig,sagePlayerProfile:S.SagePlayerProfile,sector:p.Sector,ship:I.Ship,star:A.Star,starbase:w.Starbase,starbasePlayer:_.StarbasePlayer,surveyDataUnitTracker:P.SurveyDataUnitTracker})}static buildProgram(z,O,R){return new r.Program(d.IDL,z,O,R)}};n.SageProgram=E,n.SageProgram=E=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],E)})(jY);var Oz={},dTt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},fTt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},fn;Object.defineProperty(Oz,"__esModule",{value:!0});Oz.SagePermissions=void 0;const hMe=nr;let Ij=fn=class{constructor(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,A,w,_,P,M,E,T,z){this.manageGame=e,this.manageSector=t,this.manageStar=r,this.managePlanet=s,this.manageShip=i,this.manageSagePlayerProfile=o,this.manageStarbase=a,this.manageMineItem=c,this.manageResource=u,this.removeShipEscrow=l,this.moveFleet=d,this.transitionFromLoadingBay=y,this.transitionFromIdle=h,this.rentFleet=m,this.doCrafting=f,this.manageCargoPod=g,this.addRemoveCargo=b,this.doStarbaseUpgrades=S,this.manageFleet=p,this.manageFleetCargo=I,this.doMining=A,this.respawn=w,this.manageSurveyDataUnit=_,this.scanSurveyDataUnit=P,this.doStarbaseUpkeep=M,this.manageProgression=E,this.manageCrewConfig=T,this.manageCrew=z}contains(e){return this.and(e).eq(e)}getPermissions(){const e=(0,hMe.fixedSizeArray)(8,0);return e[0]=(this.manageGame?1<<0:0)|(this.manageSector?1<<1:0)|(this.manageStar?1<<2:0)|(this.managePlanet?1<<3:0)|(this.manageShip?1<<4:0)|(this.manageSagePlayerProfile?1<<5:0)|(this.manageStarbase?1<<6:0)|(this.manageMineItem?1<<7:0),e[1]=(this.manageResource?1<<0:0)|(this.removeShipEscrow?1<<1:0)|(this.moveFleet?1<<2:0)|(this.transitionFromLoadingBay?1<<3:0)|(this.transitionFromIdle?1<<4:0)|(this.rentFleet?1<<5:0)|(this.doCrafting?1<<6:0)|(this.manageCargoPod?1<<7:0),e[2]=(this.addRemoveCargo?1<<0:0)|(this.doStarbaseUpgrades?1<<1:0)|(this.manageFleet?1<<2:0)|(this.manageFleetCargo?1<<3:0)|(this.doMining?1<<4:0)|(this.respawn?1<<5:0)|(this.manageSurveyDataUnit?1<<6:0)|(this.scanSurveyDataUnit?1<<7:0),e[3]=(this.doStarbaseUpkeep?1<<0:0)|(this.manageProgression?1<<1:0)|(this.manageCrewConfig?1<<2:0)|(this.manageCrew?1<<3:0),e}static empty(){return new fn(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new fn(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static manageGamePermissions(){return fn.permissionsBuilder("manageGame")}static manageSectorPermissions(){return fn.permissionsBuilder("manageSector")}static manageStarPermissions(){return fn.permissionsBuilder("manageStar")}static managePlanetPermissions(){return fn.permissionsBuilder("managePlanet")}static manageShipPermissions(){return fn.permissionsBuilder("manageShip")}static manageSagePlayerProfilePermissions(){return fn.permissionsBuilder("manageSagePlayerProfile")}static manageStarbasePermissions(){return fn.permissionsBuilder("manageStarbase")}static manageMineItemPermissions(){return fn.permissionsBuilder("manageMineItem")}static manageResourcePermissions(){return fn.permissionsBuilder("manageResource")}static removeShipEscrowPermissions(){return fn.permissionsBuilder("removeShipEscrow")}static moveFleetPermissions(){return fn.permissionsBuilder("moveFleet")}static transitionFromLoadingBayPermissions(){return fn.permissionsBuilder("transitionFromLoadingBay")}static transitionFromIdlePermissions(){return fn.permissionsBuilder("transitionFromIdle")}static rentFleetPermissions(){return fn.permissionsBuilder("rentFleet")}static doCraftingPermissions(){return fn.permissionsBuilder("doCrafting")}static manageCargoPodPermissions(){return fn.permissionsBuilder("manageCargoPod")}static addRemoveCargoPermissions(){return fn.permissionsBuilder("addRemoveCargo")}static doStarbaseUpgradesPermissions(){return fn.permissionsBuilder("doStarbaseUpgrades")}static manageFleetPermissions(){return fn.permissionsBuilder("manageFleet")}static manageFleetCargoPermissions(){return fn.permissionsBuilder("manageFleetCargo")}static doMiningPermissions(){return fn.permissionsBuilder("doMining")}static respawnPermissions(){return fn.permissionsBuilder("respawn")}static manageSurveyDataUnitPermissions(){return fn.permissionsBuilder("manageSurveyDataUnit")}static scanSurveyDataUnitPermissions(){return fn.permissionsBuilder("scanSurveyDataUnit")}static doStarbaseUpkeepPermissions(){return fn.permissionsBuilder("doStarbaseUpkeep")}static manageProgressionPermissions(){return fn.permissionsBuilder("manageProgression")}static manageCrewConfigPermissions(){return fn.permissionsBuilder("manageCrewConfig")}static manageCrewPermissions(){return fn.permissionsBuilder("manageCrew")}static fromPermissions(e){return new fn((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0,(e[0]&1<<5)!==0,(e[0]&1<<6)!==0,(e[0]&1<<7)!==0,(e[1]&1<<0)!==0,(e[1]&1<<1)!==0,(e[1]&1<<2)!==0,(e[1]&1<<3)!==0,(e[1]&1<<4)!==0,(e[1]&1<<5)!==0,(e[1]&1<<6)!==0,(e[1]&1<<7)!==0,(e[2]&1<<0)!==0,(e[2]&1<<1)!==0,(e[2]&1<<2)!==0,(e[2]&1<<3)!==0,(e[2]&1<<4)!==0,(e[2]&1<<5)!==0,(e[2]&1<<6)!==0,(e[2]&1<<7)!==0,(e[3]&1<<0)!==0,(e[3]&1<<1)!==0,(e[3]&1<<2)!==0,(e[3]&1<<3)!==0)}and(e){return new fn(this.manageGame&&e.manageGame,this.manageSector&&e.manageSector,this.manageStar&&e.manageStar,this.managePlanet&&e.managePlanet,this.manageShip&&e.manageShip,this.manageSagePlayerProfile&&e.manageSagePlayerProfile,this.manageStarbase&&e.manageStarbase,this.manageMineItem&&e.manageMineItem,this.manageResource&&e.manageResource,this.removeShipEscrow&&e.removeShipEscrow,this.moveFleet&&e.moveFleet,this.transitionFromLoadingBay&&e.transitionFromLoadingBay,this.transitionFromIdle&&e.transitionFromIdle,this.rentFleet&&e.rentFleet,this.doCrafting&&e.doCrafting,this.manageCargoPod&&e.manageCargoPod,this.addRemoveCargo&&e.addRemoveCargo,this.doStarbaseUpgrades&&e.doStarbaseUpgrades,this.manageFleet&&e.manageFleet,this.manageFleetCargo&&e.manageFleetCargo,this.doMining&&e.doMining,this.respawn&&e.respawn,this.manageSurveyDataUnit&&e.manageSurveyDataUnit,this.scanSurveyDataUnit&&e.scanSurveyDataUnit,this.doStarbaseUpkeep&&e.doStarbaseUpkeep,this.manageProgression&&e.manageProgression,this.manageCrewConfig&&e.manageCrewConfig,this.manageCrew&&e.manageCrew)}or(e){return new fn(this.manageGame||e.manageGame,this.manageSector||e.manageSector,this.manageStar||e.manageStar,this.managePlanet||e.managePlanet,this.manageShip||e.manageShip,this.manageSagePlayerProfile||e.manageSagePlayerProfile,this.manageStarbase||e.manageStarbase,this.manageMineItem||e.manageMineItem,this.manageResource||e.manageResource,this.removeShipEscrow||e.removeShipEscrow,this.moveFleet||e.moveFleet,this.transitionFromLoadingBay||e.transitionFromLoadingBay,this.transitionFromIdle||e.transitionFromIdle,this.rentFleet||e.rentFleet,this.doCrafting||e.doCrafting,this.manageCargoPod||e.manageCargoPod,this.addRemoveCargo||e.addRemoveCargo,this.doStarbaseUpgrades||e.doStarbaseUpgrades,this.manageFleet||e.manageFleet,this.manageFleetCargo||e.manageFleetCargo,this.doMining||e.doMining,this.respawn||e.respawn,this.manageSurveyDataUnit||e.manageSurveyDataUnit,this.scanSurveyDataUnit||e.scanSurveyDataUnit,this.doStarbaseUpkeep||e.doStarbaseUpkeep,this.manageProgression||e.manageProgression,this.manageCrewConfig||e.manageCrewConfig,this.manageCrew||e.manageCrew)}eq(e){return this.manageGame===e.manageGame&&this.manageSector===e.manageSector&&this.manageStar===e.manageStar&&this.managePlanet===e.managePlanet&&this.manageShip===e.manageShip&&this.manageSagePlayerProfile===e.manageSagePlayerProfile&&this.manageStarbase===e.manageStarbase&&this.manageMineItem===e.manageMineItem&&this.manageResource===e.manageResource&&this.removeShipEscrow===e.removeShipEscrow&&this.moveFleet==e.moveFleet&&this.transitionFromLoadingBay===e.transitionFromLoadingBay&&this.transitionFromIdle===e.transitionFromIdle&&this.rentFleet===e.rentFleet&&this.doCrafting===e.doCrafting&&this.manageCargoPod===e.manageCargoPod&&this.addRemoveCargo===e.addRemoveCargo&&this.doStarbaseUpgrades===e.doStarbaseUpgrades&&this.manageFleet===e.manageFleet&&this.manageFleetCargo===e.manageFleetCargo&&this.doMining===e.doMining&&this.respawn===e.respawn&&this.manageSurveyDataUnit===e.manageSurveyDataUnit&&this.scanSurveyDataUnit===e.scanSurveyDataUnit&&this.doStarbaseUpkeep===e.doStarbaseUpkeep&&this.manageProgression===e.manageProgression&&this.manageCrewConfig===e.manageCrewConfig&&this.manageCrew===e.manageCrew}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(fn.empty()).map(s=>t.includes(s));if(r.length!=fn.length)throw"Incorrect permissions array";return new fn(...r)}};Oz.SagePermissions=Ij;Oz.SagePermissions=Ij=fn=dTt([(0,hMe.staticImplements)(),fTt("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],Ij);var hL={},Bne={},Rd={},gL={};function UO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function hTt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Kz(n,...e){if(!hTt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function gTt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");UO(n.outputLen),UO(n.blockLen)}function J_(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function gMe(n,e){Kz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const kU=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mTt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),vU=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),jd=(n,e)=>n<<32-e|n>>>e,spe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,yTt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function ipe(n){for(let e=0;e<n.length;e++)n[e]=yTt(n[e])}function pTt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function mL(n){return typeof n=="string"&&(n=pTt(n)),Kz(n),n}function bTt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Kz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class zne{clone(){return this._cloneInto()}}function $ne(n){const e=r=>n().update(mL(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function mMe(n=32){if(kU&&typeof kU.getRandomValues=="function")return kU.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function STt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const kTt=(n,e,t)=>n&e^~n&t,vTt=(n,e,t)=>n&e^n&t^e&t;class yMe extends zne{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=vU(this.buffer)}update(e){J_(this);const{view:t,buffer:r,blockLen:s}=this;e=mL(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=vU(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){J_(this),gMe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;STt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=vU(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const V8=BigInt(2**32-1),_j=BigInt(32);function pMe(n,e=!1){return e?{h:Number(n&V8),l:Number(n>>_j&V8)}:{h:Number(n>>_j&V8)|0,l:Number(n&V8)|0}}function bMe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=pMe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const ATt=(n,e)=>BigInt(n>>>0)<<_j|BigInt(e>>>0),wTt=(n,e,t)=>n>>>t,ITt=(n,e,t)=>n<<32-t|e>>>t,_Tt=(n,e,t)=>n>>>t|e<<32-t,PTt=(n,e,t)=>n<<32-t|e>>>t,ETt=(n,e,t)=>n<<64-t|e>>>t-32,xTt=(n,e,t)=>n>>>t-32|e<<64-t,TTt=(n,e)=>e,RTt=(n,e)=>n,SMe=(n,e,t)=>n<<t|e>>>32-t,kMe=(n,e,t)=>e<<t|n>>>32-t,vMe=(n,e,t)=>e<<t-32|n>>>64-t,AMe=(n,e,t)=>n<<t-32|e>>>64-t;function CTt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const MTt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),BTt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,zTt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),$Tt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,DTt=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),OTt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Lr={fromBig:pMe,split:bMe,toBig:ATt,shrSH:wTt,shrSL:ITt,rotrSH:_Tt,rotrSL:PTt,rotrBH:ETt,rotrBL:xTt,rotr32H:TTt,rotr32L:RTt,rotlSH:SMe,rotlSL:kMe,rotlBH:vMe,rotlBL:AMe,add:CTt,add3L:MTt,add3H:BTt,add4L:zTt,add4H:$Tt,add5H:OTt,add5L:DTt},[KTt,LTt]=(()=>Lr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),ny=new Uint32Array(80),sy=new Uint32Array(80);class WTt extends yMe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)ny[p]=e.getUint32(t),sy[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=ny[p-15]|0,A=sy[p-15]|0,w=Lr.rotrSH(I,A,1)^Lr.rotrSH(I,A,8)^Lr.shrSH(I,A,7),_=Lr.rotrSL(I,A,1)^Lr.rotrSL(I,A,8)^Lr.shrSL(I,A,7),P=ny[p-2]|0,M=sy[p-2]|0,E=Lr.rotrSH(P,M,19)^Lr.rotrBH(P,M,61)^Lr.shrSH(P,M,6),T=Lr.rotrSL(P,M,19)^Lr.rotrBL(P,M,61)^Lr.shrSL(P,M,6),z=Lr.add4L(_,T,sy[p-7],sy[p-16]),O=Lr.add4H(z,w,E,ny[p-7],ny[p-16]);ny[p]=O|0,sy[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Lr.rotrSH(d,y,14)^Lr.rotrSH(d,y,18)^Lr.rotrBH(d,y,41),A=Lr.rotrSL(d,y,14)^Lr.rotrSL(d,y,18)^Lr.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=Lr.add5L(S,A,_,LTt[p],sy[p]),M=Lr.add5H(P,b,I,w,KTt[p],ny[p]),E=P|0,T=Lr.rotrSH(r,s,28)^Lr.rotrBH(r,s,34)^Lr.rotrBH(r,s,39),z=Lr.rotrSL(r,s,28)^Lr.rotrBL(r,s,34)^Lr.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Lr.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Lr.add3L(E,z,R);r=Lr.add3H(v,M,T,O),s=v|0}({h:r,l:s}=Lr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Lr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Lr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Lr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Lr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Lr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Lr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Lr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){ny.fill(0),sy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const NTt=$ne(()=>new WTt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dne=BigInt(0),yL=BigInt(1),FTt=BigInt(2);function $S(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Lz(n){if(!$S(n))throw new Error("Uint8Array expected")}function Yg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const UTt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function DS(n){Lz(n);let e="";for(let t=0;t<n.length;t++)e+=UTt[n[t]];return e}function wMe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function One(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Qh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ope(n){if(n>=Qh._0&&n<=Qh._9)return n-Qh._0;if(n>=Qh._A&&n<=Qh._F)return n-(Qh._A-10);if(n>=Qh._a&&n<=Qh._f)return n-(Qh._a-10)}function X_(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=ope(n.charCodeAt(i)),a=ope(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function V1(n){return One(DS(n))}function lA(n){return Lz(n),One(DS(Uint8Array.from(n).reverse()))}function Q_(n,e){return X_(n.toString(16).padStart(e*2,"0"))}function gB(n,e){return Q_(n,e).reverse()}function VTt(n){return X_(wMe(n))}function ia(n,e,t){let r;if(typeof e=="string")try{r=X_(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if($S(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function OS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Lz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function qTt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function jTt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const AU=n=>typeof n=="bigint"&&Dne<=n;function pL(n,e,t){return AU(n)&&AU(e)&&AU(t)&&e<=n&&n<t}function Il(n,e,t,r){if(!pL(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function HTt(n){let e;for(e=0;n>Dne;n>>=yL,e+=1);return e}function GTt(n,e){return n>>BigInt(e)&yL}function YTt(n,e,t){return n|(t?yL:Dne)<<BigInt(e)}const Kne=n=>(FTt<<BigInt(n-1))-yL,wU=n=>new Uint8Array(n),ape=n=>Uint8Array.from(n);function IMe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=wU(n),s=wU(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=wU())=>{s=a(ape([0]),d),r=a(),d.length!==0&&(s=a(ape([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return OS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const ZTt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||$S(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function FT(n,e,t={}){const r=(s,i,o)=>{const a=ZTt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const JTt=()=>{throw new Error("not implemented")};function mB(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var XTt=Object.freeze(Object.defineProperty({__proto__:null,isBytes:$S,abytes:Lz,abool:Yg,bytesToHex:DS,numberToHexUnpadded:wMe,hexToNumber:One,hexToBytes:X_,bytesToNumberBE:V1,bytesToNumberLE:lA,numberToBytesBE:Q_,numberToBytesLE:gB,numberToVarBytesBE:VTt,ensureBytes:ia,concatBytes:OS,equalBytes:qTt,utf8ToBytes:jTt,inRange:pL,aInRange:Il,bitLen:HTt,bitGet:GTt,bitSet:YTt,bitMask:Kne,createHmacDrbg:IMe,validateObject:FT,notImplemented:JTt,memoized:mB},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ec=BigInt(0),Wi=BigInt(1),d1=BigInt(2),QTt=BigInt(3),Pj=BigInt(4),cpe=BigInt(5),upe=BigInt(8);BigInt(9);BigInt(16);function Si(n,e){const t=n%e;return t>=ec?t:e+t}function eRt(n,e,t){if(t<=ec||e<ec)throw new Error("Expected power/modulo > 0");if(t===Wi)return ec;let r=Wi;for(;e>ec;)e&Wi&&(r=r*n%t),n=n*n%t,e>>=Wi;return r}function io(n,e,t){let r=n;for(;e-- >ec;)r*=r,r%=t;return r}function Ej(n,e){if(n===ec||e<=ec)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Si(n,e),r=e,s=ec,i=Wi;for(;t!==ec;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Wi)throw new Error("invert: does not exist");return Si(s,e)}function tRt(n){const e=(n-Wi)/d1;let t,r,s;for(t=n-Wi,r=0;t%d1===ec;t/=d1,r++);for(s=d1;s<n&&eRt(s,e,n)!==n-Wi;s++);if(r===1){const o=(n+Wi)/Pj;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Wi)/d1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Wi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function rRt(n){if(n%Pj===QTt){const e=(n+Wi)/Pj;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%upe===cpe){const e=(n-cpe)/upe;return function(r,s){const i=r.mul(s,d1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,d1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return tRt(n)}const nRt=(n,e)=>(Si(n,e)&Wi)===Wi,sRt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function iRt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=sRt.reduce((r,s)=>(r[s]="function",r),e);return FT(n,t)}function oRt(n,e,t){if(t<ec)throw new Error("Expected power > 0");if(t===ec)return n.ONE;if(t===Wi)return e;let r=n.ONE,s=e;for(;t>ec;)t&Wi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Wi;return r}function aRt(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function _Me(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function PMe(n,e,t=!1,r={}){if(n<=ec)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=_Me(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=rRt(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:Kne(s),ZERO:ec,ONE:Wi,create:c=>Si(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ec<=c&&c<n},is0:c=>c===ec,isOdd:c=>(c&Wi)===Wi,neg:c=>Si(-c,n),eql:(c,u)=>c===u,sqr:c=>Si(c*c,n),add:(c,u)=>Si(c+u,n),sub:(c,u)=>Si(c-u,n),mul:(c,u)=>Si(c*u,n),pow:(c,u)=>oRt(a,c,u),div:(c,u)=>Si(c*Ej(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Ej(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>aRt(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?gB(c,i):Q_(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?lA(c):V1(c)}});return Object.freeze(a)}function EMe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function xMe(n){const e=EMe(n);return e+Math.ceil(e/2)}function cRt(n,e,t=!1){const r=n.length,s=EMe(e),i=xMe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?V1(n):lA(n),a=Si(o,e-Wi)+Wi;return t?gB(a,s):Q_(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uRt=BigInt(0),IU=BigInt(1),_U=new WeakMap,lpe=new WeakMap;function TMe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>uRt;)o&IU&&(a=a.add(c)),c=c.double(),o>>=IU;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=IU);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,A=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(A,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=lpe.get(i)||1;let u=_U.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&_U.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),lpe.set(i,o),_U.delete(i)}}}function Lne(n){return iRt(n.Fp),FT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({..._Me(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vl=BigInt(0),Gc=BigInt(1),q8=BigInt(2),lRt=BigInt(8),dRt={zip215:!0};function fRt(n){const e=Lne(n);return FT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function hRt(n){const e=fRt(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=q8<<BigInt(a*8)-Gc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Vl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Yg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){Il("coordinate "+v,k,Vl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=mB((v,k)=>{const{ex:x,ey:C,ez:B}=v,D=v.is0();k==null&&(k=D?lRt:t.inv(B));const $=l(x*k),W=l(C*k),L=l(B*k);if(D)return{x:Vl,y:Gc};if(L!==Gc)throw new Error("invZ was invalid");return{x:$,y:W}}),b=mB(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:D,et:$}=v,W=l(C*C),L=l(B*B),U=l(D*D),G=l(U*U),J=l(W*k),Q=l(U*l(J+L)),Y=l(G+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(D*$);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Gc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){A.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:D,ey:$,ez:W}=k,L=l(x*W),U=l(D*B),G=l(C*W),J=l($*B);return L===U&&G===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,D=l(x*x),$=l(C*C),W=l(q8*l(B*B)),L=l(k*D),U=x+C,G=l(l(U*U)-D-$),J=L+$,Q=J-W,Y=L-$,X=l(G*Q),re=l(J*Y),se=l(G*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:D,ez:$,et:W}=this,{ex:L,ey:U,ez:G,et:J}=k;if(x===BigInt(-1)){const Lt=l((D-B)*(U+L)),Dt=l((D+B)*(U-L)),et=l(Dt-Lt);if(et===Vl)return this.double();const Ue=l($*q8*J),Wt=l(W*q8*G),sr=Wt+Ue,tr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(tr*pr),gn=l(sr*pr),ds=l(et*tr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(D*U),X=l(W*C*J),re=l($*G),se=l((B+D)*(L+U)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),_e=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(_e,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return A.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;Il("scalar",x,Gc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return Il("scalar",x,Vl,r),x===Vl?I:this.equals(I)||x===Gc?this:this.equals(p)?this.wNAF(x).p:A.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Gc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,D=t.BYTES;k=ia("pointHex",k,D),Yg("zip215",x);const $=k.slice(),W=k[D-1];$[D-1]=W&-129;const L=lA($),U=x?u:t.ORDER;Il("pointHex.y",L,Vl,U);const G=l(L*L),J=l(G-Gc),Q=l(C*G-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Gc)===Gc,se=(W&128)!==0;if(!x&&X===Vl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return P(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=gB(x,t.BYTES);return C[C.length-1]|=k&Gc?128:0,C}toHex(){return DS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Gc,l(e.Gx*e.Gy)),S.ZERO=new S(Vl,Gc,Gc,Vl);const{BASE:p,ZERO:I}=S,A=TMe(S,a*8);function w(v){return Si(v,r)}function _(v){return w(lA(v))}function P(v){const k=a;v=ia("private key",v,k);const x=ia("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),D=_(C),$=p.multiply(D),W=$.toRawBytes();return{head:C,prefix:B,scalar:D,point:$,pointBytes:W}}function M(v){return P(v).pointBytes}function E(v=new Uint8Array,...k){const x=OS(...k);return _(i(h(x,ia("context",v),!!s)))}function T(v,k,x={}){v=ia("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:D}=P(k),$=E(x.context,C,v),W=p.multiply($).toRawBytes(),L=E(x.context,W,D,v),U=w($+L*B);Il("signature.s",U,Vl,r);const G=OS(W,gB(U,t.BYTES));return ia("result",G,a*2)}const z=dRt;function O(v,k,x,C=z){const{context:B,zip215:D}=C,$=t.BYTES;v=ia("signature",v,2*$),k=ia("message",k),D!==void 0&&Yg("zip215",D),s&&(k=s(k));const W=lA(v.slice($,2*$));let L,U,G;try{L=S.fromHex(x,D),U=S.fromHex(v.slice(0,$),D),G=p.multiplyUnsafe(W)}catch{return!1}if(!D&&L.isSmallOrder())return!1;const J=E(B,U.toRawBytes(),L.toRawBytes(),k);return U.add(L.multiplyUnsafe(J)).subtract(G).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:T,verify:O,ExtendedPoint:S,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wne=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),dpe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const gRt=BigInt(1),fpe=BigInt(2);BigInt(3);const mRt=BigInt(5),yRt=BigInt(8);function pRt(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=Wne,a=n*n%i*n%i,c=io(a,fpe,i)*a%i,u=io(c,gRt,i)*n%i,l=io(u,mRt,i)*u%i,d=io(l,e,i)*l%i,y=io(d,t,i)*d%i,h=io(y,r,i)*y%i,m=io(h,s,i)*h%i,f=io(m,s,i)*h%i,g=io(f,e,i)*l%i;return{pow_p_5_8:io(g,fpe,i)*n%i,b2:a}}function bRt(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function SRt(n,e){const t=Wne,r=Si(e*e*e,t),s=Si(r*r*e,t),i=pRt(n*s).pow_p_5_8;let o=Si(n*r*i,t);const a=Si(e*o*o,t),c=o,u=Si(o*dpe,t),l=a===n,d=a===Si(-n,t),y=a===Si(-n*dpe,t);return l&&(o=c),(d||y)&&(o=u),nRt(o,t)&&(o=Si(-o,t)),{isValid:l||d,value:o}}const kRt=(()=>PMe(Wne,void 0,!0))(),vRt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:kRt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:yRt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:NTt,randomBytes:mMe,adjustScalarBytes:bRt,uvRatio:SRt}))(),UT=(()=>hRt(vRt))(),ARt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),iy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oy=new Uint32Array(64);class wRt extends yMe{constructor(){super(64,32,8,!1),this.A=iy[0]|0,this.B=iy[1]|0,this.C=iy[2]|0,this.D=iy[3]|0,this.E=iy[4]|0,this.F=iy[5]|0,this.G=iy[6]|0,this.H=iy[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)oy[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=oy[d-15],h=oy[d-2],m=jd(y,7)^jd(y,18)^y>>>3,f=jd(h,17)^jd(h,19)^h>>>10;oy[d]=f+oy[d-7]+m+oy[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=jd(a,6)^jd(a,11)^jd(a,25),h=l+y+kTt(a,c,u)+ARt[d]+oy[d]|0,f=(jd(r,2)^jd(r,13)^jd(r,22))+vTt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){oy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const xj=$ne(()=>new wRt);class IRt extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function _Rt(n){return Wz(n)&&typeof n[Symbol.iterator]=="function"}function Wz(n){return typeof n=="object"&&n!=null}function VO(n){return Wz(n)&&!Array.isArray(n)}function Pd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function PRt(n){const{done:e,value:t}=n.next();return e?void 0:t}function ERt(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Pd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*hpe(n,e,t,r){_Rt(n)||(n=[n]);for(const s of n){const i=ERt(s,e,t,r);i&&(yield i)}}function*Nne(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=Nne(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Wz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class kh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return hpe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return hpe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return RMe(e,this,t)}create(e,t){return St(e,this,t)}is(e){return CMe(e,this)}mask(e,t){return xRt(e,this,t)}validate(e,t={}){return Nz(e,this,t)}}function RMe(n,e,t){const r=Nz(n,e,{message:t});if(r[0])throw r[0]}function St(n,e,t){const r=Nz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function xRt(n,e,t){const r=Nz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function CMe(n,e){return!Nz(n,e)[0]}function Nz(n,e,t={}){const r=Nne(n,e,t),s=PRt(r);if(s[0])return[new IRt(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function Sk(n,e){return new kh({type:n,schema:null,validator:e})}function TRt(){return Sk("any",()=>!0)}function Et(n){return new kh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Pd(e)}`}})}function ih(){return Sk("boolean",n=>typeof n=="boolean")}function Fne(n){return Sk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Pd(e)}`)}function Ci(n){const e=Pd(n),t=typeof n;return new kh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Pd(r)}`}})}function RRt(){return Sk("never",()=>!1)}function $t(n){return new kh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Se(){return Sk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Pd(n)}`)}function yr(n){return new kh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function MMe(n,e){return new kh({type:"record",schema:null,*entries(t){if(Wz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return VO(t)||`Expected an object, but received: ${Pd(t)}`},coercer(t){return VO(t)?{...t}:t}})}function Xe(){return Sk("string",n=>typeof n=="string"||`Expected a string, but received: ${Pd(n)}`)}function Une(n){const e=RRt();return new kh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Pd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function $e(n){const e=Object.keys(n);return new kh({type:"type",schema:n,*entries(t){if(Wz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return VO(t)||`Expected an object, but received: ${Pd(t)}`},coercer(t){return VO(t)?{...t}:t}})}function Dc(n){const e=n.map(t=>t.type).join(" | ");return new kh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=Nne(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Pd(t)}`,...s]}})}function VT(){return Sk("unknown",()=>!0)}function Fz(n,e,t){return new kh({...n,coercer:(r,s)=>CMe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const BMe=[],zMe=[],$Me=[],CRt=BigInt(0),TC=BigInt(1),MRt=BigInt(2),BRt=BigInt(7),zRt=BigInt(256),$Rt=BigInt(113);for(let n=0,e=TC,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],BMe.push(2*(5*r+t)),zMe.push((n+1)*(n+2)/2%64);let s=CRt;for(let i=0;i<7;i++)e=(e<<TC^(e>>BRt)*$Rt)%zRt,e&MRt&&(s^=TC<<(TC<<BigInt(i))-TC);$Me.push(s)}const[DRt,ORt]=bMe($Me,!0),gpe=(n,e,t)=>t>32?vMe(n,e,t):SMe(n,e,t),mpe=(n,e,t)=>t>32?AMe(n,e,t):kMe(n,e,t);function KRt(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=gpe(u,l,1)^t[a],y=mpe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=zMe[o],c=gpe(s,i,a),u=mpe(s,i,a),l=BMe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=DRt[r],n[1]^=ORt[r]}t.fill(0)}class Vne extends zne{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,UO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=mTt(this.state)}keccak(){spe||ipe(this.state32),KRt(this.state32,this.rounds),spe||ipe(this.state32),this.posOut=0,this.pos=0}update(e){J_(this);const{blockLen:t,state:r}=this;e=mL(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){J_(this,!1),Kz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return UO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(gMe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Vne(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const LRt=(n,e,t)=>$ne(()=>new Vne(e,n,t)),ype=LRt(1,136,256/8);class DMe extends zne{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,gTt(e);const r=mL(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return J_(this),this.iHash.update(e),this}digestInto(e){J_(this),Kz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const OMe=(n,e,t)=>new DMe(n,e).update(t).digest();OMe.create=(n,e)=>new DMe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ppe(n){n.lowS!==void 0&&Yg("lowS",n.lowS),n.prehash!==void 0&&Yg("prehash",n.prehash)}function WRt(n){const e=Lne(n);FT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:NRt,hexToBytes:FRt}=XTt,B1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=B1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:NRt(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=B1,t=typeof n=="string"?FRt(n):n;Lz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=B1._parseInt(t.subarray(2)),{d:o,l:a}=B1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ry=BigInt(0),ya=BigInt(1);BigInt(2);const bpe=BigInt(3);BigInt(4);function URt(n){const e=WRt(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return OS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return pL(m,ya,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if($S(m)&&(m=DS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:V1(ia("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Si(p,S)),Il("private key",p,ya,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=mB((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),A=t.mul(b,f),w=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:I,y:A}}),l=mB(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ia("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f,w=t.eql(t.mul(g,A),t.mul(p,S)),_=t.eql(t.mul(b,A),t.mul(I,S));return w&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,bpe),{px:S,py:p,pz:I}=this;let A=t.ZERO,w=t.ZERO,_=t.ZERO,P=t.mul(S,S),M=t.mul(p,p),E=t.mul(I,I),T=t.mul(S,p);return T=t.add(T,T),_=t.mul(S,I),_=t.add(_,_),A=t.mul(f,_),w=t.mul(b,E),w=t.add(A,w),A=t.sub(M,w),w=t.add(M,w),w=t.mul(A,w),A=t.mul(T,A),_=t.mul(b,_),E=t.mul(f,E),T=t.sub(P,E),T=t.mul(f,T),T=t.add(T,_),_=t.add(P,P),P=t.add(_,P),P=t.add(P,E),P=t.mul(P,T),w=t.add(w,P),E=t.mul(p,I),E=t.add(E,E),P=t.mul(E,T),A=t.sub(A,P),_=t.mul(E,M),_=t.add(_,_),_=t.add(_,_),new d(A,w,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:A}=f;let w=t.ZERO,_=t.ZERO,P=t.ZERO;const M=e.a,E=t.mul(e.b,bpe);let T=t.mul(g,p),z=t.mul(b,I),O=t.mul(S,A),R=t.add(g,b),v=t.add(p,I);R=t.mul(R,v),v=t.add(T,z),R=t.sub(R,v),v=t.add(g,S);let k=t.add(p,A);return v=t.mul(v,k),k=t.add(T,O),v=t.sub(v,k),k=t.add(b,S),w=t.add(I,A),k=t.mul(k,w),w=t.add(z,O),k=t.sub(k,w),P=t.mul(M,v),w=t.mul(E,O),P=t.add(w,P),w=t.sub(z,P),P=t.add(z,P),_=t.mul(w,P),z=t.add(T,T),z=t.add(z,T),O=t.mul(M,O),v=t.mul(E,v),z=t.add(z,O),O=t.sub(T,O),O=t.mul(M,O),v=t.add(v,O),T=t.mul(z,v),_=t.add(_,T),T=t.mul(k,v),w=t.mul(R,w),w=t.sub(w,T),T=t.mul(R,z),P=t.mul(k,P),P=t.add(P,T),new d(w,_,P)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){Il("scalar",f,Ry,e.n);const g=d.ZERO;if(f===Ry)return g;if(f===ya)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:A}=b.splitScalar(f),w=g,_=g,P=this;for(;p>Ry||A>Ry;)p&ya&&(w=w.add(P)),A&ya&&(_=_.add(P)),P=P.double(),p>>=ya,A>>=ya;return S&&(w=w.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),w.add(_)}multiply(f){const{endo:g,n:b}=e;Il("scalar",f,ya,b);let S,p;if(g){const{k1neg:I,k1:A,k2neg:w,k2:_}=g.splitScalar(f);let{p:P,f:M}=this.wNAF(A),{p:E,f:T}=this.wNAF(_);P=h.constTimeNegate(I,P),E=h.constTimeNegate(w,E),E=new d(t.mul(E.px,g.beta),E.py,E.pz),S=P.add(E),p=M.add(T)}else{const{p:I,f:A}=this.wNAF(f);S=I,p=A}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(A,w)=>w===Ry||w===ya||!A.equals(S)?A.multiplyUnsafe(w):A.multiply(w),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ya)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ya?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Yg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Yg("isCompressed",f),DS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=TMe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function VRt(n){const e=Lne(n);return FT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function qRt(n){const e=VRt(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(R){return Si(R,r)}function a(R){return Ej(R,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=URt({...e,toBytes(R,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=OS;return Yg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(R){const v=R.length,k=R[0],x=R.subarray(1);if(v===s&&(k===2||k===3)){const C=V1(x);if(!pL(C,ya,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let D;try{D=t.sqrt(B)}catch(L){const U=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+U)}const $=(D&ya)===ya;return(k&1)===1!==$&&(D=t.neg(D)),{x:C,y:D}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=R=>DS(Q_(R,e.nByteLength));function h(R){const v=r>>ya;return R>v}function m(R){return h(R)?o(-R):R}const f=(R,v,k)=>V1(R.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ia("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=B1.toSig(ia("DER",v));return new g(k,x)}assertValidity(){Il("r",this.r,ya,r),Il("s",this.s,ya,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=w(ia("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const D=C===2||C===3?k+e.n:k;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const $=(C&1)===0?"02":"03",W=c.fromHex($+y(D)),L=a(D),U=o(-B*L),G=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,U,G);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return X_(this.toDERHex())}toDERHex(){return B1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return X_(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(R){try{return u(R),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const R=xMe(e.n);return cRt(e.randomBytes(R),e.n)},precompute(R=8,v=c.BASE){return v._setWindowSize(R),v.multiply(BigInt(3)),v}};function S(R,v=!0){return c.fromPrivateKey(R).toRawBytes(v)}function p(R){const v=$S(R),k=typeof R=="string",x=(v||k)&&R.length;return v?x===s||x===i:k?x===2*s||x===2*i:R instanceof c}function I(R,v,k=!0){if(p(R))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(R)).toRawBytes(k)}const A=e.bits2int||function(R){const v=V1(R),k=R.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},w=e.bits2int_modN||function(R){return o(A(R))},_=Kne(e.nBitLength);function P(R){return Il(`num < 2^${e.nBitLength}`,R,Ry,_),Q_(R,e.nByteLength)}function M(R,v,k=E){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:D,extraEntropy:$}=k;B==null&&(B=!0),R=ia("msgHash",R),ppe(k),D&&(R=ia("prehashed msgHash",x(R)));const W=w(R),L=u(v),U=[P(L),P(W)];if($!=null&&$!==!1){const Y=$===!0?C(t.BYTES):$;U.push(ia("extraEntropy",Y))}const G=OS(...U),J=W;function Q(Y){const X=A(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ry)return;const ne=o(re*o(J+ee*L));if(ne===Ry)return;let ve=(se.x===ee?0:2)|Number(se.y&ya),_e=ne;return B&&h(ne)&&(_e=m(ne),ve^=1),new g(ee,_e,ve)}return{seed:G,k2sig:Q}}const E={lowS:e.lowS,prehash:!1},T={lowS:e.lowS,prehash:!1};function z(R,v,k=E){const{seed:x,k2sig:C}=M(R,v,k),B=e;return IMe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function O(R,v,k,x=T){var se;const C=R;if(v=ia("msgHash",v),k=ia("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");ppe(x);const{lowS:B,prehash:D}=x;let $,W;try{if(typeof C=="string"||$S(C))try{$=g.fromDER(C)}catch(ee){if(!(ee instanceof B1.Err))throw ee;$=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;$=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&$.hasHighS())return!1;D&&(v=e.hash(v));const{r:L,s:U}=$,G=w(v),J=a(U),Q=o(G*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:z,verify:O,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jRt(n){return{hash:n,hmac:(e,...t)=>OMe(n,e,bTt(...t)),randomBytes:mMe}}function HRt(n,e){const t=r=>qRt({...n,...jRt(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KMe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Spe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),GRt=BigInt(1),Tj=BigInt(2),kpe=(n,e)=>(n+e/Tj)/e;function YRt(n){const e=KMe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=io(l,t,e)*l%e,y=io(d,t,e)*l%e,h=io(y,Tj,e)*u%e,m=io(h,s,e)*h%e,f=io(m,i,e)*m%e,g=io(f,a,e)*f%e,b=io(g,c,e)*g%e,S=io(b,a,e)*f%e,p=io(S,t,e)*l%e,I=io(p,o,e)*m%e,A=io(I,r,e)*u%e,w=io(A,Tj,e);if(!Rj.eql(Rj.sqr(w),n))throw new Error("Cannot find square root");return w}const Rj=PMe(KMe,void 0,void 0,{sqrt:YRt}),bL=HRt({a:BigInt(0),b:BigInt(7),Fp:Rj,n:Spe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Spe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-GRt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=kpe(i*n,e),c=kpe(-r*n,e);let u=Si(n-a*t-c*s,e),l=Si(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},xj);BigInt(0);bL.ProjectivePoint;const ZRt=UT.utils.randomPrivateKey,vpe=()=>{const n=UT.utils.randomPrivateKey(),e=qO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},qO=UT.getPublicKey;function Ape(n){try{return UT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const qne=(n,e)=>UT.sign(n,e.slice(0,32)),JRt=UT.verify,sn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class jne{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(rm(V2,this))}static decode(e){return nm(V2,this,e)}static decodeUnchecked(e){return sm(V2,this,e)}}class XRt extends jne{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const V2=new Map;var LMe;const WMe=32,Gf=32;function QRt(n){return n._bn!==void 0}let wpe=1;class ct extends jne{constructor(e){if(super({}),this._bn=void 0,QRt(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Gf)throw new Error("Invalid public key input");this._bn=new ki(t)}else this._bn=new ki(e);if(this._bn.byteLength()>Gf)throw new Error("Invalid public key input")}}static unique(){const e=new ct(wpe);return wpe+=1,new ct(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Gf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=xj(s);return new ct(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>WMe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,sn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=xj(r);if(Ape(s))throw new Error("Invalid seeds, address must fall off the curve");return new ct(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ct(e);return Ape(t.toBytes())}}LMe=ct;ct.default=new LMe("11111111111111111111111111111111");V2.set(ct,{kind:"struct",fields:[["_bn","u256"]]});class eCt{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=sn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=sn(ZRt()),this._publicKey=sn(qO(this._secretKey))}get publicKey(){return new ct(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const tCt=new ct("BPFLoader1111111111111111111111111111111111"),pp=1280-40-8,SL=127,yB=64;class Hne extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Hne.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Gne extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Gne.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Bv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Bv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class pB{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const wn=(n="publicKey")=>ie(32,n),rCt=(n="signature")=>ie(64,n),z1=(n="string")=>{const e=N([F("length"),F("lengthPadding"),ie(Vt(F(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>F().span+F().span+V.Buffer.from(i,"utf8").length,s},nCt=(n="authorized")=>N([wn("staker"),wn("withdrawer")],n),sCt=(n="lockup")=>N([Pe("unixTimestamp"),Pe("epoch"),wn("custodian")],n),iCt=(n="voteInit")=>N([wn("nodePubkey"),wn("authorizedVoter"),wn("authorizedWithdrawer"),te("commission")],n),oCt=(n="voteAuthorizeWithSeedArgs")=>N([F("voteAuthorizationType"),wn("currentAuthorityDerivedKeyOwnerPubkey"),z1("currentAuthorityDerivedKeySeed"),wn("newAuthorized")],n);function NMe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return NMe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function gu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Uu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function qn(n,e){if(!n)throw new Error(e||"Assertion failed")}class kL{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new kL(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];qn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{qn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];qn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ct(c)),...r.map(([c])=>new ct(c)),...s.map(([c])=>new ct(c)),...i.map(([c])=>new ct(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ct(i),c=e.findIndex(u=>u.equals(a));c>=0&&(qn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const FMe="Reached end of buffer unexpectedly";function Mf(n){if(n.length===0)throw new Error(FMe);return n.shift()}function mu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(FMe);return n.splice(...e)}class Ed{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ct(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new pB(this.staticAccountKeys)}static compile(e){const t=kL.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new pB(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new Ed({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Uu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Uu(f,y.length);let g=[];return Uu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Uu(s,r.length);let i=V.Buffer.alloc(pp);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=N([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=N([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(wn("key"),e,"keys"),wn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>sn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Mf(t);if(r!==(r&SL))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Mf(t),i=Mf(t),o=gu(t);let a=[];for(let y=0;y<o;y++){const h=mu(t,0,Gf);a.push(new ct(V.Buffer.from(h)))}const c=mu(t,0,Gf),u=gu(t);let l=[];for(let y=0;y<u;y++){const h=Mf(t),m=gu(t),f=mu(t,0,m),g=gu(t),b=mu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new Ed(d)}}class KS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new pB(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=kL.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new pB(a,s).compileInstructions(e.instructions);return new KS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Uu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Uu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Uu(i,this.addressTableLookups.length);const o=N([te("prefix"),N([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(wn(),this.staticAccountKeys.length,"staticAccountKeys"),wn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(pp),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(pp);for(const r of this.compiledInstructions){const s=Array();Uu(s,r.accountKeyIndexes.length);const i=Array();Uu(i,r.data.length),e+=N([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(pp);for(const r of this.addressTableLookups){const s=Array();Uu(s,r.writableIndexes.length);const i=Array();Uu(i,r.readonlyIndexes.length),e+=N([wn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Mf(t),s=r&SL;qn(r!==s,"Expected versioned message but received legacy message");const i=s;qn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Mf(t),numReadonlySignedAccounts:Mf(t),numReadonlyUnsignedAccounts:Mf(t)},a=[],c=gu(t);for(let m=0;m<c;m++)a.push(new ct(mu(t,0,Gf)));const u=Ie.encode(mu(t,0,Gf)),l=gu(t),d=[];for(let m=0;m<l;m++){const f=Mf(t),g=gu(t),b=mu(t,0,g),S=gu(t),p=new Uint8Array(mu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=gu(t),h=[];for(let m=0;m<y;m++){const f=new ct(mu(t,0,Gf)),g=gu(t),b=mu(t,0,g),S=gu(t),p=mu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new KS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const Yne={deserializeMessageVersion(n){const e=n[0],t=e&SL;return t===e?"legacy":t},deserialize:n=>{const e=Yne.deserializeMessageVersion(n);if(e==="legacy")return Ed.from(n);if(e===0)return KS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let vg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const aCt=V.Buffer.alloc(yB).fill(0);class Is{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Xn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Is(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ct(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{qn(f.programIdIndex>=0),f.accounts.forEach(g=>qn(g>=0))}),new Ed({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=qne(r,s.secretKey);this._addSignature(s.publicKey,sn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){qn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):JRt(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Uu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return qn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(qn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),qn(i.length<=pp,`Transaction too large: ${i.length} > ${pp}`),i}get keys(){return qn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return qn(this.instructions.length===1),this.instructions[0].programId}get data(){return qn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=gu(t);let s=[];for(let i=0;i<r;i++){const o=mu(t,0,yB);s.push(Ie.encode(V.Buffer.from(o)))}return Xn.populate(Ed.from(t),s)}static populate(e,t=[]){const r=new Xn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(aCt)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Is({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Zne{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;qn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;qn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Is({programId:g,data:sn(m.data),keys:f}))}return new Zne({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return Ed.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return KS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Jne{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)qn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(yB));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Uu(t,this.signatures.length);const r=N([ie(t.length,"encodedSignaturesLength"),we(rCt(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=gu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(mu(t,0,yB)));const i=Yne.deserialize(new Uint8Array(t));return new Jne(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));qn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=qne(t,s.secretKey)}}addSignature(e,t){qn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));qn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const cCt=160,uCt=64,lCt=cCt/uCt,UMe=1e3/lCt,af=new ct("SysvarC1ock11111111111111111111111111111111"),dCt=new ct("SysvarEpochSchedu1e111111111111111111111111"),fCt=new ct("Sysvar1nstructions1111111111111111111111111"),OD=new ct("SysvarRecentB1ockHashes11111111111111111111"),eP=new ct("SysvarRent111111111111111111111111111111111"),hCt=new ct("SysvarRewards111111111111111111111111111111"),gCt=new ct("SysvarS1otHashes111111111111111111111111111"),mCt=new ct("SysvarS1otHistory11111111111111111111111111"),KD=new ct("SysvarStakeHistory1111111111111111111111111");class bB extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const yCt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class er extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Cj(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new bB({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function f1(n){return new Promise(e=>setTimeout(e,n))}function zn(n,e){const t=n.layout.span>=0?n.layout.span:NMe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function as(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const VMe=Ae("lamportsPerSignature"),qMe=N([F("version"),F("state"),wn("authorizedPubkey"),wn("nonce"),N([VMe],"feeCalculator")]),Mj=qMe.span;class vL{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=qMe.decode(sn(e),0);return new vL({authorizedPubkey:new ct(t.authorizedPubkey),nonce:new ct(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const pCt=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bCt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=pCt(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return im(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=rc(o,n);return r(u,a,c)},i},tP=bCt(8);class SCt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ns))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=as(Ns.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ct(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=as(Ns.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=as(Ns.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ct(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=as(Ns.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=as(Ns.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ct(t),seed:r,space:s,programId:new ct(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=as(Ns.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ct(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=as(Ns.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ct(t),seed:r,programId:new ct(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=as(Ns.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ct(t),seed:r,lamports:s,space:i,programId:new ct(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=as(Ns.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ct(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),as(Ns.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=as(Ns.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=as(Ns.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ct(t)}}static checkProgramId(e){if(!e.equals(Va.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ns=Object.freeze({Create:{index:0,layout:N([F("instruction"),Pe("lamports"),Pe("space"),wn("programId")])},Assign:{index:1,layout:N([F("instruction"),wn("programId")])},Transfer:{index:2,layout:N([F("instruction"),tP("lamports")])},CreateWithSeed:{index:3,layout:N([F("instruction"),wn("base"),z1("seed"),Pe("lamports"),Pe("space"),wn("programId")])},AdvanceNonceAccount:{index:4,layout:N([F("instruction")])},WithdrawNonceAccount:{index:5,layout:N([F("instruction"),Pe("lamports")])},InitializeNonceAccount:{index:6,layout:N([F("instruction"),wn("authorized")])},AuthorizeNonceAccount:{index:7,layout:N([F("instruction"),wn("authorized")])},Allocate:{index:8,layout:N([F("instruction"),Pe("space")])},AllocateWithSeed:{index:9,layout:N([F("instruction"),wn("base"),z1("seed"),Pe("space"),wn("programId")])},AssignWithSeed:{index:10,layout:N([F("instruction"),wn("base"),z1("seed"),wn("programId")])},TransferWithSeed:{index:11,layout:N([F("instruction"),tP("lamports"),z1("seed"),wn("programId")])},UpgradeNonceAccount:{index:12,layout:N([F("instruction")])}});class Va{constructor(){}static createAccount(e){const t=Ns.Create,r=zn(t,{lamports:e.lamports,space:e.space,programId:sn(e.programId.toBuffer())});return new Is({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ns.TransferWithSeed;t=zn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ns.Transfer;t=zn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Is({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ns.AssignWithSeed;t=zn(s,{base:sn(e.basePubkey.toBuffer()),seed:e.seed,programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ns.Assign;t=zn(s,{programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Is({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ns.CreateWithSeed,r=zn(t,{base:sn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:sn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Is({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Xn;"basePubkey"in e&&"seed"in e?t.add(Va.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Mj,programId:this.programId})):t.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Mj,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ns.InitializeNonceAccount,r=zn(t,{authorized:sn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:OD,isSigner:!1,isWritable:!1},{pubkey:eP,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Is(s)}static nonceAdvance(e){const t=Ns.AdvanceNonceAccount,r=zn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:OD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Is(s)}static nonceWithdraw(e){const t=Ns.WithdrawNonceAccount,r=zn(t,{lamports:e.lamports});return new Is({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:OD,isSigner:!1,isWritable:!1},{pubkey:eP,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ns.AuthorizeNonceAccount,r=zn(t,{authorized:sn(e.newAuthorizedPubkey.toBuffer())});return new Is({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ns.AllocateWithSeed;t=zn(s,{base:sn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ns.Allocate;t=zn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Is({keys:r,programId:this.programId,data:t})}}Va.programId=new ct("11111111111111111111111111111111");const kCt=pp-300;class LS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/LS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Xn,h.add(Va.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Xn,h.add(Va.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Xn,h.add(Va.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Xn().add(Va.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await Cj(e,h,[t,r],{commitment:"confirmed"})}const o=N([F("instruction"),F("offset"),F("bytesLength"),F("bytesLengthPadding"),we(te("byte"),Vt(F(),-8),"bytes")]),a=LS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Xn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(Cj(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await f1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=N([F("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Xn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:eP,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(UMe/2)))}}return!0}}LS.chunkSize=kCt;const vCt=new ct("BPFLoader2111111111111111111111111111111111");class ACt{static getMinNumSignatures(e){return LS.getMinNumSignatures(e)}static load(e,t,r,s,i){return LS.load(e,t,r,i,s)}}function wCt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var PU,Ipe;function ICt(){if(Ipe)return PU;Ipe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return PU=function(r){var s=t(r,!1);if(s!==void 0)return""+s},PU}var _Ct=ICt(),_pe=wCt(_Ct);const RC=32;function EU(n){let e=0;for(;n>1;)n/=2,e++;return e}function PCt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class jMe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=EU(PCt(e+RC+1))-EU(RC)-1,r=this.getSlotsInEpoch(t),s=e-(r-RC);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*RC:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+EU(RC)):this.slotsPerEpoch}}var ECt=globalThis.fetch;class xCt extends Tb{constructor(e,t,r){const s=i=>{const o=Cb(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function TCt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Ppe=56;class Bj{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=TCt(RCt,e),r=e.length-Ppe;qn(r>=0,"lookup table is invalid"),qn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=N([we(wn(),s,"addresses")]).decode(e.slice(Ppe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ct(t.authority[0]):void 0,addresses:i.map(o=>new ct(o))}}}const RCt={index:1,layout:N([F("typeIndex"),tP("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(wn(),Vt(te(),-1),"authority")])},CCt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function MCt(n){const e=n.match(CCt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Gi=Fz(Fne(ct),Xe(),n=>new ct(n)),HMe=Une([Xe(),Ci("base64")]),Xne=Fz(Fne(V.Buffer),HMe,n=>V.Buffer.from(n[0],"base64")),GMe=30*1e3;function BCt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ms(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Epe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function YMe(n){return Dc([$e({jsonrpc:Ci("2.0"),id:Xe(),result:n}),$e({jsonrpc:Ci("2.0"),id:Xe(),error:$e({code:VT(),message:Xe(),data:yr(TRt())})})])}const zCt=YMe(VT());function Yr(n){return Fz(YMe(n),zCt,e=>"error"in e?e:{...e,result:St(e.result,n)})}function Io(n){return Yr($e({context:$e({slot:Se()}),value:n}))}function AL(n){return $e({context:$e({slot:Se()}),value:n})}function xU(n,e){return n===0?new KS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ct(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Ed(e)}const $Ct=$e({foundation:Se(),foundationTerm:Se(),initial:Se(),taper:Se(),terminal:Se()}),DCt=Yr(Et($t($e({epoch:Se(),effectiveSlot:Se(),amount:Se(),postBalance:Se(),commission:yr($t(Se()))})))),OCt=Et($e({slot:Se(),prioritizationFee:Se()})),KCt=$e({total:Se(),validator:Se(),foundation:Se(),epoch:Se()}),LCt=$e({epoch:Se(),slotIndex:Se(),slotsInEpoch:Se(),absoluteSlot:Se(),blockHeight:yr(Se()),transactionCount:yr(Se())}),WCt=$e({slotsPerEpoch:Se(),leaderScheduleSlotOffset:Se(),warmup:ih(),firstNormalEpoch:Se(),firstNormalSlot:Se()}),NCt=MMe(Xe(),Et(Se())),kk=$t(Dc([$e({}),Xe()])),FCt=$e({err:kk}),UCt=Ci("receivedSignature"),VCt=$e({"solana-core":Xe(),"feature-set":yr(Se())}),qCt=$e({program:Xe(),programId:Gi,parsed:VT()}),jCt=$e({programId:Gi,accounts:Et(Gi),data:Xe()}),xpe=Io($e({err:$t(Dc([$e({}),Xe()])),logs:$t(Et(Xe())),accounts:yr($t(Et($t($e({executable:ih(),owner:Xe(),lamports:Se(),data:Et(Xe()),rentEpoch:yr(Se())}))))),unitsConsumed:yr(Se()),returnData:yr($t($e({programId:Xe(),data:Une([Xe(),Ci("base64")])}))),innerInstructions:yr($t(Et($e({index:Se(),instructions:Et(Dc([qCt,jCt]))}))))})),HCt=Io($e({byIdentity:MMe(Xe(),Et(Se())),range:$e({firstSlot:Se(),lastSlot:Se()})}));function GCt(n,e,t,r,s,i){const o=t||ECt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new Rb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Y2t)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await f1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function YCt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function ZCt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const JCt=Yr($Ct),XCt=Yr(KCt),QCt=Yr(OCt),e2t=Yr(LCt),t2t=Yr(WCt),r2t=Yr(NCt),n2t=Yr(Se()),s2t=Io($e({total:Se(),circulating:Se(),nonCirculating:Se(),nonCirculatingAccounts:Et(Gi)})),zj=$e({amount:Xe(),uiAmount:$t(Se()),decimals:Se(),uiAmountString:yr(Xe())}),i2t=Io(Et($e({address:Gi,amount:Xe(),uiAmount:$t(Se()),decimals:Se(),uiAmountString:yr(Xe())}))),o2t=Io(Et($e({pubkey:Gi,account:$e({executable:ih(),owner:Gi,lamports:Se(),data:Xne,rentEpoch:Se()})}))),$j=$e({program:Xe(),parsed:VT(),space:Se()}),a2t=Io(Et($e({pubkey:Gi,account:$e({executable:ih(),owner:Gi,lamports:Se(),data:$j,rentEpoch:Se()})}))),c2t=Io(Et($e({lamports:Se(),address:Gi}))),SB=$e({executable:ih(),owner:Gi,lamports:Se(),data:Xne,rentEpoch:Se()}),u2t=$e({pubkey:Gi,account:SB}),l2t=Fz(Dc([Fne(V.Buffer),$j]),Dc([HMe,$j]),n=>Array.isArray(n)?St(n,Xne):n),Dj=$e({executable:ih(),owner:Gi,lamports:Se(),data:l2t,rentEpoch:Se()}),d2t=$e({pubkey:Gi,account:Dj}),f2t=$e({state:Dc([Ci("active"),Ci("inactive"),Ci("activating"),Ci("deactivating")]),active:Se(),inactive:Se()}),h2t=Yr(Et($e({signature:Xe(),slot:Se(),err:kk,memo:$t(Xe()),blockTime:yr($t(Se()))}))),g2t=Yr(Et($e({signature:Xe(),slot:Se(),err:kk,memo:$t(Xe()),blockTime:yr($t(Se()))}))),m2t=$e({subscription:Se(),result:AL(SB)}),y2t=$e({pubkey:Gi,account:SB}),p2t=$e({subscription:Se(),result:AL(y2t)}),b2t=$e({parent:Se(),slot:Se(),root:Se()}),S2t=$e({subscription:Se(),result:b2t}),k2t=Dc([$e({type:Dc([Ci("firstShredReceived"),Ci("completed"),Ci("optimisticConfirmation"),Ci("root")]),slot:Se(),timestamp:Se()}),$e({type:Ci("createdBank"),parent:Se(),slot:Se(),timestamp:Se()}),$e({type:Ci("frozen"),slot:Se(),timestamp:Se(),stats:$e({numTransactionEntries:Se(),numSuccessfulTransactions:Se(),numFailedTransactions:Se(),maxTransactionsPerEntry:Se()})}),$e({type:Ci("dead"),slot:Se(),timestamp:Se(),err:Xe()})]),v2t=$e({subscription:Se(),result:k2t}),A2t=$e({subscription:Se(),result:AL(Dc([FCt,UCt]))}),w2t=$e({subscription:Se(),result:Se()}),I2t=$e({pubkey:Xe(),gossip:$t(Xe()),tpu:$t(Xe()),rpc:$t(Xe()),version:$t(Xe())}),Tpe=$e({votePubkey:Xe(),nodePubkey:Xe(),activatedStake:Se(),epochVoteAccount:ih(),epochCredits:Et(Une([Se(),Se(),Se()])),commission:Se(),lastVote:Se(),rootSlot:$t(Se())}),_2t=Yr($e({current:Et(Tpe),delinquent:Et(Tpe)})),P2t=Dc([Ci("processed"),Ci("confirmed"),Ci("finalized")]),E2t=$e({slot:Se(),confirmations:$t(Se()),err:kk,confirmationStatus:yr(P2t)}),x2t=Io(Et($t(E2t))),T2t=Yr(Se()),ZMe=$e({accountKey:Gi,writableIndexes:Et(Se()),readonlyIndexes:Et(Se())}),Qne=$e({signatures:Et(Xe()),message:$e({accountKeys:Et(Xe()),header:$e({numRequiredSignatures:Se(),numReadonlySignedAccounts:Se(),numReadonlyUnsignedAccounts:Se()}),instructions:Et($e({accounts:Et(Se()),data:Xe(),programIdIndex:Se()})),recentBlockhash:Xe(),addressTableLookups:yr(Et(ZMe))})}),JMe=$e({pubkey:Gi,signer:ih(),writable:ih(),source:yr(Dc([Ci("transaction"),Ci("lookupTable")]))}),XMe=$e({accountKeys:Et(JMe),signatures:Et(Xe())}),QMe=$e({parsed:VT(),program:Xe(),programId:Gi}),eBe=$e({accounts:Et(Gi),data:Xe(),programId:Gi}),R2t=Dc([eBe,QMe]),C2t=Dc([$e({parsed:VT(),program:Xe(),programId:Xe()}),$e({accounts:Et(Xe()),data:Xe(),programId:Xe()})]),tBe=Fz(R2t,C2t,n=>"accounts"in n?St(n,eBe):St(n,QMe)),rBe=$e({signatures:Et(Xe()),message:$e({accountKeys:Et(JMe),instructions:Et(tBe),recentBlockhash:Xe(),addressTableLookups:yr($t(Et(ZMe)))})}),jO=$e({accountIndex:Se(),mint:Xe(),owner:yr(Xe()),programId:yr(Xe()),uiTokenAmount:zj}),nBe=$e({writable:Et(Gi),readonly:Et(Gi)}),wL=$e({err:kk,fee:Se(),innerInstructions:yr($t(Et($e({index:Se(),instructions:Et($e({accounts:Et(Se()),data:Xe(),programIdIndex:Se()}))})))),preBalances:Et(Se()),postBalances:Et(Se()),logMessages:yr($t(Et(Xe()))),preTokenBalances:yr($t(Et(jO))),postTokenBalances:yr($t(Et(jO))),loadedAddresses:yr(nBe),computeUnitsConsumed:yr(Se())}),ese=$e({err:kk,fee:Se(),innerInstructions:yr($t(Et($e({index:Se(),instructions:Et(tBe)})))),preBalances:Et(Se()),postBalances:Et(Se()),logMessages:yr($t(Et(Xe()))),preTokenBalances:yr($t(Et(jO))),postTokenBalances:yr($t(Et(jO))),loadedAddresses:yr(nBe),computeUnitsConsumed:yr(Se())}),qT=Dc([Ci(0),Ci("legacy")]),vk=$e({pubkey:Xe(),lamports:Se(),postBalance:$t(Se()),rewardType:$t(Xe()),commission:yr($t(Se()))}),M2t=Yr($t($e({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Et($e({transaction:Qne,meta:$t(wL),version:yr(qT)})),rewards:yr(Et(vk)),blockTime:$t(Se()),blockHeight:$t(Se())}))),B2t=Yr($t($e({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),rewards:yr(Et(vk)),blockTime:$t(Se()),blockHeight:$t(Se())}))),z2t=Yr($t($e({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Et($e({transaction:XMe,meta:$t(wL),version:yr(qT)})),rewards:yr(Et(vk)),blockTime:$t(Se()),blockHeight:$t(Se())}))),$2t=Yr($t($e({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Et($e({transaction:rBe,meta:$t(ese),version:yr(qT)})),rewards:yr(Et(vk)),blockTime:$t(Se()),blockHeight:$t(Se())}))),D2t=Yr($t($e({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Et($e({transaction:XMe,meta:$t(ese),version:yr(qT)})),rewards:yr(Et(vk)),blockTime:$t(Se()),blockHeight:$t(Se())}))),O2t=Yr($t($e({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),rewards:yr(Et(vk)),blockTime:$t(Se()),blockHeight:$t(Se())}))),K2t=Yr($t($e({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),transactions:Et($e({transaction:Qne,meta:$t(wL)})),rewards:yr(Et(vk)),blockTime:$t(Se())}))),Rpe=Yr($t($e({blockhash:Xe(),previousBlockhash:Xe(),parentSlot:Se(),signatures:Et(Xe()),blockTime:$t(Se())}))),TU=Yr($t($e({slot:Se(),meta:$t(wL),blockTime:yr($t(Se())),transaction:Qne,version:yr(qT)}))),j8=Yr($t($e({slot:Se(),transaction:rBe,meta:$t(ese),blockTime:yr($t(Se())),version:yr(qT)}))),L2t=Io($e({blockhash:Xe(),feeCalculator:$e({lamportsPerSignature:Se()})})),W2t=Io($e({blockhash:Xe(),lastValidBlockHeight:Se()})),N2t=Io(ih()),F2t=$e({slot:Se(),numTransactions:Se(),numSlots:Se(),samplePeriodSecs:Se()}),U2t=Yr(Et(F2t)),V2t=Io($t($e({feeCalculator:$e({lamportsPerSignature:Se()})}))),q2t=Yr(Xe()),j2t=Yr(Xe()),H2t=$e({err:kk,logs:Et(Xe()),signature:Xe()}),G2t=$e({result:AL(H2t),subscription:Se()}),Y2t={"solana-client":"js/1.0.0-maintenance"};class Z2t{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ms(l),h=this._buildArgs([],d,void 0,y),m=_pe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=St(f,Yr(Se()));if("error"in g)throw new er(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=BCt(e),this._rpcWsEndpoint=r||MCt(e),this._rpcClient=GCt(e,s,i,o,a,c),this._rpcRequest=YCt(this._rpcClient),this._rpcBatchRequest=ZCt(this._rpcClient),this._rpcWebSocket=new xCt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=St(o,Io(Se()));if("error"in a)throw new er(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=St(t,Yr($t(Se())));if("error"in r)throw new er(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=St(e,Yr(Se()));if("error"in t)throw new er(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=St(e,n2t);if("error"in t)throw new er(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=St(r,s2t);if("error"in s)throw new er(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=St(s,Io(zj));if("error"in i)throw new er(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=St(s,Io(zj));if("error"in i)throw new er(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ms(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=St(c,o2t);if("error"in u)throw new er(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=St(o,a2t);if("error"in a)throw new er(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=St(s,c2t);if("error"in i)throw new er(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=St(s,i2t);if("error"in i)throw new er(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=St(o,Io($t(SB)));if("error"in a)throw new er(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=St(o,Io($t(Dj)));if("error"in a)throw new er(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=St(a,Io(Et($t(Dj))));if("error"in c)throw new er(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=St(a,Io(Et($t(SB))));if("error"in c)throw new er(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ms(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=St(a,Yr(f2t));if("error"in c)throw new er(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ms(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Epe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Et(u2t),l=o.withContext===!0?St(c,Io(u)):St(c,Yr(u));if("error"in l)throw new er(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=St(o,Yr(Et(d2t)));if("error"in a)throw new er(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return qn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:vg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:vg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await f1(1e3),i||(h=await y(),i))return;d({__type:vg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===vg.PROCESSED)l=d.response;else throw new Hne(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:vg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await f1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===vg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await f1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Bv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Bv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Bv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Bv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:vg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===vg.PROCESSED)a=c.response;else throw new Gne(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=St(e,Yr(Et(I2t)));if("error"in t)throw new er(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=St(r,_2t);if("error"in s)throw new er(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=St(i,Yr(Se()));if("error"in o)throw new er(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=St(i,Yr(Xe()));if("error"in o)throw new er(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=St(s,Yr(Et(Gi)));if("error"in i)throw new er(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);qn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=St(s,x2t);if("error"in i)throw new er(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=St(i,Yr(Se()));if("error"in o)throw new er(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=St(r,JCt);if("error"in s)throw new er(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ms(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=St(a,DCt);if("error"in c)throw new er(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=St(e,XCt);if("error"in t)throw new er(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=St(i,e2t);if("error"in o)throw new er(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=St(e,t2t);if("error"in t)throw new er(t.error,"failed to get epoch schedule");const r=t.result;return new jMe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=St(e,r2t);if("error"in t)throw new er(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=St(s,T2t);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=St(r,L2t);if("error"in s)throw new er(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=St(t,U2t);if("error"in r)throw new er(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=St(s,V2t);if("error"in i)throw new er(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=sn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=St(i,Io($t(Se())));if("error"in o)throw new er(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=St(s,QCt);if("error"in i)throw new er(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=St(i,W2t);if("error"in o)throw new er(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=St(o,N2t);if("error"in a)throw new er(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=St(e,Yr(VCt));if("error"in t)throw new er(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=St(e,Yr(Xe()));if("error"in t)throw new er(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=St(o,z2t);if("error"in a)throw a.error;return a.result}case"none":{const a=St(o,B2t);if("error"in a)throw a.error;return a.result}default:{const a=St(o,M2t);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:xU(d,u.message)},version:d}))}:null}}}catch(a){throw new er(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=St(o,D2t);if("error"in a)throw a.error;return a.result}case"none":{const a=St(o,O2t);if("error"in a)throw a.error;return a.result}default:{const a=St(o,$2t);if("error"in a)throw a.error;return a.result}}}catch(a){throw new er(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=St(i,HCt);if("error"in o)throw new er(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=St(o,TU);if("error"in a)throw new er(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:xU(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=St(o,j8);if("error"in a)throw new er(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=St(c,j8);if("error"in u)throw new er(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=St(c,TU);if("error"in u)throw new er(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:xU(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=St(s,K2t);if("error"in i)throw new er(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Ed(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Xn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=St(i,Yr(Et(Se())));if("error"in o)throw new er(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=St(s,Rpe);if("error"in i)throw new er(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=St(s,Rpe);if("error"in i)throw new er(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=St(s,TU);if("error"in i)throw new er(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Ed(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Xn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=St(s,j8);if("error"in i)throw new er(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=St(o,j8);if("error"in a)throw new er(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=St(i,h2t);if("error"in o)throw new er(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=St(i,g2t);if("error"in o)throw new er(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new Bj({key:e,state:Bj.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=vL.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=St(r,q2t);if("error"in s)throw new er(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await f1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=GMe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await f1(UMe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=St(i,Io(Se()));if("error"in o)throw new er(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=St(p,xpe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Xn){let m=e;s=new Xn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Xn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=St(y,xpe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new bB({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=sn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=St(a,j2t);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new bB({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=St(e,m2t);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=_pe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];qn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ms(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=St(e,p2t);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ms(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Epe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=St(e,G2t);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=St(e,S2t);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=St(e,v2t);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=St(e,A2t);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=St(e,w2t);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class dA{constructor(e){this._keypair=void 0,this._keypair=e??vpe()}static generate(){return new dA(vpe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=qO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new dA({publicKey:r,secretKey:e})}static fromSeed(e){const t=qO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new dA({publicKey:t,secretKey:r})}get publicKey(){return new ct(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Og=Object.freeze({CreateLookupTable:{index:0,layout:N([F("instruction"),tP("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:N([F("instruction")])},ExtendLookupTable:{index:2,layout:N([F("instruction"),tP(),we(wn(),Vt(F(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:N([F("instruction")])},CloseLookupTable:{index:4,layout:N([F("instruction")])}});class J2t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Og))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=as(Og.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=as(Og.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ct(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(tse.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class tse{constructor(){}static createLookupTable(e){const[t,r]=ct.findProgramAddressSync([e.authority.toBuffer(),rc(BigInt(e.recentSlot),8)],this.programId),s=Og.CreateLookupTable,i=zn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Va.programId,isSigner:!1,isWritable:!1}];return[new Is({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Og.FreezeLookupTable,r=zn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Is({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Og.ExtendLookupTable,r=zn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Va.programId,isSigner:!1,isWritable:!1}),new Is({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Og.DeactivateLookupTable,r=zn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Is({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Og.CloseLookupTable,r=zn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Is({programId:this.programId,keys:s,data:r})}}tse.programId=new ct("AddressLookupTab1e1111111111111111111111111");class X2t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Bf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=as(Bf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=as(Bf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=as(Bf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=as(Bf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(rse.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Bf=Object.freeze({RequestUnits:{index:0,layout:N([te("instruction"),F("units"),F("additionalFee")])},RequestHeapFrame:{index:1,layout:N([te("instruction"),F("bytes")])},SetComputeUnitLimit:{index:2,layout:N([te("instruction"),F("units")])},SetComputeUnitPrice:{index:3,layout:N([te("instruction"),tP("microLamports")])}});class rse{constructor(){}static requestUnits(e){const t=Bf.RequestUnits,r=zn(t,e);return new Is({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Bf.RequestHeapFrame,r=zn(t,e);return new Is({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Bf.SetComputeUnitLimit,r=zn(t,e);return new Is({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Bf.SetComputeUnitPrice,r=zn(t,{microLamports:BigInt(e.microLamports)});return new Is({keys:[],programId:this.programId,data:r})}}rse.programId=new ct("ComputeBudget111111111111111111111111111111");const Cpe=64,Mpe=32,Bpe=64,zpe=N([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class IL{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;qn(t.length===Mpe,`Public Key must be ${Mpe} bytes but received ${t.length} bytes`),qn(s.length===Bpe,`Signature must be ${Bpe} bytes but received ${s.length} bytes`);const o=zpe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return zpe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Is({keys:[],programId:IL.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;qn(t.length===Cpe,`Private key must be ${Cpe} bytes but received ${t.length} bytes`);try{const i=dA.fromSecretKey(t),o=i.publicKey.toBytes(),a=qne(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}IL.programId=new ct("Ed25519SigVerify111111111111111111111111111");const Q2t=(n,e)=>{const t=bL.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};bL.utils.isValidPrivateKey;const eMt=bL.getPublicKey,$pe=32,RU=20,Dpe=64,tMt=11,CU=N([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class fA{constructor(){}static publicKeyToEthAddress(e){qn(e.length===Dpe,`Public key must be ${Dpe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(ype(sn(e))).slice(-RU)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return fA.createInstructionWithEthAddress({ethAddress:fA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,qn(a.length===RU,`Address must be ${RU} bytes but received ${a.length} bytes`);const c=1+tMt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(CU.span+r.length);return CU.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:sn(s),ethAddress:sn(a),recoveryId:i},h),h.fill(sn(r),CU.span),new Is({keys:[],programId:fA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;qn(t.length===$pe,`Private key must be ${$pe} bytes but received ${t.length} bytes`);try{const i=sn(t),o=eMt(i,!1).slice(1),a=V.Buffer.from(ype(sn(r))),[c,u]=Q2t(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}fA.programId=new ct("KeccakSecp256k11111111111111111111111111111");var sBe;const iBe=new ct("StakeConfig11111111111111111111111111111111");class oBe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Uz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}sBe=Uz;Uz.default=new sBe(0,0,ct.default);class rMt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(_a))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=as(_a.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new oBe(new ct(t.staker),new ct(t.withdrawer)),lockup:new Uz(r.unixTimestamp,r.epoch,new ct(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),as(_a.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=as(_a.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ct(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=as(_a.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ct(i),newAuthorizedPubkey:new ct(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=as(_a.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),as(_a.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=as(_a.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),as(_a.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(_L.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const _a=Object.freeze({Initialize:{index:0,layout:N([F("instruction"),nCt(),sCt()])},Authorize:{index:1,layout:N([F("instruction"),wn("newAuthorized"),F("stakeAuthorizationType")])},Delegate:{index:2,layout:N([F("instruction")])},Split:{index:3,layout:N([F("instruction"),Pe("lamports")])},Withdraw:{index:4,layout:N([F("instruction"),Pe("lamports")])},Deactivate:{index:5,layout:N([F("instruction")])},Merge:{index:7,layout:N([F("instruction")])},AuthorizeWithSeed:{index:8,layout:N([F("instruction"),wn("newAuthorized"),F("stakeAuthorizationType"),z1("authoritySeed"),wn("authorityOwner")])}}),nMt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class _L{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||Uz.default,o=_a.Initialize,a=zn(o,{authorized:{staker:sn(r.staker.toBuffer()),withdrawer:sn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:sn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eP,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Is(c)}static createAccountWithSeed(e){const t=new Xn;t.add(Va.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Xn;t.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=_a.Delegate,o=zn(i);return new Xn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:KD,isSigner:!1,isWritable:!1},{pubkey:iBe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=_a.Authorize,c=zn(a,{newAuthorized:sn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Xn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=_a.AuthorizeWithSeed,l=zn(u,{newAuthorized:sn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:sn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Xn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=_a.Split,a=zn(o,{lamports:i});return new Is({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Xn;return r.add(Va.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Xn;return u.add(Va.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Va.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=_a.Merge,o=zn(i);return new Xn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:KD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=_a.Withdraw,c=zn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:KD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Xn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=_a.Deactivate,i=zn(s);return new Xn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}_L.programId=new ct("Stake11111111111111111111111111111111111111");_L.space=200;class aBe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class sMt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=F("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(zf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=as(zf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new aBe(new ct(t.nodePubkey),new ct(t.authorizedVoter),new ct(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=as(zf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ct(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=as(zf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ct(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ct(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=as(zf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(jT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const zf=Object.freeze({InitializeAccount:{index:0,layout:N([F("instruction"),iCt()])},Authorize:{index:1,layout:N([F("instruction"),wn("newAuthorized"),F("voteAuthorizationType")])},Withdraw:{index:3,layout:N([F("instruction"),Pe("lamports")])},UpdateValidatorIdentity:{index:4,layout:N([F("instruction")])},AuthorizeWithSeed:{index:10,layout:N([F("instruction"),oCt()])}}),iMt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class jT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=zf.InitializeAccount,o=zn(i,{voteInit:{nodePubkey:sn(s.nodePubkey.toBuffer()),authorizedVoter:sn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:sn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eP,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Is(a)}static createAccount(e){const t=new Xn;return t.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=zf.Authorize,a=zn(o,{newAuthorized:sn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Xn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=zf.AuthorizeWithSeed,u=zn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:sn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:sn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Xn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=zf.Withdraw,a=zn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Xn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return jT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=zf.UpdateValidatorIdentity,o=zn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Xn().add({keys:a,programId:this.programId,data:o})}}jT.programId=new ct("Vote111111111111111111111111111111111111111");jT.space=3762;const cBe=new ct("Va1idator1nfo111111111111111111111111111111"),oMt=$e({name:Xe(),website:yr(Xe()),details:yr(Xe()),iconUrl:yr(Xe()),keybaseUsername:yr(Xe())});class nse{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(gu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ct(mu(t,0,Gf)),a=Mf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(cBe)&&s[1].isSigner){const i=z1().decode(V.Buffer.from(t)),o=JSON.parse(i);return RMe(o,oMt),new nse(s[1].publicKey,o)}return null}}const aMt=new ct("Vote111111111111111111111111111111111111111"),cMt=N([wn("nodePubkey"),wn("authorizedWithdrawer"),te("commission"),Ae(),we(N([Ae("slot"),F("confirmationCount")]),Vt(F(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(N([Ae("epoch"),wn("authorizedVoter")]),Vt(F(),-8),"authorizedVoters"),N([we(N([wn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(N([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(F(),-8),"epochCredits"),N([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class sse{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=cMt.decode(sn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new sse({nodePubkey:new ct(r.nodePubkey),authorizedWithdrawer:new ct(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(uMt),priorVoters:lMt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function uMt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ct(n)}}function Ope({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ct(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function lMt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Ope),...n.slice(0,e).map(Ope)]}const Kpe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function dMt(n,e){const t=e===!1?"http":"https";if(!n)return Kpe[t].devnet;const r=Kpe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function fMt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new bB({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const hMt=1e9;var gMt=Object.freeze(Object.defineProperty({__proto__:null,Account:eCt,AddressLookupTableAccount:Bj,AddressLookupTableInstruction:J2t,AddressLookupTableProgram:tse,Authorized:oBe,BLOCKHASH_CACHE_TIMEOUT_MS:GMe,BPF_LOADER_DEPRECATED_PROGRAM_ID:tCt,BPF_LOADER_PROGRAM_ID:vCt,BpfLoader:ACt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Bf,ComputeBudgetInstruction:X2t,ComputeBudgetProgram:rse,Connection:Z2t,Ed25519Program:IL,Enum:XRt,EpochSchedule:jMe,FeeCalculatorLayout:VMe,Keypair:dA,LAMPORTS_PER_SOL:hMt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Og,Loader:LS,Lockup:Uz,MAX_SEED_LENGTH:WMe,Message:Ed,MessageAccountKeys:pB,MessageV0:KS,NONCE_ACCOUNT_LENGTH:Mj,NonceAccount:vL,PACKET_DATA_SIZE:pp,PUBLIC_KEY_LENGTH:Gf,PublicKey:ct,SIGNATURE_LENGTH_IN_BYTES:yB,SOLANA_SCHEMA:V2,STAKE_CONFIG_ID:iBe,STAKE_INSTRUCTION_LAYOUTS:_a,SYSTEM_INSTRUCTION_LAYOUTS:Ns,SYSVAR_CLOCK_PUBKEY:af,SYSVAR_EPOCH_SCHEDULE_PUBKEY:dCt,SYSVAR_INSTRUCTIONS_PUBKEY:fCt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:OD,SYSVAR_RENT_PUBKEY:eP,SYSVAR_REWARDS_PUBKEY:hCt,SYSVAR_SLOT_HASHES_PUBKEY:gCt,SYSVAR_SLOT_HISTORY_PUBKEY:mCt,SYSVAR_STAKE_HISTORY_PUBKEY:KD,Secp256k1Program:fA,SendTransactionError:bB,SolanaJSONRPCError:er,SolanaJSONRPCErrorCode:yCt,StakeAuthorizationLayout:nMt,StakeInstruction:rMt,StakeProgram:_L,Struct:jne,SystemInstruction:SCt,SystemProgram:Va,Transaction:Xn,TransactionExpiredBlockheightExceededError:Hne,TransactionExpiredNonceInvalidError:Bv,TransactionExpiredTimeoutError:Gne,TransactionInstruction:Is,TransactionMessage:Zne,TransactionStatus:vg,VALIDATOR_INFO_KEY:cBe,VERSION_PREFIX_MASK:SL,VOTE_PROGRAM_ID:aMt,ValidatorInfo:nse,VersionedMessage:Yne,VersionedTransaction:Jne,VoteAccount:sse,VoteAuthorizationLayout:iMt,VoteInit:aBe,VoteInstruction:sMt,VoteProgram:jT,clusterApiUrl:dMt,sendAndConfirmRawTransaction:fMt,sendAndConfirmTransaction:Cj},Symbol.toStringTag,{value:"Module"})),lc=xd(gMt),js={},ise={},PL={};Object.defineProperty(PL,"__esModule",{value:!0});PL.IDL=void 0;PL.IDL={version:"0.1.0",name:"crew",instructions:[{name:"closeAccounts",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"recipient",isMut:!0,isSigner:!1,docs:["The recipient - receives the account rent",""]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The crew config to potentially close. All remaining accounts must be dependent on this account",""]}],args:[{name:"input",type:{defined:"CloseAccountsInput"}}]},{name:"mintCrewMember",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The auth profile"]},{name:"rentRecipient",isMut:!0,isSigner:!1,docs:["The account to receive refunded rent if all crew have been minted"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]},{name:"owner",isMut:!0,isSigner:!1,docs:["The owner of the crew that will be minted. This is validated to be either the `owner` on the","[`UserRedemption`] account or the `sage_player_profile` if remaining accounts are provided.","Marked as mutable to allow being used for direct minting.",""]},{name:"userRedemption",isMut:!0,isSigner:!1,docs:["The user redemption account to be created which holds data about the crew to be minted"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The pack type that is being redeemed."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account containing the probability tiers for the `PackType`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"collectionMint",isMut:!1,isSigner:!1,docs:["The collection mint"]},{name:"collectionMetadata",isMut:!0,isSigner:!1,docs:["The collection metadata"]},{name:"collectionEdition",isMut:!1,isSigner:!1,docs:["The collection edition"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"treeConfig",isMut:!0,isSigner:!1,docs:["The tree config"]},{name:"merkleTree",isMut:!0,isSigner:!1,docs:["The merkle tree to place the crew member in"]},{name:"collectionAuthorityRecordPda",isMut:!1,isSigner:!1,docs:["The collection authority record PDA"]},{name:"serverHashPreimage",isMut:!1,isSigner:!1,docs:["The preimage bytes of the server hash in the user redemption."]}],args:[{name:"input",type:{defined:"MintCrewMemberInput"}}]},{name:"redeemCrewPack",accounts:[{name:"packSftAuthority",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew config's authority profile"]},{name:"profileKey",isMut:!1,isSigner:!0,docs:["The key authorized with PROVIDE_SERVER_HASH permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the instruction and new accounts"]},{name:"owner",isMut:!1,isSigner:!1,docs:["The user's profile with permissions to redeem crew packs"]},{name:"userRedemption",isMut:!0,isSigner:!1,docs:["The user redemption account to be created which holds data about the crew to be minted"]},{name:"sftRedemption",isMut:!1,isSigner:!1,docs:["The `SftRedemption` account to be used"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The pack type that is being redeemed."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account containing the probability tiers for the `PackType`"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The Crew Config account for the deployed Crew program"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The account that holds the user's Crew Pack SPL tokens."]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program."]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"recentSlothashes",isMut:!1,isSigner:!1,docs:["Solana recent slothashes"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"input",type:{defined:"RedeemCrewPacksInput"}}]},{name:"registerCrewConfig",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"seedPubkey",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"args",type:{defined:"RegisterCrewConfigArgs"}}]},{name:"registerPackTiers",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packTiers",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"RegisterPackTiersInput"}}]},{name:"registerPackType",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packType",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account defining the probability tiers for the new `PackType`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"RegisterPackTypeInput"}}]},{name:"registerSftRedemption",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"sftRedemptionData",isMut:!0,isSigner:!1,docs:["The `SftRedemption` account to be created"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The associated pack type which represents the pack that is being redeemed."]},{name:"sftMint",isMut:!1,isSigner:!1,docs:["The associated mint which represents the mint of the SFT that is being exchanged."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"input",type:{defined:"RegisterSftRedemptionInput"}}]},{name:"updateCrewConfig",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]}],args:[{name:"args",type:{defined:"UpdateCrewConfigArgs"}}]},{name:"updatePackTiers",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packTiers",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being updated."]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"UpdatePackTiersInput"}}]}],accounts:[{name:"crewConfig",docs:["`CrewConfig` is the main auth account that manages access to crew operations"],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"seedPubkey",docs:["Used as random bytes for the seed to allow for multiple CrewConfig accounts"],type:"publicKey"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"profile",docs:["auth profile"],type:"publicKey"},{name:"namePrefix",docs:["The name prefix"],type:{array:["u8",32]}},{name:"namePrefixLen",docs:["The length of the name prefix"],type:"u8"},{name:"symbol",docs:["The symbol"],type:{array:["u8",10]}},{name:"symbolLen",docs:["The length of the symbol"],type:"u8"},{name:"uriPrefix",docs:["The uri prefix"],type:{array:["u8",40]}},{name:"uriPrefixLen",docs:["The length of the uri prefix"],type:"u8"},{name:"sellerFeeBasisPoints",docs:["Royalty rate for the collection"],type:"u16"},{name:"collectionMint",docs:["The collection the crew belongs to"],type:"publicKey"},{name:"creators",docs:["The creators who will split any royalties"],type:{array:[{defined:"CrewCreator"},4]}},{name:"creatorCount",docs:["The number of creators"],type:"u8"},{name:"totalMinted",docs:["Total crew minted"],type:"u32"},{name:"totalAllocated",docs:["Total crew allocated to user redemption accounts"],type:"u32"}]}},{name:"packTiers",docs:["`PackTiers` is a data structure used for defining the odds of rolling each rarity of card in a pack."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"crewConfig",type:"publicKey"},{name:"seedPubkey",docs:["The pubkey used as a PDA seed"],type:"publicKey"},{name:"tier",docs:["The tier of the pack"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"common",docs:["The weight for rolling a common card"],type:"u32"},{name:"uncommon",docs:["The weight for rolling an uncommon card"],type:"u32"},{name:"rare",docs:["The weight for rolling a rare card"],type:"u32"},{name:"epic",docs:["The weight for rolling an epic card"],type:"u32"},{name:"legendary",docs:["The weight for rolling a legendary card"],type:"u32"},{name:"anomaly",docs:["The weight for rolling an anomaly card"],type:"u32"}]}},{name:"packType",docs:["`PackType` is a data structure used for defining the different types of packs that can be opened in the Crew program."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"crewConfig",docs:["The associated crew config account"],type:"publicKey"},{name:"packTiers",docs:["The tier of the pack"],type:"publicKey"},{name:"faction",docs:["The faction of the pack"],type:"u8"}]}},{name:"sftRedemption",docs:["`SftRedemption` is a data account used for handling the redemption of SFTs in the Crew program.","This account details the number and type of cNFTs that are to be minted in exchange for the given SFT."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["the bump seed"],type:"u8"},{name:"packType",docs:["The pack type that is being redeemed."],type:"publicKey"},{name:"sftMint",docs:["The mint of the SFT that is being exchanged."],type:"publicKey"},{name:"crewConfig",docs:["The registered Crew Config for the deployed Crew program"],type:"publicKey"},{name:"redemptionAmount",docs:["The number of cNFTs being received in exchange for the SFT"],type:"u32"}]}},{name:"userRedemption",docs:["`UserRedemption` is a data structure used for handling the redemption of cNFTs by users in the Crew program."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"crewConfig",docs:["The associated crew config account"],type:"publicKey"},{name:"seedPubkey",docs:["The pubkey used to derive the address of the UserRedemption account."],type:"publicKey"},{name:"owner",docs:["The account that recieves the minted cNFTs"],type:"publicKey"},{name:"mintOffset",docs:["The number of cNFTs that had already been allocated when this account was created. All","cNFTs minted from this account calculate their mint number (i.e. NFT #0, #100, etc.) from this offset."],type:"u32"},{name:"amount",docs:["Total number of CNFTs this account is responsible for."],type:"u32"},{name:"numberMinted",docs:["The number of `cNFTs` that have been minted."],type:"u32"},{name:"packType",docs:["The pack type that is being redeemed."],type:"publicKey"},{name:"userSeed",docs:["The user provided hash used to generate the pseudo-random data."],type:{array:["u8",32]}},{name:"serverHash",docs:["The system hash used to generate the pseudo-random data."],type:{array:["u8",32]}},{name:"sageProfile",docs:["Optional sage profile key for minting directly to sage"],type:"publicKey"}]}}],types:[{name:"CloseAccountsInput",type:{kind:"struct",fields:[{name:"keyIndex",type:"u16"},{name:"closeCrewConfig",type:"bool"}]}},{name:"CrewCreator",docs:["A creator on the crew collection"],type:{kind:"struct",fields:[{name:"key",docs:["The creator's key"],type:"publicKey"},{name:"share",docs:["The creator's share of royalties"],type:"u8"}]}},{name:"CrewCreatorUnpacked",docs:["Unpacked version of [`CrewCreator`]"],type:{kind:"struct",fields:[{name:"key",docs:["The creator's key"],type:"publicKey"},{name:"share",docs:["The creator's share of royalties"],type:"u8"}]}},{name:"MintCrewMemberInput",docs:["The input for the `redeem_crew_packs` instruction."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the profile's permissions list"],type:"u16"},{name:"userRedemptionIndex",docs:["The index of the crew member in the `UserRedemption` account"],type:"u32"},{name:"dataHash",docs:["The hash of the off chain data"],type:{array:["u8",16]}}]}},{name:"RedeemCrewPacksInput",docs:["Input for redeeming crew packs via `RedeemCrewPacks`"],type:{kind:"struct",fields:[{name:"quantity",docs:["The number of crew pack SFTs to redeem"],type:"u32"},{name:"seedPubkey",docs:["A pubkey to use as a seed for the `UserRedemption` account"],type:"publicKey"},{name:"serverHash",docs:["Server provided sha256 hash of a random pubkey preimage used during minting"],type:{array:["u8",32]}},{name:"keyIndex",docs:["The index of the profile_key in the profile's permission list"],type:"u16"}]}},{name:"RegisterCrewConfigArgs",docs:["Arguments for the `register_crew_config` instruction."],type:{kind:"struct",fields:[{name:"namePrefix",docs:["The name prefix to use for all minted crew"],type:"string"},{name:"symbol",docs:["The symbol to use for all minted crew"],type:"string"},{name:"uriPrefix",docs:["The URI prefix to use for all minted crew"],type:"string"},{name:"sellerFeeBasisPoints",docs:["The fee basis points to charge for selling crew"],type:"u16"},{name:"collection",docs:["The mint that will be used for all crew"],type:"publicKey"},{name:"creators",docs:["The creators of the crew and their share of the royalties"],type:{vec:{defined:"CrewCreatorUnpacked"}}}]}},{name:"RegisterPackTiersInput",docs:["`RegisterPackTiersInput` is a data structure used for handling the input parameters","for the `register_pack_tiers` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"seedPubkey",docs:["The seed pubkey for the pack tiers"],type:"publicKey"},{name:"packTier",docs:["The tier of the pack to be registered"],type:"u8"},{name:"common",docs:["The weight for receiving a common card"],type:"u32"},{name:"uncommon",docs:["The weight for receiving an uncommon card"],type:"u32"},{name:"rare",docs:["The weight for receiving a rare card"],type:"u32"},{name:"epic",docs:["The weight for receiving an epic card"],type:"u32"},{name:"legendary",docs:["The weight for receiving a legendary card"],type:"u32"},{name:"anomaly",docs:["The weight for receiving an anomaly card"],type:"u32"}]}},{name:"RegisterPackTypeInput",docs:["`RegisterPackTypeInput` is a data structure used for handling the input parameters","for the `register_pack_type` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"faction",docs:["The faction of the pack"],type:"u8"}]}},{name:"RegisterSftRedemptionInput",docs:["`RegisterSftRedemptionInput` is a data structure used for handling the input parameters","for the `register_sft_redemption` function in the Crew program."],type:{kind:"struct",fields:[{name:"redemptionAmount",docs:["The number of cNFTs being received in exchange for the SFT"],type:"u32"},{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"}]}},{name:"UpdateCrewConfigArgs",docs:["Arguments for the `update_crew_config` instruction."],type:{kind:"struct",fields:[{name:"keyIndex",type:"u16"},{name:"namePrefix",docs:["The name prefix to use for all minted crew"],type:{option:"string"}},{name:"symbol",docs:["The symbol to use for all minted crew"],type:{option:"string"}},{name:"uriPrefix",docs:["The URI prefix to use for all minted crew"],type:{option:"string"}},{name:"sellerFeeBasisPoints",docs:["The fee basis points to charge for selling crew"],type:{option:"u16"}},{name:"collection",docs:["The mint that will be used for all crew"],type:{option:"publicKey"}},{name:"creators",docs:["The creators of the crew and their share of the royalties"],type:{option:{vec:{defined:"CrewCreatorUnpacked"}}}}]}},{name:"UpdatePackTiersInput",docs:["`UpdatePackTiersInput` is a data structure used for handling the input parameters","for the `update_pack_tiers` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"common",docs:["The weight for receiving a common card"],type:{option:"u32"}},{name:"uncommon",docs:["The weight for receiving an uncommon card"],type:{option:"u32"}},{name:"rare",docs:["The weight for receiving a rare card"],type:{option:"u32"}},{name:"epic",docs:["The weight for receiving an epic card"],type:{option:"u32"}},{name:"legendary",docs:["The weight for receiving a legendary card"],type:{option:"u32"}},{name:"anomaly",docs:["The weight for receiving an anomaly card"],type:{option:"u32"}}]}}],errors:[{code:6e3,name:"AmountRequired",msg:"Amount Required"},{code:6001,name:"InvalidMint",msg:"Invalid Mint"},{code:6002,name:"AddressMismatch",msg:"Address Mismatch"},{code:6003,name:"PackTypeMismatch",msg:"Pack Type Mismatch"},{code:6004,name:"CrewConfigMismatch",msg:"Crew Config Mismatch"},{code:6005,name:"InvalidOdds",msg:"The provided odds do not sum to 100%"},{code:6006,name:"IndexOutOfBounds",msg:"Index Out of Bounds"},{code:6007,name:"RedemptionIndexOutOfBounds",msg:"Redemption index out of bounds"},{code:6008,name:"CrewAlreadyMinted",msg:"Crew at redemption index already minted"},{code:6009,name:"InvalidMerkleTree",msg:"Can only mint crew to trees listed in crew config"},{code:6010,name:"InvalidTransactionData",msg:"RedeemCrewPacks must be the only non compute budget ix in the transaction"},{code:6011,name:"NamePrefixTooLong",msg:"Name prefix must be 32 bytes or less"},{code:6012,name:"URIPrefixTooLong",msg:"URI prefix must be 40 bytes or less"},{code:6013,name:"SymbolTooLong",msg:"Symbol must be 10 bytes or less"},{code:6014,name:"TooManyCreators",msg:"Can't have more than 4 creators"},{code:6015,name:"InvalidCreatorShares",msg:"Shares must equal 100"},{code:6016,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6017,name:"HashMismatch",msg:"Hash of provided preimage mismatch"},{code:6018,name:"NoSageProfile",msg:"Remaining accounts exist during minting with no sage profile set"},{code:6019,name:"InvalidMintingRemainingAccounts",msg:"Invalid number of remaining accounts for minting"}]};(function(n){var e=K&&K.__createBinding||(Object.create?function(y,h,m,f){f===void 0&&(f=m);var g=Object.getOwnPropertyDescriptor(h,m);(!g||("get"in g?!h.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(y,f,g)}:function(y,h,m,f){f===void 0&&(f=m),y[f]=h[m]}),t=K&&K.__setModuleDefault||(Object.create?function(y,h){Object.defineProperty(y,"default",{enumerable:!0,value:h})}:function(y,h){y.default=h}),r=K&&K.__decorate||function(y,h,m,f){var g=arguments.length,b=g<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,m):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,h,m,f);else for(var p=y.length-1;p>=0;p--)(S=y[p])&&(b=(g<3?S(b):g>3?S(h,m,b):S(h,m))||b);return g>3&&b&&Object.defineProperty(h,m,b),b},s=K&&K.__importStar||function(y){if(y&&y.__esModule)return y;var h={};if(y!=null)for(var m in y)m!=="default"&&Object.prototype.hasOwnProperty.call(y,m)&&e(h,y,m);return t(h,y),h},i=K&&K.__metadata||function(y,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,h)};Object.defineProperty(n,"__esModule",{value:!0}),n.optionalEquals=n.CrewProgram=n.crewErrorMap=n.CREW_IDL=void 0;const o=s(cc),a=s(nr),c=PL;Object.defineProperty(n,"CREW_IDL",{enumerable:!0,get:function(){return c.IDL}});const u=Rd;n.crewErrorMap=a.generateErrorMap(c.IDL);let l=class extends a.ListenProgram{constructor(h){super(h,{crewConfig:u.CrewConfig,packTiers:u.PackTiers,packType:u.PackType,sftRedemption:u.SftRedemption,userRedemption:u.UserRedemption})}static buildProgram(h,m,f){return new o.Program(c.IDL,h,m,f)}};n.CrewProgram=l,n.CrewProgram=l=r([a.staticImplements(),i("design:paramtypes",[Object])],l);function d(y,h,m){return y===null&&h===null?!0:y===null||h===null?!1:m(y,h)}n.optionalEquals=d})(ise);var mMt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),yMt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ose=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&mMt(e,n,t);return yMt(e,n),e};Object.defineProperty(js,"__esModule",{value:!0});js.updatePackTiersInputEquals=js.updateCrewConfigArgsEquals=js.registerSftRedemptionInputEquals=js.registerPackTypeInputEquals=js.registerPackTiersInputEquals=js.registerCrewConfigArgsEquals=js.redeemCrewPacksInputEquals=js.mintCrewMemberInputEquals=js.crewCreatorUnpackedEquals=js.crewCreatorEquals=js.closeAccountInputEquals=void 0;const EL=ose(nr),uBe=ose(Bne),ju=ose(ise);function pMt(n,e){return n.keyIndex===e.keyIndex&&n.closeCrewConfig===e.closeCrewConfig}js.closeAccountInputEquals=pMt;function bMt(n,e){return n.key.equals(e.key)&&n.share===e.share}js.crewCreatorEquals=bMt;function SMt(n,e){return n.key.equals(e.key)&&n.share===e.share}js.crewCreatorUnpackedEquals=SMt;function kMt(n,e){return n.keyIndex===e.keyIndex&&n.userRedemptionIndex===e.userRedemptionIndex&&EL.arrayDeepEquals(n.dataHash,e.dataHash,(t,r)=>t===r)}js.mintCrewMemberInputEquals=kMt;function vMt(n,e){return n.quantity===e.quantity&&n.seedPubkey.equals(e.seedPubkey)&&EL.arrayDeepEquals(n.serverHash,e.serverHash,(t,r)=>t===r)&&n.keyIndex===e.keyIndex&&ju.optionalEquals(n.sageProfile,e.sageProfile,(t,r)=>t.equals(r))}js.redeemCrewPacksInputEquals=vMt;function AMt(n,e){return n.namePrefix===e.namePrefix&&n.symbol===e.symbol&&n.uriPrefix===e.uriPrefix&&n.sellerFeeBasisPoints===e.sellerFeeBasisPoints&&n.collection.equals(e.collection)&&EL.arrayDeepEquals(n.creators,e.creators,(t,r)=>uBe.crewCreatorUnpackedEquals(t,r))}js.registerCrewConfigArgsEquals=AMt;function wMt(n,e){return n.keyIndex===e.keyIndex&&n.seedPubkey.equals(e.seedPubkey)&&n.packTier===e.packTier&&n.common===e.common&&n.uncommon===e.uncommon&&n.rare===e.rare&&n.epic===e.epic&&n.legendary===e.legendary&&n.anomaly===e.anomaly}js.registerPackTiersInputEquals=wMt;function IMt(n,e){return n.keyIndex===e.keyIndex&&n.faction===e.faction}js.registerPackTypeInputEquals=IMt;function _Mt(n,e){return n.redemptionAmount===e.redemptionAmount&&n.keyIndex===e.keyIndex}js.registerSftRedemptionInputEquals=_Mt;function PMt(n,e){return n.keyIndex===e.keyIndex&&ju.optionalEquals(n.namePrefix,e.namePrefix,(t,r)=>t===r)&&ju.optionalEquals(n.symbol,e.symbol,(t,r)=>t===r)&&ju.optionalEquals(n.uriPrefix,e.uriPrefix,(t,r)=>t===r)&&ju.optionalEquals(n.sellerFeeBasisPoints,e.sellerFeeBasisPoints,(t,r)=>t===r)&&ju.optionalEquals(n.collection,e.collection,(t,r)=>t.equals(r))&&ju.optionalEquals(n.creators,e.creators,(t,r)=>EL.arrayDeepEquals(t,r,(s,i)=>uBe.crewCreatorUnpackedEquals(s,i)))}js.updateCrewConfigArgsEquals=PMt;function EMt(n,e){return n.keyIndex===e.keyIndex&&ju.optionalEquals(n.common,e.common,(t,r)=>t===r)&&ju.optionalEquals(n.uncommon,e.uncommon,(t,r)=>t===r)&&ju.optionalEquals(n.rare,e.rare,(t,r)=>t===r)&&ju.optionalEquals(n.epic,e.epic,(t,r)=>t===r)&&ju.optionalEquals(n.legendary,e.legendary,(t,r)=>t===r)&&ju.optionalEquals(n.anomaly,e.anomaly,(t,r)=>t===r)}js.updatePackTiersInputEquals=EMt;(function(n){var e=K&&K.__createBinding||(Object.create?function(h,m,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(m,f);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(h,g,b)}:function(h,m,f,g){g===void 0&&(g=f),h[g]=m[f]}),t=K&&K.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),r=K&&K.__decorate||function(h,m,f,g){var b=arguments.length,S=b<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,f):g,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,m,f,g);else for(var I=h.length-1;I>=0;I--)(p=h[I])&&(S=(b<3?p(S):b>3?p(m,f,S):p(m,f))||S);return b>3&&S&&Object.defineProperty(m,f,S),S},s=K&&K.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var f in h)f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)&&e(m,h,f);return t(m,h),m},i=K&&K.__metadata||function(h,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,m)},o;Object.defineProperty(n,"__esModule",{value:!0}),n.CrewConfig=n.crewConfigEquals=n.DERFAULT_CREW_CONFIG_SEED=void 0;const a=s(lc),c=s(nr),u=s(js),l=nr;n.DERFAULT_CREW_CONFIG_SEED=a.PublicKey.default;function d(h,m){return h.version===m.version&&h.seedPubkey.equals(m.seedPubkey)&&h.bump===m.bump&&h.profile.equals(m.profile)&&c.arrayDeepEquals(h.namePrefix,m.namePrefix,(f,g)=>f===g)&&h.namePrefixLen===m.namePrefixLen&&c.arrayDeepEquals(h.symbol,m.symbol,(f,g)=>f===g)&&h.symbolLen===m.symbolLen&&c.arrayDeepEquals(h.uriPrefix,m.uriPrefix,(f,g)=>f===g)&&h.uriPrefixLen===m.uriPrefixLen&&h.sellerFeeBasisPoints===m.sellerFeeBasisPoints&&h.collectionMint.equals(m.collectionMint)&&c.arrayDeepEquals(h.creators,m.creators,(f,g)=>u.crewCreatorEquals(f,g))&&h.creatorCount===m.creatorCount&&h.totalMinted===m.totalMinted&&h.totalAllocated===m.totalAllocated}n.crewConfigEquals=d;let y=o=class{constructor(m,f,g){this._data=m,this._key=f,this._trees=g}get data(){return this._data}get key(){return this._key}static decodeData(m,f){return c.decodeAccountWithRemaining(m,f,o,g=>{const b=g.readUInt32LE(0),S=g.subarray(4);return Array(b).fill(0).map((p,I)=>{const A=S.subarray(32*I,32*I+32);return new a.PublicKey(A)})})}get merkleTrees(){return this._trees}static findAddress(m,f=n.DERFAULT_CREW_CONFIG_SEED){return a.PublicKey.findProgramAddressSync([Ve.Buffer.from("crew_config"),f.toBuffer()],m.programId)}static uriPrefixBuffer(m){const f=Ve.Buffer.from(m);if(f.length>32)throw new Error("Uri prefix can't be longer than 32 bytes");const g=new Uint8Array(40);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(40,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}static namePrefixBuffer(m){const f=Ve.Buffer.from(m);if(f.length>32)throw new Error("Name prefix can't be longer than 32 bytes");const g=new Uint8Array(32);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(32,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}static symbolBuffer(m){const f=Ve.Buffer.from(m);if(f.length>10)throw new Error("Symbol can't be longer than 10 bytes");const g=new Uint8Array(10);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(10,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}};n.CrewConfig=y,y.ACCOUNT_NAME="crewConfig",y.MIN_DATA_SIZE=8+1+32+1+32+32+1+10+1+40+1+2+32+132+1+4+4,n.CrewConfig=y=o=r([c.staticImplements(),i("design:paramtypes",[Object,a.PublicKey,Array])],y)})(gL);var WS={},xMt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),TMt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),RMt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},lBe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&xMt(e,n,t);return TMt(e,n),e},CMt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Oj;Object.defineProperty(WS,"__esModule",{value:!0});WS.PackTiers=WS.packTiersEquals=void 0;const dBe=lBe(lc),fBe=lBe(nr);function MMt(n,e){return n.version===e.version&&n.crewConfig.equals(e.crewConfig)&&n.seedPubkey.equals(e.seedPubkey)&&n.tier===e.tier&&n.bump===e.bump&&n.common===e.common&&n.uncommon===e.uncommon&&n.rare===e.rare&&n.epic===e.epic&&n.legendary===e.legendary&&n.anomaly===e.anomaly}WS.packTiersEquals=MMt;let kB=Oj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return fBe.decodeAccount(e,t,Oj)}static findAddress(e,t){return dBe.PublicKey.findProgramAddressSync([Ve.Buffer.from("pack_tiers"),t.seedPubkey.toBuffer(),Ve.Buffer.from([t.packTier])],e.programId)}};WS.PackTiers=kB;kB.ACCOUNT_NAME="packTiers";kB.MIN_DATA_SIZE=8+1+32+32+1+1+4+4+4+4+4+4;WS.PackTiers=kB=Oj=RMt([fBe.staticImplements(),CMt("design:paramtypes",[Object,dBe.PublicKey])],kB);var hBe={};(function(n){var e=K&&K.__createBinding||(Object.create?function(h,m,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(m,f);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(h,g,b)}:function(h,m,f,g){g===void 0&&(g=f),h[g]=m[f]}),t=K&&K.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),r=K&&K.__decorate||function(h,m,f,g){var b=arguments.length,S=b<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,f):g,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,m,f,g);else for(var I=h.length-1;I>=0;I--)(p=h[I])&&(S=(b<3?p(S):b>3?p(m,f,S):p(m,f))||S);return b>3&&S&&Object.defineProperty(m,f,S),S},s=K&&K.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var f in h)f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)&&e(m,h,f);return t(m,h),m},i=K&&K.__metadata||function(h,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,m)},o;Object.defineProperty(n,"__esModule",{value:!0}),n.PackType=n.packTypeEquals=n.Faction=void 0;const a=s(lc),c=s(nr),u=gL;var l=e6;Object.defineProperty(n,"Faction",{enumerable:!0,get:function(){return l.Faction}});function d(h,m){return h.version===m.version&&h.bump===m.bump&&h.crewConfig.equals(m.crewConfig)&&h.packTiers.equals(m.packTiers)&&h.faction===m.faction}n.packTypeEquals=d;let y=o=class{constructor(m,f){this._data=m,this._key=f}get data(){return this._data}get key(){return this._key}static decodeData(m,f){return c.decodeAccount(m,f,o)}static findAddress(m,f){var g;const b=(g=f.crewConfig)!==null&&g!==void 0?g:u.CrewConfig.findAddress(m)[0];return a.PublicKey.findProgramAddressSync([Ve.Buffer.from("pack_type"),b.toBuffer(),f.packTiers.toBuffer(),Ve.Buffer.from([f.faction])],m.programId)}};n.PackType=y,y.ACCOUNT_NAME="packType",y.MIN_DATA_SIZE=8+1+1+32+32+1,n.PackType=y=o=r([c.staticImplements(),i("design:paramtypes",[Object,a.PublicKey])],y)})(hBe);var NS={},BMt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),zMt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),$Mt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},gBe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&BMt(e,n,t);return zMt(e,n),e},DMt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Kj;Object.defineProperty(NS,"__esModule",{value:!0});NS.SftRedemption=NS.sftRedemptionEquals=void 0;const mBe=gBe(lc),yBe=gBe(nr),OMt=gL;function KMt(n,e){return n.version===e.version&&n.bump===e.bump&&n.packType.equals(e.packType)&&n.sftMint.equals(e.sftMint)&&n.crewConfig.equals(e.crewConfig)&&n.redemptionAmount===e.redemptionAmount}NS.sftRedemptionEquals=KMt;let vB=Kj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return yBe.decodeAccount(e,t,Kj)}static findAddress(e,t){var r;const s=Ve.Buffer.alloc(4);s.writeInt32LE(t.redemptionAmount,0);const i=(r=t.crewConfig)!==null&&r!==void 0?r:OMt.CrewConfig.findAddress(e)[0];return mBe.PublicKey.findProgramAddressSync([Ve.Buffer.from("sft_redemption"),i.toBuffer(),t.sftMint.toBuffer(),t.packType.toBuffer(),s],e.programId)}};NS.SftRedemption=vB;vB.ACCOUNT_NAME="sftRedemption";vB.MIN_DATA_SIZE=8+1+1+32+32+32+4;NS.SftRedemption=vB=Kj=$Mt([yBe.staticImplements(),DMt("design:paramtypes",[Object,mBe.PublicKey])],vB);var FS={},Vz={};Object.defineProperty(Vz,"__esModule",{value:!0});Vz.BitViewer=void 0;class LMt{constructor(e,t=e.length*8){this.buffer=e,this.bitLength=t,this.buffer=e.subarray(0,Math.ceil(t/8))}get(e){const t=Math.floor(e/8),r=e%8;if(t>=this.buffer.length)return!1;const s=this.buffer.readUint8(t),i=1<<r;return(s&i)!==0}firstUnsetIndex(){const e=this.buffer.findIndex(s=>s!==255);if(e===-1)return null;const t=this.buffer[e];let r=1;for(let s=0;s<8;s++){if((t&r)===0)return e*8+s;r<<=1}throw new Error("Couldn't find an unset bit in the non max byte. This shouldn't happen")}}Vz.BitViewer=LMt;var WMt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),NMt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),FMt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},pBe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&WMt(e,n,t);return NMt(e,n),e},UMt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Lj;Object.defineProperty(FS,"__esModule",{value:!0});FS.UserRedemption=FS.userRedemptionEquals=void 0;const bBe=pBe(lc),HO=pBe(nr),SBe=Vz;function VMt(n,e){return n.version===e.version&&n.bump===e.bump&&n.crewConfig.equals(e.crewConfig)&&n.seedPubkey.equals(e.seedPubkey)&&n.owner.equals(e.owner)&&n.mintOffset===e.mintOffset&&n.amount===e.amount&&n.numberMinted===e.numberMinted&&n.packType.equals(e.packType)&&HO.arrayDeepEquals(n.userSeed,e.userSeed,(t,r)=>t===r)&&HO.arrayDeepEquals(n.serverHash,e.serverHash,(t,r)=>t===r)&&n.sageProfile.equals(e.sageProfile)}FS.userRedemptionEquals=VMt;let AB=Lj=class{constructor(e,t,r){this._data=e,this._key=t,this.mintBits=r}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return HO.decodeAccountWithRemaining(e,t,Lj,r=>new SBe.BitViewer(r))}static findAddress(e,t){return bBe.PublicKey.findProgramAddressSync([Ve.Buffer.from("user_redemption"),t.seedPubkey.toBuffer(),t.packType.toBuffer(),t.owner.toBuffer()],e.programId)}};FS.UserRedemption=AB;AB.ACCOUNT_NAME="userRedemption";AB.MIN_DATA_SIZE=8+1+1+32+32+32+4+4+4+32+32+32+32;FS.UserRedemption=AB=Lj=FMt([HO.staticImplements(),UMt("design:paramtypes",[Object,bBe.PublicKey,SBe.BitViewer])],AB);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(gL,n),t(WS,n),t(hBe,n),t(NS,n),t(FS,n)})(Rd);var kBe={},xL={},qMt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(xL,"__esModule",{value:!0});xL.closeAccounts=void 0;const jMt=Rd;function HMt(n,e,t,r,s,i,o=jMt.CrewConfig.findAddress(n)[0]){const a=[e];return()=>qMt(this,void 0,void 0,function*(){return{instruction:yield n.methods.closeAccounts(i).accountsStrict({key:e.publicKey(),profile:t,recipient:r,crewConfig:o}).remainingAccounts(s.map(c=>({pubkey:c,isSigner:!1,isWritable:!0}))).instruction(),signers:a}})}xL.closeAccounts=HMt;var rP={},vBe={},Wb={},Nt={},_o={},lt={},ABe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.None=0]="None",s[s.Metadata=1]="Metadata",s[s.Holder=2]="Holder",s[s.MetadataDelegate=3]="MetadataDelegate",s[s.TokenDelegate=4]="TokenDelegate"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(ABe);var TL={};Object.defineProperty(TL,"__esModule",{value:!0});TL.getAuthorizationDataSerializer=void 0;const GMt=q,YMt=lt;function ZMt(){return(0,GMt.struct)([["payload",(0,YMt.getPayloadSerializer)()]],{description:"AuthorizationData"})}TL.getAuthorizationDataSerializer=ZMt;var bp={};Object.defineProperty(bp,"__esModule",{value:!0});bp.isBurnArgs=bp.burnArgs=bp.getBurnArgsSerializer=void 0;const H8=q;function JMt(){return(0,H8.dataEnum)([["V1",(0,H8.mapSerializer)((0,H8.struct)([["amount",(0,H8.u64)()]]),n=>({...n,amount:n.amount??1}))]],{description:"BurnArgs"})}bp.getBurnArgsSerializer=JMt;function XMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}bp.burnArgs=XMt;function QMt(n,e){return e.__kind===n}bp.isBurnArgs=QMt;var RL={};Object.defineProperty(RL,"__esModule",{value:!0});RL.getCollectionSerializer=void 0;const MU=q;function eBt(){return(0,MU.struct)([["verified",(0,MU.bool)()],["key",(0,MU.publicKey)()]],{description:"Collection"})}RL.getCollectionSerializer=eBt;var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.isCollectionDetails=Sp.collectionDetails=Sp.getCollectionDetailsSerializer=void 0;const Yk=q;function tBt(){return(0,Yk.dataEnum)([["V1",(0,Yk.struct)([["size",(0,Yk.u64)()]])],["V2",(0,Yk.struct)([["padding",(0,Yk.array)((0,Yk.u8)(),{size:8})]])]],{description:"CollectionDetails"})}Sp.getCollectionDetailsSerializer=tBt;function rBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Sp.collectionDetails=rBt;function nBt(n,e){return e.__kind===n}Sp.isCollectionDetails=nBt;var kp={};Object.defineProperty(kp,"__esModule",{value:!0});kp.isCollectionDetailsToggle=kp.collectionDetailsToggle=kp.getCollectionDetailsToggleSerializer=void 0;const CC=q,sBt=lt;function iBt(){return(0,CC.dataEnum)([["None",(0,CC.unit)()],["Clear",(0,CC.unit)()],["Set",(0,CC.struct)([["fields",(0,CC.tuple)([(0,sBt.getCollectionDetailsSerializer)()])]])]],{description:"CollectionDetailsToggle"})}kp.getCollectionDetailsToggleSerializer=iBt;function oBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}kp.collectionDetailsToggle=oBt;function aBt(n,e){return e.__kind===n}kp.isCollectionDetailsToggle=aBt;var vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.isCollectionToggle=vp.collectionToggle=vp.getCollectionToggleSerializer=void 0;const MC=q,cBt=lt;function uBt(){return(0,MC.dataEnum)([["None",(0,MC.unit)()],["Clear",(0,MC.unit)()],["Set",(0,MC.struct)([["fields",(0,MC.tuple)([(0,cBt.getCollectionSerializer)()])]])]],{description:"CollectionToggle"})}vp.getCollectionToggleSerializer=uBt;function lBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}vp.collectionToggle=lBt;function dBt(n,e){return e.__kind===n}vp.isCollectionToggle=dBt;var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.isCreateArgs=Ap.createArgs=Ap.getCreateArgsSerializer=void 0;const v0=Z,Ho=q,Zk=lt;function fBt(){return(0,Ho.dataEnum)([["V1",(0,Ho.mapSerializer)((0,Ho.struct)([["name",(0,Ho.string)()],["symbol",(0,Ho.string)()],["uri",(0,Ho.string)()],["sellerFeeBasisPoints",(0,v0.mapAmountSerializer)((0,Ho.u16)(),"%",2)],["creators",(0,Ho.option)((0,Ho.array)((0,Zk.getCreatorSerializer)()))],["primarySaleHappened",(0,Ho.bool)()],["isMutable",(0,Ho.bool)()],["tokenStandard",(0,Zk.getTokenStandardSerializer)()],["collection",(0,Ho.option)((0,Zk.getCollectionSerializer)())],["uses",(0,Ho.option)((0,Zk.getUsesSerializer)())],["collectionDetails",(0,Ho.option)((0,Zk.getCollectionDetailsSerializer)())],["ruleSet",(0,Ho.option)((0,Ho.publicKey)())],["decimals",(0,Ho.option)((0,Ho.u8)())],["printSupply",(0,Ho.option)((0,Zk.getPrintSupplySerializer)())]]),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,collection:n.collection??(0,v0.none)(),uses:n.uses??(0,v0.none)(),collectionDetails:n.collectionDetails??(0,v0.none)(),ruleSet:n.ruleSet??(0,v0.none)(),decimals:n.decimals??(0,v0.none)(),printSupply:n.printSupply??(0,v0.none)()}))]],{description:"CreateArgs"})}Ap.getCreateArgsSerializer=fBt;function hBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ap.createArgs=hBt;function gBt(n,e){return e.__kind===n}Ap.isCreateArgs=gBt;var CL={};Object.defineProperty(CL,"__esModule",{value:!0});CL.getCreatorSerializer=void 0;const G8=q;function mBt(){return(0,G8.struct)([["address",(0,G8.publicKey)()],["verified",(0,G8.bool)()],["share",(0,G8.u8)()]],{description:"Creator"})}CL.getCreatorSerializer=mBt;var ML={};Object.defineProperty(ML,"__esModule",{value:!0});ML.getDataSerializer=void 0;const A0=q,yBt=lt;function pBt(){return(0,A0.struct)([["name",(0,A0.string)()],["symbol",(0,A0.string)()],["uri",(0,A0.string)()],["sellerFeeBasisPoints",(0,A0.u16)()],["creators",(0,A0.option)((0,A0.array)((0,yBt.getCreatorSerializer)()))]],{description:"Data"})}ML.getDataSerializer=pBt;var BL={};Object.defineProperty(BL,"__esModule",{value:!0});BL.getDataV2Serializer=void 0;const eg=q,BU=lt;function bBt(){return(0,eg.struct)([["name",(0,eg.string)()],["symbol",(0,eg.string)()],["uri",(0,eg.string)()],["sellerFeeBasisPoints",(0,eg.u16)()],["creators",(0,eg.option)((0,eg.array)((0,BU.getCreatorSerializer)()))],["collection",(0,eg.option)((0,BU.getCollectionSerializer)())],["uses",(0,eg.option)((0,BU.getUsesSerializer)())]],{description:"DataV2"})}BL.getDataV2Serializer=bBt;var wp={};Object.defineProperty(wp,"__esModule",{value:!0});wp.isDelegateArgs=wp.delegateArgs=wp.getDelegateArgsSerializer=void 0;const Ru=Z,Sr=q,Cu=lt;function SBt(){return(0,Sr.dataEnum)([["CollectionV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Ru.none)()}))],["SaleV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Ru.none)()}))],["TransferV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Ru.none)()}))],["DataV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Ru.none)()}))],["UtilityV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Ru.none)()}))],["StakingV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Ru.none)()}))],["StandardV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()]]),n=>({...n,amount:n.amount??1}))],["LockedTransferV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["lockedAddress",(0,Sr.publicKey)()],["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Ru.none)()}))],["ProgrammableConfigV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Ru.none)()}))],["AuthorityItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Ru.none)()}))],["DataItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Ru.none)()}))],["CollectionItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Ru.none)()}))],["ProgrammableConfigItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Ru.none)()}))],["PrintDelegateV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Cu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Ru.none)()}))]],{description:"DelegateArgs"})}wp.getDelegateArgsSerializer=SBt;function kBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}wp.delegateArgs=kBt;function vBt(n,e){return e.__kind===n}wp.isDelegateArgs=vBt;var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.isEscrowAuthority=Ip.escrowAuthority=Ip.getEscrowAuthoritySerializer=void 0;const BC=q;function ABt(){return(0,BC.dataEnum)([["TokenOwner",(0,BC.unit)()],["Creator",(0,BC.struct)([["fields",(0,BC.tuple)([(0,BC.publicKey)()])]])]],{description:"EscrowAuthority"})}Ip.getEscrowAuthoritySerializer=ABt;function wBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ip.escrowAuthority=wBt;function IBt(n,e){return e.__kind===n}Ip.isEscrowAuthority=IBt;var ase={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHolderDelegateRoleSerializer=n.HolderDelegateRole=void 0;const e=q;var t;(function(s){s[s.PrintDelegate=0]="PrintDelegate"})(t=n.HolderDelegateRole||(n.HolderDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"HolderDelegateRole"})}n.getHolderDelegateRoleSerializer=r})(ase);var wBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getKeySerializer=n.Key=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.EditionV1=1]="EditionV1",s[s.MasterEditionV1=2]="MasterEditionV1",s[s.ReservationListV1=3]="ReservationListV1",s[s.MetadataV1=4]="MetadataV1",s[s.ReservationListV2=5]="ReservationListV2",s[s.MasterEditionV2=6]="MasterEditionV2",s[s.EditionMarker=7]="EditionMarker",s[s.UseAuthorityRecord=8]="UseAuthorityRecord",s[s.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",s[s.TokenOwnedEscrow=10]="TokenOwnedEscrow",s[s.TokenRecord=11]="TokenRecord",s[s.MetadataDelegate=12]="MetadataDelegate",s[s.EditionMarkerV2=13]="EditionMarkerV2",s[s.HolderDelegate=14]="HolderDelegate"})(t=n.Key||(n.Key={}));function r(){return(0,e.scalarEnum)(t,{description:"Key"})}n.getKeySerializer=r})(wBe);var _p={};Object.defineProperty(_p,"__esModule",{value:!0});_p.isLockArgs=_p.lockArgs=_p.getLockArgsSerializer=void 0;const _Bt=Z,Y8=q,PBt=lt;function EBt(){return(0,Y8.dataEnum)([["V1",(0,Y8.mapSerializer)((0,Y8.struct)([["authorizationData",(0,Y8.option)((0,PBt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,_Bt.none)()}))]],{description:"LockArgs"})}_p.getLockArgsSerializer=EBt;function xBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}_p.lockArgs=xBt;function TBt(n,e){return e.__kind===n}_p.isLockArgs=TBt;var cse={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMetadataDelegateRoleSerializer=n.MetadataDelegateRole=void 0;const e=q;var t;(function(s){s[s.AuthorityItem=0]="AuthorityItem",s[s.Collection=1]="Collection",s[s.Use=2]="Use",s[s.Data=3]="Data",s[s.ProgrammableConfig=4]="ProgrammableConfig",s[s.DataItem=5]="DataItem",s[s.CollectionItem=6]="CollectionItem",s[s.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(t=n.MetadataDelegateRole||(n.MetadataDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"MetadataDelegateRole"})}n.getMetadataDelegateRoleSerializer=r})(cse);var IBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMigrationTypeSerializer=n.MigrationType=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.ProgrammableV1=1]="ProgrammableV1"})(t=n.MigrationType||(n.MigrationType={}));function r(){return(0,e.scalarEnum)(t,{description:"MigrationType"})}n.getMigrationTypeSerializer=r})(IBe);var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});Pp.isMintArgs=Pp.mintArgs=Pp.getMintArgsSerializer=void 0;const RBt=Z,zC=q,CBt=lt;function MBt(){return(0,zC.dataEnum)([["V1",(0,zC.mapSerializer)((0,zC.struct)([["amount",(0,zC.u64)()],["authorizationData",(0,zC.option)((0,CBt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,RBt.none)()}))]],{description:"MintArgs"})}Pp.getMintArgsSerializer=MBt;function BBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Pp.mintArgs=BBt;function zBt(n,e){return e.__kind===n}Pp.isMintArgs=zBt;var zL={};Object.defineProperty(zL,"__esModule",{value:!0});zL.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=void 0;const Lpe=q;function $Bt(){return(0,Lpe.struct)([["edition",(0,Lpe.u64)()]],{description:"MintNewEditionFromMasterEditionViaTokenArgs"})}zL.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=$Bt;var $L={};Object.defineProperty($L,"__esModule",{value:!0});$L.getPayloadSerializer=void 0;const zU=q,DBt=lt;function OBt(){return(0,zU.struct)([["map",(0,zU.map)((0,zU.string)(),(0,DBt.getPayloadTypeSerializer)())]],{description:"Payload"})}$L.getPayloadSerializer=OBt;var _Be={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPayloadKeySerializer=n.PayloadKey=void 0;const e=q;var t;(function(s){s[s.Amount=0]="Amount",s[s.Authority=1]="Authority",s[s.AuthoritySeeds=2]="AuthoritySeeds",s[s.Delegate=3]="Delegate",s[s.DelegateSeeds=4]="DelegateSeeds",s[s.Destination=5]="Destination",s[s.DestinationSeeds=6]="DestinationSeeds",s[s.Holder=7]="Holder",s[s.Source=8]="Source",s[s.SourceSeeds=9]="SourceSeeds"})(t=n.PayloadKey||(n.PayloadKey={}));function r(){return(0,e.scalarEnum)(t,{description:"PayloadKey"})}n.getPayloadKeySerializer=r})(_Be);var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.isPayloadType=Ep.payloadType=Ep.getPayloadTypeSerializer=void 0;const ql=q,Wpe=lt;function KBt(){return(0,ql.dataEnum)([["Pubkey",(0,ql.struct)([["fields",(0,ql.tuple)([(0,ql.publicKey)()])]])],["Seeds",(0,ql.struct)([["fields",(0,ql.tuple)([(0,Wpe.getSeedsVecSerializer)()])]])],["MerkleProof",(0,ql.struct)([["fields",(0,ql.tuple)([(0,Wpe.getProofInfoSerializer)()])]])],["Number",(0,ql.struct)([["fields",(0,ql.tuple)([(0,ql.u64)()])]])]],{description:"PayloadType"})}Ep.getPayloadTypeSerializer=KBt;function LBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ep.payloadType=LBt;function WBt(n,e){return e.__kind===n}Ep.isPayloadType=WBt;var xp={};Object.defineProperty(xp,"__esModule",{value:!0});xp.isPrintArgs=xp.printArgs=xp.getPrintArgsSerializer=void 0;const $C=q;function NBt(){return(0,$C.dataEnum)([["V1",(0,$C.struct)([["edition",(0,$C.u64)()]])],["V2",(0,$C.struct)([["edition",(0,$C.u64)()]])]],{description:"PrintArgs"})}xp.getPrintArgsSerializer=NBt;function FBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}xp.printArgs=FBt;function UBt(n,e){return e.__kind===n}xp.isPrintArgs=UBt;var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.isPrintSupply=Tp.printSupply=Tp.getPrintSupplySerializer=void 0;const Jk=q;function VBt(){return(0,Jk.dataEnum)([["Zero",(0,Jk.unit)()],["Limited",(0,Jk.struct)([["fields",(0,Jk.tuple)([(0,Jk.u64)()])]])],["Unlimited",(0,Jk.unit)()]],{description:"PrintSupply"})}Tp.getPrintSupplySerializer=VBt;function qBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Tp.printSupply=qBt;function jBt(n,e){return e.__kind===n}Tp.isPrintSupply=jBt;var Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.isProgrammableConfig=Rp.programmableConfig=Rp.getProgrammableConfigSerializer=void 0;const Z8=q;function HBt(){return(0,Z8.dataEnum)([["V1",(0,Z8.struct)([["ruleSet",(0,Z8.option)((0,Z8.publicKey)())]])]],{description:"ProgrammableConfig"})}Rp.getProgrammableConfigSerializer=HBt;function GBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Rp.programmableConfig=GBt;function YBt(n,e){return e.__kind===n}Rp.isProgrammableConfig=YBt;var DL={};Object.defineProperty(DL,"__esModule",{value:!0});DL.getProofInfoSerializer=void 0;const $U=q;function ZBt(){return(0,$U.struct)([["proof",(0,$U.array)((0,$U.bytes)({size:32}))]],{description:"ProofInfo"})}DL.getProofInfoSerializer=ZBt;var OL={};Object.defineProperty(OL,"__esModule",{value:!0});OL.getReservationSerializer=void 0;const J8=q;function JBt(){return(0,J8.struct)([["address",(0,J8.publicKey)()],["spotsRemaining",(0,J8.u64)()],["totalSpots",(0,J8.u64)()]],{description:"Reservation"})}OL.getReservationSerializer=JBt;var KL={};Object.defineProperty(KL,"__esModule",{value:!0});KL.getReservationV1Serializer=void 0;const X8=q;function XBt(){return(0,X8.struct)([["address",(0,X8.publicKey)()],["spotsRemaining",(0,X8.u8)()],["totalSpots",(0,X8.u8)()]],{description:"ReservationV1"})}KL.getReservationV1Serializer=XBt;var PBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRevokeArgsSerializer=n.RevokeArgs=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.SaleV1=1]="SaleV1",s[s.TransferV1=2]="TransferV1",s[s.DataV1=3]="DataV1",s[s.UtilityV1=4]="UtilityV1",s[s.StakingV1=5]="StakingV1",s[s.StandardV1=6]="StandardV1",s[s.LockedTransferV1=7]="LockedTransferV1",s[s.ProgrammableConfigV1=8]="ProgrammableConfigV1",s[s.MigrationV1=9]="MigrationV1",s[s.AuthorityItemV1=10]="AuthorityItemV1",s[s.DataItemV1=11]="DataItemV1",s[s.CollectionItemV1=12]="CollectionItemV1",s[s.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1",s[s.PrintDelegateV1=14]="PrintDelegateV1"})(t=n.RevokeArgs||(n.RevokeArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"RevokeArgs"})}n.getRevokeArgsSerializer=r})(PBe);var Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.isRuleSetToggle=Cp.ruleSetToggle=Cp.getRuleSetToggleSerializer=void 0;const Xk=q;function QBt(){return(0,Xk.dataEnum)([["None",(0,Xk.unit)()],["Clear",(0,Xk.unit)()],["Set",(0,Xk.struct)([["fields",(0,Xk.tuple)([(0,Xk.publicKey)()])]])]],{description:"RuleSetToggle"})}Cp.getRuleSetToggleSerializer=QBt;function ezt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Cp.ruleSetToggle=ezt;function tzt(n,e){return e.__kind===n}Cp.isRuleSetToggle=tzt;var LL={};Object.defineProperty(LL,"__esModule",{value:!0});LL.getSeedsVecSerializer=void 0;const Q8=q;function rzt(){return(0,Q8.struct)([["seeds",(0,Q8.array)((0,Q8.bytes)({size:(0,Q8.u32)()}))]],{description:"SeedsVec"})}LL.getSeedsVecSerializer=rzt;var WL={};Object.defineProperty(WL,"__esModule",{value:!0});WL.getSetCollectionSizeArgsSerializer=void 0;const Npe=q;function nzt(){return(0,Npe.struct)([["size",(0,Npe.u64)()]],{description:"SetCollectionSizeArgs"})}WL.getSetCollectionSizeArgsSerializer=nzt;var EBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenDelegateRoleSerializer=n.TokenDelegateRole=void 0;const e=q;var t;(function(s){s[s.Sale=0]="Sale",s[s.Transfer=1]="Transfer",s[s.Utility=2]="Utility",s[s.Staking=3]="Staking",s[s.Standard=4]="Standard",s[s.LockedTransfer=5]="LockedTransfer",s[s.Migration=6]="Migration"})(t=n.TokenDelegateRole||(n.TokenDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenDelegateRole"})}n.getTokenDelegateRoleSerializer=r})(EBe);var xBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=q;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition",s[s.ProgrammableNonFungible=4]="ProgrammableNonFungible",s[s.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(xBe);var TBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Unlocked=0]="Unlocked",s[s.Locked=1]="Locked",s[s.Listed=2]="Listed"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(TBe);var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.isTransferArgs=Mp.transferArgs=Mp.getTransferArgsSerializer=void 0;const szt=Z,DC=q,izt=lt;function ozt(){return(0,DC.dataEnum)([["V1",(0,DC.mapSerializer)((0,DC.struct)([["amount",(0,DC.u64)()],["authorizationData",(0,DC.option)((0,izt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,szt.none)()}))]],{description:"TransferArgs"})}Mp.getTransferArgsSerializer=ozt;function azt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Mp.transferArgs=azt;function czt(n,e){return e.__kind===n}Mp.isTransferArgs=czt;var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});Bp.isUnlockArgs=Bp.unlockArgs=Bp.getUnlockArgsSerializer=void 0;const uzt=Z,e3=q,lzt=lt;function dzt(){return(0,e3.dataEnum)([["V1",(0,e3.mapSerializer)((0,e3.struct)([["authorizationData",(0,e3.option)((0,lzt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,uzt.none)()}))]],{description:"UnlockArgs"})}Bp.getUnlockArgsSerializer=dzt;function fzt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Bp.unlockArgs=fzt;function hzt(n,e){return e.__kind===n}Bp.isUnlockArgs=hzt;var zp={};Object.defineProperty(zp,"__esModule",{value:!0});zp.isUpdateArgs=zp.updateArgs=zp.getUpdateArgsSerializer=void 0;const Js=Z,cr=q,un=lt;function gzt(){return(0,cr.dataEnum)([["V1",(0,cr.mapSerializer)((0,cr.struct)([["newUpdateAuthority",(0,cr.option)((0,cr.publicKey)())],["data",(0,cr.option)((0,un.getDataSerializer)())],["primarySaleHappened",(0,cr.option)((0,cr.bool)())],["isMutable",(0,cr.option)((0,cr.bool)())],["collection",(0,un.getCollectionToggleSerializer)()],["collectionDetails",(0,un.getCollectionDetailsToggleSerializer)()],["uses",(0,un.getUsesToggleSerializer)()],["ruleSet",(0,un.getRuleSetToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Js.none)(),data:n.data??(0,Js.none)(),primarySaleHappened:n.primarySaleHappened??(0,Js.none)(),isMutable:n.isMutable??(0,Js.none)(),collection:n.collection??(0,un.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,un.collectionDetailsToggle)("None"),uses:n.uses??(0,un.usesToggle)("None"),ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsUpdateAuthorityV2",(0,cr.mapSerializer)((0,cr.struct)([["newUpdateAuthority",(0,cr.option)((0,cr.publicKey)())],["data",(0,cr.option)((0,un.getDataSerializer)())],["primarySaleHappened",(0,cr.option)((0,cr.bool)())],["isMutable",(0,cr.option)((0,cr.bool)())],["collection",(0,un.getCollectionToggleSerializer)()],["collectionDetails",(0,un.getCollectionDetailsToggleSerializer)()],["uses",(0,un.getUsesToggleSerializer)()],["ruleSet",(0,un.getRuleSetToggleSerializer)()],["tokenStandard",(0,cr.option)((0,un.getTokenStandardSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Js.none)(),data:n.data??(0,Js.none)(),primarySaleHappened:n.primarySaleHappened??(0,Js.none)(),isMutable:n.isMutable??(0,Js.none)(),collection:n.collection??(0,un.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,un.collectionDetailsToggle)("None"),uses:n.uses??(0,un.usesToggle)("None"),ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsAuthorityItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["newUpdateAuthority",(0,cr.option)((0,cr.publicKey)())],["primarySaleHappened",(0,cr.option)((0,cr.bool)())],["isMutable",(0,cr.option)((0,cr.bool)())],["tokenStandard",(0,cr.option)((0,un.getTokenStandardSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Js.none)(),primarySaleHappened:n.primarySaleHappened??(0,Js.none)(),isMutable:n.isMutable??(0,Js.none)(),tokenStandard:n.tokenStandard??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsCollectionDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["collection",(0,un.getCollectionToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,un.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsDataDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["data",(0,cr.option)((0,un.getDataSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsProgrammableConfigDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["ruleSet",(0,un.getRuleSetToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsDataItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["data",(0,cr.option)((0,un.getDataSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsCollectionItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["collection",(0,un.getCollectionToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,un.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsProgrammableConfigItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["ruleSet",(0,un.getRuleSetToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))]],{description:"UpdateArgs"})}zp.getUpdateArgsSerializer=gzt;function mzt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}zp.updateArgs=mzt;function yzt(n,e){return e.__kind===n}zp.isUpdateArgs=yzt;var $p={};Object.defineProperty($p,"__esModule",{value:!0});$p.isUseArgs=$p.useArgs=$p.getUseArgsSerializer=void 0;const pzt=Z,t3=q,bzt=lt;function Szt(){return(0,t3.dataEnum)([["V1",(0,t3.mapSerializer)((0,t3.struct)([["authorizationData",(0,t3.option)((0,bzt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,pzt.none)()}))]],{description:"UseArgs"})}$p.getUseArgsSerializer=Szt;function kzt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}$p.useArgs=kzt;function vzt(n,e){return e.__kind===n}$p.isUseArgs=vzt;var RBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=q;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(RBe);var NL={};Object.defineProperty(NL,"__esModule",{value:!0});NL.getUsesSerializer=void 0;const DU=q,Azt=lt;function wzt(){return(0,DU.struct)([["useMethod",(0,Azt.getUseMethodSerializer)()],["remaining",(0,DU.u64)()],["total",(0,DU.u64)()]],{description:"Uses"})}NL.getUsesSerializer=wzt;var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.isUsesToggle=Dp.usesToggle=Dp.getUsesToggleSerializer=void 0;const OC=q,Izt=lt;function _zt(){return(0,OC.dataEnum)([["None",(0,OC.unit)()],["Clear",(0,OC.unit)()],["Set",(0,OC.struct)([["fields",(0,OC.tuple)([(0,Izt.getUsesSerializer)()])]])]],{description:"UsesToggle"})}Dp.getUsesToggleSerializer=_zt;function Pzt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Dp.usesToggle=Pzt;function Ezt(n,e){return e.__kind===n}Dp.isUsesToggle=Ezt;var CBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVerificationArgsSerializer=n.VerificationArgs=void 0;const e=q;var t;(function(s){s[s.CreatorV1=0]="CreatorV1",s[s.CollectionV1=1]="CollectionV1"})(t=n.VerificationArgs||(n.VerificationArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"VerificationArgs"})}n.getVerificationArgsSerializer=r})(CBe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(ABe,n),t(TL,n),t(bp,n),t(RL,n),t(Sp,n),t(kp,n),t(vp,n),t(Ap,n),t(CL,n),t(ML,n),t(BL,n),t(wp,n),t(Ip,n),t(ase,n),t(wBe,n),t(_p,n),t(cse,n),t(IBe,n),t(Pp,n),t(zL,n),t($L,n),t(_Be,n),t(Ep,n),t(xp,n),t(Tp,n),t(Rp,n),t(DL,n),t(OL,n),t(KL,n),t(PBe,n),t(Cp,n),t(LL,n),t(WL,n),t(EBe,n),t(xBe,n),t(TBe,n),t(Mp,n),t(Bp,n),t(zp,n),t($p,n),t(RBe,n),t(NL,n),t(Dp,n),t(CBe,n)})(lt);Object.defineProperty(_o,"__esModule",{value:!0});_o.safeFetchCollectionAuthorityRecordFromSeeds=_o.fetchCollectionAuthorityRecordFromSeeds=_o.findCollectionAuthorityRecordPda=_o.getCollectionAuthorityRecordGpaBuilder=_o.safeFetchAllCollectionAuthorityRecord=_o.fetchAllCollectionAuthorityRecord=_o.safeFetchCollectionAuthorityRecord=_o.fetchCollectionAuthorityRecord=_o.deserializeCollectionAuthorityRecord=_o.getCollectionAuthorityRecordAccountDataSerializer=void 0;const hb=Z,Zu=q,GO=lt;function MBe(){return(0,Zu.mapSerializer)((0,Zu.struct)([["key",(0,GO.getKeySerializer)()],["bump",(0,Zu.u8)()],["updateAuthority",(0,Zu.option)((0,Zu.publicKey)())]],{description:"CollectionAuthorityRecordAccountData"}),n=>({...n,key:GO.Key.CollectionAuthorityRecord}))}_o.getCollectionAuthorityRecordAccountDataSerializer=MBe;function HT(n){return(0,hb.deserializeAccount)(n,MBe())}_o.deserializeCollectionAuthorityRecord=HT;async function BBe(n,e,t){const r=await n.rpc.getAccount((0,hb.publicKey)(e,!1),t);return(0,hb.assertAccountExists)(r,"CollectionAuthorityRecord"),HT(r)}_o.fetchCollectionAuthorityRecord=BBe;async function zBe(n,e,t){const r=await n.rpc.getAccount((0,hb.publicKey)(e,!1),t);return r.exists?HT(r):null}_o.safeFetchCollectionAuthorityRecord=zBe;async function xzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,hb.publicKey)(s,!1)),t)).map(s=>((0,hb.assertAccountExists)(s,"CollectionAuthorityRecord"),HT(s)))}_o.fetchAllCollectionAuthorityRecord=xzt;async function Tzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,hb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>HT(s))}_o.safeFetchAllCollectionAuthorityRecord=Tzt;function Rzt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,hb.gpaBuilder)(n,e).registerFields({key:[0,(0,GO.getKeySerializer)()],bump:[1,(0,Zu.u8)()],updateAuthority:[2,(0,Zu.option)((0,Zu.publicKey)())]}).deserializeUsing(t=>HT(t)).whereField("key",GO.Key.CollectionAuthorityRecord)}_o.getCollectionAuthorityRecordGpaBuilder=Rzt;function use(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Zu.string)({size:"variable"}).serialize("metadata"),(0,Zu.publicKey)().serialize(t),(0,Zu.publicKey)().serialize(e.mint),(0,Zu.string)({size:"variable"}).serialize("collection_authority"),(0,Zu.publicKey)().serialize(e.collectionAuthority)])}_o.findCollectionAuthorityRecordPda=use;async function Czt(n,e,t){return BBe(n,use(n,e),t)}_o.fetchCollectionAuthorityRecordFromSeeds=Czt;async function Mzt(n,e,t){return zBe(n,use(n,e),t)}_o.safeFetchCollectionAuthorityRecordFromSeeds=Mzt;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.safeFetchDeprecatedMasterEditionV1FromSeeds=Po.fetchDeprecatedMasterEditionV1FromSeeds=Po.findDeprecatedMasterEditionV1Pda=Po.getDeprecatedMasterEditionV1GpaBuilder=Po.safeFetchAllDeprecatedMasterEditionV1=Po.fetchAllDeprecatedMasterEditionV1=Po.safeFetchDeprecatedMasterEditionV1=Po.fetchDeprecatedMasterEditionV1=Po.deserializeDeprecatedMasterEditionV1=Po.getDeprecatedMasterEditionV1AccountDataSerializer=void 0;const gb=Z,Ac=q,YO=lt;function $Be(){return(0,Ac.mapSerializer)((0,Ac.struct)([["key",(0,YO.getKeySerializer)()],["supply",(0,Ac.u64)()],["maxSupply",(0,Ac.option)((0,Ac.u64)())],["printingMint",(0,Ac.publicKey)()],["oneTimePrintingAuthorizationMint",(0,Ac.publicKey)()]],{description:"DeprecatedMasterEditionV1AccountData"}),n=>({...n,key:YO.Key.MasterEditionV1}))}Po.getDeprecatedMasterEditionV1AccountDataSerializer=$Be;function GT(n){return(0,gb.deserializeAccount)(n,$Be())}Po.deserializeDeprecatedMasterEditionV1=GT;async function DBe(n,e,t){const r=await n.rpc.getAccount((0,gb.publicKey)(e,!1),t);return(0,gb.assertAccountExists)(r,"DeprecatedMasterEditionV1"),GT(r)}Po.fetchDeprecatedMasterEditionV1=DBe;async function OBe(n,e,t){const r=await n.rpc.getAccount((0,gb.publicKey)(e,!1),t);return r.exists?GT(r):null}Po.safeFetchDeprecatedMasterEditionV1=OBe;async function Bzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,gb.publicKey)(s,!1)),t)).map(s=>((0,gb.assertAccountExists)(s,"DeprecatedMasterEditionV1"),GT(s)))}Po.fetchAllDeprecatedMasterEditionV1=Bzt;async function zzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,gb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>GT(s))}Po.safeFetchAllDeprecatedMasterEditionV1=zzt;function $zt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,gb.gpaBuilder)(n,e).registerFields({key:[0,(0,YO.getKeySerializer)()],supply:[1,(0,Ac.u64)()],maxSupply:[9,(0,Ac.option)((0,Ac.u64)())],printingMint:[null,(0,Ac.publicKey)()],oneTimePrintingAuthorizationMint:[null,(0,Ac.publicKey)()]}).deserializeUsing(t=>GT(t)).whereField("key",YO.Key.MasterEditionV1)}Po.getDeprecatedMasterEditionV1GpaBuilder=$zt;function lse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ac.string)({size:"variable"}).serialize("metadata"),(0,Ac.publicKey)().serialize(t),(0,Ac.publicKey)().serialize(e.mint),(0,Ac.string)({size:"variable"}).serialize("edition")])}Po.findDeprecatedMasterEditionV1Pda=lse;async function Dzt(n,e,t){return DBe(n,lse(n,e),t)}Po.fetchDeprecatedMasterEditionV1FromSeeds=Dzt;async function Ozt(n,e,t){return OBe(n,lse(n,e),t)}Po.safeFetchDeprecatedMasterEditionV1FromSeeds=Ozt;var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});Ma.getEditionSize=Ma.getEditionGpaBuilder=Ma.safeFetchAllEdition=Ma.fetchAllEdition=Ma.safeFetchEdition=Ma.fetchEdition=Ma.deserializeEdition=Ma.getEditionAccountDataSerializer=void 0;const mb=Z,zv=q,ZO=lt;function KBe(){return(0,zv.mapSerializer)((0,zv.struct)([["key",(0,ZO.getKeySerializer)()],["parent",(0,zv.publicKey)()],["edition",(0,zv.u64)()]],{description:"EditionAccountData"}),n=>({...n,key:ZO.Key.EditionV1}))}Ma.getEditionAccountDataSerializer=KBe;function YT(n){return(0,mb.deserializeAccount)(n,KBe())}Ma.deserializeEdition=YT;async function Kzt(n,e,t){const r=await n.rpc.getAccount((0,mb.publicKey)(e,!1),t);return(0,mb.assertAccountExists)(r,"Edition"),YT(r)}Ma.fetchEdition=Kzt;async function Lzt(n,e,t){const r=await n.rpc.getAccount((0,mb.publicKey)(e,!1),t);return r.exists?YT(r):null}Ma.safeFetchEdition=Lzt;async function Wzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,mb.publicKey)(s,!1)),t)).map(s=>((0,mb.assertAccountExists)(s,"Edition"),YT(s)))}Ma.fetchAllEdition=Wzt;async function Nzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,mb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>YT(s))}Ma.safeFetchAllEdition=Nzt;function Fzt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,mb.gpaBuilder)(n,e).registerFields({key:[0,(0,ZO.getKeySerializer)()],parent:[1,(0,zv.publicKey)()],edition:[33,(0,zv.u64)()]}).deserializeUsing(t=>YT(t)).whereField("key",ZO.Key.EditionV1)}Ma.getEditionGpaBuilder=Fzt;function Uzt(){return 41}Ma.getEditionSize=Uzt;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.safeFetchEditionMarkerFromSeeds=oi.fetchEditionMarkerFromSeeds=oi.findEditionMarkerPda=oi.getEditionMarkerSize=oi.getEditionMarkerGpaBuilder=oi.safeFetchAllEditionMarker=oi.fetchAllEditionMarker=oi.safeFetchEditionMarker=oi.fetchEditionMarker=oi.deserializeEditionMarker=oi.getEditionMarkerAccountDataSerializer=void 0;const yb=Z,td=q,JO=lt;function LBe(){return(0,td.mapSerializer)((0,td.struct)([["key",(0,JO.getKeySerializer)()],["ledger",(0,td.array)((0,td.u8)(),{size:31})]],{description:"EditionMarkerAccountData"}),n=>({...n,key:JO.Key.EditionMarker}))}oi.getEditionMarkerAccountDataSerializer=LBe;function ZT(n){return(0,yb.deserializeAccount)(n,LBe())}oi.deserializeEditionMarker=ZT;async function WBe(n,e,t){const r=await n.rpc.getAccount((0,yb.publicKey)(e,!1),t);return(0,yb.assertAccountExists)(r,"EditionMarker"),ZT(r)}oi.fetchEditionMarker=WBe;async function NBe(n,e,t){const r=await n.rpc.getAccount((0,yb.publicKey)(e,!1),t);return r.exists?ZT(r):null}oi.safeFetchEditionMarker=NBe;async function Vzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,yb.publicKey)(s,!1)),t)).map(s=>((0,yb.assertAccountExists)(s,"EditionMarker"),ZT(s)))}oi.fetchAllEditionMarker=Vzt;async function qzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,yb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>ZT(s))}oi.safeFetchAllEditionMarker=qzt;function jzt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,yb.gpaBuilder)(n,e).registerFields({key:[0,(0,JO.getKeySerializer)()],ledger:[1,(0,td.array)((0,td.u8)(),{size:31})]}).deserializeUsing(t=>ZT(t)).whereField("key",JO.Key.EditionMarker)}oi.getEditionMarkerGpaBuilder=jzt;function Hzt(){return 32}oi.getEditionMarkerSize=Hzt;function dse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,td.string)({size:"variable"}).serialize("metadata"),(0,td.publicKey)().serialize(t),(0,td.publicKey)().serialize(e.mint),(0,td.string)({size:"variable"}).serialize("edition"),(0,td.string)({size:"variable"}).serialize(e.editionMarker)])}oi.findEditionMarkerPda=dse;async function Gzt(n,e,t){return WBe(n,dse(n,e),t)}oi.fetchEditionMarkerFromSeeds=Gzt;async function Yzt(n,e,t){return NBe(n,dse(n,e),t)}oi.safeFetchEditionMarkerFromSeeds=Yzt;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.safeFetchEditionMarkerV2FromSeeds=Eo.fetchEditionMarkerV2FromSeeds=Eo.findEditionMarkerV2Pda=Eo.getEditionMarkerV2GpaBuilder=Eo.safeFetchAllEditionMarkerV2=Eo.fetchAllEditionMarkerV2=Eo.safeFetchEditionMarkerV2=Eo.fetchEditionMarkerV2=Eo.deserializeEditionMarkerV2=Eo.getEditionMarkerV2AccountDataSerializer=void 0;const pb=Z,$f=q,FBe=lt;function UBe(){return(0,$f.struct)([["key",(0,FBe.getKeySerializer)()],["ledger",(0,$f.bytes)({size:(0,$f.u32)()})]],{description:"EditionMarkerV2AccountData"})}Eo.getEditionMarkerV2AccountDataSerializer=UBe;function JT(n){return(0,pb.deserializeAccount)(n,UBe())}Eo.deserializeEditionMarkerV2=JT;async function VBe(n,e,t){const r=await n.rpc.getAccount((0,pb.publicKey)(e,!1),t);return(0,pb.assertAccountExists)(r,"EditionMarkerV2"),JT(r)}Eo.fetchEditionMarkerV2=VBe;async function qBe(n,e,t){const r=await n.rpc.getAccount((0,pb.publicKey)(e,!1),t);return r.exists?JT(r):null}Eo.safeFetchEditionMarkerV2=qBe;async function Zzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,pb.publicKey)(s,!1)),t)).map(s=>((0,pb.assertAccountExists)(s,"EditionMarkerV2"),JT(s)))}Eo.fetchAllEditionMarkerV2=Zzt;async function Jzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,pb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>JT(s))}Eo.safeFetchAllEditionMarkerV2=Jzt;function Xzt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,pb.gpaBuilder)(n,e).registerFields({key:[0,(0,FBe.getKeySerializer)()],ledger:[1,(0,$f.bytes)({size:(0,$f.u32)()})]}).deserializeUsing(t=>JT(t))}Eo.getEditionMarkerV2GpaBuilder=Xzt;function fse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,$f.string)({size:"variable"}).serialize("metadata"),(0,$f.publicKey)().serialize(t),(0,$f.publicKey)().serialize(e.mint),(0,$f.string)({size:"variable"}).serialize("edition"),(0,$f.string)({size:"variable"}).serialize("marker")])}Eo.findEditionMarkerV2Pda=fse;async function Qzt(n,e,t){return VBe(n,fse(n,e),t)}Eo.fetchEditionMarkerV2FromSeeds=Qzt;async function e$t(n,e,t){return qBe(n,fse(n,e),t)}Eo.safeFetchEditionMarkerV2FromSeeds=e$t;var ai={},an={},FL={};Object.defineProperty(FL,"__esModule",{value:!0});FL.findEditionMarkerFromEditionNumberPda=void 0;const t$t=Wb;function r$t(n,e){return(0,t$t.findEditionMarkerPda)(n,{mint:e.mint,editionMarker:(BigInt(e.editionNumber)/248n).toString(10)})}FL.findEditionMarkerFromEditionNumberPda=r$t;var UL={},Nb={};Object.defineProperty(Nb,"__esModule",{value:!0});Nb.TokenMetadataError=void 0;const n$t=Z;class s$t extends n$t.UmiError{constructor(e,t){super(e,"plugin","Token Metadata",t),this.name="TokenMetadataError"}}Nb.TokenMetadataError=s$t;Object.defineProperty(UL,"__esModule",{value:!0});UL.getMetadataDelegateRoleSeedSerializer=void 0;const Fpe=q,i$t=Nb,ay=cse;function o$t(){return(0,Fpe.mapSerializer)((0,Fpe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case ay.MetadataDelegateRole.AuthorityItem:return"authority_item_delegate";case ay.MetadataDelegateRole.Collection:return"collection_delegate";case ay.MetadataDelegateRole.Use:return"use_delegate";case ay.MetadataDelegateRole.Data:return"data_delegate";case ay.MetadataDelegateRole.ProgrammableConfig:return"programmable_config_delegate";case ay.MetadataDelegateRole.DataItem:return"data_item_delegate";case ay.MetadataDelegateRole.CollectionItem:return"collection_item_delegate";case ay.MetadataDelegateRole.ProgrammableConfigItem:return"prog_config_item_delegate";default:throw new i$t.TokenMetadataError(`Invalid MetadataDelegateRoleArgs ${n}`)}},n=>n)}UL.getMetadataDelegateRoleSeedSerializer=o$t;var VL={};Object.defineProperty(VL,"__esModule",{value:!0});VL.getHolderDelegateRoleSeedSerializer=void 0;const Upe=q,a$t=Nb,c$t=ase;function u$t(){return(0,Upe.mapSerializer)((0,Upe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case c$t.HolderDelegateRole.PrintDelegate:return"print_delegate";default:throw new a$t.TokenMetadataError(`Invalid PrintDelegateRoleArgs ${n}`)}},n=>n)}VL.getHolderDelegateRoleSeedSerializer=u$t;var Ba={},Gs={},hm={},qL={},xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.safeFetchAddressLookupTableFromSeeds=xo.fetchAddressLookupTableFromSeeds=xo.findAddressLookupTablePda=xo.getAddressLookupTableGpaBuilder=xo.safeFetchAllAddressLookupTable=xo.fetchAllAddressLookupTable=xo.safeFetchAddressLookupTable=xo.fetchAddressLookupTable=xo.deserializeAddressLookupTable=xo.getAddressLookupTableAccountDataSerializer=void 0;const bb=Z,ao=q;function jBe(){return(0,ao.mapSerializer)((0,ao.struct)([["discriminator",(0,ao.u32)()],["deactivationSlot",(0,ao.u64)()],["lastExtendedSlot",(0,ao.u64)()],["lastExtendedStartIndex",(0,ao.u8)()],["authority",(0,ao.option)((0,ao.publicKey)(),{fixed:!0})],["padding",(0,ao.u16)()],["addresses",(0,ao.array)((0,ao.publicKey)(),{size:"remainder"})]],{description:"AddressLookupTableAccountData"}),n=>({...n,discriminator:1,padding:0}))}xo.getAddressLookupTableAccountDataSerializer=jBe;function XT(n){return(0,bb.deserializeAccount)(n,jBe())}xo.deserializeAddressLookupTable=XT;async function HBe(n,e,t){const r=await n.rpc.getAccount((0,bb.publicKey)(e,!1),t);return(0,bb.assertAccountExists)(r,"AddressLookupTable"),XT(r)}xo.fetchAddressLookupTable=HBe;async function GBe(n,e,t){const r=await n.rpc.getAccount((0,bb.publicKey)(e,!1),t);return r.exists?XT(r):null}xo.safeFetchAddressLookupTable=GBe;async function l$t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,bb.publicKey)(s,!1)),t)).map(s=>((0,bb.assertAccountExists)(s,"AddressLookupTable"),XT(s)))}xo.fetchAllAddressLookupTable=l$t;async function d$t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,bb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>XT(s))}xo.safeFetchAllAddressLookupTable=d$t;function f$t(n){const e=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return(0,bb.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,ao.u32)()],deactivationSlot:[4,(0,ao.u64)()],lastExtendedSlot:[12,(0,ao.u64)()],lastExtendedStartIndex:[20,(0,ao.u8)()],authority:[21,(0,ao.option)((0,ao.publicKey)(),{fixed:!0})],padding:[54,(0,ao.u16)()],addresses:[56,(0,ao.array)((0,ao.publicKey)(),{size:"remainder"})]}).deserializeUsing(t=>XT(t)).whereField("discriminator",1)}xo.getAddressLookupTableGpaBuilder=f$t;function hse(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return n.eddsa.findPda(t,[(0,ao.publicKey)().serialize(e.authority),(0,ao.u64)().serialize(e.recentSlot)])}xo.findAddressLookupTablePda=hse;async function h$t(n,e,t){return HBe(n,hse(n,e),t)}xo.fetchAddressLookupTableFromSeeds=h$t;async function g$t(n,e,t){return GBe(n,hse(n,e),t)}xo.safeFetchAddressLookupTableFromSeeds=g$t;var za={};Object.defineProperty(za,"__esModule",{value:!0});za.getMintSize=za.getMintGpaBuilder=za.safeFetchAllMint=za.fetchAllMint=za.safeFetchMint=za.fetchMint=za.deserializeMint=za.getMintAccountDataSerializer=void 0;const Sb=Z,Zo=q;function YBe(){return(0,Zo.struct)([["mintAuthority",(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})],["supply",(0,Zo.u64)()],["decimals",(0,Zo.u8)()],["isInitialized",(0,Zo.bool)()],["freezeAuthority",(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})]],{description:"MintAccountData"})}za.getMintAccountDataSerializer=YBe;function QT(n){return(0,Sb.deserializeAccount)(n,YBe())}za.deserializeMint=QT;async function m$t(n,e,t){const r=await n.rpc.getAccount((0,Sb.publicKey)(e,!1),t);return(0,Sb.assertAccountExists)(r,"Mint"),QT(r)}za.fetchMint=m$t;async function y$t(n,e,t){const r=await n.rpc.getAccount((0,Sb.publicKey)(e,!1),t);return r.exists?QT(r):null}za.safeFetchMint=y$t;async function p$t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Sb.publicKey)(s,!1)),t)).map(s=>((0,Sb.assertAccountExists)(s,"Mint"),QT(s)))}za.fetchAllMint=p$t;async function b$t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Sb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>QT(s))}za.safeFetchAllMint=b$t;function S$t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,Sb.gpaBuilder)(n,e).registerFields({mintAuthority:[0,(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})],supply:[36,(0,Zo.u64)()],decimals:[44,(0,Zo.u8)()],isInitialized:[45,(0,Zo.bool)()],freezeAuthority:[46,(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})]}).deserializeUsing(t=>QT(t)).whereSize(82)}za.getMintGpaBuilder=S$t;function k$t(){return 82}za.getMintSize=k$t;var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.getMultisigSize=$a.getMultisigGpaBuilder=$a.safeFetchAllMultisig=$a.fetchAllMultisig=$a.safeFetchMultisig=$a.fetchMultisig=$a.deserializeMultisig=$a.getMultisigAccountDataSerializer=void 0;const kb=Z,Xl=q;function ZBe(){return(0,Xl.struct)([["m",(0,Xl.u8)()],["n",(0,Xl.u8)()],["isInitialized",(0,Xl.bool)()],["signers",(0,Xl.array)((0,Xl.publicKey)(),{size:11})]],{description:"MultisigAccountData"})}$a.getMultisigAccountDataSerializer=ZBe;function eR(n){return(0,kb.deserializeAccount)(n,ZBe())}$a.deserializeMultisig=eR;async function v$t(n,e,t){const r=await n.rpc.getAccount((0,kb.publicKey)(e,!1),t);return(0,kb.assertAccountExists)(r,"Multisig"),eR(r)}$a.fetchMultisig=v$t;async function A$t(n,e,t){const r=await n.rpc.getAccount((0,kb.publicKey)(e,!1),t);return r.exists?eR(r):null}$a.safeFetchMultisig=A$t;async function w$t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,kb.publicKey)(s,!1)),t)).map(s=>((0,kb.assertAccountExists)(s,"Multisig"),eR(s)))}$a.fetchAllMultisig=w$t;async function I$t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,kb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>eR(s))}$a.safeFetchAllMultisig=I$t;function _$t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,kb.gpaBuilder)(n,e).registerFields({m:[0,(0,Xl.u8)()],n:[1,(0,Xl.u8)()],isInitialized:[2,(0,Xl.bool)()],signers:[3,(0,Xl.array)((0,Xl.publicKey)(),{size:11})]}).deserializeUsing(t=>eR(t)).whereSize(355)}$a.getMultisigGpaBuilder=_$t;function P$t(){return 355}$a.getMultisigSize=P$t;var Da={},jL={},JBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.MintTokens=0]="MintTokens",s[s.FreezeAccount=1]="FreezeAccount",s[s.AccountOwner=2]="AccountOwner",s[s.CloseAccount=3]="CloseAccount"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(JBe);var XBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initialized=1]="Initialized",s[s.Frozen=2]="Frozen"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(XBe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(JBe,n),t(XBe,n)})(jL);Object.defineProperty(Da,"__esModule",{value:!0});Da.getTokenSize=Da.getTokenGpaBuilder=Da.safeFetchAllToken=Da.fetchAllToken=Da.safeFetchToken=Da.fetchToken=Da.deserializeToken=Da.getTokenAccountDataSerializer=void 0;const vb=Z,ys=q,QBe=jL;function eze(){return(0,ys.struct)([["mint",(0,ys.publicKey)()],["owner",(0,ys.publicKey)()],["amount",(0,ys.u64)()],["delegate",(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})],["state",(0,QBe.getTokenStateSerializer)()],["isNative",(0,ys.option)((0,ys.u64)(),{prefix:(0,ys.u32)(),fixed:!0})],["delegatedAmount",(0,ys.u64)()],["closeAuthority",(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})]],{description:"TokenAccountData"})}Da.getTokenAccountDataSerializer=eze;function tR(n){return(0,vb.deserializeAccount)(n,eze())}Da.deserializeToken=tR;async function E$t(n,e,t){const r=await n.rpc.getAccount((0,vb.publicKey)(e,!1),t);return(0,vb.assertAccountExists)(r,"Token"),tR(r)}Da.fetchToken=E$t;async function x$t(n,e,t){const r=await n.rpc.getAccount((0,vb.publicKey)(e,!1),t);return r.exists?tR(r):null}Da.safeFetchToken=x$t;async function T$t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,vb.publicKey)(s,!1)),t)).map(s=>((0,vb.assertAccountExists)(s,"Token"),tR(s)))}Da.fetchAllToken=T$t;async function R$t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,vb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>tR(s))}Da.safeFetchAllToken=R$t;function C$t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,vb.gpaBuilder)(n,e).registerFields({mint:[0,(0,ys.publicKey)()],owner:[32,(0,ys.publicKey)()],amount:[64,(0,ys.u64)()],delegate:[72,(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})],state:[108,(0,QBe.getTokenStateSerializer)()],isNative:[109,(0,ys.option)((0,ys.u64)(),{prefix:(0,ys.u32)(),fixed:!0})],delegatedAmount:[121,(0,ys.u64)()],closeAuthority:[129,(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})]}).deserializeUsing(t=>tR(t)).whereSize(165)}Da.getTokenGpaBuilder=C$t;function M$t(){return 165}Da.getTokenSize=M$t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(xo,n),t(za,n),t($a,n),t(Da,n)})(qL);var vh={},Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.getMplSystemExtrasErrorFromName=Of.getMplSystemExtrasErrorFromCode=Of.SysExInvalidOwnerForSourceError=Of.SysExInvalidSystemProgramError=void 0;const tze=Z,gse=new Map,mse=new Map;class yse extends tze.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}Of.SysExInvalidSystemProgramError=yse;gse.set(0,yse);mse.set("InvalidSystemProgram",yse);class pse extends tze.ProgramError{constructor(e,t){super("Invalid Program Owner For The Source Account",e,t),this.name="InvalidOwnerForSource",this.code=1}}Of.SysExInvalidOwnerForSourceError=pse;gse.set(1,pse);mse.set("InvalidOwnerForSource",pse);function B$t(n,e,t){const r=gse.get(n);return r?new r(e,t):null}Of.getMplSystemExtrasErrorFromCode=B$t;function z$t(n,e,t){const r=mse.get(n);return r?new r(e,t):null}Of.getMplSystemExtrasErrorFromName=z$t;var To={};Object.defineProperty(To,"__esModule",{value:!0});To.getMplTokenExtrasErrorFromName=To.getMplTokenExtrasErrorFromCode=To.TokExCannotCreateNonAssociatedTokenError=To.TokExInvalidTokenOwnerError=To.TokExInvalidTokenMintError=To.TokExInvalidProgramOwnerError=To.TokExInvalidAssociatedTokenAccountError=To.TokExInvalidAssociatedTokenProgramError=To.TokExInvalidTokenProgramError=To.TokExInvalidSystemProgramError=void 0;const Fb=Z,gm=new Map,mm=new Map;class bse extends Fb.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}To.TokExInvalidSystemProgramError=bse;gm.set(0,bse);mm.set("InvalidSystemProgram",bse);class Sse extends Fb.ProgramError{constructor(e,t){super("Invalid Token Program",e,t),this.name="InvalidTokenProgram",this.code=1}}To.TokExInvalidTokenProgramError=Sse;gm.set(1,Sse);mm.set("InvalidTokenProgram",Sse);class kse extends Fb.ProgramError{constructor(e,t){super("Invalid Associated Token Program",e,t),this.name="InvalidAssociatedTokenProgram",this.code=2}}To.TokExInvalidAssociatedTokenProgramError=kse;gm.set(2,kse);mm.set("InvalidAssociatedTokenProgram",kse);class vse extends Fb.ProgramError{constructor(e,t){super("Invalid Associated Token Account: it should derive from the provided mint and owner",e,t),this.name="InvalidAssociatedTokenAccount",this.code=3}}To.TokExInvalidAssociatedTokenAccountError=vse;gm.set(3,vse);mm.set("InvalidAssociatedTokenAccount",vse);class Ase extends Fb.ProgramError{constructor(e,t){super("Invalid Program Owner",e,t),this.name="InvalidProgramOwner",this.code=4}}To.TokExInvalidProgramOwnerError=Ase;gm.set(4,Ase);mm.set("InvalidProgramOwner",Ase);class wse extends Fb.ProgramError{constructor(e,t){super("Invalid Token Mint: it should be the same as the provided mint account",e,t),this.name="InvalidTokenMint",this.code=5}}To.TokExInvalidTokenMintError=wse;gm.set(5,wse);mm.set("InvalidTokenMint",wse);class Ise extends Fb.ProgramError{constructor(e,t){super("Invalid Program Owner: it should be the same as the provided owner account",e,t),this.name="InvalidTokenOwner",this.code=6}}To.TokExInvalidTokenOwnerError=Ise;gm.set(6,Ise);mm.set("InvalidTokenOwner",Ise);class _se extends Fb.ProgramError{constructor(e,t){super("Cannot create non-associated token accounts as they would need to sign the transaction. Please provide an associated token account instead",e,t),this.name="CannotCreateNonAssociatedToken",this.code=7}}To.TokExCannotCreateNonAssociatedTokenError=_se;gm.set(7,_se);mm.set("CannotCreateNonAssociatedToken",_se);function $$t(n,e,t){const r=gm.get(n);return r?new r(e,t):null}To.getMplTokenExtrasErrorFromCode=$$t;function D$t(n,e,t){const r=mm.get(n);return r?new r(e,t):null}To.getMplTokenExtrasErrorFromName=D$t;var nP={};Object.defineProperty(nP,"__esModule",{value:!0});nP.getSplAddressLookupTableErrorFromName=nP.getSplAddressLookupTableErrorFromCode=void 0;const O$t=new Map,K$t=new Map;function L$t(n,e,t){const r=O$t.get(n);return r?new r(e,t):null}nP.getSplAddressLookupTableErrorFromCode=L$t;function W$t(n,e,t){const r=K$t.get(n);return r?new r(e,t):null}nP.getSplAddressLookupTableErrorFromName=W$t;var Op={};Object.defineProperty(Op,"__esModule",{value:!0});Op.getSplAssociatedTokenErrorFromName=Op.getSplAssociatedTokenErrorFromCode=Op.AtaInvalidOwnerError=void 0;const N$t=Z,rze=new Map,nze=new Map;class Pse extends N$t.ProgramError{constructor(e,t){super("Associated token account owner does not match address derivation",e,t),this.name="InvalidOwner",this.code=0}}Op.AtaInvalidOwnerError=Pse;rze.set(0,Pse);nze.set("InvalidOwner",Pse);function F$t(n,e,t){const r=rze.get(n);return r?new r(e,t):null}Op.getSplAssociatedTokenErrorFromCode=F$t;function U$t(n,e,t){const r=nze.get(n);return r?new r(e,t):null}Op.getSplAssociatedTokenErrorFromName=U$t;var sP={};Object.defineProperty(sP,"__esModule",{value:!0});sP.getSplComputeBudgetErrorFromName=sP.getSplComputeBudgetErrorFromCode=void 0;const V$t=new Map,q$t=new Map;function j$t(n,e,t){const r=V$t.get(n);return r?new r(e,t):null}sP.getSplComputeBudgetErrorFromCode=j$t;function H$t(n,e,t){const r=q$t.get(n);return r?new r(e,t):null}sP.getSplComputeBudgetErrorFromName=H$t;var iP={};Object.defineProperty(iP,"__esModule",{value:!0});iP.getSplMemoErrorFromName=iP.getSplMemoErrorFromCode=void 0;const G$t=new Map,Y$t=new Map;function Z$t(n,e,t){const r=G$t.get(n);return r?new r(e,t):null}iP.getSplMemoErrorFromCode=Z$t;function J$t(n,e,t){const r=Y$t.get(n);return r?new r(e,t):null}iP.getSplMemoErrorFromName=J$t;var oP={};Object.defineProperty(oP,"__esModule",{value:!0});oP.getSplSystemErrorFromName=oP.getSplSystemErrorFromCode=void 0;const X$t=new Map,Q$t=new Map;function e8t(n,e,t){const r=X$t.get(n);return r?new r(e,t):null}oP.getSplSystemErrorFromCode=e8t;function t8t(n,e,t){const r=Q$t.get(n);return r?new r(e,t):null}oP.getSplSystemErrorFromName=t8t;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getSplTokenErrorFromName=Ar.getSplTokenErrorFromCode=Ar.TokNonNativeNotSupportedError=Ar.TokMintDecimalsMismatchError=Ar.TokAccountFrozenError=Ar.TokMintCannotFreezeError=Ar.TokAuthorityTypeNotSupportedError=Ar.TokOverflowError=Ar.TokInvalidStateError=Ar.TokInvalidInstructionError=Ar.TokNonNativeHasBalanceError=Ar.TokNativeNotSupportedError=Ar.TokUninitializedStateError=Ar.TokInvalidNumberOfRequiredSignersError=Ar.TokInvalidNumberOfProvidedSignersError=Ar.TokAlreadyInUseError=Ar.TokFixedSupplyError=Ar.TokOwnerMismatchError=Ar.TokMintMismatchError=Ar.TokInvalidMintError=Ar.TokInsufficientFundsError=Ar.TokNotRentExemptError=void 0;const qo=Z,Ko=new Map,Lo=new Map;class Ese extends qo.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=0}}Ar.TokNotRentExemptError=Ese;Ko.set(0,Ese);Lo.set("NotRentExempt",Ese);class xse extends qo.ProgramError{constructor(e,t){super("Insufficient funds",e,t),this.name="InsufficientFunds",this.code=1}}Ar.TokInsufficientFundsError=xse;Ko.set(1,xse);Lo.set("InsufficientFunds",xse);class Tse extends qo.ProgramError{constructor(e,t){super("Invalid Mint",e,t),this.name="InvalidMint",this.code=2}}Ar.TokInvalidMintError=Tse;Ko.set(2,Tse);Lo.set("InvalidMint",Tse);class Rse extends qo.ProgramError{constructor(e,t){super("Account not associated with this Mint",e,t),this.name="MintMismatch",this.code=3}}Ar.TokMintMismatchError=Rse;Ko.set(3,Rse);Lo.set("MintMismatch",Rse);class Cse extends qo.ProgramError{constructor(e,t){super("Owner does not match",e,t),this.name="OwnerMismatch",this.code=4}}Ar.TokOwnerMismatchError=Cse;Ko.set(4,Cse);Lo.set("OwnerMismatch",Cse);class Mse extends qo.ProgramError{constructor(e,t){super("Fixed supply",e,t),this.name="FixedSupply",this.code=5}}Ar.TokFixedSupplyError=Mse;Ko.set(5,Mse);Lo.set("FixedSupply",Mse);class Bse extends qo.ProgramError{constructor(e,t){super("Already in use",e,t),this.name="AlreadyInUse",this.code=6}}Ar.TokAlreadyInUseError=Bse;Ko.set(6,Bse);Lo.set("AlreadyInUse",Bse);class zse extends qo.ProgramError{constructor(e,t){super("Invalid number of provided signers",e,t),this.name="InvalidNumberOfProvidedSigners",this.code=7}}Ar.TokInvalidNumberOfProvidedSignersError=zse;Ko.set(7,zse);Lo.set("InvalidNumberOfProvidedSigners",zse);class $se extends qo.ProgramError{constructor(e,t){super("Invalid number of required signers",e,t),this.name="InvalidNumberOfRequiredSigners",this.code=8}}Ar.TokInvalidNumberOfRequiredSignersError=$se;Ko.set(8,$se);Lo.set("InvalidNumberOfRequiredSigners",$se);class Dse extends qo.ProgramError{constructor(e,t){super("State is unititialized",e,t),this.name="UninitializedState",this.code=9}}Ar.TokUninitializedStateError=Dse;Ko.set(9,Dse);Lo.set("UninitializedState",Dse);class Ose extends qo.ProgramError{constructor(e,t){super("Instruction does not support native tokens",e,t),this.name="NativeNotSupported",this.code=10}}Ar.TokNativeNotSupportedError=Ose;Ko.set(10,Ose);Lo.set("NativeNotSupported",Ose);class Kse extends qo.ProgramError{constructor(e,t){super("Non-native account can only be closed if its balance is zero",e,t),this.name="NonNativeHasBalance",this.code=11}}Ar.TokNonNativeHasBalanceError=Kse;Ko.set(11,Kse);Lo.set("NonNativeHasBalance",Kse);class Lse extends qo.ProgramError{constructor(e,t){super("Invalid instruction",e,t),this.name="InvalidInstruction",this.code=12}}Ar.TokInvalidInstructionError=Lse;Ko.set(12,Lse);Lo.set("InvalidInstruction",Lse);class Wse extends qo.ProgramError{constructor(e,t){super("State is invalid for requested operation",e,t),this.name="InvalidState",this.code=13}}Ar.TokInvalidStateError=Wse;Ko.set(13,Wse);Lo.set("InvalidState",Wse);class Nse extends qo.ProgramError{constructor(e,t){super("Operation overflowed",e,t),this.name="Overflow",this.code=14}}Ar.TokOverflowError=Nse;Ko.set(14,Nse);Lo.set("Overflow",Nse);class Fse extends qo.ProgramError{constructor(e,t){super("Account does not support specified authority type",e,t),this.name="AuthorityTypeNotSupported",this.code=15}}Ar.TokAuthorityTypeNotSupportedError=Fse;Ko.set(15,Fse);Lo.set("AuthorityTypeNotSupported",Fse);class Use extends qo.ProgramError{constructor(e,t){super("This token mint cannot freeze accounts",e,t),this.name="MintCannotFreeze",this.code=16}}Ar.TokMintCannotFreezeError=Use;Ko.set(16,Use);Lo.set("MintCannotFreeze",Use);class Vse extends qo.ProgramError{constructor(e,t){super("Account is frozen",e,t),this.name="AccountFrozen",this.code=17}}Ar.TokAccountFrozenError=Vse;Ko.set(17,Vse);Lo.set("AccountFrozen",Vse);class qse extends qo.ProgramError{constructor(e,t){super("The provided decimals value different from the Mint decimals",e,t),this.name="MintDecimalsMismatch",this.code=18}}Ar.TokMintDecimalsMismatchError=qse;Ko.set(18,qse);Lo.set("MintDecimalsMismatch",qse);class jse extends qo.ProgramError{constructor(e,t){super("Instruction does not support non-native tokens",e,t),this.name="NonNativeNotSupported",this.code=19}}Ar.TokNonNativeNotSupportedError=jse;Ko.set(19,jse);Lo.set("NonNativeNotSupported",jse);function r8t(n,e,t){const r=Ko.get(n);return r?new r(e,t):null}Ar.getSplTokenErrorFromCode=r8t;function n8t(n,e,t){const r=Lo.get(n);return r?new r(e,t):null}Ar.getSplTokenErrorFromName=n8t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Of,n),t(To,n),t(nP,n),t(Op,n),t(sP,n),t(iP,n),t(oP,n),t(Ar,n)})(vh);var sze={},aP={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.getAccountMetasAndSigners=or.expectPda=or.expectPublicKey=or.expectSome=void 0;const q2=Z;function s8t(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}or.expectSome=s8t;function i8t(n){if(!n)throw new Error("Expected a PublicKey.");return(0,q2.publicKey)(n,!1)}or.expectPublicKey=i8t;function o8t(n){if(!n||!Array.isArray(n)||!(0,q2.isPda)(n))throw new Error("Expected a PDA.");return n}or.expectPda=o8t;function a8t(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,q2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,q2.publicKey)(i.value,!1),isSigner:(0,q2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}or.getAccountMetasAndSigners=a8t;Object.defineProperty(aP,"__esModule",{value:!0});aP.addMemo=aP.getAddMemoInstructionDataSerializer=void 0;const c8t=Z,Vpe=q,u8t=or;function ize(){return(0,Vpe.struct)([["memo",(0,Vpe.string)()]],{description:"AddMemoInstructionData"})}aP.getAddMemoInstructionDataSerializer=ize;function l8t(n,e){const t=n.programs.getPublicKey("splMemo","Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,u8t.getAccountMetasAndSigners)(i,"programId",t),c=ize().serialize(s),u=0;return(0,c8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}aP.addMemo=l8t;var cP={};Object.defineProperty(cP,"__esModule",{value:!0});cP.amountToUiAmount=cP.getAmountToUiAmountInstructionDataSerializer=void 0;const d8t=Z,r3=q,f8t=or;function oze(){return(0,r3.mapSerializer)((0,r3.struct)([["discriminator",(0,r3.u8)()],["amount",(0,r3.u64)()]],{description:"AmountToUiAmountInstructionData"}),n=>({...n,discriminator:23}))}cP.getAmountToUiAmountInstructionDataSerializer=oze;function h8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,f8t.getAccountMetasAndSigners)(i,"programId",t),c=oze().serialize(s),u=0;return(0,d8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cP.amountToUiAmount=h8t;var uP={};Object.defineProperty(uP,"__esModule",{value:!0});uP.approveTokenDelegate=uP.getApproveTokenDelegateInstructionDataSerializer=void 0;const g8t=Z,n3=q,m8t=or;function aze(){return(0,n3.mapSerializer)((0,n3.struct)([["discriminator",(0,n3.u8)()],["amount",(0,n3.u64)()]],{description:"ApproveTokenDelegateInstructionData"}),n=>({...n,discriminator:4}))}uP.getApproveTokenDelegateInstructionDataSerializer=aze;function y8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m8t.getAccountMetasAndSigners)(i,"programId",t),c=aze().serialize(s),u=0;return(0,g8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}uP.approveTokenDelegate=y8t;var lP={};Object.defineProperty(lP,"__esModule",{value:!0});lP.approveTokenDelegateChecked=lP.getApproveTokenDelegateCheckedInstructionDataSerializer=void 0;const p8t=Z,KC=q,b8t=or;function cze(){return(0,KC.mapSerializer)((0,KC.struct)([["discriminator",(0,KC.u8)()],["amount",(0,KC.u64)()],["decimals",(0,KC.u8)()]],{description:"ApproveTokenDelegateCheckedInstructionData"}),n=>({...n,discriminator:13}))}lP.getApproveTokenDelegateCheckedInstructionDataSerializer=cze;function S8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},delegate:{index:2,isWritable:!1,value:e.delegate??null},owner:{index:3,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b8t.getAccountMetasAndSigners)(i,"programId",t),c=cze().serialize(s),u=0;return(0,p8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lP.approveTokenDelegateChecked=S8t;var dP={};Object.defineProperty(dP,"__esModule",{value:!0});dP.burnToken=dP.getBurnTokenInstructionDataSerializer=void 0;const k8t=Z,s3=q,v8t=or;function uze(){return(0,s3.mapSerializer)((0,s3.struct)([["discriminator",(0,s3.u8)()],["amount",(0,s3.u64)()]],{description:"BurnTokenInstructionData"}),n=>({...n,discriminator:8}))}dP.getBurnTokenInstructionDataSerializer=uze;function A8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,v8t.getAccountMetasAndSigners)(i,"programId",t),c=uze().serialize(s),u=0;return(0,k8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}dP.burnToken=A8t;var fP={};Object.defineProperty(fP,"__esModule",{value:!0});fP.burnTokenChecked=fP.getBurnTokenCheckedInstructionDataSerializer=void 0;const w8t=Z,LC=q,I8t=or;function lze(){return(0,LC.mapSerializer)((0,LC.struct)([["discriminator",(0,LC.u8)()],["amount",(0,LC.u64)()],["decimals",(0,LC.u8)()]],{description:"BurnTokenCheckedInstructionData"}),n=>({...n,discriminator:15}))}fP.getBurnTokenCheckedInstructionDataSerializer=lze;function _8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,I8t.getAccountMetasAndSigners)(i,"programId",t),c=lze().serialize(s),u=0;return(0,w8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}fP.burnTokenChecked=_8t;var hP={};Object.defineProperty(hP,"__esModule",{value:!0});hP.closeLut=hP.getCloseLutInstructionDataSerializer=void 0;const P8t=Z,OU=q,E8t=or;function dze(){return(0,OU.mapSerializer)((0,OU.struct)([["discriminator",(0,OU.u32)()]],{description:"CloseLutInstructionData"}),n=>({...n,discriminator:4}))}hP.getCloseLutInstructionDataSerializer=dze;function x8t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},recipient:{index:2,isWritable:!0,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,E8t.getAccountMetasAndSigners)(s,"programId",t),a=dze().serialize({}),c=0;return(0,P8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}hP.closeLut=x8t;var gP={};Object.defineProperty(gP,"__esModule",{value:!0});gP.closeToken=gP.getCloseTokenInstructionDataSerializer=void 0;const T8t=Z,KU=q,R8t=or;function fze(){return(0,KU.mapSerializer)((0,KU.struct)([["discriminator",(0,KU.u8)()]],{description:"CloseTokenInstructionData"}),n=>({...n,discriminator:9}))}gP.getCloseTokenInstructionDataSerializer=fze;function C8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},destination:{index:1,isWritable:!0,value:e.destination??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,R8t.getAccountMetasAndSigners)(s,"programId",t),a=fze().serialize({}),c=0;return(0,T8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}gP.closeToken=C8t;var mP={};Object.defineProperty(mP,"__esModule",{value:!0});mP.createAccount=mP.getCreateAccountInstructionDataSerializer=void 0;const Wj=Z,Qk=q,M8t=or;function hze(){return(0,Qk.mapSerializer)((0,Qk.struct)([["discriminator",(0,Qk.u32)()],["lamports",(0,Wj.mapAmountSerializer)((0,Qk.u64)(),"SOL",9)],["space",(0,Qk.u64)()],["programId",(0,Qk.publicKey)()]],{description:"CreateAccountInstructionData"}),n=>({...n,discriminator:0}))}mP.getCreateAccountInstructionDataSerializer=hze;function B8t(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null}},s={...e};r.payer.value||(r.payer.value=n.payer);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,M8t.getAccountMetasAndSigners)(i,"programId",t),c=hze().serialize(s),u=Number(e.space)+Wj.ACCOUNT_HEADER_SIZE;return(0,Wj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mP.createAccount=B8t;var yP={};Object.defineProperty(yP,"__esModule",{value:!0});yP.createAccountWithRent=yP.getCreateAccountWithRentInstructionDataSerializer=void 0;const qpe=Z,WC=q,z8t=or;function gze(){return(0,WC.mapSerializer)((0,WC.struct)([["discriminator",(0,WC.u8)()],["space",(0,WC.u64)()],["programId",(0,WC.publicKey)()]],{description:"CreateAccountWithRentInstructionData"}),n=>({...n,discriminator:0}))}yP.getCreateAccountWithRentInstructionDataSerializer=gze;function $8t(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,z8t.getAccountMetasAndSigners)(i,"programId",t),c=gze().serialize(s),u=Number(e.space)+qpe.ACCOUNT_HEADER_SIZE;return(0,qpe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yP.createAccountWithRent=$8t;var HL={},rR={},GL={};Object.defineProperty(GL,"__esModule",{value:!0});GL.findAssociatedTokenPda=void 0;const LU=q;function D8t(n,e){const t=n.programs.getPublicKey("splAssociatedToken"),r=e.tokenProgramId??n.programs.getPublicKey("splToken");return n.eddsa.findPda(t,[(0,LU.publicKey)().serialize(e.owner),(0,LU.publicKey)().serialize(r),(0,LU.publicKey)().serialize(e.mint)])}GL.findAssociatedTokenPda=D8t;var YL={};Object.defineProperty(YL,"__esModule",{value:!0});YL.resolveExtendLutBytes=void 0;const O8t=(n,e,t,r)=>32*t.addresses.length;YL.resolveExtendLutBytes=O8t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(GL,n),t(YL,n)})(rR);Object.defineProperty(HL,"__esModule",{value:!0});HL.createAssociatedToken=void 0;const jpe=Z,K8t=rR,L8t=qL,i3=or;function W8t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,K8t.findAssociatedTokenPda)(n,{owner:(0,i3.expectPublicKey)(r.owner.value),mint:(0,i3.expectPublicKey)(r.mint.value),tokenProgramId:(0,i3.expectPublicKey)(r.tokenProgram.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,i3.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=(0,L8t.getTokenSize)()+jpe.ACCOUNT_HEADER_SIZE;return(0,jpe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}HL.createAssociatedToken=W8t;var pP={};Object.defineProperty(pP,"__esModule",{value:!0});pP.createEmptyLut=pP.getCreateEmptyLutInstructionDataSerializer=void 0;const Hpe=Z,NC=q,N8t=qL,o3=or;function mze(){return(0,NC.mapSerializer)((0,NC.struct)([["discriminator",(0,NC.u32)()],["recentSlot",(0,NC.u64)()],["bump",(0,NC.u8)()]],{description:"CreateEmptyLutInstructionData"}),n=>({...n,discriminator:0}))}pP.getCreateEmptyLutInstructionDataSerializer=mze;function F8t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.address.value||(r.address.value=(0,N8t.findAddressLookupTablePda)(n,{authority:(0,o3.expectPublicKey)(r.authority.value),recentSlot:(0,o3.expectSome)(s.recentSlot)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.bump||(s.bump=(0,o3.expectPda)(r.address.value)[1]);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,o3.getAccountMetasAndSigners)(i,"programId",t),c=mze().serialize(s),u=56+Hpe.ACCOUNT_HEADER_SIZE;return(0,Hpe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pP.createEmptyLut=F8t;var ZL={};Object.defineProperty(ZL,"__esModule",{value:!0});ZL.createIdempotentAssociatedToken=void 0;const U8t=Z,V8t=or;function q8t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,V8t.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,U8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ZL.createIdempotentAssociatedToken=q8t;var bP={};Object.defineProperty(bP,"__esModule",{value:!0});bP.createTokenIfMissing=bP.getCreateTokenIfMissingInstructionDataSerializer=void 0;const j8t=Z,WU=q,H8t=rR,FC=or;function yze(){return(0,WU.mapSerializer)((0,WU.struct)([["discriminator",(0,WU.u8)()]],{description:"CreateTokenIfMissingInstructionData"}),n=>({...n,discriminator:0}))}bP.getCreateTokenIfMissingInstructionDataSerializer=yze;function G8t(n,e){const t=n.programs.getPublicKey("mplTokenExtras","TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p"),r={payer:{index:0,isWritable:!0,value:e.payer??null},token:{index:1,isWritable:!1,value:e.token??null},mint:{index:2,isWritable:!1,value:e.mint??null},owner:{index:3,isWritable:!1,value:e.owner??null},ata:{index:4,isWritable:!0,value:e.ata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:7,isWritable:!1,value:e.ataProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,H8t.findAssociatedTokenPda)(n,{owner:(0,FC.expectPublicKey)(r.owner.value),mint:(0,FC.expectPublicKey)(r.mint.value),tokenProgramId:(0,FC.expectPublicKey)(r.tokenProgram.value)})),r.token.value||(r.token.value=(0,FC.expectSome)(r.ata.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,FC.getAccountMetasAndSigners)(s,"programId",t),a=yze().serialize({}),c=0;return(0,j8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}bP.createTokenIfMissing=G8t;var SP={};Object.defineProperty(SP,"__esModule",{value:!0});SP.deactivateLut=SP.getDeactivateLutInstructionDataSerializer=void 0;const Y8t=Z,NU=q,Z8t=or;function pze(){return(0,NU.mapSerializer)((0,NU.struct)([["discriminator",(0,NU.u32)()]],{description:"DeactivateLutInstructionData"}),n=>({...n,discriminator:3}))}SP.getDeactivateLutInstructionDataSerializer=pze;function J8t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Z8t.getAccountMetasAndSigners)(s,"programId",t),a=pze().serialize({}),c=0;return(0,Y8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}SP.deactivateLut=J8t;var kP={};Object.defineProperty(kP,"__esModule",{value:!0});kP.extendLut=kP.getExtendLutInstructionDataSerializer=void 0;const X8t=Z,ev=q,Q8t=rR,e3t=or;function bze(){return(0,ev.mapSerializer)((0,ev.struct)([["discriminator",(0,ev.u32)()],["addresses",(0,ev.array)((0,ev.publicKey)(),{size:(0,ev.u64)()})]],{description:"ExtendLutInstructionData"}),n=>({...n,discriminator:2}))}kP.getExtendLutInstructionDataSerializer=bze;function t3t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,e3t.getAccountMetasAndSigners)(i,"programId",t),c=bze().serialize(s),u=(0,Q8t.resolveExtendLutBytes)(n,r,s,t);return(0,X8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kP.extendLut=t3t;var vP={};Object.defineProperty(vP,"__esModule",{value:!0});vP.freezeLut=vP.getFreezeLutInstructionDataSerializer=void 0;const r3t=Z,FU=q,n3t=or;function Sze(){return(0,FU.mapSerializer)((0,FU.struct)([["discriminator",(0,FU.u32)()]],{description:"FreezeLutInstructionData"}),n=>({...n,discriminator:1}))}vP.getFreezeLutInstructionDataSerializer=Sze;function s3t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,n3t.getAccountMetasAndSigners)(s,"programId",t),a=Sze().serialize({}),c=0;return(0,r3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}vP.freezeLut=s3t;var AP={};Object.defineProperty(AP,"__esModule",{value:!0});AP.freezeToken=AP.getFreezeTokenInstructionDataSerializer=void 0;const i3t=Z,UU=q,o3t=or;function kze(){return(0,UU.mapSerializer)((0,UU.struct)([["discriminator",(0,UU.u8)()]],{description:"FreezeTokenInstructionData"}),n=>({...n,discriminator:10}))}AP.getFreezeTokenInstructionDataSerializer=kze;function a3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,o3t.getAccountMetasAndSigners)(s,"programId",t),a=kze().serialize({}),c=0;return(0,i3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}AP.freezeToken=a3t;var wP={};Object.defineProperty(wP,"__esModule",{value:!0});wP.getTokenDataSize=wP.getGetTokenDataSizeInstructionDataSerializer=void 0;const c3t=Z,VU=q,u3t=or;function vze(){return(0,VU.mapSerializer)((0,VU.struct)([["discriminator",(0,VU.u8)()]],{description:"GetTokenDataSizeInstructionData"}),n=>({...n,discriminator:21}))}wP.getGetTokenDataSizeInstructionDataSerializer=vze;function l3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,u3t.getAccountMetasAndSigners)(s,"programId",t),a=vze().serialize({}),c=0;return(0,c3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}wP.getTokenDataSize=l3t;var IP={};Object.defineProperty(IP,"__esModule",{value:!0});IP.initializeImmutableOwner=IP.getInitializeImmutableOwnerInstructionDataSerializer=void 0;const d3t=Z,qU=q,f3t=or;function Aze(){return(0,qU.mapSerializer)((0,qU.struct)([["discriminator",(0,qU.u8)()]],{description:"InitializeImmutableOwnerInstructionData"}),n=>({...n,discriminator:22}))}IP.getInitializeImmutableOwnerInstructionDataSerializer=Aze;function h3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,f3t.getAccountMetasAndSigners)(s,"programId",t),a=Aze().serialize({}),c=0;return(0,d3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}IP.initializeImmutableOwner=h3t;var _P={};Object.defineProperty(_P,"__esModule",{value:!0});_P.initializeMint=_P.getInitializeMintInstructionDataSerializer=void 0;const Gpe=Z,w0=q,g3t=or;function wze(){return(0,w0.mapSerializer)((0,w0.struct)([["discriminator",(0,w0.u8)()],["decimals",(0,w0.u8)()],["mintAuthority",(0,w0.publicKey)()],["freezeAuthority",(0,w0.option)((0,w0.publicKey)())]],{description:"InitializeMintInstructionData"}),n=>({...n,discriminator:0}))}_P.getInitializeMintInstructionDataSerializer=wze;function m3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Gpe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,g3t.getAccountMetasAndSigners)(i,"programId",t),c=wze().serialize(s),u=0;return(0,Gpe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_P.initializeMint=m3t;var PP={};Object.defineProperty(PP,"__esModule",{value:!0});PP.initializeMint2=PP.getInitializeMint2InstructionDataSerializer=void 0;const y3t=Z,I0=q,p3t=or;function Ize(){return(0,I0.mapSerializer)((0,I0.struct)([["discriminator",(0,I0.u8)()],["decimals",(0,I0.u8)()],["mintAuthority",(0,I0.publicKey)()],["freezeAuthority",(0,I0.option)((0,I0.publicKey)())]],{description:"InitializeMint2InstructionData"}),n=>({...n,discriminator:20}))}PP.getInitializeMint2InstructionDataSerializer=Ize;function b3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,p3t.getAccountMetasAndSigners)(i,"programId",t),c=Ize().serialize(s),u=0;return(0,y3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}PP.initializeMint2=b3t;var EP={};Object.defineProperty(EP,"__esModule",{value:!0});EP.initializeMultisig=EP.getInitializeMultisigInstructionDataSerializer=void 0;const Ype=Z,a3=q,S3t=or;function _ze(){return(0,a3.mapSerializer)((0,a3.struct)([["discriminator",(0,a3.u8)()],["m",(0,a3.u8)()]],{description:"InitializeMultisigInstructionData"}),n=>({...n,discriminator:2}))}EP.getInitializeMultisigInstructionDataSerializer=_ze;function k3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Ype.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S3t.getAccountMetasAndSigners)(i,"programId",t),c=_ze().serialize(s),u=0;return(0,Ype.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}EP.initializeMultisig=k3t;var xP={};Object.defineProperty(xP,"__esModule",{value:!0});xP.initializeMultisig2=xP.getInitializeMultisig2InstructionDataSerializer=void 0;const v3t=Z,c3=q,A3t=or;function Pze(){return(0,c3.mapSerializer)((0,c3.struct)([["discriminator",(0,c3.u8)()],["m",(0,c3.u8)()]],{description:"InitializeMultisig2InstructionData"}),n=>({...n,discriminator:19}))}xP.getInitializeMultisig2InstructionDataSerializer=Pze;function w3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},signer:{index:1,isWritable:!1,value:e.signer??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,A3t.getAccountMetasAndSigners)(i,"programId",t),c=Pze().serialize(s),u=0;return(0,v3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xP.initializeMultisig2=w3t;var TP={};Object.defineProperty(TP,"__esModule",{value:!0});TP.initializeToken=TP.getInitializeTokenInstructionDataSerializer=void 0;const Zpe=Z,jU=q,I3t=or;function Eze(){return(0,jU.mapSerializer)((0,jU.struct)([["discriminator",(0,jU.u8)()]],{description:"InitializeTokenInstructionData"}),n=>({...n,discriminator:1}))}TP.getInitializeTokenInstructionDataSerializer=Eze;function _3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null},rent:{index:3,isWritable:!1,value:e.rent??null}};r.rent.value||(r.rent.value=(0,Zpe.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,I3t.getAccountMetasAndSigners)(s,"programId",t),a=Eze().serialize({}),c=0;return(0,Zpe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}TP.initializeToken=_3t;var RP={};Object.defineProperty(RP,"__esModule",{value:!0});RP.initializeToken2=RP.getInitializeToken2InstructionDataSerializer=void 0;const Jpe=Z,u3=q,P3t=or;function xze(){return(0,u3.mapSerializer)((0,u3.struct)([["discriminator",(0,u3.u8)()],["owner",(0,u3.publicKey)()]],{description:"InitializeToken2InstructionData"}),n=>({...n,discriminator:16}))}RP.getInitializeToken2InstructionDataSerializer=xze;function E3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},rent:{index:2,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Jpe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,P3t.getAccountMetasAndSigners)(i,"programId",t),c=xze().serialize(s),u=0;return(0,Jpe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}RP.initializeToken2=E3t;var CP={};Object.defineProperty(CP,"__esModule",{value:!0});CP.initializeToken3=CP.getInitializeToken3InstructionDataSerializer=void 0;const x3t=Z,l3=q,T3t=or;function Tze(){return(0,l3.mapSerializer)((0,l3.struct)([["discriminator",(0,l3.u8)()],["owner",(0,l3.publicKey)()]],{description:"InitializeToken3InstructionData"}),n=>({...n,discriminator:18}))}CP.getInitializeToken3InstructionDataSerializer=Tze;function R3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,T3t.getAccountMetasAndSigners)(i,"programId",t),c=Tze().serialize(s),u=0;return(0,x3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}CP.initializeToken3=R3t;var MP={};Object.defineProperty(MP,"__esModule",{value:!0});MP.mintTokensTo=MP.getMintTokensToInstructionDataSerializer=void 0;const C3t=Z,d3=q,M3t=or;function Rze(){return(0,d3.mapSerializer)((0,d3.struct)([["discriminator",(0,d3.u8)()],["amount",(0,d3.u64)()]],{description:"MintTokensToInstructionData"}),n=>({...n,discriminator:7}))}MP.getMintTokensToInstructionDataSerializer=Rze;function B3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e};r.mintAuthority.value||(r.mintAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,M3t.getAccountMetasAndSigners)(i,"programId",t),c=Rze().serialize(s),u=0;return(0,C3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}MP.mintTokensTo=B3t;var BP={};Object.defineProperty(BP,"__esModule",{value:!0});BP.mintTokensToChecked=BP.getMintTokensToCheckedInstructionDataSerializer=void 0;const z3t=Z,UC=q,$3t=or;function Cze(){return(0,UC.mapSerializer)((0,UC.struct)([["discriminator",(0,UC.u8)()],["amount",(0,UC.u64)()],["decimals",(0,UC.u8)()]],{description:"MintTokensToCheckedInstructionData"}),n=>({...n,discriminator:14}))}BP.getMintTokensToCheckedInstructionDataSerializer=Cze;function D3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$3t.getAccountMetasAndSigners)(i,"programId",t),c=Cze().serialize(s),u=0;return(0,z3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}BP.mintTokensToChecked=D3t;var JL={};Object.defineProperty(JL,"__esModule",{value:!0});JL.recoverNestedAssociatedToken=void 0;const O3t=Z,K3t=or;function L3t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={nestedAssociatedAccountAddress:{index:0,isWritable:!0,value:e.nestedAssociatedAccountAddress??null},nestedTokenMintAddress:{index:1,isWritable:!1,value:e.nestedTokenMintAddress??null},destinationAssociatedAccountAddress:{index:2,isWritable:!0,value:e.destinationAssociatedAccountAddress??null},ownerAssociatedAccountAddress:{index:3,isWritable:!1,value:e.ownerAssociatedAccountAddress??null},ownerTokenMintAddress:{index:4,isWritable:!1,value:e.ownerTokenMintAddress??null},walletAddress:{index:5,isWritable:!0,value:e.walletAddress??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null}};r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,K3t.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,O3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}JL.recoverNestedAssociatedToken=L3t;var zP={};Object.defineProperty(zP,"__esModule",{value:!0});zP.requestHeapFrame=zP.getRequestHeapFrameInstructionDataSerializer=void 0;const W3t=Z,f3=q,N3t=or;function Mze(){return(0,f3.mapSerializer)((0,f3.struct)([["discriminator",(0,f3.u8)()],["bytes",(0,f3.u32)()]],{description:"RequestHeapFrameInstructionData"}),n=>({...n,discriminator:1}))}zP.getRequestHeapFrameInstructionDataSerializer=Mze;function F3t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,N3t.getAccountMetasAndSigners)(i,"programId",t),c=Mze().serialize(s),u=0;return(0,W3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zP.requestHeapFrame=F3t;var $P={};Object.defineProperty($P,"__esModule",{value:!0});$P.requestUnits=$P.getRequestUnitsInstructionDataSerializer=void 0;const U3t=Z,VC=q,V3t=or;function Bze(){return(0,VC.mapSerializer)((0,VC.struct)([["discriminator",(0,VC.u8)()],["units",(0,VC.u32)()],["additionalFee",(0,VC.u32)()]],{description:"RequestUnitsInstructionData"}),n=>({...n,discriminator:0}))}$P.getRequestUnitsInstructionDataSerializer=Bze;function q3t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,V3t.getAccountMetasAndSigners)(i,"programId",t),c=Bze().serialize(s),u=0;return(0,U3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$P.requestUnits=q3t;var DP={};Object.defineProperty(DP,"__esModule",{value:!0});DP.revokeTokenDelegate=DP.getRevokeTokenDelegateInstructionDataSerializer=void 0;const j3t=Z,HU=q,H3t=or;function zze(){return(0,HU.mapSerializer)((0,HU.struct)([["discriminator",(0,HU.u8)()]],{description:"RevokeTokenDelegateInstructionData"}),n=>({...n,discriminator:5}))}DP.getRevokeTokenDelegateInstructionDataSerializer=zze;function G3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,H3t.getAccountMetasAndSigners)(s,"programId",t),a=zze().serialize({}),c=0;return(0,j3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}DP.revokeTokenDelegate=G3t;var OP={};Object.defineProperty(OP,"__esModule",{value:!0});OP.setAuthority=OP.getSetAuthorityInstructionDataSerializer=void 0;const Y3t=Z,qC=q,Z3t=or,J3t=jL;function $ze(){return(0,qC.mapSerializer)((0,qC.struct)([["discriminator",(0,qC.u8)()],["authorityType",(0,J3t.getAuthorityTypeSerializer)()],["newAuthority",(0,qC.option)((0,qC.publicKey)())]],{description:"SetAuthorityInstructionData"}),n=>({...n,discriminator:6}))}OP.getSetAuthorityInstructionDataSerializer=$ze;function X3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={owned:{index:0,isWritable:!0,value:e.owned??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Z3t.getAccountMetasAndSigners)(i,"programId",t),c=$ze().serialize(s),u=0;return(0,Y3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}OP.setAuthority=X3t;var KP={};Object.defineProperty(KP,"__esModule",{value:!0});KP.setComputeUnitLimit=KP.getSetComputeUnitLimitInstructionDataSerializer=void 0;const Q3t=Z,h3=q,eDt=or;function Dze(){return(0,h3.mapSerializer)((0,h3.struct)([["discriminator",(0,h3.u8)()],["units",(0,h3.u32)()]],{description:"SetComputeUnitLimitInstructionData"}),n=>({...n,discriminator:2}))}KP.getSetComputeUnitLimitInstructionDataSerializer=Dze;function tDt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,eDt.getAccountMetasAndSigners)(i,"programId",t),c=Dze().serialize(s),u=0;return(0,Q3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}KP.setComputeUnitLimit=tDt;var LP={};Object.defineProperty(LP,"__esModule",{value:!0});LP.setComputeUnitPrice=LP.getSetComputeUnitPriceInstructionDataSerializer=void 0;const rDt=Z,g3=q,nDt=or;function Oze(){return(0,g3.mapSerializer)((0,g3.struct)([["discriminator",(0,g3.u8)()],["microLamports",(0,g3.u64)()]],{description:"SetComputeUnitPriceInstructionData"}),n=>({...n,discriminator:3}))}LP.getSetComputeUnitPriceInstructionDataSerializer=Oze;function sDt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,nDt.getAccountMetasAndSigners)(i,"programId",t),c=Oze().serialize(s),u=0;return(0,rDt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}LP.setComputeUnitPrice=sDt;var WP={};Object.defineProperty(WP,"__esModule",{value:!0});WP.syncNative=WP.getSyncNativeInstructionDataSerializer=void 0;const iDt=Z,GU=q,oDt=or;function Kze(){return(0,GU.mapSerializer)((0,GU.struct)([["discriminator",(0,GU.u8)()]],{description:"SyncNativeInstructionData"}),n=>({...n,discriminator:17}))}WP.getSyncNativeInstructionDataSerializer=Kze;function aDt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,oDt.getAccountMetasAndSigners)(s,"programId",t),a=Kze().serialize({}),c=0;return(0,iDt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}WP.syncNative=aDt;var NP={};Object.defineProperty(NP,"__esModule",{value:!0});NP.thawToken=NP.getThawTokenInstructionDataSerializer=void 0;const cDt=Z,YU=q,uDt=or;function Lze(){return(0,YU.mapSerializer)((0,YU.struct)([["discriminator",(0,YU.u8)()]],{description:"ThawTokenInstructionData"}),n=>({...n,discriminator:11}))}NP.getThawTokenInstructionDataSerializer=Lze;function lDt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,uDt.getAccountMetasAndSigners)(s,"programId",t),a=Lze().serialize({}),c=0;return(0,cDt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}NP.thawToken=lDt;var FP={};Object.defineProperty(FP,"__esModule",{value:!0});FP.transferAllSol=FP.getTransferAllSolInstructionDataSerializer=void 0;const dDt=Z,ZU=q,fDt=or;function Wze(){return(0,ZU.mapSerializer)((0,ZU.struct)([["discriminator",(0,ZU.u8)()]],{description:"TransferAllSolInstructionData"}),n=>({...n,discriminator:1}))}FP.getTransferAllSolInstructionDataSerializer=Wze;function hDt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}};r.source.value||(r.source.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fDt.getAccountMetasAndSigners)(s,"programId",t),a=Wze().serialize({}),c=0;return(0,dDt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}FP.transferAllSol=hDt;var UP={};Object.defineProperty(UP,"__esModule",{value:!0});UP.transferSol=UP.getTransferSolInstructionDataSerializer=void 0;const Nze=Z,m3=q,gDt=or;function Fze(){return(0,m3.mapSerializer)((0,m3.struct)([["discriminator",(0,m3.u32)()],["amount",(0,Nze.mapAmountSerializer)((0,m3.u64)(),"SOL",9)]],{description:"TransferSolInstructionData"}),n=>({...n,discriminator:2}))}UP.getTransferSolInstructionDataSerializer=Fze;function mDt(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null}},s={...e};r.source.value||(r.source.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,gDt.getAccountMetasAndSigners)(i,"programId",t),c=Fze().serialize(s),u=0;return(0,Nze.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}UP.transferSol=mDt;var VP={};Object.defineProperty(VP,"__esModule",{value:!0});VP.transferTokens=VP.getTransferTokensInstructionDataSerializer=void 0;const yDt=Z,y3=q,pDt=or;function Uze(){return(0,y3.mapSerializer)((0,y3.struct)([["discriminator",(0,y3.u8)()],["amount",(0,y3.u64)()]],{description:"TransferTokensInstructionData"}),n=>({...n,discriminator:3}))}VP.getTransferTokensInstructionDataSerializer=Uze;function bDt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,pDt.getAccountMetasAndSigners)(i,"programId",t),c=Uze().serialize(s),u=0;return(0,yDt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}VP.transferTokens=bDt;var qP={};Object.defineProperty(qP,"__esModule",{value:!0});qP.transferTokensChecked=qP.getTransferTokensCheckedInstructionDataSerializer=void 0;const SDt=Z,jC=q,kDt=or;function Vze(){return(0,jC.mapSerializer)((0,jC.struct)([["discriminator",(0,jC.u8)()],["amount",(0,jC.u64)()],["decimals",(0,jC.u8)()]],{description:"TransferTokensCheckedInstructionData"}),n=>({...n,discriminator:12}))}qP.getTransferTokensCheckedInstructionDataSerializer=Vze;function vDt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},destination:{index:2,isWritable:!0,value:e.destination??null},authority:{index:3,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,kDt.getAccountMetasAndSigners)(i,"programId",t),c=Vze().serialize(s),u=0;return(0,SDt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qP.transferTokensChecked=vDt;var jP={};Object.defineProperty(jP,"__esModule",{value:!0});jP.uiAmountToAmount=jP.getUiAmountToAmountInstructionDataSerializer=void 0;const ADt=Z,p3=q,wDt=or;function qze(){return(0,p3.mapSerializer)((0,p3.struct)([["discriminator",(0,p3.u8)()],["uiAmount",(0,p3.u64)()]],{description:"UiAmountToAmountInstructionData"}),n=>({...n,discriminator:24}))}jP.getUiAmountToAmountInstructionDataSerializer=qze;function IDt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,wDt.getAccountMetasAndSigners)(i,"programId",t),c=qze().serialize(s),u=0;return(0,ADt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jP.uiAmountToAmount=IDt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(aP,n),t(cP,n),t(uP,n),t(lP,n),t(dP,n),t(fP,n),t(hP,n),t(gP,n),t(mP,n),t(yP,n),t(HL,n),t(pP,n),t(ZL,n),t(bP,n),t(SP,n),t(kP,n),t(vP,n),t(AP,n),t(wP,n),t(IP,n),t(_P,n),t(PP,n),t(EP,n),t(xP,n),t(TP,n),t(RP,n),t(CP,n),t(MP,n),t(BP,n),t(JL,n),t(zP,n),t($P,n),t(DP,n),t(OP,n),t(KP,n),t(LP,n),t(WP,n),t(NP,n),t(FP,n),t(UP,n),t(VP,n),t(qP,n),t(jP,n)})(sze);var jze={},Hze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplSystemExtrasProgramId=n.getMplSystemExtrasProgram=n.createMplSystemExtrasProgram=n.MPL_SYSTEM_EXTRAS_PROGRAM_ID=void 0;const e=vh;n.MPL_SYSTEM_EXTRAS_PROGRAM_ID="SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG";function t(){return{name:"mplSystemExtras",publicKey:n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplSystemExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplSystemExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplSystemExtrasProgram=t;function r(i,o){return i.programs.get("mplSystemExtras",o)}n.getMplSystemExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplSystemExtras",n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,o)}n.getMplSystemExtrasProgramId=s})(Hze);var Gze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenExtrasProgramId=n.getMplTokenExtrasProgram=n.createMplTokenExtrasProgram=n.MPL_TOKEN_EXTRAS_PROGRAM_ID=void 0;const e=vh;n.MPL_TOKEN_EXTRAS_PROGRAM_ID="TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p";function t(){return{name:"mplTokenExtras",publicKey:n.MPL_TOKEN_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenExtrasProgram=t;function r(i,o){return i.programs.get("mplTokenExtras",o)}n.getMplTokenExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenExtras",n.MPL_TOKEN_EXTRAS_PROGRAM_ID,o)}n.getMplTokenExtrasProgramId=s})(Gze);var Yze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAddressLookupTableProgramId=n.getSplAddressLookupTableProgram=n.createSplAddressLookupTableProgram=n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID=void 0;const e=vh;n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID="AddressLookupTab1e1111111111111111111111111";function t(){return{name:"splAddressLookupTable",publicKey:n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAddressLookupTableErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAddressLookupTableErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAddressLookupTableProgram=t;function r(i,o){return i.programs.get("splAddressLookupTable",o)}n.getSplAddressLookupTableProgram=r;function s(i,o){return i.programs.getPublicKey("splAddressLookupTable",n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,o)}n.getSplAddressLookupTableProgramId=s})(Yze);var Zze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAssociatedTokenProgramId=n.getSplAssociatedTokenProgram=n.createSplAssociatedTokenProgram=n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const e=vh;n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";function t(){return{name:"splAssociatedToken",publicKey:n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAssociatedTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAssociatedTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAssociatedTokenProgram=t;function r(i,o){return i.programs.get("splAssociatedToken",o)}n.getSplAssociatedTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splAssociatedToken",n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,o)}n.getSplAssociatedTokenProgramId=s})(Zze);var Jze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplComputeBudgetProgramId=n.getSplComputeBudgetProgram=n.createSplComputeBudgetProgram=n.SPL_COMPUTE_BUDGET_PROGRAM_ID=void 0;const e=vh;n.SPL_COMPUTE_BUDGET_PROGRAM_ID="ComputeBudget111111111111111111111111111111";function t(){return{name:"splComputeBudget",publicKey:n.SPL_COMPUTE_BUDGET_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplComputeBudgetErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplComputeBudgetErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplComputeBudgetProgram=t;function r(i,o){return i.programs.get("splComputeBudget",o)}n.getSplComputeBudgetProgram=r;function s(i,o){return i.programs.getPublicKey("splComputeBudget",n.SPL_COMPUTE_BUDGET_PROGRAM_ID,o)}n.getSplComputeBudgetProgramId=s})(Jze);var Xze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplMemoProgramId=n.getSplMemoProgram=n.createSplMemoProgram=n.SPL_MEMO_PROGRAM_ID=void 0;const e=vh;n.SPL_MEMO_PROGRAM_ID="Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo";function t(){return{name:"splMemo",publicKey:n.SPL_MEMO_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplMemoErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplMemoErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplMemoProgram=t;function r(i,o){return i.programs.get("splMemo",o)}n.getSplMemoProgram=r;function s(i,o){return i.programs.getPublicKey("splMemo",n.SPL_MEMO_PROGRAM_ID,o)}n.getSplMemoProgramId=s})(Xze);var Qze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplSystemProgramId=n.getSplSystemProgram=n.createSplSystemProgram=n.SPL_SYSTEM_PROGRAM_ID=void 0;const e=vh;n.SPL_SYSTEM_PROGRAM_ID="11111111111111111111111111111111";function t(){return{name:"splSystem",publicKey:n.SPL_SYSTEM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplSystemErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplSystemErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplSystemProgram=t;function r(i,o){return i.programs.get("splSystem",o)}n.getSplSystemProgram=r;function s(i,o){return i.programs.getPublicKey("splSystem",n.SPL_SYSTEM_PROGRAM_ID,o)}n.getSplSystemProgramId=s})(Qze);var e$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplTokenProgramId=n.getSplTokenProgram=n.createSplTokenProgram=n.SPL_TOKEN_PROGRAM_ID=void 0;const e=vh;n.SPL_TOKEN_PROGRAM_ID="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function t(){return{name:"splToken",publicKey:n.SPL_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplTokenProgram=t;function r(i,o){return i.programs.get("splToken",o)}n.getSplTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splToken",n.SPL_TOKEN_PROGRAM_ID,o)}n.getSplTokenProgramId=s})(e$e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Hze,n),t(Gze,n),t(Yze,n),t(Zze,n),t(Jze,n),t(Xze,n),t(Qze,n),t(e$e,n)})(jze);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(qL,n),t(vh,n),t(sze,n),t(jze,n),t(or,n),t(jL,n)})(hm);var XL={};Object.defineProperty(XL,"__esModule",{value:!0});XL.createLut=void 0;const _Dt=Z,JU=hm;function PDt(n,e){const{addresses:t,...r}=e,s=e.authority??n.identity,i=e.address??(0,JU.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:e.recentSlot});return[(0,_Dt.transactionBuilder)().add((0,JU.createEmptyLut)(n,r)).add((0,JU.extendLut)(n,{address:i,authority:s,addresses:t,payer:e.payer})),{publicKey:i[0],addresses:t}]}XL.createLut=PDt;var QL={};Object.defineProperty(QL,"__esModule",{value:!0});QL.createLutForTransactionBuilder=void 0;const XU=Z,Nj=hm,EDt=(n,e,t,r)=>{const s=r??n.identity,i=(0,XU.uniquePublicKeys)([e.getFeePayer(n).publicKey,...e.items.flatMap(({instruction:u})=>u.keys.filter(l=>l.isSigner).map(l=>l.pubkey))]),o=(0,XU.uniquePublicKeys)(e.items.flatMap(({instruction:u})=>[u.programId,...u.keys.map(l=>l.pubkey)])).filter(u=>!i.includes(u)),a=[],c=[];return(0,XU.chunk)(o,256).forEach((u,l)=>{const d=t-l,[y]=(0,Nj.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:d});a.push({publicKey:y,addresses:u}),c.push(...xDt(n,(0,Nj.createEmptyLut)(n,{recentSlot:d}),y,s,u))}),[c,a]};QL.createLutForTransactionBuilder=EDt;function xDt(n,e,t,r,s){const i=[];let o=[],a=e;return s.forEach(c=>{const u=e.add((0,Nj.extendLut)(n,{address:t,addresses:[...o,c],authority:r}));u.fitsInOneTransaction(n)?(o.push(c),a=u):(o=[c],i.push(a),e=e.empty(),a=e)}),o.length>0&&i.push(a),i}var qz={};Object.defineProperty(qz,"__esModule",{value:!0});qz.createMint=void 0;const Xpe=Z,QU=hm;function TDt(n,e){return(0,Xpe.transactionBuilder)().add((0,QU.createAccountWithRent)(n,{newAccount:e.mint,space:(0,QU.getMintSize)(),programId:n.programs.get("splToken").publicKey})).add((0,QU.initializeMint2)(n,{mint:e.mint.publicKey,decimals:e.decimals??0,mintAuthority:e.mintAuthority??n.identity.publicKey,freezeAuthority:e.freezeAuthority===void 0?(0,Xpe.some)(n.identity.publicKey):e.freezeAuthority}))}qz.createMint=TDt;var e5={};Object.defineProperty(e5,"__esModule",{value:!0});e5.createMintWithAssociatedToken=void 0;const e7=Z,RDt=qz,Qpe=hm,CDt=rR;function MDt(n,e){const t={mint:e.mint.publicKey,owner:e.owner??n.identity.publicKey},r=e.amount??0;let s=(0,e7.transactionBuilder)().add((0,RDt.createMint)(n,{...e,mintAuthority:e.mintAuthority?(0,e7.publicKey)(e.mintAuthority,!1):void 0})).add((0,Qpe.createAssociatedToken)(n,t));return r>0&&(s=s.add((0,Qpe.mintTokensTo)(n,{amount:r,mint:e.mint.publicKey,token:(0,CDt.findAssociatedTokenPda)(n,t),mintAuthority:e.mintAuthority&&(0,e7.isSigner)(e.mintAuthority)?e.mintAuthority:void 0}))),s}e5.createMintWithAssociatedToken=MDt;var t5={};Object.defineProperty(t5,"__esModule",{value:!0});t5.createToken=void 0;const BDt=Z,t7=hm;function zDt(n,e){return(0,BDt.transactionBuilder)().add((0,t7.createAccountWithRent)(n,{newAccount:e.token,space:(0,t7.getTokenSize)(),programId:n.programs.get("splToken").publicKey})).add((0,t7.initializeToken3)(n,{account:e.token.publicKey,mint:e.mint,owner:e.owner??n.identity.publicKey}))}t5.createToken=zDt;var t$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchTokensByOwnerAndMint=n.fetchTokensByOwner=n.fetchAllMintByOwner=n.fetchAllMintPublicKeyByOwner=n.fetchAllTokenByOwnerAndMint=n.fetchAllTokenByOwner=void 0;const e=Z,t=q,r=hm,s=async(u,l,d,y={})=>{const h=u.programs.get("splToken").publicKey,m=y.mint?{mint:y.mint}:{programId:h};return(await u.rpc.call("getTokenAccountsByOwner",[l,m],{...y,extra:{encoding:"base64"}})).value.filter(({account:g})=>{const b=t.base64.serialize(g.data[0]),S=(0,t.u64)().deserialize(b.slice(64,72))[0];return d(S)})},i=async(u,l,d={})=>{const{mint:y,tokenStrategy:h="getProgramAccounts",tokenAmountFilter:m=b=>b>0,...f}=d;if(h==="getTokenAccountsByOwner")return(await s(u,l,m,{mint:y,...f})).map(({pubkey:S,account:p})=>(0,r.deserializeToken)({...p,data:t.base64.serialize(p.data[0]),publicKey:(0,e.publicKey)(S),owner:(0,e.publicKey)(p.owner),lamports:(0,e.lamports)(p.lamports)}));let g=(0,r.getTokenGpaBuilder)(u).whereField("owner",l);return y&&(g=g.whereField("mint",y)),(await g.get()).filter(b=>{const S=(0,t.u64)().deserialize(b.data.slice(64,72))[0];return m(S)}).map(b=>(0,r.deserializeToken)(b))};n.fetchAllTokenByOwner=i;const o=(u,l,d,y={})=>(0,n.fetchAllTokenByOwner)(u,l,{...y,mint:d});n.fetchAllTokenByOwnerAndMint=o;const a=async(u,l,d={})=>{const{tokenStrategy:y="getProgramAccounts",tokenAmountFilter:h=f=>f>0,...m}=d;return y==="getTokenAccountsByOwner"?(await s(u,l,h,m)).map(({account:g})=>(0,e.publicKey)(t.base64.serialize(g.data[0]).slice(0,32))):(await(0,r.getTokenGpaBuilder)(u).slice(0,72).whereField("owner",l).get()).filter(f=>{const g=(0,t.u64)().deserialize(f.data.slice(64,72))[0];return h(g)}).map(f=>(0,e.publicKey)(f.data.slice(0,32)))};n.fetchAllMintPublicKeyByOwner=a;const c=async(u,l,d={})=>{const{tokenStrategy:y,tokenAmountFilter:h,...m}=d,f=await(0,n.fetchAllMintPublicKeyByOwner)(u,l,d);return(0,r.fetchAllMint)(u,f,m)};n.fetchAllMintByOwner=c,n.fetchTokensByOwner=n.fetchAllTokenByOwner,n.fetchTokensByOwnerAndMint=n.fetchAllTokenByOwnerAndMint})(t$e);var r5={};Object.defineProperty(r5,"__esModule",{value:!0});r5.findLargestTokensByMint=void 0;const ebe=Z,$Dt=async(n,e,t={})=>(await n.rpc.call("getTokenLargestAccounts",[e],t)).value.map(({address:s,amount:i,decimals:o})=>({publicKey:(0,ebe.publicKey)(s),amount:(0,ebe.createAmount)(i,"splToken",o)}));r5.findLargestTokensByMint=$Dt;var r$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.mplEssentials=n.mplToolbox=void 0;const e=Z,t=hm,r=()=>({install(s){s.programs.add((0,t.createSplSystemProgram)(),!1),s.programs.add((0,t.createSplMemoProgram)(),!1),s.programs.add((0,t.createSplTokenProgram)(),!1),s.programs.add((0,t.createSplAssociatedTokenProgram)(),!1),s.programs.add((0,t.createSplAddressLookupTableProgram)(),!1),s.programs.add((0,t.createMplSystemExtrasProgram)(),!1),s.programs.add((0,t.createMplTokenExtrasProgram)(),!1),s.programs.add({...(0,t.createSplTokenProgram)(),name:"splToken2022",publicKey:(0,e.publicKey)("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")},!1)}});n.mplToolbox=r,n.mplEssentials=n.mplToolbox})(r$e);var n5={};Object.defineProperty(n5,"__esModule",{value:!0});n5.getSysvar=void 0;const Hd=Z,DDt=n=>{switch(n){case"clock":return(0,Hd.publicKey)("SysvarC1ock11111111111111111111111111111111");case"epochSchedule":return(0,Hd.publicKey)("SysvarEpochSchedu1e111111111111111111111111");case"instructions":return(0,Hd.publicKey)("Sysvar1nstructions1111111111111111111111111");case"recentBlockhashes":return(0,Hd.publicKey)("SysvarRecentB1ockHashes11111111111111111111");case"rent":return(0,Hd.publicKey)("SysvarRent111111111111111111111111111111111");case"rewards":return(0,Hd.publicKey)("SysvarRewards111111111111111111111111111111");case"slotHashes":return(0,Hd.publicKey)("SysvarS1otHashes111111111111111111111111111");case"slotHistory":return(0,Hd.publicKey)("SysvarS1otHistory11111111111111111111111111");case"stakeHistory":return(0,Hd.publicKey)("SysvarStakeHistory1111111111111111111111111");default:throw new Hd.SdkError(`Unknown sysvar: ${n}`)}};n5.getSysvar=DDt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(hm,n),t(rR,n),t(XL,n),t(QL,n),t(qz,n),t(e5,n),t(t5,n),t(t$e,n),t(r5,n),t(r$e,n),t(n5,n)})(Gs);var s5={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isProgrammable=n.isNonFungible=n.isFungible=n.deserializeDigitalAsset=n.fetchAllMetadataByOwner=n.fetchAllDigitalAssetByOwner=n.fetchAllDigitalAssetByUpdateAuthority=n.fetchAllDigitalAssetByVerifiedCollection=n.fetchAllDigitalAssetByCreator=n.fetchAllDigitalAsset=n.fetchDigitalAssetByMetadata=n.fetchDigitalAsset=void 0;const e=Gs,t=Z,r=Nb,s=Wb,i=326,o=34,a=[366,400,434,468,502],c=1,u=2;async function l(w,_,P){const[M]=(0,s.findMetadataPda)(w,{mint:_}),[E]=(0,s.findMasterEditionPda)(w,{mint:_}),[T,z,O]=await w.rpc.getAccounts([_,M,E],P);return(0,t.assertAccountExists)(T,"Mint"),(0,t.assertAccountExists)(z,"Metadata"),S(T,z,O.exists?O:void 0)}n.fetchDigitalAsset=l;async function d(w,_,P){const M=await(0,s.fetchMetadata)(w,_,P);return l(w,M.mint,P)}n.fetchDigitalAssetByMetadata=d;async function y(w,_,P){const M=_.flatMap(T=>[T,(0,s.findMetadataPda)(w,{mint:T})[0],(0,s.findMasterEditionPda)(w,{mint:T})[0]]),E=await w.rpc.getAccounts(M,P);return(0,t.chunk)(E,3).flatMap(([T,z,O])=>{try{return(0,t.assertAccountExists)(T,"Mint"),(0,t.assertAccountExists)(z,"Metadata"),[S(T,z,O.exists?O:void 0)]}catch{return[]}})}n.fetchAllDigitalAsset=y;async function h(w,_,P){const M=((P==null?void 0:P.position)??1)-1,E=await(0,s.getMetadataGpaBuilder)(w).where(i+M*o,_).sliceField("mint").getDataAsPublicKeys();return y(w,E,P)}n.fetchAllDigitalAssetByCreator=h;async function m(w,_,P){const M=await Promise.all(a.map(async E=>(0,s.getMetadataGpaBuilder)(w).where(E,1).where(E+c,1).where(E+u,_).sliceField("mint").getDataAsPublicKeys()));return y(w,M.flat(),P)}n.fetchAllDigitalAssetByVerifiedCollection=m;async function f(w,_,P){const M=await(0,s.getMetadataGpaBuilder)(w).whereField("updateAuthority",_).sliceField("mint").getDataAsPublicKeys();return y(w,M,P)}n.fetchAllDigitalAssetByUpdateAuthority=f;async function g(w,_,P){const M=await(0,e.fetchAllMintPublicKeyByOwner)(w,_,P);return y(w,M,P)}n.fetchAllDigitalAssetByOwner=g;async function b(w,_,P){const E=(await(0,e.fetchAllMintPublicKeyByOwner)(w,_,P)).map(z=>(0,s.findMetadataPda)(w,{mint:z})[0]);return(await w.rpc.getAccounts(E,P)).flatMap(z=>{try{return(0,t.assertAccountExists)(z,"Metadata"),[(0,s.deserializeMetadata)(z)]}catch{return[]}})}n.fetchAllMetadataByOwner=b;function S(w,_,P){const M=(0,e.deserializeMint)(w),E=(0,s.deserializeMetadata)(_),T=(0,t.unwrapOption)(E.tokenStandard);if(T&&(0,n.isNonFungible)(T)&&!P)throw new Error("Edition account must be provided for non-fungible assets.");const z={publicKey:M.publicKey,mint:M,metadata:E};if(!P)return z;const O=(0,s.getKeySerializer)().deserialize(P.data)[0];let R;if(O===s.Key.MasterEditionV1||O===s.Key.MasterEditionV2)R={isOriginal:!0,...(0,s.deserializeMasterEdition)(P)};else if(O===s.Key.EditionV1)R={isOriginal:!1,...(0,s.deserializeEdition)(P)};else throw new r.TokenMetadataError(`Invalid key "${O}" for edition account.`);return{...z,edition:R}}n.deserializeDigitalAsset=S;const p=w=>w===s.TokenStandard.Fungible||w===s.TokenStandard.FungibleAsset;n.isFungible=p;const I=w=>!(0,n.isFungible)(w);n.isNonFungible=I;const A=w=>w===s.TokenStandard.ProgrammableNonFungible||w===s.TokenStandard.ProgrammableNonFungibleEdition;n.isProgrammable=A})(s5);Object.defineProperty(Ba,"__esModule",{value:!0});Ba.resolveIsNonFungibleOrIsMintSigner=Ba.resolveOptionalTokenOwner=Ba.resolveCreateV1Bytes=Ba.resolveCreators=Ba.resolvePrintSupply=Ba.resolveDecimals=Ba.resolveIsNonFungible=Ba.resolveCollectionDetails=void 0;const ODt=Gs,oh=Z,jz=s5,tm=Wb,KDt=607,LDt=20,WDt=(n,e,t,...r)=>t.isCollection?(0,oh.some)((0,tm.collectionDetails)("V2",{padding:new Array(8).fill(0)})):(0,oh.none)();Ba.resolveCollectionDetails=WDt;const NDt=(n,e,t,...r)=>(0,jz.isNonFungible)((0,tm.expectSome)(t.tokenStandard));Ba.resolveIsNonFungible=NDt;const FDt=(n,e,t,...r)=>(0,jz.isNonFungible)((0,tm.expectSome)(t.tokenStandard))?(0,oh.none)():(0,oh.some)(0);Ba.resolveDecimals=FDt;const UDt=(n,e,t,...r)=>(0,jz.isNonFungible)((0,tm.expectSome)(t.tokenStandard))?(0,oh.some)((0,tm.printSupply)("Zero")):(0,oh.none)();Ba.resolvePrintSupply=UDt;const VDt=(n,e,...t)=>(0,oh.some)([{address:(0,tm.expectPublicKey)(e.authority.value),share:100,verified:!0}]);Ba.resolveCreators=VDt;const qDt=(n,e,t,...r)=>{const s=(0,ODt.getMintSize)()+KDt+2*oh.ACCOUNT_HEADER_SIZE;return(0,jz.isNonFungible)((0,tm.expectSome)(t.tokenStandard))?s+LDt+oh.ACCOUNT_HEADER_SIZE:s};Ba.resolveCreateV1Bytes=qDt;const jDt=(n,e,...t)=>e.token.value?{value:null}:{value:n.identity.publicKey};Ba.resolveOptionalTokenOwner=jDt;const HDt=(n,e,t,...r)=>(0,jz.isNonFungible)((0,tm.expectSome)(t.tokenStandard))||(0,oh.isSigner)((0,tm.expectSome)(e.mint.value));Ba.resolveIsNonFungibleOrIsMintSigner=HDt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(FL,n),t(UL,n),t(VL,n),t(Ba,n)})(an);Object.defineProperty(ai,"__esModule",{value:!0});ai.safeFetchHolderDelegateRecordFromSeeds=ai.fetchHolderDelegateRecordFromSeeds=ai.findHolderDelegateRecordPda=ai.getHolderDelegateRecordSize=ai.getHolderDelegateRecordGpaBuilder=ai.safeFetchAllHolderDelegateRecord=ai.fetchAllHolderDelegateRecord=ai.safeFetchHolderDelegateRecord=ai.fetchHolderDelegateRecord=ai.deserializeHolderDelegateRecord=ai.getHolderDelegateRecordAccountDataSerializer=void 0;const Ab=Z,ku=q,GDt=an,n$e=lt;function s$e(){return(0,ku.struct)([["key",(0,n$e.getKeySerializer)()],["bump",(0,ku.u8)()],["mint",(0,ku.publicKey)()],["delegate",(0,ku.publicKey)()],["updateAuthority",(0,ku.publicKey)()]],{description:"HolderDelegateRecordAccountData"})}ai.getHolderDelegateRecordAccountDataSerializer=s$e;function nR(n){return(0,Ab.deserializeAccount)(n,s$e())}ai.deserializeHolderDelegateRecord=nR;async function i$e(n,e,t){const r=await n.rpc.getAccount((0,Ab.publicKey)(e,!1),t);return(0,Ab.assertAccountExists)(r,"HolderDelegateRecord"),nR(r)}ai.fetchHolderDelegateRecord=i$e;async function o$e(n,e,t){const r=await n.rpc.getAccount((0,Ab.publicKey)(e,!1),t);return r.exists?nR(r):null}ai.safeFetchHolderDelegateRecord=o$e;async function YDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ab.publicKey)(s,!1)),t)).map(s=>((0,Ab.assertAccountExists)(s,"HolderDelegateRecord"),nR(s)))}ai.fetchAllHolderDelegateRecord=YDt;async function ZDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ab.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>nR(s))}ai.safeFetchAllHolderDelegateRecord=ZDt;function JDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Ab.gpaBuilder)(n,e).registerFields({key:[0,(0,n$e.getKeySerializer)()],bump:[1,(0,ku.u8)()],mint:[2,(0,ku.publicKey)()],delegate:[34,(0,ku.publicKey)()],updateAuthority:[66,(0,ku.publicKey)()]}).deserializeUsing(t=>nR(t))}ai.getHolderDelegateRecordGpaBuilder=JDt;function XDt(){return 98}ai.getHolderDelegateRecordSize=XDt;function Hse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,ku.string)({size:"variable"}).serialize("metadata"),(0,ku.publicKey)().serialize(t),(0,ku.publicKey)().serialize(e.mint),(0,GDt.getHolderDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,ku.publicKey)().serialize(e.owner),(0,ku.publicKey)().serialize(e.delegate)])}ai.findHolderDelegateRecordPda=Hse;async function QDt(n,e,t){return i$e(n,Hse(n,e),t)}ai.fetchHolderDelegateRecordFromSeeds=QDt;async function eOt(n,e,t){return o$e(n,Hse(n,e),t)}ai.safeFetchHolderDelegateRecordFromSeeds=eOt;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.safeFetchMasterEditionFromSeeds=Ro.fetchMasterEditionFromSeeds=Ro.findMasterEditionPda=Ro.getMasterEditionGpaBuilder=Ro.safeFetchAllMasterEdition=Ro.fetchAllMasterEdition=Ro.safeFetchMasterEdition=Ro.fetchMasterEdition=Ro.deserializeMasterEdition=Ro.getMasterEditionAccountDataSerializer=void 0;const wb=Z,_l=q,XO=lt;function a$e(){return(0,_l.mapSerializer)((0,_l.struct)([["key",(0,XO.getKeySerializer)()],["supply",(0,_l.u64)()],["maxSupply",(0,_l.option)((0,_l.u64)())]],{description:"MasterEditionAccountData"}),n=>({...n,key:XO.Key.MasterEditionV2}))}Ro.getMasterEditionAccountDataSerializer=a$e;function sR(n){return(0,wb.deserializeAccount)(n,a$e())}Ro.deserializeMasterEdition=sR;async function c$e(n,e,t){const r=await n.rpc.getAccount((0,wb.publicKey)(e,!1),t);return(0,wb.assertAccountExists)(r,"MasterEdition"),sR(r)}Ro.fetchMasterEdition=c$e;async function u$e(n,e,t){const r=await n.rpc.getAccount((0,wb.publicKey)(e,!1),t);return r.exists?sR(r):null}Ro.safeFetchMasterEdition=u$e;async function tOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,wb.publicKey)(s,!1)),t)).map(s=>((0,wb.assertAccountExists)(s,"MasterEdition"),sR(s)))}Ro.fetchAllMasterEdition=tOt;async function rOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,wb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>sR(s))}Ro.safeFetchAllMasterEdition=rOt;function nOt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,wb.gpaBuilder)(n,e).registerFields({key:[0,(0,XO.getKeySerializer)()],supply:[1,(0,_l.u64)()],maxSupply:[9,(0,_l.option)((0,_l.u64)())]}).deserializeUsing(t=>sR(t)).whereField("key",XO.Key.MasterEditionV2)}Ro.getMasterEditionGpaBuilder=nOt;function Gse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,_l.string)({size:"variable"}).serialize("metadata"),(0,_l.publicKey)().serialize(t),(0,_l.publicKey)().serialize(e.mint),(0,_l.string)({size:"variable"}).serialize("edition")])}Ro.findMasterEditionPda=Gse;async function sOt(n,e,t){return c$e(n,Gse(n,e),t)}Ro.fetchMasterEditionFromSeeds=sOt;async function iOt(n,e,t){return u$e(n,Gse(n,e),t)}Ro.safeFetchMasterEditionFromSeeds=iOt;var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.safeFetchMetadataFromSeeds=Co.fetchMetadataFromSeeds=Co.findMetadataPda=Co.getMetadataGpaBuilder=Co.safeFetchAllMetadata=Co.fetchAllMetadata=Co.safeFetchMetadata=Co.fetchMetadata=Co.deserializeMetadata=Co.getMetadataAccountDataSerializer=void 0;const Ib=Z,dn=q,bc=lt;function l$e(){return(0,dn.mapSerializer)((0,dn.struct)([["key",(0,bc.getKeySerializer)()],["updateAuthority",(0,dn.publicKey)()],["mint",(0,dn.publicKey)()],["name",(0,dn.string)()],["symbol",(0,dn.string)()],["uri",(0,dn.string)()],["sellerFeeBasisPoints",(0,dn.u16)()],["creators",(0,dn.option)((0,dn.array)((0,bc.getCreatorSerializer)()))],["primarySaleHappened",(0,dn.bool)()],["isMutable",(0,dn.bool)()],["editionNonce",(0,dn.option)((0,dn.u8)())],["tokenStandard",(0,dn.option)((0,bc.getTokenStandardSerializer)())],["collection",(0,dn.option)((0,bc.getCollectionSerializer)())],["uses",(0,dn.option)((0,bc.getUsesSerializer)())],["collectionDetails",(0,dn.option)((0,bc.getCollectionDetailsSerializer)())],["programmableConfig",(0,dn.option)((0,bc.getProgrammableConfigSerializer)())]],{description:"MetadataAccountData"}),n=>({...n,key:bc.Key.MetadataV1}))}Co.getMetadataAccountDataSerializer=l$e;function iR(n){return(0,Ib.deserializeAccount)(n,l$e())}Co.deserializeMetadata=iR;async function d$e(n,e,t){const r=await n.rpc.getAccount((0,Ib.publicKey)(e,!1),t);return(0,Ib.assertAccountExists)(r,"Metadata"),iR(r)}Co.fetchMetadata=d$e;async function f$e(n,e,t){const r=await n.rpc.getAccount((0,Ib.publicKey)(e,!1),t);return r.exists?iR(r):null}Co.safeFetchMetadata=f$e;async function oOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ib.publicKey)(s,!1)),t)).map(s=>((0,Ib.assertAccountExists)(s,"Metadata"),iR(s)))}Co.fetchAllMetadata=oOt;async function aOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ib.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>iR(s))}Co.safeFetchAllMetadata=aOt;function cOt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Ib.gpaBuilder)(n,e).registerFields({key:[0,(0,bc.getKeySerializer)()],updateAuthority:[1,(0,dn.publicKey)()],mint:[33,(0,dn.publicKey)()],name:[65,(0,dn.string)()],symbol:[null,(0,dn.string)()],uri:[null,(0,dn.string)()],sellerFeeBasisPoints:[null,(0,dn.u16)()],creators:[null,(0,dn.option)((0,dn.array)((0,bc.getCreatorSerializer)()))],primarySaleHappened:[null,(0,dn.bool)()],isMutable:[null,(0,dn.bool)()],editionNonce:[null,(0,dn.option)((0,dn.u8)())],tokenStandard:[null,(0,dn.option)((0,bc.getTokenStandardSerializer)())],collection:[null,(0,dn.option)((0,bc.getCollectionSerializer)())],uses:[null,(0,dn.option)((0,bc.getUsesSerializer)())],collectionDetails:[null,(0,dn.option)((0,bc.getCollectionDetailsSerializer)())],programmableConfig:[null,(0,dn.option)((0,bc.getProgrammableConfigSerializer)())]}).deserializeUsing(t=>iR(t)).whereField("key",bc.Key.MetadataV1)}Co.getMetadataGpaBuilder=cOt;function Yse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,dn.string)({size:"variable"}).serialize("metadata"),(0,dn.publicKey)().serialize(t),(0,dn.publicKey)().serialize(e.mint)])}Co.findMetadataPda=Yse;async function uOt(n,e,t){return d$e(n,Yse(n,e),t)}Co.fetchMetadataFromSeeds=uOt;async function lOt(n,e,t){return f$e(n,Yse(n,e),t)}Co.safeFetchMetadataFromSeeds=lOt;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.safeFetchMetadataDelegateRecordFromSeeds=ci.fetchMetadataDelegateRecordFromSeeds=ci.findMetadataDelegateRecordPda=ci.getMetadataDelegateRecordSize=ci.getMetadataDelegateRecordGpaBuilder=ci.safeFetchAllMetadataDelegateRecord=ci.fetchAllMetadataDelegateRecord=ci.safeFetchMetadataDelegateRecord=ci.fetchMetadataDelegateRecord=ci.deserializeMetadataDelegateRecord=ci.getMetadataDelegateRecordAccountDataSerializer=void 0;const _b=Z,vu=q,dOt=an,h$e=lt;function g$e(){return(0,vu.struct)([["key",(0,h$e.getKeySerializer)()],["bump",(0,vu.u8)()],["mint",(0,vu.publicKey)()],["delegate",(0,vu.publicKey)()],["updateAuthority",(0,vu.publicKey)()]],{description:"MetadataDelegateRecordAccountData"})}ci.getMetadataDelegateRecordAccountDataSerializer=g$e;function oR(n){return(0,_b.deserializeAccount)(n,g$e())}ci.deserializeMetadataDelegateRecord=oR;async function m$e(n,e,t){const r=await n.rpc.getAccount((0,_b.publicKey)(e,!1),t);return(0,_b.assertAccountExists)(r,"MetadataDelegateRecord"),oR(r)}ci.fetchMetadataDelegateRecord=m$e;async function y$e(n,e,t){const r=await n.rpc.getAccount((0,_b.publicKey)(e,!1),t);return r.exists?oR(r):null}ci.safeFetchMetadataDelegateRecord=y$e;async function fOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,_b.publicKey)(s,!1)),t)).map(s=>((0,_b.assertAccountExists)(s,"MetadataDelegateRecord"),oR(s)))}ci.fetchAllMetadataDelegateRecord=fOt;async function hOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,_b.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>oR(s))}ci.safeFetchAllMetadataDelegateRecord=hOt;function gOt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,_b.gpaBuilder)(n,e).registerFields({key:[0,(0,h$e.getKeySerializer)()],bump:[1,(0,vu.u8)()],mint:[2,(0,vu.publicKey)()],delegate:[34,(0,vu.publicKey)()],updateAuthority:[66,(0,vu.publicKey)()]}).deserializeUsing(t=>oR(t))}ci.getMetadataDelegateRecordGpaBuilder=gOt;function mOt(){return 98}ci.getMetadataDelegateRecordSize=mOt;function Zse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,vu.string)({size:"variable"}).serialize("metadata"),(0,vu.publicKey)().serialize(t),(0,vu.publicKey)().serialize(e.mint),(0,dOt.getMetadataDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,vu.publicKey)().serialize(e.updateAuthority),(0,vu.publicKey)().serialize(e.delegate)])}ci.findMetadataDelegateRecordPda=Zse;async function yOt(n,e,t){return m$e(n,Zse(n,e),t)}ci.fetchMetadataDelegateRecordFromSeeds=yOt;async function pOt(n,e,t){return y$e(n,Zse(n,e),t)}ci.safeFetchMetadataDelegateRecordFromSeeds=pOt;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.getTokenOwnedEscrowGpaBuilder=wc.safeFetchAllTokenOwnedEscrow=wc.fetchAllTokenOwnedEscrow=wc.safeFetchTokenOwnedEscrow=wc.fetchTokenOwnedEscrow=wc.deserializeTokenOwnedEscrow=wc.getTokenOwnedEscrowAccountDataSerializer=void 0;const Pb=Z,$v=q,hA=lt;function p$e(){return(0,$v.mapSerializer)((0,$v.struct)([["key",(0,hA.getKeySerializer)()],["baseToken",(0,$v.publicKey)()],["authority",(0,hA.getEscrowAuthoritySerializer)()],["bump",(0,$v.u8)()]],{description:"TokenOwnedEscrowAccountData"}),n=>({...n,key:hA.Key.TokenOwnedEscrow}))}wc.getTokenOwnedEscrowAccountDataSerializer=p$e;function aR(n){return(0,Pb.deserializeAccount)(n,p$e())}wc.deserializeTokenOwnedEscrow=aR;async function bOt(n,e,t){const r=await n.rpc.getAccount((0,Pb.publicKey)(e,!1),t);return(0,Pb.assertAccountExists)(r,"TokenOwnedEscrow"),aR(r)}wc.fetchTokenOwnedEscrow=bOt;async function SOt(n,e,t){const r=await n.rpc.getAccount((0,Pb.publicKey)(e,!1),t);return r.exists?aR(r):null}wc.safeFetchTokenOwnedEscrow=SOt;async function kOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Pb.publicKey)(s,!1)),t)).map(s=>((0,Pb.assertAccountExists)(s,"TokenOwnedEscrow"),aR(s)))}wc.fetchAllTokenOwnedEscrow=kOt;async function vOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Pb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>aR(s))}wc.safeFetchAllTokenOwnedEscrow=vOt;function AOt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Pb.gpaBuilder)(n,e).registerFields({key:[0,(0,hA.getKeySerializer)()],baseToken:[1,(0,$v.publicKey)()],authority:[33,(0,hA.getEscrowAuthoritySerializer)()],bump:[null,(0,$v.u8)()]}).deserializeUsing(t=>aR(t)).whereField("key",hA.Key.TokenOwnedEscrow)}wc.getTokenOwnedEscrowGpaBuilder=AOt;var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.safeFetchTokenRecordFromSeeds=ui.fetchTokenRecordFromSeeds=ui.findTokenRecordPda=ui.getTokenRecordSize=ui.getTokenRecordGpaBuilder=ui.safeFetchAllTokenRecord=ui.fetchAllTokenRecord=ui.safeFetchTokenRecord=ui.fetchTokenRecord=ui.deserializeTokenRecord=ui.getTokenRecordAccountDataSerializer=void 0;const Eb=Z,Ai=q,Dy=lt;function b$e(){return(0,Ai.mapSerializer)((0,Ai.struct)([["key",(0,Dy.getKeySerializer)()],["bump",(0,Ai.u8)()],["state",(0,Dy.getTokenStateSerializer)()],["ruleSetRevision",(0,Ai.option)((0,Ai.u64)())],["delegate",(0,Ai.option)((0,Ai.publicKey)())],["delegateRole",(0,Ai.option)((0,Dy.getTokenDelegateRoleSerializer)())],["lockedTransfer",(0,Ai.option)((0,Ai.publicKey)())]],{description:"TokenRecordAccountData"}),n=>({...n,key:Dy.Key.TokenRecord}))}ui.getTokenRecordAccountDataSerializer=b$e;function cR(n){return(0,Eb.deserializeAccount)(n,b$e())}ui.deserializeTokenRecord=cR;async function S$e(n,e,t){const r=await n.rpc.getAccount((0,Eb.publicKey)(e,!1),t);return(0,Eb.assertAccountExists)(r,"TokenRecord"),cR(r)}ui.fetchTokenRecord=S$e;async function k$e(n,e,t){const r=await n.rpc.getAccount((0,Eb.publicKey)(e,!1),t);return r.exists?cR(r):null}ui.safeFetchTokenRecord=k$e;async function wOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Eb.publicKey)(s,!1)),t)).map(s=>((0,Eb.assertAccountExists)(s,"TokenRecord"),cR(s)))}ui.fetchAllTokenRecord=wOt;async function IOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Eb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>cR(s))}ui.safeFetchAllTokenRecord=IOt;function _Ot(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Eb.gpaBuilder)(n,e).registerFields({key:[0,(0,Dy.getKeySerializer)()],bump:[1,(0,Ai.u8)()],state:[2,(0,Dy.getTokenStateSerializer)()],ruleSetRevision:[3,(0,Ai.option)((0,Ai.u64)())],delegate:[null,(0,Ai.option)((0,Ai.publicKey)())],delegateRole:[null,(0,Ai.option)((0,Dy.getTokenDelegateRoleSerializer)())],lockedTransfer:[null,(0,Ai.option)((0,Ai.publicKey)())]}).deserializeUsing(t=>cR(t)).whereField("key",Dy.Key.TokenRecord)}ui.getTokenRecordGpaBuilder=_Ot;function POt(){return 80}ui.getTokenRecordSize=POt;function Jse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ai.string)({size:"variable"}).serialize("metadata"),(0,Ai.publicKey)().serialize(t),(0,Ai.publicKey)().serialize(e.mint),(0,Ai.string)({size:"variable"}).serialize("token_record"),(0,Ai.publicKey)().serialize(e.token)])}ui.findTokenRecordPda=Jse;async function EOt(n,e,t){return S$e(n,Jse(n,e),t)}ui.fetchTokenRecordFromSeeds=EOt;async function xOt(n,e,t){return k$e(n,Jse(n,e),t)}ui.safeFetchTokenRecordFromSeeds=xOt;var li={};Object.defineProperty(li,"__esModule",{value:!0});li.safeFetchUseAuthorityRecordFromSeeds=li.fetchUseAuthorityRecordFromSeeds=li.findUseAuthorityRecordPda=li.getUseAuthorityRecordSize=li.getUseAuthorityRecordGpaBuilder=li.safeFetchAllUseAuthorityRecord=li.fetchAllUseAuthorityRecord=li.safeFetchUseAuthorityRecord=li.fetchUseAuthorityRecord=li.deserializeUseAuthorityRecord=li.getUseAuthorityRecordAccountDataSerializer=void 0;const xb=Z,rd=q,QO=lt;function v$e(){return(0,rd.mapSerializer)((0,rd.struct)([["key",(0,QO.getKeySerializer)()],["allowedUses",(0,rd.u64)()],["bump",(0,rd.u8)()]],{description:"UseAuthorityRecordAccountData"}),n=>({...n,key:QO.Key.UseAuthorityRecord}))}li.getUseAuthorityRecordAccountDataSerializer=v$e;function uR(n){return(0,xb.deserializeAccount)(n,v$e())}li.deserializeUseAuthorityRecord=uR;async function A$e(n,e,t){const r=await n.rpc.getAccount((0,xb.publicKey)(e,!1),t);return(0,xb.assertAccountExists)(r,"UseAuthorityRecord"),uR(r)}li.fetchUseAuthorityRecord=A$e;async function w$e(n,e,t){const r=await n.rpc.getAccount((0,xb.publicKey)(e,!1),t);return r.exists?uR(r):null}li.safeFetchUseAuthorityRecord=w$e;async function TOt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,xb.publicKey)(s,!1)),t)).map(s=>((0,xb.assertAccountExists)(s,"UseAuthorityRecord"),uR(s)))}li.fetchAllUseAuthorityRecord=TOt;async function ROt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,xb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>uR(s))}li.safeFetchAllUseAuthorityRecord=ROt;function COt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,xb.gpaBuilder)(n,e).registerFields({key:[0,(0,QO.getKeySerializer)()],allowedUses:[1,(0,rd.u64)()],bump:[9,(0,rd.u8)()]}).deserializeUsing(t=>uR(t)).whereField("key",QO.Key.UseAuthorityRecord)}li.getUseAuthorityRecordGpaBuilder=COt;function MOt(){return 10}li.getUseAuthorityRecordSize=MOt;function Xse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,rd.string)({size:"variable"}).serialize("metadata"),(0,rd.publicKey)().serialize(t),(0,rd.publicKey)().serialize(e.mint),(0,rd.string)({size:"variable"}).serialize("user"),(0,rd.publicKey)().serialize(e.useAuthority)])}li.findUseAuthorityRecordPda=Xse;async function BOt(n,e,t){return A$e(n,Xse(n,e),t)}li.fetchUseAuthorityRecordFromSeeds=BOt;async function zOt(n,e,t){return w$e(n,Xse(n,e),t)}li.safeFetchUseAuthorityRecordFromSeeds=zOt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(_o,n),t(Po,n),t(Ma,n),t(oi,n),t(Eo,n),t(ai,n),t(Ro,n),t(Co,n),t(ci,n),t(wc,n),t(ui,n),t(li,n)})(Nt);var Qse={},j={};Object.defineProperty(j,"__esModule",{value:!0});j.ReservationAlreadyMadeError=j.ReservationNotSetError=j.ReservationDoesNotExistError=j.ReservationExistsError=j.ShareTotalMustBe100Error=j.NoBalanceInAccountForAuthorizationError=j.OwnerMismatchError=j.PrimarySaleCanOnlyBeFlippedToTrueError=j.InvalidBasisPointsError=j.CreatorNotFoundError=j.NoCreatorsPresentOnMetadataError=j.MustBeOneOfCreatorsError=j.CreatorsMustBeAtleastOneError=j.CreatorsTooLongError=j.DisabledError=j.AuthorizationTokenAccountOwnerMismatchError=j.PrintingMintAuthorizationAccountMismatchError=j.NotEnoughTokensError=j.TokenAccountMintMismatchV2Error=j.TokenAccountMintMismatchError=j.OneTimePrintingAuthMintMismatchError=j.PrintingMintMismatchError=j.DerivedKeyInvalidError=j.TokenAccountOneTimeAuthMintMismatchError=j.TokenBurnFailedError=j.EditionMintDecimalsShouldBeZeroError=j.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=j.PrintingMintDecimalsShouldBeZeroError=j.EditionAlreadyMintedError=j.DestinationMintMismatchError=j.MasterRecordMismatchError=j.TokenMintToFailedError=j.MaxEditionsMintedAlreadyError=j.EditionsMustHaveExactlyOneTokenError=j.MintMismatchError=j.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=j.UriTooLongError=j.SymbolTooLongError=j.NameTooLongError=j.InvalidMintAuthorityError=j.NotMintAuthorityError=j.UpdateAuthorityIsNotSignerError=j.UpdateAuthorityIncorrectError=j.InvalidEditionKeyError=j.InvalidMetadataKeyError=j.UninitializedError=j.AlreadyInitializedError=j.NotRentExemptError=j.InstructionPackErrorError=j.InstructionUnpackErrorError=void 0;j.RevokeCollectionAuthoritySignerIncorrectError=j.InvalidUserError=j.EditionOverrideCannotBeZeroError=j.NotAllowedToChangeSellerFeeBasisPointsError=j.CannotWipeVerifiedCreatorsError=j.CannotRemoveVerifiedCreatorError=j.CannotAdjustVerifiedCreatorError=j.InvalidDelegateError=j.InvalidFreezeAuthorityError=j.InvalidCollectionAuthorityRecordError=j.InvalidUseAuthorityRecordError=j.CollectionAuthorityDoesNotExistError=j.CollectionAuthorityRecordAlreadyExistsError=j.NotEnoughUsesError=j.UnusableError=j.UseAuthorityRecordAlreadyRevokedError=j.UseAuthorityRecordAlreadyExistsError=j.CollectionMustBeAUniqueMasterEditionError=j.InvalidCollectionUpdateAuthorityError=j.CollectionNotFoundError=j.CannotChangeUsesAfterFirstUseError=j.CannotChangeUseMethodAfterFirstUseError=j.InvalidUseMethodError=j.MustBeBurnedError=j.RemovedError=j.CollectionCannotBeVerifiedInThisInstructionError=j.IsMutableCanOnlyBeFlippedToFalseError=j.ReservationArrayShouldBeSizeOneError=j.InvalidEditionIndexError=j.OneTimeAuthMintSupplyMustBeZeroForConversionError=j.PrintingMintSupplyMustBeZeroForConversionError=j.InvalidOwnerError=j.InvalidOperationError=j.TriedToReplaceAnExistingReservationError=j.ReservationNotCompleteError=j.BeyondAlottedAddressSizeError=j.DataTypeMismatchError=j.InvalidTokenProgramError=j.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=j.DuplicateCreatorAddressError=j.DataIsImmutableError=j.PrintingWouldBreachMaximumSupplyError=j.IncorrectOwnerError=j.SpotMismatchError=j.CannotUnverifyAnotherCreatorError=j.CannotVerifyAnotherCreatorError=j.AddressNotInReservationError=j.ReservationBreachesMaximumSupplyError=j.NumericalOverflowErrorError=j.BeyondMaxAddressSizeError=void 0;j.MissingSplTokenProgramError=j.MissingTokenAccountError=j.OnlySaleDelegateCanTransferError=j.InvalidSystemWalletError=j.FeatureNotSupportedError=j.MissingArgumentInBuilderError=j.MissingAccountInBuilderError=j.DelegateNotFoundError=j.DelegateAlreadyExistsError=j.InvalidProgrammableConfigError=j.MissingProgrammableConfigError=j.MissingAuthorizationRulesError=j.InvalidAuthorizationRulesError=j.InvalidMintForTokenStandardError=j.InvalidTokenStandardError=j.MintIsNotSignerError=j.EscrowParentHasDelegateError=j.InvalidBubblegumSignerError=j.InvalidCollectionSizeChangeError=j.NoFreezeAuthoritySetError=j.BorshSerializationErrorError=j.InsufficientTokensError=j.MustBeNonFungibleError=j.InvalidSystemProgramError=j.MustBeEscrowAuthorityError=j.InvalidEscrowBumpSeedError=j.MustUnverifyError=j.EditionNumberGreaterThanMaxSupplyError=j.PrintEditionDoesNotMatchMasterEditionError=j.ReservationListDeprecatedError=j.InvalidEditionMarkerError=j.InvalidPrintEditionError=j.InvalidMasterEditionError=j.NotAPrintEditionError=j.AlreadyUnverifiedError=j.AlreadyVerifiedError=j.CollectionMasterEditionAccountInvalidError=j.CannotUpdateVerifiedCollectionError=j.BorshDeserializationErrorError=j.MasterEditionHasPrintsError=j.NotAMasterEditionError=j.MissingEditionAccountError=j.CouldNotDetermineTokenStandardError=j.NotACollectionParentError=j.NotVerifiedMemberOfCollectionError=j.NotAMemberOfCollectionError=j.MissingCollectionMetadataError=j.SizedCollectionError=j.UnsizedCollectionError=j.TokenCloseFailedError=void 0;j.ExpectedUninitializedAccountError=j.MissingImmutableOwnerExtensionError=j.InvalidTokenExtensionTypeError=j.InvalidMetadataPointerError=j.InvalidMintCloseAuthorityError=j.InvalidMintExtensionTypeError=j.CannotChangeUpdateAuthorityWithDelegateError=j.InvalidMetadataFlagsError=j.InvalidFeeAccountError=j.MissingDelegateRecordError=j.InvalidInstructionError=j.InvalidCloseAuthorityError=j.InvalidTokenRecordError=j.MissingCollectionMasterEditionError=j.MissingCollectionMintError=j.InsufficientTokenBalanceError=j.InvalidUpdateArgsError=j.InvalidParentAccountsError=j.InvalidInstructionsSysvarError=j.InvalidAssociatedTokenAccountProgramError=j.MissingEditionError=j.CannotBurnWithDelegateError=j.MissingEditionMarkerAccountError=j.MissingMasterEditionTokenAccountError=j.MissingMasterEditionMintAccountError=j.InvalidAmountError=j.CannotUpdateAssetWithDelegateError=j.DataIncrementLimitExceededError=j.InvalidLockedTransferAddressError=j.MissingLockedTransferAddressError=j.InvalidDelegateArgsError=j.AmountMustBeGreaterThanZeroError=j.MissingMasterEditionAccountError=j.MissingPrintSupplyError=j.InvalidDelegateRoleError=j.IncorrectTokenStateError=j.InvalidMasterEditionAccountLengthError=j.MissingTokenOwnerAccountError=j.DataIsEmptyOrZeroedError=j.MintSupplyMustBeZeroError=j.MissingTokenRecordError=j.InvalidAuthorityTypeError=j.MissingDelegateRoleError=j.UnlockedTokenError=j.LockedTokenError=j.KeyMismatchError=j.InstructionNotSupportedError=j.InvalidTransferAuthorityError=j.InvalidDelegateRoleForTransferError=j.MissingAuthorizationRulesProgramError=void 0;j.getMplTokenMetadataErrorFromName=j.getMplTokenMetadataErrorFromCode=j.ConditionsForClosingNotMetError=j.AccountAlreadyResizedError=j.InvalidEditionAccountLengthError=void 0;const ce=Z,oe=new Map,ae=new Map;class eie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionUnpackError",this.code=0}}j.InstructionUnpackErrorError=eie;oe.set(0,eie);ae.set("InstructionUnpackError",eie);class tie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionPackError",this.code=1}}j.InstructionPackErrorError=tie;oe.set(1,tie);ae.set("InstructionPackError",tie);class rie extends ce.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=2}}j.NotRentExemptError=rie;oe.set(2,rie);ae.set("NotRentExempt",rie);class nie extends ce.ProgramError{constructor(e,t){super("Already initialized",e,t),this.name="AlreadyInitialized",this.code=3}}j.AlreadyInitializedError=nie;oe.set(3,nie);ae.set("AlreadyInitialized",nie);class sie extends ce.ProgramError{constructor(e,t){super("Uninitialized",e,t),this.name="Uninitialized",this.code=4}}j.UninitializedError=sie;oe.set(4,sie);ae.set("Uninitialized",sie);class iie extends ce.ProgramError{constructor(e,t){super(" Metadata's key must match seed of ['metadata', program id, mint] provided",e,t),this.name="InvalidMetadataKey",this.code=5}}j.InvalidMetadataKeyError=iie;oe.set(5,iie);ae.set("InvalidMetadataKey",iie);class oie extends ce.ProgramError{constructor(e,t){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided",e,t),this.name="InvalidEditionKey",this.code=6}}j.InvalidEditionKeyError=oie;oe.set(6,oie);ae.set("InvalidEditionKey",oie);class aie extends ce.ProgramError{constructor(e,t){super("Update Authority given does not match",e,t),this.name="UpdateAuthorityIncorrect",this.code=7}}j.UpdateAuthorityIncorrectError=aie;oe.set(7,aie);ae.set("UpdateAuthorityIncorrect",aie);class cie extends ce.ProgramError{constructor(e,t){super("Update Authority needs to be signer to update metadata",e,t),this.name="UpdateAuthorityIsNotSigner",this.code=8}}j.UpdateAuthorityIsNotSignerError=cie;oe.set(8,cie);ae.set("UpdateAuthorityIsNotSigner",cie);class uie extends ce.ProgramError{constructor(e,t){super("You must be the mint authority and signer on this transaction",e,t),this.name="NotMintAuthority",this.code=9}}j.NotMintAuthorityError=uie;oe.set(9,uie);ae.set("NotMintAuthority",uie);class lie extends ce.ProgramError{constructor(e,t){super("Mint authority provided does not match the authority on the mint",e,t),this.name="InvalidMintAuthority",this.code=10}}j.InvalidMintAuthorityError=lie;oe.set(10,lie);ae.set("InvalidMintAuthority",lie);class die extends ce.ProgramError{constructor(e,t){super("Name too long",e,t),this.name="NameTooLong",this.code=11}}j.NameTooLongError=die;oe.set(11,die);ae.set("NameTooLong",die);class fie extends ce.ProgramError{constructor(e,t){super("Symbol too long",e,t),this.name="SymbolTooLong",this.code=12}}j.SymbolTooLongError=fie;oe.set(12,fie);ae.set("SymbolTooLong",fie);class hie extends ce.ProgramError{constructor(e,t){super("URI too long",e,t),this.name="UriTooLong",this.code=13}}j.UriTooLongError=hie;oe.set(13,hie);ae.set("UriTooLong",hie);class gie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",this.code=14}}j.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=gie;oe.set(14,gie);ae.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",gie);class mie extends ce.ProgramError{constructor(e,t){super("Mint given does not match mint on Metadata",e,t),this.name="MintMismatch",this.code=15}}j.MintMismatchError=mie;oe.set(15,mie);ae.set("MintMismatch",mie);class yie extends ce.ProgramError{constructor(e,t){super("Editions must have exactly one token",e,t),this.name="EditionsMustHaveExactlyOneToken",this.code=16}}j.EditionsMustHaveExactlyOneTokenError=yie;oe.set(16,yie);ae.set("EditionsMustHaveExactlyOneToken",yie);class pie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MaxEditionsMintedAlready",this.code=17}}j.MaxEditionsMintedAlreadyError=pie;oe.set(17,pie);ae.set("MaxEditionsMintedAlready",pie);class bie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenMintToFailed",this.code=18}}j.TokenMintToFailedError=bie;oe.set(18,bie);ae.set("TokenMintToFailed",bie);class Sie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MasterRecordMismatch",this.code=19}}j.MasterRecordMismatchError=Sie;oe.set(19,Sie);ae.set("MasterRecordMismatch",Sie);class kie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="DestinationMintMismatch",this.code=20}}j.DestinationMintMismatchError=kie;oe.set(20,kie);ae.set("DestinationMintMismatch",kie);class vie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="EditionAlreadyMinted",this.code=21}}j.EditionAlreadyMintedError=vie;oe.set(21,vie);ae.set("EditionAlreadyMinted",vie);class Aie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintDecimalsShouldBeZero",this.code=22}}j.PrintingMintDecimalsShouldBeZeroError=Aie;oe.set(22,Aie);ae.set("PrintingMintDecimalsShouldBeZero",Aie);class wie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",this.code=23}}j.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=wie;oe.set(23,wie);ae.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",wie);class Iie extends ce.ProgramError{constructor(e,t){super("EditionMintDecimalsShouldBeZero",e,t),this.name="EditionMintDecimalsShouldBeZero",this.code=24}}j.EditionMintDecimalsShouldBeZeroError=Iie;oe.set(24,Iie);ae.set("EditionMintDecimalsShouldBeZero",Iie);class _ie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenBurnFailed",this.code=25}}j.TokenBurnFailedError=_ie;oe.set(25,_ie);ae.set("TokenBurnFailed",_ie);class Pie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenAccountOneTimeAuthMintMismatch",this.code=26}}j.TokenAccountOneTimeAuthMintMismatchError=Pie;oe.set(26,Pie);ae.set("TokenAccountOneTimeAuthMintMismatch",Pie);class Eie extends ce.ProgramError{constructor(e,t){super("Derived key invalid",e,t),this.name="DerivedKeyInvalid",this.code=27}}j.DerivedKeyInvalidError=Eie;oe.set(27,Eie);ae.set("DerivedKeyInvalid",Eie);class xie extends ce.ProgramError{constructor(e,t){super("The Printing mint does not match that on the master edition!",e,t),this.name="PrintingMintMismatch",this.code=28}}j.PrintingMintMismatchError=xie;oe.set(28,xie);ae.set("PrintingMintMismatch",xie);class Tie extends ce.ProgramError{constructor(e,t){super("The One Time Printing Auth mint does not match that on the master edition!",e,t),this.name="OneTimePrintingAuthMintMismatch",this.code=29}}j.OneTimePrintingAuthMintMismatchError=Tie;oe.set(29,Tie);ae.set("OneTimePrintingAuthMintMismatch",Tie);class Rie extends ce.ProgramError{constructor(e,t){super("The mint of the token account does not match the Printing mint!",e,t),this.name="TokenAccountMintMismatch",this.code=30}}j.TokenAccountMintMismatchError=Rie;oe.set(30,Rie);ae.set("TokenAccountMintMismatch",Rie);class Cie extends ce.ProgramError{constructor(e,t){super("The mint of the token account does not match the master metadata mint!",e,t),this.name="TokenAccountMintMismatchV2",this.code=31}}j.TokenAccountMintMismatchV2Error=Cie;oe.set(31,Cie);ae.set("TokenAccountMintMismatchV2",Cie);class Mie extends ce.ProgramError{constructor(e,t){super("Not enough tokens to mint a limited edition",e,t),this.name="NotEnoughTokens",this.code=32}}j.NotEnoughTokensError=Mie;oe.set(32,Mie);ae.set("NotEnoughTokens",Mie);class Bie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintAuthorizationAccountMismatch",this.code=33}}j.PrintingMintAuthorizationAccountMismatchError=Bie;oe.set(33,Bie);ae.set("PrintingMintAuthorizationAccountMismatch",Bie);class zie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AuthorizationTokenAccountOwnerMismatch",this.code=34}}j.AuthorizationTokenAccountOwnerMismatchError=zie;oe.set(34,zie);ae.set("AuthorizationTokenAccountOwnerMismatch",zie);class $ie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="Disabled",this.code=35}}j.DisabledError=$ie;oe.set(35,$ie);ae.set("Disabled",$ie);class Die extends ce.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=36}}j.CreatorsTooLongError=Die;oe.set(36,Die);ae.set("CreatorsTooLong",Die);class Oie extends ce.ProgramError{constructor(e,t){super("Creators must be at least one if set",e,t),this.name="CreatorsMustBeAtleastOne",this.code=37}}j.CreatorsMustBeAtleastOneError=Oie;oe.set(37,Oie);ae.set("CreatorsMustBeAtleastOne",Oie);class Kie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeOneOfCreators",this.code=38}}j.MustBeOneOfCreatorsError=Kie;oe.set(38,Kie);ae.set("MustBeOneOfCreators",Kie);class Lie extends ce.ProgramError{constructor(e,t){super("This metadata does not have creators",e,t),this.name="NoCreatorsPresentOnMetadata",this.code=39}}j.NoCreatorsPresentOnMetadataError=Lie;oe.set(39,Lie);ae.set("NoCreatorsPresentOnMetadata",Lie);class Wie extends ce.ProgramError{constructor(e,t){super("This creator address was not found",e,t),this.name="CreatorNotFound",this.code=40}}j.CreatorNotFoundError=Wie;oe.set(40,Wie);ae.set("CreatorNotFound",Wie);class Nie extends ce.ProgramError{constructor(e,t){super("Basis points cannot be more than 10000",e,t),this.name="InvalidBasisPoints",this.code=41}}j.InvalidBasisPointsError=Nie;oe.set(41,Nie);ae.set("InvalidBasisPoints",Nie);class Fie extends ce.ProgramError{constructor(e,t){super("Primary sale can only be flipped to true and is immutable",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=42}}j.PrimarySaleCanOnlyBeFlippedToTrueError=Fie;oe.set(42,Fie);ae.set("PrimarySaleCanOnlyBeFlippedToTrue",Fie);class Uie extends ce.ProgramError{constructor(e,t){super("Owner does not match that on the account given",e,t),this.name="OwnerMismatch",this.code=43}}j.OwnerMismatchError=Uie;oe.set(43,Uie);ae.set("OwnerMismatch",Uie);class Vie extends ce.ProgramError{constructor(e,t){super("This account has no tokens to be used for authorization",e,t),this.name="NoBalanceInAccountForAuthorization",this.code=44}}j.NoBalanceInAccountForAuthorizationError=Vie;oe.set(44,Vie);ae.set("NoBalanceInAccountForAuthorization",Vie);class qie extends ce.ProgramError{constructor(e,t){super("Share total must equal 100 for creator array",e,t),this.name="ShareTotalMustBe100",this.code=45}}j.ShareTotalMustBe100Error=qie;oe.set(45,qie);ae.set("ShareTotalMustBe100",qie);class jie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationExists",this.code=46}}j.ReservationExistsError=jie;oe.set(46,jie);ae.set("ReservationExists",jie);class Hie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationDoesNotExist",this.code=47}}j.ReservationDoesNotExistError=Hie;oe.set(47,Hie);ae.set("ReservationDoesNotExist",Hie);class Gie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotSet",this.code=48}}j.ReservationNotSetError=Gie;oe.set(48,Gie);ae.set("ReservationNotSet",Gie);class Yie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationAlreadyMade",this.code=49}}j.ReservationAlreadyMadeError=Yie;oe.set(49,Yie);ae.set("ReservationAlreadyMade",Yie);class Zie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondMaxAddressSize",this.code=50}}j.BeyondMaxAddressSizeError=Zie;oe.set(50,Zie);ae.set("BeyondMaxAddressSize",Zie);class Jie extends ce.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=51}}j.NumericalOverflowErrorError=Jie;oe.set(51,Jie);ae.set("NumericalOverflowError",Jie);class Xie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationBreachesMaximumSupply",this.code=52}}j.ReservationBreachesMaximumSupplyError=Xie;oe.set(52,Xie);ae.set("ReservationBreachesMaximumSupply",Xie);class Qie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AddressNotInReservation",this.code=53}}j.AddressNotInReservationError=Qie;oe.set(53,Qie);ae.set("AddressNotInReservation",Qie);class eoe extends ce.ProgramError{constructor(e,t){super("You cannot unilaterally verify another creator, they must sign",e,t),this.name="CannotVerifyAnotherCreator",this.code=54}}j.CannotVerifyAnotherCreatorError=eoe;oe.set(54,eoe);ae.set("CannotVerifyAnotherCreator",eoe);class toe extends ce.ProgramError{constructor(e,t){super("You cannot unilaterally unverify another creator",e,t),this.name="CannotUnverifyAnotherCreator",this.code=55}}j.CannotUnverifyAnotherCreatorError=toe;oe.set(55,toe);ae.set("CannotUnverifyAnotherCreator",toe);class roe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="SpotMismatch",this.code=56}}j.SpotMismatchError=roe;oe.set(56,roe);ae.set("SpotMismatch",roe);class noe extends ce.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=57}}j.IncorrectOwnerError=noe;oe.set(57,noe);ae.set("IncorrectOwner",noe);class soe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingWouldBreachMaximumSupply",this.code=58}}j.PrintingWouldBreachMaximumSupplyError=soe;oe.set(58,soe);ae.set("PrintingWouldBreachMaximumSupply",soe);class ioe extends ce.ProgramError{constructor(e,t){super("Data is immutable",e,t),this.name="DataIsImmutable",this.code=59}}j.DataIsImmutableError=ioe;oe.set(59,ioe);ae.set("DataIsImmutable",ioe);class ooe extends ce.ProgramError{constructor(e,t){super("No duplicate creator addresses",e,t),this.name="DuplicateCreatorAddress",this.code=60}}j.DuplicateCreatorAddressError=ooe;oe.set(60,ooe);ae.set("DuplicateCreatorAddress",ooe);class aoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",this.code=61}}j.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=aoe;oe.set(61,aoe);ae.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",aoe);class coe extends ce.ProgramError{constructor(e,t){super("Invalid token program",e,t),this.name="InvalidTokenProgram",this.code=62}}j.InvalidTokenProgramError=coe;oe.set(62,coe);ae.set("InvalidTokenProgram",coe);class uoe extends ce.ProgramError{constructor(e,t){super("Data type mismatch",e,t),this.name="DataTypeMismatch",this.code=63}}j.DataTypeMismatchError=uoe;oe.set(63,uoe);ae.set("DataTypeMismatch",uoe);class loe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondAlottedAddressSize",this.code=64}}j.BeyondAlottedAddressSizeError=loe;oe.set(64,loe);ae.set("BeyondAlottedAddressSize",loe);class doe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotComplete",this.code=65}}j.ReservationNotCompleteError=doe;oe.set(65,doe);ae.set("ReservationNotComplete",doe);class foe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TriedToReplaceAnExistingReservation",this.code=66}}j.TriedToReplaceAnExistingReservationError=foe;oe.set(66,foe);ae.set("TriedToReplaceAnExistingReservation",foe);class hoe extends ce.ProgramError{constructor(e,t){super("Invalid operation",e,t),this.name="InvalidOperation",this.code=67}}j.InvalidOperationError=hoe;oe.set(67,hoe);ae.set("InvalidOperation",hoe);class goe extends ce.ProgramError{constructor(e,t){super("Invalid Owner",e,t),this.name="InvalidOwner",this.code=68}}j.InvalidOwnerError=goe;oe.set(68,goe);ae.set("InvalidOwner",goe);class moe extends ce.ProgramError{constructor(e,t){super("Printing mint supply must be zero for conversion",e,t),this.name="PrintingMintSupplyMustBeZeroForConversion",this.code=69}}j.PrintingMintSupplyMustBeZeroForConversionError=moe;oe.set(69,moe);ae.set("PrintingMintSupplyMustBeZeroForConversion",moe);class yoe extends ce.ProgramError{constructor(e,t){super("One Time Auth mint supply must be zero for conversion",e,t),this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",this.code=70}}j.OneTimeAuthMintSupplyMustBeZeroForConversionError=yoe;oe.set(70,yoe);ae.set("OneTimeAuthMintSupplyMustBeZeroForConversion",yoe);class poe extends ce.ProgramError{constructor(e,t){super("You tried to insert one edition too many into an edition mark pda",e,t),this.name="InvalidEditionIndex",this.code=71}}j.InvalidEditionIndexError=poe;oe.set(71,poe);ae.set("InvalidEditionIndex",poe);class boe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationArrayShouldBeSizeOne",this.code=72}}j.ReservationArrayShouldBeSizeOneError=boe;oe.set(72,boe);ae.set("ReservationArrayShouldBeSizeOne",boe);class Soe extends ce.ProgramError{constructor(e,t){super("Is Mutable can only be flipped to false",e,t),this.name="IsMutableCanOnlyBeFlippedToFalse",this.code=73}}j.IsMutableCanOnlyBeFlippedToFalseError=Soe;oe.set(73,Soe);ae.set("IsMutableCanOnlyBeFlippedToFalse",Soe);class koe extends ce.ProgramError{constructor(e,t){super("Collection cannot be verified in this instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=74}}j.CollectionCannotBeVerifiedInThisInstructionError=koe;oe.set(74,koe);ae.set("CollectionCannotBeVerifiedInThisInstruction",koe);class voe extends ce.ProgramError{constructor(e,t){super("This instruction was deprecated in a previous release and is now removed",e,t),this.name="Removed",this.code=75}}j.RemovedError=voe;oe.set(75,voe);ae.set("Removed",voe);class Aoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeBurned",this.code=76}}j.MustBeBurnedError=Aoe;oe.set(76,Aoe);ae.set("MustBeBurned",Aoe);class woe extends ce.ProgramError{constructor(e,t){super("This use method is invalid",e,t),this.name="InvalidUseMethod",this.code=77}}j.InvalidUseMethodError=woe;oe.set(77,woe);ae.set("InvalidUseMethod",woe);class Ioe extends ce.ProgramError{constructor(e,t){super("Cannot Change Use Method after the first use",e,t),this.name="CannotChangeUseMethodAfterFirstUse",this.code=78}}j.CannotChangeUseMethodAfterFirstUseError=Ioe;oe.set(78,Ioe);ae.set("CannotChangeUseMethodAfterFirstUse",Ioe);class _oe extends ce.ProgramError{constructor(e,t){super("Cannot Change Remaining or Available uses after the first use",e,t),this.name="CannotChangeUsesAfterFirstUse",this.code=79}}j.CannotChangeUsesAfterFirstUseError=_oe;oe.set(79,_oe);ae.set("CannotChangeUsesAfterFirstUse",_oe);class Poe extends ce.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=80}}j.CollectionNotFoundError=Poe;oe.set(80,Poe);ae.set("CollectionNotFound",Poe);class Eoe extends ce.ProgramError{constructor(e,t){super("Collection Update Authority is invalid",e,t),this.name="InvalidCollectionUpdateAuthority",this.code=81}}j.InvalidCollectionUpdateAuthorityError=Eoe;oe.set(81,Eoe);ae.set("InvalidCollectionUpdateAuthority",Eoe);class xoe extends ce.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=82}}j.CollectionMustBeAUniqueMasterEditionError=xoe;oe.set(82,xoe);ae.set("CollectionMustBeAUniqueMasterEdition",xoe);class Toe extends ce.ProgramError{constructor(e,t){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve",e,t),this.name="UseAuthorityRecordAlreadyExists",this.code=83}}j.UseAuthorityRecordAlreadyExistsError=Toe;oe.set(83,Toe);ae.set("UseAuthorityRecordAlreadyExists",Toe);class Roe extends ce.ProgramError{constructor(e,t){super("The Use Authority Record is empty or already revoked",e,t),this.name="UseAuthorityRecordAlreadyRevoked",this.code=84}}j.UseAuthorityRecordAlreadyRevokedError=Roe;oe.set(84,Roe);ae.set("UseAuthorityRecordAlreadyRevoked",Roe);class Coe extends ce.ProgramError{constructor(e,t){super("This token has no uses",e,t),this.name="Unusable",this.code=85}}j.UnusableError=Coe;oe.set(85,Coe);ae.set("Unusable",Coe);class Moe extends ce.ProgramError{constructor(e,t){super("There are not enough Uses left on this token.",e,t),this.name="NotEnoughUses",this.code=86}}j.NotEnoughUsesError=Moe;oe.set(86,Moe);ae.set("NotEnoughUses",Moe);class Boe extends ce.ProgramError{constructor(e,t){super("This Collection Authority Record Already Exists.",e,t),this.name="CollectionAuthorityRecordAlreadyExists",this.code=87}}j.CollectionAuthorityRecordAlreadyExistsError=Boe;oe.set(87,Boe);ae.set("CollectionAuthorityRecordAlreadyExists",Boe);class zoe extends ce.ProgramError{constructor(e,t){super("This Collection Authority Record Does Not Exist.",e,t),this.name="CollectionAuthorityDoesNotExist",this.code=88}}j.CollectionAuthorityDoesNotExistError=zoe;oe.set(88,zoe);ae.set("CollectionAuthorityDoesNotExist",zoe);class $oe extends ce.ProgramError{constructor(e,t){super("This Use Authority Record is invalid.",e,t),this.name="InvalidUseAuthorityRecord",this.code=89}}j.InvalidUseAuthorityRecordError=$oe;oe.set(89,$oe);ae.set("InvalidUseAuthorityRecord",$oe);class Doe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidCollectionAuthorityRecord",this.code=90}}j.InvalidCollectionAuthorityRecordError=Doe;oe.set(90,Doe);ae.set("InvalidCollectionAuthorityRecord",Doe);class Ooe extends ce.ProgramError{constructor(e,t){super("Metadata does not match the freeze authority on the mint",e,t),this.name="InvalidFreezeAuthority",this.code=91}}j.InvalidFreezeAuthorityError=Ooe;oe.set(91,Ooe);ae.set("InvalidFreezeAuthority",Ooe);class Koe extends ce.ProgramError{constructor(e,t){super("All tokens in this account have not been delegated to this user.",e,t),this.name="InvalidDelegate",this.code=92}}j.InvalidDelegateError=Koe;oe.set(92,Koe);ae.set("InvalidDelegate",Koe);class Loe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="CannotAdjustVerifiedCreator",this.code=93}}j.CannotAdjustVerifiedCreatorError=Loe;oe.set(93,Loe);ae.set("CannotAdjustVerifiedCreator",Loe);class Woe extends ce.ProgramError{constructor(e,t){super("Verified creators cannot be removed.",e,t),this.name="CannotRemoveVerifiedCreator",this.code=94}}j.CannotRemoveVerifiedCreatorError=Woe;oe.set(94,Woe);ae.set("CannotRemoveVerifiedCreator",Woe);class Noe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="CannotWipeVerifiedCreators",this.code=95}}j.CannotWipeVerifiedCreatorsError=Noe;oe.set(95,Noe);ae.set("CannotWipeVerifiedCreators",Noe);class Foe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="NotAllowedToChangeSellerFeeBasisPoints",this.code=96}}j.NotAllowedToChangeSellerFeeBasisPointsError=Foe;oe.set(96,Foe);ae.set("NotAllowedToChangeSellerFeeBasisPoints",Foe);class Uoe extends ce.ProgramError{constructor(e,t){super("Edition override cannot be zero",e,t),this.name="EditionOverrideCannotBeZero",this.code=97}}j.EditionOverrideCannotBeZeroError=Uoe;oe.set(97,Uoe);ae.set("EditionOverrideCannotBeZero",Uoe);class Voe extends ce.ProgramError{constructor(e,t){super("Invalid User",e,t),this.name="InvalidUser",this.code=98}}j.InvalidUserError=Voe;oe.set(98,Voe);ae.set("InvalidUser",Voe);class qoe extends ce.ProgramError{constructor(e,t){super("Revoke Collection Authority signer is incorrect",e,t),this.name="RevokeCollectionAuthoritySignerIncorrect",this.code=99}}j.RevokeCollectionAuthoritySignerIncorrectError=qoe;oe.set(99,qoe);ae.set("RevokeCollectionAuthoritySignerIncorrect",qoe);class joe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenCloseFailed",this.code=100}}j.TokenCloseFailedError=joe;oe.set(100,joe);ae.set("TokenCloseFailed",joe);class Hoe extends ce.ProgramError{constructor(e,t){super("Can't use this function on unsized collection",e,t),this.name="UnsizedCollection",this.code=101}}j.UnsizedCollectionError=Hoe;oe.set(101,Hoe);ae.set("UnsizedCollection",Hoe);class Goe extends ce.ProgramError{constructor(e,t){super("Can't use this function on a sized collection",e,t),this.name="SizedCollection",this.code=102}}j.SizedCollectionError=Goe;oe.set(102,Goe);ae.set("SizedCollection",Goe);class Yoe extends ce.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadata",this.code=103}}j.MissingCollectionMetadataError=Yoe;oe.set(103,Yoe);ae.set("MissingCollectionMetadata",Yoe);class Zoe extends ce.ProgramError{constructor(e,t){super("This NFT is not a member of the specified collection.",e,t),this.name="NotAMemberOfCollection",this.code=104}}j.NotAMemberOfCollectionError=Zoe;oe.set(104,Zoe);ae.set("NotAMemberOfCollection",Zoe);class Joe extends ce.ProgramError{constructor(e,t){super("This NFT is not a verified member of the specified collection.",e,t),this.name="NotVerifiedMemberOfCollection",this.code=105}}j.NotVerifiedMemberOfCollectionError=Joe;oe.set(105,Joe);ae.set("NotVerifiedMemberOfCollection",Joe);class Xoe extends ce.ProgramError{constructor(e,t){super("This NFT is not a collection parent NFT.",e,t),this.name="NotACollectionParent",this.code=106}}j.NotACollectionParentError=Xoe;oe.set(106,Xoe);ae.set("NotACollectionParent",Xoe);class Qoe extends ce.ProgramError{constructor(e,t){super("Could not determine a TokenStandard type.",e,t),this.name="CouldNotDetermineTokenStandard",this.code=107}}j.CouldNotDetermineTokenStandardError=Qoe;oe.set(107,Qoe);ae.set("CouldNotDetermineTokenStandard",Qoe);class eae extends ce.ProgramError{constructor(e,t){super("This mint account has an edition but none was provided.",e,t),this.name="MissingEditionAccount",this.code=108}}j.MissingEditionAccountError=eae;oe.set(108,eae);ae.set("MissingEditionAccount",eae);class tae extends ce.ProgramError{constructor(e,t){super("This edition is not a Master Edition",e,t),this.name="NotAMasterEdition",this.code=109}}j.NotAMasterEditionError=tae;oe.set(109,tae);ae.set("NotAMasterEdition",tae);class rae extends ce.ProgramError{constructor(e,t){super("This Master Edition has existing prints",e,t),this.name="MasterEditionHasPrints",this.code=110}}j.MasterEditionHasPrintsError=rae;oe.set(110,rae);ae.set("MasterEditionHasPrints",rae);class nae extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BorshDeserializationError",this.code=111}}j.BorshDeserializationErrorError=nae;oe.set(111,nae);ae.set("BorshDeserializationError",nae);class sae extends ce.ProgramError{constructor(e,t){super("Cannot update a verified collection in this command",e,t),this.name="CannotUpdateVerifiedCollection",this.code=112}}j.CannotUpdateVerifiedCollectionError=sae;oe.set(112,sae);ae.set("CannotUpdateVerifiedCollection",sae);class iae extends ce.ProgramError{constructor(e,t){super("Edition account doesnt match collection ",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=113}}j.CollectionMasterEditionAccountInvalidError=iae;oe.set(113,iae);ae.set("CollectionMasterEditionAccountInvalid",iae);class oae extends ce.ProgramError{constructor(e,t){super("Item is already verified.",e,t),this.name="AlreadyVerified",this.code=114}}j.AlreadyVerifiedError=oae;oe.set(114,oae);ae.set("AlreadyVerified",oae);class aae extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AlreadyUnverified",this.code=115}}j.AlreadyUnverifiedError=aae;oe.set(115,aae);ae.set("AlreadyUnverified",aae);class cae extends ce.ProgramError{constructor(e,t){super("This edition is not a Print Edition",e,t),this.name="NotAPrintEdition",this.code=116}}j.NotAPrintEditionError=cae;oe.set(116,cae);ae.set("NotAPrintEdition",cae);class uae extends ce.ProgramError{constructor(e,t){super("Invalid Master Edition",e,t),this.name="InvalidMasterEdition",this.code=117}}j.InvalidMasterEditionError=uae;oe.set(117,uae);ae.set("InvalidMasterEdition",uae);class lae extends ce.ProgramError{constructor(e,t){super("Invalid Print Edition",e,t),this.name="InvalidPrintEdition",this.code=118}}j.InvalidPrintEditionError=lae;oe.set(118,lae);ae.set("InvalidPrintEdition",lae);class dae extends ce.ProgramError{constructor(e,t){super("Invalid Edition Marker",e,t),this.name="InvalidEditionMarker",this.code=119}}j.InvalidEditionMarkerError=dae;oe.set(119,dae);ae.set("InvalidEditionMarker",dae);class fae extends ce.ProgramError{constructor(e,t){super("Reservation List is Deprecated",e,t),this.name="ReservationListDeprecated",this.code=120}}j.ReservationListDeprecatedError=fae;oe.set(120,fae);ae.set("ReservationListDeprecated",fae);class hae extends ce.ProgramError{constructor(e,t){super("Print Edition does not match Master Edition",e,t),this.name="PrintEditionDoesNotMatchMasterEdition",this.code=121}}j.PrintEditionDoesNotMatchMasterEditionError=hae;oe.set(121,hae);ae.set("PrintEditionDoesNotMatchMasterEdition",hae);class gae extends ce.ProgramError{constructor(e,t){super("Edition Number greater than max supply",e,t),this.name="EditionNumberGreaterThanMaxSupply",this.code=122}}j.EditionNumberGreaterThanMaxSupplyError=gae;oe.set(122,gae);ae.set("EditionNumberGreaterThanMaxSupply",gae);class mae extends ce.ProgramError{constructor(e,t){super("Must unverify before migrating collections.",e,t),this.name="MustUnverify",this.code=123}}j.MustUnverifyError=mae;oe.set(123,mae);ae.set("MustUnverify",mae);class yae extends ce.ProgramError{constructor(e,t){super("Invalid Escrow Account Bump Seed",e,t),this.name="InvalidEscrowBumpSeed",this.code=124}}j.InvalidEscrowBumpSeedError=yae;oe.set(124,yae);ae.set("InvalidEscrowBumpSeed",yae);class pae extends ce.ProgramError{constructor(e,t){super("Must Escrow Authority",e,t),this.name="MustBeEscrowAuthority",this.code=125}}j.MustBeEscrowAuthorityError=pae;oe.set(125,pae);ae.set("MustBeEscrowAuthority",pae);class bae extends ce.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=126}}j.InvalidSystemProgramError=bae;oe.set(126,bae);ae.set("InvalidSystemProgram",bae);class Sae extends ce.ProgramError{constructor(e,t){super("Must be a Non Fungible Token",e,t),this.name="MustBeNonFungible",this.code=127}}j.MustBeNonFungibleError=Sae;oe.set(127,Sae);ae.set("MustBeNonFungible",Sae);class kae extends ce.ProgramError{constructor(e,t){super("Insufficient tokens for transfer",e,t),this.name="InsufficientTokens",this.code=128}}j.InsufficientTokensError=kae;oe.set(128,kae);ae.set("InsufficientTokens",kae);class vae extends ce.ProgramError{constructor(e,t){super("Borsh Serialization Error",e,t),this.name="BorshSerializationError",this.code=129}}j.BorshSerializationErrorError=vae;oe.set(129,vae);ae.set("BorshSerializationError",vae);class Aae extends ce.ProgramError{constructor(e,t){super("Cannot create NFT with no Freeze Authority.",e,t),this.name="NoFreezeAuthoritySet",this.code=130}}j.NoFreezeAuthoritySetError=Aae;oe.set(130,Aae);ae.set("NoFreezeAuthoritySet",Aae);class wae extends ce.ProgramError{constructor(e,t){super("Invalid collection size change",e,t),this.name="InvalidCollectionSizeChange",this.code=131}}j.InvalidCollectionSizeChangeError=wae;oe.set(131,wae);ae.set("InvalidCollectionSizeChange",wae);class Iae extends ce.ProgramError{constructor(e,t){super("Invalid bubblegum signer",e,t),this.name="InvalidBubblegumSigner",this.code=132}}j.InvalidBubblegumSignerError=Iae;oe.set(132,Iae);ae.set("InvalidBubblegumSigner",Iae);class _ae extends ce.ProgramError{constructor(e,t){super("Escrow parent cannot have a delegate",e,t),this.name="EscrowParentHasDelegate",this.code=133}}j.EscrowParentHasDelegateError=_ae;oe.set(133,_ae);ae.set("EscrowParentHasDelegate",_ae);class Pae extends ce.ProgramError{constructor(e,t){super("Mint needs to be signer to initialize the account",e,t),this.name="MintIsNotSigner",this.code=134}}j.MintIsNotSignerError=Pae;oe.set(134,Pae);ae.set("MintIsNotSigner",Pae);class Eae extends ce.ProgramError{constructor(e,t){super("Invalid token standard",e,t),this.name="InvalidTokenStandard",this.code=135}}j.InvalidTokenStandardError=Eae;oe.set(135,Eae);ae.set("InvalidTokenStandard",Eae);class xae extends ce.ProgramError{constructor(e,t){super("Invalid mint account for specified token standard",e,t),this.name="InvalidMintForTokenStandard",this.code=136}}j.InvalidMintForTokenStandardError=xae;oe.set(136,xae);ae.set("InvalidMintForTokenStandard",xae);class Tae extends ce.ProgramError{constructor(e,t){super("Invalid authorization rules account",e,t),this.name="InvalidAuthorizationRules",this.code=137}}j.InvalidAuthorizationRulesError=Tae;oe.set(137,Tae);ae.set("InvalidAuthorizationRules",Tae);class Rae extends ce.ProgramError{constructor(e,t){super("Missing authorization rules account",e,t),this.name="MissingAuthorizationRules",this.code=138}}j.MissingAuthorizationRulesError=Rae;oe.set(138,Rae);ae.set("MissingAuthorizationRules",Rae);class Cae extends ce.ProgramError{constructor(e,t){super("Missing programmable configuration",e,t),this.name="MissingProgrammableConfig",this.code=139}}j.MissingProgrammableConfigError=Cae;oe.set(139,Cae);ae.set("MissingProgrammableConfig",Cae);class Mae extends ce.ProgramError{constructor(e,t){super("Invalid programmable configuration",e,t),this.name="InvalidProgrammableConfig",this.code=140}}j.InvalidProgrammableConfigError=Mae;oe.set(140,Mae);ae.set("InvalidProgrammableConfig",Mae);class Bae extends ce.ProgramError{constructor(e,t){super("Delegate already exists",e,t),this.name="DelegateAlreadyExists",this.code=141}}j.DelegateAlreadyExistsError=Bae;oe.set(141,Bae);ae.set("DelegateAlreadyExists",Bae);class zae extends ce.ProgramError{constructor(e,t){super("Delegate not found",e,t),this.name="DelegateNotFound",this.code=142}}j.DelegateNotFoundError=zae;oe.set(142,zae);ae.set("DelegateNotFound",zae);class $ae extends ce.ProgramError{constructor(e,t){super("Required account not set in instruction builder",e,t),this.name="MissingAccountInBuilder",this.code=143}}j.MissingAccountInBuilderError=$ae;oe.set(143,$ae);ae.set("MissingAccountInBuilder",$ae);class Dae extends ce.ProgramError{constructor(e,t){super("Required argument not set in instruction builder",e,t),this.name="MissingArgumentInBuilder",this.code=144}}j.MissingArgumentInBuilderError=Dae;oe.set(144,Dae);ae.set("MissingArgumentInBuilder",Dae);class Oae extends ce.ProgramError{constructor(e,t){super("Feature not supported currently",e,t),this.name="FeatureNotSupported",this.code=145}}j.FeatureNotSupportedError=Oae;oe.set(145,Oae);ae.set("FeatureNotSupported",Oae);class Kae extends ce.ProgramError{constructor(e,t){super("Invalid system wallet",e,t),this.name="InvalidSystemWallet",this.code=146}}j.InvalidSystemWalletError=Kae;oe.set(146,Kae);ae.set("InvalidSystemWallet",Kae);class Lae extends ce.ProgramError{constructor(e,t){super("Only the sale delegate can transfer while its set",e,t),this.name="OnlySaleDelegateCanTransfer",this.code=147}}j.OnlySaleDelegateCanTransferError=Lae;oe.set(147,Lae);ae.set("OnlySaleDelegateCanTransfer",Lae);class Wae extends ce.ProgramError{constructor(e,t){super("Missing token account",e,t),this.name="MissingTokenAccount",this.code=148}}j.MissingTokenAccountError=Wae;oe.set(148,Wae);ae.set("MissingTokenAccount",Wae);class Nae extends ce.ProgramError{constructor(e,t){super("Missing SPL token program",e,t),this.name="MissingSplTokenProgram",this.code=149}}j.MissingSplTokenProgramError=Nae;oe.set(149,Nae);ae.set("MissingSplTokenProgram",Nae);class Fae extends ce.ProgramError{constructor(e,t){super("Missing authorization rules program",e,t),this.name="MissingAuthorizationRulesProgram",this.code=150}}j.MissingAuthorizationRulesProgramError=Fae;oe.set(150,Fae);ae.set("MissingAuthorizationRulesProgram",Fae);class Uae extends ce.ProgramError{constructor(e,t){super("Invalid delegate role for transfer",e,t),this.name="InvalidDelegateRoleForTransfer",this.code=151}}j.InvalidDelegateRoleForTransferError=Uae;oe.set(151,Uae);ae.set("InvalidDelegateRoleForTransfer",Uae);class Vae extends ce.ProgramError{constructor(e,t){super("Invalid transfer authority",e,t),this.name="InvalidTransferAuthority",this.code=152}}j.InvalidTransferAuthorityError=Vae;oe.set(152,Vae);ae.set("InvalidTransferAuthority",Vae);class qae extends ce.ProgramError{constructor(e,t){super("Instruction not supported for ProgrammableNonFungible assets",e,t),this.name="InstructionNotSupported",this.code=153}}j.InstructionNotSupportedError=qae;oe.set(153,qae);ae.set("InstructionNotSupported",qae);class jae extends ce.ProgramError{constructor(e,t){super("Public key does not match expected value",e,t),this.name="KeyMismatch",this.code=154}}j.KeyMismatchError=jae;oe.set(154,jae);ae.set("KeyMismatch",jae);class Hae extends ce.ProgramError{constructor(e,t){super("Token is locked",e,t),this.name="LockedToken",this.code=155}}j.LockedTokenError=Hae;oe.set(155,Hae);ae.set("LockedToken",Hae);class Gae extends ce.ProgramError{constructor(e,t){super("Token is unlocked",e,t),this.name="UnlockedToken",this.code=156}}j.UnlockedTokenError=Gae;oe.set(156,Gae);ae.set("UnlockedToken",Gae);class Yae extends ce.ProgramError{constructor(e,t){super("Missing delegate role",e,t),this.name="MissingDelegateRole",this.code=157}}j.MissingDelegateRoleError=Yae;oe.set(157,Yae);ae.set("MissingDelegateRole",Yae);class Zae extends ce.ProgramError{constructor(e,t){super("Invalid authority type",e,t),this.name="InvalidAuthorityType",this.code=158}}j.InvalidAuthorityTypeError=Zae;oe.set(158,Zae);ae.set("InvalidAuthorityType",Zae);class Jae extends ce.ProgramError{constructor(e,t){super("Missing token record account",e,t),this.name="MissingTokenRecord",this.code=159}}j.MissingTokenRecordError=Jae;oe.set(159,Jae);ae.set("MissingTokenRecord",Jae);class Xae extends ce.ProgramError{constructor(e,t){super("Mint supply must be zero for programmable assets",e,t),this.name="MintSupplyMustBeZero",this.code=160}}j.MintSupplyMustBeZeroError=Xae;oe.set(160,Xae);ae.set("MintSupplyMustBeZero",Xae);class Qae extends ce.ProgramError{constructor(e,t){super("Data is empty or zeroed",e,t),this.name="DataIsEmptyOrZeroed",this.code=161}}j.DataIsEmptyOrZeroedError=Qae;oe.set(161,Qae);ae.set("DataIsEmptyOrZeroed",Qae);class ece extends ce.ProgramError{constructor(e,t){super("Missing token owner",e,t),this.name="MissingTokenOwnerAccount",this.code=162}}j.MissingTokenOwnerAccountError=ece;oe.set(162,ece);ae.set("MissingTokenOwnerAccount",ece);class tce extends ce.ProgramError{constructor(e,t){super("Master edition account has an invalid length",e,t),this.name="InvalidMasterEditionAccountLength",this.code=163}}j.InvalidMasterEditionAccountLengthError=tce;oe.set(163,tce);ae.set("InvalidMasterEditionAccountLength",tce);class rce extends ce.ProgramError{constructor(e,t){super("Incorrect token state",e,t),this.name="IncorrectTokenState",this.code=164}}j.IncorrectTokenStateError=rce;oe.set(164,rce);ae.set("IncorrectTokenState",rce);class nce extends ce.ProgramError{constructor(e,t){super("Invalid delegate role",e,t),this.name="InvalidDelegateRole",this.code=165}}j.InvalidDelegateRoleError=nce;oe.set(165,nce);ae.set("InvalidDelegateRole",nce);class sce extends ce.ProgramError{constructor(e,t){super("Print supply is required for non-fungibles",e,t),this.name="MissingPrintSupply",this.code=166}}j.MissingPrintSupplyError=sce;oe.set(166,sce);ae.set("MissingPrintSupply",sce);class ice extends ce.ProgramError{constructor(e,t){super("Missing master edition account",e,t),this.name="MissingMasterEditionAccount",this.code=167}}j.MissingMasterEditionAccountError=ice;oe.set(167,ice);ae.set("MissingMasterEditionAccount",ice);class oce extends ce.ProgramError{constructor(e,t){super("Amount must be greater than zero",e,t),this.name="AmountMustBeGreaterThanZero",this.code=168}}j.AmountMustBeGreaterThanZeroError=oce;oe.set(168,oce);ae.set("AmountMustBeGreaterThanZero",oce);class ace extends ce.ProgramError{constructor(e,t){super("Invalid delegate args",e,t),this.name="InvalidDelegateArgs",this.code=169}}j.InvalidDelegateArgsError=ace;oe.set(169,ace);ae.set("InvalidDelegateArgs",ace);class cce extends ce.ProgramError{constructor(e,t){super("Missing address for locked transfer",e,t),this.name="MissingLockedTransferAddress",this.code=170}}j.MissingLockedTransferAddressError=cce;oe.set(170,cce);ae.set("MissingLockedTransferAddress",cce);class uce extends ce.ProgramError{constructor(e,t){super("Invalid destination address for locked transfer",e,t),this.name="InvalidLockedTransferAddress",this.code=171}}j.InvalidLockedTransferAddressError=uce;oe.set(171,uce);ae.set("InvalidLockedTransferAddress",uce);class lce extends ce.ProgramError{constructor(e,t){super("Exceeded account realloc increase limit",e,t),this.name="DataIncrementLimitExceeded",this.code=172}}j.DataIncrementLimitExceededError=lce;oe.set(172,lce);ae.set("DataIncrementLimitExceeded",lce);class dce extends ce.ProgramError{constructor(e,t){super("Cannot update the rule set of a programmable asset that has a delegate",e,t),this.name="CannotUpdateAssetWithDelegate",this.code=173}}j.CannotUpdateAssetWithDelegateError=dce;oe.set(173,dce);ae.set("CannotUpdateAssetWithDelegate",dce);class fce extends ce.ProgramError{constructor(e,t){super("Invalid token amount for this operation or token standard",e,t),this.name="InvalidAmount",this.code=174}}j.InvalidAmountError=fce;oe.set(174,fce);ae.set("InvalidAmount",fce);class hce extends ce.ProgramError{constructor(e,t){super("Missing master edition mint account",e,t),this.name="MissingMasterEditionMintAccount",this.code=175}}j.MissingMasterEditionMintAccountError=hce;oe.set(175,hce);ae.set("MissingMasterEditionMintAccount",hce);class gce extends ce.ProgramError{constructor(e,t){super("Missing master edition token account",e,t),this.name="MissingMasterEditionTokenAccount",this.code=176}}j.MissingMasterEditionTokenAccountError=gce;oe.set(176,gce);ae.set("MissingMasterEditionTokenAccount",gce);class mce extends ce.ProgramError{constructor(e,t){super("Missing edition marker account",e,t),this.name="MissingEditionMarkerAccount",this.code=177}}j.MissingEditionMarkerAccountError=mce;oe.set(177,mce);ae.set("MissingEditionMarkerAccount",mce);class yce extends ce.ProgramError{constructor(e,t){super("Cannot burn while persistent delegate is set",e,t),this.name="CannotBurnWithDelegate",this.code=178}}j.CannotBurnWithDelegateError=yce;oe.set(178,yce);ae.set("CannotBurnWithDelegate",yce);class pce extends ce.ProgramError{constructor(e,t){super("Missing edition account",e,t),this.name="MissingEdition",this.code=179}}j.MissingEditionError=pce;oe.set(179,pce);ae.set("MissingEdition",pce);class bce extends ce.ProgramError{constructor(e,t){super("Invalid Associated Token Account Program",e,t),this.name="InvalidAssociatedTokenAccountProgram",this.code=180}}j.InvalidAssociatedTokenAccountProgramError=bce;oe.set(180,bce);ae.set("InvalidAssociatedTokenAccountProgram",bce);class Sce extends ce.ProgramError{constructor(e,t){super("Invalid InstructionsSysvar",e,t),this.name="InvalidInstructionsSysvar",this.code=181}}j.InvalidInstructionsSysvarError=Sce;oe.set(181,Sce);ae.set("InvalidInstructionsSysvar",Sce);class kce extends ce.ProgramError{constructor(e,t){super("Invalid or Unneeded parent accounts",e,t),this.name="InvalidParentAccounts",this.code=182}}j.InvalidParentAccountsError=kce;oe.set(182,kce);ae.set("InvalidParentAccounts",kce);class vce extends ce.ProgramError{constructor(e,t){super("Authority cannot apply all update args",e,t),this.name="InvalidUpdateArgs",this.code=183}}j.InvalidUpdateArgsError=vce;oe.set(183,vce);ae.set("InvalidUpdateArgs",vce);class Ace extends ce.ProgramError{constructor(e,t){super("Token account does not have enough tokens",e,t),this.name="InsufficientTokenBalance",this.code=184}}j.InsufficientTokenBalanceError=Ace;oe.set(184,Ace);ae.set("InsufficientTokenBalance",Ace);class wce extends ce.ProgramError{constructor(e,t){super("Missing collection account",e,t),this.name="MissingCollectionMint",this.code=185}}j.MissingCollectionMintError=wce;oe.set(185,wce);ae.set("MissingCollectionMint",wce);class Ice extends ce.ProgramError{constructor(e,t){super("Missing collection master edition account",e,t),this.name="MissingCollectionMasterEdition",this.code=186}}j.MissingCollectionMasterEditionError=Ice;oe.set(186,Ice);ae.set("MissingCollectionMasterEdition",Ice);class _ce extends ce.ProgramError{constructor(e,t){super("Invalid token record account",e,t),this.name="InvalidTokenRecord",this.code=187}}j.InvalidTokenRecordError=_ce;oe.set(187,_ce);ae.set("InvalidTokenRecord",_ce);class Pce extends ce.ProgramError{constructor(e,t){super("The close authority needs to be revoked by the Utility Delegate",e,t),this.name="InvalidCloseAuthority",this.code=188}}j.InvalidCloseAuthorityError=Pce;oe.set(188,Pce);ae.set("InvalidCloseAuthority",Pce);class Ece extends ce.ProgramError{constructor(e,t){super("Invalid or removed instruction",e,t),this.name="InvalidInstruction",this.code=189}}j.InvalidInstructionError=Ece;oe.set(189,Ece);ae.set("InvalidInstruction",Ece);class xce extends ce.ProgramError{constructor(e,t){super("Missing delegate record",e,t),this.name="MissingDelegateRecord",this.code=190}}j.MissingDelegateRecordError=xce;oe.set(190,xce);ae.set("MissingDelegateRecord",xce);class Tce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidFeeAccount",this.code=191}}j.InvalidFeeAccountError=Tce;oe.set(191,Tce);ae.set("InvalidFeeAccount",Tce);class Rce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidMetadataFlags",this.code=192}}j.InvalidMetadataFlagsError=Rce;oe.set(192,Rce);ae.set("InvalidMetadataFlags",Rce);class Cce extends ce.ProgramError{constructor(e,t){super("Cannot change the update authority with a delegate",e,t),this.name="CannotChangeUpdateAuthorityWithDelegate",this.code=193}}j.CannotChangeUpdateAuthorityWithDelegateError=Cce;oe.set(193,Cce);ae.set("CannotChangeUpdateAuthorityWithDelegate",Cce);class Mce extends ce.ProgramError{constructor(e,t){super("Invalid mint extension type",e,t),this.name="InvalidMintExtensionType",this.code=194}}j.InvalidMintExtensionTypeError=Mce;oe.set(194,Mce);ae.set("InvalidMintExtensionType",Mce);class Bce extends ce.ProgramError{constructor(e,t){super("Invalid mint close authority",e,t),this.name="InvalidMintCloseAuthority",this.code=195}}j.InvalidMintCloseAuthorityError=Bce;oe.set(195,Bce);ae.set("InvalidMintCloseAuthority",Bce);class zce extends ce.ProgramError{constructor(e,t){super("Invalid metadata pointer",e,t),this.name="InvalidMetadataPointer",this.code=196}}j.InvalidMetadataPointerError=zce;oe.set(196,zce);ae.set("InvalidMetadataPointer",zce);class $ce extends ce.ProgramError{constructor(e,t){super("Invalid token extension type",e,t),this.name="InvalidTokenExtensionType",this.code=197}}j.InvalidTokenExtensionTypeError=$ce;oe.set(197,$ce);ae.set("InvalidTokenExtensionType",$ce);class Dce extends ce.ProgramError{constructor(e,t){super("Missing immutable owner extension",e,t),this.name="MissingImmutableOwnerExtension",this.code=198}}j.MissingImmutableOwnerExtensionError=Dce;oe.set(198,Dce);ae.set("MissingImmutableOwnerExtension",Dce);class Oce extends ce.ProgramError{constructor(e,t){super("Expected account to be uninitialized",e,t),this.name="ExpectedUninitializedAccount",this.code=199}}j.ExpectedUninitializedAccountError=Oce;oe.set(199,Oce);ae.set("ExpectedUninitializedAccount",Oce);class Kce extends ce.ProgramError{constructor(e,t){super("Edition account has an invalid length",e,t),this.name="InvalidEditionAccountLength",this.code=200}}j.InvalidEditionAccountLengthError=Kce;oe.set(200,Kce);ae.set("InvalidEditionAccountLength",Kce);class Lce extends ce.ProgramError{constructor(e,t){super("Account has already been resized",e,t),this.name="AccountAlreadyResized",this.code=201}}j.AccountAlreadyResizedError=Lce;oe.set(201,Lce);ae.set("AccountAlreadyResized",Lce);class Wce extends ce.ProgramError{constructor(e,t){super("Conditions for closing not met",e,t),this.name="ConditionsForClosingNotMet",this.code=202}}j.ConditionsForClosingNotMetError=Wce;oe.set(202,Wce);ae.set("ConditionsForClosingNotMet",Wce);function $Ot(n,e,t){const r=oe.get(n);return r?new r(e,t):null}j.getMplTokenMetadataErrorFromCode=$Ot;function DOt(n,e,t){const r=ae.get(n);return r?new r(e,t):null}j.getMplTokenMetadataErrorFromName=DOt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(j,n)})(Qse);var I$e={},HP={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getAccountMetasAndSigners=Ke.expectPda=Ke.expectPublicKey=Ke.expectSome=void 0;const j2=Z;function OOt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}Ke.expectSome=OOt;function KOt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,j2.publicKey)(n,!1)}Ke.expectPublicKey=KOt;function LOt(n){if(!n||!Array.isArray(n)||!(0,j2.isPda)(n))throw new Error("Expected a PDA.");return n}Ke.expectPda=LOt;function WOt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,j2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,j2.publicKey)(i.value,!1),isSigner:(0,j2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}Ke.getAccountMetasAndSigners=WOt;Object.defineProperty(HP,"__esModule",{value:!0});HP.approveCollectionAuthority=HP.getApproveCollectionAuthorityInstructionDataSerializer=void 0;const NOt=Z,r7=q,FOt=Nt,tbe=Ke;function _$e(){return(0,r7.mapSerializer)((0,r7.struct)([["discriminator",(0,r7.u8)()]],{description:"ApproveCollectionAuthorityInstructionData"}),n=>({...n,discriminator:23}))}HP.getApproveCollectionAuthorityInstructionDataSerializer=_$e;function UOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},newCollectionAuthority:{index:1,isWritable:!1,value:e.newCollectionAuthority??null},updateAuthority:{index:2,isWritable:!0,value:e.updateAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},metadata:{index:4,isWritable:!1,value:e.metadata??null},mint:{index:5,isWritable:!1,value:e.mint??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},rent:{index:7,isWritable:!1,value:e.rent??null}};r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,FOt.findMetadataPda)(n,{mint:(0,tbe.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,tbe.getAccountMetasAndSigners)(s,"omitted",t),a=_$e().serialize({}),c=0;return(0,NOt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}HP.approveCollectionAuthority=UOt;var GP={};Object.defineProperty(GP,"__esModule",{value:!0});GP.approveUseAuthority=GP.getApproveUseAuthorityInstructionDataSerializer=void 0;const VOt=Z,b3=q,qOt=Nt,rbe=Ke;function P$e(){return(0,b3.mapSerializer)((0,b3.struct)([["discriminator",(0,b3.u8)()],["numberOfUses",(0,b3.u64)()]],{description:"ApproveUseAuthorityInstructionData"}),n=>({...n,discriminator:20}))}GP.getApproveUseAuthorityInstructionDataSerializer=P$e;function jOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},payer:{index:2,isWritable:!0,value:e.payer??null},user:{index:3,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:4,isWritable:!0,value:e.ownerTokenAccount??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},mint:{index:6,isWritable:!1,value:e.mint??null},burner:{index:7,isWritable:!1,value:e.burner??null},tokenProgram:{index:8,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},rent:{index:10,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,qOt.findMetadataPda)(n,{mint:(0,rbe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,rbe.getAccountMetasAndSigners)(i,"omitted",t),c=P$e().serialize(s),u=0;return(0,VOt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}GP.approveUseAuthority=jOt;var YP={};Object.defineProperty(YP,"__esModule",{value:!0});YP.bubblegumSetCollectionSize=YP.getBubblegumSetCollectionSizeInstructionDataSerializer=void 0;const HOt=Z,n7=q,GOt=Ke,YOt=lt;function E$e(){return(0,n7.mapSerializer)((0,n7.struct)([["discriminator",(0,n7.u8)()],["setCollectionSizeArgs",(0,YOt.getSetCollectionSizeArgsSerializer)()]],{description:"BubblegumSetCollectionSizeInstructionData"}),n=>({...n,discriminator:36}))}YP.getBubblegumSetCollectionSizeInstructionDataSerializer=E$e;function ZOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},bubblegumSigner:{index:3,isWritable:!1,value:e.bubblegumSigner??null},collectionAuthorityRecord:{index:4,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,GOt.getAccountMetasAndSigners)(i,"omitted",t),c=E$e().serialize(s),u=0;return(0,HOt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}YP.bubblegumSetCollectionSize=ZOt;var ZP={};Object.defineProperty(ZP,"__esModule",{value:!0});ZP.burnEditionNft=ZP.getBurnEditionNftInstructionDataSerializer=void 0;const JOt=Z,s7=q,XOt=Ke;function x$e(){return(0,s7.mapSerializer)((0,s7.struct)([["discriminator",(0,s7.u8)()]],{description:"BurnEditionNftInstructionData"}),n=>({...n,discriminator:37}))}ZP.getBurnEditionNftInstructionDataSerializer=x$e;function QOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},printEditionMint:{index:2,isWritable:!0,value:e.printEditionMint??null},masterEditionMint:{index:3,isWritable:!1,value:e.masterEditionMint??null},printEditionTokenAccount:{index:4,isWritable:!0,value:e.printEditionTokenAccount??null},masterEditionTokenAccount:{index:5,isWritable:!1,value:e.masterEditionTokenAccount??null},masterEditionAccount:{index:6,isWritable:!0,value:e.masterEditionAccount??null},printEditionAccount:{index:7,isWritable:!0,value:e.printEditionAccount??null},editionMarkerAccount:{index:8,isWritable:!0,value:e.editionMarkerAccount??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null}};r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,XOt.getAccountMetasAndSigners)(s,"programId",t),a=x$e().serialize({}),c=0;return(0,JOt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ZP.burnEditionNft=QOt;var JP={};Object.defineProperty(JP,"__esModule",{value:!0});JP.burnNft=JP.getBurnNftInstructionDataSerializer=void 0;const e4t=Z,i7=q,t4t=Nt,nbe=Ke;function T$e(){return(0,i7.mapSerializer)((0,i7.struct)([["discriminator",(0,i7.u8)()]],{description:"BurnNftInstructionData"}),n=>({...n,discriminator:29}))}JP.getBurnNftInstructionDataSerializer=T$e;function r4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},mint:{index:2,isWritable:!0,value:e.mint??null},tokenAccount:{index:3,isWritable:!0,value:e.tokenAccount??null},masterEditionAccount:{index:4,isWritable:!0,value:e.masterEditionAccount??null},splTokenProgram:{index:5,isWritable:!1,value:e.splTokenProgram??null},collectionMetadata:{index:6,isWritable:!0,value:e.collectionMetadata??null}};r.metadata.value||(r.metadata.value=(0,t4t.findMetadataPda)(n,{mint:(0,nbe.expectPublicKey)(r.mint.value)})),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,nbe.getAccountMetasAndSigners)(s,"omitted",t),a=T$e().serialize({}),c=0;return(0,e4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}JP.burnNft=r4t;var XP={};Object.defineProperty(XP,"__esModule",{value:!0});XP.burnV1=XP.getBurnV1InstructionDataSerializer=void 0;const n4t=Gs,sbe=Z,HC=q,s4t=an,S3=Nt,cy=Ke,i4t=lt;function R$e(){return(0,HC.mapSerializer)((0,HC.struct)([["discriminator",(0,HC.u8)()],["burnV1Discriminator",(0,HC.u8)()],["amount",(0,HC.u64)()]],{description:"BurnV1InstructionData"}),n=>({...n,discriminator:41,burnV1Discriminator:0,amount:n.amount??1}))}XP.getBurnV1InstructionDataSerializer=R$e;function o4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!0,value:e.authority??null},collectionMetadata:{index:1,isWritable:!0,value:e.collectionMetadata??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},edition:{index:3,isWritable:!0,value:e.edition??null},mint:{index:4,isWritable:!0,value:e.mint??null},token:{index:5,isWritable:!0,value:e.token??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},masterEditionMint:{index:7,isWritable:!1,value:e.masterEditionMint??null},masterEditionToken:{index:8,isWritable:!1,value:e.masterEditionToken??null},editionMarker:{index:9,isWritable:!0,value:e.editionMarker??null},tokenRecord:{index:10,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,S3.findMetadataPda)(n,{mint:(0,cy.expectPublicKey)(r.mint.value)})),r.edition.value||(0,s4t.resolveIsNonFungible)(n,r,s,t,!0)&&(r.edition.value=(0,S3.findMasterEditionPda)(n,{mint:(0,cy.expectPublicKey)(r.mint.value)})),s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,n4t.findAssociatedTokenPda)(n,{mint:(0,cy.expectPublicKey)(r.mint.value),owner:(0,cy.expectSome)(s.tokenOwner)})),r.masterEdition.value||r.masterEditionMint.value&&(r.masterEdition.value=(0,S3.findMasterEditionPda)(n,{mint:(0,cy.expectPublicKey)(r.masterEditionMint.value)})),r.tokenRecord.value||s.tokenStandard===i4t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,S3.findTokenRecordPda)(n,{mint:(0,cy.expectPublicKey)(r.mint.value),token:(0,cy.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,sbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,cy.getAccountMetasAndSigners)(i,"programId",t),c=R$e().serialize(s),u=0;return(0,sbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XP.burnV1=o4t;var QP={};Object.defineProperty(QP,"__esModule",{value:!0});QP.closeAccounts=QP.getCloseAccountsInstructionDataSerializer=void 0;const a4t=Z,o7=q,ibe=Nt,a7=Ke;function C$e(){return(0,o7.mapSerializer)((0,o7.struct)([["discriminator",(0,o7.u8)()]],{description:"CloseAccountsInstructionData"}),n=>({...n,discriminator:57}))}QP.getCloseAccountsInstructionDataSerializer=C$e;function c4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},destination:{index:4,isWritable:!0,value:e.destination??null}};r.metadata.value||(r.metadata.value=(0,ibe.findMetadataPda)(n,{mint:(0,a7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,ibe.findMasterEditionPda)(n,{mint:(0,a7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,a7.getAccountMetasAndSigners)(s,"programId",t),a=C$e().serialize({}),c=0;return(0,a4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}QP.closeAccounts=c4t;var eE={};Object.defineProperty(eE,"__esModule",{value:!0});eE.closeEscrowAccount=eE.getCloseEscrowAccountInstructionDataSerializer=void 0;const obe=Z,c7=q,abe=Nt,u7=Ke;function M$e(){return(0,c7.mapSerializer)((0,c7.struct)([["discriminator",(0,c7.u8)()]],{description:"CloseEscrowAccountInstructionData"}),n=>({...n,discriminator:39}))}eE.getCloseEscrowAccountInstructionDataSerializer=M$e;function u4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.metadata.value||(r.metadata.value=(0,abe.findMetadataPda)(n,{mint:(0,u7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,abe.findMasterEditionPda)(n,{mint:(0,u7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,obe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,u7.getAccountMetasAndSigners)(s,"programId",t),a=M$e().serialize({}),c=0;return(0,obe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}eE.closeEscrowAccount=u4t;var tE={};Object.defineProperty(tE,"__esModule",{value:!0});tE.collect=tE.getCollectInstructionDataSerializer=void 0;const l4t=Z,l7=q,d4t=Ke;function B$e(){return(0,l7.mapSerializer)((0,l7.struct)([["discriminator",(0,l7.u8)()]],{description:"CollectInstructionData"}),n=>({...n,discriminator:54}))}tE.getCollectInstructionDataSerializer=B$e;function f4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},recipient:{index:1,isWritable:!1,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,d4t.getAccountMetasAndSigners)(s,"programId",t),a=B$e().serialize({}),c=0;return(0,l4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}tE.collect=f4t;var rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.convertMasterEditionV1ToV2=rE.getConvertMasterEditionV1ToV2InstructionDataSerializer=void 0;const h4t=Z,d7=q,g4t=Ke;function z$e(){return(0,d7.mapSerializer)((0,d7.struct)([["discriminator",(0,d7.u8)()]],{description:"ConvertMasterEditionV1ToV2InstructionData"}),n=>({...n,discriminator:12}))}rE.getConvertMasterEditionV1ToV2InstructionDataSerializer=z$e;function m4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={masterEdition:{index:0,isWritable:!0,value:e.masterEdition??null},oneTimeAuth:{index:1,isWritable:!0,value:e.oneTimeAuth??null},printingMint:{index:2,isWritable:!0,value:e.printingMint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,g4t.getAccountMetasAndSigners)(s,"programId",t),a=z$e().serialize({}),c=0;return(0,h4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}rE.convertMasterEditionV1ToV2=m4t;var nE={};Object.defineProperty(nE,"__esModule",{value:!0});nE.createEscrowAccount=nE.getCreateEscrowAccountInstructionDataSerializer=void 0;const cbe=Z,f7=q,ube=Nt,h7=Ke;function $$e(){return(0,f7.mapSerializer)((0,f7.struct)([["discriminator",(0,f7.u8)()]],{description:"CreateEscrowAccountInstructionData"}),n=>({...n,discriminator:38}))}nE.getCreateEscrowAccountInstructionDataSerializer=$$e;function y4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:8,isWritable:!1,value:e.authority??null}};r.metadata.value||(r.metadata.value=(0,ube.findMetadataPda)(n,{mint:(0,h7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,ube.findMasterEditionPda)(n,{mint:(0,h7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,cbe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,h7.getAccountMetasAndSigners)(s,"omitted",t),a=$$e().serialize({}),c=0;return(0,cbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}nE.createEscrowAccount=y4t;var sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.createMasterEditionV3=sE.getCreateMasterEditionV3InstructionDataSerializer=void 0;const p4t=Z,GC=q,lbe=Nt,g7=Ke;function D$e(){return(0,GC.mapSerializer)((0,GC.struct)([["discriminator",(0,GC.u8)()],["maxSupply",(0,GC.option)((0,GC.u64)())]],{description:"CreateMasterEditionV3InstructionData"}),n=>({...n,discriminator:17}))}sE.getCreateMasterEditionV3InstructionDataSerializer=D$e;function b4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={edition:{index:0,isWritable:!0,value:e.edition??null},mint:{index:1,isWritable:!0,value:e.mint??null},updateAuthority:{index:2,isWritable:!1,value:e.updateAuthority??null},mintAuthority:{index:3,isWritable:!1,value:e.mintAuthority??null},payer:{index:4,isWritable:!0,value:e.payer??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}},s={...e};r.edition.value||(r.edition.value=(0,lbe.findMasterEditionPda)(n,{mint:(0,g7.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,lbe.findMetadataPda)(n,{mint:(0,g7.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,g7.getAccountMetasAndSigners)(i,"omitted",t),c=D$e().serialize(s),u=0;return(0,p4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}sE.createMasterEditionV3=b4t;var iE={};Object.defineProperty(iE,"__esModule",{value:!0});iE.createMetadataAccountV3=iE.getCreateMetadataAccountV3InstructionDataSerializer=void 0;const S4t=Z,YC=q,k4t=Nt,dbe=Ke,fbe=lt;function O$e(){return(0,YC.mapSerializer)((0,YC.struct)([["discriminator",(0,YC.u8)()],["data",(0,fbe.getDataV2Serializer)()],["isMutable",(0,YC.bool)()],["collectionDetails",(0,YC.option)((0,fbe.getCollectionDetailsSerializer)())]],{description:"CreateMetadataAccountV3InstructionData"}),n=>({...n,discriminator:33}))}iE.getCreateMetadataAccountV3InstructionDataSerializer=O$e;function v4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},mint:{index:1,isWritable:!1,value:e.mint??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},updateAuthority:{index:4,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},rent:{index:6,isWritable:!1,value:e.rent??null}},s={...e};r.metadata.value||(r.metadata.value=(0,k4t.findMetadataPda)(n,{mint:(0,dbe.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dbe.getAccountMetasAndSigners)(i,"omitted",t),c=O$e().serialize(s),u=0;return(0,S4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}iE.createMetadataAccountV3=v4t;var oE={};Object.defineProperty(oE,"__esModule",{value:!0});oE.createV1=oE.getCreateV1InstructionDataSerializer=void 0;const Dv=Z,No=q,_0=an,hbe=Nt,k3=Ke,yy=lt;function K$e(){return(0,No.mapSerializer)((0,No.struct)([["discriminator",(0,No.u8)()],["createV1Discriminator",(0,No.u8)()],["name",(0,No.string)()],["symbol",(0,No.string)()],["uri",(0,No.string)()],["sellerFeeBasisPoints",(0,Dv.mapAmountSerializer)((0,No.u16)(),"%",2)],["creators",(0,No.option)((0,No.array)((0,yy.getCreatorSerializer)()))],["primarySaleHappened",(0,No.bool)()],["isMutable",(0,No.bool)()],["tokenStandard",(0,yy.getTokenStandardSerializer)()],["collection",(0,No.option)((0,yy.getCollectionSerializer)())],["uses",(0,No.option)((0,yy.getUsesSerializer)())],["collectionDetails",(0,No.option)((0,yy.getCollectionDetailsSerializer)())],["ruleSet",(0,No.option)((0,No.publicKey)())],["decimals",(0,No.option)((0,No.u8)())],["printSupply",(0,No.option)((0,yy.getPrintSupplySerializer)())]],{description:"CreateV1InstructionData"}),n=>({...n,discriminator:42,createV1Discriminator:0,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,tokenStandard:n.tokenStandard??yy.TokenStandard.NonFungible,collection:n.collection??(0,Dv.none)(),uses:n.uses??(0,Dv.none)(),ruleSet:n.ruleSet??(0,Dv.none)()}))}oE.getCreateV1InstructionDataSerializer=K$e;function A4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},masterEdition:{index:1,isWritable:!0,value:e.masterEdition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},payer:{index:4,isWritable:!0,value:e.payer??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:8,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.metadata.value||(r.metadata.value=(0,hbe.findMetadataPda)(n,{mint:(0,k3.expectPublicKey)(r.mint.value)})),s.tokenStandard||(s.tokenStandard=yy.TokenStandard.NonFungible),r.masterEdition.value||(0,_0.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,hbe.findMasterEditionPda)(n,{mint:(0,k3.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=(0,k3.expectSome)(r.authority.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Dv.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(0,_0.resolveIsNonFungibleOrIsMintSigner)(n,r,s,t,!1)&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),s.creators||(s.creators=(0,_0.resolveCreators)(n,r,s,t,!1)),s.isCollection||(s.isCollection=!1),s.collectionDetails||(s.collectionDetails=(0,_0.resolveCollectionDetails)(n,r,s,t,!1)),s.decimals||(s.decimals=(0,_0.resolveDecimals)(n,r,s,t,!1)),s.printSupply||(s.printSupply=(0,_0.resolvePrintSupply)(n,r,s,t,!1));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,k3.getAccountMetasAndSigners)(i,"programId",t),c=K$e().serialize(s),u=(0,_0.resolveCreateV1Bytes)(n,r,s,t);return(0,Dv.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}oE.createV1=A4t;var aE={};Object.defineProperty(aE,"__esModule",{value:!0});aE.delegateAuthorityItemV1=aE.getDelegateAuthorityItemV1InstructionDataSerializer=void 0;const Fj=Z,ZC=q,w4t=an,m7=Nt,P0=Ke,L$e=lt;function W$e(){return(0,ZC.mapSerializer)((0,ZC.struct)([["discriminator",(0,ZC.u8)()],["delegateAuthorityItemV1Discriminator",(0,ZC.u8)()],["authorizationData",(0,ZC.option)((0,L$e.getAuthorizationDataSerializer)())]],{description:"DelegateAuthorityItemV1InstructionData"}),n=>({...n,discriminator:44,delegateAuthorityItemV1Discriminator:9,authorizationData:n.authorizationData??(0,Fj.none)()}))}aE.getDelegateAuthorityItemV1InstructionDataSerializer=W$e;function I4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,P0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,m7.findMetadataDelegateRecordPda)(n,{delegateRole:L$e.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,P0.expectSome)(s.updateAuthority),mint:(0,P0.expectPublicKey)(r.mint.value),delegate:(0,P0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,m7.findMetadataPda)(n,{mint:(0,P0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,w4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,m7.findMasterEditionPda)(n,{mint:(0,P0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Fj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,P0.getAccountMetasAndSigners)(i,"programId",t),c=W$e().serialize(s),u=0;return(0,Fj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}aE.delegateAuthorityItemV1=I4t;var cE={};Object.defineProperty(cE,"__esModule",{value:!0});cE.delegateCollectionItemV1=cE.getDelegateCollectionItemV1InstructionDataSerializer=void 0;const Uj=Z,JC=q,_4t=an,y7=Nt,E0=Ke,N$e=lt;function F$e(){return(0,JC.mapSerializer)((0,JC.struct)([["discriminator",(0,JC.u8)()],["delegateCollectionItemV1Discriminator",(0,JC.u8)()],["authorizationData",(0,JC.option)((0,N$e.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionItemV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionItemV1Discriminator:11,authorizationData:n.authorizationData??(0,Uj.none)()}))}cE.getDelegateCollectionItemV1InstructionDataSerializer=F$e;function P4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,E0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,y7.findMetadataDelegateRecordPda)(n,{delegateRole:N$e.MetadataDelegateRole.CollectionItem,updateAuthority:(0,E0.expectSome)(s.updateAuthority),mint:(0,E0.expectPublicKey)(r.mint.value),delegate:(0,E0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,y7.findMetadataPda)(n,{mint:(0,E0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,_4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,y7.findMasterEditionPda)(n,{mint:(0,E0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Uj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,E0.getAccountMetasAndSigners)(i,"programId",t),c=F$e().serialize(s),u=0;return(0,Uj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cE.delegateCollectionItemV1=P4t;var uE={};Object.defineProperty(uE,"__esModule",{value:!0});uE.delegateCollectionV1=uE.getDelegateCollectionV1InstructionDataSerializer=void 0;const Vj=Z,XC=q,E4t=an,p7=Nt,x0=Ke,U$e=lt;function V$e(){return(0,XC.mapSerializer)((0,XC.struct)([["discriminator",(0,XC.u8)()],["delegateCollectionV1Discriminator",(0,XC.u8)()],["authorizationData",(0,XC.option)((0,U$e.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionV1Discriminator:0,authorizationData:n.authorizationData??(0,Vj.none)()}))}uE.getDelegateCollectionV1InstructionDataSerializer=V$e;function x4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,x0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,p7.findMetadataDelegateRecordPda)(n,{delegateRole:U$e.MetadataDelegateRole.Collection,updateAuthority:(0,x0.expectSome)(s.updateAuthority),mint:(0,x0.expectPublicKey)(r.mint.value),delegate:(0,x0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,p7.findMetadataPda)(n,{mint:(0,x0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,E4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,p7.findMasterEditionPda)(n,{mint:(0,x0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Vj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,x0.getAccountMetasAndSigners)(i,"programId",t),c=V$e().serialize(s),u=0;return(0,Vj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}uE.delegateCollectionV1=x4t;var lE={};Object.defineProperty(lE,"__esModule",{value:!0});lE.delegateDataItemV1=lE.getDelegateDataItemV1InstructionDataSerializer=void 0;const qj=Z,QC=q,T4t=an,b7=Nt,T0=Ke,q$e=lt;function j$e(){return(0,QC.mapSerializer)((0,QC.struct)([["discriminator",(0,QC.u8)()],["delegateDataItemV1Discriminator",(0,QC.u8)()],["authorizationData",(0,QC.option)((0,q$e.getAuthorizationDataSerializer)())]],{description:"DelegateDataItemV1InstructionData"}),n=>({...n,discriminator:44,delegateDataItemV1Discriminator:10,authorizationData:n.authorizationData??(0,qj.none)()}))}lE.getDelegateDataItemV1InstructionDataSerializer=j$e;function R4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,T0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,b7.findMetadataDelegateRecordPda)(n,{delegateRole:q$e.MetadataDelegateRole.DataItem,updateAuthority:(0,T0.expectSome)(s.updateAuthority),mint:(0,T0.expectPublicKey)(r.mint.value),delegate:(0,T0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,b7.findMetadataPda)(n,{mint:(0,T0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,T4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,b7.findMasterEditionPda)(n,{mint:(0,T0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,T0.getAccountMetasAndSigners)(i,"programId",t),c=j$e().serialize(s),u=0;return(0,qj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lE.delegateDataItemV1=R4t;var dE={};Object.defineProperty(dE,"__esModule",{value:!0});dE.delegateDataV1=dE.getDelegateDataV1InstructionDataSerializer=void 0;const jj=Z,e2=q,C4t=an,S7=Nt,R0=Ke,H$e=lt;function G$e(){return(0,e2.mapSerializer)((0,e2.struct)([["discriminator",(0,e2.u8)()],["delegateDataV1Discriminator",(0,e2.u8)()],["authorizationData",(0,e2.option)((0,H$e.getAuthorizationDataSerializer)())]],{description:"DelegateDataV1InstructionData"}),n=>({...n,discriminator:44,delegateDataV1Discriminator:3,authorizationData:n.authorizationData??(0,jj.none)()}))}dE.getDelegateDataV1InstructionDataSerializer=G$e;function M4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,R0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,S7.findMetadataDelegateRecordPda)(n,{delegateRole:H$e.MetadataDelegateRole.Data,updateAuthority:(0,R0.expectSome)(s.updateAuthority),mint:(0,R0.expectPublicKey)(r.mint.value),delegate:(0,R0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,S7.findMetadataPda)(n,{mint:(0,R0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,C4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,S7.findMasterEditionPda)(n,{mint:(0,R0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,jj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,R0.getAccountMetasAndSigners)(i,"programId",t),c=G$e().serialize(s),u=0;return(0,jj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}dE.delegateDataV1=M4t;var fE={};Object.defineProperty(fE,"__esModule",{value:!0});fE.delegateLockedTransferV1=fE.getDelegateLockedTransferV1InstructionDataSerializer=void 0;const B4t=Gs,Hj=Z,C0=q,z4t=an,v3=Nt,tg=Ke,Y$e=lt;function Z$e(){return(0,C0.mapSerializer)((0,C0.struct)([["discriminator",(0,C0.u8)()],["delegateLockedTransferV1Discriminator",(0,C0.u8)()],["amount",(0,C0.u64)()],["lockedAddress",(0,C0.publicKey)()],["authorizationData",(0,C0.option)((0,Y$e.getAuthorizationDataSerializer)())]],{description:"DelegateLockedTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateLockedTransferV1Discriminator:7,amount:n.amount??1,authorizationData:n.authorizationData??(0,Hj.none)()}))}fE.getDelegateLockedTransferV1InstructionDataSerializer=Z$e;function $4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,B4t.findAssociatedTokenPda)(n,{mint:(0,tg.expectPublicKey)(r.mint.value),owner:(0,tg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,v3.findTokenRecordPda)(n,{mint:(0,tg.expectPublicKey)(r.mint.value),token:(0,tg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,v3.findMetadataPda)(n,{mint:(0,tg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,z4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,v3.findMasterEditionPda)(n,{mint:(0,tg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===Y$e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,v3.findTokenRecordPda)(n,{mint:(0,tg.expectPublicKey)(r.mint.value),token:(0,tg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Hj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,tg.getAccountMetasAndSigners)(i,"programId",t),c=Z$e().serialize(s),u=0;return(0,Hj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}fE.delegateLockedTransferV1=$4t;var hE={};Object.defineProperty(hE,"__esModule",{value:!0});hE.delegatePrintDelegateV1=hE.getDelegatePrintDelegateV1InstructionDataSerializer=void 0;const Gj=Z,t2=q,D4t=an,gbe=Nt,k7=Ke,O4t=lt;function J$e(){return(0,t2.mapSerializer)((0,t2.struct)([["discriminator",(0,t2.u8)()],["delegatePrintDelegateV1Discriminator",(0,t2.u8)()],["authorizationData",(0,t2.option)((0,O4t.getAuthorizationDataSerializer)())]],{description:"DelegatePrintDelegateV1InstructionData"}),n=>({...n,discriminator:44,delegatePrintDelegateV1Discriminator:13,authorizationData:n.authorizationData??(0,Gj.none)()}))}hE.getDelegatePrintDelegateV1InstructionDataSerializer=J$e;function K4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.metadata.value||(r.metadata.value=(0,gbe.findMetadataPda)(n,{mint:(0,k7.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,D4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,gbe.findMasterEditionPda)(n,{mint:(0,k7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Gj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,k7.getAccountMetasAndSigners)(i,"programId",t),c=J$e().serialize(s),u=0;return(0,Gj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}hE.delegatePrintDelegateV1=K4t;var gE={};Object.defineProperty(gE,"__esModule",{value:!0});gE.delegateProgrammableConfigItemV1=gE.getDelegateProgrammableConfigItemV1InstructionDataSerializer=void 0;const Yj=Z,r2=q,L4t=an,v7=Nt,M0=Ke,X$e=lt;function Q$e(){return(0,r2.mapSerializer)((0,r2.struct)([["discriminator",(0,r2.u8)()],["delegateProgrammableConfigItemV1Discriminator",(0,r2.u8)()],["authorizationData",(0,r2.option)((0,X$e.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigItemV1Discriminator:12,authorizationData:n.authorizationData??(0,Yj.none)()}))}gE.getDelegateProgrammableConfigItemV1InstructionDataSerializer=Q$e;function W4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,M0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,v7.findMetadataDelegateRecordPda)(n,{delegateRole:X$e.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,M0.expectSome)(s.updateAuthority),mint:(0,M0.expectPublicKey)(r.mint.value),delegate:(0,M0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,v7.findMetadataPda)(n,{mint:(0,M0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,L4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,v7.findMasterEditionPda)(n,{mint:(0,M0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Yj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,M0.getAccountMetasAndSigners)(i,"programId",t),c=Q$e().serialize(s),u=0;return(0,Yj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gE.delegateProgrammableConfigItemV1=W4t;var mE={};Object.defineProperty(mE,"__esModule",{value:!0});mE.delegateProgrammableConfigV1=mE.getDelegateProgrammableConfigV1InstructionDataSerializer=void 0;const Zj=Z,n2=q,N4t=an,A7=Nt,B0=Ke,e8e=lt;function t8e(){return(0,n2.mapSerializer)((0,n2.struct)([["discriminator",(0,n2.u8)()],["delegateProgrammableConfigV1Discriminator",(0,n2.u8)()],["authorizationData",(0,n2.option)((0,e8e.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigV1Discriminator:8,authorizationData:n.authorizationData??(0,Zj.none)()}))}mE.getDelegateProgrammableConfigV1InstructionDataSerializer=t8e;function F4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,B0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,A7.findMetadataDelegateRecordPda)(n,{delegateRole:e8e.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,B0.expectSome)(s.updateAuthority),mint:(0,B0.expectPublicKey)(r.mint.value),delegate:(0,B0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,A7.findMetadataPda)(n,{mint:(0,B0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,N4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,A7.findMasterEditionPda)(n,{mint:(0,B0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Zj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,B0.getAccountMetasAndSigners)(i,"programId",t),c=t8e().serialize(s),u=0;return(0,Zj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mE.delegateProgrammableConfigV1=F4t;var yE={};Object.defineProperty(yE,"__esModule",{value:!0});yE.delegateSaleV1=yE.getDelegateSaleV1InstructionDataSerializer=void 0;const U4t=Gs,Jj=Z,tv=q,V4t=an,A3=Nt,rg=Ke,r8e=lt;function n8e(){return(0,tv.mapSerializer)((0,tv.struct)([["discriminator",(0,tv.u8)()],["delegateSaleV1Discriminator",(0,tv.u8)()],["amount",(0,tv.u64)()],["authorizationData",(0,tv.option)((0,r8e.getAuthorizationDataSerializer)())]],{description:"DelegateSaleV1InstructionData"}),n=>({...n,discriminator:44,delegateSaleV1Discriminator:1,amount:n.amount??1,authorizationData:n.authorizationData??(0,Jj.none)()}))}yE.getDelegateSaleV1InstructionDataSerializer=n8e;function q4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,U4t.findAssociatedTokenPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value),owner:(0,rg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,A3.findTokenRecordPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value),token:(0,rg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,A3.findMetadataPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,V4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,A3.findMasterEditionPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===r8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,A3.findTokenRecordPda)(n,{mint:(0,rg.expectPublicKey)(r.mint.value),token:(0,rg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Jj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,rg.getAccountMetasAndSigners)(i,"programId",t),c=n8e().serialize(s),u=0;return(0,Jj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yE.delegateSaleV1=q4t;var pE={};Object.defineProperty(pE,"__esModule",{value:!0});pE.delegateStakingV1=pE.getDelegateStakingV1InstructionDataSerializer=void 0;const j4t=Gs,Xj=Z,rv=q,H4t=an,w3=Nt,ng=Ke,s8e=lt;function i8e(){return(0,rv.mapSerializer)((0,rv.struct)([["discriminator",(0,rv.u8)()],["delegateStakingV1Discriminator",(0,rv.u8)()],["amount",(0,rv.u64)()],["authorizationData",(0,rv.option)((0,s8e.getAuthorizationDataSerializer)())]],{description:"DelegateStakingV1InstructionData"}),n=>({...n,discriminator:44,delegateStakingV1Discriminator:5,amount:n.amount??1,authorizationData:n.authorizationData??(0,Xj.none)()}))}pE.getDelegateStakingV1InstructionDataSerializer=i8e;function G4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,j4t.findAssociatedTokenPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value),owner:(0,ng.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,w3.findTokenRecordPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value),token:(0,ng.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,w3.findMetadataPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,H4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,w3.findMasterEditionPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===s8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,w3.findTokenRecordPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value),token:(0,ng.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Xj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ng.getAccountMetasAndSigners)(i,"programId",t),c=i8e().serialize(s),u=0;return(0,Xj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pE.delegateStakingV1=G4t;var bE={};Object.defineProperty(bE,"__esModule",{value:!0});bE.delegateStandardV1=bE.getDelegateStandardV1InstructionDataSerializer=void 0;const Y4t=Gs,mbe=Z,s2=q,Z4t=an,w7=Nt,z0=Ke;function o8e(){return(0,s2.mapSerializer)((0,s2.struct)([["discriminator",(0,s2.u8)()],["delegateStandardV1Discriminator",(0,s2.u8)()],["amount",(0,s2.u64)()]],{description:"DelegateStandardV1InstructionData"}),n=>({...n,discriminator:44,delegateStandardV1Discriminator:6,amount:n.amount??1}))}bE.getDelegateStandardV1InstructionDataSerializer=o8e;function J4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,Y4t.findAssociatedTokenPda)(n,{mint:(0,z0.expectPublicKey)(r.mint.value),owner:(0,z0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,w7.findTokenRecordPda)(n,{mint:(0,z0.expectPublicKey)(r.mint.value),token:(0,z0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,w7.findMetadataPda)(n,{mint:(0,z0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Z4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,w7.findMasterEditionPda)(n,{mint:(0,z0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,z0.getAccountMetasAndSigners)(i,"programId",t),c=o8e().serialize(s),u=0;return(0,mbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bE.delegateStandardV1=J4t;var SE={};Object.defineProperty(SE,"__esModule",{value:!0});SE.delegateTransferV1=SE.getDelegateTransferV1InstructionDataSerializer=void 0;const X4t=Gs,Qj=Z,nv=q,Q4t=an,I3=Nt,sg=Ke,a8e=lt;function c8e(){return(0,nv.mapSerializer)((0,nv.struct)([["discriminator",(0,nv.u8)()],["delegateTransferV1Discriminator",(0,nv.u8)()],["amount",(0,nv.u64)()],["authorizationData",(0,nv.option)((0,a8e.getAuthorizationDataSerializer)())]],{description:"DelegateTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateTransferV1Discriminator:2,amount:n.amount??1,authorizationData:n.authorizationData??(0,Qj.none)()}))}SE.getDelegateTransferV1InstructionDataSerializer=c8e;function eKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,X4t.findAssociatedTokenPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value),owner:(0,sg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,I3.findTokenRecordPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value),token:(0,sg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,I3.findMetadataPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Q4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,I3.findMasterEditionPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===a8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,I3.findTokenRecordPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value),token:(0,sg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,sg.getAccountMetasAndSigners)(i,"programId",t),c=c8e().serialize(s),u=0;return(0,Qj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}SE.delegateTransferV1=eKt;var kE={};Object.defineProperty(kE,"__esModule",{value:!0});kE.delegateUtilityV1=kE.getDelegateUtilityV1InstructionDataSerializer=void 0;const tKt=Gs,eH=Z,sv=q,rKt=an,_3=Nt,ig=Ke,u8e=lt;function l8e(){return(0,sv.mapSerializer)((0,sv.struct)([["discriminator",(0,sv.u8)()],["delegateUtilityV1Discriminator",(0,sv.u8)()],["amount",(0,sv.u64)()],["authorizationData",(0,sv.option)((0,u8e.getAuthorizationDataSerializer)())]],{description:"DelegateUtilityV1InstructionData"}),n=>({...n,discriminator:44,delegateUtilityV1Discriminator:4,amount:n.amount??1,authorizationData:n.authorizationData??(0,eH.none)()}))}kE.getDelegateUtilityV1InstructionDataSerializer=l8e;function nKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,tKt.findAssociatedTokenPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value),owner:(0,ig.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,_3.findTokenRecordPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value),token:(0,ig.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,_3.findMetadataPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,rKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,_3.findMasterEditionPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===u8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,_3.findTokenRecordPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value),token:(0,ig.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,eH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ig.getAccountMetasAndSigners)(i,"programId",t),c=l8e().serialize(s),u=0;return(0,eH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kE.delegateUtilityV1=nKt;var vE={};Object.defineProperty(vE,"__esModule",{value:!0});vE.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=vE.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=void 0;const ybe=Z,I7=q,P3=Nt,i2=Ke;function d8e(){return(0,I7.mapSerializer)((0,I7.struct)([["discriminator",(0,I7.u8)()]],{description:"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionData"}),n=>({...n,discriminator:3}))}vE.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=d8e;function sKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!1,value:e.mintAuthority??null},printingMint:{index:5,isWritable:!0,value:e.printingMint??null},masterTokenAccount:{index:6,isWritable:!0,value:e.masterTokenAccount??null},editionMarker:{index:7,isWritable:!0,value:e.editionMarker??null},burnAuthority:{index:8,isWritable:!1,value:e.burnAuthority??null},payer:{index:9,isWritable:!1,value:e.payer??null},masterUpdateAuthority:{index:10,isWritable:!1,value:e.masterUpdateAuthority??null},masterMetadata:{index:11,isWritable:!1,value:e.masterMetadata??null},tokenProgram:{index:12,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:13,isWritable:!1,value:e.systemProgram??null},rent:{index:14,isWritable:!1,value:e.rent??null},reservationList:{index:15,isWritable:!0,value:e.reservationList??null}};r.metadata.value||(r.metadata.value=(0,P3.findMetadataPda)(n,{mint:(0,i2.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,P3.findMasterEditionPda)(n,{mint:(0,i2.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,P3.findMasterEditionPda)(n,{mint:(0,i2.expectPublicKey)(r.mint.value)})),r.editionMarker.value||(r.editionMarker.value=(0,P3.findMasterEditionPda)(n,{mint:(0,i2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,ybe.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,i2.getAccountMetasAndSigners)(s,"omitted",t),a=d8e().serialize({}),c=0;return(0,ybe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}vE.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=sKt;var AE={};Object.defineProperty(AE,"__esModule",{value:!0});AE.freezeDelegatedAccount=AE.getFreezeDelegatedAccountInstructionDataSerializer=void 0;const iKt=Z,_7=q,oKt=Nt,pbe=Ke;function f8e(){return(0,_7.mapSerializer)((0,_7.struct)([["discriminator",(0,_7.u8)()]],{description:"FreezeDelegatedAccountInstructionData"}),n=>({...n,discriminator:26}))}AE.getFreezeDelegatedAccountInstructionDataSerializer=f8e;function aKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,oKt.findMasterEditionPda)(n,{mint:(0,pbe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,pbe.getAccountMetasAndSigners)(s,"programId",t),a=f8e().serialize({}),c=0;return(0,iKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}AE.freezeDelegatedAccount=aKt;var wE={};Object.defineProperty(wE,"__esModule",{value:!0});wE.lockV1=wE.getLockV1InstructionDataSerializer=void 0;const cKt=Gs,tH=Z,o2=q,bbe=an,P7=Nt,$0=Ke,rH=lt;function h8e(){return(0,o2.mapSerializer)((0,o2.struct)([["discriminator",(0,o2.u8)()],["lockV1Discriminator",(0,o2.u8)()],["authorizationData",(0,o2.option)((0,rH.getAuthorizationDataSerializer)())]],{description:"LockV1InstructionData"}),n=>({...n,discriminator:46,lockV1Discriminator:0,authorizationData:n.authorizationData??(0,tH.none)()}))}wE.getLockV1InstructionDataSerializer=h8e;function uKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,bbe.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,cKt.findAssociatedTokenPda)(n,{mint:(0,$0.expectPublicKey)(r.mint.value),owner:(0,$0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,P7.findMetadataPda)(n,{mint:(0,$0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,bbe.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,P7.findMasterEditionPda)(n,{mint:(0,$0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===rH.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,P7.findTokenRecordPda)(n,{mint:(0,$0.expectPublicKey)(r.mint.value),token:(0,$0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,tH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==rH.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$0.getAccountMetasAndSigners)(i,"programId",t),c=h8e().serialize(s),u=0;return(0,tH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wE.lockV1=uKt;var IE={};Object.defineProperty(IE,"__esModule",{value:!0});IE.migrate=IE.getMigrateInstructionDataSerializer=void 0;const Sbe=Z,E7=q,x7=Nt,a2=Ke;function g8e(){return(0,E7.mapSerializer)((0,E7.struct)([["discriminator",(0,E7.u8)()]],{description:"MigrateInstructionData"}),n=>({...n,discriminator:48}))}IE.getMigrateInstructionDataSerializer=g8e;function lKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},token:{index:2,isWritable:!0,value:e.token??null},tokenOwner:{index:3,isWritable:!1,value:e.tokenOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},payer:{index:5,isWritable:!0,value:e.payer??null},authority:{index:6,isWritable:!1,value:e.authority??null},collectionMetadata:{index:7,isWritable:!1,value:e.collectionMetadata??null},delegateRecord:{index:8,isWritable:!1,value:e.delegateRecord??null},tokenRecord:{index:9,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:10,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:12,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,x7.findMetadataPda)(n,{mint:(0,a2.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,x7.findMasterEditionPda)(n,{mint:(0,a2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.authority.value||(r.authority.value=n.identity),r.tokenRecord.value||(r.tokenRecord.value=(0,x7.findTokenRecordPda)(n,{mint:(0,a2.expectPublicKey)(r.mint.value),token:(0,a2.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,a2.getAccountMetasAndSigners)(s,"programId",t),a=g8e().serialize({}),c=0;return(0,Sbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}IE.migrate=lKt;var _E={};Object.defineProperty(_E,"__esModule",{value:!0});_E.mintNewEditionFromMasterEditionViaToken=_E.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=void 0;const dKt=Z,T7=q,fKt=Ke,hKt=lt;function m8e(){return(0,T7.mapSerializer)((0,T7.struct)([["discriminator",(0,T7.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,hKt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaTokenInstructionData"}),n=>({...n,discriminator:11}))}_E.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=m8e;function gKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},tokenAccountOwner:{index:7,isWritable:!1,value:e.tokenAccountOwner??null},tokenAccount:{index:8,isWritable:!1,value:e.tokenAccount??null},newMetadataUpdateAuthority:{index:9,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:10,isWritable:!1,value:e.metadata??null},tokenProgram:{index:11,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null},rent:{index:13,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,fKt.getAccountMetasAndSigners)(i,"omitted",t),c=m8e().serialize(s),u=0;return(0,dKt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_E.mintNewEditionFromMasterEditionViaToken=gKt;var PE={};Object.defineProperty(PE,"__esModule",{value:!0});PE.mintNewEditionFromMasterEditionViaVaultProxy=PE.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=void 0;const mKt=Z,R7=q,yKt=Ke,pKt=lt;function y8e(){return(0,R7.mapSerializer)((0,R7.struct)([["discriminator",(0,R7.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,pKt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaVaultProxyInstructionData"}),n=>({...n,discriminator:13}))}PE.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=y8e;function bKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},vaultAuthority:{index:7,isWritable:!1,value:e.vaultAuthority??null},safetyDepositStore:{index:8,isWritable:!1,value:e.safetyDepositStore??null},safetyDepositBox:{index:9,isWritable:!1,value:e.safetyDepositBox??null},vault:{index:10,isWritable:!1,value:e.vault??null},newMetadataUpdateAuthority:{index:11,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:12,isWritable:!1,value:e.metadata??null},tokenProgram:{index:13,isWritable:!1,value:e.tokenProgram??null},tokenVaultProgram:{index:14,isWritable:!1,value:e.tokenVaultProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null},rent:{index:16,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,yKt.getAccountMetasAndSigners)(i,"omitted",t),c=y8e().serialize(s),u=0;return(0,mKt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}PE.mintNewEditionFromMasterEditionViaVaultProxy=bKt;var EE={};Object.defineProperty(EE,"__esModule",{value:!0});EE.mintV1=EE.getMintV1InstructionDataSerializer=void 0;const SKt=Gs,nH=Z,iv=q,kbe=an,C7=Nt,D0=Ke,p8e=lt;function b8e(){return(0,iv.mapSerializer)((0,iv.struct)([["discriminator",(0,iv.u8)()],["mintV1Discriminator",(0,iv.u8)()],["amount",(0,iv.u64)()],["authorizationData",(0,iv.option)((0,p8e.getAuthorizationDataSerializer)())]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:43,mintV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,nH.none)()}))}EE.getMintV1InstructionDataSerializer=b8e;function kKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},metadata:{index:2,isWritable:!1,value:e.metadata??null},masterEdition:{index:3,isWritable:!0,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!0,value:e.mint??null},authority:{index:6,isWritable:!1,value:e.authority??null},delegateRecord:{index:7,isWritable:!1,value:e.delegateRecord??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:12,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,kbe.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,SKt.findAssociatedTokenPda)(n,{mint:(0,D0.expectPublicKey)(r.mint.value),owner:(0,D0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,C7.findMetadataPda)(n,{mint:(0,D0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,kbe.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,C7.findMasterEditionPda)(n,{mint:(0,D0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===p8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,C7.findTokenRecordPda)(n,{mint:(0,D0.expectPublicKey)(r.mint.value),token:(0,D0.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,nH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,D0.getAccountMetasAndSigners)(i,"programId",t),c=b8e().serialize(s),u=468;return(0,nH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}EE.mintV1=kKt;var xE={};Object.defineProperty(xE,"__esModule",{value:!0});xE.printV1=xE.getPrintV1InstructionDataSerializer=void 0;const vbe=Gs,Abe=Z,c2=q,vKt=an,ov=Nt,xc=Ke,wbe=lt;function S8e(){return(0,c2.mapSerializer)((0,c2.struct)([["discriminator",(0,c2.u8)()],["printV1Discriminator",(0,c2.u8)()],["editionNumber",(0,c2.u64)()]],{description:"PrintV1InstructionData"}),n=>({...n,discriminator:55,printV1Discriminator:0}))}xE.getPrintV1InstructionDataSerializer=S8e;function AKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,ov.findMetadataPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,ov.findMasterEditionPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,vbe.findAssociatedTokenPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value),owner:(0,xc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.masterTokenAccountOwner.value||(r.masterTokenAccountOwner.value=n.identity),r.editionMintAuthority.value||(r.editionMintAuthority.value=(0,xc.expectSome)(r.masterTokenAccountOwner.value)),r.editionTokenRecord.value||s.tokenStandard===wbe.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,ov.findTokenRecordPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value),token:(0,xc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,ov.findMasterEditionPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===wbe.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,ov.findEditionMarkerV2Pda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,vKt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint),editionNumber:(0,xc.expectSome)(s.editionNumber)})),r.payer.value||(r.payer.value=n.payer),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,vbe.findAssociatedTokenPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint),owner:(0,xc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,ov.findMetadataPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Abe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,xc.getAccountMetasAndSigners)(i,"programId",t),c=S8e().serialize(s),u=0;return(0,Abe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xE.printV1=AKt;var TE={};Object.defineProperty(TE,"__esModule",{value:!0});TE.printV2=TE.getPrintV2InstructionDataSerializer=void 0;const Ibe=Gs,_be=Z,u2=q,wKt=an,av=Nt,hc=Ke,Pbe=lt;function k8e(){return(0,u2.mapSerializer)((0,u2.struct)([["discriminator",(0,u2.u8)()],["printV2Discriminator",(0,u2.u8)()],["editionNumber",(0,u2.u64)()]],{description:"PrintV2InstructionData"}),n=>({...n,discriminator:55,printV2Discriminator:1}))}TE.getPrintV2InstructionDataSerializer=k8e;function IKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null},holderDelegateRecord:{index:18,isWritable:!1,value:e.holderDelegateRecord??null},delegate:{index:19,isWritable:!1,value:e.delegate??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,av.findMetadataPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,av.findMasterEditionPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,Ibe.findAssociatedTokenPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value),owner:(0,hc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.payer.value||(r.payer.value=n.payer),r.editionMintAuthority.value||(r.holderDelegateRecord.value?r.delegate.value?r.editionMintAuthority.value=(0,hc.expectSome)(r.delegate.value):r.editionMintAuthority.value=(0,hc.expectSome)(r.payer.value):r.editionMintAuthority.value=n.identity),r.editionTokenRecord.value||s.tokenStandard===Pbe.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,av.findTokenRecordPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value),token:(0,hc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,av.findMasterEditionPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===Pbe.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,av.findEditionMarkerV2Pda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,wKt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint),editionNumber:(0,hc.expectSome)(s.editionNumber)})),r.masterTokenAccountOwner.value||r.holderDelegateRecord.value||(r.masterTokenAccountOwner.value=n.identity),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,Ibe.findAssociatedTokenPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint),owner:(0,hc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,av.findMetadataPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,_be.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hc.getAccountMetasAndSigners)(i,"programId",t),c=k8e().serialize(s),u=0;return(0,_be.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}TE.printV2=IKt;var RE={};Object.defineProperty(RE,"__esModule",{value:!0});RE.puffMetadata=RE.getPuffMetadataInstructionDataSerializer=void 0;const _Kt=Z,M7=q,PKt=Ke;function v8e(){return(0,M7.mapSerializer)((0,M7.struct)([["discriminator",(0,M7.u8)()]],{description:"PuffMetadataInstructionData"}),n=>({...n,discriminator:14}))}RE.getPuffMetadataInstructionDataSerializer=v8e;function EKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,PKt.getAccountMetasAndSigners)(s,"programId",t),a=v8e().serialize({}),c=0;return(0,_Kt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}RE.puffMetadata=EKt;var CE={};Object.defineProperty(CE,"__esModule",{value:!0});CE.removeCreatorVerification=CE.getRemoveCreatorVerificationInstructionDataSerializer=void 0;const xKt=Z,B7=q,TKt=Ke;function A8e(){return(0,B7.mapSerializer)((0,B7.struct)([["discriminator",(0,B7.u8)()]],{description:"RemoveCreatorVerificationInstructionData"}),n=>({...n,discriminator:28}))}CE.getRemoveCreatorVerificationInstructionDataSerializer=A8e;function RKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,TKt.getAccountMetasAndSigners)(s,"programId",t),a=A8e().serialize({}),c=0;return(0,xKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}CE.removeCreatorVerification=RKt;var ME={};Object.defineProperty(ME,"__esModule",{value:!0});ME.resize=ME.getResizeInstructionDataSerializer=void 0;const CKt=Z,z7=q,Ebe=Nt,$7=Ke;function w8e(){return(0,z7.mapSerializer)((0,z7.struct)([["discriminator",(0,z7.u8)()]],{description:"ResizeInstructionData"}),n=>({...n,discriminator:56}))}ME.getResizeInstructionDataSerializer=w8e;function MKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},mint:{index:2,isWritable:!1,value:e.mint??null},payer:{index:3,isWritable:!0,value:e.payer??null},authority:{index:4,isWritable:!1,value:e.authority??null},token:{index:5,isWritable:!1,value:e.token??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}};r.metadata.value||(r.metadata.value=(0,Ebe.findMetadataPda)(n,{mint:(0,$7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Ebe.findMasterEditionPda)(n,{mint:(0,$7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,$7.getAccountMetasAndSigners)(s,"programId",t),a=w8e().serialize({}),c=0;return(0,CKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ME.resize=MKt;var BE={};Object.defineProperty(BE,"__esModule",{value:!0});BE.revokeAuthorityItemV1=BE.getRevokeAuthorityItemV1InstructionDataSerializer=void 0;const xbe=Z,E3=q,BKt=an,D7=Nt,O0=Ke,zKt=lt;function I8e(){return(0,E3.mapSerializer)((0,E3.struct)([["discriminator",(0,E3.u8)()],["revokeAuthorityItemV1Discriminator",(0,E3.u8)()]],{description:"RevokeAuthorityItemV1InstructionData"}),n=>({...n,discriminator:45,revokeAuthorityItemV1Discriminator:10}))}BE.getRevokeAuthorityItemV1InstructionDataSerializer=I8e;function $Kt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,O0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,D7.findMetadataDelegateRecordPda)(n,{delegateRole:zKt.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,O0.expectSome)(s.updateAuthority),mint:(0,O0.expectPublicKey)(r.mint.value),delegate:(0,O0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,D7.findMetadataPda)(n,{mint:(0,O0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,BKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,D7.findMasterEditionPda)(n,{mint:(0,O0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,xbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,O0.getAccountMetasAndSigners)(i,"programId",t),c=I8e().serialize({}),u=0;return(0,xbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}BE.revokeAuthorityItemV1=$Kt;var zE={};Object.defineProperty(zE,"__esModule",{value:!0});zE.revokeCollectionAuthority=zE.getRevokeCollectionAuthorityInstructionDataSerializer=void 0;const DKt=Z,O7=q,OKt=Nt,Tbe=Ke;function _8e(){return(0,O7.mapSerializer)((0,O7.struct)([["discriminator",(0,O7.u8)()]],{description:"RevokeCollectionAuthorityInstructionData"}),n=>({...n,discriminator:24}))}zE.getRevokeCollectionAuthorityInstructionDataSerializer=_8e;function KKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},delegateAuthority:{index:1,isWritable:!0,value:e.delegateAuthority??null},revokeAuthority:{index:2,isWritable:!0,value:e.revokeAuthority??null},metadata:{index:3,isWritable:!1,value:e.metadata??null},mint:{index:4,isWritable:!1,value:e.mint??null}};r.metadata.value||(r.metadata.value=(0,OKt.findMetadataPda)(n,{mint:(0,Tbe.expectPublicKey)(r.mint.value)}));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Tbe.getAccountMetasAndSigners)(s,"programId",t),a=_8e().serialize({}),c=0;return(0,DKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}zE.revokeCollectionAuthority=KKt;var $E={};Object.defineProperty($E,"__esModule",{value:!0});$E.revokeCollectionItemV1=$E.getRevokeCollectionItemV1InstructionDataSerializer=void 0;const Rbe=Z,x3=q,LKt=an,K7=Nt,K0=Ke,WKt=lt;function P8e(){return(0,x3.mapSerializer)((0,x3.struct)([["discriminator",(0,x3.u8)()],["revokeCollectionItemV1Discriminator",(0,x3.u8)()]],{description:"RevokeCollectionItemV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionItemV1Discriminator:12}))}$E.getRevokeCollectionItemV1InstructionDataSerializer=P8e;function NKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,K0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,K7.findMetadataDelegateRecordPda)(n,{delegateRole:WKt.MetadataDelegateRole.CollectionItem,updateAuthority:(0,K0.expectSome)(s.updateAuthority),mint:(0,K0.expectPublicKey)(r.mint.value),delegate:(0,K0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,K7.findMetadataPda)(n,{mint:(0,K0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,LKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,K7.findMasterEditionPda)(n,{mint:(0,K0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Rbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,K0.getAccountMetasAndSigners)(i,"programId",t),c=P8e().serialize({}),u=0;return(0,Rbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$E.revokeCollectionItemV1=NKt;var DE={};Object.defineProperty(DE,"__esModule",{value:!0});DE.revokeCollectionV1=DE.getRevokeCollectionV1InstructionDataSerializer=void 0;const Cbe=Z,T3=q,FKt=an,L7=Nt,L0=Ke,UKt=lt;function E8e(){return(0,T3.mapSerializer)((0,T3.struct)([["discriminator",(0,T3.u8)()],["revokeCollectionV1Discriminator",(0,T3.u8)()]],{description:"RevokeCollectionV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionV1Discriminator:0}))}DE.getRevokeCollectionV1InstructionDataSerializer=E8e;function VKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,L0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,L7.findMetadataDelegateRecordPda)(n,{delegateRole:UKt.MetadataDelegateRole.Collection,updateAuthority:(0,L0.expectSome)(s.updateAuthority),mint:(0,L0.expectPublicKey)(r.mint.value),delegate:(0,L0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,L7.findMetadataPda)(n,{mint:(0,L0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,FKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,L7.findMasterEditionPda)(n,{mint:(0,L0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Cbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,L0.getAccountMetasAndSigners)(i,"programId",t),c=E8e().serialize({}),u=0;return(0,Cbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}DE.revokeCollectionV1=VKt;var OE={};Object.defineProperty(OE,"__esModule",{value:!0});OE.revokeDataItemV1=OE.getRevokeDataItemV1InstructionDataSerializer=void 0;const Mbe=Z,R3=q,qKt=an,W7=Nt,W0=Ke,jKt=lt;function x8e(){return(0,R3.mapSerializer)((0,R3.struct)([["discriminator",(0,R3.u8)()],["revokeDataItemV1Discriminator",(0,R3.u8)()]],{description:"RevokeDataItemV1InstructionData"}),n=>({...n,discriminator:45,revokeDataItemV1Discriminator:11}))}OE.getRevokeDataItemV1InstructionDataSerializer=x8e;function HKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,W0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,W7.findMetadataDelegateRecordPda)(n,{delegateRole:jKt.MetadataDelegateRole.DataItem,updateAuthority:(0,W0.expectSome)(s.updateAuthority),mint:(0,W0.expectPublicKey)(r.mint.value),delegate:(0,W0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,W7.findMetadataPda)(n,{mint:(0,W0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,qKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,W7.findMasterEditionPda)(n,{mint:(0,W0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Mbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,W0.getAccountMetasAndSigners)(i,"programId",t),c=x8e().serialize({}),u=0;return(0,Mbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}OE.revokeDataItemV1=HKt;var KE={};Object.defineProperty(KE,"__esModule",{value:!0});KE.revokeDataV1=KE.getRevokeDataV1InstructionDataSerializer=void 0;const Bbe=Z,C3=q,GKt=an,N7=Nt,N0=Ke,YKt=lt;function T8e(){return(0,C3.mapSerializer)((0,C3.struct)([["discriminator",(0,C3.u8)()],["revokeDataV1Discriminator",(0,C3.u8)()]],{description:"RevokeDataV1InstructionData"}),n=>({...n,discriminator:45,revokeDataV1Discriminator:3}))}KE.getRevokeDataV1InstructionDataSerializer=T8e;function ZKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,N0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,N7.findMetadataDelegateRecordPda)(n,{delegateRole:YKt.MetadataDelegateRole.Data,updateAuthority:(0,N0.expectSome)(s.updateAuthority),mint:(0,N0.expectPublicKey)(r.mint.value),delegate:(0,N0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,N7.findMetadataPda)(n,{mint:(0,N0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,GKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,N7.findMasterEditionPda)(n,{mint:(0,N0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Bbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,N0.getAccountMetasAndSigners)(i,"programId",t),c=T8e().serialize({}),u=0;return(0,Bbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}KE.revokeDataV1=ZKt;var LE={};Object.defineProperty(LE,"__esModule",{value:!0});LE.revokeLockedTransferV1=LE.getRevokeLockedTransferV1InstructionDataSerializer=void 0;const JKt=Gs,zbe=Z,M3=q,XKt=an,B3=Nt,og=Ke,QKt=lt;function R8e(){return(0,M3.mapSerializer)((0,M3.struct)([["discriminator",(0,M3.u8)()],["revokeLockedTransferV1Discriminator",(0,M3.u8)()]],{description:"RevokeLockedTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeLockedTransferV1Discriminator:7}))}LE.getRevokeLockedTransferV1InstructionDataSerializer=R8e;function e6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,JKt.findAssociatedTokenPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value),owner:(0,og.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,B3.findTokenRecordPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value),token:(0,og.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,B3.findMetadataPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,XKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,B3.findMasterEditionPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===QKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,B3.findTokenRecordPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value),token:(0,og.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,zbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,og.getAccountMetasAndSigners)(i,"programId",t),c=R8e().serialize({}),u=0;return(0,zbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}LE.revokeLockedTransferV1=e6t;var WE={};Object.defineProperty(WE,"__esModule",{value:!0});WE.revokeMigrationV1=WE.getRevokeMigrationV1InstructionDataSerializer=void 0;const t6t=Gs,$be=Z,z3=q,r6t=an,$3=Nt,ag=Ke,n6t=lt;function C8e(){return(0,z3.mapSerializer)((0,z3.struct)([["discriminator",(0,z3.u8)()],["revokeMigrationV1Discriminator",(0,z3.u8)()]],{description:"RevokeMigrationV1InstructionData"}),n=>({...n,discriminator:45,revokeMigrationV1Discriminator:9}))}WE.getRevokeMigrationV1InstructionDataSerializer=C8e;function s6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,t6t.findAssociatedTokenPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value),owner:(0,ag.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,$3.findTokenRecordPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value),token:(0,ag.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,$3.findMetadataPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,r6t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,$3.findMasterEditionPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===n6t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,$3.findTokenRecordPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value),token:(0,ag.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,$be.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ag.getAccountMetasAndSigners)(i,"programId",t),c=C8e().serialize({}),u=0;return(0,$be.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}WE.revokeMigrationV1=s6t;var NE={};Object.defineProperty(NE,"__esModule",{value:!0});NE.revokePrintDelegateV1=NE.getRevokePrintDelegateV1InstructionDataSerializer=void 0;const Dbe=Z,D3=q,i6t=an,Obe=Nt,F7=Ke;function M8e(){return(0,D3.mapSerializer)((0,D3.struct)([["discriminator",(0,D3.u8)()],["revokePrintDelegateV1Discriminator",(0,D3.u8)()]],{description:"RevokePrintDelegateV1InstructionData"}),n=>({...n,discriminator:45,revokePrintDelegateV1Discriminator:14}))}NE.getRevokePrintDelegateV1InstructionDataSerializer=M8e;function o6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,Obe.findMetadataPda)(n,{mint:(0,F7.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,i6t.resolveIsNonFungible)(n,r,e,t,!1)&&(r.masterEdition.value=(0,Obe.findMasterEditionPda)(n,{mint:(0,F7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Dbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,F7.getAccountMetasAndSigners)(s,"programId",t),a=M8e().serialize({}),c=0;return(0,Dbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}NE.revokePrintDelegateV1=o6t;var FE={};Object.defineProperty(FE,"__esModule",{value:!0});FE.revokeProgrammableConfigItemV1=FE.getRevokeProgrammableConfigItemV1InstructionDataSerializer=void 0;const Kbe=Z,O3=q,a6t=an,U7=Nt,F0=Ke,c6t=lt;function B8e(){return(0,O3.mapSerializer)((0,O3.struct)([["discriminator",(0,O3.u8)()],["revokeProgrammableConfigItemV1Discriminator",(0,O3.u8)()]],{description:"RevokeProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigItemV1Discriminator:13}))}FE.getRevokeProgrammableConfigItemV1InstructionDataSerializer=B8e;function u6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,F0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,U7.findMetadataDelegateRecordPda)(n,{delegateRole:c6t.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,F0.expectSome)(s.updateAuthority),mint:(0,F0.expectPublicKey)(r.mint.value),delegate:(0,F0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,U7.findMetadataPda)(n,{mint:(0,F0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,a6t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,U7.findMasterEditionPda)(n,{mint:(0,F0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Kbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,F0.getAccountMetasAndSigners)(i,"programId",t),c=B8e().serialize({}),u=0;return(0,Kbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}FE.revokeProgrammableConfigItemV1=u6t;var UE={};Object.defineProperty(UE,"__esModule",{value:!0});UE.revokeProgrammableConfigV1=UE.getRevokeProgrammableConfigV1InstructionDataSerializer=void 0;const Lbe=Z,K3=q,l6t=an,V7=Nt,U0=Ke,d6t=lt;function z8e(){return(0,K3.mapSerializer)((0,K3.struct)([["discriminator",(0,K3.u8)()],["revokeProgrammableConfigV1Discriminator",(0,K3.u8)()]],{description:"RevokeProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigV1Discriminator:8}))}UE.getRevokeProgrammableConfigV1InstructionDataSerializer=z8e;function f6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,U0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,V7.findMetadataDelegateRecordPda)(n,{delegateRole:d6t.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,U0.expectSome)(s.updateAuthority),mint:(0,U0.expectPublicKey)(r.mint.value),delegate:(0,U0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,V7.findMetadataPda)(n,{mint:(0,U0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,l6t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,V7.findMasterEditionPda)(n,{mint:(0,U0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Lbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,U0.getAccountMetasAndSigners)(i,"programId",t),c=z8e().serialize({}),u=0;return(0,Lbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}UE.revokeProgrammableConfigV1=f6t;var VE={};Object.defineProperty(VE,"__esModule",{value:!0});VE.revokeSaleV1=VE.getRevokeSaleV1InstructionDataSerializer=void 0;const h6t=Gs,Wbe=Z,L3=q,g6t=an,W3=Nt,cg=Ke,m6t=lt;function $8e(){return(0,L3.mapSerializer)((0,L3.struct)([["discriminator",(0,L3.u8)()],["revokeSaleV1Discriminator",(0,L3.u8)()]],{description:"RevokeSaleV1InstructionData"}),n=>({...n,discriminator:45,revokeSaleV1Discriminator:1}))}VE.getRevokeSaleV1InstructionDataSerializer=$8e;function y6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,h6t.findAssociatedTokenPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value),owner:(0,cg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,W3.findTokenRecordPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value),token:(0,cg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,W3.findMetadataPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,g6t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,W3.findMasterEditionPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===m6t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,W3.findTokenRecordPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value),token:(0,cg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Wbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,cg.getAccountMetasAndSigners)(i,"programId",t),c=$8e().serialize({}),u=0;return(0,Wbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}VE.revokeSaleV1=y6t;var qE={};Object.defineProperty(qE,"__esModule",{value:!0});qE.revokeStakingV1=qE.getRevokeStakingV1InstructionDataSerializer=void 0;const p6t=Gs,Nbe=Z,N3=q,b6t=an,F3=Nt,ug=Ke,S6t=lt;function D8e(){return(0,N3.mapSerializer)((0,N3.struct)([["discriminator",(0,N3.u8)()],["revokeStakingV1Discriminator",(0,N3.u8)()]],{description:"RevokeStakingV1InstructionData"}),n=>({...n,discriminator:45,revokeStakingV1Discriminator:5}))}qE.getRevokeStakingV1InstructionDataSerializer=D8e;function k6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,p6t.findAssociatedTokenPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value),owner:(0,ug.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,F3.findTokenRecordPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value),token:(0,ug.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,F3.findMetadataPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,b6t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,F3.findMasterEditionPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===S6t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,F3.findTokenRecordPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value),token:(0,ug.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Nbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ug.getAccountMetasAndSigners)(i,"programId",t),c=D8e().serialize({}),u=0;return(0,Nbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qE.revokeStakingV1=k6t;var jE={};Object.defineProperty(jE,"__esModule",{value:!0});jE.revokeStandardV1=jE.getRevokeStandardV1InstructionDataSerializer=void 0;const v6t=Gs,Fbe=Z,U3=q,A6t=an,q7=Nt,V0=Ke;function O8e(){return(0,U3.mapSerializer)((0,U3.struct)([["discriminator",(0,U3.u8)()],["revokeStandardV1Discriminator",(0,U3.u8)()]],{description:"RevokeStandardV1InstructionData"}),n=>({...n,discriminator:45,revokeStandardV1Discriminator:6}))}jE.getRevokeStandardV1InstructionDataSerializer=O8e;function w6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,v6t.findAssociatedTokenPda)(n,{mint:(0,V0.expectPublicKey)(r.mint.value),owner:(0,V0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,q7.findTokenRecordPda)(n,{mint:(0,V0.expectPublicKey)(r.mint.value),token:(0,V0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,q7.findMetadataPda)(n,{mint:(0,V0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,A6t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,q7.findMasterEditionPda)(n,{mint:(0,V0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Fbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,V0.getAccountMetasAndSigners)(i,"programId",t),c=O8e().serialize({}),u=0;return(0,Fbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jE.revokeStandardV1=w6t;var HE={};Object.defineProperty(HE,"__esModule",{value:!0});HE.revokeTransferV1=HE.getRevokeTransferV1InstructionDataSerializer=void 0;const I6t=Gs,Ube=Z,V3=q,_6t=an,q3=Nt,lg=Ke,P6t=lt;function K8e(){return(0,V3.mapSerializer)((0,V3.struct)([["discriminator",(0,V3.u8)()],["revokeTransferV1Discriminator",(0,V3.u8)()]],{description:"RevokeTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeTransferV1Discriminator:2}))}HE.getRevokeTransferV1InstructionDataSerializer=K8e;function E6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,I6t.findAssociatedTokenPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value),owner:(0,lg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,q3.findTokenRecordPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value),token:(0,lg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,q3.findMetadataPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,_6t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,q3.findMasterEditionPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===P6t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,q3.findTokenRecordPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value),token:(0,lg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Ube.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,lg.getAccountMetasAndSigners)(i,"programId",t),c=K8e().serialize({}),u=0;return(0,Ube.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}HE.revokeTransferV1=E6t;var GE={};Object.defineProperty(GE,"__esModule",{value:!0});GE.revokeUseAuthority=GE.getRevokeUseAuthorityInstructionDataSerializer=void 0;const x6t=Z,j7=q,T6t=Nt,Vbe=Ke;function L8e(){return(0,j7.mapSerializer)((0,j7.struct)([["discriminator",(0,j7.u8)()]],{description:"RevokeUseAuthorityInstructionData"}),n=>({...n,discriminator:21}))}GE.getRevokeUseAuthorityInstructionDataSerializer=L8e;function R6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},user:{index:2,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:3,isWritable:!0,value:e.ownerTokenAccount??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}};r.metadata.value||(r.metadata.value=(0,T6t.findMetadataPda)(n,{mint:(0,Vbe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Vbe.getAccountMetasAndSigners)(s,"omitted",t),a=L8e().serialize({}),c=0;return(0,x6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}GE.revokeUseAuthority=R6t;var YE={};Object.defineProperty(YE,"__esModule",{value:!0});YE.revokeUtilityV1=YE.getRevokeUtilityV1InstructionDataSerializer=void 0;const C6t=Gs,qbe=Z,j3=q,M6t=an,H3=Nt,dg=Ke,B6t=lt;function W8e(){return(0,j3.mapSerializer)((0,j3.struct)([["discriminator",(0,j3.u8)()],["revokeUtilityV1Discriminator",(0,j3.u8)()]],{description:"RevokeUtilityV1InstructionData"}),n=>({...n,discriminator:45,revokeUtilityV1Discriminator:4}))}YE.getRevokeUtilityV1InstructionDataSerializer=W8e;function z6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,C6t.findAssociatedTokenPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value),owner:(0,dg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,H3.findTokenRecordPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value),token:(0,dg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,H3.findMetadataPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,M6t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,H3.findMasterEditionPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===B6t.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,H3.findTokenRecordPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value),token:(0,dg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dg.getAccountMetasAndSigners)(i,"programId",t),c=W8e().serialize({}),u=0;return(0,qbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}YE.revokeUtilityV1=z6t;var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});ZE.setAndVerifyCollection=ZE.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const $6t=Z,H7=q,D6t=Ke;function N8e(){return(0,H7.mapSerializer)((0,H7.struct)([["discriminator",(0,H7.u8)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:25}))}ZE.getSetAndVerifyCollectionInstructionDataSerializer=N8e;function O6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,D6t.getAccountMetasAndSigners)(s,"omitted",t),a=N8e().serialize({}),c=0;return(0,$6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ZE.setAndVerifyCollection=O6t;var JE={};Object.defineProperty(JE,"__esModule",{value:!0});JE.setAndVerifySizedCollectionItem=JE.getSetAndVerifySizedCollectionItemInstructionDataSerializer=void 0;const K6t=Z,G7=q,L6t=Ke;function F8e(){return(0,G7.mapSerializer)((0,G7.struct)([["discriminator",(0,G7.u8)()]],{description:"SetAndVerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:32}))}JE.getSetAndVerifySizedCollectionItemInstructionDataSerializer=F8e;function W6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,L6t.getAccountMetasAndSigners)(s,"omitted",t),a=F8e().serialize({}),c=0;return(0,K6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}JE.setAndVerifySizedCollectionItem=W6t;var XE={};Object.defineProperty(XE,"__esModule",{value:!0});XE.setCollectionSize=XE.getSetCollectionSizeInstructionDataSerializer=void 0;const N6t=Z,Y7=q,F6t=Ke,U6t=lt;function U8e(){return(0,Y7.mapSerializer)((0,Y7.struct)([["discriminator",(0,Y7.u8)()],["setCollectionSizeArgs",(0,U6t.getSetCollectionSizeArgsSerializer)()]],{description:"SetCollectionSizeInstructionData"}),n=>({...n,discriminator:34}))}XE.getSetCollectionSizeInstructionDataSerializer=U8e;function V6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionAuthorityRecord:{index:3,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,F6t.getAccountMetasAndSigners)(i,"omitted",t),c=U8e().serialize(s),u=0;return(0,N6t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XE.setCollectionSize=V6t;var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.setTokenStandard=QE.getSetTokenStandardInstructionDataSerializer=void 0;const q6t=Z,Z7=q,j6t=Nt,jbe=Ke;function V8e(){return(0,Z7.mapSerializer)((0,Z7.struct)([["discriminator",(0,Z7.u8)()]],{description:"SetTokenStandardInstructionData"}),n=>({...n,discriminator:35}))}QE.getSetTokenStandardInstructionDataSerializer=V8e;function H6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},mint:{index:2,isWritable:!1,value:e.mint??null},edition:{index:3,isWritable:!1,value:e.edition??null}};r.metadata.value||(r.metadata.value=(0,j6t.findMetadataPda)(n,{mint:(0,jbe.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,jbe.getAccountMetasAndSigners)(s,"omitted",t),a=V8e().serialize({}),c=0;return(0,q6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}QE.setTokenStandard=H6t;var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.signMetadata=ex.getSignMetadataInstructionDataSerializer=void 0;const G6t=Z,J7=q,Y6t=Ke;function q8e(){return(0,J7.mapSerializer)((0,J7.struct)([["discriminator",(0,J7.u8)()]],{description:"SignMetadataInstructionData"}),n=>({...n,discriminator:7}))}ex.getSignMetadataInstructionDataSerializer=q8e;function Z6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Y6t.getAccountMetasAndSigners)(s,"programId",t),a=q8e().serialize({}),c=0;return(0,G6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ex.signMetadata=Z6t;var tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.thawDelegatedAccount=tx.getThawDelegatedAccountInstructionDataSerializer=void 0;const J6t=Z,X7=q,X6t=Nt,Hbe=Ke;function j8e(){return(0,X7.mapSerializer)((0,X7.struct)([["discriminator",(0,X7.u8)()]],{description:"ThawDelegatedAccountInstructionData"}),n=>({...n,discriminator:27}))}tx.getThawDelegatedAccountInstructionDataSerializer=j8e;function Q6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,X6t.findMasterEditionPda)(n,{mint:(0,Hbe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Hbe.getAccountMetasAndSigners)(s,"programId",t),a=j8e().serialize({}),c=0;return(0,J6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}tx.thawDelegatedAccount=Q6t;var rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.transferOutOfEscrow=rx.getTransferOutOfEscrowInstructionDataSerializer=void 0;const Gbe=Z,G3=q,eLt=Ke;function H8e(){return(0,G3.mapSerializer)((0,G3.struct)([["discriminator",(0,G3.u8)()],["amount",(0,G3.u64)()]],{description:"TransferOutOfEscrowInstructionData"}),n=>({...n,discriminator:40,amount:n.amount??1}))}rx.getTransferOutOfEscrowInstructionDataSerializer=H8e;function tLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!1,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},payer:{index:2,isWritable:!0,value:e.payer??null},attributeMint:{index:3,isWritable:!1,value:e.attributeMint??null},attributeSrc:{index:4,isWritable:!0,value:e.attributeSrc??null},attributeDst:{index:5,isWritable:!0,value:e.attributeDst??null},escrowMint:{index:6,isWritable:!1,value:e.escrowMint??null},escrowAccount:{index:7,isWritable:!1,value:e.escrowAccount??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},ataProgram:{index:9,isWritable:!1,value:e.ataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:12,isWritable:!1,value:e.authority??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Gbe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,eLt.getAccountMetasAndSigners)(i,"omitted",t),c=H8e().serialize(s),u=0;return(0,Gbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}rx.transferOutOfEscrow=tLt;var nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.transferV1=nx.getTransferV1InstructionDataSerializer=void 0;const Ybe=Gs,sH=Z,cv=q,Y3=Nt,jl=Ke,LD=lt;function G8e(){return(0,cv.mapSerializer)((0,cv.struct)([["discriminator",(0,cv.u8)()],["transferV1Discriminator",(0,cv.u8)()],["amount",(0,cv.u64)()],["authorizationData",(0,cv.option)((0,LD.getAuthorizationDataSerializer)())]],{description:"TransferV1InstructionData"}),n=>({...n,discriminator:49,transferV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,sH.none)()}))}nx.getTransferV1InstructionDataSerializer=G8e;function rLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},destinationToken:{index:2,isWritable:!0,value:e.destinationToken??null},destinationOwner:{index:3,isWritable:!1,value:e.destinationOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},edition:{index:6,isWritable:!1,value:e.edition??null},tokenRecord:{index:7,isWritable:!0,value:e.tokenRecord??null},destinationTokenRecord:{index:8,isWritable:!0,value:e.destinationTokenRecord??null},authority:{index:9,isWritable:!1,value:e.authority??null},payer:{index:10,isWritable:!0,value:e.payer??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:14,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:15,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:16,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner.value=n.identity.publicKey),r.token.value||(r.token.value=(0,Ybe.findAssociatedTokenPda)(n,{mint:(0,jl.expectPublicKey)(r.mint.value),owner:(0,jl.expectPublicKey)(r.tokenOwner.value)})),r.destinationToken.value||(r.destinationToken.value=(0,Ybe.findAssociatedTokenPda)(n,{mint:(0,jl.expectPublicKey)(r.mint.value),owner:(0,jl.expectPublicKey)(r.destinationOwner.value)})),r.metadata.value||(r.metadata.value=(0,Y3.findMetadataPda)(n,{mint:(0,jl.expectPublicKey)(r.mint.value)})),r.edition.value||s.tokenStandard===LD.TokenStandard.ProgrammableNonFungible&&(r.edition.value=(0,Y3.findMasterEditionPda)(n,{mint:(0,jl.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===LD.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,Y3.findTokenRecordPda)(n,{mint:(0,jl.expectPublicKey)(r.mint.value),token:(0,jl.expectPublicKey)(r.token.value)})),r.destinationTokenRecord.value||s.tokenStandard===LD.TokenStandard.ProgrammableNonFungible&&(r.destinationTokenRecord.value=(0,Y3.findTokenRecordPda)(n,{token:(0,jl.expectPublicKey)(r.destinationToken.value),mint:(0,jl.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,sH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,jl.getAccountMetasAndSigners)(i,"programId",t),c=G8e().serialize(s),u=0;return(0,sH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}nx.transferV1=rLt;var sx={};Object.defineProperty(sx,"__esModule",{value:!0});sx.unlockV1=sx.getUnlockV1InstructionDataSerializer=void 0;const nLt=Gs,iH=Z,l2=q,Zbe=an,Q7=Nt,q0=Ke,oH=lt;function Y8e(){return(0,l2.mapSerializer)((0,l2.struct)([["discriminator",(0,l2.u8)()],["unlockV1Discriminator",(0,l2.u8)()],["authorizationData",(0,l2.option)((0,oH.getAuthorizationDataSerializer)())]],{description:"UnlockV1InstructionData"}),n=>({...n,discriminator:47,unlockV1Discriminator:0,authorizationData:n.authorizationData??(0,iH.none)()}))}sx.getUnlockV1InstructionDataSerializer=Y8e;function sLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Zbe.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,nLt.findAssociatedTokenPda)(n,{mint:(0,q0.expectPublicKey)(r.mint.value),owner:(0,q0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,Q7.findMetadataPda)(n,{mint:(0,q0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,Zbe.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,Q7.findMasterEditionPda)(n,{mint:(0,q0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===oH.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,Q7.findTokenRecordPda)(n,{mint:(0,q0.expectPublicKey)(r.mint.value),token:(0,q0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,iH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==oH.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,q0.getAccountMetasAndSigners)(i,"programId",t),c=Y8e().serialize(s),u=0;return(0,iH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}sx.unlockV1=sLt;var ix={};Object.defineProperty(ix,"__esModule",{value:!0});ix.unverifyCollection=ix.getUnverifyCollectionInstructionDataSerializer=void 0;const iLt=Z,eV=q,oLt=Ke;function Z8e(){return(0,eV.mapSerializer)((0,eV.struct)([["discriminator",(0,eV.u8)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:22}))}ix.getUnverifyCollectionInstructionDataSerializer=Z8e;function aLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collection:{index:3,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:4,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:5,isWritable:!1,value:e.collectionAuthorityRecord??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,oLt.getAccountMetasAndSigners)(s,"omitted",t),a=Z8e().serialize({}),c=0;return(0,iLt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ix.unverifyCollection=aLt;var ox={};Object.defineProperty(ox,"__esModule",{value:!0});ox.unverifyCollectionV1=ox.getUnverifyCollectionV1InstructionDataSerializer=void 0;const Jbe=Z,Z3=q,cLt=Nt,Xbe=Ke;function J8e(){return(0,Z3.mapSerializer)((0,Z3.struct)([["discriminator",(0,Z3.u8)()],["unverifyCollectionV1Discriminator",(0,Z3.u8)()]],{description:"UnverifyCollectionV1InstructionData"}),n=>({...n,discriminator:53,unverifyCollectionV1Discriminator:1}))}ox.getUnverifyCollectionV1InstructionDataSerializer=J8e;function uLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,cLt.findMetadataPda)(n,{mint:(0,Xbe.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Jbe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Xbe.getAccountMetasAndSigners)(s,"programId",t),a=J8e().serialize({}),c=0;return(0,Jbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ox.unverifyCollectionV1=uLt;var ax={};Object.defineProperty(ax,"__esModule",{value:!0});ax.unverifyCreatorV1=ax.getUnverifyCreatorV1InstructionDataSerializer=void 0;const Qbe=Z,J3=q,lLt=Ke;function X8e(){return(0,J3.mapSerializer)((0,J3.struct)([["discriminator",(0,J3.u8)()],["unverifyCreatorV1Discriminator",(0,J3.u8)()]],{description:"UnverifyCreatorV1InstructionData"}),n=>({...n,discriminator:53,unverifyCreatorV1Discriminator:0}))}ax.getUnverifyCreatorV1InstructionDataSerializer=X8e;function dLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qbe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,lLt.getAccountMetasAndSigners)(s,"programId",t),a=X8e().serialize({}),c=0;return(0,Qbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ax.unverifyCreatorV1=dLt;var cx={};Object.defineProperty(cx,"__esModule",{value:!0});cx.unverifySizedCollectionItem=cx.getUnverifySizedCollectionItemInstructionDataSerializer=void 0;const fLt=Z,tV=q,hLt=Ke;function Q8e(){return(0,tV.mapSerializer)((0,tV.struct)([["discriminator",(0,tV.u8)()]],{description:"UnverifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:31}))}cx.getUnverifySizedCollectionItemInstructionDataSerializer=Q8e;function gLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,hLt.getAccountMetasAndSigners)(s,"omitted",t),a=Q8e().serialize({}),c=0;return(0,fLt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}cx.unverifySizedCollectionItem=gLt;var ux={};Object.defineProperty(ux,"__esModule",{value:!0});ux.updateAsAuthorityItemDelegateV2=ux.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=void 0;const h1=Z,cl=q,e0e=Nt,d2=Ke,aH=lt;function e3e(){return(0,cl.mapSerializer)((0,cl.struct)([["discriminator",(0,cl.u8)()],["updateAsAuthorityItemDelegateV2Discriminator",(0,cl.u8)()],["newUpdateAuthority",(0,cl.option)((0,cl.publicKey)())],["primarySaleHappened",(0,cl.option)((0,cl.bool)())],["isMutable",(0,cl.option)((0,cl.bool)())],["tokenStandard",(0,cl.option)((0,aH.getTokenStandardSerializer)())],["authorizationData",(0,cl.option)((0,aH.getAuthorizationDataSerializer)())]],{description:"UpdateAsAuthorityItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsAuthorityItemDelegateV2Discriminator:2,newUpdateAuthority:n.newUpdateAuthority??(0,h1.none)(),primarySaleHappened:n.primarySaleHappened??(0,h1.none)(),isMutable:n.isMutable??(0,h1.none)(),tokenStandard:n.tokenStandard??(0,h1.none)(),authorizationData:n.authorizationData??(0,h1.none)()}))}ux.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=e3e;function mLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,e0e.findMetadataDelegateRecordPda)(n,{delegateRole:aH.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,d2.expectSome)(s.updateAuthority),delegate:(0,d2.expectPublicKey)(r.authority.value),mint:(0,d2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,e0e.findMetadataPda)(n,{mint:(0,d2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,h1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,d2.getAccountMetasAndSigners)(i,"programId",t),c=e3e().serialize(s),u=0;return(0,h1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ux.updateAsAuthorityItemDelegateV2=mLt;var lx={};Object.defineProperty(lx,"__esModule",{value:!0});lx.updateAsCollectionDelegateV2=lx.getUpdateAsCollectionDelegateV2InstructionDataSerializer=void 0;const cH=Z,f2=q,t0e=Nt,uv=Ke,WD=lt;function t3e(){return(0,f2.mapSerializer)((0,f2.struct)([["discriminator",(0,f2.u8)()],["updateAsCollectionDelegateV2Discriminator",(0,f2.u8)()],["collection",(0,WD.getCollectionToggleSerializer)()],["authorizationData",(0,f2.option)((0,WD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionDelegateV2Discriminator:3,collection:n.collection??(0,WD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,cH.none)()}))}lx.getUpdateAsCollectionDelegateV2InstructionDataSerializer=t3e;function yLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,uv.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,t0e.findMetadataDelegateRecordPda)(n,{mint:(0,uv.expectSome)(s.delegateMint),delegateRole:WD.MetadataDelegateRole.Collection,updateAuthority:(0,uv.expectSome)(s.delegateUpdateAuthority),delegate:(0,uv.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,t0e.findMetadataPda)(n,{mint:(0,uv.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,cH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,uv.getAccountMetasAndSigners)(i,"programId",t),c=t3e().serialize(s),u=0;return(0,cH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lx.updateAsCollectionDelegateV2=yLt;var dx={};Object.defineProperty(dx,"__esModule",{value:!0});dx.updateAsCollectionItemDelegateV2=dx.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=void 0;const uH=Z,h2=q,r0e=Nt,g2=Ke,ND=lt;function r3e(){return(0,h2.mapSerializer)((0,h2.struct)([["discriminator",(0,h2.u8)()],["updateAsCollectionItemDelegateV2Discriminator",(0,h2.u8)()],["collection",(0,ND.getCollectionToggleSerializer)()],["authorizationData",(0,h2.option)((0,ND.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionItemDelegateV2Discriminator:7,collection:n.collection??(0,ND.collectionToggle)("None"),authorizationData:n.authorizationData??(0,uH.none)()}))}dx.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=r3e;function pLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,r0e.findMetadataDelegateRecordPda)(n,{delegateRole:ND.MetadataDelegateRole.CollectionItem,updateAuthority:(0,g2.expectSome)(s.updateAuthority),delegate:(0,g2.expectPublicKey)(r.authority.value),mint:(0,g2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,r0e.findMetadataPda)(n,{mint:(0,g2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,uH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,g2.getAccountMetasAndSigners)(i,"programId",t),c=r3e().serialize(s),u=0;return(0,uH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}dx.updateAsCollectionItemDelegateV2=pLt;var fx={};Object.defineProperty(fx,"__esModule",{value:!0});fx.updateAsDataDelegateV2=fx.getUpdateAsDataDelegateV2InstructionDataSerializer=void 0;const e4=Z,lv=q,n0e=Nt,dv=Ke,lH=lt;function n3e(){return(0,lv.mapSerializer)((0,lv.struct)([["discriminator",(0,lv.u8)()],["updateAsDataDelegateV2Discriminator",(0,lv.u8)()],["data",(0,lv.option)((0,lH.getDataSerializer)())],["authorizationData",(0,lv.option)((0,lH.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataDelegateV2Discriminator:4,data:n.data??(0,e4.none)(),authorizationData:n.authorizationData??(0,e4.none)()}))}fx.getUpdateAsDataDelegateV2InstructionDataSerializer=n3e;function bLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,dv.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,n0e.findMetadataDelegateRecordPda)(n,{mint:(0,dv.expectSome)(s.delegateMint),delegateRole:lH.MetadataDelegateRole.Data,updateAuthority:(0,dv.expectSome)(s.delegateUpdateAuthority),delegate:(0,dv.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,n0e.findMetadataPda)(n,{mint:(0,dv.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,e4.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dv.getAccountMetasAndSigners)(i,"programId",t),c=n3e().serialize(s),u=0;return(0,e4.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}fx.updateAsDataDelegateV2=bLt;var hx={};Object.defineProperty(hx,"__esModule",{value:!0});hx.updateAsDataItemDelegateV2=hx.getUpdateAsDataItemDelegateV2InstructionDataSerializer=void 0;const t4=Z,fv=q,s0e=Nt,m2=Ke,dH=lt;function s3e(){return(0,fv.mapSerializer)((0,fv.struct)([["discriminator",(0,fv.u8)()],["updateAsDataItemDelegateV2Discriminator",(0,fv.u8)()],["data",(0,fv.option)((0,dH.getDataSerializer)())],["authorizationData",(0,fv.option)((0,dH.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataItemDelegateV2Discriminator:6,data:n.data??(0,t4.none)(),authorizationData:n.authorizationData??(0,t4.none)()}))}hx.getUpdateAsDataItemDelegateV2InstructionDataSerializer=s3e;function SLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,s0e.findMetadataDelegateRecordPda)(n,{delegateRole:dH.MetadataDelegateRole.DataItem,updateAuthority:(0,m2.expectSome)(s.updateAuthority),delegate:(0,m2.expectPublicKey)(r.authority.value),mint:(0,m2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,s0e.findMetadataPda)(n,{mint:(0,m2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,t4.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m2.getAccountMetasAndSigners)(i,"programId",t),c=s3e().serialize(s),u=0;return(0,t4.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}hx.updateAsDataItemDelegateV2=SLt;var gx={};Object.defineProperty(gx,"__esModule",{value:!0});gx.updateAsProgrammableConfigDelegateV2=gx.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=void 0;const fH=Z,y2=q,i0e=Nt,hv=Ke,FD=lt;function i3e(){return(0,y2.mapSerializer)((0,y2.struct)([["discriminator",(0,y2.u8)()],["updateAsProgrammableConfigDelegateV2Discriminator",(0,y2.u8)()],["ruleSet",(0,FD.getRuleSetToggleSerializer)()],["authorizationData",(0,y2.option)((0,FD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigDelegateV2Discriminator:5,ruleSet:n.ruleSet??(0,FD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,fH.none)()}))}gx.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=i3e;function kLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,hv.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,i0e.findMetadataDelegateRecordPda)(n,{mint:(0,hv.expectSome)(s.delegateMint),delegateRole:FD.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,hv.expectSome)(s.delegateUpdateAuthority),delegate:(0,hv.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,i0e.findMetadataPda)(n,{mint:(0,hv.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,fH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hv.getAccountMetasAndSigners)(i,"programId",t),c=i3e().serialize(s),u=0;return(0,fH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gx.updateAsProgrammableConfigDelegateV2=kLt;var mx={};Object.defineProperty(mx,"__esModule",{value:!0});mx.updateAsProgrammableConfigItemDelegateV2=mx.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=void 0;const hH=Z,p2=q,o0e=Nt,b2=Ke,UD=lt;function o3e(){return(0,p2.mapSerializer)((0,p2.struct)([["discriminator",(0,p2.u8)()],["updateAsProgrammableConfigItemDelegateV2Discriminator",(0,p2.u8)()],["ruleSet",(0,UD.getRuleSetToggleSerializer)()],["authorizationData",(0,p2.option)((0,UD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigItemDelegateV2Discriminator:8,ruleSet:n.ruleSet??(0,UD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,hH.none)()}))}mx.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=o3e;function vLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,o0e.findMetadataDelegateRecordPda)(n,{delegateRole:UD.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,b2.expectSome)(s.updateAuthority),delegate:(0,b2.expectPublicKey)(r.authority.value),mint:(0,b2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,o0e.findMetadataPda)(n,{mint:(0,b2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,hH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b2.getAccountMetasAndSigners)(i,"programId",t),c=o3e().serialize(s),u=0;return(0,hH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mx.updateAsProgrammableConfigItemDelegateV2=vLt;var yx={};Object.defineProperty(yx,"__esModule",{value:!0});yx.updateAsUpdateAuthorityV2=yx.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=void 0;const ky=Z,Mu=q,ALt=Nt,a0e=Ke,Hl=lt;function a3e(){return(0,Mu.mapSerializer)((0,Mu.struct)([["discriminator",(0,Mu.u8)()],["updateAsUpdateAuthorityV2Discriminator",(0,Mu.u8)()],["newUpdateAuthority",(0,Mu.option)((0,Mu.publicKey)())],["data",(0,Mu.option)((0,Hl.getDataSerializer)())],["primarySaleHappened",(0,Mu.option)((0,Mu.bool)())],["isMutable",(0,Mu.option)((0,Mu.bool)())],["collection",(0,Hl.getCollectionToggleSerializer)()],["collectionDetails",(0,Hl.getCollectionDetailsToggleSerializer)()],["uses",(0,Hl.getUsesToggleSerializer)()],["ruleSet",(0,Hl.getRuleSetToggleSerializer)()],["tokenStandard",(0,Mu.option)((0,Hl.getTokenStandardSerializer)())],["authorizationData",(0,Mu.option)((0,Hl.getAuthorizationDataSerializer)())]],{description:"UpdateAsUpdateAuthorityV2InstructionData"}),n=>({...n,discriminator:50,updateAsUpdateAuthorityV2Discriminator:1,newUpdateAuthority:n.newUpdateAuthority??(0,ky.none)(),data:n.data??(0,ky.none)(),primarySaleHappened:n.primarySaleHappened??(0,ky.none)(),isMutable:n.isMutable??(0,ky.none)(),collection:n.collection??(0,Hl.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Hl.collectionDetailsToggle)("None"),uses:n.uses??(0,Hl.usesToggle)("None"),ruleSet:n.ruleSet??(0,Hl.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,ky.none)(),authorizationData:n.authorizationData??(0,ky.none)()}))}yx.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=a3e;function wLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,ALt.findMetadataPda)(n,{mint:(0,a0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ky.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,a0e.getAccountMetasAndSigners)(i,"programId",t),c=a3e().serialize(s),u=0;return(0,ky.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yx.updateAsUpdateAuthorityV2=wLt;var px={};Object.defineProperty(px,"__esModule",{value:!0});px.updateMetadataAccountV2=px.getUpdateMetadataAccountV2InstructionDataSerializer=void 0;const E2=Z,Gd=q,ILt=Ke,_Lt=lt;function c3e(){return(0,Gd.mapSerializer)((0,Gd.struct)([["discriminator",(0,Gd.u8)()],["data",(0,Gd.option)((0,_Lt.getDataV2Serializer)())],["newUpdateAuthority",(0,Gd.option)((0,Gd.publicKey)())],["primarySaleHappened",(0,Gd.option)((0,Gd.bool)())],["isMutable",(0,Gd.option)((0,Gd.bool)())]],{description:"UpdateMetadataAccountV2InstructionData"}),n=>({...n,discriminator:15,data:n.data??(0,E2.none)(),newUpdateAuthority:n.newUpdateAuthority??(0,E2.none)(),primarySaleHappened:n.primarySaleHappened??(0,E2.none)(),isMutable:n.isMutable??(0,E2.none)()}))}px.getUpdateMetadataAccountV2InstructionDataSerializer=c3e;function PLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null}},s={...e};r.updateAuthority.value||(r.updateAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ILt.getAccountMetasAndSigners)(i,"programId",t),c=c3e().serialize(s),u=0;return(0,E2.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}px.updateMetadataAccountV2=PLt;var bx={};Object.defineProperty(bx,"__esModule",{value:!0});bx.updatePrimarySaleHappenedViaToken=bx.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=void 0;const ELt=Z,rV=q,xLt=Ke;function u3e(){return(0,rV.mapSerializer)((0,rV.struct)([["discriminator",(0,rV.u8)()]],{description:"UpdatePrimarySaleHappenedViaTokenInstructionData"}),n=>({...n,discriminator:4}))}bx.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=u3e;function TLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!1,value:e.owner??null},token:{index:2,isWritable:!1,value:e.token??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xLt.getAccountMetasAndSigners)(s,"programId",t),a=u3e().serialize({}),c=0;return(0,ELt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}bx.updatePrimarySaleHappenedViaToken=TLt;var Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});Sx.updateV1=Sx.getUpdateV1InstructionDataSerializer=void 0;const g1=Z,ul=q,RLt=Nt,c0e=Ke,Yd=lt;function l3e(){return(0,ul.mapSerializer)((0,ul.struct)([["discriminator",(0,ul.u8)()],["updateV1Discriminator",(0,ul.u8)()],["newUpdateAuthority",(0,ul.option)((0,ul.publicKey)())],["data",(0,ul.option)((0,Yd.getDataSerializer)())],["primarySaleHappened",(0,ul.option)((0,ul.bool)())],["isMutable",(0,ul.option)((0,ul.bool)())],["collection",(0,Yd.getCollectionToggleSerializer)()],["collectionDetails",(0,Yd.getCollectionDetailsToggleSerializer)()],["uses",(0,Yd.getUsesToggleSerializer)()],["ruleSet",(0,Yd.getRuleSetToggleSerializer)()],["authorizationData",(0,ul.option)((0,Yd.getAuthorizationDataSerializer)())]],{description:"UpdateV1InstructionData"}),n=>({...n,discriminator:50,updateV1Discriminator:0,newUpdateAuthority:n.newUpdateAuthority??(0,g1.none)(),data:n.data??(0,g1.none)(),primarySaleHappened:n.primarySaleHappened??(0,g1.none)(),isMutable:n.isMutable??(0,g1.none)(),collection:n.collection??(0,Yd.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Yd.collectionDetailsToggle)("None"),uses:n.uses??(0,Yd.usesToggle)("None"),ruleSet:n.ruleSet??(0,Yd.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,g1.none)()}))}Sx.getUpdateV1InstructionDataSerializer=l3e;function CLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,RLt.findMetadataPda)(n,{mint:(0,c0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,g1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,c0e.getAccountMetasAndSigners)(i,"programId",t),c=l3e().serialize(s),u=0;return(0,g1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Sx.updateV1=CLt;var kx={};Object.defineProperty(kx,"__esModule",{value:!0});kx.useV1=kx.getUseV1InstructionDataSerializer=void 0;const gH=Z,S2=q,MLt=Nt,u0e=Ke,BLt=lt;function d3e(){return(0,S2.mapSerializer)((0,S2.struct)([["discriminator",(0,S2.u8)()],["useV1Discriminator",(0,S2.u8)()],["authorizationData",(0,S2.option)((0,BLt.getAuthorizationDataSerializer)())]],{description:"UseV1InstructionData"}),n=>({...n,discriminator:51,useV1Discriminator:0,authorizationData:n.authorizationData??(0,gH.none)()}))}kx.getUseV1InstructionDataSerializer=d3e;function zLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!0,value:e.delegateRecord??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!0,value:e.edition??null},payer:{index:6,isWritable:!1,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:10,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:11,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,MLt.findMetadataPda)(n,{mint:(0,u0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,gH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,u0e.getAccountMetasAndSigners)(i,"programId",t),c=d3e().serialize(s),u=0;return(0,gH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kx.useV1=zLt;var vx={};Object.defineProperty(vx,"__esModule",{value:!0});vx.utilize=vx.getUtilizeInstructionDataSerializer=void 0;const l0e=Z,X3=q,$Lt=Nt,d0e=Ke;function f3e(){return(0,X3.mapSerializer)((0,X3.struct)([["discriminator",(0,X3.u8)()],["numberOfUses",(0,X3.u64)()]],{description:"UtilizeInstructionData"}),n=>({...n,discriminator:19}))}vx.getUtilizeInstructionDataSerializer=f3e;function DLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},mint:{index:2,isWritable:!0,value:e.mint??null},useAuthority:{index:3,isWritable:!0,value:e.useAuthority??null},owner:{index:4,isWritable:!1,value:e.owner??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:6,isWritable:!1,value:e.ataProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null},useAuthorityRecord:{index:9,isWritable:!0,value:e.useAuthorityRecord??null},burner:{index:10,isWritable:!1,value:e.burner??null}},s={...e};r.metadata.value||(r.metadata.value=(0,$Lt.findMetadataPda)(n,{mint:(0,d0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,l0e.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,d0e.getAccountMetasAndSigners)(i,"omitted",t),c=f3e().serialize(s),u=0;return(0,l0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}vx.utilize=DLt;var Ax={};Object.defineProperty(Ax,"__esModule",{value:!0});Ax.verifyCollection=Ax.getVerifyCollectionInstructionDataSerializer=void 0;const OLt=Z,nV=q,KLt=Ke;function h3e(){return(0,nV.mapSerializer)((0,nV.struct)([["discriminator",(0,nV.u8)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:18}))}Ax.getVerifyCollectionInstructionDataSerializer=h3e;function LLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,KLt.getAccountMetasAndSigners)(s,"omitted",t),a=h3e().serialize({}),c=0;return(0,OLt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Ax.verifyCollection=LLt;var wx={};Object.defineProperty(wx,"__esModule",{value:!0});wx.verifyCollectionV1=wx.getVerifyCollectionV1InstructionDataSerializer=void 0;const f0e=Z,Q3=q,h0e=Nt,sV=Ke;function g3e(){return(0,Q3.mapSerializer)((0,Q3.struct)([["discriminator",(0,Q3.u8)()],["verifyCollectionV1Discriminator",(0,Q3.u8)()]],{description:"VerifyCollectionV1InstructionData"}),n=>({...n,discriminator:52,verifyCollectionV1Discriminator:1}))}wx.getVerifyCollectionV1InstructionDataSerializer=g3e;function WLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,h0e.findMetadataPda)(n,{mint:(0,sV.expectPublicKey)(r.collectionMint.value)})),r.collectionMasterEdition.value||(r.collectionMasterEdition.value=(0,h0e.findMasterEditionPda)(n,{mint:(0,sV.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,f0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,sV.getAccountMetasAndSigners)(s,"programId",t),a=g3e().serialize({}),c=0;return(0,f0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}wx.verifyCollectionV1=WLt;var Ix={};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.verifyCreatorV1=Ix.getVerifyCreatorV1InstructionDataSerializer=void 0;const g0e=Z,eD=q,NLt=Ke;function m3e(){return(0,eD.mapSerializer)((0,eD.struct)([["discriminator",(0,eD.u8)()],["verifyCreatorV1Discriminator",(0,eD.u8)()]],{description:"VerifyCreatorV1InstructionData"}),n=>({...n,discriminator:52,verifyCreatorV1Discriminator:0}))}Ix.getVerifyCreatorV1InstructionDataSerializer=m3e;function FLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,g0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,NLt.getAccountMetasAndSigners)(s,"programId",t),a=m3e().serialize({}),c=0;return(0,g0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Ix.verifyCreatorV1=FLt;var _x={};Object.defineProperty(_x,"__esModule",{value:!0});_x.verifySizedCollectionItem=_x.getVerifySizedCollectionItemInstructionDataSerializer=void 0;const ULt=Z,iV=q,VLt=Ke;function y3e(){return(0,iV.mapSerializer)((0,iV.struct)([["discriminator",(0,iV.u8)()]],{description:"VerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:30}))}_x.getVerifySizedCollectionItemInstructionDataSerializer=y3e;function qLt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,VLt.getAccountMetasAndSigners)(s,"omitted",t),a=y3e().serialize({}),c=0;return(0,ULt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}_x.verifySizedCollectionItem=qLt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(HP,n),t(GP,n),t(YP,n),t(ZP,n),t(JP,n),t(XP,n),t(QP,n),t(eE,n),t(tE,n),t(rE,n),t(nE,n),t(sE,n),t(iE,n),t(oE,n),t(aE,n),t(cE,n),t(uE,n),t(lE,n),t(dE,n),t(fE,n),t(hE,n),t(gE,n),t(mE,n),t(yE,n),t(pE,n),t(bE,n),t(SE,n),t(kE,n),t(vE,n),t(AE,n),t(wE,n),t(IE,n),t(_E,n),t(PE,n),t(EE,n),t(xE,n),t(TE,n),t(RE,n),t(CE,n),t(ME,n),t(BE,n),t(zE,n),t($E,n),t(DE,n),t(OE,n),t(KE,n),t(LE,n),t(WE,n),t(NE,n),t(FE,n),t(UE,n),t(VE,n),t(qE,n),t(jE,n),t(HE,n),t(GE,n),t(YE,n),t(ZE,n),t(JE,n),t(XE,n),t(QE,n),t(ex,n),t(tx,n),t(rx,n),t(nx,n),t(sx,n),t(ix,n),t(ox,n),t(ax,n),t(cx,n),t(ux,n),t(lx,n),t(dx,n),t(fx,n),t(hx,n),t(gx,n),t(mx,n),t(yx,n),t(px,n),t(bx,n),t(Sx,n),t(kx,n),t(vx,n),t(Ax,n),t(wx,n),t(Ix,n),t(_x,n)})(I$e);var p3e={},b3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenMetadataProgramId=n.getMplTokenMetadataProgram=n.createMplTokenMetadataProgram=n.MPL_TOKEN_METADATA_PROGRAM_ID=void 0;const e=Qse;n.MPL_TOKEN_METADATA_PROGRAM_ID="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";function t(){return{name:"mplTokenMetadata",publicKey:n.MPL_TOKEN_METADATA_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenMetadataErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenMetadataErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenMetadataProgram=t;function r(i,o){return i.programs.get("mplTokenMetadata",o)}n.getMplTokenMetadataProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenMetadata",n.MPL_TOKEN_METADATA_PROGRAM_ID,o)}n.getMplTokenMetadataProgramId=s})(b3e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(b3e,n)})(p3e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Nt,n),t(Qse,n),t(I$e,n),t(p3e,n),t(Ke,n),t(lt,n)})(Wb);var S3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFungibleAsset=n.createFungible=n.createProgrammableNft=n.createNft=n.createAndMint=void 0;const e=Z,t=Wb,r=(c,u)=>(0,e.transactionBuilder)().add((0,t.createV1)(c,u)).add((0,t.mintV1)(c,{...u,mint:(0,e.publicKey)(u.mint)}));n.createAndMint=r;const s=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.NonFungible,amount:1});n.createNft=s;const i=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.ProgrammableNonFungible,amount:1});n.createProgrammableNft=i;const o=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.Fungible});n.createFungible=o;const a=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.FungibleAsset});n.createFungibleAsset=a})(S3e);var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.deserializeDigitalAssetWithToken=Ic.fetchAllDigitalAssetWithTokenByMint=Ic.fetchAllDigitalAssetWithTokenByOwnerAndMint=Ic.fetchAllDigitalAssetWithTokenByOwner=Ic.fetchDigitalAssetWithTokenByMint=Ic.fetchDigitalAssetWithAssociatedToken=Ic.fetchDigitalAssetWithToken=void 0;const Kp=Z,i5=Gs,k3e=s5,id=Wb;async function v3e(n,e,t,r){const[s,i,o,a,c]=await n.rpc.getAccounts([e,(0,id.findMetadataPda)(n,{mint:e})[0],(0,id.findMasterEditionPda)(n,{mint:e})[0],t,(0,id.findTokenRecordPda)(n,{mint:e,token:t})[0]],r);return(0,Kp.assertAccountExists)(s,"Mint"),(0,Kp.assertAccountExists)(i,"Metadata"),(0,Kp.assertAccountExists)(a,"Token"),Nce(s,i,a,o.exists?o:void 0,c.exists?c:void 0)}Ic.fetchDigitalAssetWithToken=v3e;async function jLt(n,e,t,r){const[s]=(0,i5.findAssociatedTokenPda)(n,{mint:e,owner:t});return v3e(n,e,s,r)}Ic.fetchDigitalAssetWithAssociatedToken=jLt;async function HLt(n,e,t){const r=await w3e(n,e,t);if(r.length===0)throw new Error("No valid token accounts found for the provided mint");if(r.length>1)throw new Error("Multiple valid token accounts found for the provided mintuse `fetchAllDigitalAssetWithTokenByMint` instead to retrieve them all.");return r[0]}Ic.fetchDigitalAssetWithTokenByMint=HLt;async function A3e(n,e,t){const r=await(0,i5.fetchAllTokenByOwner)(n,e,t),s=r.flatMap(o=>[o.mint,(0,id.findMetadataPda)(n,{mint:o.mint})[0],(0,id.findMasterEditionPda)(n,{mint:o.mint})[0],(0,id.findTokenRecordPda)(n,{mint:o.mint,token:o.publicKey})[0]]),i=await n.rpc.getAccounts(s,t);return(0,Kp.zipMap)(r,(0,Kp.chunk)(i,4),(o,a)=>{if(!a||a.length!==4)return[];const[c,u,l,d]=a;if(!c.exists||!u.exists)return[];try{return[{...(0,k3e.deserializeDigitalAsset)(c,u,l.exists?l:void 0),token:o,tokenRecord:d.exists?(0,id.deserializeTokenRecord)(d):void 0}]}catch{return[]}}).flat()}Ic.fetchAllDigitalAssetWithTokenByOwner=A3e;function GLt(n,e,t,r){return A3e(n,e,{...r,mint:t})}Ic.fetchAllDigitalAssetWithTokenByOwnerAndMint=GLt;async function w3e(n,e,t){const s=(await(0,i5.findLargestTokensByMint)(n,e,t)).filter(d=>d.amount.basisPoints>0).map(d=>d.publicKey),i=[e,(0,id.findMetadataPda)(n,{mint:e})[0],(0,id.findMasterEditionPda)(n,{mint:e})[0]];i.push(...s.flatMap(d=>[d,(0,id.findTokenRecordPda)(n,{mint:e,token:d})[0]]));const o=await n.rpc.getAccounts(i,t),[a,c,u,...l]=o;return(0,Kp.assertAccountExists)(a,"Mint"),(0,Kp.assertAccountExists)(c,"Metadata"),(0,Kp.chunk)(l,2).flatMap(([d,y])=>d.exists?[Nce(a,c,d,u.exists?u:void 0,y.exists?y:void 0)]:[])}Ic.fetchAllDigitalAssetWithTokenByMint=w3e;function Nce(n,e,t,r,s){return{...(0,k3e.deserializeDigitalAsset)(n,e,r),token:(0,i5.deserializeToken)(t),tokenRecord:s?(0,id.deserializeTokenRecord)(s):void 0}}Ic.deserializeDigitalAssetWithToken=Nce;var o5={};Object.defineProperty(o5,"__esModule",{value:!0});o5.fetchJsonMetadata=void 0;const YLt=Nb,ZLt=async(n,e)=>{try{return await n.downloader.downloadJson(e)}catch(t){throw new YLt.TokenMetadataError(`Failed to fetch JSON metadata from ${e}`,t)}};o5.fetchJsonMetadata=ZLt;var a5={};Object.defineProperty(a5,"__esModule",{value:!0});a5.mplTokenMetadata=void 0;const JLt=Gs,XLt=Wb,QLt=()=>({install(n){n.use((0,JLt.mplToolbox)()),n.programs.add((0,XLt.createMplTokenMetadataProgram)(),!1)}});a5.mplTokenMetadata=QLt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Wb,n),t(an,n),t(S3e,n),t(s5,n),t(Ic,n),t(Nb,n),t(o5,n),t(a5,n)})(vBe);var c5={},Fce={},u5={},Pc={},Hz={},Ak={};Object.defineProperty(Ak,"__esModule",{value:!0});var e5t=lc;function t5t(n){return n.toBase58()}function r5t(n){return new e5t.PublicKey(n)}Ak.fromWeb3JsPublicKey=t5t;Ak.toWeb3JsPublicKey=r5t;Object.defineProperty(Hz,"__esModule",{value:!0});var n5t=lc,s5t=V,r4=Ak;function i5t(n){return{keys:n.keys.map(e=>({...e,pubkey:r4.fromWeb3JsPublicKey(e.pubkey)})),programId:r4.fromWeb3JsPublicKey(n.programId),data:new Uint8Array(n.data)}}function o5t(n){return new n5t.TransactionInstruction({keys:n.keys.map(e=>({...e,pubkey:r4.toWeb3JsPublicKey(e.pubkey)})),programId:r4.toWeb3JsPublicKey(n.programId),data:s5t.Buffer.from(n.data)})}Hz.fromWeb3JsInstruction=i5t;Hz.toWeb3JsInstruction=o5t;var l5={};Object.defineProperty(l5,"__esModule",{value:!0});var a5t=Z,c5t=lc,u5t=Ak;function l5t(n){return{publicKey:u5t.fromWeb3JsPublicKey(n.publicKey),secretKey:n.secretKey}}function d5t(n){return new c5t.Keypair({publicKey:a5t.publicKeyBytes(n.publicKey),secretKey:n.secretKey})}l5.fromWeb3JsKeypair=l5t;l5.toWeb3JsKeypair=d5t;var lR={},dR={};Object.defineProperty(dR,"__esModule",{value:!0});var f5t=Z,H2=lc,m0e=Hz,Lg=Ak;function h5t(n){return{version:n.version,header:n.header,accounts:n.staticAccountKeys.map(Lg.fromWeb3JsPublicKey),blockhash:n.recentBlockhash,instructions:n.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:n.addressTableLookups.map(e=>({publicKey:Lg.fromWeb3JsPublicKey(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function g5t(n){return n.version==="legacy"?new H2.Message({header:n.header,accountKeys:n.accounts.map(Lg.toWeb3JsPublicKey),recentBlockhash:n.blockhash,instructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accounts:e.accountIndexes,data:f5t.base58.deserialize(e.data)[0]}))}):new H2.MessageV0({header:n.header,staticAccountKeys:n.accounts.map(Lg.toWeb3JsPublicKey),recentBlockhash:n.blockhash,compiledInstructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accountKeyIndexes:e.accountIndexes,data:e.data})),addressTableLookups:n.addressLookupTables.map(e=>({accountKey:Lg.toWeb3JsPublicKey(e.publicKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))})}function m5t(n){var e;return n.version==="legacy"?H2.Message.compile({payerKey:Lg.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(m0e.toWeb3JsInstruction),recentBlockhash:n.blockhash}):H2.MessageV0.compile({payerKey:Lg.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(m0e.toWeb3JsInstruction),recentBlockhash:n.blockhash,addressLookupTableAccounts:(e=n.addressLookupTables)==null?void 0:e.map(t=>new H2.AddressLookupTableAccount({key:Lg.toWeb3JsPublicKey(t.publicKey),state:{addresses:t.addresses.map(Lg.toWeb3JsPublicKey),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}dR.fromWeb3JsMessage=h5t;dR.toWeb3JsMessage=g5t;dR.toWeb3JsMessageFromInput=m5t;Object.defineProperty(lR,"__esModule",{value:!0});var y5t=Z,Uce=lc,Vce=dR;function p5t(n){return{message:Vce.fromWeb3JsMessage(n.message),serializedMessage:n.message.serialize(),signatures:n.signatures}}function I3e(n){return new Uce.VersionedTransaction(Vce.toWeb3JsMessage(n.message),n.signatures)}function b5t(n){const e=n.compileMessage(),t=n.signatures.reduce((s,i)=>(s[i.publicKey.toBase58()]=i.signature?new Uint8Array(i.signature):null,s),{}),r=[];for(let s=0;s<e.header.numRequiredSignatures;s+=1){const i=e.accountKeys[s].toBase58(),o=t[i]??null;r.push(o??new Uint8Array(Uce.SIGNATURE_LENGTH_IN_BYTES))}return{message:Vce.fromWeb3JsMessage(e),serializedMessage:e.serialize(),signatures:r}}function S5t(n){const e=I3e({...n,message:{...n.message,version:"legacy"}});return Uce.Transaction.populate(e.message,e.signatures.map(t=>y5t.base58.deserialize(t)[0]))}lR.fromWeb3JsLegacyTransaction=b5t;lR.fromWeb3JsTransaction=p5t;lR.toWeb3JsLegacyTransaction=S5t;lR.toWeb3JsTransaction=I3e;Object.defineProperty(Pc,"__esModule",{value:!0});var _3e=Hz,P3e=l5,E3e=Ak,d5=lR,qce=dR;Pc.fromWeb3JsInstruction=_3e.fromWeb3JsInstruction;Pc.toWeb3JsInstruction=_3e.toWeb3JsInstruction;Pc.fromWeb3JsKeypair=P3e.fromWeb3JsKeypair;Pc.toWeb3JsKeypair=P3e.toWeb3JsKeypair;Pc.fromWeb3JsPublicKey=E3e.fromWeb3JsPublicKey;Pc.toWeb3JsPublicKey=E3e.toWeb3JsPublicKey;Pc.fromWeb3JsLegacyTransaction=d5.fromWeb3JsLegacyTransaction;Pc.fromWeb3JsTransaction=d5.fromWeb3JsTransaction;Pc.toWeb3JsLegacyTransaction=d5.toWeb3JsLegacyTransaction;Pc.toWeb3JsTransaction=d5.toWeb3JsTransaction;Pc.fromWeb3JsMessage=qce.fromWeb3JsMessage;Pc.toWeb3JsMessage=qce.toWeb3JsMessage;Pc.toWeb3JsMessageFromInput=qce.toWeb3JsMessageFromInput;var x3e={},Oa={},Lp={},Cd={};Object.defineProperty(Cd,"__esModule",{value:!0});Cd.isBytes=R3e;Cd.number=n4;Cd.bool=T3e;Cd.bytes=jce;Cd.hash=C3e;Cd.exists=M3e;Cd.output=B3e;function n4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function T3e(n){if(typeof n!="boolean")throw new Error(`boolean expected, not ${n}`)}function R3e(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function jce(n,...e){if(!R3e(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function C3e(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");n4(n.outputLen),n4(n.blockLen)}function M3e(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function B3e(n,e){jce(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const k5t={number:n4,bool:T3e,bytes:jce,hash:C3e,exists:M3e,output:B3e};Cd.default=k5t;var f5={},h5={};Object.defineProperty(h5,"__esModule",{value:!0});h5.crypto=void 0;h5.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,"__esModule",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.byteSwap=n.isLE=n.rotl=n.rotr=n.createView=n.u32=n.u8=void 0,n.isBytes=r,n.byteSwap32=l,n.bytesToHex=y,n.hexToBytes=f,n.asyncLoop=b,n.utf8ToBytes=S,n.toBytes=p,n.concatBytes=I,n.checkOpts=_,n.wrapConstructor=P,n.wrapConstructorWithOpts=M,n.wrapXOFConstructorWithOpts=E,n.randomBytes=T;const e=h5,t=Cd;function r(z){return z instanceof Uint8Array||z!=null&&typeof z=="object"&&z.constructor.name==="Uint8Array"}const s=z=>new Uint8Array(z.buffer,z.byteOffset,z.byteLength);n.u8=s;const i=z=>new Uint32Array(z.buffer,z.byteOffset,Math.floor(z.byteLength/4));n.u32=i;const o=z=>new DataView(z.buffer,z.byteOffset,z.byteLength);n.createView=o;const a=(z,O)=>z<<32-O|z>>>O;n.rotr=a;const c=(z,O)=>z<<O|z>>>32-O>>>0;n.rotl=c,n.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=z=>z<<24&4278190080|z<<8&16711680|z>>>8&65280|z>>>24&255;n.byteSwap=u,n.byteSwapIfBE=n.isLE?z=>z:z=>(0,n.byteSwap)(z);function l(z){for(let O=0;O<z.length;O++)z[O]=(0,n.byteSwap)(z[O])}const d=Array.from({length:256},(z,O)=>O.toString(16).padStart(2,"0"));function y(z){(0,t.bytes)(z);let O="";for(let R=0;R<z.length;R++)O+=d[z[R]];return O}const h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function m(z){if(z>=h._0&&z<=h._9)return z-h._0;if(z>=h._A&&z<=h._F)return z-(h._A-10);if(z>=h._a&&z<=h._f)return z-(h._a-10)}function f(z){if(typeof z!="string")throw new Error("hex string expected, got "+typeof z);const O=z.length,R=O/2;if(O%2)throw new Error("padded hex string expected, got unpadded hex of length "+O);const v=new Uint8Array(R);for(let k=0,x=0;k<R;k++,x+=2){const C=m(z.charCodeAt(x)),B=m(z.charCodeAt(x+1));if(C===void 0||B===void 0){const D=z[x]+z[x+1];throw new Error('hex string expected, got non-hex character "'+D+'" at index '+x)}v[k]=C*16+B}return v}const g=async()=>{};n.nextTick=g;async function b(z,O,R){let v=Date.now();for(let k=0;k<z;k++){R(k);const x=Date.now()-v;x>=0&&x<O||(await(0,n.nextTick)(),v+=x)}}function S(z){if(typeof z!="string")throw new Error(`utf8ToBytes expected string, got ${typeof z}`);return new Uint8Array(new TextEncoder().encode(z))}function p(z){return typeof z=="string"&&(z=S(z)),(0,t.bytes)(z),z}function I(...z){let O=0;for(let v=0;v<z.length;v++){const k=z[v];(0,t.bytes)(k),O+=k.length}const R=new Uint8Array(O);for(let v=0,k=0;v<z.length;v++){const x=z[v];R.set(x,k),k+=x.length}return R}class A{clone(){return this._cloneInto()}}n.Hash=A;const w={}.toString;function _(z,O){if(O!==void 0&&w.call(O)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(z,O)}function P(z){const O=v=>z().update(p(v)).digest(),R=z();return O.outputLen=R.outputLen,O.blockLen=R.blockLen,O.create=()=>z(),O}function M(z){const O=(v,k)=>z(k).update(p(v)).digest(),R=z({});return O.outputLen=R.outputLen,O.blockLen=R.blockLen,O.create=v=>z(v),O}function E(z){const O=(v,k)=>z(k).update(p(v)).digest(),R=z({});return O.outputLen=R.outputLen,O.blockLen=R.blockLen,O.create=v=>z(v),O}function T(z=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(z));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(z);throw new Error("crypto.getRandomValues must be defined")}})(f5);Object.defineProperty(Lp,"__esModule",{value:!0});Lp.HashMD=Lp.Maj=Lp.Chi=void 0;const oV=Cd,k2=f5;function v5t(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const A5t=(n,e,t)=>n&e^~n&t;Lp.Chi=A5t;const w5t=(n,e,t)=>n&e^n&t^e&t;Lp.Maj=w5t;class I5t extends k2.Hash{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,k2.createView)(this.buffer)}update(e){(0,oV.exists)(this);const{view:t,buffer:r,blockLen:s}=this;e=(0,k2.toBytes)(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=(0,k2.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,oV.exists)(this),(0,oV.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;v5t(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=(0,k2.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}Lp.HashMD=I5t;var _r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.add5L=_r.add5H=_r.add4H=_r.add4L=_r.add3H=_r.add3L=_r.rotlBL=_r.rotlBH=_r.rotlSL=_r.rotlSH=_r.rotr32L=_r.rotr32H=_r.rotrBL=_r.rotrBH=_r.rotrSL=_r.rotrSH=_r.shrSL=_r.shrSH=_r.toBig=void 0;_r.fromBig=Hce;_r.split=z3e;_r.add=G3e;const tD=BigInt(2**32-1),mH=BigInt(32);function Hce(n,e=!1){return e?{h:Number(n&tD),l:Number(n>>mH&tD)}:{h:Number(n>>mH&tD)|0,l:Number(n&tD)|0}}function z3e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Hce(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const $3e=(n,e)=>BigInt(n>>>0)<<mH|BigInt(e>>>0);_r.toBig=$3e;const D3e=(n,e,t)=>n>>>t;_r.shrSH=D3e;const O3e=(n,e,t)=>n<<32-t|e>>>t;_r.shrSL=O3e;const K3e=(n,e,t)=>n>>>t|e<<32-t;_r.rotrSH=K3e;const L3e=(n,e,t)=>n<<32-t|e>>>t;_r.rotrSL=L3e;const W3e=(n,e,t)=>n<<64-t|e>>>t-32;_r.rotrBH=W3e;const N3e=(n,e,t)=>n>>>t-32|e<<64-t;_r.rotrBL=N3e;const F3e=(n,e)=>e;_r.rotr32H=F3e;const U3e=(n,e)=>n;_r.rotr32L=U3e;const V3e=(n,e,t)=>n<<t|e>>>32-t;_r.rotlSH=V3e;const q3e=(n,e,t)=>e<<t|n>>>32-t;_r.rotlSL=q3e;const j3e=(n,e,t)=>e<<t-32|n>>>64-t;_r.rotlBH=j3e;const H3e=(n,e,t)=>n<<t-32|e>>>64-t;_r.rotlBL=H3e;function G3e(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Y3e=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0);_r.add3L=Y3e;const Z3e=(n,e,t,r)=>e+t+r+(n/2**32|0)|0;_r.add3H=Z3e;const J3e=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0);_r.add4L=J3e;const X3e=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0;_r.add4H=X3e;const Q3e=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0);_r.add5L=Q3e;const eDe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0;_r.add5H=eDe;const _5t={fromBig:Hce,split:z3e,toBig:$3e,shrSH:D3e,shrSL:O3e,rotrSH:K3e,rotrSL:L3e,rotrBH:W3e,rotrBL:N3e,rotr32H:F3e,rotr32L:U3e,rotlSH:V3e,rotlSL:q3e,rotlBH:j3e,rotlBL:H3e,add:G3e,add3L:Y3e,add3H:Z3e,add4L:J3e,add4H:X3e,add5H:eDe,add5L:Q3e};_r.default=_5t;Object.defineProperty(Oa,"__esModule",{value:!0});Oa.sha384=Oa.sha512_256=Oa.sha512_224=Oa.sha512=Oa.SHA384=Oa.SHA512_256=Oa.SHA512_224=Oa.SHA512=void 0;const P5t=Lp,Wr=_r,g5=f5,[E5t,x5t]=(()=>Wr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),uy=new Uint32Array(80),ly=new Uint32Array(80);class Gz extends P5t.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)uy[p]=e.getUint32(t),ly[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=uy[p-15]|0,A=ly[p-15]|0,w=Wr.default.rotrSH(I,A,1)^Wr.default.rotrSH(I,A,8)^Wr.default.shrSH(I,A,7),_=Wr.default.rotrSL(I,A,1)^Wr.default.rotrSL(I,A,8)^Wr.default.shrSL(I,A,7),P=uy[p-2]|0,M=ly[p-2]|0,E=Wr.default.rotrSH(P,M,19)^Wr.default.rotrBH(P,M,61)^Wr.default.shrSH(P,M,6),T=Wr.default.rotrSL(P,M,19)^Wr.default.rotrBL(P,M,61)^Wr.default.shrSL(P,M,6),z=Wr.default.add4L(_,T,ly[p-7],ly[p-16]),O=Wr.default.add4H(z,w,E,uy[p-7],uy[p-16]);uy[p]=O|0,ly[p]=z|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Wr.default.rotrSH(d,y,14)^Wr.default.rotrSH(d,y,18)^Wr.default.rotrBH(d,y,41),A=Wr.default.rotrSL(d,y,14)^Wr.default.rotrSL(d,y,18)^Wr.default.rotrBL(d,y,41),w=d&h^~d&f,_=y&m^~y&g,P=Wr.default.add5L(S,A,_,x5t[p],ly[p]),M=Wr.default.add5H(P,b,I,w,E5t[p],uy[p]),E=P|0,T=Wr.default.rotrSH(r,s,28)^Wr.default.rotrBH(r,s,34)^Wr.default.rotrBH(r,s,39),z=Wr.default.rotrSL(r,s,28)^Wr.default.rotrBL(r,s,34)^Wr.default.rotrBL(r,s,39),O=r&i^r&a^i&a,R=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Wr.default.add(u|0,l|0,M|0,E|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Wr.default.add3L(E,z,R);r=Wr.default.add3H(v,M,T,O),s=v|0}({h:r,l:s}=Wr.default.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Wr.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Wr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Wr.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Wr.default.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Wr.default.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Wr.default.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Wr.default.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){uy.fill(0),ly.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Oa.SHA512=Gz;class tDe extends Gz{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Oa.SHA512_224=tDe;class rDe extends Gz{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Oa.SHA512_256=rDe;class nDe extends Gz{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Oa.SHA384=nDe;Oa.sha512=(0,g5.wrapConstructor)(()=>new Gz);Oa.sha512_224=(0,g5.wrapConstructor)(()=>new tDe);Oa.sha512_256=(0,g5.wrapConstructor)(()=>new rDe);Oa.sha384=(0,g5.wrapConstructor)(()=>new nDe);var Gce={},Yz={},gs={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.notImplemented=_n.bitMask=void 0;_n.isBytes=y5;_n.abytes=p5;_n.abool=R5t;_n.bytesToHex=Zce;_n.numberToHexUnpadded=sDe;_n.hexToNumber=Jce;_n.hexToBytes=b5;_n.bytesToNumberBE=M5t;_n.bytesToNumberLE=B5t;_n.numberToBytesBE=iDe;_n.numberToBytesLE=z5t;_n.numberToVarBytesBE=$5t;_n.ensureBytes=D5t;_n.concatBytes=oDe;_n.equalBytes=O5t;_n.utf8ToBytes=K5t;_n.inRange=aDe;_n.aInRange=L5t;_n.bitLen=W5t;_n.bitGet=N5t;_n.bitSet=F5t;_n.createHmacDrbg=V5t;_n.validateObject=j5t;_n.memoized=G5t;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Yce=BigInt(0),m5=BigInt(1),T5t=BigInt(2);function y5(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function p5(n){if(!y5(n))throw new Error("Uint8Array expected")}function R5t(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const C5t=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function Zce(n){p5(n);let e="";for(let t=0;t<n.length;t++)e+=C5t[n[t]];return e}function sDe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function Jce(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const fg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function y0e(n){if(n>=fg._0&&n<=fg._9)return n-fg._0;if(n>=fg._A&&n<=fg._F)return n-(fg._A-10);if(n>=fg._a&&n<=fg._f)return n-(fg._a-10)}function b5(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=y0e(n.charCodeAt(i)),a=y0e(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function M5t(n){return Jce(Zce(n))}function B5t(n){return p5(n),Jce(Zce(Uint8Array.from(n).reverse()))}function iDe(n,e){return b5(n.toString(16).padStart(e*2,"0"))}function z5t(n,e){return iDe(n,e).reverse()}function $5t(n){return b5(sDe(n))}function D5t(n,e,t){let r;if(typeof e=="string")try{r=b5(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(y5(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function oDe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];p5(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function O5t(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function K5t(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const aV=n=>typeof n=="bigint"&&Yce<=n;function aDe(n,e,t){return aV(n)&&aV(e)&&aV(t)&&e<=n&&n<t}function L5t(n,e,t,r){if(!aDe(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function W5t(n){let e;for(e=0;n>Yce;n>>=m5,e+=1);return e}function N5t(n,e){return n>>BigInt(e)&m5}function F5t(n,e,t){return n|(t?m5:Yce)<<BigInt(e)}const U5t=n=>(T5t<<BigInt(n-1))-m5;_n.bitMask=U5t;const cV=n=>new Uint8Array(n),p0e=n=>Uint8Array.from(n);function V5t(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=cV(n),s=cV(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=cV())=>{s=a(p0e([0]),d),r=a(),d.length!==0&&(s=a(p0e([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return oDe(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const q5t={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||y5(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function j5t(n,e,t={}){const r=(s,i,o)=>{const a=q5t[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const H5t=()=>{throw new Error("not implemented")};_n.notImplemented=H5t;function G5t(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}Object.defineProperty(gs,"__esModule",{value:!0});gs.isNegativeLE=void 0;gs.mod=Vu;gs.pow=cDe;gs.pow2=Z5t;gs.invert=s4;gs.tonelliShanks=uDe;gs.FpSqrt=lDe;gs.validateField=Q5t;gs.FpPow=dDe;gs.FpInvertBatch=fDe;gs.FpDiv=eWt;gs.FpLegendre=hDe;gs.FpIsSquare=tWt;gs.nLength=Xce;gs.Field=rWt;gs.FpSqrtOdd=nWt;gs.FpSqrtEven=sWt;gs.hashToPrivateScalar=iWt;gs.getFieldBytesLength=Qce;gs.getMinHashLength=gDe;gs.mapHashToField=oWt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ju=_n,tc=BigInt(0),Us=BigInt(1),Cy=BigInt(2),Y5t=BigInt(3),yH=BigInt(4),b0e=BigInt(5),S0e=BigInt(8);BigInt(9);BigInt(16);function Vu(n,e){const t=n%e;return t>=tc?t:e+t}function cDe(n,e,t){if(t<=tc||e<tc)throw new Error("Expected power/modulo > 0");if(t===Us)return tc;let r=Us;for(;e>tc;)e&Us&&(r=r*n%t),n=n*n%t,e>>=Us;return r}function Z5t(n,e,t){let r=n;for(;e-- >tc;)r*=r,r%=t;return r}function s4(n,e){if(n===tc||e<=tc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Vu(n,e),r=e,s=tc,i=Us;for(;t!==tc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Us)throw new Error("invert: does not exist");return Vu(s,e)}function uDe(n){const e=(n-Us)/Cy;let t,r,s;for(t=n-Us,r=0;t%Cy===tc;t/=Cy,r++);for(s=Cy;s<n&&cDe(s,e,n)!==n-Us;s++);if(r===1){const o=(n+Us)/yH;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Us)/Cy;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Us<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function lDe(n){if(n%yH===Y5t){const e=(n+Us)/yH;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%S0e===b0e){const e=(n-b0e)/S0e;return function(r,s){const i=r.mul(s,Cy),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Cy),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return uDe(n)}const J5t=(n,e)=>(Vu(n,e)&Us)===Us;gs.isNegativeLE=J5t;const X5t=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Q5t(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=X5t.reduce((r,s)=>(r[s]="function",r),e);return(0,Ju.validateObject)(n,t)}function dDe(n,e,t){if(t<tc)throw new Error("Expected power > 0");if(t===tc)return n.ONE;if(t===Us)return e;let r=n.ONE,s=e;for(;t>tc;)t&Us&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Us;return r}function fDe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function eWt(n,e,t){return n.mul(e,typeof t=="bigint"?s4(t,n.ORDER):n.inv(t))}function hDe(n){const e=(n-Us)/Cy;return(t,r)=>t.pow(r,e)}function tWt(n){const e=hDe(n.ORDER);return t=>{const r=e(n,t);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function Xce(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function rWt(n,e,t=!1,r={}){if(n<=tc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=Xce(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=lDe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:(0,Ju.bitMask)(s),ZERO:tc,ONE:Us,create:c=>Vu(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return tc<=c&&c<n},is0:c=>c===tc,isOdd:c=>(c&Us)===Us,neg:c=>Vu(-c,n),eql:(c,u)=>c===u,sqr:c=>Vu(c*c,n),add:(c,u)=>Vu(c+u,n),sub:(c,u)=>Vu(c-u,n),mul:(c,u)=>Vu(c*u,n),pow:(c,u)=>dDe(a,c,u),div:(c,u)=>Vu(c*s4(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>s4(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>fDe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?(0,Ju.numberToBytesLE)(c,i):(0,Ju.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?(0,Ju.bytesToNumberLE)(c):(0,Ju.bytesToNumberBE)(c)}});return Object.freeze(a)}function nWt(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function sWt(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function iWt(n,e,t=!1){n=(0,Ju.ensureBytes)("privateHash",n);const r=n.length,s=Xce(e).nByteLength+8;if(s<24||r<s||r>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${r}`);const i=t?(0,Ju.bytesToNumberLE)(n):(0,Ju.bytesToNumberBE)(n);return Vu(i,e-Us)+Us}function Qce(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function gDe(n){const e=Qce(n);return e+Math.ceil(e/2)}function oWt(n,e,t=!1){const r=n.length,s=Qce(e),i=gDe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?(0,Ju.bytesToNumberBE)(n):(0,Ju.bytesToNumberLE)(n),a=Vu(o,e-Us)+Us;return t?(0,Ju.numberToBytesLE)(a,s):(0,Ju.numberToBytesBE)(a,s)}Object.defineProperty(Yz,"__esModule",{value:!0});Yz.wNAF=cWt;Yz.pippenger=uWt;Yz.validateBasic=lWt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k0e=gs,mDe=_n,aWt=BigInt(0),uV=BigInt(1),lV=new WeakMap,v0e=new WeakMap;function cWt(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>aWt;)o&uV&&(a=a.add(c)),c=c.double(),o>>=uV;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=uV);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,A=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(A,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=v0e.get(i)||1;let u=lV.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&lV.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),v0e.set(i,o),lV.delete(i)}}}function uWt(n,e,t,r){if(!Array.isArray(t)||!Array.isArray(r)||r.length!==t.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((l,d)=>{if(!e.isValid(l))throw new Error(`wrong scalar at index ${d}`)}),t.forEach((l,d)=>{if(!(l instanceof n))throw new Error(`wrong point at index ${d}`)});const s=(0,mDe.bitLen)(BigInt(t.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,a=new Array(o+1).fill(n.ZERO),c=Math.floor((e.BITS-1)/i)*i;let u=n.ZERO;for(let l=c;l>=0;l-=i){a.fill(n.ZERO);for(let y=0;y<r.length;y++){const h=r[y],m=Number(h>>BigInt(l)&BigInt(o));a[m]=a[m].add(t[y])}let d=n.ZERO;for(let y=a.length-1,h=n.ZERO;y>0;y--)h=h.add(a[y]),d=d.add(h);if(u=u.add(d),l!==0)for(let y=0;y<i;y++)u=u.double()}return u}function lWt(n){return(0,k0e.validateField)(n.Fp),(0,mDe.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,k0e.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}Object.defineProperty(Gce,"__esModule",{value:!0});Gce.twistedEdwards=gWt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pH=Yz,A0e=gs,Jc=_n,Bu=_n,Gl=BigInt(0),Yc=BigInt(1),rD=BigInt(2),dWt=BigInt(8),fWt={zip215:!0};function hWt(n){const e=(0,pH.validateBasic)(n);return Jc.validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function gWt(n){const e=hWt(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=rD<<BigInt(a*8)-Yc,l=t.create,d=(0,A0e.Field)(e.n,e.nBitLength),y=e.uvRatio||((k,x)=>{try{return{isValid:!0,value:t.sqrt(k*t.inv(x))}}catch{return{isValid:!1,value:Gl}}}),h=e.adjustScalarBytes||(k=>k),m=e.domain||((k,x,C)=>{if((0,Bu.abool)("phflag",C),x.length||C)throw new Error("Contexts/pre-hash are not supported");return k});function f(k,x){Jc.aInRange("coordinate "+k,x,Gl,u)}function g(k){if(!(k instanceof p))throw new Error("ExtendedPoint expected")}const b=(0,Bu.memoized)((k,x)=>{const{ex:C,ey:B,ez:D}=k,$=k.is0();x==null&&(x=$?dWt:t.inv(D));const W=l(C*x),L=l(B*x),U=l(D*x);if($)return{x:Gl,y:Yc};if(U!==Yc)throw new Error("invZ was invalid");return{x:W,y:L}}),S=(0,Bu.memoized)(k=>{const{a:x,d:C}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:B,ey:D,ez:$,et:W}=k,L=l(B*B),U=l(D*D),G=l($*$),J=l(G*G),Q=l(L*x),Y=l(G*l(Q+U)),X=l(J+l(C*l(L*U)));if(Y!==X)throw new Error("bad point: equation left != right (1)");const re=l(B*D),se=l($*W);if(re!==se)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(x,C,B,D){this.ex=x,this.ey=C,this.ez=B,this.et=D,f("x",x),f("y",C),f("z",B),f("t",D),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof p)throw new Error("extended point not allowed");const{x:C,y:B}=x||{};return f("x",C),f("y",B),new p(C,B,Yc,l(C*B))}static normalizeZ(x){const C=t.invertBatch(x.map(B=>B.ez));return x.map((B,D)=>B.toAffine(C[D])).map(p.fromAffine)}static msm(x,C){return(0,pH.pippenger)(p,d,x,C)}_setWindowSize(x){w.setWindowSize(this,x)}assertValidity(){S(this)}equals(x){g(x);const{ex:C,ey:B,ez:D}=this,{ex:$,ey:W,ez:L}=x,U=l(C*L),G=l($*D),J=l(B*L),Q=l(W*D);return U===G&&J===Q}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:x}=e,{ex:C,ey:B,ez:D}=this,$=l(C*C),W=l(B*B),L=l(rD*l(D*D)),U=l(x*$),G=C+B,J=l(l(G*G)-$-W),Q=U+W,Y=Q-L,X=U-W,re=l(J*Y),se=l(Q*X),ee=l(J*X),ne=l(Y*Q);return new p(re,se,ne,ee)}add(x){g(x);const{a:C,d:B}=e,{ex:D,ey:$,ez:W,et:L}=this,{ex:U,ey:G,ez:J,et:Q}=x;if(C===BigInt(-1)){const Dt=l(($-D)*(G+U)),et=l(($+D)*(G-U)),Ue=l(et-Dt);if(Ue===Gl)return this.double();const Wt=l(W*rD*Q),sr=l(L*rD*J),tr=sr+Wt,pr=et+Dt,wr=sr-Wt,ls=l(tr*Ue),gn=l(pr*wr),ds=l(tr*wr),sl=l(Ue*pr);return new p(ls,gn,sl,ds)}const Y=l(D*U),X=l($*G),re=l(L*B*Q),se=l(W*J),ee=l((D+$)*(U+G)-Y-X),ne=se-re,ve=se+re,_e=l(X-C*Y),Le=l(ee*ne),We=l(ve*_e),Ft=l(ee*_e),Lt=l(ne*ve);return new p(Le,We,Lt,Ft)}subtract(x){return this.add(x.negate())}wNAF(x){return w.wNAFCached(this,x,p.normalizeZ)}multiply(x){const C=x;Jc.aInRange("scalar",C,Yc,r);const{p:B,f:D}=this.wNAF(C);return p.normalizeZ([B,D])[0]}multiplyUnsafe(x){const C=x;return Jc.aInRange("scalar",C,Gl,r),C===Gl?A:this.equals(A)||C===Yc?this:this.equals(I)?this.wNAF(C).p:w.unsafeLadder(this,C)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(x){return b(this,x)}clearCofactor(){const{h:x}=e;return x===Yc?this:this.multiplyUnsafe(x)}static fromHex(x,C=!1){const{d:B,a:D}=e,$=t.BYTES;x=(0,Bu.ensureBytes)("pointHex",x,$),(0,Bu.abool)("zip215",C);const W=x.slice(),L=x[$-1];W[$-1]=L&-129;const U=Jc.bytesToNumberLE(W),G=C?u:t.ORDER;Jc.aInRange("pointHex.y",U,Gl,G);const J=l(U*U),Q=l(J-Yc),Y=l(B*J-D);let{isValid:X,value:re}=y(Q,Y);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const se=(re&Yc)===Yc,ee=(L&128)!==0;if(!C&&re===Gl&&ee)throw new Error("Point.fromHex: x=0 and x_0=1");return ee!==se&&(re=l(-re)),p.fromAffine({x:re,y:U})}static fromPrivateKey(x){return M(x).point}toRawBytes(){const{x,y:C}=this.toAffine(),B=Jc.numberToBytesLE(C,t.BYTES);return B[B.length-1]|=x&Yc?128:0,B}toHex(){return Jc.bytesToHex(this.toRawBytes())}}p.BASE=new p(e.Gx,e.Gy,Yc,l(e.Gx*e.Gy)),p.ZERO=new p(Gl,Yc,Yc,Gl);const{BASE:I,ZERO:A}=p,w=(0,pH.wNAF)(p,a*8);function _(k){return(0,A0e.mod)(k,r)}function P(k){return _(Jc.bytesToNumberLE(k))}function M(k){const x=a;k=(0,Bu.ensureBytes)("private key",k,x);const C=(0,Bu.ensureBytes)("hashed private key",i(k),2*x),B=h(C.slice(0,x)),D=C.slice(x,2*x),$=P(B),W=I.multiply($),L=W.toRawBytes();return{head:B,prefix:D,scalar:$,point:W,pointBytes:L}}function E(k){return M(k).pointBytes}function T(k=new Uint8Array,...x){const C=Jc.concatBytes(...x);return P(i(m(C,(0,Bu.ensureBytes)("context",k),!!s)))}function z(k,x,C={}){k=(0,Bu.ensureBytes)("message",k),s&&(k=s(k));const{prefix:B,scalar:D,pointBytes:$}=M(x),W=T(C.context,B,k),L=I.multiply(W).toRawBytes(),U=T(C.context,L,$,k),G=_(W+U*D);Jc.aInRange("signature.s",G,Gl,r);const J=Jc.concatBytes(L,Jc.numberToBytesLE(G,t.BYTES));return(0,Bu.ensureBytes)("result",J,a*2)}const O=fWt;function R(k,x,C,B=O){const{context:D,zip215:$}=B,W=t.BYTES;k=(0,Bu.ensureBytes)("signature",k,2*W),x=(0,Bu.ensureBytes)("message",x),$!==void 0&&(0,Bu.abool)("zip215",$),s&&(x=s(x));const L=Jc.bytesToNumberLE(k.slice(W,2*W));let U,G,J;try{U=p.fromHex(C,$),G=p.fromHex(k.slice(0,W),$),J=I.multiplyUnsafe(L)}catch{return!1}if(!$&&U.isSmallOrder())return!1;const Q=T(D,G.toRawBytes(),U.toRawBytes(),x);return G.add(U.multiplyUnsafe(Q)).subtract(J).clearCofactor().equals(p.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:E,sign:z,verify:R,ExtendedPoint:p,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(t.BYTES),precompute(k=8,x=p.BASE){return x._setWindowSize(k),x.multiply(BigInt(3)),x}}}}var wk={};Object.defineProperty(wk,"__esModule",{value:!0});wk.expand_message_xmd=yDe;wk.expand_message_xof=pDe;wk.hash_to_field=bH;wk.isogenyMap=bWt;wk.createHasher=SWt;const mWt=gs,yc=_n,yWt=yc.bytesToNumberBE;function vy(n,e){if(wB(n),wB(e),n<0||n>=1<<8*e)throw new Error(`bad I2OSP call: value=${n} length=${e}`);const t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function pWt(n,e){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function wB(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function yDe(n,e,t,r){(0,yc.abytes)(n),(0,yc.abytes)(e),wB(t),e.length>255&&(e=r((0,yc.concatBytes)((0,yc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(t/s);if(t>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,yc.concatBytes)(e,vy(e.length,1)),c=vy(0,i),u=vy(t,2),l=new Array(o),d=r((0,yc.concatBytes)(c,n,u,vy(0,1),a));l[0]=r((0,yc.concatBytes)(d,vy(1,1),a));for(let h=1;h<=o;h++){const m=[pWt(d,l[h-1]),vy(h+1,1),a];l[h]=r((0,yc.concatBytes)(...m))}return(0,yc.concatBytes)(...l).slice(0,t)}function pDe(n,e,t,r,s){if((0,yc.abytes)(n),(0,yc.abytes)(e),wB(t),e.length>255){const i=Math.ceil(2*r/8);e=s.create({dkLen:i}).update((0,yc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(n).update(vy(t,2)).update(e).update(vy(e.length,1)).digest()}function bH(n,e,t){(0,yc.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=t;(0,yc.abytes)(n),wB(e);const u=typeof c=="string"?(0,yc.utf8ToBytes)(c):c,l=r.toString(2).length,d=Math.ceil((l+s)/8),y=e*i*d;let h;if(a==="xmd")h=yDe(n,u,y,o);else if(a==="xof")h=pDe(n,u,y,s,o);else if(a==="_internal_pass")h=n;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(e);for(let f=0;f<e;f++){const g=new Array(i);for(let b=0;b<i;b++){const S=d*(b+f*i),p=h.subarray(S,S+d);g[b]=(0,mWt.mod)(yWt(p),r)}m[f]=g}return m}function bWt(n,e){const t=e.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=t.map(u=>u.reduce((l,d)=>n.add(n.mul(l,r),d)));return r=n.div(i,o),s=n.mul(s,n.div(a,c)),{x:r,y:s}}}function SWt(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const i=bH(r,2,{...t,DST:t.DST,...s}),o=n.fromAffine(e(i[0])),a=n.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const i=bH(r,1,{...t,DST:t.encodeDST,...s}),o=n.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const i of r)if(typeof i!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${i} in array`);const s=n.fromAffine(e(r)).clearCofactor();return s.assertValidity(),s}}}var eue={};Object.defineProperty(eue,"__esModule",{value:!0});eue.montgomery=vWt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const w0e=gs,py=_n,gv=BigInt(0),dV=BigInt(1);function kWt(n){return(0,py.validateObject)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function vWt(n){const e=kWt(n),{P:t}=e,r=S=>(0,w0e.mod)(S,t),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>(0,w0e.pow)(S,t-BigInt(2),t));function u(S,p,I){const A=r(S*(p-I));return p=r(p-A),I=r(I+A),[p,I]}const l=(e.a-BigInt(2))/BigInt(4);function d(S,p){(0,py.aInRange)("u",S,gv,t),(0,py.aInRange)("scalar",p,gv,t);const I=p,A=S;let w=dV,_=gv,P=S,M=dV,E=gv,T;for(let O=BigInt(s-1);O>=gv;O--){const R=I>>O&dV;E^=R,T=u(E,w,P),w=T[0],P=T[1],T=u(E,_,M),_=T[0],M=T[1],E=R;const v=w+_,k=r(v*v),x=w-_,C=r(x*x),B=k-C,D=P+M,$=P-M,W=r($*v),L=r(D*x),U=W+L,G=W-L;P=r(U*U),M=r(A*r(G*G)),w=r(k*C),_=r(B*(k+r(l*B)))}T=u(E,w,P),w=T[0],P=T[1],T=u(E,_,M),_=T[0],M=T[1];const z=c(_);return r(w*z)}function y(S){return(0,py.numberToBytesLE)(r(S),i)}function h(S){const p=(0,py.ensureBytes)("u coordinate",S,i);return o===32&&(p[31]&=127),(0,py.bytesToNumberLE)(p)}function m(S){const p=(0,py.ensureBytes)("scalar",S),I=p.length;if(I!==i&&I!==o)throw new Error(`Expected ${i} or ${o} bytes, got ${I}`);return(0,py.bytesToNumberLE)(a(p))}function f(S,p){const I=h(p),A=m(S),w=d(I,A);if(w===gv)throw new Error("Invalid private or public key received");return y(w)}const g=y(e.Gu);function b(S){return f(S,g)}return{scalarMult:f,scalarMultBase:b,getSharedSecret:(S,p)=>f(S,p),getPublicKey:S=>b(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.RistrettoPoint=n.encodeToCurve=n.hashToCurve=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=n.ED25519_TORSION_SUBGROUP=void 0,n.edwardsToMontgomeryPub=w,n.edwardsToMontgomeryPriv=_;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Oa,t=f5,r=Gce,s=wk,i=gs,o=eue,a=_n,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=BigInt(0),d=BigInt(1),y=BigInt(2),h=BigInt(3),m=BigInt(5),f=BigInt(8);function g(Q){const Y=BigInt(10),X=BigInt(20),re=BigInt(40),se=BigInt(80),ee=c,ve=Q*Q%ee*Q%ee,_e=(0,i.pow2)(ve,y,ee)*ve%ee,Le=(0,i.pow2)(_e,d,ee)*Q%ee,We=(0,i.pow2)(Le,m,ee)*Le%ee,Ft=(0,i.pow2)(We,Y,ee)*We%ee,Lt=(0,i.pow2)(Ft,X,ee)*Ft%ee,Dt=(0,i.pow2)(Lt,re,ee)*Lt%ee,et=(0,i.pow2)(Dt,se,ee)*Dt%ee,Ue=(0,i.pow2)(et,se,ee)*Dt%ee,Wt=(0,i.pow2)(Ue,Y,ee)*We%ee;return{pow_p_5_8:(0,i.pow2)(Wt,y,ee)*Q%ee,b2:ve}}function b(Q){return Q[0]&=248,Q[31]&=127,Q[31]|=64,Q}function S(Q,Y){const X=c,re=(0,i.mod)(Y*Y*Y,X),se=(0,i.mod)(re*re*Y,X),ee=g(Q*se).pow_p_5_8;let ne=(0,i.mod)(Q*re*ee,X);const ve=(0,i.mod)(Y*ne*ne,X),_e=ne,Le=(0,i.mod)(ne*u,X),We=ve===Q,Ft=ve===(0,i.mod)(-Q,X),Lt=ve===(0,i.mod)(-Q*u,X);return We&&(ne=_e),(Ft||Lt)&&(ne=Le),(0,i.isNegativeLE)(ne,X)&&(ne=(0,i.mod)(-ne,X)),{isValid:We||Ft,value:ne}}n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const p=(()=>(0,i.Field)(c,void 0,!0))(),I=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:f,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:t.randomBytes,adjustScalarBytes:b,uvRatio:S}))();n.ed25519=(()=>(0,r.twistedEdwards)(I))();function A(Q,Y,X){if(Y.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([X?1:0,Y.length]),Y,Q)}n.ed25519ctx=(()=>(0,r.twistedEdwards)({...I,domain:A}))(),n.ed25519ph=(()=>(0,r.twistedEdwards)(Object.assign({},I,{domain:A,prehash:e.sha512})))(),n.x25519=(()=>(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Q=>{const Y=c,{pow_p_5_8:X,b2:re}=g(Q);return(0,i.mod)((0,i.pow2)(X,h,Y)*re,Y)},adjustScalarBytes:b,randomBytes:t.randomBytes}))();function w(Q){const{y:Y}=n.ed25519.ExtendedPoint.fromHex(Q),X=BigInt(1);return p.toBytes(p.create((X+Y)*p.inv(X-Y)))}n.edwardsToMontgomery=w;function _(Q){const Y=I.hash(Q.subarray(0,32));return I.adjustScalarBytes(Y).subarray(0,32)}const P=(()=>(p.ORDER+h)/f)(),M=(()=>p.pow(y,P))(),E=(()=>p.sqrt(p.neg(p.ONE)))();function T(Q){const Y=(p.ORDER-m)/f,X=BigInt(486662);let re=p.sqr(Q);re=p.mul(re,y);let se=p.add(re,p.ONE),ee=p.neg(X),ne=p.sqr(se),ve=p.mul(ne,se),_e=p.mul(re,X);_e=p.mul(_e,ee),_e=p.add(_e,ne),_e=p.mul(_e,ee);let Le=p.sqr(ve);ne=p.sqr(Le),Le=p.mul(Le,ve),Le=p.mul(Le,_e),ne=p.mul(ne,Le);let We=p.pow(ne,Y);We=p.mul(We,Le);let Ft=p.mul(We,E);ne=p.sqr(We),ne=p.mul(ne,ve);let Lt=p.eql(ne,_e),Dt=p.cmov(Ft,We,Lt),et=p.mul(ee,re),Ue=p.mul(We,Q);Ue=p.mul(Ue,M);let Wt=p.mul(Ue,E),sr=p.mul(_e,re);ne=p.sqr(Ue),ne=p.mul(ne,ve);let tr=p.eql(ne,sr),pr=p.cmov(Wt,Ue,tr);ne=p.sqr(Dt),ne=p.mul(ne,ve);let wr=p.eql(ne,_e),ls=p.cmov(et,ee,wr),gn=p.cmov(pr,Dt,wr),ds=p.isOdd(gn);return gn=p.cmov(gn,p.neg(gn),wr!==ds),{xMn:ls,xMd:se,yMn:gn,yMd:d}}const z=(()=>(0,i.FpSqrtEven)(p,p.neg(BigInt(486664))))();function O(Q){const{xMn:Y,xMd:X,yMn:re,yMd:se}=T(Q);let ee=p.mul(Y,se);ee=p.mul(ee,z);let ne=p.mul(X,re),ve=p.sub(Y,X),_e=p.add(Y,X),Le=p.mul(ne,_e),We=p.eql(Le,p.ZERO);ee=p.cmov(ee,p.ZERO,We),ne=p.cmov(ne,p.ONE,We),ve=p.cmov(ve,p.ONE,We),_e=p.cmov(_e,p.ONE,We);const Ft=p.invertBatch([ne,_e]);return{x:p.mul(ee,Ft[0]),y:p.mul(ve,Ft[1])}}const R=(()=>(0,s.createHasher)(n.ed25519.ExtendedPoint,Q=>O(Q[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512}))();n.hashToCurve=(()=>R.hashToCurve)(),n.encodeToCurve=(()=>R.encodeToCurve)();function v(Q){if(!(Q instanceof G))throw new Error("RistrettoPoint expected")}const k=u,x=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),C=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),D=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),$=Q=>S(d,Q),W=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=Q=>n.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Q)&W);function U(Q){const{d:Y}=n.ed25519.CURVE,X=n.ed25519.CURVE.Fp.ORDER,re=n.ed25519.CURVE.Fp.create,se=re(k*Q*Q),ee=re((se+d)*B);let ne=BigInt(-1);const ve=re((ne-Y*se)*re(se+Y));let{isValid:_e,value:Le}=S(ee,ve),We=re(Le*Q);(0,i.isNegativeLE)(We,X)||(We=re(-We)),_e||(Le=We),_e||(ne=se);const Ft=re(ne*(se-d)*D-ve),Lt=Le*Le,Dt=re((Le+Le)*ve),et=re(Ft*x),Ue=re(d-Lt),Wt=re(d+Lt);return new n.ed25519.ExtendedPoint(re(Dt*Wt),re(Ue*et),re(et*Wt),re(Dt*Ue))}class G{constructor(Y){this.ep=Y}static fromAffine(Y){return new G(n.ed25519.ExtendedPoint.fromAffine(Y))}static hashToCurve(Y){Y=(0,a.ensureBytes)("ristrettoHash",Y,64);const X=L(Y.slice(0,32)),re=U(X),se=L(Y.slice(32,64)),ee=U(se);return new G(re.add(ee))}static fromHex(Y){Y=(0,a.ensureBytes)("ristrettoHex",Y,32);const{a:X,d:re}=n.ed25519.CURVE,se=n.ed25519.CURVE.Fp.ORDER,ee=n.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ve=L(Y);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(ve,32),Y)||(0,i.isNegativeLE)(ve,se))throw new Error(ne);const _e=ee(ve*ve),Le=ee(d+X*_e),We=ee(d-X*_e),Ft=ee(Le*Le),Lt=ee(We*We),Dt=ee(X*re*Ft-Lt),{isValid:et,value:Ue}=$(ee(Dt*Lt)),Wt=ee(Ue*We),sr=ee(Ue*Wt*Dt);let tr=ee((ve+ve)*Wt);(0,i.isNegativeLE)(tr,se)&&(tr=ee(-tr));const pr=ee(Le*sr),wr=ee(tr*pr);if(!et||(0,i.isNegativeLE)(wr,se)||pr===l)throw new Error(ne);return new G(new n.ed25519.ExtendedPoint(tr,pr,d,wr))}toRawBytes(){let{ex:Y,ey:X,ez:re,et:se}=this.ep;const ee=n.ed25519.CURVE.Fp.ORDER,ne=n.ed25519.CURVE.Fp.create,ve=ne(ne(re+X)*ne(re-X)),_e=ne(Y*X),Le=ne(_e*_e),{value:We}=$(ne(ve*Le)),Ft=ne(We*ve),Lt=ne(We*_e),Dt=ne(Ft*Lt*se);let et;if((0,i.isNegativeLE)(se*Dt,ee)){let Wt=ne(X*k),sr=ne(Y*k);Y=Wt,X=sr,et=ne(Ft*C)}else et=Lt;(0,i.isNegativeLE)(Y*Dt,ee)&&(X=ne(-X));let Ue=ne((re-X)*et);return(0,i.isNegativeLE)(Ue,ee)&&(Ue=ne(-Ue)),(0,a.numberToBytesLE)(Ue,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Y){v(Y);const{ex:X,ey:re}=this.ep,{ex:se,ey:ee}=Y.ep,ne=n.ed25519.CURVE.Fp.create,ve=ne(X*ee)===ne(re*se),_e=ne(re*ee)===ne(X*se);return ve||_e}add(Y){return v(Y),new G(this.ep.add(Y.ep))}subtract(Y){return v(Y),new G(this.ep.subtract(Y.ep))}multiply(Y){return new G(this.ep.multiply(Y))}multiplyUnsafe(Y){return new G(this.ep.multiplyUnsafe(Y))}double(){return new G(this.ep.double())}negate(){return new G(this.ep.negate())}}n.RistrettoPoint=(()=>(G.BASE||(G.BASE=new G(n.ed25519.ExtendedPoint.BASE)),G.ZERO||(G.ZERO=new G(n.ed25519.ExtendedPoint.ZERO)),G))();const J=(Q,Y)=>{const X=Y.DST,re=typeof X=="string"?(0,t.utf8ToBytes)(X):X,se=(0,s.expand_message_xmd)(Q,re,64,e.sha512);return G.hashToCurve(se)};n.hashToRistretto255=J,n.hash_to_ristretto255=n.hashToRistretto255})(x3e);Object.defineProperty(u5,"__esModule",{value:!0});var fV=Z,mv=Pc,I0e=x3e,v2=lc;function AWt(){return{generateKeypair:()=>mv.fromWeb3JsKeypair(v2.Keypair.generate()),createKeypairFromSecretKey:a=>mv.fromWeb3JsKeypair(v2.Keypair.fromSecretKey(a)),createKeypairFromSeed:a=>mv.fromWeb3JsKeypair(v2.Keypair.fromSeed(a)),isOnCurve:a=>v2.PublicKey.isOnCurve(mv.toWeb3JsPublicKey(fV.publicKey(a))),findPda:(a,c)=>{const[u,l]=v2.PublicKey.findProgramAddressSync(c,mv.toWeb3JsPublicKey(fV.publicKey(a)));return[mv.fromWeb3JsPublicKey(u),l]},sign:(a,c)=>I0e.ed25519.sign(a,c.secretKey.slice(0,32)),verify:(a,c,u)=>I0e.ed25519.verify(c,a,fV.publicKeyBytes(u))}}u5.createWeb3JsEddsa=AWt;Object.defineProperty(Fce,"__esModule",{value:!0});var wWt=u5;const IWt=()=>({install(n){n.eddsa=wWt.createWeb3JsEddsa()}});Fce.web3JsEddsa=IWt;Object.defineProperty(c5,"__esModule",{value:!0});var _Wt=Fce,PWt=u5;c5.web3JsEddsa=_Wt.web3JsEddsa;c5.createWeb3JsEddsa=PWt.createWeb3JsEddsa;var S5={},k5={},v5={};Object.defineProperty(v5,"__esModule",{value:!0});var SH=Z;class EWt extends SH.SdkError{name="ProgramNotRecognizedError";constructor(e,t){const r=!SH.isPublicKey(e),s=e,i=t==="*"?"any":`the [${t}]`,o=`The provided program ${r?"name":"address"} [${s}] is not recognized in ${i} cluster. Did you forget to register this program? If so, you may use "context.programs.add(myProgram)" to fix this.`;super(o),this.identifier=e,this.cluster=t}}class xWt extends SH.ProgramError{name="ProgramErrorNotRecognizedError";constructor(e,t){const r=t.code?` of code [${t.code}]`:"",s=`The program [${e.name}] at address [${e.publicKey}] raised an error${r} that is not recognized by the programs registered on the SDK. Please check the underlying program error below for more details.`;super(s,e,t)}}v5.ProgramErrorNotRecognizedError=xWt;v5.ProgramNotRecognizedError=EWt;Object.defineProperty(k5,"__esModule",{value:!0});var nD=Z,_0e=v5;function bDe(n,e=[],t={}){const r=[...e],s={...t},i=(g,b="current")=>{const S=c(b),p=f(g);return nD.isPublicKey(p)?S.some(I=>I.publicKey===p):S.some(I=>I.name===p)},o=(g,b="current")=>{const S=m(b),p=c(b),I=f(g),A=nD.isPublicKey(I)?p.find(w=>w.publicKey===I):p.find(w=>w.name===I);if(!A)throw new _0e.ProgramNotRecognizedError(I,S);return A},a=(g,b,S)=>{try{return o(g,S).publicKey}catch(p){if(b===void 0)throw p;return nD.publicKey(b)}},c=(g="current")=>{const b=m(g);return b==="*"?r:r.filter(S=>S.isOnCluster(b))},u=(g,b=!0)=>{!b&&i(g.publicKey,"*")||r.unshift(g)},l=(g,b)=>{s[g]=b,f(g)},d=g=>{delete s[g]},y=()=>bDe(n,r,s),h=(g,b)=>{var O,R,v,k;if(!Array.isArray(g.logs)||g.logs.length===0)return null;const S=g.logs.join(`
`),p=/Error processing Instruction (\d+):/,I=((O=g.message.match(p))==null?void 0:O[1])??null,A=/Custom program error: (0x[a-f0-9]+)/i,w=((R=S.match(A))==null?void 0:R[1])??null,_=w?parseInt(w,16):null;if(I===null||_===null)return null;const P=parseInt(I,10),M=((k=(v=b.message.instructions)==null?void 0:v[P])==null?void 0:k.programIndex)??null,E=M?b.message.accounts[M]:null;if(!E)return null;let T;try{T=o(E)}catch{return null}return T.getErrorFromCode(_,g)??new _0e.ProgramErrorNotRecognizedError(T,g)},m=g=>g==="current"?n.rpc.getCluster():g,f=(g,b=[])=>{if(nD.isPublicKey(g)||s[g]===void 0)return g;const S=[...b,g];if(b.includes(g))throw new Error(`Circular binding detected: ${S.join(" -> ")}`);return f(s[g],S)};return{has:i,get:o,getPublicKey:a,all:c,add:u,bind:l,unbind:d,clone:y,resolveError:h}}k5.createDefaultProgramRepository=bDe;var tue={};Object.defineProperty(tue,"__esModule",{value:!0});var TWt=k5;const RWt=()=>({install(n){n.programs=TWt.createDefaultProgramRepository(n)}});tue.defaultProgramRepository=RWt;Object.defineProperty(S5,"__esModule",{value:!0});var CWt=k5,MWt=tue;S5.createDefaultProgramRepository=CWt.createDefaultProgramRepository;S5.defaultProgramRepository=MWt.defaultProgramRepository;var BWt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),zWt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),$Wt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&BWt(e,n,t);return zWt(e,n),e},DWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(rP,"__esModule",{value:!0});rP.mintCrewMember=rP.mintCrewMemberAccounts=void 0;const OWt=$Wt(lc),sD=jJ,iD=vBe,KWt=Z,LWt=c5,WWt=S5,yv=Pc,SDe=Rd;function kDe(n,e,t,r,s,i,o,a,c,u,l,d,y=SDe.CrewConfig.findAddress(n)[0]){const h=[e],m=(0,KWt.createUmi)().use((0,WWt.defaultProgramRepository)()).use((0,LWt.web3JsEddsa)()),f=(0,iD.findMetadataPda)(m,{mint:(0,yv.fromWeb3JsPublicKey)(c)})[0],g=(0,iD.findMasterEditionPda)(m,{mint:(0,yv.fromWeb3JsPublicKey)(c)})[0],b=(0,iD.findMetadataDelegateRecordPda)(m,{mint:(0,yv.fromWeb3JsPublicKey)(c),delegateRole:iD.MetadataDelegateRole.Collection,delegate:(0,yv.fromWeb3JsPublicKey)(y),updateAuthority:(0,yv.fromWeb3JsPublicKey)(u)})[0],S=(0,sD.findTreeConfigPda)(m,{merkleTree:(0,yv.fromWeb3JsPublicKey)(l)})[0],p=sD.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,I=sD.MPL_BUBBLEGUM_PROGRAM_ID,A=sD.SPL_NOOP_PROGRAM_ID;return{accounts:{key:e.publicKey(),profile:t,rentRecipient:r,crewConfig:y,owner:s,userRedemption:i,packType:o,packTiers:a,systemProgram:OWt.SystemProgram.programId,collectionMint:c,collectionMetadata:f,collectionEdition:g,compressionProgram:p,bubblegumProgram:I,logWrapper:A,treeConfig:S,merkleTree:l,collectionAuthorityRecordPda:b,serverHashPreimage:d},signers:h}}rP.mintCrewMemberAccounts=kDe;function NWt(n,e,t,r,s,i,o,a,c,u,l,d,y,h=SDe.CrewConfig.findAddress(n)[0]){const{accounts:m,signers:f}=kDe(n,e,t,r,s,i,o,a,c,u,l,d,h);return()=>DWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.mintCrewMember(y).accountsStrict(m).instruction(),signers:f}})}rP.mintCrewMember=NWt;var A5={},FWt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),UWt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),vDe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&FWt(e,n,t);return UWt(e,n),e},VWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},qWt=K&&K.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};Object.defineProperty(A5,"__esModule",{value:!0});A5.redeemCrewPack=void 0;const jWt=vDe(rl),hV=vDe(lc),P0e=Rd;function HWt(n,e,t,r,s,i,o,a,c,u,l,d=P0e.CrewConfig.findAddress(n)[0]){const y=[e,r],h=P0e.UserRedemption.findAddress(n,{owner:s,packType:o,seedPubkey:l.seedPubkey})[0],{sageProfile:m}=l,f=qWt(l,["sageProfile"]),g=m?[{pubkey:m,isSigner:!1,isWritable:!1}]:[];return b=>VWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.redeemCrewPack(f).accountsStrict({packSftAuthority:e.publicKey(),profile:t,profileKey:r.publicKey(),funder:b.publicKey(),owner:s,userRedemption:h,sftRedemption:i,packType:o,packTiers:a,crewConfig:d,tokenFrom:c,tokenMint:u,tokenProgram:jWt.TOKEN_PROGRAM_ID,instructionsSysvar:hV.SYSVAR_INSTRUCTIONS_PUBKEY,recentSlothashes:hV.SYSVAR_SLOT_HASHES_PUBKEY,systemProgram:hV.SystemProgram.programId}).remainingAccounts(g).instruction(),signers:[...y,b]}})}A5.redeemCrewPack=HWt;var w5={},GWt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),YWt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),ZWt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&GWt(e,n,t);return YWt(e,n),e},JWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(w5,"__esModule",{value:!0});w5.registerCrewConfig=void 0;const XWt=ZWt(lc),E0e=Rd;function QWt(n,e,t,r,s=E0e.DERFAULT_CREW_CONFIG_SEED){const i=[],o=E0e.CrewConfig.findAddress(n,s)[0],a=r.map(c=>({pubkey:c,isSigner:!1,isWritable:!1}));return c=>JWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerCrewConfig(t).accountsStrict({profile:e,funder:c.publicKey(),crewConfig:o,seedPubkey:s,systemProgram:XWt.SystemProgram.programId}).remainingAccounts(a).instruction(),signers:[...i,c]}})}w5.registerCrewConfig=QWt;var I5={},eNt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),tNt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),rNt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&eNt(e,n,t);return tNt(e,n),e},nNt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(I5,"__esModule",{value:!0});I5.registerPackTiers=void 0;const sNt=rNt(lc),x0e=Rd;function iNt(n,e,t,r,s){const i=[e];s=s??x0e.CrewConfig.findAddress(n)[0];const o=x0e.PackTiers.findAddress(n,{packTier:r.packTier,seedPubkey:r.seedPubkey})[0];return a=>nNt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerPackTiers(r).accountsStrict({key:e.publicKey(),profile:t,funder:a.publicKey(),packTiers:o,systemProgram:sNt.SystemProgram.programId,crewConfig:s}).instruction(),signers:[...i,a]}})}I5.registerPackTiers=iNt;var _5={},oNt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),aNt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),cNt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&oNt(e,n,t);return aNt(e,n),e},uNt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(_5,"__esModule",{value:!0});_5.registerPackType=void 0;const lNt=cNt(lc),T0e=Rd;function dNt(n,e,t,r,s,i){const o=[e];i=i??T0e.CrewConfig.findAddress(n)[0];const a=T0e.PackType.findAddress(n,{crewConfig:i,packTiers:r,faction:s.faction})[0];return c=>uNt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerPackType(s).accountsStrict({key:e.publicKey(),profile:t,funder:c.publicKey(),packType:a,packTiers:r,systemProgram:lNt.SystemProgram.programId,crewConfig:i}).instruction(),signers:[...o,c]}})}_5.registerPackType=dNt;var P5={},fNt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),hNt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),gNt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&fNt(e,n,t);return hNt(e,n),e},mNt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(P5,"__esModule",{value:!0});P5.registerSftRedemption=void 0;const yNt=gNt(lc),R0e=Rd;function pNt(n,e,t,r,s,i,o){const a=[e];o=o??R0e.CrewConfig.findAddress(n)[0];const c=R0e.SftRedemption.findAddress(n,{redemptionAmount:i.redemptionAmount,crewConfig:o,packType:r,sftMint:s})[0];return u=>mNt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerSftRedemption(i).accountsStrict({key:e.publicKey(),profile:t,funder:u.publicKey(),sftRedemptionData:c,crewConfig:o,packType:r,sftMint:s,systemProgram:yNt.SystemProgram.programId}).instruction(),signers:[...a,u]}})}P5.registerSftRedemption=pNt;var E5={},bNt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(E5,"__esModule",{value:!0});E5.updateCrewConfig=void 0;function SNt(n,e,t,r,s){const i=[e];return o=>bNt(this,void 0,void 0,function*(){return{instruction:yield n.methods.updateCrewConfig(s).accountsStrict({key:e.publicKey(),profile:t,funder:o.publicKey(),crewConfig:r}).instruction(),signers:[...i,o]}})}E5.updateCrewConfig=SNt;var x5={},kNt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(x5,"__esModule",{value:!0});x5.updatePackTiers=void 0;const vNt=Rd;function ANt(n,e,t,r,s,i){const o=[e];return i=i??vNt.CrewConfig.findAddress(n)[0],a=>kNt(this,void 0,void 0,function*(){return{instruction:yield n.methods.updatePackTiers(s).accountsStrict({key:e.publicKey(),profile:t,funder:a.publicKey(),packTiers:r,crewConfig:i}).instruction(),signers:[...o,a]}})}x5.updatePackTiers=ANt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(xL,n),t(rP,n),t(A5,n),t(w5,n),t(I5,n),t(_5,n),t(P5,n),t(E5,n),t(x5,n)})(kBe);var Zz={},wNt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},INt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},gc;Object.defineProperty(Zz,"__esModule",{value:!0});Zz.CrewPermissions=void 0;const ADe=nr;let kH=gc=class{constructor(e,t,r,s,i){this.registerSftRedemption=e,this.registerPackType=t,this.managePackTiers=r,this.mintCrewCards=s,this.provideServerHash=i}getPermissions(){const e=(0,ADe.fixedSizeArray)(8,0);return e[0]=(this.registerSftRedemption?1<<0:0)|(this.registerPackType?1<<1:0)|(this.managePackTiers?1<<2:0)|(this.mintCrewCards?1<<3:0)|(this.provideServerHash?1<<4:0),e}static empty(){return new gc(!1,!1,!1,!1,!1)}static all(){return new gc(!0,!0,!0,!0,!0)}static registerSftRedemption(){return gc.permissionsBuilder("registerSftRedemption")}static registerPackType(){return gc.permissionsBuilder("registerPackType")}static managePackTiers(){return gc.permissionsBuilder("managePackTiers")}static mintCrewCards(){return gc.permissionsBuilder("mintCrewCards")}static provideServerHash(){return gc.permissionsBuilder("provideServerHash")}static fromPermissions(e){return new gc((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0)}and(e){return new gc(this.registerSftRedemption&&e.registerSftRedemption,this.registerPackType&&e.registerPackType,this.managePackTiers&&e.managePackTiers,this.mintCrewCards&&e.mintCrewCards,this.provideServerHash&&e.provideServerHash)}or(e){return new gc(this.registerSftRedemption||e.registerSftRedemption,this.registerPackType||e.registerPackType,this.managePackTiers||e.managePackTiers,this.mintCrewCards||e.mintCrewCards,this.provideServerHash||e.provideServerHash)}eq(e){return this.registerSftRedemption===e.registerSftRedemption&&this.registerPackType===e.registerPackType&&this.managePackTiers===e.managePackTiers&&this.mintCrewCards===e.mintCrewCards&&this.provideServerHash===e.provideServerHash}contains(e){return this.and(e).eq(e)}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(gc.empty()).map(s=>t.includes(s));if(r.length!==gc.length)throw console.error(r.length,gc.length),"Incorrect number of permissions";return new gc(...r)}};Zz.CrewPermissions=kH;Zz.CrewPermissions=kH=gc=wNt([(0,ADe.staticImplements)(),INt("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean])],kH);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Rd,n),t(Vz,n),t(ise,n),t(kBe,n),t(Zz,n),t(js,n)})(Bne);var _Nt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(hL,"__esModule",{value:!0});hL.mintCrewMemberToSage=void 0;const PNt=qs,C0e=Bne;function ENt(n,e,t,r,s,i,o,a,c,u,l,d,y,h,m=C0e.CrewConfig.findAddress(n)[0]){const{accounts:f,signers:g}=(0,C0e.mintCrewMemberAccounts)(n,e,t,r,s,i,o,a,c,u,l,d,m),b=[];return b.push({pubkey:y.sageProgram.programId,isWritable:!1,isSigner:!1}),b.push({pubkey:y.starbase,isWritable:!0,isSigner:!1}),b.push({pubkey:y.starbasePlayer,isWritable:!0,isSigner:!1}),b.push({pubkey:y.sageCrewConfig,isWritable:!1,isSigner:!1}),b.push({pubkey:PNt.SYSVAR_INSTRUCTIONS_PUBKEY,isWritable:!1,isSigner:!1}),()=>_Nt(this,void 0,void 0,function*(){return{instruction:yield n.methods.mintCrewMember(h).accountsStrict(f).remainingAccounts(b).instruction(),signers:g}})}hL.mintCrewMemberToSage=ENt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(jY,n),t(cd,n),t(WK,n),t(NK,n),t(f6,n),t(m6,n),t(Pl,n),t(Qg,n),t(Oz,n),t(Qu,n),t(jp,n),t(Au,n),t(ud,n),t(hL,n),t(el,n),t(El,n),t(h6,n),t(g6,n),t(Hf,n),t(Mne,n),t(fL,n),t(fb,n),t(dL,n)})(Owe);var rue=(n=>(n[n.Unaligned=0]="Unaligned",n[n.MUD=1]="MUD",n[n.ONI=2]="ONI",n[n.Ustur=3]="Ustur",n))(rue||{});const xNt=(n,e)=>{const t=Object.entries(n);for(let r=0;r<t.length;r++){const s=t[r];if(s&&e===s[1])return{[s[0].toUpperCase()===s[0]?s[0].toLowerCase():s[0].charAt(0).toLowerCase()+s[0].slice(1)]:{}}}throw new Error(`${e} is not found in the enum`)},TNt=new Ex(GDe.address);function RNt(n){return Ex.findProgramAddressSync([Ve.Buffer.from("player_faction"),n.toBuffer()],TNt)}async function CNt(n,e){var r;const t=(r=j1())==null?void 0:r.pg_factionProfile.value;return console.log("sdjksal"),t==null?void 0:t.methods.chooseFaction(0,xNt(rue,e)).accountsPartial({key:Yf(),funder:Yf(),profile:n,faction:RNt(n)[0],systemProgram:o4.programId}).transaction()}const wDe=new Ex(YDe.address);function MNt(n,e){return Ex.findProgramAddressSync([Ve.Buffer.from("sage_player_profile"),n.toBuffer(),e.toBuffer()],wDe)}function BNt(n,e){return Ex.findProgramAddressSync([Ve.Buffer.from("GameState"),n.toBuffer(),e.toArrayLike(Ve.Buffer,"le",8)],wDe)}async function zNt(n,e,t){var i;const r=(i=j1())==null?void 0:i.pg_sage.value,s=BNt(e,t.updateId.add(new ki(1)))[0];return console.log(e.toString()),console.log(s.toString()),r.methods.registerSagePlayerProfile().accounts([n,Yf(),MNt(n,e)[0],e,s,o4.programId]).remainingAccounts([{pubkey:s,isWritable:!0,isSigner:!0}]).transaction()}const $Nt="SageStore",G2=F0e("sageStore",{state:()=>({game:{},games:[]}),getters:{},actions:{async updateStore(){var n;if(j1()){const e=(n=j1())==null?void 0:n.pg_sage.value;try{this.games=await(e==null?void 0:e.account.game.all()),this.game=this.games[0]}catch{this.games=void 0,this.game=void 0}console.log(`[Updated] ${$Nt}`)}}}}),q1=F0e("playerProfileStore",{state:()=>({profile:{},profileKeys:[]}),getters:{},actions:{async createProfile(){const n=new ZDe,e=gue.generate().publicKey;gue.generate().publicKey;let t=await RQe(e);t&&n.add(t),t=await CQe("test",Yf(),e),t&&n.add(t),t=await CNt(e,rue.MUD),t&&n.add(t),t=await zNt(e,G2().game.publicKey,G2().game.account),t&&n.add(t),await iOe(n,"[PlayerProfile] create profile")},async updateStore(){this.profileKeys=[];const n=j1().pg_playerProfile.value,e=await JDe().connection.getProgramAccounts(qY,{filters:[{memcmp:{offset:30,bytes:Yf().toString()}}]});console.log(e[0]),this.profile=e[0];let t=e[0].account.data.subarray(30);for(;t.length>=80;){const r=t.subarray(0,80);console.log(`currProfileKey: ${r}`);const s=n.coder.types.decode("profileKey",r);this.profileKeys.push({profileKeys:s,sagePermissions:Owe.SagePermissions.fromPermissions(s.permissions)}),t=t.subarray(80)}}}}),DNt=od("div",{class:"col"},"Permission for:",-1),ONt={class:"row"},KNt={class:"col"},LNt=vH({__name:"PlayerProfilePermissions",setup(n){return(e,t)=>(bv(!0),mue(pue,null,yue($1(q1)().profileKeys,r=>(bv(),qD(U0e,{flat:"",bordered:"",key:r},{default:cf(()=>[fl(cD,{class:"row"},{default:cf(()=>[DNt,od("div",null,x2(r.profileKeys.key),1)]),_:2},1024),fl(uOe,{bordered:"",separator:""},{default:cf(()=>[(bv(!0),mue(pue,null,yue(Object.keys(r.sagePermissions),s=>(bv(),qD(aOe,{key:s},{default:cf(()=>[fl(cOe,{class:""},{default:cf(()=>[od("div",ONt,[od("div",KNt,x2(s.toUpperCase()),1),fl(oOe,{dense:"",modelValue:$1(q1)().profileKeys[0].sagePermissions[s],"onUpdate:modelValue":i=>$1(q1)().profileKeys[0].sagePermissions[s]=i,"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))}}),WNt=vH({__name:"PlayerProfileCreate",setup(n){return XDe("somenamw"),(e,t)=>(bv(),qD(QDe,{label:"Create Profile",onClick:t[0]||(t[0]=r=>$1(q1)().createProfile())}))}}),NNt=od("div",{class:"col text-h6"},"Player Profile Integration",-1),FNt=od("div",{class:"text-subtitle1"},"Playerprofile",-1),UNt=od("div",{class:"text-subtitle2 text-accent"}," Get access to your player profile data ",-1),VNt={class:"row items-center"},qNt=od("div",{class:"col text-subtitle1"},"User",-1),jNt={class:"row items-center"},HNt=od("div",{class:"col text-subtitle1"},"PlayerProfile",-1),dUt=vH({__name:"PlayerProfilePage",setup(n){return eOe(async()=>{await G2().updateStore(),await q1().updateStore()}),tOe(()=>Yf(),async()=>{await G2().updateStore(),await q1().updateStore()}),(e,t)=>(bv(),qD(sOe,{class:"bg-black"},{default:cf(()=>[fl(U0e,{flat:""},{default:cf(()=>[fl(cD,{class:"row items-center q-gutter-x-md"},{default:cf(()=>[fl(rOe,{name:"diversity_3",size:"md"}),NNt]),_:1}),fl(nOe),C5(" "+x2($1(G2)().game)+" ",1),fl(cD,null,{default:cf(()=>[FNt,UNt]),_:1}),fl(cD,{class:"q-gutter-y-sm"},{default:cf(()=>{var r,s;return[od("div",VNt,[qNt,C5(" "+x2($1(Yf)().toString()??"not-found"),1)]),od("div",jNt,[HNt,C5(" "+x2(((s=(r=$1(q1)().profile)==null?void 0:r.pubkey)==null?void 0:s.toString())??"not-found"),1)]),fl(LNt),fl(WNt)]}),_:1})]),_:1})]),_:1}))}});export{dUt as default};
