import{di as z,dj as te,d as D,dk as ae,dl as w,P as p,dm as c,da as g,dn as E,dp as R,dq as B,dr as k,ds as re}from"./index.434a8f0a.js";const S=e=>{const n=e.decode.bind(e),r=e.encode.bind(e);return{decode:n,encode:r}},se=e=>n=>{const r=z(e,n),{encode:a,decode:s}=S(r),i=r;return i.decode=(u,d)=>{const T=s(u,d);return te(D.Buffer.from(T))},i.encode=(u,d,T)=>{const ne=ae(u,e);return a(ne,d,T)},i},A=se(8),F=e=>{const n=w(e),{encode:r,decode:a}=S(n),s=n;return s.decode=(i,u)=>!!a(i,u),s.encode=(i,u,d)=>{const T=Number(i);return r(T,u,d)},s},o=e=>{const n=z(32,e),{encode:r,decode:a}=S(n),s=n;return s.decode=(i,u)=>{const d=a(i,u);return new p(d)},s.encode=(i,u,d)=>{const T=i.toBuffer();return r(T,u,d)},s};class l extends Error{constructor(n){super(n)}}class v extends l{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class oe extends l{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class L extends l{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class h extends l{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class ie extends l{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class De extends l{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}class x extends l{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}class Se extends l{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}class ve extends l{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}class Le extends l{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}class be extends l{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}class Be extends l{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}var N;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(N||(N={}));const b=1,P=c([w("m"),w("n"),F("isInitialized"),o("signer1"),o("signer2"),o("signer3"),o("signer4"),o("signer5"),o("signer6"),o("signer7"),o("signer8"),o("signer9"),o("signer10"),o("signer11")]),M=P.span;async function ke(e,n,r,a=g){const s=await e.getAccountInfo(n,r);return ce(n,s,a)}function ce(e,n,r=g){if(!n)throw new v;if(!n.owner.equals(r))throw new L;if(n.data.length!=M)throw new h;const a=P.decode(n.data);return{address:e,...a}}async function Ue(e,n){return await e.getMinimumBalanceForRentExemption(M,n)}var y;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(y||(y={}));const G=c([o("mint"),o("owner"),A("amount"),E("delegateOption"),o("delegate"),w("state"),E("isNativeOption"),A("isNative"),A("delegatedAmount"),E("closeAuthorityOption"),o("closeAuthority")]),m=G.span;async function ze(e,n,r,a=g){const s=await e.getAccountInfo(n,r);return Z(n,s,a)}async function Re(e,n,r,a=g){const s=await e.getMultipleAccountsInfo(n,r);return n.map((i,u)=>Z(i,s[u],a))}async function xe(e,n){return await ue(e,[],n)}async function ue(e,n,r){const a=ee(n);return await e.getMinimumBalanceForRentExemption(a,r)}function Z(e,n,r=g){if(!n)throw new v;if(!n.owner.equals(r))throw new L;if(n.data.length<m)throw new h;const a=G.decode(n.data.slice(0,m));let s=D.Buffer.alloc(0);if(n.data.length>m){if(n.data.length===M)throw new h;if(n.data[m]!=N.Account)throw new oe;s=n.data.slice(m+b)}return{address:e,mint:a.mint,owner:a.owner,amount:a.amount,delegate:a.delegateOption?a.delegate:null,delegatedAmount:a.delegatedAmount,isInitialized:a.state!==y.Uninitialized,isFrozen:a.state===y.Frozen,isNative:!!a.isNativeOption,rentExemptReserve:a.isNativeOption?a.isNative:null,closeAuthority:a.closeAuthorityOption?a.closeAuthority:null,tlvData:s}}const K=c([E("mintAuthorityOption"),o("mintAuthority"),A("supply"),w("decimals"),F("isInitialized"),E("freezeAuthorityOption"),o("freezeAuthority")]),C=K.span;async function Pe(e,n,r,a=g){const s=await e.getAccountInfo(n,r);return le(n,s,a)}function le(e,n,r=g){if(!n)throw new v;if(!n.owner.equals(r))throw new L;if(n.data.length<C)throw new h;const a=K.decode(n.data.slice(0,C));let s=D.Buffer.alloc(0);if(n.data.length>C){if(n.data.length<=m)throw new h;if(n.data.length===M)throw new h;if(n.data[m]!=N.Mint)throw new ie;s=n.data.slice(m+b)}return{address:e,mintAuthority:a.mintAuthorityOption?a.mintAuthority:null,supply:a.supply,decimals:a.decimals,isInitialized:a.isInitialized,freezeAuthority:a.freezeAuthorityOption?a.freezeAuthority:null,tlvData:s}}async function Ge(e,n){return await fe(e,[],n)}async function fe(e,n,r){const a=Oe(n);return await e.getMinimumBalanceForRentExemption(a,r)}async function Ze(e,n,r=!1,a=g,s=R){if(!r&&!p.isOnCurve(n.toBuffer()))throw new x;const[i]=await p.findProgramAddress([n.toBuffer(),a.toBuffer(),e.toBuffer()],s);return i}function Ke(e,n,r=!1,a=g,s=R){if(!r&&!p.isOnCurve(n.toBuffer()))throw new x;const[i]=p.findProgramAddressSync([n.toBuffer(),a.toBuffer(),e.toBuffer()],s);return i}const q=c([F("lockCpi")]),de=q.span;function qe(e){const n=f(t.CpiGuard,e.tlvData);return n!==null?q.decode(n):null}const W=c([w("state")]),me=W.span;function We(e){const n=f(t.DefaultAccountState,e.tlvData);return n!==null?W.decode(n):null}const Y=c([]),ge=Y.span;function Ye(e){const n=f(t.ImmutableOwner,e.tlvData);return n!==null?Y.decode(n):null}const $=c([o("rateAuthority"),B("initializationTimestamp"),k("preUpdateAverageRate"),B("lastUpdateTimestamp"),k("currentRate")]),Ae=$.span;function $e(e){const n=f(t.InterestBearingConfig,e.tlvData);return n!==null?$.decode(n):null}const j=c([F("requireIncomingTransferMemos")]),Te=j.span;function je(e){const n=f(t.MemoTransfer,e.tlvData);return n!==null?j.decode(n):null}const H=c([o("closeAuthority")]),Ie=H.span;function He(e){const n=f(t.MintCloseAuthority,e.tlvData);return n!==null?H.decode(n):null}const _=c([]),he=_.span,we=_.span;function Xe(e){const n=f(t.NonTransferable,e.tlvData);return n!==null?_.decode(n):null}function Je(e){const n=f(t.NonTransferableAccount,e.tlvData);return n!==null?_.decode(n):null}const X=c([o("delegate")]),Ee=X.span;function Qe(e){const n=f(t.PermanentDelegate,e.tlvData);return n!==null?X.decode(n):null}const pe=1e4,Ve=pe;function U(e){return c([A("epoch"),A("maximumFee"),re("transferFeeBasisPoints")],e)}const J=c([o("transferFeeConfigAuthority"),o("withdrawWithheldAuthority"),A("withheldAmount"),U("olderTransferFee"),U("newerTransferFee")]),Me=J.span,Q=c([A("withheldAmount")]),Ce=Q.span;function en(e){const n=f(t.TransferFeeConfig,e.tlvData);return n!==null?J.decode(n):null}function nn(e){const n=f(t.TransferFeeAmount,e.tlvData);return n!==null?Q.decode(n):null}var t;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.TransferFeeConfig=1]="TransferFeeConfig",e[e.TransferFeeAmount=2]="TransferFeeAmount",e[e.MintCloseAuthority=3]="MintCloseAuthority",e[e.ConfidentialTransferMint=4]="ConfidentialTransferMint",e[e.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",e[e.DefaultAccountState=6]="DefaultAccountState",e[e.ImmutableOwner=7]="ImmutableOwner",e[e.MemoTransfer=8]="MemoTransfer",e[e.NonTransferable=9]="NonTransferable",e[e.InterestBearingConfig=10]="InterestBearingConfig",e[e.CpiGuard=11]="CpiGuard",e[e.PermanentDelegate=12]="PermanentDelegate",e[e.NonTransferableAccount=13]="NonTransferableAccount"})(t||(t={}));const I=2,O=2;function Ne(e){switch(e){case t.Uninitialized:return 0;case t.TransferFeeConfig:return Me;case t.TransferFeeAmount:return Ce;case t.MintCloseAuthority:return Ie;case t.ConfidentialTransferMint:return 97;case t.ConfidentialTransferAccount:return 286;case t.CpiGuard:return de;case t.DefaultAccountState:return me;case t.ImmutableOwner:return ge;case t.MemoTransfer:return Te;case t.NonTransferable:return he;case t.InterestBearingConfig:return Ae;case t.PermanentDelegate:return Ee;case t.NonTransferableAccount:return we;default:throw Error(`Unknown extension type: ${e}`)}}function tn(e){switch(e){case t.TransferFeeConfig:case t.MintCloseAuthority:case t.ConfidentialTransferMint:case t.DefaultAccountState:case t.NonTransferable:case t.InterestBearingConfig:case t.PermanentDelegate:return!0;case t.Uninitialized:case t.TransferFeeAmount:case t.ConfidentialTransferAccount:case t.ImmutableOwner:case t.MemoTransfer:case t.CpiGuard:case t.NonTransferableAccount:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function an(e){switch(e){case t.TransferFeeAmount:case t.ConfidentialTransferAccount:case t.ImmutableOwner:case t.MemoTransfer:case t.CpiGuard:case t.NonTransferableAccount:return!0;case t.Uninitialized:case t.TransferFeeConfig:case t.MintCloseAuthority:case t.ConfidentialTransferMint:case t.DefaultAccountState:case t.NonTransferable:case t.InterestBearingConfig:case t.PermanentDelegate:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function ye(e){switch(e){case t.TransferFeeConfig:return t.TransferFeeAmount;case t.ConfidentialTransferMint:return t.ConfidentialTransferAccount;case t.NonTransferable:return t.NonTransferableAccount;case t.TransferFeeAmount:case t.ConfidentialTransferAccount:case t.CpiGuard:case t.DefaultAccountState:case t.ImmutableOwner:case t.MemoTransfer:case t.MintCloseAuthority:case t.Uninitialized:case t.InterestBearingConfig:case t.PermanentDelegate:case t.NonTransferableAccount:return t.Uninitialized}}function V(e,n){if(e.length===0)return n;{const r=m+b+e.filter((a,s)=>s===e.indexOf(a)).map(a=>Ne(a)+I+O).reduce((a,s)=>a+s);return r===M?r+I:r}}function Oe(e){return V(e,C)}function ee(e){return V(e,m)}function f(e,n){let r=0;for(;r+I+O<=n.length;){const a=n.readUInt16LE(r),s=n.readUInt16LE(r+I),i=r+I+O;if(a==e)return n.slice(i,i+s);r=i+s}return null}function Fe(e){const n=[];let r=0;for(;r<e.length;){const a=e.readUInt16LE(r);n.push(a);const s=e.readUInt16LE(r+I);r+=I+O+s}return n}function rn(e){const r=Fe(e.tlvData).map(ye);return ee(r)}export{je as $,m as A,de as B,q as C,qe as D,t as E,W as F,me as G,We as H,I,Ne as J,tn as K,O as L,C as M,an as N,ye as O,ee as P,f as Q,Fe as R,Y as S,Se as T,ge as U,Ye as V,$ as W,Ae as X,$e as Y,j as Z,Te as _,Le as a,H as a0,Ie as a1,He as a2,_ as a3,he as a4,we as a5,Xe as a6,Je as a7,pe as a8,Ve as a9,U as aa,J as ab,Me as ac,Q as ad,Ce as ae,en as af,nn as ag,X as ah,Ee as ai,Qe as aj,y as ak,G as al,Re as am,ue as an,Z as ao,K as ap,le as aq,fe as ar,P as as,ke as at,ce as au,be as b,ve as c,Be as d,Ke as e,Pe as f,Ze as g,rn as h,Ge as i,Ue as j,M as k,xe as l,ze as m,v as n,L as o,o as p,ie as q,De as r,Oe as s,l as t,A as u,oe as v,h as w,x,N as y,b as z};
