import{df as z,dg as te,dh as ae,di as w,P as E,dj as u,d7 as f,dk as p,dl as M,dm as L,dn as B,dp as re,cJ as se,cW as oe}from"./index.8041a8a0.js";const _=e=>{const n=e.decode.bind(e),r=e.encode.bind(e);return{decode:n,encode:r}},ie=e=>n=>{const r=z(e,n),{encode:a,decode:s}=_(r),o=r;return o.decode=(c,l)=>{const I=s(c,l);return te(Buffer.from(I))},o.encode=(c,l,I)=>{const ne=ae(c,e);return a(ne,l,I)},o},A=ie(8),S=e=>{const n=w(e),{encode:r,decode:a}=_(n),s=n;return s.decode=(o,c)=>!!a(o,c),s.encode=(o,c,l)=>{const I=Number(o);return r(I,c,l)},s},i=e=>{const n=z(32,e),{encode:r,decode:a}=_(n),s=n;return s.decode=(o,c)=>{const l=a(o,c);return new E(l)},s.encode=(o,c,l)=>{const I=o.toBuffer();return r(I,c,l)},s};class d extends Error{constructor(n){super(n)}}class D extends d{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class ce extends d{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class k extends d{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class h extends d{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class ue extends d{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class De extends d{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}class R extends d{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}class ke extends d{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}class ve extends d{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}class Le extends d{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}class Be extends d{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}class Ue extends d{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}var N;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Mint=1]="Mint",e[e.Account=2]="Account"})(N||(N={}));const v=1,x=u([w("m"),w("n"),S("isInitialized"),i("signer1"),i("signer2"),i("signer3"),i("signer4"),i("signer5"),i("signer6"),i("signer7"),i("signer8"),i("signer9"),i("signer10"),i("signer11")]),C=x.span;async function ze(e,n,r,a=f){const s=await e.getAccountInfo(n,r);return le(n,s,a)}function le(e,n,r=f){if(!n)throw new D;if(!n.owner.equals(r))throw new k;if(n.data.length!=C)throw new h;const a=x.decode(n.data);return{address:e,...a}}async function Re(e,n){return await e.getMinimumBalanceForRentExemption(C,n)}var b;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen"})(b||(b={}));const P=u([i("mint"),i("owner"),A("amount"),p("delegateOption"),i("delegate"),w("state"),p("isNativeOption"),A("isNative"),A("delegatedAmount"),p("closeAuthorityOption"),i("closeAuthority")]),g=P.span;async function xe(e,n,r,a=f){const s=await e.getAccountInfo(n,r);return G(n,s,a)}async function Pe(e,n,r,a=f){const s=await e.getMultipleAccountsInfo(n,r);return n.map((o,c)=>G(o,s[c],a))}async function Ge(e,n){return await fe(e,[],n)}async function fe(e,n,r){const a=V(n);return await e.getMinimumBalanceForRentExemption(a,r)}function G(e,n,r=f){if(!n)throw new D;if(!n.owner.equals(r))throw new k;if(n.data.length<g)throw new h;const a=P.decode(n.data.slice(0,g));let s=Buffer.alloc(0);if(n.data.length>g){if(n.data.length===C)throw new h;if(n.data[g]!=N.Account)throw new ce;s=n.data.slice(g+v)}return{address:e,mint:a.mint,owner:a.owner,amount:a.amount,delegate:a.delegateOption?a.delegate:null,delegatedAmount:a.delegatedAmount,isInitialized:a.state!==b.Uninitialized,isFrozen:a.state===b.Frozen,isNative:!!a.isNativeOption,rentExemptReserve:a.isNativeOption?a.isNative:null,closeAuthority:a.closeAuthorityOption?a.closeAuthority:null,tlvData:s}}const Z=u([p("mintAuthorityOption"),i("mintAuthority"),A("supply"),w("decimals"),S("isInitialized"),p("freezeAuthorityOption"),i("freezeAuthority")]),y=Z.span;async function Ze(e,n,r,a=f){const s=await e.getAccountInfo(n,r);return de(n,s,a)}function de(e,n,r=f){if(!n)throw new D;if(!n.owner.equals(r))throw new k;if(n.data.length<y)throw new h;const a=Z.decode(n.data.slice(0,y));let s=Buffer.alloc(0);if(n.data.length>y){if(n.data.length<=g)throw new h;if(n.data.length===C)throw new h;if(n.data[g]!=N.Mint)throw new ue;s=n.data.slice(g+v)}return{address:e,mintAuthority:a.mintAuthorityOption?a.mintAuthority:null,supply:a.supply,decimals:a.decimals,isInitialized:a.isInitialized,freezeAuthority:a.freezeAuthorityOption?a.freezeAuthority:null,tlvData:s}}async function We(e,n){return await me(e,[],n)}async function me(e,n,r){const a=Se(n);return await e.getMinimumBalanceForRentExemption(a,r)}async function Ke(e,n,r=!1,a=f,s=M){if(!r&&!E.isOnCurve(n.toBuffer()))throw new R;const[o]=await E.findProgramAddress([n.toBuffer(),a.toBuffer(),e.toBuffer()],s);return o}function qe(e,n,r=!1,a=f,s=M){if(!r&&!E.isOnCurve(n.toBuffer()))throw new R;const[o]=E.findProgramAddressSync([n.toBuffer(),a.toBuffer(),e.toBuffer()],s);return o}const W=u([S("lockCpi")]),ge=W.span;function Ye(e){const n=m(t.CpiGuard,e.tlvData);return n!==null?W.decode(n):null}const K=u([w("state")]),Ae=K.span;function $e(e){const n=m(t.DefaultAccountState,e.tlvData);return n!==null?K.decode(n):null}const q=u([]),Ie=q.span;function je(e){const n=m(t.ImmutableOwner,e.tlvData);return n!==null?q.decode(n):null}const Y=u([i("rateAuthority"),L("initializationTimestamp"),B("preUpdateAverageRate"),L("lastUpdateTimestamp"),B("currentRate")]),Te=Y.span;function He(e){const n=m(t.InterestBearingConfig,e.tlvData);return n!==null?Y.decode(n):null}const $=u([S("requireIncomingTransferMemos")]),he=$.span;function Je(e){const n=m(t.MemoTransfer,e.tlvData);return n!==null?$.decode(n):null}const j=u([i("closeAuthority")]),we=j.span;function Xe(e){const n=m(t.MintCloseAuthority,e.tlvData);return n!==null?j.decode(n):null}const F=u([]),pe=F.span,Ee=F.span;function Qe(e){const n=m(t.NonTransferable,e.tlvData);return n!==null?F.decode(n):null}function Ve(e){const n=m(t.NonTransferableAccount,e.tlvData);return n!==null?F.decode(n):null}const H=u([i("delegate")]),Me=H.span;function en(e){const n=m(t.PermanentDelegate,e.tlvData);return n!==null?H.decode(n):null}const Ce=1e4,nn=Ce;function U(e){return u([A("epoch"),A("maximumFee"),re("transferFeeBasisPoints")],e)}const J=u([i("transferFeeConfigAuthority"),i("withdrawWithheldAuthority"),A("withheldAmount"),U("olderTransferFee"),U("newerTransferFee")]),ye=J.span,X=u([A("withheldAmount")]),Ne=X.span;function tn(e){const n=m(t.TransferFeeConfig,e.tlvData);return n!==null?J.decode(n):null}function an(e){const n=m(t.TransferFeeAmount,e.tlvData);return n!==null?X.decode(n):null}var t;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.TransferFeeConfig=1]="TransferFeeConfig",e[e.TransferFeeAmount=2]="TransferFeeAmount",e[e.MintCloseAuthority=3]="MintCloseAuthority",e[e.ConfidentialTransferMint=4]="ConfidentialTransferMint",e[e.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",e[e.DefaultAccountState=6]="DefaultAccountState",e[e.ImmutableOwner=7]="ImmutableOwner",e[e.MemoTransfer=8]="MemoTransfer",e[e.NonTransferable=9]="NonTransferable",e[e.InterestBearingConfig=10]="InterestBearingConfig",e[e.CpiGuard=11]="CpiGuard",e[e.PermanentDelegate=12]="PermanentDelegate",e[e.NonTransferableAccount=13]="NonTransferableAccount"})(t||(t={}));const T=2,O=2;function be(e){switch(e){case t.Uninitialized:return 0;case t.TransferFeeConfig:return ye;case t.TransferFeeAmount:return Ne;case t.MintCloseAuthority:return we;case t.ConfidentialTransferMint:return 97;case t.ConfidentialTransferAccount:return 286;case t.CpiGuard:return ge;case t.DefaultAccountState:return Ae;case t.ImmutableOwner:return Ie;case t.MemoTransfer:return he;case t.NonTransferable:return pe;case t.InterestBearingConfig:return Te;case t.PermanentDelegate:return Me;case t.NonTransferableAccount:return Ee;default:throw Error(`Unknown extension type: ${e}`)}}function rn(e){switch(e){case t.TransferFeeConfig:case t.MintCloseAuthority:case t.ConfidentialTransferMint:case t.DefaultAccountState:case t.NonTransferable:case t.InterestBearingConfig:case t.PermanentDelegate:return!0;case t.Uninitialized:case t.TransferFeeAmount:case t.ConfidentialTransferAccount:case t.ImmutableOwner:case t.MemoTransfer:case t.CpiGuard:case t.NonTransferableAccount:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function sn(e){switch(e){case t.TransferFeeAmount:case t.ConfidentialTransferAccount:case t.ImmutableOwner:case t.MemoTransfer:case t.CpiGuard:case t.NonTransferableAccount:return!0;case t.Uninitialized:case t.TransferFeeConfig:case t.MintCloseAuthority:case t.ConfidentialTransferMint:case t.DefaultAccountState:case t.NonTransferable:case t.InterestBearingConfig:case t.PermanentDelegate:return!1;default:throw Error(`Unknown extension type: ${e}`)}}function Oe(e){switch(e){case t.TransferFeeConfig:return t.TransferFeeAmount;case t.ConfidentialTransferMint:return t.ConfidentialTransferAccount;case t.NonTransferable:return t.NonTransferableAccount;case t.TransferFeeAmount:case t.ConfidentialTransferAccount:case t.CpiGuard:case t.DefaultAccountState:case t.ImmutableOwner:case t.MemoTransfer:case t.MintCloseAuthority:case t.Uninitialized:case t.InterestBearingConfig:case t.PermanentDelegate:case t.NonTransferableAccount:return t.Uninitialized}}function Q(e,n){if(e.length===0)return n;{const r=g+v+e.filter((a,s)=>s===e.indexOf(a)).map(a=>be(a)+T+O).reduce((a,s)=>a+s);return r===C?r+T:r}}function Se(e){return Q(e,y)}function V(e){return Q(e,g)}function m(e,n){let r=0;for(;r+T+O<=n.length;){const a=n.readUInt16LE(r),s=n.readUInt16LE(r+T),o=r+T+O;if(a==e)return n.slice(o,o+s);r=o+s}return null}function Fe(e){const n=[];let r=0;for(;r<e.length;){const a=e.readUInt16LE(r);n.push(a);const s=e.readUInt16LE(r+T);r+=T+O+s}return n}function on(e){const r=Fe(e.tlvData).map(Oe);return V(r)}function cn(e,n,r,a,s=f,o=M){return ee(e,n,r,a,Buffer.alloc(0),s,o)}function un(e,n,r,a,s=f,o=M){return ee(e,n,r,a,Buffer.from([1]),s,o)}function ee(e,n,r,a,s,o=f,c=M){const l=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:se.programId,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return new oe({keys:l,programId:c,data:s})}export{$,g as A,N as B,v as C,W as D,t as E,ge as F,Ye as G,K as H,Ae as I,$e as J,T as K,O as L,y as M,be as N,rn as O,sn as P,Oe as Q,V as R,m as S,ke as T,Fe as U,q as V,Ie as W,je as X,Y,Te as Z,He as _,Le as a,he as a0,Je as a1,j as a2,we as a3,Xe as a4,F as a5,pe as a6,Ee as a7,Qe as a8,Ve as a9,Ce as aa,nn as ab,U as ac,J as ad,ye as ae,X as af,Ne as ag,tn as ah,an as ai,H as aj,Me as ak,en as al,b as am,P as an,Pe as ao,fe as ap,G as aq,Z as ar,de as as,me as at,x as au,ze as av,le as aw,Be as b,cn as c,ve as d,Ue as e,qe as f,Ke as g,Ze as h,on as i,un as j,We as k,Re as l,C as m,Ge as n,xe as o,i as p,D as q,k as r,ue as s,De as t,A as u,Se as v,d as w,ce as x,h as y,R as z};
