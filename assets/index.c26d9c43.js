const p$1=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}};p$1();const scriptRel="modulepreload",seen={},base$4="/",__vitePreload=function(e,t){return!t||t.length===0?e():Promise.all(t.map(r=>{if(r=`${base$4}${r}`,r in seen)return;seen[r]=!0;const o=r.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":scriptRel,o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o)return new Promise((u,en)=>{c.addEventListener("load",u),c.addEventListener("error",()=>en(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e())};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$5(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(n.__esModule)return n;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(n).forEach(function(t){var r=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:function(){return n[t]}})}),e}function commonjsRequire(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dist$3={},bufferPolyfill={},base64Js$2={};base64Js$2.byteLength=byteLength$2;var toByteArray_1=base64Js$2.toByteArray=toByteArray$2,fromByteArray_1=base64Js$2.fromByteArray=fromByteArray$2,lookup$2=[],revLookup$2=[],Arr$2=typeof Uint8Array<"u"?Uint8Array:Array,code$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$3=0,len$2=code$2.length;i$3<len$2;++i$3)lookup$2[i$3]=code$2[i$3],revLookup$2[code$2.charCodeAt(i$3)]=i$3;revLookup$2["-".charCodeAt(0)]=62;revLookup$2["_".charCodeAt(0)]=63;function getLens$2(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function byteLength$2(n){var e=getLens$2(n),t=e[0],r=e[1];return(t+r)*3/4-r}function _byteLength$2(n,e,t){return(e+t)*3/4-t}function toByteArray$2(n){var e,t=getLens$2(n),r=t[0],o=t[1],a=new Arr$2(_byteLength$2(n,r,o)),c=0,u=o>0?r-4:r,en;for(en=0;en<u;en+=4)e=revLookup$2[n.charCodeAt(en)]<<18|revLookup$2[n.charCodeAt(en+1)]<<12|revLookup$2[n.charCodeAt(en+2)]<<6|revLookup$2[n.charCodeAt(en+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=e&255;return o===2&&(e=revLookup$2[n.charCodeAt(en)]<<2|revLookup$2[n.charCodeAt(en+1)]>>4,a[c++]=e&255),o===1&&(e=revLookup$2[n.charCodeAt(en)]<<10|revLookup$2[n.charCodeAt(en+1)]<<4|revLookup$2[n.charCodeAt(en+2)]>>2,a[c++]=e>>8&255,a[c++]=e&255),a}function tripletToBase64$2(n){return lookup$2[n>>18&63]+lookup$2[n>>12&63]+lookup$2[n>>6&63]+lookup$2[n&63]}function encodeChunk$2(n,e,t){for(var r,o=[],a=e;a<t;a+=3)r=(n[a]<<16&16711680)+(n[a+1]<<8&65280)+(n[a+2]&255),o.push(tripletToBase64$2(r));return o.join("")}function fromByteArray$2(n){for(var e,t=n.length,r=t%3,o=[],a=16383,c=0,u=t-r;c<u;c+=a)o.push(encodeChunk$2(n,c,c+a>u?u:c+a));return r===1?(e=n[t-1],o.push(lookup$2[e>>2]+lookup$2[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],o.push(lookup$2[e>>10]+lookup$2[e>>4&63]+lookup$2[e<<2&63]+"=")),o.join("")}var ieee754$2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$2.read=function(n,e,t,r,o){var a,c,u=o*8-r-1,en=(1<<u)-1,tn=en>>1,nn=-7,sn=t?o-1:0,fn=t?-1:1,dn=n[e+sn];for(sn+=fn,a=dn&(1<<-nn)-1,dn>>=-nn,nn+=u;nn>0;a=a*256+n[e+sn],sn+=fn,nn-=8);for(c=a&(1<<-nn)-1,a>>=-nn,nn+=r;nn>0;c=c*256+n[e+sn],sn+=fn,nn-=8);if(a===0)a=1-tn;else{if(a===en)return c?NaN:(dn?-1:1)*(1/0);c=c+Math.pow(2,r),a=a-tn}return(dn?-1:1)*c*Math.pow(2,a-r)};ieee754$2.write=function(n,e,t,r,o,a){var c,u,en,tn=a*8-o-1,nn=(1<<tn)-1,sn=nn>>1,fn=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,dn=r?0:a-1,hn=r?1:-1,ln=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=nn):(c=Math.floor(Math.log(e)/Math.LN2),e*(en=Math.pow(2,-c))<1&&(c--,en*=2),c+sn>=1?e+=fn/en:e+=fn*Math.pow(2,1-sn),e*en>=2&&(c++,en/=2),c+sn>=nn?(u=0,c=nn):c+sn>=1?(u=(e*en-1)*Math.pow(2,o),c=c+sn):(u=e*Math.pow(2,sn-1)*Math.pow(2,o),c=0));o>=8;n[t+dn]=u&255,dn+=hn,u/=256,o-=8);for(c=c<<o|u,tn+=o;tn>0;n[t+dn]=c&255,dn+=hn,c/=256,tn-=8);n[t+dn-hn]|=ln*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=base64Js$2,t=ieee754$2,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=Sn,n.INSPECT_MAX_BYTES=50;const o=2147483647;n.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const gn=new Uint8Array(1),an={foo:function(){return 42}};return Object.setPrototypeOf(an,Uint8Array.prototype),Object.setPrototypeOf(gn,an),gn.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(gn){if(gn>o)throw new RangeError('The value "'+gn+'" is invalid for option "size"');const an=new Uint8Array(gn);return Object.setPrototypeOf(an,u.prototype),an}function u(gn,an,cn){if(typeof gn=="number"){if(typeof an=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return sn(gn)}return en(gn,an,cn)}u.poolSize=8192;function en(gn,an,cn){if(typeof gn=="string")return fn(gn,an);if(ArrayBuffer.isView(gn))return hn(gn);if(gn==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof gn);if(Hr(gn,ArrayBuffer)||gn&&Hr(gn.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Hr(gn,SharedArrayBuffer)||gn&&Hr(gn.buffer,SharedArrayBuffer)))return ln(gn,an,cn);if(typeof gn=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Rn=gn.valueOf&&gn.valueOf();if(Rn!=null&&Rn!==gn)return u.from(Rn,an,cn);const Ln=pn(gn);if(Ln)return Ln;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof gn[Symbol.toPrimitive]=="function")return u.from(gn[Symbol.toPrimitive]("string"),an,cn);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof gn)}u.from=function(gn,an,cn){return en(gn,an,cn)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function tn(gn){if(typeof gn!="number")throw new TypeError('"size" argument must be of type number');if(gn<0)throw new RangeError('The value "'+gn+'" is invalid for option "size"')}function nn(gn,an,cn){return tn(gn),gn<=0?c(gn):an!==void 0?typeof cn=="string"?c(gn).fill(an,cn):c(gn).fill(an):c(gn)}u.alloc=function(gn,an,cn){return nn(gn,an,cn)};function sn(gn){return tn(gn),c(gn<0?0:$n(gn)|0)}u.allocUnsafe=function(gn){return sn(gn)},u.allocUnsafeSlow=function(gn){return sn(gn)};function fn(gn,an){if((typeof an!="string"||an==="")&&(an="utf8"),!u.isEncoding(an))throw new TypeError("Unknown encoding: "+an);const cn=yn(gn,an)|0;let Rn=c(cn);const Ln=Rn.write(gn,an);return Ln!==cn&&(Rn=Rn.slice(0,Ln)),Rn}function dn(gn){const an=gn.length<0?0:$n(gn.length)|0,cn=c(an);for(let Rn=0;Rn<an;Rn+=1)cn[Rn]=gn[Rn]&255;return cn}function hn(gn){if(Hr(gn,Uint8Array)){const an=new Uint8Array(gn);return ln(an.buffer,an.byteOffset,an.byteLength)}return dn(gn)}function ln(gn,an,cn){if(an<0||gn.byteLength<an)throw new RangeError('"offset" is outside of buffer bounds');if(gn.byteLength<an+(cn||0))throw new RangeError('"length" is outside of buffer bounds');let Rn;return an===void 0&&cn===void 0?Rn=new Uint8Array(gn):cn===void 0?Rn=new Uint8Array(gn,an):Rn=new Uint8Array(gn,an,cn),Object.setPrototypeOf(Rn,u.prototype),Rn}function pn(gn){if(u.isBuffer(gn)){const an=$n(gn.length)|0,cn=c(an);return cn.length===0||gn.copy(cn,0,0,an),cn}if(gn.length!==void 0)return typeof gn.length!="number"||Dr(gn.length)?c(0):dn(gn);if(gn.type==="Buffer"&&Array.isArray(gn.data))return dn(gn.data)}function $n(gn){if(gn>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return gn|0}function Sn(gn){return+gn!=gn&&(gn=0),u.alloc(+gn)}u.isBuffer=function(an){return an!=null&&an._isBuffer===!0&&an!==u.prototype},u.compare=function(an,cn){if(Hr(an,Uint8Array)&&(an=u.from(an,an.offset,an.byteLength)),Hr(cn,Uint8Array)&&(cn=u.from(cn,cn.offset,cn.byteLength)),!u.isBuffer(an)||!u.isBuffer(cn))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(an===cn)return 0;let Rn=an.length,Ln=cn.length;for(let Fn=0,Vn=Math.min(Rn,Ln);Fn<Vn;++Fn)if(an[Fn]!==cn[Fn]){Rn=an[Fn],Ln=cn[Fn];break}return Rn<Ln?-1:Ln<Rn?1:0},u.isEncoding=function(an){switch(String(an).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(an,cn){if(!Array.isArray(an))throw new TypeError('"list" argument must be an Array of Buffers');if(an.length===0)return u.alloc(0);let Rn;if(cn===void 0)for(cn=0,Rn=0;Rn<an.length;++Rn)cn+=an[Rn].length;const Ln=u.allocUnsafe(cn);let Fn=0;for(Rn=0;Rn<an.length;++Rn){let Vn=an[Rn];if(Hr(Vn,Uint8Array))Fn+Vn.length>Ln.length?(u.isBuffer(Vn)||(Vn=u.from(Vn)),Vn.copy(Ln,Fn)):Uint8Array.prototype.set.call(Ln,Vn,Fn);else if(u.isBuffer(Vn))Vn.copy(Ln,Fn);else throw new TypeError('"list" argument must be an Array of Buffers');Fn+=Vn.length}return Ln};function yn(gn,an){if(u.isBuffer(gn))return gn.length;if(ArrayBuffer.isView(gn)||Hr(gn,ArrayBuffer))return gn.byteLength;if(typeof gn!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof gn);const cn=gn.length,Rn=arguments.length>2&&arguments[2]===!0;if(!Rn&&cn===0)return 0;let Ln=!1;for(;;)switch(an){case"ascii":case"latin1":case"binary":return cn;case"utf8":case"utf-8":return Ir(gn).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cn*2;case"hex":return cn>>>1;case"base64":return Nr(gn).length;default:if(Ln)return Rn?-1:Ir(gn).length;an=(""+an).toLowerCase(),Ln=!0}}u.byteLength=yn;function In(gn,an,cn){let Rn=!1;if((an===void 0||an<0)&&(an=0),an>this.length||((cn===void 0||cn>this.length)&&(cn=this.length),cn<=0)||(cn>>>=0,an>>>=0,cn<=an))return"";for(gn||(gn="utf8");;)switch(gn){case"hex":return Un(this,an,cn);case"utf8":case"utf-8":return mn(this,an,cn);case"ascii":return On(this,an,cn);case"latin1":case"binary":return Nn(this,an,cn);case"base64":return Cn(this,an,cn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zn(this,an,cn);default:if(Rn)throw new TypeError("Unknown encoding: "+gn);gn=(gn+"").toLowerCase(),Rn=!0}}u.prototype._isBuffer=!0;function An(gn,an,cn){const Rn=gn[an];gn[an]=gn[cn],gn[cn]=Rn}u.prototype.swap16=function(){const an=this.length;if(an%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let cn=0;cn<an;cn+=2)An(this,cn,cn+1);return this},u.prototype.swap32=function(){const an=this.length;if(an%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let cn=0;cn<an;cn+=4)An(this,cn,cn+3),An(this,cn+1,cn+2);return this},u.prototype.swap64=function(){const an=this.length;if(an%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let cn=0;cn<an;cn+=8)An(this,cn,cn+7),An(this,cn+1,cn+6),An(this,cn+2,cn+5),An(this,cn+3,cn+4);return this},u.prototype.toString=function(){const an=this.length;return an===0?"":arguments.length===0?mn(this,0,an):In.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(an){if(!u.isBuffer(an))throw new TypeError("Argument must be a Buffer");return this===an?!0:u.compare(this,an)===0},u.prototype.inspect=function(){let an="";const cn=n.INSPECT_MAX_BYTES;return an=this.toString("hex",0,cn).replace(/(.{2})/g,"$1 ").trim(),this.length>cn&&(an+=" ... "),"<Buffer "+an+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(an,cn,Rn,Ln,Fn){if(Hr(an,Uint8Array)&&(an=u.from(an,an.offset,an.byteLength)),!u.isBuffer(an))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof an);if(cn===void 0&&(cn=0),Rn===void 0&&(Rn=an?an.length:0),Ln===void 0&&(Ln=0),Fn===void 0&&(Fn=this.length),cn<0||Rn>an.length||Ln<0||Fn>this.length)throw new RangeError("out of range index");if(Ln>=Fn&&cn>=Rn)return 0;if(Ln>=Fn)return-1;if(cn>=Rn)return 1;if(cn>>>=0,Rn>>>=0,Ln>>>=0,Fn>>>=0,this===an)return 0;let Vn=Fn-Ln,xr=Rn-cn;const Fr=Math.min(Vn,xr),Ur=this.slice(Ln,Fn),Gr=an.slice(cn,Rn);for(let zr=0;zr<Fr;++zr)if(Ur[zr]!==Gr[zr]){Vn=Ur[zr],xr=Gr[zr];break}return Vn<xr?-1:xr<Vn?1:0};function Tn(gn,an,cn,Rn,Ln){if(gn.length===0)return-1;if(typeof cn=="string"?(Rn=cn,cn=0):cn>2147483647?cn=2147483647:cn<-2147483648&&(cn=-2147483648),cn=+cn,Dr(cn)&&(cn=Ln?0:gn.length-1),cn<0&&(cn=gn.length+cn),cn>=gn.length){if(Ln)return-1;cn=gn.length-1}else if(cn<0)if(Ln)cn=0;else return-1;if(typeof an=="string"&&(an=u.from(an,Rn)),u.isBuffer(an))return an.length===0?-1:kn(gn,an,cn,Rn,Ln);if(typeof an=="number")return an=an&255,typeof Uint8Array.prototype.indexOf=="function"?Ln?Uint8Array.prototype.indexOf.call(gn,an,cn):Uint8Array.prototype.lastIndexOf.call(gn,an,cn):kn(gn,[an],cn,Rn,Ln);throw new TypeError("val must be string, number or Buffer")}function kn(gn,an,cn,Rn,Ln){let Fn=1,Vn=gn.length,xr=an.length;if(Rn!==void 0&&(Rn=String(Rn).toLowerCase(),Rn==="ucs2"||Rn==="ucs-2"||Rn==="utf16le"||Rn==="utf-16le")){if(gn.length<2||an.length<2)return-1;Fn=2,Vn/=2,xr/=2,cn/=2}function Fr(Gr,zr){return Fn===1?Gr[zr]:Gr.readUInt16BE(zr*Fn)}let Ur;if(Ln){let Gr=-1;for(Ur=cn;Ur<Vn;Ur++)if(Fr(gn,Ur)===Fr(an,Gr===-1?0:Ur-Gr)){if(Gr===-1&&(Gr=Ur),Ur-Gr+1===xr)return Gr*Fn}else Gr!==-1&&(Ur-=Ur-Gr),Gr=-1}else for(cn+xr>Vn&&(cn=Vn-xr),Ur=cn;Ur>=0;Ur--){let Gr=!0;for(let zr=0;zr<xr;zr++)if(Fr(gn,Ur+zr)!==Fr(an,zr)){Gr=!1;break}if(Gr)return Ur}return-1}u.prototype.includes=function(an,cn,Rn){return this.indexOf(an,cn,Rn)!==-1},u.prototype.indexOf=function(an,cn,Rn){return Tn(this,an,cn,Rn,!0)},u.prototype.lastIndexOf=function(an,cn,Rn){return Tn(this,an,cn,Rn,!1)};function Pn(gn,an,cn,Rn){cn=Number(cn)||0;const Ln=gn.length-cn;Rn?(Rn=Number(Rn),Rn>Ln&&(Rn=Ln)):Rn=Ln;const Fn=an.length;Rn>Fn/2&&(Rn=Fn/2);let Vn;for(Vn=0;Vn<Rn;++Vn){const xr=parseInt(an.substr(Vn*2,2),16);if(Dr(xr))return Vn;gn[cn+Vn]=xr}return Vn}function Dn(gn,an,cn,Rn){return vr(Ir(an,gn.length-cn),gn,cn,Rn)}function Kn(gn,an,cn,Rn){return vr(Kr(an),gn,cn,Rn)}function Hn(gn,an,cn,Rn){return vr(Nr(an),gn,cn,Rn)}function jn(gn,an,cn,Rn){return vr(Ar(an,gn.length-cn),gn,cn,Rn)}u.prototype.write=function(an,cn,Rn,Ln){if(cn===void 0)Ln="utf8",Rn=this.length,cn=0;else if(Rn===void 0&&typeof cn=="string")Ln=cn,Rn=this.length,cn=0;else if(isFinite(cn))cn=cn>>>0,isFinite(Rn)?(Rn=Rn>>>0,Ln===void 0&&(Ln="utf8")):(Ln=Rn,Rn=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Fn=this.length-cn;if((Rn===void 0||Rn>Fn)&&(Rn=Fn),an.length>0&&(Rn<0||cn<0)||cn>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ln||(Ln="utf8");let Vn=!1;for(;;)switch(Ln){case"hex":return Pn(this,an,cn,Rn);case"utf8":case"utf-8":return Dn(this,an,cn,Rn);case"ascii":case"latin1":case"binary":return Kn(this,an,cn,Rn);case"base64":return Hn(this,an,cn,Rn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jn(this,an,cn,Rn);default:if(Vn)throw new TypeError("Unknown encoding: "+Ln);Ln=(""+Ln).toLowerCase(),Vn=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Cn(gn,an,cn){return an===0&&cn===gn.length?e.fromByteArray(gn):e.fromByteArray(gn.slice(an,cn))}function mn(gn,an,cn){cn=Math.min(gn.length,cn);const Rn=[];let Ln=an;for(;Ln<cn;){const Fn=gn[Ln];let Vn=null,xr=Fn>239?4:Fn>223?3:Fn>191?2:1;if(Ln+xr<=cn){let Fr,Ur,Gr,zr;switch(xr){case 1:Fn<128&&(Vn=Fn);break;case 2:Fr=gn[Ln+1],(Fr&192)===128&&(zr=(Fn&31)<<6|Fr&63,zr>127&&(Vn=zr));break;case 3:Fr=gn[Ln+1],Ur=gn[Ln+2],(Fr&192)===128&&(Ur&192)===128&&(zr=(Fn&15)<<12|(Fr&63)<<6|Ur&63,zr>2047&&(zr<55296||zr>57343)&&(Vn=zr));break;case 4:Fr=gn[Ln+1],Ur=gn[Ln+2],Gr=gn[Ln+3],(Fr&192)===128&&(Ur&192)===128&&(Gr&192)===128&&(zr=(Fn&15)<<18|(Fr&63)<<12|(Ur&63)<<6|Gr&63,zr>65535&&zr<1114112&&(Vn=zr))}}Vn===null?(Vn=65533,xr=1):Vn>65535&&(Vn-=65536,Rn.push(Vn>>>10&1023|55296),Vn=56320|Vn&1023),Rn.push(Vn),Ln+=xr}return vn(Rn)}const _n=4096;function vn(gn){const an=gn.length;if(an<=_n)return String.fromCharCode.apply(String,gn);let cn="",Rn=0;for(;Rn<an;)cn+=String.fromCharCode.apply(String,gn.slice(Rn,Rn+=_n));return cn}function On(gn,an,cn){let Rn="";cn=Math.min(gn.length,cn);for(let Ln=an;Ln<cn;++Ln)Rn+=String.fromCharCode(gn[Ln]&127);return Rn}function Nn(gn,an,cn){let Rn="";cn=Math.min(gn.length,cn);for(let Ln=an;Ln<cn;++Ln)Rn+=String.fromCharCode(gn[Ln]);return Rn}function Un(gn,an,cn){const Rn=gn.length;(!an||an<0)&&(an=0),(!cn||cn<0||cn>Rn)&&(cn=Rn);let Ln="";for(let Fn=an;Fn<cn;++Fn)Ln+=jr[gn[Fn]];return Ln}function zn(gn,an,cn){const Rn=gn.slice(an,cn);let Ln="";for(let Fn=0;Fn<Rn.length-1;Fn+=2)Ln+=String.fromCharCode(Rn[Fn]+Rn[Fn+1]*256);return Ln}u.prototype.slice=function(an,cn){const Rn=this.length;an=~~an,cn=cn===void 0?Rn:~~cn,an<0?(an+=Rn,an<0&&(an=0)):an>Rn&&(an=Rn),cn<0?(cn+=Rn,cn<0&&(cn=0)):cn>Rn&&(cn=Rn),cn<an&&(cn=an);const Ln=this.subarray(an,cn);return Object.setPrototypeOf(Ln,u.prototype),Ln};function Bn(gn,an,cn){if(gn%1!==0||gn<0)throw new RangeError("offset is not uint");if(gn+an>cn)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=this[an],Fn=1,Vn=0;for(;++Vn<cn&&(Fn*=256);)Ln+=this[an+Vn]*Fn;return Ln},u.prototype.readUintBE=u.prototype.readUIntBE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=this[an+--cn],Fn=1;for(;cn>0&&(Fn*=256);)Ln+=this[an+--cn]*Fn;return Ln},u.prototype.readUint8=u.prototype.readUInt8=function(an,cn){return an=an>>>0,cn||Bn(an,1,this.length),this[an]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(an,cn){return an=an>>>0,cn||Bn(an,2,this.length),this[an]|this[an+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(an,cn){return an=an>>>0,cn||Bn(an,2,this.length),this[an]<<8|this[an+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),(this[an]|this[an+1]<<8|this[an+2]<<16)+this[an+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),this[an]*16777216+(this[an+1]<<16|this[an+2]<<8|this[an+3])},u.prototype.readBigUInt64LE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=cn+this[++an]*2**8+this[++an]*2**16+this[++an]*2**24,Fn=this[++an]+this[++an]*2**8+this[++an]*2**16+Rn*2**24;return BigInt(Ln)+(BigInt(Fn)<<BigInt(32))}),u.prototype.readBigUInt64BE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=cn*2**24+this[++an]*2**16+this[++an]*2**8+this[++an],Fn=this[++an]*2**24+this[++an]*2**16+this[++an]*2**8+Rn;return(BigInt(Ln)<<BigInt(32))+BigInt(Fn)}),u.prototype.readIntLE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=this[an],Fn=1,Vn=0;for(;++Vn<cn&&(Fn*=256);)Ln+=this[an+Vn]*Fn;return Fn*=128,Ln>=Fn&&(Ln-=Math.pow(2,8*cn)),Ln},u.prototype.readIntBE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=cn,Fn=1,Vn=this[an+--Ln];for(;Ln>0&&(Fn*=256);)Vn+=this[an+--Ln]*Fn;return Fn*=128,Vn>=Fn&&(Vn-=Math.pow(2,8*cn)),Vn},u.prototype.readInt8=function(an,cn){return an=an>>>0,cn||Bn(an,1,this.length),this[an]&128?(255-this[an]+1)*-1:this[an]},u.prototype.readInt16LE=function(an,cn){an=an>>>0,cn||Bn(an,2,this.length);const Rn=this[an]|this[an+1]<<8;return Rn&32768?Rn|4294901760:Rn},u.prototype.readInt16BE=function(an,cn){an=an>>>0,cn||Bn(an,2,this.length);const Rn=this[an+1]|this[an]<<8;return Rn&32768?Rn|4294901760:Rn},u.prototype.readInt32LE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),this[an]|this[an+1]<<8|this[an+2]<<16|this[an+3]<<24},u.prototype.readInt32BE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),this[an]<<24|this[an+1]<<16|this[an+2]<<8|this[an+3]},u.prototype.readBigInt64LE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=this[an+4]+this[an+5]*2**8+this[an+6]*2**16+(Rn<<24);return(BigInt(Ln)<<BigInt(32))+BigInt(cn+this[++an]*2**8+this[++an]*2**16+this[++an]*2**24)}),u.prototype.readBigInt64BE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=(cn<<24)+this[++an]*2**16+this[++an]*2**8+this[++an];return(BigInt(Ln)<<BigInt(32))+BigInt(this[++an]*2**24+this[++an]*2**16+this[++an]*2**8+Rn)}),u.prototype.readFloatLE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),t.read(this,an,!0,23,4)},u.prototype.readFloatBE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),t.read(this,an,!1,23,4)},u.prototype.readDoubleLE=function(an,cn){return an=an>>>0,cn||Bn(an,8,this.length),t.read(this,an,!0,52,8)},u.prototype.readDoubleBE=function(an,cn){return an=an>>>0,cn||Bn(an,8,this.length),t.read(this,an,!1,52,8)};function En(gn,an,cn,Rn,Ln,Fn){if(!u.isBuffer(gn))throw new TypeError('"buffer" argument must be a Buffer instance');if(an>Ln||an<Fn)throw new RangeError('"value" argument is out of bounds');if(cn+Rn>gn.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,Rn=Rn>>>0,!Ln){const xr=Math.pow(2,8*Rn)-1;En(this,an,cn,Rn,xr,0)}let Fn=1,Vn=0;for(this[cn]=an&255;++Vn<Rn&&(Fn*=256);)this[cn+Vn]=an/Fn&255;return cn+Rn},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,Rn=Rn>>>0,!Ln){const xr=Math.pow(2,8*Rn)-1;En(this,an,cn,Rn,xr,0)}let Fn=Rn-1,Vn=1;for(this[cn+Fn]=an&255;--Fn>=0&&(Vn*=256);)this[cn+Fn]=an/Vn&255;return cn+Rn},u.prototype.writeUint8=u.prototype.writeUInt8=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,1,255,0),this[cn]=an&255,cn+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,65535,0),this[cn]=an&255,this[cn+1]=an>>>8,cn+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,65535,0),this[cn]=an>>>8,this[cn+1]=an&255,cn+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,4294967295,0),this[cn+3]=an>>>24,this[cn+2]=an>>>16,this[cn+1]=an>>>8,this[cn]=an&255,cn+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,4294967295,0),this[cn]=an>>>24,this[cn+1]=an>>>16,this[cn+2]=an>>>8,this[cn+3]=an&255,cn+4};function Mn(gn,an,cn,Rn,Ln){qn(an,Rn,Ln,gn,cn,7);let Fn=Number(an&BigInt(4294967295));gn[cn++]=Fn,Fn=Fn>>8,gn[cn++]=Fn,Fn=Fn>>8,gn[cn++]=Fn,Fn=Fn>>8,gn[cn++]=Fn;let Vn=Number(an>>BigInt(32)&BigInt(4294967295));return gn[cn++]=Vn,Vn=Vn>>8,gn[cn++]=Vn,Vn=Vn>>8,gn[cn++]=Vn,Vn=Vn>>8,gn[cn++]=Vn,cn}function Zn(gn,an,cn,Rn,Ln){qn(an,Rn,Ln,gn,cn,7);let Fn=Number(an&BigInt(4294967295));gn[cn+7]=Fn,Fn=Fn>>8,gn[cn+6]=Fn,Fn=Fn>>8,gn[cn+5]=Fn,Fn=Fn>>8,gn[cn+4]=Fn;let Vn=Number(an>>BigInt(32)&BigInt(4294967295));return gn[cn+3]=Vn,Vn=Vn>>8,gn[cn+2]=Vn,Vn=Vn>>8,gn[cn+1]=Vn,Vn=Vn>>8,gn[cn]=Vn,cn+8}u.prototype.writeBigUInt64LE=Vr(function(an,cn=0){return Mn(this,an,cn,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Vr(function(an,cn=0){return Zn(this,an,cn,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,!Ln){const Fr=Math.pow(2,8*Rn-1);En(this,an,cn,Rn,Fr-1,-Fr)}let Fn=0,Vn=1,xr=0;for(this[cn]=an&255;++Fn<Rn&&(Vn*=256);)an<0&&xr===0&&this[cn+Fn-1]!==0&&(xr=1),this[cn+Fn]=(an/Vn>>0)-xr&255;return cn+Rn},u.prototype.writeIntBE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,!Ln){const Fr=Math.pow(2,8*Rn-1);En(this,an,cn,Rn,Fr-1,-Fr)}let Fn=Rn-1,Vn=1,xr=0;for(this[cn+Fn]=an&255;--Fn>=0&&(Vn*=256);)an<0&&xr===0&&this[cn+Fn+1]!==0&&(xr=1),this[cn+Fn]=(an/Vn>>0)-xr&255;return cn+Rn},u.prototype.writeInt8=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,1,127,-128),an<0&&(an=255+an+1),this[cn]=an&255,cn+1},u.prototype.writeInt16LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,32767,-32768),this[cn]=an&255,this[cn+1]=an>>>8,cn+2},u.prototype.writeInt16BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,32767,-32768),this[cn]=an>>>8,this[cn+1]=an&255,cn+2},u.prototype.writeInt32LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,2147483647,-2147483648),this[cn]=an&255,this[cn+1]=an>>>8,this[cn+2]=an>>>16,this[cn+3]=an>>>24,cn+4},u.prototype.writeInt32BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,2147483647,-2147483648),an<0&&(an=4294967295+an+1),this[cn]=an>>>24,this[cn+1]=an>>>16,this[cn+2]=an>>>8,this[cn+3]=an&255,cn+4},u.prototype.writeBigInt64LE=Vr(function(an,cn=0){return Mn(this,an,cn,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Vr(function(an,cn=0){return Zn(this,an,cn,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Sr(gn,an,cn,Rn,Ln,Fn){if(cn+Rn>gn.length)throw new RangeError("Index out of range");if(cn<0)throw new RangeError("Index out of range")}function $r(gn,an,cn,Rn,Ln){return an=+an,cn=cn>>>0,Ln||Sr(gn,an,cn,4),t.write(gn,an,cn,Rn,23,4),cn+4}u.prototype.writeFloatLE=function(an,cn,Rn){return $r(this,an,cn,!0,Rn)},u.prototype.writeFloatBE=function(an,cn,Rn){return $r(this,an,cn,!1,Rn)};function Xn(gn,an,cn,Rn,Ln){return an=+an,cn=cn>>>0,Ln||Sr(gn,an,cn,8),t.write(gn,an,cn,Rn,52,8),cn+8}u.prototype.writeDoubleLE=function(an,cn,Rn){return Xn(this,an,cn,!0,Rn)},u.prototype.writeDoubleBE=function(an,cn,Rn){return Xn(this,an,cn,!1,Rn)},u.prototype.copy=function(an,cn,Rn,Ln){if(!u.isBuffer(an))throw new TypeError("argument should be a Buffer");if(Rn||(Rn=0),!Ln&&Ln!==0&&(Ln=this.length),cn>=an.length&&(cn=an.length),cn||(cn=0),Ln>0&&Ln<Rn&&(Ln=Rn),Ln===Rn||an.length===0||this.length===0)return 0;if(cn<0)throw new RangeError("targetStart out of bounds");if(Rn<0||Rn>=this.length)throw new RangeError("Index out of range");if(Ln<0)throw new RangeError("sourceEnd out of bounds");Ln>this.length&&(Ln=this.length),an.length-cn<Ln-Rn&&(Ln=an.length-cn+Rn);const Fn=Ln-Rn;return this===an&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(cn,Rn,Ln):Uint8Array.prototype.set.call(an,this.subarray(Rn,Ln),cn),Fn},u.prototype.fill=function(an,cn,Rn,Ln){if(typeof an=="string"){if(typeof cn=="string"?(Ln=cn,cn=0,Rn=this.length):typeof Rn=="string"&&(Ln=Rn,Rn=this.length),Ln!==void 0&&typeof Ln!="string")throw new TypeError("encoding must be a string");if(typeof Ln=="string"&&!u.isEncoding(Ln))throw new TypeError("Unknown encoding: "+Ln);if(an.length===1){const Vn=an.charCodeAt(0);(Ln==="utf8"&&Vn<128||Ln==="latin1")&&(an=Vn)}}else typeof an=="number"?an=an&255:typeof an=="boolean"&&(an=Number(an));if(cn<0||this.length<cn||this.length<Rn)throw new RangeError("Out of range index");if(Rn<=cn)return this;cn=cn>>>0,Rn=Rn===void 0?this.length:Rn>>>0,an||(an=0);let Fn;if(typeof an=="number")for(Fn=cn;Fn<Rn;++Fn)this[Fn]=an;else{const Vn=u.isBuffer(an)?an:u.from(an,Ln),xr=Vn.length;if(xr===0)throw new TypeError('The value "'+an+'" is invalid for argument "value"');for(Fn=0;Fn<Rn-cn;++Fn)this[Fn+cn]=Vn[Fn%xr]}return this};const br={};function _r(gn,an,cn){br[gn]=class extends cn{constructor(){super(),Object.defineProperty(this,"message",{value:an.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${gn}]`,this.stack,delete this.name}get code(){return gn}set code(Ln){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ln,writable:!0})}toString(){return`${this.name} [${gn}]: ${this.message}`}}}_r("ERR_BUFFER_OUT_OF_BOUNDS",function(gn){return gn?`${gn} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_r("ERR_INVALID_ARG_TYPE",function(gn,an){return`The "${gn}" argument must be of type number. Received type ${typeof an}`},TypeError),_r("ERR_OUT_OF_RANGE",function(gn,an,cn){let Rn=`The value of "${gn}" is out of range.`,Ln=cn;return Number.isInteger(cn)&&Math.abs(cn)>2**32?Ln=kr(String(cn)):typeof cn=="bigint"&&(Ln=String(cn),(cn>BigInt(2)**BigInt(32)||cn<-(BigInt(2)**BigInt(32)))&&(Ln=kr(Ln)),Ln+="n"),Rn+=` It must be ${an}. Received ${Ln}`,Rn},RangeError);function kr(gn){let an="",cn=gn.length;const Rn=gn[0]==="-"?1:0;for(;cn>=Rn+4;cn-=3)an=`_${gn.slice(cn-3,cn)}${an}`;return`${gn.slice(0,cn)}${an}`}function Cr(gn,an,cn){Jn(an,"offset"),(gn[an]===void 0||gn[an+cn]===void 0)&&Qn(an,gn.length-(cn+1))}function qn(gn,an,cn,Rn,Ln,Fn){if(gn>cn||gn<an){const Vn=typeof an=="bigint"?"n":"";let xr;throw Fn>3?an===0||an===BigInt(0)?xr=`>= 0${Vn} and < 2${Vn} ** ${(Fn+1)*8}${Vn}`:xr=`>= -(2${Vn} ** ${(Fn+1)*8-1}${Vn}) and < 2 ** ${(Fn+1)*8-1}${Vn}`:xr=`>= ${an}${Vn} and <= ${cn}${Vn}`,new br.ERR_OUT_OF_RANGE("value",xr,gn)}Cr(Rn,Ln,Fn)}function Jn(gn,an){if(typeof gn!="number")throw new br.ERR_INVALID_ARG_TYPE(an,"number",gn)}function Qn(gn,an,cn){throw Math.floor(gn)!==gn?(Jn(gn,cn),new br.ERR_OUT_OF_RANGE(cn||"offset","an integer",gn)):an<0?new br.ERR_BUFFER_OUT_OF_BOUNDS:new br.ERR_OUT_OF_RANGE(cn||"offset",`>= ${cn?1:0} and <= ${an}`,gn)}const Tr=/[^+/0-9A-Za-z-_]/g;function Or(gn){if(gn=gn.split("=")[0],gn=gn.trim().replace(Tr,""),gn.length<2)return"";for(;gn.length%4!==0;)gn=gn+"=";return gn}function Ir(gn,an){an=an||1/0;let cn;const Rn=gn.length;let Ln=null;const Fn=[];for(let Vn=0;Vn<Rn;++Vn){if(cn=gn.charCodeAt(Vn),cn>55295&&cn<57344){if(!Ln){if(cn>56319){(an-=3)>-1&&Fn.push(239,191,189);continue}else if(Vn+1===Rn){(an-=3)>-1&&Fn.push(239,191,189);continue}Ln=cn;continue}if(cn<56320){(an-=3)>-1&&Fn.push(239,191,189),Ln=cn;continue}cn=(Ln-55296<<10|cn-56320)+65536}else Ln&&(an-=3)>-1&&Fn.push(239,191,189);if(Ln=null,cn<128){if((an-=1)<0)break;Fn.push(cn)}else if(cn<2048){if((an-=2)<0)break;Fn.push(cn>>6|192,cn&63|128)}else if(cn<65536){if((an-=3)<0)break;Fn.push(cn>>12|224,cn>>6&63|128,cn&63|128)}else if(cn<1114112){if((an-=4)<0)break;Fn.push(cn>>18|240,cn>>12&63|128,cn>>6&63|128,cn&63|128)}else throw new Error("Invalid code point")}return Fn}function Kr(gn){const an=[];for(let cn=0;cn<gn.length;++cn)an.push(gn.charCodeAt(cn)&255);return an}function Ar(gn,an){let cn,Rn,Ln;const Fn=[];for(let Vn=0;Vn<gn.length&&!((an-=2)<0);++Vn)cn=gn.charCodeAt(Vn),Rn=cn>>8,Ln=cn%256,Fn.push(Ln),Fn.push(Rn);return Fn}function Nr(gn){return e.toByteArray(Or(gn))}function vr(gn,an,cn,Rn){let Ln;for(Ln=0;Ln<Rn&&!(Ln+cn>=an.length||Ln>=gn.length);++Ln)an[Ln+cn]=gn[Ln];return Ln}function Hr(gn,an){return gn instanceof an||gn!=null&&gn.constructor!=null&&gn.constructor.name!=null&&gn.constructor.name===an.name}function Dr(gn){return gn!==gn}const jr=function(){const gn="0123456789abcdef",an=new Array(256);for(let cn=0;cn<16;++cn){const Rn=cn*16;for(let Ln=0;Ln<16;++Ln)an[Rn+Ln]=gn[cn]+gn[Ln]}return an}();function Vr(gn){return typeof BigInt>"u"?Yr:gn}function Yr(){throw new Error("BigInt not supported")}})(bufferPolyfill);var browser$9={exports:{}},process=browser$9.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(n){if(cachedSetTimeout===setTimeout)return setTimeout(n,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(n,0);try{return cachedSetTimeout(n,0)}catch{try{return cachedSetTimeout.call(null,n,0)}catch{return cachedSetTimeout.call(this,n,0)}}}function runClearTimeout(n){if(cachedClearTimeout===clearTimeout)return clearTimeout(n);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(n);try{return cachedClearTimeout(n)}catch{try{return cachedClearTimeout.call(null,n)}catch{return cachedClearTimeout.call(this,n)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var n=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue$1.length;e;){for(currentQueue=queue$1,queue$1=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(n)}}process.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];queue$1.push(new Item(n,e)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(n,e){this.fun=n,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$7(){}process.on=noop$7;process.addListener=noop$7;process.once=noop$7;process.off=noop$7;process.removeListener=noop$7;process.removeAllListeners=noop$7;process.emit=noop$7;process.prependListener=noop$7;process.prependOnceListener=noop$7;process.listeners=function(n){return[]};process.binding=function(n){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(n){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=bufferPolyfill,t=browser$9.exports,r=c=>c&&c.__esModule?c:{default:c},o=r(t),a=globalThis||void 0||self;Object.defineProperty(n,"Buffer",{enumerable:!0,get:()=>e.Buffer}),Object.defineProperty(n,"process",{enumerable:!0,get:()=>o.default}),n.global=a})(dist$3);function makeMap(n,e){const t=Object.create(null),r=n.split(",");for(let o=0;o<r.length;o++)t[r[o]]=!0;return e?o=>!!t[o.toLowerCase()]:o=>!!t[o]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP$1=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=n=>onRE.test(n),isModelListener=n=>n.startsWith("onUpdate:"),extend$1=Object.assign,remove$1=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},hasOwnProperty$5=Object.prototype.hasOwnProperty,hasOwn$2=(n,e)=>hasOwnProperty$5.call(n,e),isArray$3=Array.isArray,isMap$1=n=>toTypeString(n)==="[object Map]",isSet$2=n=>toTypeString(n)==="[object Set]",isDate$4=n=>toTypeString(n)==="[object Date]",isRegExp$4=n=>toTypeString(n)==="[object RegExp]",isFunction$5=n=>typeof n=="function",isString$3=n=>typeof n=="string",isSymbol=n=>typeof n=="symbol",isObject$d=n=>n!==null&&typeof n=="object",isPromise$1=n=>(isObject$d(n)||isFunction$5(n))&&isFunction$5(n.then)&&isFunction$5(n.catch),objectToString$2=Object.prototype.toString,toTypeString=n=>objectToString$2.call(n),toRawType=n=>toTypeString(n).slice(8,-1),isPlainObject$3=n=>toTypeString(n)==="[object Object]",isIntegerKey=n=>isString$3(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(n=>n.replace(camelizeRE,(e,t)=>t?t.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(n=>n.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(n=>n.charAt(0).toUpperCase()+n.slice(1)),toHandlerKey=cacheStringFunction(n=>n?`on${capitalize(n)}`:""),hasChanged=(n,e)=>!Object.is(n,e),invokeArrayFns=(n,e)=>{for(let t=0;t<n.length;t++)n[t](e)},def=(n,e,t)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value:t})},looseToNumber=n=>{const e=parseFloat(n);return isNaN(e)?n:e},toNumber=n=>{const e=isString$3(n)?Number(n):NaN;return isNaN(e)?n:e};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:{}),GLOBALS_ALLOWED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",isGloballyAllowed=makeMap(GLOBALS_ALLOWED);function normalizeStyle(n){if(isArray$3(n)){const e={};for(let t=0;t<n.length;t++){const r=n[t],o=isString$3(r)?parseStringStyle(r):normalizeStyle(r);if(o)for(const a in o)e[a]=o[a]}return e}else if(isString$3(n)||isObject$d(n))return n}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(n){const e={};return n.replace(styleCommentRE,"").split(listDelimiterRE).forEach(t=>{if(t){const r=t.split(propertyDelimiterRE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function normalizeClass(n){let e="";if(isString$3(n))e=n;else if(isArray$3(n))for(let t=0;t<n.length;t++){const r=normalizeClass(n[t]);r&&(e+=r+" ")}else if(isObject$d(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function normalizeProps(n){if(!n)return null;let{class:e,style:t}=n;return e&&!isString$3(e)&&(n.class=normalizeClass(e)),t&&(n.style=normalizeStyle(t)),n}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(n){return!!n||n===""}function looseCompareArrays(n,e){if(n.length!==e.length)return!1;let t=!0;for(let r=0;t&&r<n.length;r++)t=looseEqual(n[r],e[r]);return t}function looseEqual(n,e){if(n===e)return!0;let t=isDate$4(n),r=isDate$4(e);if(t||r)return t&&r?n.getTime()===e.getTime():!1;if(t=isSymbol(n),r=isSymbol(e),t||r)return n===e;if(t=isArray$3(n),r=isArray$3(e),t||r)return t&&r?looseCompareArrays(n,e):!1;if(t=isObject$d(n),r=isObject$d(e),t||r){if(!t||!r)return!1;const o=Object.keys(n).length,a=Object.keys(e).length;if(o!==a)return!1;for(const c in n){const u=n.hasOwnProperty(c),en=e.hasOwnProperty(c);if(u&&!en||!u&&en||!looseEqual(n[c],e[c]))return!1}}return String(n)===String(e)}function looseIndexOf(n,e){return n.findIndex(t=>looseEqual(t,e))}const toDisplayString=n=>isString$3(n)?n:n==null?"":isArray$3(n)||isObject$d(n)&&(n.toString===objectToString$2||!isFunction$5(n.toString))?JSON.stringify(n,replacer,2):String(n),replacer=(n,e)=>e&&e.__v_isRef?replacer(n,e.value):isMap$1(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[r,o])=>(t[`${r} =>`]=o,t),{})}:isSet$2(e)?{[`Set(${e.size})`]:[...e.values()]}:isObject$d(e)&&!isArray$3(e)&&!isPlainObject$3(e)?String(e):e;let activeEffectScope;class EffectScope{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!e&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=activeEffectScope;try{return activeEffectScope=this,e()}finally{activeEffectScope=t}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function effectScope(n){return new EffectScope(n)}function recordEffectScope(n,e=activeEffectScope){e&&e.active&&e.effects.push(n)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(n){activeEffectScope&&activeEffectScope.cleanups.push(n)}const createDep=n=>{const e=new Set(n);return e.w=0,e.n=0,e},wasTracked=n=>(n.w&trackOpBit)>0,newTracked=n=>(n.n&trackOpBit)>0,initDepMarkers=({deps:n})=>{if(n.length)for(let e=0;e<n.length;e++)n[e].w|=trackOpBit},finalizeDepMarkers=n=>{const{deps:e}=n;if(e.length){let t=0;for(let r=0;r<e.length;r++){const o=e[r];wasTracked(o)&&!newTracked(o)?o.delete(n):e[t++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}e.length=t}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(e,t=null,r){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,r)}run(){if(!this.active)return this.fn();let e=activeEffect,t=shouldTrack;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}function effect(n,e){n.effect instanceof ReactiveEffect&&(n=n.effect.fn);const t=new ReactiveEffect(n);e&&(extend$1(t,e),e.scope&&recordEffectScope(t,e.scope)),(!e||!e.lazy)&&t.run();const r=t.run.bind(t);return r.effect=t,r}function stop$1(n){n.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const n=trackStack.pop();shouldTrack=n===void 0?!0:n}function track(n,e,t){if(shouldTrack&&activeEffect){let r=targetMap.get(n);r||targetMap.set(n,r=new Map);let o=r.get(t);o||r.set(t,o=createDep()),trackEffects(o)}}function trackEffects(n,e){let t=!1;effectTrackDepth<=maxMarkerBits?newTracked(n)||(n.n|=trackOpBit,t=!wasTracked(n)):t=!n.has(activeEffect),t&&(n.add(activeEffect),activeEffect.deps.push(n))}function trigger(n,e,t,r,o,a){const c=targetMap.get(n);if(!c)return;let u=[];if(e==="clear")u=[...c.values()];else if(t==="length"&&isArray$3(n)){const en=Number(r);c.forEach((tn,nn)=>{(nn==="length"||!isSymbol(nn)&&nn>=en)&&u.push(tn)})}else switch(t!==void 0&&u.push(c.get(t)),e){case"add":isArray$3(n)?isIntegerKey(t)&&u.push(c.get("length")):(u.push(c.get(ITERATE_KEY)),isMap$1(n)&&u.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3(n)||(u.push(c.get(ITERATE_KEY)),isMap$1(n)&&u.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(n)&&u.push(c.get(ITERATE_KEY));break}if(u.length===1)u[0]&&triggerEffects(u[0]);else{const en=[];for(const tn of u)tn&&en.push(...tn);triggerEffects(createDep(en))}}function triggerEffects(n,e){const t=isArray$3(n)?n:[...n];for(const r of t)r.computed&&triggerEffect(r);for(const r of t)r.computed||triggerEffect(r)}function triggerEffect(n,e){(n!==activeEffect||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}function getDepFromReactive(n,e){var t;return(t=targetMap.get(n))==null?void 0:t.get(e)}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(isSymbol)),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const r=toRaw(this);for(let a=0,c=this.length;a<c;a++)track(r,"get",a+"");const o=r[e](...t);return o===-1||o===!1?r[e](...t.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){pauseTracking();const r=toRaw(this)[e].apply(this,t);return resetTracking(),r}}),n}function hasOwnProperty$4(n){const e=toRaw(this);return track(e,"has",n),e.hasOwnProperty(n)}class BaseReactiveHandler{constructor(e=!1,t=!1){this._isReadonly=e,this._shallow=t}get(e,t,r){const o=this._isReadonly,a=this._shallow;if(t==="__v_isReactive")return!o;if(t==="__v_isReadonly")return o;if(t==="__v_isShallow")return a;if(t==="__v_raw"&&r===(o?a?shallowReadonlyMap:readonlyMap:a?shallowReactiveMap:reactiveMap).get(e))return e;const c=isArray$3(e);if(!o){if(c&&hasOwn$2(arrayInstrumentations,t))return Reflect.get(arrayInstrumentations,t,r);if(t==="hasOwnProperty")return hasOwnProperty$4}const u=Reflect.get(e,t,r);return(isSymbol(t)?builtInSymbols.has(t):isNonTrackableKeys(t))||(o||track(e,"get",t),a)?u:isRef(u)?c&&isIntegerKey(t)?u:u.value:isObject$d(u)?o?readonly(u):reactive(u):u}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!1,e)}set(e,t,r,o){let a=e[t];if(isReadonly(a)&&isRef(a)&&!isRef(r))return!1;if(!this._shallow&&(!isShallow(r)&&!isReadonly(r)&&(a=toRaw(a),r=toRaw(r)),!isArray$3(e)&&isRef(a)&&!isRef(r)))return a.value=r,!0;const c=isArray$3(e)&&isIntegerKey(t)?Number(t)<e.length:hasOwn$2(e,t),u=Reflect.set(e,t,r,o);return e===toRaw(o)&&(c?hasChanged(r,a)&&trigger(e,"set",t,r):trigger(e,"add",t,r)),u}deleteProperty(e,t){const r=hasOwn$2(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&r&&trigger(e,"delete",t,void 0),o}has(e,t){const r=Reflect.has(e,t);return(!isSymbol(t)||!builtInSymbols.has(t))&&track(e,"has",t),r}ownKeys(e){return track(e,"iterate",isArray$3(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=n=>n,getProto$2=n=>Reflect.getPrototypeOf(n);function get$2(n,e,t=!1,r=!1){n=n.__v_raw;const o=toRaw(n),a=toRaw(e);t||(hasChanged(e,a)&&track(o,"get",e),track(o,"get",a));const{has:c}=getProto$2(o),u=r?toShallow:t?toReadonly:toReactive;if(c.call(o,e))return u(n.get(e));if(c.call(o,a))return u(n.get(a));n!==o&&n.get(e)}function has$2(n,e=!1){const t=this.__v_raw,r=toRaw(t),o=toRaw(n);return e||(hasChanged(n,o)&&track(r,"has",n),track(r,"has",o)),n===o?t.has(n):t.has(n)||t.has(o)}function size(n,e=!1){return n=n.__v_raw,!e&&track(toRaw(n),"iterate",ITERATE_KEY),Reflect.get(n,"size",n)}function add$3(n){n=toRaw(n);const e=toRaw(this);return getProto$2(e).has.call(e,n)||(e.add(n),trigger(e,"add",n,n)),this}function set$2(n,e){e=toRaw(e);const t=toRaw(this),{has:r,get:o}=getProto$2(t);let a=r.call(t,n);a||(n=toRaw(n),a=r.call(t,n));const c=o.call(t,n);return t.set(n,e),a?hasChanged(e,c)&&trigger(t,"set",n,e):trigger(t,"add",n,e),this}function deleteEntry(n){const e=toRaw(this),{has:t,get:r}=getProto$2(e);let o=t.call(e,n);o||(n=toRaw(n),o=t.call(e,n)),r&&r.call(e,n);const a=e.delete(n);return o&&trigger(e,"delete",n,void 0),a}function clear(){const n=toRaw(this),e=n.size!==0,t=n.clear();return e&&trigger(n,"clear",void 0,void 0),t}function createForEach(n,e){return function(r,o){const a=this,c=a.__v_raw,u=toRaw(c),en=e?toShallow:n?toReadonly:toReactive;return!n&&track(u,"iterate",ITERATE_KEY),c.forEach((tn,nn)=>r.call(o,en(tn),en(nn),a))}}function createIterableMethod(n,e,t){return function(...r){const o=this.__v_raw,a=toRaw(o),c=isMap$1(a),u=n==="entries"||n===Symbol.iterator&&c,en=n==="keys"&&c,tn=o[n](...r),nn=t?toShallow:e?toReadonly:toReactive;return!e&&track(a,"iterate",en?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:sn,done:fn}=tn.next();return fn?{value:sn,done:fn}:{value:u?[nn(sn[0]),nn(sn[1])]:nn(sn),done:fn}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(n){return function(...e){return n==="delete"?!1:this}}function createInstrumentations(){const n={get(a){return get$2(this,a)},get size(){return size(this)},has:has$2,add:add$3,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},e={get(a){return get$2(this,a,!1,!0)},get size(){return size(this)},has:has$2,add:add$3,set:set$2,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},t={get(a){return get$2(this,a,!0)},get size(){return size(this,!0)},has(a){return has$2.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},r={get(a){return get$2(this,a,!0,!0)},get size(){return size(this,!0)},has(a){return has$2.call(this,a,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{n[a]=createIterableMethod(a,!1,!1),t[a]=createIterableMethod(a,!0,!1),e[a]=createIterableMethod(a,!1,!0),r[a]=createIterableMethod(a,!0,!0)}),[n,t,e,r]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(n,e){const t=e?n?shallowReadonlyInstrumentations:shallowInstrumentations:n?readonlyInstrumentations:mutableInstrumentations;return(r,o,a)=>o==="__v_isReactive"?!n:o==="__v_isReadonly"?n:o==="__v_raw"?r:Reflect.get(hasOwn$2(t,o)&&o in r?t:r,o,a)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(n){return n.__v_skip||!Object.isExtensible(n)?0:targetTypeMap(toRawType(n))}function reactive(n){return isReadonly(n)?n:createReactiveObject(n,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(n){return createReactiveObject(n,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(n){return createReactiveObject(n,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(n){return createReactiveObject(n,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(n,e,t,r,o){if(!isObject$d(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const a=o.get(n);if(a)return a;const c=getTargetType(n);if(c===0)return n;const u=new Proxy(n,c===2?r:t);return o.set(n,u),u}function isReactive(n){return isReadonly(n)?isReactive(n.__v_raw):!!(n&&n.__v_isReactive)}function isReadonly(n){return!!(n&&n.__v_isReadonly)}function isShallow(n){return!!(n&&n.__v_isShallow)}function isProxy(n){return isReactive(n)||isReadonly(n)}function toRaw(n){const e=n&&n.__v_raw;return e?toRaw(e):n}function markRaw(n){return def(n,"__v_skip",!0),n}const toReactive=n=>isObject$d(n)?reactive(n):n,toReadonly=n=>isObject$d(n)?readonly(n):n;function trackRefValue(n){shouldTrack&&activeEffect&&(n=toRaw(n),trackEffects(n.dep||(n.dep=createDep())))}function triggerRefValue(n,e){n=toRaw(n);const t=n.dep;t&&triggerEffects(t)}function isRef(n){return!!(n&&n.__v_isRef===!0)}function ref(n){return createRef(n,!1)}function shallowRef(n){return createRef(n,!0)}function createRef(n,e){return isRef(n)?n:new RefImpl(n,e)}class RefImpl{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:toRaw(e),this._value=t?e:toReactive(e)}get value(){return trackRefValue(this),this._value}set value(e){const t=this.__v_isShallow||isShallow(e)||isReadonly(e);e=t?e:toRaw(e),hasChanged(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:toReactive(e),triggerRefValue(this))}}function triggerRef(n){triggerRefValue(n)}function unref(n){return isRef(n)?n.value:n}function toValue$1(n){return isFunction$5(n)?n():unref(n)}const shallowUnwrapHandlers={get:(n,e,t)=>unref(Reflect.get(n,e,t)),set:(n,e,t,r)=>{const o=n[e];return isRef(o)&&!isRef(t)?(o.value=t,!0):Reflect.set(n,e,t,r)}};function proxyRefs(n){return isReactive(n)?n:new Proxy(n,shallowUnwrapHandlers)}class CustomRefImpl{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:t,set:r}=e(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=t,this._set=r}get value(){return this._get()}set value(e){this._set(e)}}function customRef(n){return new CustomRefImpl(n)}function toRefs(n){const e=isArray$3(n)?new Array(n.length):{};for(const t in n)e[t]=propertyToRef(n,t);return e}class ObjectRefImpl{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function toRef(n,e,t){return isRef(n)?n:isFunction$5(n)?new GetterRefImpl(n):isObject$d(n)&&arguments.length>1?propertyToRef(n,e,t):ref(n)}function propertyToRef(n,e,t){const r=n[e];return isRef(r)?r:new ObjectRefImpl(n,e,t)}class ComputedRefImpl{constructor(e,t,r,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(e,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const e=toRaw(this);return trackRefValue(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function computed$2(n,e,t=!1){let r,o;const a=isFunction$5(n);return a?(r=n,o=NOOP$1):(r=n.get,o=n.set),new ComputedRefImpl(r,o,a||!o,t)}function warn(n,...e){}function assertNumber(n,e){}function callWithErrorHandling(n,e,t,r){let o;try{o=r?n(...r):n()}catch(a){handleError(a,e,t)}return o}function callWithAsyncErrorHandling(n,e,t,r){if(isFunction$5(n)){const a=callWithErrorHandling(n,e,t,r);return a&&isPromise$1(a)&&a.catch(c=>{handleError(c,e,t)}),a}const o=[];for(let a=0;a<n.length;a++)o.push(callWithAsyncErrorHandling(n[a],e,t,r));return o}function handleError(n,e,t,r=!0){const o=e?e.vnode:null;if(e){let a=e.parent;const c=e.proxy,u=t;for(;a;){const tn=a.ec;if(tn){for(let nn=0;nn<tn.length;nn++)if(tn[nn](n,c,u)===!1)return}a=a.parent}const en=e.appContext.config.errorHandler;if(en){callWithErrorHandling(en,null,10,[n,c,u]);return}}logError$1(n,t,o,r)}function logError$1(n,e,t,r=!0){console.error(n)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(n){const e=currentFlushPromise||resolvedPromise;return n?e.then(this?n.bind(this):n):e}function findInsertionIndex(n){let e=flushIndex+1,t=queue.length;for(;e<t;){const r=e+t>>>1,o=queue[r],a=getId(o);a<n||a===n&&o.pre?e=r+1:t=r}return e}function queueJob(n){(!queue.length||!queue.includes(n,isFlushing&&n.allowRecurse?flushIndex+1:flushIndex))&&(n.id==null?queue.push(n):queue.splice(findInsertionIndex(n.id),0,n),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(n){const e=queue.indexOf(n);e>flushIndex&&queue.splice(e,1)}function queuePostFlushCb(n){isArray$3(n)?pendingPostFlushCbs.push(...n):(!activePostFlushCbs||!activePostFlushCbs.includes(n,n.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(n),queueFlush()}function flushPreFlushCbs(n,e=isFlushing?flushIndex+1:0){for(;e<queue.length;e++){const t=queue[e];t&&t.pre&&(queue.splice(e,1),e--,t())}}function flushPostFlushCbs(n){if(pendingPostFlushCbs.length){const e=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...e);return}for(activePostFlushCbs=e,activePostFlushCbs.sort((t,r)=>getId(t)-getId(r)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=n=>n.id==null?1/0:n.id,comparator=(n,e)=>{const t=getId(n)-getId(e);if(t===0){if(n.pre&&!e.pre)return-1;if(e.pre&&!n.pre)return 1}return t};function flushJobs(n){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const e=NOOP$1;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const t=queue[flushIndex];t&&t.active!==!1&&callWithErrorHandling(t,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let devtools,buffer$2=[];function setDevtoolsHook(n,e){var t,r;devtools=n,devtools?(devtools.enabled=!0,buffer$2.forEach(({event:o,args:a})=>devtools.emit(o,...a)),buffer$2=[]):typeof window<"u"&&window.HTMLElement&&!((r=(t=window.navigator)==null?void 0:t.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{setDevtoolsHook(a,e)}),setTimeout(()=>{devtools||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer$2=[])},3e3)):buffer$2=[]}function emit(n,e,...t){if(n.isUnmounted)return;const r=n.vnode.props||EMPTY_OBJ;let o=t;const a=e.startsWith("update:"),c=a&&e.slice(7);if(c&&c in r){const nn=`${c==="modelValue"?"model":c}Modifiers`,{number:sn,trim:fn}=r[nn]||EMPTY_OBJ;fn&&(o=t.map(dn=>isString$3(dn)?dn.trim():dn)),sn&&(o=t.map(looseToNumber))}let u,en=r[u=toHandlerKey(e)]||r[u=toHandlerKey(camelize(e))];!en&&a&&(en=r[u=toHandlerKey(hyphenate(e))]),en&&callWithAsyncErrorHandling(en,n,6,o);const tn=r[u+"Once"];if(tn){if(!n.emitted)n.emitted={};else if(n.emitted[u])return;n.emitted[u]=!0,callWithAsyncErrorHandling(tn,n,6,o)}}function normalizeEmitsOptions(n,e,t=!1){const r=e.emitsCache,o=r.get(n);if(o!==void 0)return o;const a=n.emits;let c={},u=!1;if(!isFunction$5(n)){const en=tn=>{const nn=normalizeEmitsOptions(tn,e,!0);nn&&(u=!0,extend$1(c,nn))};!t&&e.mixins.length&&e.mixins.forEach(en),n.extends&&en(n.extends),n.mixins&&n.mixins.forEach(en)}return!a&&!u?(isObject$d(n)&&r.set(n,null),null):(isArray$3(a)?a.forEach(en=>c[en]=null):extend$1(c,a),isObject$d(n)&&r.set(n,c),c)}function isEmitListener(n,e){return!n||!isOn(e)?!1:(e=e.slice(2).replace(/Once$/,""),hasOwn$2(n,e[0].toLowerCase()+e.slice(1))||hasOwn$2(n,hyphenate(e))||hasOwn$2(n,e))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(n){const e=currentRenderingInstance;return currentRenderingInstance=n,currentScopeId=n&&n.type.__scopeId||null,e}function pushScopeId(n){currentScopeId=n}function popScopeId(){currentScopeId=null}const withScopeId=n=>withCtx;function withCtx(n,e=currentRenderingInstance,t){if(!e||n._n)return n;const r=(...o)=>{r._d&&setBlockTracking(-1);const a=setCurrentRenderingInstance(e);let c;try{c=n(...o)}finally{setCurrentRenderingInstance(a),r._d&&setBlockTracking(1)}return c};return r._n=!0,r._c=!0,r._d=!0,r}function markAttrsAccessed(){}function renderComponentRoot(n){const{type:e,vnode:t,proxy:r,withProxy:o,props:a,propsOptions:[c],slots:u,attrs:en,emit:tn,render:nn,renderCache:sn,data:fn,setupState:dn,ctx:hn,inheritAttrs:ln}=n;let pn,$n;const Sn=setCurrentRenderingInstance(n);try{if(t.shapeFlag&4){const In=o||r;pn=normalizeVNode(nn.call(In,In,sn,a,dn,fn,hn)),$n=en}else{const In=e;pn=normalizeVNode(In.length>1?In(a,{attrs:en,slots:u,emit:tn}):In(a,null)),$n=e.props?en:getFunctionalFallthrough(en)}}catch(In){blockStack.length=0,handleError(In,n,1),pn=createVNode(Comment)}let yn=pn;if($n&&ln!==!1){const In=Object.keys($n),{shapeFlag:An}=yn;In.length&&An&7&&(c&&In.some(isModelListener)&&($n=filterModelListeners($n,c)),yn=cloneVNode(yn,$n))}return t.dirs&&(yn=cloneVNode(yn),yn.dirs=yn.dirs?yn.dirs.concat(t.dirs):t.dirs),t.transition&&(yn.transition=t.transition),pn=yn,setCurrentRenderingInstance(Sn),pn}function filterSingleRoot(n){let e;for(let t=0;t<n.length;t++){const r=n[t];if(isVNode(r)){if(r.type!==Comment||r.children==="v-if"){if(e)return;e=r}}else return}return e}const getFunctionalFallthrough=n=>{let e;for(const t in n)(t==="class"||t==="style"||isOn(t))&&((e||(e={}))[t]=n[t]);return e},filterModelListeners=(n,e)=>{const t={};for(const r in n)(!isModelListener(r)||!(r.slice(9)in e))&&(t[r]=n[r]);return t};function shouldUpdateComponent(n,e,t){const{props:r,children:o,component:a}=n,{props:c,children:u,patchFlag:en}=e,tn=a.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&en>=0){if(en&1024)return!0;if(en&16)return r?hasPropsChanged(r,c,tn):!!c;if(en&8){const nn=e.dynamicProps;for(let sn=0;sn<nn.length;sn++){const fn=nn[sn];if(c[fn]!==r[fn]&&!isEmitListener(tn,fn))return!0}}}else return(o||u)&&(!u||!u.$stable)?!0:r===c?!1:r?c?hasPropsChanged(r,c,tn):!0:!!c;return!1}function hasPropsChanged(n,e,t){const r=Object.keys(e);if(r.length!==Object.keys(n).length)return!0;for(let o=0;o<r.length;o++){const a=r[o];if(e[a]!==n[a]&&!isEmitListener(t,a))return!0}return!1}function updateHOCHostEl({vnode:n,parent:e},t){for(;e&&e.subTree===n;)(n=e.vnode).el=t,e=e.parent}const isSuspense=n=>n.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(n,e,t,r,o,a,c,u,en,tn){n==null?mountSuspense(e,t,r,o,a,c,u,en,tn):patchSuspense(n,e,t,r,o,c,u,en,tn)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(n,e){const t=n.props&&n.props[e];isFunction$5(t)&&t()}function mountSuspense(n,e,t,r,o,a,c,u,en){const{p:tn,o:{createElement:nn}}=en,sn=nn("div"),fn=n.suspense=createSuspenseBoundary(n,o,r,e,sn,t,a,c,u,en);tn(null,fn.pendingBranch=n.ssContent,sn,null,r,fn,a,c),fn.deps>0?(triggerEvent(n,"onPending"),triggerEvent(n,"onFallback"),tn(null,n.ssFallback,e,t,r,null,a,c),setActiveBranch(fn,n.ssFallback)):fn.resolve(!1,!0)}function patchSuspense(n,e,t,r,o,a,c,u,{p:en,um:tn,o:{createElement:nn}}){const sn=e.suspense=n.suspense;sn.vnode=e,e.el=n.el;const fn=e.ssContent,dn=e.ssFallback,{activeBranch:hn,pendingBranch:ln,isInFallback:pn,isHydrating:$n}=sn;if(ln)sn.pendingBranch=fn,isSameVNodeType(fn,ln)?(en(ln,fn,sn.hiddenContainer,null,o,sn,a,c,u),sn.deps<=0?sn.resolve():pn&&(en(hn,dn,t,r,o,null,a,c,u),setActiveBranch(sn,dn))):(sn.pendingId++,$n?(sn.isHydrating=!1,sn.activeBranch=ln):tn(ln,o,sn),sn.deps=0,sn.effects.length=0,sn.hiddenContainer=nn("div"),pn?(en(null,fn,sn.hiddenContainer,null,o,sn,a,c,u),sn.deps<=0?sn.resolve():(en(hn,dn,t,r,o,null,a,c,u),setActiveBranch(sn,dn))):hn&&isSameVNodeType(fn,hn)?(en(hn,fn,t,r,o,sn,a,c,u),sn.resolve(!0)):(en(null,fn,sn.hiddenContainer,null,o,sn,a,c,u),sn.deps<=0&&sn.resolve()));else if(hn&&isSameVNodeType(fn,hn))en(hn,fn,t,r,o,sn,a,c,u),setActiveBranch(sn,fn);else if(triggerEvent(e,"onPending"),sn.pendingBranch=fn,sn.pendingId++,en(null,fn,sn.hiddenContainer,null,o,sn,a,c,u),sn.deps<=0)sn.resolve();else{const{timeout:Sn,pendingId:yn}=sn;Sn>0?setTimeout(()=>{sn.pendingId===yn&&sn.fallback(dn)},Sn):Sn===0&&sn.fallback(dn)}}function createSuspenseBoundary(n,e,t,r,o,a,c,u,en,tn,nn=!1){const{p:sn,m:fn,um:dn,n:hn,o:{parentNode:ln,remove:pn}}=tn;let $n;const Sn=isVNodeSuspensible(n);Sn&&e!=null&&e.pendingBranch&&($n=e.pendingId,e.deps++);const yn=n.props?toNumber(n.props.timeout):void 0,In={vnode:n,parent:e,parentComponent:t,isSVG:c,container:r,hiddenContainer:o,anchor:a,deps:0,pendingId:0,timeout:typeof yn=="number"?yn:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:nn,isUnmounted:!1,effects:[],resolve(An=!1,Tn=!1){const{vnode:kn,activeBranch:Pn,pendingBranch:Dn,pendingId:Kn,effects:Hn,parentComponent:jn,container:Cn}=In;let mn=!1;if(In.isHydrating)In.isHydrating=!1;else if(!An){mn=Pn&&Dn.transition&&Dn.transition.mode==="out-in",mn&&(Pn.transition.afterLeave=()=>{Kn===In.pendingId&&(fn(Dn,Cn,On,0),queuePostFlushCb(Hn))});let{anchor:On}=In;Pn&&(On=hn(Pn),dn(Pn,jn,In,!0)),mn||fn(Dn,Cn,On,0)}setActiveBranch(In,Dn),In.pendingBranch=null,In.isInFallback=!1;let _n=In.parent,vn=!1;for(;_n;){if(_n.pendingBranch){_n.effects.push(...Hn),vn=!0;break}_n=_n.parent}!vn&&!mn&&queuePostFlushCb(Hn),In.effects=[],Sn&&e&&e.pendingBranch&&$n===e.pendingId&&(e.deps--,e.deps===0&&!Tn&&e.resolve()),triggerEvent(kn,"onResolve")},fallback(An){if(!In.pendingBranch)return;const{vnode:Tn,activeBranch:kn,parentComponent:Pn,container:Dn,isSVG:Kn}=In;triggerEvent(Tn,"onFallback");const Hn=hn(kn),jn=()=>{!In.isInFallback||(sn(null,An,Dn,Hn,Pn,null,Kn,u,en),setActiveBranch(In,An))},Cn=An.transition&&An.transition.mode==="out-in";Cn&&(kn.transition.afterLeave=jn),In.isInFallback=!0,dn(kn,Pn,null,!0),Cn||jn()},move(An,Tn,kn){In.activeBranch&&fn(In.activeBranch,An,Tn,kn),In.container=An},next(){return In.activeBranch&&hn(In.activeBranch)},registerDep(An,Tn){const kn=!!In.pendingBranch;kn&&In.deps++;const Pn=An.vnode.el;An.asyncDep.catch(Dn=>{handleError(Dn,An,0)}).then(Dn=>{if(An.isUnmounted||In.isUnmounted||In.pendingId!==An.suspenseId)return;An.asyncResolved=!0;const{vnode:Kn}=An;handleSetupResult(An,Dn,!1),Pn&&(Kn.el=Pn);const Hn=!Pn&&An.subTree.el;Tn(An,Kn,ln(Pn||An.subTree.el),Pn?null:hn(An.subTree),In,c,en),Hn&&pn(Hn),updateHOCHostEl(An,Kn.el),kn&&--In.deps===0&&In.resolve()})},unmount(An,Tn){In.isUnmounted=!0,In.activeBranch&&dn(In.activeBranch,t,An,Tn),In.pendingBranch&&dn(In.pendingBranch,t,An,Tn)}};return In}function hydrateSuspense(n,e,t,r,o,a,c,u,en){const tn=e.suspense=createSuspenseBoundary(e,r,t,n.parentNode,document.createElement("div"),null,o,a,c,u,!0),nn=en(n,tn.pendingBranch=e.ssContent,t,tn,a,c);return tn.deps===0&&tn.resolve(!1,!0),nn}function normalizeSuspenseChildren(n){const{shapeFlag:e,children:t}=n,r=e&32;n.ssContent=normalizeSuspenseSlot(r?t.default:t),n.ssFallback=r?normalizeSuspenseSlot(t.fallback):createVNode(Comment)}function normalizeSuspenseSlot(n){let e;if(isFunction$5(n)){const t=isBlockTreeEnabled&&n._c;t&&(n._d=!1,openBlock()),n=n(),t&&(n._d=!0,e=currentBlock,closeBlock())}return isArray$3(n)&&(n=filterSingleRoot(n)),n=normalizeVNode(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function queueEffectWithSuspense(n,e){e&&e.pendingBranch?isArray$3(n)?e.effects.push(...n):e.effects.push(n):queuePostFlushCb(n)}function setActiveBranch(n,e){n.activeBranch=e;const{vnode:t,parentComponent:r}=n,o=t.el=e.el;r&&r.subTree===t&&(r.vnode.el=o,updateHOCHostEl(r,o))}function isVNodeSuspensible(n){var e;return((e=n.props)==null?void 0:e.suspensible)!=null&&n.props.suspensible!==!1}function watchEffect(n,e){return doWatch(n,null,e)}function watchPostEffect(n,e){return doWatch(n,null,{flush:"post"})}function watchSyncEffect(n,e){return doWatch(n,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(n,e,t){return doWatch(n,e,t)}function doWatch(n,e,{immediate:t,deep:r,flush:o,onTrack:a,onTrigger:c}=EMPTY_OBJ){var u;const en=getCurrentScope()===((u=currentInstance)==null?void 0:u.scope)?currentInstance:null;let tn,nn=!1,sn=!1;if(isRef(n)?(tn=()=>n.value,nn=isShallow(n)):isReactive(n)?(tn=()=>n,r=!0):isArray$3(n)?(sn=!0,nn=n.some(In=>isReactive(In)||isShallow(In)),tn=()=>n.map(In=>{if(isRef(In))return In.value;if(isReactive(In))return traverse(In);if(isFunction$5(In))return callWithErrorHandling(In,en,2)})):isFunction$5(n)?e?tn=()=>callWithErrorHandling(n,en,2):tn=()=>{if(!(en&&en.isUnmounted))return fn&&fn(),callWithAsyncErrorHandling(n,en,3,[dn])}:tn=NOOP$1,e&&r){const In=tn;tn=()=>traverse(In())}let fn,dn=In=>{fn=Sn.onStop=()=>{callWithErrorHandling(In,en,4)}},hn;if(isInSSRComponentSetup)if(dn=NOOP$1,e?t&&callWithAsyncErrorHandling(e,en,3,[tn(),sn?[]:void 0,dn]):tn(),o==="sync"){const In=useSSRContext();hn=In.__watcherHandles||(In.__watcherHandles=[])}else return NOOP$1;let ln=sn?new Array(n.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const pn=()=>{if(!!Sn.active)if(e){const In=Sn.run();(r||nn||(sn?In.some((An,Tn)=>hasChanged(An,ln[Tn])):hasChanged(In,ln)))&&(fn&&fn(),callWithAsyncErrorHandling(e,en,3,[In,ln===INITIAL_WATCHER_VALUE?void 0:sn&&ln[0]===INITIAL_WATCHER_VALUE?[]:ln,dn]),ln=In)}else Sn.run()};pn.allowRecurse=!!e;let $n;o==="sync"?$n=pn:o==="post"?$n=()=>queuePostRenderEffect(pn,en&&en.suspense):(pn.pre=!0,en&&(pn.id=en.uid),$n=()=>queueJob(pn));const Sn=new ReactiveEffect(tn,$n);e?t?pn():ln=Sn.run():o==="post"?queuePostRenderEffect(Sn.run.bind(Sn),en&&en.suspense):Sn.run();const yn=()=>{Sn.stop(),en&&en.scope&&remove$1(en.scope.effects,Sn)};return hn&&hn.push(yn),yn}function instanceWatch(n,e,t){const r=this.proxy,o=isString$3(n)?n.includes(".")?createPathGetter(r,n):()=>r[n]:n.bind(r,r);let a;isFunction$5(e)?a=e:(a=e.handler,t=e);const c=currentInstance;setCurrentInstance(this);const u=doWatch(o,a.bind(r),t);return c?setCurrentInstance(c):unsetCurrentInstance(),u}function createPathGetter(n,e){const t=e.split(".");return()=>{let r=n;for(let o=0;o<t.length&&r;o++)r=r[t[o]];return r}}function traverse(n,e){if(!isObject$d(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),isRef(n))traverse(n.value,e);else if(isArray$3(n))for(let t=0;t<n.length;t++)traverse(n[t],e);else if(isSet$2(n)||isMap$1(n))n.forEach(t=>{traverse(t,e)});else if(isPlainObject$3(n))for(const t in n)traverse(n[t],e);return n}function withDirectives(n,e){const t=currentRenderingInstance;if(t===null)return n;const r=getExposeProxy(t)||t.proxy,o=n.dirs||(n.dirs=[]);for(let a=0;a<e.length;a++){let[c,u,en,tn=EMPTY_OBJ]=e[a];c&&(isFunction$5(c)&&(c={mounted:c,updated:c}),c.deep&&traverse(u),o.push({dir:c,instance:r,value:u,oldValue:void 0,arg:en,modifiers:tn}))}return n}function invokeDirectiveHook(n,e,t,r){const o=n.dirs,a=e&&e.dirs;for(let c=0;c<o.length;c++){const u=o[c];a&&(u.oldValue=a[c].value);let en=u.dir[r];en&&(pauseTracking(),callWithAsyncErrorHandling(en,t,8,[n.el,u,n,e]),resetTracking())}}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{n.isMounted=!0}),onBeforeUnmount(()=>{n.isUnmounting=!0}),n}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(n,{slots:e}){const t=getCurrentInstance(),r=useTransitionState();let o;return()=>{const a=e.default&&getTransitionRawChildren(e.default(),!0);if(!a||!a.length)return;let c=a[0];if(a.length>1){for(const ln of a)if(ln.type!==Comment){c=ln;break}}const u=toRaw(n),{mode:en}=u;if(r.isLeaving)return emptyPlaceholder(c);const tn=getKeepAliveChild(c);if(!tn)return emptyPlaceholder(c);const nn=resolveTransitionHooks(tn,u,r,t);setTransitionHooks(tn,nn);const sn=t.subTree,fn=sn&&getKeepAliveChild(sn);let dn=!1;const{getTransitionKey:hn}=tn.type;if(hn){const ln=hn();o===void 0?o=ln:ln!==o&&(o=ln,dn=!0)}if(fn&&fn.type!==Comment&&(!isSameVNodeType(tn,fn)||dn)){const ln=resolveTransitionHooks(fn,u,r,t);if(setTransitionHooks(fn,ln),en==="out-in")return r.isLeaving=!0,ln.afterLeave=()=>{r.isLeaving=!1,t.update.active!==!1&&t.update()},emptyPlaceholder(c);en==="in-out"&&tn.type!==Comment&&(ln.delayLeave=(pn,$n,Sn)=>{const yn=getLeavingNodesForType(r,fn);yn[String(fn.key)]=fn,pn[leaveCbKey]=()=>{$n(),pn[leaveCbKey]=void 0,delete nn.delayedLeave},nn.delayedLeave=Sn})}return c}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(n,e){const{leavingVNodes:t}=n;let r=t.get(e.type);return r||(r=Object.create(null),t.set(e.type,r)),r}function resolveTransitionHooks(n,e,t,r){const{appear:o,mode:a,persisted:c=!1,onBeforeEnter:u,onEnter:en,onAfterEnter:tn,onEnterCancelled:nn,onBeforeLeave:sn,onLeave:fn,onAfterLeave:dn,onLeaveCancelled:hn,onBeforeAppear:ln,onAppear:pn,onAfterAppear:$n,onAppearCancelled:Sn}=e,yn=String(n.key),In=getLeavingNodesForType(t,n),An=(Pn,Dn)=>{Pn&&callWithAsyncErrorHandling(Pn,r,9,Dn)},Tn=(Pn,Dn)=>{const Kn=Dn[1];An(Pn,Dn),isArray$3(Pn)?Pn.every(Hn=>Hn.length<=1)&&Kn():Pn.length<=1&&Kn()},kn={mode:a,persisted:c,beforeEnter(Pn){let Dn=u;if(!t.isMounted)if(o)Dn=ln||u;else return;Pn[leaveCbKey]&&Pn[leaveCbKey](!0);const Kn=In[yn];Kn&&isSameVNodeType(n,Kn)&&Kn.el[leaveCbKey]&&Kn.el[leaveCbKey](),An(Dn,[Pn])},enter(Pn){let Dn=en,Kn=tn,Hn=nn;if(!t.isMounted)if(o)Dn=pn||en,Kn=$n||tn,Hn=Sn||nn;else return;let jn=!1;const Cn=Pn[enterCbKey$1]=mn=>{jn||(jn=!0,mn?An(Hn,[Pn]):An(Kn,[Pn]),kn.delayedLeave&&kn.delayedLeave(),Pn[enterCbKey$1]=void 0)};Dn?Tn(Dn,[Pn,Cn]):Cn()},leave(Pn,Dn){const Kn=String(n.key);if(Pn[enterCbKey$1]&&Pn[enterCbKey$1](!0),t.isUnmounting)return Dn();An(sn,[Pn]);let Hn=!1;const jn=Pn[leaveCbKey]=Cn=>{Hn||(Hn=!0,Dn(),Cn?An(hn,[Pn]):An(dn,[Pn]),Pn[leaveCbKey]=void 0,In[Kn]===n&&delete In[Kn])};In[Kn]=n,fn?Tn(fn,[Pn,jn]):jn()},clone(Pn){return resolveTransitionHooks(Pn,e,t,r)}};return kn}function emptyPlaceholder(n){if(isKeepAlive(n))return n=cloneVNode(n),n.children=null,n}function getKeepAliveChild(n){return isKeepAlive(n)?n.children?n.children[0]:void 0:n}function setTransitionHooks(n,e){n.shapeFlag&6&&n.component?setTransitionHooks(n.component.subTree,e):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function getTransitionRawChildren(n,e=!1,t){let r=[],o=0;for(let a=0;a<n.length;a++){let c=n[a];const u=t==null?c.key:String(t)+String(c.key!=null?c.key:a);c.type===Fragment?(c.patchFlag&128&&o++,r=r.concat(getTransitionRawChildren(c.children,e,u))):(e||c.type!==Comment)&&r.push(u!=null?cloneVNode(c,{key:u}):c)}if(o>1)for(let a=0;a<r.length;a++)r[a].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(n,e){return isFunction$5(n)?(()=>extend$1({name:n.name},e,{setup:n}))():n}const isAsyncWrapper=n=>!!n.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function defineAsyncComponent(n){isFunction$5(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:r,delay:o=200,timeout:a,suspensible:c=!0,onError:u}=n;let en=null,tn,nn=0;const sn=()=>(nn++,en=null,fn()),fn=()=>{let dn;return en||(dn=en=e().catch(hn=>{if(hn=hn instanceof Error?hn:new Error(String(hn)),u)return new Promise((ln,pn)=>{u(hn,()=>ln(sn()),()=>pn(hn),nn+1)});throw hn}).then(hn=>dn!==en&&en?en:(hn&&(hn.__esModule||hn[Symbol.toStringTag]==="Module")&&(hn=hn.default),tn=hn,hn)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:fn,get __asyncResolved(){return tn},setup(){const dn=currentInstance;if(tn)return()=>createInnerComp(tn,dn);const hn=Sn=>{en=null,handleError(Sn,dn,13,!r)};if(c&&dn.suspense||isInSSRComponentSetup)return fn().then(Sn=>()=>createInnerComp(Sn,dn)).catch(Sn=>(hn(Sn),()=>r?createVNode(r,{error:Sn}):null));const ln=ref(!1),pn=ref(),$n=ref(!!o);return o&&setTimeout(()=>{$n.value=!1},o),a!=null&&setTimeout(()=>{if(!ln.value&&!pn.value){const Sn=new Error(`Async component timed out after ${a}ms.`);hn(Sn),pn.value=Sn}},a),fn().then(()=>{ln.value=!0,dn.parent&&isKeepAlive(dn.parent.vnode)&&queueJob(dn.parent.update)}).catch(Sn=>{hn(Sn),pn.value=Sn}),()=>{if(ln.value&&tn)return createInnerComp(tn,dn);if(pn.value&&r)return createVNode(r,{error:pn.value});if(t&&!$n.value)return createVNode(t)}}})}function createInnerComp(n,e){const{ref:t,props:r,children:o,ce:a}=e.vnode,c=createVNode(n,r,o);return c.ref=t,c.ce=a,delete e.vnode.ce,c}const isKeepAlive=n=>n.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=getCurrentInstance(),r=t.ctx;if(!r.renderer)return()=>{const Sn=e.default&&e.default();return Sn&&Sn.length===1?Sn[0]:Sn};const o=new Map,a=new Set;let c=null;const u=t.suspense,{renderer:{p:en,m:tn,um:nn,o:{createElement:sn}}}=r,fn=sn("div");r.activate=(Sn,yn,In,An,Tn)=>{const kn=Sn.component;tn(Sn,yn,In,0,u),en(kn.vnode,Sn,yn,In,kn,u,An,Sn.slotScopeIds,Tn),queuePostRenderEffect(()=>{kn.isDeactivated=!1,kn.a&&invokeArrayFns(kn.a);const Pn=Sn.props&&Sn.props.onVnodeMounted;Pn&&invokeVNodeHook(Pn,kn.parent,Sn)},u)},r.deactivate=Sn=>{const yn=Sn.component;tn(Sn,fn,null,1,u),queuePostRenderEffect(()=>{yn.da&&invokeArrayFns(yn.da);const In=Sn.props&&Sn.props.onVnodeUnmounted;In&&invokeVNodeHook(In,yn.parent,Sn),yn.isDeactivated=!0},u)};function dn(Sn){resetShapeFlag(Sn),nn(Sn,t,u,!0)}function hn(Sn){o.forEach((yn,In)=>{const An=getComponentName(yn.type);An&&(!Sn||!Sn(An))&&ln(In)})}function ln(Sn){const yn=o.get(Sn);!c||!isSameVNodeType(yn,c)?dn(yn):c&&resetShapeFlag(c),o.delete(Sn),a.delete(Sn)}watch(()=>[n.include,n.exclude],([Sn,yn])=>{Sn&&hn(In=>matches(Sn,In)),yn&&hn(In=>!matches(yn,In))},{flush:"post",deep:!0});let pn=null;const $n=()=>{pn!=null&&o.set(pn,getInnerChild(t.subTree))};return onMounted($n),onUpdated($n),onBeforeUnmount(()=>{o.forEach(Sn=>{const{subTree:yn,suspense:In}=t,An=getInnerChild(yn);if(Sn.type===An.type&&Sn.key===An.key){resetShapeFlag(An);const Tn=An.component.da;Tn&&queuePostRenderEffect(Tn,In);return}dn(Sn)})}),()=>{if(pn=null,!e.default)return null;const Sn=e.default(),yn=Sn[0];if(Sn.length>1)return c=null,Sn;if(!isVNode(yn)||!(yn.shapeFlag&4)&&!(yn.shapeFlag&128))return c=null,yn;let In=getInnerChild(yn);const An=In.type,Tn=getComponentName(isAsyncWrapper(In)?In.type.__asyncResolved||{}:An),{include:kn,exclude:Pn,max:Dn}=n;if(kn&&(!Tn||!matches(kn,Tn))||Pn&&Tn&&matches(Pn,Tn))return c=In,yn;const Kn=In.key==null?An:In.key,Hn=o.get(Kn);return In.el&&(In=cloneVNode(In),yn.shapeFlag&128&&(yn.ssContent=In)),pn=Kn,Hn?(In.el=Hn.el,In.component=Hn.component,In.transition&&setTransitionHooks(In,In.transition),In.shapeFlag|=512,a.delete(Kn),a.add(Kn)):(a.add(Kn),Dn&&a.size>parseInt(Dn,10)&&ln(a.values().next().value)),In.shapeFlag|=256,c=In,isSuspense(yn.type)?yn:In}}},KeepAlive=KeepAliveImpl;function matches(n,e){return isArray$3(n)?n.some(t=>matches(t,e)):isString$3(n)?n.split(",").includes(e):isRegExp$4(n)?n.test(e):!1}function onActivated(n,e){registerKeepAliveHook(n,"a",e)}function onDeactivated(n,e){registerKeepAliveHook(n,"da",e)}function registerKeepAliveHook(n,e,t=currentInstance){const r=n.__wdc||(n.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return n()});if(injectHook(e,r,t),t){let o=t.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(r,e,t,o),o=o.parent}}function injectToKeepAliveRoot(n,e,t,r){const o=injectHook(e,n,r,!0);onUnmounted(()=>{remove$1(r[e],o)},t)}function resetShapeFlag(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function getInnerChild(n){return n.shapeFlag&128?n.ssContent:n}function injectHook(n,e,t=currentInstance,r=!1){if(t){const o=t[n]||(t[n]=[]),a=e.__weh||(e.__weh=(...c)=>{if(t.isUnmounted)return;pauseTracking(),setCurrentInstance(t);const u=callWithAsyncErrorHandling(e,t,n,c);return unsetCurrentInstance(),resetTracking(),u});return r?o.unshift(a):o.push(a),a}}const createHook=n=>(e,t=currentInstance)=>(!isInSSRComponentSetup||n==="sp")&&injectHook(n,(...r)=>e(...r),t),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(n,e=currentInstance){injectHook("ec",n,e)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(n,e){return resolveAsset(COMPONENTS,n,!0,e)||n}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(n){return isString$3(n)?resolveAsset(COMPONENTS,n,!1)||n:n||NULL_DYNAMIC_COMPONENT}function resolveDirective(n){return resolveAsset(DIRECTIVES,n)}function resolveAsset(n,e,t=!0,r=!1){const o=currentRenderingInstance||currentInstance;if(o){const a=o.type;if(n===COMPONENTS){const u=getComponentName(a,!1);if(u&&(u===e||u===camelize(e)||u===capitalize(camelize(e))))return a}const c=resolve(o[n]||a[n],e)||resolve(o.appContext[n],e);return!c&&r?a:c}}function resolve(n,e){return n&&(n[e]||n[camelize(e)]||n[capitalize(camelize(e))])}function renderList(n,e,t,r){let o;const a=t&&t[r];if(isArray$3(n)||isString$3(n)){o=new Array(n.length);for(let c=0,u=n.length;c<u;c++)o[c]=e(n[c],c,void 0,a&&a[c])}else if(typeof n=="number"){o=new Array(n);for(let c=0;c<n;c++)o[c]=e(c+1,c,void 0,a&&a[c])}else if(isObject$d(n))if(n[Symbol.iterator])o=Array.from(n,(c,u)=>e(c,u,void 0,a&&a[u]));else{const c=Object.keys(n);o=new Array(c.length);for(let u=0,en=c.length;u<en;u++){const tn=c[u];o[u]=e(n[tn],tn,u,a&&a[u])}}else o=[];return t&&(t[r]=o),o}function createSlots(n,e){for(let t=0;t<e.length;t++){const r=e[t];if(isArray$3(r))for(let o=0;o<r.length;o++)n[r[o].name]=r[o].fn;else r&&(n[r.name]=r.key?(...o)=>{const a=r.fn(...o);return a&&(a.key=r.key),a}:r.fn)}return n}function renderSlot(n,e,t={},r,o){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return e!=="default"&&(t.name=e),createVNode("slot",t,r&&r());let a=n[e];a&&a._c&&(a._d=!1),openBlock();const c=a&&ensureValidVNode(a(t)),u=createBlock(Fragment,{key:t.key||c&&c.key||`_${e}`},c||(r?r():[]),c&&n._===1?64:-2);return!o&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),a&&a._c&&(a._d=!0),u}function ensureValidVNode(n){return n.some(e=>isVNode(e)?!(e.type===Comment||e.type===Fragment&&!ensureValidVNode(e.children)):!0)?n:null}function toHandlers(n,e){const t={};for(const r in n)t[e&&/[A-Z]/.test(r)?`on:${r}`:toHandlerKey(r)]=n[r];return t}const getPublicInstance=n=>n?isStatefulComponent(n)?getExposeProxy(n)||n.proxy:getPublicInstance(n.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>getPublicInstance(n.parent),$root:n=>getPublicInstance(n.root),$emit:n=>n.emit,$options:n=>resolveMergedOptions(n),$forceUpdate:n=>n.f||(n.f=()=>queueJob(n.update)),$nextTick:n=>n.n||(n.n=nextTick.bind(n.proxy)),$watch:n=>instanceWatch.bind(n)}),hasSetupBinding=(n,e)=>n!==EMPTY_OBJ&&!n.__isScriptSetup&&hasOwn$2(n,e),PublicInstanceProxyHandlers={get({_:n},e){const{ctx:t,setupState:r,data:o,props:a,accessCache:c,type:u,appContext:en}=n;let tn;if(e[0]!=="$"){const dn=c[e];if(dn!==void 0)switch(dn){case 1:return r[e];case 2:return o[e];case 4:return t[e];case 3:return a[e]}else{if(hasSetupBinding(r,e))return c[e]=1,r[e];if(o!==EMPTY_OBJ&&hasOwn$2(o,e))return c[e]=2,o[e];if((tn=n.propsOptions[0])&&hasOwn$2(tn,e))return c[e]=3,a[e];if(t!==EMPTY_OBJ&&hasOwn$2(t,e))return c[e]=4,t[e];shouldCacheAccess&&(c[e]=0)}}const nn=publicPropertiesMap[e];let sn,fn;if(nn)return e==="$attrs"&&track(n,"get",e),nn(n);if((sn=u.__cssModules)&&(sn=sn[e]))return sn;if(t!==EMPTY_OBJ&&hasOwn$2(t,e))return c[e]=4,t[e];if(fn=en.config.globalProperties,hasOwn$2(fn,e))return fn[e]},set({_:n},e,t){const{data:r,setupState:o,ctx:a}=n;return hasSetupBinding(o,e)?(o[e]=t,!0):r!==EMPTY_OBJ&&hasOwn$2(r,e)?(r[e]=t,!0):hasOwn$2(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(a[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:r,appContext:o,propsOptions:a}},c){let u;return!!t[c]||n!==EMPTY_OBJ&&hasOwn$2(n,c)||hasSetupBinding(e,c)||(u=a[0])&&hasOwn$2(u,c)||hasOwn$2(r,c)||hasOwn$2(publicPropertiesMap,c)||hasOwn$2(o.config.globalProperties,c)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:hasOwn$2(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}},RuntimeCompiledPublicInstanceProxyHandlers=extend$1({},PublicInstanceProxyHandlers,{get(n,e){if(e!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(n,e,n)},has(n,e){return e[0]!=="_"&&!isGloballyAllowed(e)}});function defineProps(){return null}function defineEmits(){return null}function defineExpose(n){}function defineOptions(n){}function defineSlots(){return null}function defineModel(){}function withDefaults(n,e){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function useModel(n,e,t){const r=getCurrentInstance();if(t&&t.local){const o=ref(n[e]);return watch(()=>n[e],a=>o.value=a),watch(o,a=>{a!==n[e]&&r.emit(`update:${e}`,a)}),o}else return{__v_isRef:!0,get value(){return n[e]},set value(o){r.emit(`update:${e}`,o)}}}function getContext(){const n=getCurrentInstance();return n.setupContext||(n.setupContext=createSetupContext(n))}function normalizePropsOrEmits(n){return isArray$3(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function mergeDefaults(n,e){const t=normalizePropsOrEmits(n);for(const r in e){if(r.startsWith("__skip"))continue;let o=t[r];o?isArray$3(o)||isFunction$5(o)?o=t[r]={type:o,default:e[r]}:o.default=e[r]:o===null&&(o=t[r]={default:e[r]}),o&&e[`__skip_${r}`]&&(o.skipFactory=!0)}return t}function mergeModels(n,e){return!n||!e?n||e:isArray$3(n)&&isArray$3(e)?n.concat(e):extend$1({},normalizePropsOrEmits(n),normalizePropsOrEmits(e))}function createPropsRestProxy(n,e){const t={};for(const r in n)e.includes(r)||Object.defineProperty(t,r,{enumerable:!0,get:()=>n[r]});return t}function withAsyncContext(n){const e=getCurrentInstance();let t=n();return unsetCurrentInstance(),isPromise$1(t)&&(t=t.catch(r=>{throw setCurrentInstance(e),r})),[t,()=>setCurrentInstance(e)]}let shouldCacheAccess=!0;function applyOptions(n){const e=resolveMergedOptions(n),t=n.proxy,r=n.ctx;shouldCacheAccess=!1,e.beforeCreate&&callHook$1(e.beforeCreate,n,"bc");const{data:o,computed:a,methods:c,watch:u,provide:en,inject:tn,created:nn,beforeMount:sn,mounted:fn,beforeUpdate:dn,updated:hn,activated:ln,deactivated:pn,beforeDestroy:$n,beforeUnmount:Sn,destroyed:yn,unmounted:In,render:An,renderTracked:Tn,renderTriggered:kn,errorCaptured:Pn,serverPrefetch:Dn,expose:Kn,inheritAttrs:Hn,components:jn,directives:Cn,filters:mn}=e;if(tn&&resolveInjections(tn,r,null),c)for(const On in c){const Nn=c[On];isFunction$5(Nn)&&(r[On]=Nn.bind(t))}if(o){const On=o.call(t,t);isObject$d(On)&&(n.data=reactive(On))}if(shouldCacheAccess=!0,a)for(const On in a){const Nn=a[On],Un=isFunction$5(Nn)?Nn.bind(t,t):isFunction$5(Nn.get)?Nn.get.bind(t,t):NOOP$1,zn=!isFunction$5(Nn)&&isFunction$5(Nn.set)?Nn.set.bind(t):NOOP$1,Bn=computed$1({get:Un,set:zn});Object.defineProperty(r,On,{enumerable:!0,configurable:!0,get:()=>Bn.value,set:En=>Bn.value=En})}if(u)for(const On in u)createWatcher(u[On],r,t,On);if(en){const On=isFunction$5(en)?en.call(t):en;Reflect.ownKeys(On).forEach(Nn=>{provide(Nn,On[Nn])})}nn&&callHook$1(nn,n,"c");function vn(On,Nn){isArray$3(Nn)?Nn.forEach(Un=>On(Un.bind(t))):Nn&&On(Nn.bind(t))}if(vn(onBeforeMount,sn),vn(onMounted,fn),vn(onBeforeUpdate,dn),vn(onUpdated,hn),vn(onActivated,ln),vn(onDeactivated,pn),vn(onErrorCaptured,Pn),vn(onRenderTracked,Tn),vn(onRenderTriggered,kn),vn(onBeforeUnmount,Sn),vn(onUnmounted,In),vn(onServerPrefetch,Dn),isArray$3(Kn))if(Kn.length){const On=n.exposed||(n.exposed={});Kn.forEach(Nn=>{Object.defineProperty(On,Nn,{get:()=>t[Nn],set:Un=>t[Nn]=Un})})}else n.exposed||(n.exposed={});An&&n.render===NOOP$1&&(n.render=An),Hn!=null&&(n.inheritAttrs=Hn),jn&&(n.components=jn),Cn&&(n.directives=Cn)}function resolveInjections(n,e,t=NOOP$1){isArray$3(n)&&(n=normalizeInject(n));for(const r in n){const o=n[r];let a;isObject$d(o)?"default"in o?a=inject(o.from||r,o.default,!0):a=inject(o.from||r):a=inject(o),isRef(a)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:c=>a.value=c}):e[r]=a}}function callHook$1(n,e,t){callWithAsyncErrorHandling(isArray$3(n)?n.map(r=>r.bind(e.proxy)):n.bind(e.proxy),e,t)}function createWatcher(n,e,t,r){const o=r.includes(".")?createPathGetter(t,r):()=>t[r];if(isString$3(n)){const a=e[n];isFunction$5(a)&&watch(o,a)}else if(isFunction$5(n))watch(o,n.bind(t));else if(isObject$d(n))if(isArray$3(n))n.forEach(a=>createWatcher(a,e,t,r));else{const a=isFunction$5(n.handler)?n.handler.bind(t):e[n.handler];isFunction$5(a)&&watch(o,a,n)}}function resolveMergedOptions(n){const e=n.type,{mixins:t,extends:r}=e,{mixins:o,optionsCache:a,config:{optionMergeStrategies:c}}=n.appContext,u=a.get(e);let en;return u?en=u:!o.length&&!t&&!r?en=e:(en={},o.length&&o.forEach(tn=>mergeOptions$1(en,tn,c,!0)),mergeOptions$1(en,e,c)),isObject$d(e)&&a.set(e,en),en}function mergeOptions$1(n,e,t,r=!1){const{mixins:o,extends:a}=e;a&&mergeOptions$1(n,a,t,!0),o&&o.forEach(c=>mergeOptions$1(n,c,t,!0));for(const c in e)if(!(r&&c==="expose")){const u=internalOptionMergeStrats[c]||t&&t[c];n[c]=u?u(n[c],e[c]):e[c]}return n}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(n,e){return e?n?function(){return extend$1(isFunction$5(n)?n.call(this,this):n,isFunction$5(e)?e.call(this,this):e)}:e:n}function mergeInject(n,e){return mergeObjectOptions(normalizeInject(n),normalizeInject(e))}function normalizeInject(n){if(isArray$3(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function mergeAsArray(n,e){return n?[...new Set([].concat(n,e))]:e}function mergeObjectOptions(n,e){return n?extend$1(Object.create(null),n,e):e}function mergeEmitsOrPropsOptions(n,e){return n?isArray$3(n)&&isArray$3(e)?[...new Set([...n,...e])]:extend$1(Object.create(null),normalizePropsOrEmits(n),normalizePropsOrEmits(e??{})):e}function mergeWatchOptions(n,e){if(!n)return e;if(!e)return n;const t=extend$1(Object.create(null),n);for(const r in e)t[r]=mergeAsArray(n[r],e[r]);return t}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(n,e){return function(r,o=null){isFunction$5(r)||(r=extend$1({},r)),o!=null&&!isObject$d(o)&&(o=null);const a=createAppContext(),c=new WeakSet;let u=!1;const en=a.app={_uid:uid$1++,_component:r,_props:o,_container:null,_context:a,_instance:null,version:version$1,get config(){return a.config},set config(tn){},use(tn,...nn){return c.has(tn)||(tn&&isFunction$5(tn.install)?(c.add(tn),tn.install(en,...nn)):isFunction$5(tn)&&(c.add(tn),tn(en,...nn))),en},mixin(tn){return a.mixins.includes(tn)||a.mixins.push(tn),en},component(tn,nn){return nn?(a.components[tn]=nn,en):a.components[tn]},directive(tn,nn){return nn?(a.directives[tn]=nn,en):a.directives[tn]},mount(tn,nn,sn){if(!u){const fn=createVNode(r,o);return fn.appContext=a,nn&&e?e(fn,tn):n(fn,tn,sn),u=!0,en._container=tn,tn.__vue_app__=en,getExposeProxy(fn.component)||fn.component.proxy}},unmount(){u&&(n(null,en._container),delete en._container.__vue_app__)},provide(tn,nn){return a.provides[tn]=nn,en},runWithContext(tn){currentApp=en;try{return tn()}finally{currentApp=null}}};return en}}let currentApp=null;function provide(n,e){if(currentInstance){let t=currentInstance.provides;const r=currentInstance.parent&&currentInstance.parent.provides;r===t&&(t=currentInstance.provides=Object.create(r)),t[n]=e}}function inject(n,e,t=!1){const r=currentInstance||currentRenderingInstance;if(r||currentApp){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:currentApp._context.provides;if(o&&n in o)return o[n];if(arguments.length>1)return t&&isFunction$5(e)?e.call(r&&r.proxy):e}}function hasInjectionContext(){return!!(currentInstance||currentRenderingInstance||currentApp)}function initProps(n,e,t,r=!1){const o={},a={};def(a,InternalObjectKey,1),n.propsDefaults=Object.create(null),setFullProps(n,e,o,a);for(const c in n.propsOptions[0])c in o||(o[c]=void 0);t?n.props=r?o:shallowReactive(o):n.type.props?n.props=o:n.props=a,n.attrs=a}function updateProps(n,e,t,r){const{props:o,attrs:a,vnode:{patchFlag:c}}=n,u=toRaw(o),[en]=n.propsOptions;let tn=!1;if((r||c>0)&&!(c&16)){if(c&8){const nn=n.vnode.dynamicProps;for(let sn=0;sn<nn.length;sn++){let fn=nn[sn];if(isEmitListener(n.emitsOptions,fn))continue;const dn=e[fn];if(en)if(hasOwn$2(a,fn))dn!==a[fn]&&(a[fn]=dn,tn=!0);else{const hn=camelize(fn);o[hn]=resolvePropValue(en,u,hn,dn,n,!1)}else dn!==a[fn]&&(a[fn]=dn,tn=!0)}}}else{setFullProps(n,e,o,a)&&(tn=!0);let nn;for(const sn in u)(!e||!hasOwn$2(e,sn)&&((nn=hyphenate(sn))===sn||!hasOwn$2(e,nn)))&&(en?t&&(t[sn]!==void 0||t[nn]!==void 0)&&(o[sn]=resolvePropValue(en,u,sn,void 0,n,!0)):delete o[sn]);if(a!==u)for(const sn in a)(!e||!hasOwn$2(e,sn)&&!0)&&(delete a[sn],tn=!0)}tn&&trigger(n,"set","$attrs")}function setFullProps(n,e,t,r){const[o,a]=n.propsOptions;let c=!1,u;if(e)for(let en in e){if(isReservedProp(en))continue;const tn=e[en];let nn;o&&hasOwn$2(o,nn=camelize(en))?!a||!a.includes(nn)?t[nn]=tn:(u||(u={}))[nn]=tn:isEmitListener(n.emitsOptions,en)||(!(en in r)||tn!==r[en])&&(r[en]=tn,c=!0)}if(a){const en=toRaw(t),tn=u||EMPTY_OBJ;for(let nn=0;nn<a.length;nn++){const sn=a[nn];t[sn]=resolvePropValue(o,en,sn,tn[sn],n,!hasOwn$2(tn,sn))}}return c}function resolvePropValue(n,e,t,r,o,a){const c=n[t];if(c!=null){const u=hasOwn$2(c,"default");if(u&&r===void 0){const en=c.default;if(c.type!==Function&&!c.skipFactory&&isFunction$5(en)){const{propsDefaults:tn}=o;t in tn?r=tn[t]:(setCurrentInstance(o),r=tn[t]=en.call(null,e),unsetCurrentInstance())}else r=en}c[0]&&(a&&!u?r=!1:c[1]&&(r===""||r===hyphenate(t))&&(r=!0))}return r}function normalizePropsOptions(n,e,t=!1){const r=e.propsCache,o=r.get(n);if(o)return o;const a=n.props,c={},u=[];let en=!1;if(!isFunction$5(n)){const nn=sn=>{en=!0;const[fn,dn]=normalizePropsOptions(sn,e,!0);extend$1(c,fn),dn&&u.push(...dn)};!t&&e.mixins.length&&e.mixins.forEach(nn),n.extends&&nn(n.extends),n.mixins&&n.mixins.forEach(nn)}if(!a&&!en)return isObject$d(n)&&r.set(n,EMPTY_ARR),EMPTY_ARR;if(isArray$3(a))for(let nn=0;nn<a.length;nn++){const sn=camelize(a[nn]);validatePropName(sn)&&(c[sn]=EMPTY_OBJ)}else if(a)for(const nn in a){const sn=camelize(nn);if(validatePropName(sn)){const fn=a[nn],dn=c[sn]=isArray$3(fn)||isFunction$5(fn)?{type:fn}:extend$1({},fn);if(dn){const hn=getTypeIndex(Boolean,dn.type),ln=getTypeIndex(String,dn.type);dn[0]=hn>-1,dn[1]=ln<0||hn<ln,(hn>-1||hasOwn$2(dn,"default"))&&u.push(sn)}}}const tn=[c,u];return isObject$d(n)&&r.set(n,tn),tn}function validatePropName(n){return n[0]!=="$"}function getType(n){const e=n&&n.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:n===null?"null":""}function isSameType(n,e){return getType(n)===getType(e)}function getTypeIndex(n,e){return isArray$3(e)?e.findIndex(t=>isSameType(t,n)):isFunction$5(e)&&isSameType(e,n)?0:-1}const isInternalKey=n=>n[0]==="_"||n==="$stable",normalizeSlotValue=n=>isArray$3(n)?n.map(normalizeVNode):[normalizeVNode(n)],normalizeSlot$1=(n,e,t)=>{if(e._n)return e;const r=withCtx((...o)=>normalizeSlotValue(e(...o)),t);return r._c=!1,r},normalizeObjectSlots=(n,e,t)=>{const r=n._ctx;for(const o in n){if(isInternalKey(o))continue;const a=n[o];if(isFunction$5(a))e[o]=normalizeSlot$1(o,a,r);else if(a!=null){const c=normalizeSlotValue(a);e[o]=()=>c}}},normalizeVNodeSlots=(n,e)=>{const t=normalizeSlotValue(e);n.slots.default=()=>t},initSlots=(n,e)=>{if(n.vnode.shapeFlag&32){const t=e._;t?(n.slots=toRaw(e),def(e,"_",t)):normalizeObjectSlots(e,n.slots={})}else n.slots={},e&&normalizeVNodeSlots(n,e);def(n.slots,InternalObjectKey,1)},updateSlots=(n,e,t)=>{const{vnode:r,slots:o}=n;let a=!0,c=EMPTY_OBJ;if(r.shapeFlag&32){const u=e._;u?t&&u===1?a=!1:(extend$1(o,e),!t&&u===1&&delete o._):(a=!e.$stable,normalizeObjectSlots(e,o)),c=e}else e&&(normalizeVNodeSlots(n,e),c={default:1});if(a)for(const u in o)!isInternalKey(u)&&c[u]==null&&delete o[u]};function setRef(n,e,t,r,o=!1){if(isArray$3(n)){n.forEach((fn,dn)=>setRef(fn,e&&(isArray$3(e)?e[dn]:e),t,r,o));return}if(isAsyncWrapper(r)&&!o)return;const a=r.shapeFlag&4?getExposeProxy(r.component)||r.component.proxy:r.el,c=o?null:a,{i:u,r:en}=n,tn=e&&e.r,nn=u.refs===EMPTY_OBJ?u.refs={}:u.refs,sn=u.setupState;if(tn!=null&&tn!==en&&(isString$3(tn)?(nn[tn]=null,hasOwn$2(sn,tn)&&(sn[tn]=null)):isRef(tn)&&(tn.value=null)),isFunction$5(en))callWithErrorHandling(en,u,12,[c,nn]);else{const fn=isString$3(en),dn=isRef(en);if(fn||dn){const hn=()=>{if(n.f){const ln=fn?hasOwn$2(sn,en)?sn[en]:nn[en]:en.value;o?isArray$3(ln)&&remove$1(ln,a):isArray$3(ln)?ln.includes(a)||ln.push(a):fn?(nn[en]=[a],hasOwn$2(sn,en)&&(sn[en]=nn[en])):(en.value=[a],n.k&&(nn[n.k]=en.value))}else fn?(nn[en]=c,hasOwn$2(sn,en)&&(sn[en]=c)):dn&&(en.value=c,n.k&&(nn[n.k]=c))};c?(hn.id=-1,queuePostRenderEffect(hn,t)):hn()}}}let hasMismatch=!1;const isSVGContainer=n=>/svg/.test(n.namespaceURI)&&n.tagName!=="foreignObject",isComment=n=>n.nodeType===8;function createHydrationFunctions(n){const{mt:e,p:t,o:{patchProp:r,createText:o,nextSibling:a,parentNode:c,remove:u,insert:en,createComment:tn}}=n,nn=(yn,In)=>{if(!In.hasChildNodes()){t(null,yn,In),flushPostFlushCbs(),In._vnode=yn;return}hasMismatch=!1,sn(In.firstChild,yn,null,null,null),flushPostFlushCbs(),In._vnode=yn,hasMismatch&&console.error("Hydration completed but contains mismatches.")},sn=(yn,In,An,Tn,kn,Pn=!1)=>{const Dn=isComment(yn)&&yn.data==="[",Kn=()=>ln(yn,In,An,Tn,kn,Dn),{type:Hn,ref:jn,shapeFlag:Cn,patchFlag:mn}=In;let _n=yn.nodeType;In.el=yn,mn===-2&&(Pn=!1,In.dynamicChildren=null);let vn=null;switch(Hn){case Text:_n!==3?In.children===""?(en(In.el=o(""),c(yn),yn),vn=yn):vn=Kn():(yn.data!==In.children&&(hasMismatch=!0,yn.data=In.children),vn=a(yn));break;case Comment:if(_n!==8||Dn)if(yn.tagName.toLowerCase()==="template"){const On=In.el.content.firstChild;$n(On,yn,An),In.el=yn=On,vn=a(yn)}else vn=Kn();else vn=a(yn);break;case Static:if(Dn&&(yn=a(yn),_n=yn.nodeType),_n===1||_n===3){vn=yn;const On=!In.children.length;for(let Nn=0;Nn<In.staticCount;Nn++)On&&(In.children+=vn.nodeType===1?vn.outerHTML:vn.data),Nn===In.staticCount-1&&(In.anchor=vn),vn=a(vn);return Dn?a(vn):vn}else Kn();break;case Fragment:Dn?vn=hn(yn,In,An,Tn,kn,Pn):vn=Kn();break;default:if(Cn&1)(_n!==1||In.type.toLowerCase()!==yn.tagName.toLowerCase())&&!Sn(yn)?vn=Kn():vn=fn(yn,In,An,Tn,kn,Pn);else if(Cn&6){In.slotScopeIds=kn;const On=c(yn);if(Dn?vn=pn(yn):isComment(yn)&&yn.data==="teleport start"?vn=pn(yn,yn.data,"teleport end"):vn=a(yn),e(In,On,null,An,Tn,isSVGContainer(On),Pn),isAsyncWrapper(In)){let Nn;Dn?(Nn=createVNode(Fragment),Nn.anchor=vn?vn.previousSibling:On.lastChild):Nn=yn.nodeType===3?createTextVNode(""):createVNode("div"),Nn.el=yn,In.component.subTree=Nn}}else Cn&64?_n!==8?vn=Kn():vn=In.type.hydrate(yn,In,An,Tn,kn,Pn,n,dn):Cn&128&&(vn=In.type.hydrate(yn,In,An,Tn,isSVGContainer(c(yn)),kn,Pn,n,sn))}return jn!=null&&setRef(jn,null,Tn,In),vn},fn=(yn,In,An,Tn,kn,Pn)=>{Pn=Pn||!!In.dynamicChildren;const{type:Dn,props:Kn,patchFlag:Hn,shapeFlag:jn,dirs:Cn,transition:mn}=In,_n=Dn==="input"&&Cn||Dn==="option";if(_n||Hn!==-1){if(Cn&&invokeDirectiveHook(In,null,An,"created"),Kn)if(_n||!Pn||Hn&48)for(const Nn in Kn)(_n&&Nn.endsWith("value")||isOn(Nn)&&!isReservedProp(Nn))&&r(yn,Nn,null,Kn[Nn],!1,void 0,An);else Kn.onClick&&r(yn,"onClick",null,Kn.onClick,!1,void 0,An);let vn;(vn=Kn&&Kn.onVnodeBeforeMount)&&invokeVNodeHook(vn,An,In);let On=!1;if(Sn(yn)){On=needTransition(Tn,mn)&&An&&An.vnode.props&&An.vnode.props.appear;const Nn=yn.content.firstChild;On&&mn.beforeEnter(Nn),$n(Nn,yn,An),In.el=yn=Nn}if(Cn&&invokeDirectiveHook(In,null,An,"beforeMount"),((vn=Kn&&Kn.onVnodeMounted)||Cn||On)&&queueEffectWithSuspense(()=>{vn&&invokeVNodeHook(vn,An,In),On&&mn.enter(yn),Cn&&invokeDirectiveHook(In,null,An,"mounted")},Tn),jn&16&&!(Kn&&(Kn.innerHTML||Kn.textContent))){let Nn=dn(yn.firstChild,In,yn,An,Tn,kn,Pn);for(;Nn;){hasMismatch=!0;const Un=Nn;Nn=Nn.nextSibling,u(Un)}}else jn&8&&yn.textContent!==In.children&&(hasMismatch=!0,yn.textContent=In.children)}return yn.nextSibling},dn=(yn,In,An,Tn,kn,Pn,Dn)=>{Dn=Dn||!!In.dynamicChildren;const Kn=In.children,Hn=Kn.length;for(let jn=0;jn<Hn;jn++){const Cn=Dn?Kn[jn]:Kn[jn]=normalizeVNode(Kn[jn]);if(yn)yn=sn(yn,Cn,Tn,kn,Pn,Dn);else{if(Cn.type===Text&&!Cn.children)continue;hasMismatch=!0,t(null,Cn,An,null,Tn,kn,isSVGContainer(An),Pn)}}return yn},hn=(yn,In,An,Tn,kn,Pn)=>{const{slotScopeIds:Dn}=In;Dn&&(kn=kn?kn.concat(Dn):Dn);const Kn=c(yn),Hn=dn(a(yn),In,Kn,An,Tn,kn,Pn);return Hn&&isComment(Hn)&&Hn.data==="]"?a(In.anchor=Hn):(hasMismatch=!0,en(In.anchor=tn("]"),Kn,Hn),Hn)},ln=(yn,In,An,Tn,kn,Pn)=>{if(hasMismatch=!0,In.el=null,Pn){const Hn=pn(yn);for(;;){const jn=a(yn);if(jn&&jn!==Hn)u(jn);else break}}const Dn=a(yn),Kn=c(yn);return u(yn),t(null,In,Kn,Dn,An,Tn,isSVGContainer(Kn),kn),Dn},pn=(yn,In="[",An="]")=>{let Tn=0;for(;yn;)if(yn=a(yn),yn&&isComment(yn)&&(yn.data===In&&Tn++,yn.data===An)){if(Tn===0)return a(yn);Tn--}return yn},$n=(yn,In,An)=>{const Tn=In.parentNode;Tn&&Tn.replaceChild(yn,In);let kn=An;for(;kn;)kn.vnode.el===In&&(kn.vnode.el=yn,kn.subTree.el=yn),kn=kn.parent},Sn=yn=>yn.nodeType===1&&yn.tagName.toLowerCase()==="template";return[nn,sn]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(n){return baseCreateRenderer(n)}function createHydrationRenderer(n){return baseCreateRenderer(n,createHydrationFunctions)}function baseCreateRenderer(n,e){const t=getGlobalThis();t.__VUE__=!0;const{insert:r,remove:o,patchProp:a,createElement:c,createText:u,createComment:en,setText:tn,setElementText:nn,parentNode:sn,nextSibling:fn,setScopeId:dn=NOOP$1,insertStaticContent:hn}=n,ln=(qn,Jn,Qn,Tr=null,Or=null,Ir=null,Kr=!1,Ar=null,Nr=!!Jn.dynamicChildren)=>{if(qn===Jn)return;qn&&!isSameVNodeType(qn,Jn)&&(Tr=Xn(qn),En(qn,Or,Ir,!0),qn=null),Jn.patchFlag===-2&&(Nr=!1,Jn.dynamicChildren=null);const{type:vr,ref:Hr,shapeFlag:Dr}=Jn;switch(vr){case Text:pn(qn,Jn,Qn,Tr);break;case Comment:$n(qn,Jn,Qn,Tr);break;case Static:qn==null&&Sn(Jn,Qn,Tr,Kr);break;case Fragment:jn(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr);break;default:Dr&1?An(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr):Dr&6?Cn(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr):(Dr&64||Dr&128)&&vr.process(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr,_r)}Hr!=null&&Or&&setRef(Hr,qn&&qn.ref,Ir,Jn||qn,!Jn)},pn=(qn,Jn,Qn,Tr)=>{if(qn==null)r(Jn.el=u(Jn.children),Qn,Tr);else{const Or=Jn.el=qn.el;Jn.children!==qn.children&&tn(Or,Jn.children)}},$n=(qn,Jn,Qn,Tr)=>{qn==null?r(Jn.el=en(Jn.children||""),Qn,Tr):Jn.el=qn.el},Sn=(qn,Jn,Qn,Tr)=>{[qn.el,qn.anchor]=hn(qn.children,Jn,Qn,Tr,qn.el,qn.anchor)},yn=({el:qn,anchor:Jn},Qn,Tr)=>{let Or;for(;qn&&qn!==Jn;)Or=fn(qn),r(qn,Qn,Tr),qn=Or;r(Jn,Qn,Tr)},In=({el:qn,anchor:Jn})=>{let Qn;for(;qn&&qn!==Jn;)Qn=fn(qn),o(qn),qn=Qn;o(Jn)},An=(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr)=>{Kr=Kr||Jn.type==="svg",qn==null?Tn(Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr):Dn(qn,Jn,Or,Ir,Kr,Ar,Nr)},Tn=(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar)=>{let Nr,vr;const{type:Hr,props:Dr,shapeFlag:jr,transition:Vr,dirs:Yr}=qn;if(Nr=qn.el=c(qn.type,Ir,Dr&&Dr.is,Dr),jr&8?nn(Nr,qn.children):jr&16&&Pn(qn.children,Nr,null,Tr,Or,Ir&&Hr!=="foreignObject",Kr,Ar),Yr&&invokeDirectiveHook(qn,null,Tr,"created"),kn(Nr,qn,qn.scopeId,Kr,Tr),Dr){for(const an in Dr)an!=="value"&&!isReservedProp(an)&&a(Nr,an,null,Dr[an],Ir,qn.children,Tr,Or,$r);"value"in Dr&&a(Nr,"value",null,Dr.value),(vr=Dr.onVnodeBeforeMount)&&invokeVNodeHook(vr,Tr,qn)}Yr&&invokeDirectiveHook(qn,null,Tr,"beforeMount");const gn=needTransition(Or,Vr);gn&&Vr.beforeEnter(Nr),r(Nr,Jn,Qn),((vr=Dr&&Dr.onVnodeMounted)||gn||Yr)&&queuePostRenderEffect(()=>{vr&&invokeVNodeHook(vr,Tr,qn),gn&&Vr.enter(Nr),Yr&&invokeDirectiveHook(qn,null,Tr,"mounted")},Or)},kn=(qn,Jn,Qn,Tr,Or)=>{if(Qn&&dn(qn,Qn),Tr)for(let Ir=0;Ir<Tr.length;Ir++)dn(qn,Tr[Ir]);if(Or){let Ir=Or.subTree;if(Jn===Ir){const Kr=Or.vnode;kn(qn,Kr,Kr.scopeId,Kr.slotScopeIds,Or.parent)}}},Pn=(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr=0)=>{for(let vr=Nr;vr<qn.length;vr++){const Hr=qn[vr]=Ar?cloneIfMounted(qn[vr]):normalizeVNode(qn[vr]);ln(null,Hr,Jn,Qn,Tr,Or,Ir,Kr,Ar)}},Dn=(qn,Jn,Qn,Tr,Or,Ir,Kr)=>{const Ar=Jn.el=qn.el;let{patchFlag:Nr,dynamicChildren:vr,dirs:Hr}=Jn;Nr|=qn.patchFlag&16;const Dr=qn.props||EMPTY_OBJ,jr=Jn.props||EMPTY_OBJ;let Vr;Qn&&toggleRecurse(Qn,!1),(Vr=jr.onVnodeBeforeUpdate)&&invokeVNodeHook(Vr,Qn,Jn,qn),Hr&&invokeDirectiveHook(Jn,qn,Qn,"beforeUpdate"),Qn&&toggleRecurse(Qn,!0);const Yr=Or&&Jn.type!=="foreignObject";if(vr?Kn(qn.dynamicChildren,vr,Ar,Qn,Tr,Yr,Ir):Kr||Nn(qn,Jn,Ar,null,Qn,Tr,Yr,Ir,!1),Nr>0){if(Nr&16)Hn(Ar,Jn,Dr,jr,Qn,Tr,Or);else if(Nr&2&&Dr.class!==jr.class&&a(Ar,"class",null,jr.class,Or),Nr&4&&a(Ar,"style",Dr.style,jr.style,Or),Nr&8){const gn=Jn.dynamicProps;for(let an=0;an<gn.length;an++){const cn=gn[an],Rn=Dr[cn],Ln=jr[cn];(Ln!==Rn||cn==="value")&&a(Ar,cn,Rn,Ln,Or,qn.children,Qn,Tr,$r)}}Nr&1&&qn.children!==Jn.children&&nn(Ar,Jn.children)}else!Kr&&vr==null&&Hn(Ar,Jn,Dr,jr,Qn,Tr,Or);((Vr=jr.onVnodeUpdated)||Hr)&&queuePostRenderEffect(()=>{Vr&&invokeVNodeHook(Vr,Qn,Jn,qn),Hr&&invokeDirectiveHook(Jn,qn,Qn,"updated")},Tr)},Kn=(qn,Jn,Qn,Tr,Or,Ir,Kr)=>{for(let Ar=0;Ar<Jn.length;Ar++){const Nr=qn[Ar],vr=Jn[Ar],Hr=Nr.el&&(Nr.type===Fragment||!isSameVNodeType(Nr,vr)||Nr.shapeFlag&70)?sn(Nr.el):Qn;ln(Nr,vr,Hr,null,Tr,Or,Ir,Kr,!0)}},Hn=(qn,Jn,Qn,Tr,Or,Ir,Kr)=>{if(Qn!==Tr){if(Qn!==EMPTY_OBJ)for(const Ar in Qn)!isReservedProp(Ar)&&!(Ar in Tr)&&a(qn,Ar,Qn[Ar],null,Kr,Jn.children,Or,Ir,$r);for(const Ar in Tr){if(isReservedProp(Ar))continue;const Nr=Tr[Ar],vr=Qn[Ar];Nr!==vr&&Ar!=="value"&&a(qn,Ar,vr,Nr,Kr,Jn.children,Or,Ir,$r)}"value"in Tr&&a(qn,"value",Qn.value,Tr.value)}},jn=(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr)=>{const vr=Jn.el=qn?qn.el:u(""),Hr=Jn.anchor=qn?qn.anchor:u("");let{patchFlag:Dr,dynamicChildren:jr,slotScopeIds:Vr}=Jn;Vr&&(Ar=Ar?Ar.concat(Vr):Vr),qn==null?(r(vr,Qn,Tr),r(Hr,Qn,Tr),Pn(Jn.children,Qn,Hr,Or,Ir,Kr,Ar,Nr)):Dr>0&&Dr&64&&jr&&qn.dynamicChildren?(Kn(qn.dynamicChildren,jr,Qn,Or,Ir,Kr,Ar),(Jn.key!=null||Or&&Jn===Or.subTree)&&traverseStaticChildren(qn,Jn,!0)):Nn(qn,Jn,Qn,Hr,Or,Ir,Kr,Ar,Nr)},Cn=(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr)=>{Jn.slotScopeIds=Ar,qn==null?Jn.shapeFlag&512?Or.ctx.activate(Jn,Qn,Tr,Kr,Nr):mn(Jn,Qn,Tr,Or,Ir,Kr,Nr):_n(qn,Jn,Nr)},mn=(qn,Jn,Qn,Tr,Or,Ir,Kr)=>{const Ar=qn.component=createComponentInstance(qn,Tr,Or);if(isKeepAlive(qn)&&(Ar.ctx.renderer=_r),setupComponent(Ar),Ar.asyncDep){if(Or&&Or.registerDep(Ar,vn),!qn.el){const Nr=Ar.subTree=createVNode(Comment);$n(null,Nr,Jn,Qn)}return}vn(Ar,qn,Jn,Qn,Or,Ir,Kr)},_n=(qn,Jn,Qn)=>{const Tr=Jn.component=qn.component;if(shouldUpdateComponent(qn,Jn,Qn))if(Tr.asyncDep&&!Tr.asyncResolved){On(Tr,Jn,Qn);return}else Tr.next=Jn,invalidateJob(Tr.update),Tr.update();else Jn.el=qn.el,Tr.vnode=Jn},vn=(qn,Jn,Qn,Tr,Or,Ir,Kr)=>{const Ar=()=>{if(qn.isMounted){let{next:Hr,bu:Dr,u:jr,parent:Vr,vnode:Yr}=qn,gn=Hr,an;toggleRecurse(qn,!1),Hr?(Hr.el=Yr.el,On(qn,Hr,Kr)):Hr=Yr,Dr&&invokeArrayFns(Dr),(an=Hr.props&&Hr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(an,Vr,Hr,Yr),toggleRecurse(qn,!0);const cn=renderComponentRoot(qn),Rn=qn.subTree;qn.subTree=cn,ln(Rn,cn,sn(Rn.el),Xn(Rn),qn,Or,Ir),Hr.el=cn.el,gn===null&&updateHOCHostEl(qn,cn.el),jr&&queuePostRenderEffect(jr,Or),(an=Hr.props&&Hr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(an,Vr,Hr,Yr),Or)}else{let Hr;const{el:Dr,props:jr}=Jn,{bm:Vr,m:Yr,parent:gn}=qn,an=isAsyncWrapper(Jn);if(toggleRecurse(qn,!1),Vr&&invokeArrayFns(Vr),!an&&(Hr=jr&&jr.onVnodeBeforeMount)&&invokeVNodeHook(Hr,gn,Jn),toggleRecurse(qn,!0),Dr&&Cr){const cn=()=>{qn.subTree=renderComponentRoot(qn),Cr(Dr,qn.subTree,qn,Or,null)};an?Jn.type.__asyncLoader().then(()=>!qn.isUnmounted&&cn()):cn()}else{const cn=qn.subTree=renderComponentRoot(qn);ln(null,cn,Qn,Tr,qn,Or,Ir),Jn.el=cn.el}if(Yr&&queuePostRenderEffect(Yr,Or),!an&&(Hr=jr&&jr.onVnodeMounted)){const cn=Jn;queuePostRenderEffect(()=>invokeVNodeHook(Hr,gn,cn),Or)}(Jn.shapeFlag&256||gn&&isAsyncWrapper(gn.vnode)&&gn.vnode.shapeFlag&256)&&qn.a&&queuePostRenderEffect(qn.a,Or),qn.isMounted=!0,Jn=Qn=Tr=null}},Nr=qn.effect=new ReactiveEffect(Ar,()=>queueJob(vr),qn.scope),vr=qn.update=()=>Nr.run();vr.id=qn.uid,toggleRecurse(qn,!0),vr()},On=(qn,Jn,Qn)=>{Jn.component=qn;const Tr=qn.vnode.props;qn.vnode=Jn,qn.next=null,updateProps(qn,Jn.props,Tr,Qn),updateSlots(qn,Jn.children,Qn),pauseTracking(),flushPreFlushCbs(),resetTracking()},Nn=(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr=!1)=>{const vr=qn&&qn.children,Hr=qn?qn.shapeFlag:0,Dr=Jn.children,{patchFlag:jr,shapeFlag:Vr}=Jn;if(jr>0){if(jr&128){zn(vr,Dr,Qn,Tr,Or,Ir,Kr,Ar,Nr);return}else if(jr&256){Un(vr,Dr,Qn,Tr,Or,Ir,Kr,Ar,Nr);return}}Vr&8?(Hr&16&&$r(vr,Or,Ir),Dr!==vr&&nn(Qn,Dr)):Hr&16?Vr&16?zn(vr,Dr,Qn,Tr,Or,Ir,Kr,Ar,Nr):$r(vr,Or,Ir,!0):(Hr&8&&nn(Qn,""),Vr&16&&Pn(Dr,Qn,Tr,Or,Ir,Kr,Ar,Nr))},Un=(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr)=>{qn=qn||EMPTY_ARR,Jn=Jn||EMPTY_ARR;const vr=qn.length,Hr=Jn.length,Dr=Math.min(vr,Hr);let jr;for(jr=0;jr<Dr;jr++){const Vr=Jn[jr]=Nr?cloneIfMounted(Jn[jr]):normalizeVNode(Jn[jr]);ln(qn[jr],Vr,Qn,null,Or,Ir,Kr,Ar,Nr)}vr>Hr?$r(qn,Or,Ir,!0,!1,Dr):Pn(Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr,Dr)},zn=(qn,Jn,Qn,Tr,Or,Ir,Kr,Ar,Nr)=>{let vr=0;const Hr=Jn.length;let Dr=qn.length-1,jr=Hr-1;for(;vr<=Dr&&vr<=jr;){const Vr=qn[vr],Yr=Jn[vr]=Nr?cloneIfMounted(Jn[vr]):normalizeVNode(Jn[vr]);if(isSameVNodeType(Vr,Yr))ln(Vr,Yr,Qn,null,Or,Ir,Kr,Ar,Nr);else break;vr++}for(;vr<=Dr&&vr<=jr;){const Vr=qn[Dr],Yr=Jn[jr]=Nr?cloneIfMounted(Jn[jr]):normalizeVNode(Jn[jr]);if(isSameVNodeType(Vr,Yr))ln(Vr,Yr,Qn,null,Or,Ir,Kr,Ar,Nr);else break;Dr--,jr--}if(vr>Dr){if(vr<=jr){const Vr=jr+1,Yr=Vr<Hr?Jn[Vr].el:Tr;for(;vr<=jr;)ln(null,Jn[vr]=Nr?cloneIfMounted(Jn[vr]):normalizeVNode(Jn[vr]),Qn,Yr,Or,Ir,Kr,Ar,Nr),vr++}}else if(vr>jr)for(;vr<=Dr;)En(qn[vr],Or,Ir,!0),vr++;else{const Vr=vr,Yr=vr,gn=new Map;for(vr=Yr;vr<=jr;vr++){const Fr=Jn[vr]=Nr?cloneIfMounted(Jn[vr]):normalizeVNode(Jn[vr]);Fr.key!=null&&gn.set(Fr.key,vr)}let an,cn=0;const Rn=jr-Yr+1;let Ln=!1,Fn=0;const Vn=new Array(Rn);for(vr=0;vr<Rn;vr++)Vn[vr]=0;for(vr=Vr;vr<=Dr;vr++){const Fr=qn[vr];if(cn>=Rn){En(Fr,Or,Ir,!0);continue}let Ur;if(Fr.key!=null)Ur=gn.get(Fr.key);else for(an=Yr;an<=jr;an++)if(Vn[an-Yr]===0&&isSameVNodeType(Fr,Jn[an])){Ur=an;break}Ur===void 0?En(Fr,Or,Ir,!0):(Vn[Ur-Yr]=vr+1,Ur>=Fn?Fn=Ur:Ln=!0,ln(Fr,Jn[Ur],Qn,null,Or,Ir,Kr,Ar,Nr),cn++)}const xr=Ln?getSequence(Vn):EMPTY_ARR;for(an=xr.length-1,vr=Rn-1;vr>=0;vr--){const Fr=Yr+vr,Ur=Jn[Fr],Gr=Fr+1<Hr?Jn[Fr+1].el:Tr;Vn[vr]===0?ln(null,Ur,Qn,Gr,Or,Ir,Kr,Ar,Nr):Ln&&(an<0||vr!==xr[an]?Bn(Ur,Qn,Gr,2):an--)}}},Bn=(qn,Jn,Qn,Tr,Or=null)=>{const{el:Ir,type:Kr,transition:Ar,children:Nr,shapeFlag:vr}=qn;if(vr&6){Bn(qn.component.subTree,Jn,Qn,Tr);return}if(vr&128){qn.suspense.move(Jn,Qn,Tr);return}if(vr&64){Kr.move(qn,Jn,Qn,_r);return}if(Kr===Fragment){r(Ir,Jn,Qn);for(let Dr=0;Dr<Nr.length;Dr++)Bn(Nr[Dr],Jn,Qn,Tr);r(qn.anchor,Jn,Qn);return}if(Kr===Static){yn(qn,Jn,Qn);return}if(Tr!==2&&vr&1&&Ar)if(Tr===0)Ar.beforeEnter(Ir),r(Ir,Jn,Qn),queuePostRenderEffect(()=>Ar.enter(Ir),Or);else{const{leave:Dr,delayLeave:jr,afterLeave:Vr}=Ar,Yr=()=>r(Ir,Jn,Qn),gn=()=>{Dr(Ir,()=>{Yr(),Vr&&Vr()})};jr?jr(Ir,Yr,gn):gn()}else r(Ir,Jn,Qn)},En=(qn,Jn,Qn,Tr=!1,Or=!1)=>{const{type:Ir,props:Kr,ref:Ar,children:Nr,dynamicChildren:vr,shapeFlag:Hr,patchFlag:Dr,dirs:jr}=qn;if(Ar!=null&&setRef(Ar,null,Qn,qn,!0),Hr&256){Jn.ctx.deactivate(qn);return}const Vr=Hr&1&&jr,Yr=!isAsyncWrapper(qn);let gn;if(Yr&&(gn=Kr&&Kr.onVnodeBeforeUnmount)&&invokeVNodeHook(gn,Jn,qn),Hr&6)Sr(qn.component,Qn,Tr);else{if(Hr&128){qn.suspense.unmount(Qn,Tr);return}Vr&&invokeDirectiveHook(qn,null,Jn,"beforeUnmount"),Hr&64?qn.type.remove(qn,Jn,Qn,Or,_r,Tr):vr&&(Ir!==Fragment||Dr>0&&Dr&64)?$r(vr,Jn,Qn,!1,!0):(Ir===Fragment&&Dr&384||!Or&&Hr&16)&&$r(Nr,Jn,Qn),Tr&&Mn(qn)}(Yr&&(gn=Kr&&Kr.onVnodeUnmounted)||Vr)&&queuePostRenderEffect(()=>{gn&&invokeVNodeHook(gn,Jn,qn),Vr&&invokeDirectiveHook(qn,null,Jn,"unmounted")},Qn)},Mn=qn=>{const{type:Jn,el:Qn,anchor:Tr,transition:Or}=qn;if(Jn===Fragment){Zn(Qn,Tr);return}if(Jn===Static){In(qn);return}const Ir=()=>{o(Qn),Or&&!Or.persisted&&Or.afterLeave&&Or.afterLeave()};if(qn.shapeFlag&1&&Or&&!Or.persisted){const{leave:Kr,delayLeave:Ar}=Or,Nr=()=>Kr(Qn,Ir);Ar?Ar(qn.el,Ir,Nr):Nr()}else Ir()},Zn=(qn,Jn)=>{let Qn;for(;qn!==Jn;)Qn=fn(qn),o(qn),qn=Qn;o(Jn)},Sr=(qn,Jn,Qn)=>{const{bum:Tr,scope:Or,update:Ir,subTree:Kr,um:Ar}=qn;Tr&&invokeArrayFns(Tr),Or.stop(),Ir&&(Ir.active=!1,En(Kr,qn,Jn,Qn)),Ar&&queuePostRenderEffect(Ar,Jn),queuePostRenderEffect(()=>{qn.isUnmounted=!0},Jn),Jn&&Jn.pendingBranch&&!Jn.isUnmounted&&qn.asyncDep&&!qn.asyncResolved&&qn.suspenseId===Jn.pendingId&&(Jn.deps--,Jn.deps===0&&Jn.resolve())},$r=(qn,Jn,Qn,Tr=!1,Or=!1,Ir=0)=>{for(let Kr=Ir;Kr<qn.length;Kr++)En(qn[Kr],Jn,Qn,Tr,Or)},Xn=qn=>qn.shapeFlag&6?Xn(qn.component.subTree):qn.shapeFlag&128?qn.suspense.next():fn(qn.anchor||qn.el),br=(qn,Jn,Qn)=>{qn==null?Jn._vnode&&En(Jn._vnode,null,null,!0):ln(Jn._vnode||null,qn,Jn,null,null,null,Qn),flushPreFlushCbs(),flushPostFlushCbs(),Jn._vnode=qn},_r={p:ln,um:En,m:Bn,r:Mn,mt:mn,mc:Pn,pc:Nn,pbc:Kn,n:Xn,o:n};let kr,Cr;return e&&([kr,Cr]=e(_r)),{render:br,hydrate:kr,createApp:createAppAPI(br,kr)}}function toggleRecurse({effect:n,update:e},t){n.allowRecurse=e.allowRecurse=t}function needTransition(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function traverseStaticChildren(n,e,t=!1){const r=n.children,o=e.children;if(isArray$3(r)&&isArray$3(o))for(let a=0;a<r.length;a++){const c=r[a];let u=o[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=o[a]=cloneIfMounted(o[a]),u.el=c.el),t||traverseStaticChildren(c,u)),u.type===Text&&(u.el=c.el)}}function getSequence(n){const e=n.slice(),t=[0];let r,o,a,c,u;const en=n.length;for(r=0;r<en;r++){const tn=n[r];if(tn!==0){if(o=t[t.length-1],n[o]<tn){e[r]=o,t.push(r);continue}for(a=0,c=t.length-1;a<c;)u=a+c>>1,n[t[u]]<tn?a=u+1:c=u;tn<n[t[a]]&&(a>0&&(e[r]=t[a-1]),t[a]=r)}}for(a=t.length,c=t[a-1];a-- >0;)t[a]=c,c=e[c];return t}const isTeleport=n=>n.__isTeleport,isTeleportDisabled=n=>n&&(n.disabled||n.disabled===""),isTargetSVG=n=>typeof SVGElement<"u"&&n instanceof SVGElement,resolveTarget=(n,e)=>{const t=n&&n.to;return isString$3(t)?e?e(t):null:t},TeleportImpl={__isTeleport:!0,process(n,e,t,r,o,a,c,u,en,tn){const{mc:nn,pc:sn,pbc:fn,o:{insert:dn,querySelector:hn,createText:ln,createComment:pn}}=tn,$n=isTeleportDisabled(e.props);let{shapeFlag:Sn,children:yn,dynamicChildren:In}=e;if(n==null){const An=e.el=ln(""),Tn=e.anchor=ln("");dn(An,t,r),dn(Tn,t,r);const kn=e.target=resolveTarget(e.props,hn),Pn=e.targetAnchor=ln("");kn&&(dn(Pn,kn),c=c||isTargetSVG(kn));const Dn=(Kn,Hn)=>{Sn&16&&nn(yn,Kn,Hn,o,a,c,u,en)};$n?Dn(t,Tn):kn&&Dn(kn,Pn)}else{e.el=n.el;const An=e.anchor=n.anchor,Tn=e.target=n.target,kn=e.targetAnchor=n.targetAnchor,Pn=isTeleportDisabled(n.props),Dn=Pn?t:Tn,Kn=Pn?An:kn;if(c=c||isTargetSVG(Tn),In?(fn(n.dynamicChildren,In,Dn,o,a,c,u),traverseStaticChildren(n,e,!0)):en||sn(n,e,Dn,Kn,o,a,c,u,!1),$n)Pn?e.props&&n.props&&e.props.to!==n.props.to&&(e.props.to=n.props.to):moveTeleport(e,t,An,tn,1);else if((e.props&&e.props.to)!==(n.props&&n.props.to)){const Hn=e.target=resolveTarget(e.props,hn);Hn&&moveTeleport(e,Hn,null,tn,0)}else Pn&&moveTeleport(e,Tn,kn,tn,1)}updateCssVars(e)},remove(n,e,t,r,{um:o,o:{remove:a}},c){const{shapeFlag:u,children:en,anchor:tn,targetAnchor:nn,target:sn,props:fn}=n;if(sn&&a(nn),c&&a(tn),u&16){const dn=c||!isTeleportDisabled(fn);for(let hn=0;hn<en.length;hn++){const ln=en[hn];o(ln,e,t,dn,!!ln.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(n,e,t,{o:{insert:r},m:o},a=2){a===0&&r(n.targetAnchor,e,t);const{el:c,anchor:u,shapeFlag:en,children:tn,props:nn}=n,sn=a===2;if(sn&&r(c,e,t),(!sn||isTeleportDisabled(nn))&&en&16)for(let fn=0;fn<tn.length;fn++)o(tn[fn],e,t,2);sn&&r(u,e,t)}function hydrateTeleport(n,e,t,r,o,a,{o:{nextSibling:c,parentNode:u,querySelector:en}},tn){const nn=e.target=resolveTarget(e.props,en);if(nn){const sn=nn._lpa||nn.firstChild;if(e.shapeFlag&16)if(isTeleportDisabled(e.props))e.anchor=tn(c(n),e,u(n),t,r,o,a),e.targetAnchor=sn;else{e.anchor=c(n);let fn=sn;for(;fn;)if(fn=c(fn),fn&&fn.nodeType===8&&fn.data==="teleport anchor"){e.targetAnchor=fn,nn._lpa=e.targetAnchor&&c(e.targetAnchor);break}tn(sn,e,nn,t,r,o,a)}updateCssVars(e)}return e.anchor&&c(e.anchor)}const Teleport=TeleportImpl;function updateCssVars(n){const e=n.ctx;if(e&&e.ut){let t=n.children[0].el;for(;t&&t!==n.targetAnchor;)t.nodeType===1&&t.setAttribute("data-v-owner",e.uid),t=t.nextSibling;e.ut()}}const Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(n=!1){blockStack.push(currentBlock=n?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(n){isBlockTreeEnabled+=n}function setupBlock(n){return n.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),n}function createElementBlock(n,e,t,r,o,a){return setupBlock(createBaseVNode(n,e,t,r,o,a,!0))}function createBlock(n,e,t,r,o){return setupBlock(createVNode(n,e,t,r,o,!0))}function isVNode(n){return n?n.__v_isVNode===!0:!1}function isSameVNodeType(n,e){return n.type===e.type&&n.key===e.key}function transformVNodeArgs(n){}const InternalObjectKey="__vInternal",normalizeKey=({key:n})=>n??null,normalizeRef=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?isString$3(n)||isRef(n)||isFunction$5(n)?{i:currentRenderingInstance,r:n,k:e,f:!!t}:n:null);function createBaseVNode(n,e=null,t=null,r=0,o=null,a=n===Fragment?0:1,c=!1,u=!1){const en={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&normalizeKey(e),ref:e&&normalizeRef(e),scopeId:currentScopeId,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return u?(normalizeChildren(en,t),a&128&&n.normalize(en)):t&&(en.shapeFlag|=isString$3(t)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(en.patchFlag>0||a&6)&&en.patchFlag!==32&&currentBlock.push(en),en}const createVNode=_createVNode;function _createVNode(n,e=null,t=null,r=0,o=null,a=!1){if((!n||n===NULL_DYNAMIC_COMPONENT)&&(n=Comment),isVNode(n)){const u=cloneVNode(n,e,!0);return t&&normalizeChildren(u,t),isBlockTreeEnabled>0&&!a&&currentBlock&&(u.shapeFlag&6?currentBlock[currentBlock.indexOf(n)]=u:currentBlock.push(u)),u.patchFlag|=-2,u}if(isClassComponent(n)&&(n=n.__vccOpts),e){e=guardReactiveProps(e);let{class:u,style:en}=e;u&&!isString$3(u)&&(e.class=normalizeClass(u)),isObject$d(en)&&(isProxy(en)&&!isArray$3(en)&&(en=extend$1({},en)),e.style=normalizeStyle(en))}const c=isString$3(n)?1:isSuspense(n)?128:isTeleport(n)?64:isObject$d(n)?4:isFunction$5(n)?2:0;return createBaseVNode(n,e,t,r,o,c,a,!0)}function guardReactiveProps(n){return n?isProxy(n)||InternalObjectKey in n?extend$1({},n):n:null}function cloneVNode(n,e,t=!1){const{props:r,ref:o,patchFlag:a,children:c}=n,u=e?mergeProps(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:n.type,props:u,key:u&&normalizeKey(u),ref:e&&e.ref?t&&o?isArray$3(o)?o.concat(normalizeRef(e)):[o,normalizeRef(e)]:normalizeRef(e):o,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:c,target:n.target,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Fragment?a===-1?16:a|16:a,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:n.transition,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&cloneVNode(n.ssContent),ssFallback:n.ssFallback&&cloneVNode(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce}}function createTextVNode(n=" ",e=0){return createVNode(Text,null,n,e)}function createStaticVNode(n,e){const t=createVNode(Static,null,n);return t.staticCount=e,t}function createCommentVNode(n="",e=!1){return e?(openBlock(),createBlock(Comment,null,n)):createVNode(Comment,null,n)}function normalizeVNode(n){return n==null||typeof n=="boolean"?createVNode(Comment):isArray$3(n)?createVNode(Fragment,null,n.slice()):typeof n=="object"?cloneIfMounted(n):createVNode(Text,null,String(n))}function cloneIfMounted(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:cloneVNode(n)}function normalizeChildren(n,e){let t=0;const{shapeFlag:r}=n;if(e==null)e=null;else if(isArray$3(e))t=16;else if(typeof e=="object")if(r&65){const o=e.default;o&&(o._c&&(o._d=!1),normalizeChildren(n,o()),o._c&&(o._d=!0));return}else{t=32;const o=e._;!o&&!(InternalObjectKey in e)?e._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else isFunction$5(e)?(e={default:e,_ctx:currentRenderingInstance},t=32):(e=String(e),r&64?(t=16,e=[createTextVNode(e)]):t=8);n.children=e,n.shapeFlag|=t}function mergeProps(...n){const e={};for(let t=0;t<n.length;t++){const r=n[t];for(const o in r)if(o==="class")e.class!==r.class&&(e.class=normalizeClass([e.class,r.class]));else if(o==="style")e.style=normalizeStyle([e.style,r.style]);else if(isOn(o)){const a=e[o],c=r[o];c&&a!==c&&!(isArray$3(a)&&a.includes(c))&&(e[o]=a?[].concat(a,c):c)}else o!==""&&(e[o]=r[o])}return e}function invokeVNodeHook(n,e,t,r=null){callWithAsyncErrorHandling(n,e,7,[t,r])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(n,e,t){const r=n.type,o=(e?e.appContext:n.appContext)||emptyAppContext,a={uid:uid$2++,vnode:n,type:r,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,o),emitsOptions:normalizeEmitsOptions(r,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:r.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=emit.bind(null,a),n.ce&&n.ce(a),a}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(n=>currentInstance=n),internalSetCurrentInstance=n=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(e=>e(n)):globalCurrentInstanceSetters[0](n)};const setCurrentInstance=n=>{internalSetCurrentInstance(n),n.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(n){return n.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(n,e=!1){isInSSRComponentSetup=e;const{props:t,children:r}=n.vnode,o=isStatefulComponent(n);initProps(n,t,o,e),initSlots(n,r);const a=o?setupStatefulComponent(n,e):void 0;return isInSSRComponentSetup=!1,a}function setupStatefulComponent(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=markRaw(new Proxy(n.ctx,PublicInstanceProxyHandlers));const{setup:r}=t;if(r){const o=n.setupContext=r.length>1?createSetupContext(n):null;setCurrentInstance(n),pauseTracking();const a=callWithErrorHandling(r,n,0,[n.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise$1(a)){if(a.then(unsetCurrentInstance,unsetCurrentInstance),e)return a.then(c=>{handleSetupResult(n,c,e)}).catch(c=>{handleError(c,n,0)});n.asyncDep=a}else handleSetupResult(n,a,e)}else finishComponentSetup(n,e)}function handleSetupResult(n,e,t){isFunction$5(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:isObject$d(e)&&(n.setupState=proxyRefs(e)),finishComponentSetup(n,t)}let compile,installWithProxy;function registerRuntimeCompiler(n){compile=n,installWithProxy=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile;function finishComponentSetup(n,e,t){const r=n.type;if(!n.render){if(!e&&compile&&!r.render){const o=r.template||resolveMergedOptions(n).template;if(o){const{isCustomElement:a,compilerOptions:c}=n.appContext.config,{delimiters:u,compilerOptions:en}=r,tn=extend$1(extend$1({isCustomElement:a,delimiters:u},c),en);r.render=compile(o,tn)}}n.render=r.render||NOOP$1,installWithProxy&&installWithProxy(n)}{setCurrentInstance(n),pauseTracking();try{applyOptions(n)}finally{resetTracking(),unsetCurrentInstance()}}}function getAttrsProxy(n){return n.attrsProxy||(n.attrsProxy=new Proxy(n.attrs,{get(e,t){return track(n,"get","$attrs"),e[t]}}))}function createSetupContext(n){const e=t=>{n.exposed=t||{}};return{get attrs(){return getAttrsProxy(n)},slots:n.slots,emit:n.emit,expose:e}}function getExposeProxy(n){if(n.exposed)return n.exposeProxy||(n.exposeProxy=new Proxy(proxyRefs(markRaw(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in publicPropertiesMap)return publicPropertiesMap[t](n)},has(e,t){return t in e||t in publicPropertiesMap}}))}function getComponentName(n,e=!0){return isFunction$5(n)?n.displayName||n.name:n.name||e&&n.__name}function isClassComponent(n){return isFunction$5(n)&&"__vccOpts"in n}const computed$1=(n,e)=>computed$2(n,e,isInSSRComponentSetup);function h$1(n,e,t){const r=arguments.length;return r===2?isObject$d(e)&&!isArray$3(e)?isVNode(e)?createVNode(n,null,[e]):createVNode(n,e):createVNode(n,null,e):(r>3?t=Array.prototype.slice.call(arguments,2):r===3&&isVNode(t)&&(t=[t]),createVNode(n,e,t))}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function initCustomFormatter(){}function withMemo(n,e,t,r){const o=t[r];if(o&&isMemoSame(o,n))return o;const a=e();return a.memo=n.slice(),t[r]=a}function isMemoSame(n,e){const t=n.memo;if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(hasChanged(t[r],e[r]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(n),!0}const version$1="3.3.7",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,r)=>{const o=e?doc.createElementNS(svgNS,n):doc.createElement(n,t?{is:t}:void 0);return n==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:n=>doc.createTextNode(n),createComment:n=>doc.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>doc.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,r,o,a){const c=t?t.previousSibling:e.lastChild;if(o&&(o===a||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),t),!(o===a||!(o=o.nextSibling)););else{templateContainer.innerHTML=r?`<svg>${n}</svg>`:n;const u=templateContainer.content;if(r){const en=u.firstChild;for(;en.firstChild;)u.appendChild(en.firstChild);u.removeChild(en)}e.insertBefore(u,t)}return[c?c.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),Transition=(n,{slots:e})=>h$1(BaseTransition,resolveTransitionProps(n),e);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),callHook=(n,e=[])=>{isArray$3(n)?n.forEach(t=>t(...e)):n&&n(...e)},hasExplicitCallback=n=>n?isArray$3(n)?n.some(e=>e.length>1):n.length>1:!1;function resolveTransitionProps(n){const e={};for(const jn in n)jn in DOMTransitionPropsValidators||(e[jn]=n[jn]);if(n.css===!1)return e;const{name:t="v",type:r,duration:o,enterFromClass:a=`${t}-enter-from`,enterActiveClass:c=`${t}-enter-active`,enterToClass:u=`${t}-enter-to`,appearFromClass:en=a,appearActiveClass:tn=c,appearToClass:nn=u,leaveFromClass:sn=`${t}-leave-from`,leaveActiveClass:fn=`${t}-leave-active`,leaveToClass:dn=`${t}-leave-to`}=n,hn=normalizeDuration(o),ln=hn&&hn[0],pn=hn&&hn[1],{onBeforeEnter:$n,onEnter:Sn,onEnterCancelled:yn,onLeave:In,onLeaveCancelled:An,onBeforeAppear:Tn=$n,onAppear:kn=Sn,onAppearCancelled:Pn=yn}=e,Dn=(jn,Cn,mn)=>{removeTransitionClass(jn,Cn?nn:u),removeTransitionClass(jn,Cn?tn:c),mn&&mn()},Kn=(jn,Cn)=>{jn._isLeaving=!1,removeTransitionClass(jn,sn),removeTransitionClass(jn,dn),removeTransitionClass(jn,fn),Cn&&Cn()},Hn=jn=>(Cn,mn)=>{const _n=jn?kn:Sn,vn=()=>Dn(Cn,jn,mn);callHook(_n,[Cn,vn]),nextFrame(()=>{removeTransitionClass(Cn,jn?en:a),addTransitionClass(Cn,jn?nn:u),hasExplicitCallback(_n)||whenTransitionEnds(Cn,r,ln,vn)})};return extend$1(e,{onBeforeEnter(jn){callHook($n,[jn]),addTransitionClass(jn,a),addTransitionClass(jn,c)},onBeforeAppear(jn){callHook(Tn,[jn]),addTransitionClass(jn,en),addTransitionClass(jn,tn)},onEnter:Hn(!1),onAppear:Hn(!0),onLeave(jn,Cn){jn._isLeaving=!0;const mn=()=>Kn(jn,Cn);addTransitionClass(jn,sn),forceReflow(),addTransitionClass(jn,fn),nextFrame(()=>{!jn._isLeaving||(removeTransitionClass(jn,sn),addTransitionClass(jn,dn),hasExplicitCallback(In)||whenTransitionEnds(jn,r,pn,mn))}),callHook(In,[jn,mn])},onEnterCancelled(jn){Dn(jn,!1),callHook(yn,[jn])},onAppearCancelled(jn){Dn(jn,!0),callHook(Pn,[jn])},onLeaveCancelled(jn){Kn(jn),callHook(An,[jn])}})}function normalizeDuration(n){if(n==null)return null;if(isObject$d(n))return[NumberOf(n.enter),NumberOf(n.leave)];{const e=NumberOf(n);return[e,e]}}function NumberOf(n){return toNumber(n)}function addTransitionClass(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[vtcKey]||(n[vtcKey]=new Set)).add(e)}function removeTransitionClass(n,e){e.split(/\s+/).forEach(r=>r&&n.classList.remove(r));const t=n[vtcKey];t&&(t.delete(e),t.size||(n[vtcKey]=void 0))}function nextFrame(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let endId=0;function whenTransitionEnds(n,e,t,r){const o=n._endId=++endId,a=()=>{o===n._endId&&r()};if(t)return setTimeout(a,t);const{type:c,timeout:u,propCount:en}=getTransitionInfo(n,e);if(!c)return r();const tn=c+"end";let nn=0;const sn=()=>{n.removeEventListener(tn,fn),a()},fn=dn=>{dn.target===n&&++nn>=en&&sn()};setTimeout(()=>{nn<en&&sn()},u+1),n.addEventListener(tn,fn)}function getTransitionInfo(n,e){const t=window.getComputedStyle(n),r=hn=>(t[hn]||"").split(", "),o=r(`${TRANSITION}Delay`),a=r(`${TRANSITION}Duration`),c=getTimeout(o,a),u=r(`${ANIMATION}Delay`),en=r(`${ANIMATION}Duration`),tn=getTimeout(u,en);let nn=null,sn=0,fn=0;e===TRANSITION?c>0&&(nn=TRANSITION,sn=c,fn=a.length):e===ANIMATION?tn>0&&(nn=ANIMATION,sn=tn,fn=en.length):(sn=Math.max(c,tn),nn=sn>0?c>tn?TRANSITION:ANIMATION:null,fn=nn?nn===TRANSITION?a.length:en.length:0);const dn=nn===TRANSITION&&/\b(transform|all)(,|$)/.test(r(`${TRANSITION}Property`).toString());return{type:nn,timeout:sn,propCount:fn,hasTransform:dn}}function getTimeout(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,r)=>toMs(t)+toMs(n[r])))}function toMs(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(n,e,t){const r=n[vtcKey];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const vShowOldKey=Symbol("_vod"),vShow={beforeMount(n,{value:e},{transition:t}){n[vShowOldKey]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):setDisplay(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:r}){!e!=!t&&(r?e?(r.beforeEnter(n),setDisplay(n,!0),r.enter(n)):r.leave(n,()=>{setDisplay(n,!1)}):setDisplay(n,e))},beforeUnmount(n,{value:e}){setDisplay(n,e)}};function setDisplay(n,e){n.style.display=e?n[vShowOldKey]:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:n})=>{if(!n)return{style:{display:"none"}}}}function patchStyle(n,e,t){const r=n.style,o=isString$3(t);if(t&&!o){if(e&&!isString$3(e))for(const a in e)t[a]==null&&setStyle(r,a,"");for(const a in t)setStyle(r,a,t[a])}else{const a=r.display;o?e!==t&&(r.cssText=t):e&&n.removeAttribute("style"),vShowOldKey in n&&(r.display=a)}}const importantRE=/\s*!important$/;function setStyle(n,e,t){if(isArray$3(t))t.forEach(r=>setStyle(n,e,r));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const r=autoPrefix(n,e);importantRE.test(t)?n.setProperty(hyphenate(r),t.replace(importantRE,""),"important"):n[r]=t}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(n,e){const t=prefixCache[e];if(t)return t;let r=camelize(e);if(r!=="filter"&&r in n)return prefixCache[e]=r;r=capitalize(r);for(let o=0;o<prefixes.length;o++){const a=prefixes[o]+r;if(a in n)return prefixCache[e]=a}return e}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(n,e,t,r,o){if(r&&e.startsWith("xlink:"))t==null?n.removeAttributeNS(xlinkNS,e.slice(6,e.length)):n.setAttributeNS(xlinkNS,e,t);else{const a=isSpecialBooleanAttr(e);t==null||a&&!includeBooleanAttr(t)?n.removeAttribute(e):n.setAttribute(e,a?"":t)}}function patchDOMProp(n,e,t,r,o,a,c){if(e==="innerHTML"||e==="textContent"){r&&c(r,o,a),n[e]=t??"";return}const u=n.tagName;if(e==="value"&&u!=="PROGRESS"&&!u.includes("-")){n._value=t;const tn=u==="OPTION"?n.getAttribute("value"):n.value,nn=t??"";tn!==nn&&(n.value=nn),t==null&&n.removeAttribute(e);return}let en=!1;if(t===""||t==null){const tn=typeof n[e];tn==="boolean"?t=includeBooleanAttr(t):t==null&&tn==="string"?(t="",en=!0):tn==="number"&&(t=0,en=!0)}try{n[e]=t}catch{}en&&n.removeAttribute(e)}function addEventListener(n,e,t,r){n.addEventListener(e,t,r)}function removeEventListener(n,e,t,r){n.removeEventListener(e,t,r)}const veiKey=Symbol("_vei");function patchEvent(n,e,t,r,o=null){const a=n[veiKey]||(n[veiKey]={}),c=a[e];if(r&&c)c.value=r;else{const[u,en]=parseName(e);if(r){const tn=a[e]=createInvoker(r,o);addEventListener(n,u,tn,en)}else c&&(removeEventListener(n,u,c,en),a[e]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(n){let e;if(optionsModifierRE.test(n)){e={};let r;for(;r=n.match(optionsModifierRE);)n=n.slice(0,n.length-r[0].length),e[r[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):hyphenate(n.slice(2)),e]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(n,e){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(r,t.value),e,5,[r])};return t.value=n,t.attached=getNow(),t}function patchStopImmediatePropagation(n,e){if(isArray$3(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(r=>o=>!o._stopped&&r&&r(o))}else return e}const nativeOnRE=/^on[a-z]/,patchProp=(n,e,t,r,o=!1,a,c,u,en)=>{e==="class"?patchClass(n,r,o):e==="style"?patchStyle(n,t,r):isOn(e)?isModelListener(e)||patchEvent(n,e,t,r,c):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):shouldSetAsProp(n,e,r,o))?patchDOMProp(n,e,r,a,c,u,en):(e==="true-value"?n._trueValue=r:e==="false-value"&&(n._falseValue=r),patchAttr(n,e,r,o))};function shouldSetAsProp(n,e,t,r){return r?!!(e==="innerHTML"||e==="textContent"||e in n&&nativeOnRE.test(e)&&isFunction$5(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA"||nativeOnRE.test(e)&&isString$3(t)?!1:e in n}/*! #__NO_SIDE_EFFECTS__ */function defineCustomElement(n,e){const t=defineComponent(n);class r extends VueElement{constructor(a){super(t,a,e)}}return r.def=t,r}/*! #__NO_SIDE_EFFECTS__ */const defineSSRCustomElement=n=>defineCustomElement(n,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(e,t={},r){super(),this._def=e,this._props=t,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,this._ob&&(this._ob.disconnect(),this._ob=null),nextTick(()=>{this._connected||(render(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const o of r)this._setAttr(o.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,o=!1)=>{const{props:a,styles:c}=r;let u;if(a&&!isArray$3(a))for(const en in a){const tn=a[en];(tn===Number||tn&&tn.type===Number)&&(en in this._props&&(this._props[en]=toNumber(this._props[en])),(u||(u=Object.create(null)))[camelize(en)]=!0)}this._numberProps=u,o&&this._resolveProps(r),this._applyStyles(c),this._update()},t=this._def.__asyncLoader;t?t().then(r=>e(r,!0)):e(this._def)}_resolveProps(e){const{props:t}=e,r=isArray$3(t)?t:Object.keys(t||{});for(const o of Object.keys(this))o[0]!=="_"&&r.includes(o)&&this._setProp(o,this[o],!0,!1);for(const o of r.map(camelize))Object.defineProperty(this,o,{get(){return this._getProp(o)},set(a){this._setProp(o,a)}})}_setAttr(e){let t=this.getAttribute(e);const r=camelize(e);this._numberProps&&this._numberProps[r]&&(t=toNumber(t)),this._setProp(r,t,!1)}_getProp(e){return this._props[e]}_setProp(e,t,r=!0,o=!0){t!==this._props[e]&&(this._props[e]=t,o&&this._instance&&this._update(),r&&(t===!0?this.setAttribute(hyphenate(e),""):typeof t=="string"||typeof t=="number"?this.setAttribute(hyphenate(e),t+""):t||this.removeAttribute(hyphenate(e))))}_update(){render(this._createVNode(),this.shadowRoot)}_createVNode(){const e=createVNode(this._def,extend$1({},this._props));return this._instance||(e.ce=t=>{this._instance=t,t.isCE=!0;const r=(a,c)=>{this.dispatchEvent(new CustomEvent(a,{detail:c}))};t.emit=(a,...c)=>{r(a,c),hyphenate(a)!==a&&r(hyphenate(a),c)};let o=this;for(;o=o&&(o.parentNode||o.host);)if(o instanceof VueElement){t.parent=o._instance,t.provides=o._instance.provides;break}}),e}_applyStyles(e){e&&e.forEach(t=>{const r=document.createElement("style");r.textContent=t,this.shadowRoot.appendChild(r)})}}function useCssModule(n="$style"){{const e=getCurrentInstance();if(!e)return EMPTY_OBJ;const t=e.type.__cssModules;if(!t)return EMPTY_OBJ;const r=t[n];return r||EMPTY_OBJ}}function useCssVars(n){const e=getCurrentInstance();if(!e)return;const t=e.ut=(o=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(a=>setVarsOnNode(a,o))},r=()=>{const o=n(e.proxy);setVarsOnVNode(e.subTree,o),t(o)};watchPostEffect(r),onMounted(()=>{const o=new MutationObserver(r);o.observe(e.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>o.disconnect())})}function setVarsOnVNode(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{setVarsOnVNode(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)setVarsOnNode(n.el,e);else if(n.type===Fragment)n.children.forEach(t=>setVarsOnVNode(t,e));else if(n.type===Static){let{el:t,anchor:r}=n;for(;t&&(setVarsOnNode(t,e),t!==r);)t=t.nextSibling}}function setVarsOnNode(n,e){if(n.nodeType===1){const t=n.style;for(const r in e)t.setProperty(`--${r}`,e[r])}}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),TransitionGroupImpl={name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(n,{slots:e}){const t=getCurrentInstance(),r=useTransitionState();let o,a;return onUpdated(()=>{if(!o.length)return;const c=n.moveClass||`${n.name||"v"}-move`;if(!hasCSSTransform(o[0].el,t.vnode.el,c))return;o.forEach(callPendingCbs),o.forEach(recordPosition);const u=o.filter(applyTranslation);forceReflow(),u.forEach(en=>{const tn=en.el,nn=tn.style;addTransitionClass(tn,c),nn.transform=nn.webkitTransform=nn.transitionDuration="";const sn=tn[moveCbKey]=fn=>{fn&&fn.target!==tn||(!fn||/transform$/.test(fn.propertyName))&&(tn.removeEventListener("transitionend",sn),tn[moveCbKey]=null,removeTransitionClass(tn,c))};tn.addEventListener("transitionend",sn)})}),()=>{const c=toRaw(n),u=resolveTransitionProps(c);let en=c.tag||Fragment;o=a,a=e.default?getTransitionRawChildren(e.default()):[];for(let tn=0;tn<a.length;tn++){const nn=a[tn];nn.key!=null&&setTransitionHooks(nn,resolveTransitionHooks(nn,u,r,t))}if(o)for(let tn=0;tn<o.length;tn++){const nn=o[tn];setTransitionHooks(nn,resolveTransitionHooks(nn,u,r,t)),positionMap.set(nn,nn.el.getBoundingClientRect())}return createVNode(en,null,a)}}},removeMode=n=>delete n.mode;TransitionGroupImpl.props;const TransitionGroup=TransitionGroupImpl;function callPendingCbs(n){const e=n.el;e[moveCbKey]&&e[moveCbKey](),e[enterCbKey]&&e[enterCbKey]()}function recordPosition(n){newPositionMap.set(n,n.el.getBoundingClientRect())}function applyTranslation(n){const e=positionMap.get(n),t=newPositionMap.get(n),r=e.left-t.left,o=e.top-t.top;if(r||o){const a=n.el.style;return a.transform=a.webkitTransform=`translate(${r}px,${o}px)`,a.transitionDuration="0s",n}}function hasCSSTransform(n,e,t){const r=n.cloneNode(),o=n[vtcKey];o&&o.forEach(u=>{u.split(/\s+/).forEach(en=>en&&r.classList.remove(en))}),t.split(/\s+/).forEach(u=>u&&r.classList.add(u)),r.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(r);const{hasTransform:c}=getTransitionInfo(r);return a.removeChild(r),c}const getModelAssigner=n=>{const e=n.props["onUpdate:modelValue"]||!1;return isArray$3(e)?t=>invokeArrayFns(e,t):e};function onCompositionStart(n){n.target.composing=!0}function onCompositionEnd(n){const e=n.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(n,{modifiers:{lazy:e,trim:t,number:r}},o){n[assignKey]=getModelAssigner(o);const a=r||o.props&&o.props.type==="number";addEventListener(n,e?"change":"input",c=>{if(c.target.composing)return;let u=n.value;t&&(u=u.trim()),a&&(u=looseToNumber(u)),n[assignKey](u)}),t&&addEventListener(n,"change",()=>{n.value=n.value.trim()}),e||(addEventListener(n,"compositionstart",onCompositionStart),addEventListener(n,"compositionend",onCompositionEnd),addEventListener(n,"change",onCompositionEnd))},mounted(n,{value:e}){n.value=e??""},beforeUpdate(n,{value:e,modifiers:{lazy:t,trim:r,number:o}},a){if(n[assignKey]=getModelAssigner(a),n.composing||document.activeElement===n&&n.type!=="range"&&(t||r&&n.value.trim()===e||(o||n.type==="number")&&looseToNumber(n.value)===e))return;const c=e??"";n.value!==c&&(n.value=c)}},vModelCheckbox={deep:!0,created(n,e,t){n[assignKey]=getModelAssigner(t),addEventListener(n,"change",()=>{const r=n._modelValue,o=getValue(n),a=n.checked,c=n[assignKey];if(isArray$3(r)){const u=looseIndexOf(r,o),en=u!==-1;if(a&&!en)c(r.concat(o));else if(!a&&en){const tn=[...r];tn.splice(u,1),c(tn)}}else if(isSet$2(r)){const u=new Set(r);a?u.add(o):u.delete(o),c(u)}else c(getCheckboxValue(n,a))})},mounted:setChecked,beforeUpdate(n,e,t){n[assignKey]=getModelAssigner(t),setChecked(n,e,t)}};function setChecked(n,{value:e,oldValue:t},r){n._modelValue=e,isArray$3(e)?n.checked=looseIndexOf(e,r.props.value)>-1:isSet$2(e)?n.checked=e.has(r.props.value):e!==t&&(n.checked=looseEqual(e,getCheckboxValue(n,!0)))}const vModelRadio={created(n,{value:e},t){n.checked=looseEqual(e,t.props.value),n[assignKey]=getModelAssigner(t),addEventListener(n,"change",()=>{n[assignKey](getValue(n))})},beforeUpdate(n,{value:e,oldValue:t},r){n[assignKey]=getModelAssigner(r),e!==t&&(n.checked=looseEqual(e,r.props.value))}},vModelSelect={deep:!0,created(n,{value:e,modifiers:{number:t}},r){const o=isSet$2(e);addEventListener(n,"change",()=>{const a=Array.prototype.filter.call(n.options,c=>c.selected).map(c=>t?looseToNumber(getValue(c)):getValue(c));n[assignKey](n.multiple?o?new Set(a):a:a[0])}),n[assignKey]=getModelAssigner(r)},mounted(n,{value:e}){setSelected(n,e)},beforeUpdate(n,e,t){n[assignKey]=getModelAssigner(t)},updated(n,{value:e}){setSelected(n,e)}};function setSelected(n,e){const t=n.multiple;if(!(t&&!isArray$3(e)&&!isSet$2(e))){for(let r=0,o=n.options.length;r<o;r++){const a=n.options[r],c=getValue(a);if(t)isArray$3(e)?a.selected=looseIndexOf(e,c)>-1:a.selected=e.has(c);else if(looseEqual(getValue(a),e)){n.selectedIndex!==r&&(n.selectedIndex=r);return}}!t&&n.selectedIndex!==-1&&(n.selectedIndex=-1)}}function getValue(n){return"_value"in n?n._value:n.value}function getCheckboxValue(n,e){const t=e?"_trueValue":"_falseValue";return t in n?n[t]:e}const vModelDynamic={created(n,e,t){callModelHook(n,e,t,null,"created")},mounted(n,e,t){callModelHook(n,e,t,null,"mounted")},beforeUpdate(n,e,t,r){callModelHook(n,e,t,r,"beforeUpdate")},updated(n,e,t,r){callModelHook(n,e,t,r,"updated")}};function resolveDynamicModel(n,e){switch(n){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(e){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(n,e,t,r,o){const c=resolveDynamicModel(n.tagName,t.props&&t.props.type)[o];c&&c(n,e,t,r)}function initVModelForSSR(){vModelText.getSSRProps=({value:n})=>({value:n}),vModelRadio.getSSRProps=({value:n},e)=>{if(e.props&&looseEqual(e.props.value,n))return{checked:!0}},vModelCheckbox.getSSRProps=({value:n},e)=>{if(isArray$3(n)){if(e.props&&looseIndexOf(n,e.props.value)>-1)return{checked:!0}}else if(isSet$2(n)){if(e.props&&n.has(e.props.value))return{checked:!0}}else if(n)return{checked:!0}},vModelDynamic.getSSRProps=(n,e)=>{if(typeof e.type!="string")return;const t=resolveDynamicModel(e.type.toUpperCase(),e.props&&e.props.type);if(t.getSSRProps)return t.getSSRProps(n,e)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:n=>n.stopPropagation(),prevent:n=>n.preventDefault(),self:n=>n.target!==n.currentTarget,ctrl:n=>!n.ctrlKey,shift:n=>!n.shiftKey,alt:n=>!n.altKey,meta:n=>!n.metaKey,left:n=>"button"in n&&n.button!==0,middle:n=>"button"in n&&n.button!==1,right:n=>"button"in n&&n.button!==2,exact:(n,e)=>systemModifiers.some(t=>n[`${t}Key`]&&!e.includes(t))},withModifiers=(n,e)=>(t,...r)=>{for(let o=0;o<e.length;o++){const a=modifierGuards[e[o]];if(a&&a(t,e))return}return n(t,...r)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(n,e)=>t=>{if(!("key"in t))return;const r=hyphenate(t.key);if(e.some(o=>o===r||keyNames[o]===r))return n(t)},rendererOptions=extend$1({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render=(...n)=>{ensureRenderer().render(...n)},hydrate=(...n)=>{ensureHydrationRenderer().hydrate(...n)},createApp=(...n)=>{const e=ensureRenderer().createApp(...n),{mount:t}=e;return e.mount=r=>{const o=normalizeContainer(r);if(!o)return;const a=e._component;!isFunction$5(a)&&!a.render&&!a.template&&(a.template=o.innerHTML),o.innerHTML="";const c=t(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),c},e},createSSRApp=(...n)=>{const e=ensureHydrationRenderer().createApp(...n),{mount:t}=e;return e.mount=r=>{const o=normalizeContainer(r);if(o)return t(o,!0,o instanceof SVGElement)},e};function normalizeContainer(n){return isString$3(n)?document.querySelector(n):n}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())};var robotoFont="",materialIcons$1="",bounce="",flash="",flip="",headShake="",heartBeat="",hinge="",jello="",pulse="",rubberBand="",shake="",shakeX="",shakeY="",swing="",tada="",wobble="",backInDown="",backInLeft="",backInRight="",backInUp="",bounceIn="",bounceInDown="",bounceInLeft="",bounceInRight="",bounceInUp="",fadeIn="",fadeInBottomLeft="",fadeInBottomRight="",fadeInDown="",fadeInDownBig="",fadeInLeft="",fadeInLeftBig="",fadeInRight="",fadeInRightBig="",fadeInTopLeft="",fadeInTopRight="",fadeInUp="",fadeInUpBig="",flipInX="",flipInY="",jackInTheBox="",lightSpeedInLeft="",lightSpeedInRight="",rollIn="",rotateIn="",rotateInDownLeft="",rotateInDownRight="",rotateInUpLeft="",rotateInUpRight="",slideInDown="",slideInLeft="",slideInRight="",slideInUp="",zoomIn="",zoomInDown="",zoomInLeft="",zoomInRight="",zoomInUp="",backOutDown="",backOutLeft="",backOutRight="",backOutUp="",bounceOut="",bounceOutDown="",bounceOutLeft="",bounceOutRight="",bounceOutUp="",fadeOut="",fadeOutBottomLeft="",fadeOutBottomRight="",fadeOutDown="",fadeOutDownBig="",fadeOutLeft="",fadeOutLeftBig="",fadeOutRight="",fadeOutRightBig="",fadeOutTopLeft="",fadeOutTopRight="",fadeOutUp="",fadeOutUpBig="",flipOutX="",flipOutY="",lightSpeedOutLeft="",lightSpeedOutRight="",rollOut="",rotateOut="",rotateOutDownLeft="",rotateOutDownRight="",rotateOutUpLeft="",rotateOutUpRight="",slideOutDown="",slideOutLeft="",slideOutRight="",slideOutUp="",zoomOut="",zoomOutDown="",zoomOutLeft="",zoomOutRight="",zoomOutUp="",quasar="",app="";function injectProp(n,e,t,r){return Object.defineProperty(n,e,{get:t,set:r,enumerable:!0}),n}function injectMultipleProps(n,e){for(const t in e)injectProp(n,t,e[t]);return n}const isRuntimeSsrPreHydration=ref(!1);let iosCorrection;function getMatch(n,e){const t=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(n)||/(opr)[\/]([\w.]+)/.exec(n)||/(vivaldi)[\/]([\w.]+)/.exec(n)||/(chrome|crios)[\/]([\w.]+)/.exec(n)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(n)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(n)||/(firefox|fxios)[\/]([\w.]+)/.exec(n)||/(webkit)[\/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(n)||[];return{browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",versionNumber:t[4]||t[2]||"0",platform:e[0]||""}}function getPlatformMatch(n){return/(ipad)/.exec(n)||/(ipod)/.exec(n)||/(windows phone)/.exec(n)||/(iphone)/.exec(n)||/(kindle)/.exec(n)||/(silk)/.exec(n)||/(android)/.exec(n)||/(win)/.exec(n)||/(mac)/.exec(n)||/(linux)/.exec(n)||/(cros)/.exec(n)||/(playbook)/.exec(n)||/(bb)/.exec(n)||/(blackberry)/.exec(n)||[]}const hasTouch="ontouchstart"in window||window.navigator.maxTouchPoints>0;function applyIosCorrection(n){iosCorrection={is:{...n}},delete n.mac,delete n.desktop;const e=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(n,{mobile:!0,ios:!0,platform:e,[e]:!0})}function getPlatform(n){const e=n.toLowerCase(),t=getPlatformMatch(e),r=getMatch(e,t),o={};r.browser&&(o[r.browser]=!0,o.version=r.version,o.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(o[r.platform]=!0);const a=o.android||o.ios||o.bb||o.blackberry||o.ipad||o.iphone||o.ipod||o.kindle||o.playbook||o.silk||o["windows phone"];return a===!0||e.indexOf("mobile")>-1?(o.mobile=!0,o.edga||o.edgios?(o.edge=!0,r.browser="edge"):o.crios?(o.chrome=!0,r.browser="chrome"):o.fxios&&(o.firefox=!0,r.browser="firefox")):o.desktop=!0,(o.ipod||o.ipad||o.iphone)&&(o.ios=!0),o["windows phone"]&&(o.winphone=!0,delete o["windows phone"]),(o.chrome||o.opr||o.safari||o.vivaldi||o.mobile===!0&&o.ios!==!0&&a!==!0)&&(o.webkit=!0),o.edg&&(r.browser="edgechromium",o.edgeChromium=!0),(o.safari&&o.blackberry||o.bb)&&(r.browser="blackberry",o.blackberry=!0),o.safari&&o.playbook&&(r.browser="playbook",o.playbook=!0),o.opr&&(r.browser="opera",o.opera=!0),o.safari&&o.android&&(r.browser="android",o.android=!0),o.safari&&o.kindle&&(r.browser="kindle",o.kindle=!0),o.safari&&o.silk&&(r.browser="silk",o.silk=!0),o.vivaldi&&(r.browser="vivaldi",o.vivaldi=!0),o.name=r.browser,o.platform=r.platform,e.indexOf("electron")>-1?o.electron=!0:document.location.href.indexOf("-extension://")>-1?o.bex=!0:(window.Capacitor!==void 0?(o.capacitor=!0,o.nativeMobile=!0,o.nativeMobileWrapper="capacitor"):(window._cordovaNative!==void 0||window.cordova!==void 0)&&(o.cordova=!0,o.nativeMobile=!0,o.nativeMobileWrapper="cordova"),hasTouch===!0&&o.mac===!0&&(o.desktop===!0&&o.safari===!0||o.nativeMobile===!0&&o.android!==!0&&o.ios!==!0&&o.ipad!==!0)&&applyIosCorrection(o)),o}const userAgent=navigator.userAgent||navigator.vendor||window.opera,ssrClient={has:{touch:!1,webStorage:!1},within:{iframe:!1}},client$5={userAgent,is:getPlatform(userAgent),has:{touch:hasTouch},within:{iframe:window.self!==window.top}},Platform={install(n){const{$q:e}=n;isRuntimeSsrPreHydration.value===!0?(n.onSSRHydrated.push(()=>{Object.assign(e.platform,client$5),isRuntimeSsrPreHydration.value=!1,iosCorrection=void 0}),e.platform=reactive(this)):e.platform=this}};{let n;injectProp(client$5.has,"webStorage",()=>{if(n!==void 0)return n;try{if(window.localStorage)return n=!0,!0}catch{}return n=!1,!1}),client$5.is.ios===!0&&window.navigator.vendor.toLowerCase().indexOf("apple"),isRuntimeSsrPreHydration.value===!0?Object.assign(Platform,client$5,iosCorrection,ssrClient):Object.assign(Platform,client$5)}var defineReactivePlugin=(n,e)=>{const t=reactive(n);for(const r in n)injectProp(e,r,()=>t[r],o=>{t[r]=o});return e};const listenOpts={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const n=Object.defineProperty({},"passive",{get(){Object.assign(listenOpts,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,n),window.removeEventListener("qtest",null,n)}catch{}function noop$6(){}function leftClick(n){return n.button===0}function position(n){return n.touches&&n.touches[0]?n=n.touches[0]:n.changedTouches&&n.changedTouches[0]?n=n.changedTouches[0]:n.targetTouches&&n.targetTouches[0]&&(n=n.targetTouches[0]),{top:n.clientY,left:n.clientX}}function getEventPath(n){if(n.path)return n.path;if(n.composedPath)return n.composedPath();const e=[];let t=n.target;for(;t;){if(e.push(t),t.tagName==="HTML")return e.push(document),e.push(window),e;t=t.parentElement}}function stop(n){n.stopPropagation()}function prevent(n){n.cancelable!==!1&&n.preventDefault()}function stopAndPrevent(n){n.cancelable!==!1&&n.preventDefault(),n.stopPropagation()}function preventDraggable(n,e){if(n===void 0||e===!0&&n.__dragPrevented===!0)return;const t=e===!0?r=>{r.__dragPrevented=!0,r.addEventListener("dragstart",prevent,listenOpts.notPassiveCapture)}:r=>{delete r.__dragPrevented,r.removeEventListener("dragstart",prevent,listenOpts.notPassiveCapture)};n.querySelectorAll("a, img").forEach(t)}function addEvt(n,e,t){const r=`__q_${e}_evt`;n[r]=n[r]!==void 0?n[r].concat(t):t,t.forEach(o=>{o[0].addEventListener(o[1],n[o[2]],listenOpts[o[3]])})}function cleanEvt(n,e){const t=`__q_${e}_evt`;n[t]!==void 0&&(n[t].forEach(r=>{r[0].removeEventListener(r[1],n[r[2]],listenOpts[r[3]])}),n[t]=void 0)}function debounce(n,e=250,t){let r=null;function o(){const a=arguments,c=()=>{r=null,t!==!0&&n.apply(this,a)};r!==null?clearTimeout(r):t===!0&&n.apply(this,a),r=setTimeout(c,e)}return o.cancel=()=>{r!==null&&clearTimeout(r)},o}const SIZE_LIST=["sm","md","lg","xl"],{passive}=listenOpts;var Screen=defineReactivePlugin({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:noop$6,setDebounce:noop$6,install({$q:n,onSSRHydrated:e}){if(n.screen=this,this.__installed===!0){n.config.screen!==void 0&&(n.config.screen.bodyClasses===!1?document.body.classList.remove(`screen--${this.name}`):this.__update(!0));return}const{visualViewport:t}=window,r=t||window,o=document.scrollingElement||document.documentElement,a=t===void 0||client$5.is.mobile===!0?()=>[Math.max(window.innerWidth,o.clientWidth),Math.max(window.innerHeight,o.clientHeight)]:()=>[t.width*t.scale+window.innerWidth-o.clientWidth,t.height*t.scale+window.innerHeight-o.clientHeight],c=n.config.screen!==void 0&&n.config.screen.bodyClasses===!0;this.__update=sn=>{const[fn,dn]=a();if(dn!==this.height&&(this.height=dn),fn!==this.width)this.width=fn;else if(sn!==!0)return;let hn=this.sizes;this.gt.xs=fn>=hn.sm,this.gt.sm=fn>=hn.md,this.gt.md=fn>=hn.lg,this.gt.lg=fn>=hn.xl,this.lt.sm=fn<hn.sm,this.lt.md=fn<hn.md,this.lt.lg=fn<hn.lg,this.lt.xl=fn<hn.xl,this.xs=this.lt.sm,this.sm=this.gt.xs===!0&&this.lt.md===!0,this.md=this.gt.sm===!0&&this.lt.lg===!0,this.lg=this.gt.md===!0&&this.lt.xl===!0,this.xl=this.gt.lg,hn=this.xs===!0&&"xs"||this.sm===!0&&"sm"||this.md===!0&&"md"||this.lg===!0&&"lg"||"xl",hn!==this.name&&(c===!0&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${hn}`)),this.name=hn)};let u,en={},tn=16;this.setSizes=sn=>{SIZE_LIST.forEach(fn=>{sn[fn]!==void 0&&(en[fn]=sn[fn])})},this.setDebounce=sn=>{tn=sn};const nn=()=>{const sn=getComputedStyle(document.body);sn.getPropertyValue("--q-size-sm")&&SIZE_LIST.forEach(fn=>{this.sizes[fn]=parseInt(sn.getPropertyValue(`--q-size-${fn}`),10)}),this.setSizes=fn=>{SIZE_LIST.forEach(dn=>{fn[dn]&&(this.sizes[dn]=fn[dn])}),this.__update(!0)},this.setDebounce=fn=>{u!==void 0&&r.removeEventListener("resize",u,passive),u=fn>0?debounce(this.__update,fn):this.__update,r.addEventListener("resize",u,passive)},this.setDebounce(tn),Object.keys(en).length!==0?(this.setSizes(en),en=void 0):this.__update(),c===!0&&this.name==="xs"&&document.body.classList.add("screen--xs")};isRuntimeSsrPreHydration.value===!0?e.push(nn):nn()}});const Plugin$2=defineReactivePlugin({isActive:!1,mode:!1},{__media:void 0,set(n){Plugin$2.mode=n,n==="auto"?(Plugin$2.__media===void 0&&(Plugin$2.__media=window.matchMedia("(prefers-color-scheme: dark)"),Plugin$2.__updateMedia=()=>{Plugin$2.set("auto")},Plugin$2.__media.addListener(Plugin$2.__updateMedia)),n=Plugin$2.__media.matches):Plugin$2.__media!==void 0&&(Plugin$2.__media.removeListener(Plugin$2.__updateMedia),Plugin$2.__media=void 0),Plugin$2.isActive=n===!0,document.body.classList.remove(`body--${n===!0?"light":"dark"}`),document.body.classList.add(`body--${n===!0?"dark":"light"}`)},toggle(){Plugin$2.set(Plugin$2.isActive===!1)},install({$q:n,onSSRHydrated:e,ssrContext:t}){const{dark:r}=n.config;if(n.dark=this,this.__installed===!0&&r===void 0)return;this.isActive=r===!0;const o=r!==void 0?r:!1;if(isRuntimeSsrPreHydration.value===!0){const a=u=>{this.__fromSSR=u},c=this.set;this.set=a,a(o),e.push(()=>{this.set=c,this.set(this.__fromSSR)})}else this.set(o)}}),getTrue=()=>!0;function filterInvalidPath(n){return typeof n=="string"&&n!==""&&n!=="/"&&n!=="#/"}function normalizeExitPath(n){return n.startsWith("#")===!0&&(n=n.substring(1)),n.startsWith("/")===!1&&(n="/"+n),n.endsWith("/")===!0&&(n=n.substring(0,n.length-1)),"#"+n}function getShouldExitFn(n){if(n.backButtonExit===!1)return()=>!1;if(n.backButtonExit==="*")return getTrue;const e=["#/"];return Array.isArray(n.backButtonExit)===!0&&e.push(...n.backButtonExit.filter(filterInvalidPath).map(normalizeExitPath)),()=>e.includes(window.location.hash)}var History={__history:[],add:noop$6,remove:noop$6,install({$q:n}){if(this.__installed===!0)return;const{cordova:e,capacitor:t}=client$5.is;if(e!==!0&&t!==!0)return;const r=n.config[e===!0?"cordova":"capacitor"];if(r!==void 0&&r.backButton===!1||t===!0&&(window.Capacitor===void 0||window.Capacitor.Plugins.App===void 0))return;this.add=c=>{c.condition===void 0&&(c.condition=getTrue),this.__history.push(c)},this.remove=c=>{const u=this.__history.indexOf(c);u>=0&&this.__history.splice(u,1)};const o=getShouldExitFn(Object.assign({backButtonExit:!0},r)),a=()=>{if(this.__history.length){const c=this.__history[this.__history.length-1];c.condition()===!0&&(this.__history.pop(),c.handler())}else o()===!0?navigator.app.exitApp():window.history.back()};e===!0?document.addEventListener("deviceready",()=>{document.addEventListener("backbutton",a,!1)}):window.Capacitor.Plugins.App.addListener("backButton",a)}},defaultLang={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh",expand:n=>n?`Expand "${n}"`:"Expand",collapse:n=>n?`Collapse "${n}"`:"Collapse"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:n=>n===1?"1 record selected.":(n===0?"No":n)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(n,e,t)=>n+"-"+e+" of "+t,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function getLocale(){const n=Array.isArray(navigator.languages)===!0&&navigator.languages.length!==0?navigator.languages[0]:navigator.language;if(typeof n=="string")return n.split(/[-_]/).map((e,t)=>t===0?e.toLowerCase():t>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join("-")}const Plugin$1=defineReactivePlugin({__langPack:{}},{getLocale,set(n=defaultLang,e){const t={...n,rtl:n.rtl===!0,getLocale};{if(t.set=Plugin$1.set,Plugin$1.__langConfig===void 0||Plugin$1.__langConfig.noHtmlAttrs!==!0){const r=document.documentElement;r.setAttribute("dir",t.rtl===!0?"rtl":"ltr"),r.setAttribute("lang",t.isoName)}Object.assign(Plugin$1.__langPack,t),Plugin$1.props=t,Plugin$1.isoName=t.isoName,Plugin$1.nativeName=t.nativeName}},install({$q:n,lang:e,ssrContext:t}){n.lang=Plugin$1.__langPack,Plugin$1.__langConfig=n.config.lang,this.__installed===!0?e!==void 0&&this.set(e):this.set(e||defaultLang)}});function setCssVar(n,e,t=document.body){if(typeof n!="string")throw new TypeError("Expected a string as propName");if(typeof e!="string")throw new TypeError("Expected a string as value");if(!(t instanceof Element))throw new TypeError("Expected a DOM element");t.style.setProperty(`--q-${n}`,e)}let lastKeyCompositionStatus=!1;function onKeyDownComposition(n){lastKeyCompositionStatus=n.isComposing===!0}function shouldIgnoreKey(n){return lastKeyCompositionStatus===!0||n!==Object(n)||n.isComposing===!0||n.qKeyEvent===!0}function isKeyCode(n,e){return shouldIgnoreKey(n)===!0?!1:[].concat(e).includes(n.keyCode)}function getMobilePlatform(n){if(n.ios===!0)return"ios";if(n.android===!0)return"android"}function getBodyClasses({is:n,has:e,within:t},r){const o=[n.desktop===!0?"desktop":"mobile",`${e.touch===!1?"no-":""}touch`];if(n.mobile===!0){const a=getMobilePlatform(n);a!==void 0&&o.push("platform-"+a)}if(n.nativeMobile===!0){const a=n.nativeMobileWrapper;o.push(a),o.push("native-mobile"),n.ios===!0&&(r[a]===void 0||r[a].iosStatusBarPadding!==!1)&&o.push("q-ios-padding")}else n.electron===!0?o.push("electron"):n.bex===!0&&o.push("bex");return t.iframe===!0&&o.push("within-iframe"),o}function applyClientSsrCorrections(){const{is:n}=client$5,e=document.body.className,t=new Set(e.replace(/ {2}/g," ").split(" "));if(iosCorrection!==void 0)t.delete("desktop"),t.add("platform-ios"),t.add("mobile");else if(n.nativeMobile!==!0&&n.electron!==!0&&n.bex!==!0){if(n.desktop===!0)t.delete("mobile"),t.delete("platform-ios"),t.delete("platform-android"),t.add("desktop");else if(n.mobile===!0){t.delete("desktop"),t.add("mobile");const o=getMobilePlatform(n);o!==void 0?(t.add(`platform-${o}`),t.delete(`platform-${o==="ios"?"android":"ios"}`)):(t.delete("platform-ios"),t.delete("platform-android"))}}client$5.has.touch===!0&&(t.delete("no-touch"),t.add("touch")),client$5.within.iframe===!0&&t.add("within-iframe");const r=Array.from(t).join(" ");e!==r&&(document.body.className=r)}function setColors(n){for(const e in n)setCssVar(e,n[e])}var Body={install(n){if(this.__installed!==!0){if(isRuntimeSsrPreHydration.value===!0)applyClientSsrCorrections();else{const{$q:e}=n;e.config.brand!==void 0&&setColors(e.config.brand);const t=getBodyClasses(client$5,e.config);document.body.classList.add.apply(document.body.classList,t)}client$5.is.ios===!0&&document.body.addEventListener("touchstart",noop$6),window.addEventListener("keydown",onKeyDownComposition,!0)}}},materialIcons={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}};const Plugin=defineReactivePlugin({iconMapFn:null,__icons:{}},{set(n,e){const t={...n,rtl:n.rtl===!0};t.set=Plugin.set,Object.assign(Plugin.__icons,t)},install({$q:n,iconSet:e,ssrContext:t}){n.config.iconMapFn!==void 0&&(this.iconMapFn=n.config.iconMapFn),n.iconSet=this.__icons,injectProp(n,"iconMapFn",()=>this.iconMapFn,r=>{this.iconMapFn=r}),this.__installed===!0?e!==void 0&&this.set(e):this.set(e||materialIcons)}}),quasarKey="_q_",layoutKey="_q_l_",pageContainerKey="_q_pc_",formKey="_q_fo_",tabsKey="_q_tabs_",emptyRenderFn=()=>{},globalConfig={};let globalConfigIsFrozen=!1;function freezeGlobalConfig(){globalConfigIsFrozen=!0}function isDeepEqual$2(n,e){if(n===e)return!0;if(n!==null&&e!==null&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;let t,r;if(n.constructor===Array){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(isDeepEqual$2(n[r],e[r])!==!0)return!1;return!0}if(n.constructor===Map){if(n.size!==e.size)return!1;let a=n.entries();for(r=a.next();r.done!==!0;){if(e.has(r.value[0])!==!0)return!1;r=a.next()}for(a=n.entries(),r=a.next();r.done!==!0;){if(isDeepEqual$2(r.value[1],e.get(r.value[0]))!==!0)return!1;r=a.next()}return!0}if(n.constructor===Set){if(n.size!==e.size)return!1;const a=n.entries();for(r=a.next();r.done!==!0;){if(e.has(r.value[0])!==!0)return!1;r=a.next()}return!0}if(n.buffer!=null&&n.buffer.constructor===ArrayBuffer){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===e.toString();const o=Object.keys(n).filter(a=>n[a]!==void 0);if(t=o.length,t!==Object.keys(e).filter(a=>e[a]!==void 0).length)return!1;for(r=t;r--!==0;){const a=o[r];if(isDeepEqual$2(n[a],e[a])!==!0)return!1}return!0}return n!==n&&e!==e}function isObject$c(n){return n!==null&&typeof n=="object"&&Array.isArray(n)!==!0}function isDate$3(n){return Object.prototype.toString.call(n)==="[object Date]"}function isNumber$2(n){return typeof n=="number"&&isFinite(n)}const autoInstalledPlugins=[Platform,Body,Plugin$2,Screen,History,Plugin$1,Plugin];function createChildApp(n,e){const t=createApp(n);t.config.globalProperties=e.config.globalProperties;const{reload:r,...o}=e._context;return Object.assign(t._context,o),t}function installPlugins(n,e){e.forEach(t=>{t.install(n),t.__installed=!0})}function prepareApp(n,e,t){n.config.globalProperties.$q=t.$q,n.provide(quasarKey,t.$q),installPlugins(t,autoInstalledPlugins),e.components!==void 0&&Object.values(e.components).forEach(r=>{isObject$c(r)===!0&&r.name!==void 0&&n.component(r.name,r)}),e.directives!==void 0&&Object.values(e.directives).forEach(r=>{isObject$c(r)===!0&&r.name!==void 0&&n.directive(r.name,r)}),e.plugins!==void 0&&installPlugins(t,Object.values(e.plugins).filter(r=>typeof r.install=="function"&&autoInstalledPlugins.includes(r)===!1)),isRuntimeSsrPreHydration.value===!0&&(t.$q.onSSRHydrated=()=>{t.onSSRHydrated.forEach(r=>{r()}),t.$q.onSSRHydrated=()=>{}})}var installQuasar=function(n,e={}){const t={version:"2.13.0"};globalConfigIsFrozen===!1?(e.config!==void 0&&Object.assign(globalConfig,e.config),t.config={...globalConfig},freezeGlobalConfig()):t.config=e.config||{},prepareApp(n,e,{parentApp:n,$q:t,lang:e.lang,iconSet:e.iconSet,onSSRHydrated:[]})},Quasar={version:"2.13.0",install:installQuasar,lang:Plugin$1,iconSet:Plugin},isVue2=!1;let activePinia;const setActivePinia=n=>activePinia=n,piniaSymbol=Symbol();function isPlainObject$2(n){return n&&typeof n=="object"&&Object.prototype.toString.call(n)==="[object Object]"&&typeof n.toJSON!="function"}var MutationType;(function(n){n.direct="direct",n.patchObject="patch object",n.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const n=effectScope(!0),e=n.run(()=>ref({}));let t=[],r=[];const o=markRaw({install(a){setActivePinia(o),o._a=a,a.provide(piniaSymbol,o),a.config.globalProperties.$pinia=o,r.forEach(c=>t.push(c)),r=[]},use(a){return!this._a&&!isVue2?r.push(a):t.push(a),this},_p:t,_a:null,_e:n,_s:new Map,state:e});return o}const noop$5=()=>{};function addSubscription(n,e,t,r=noop$5){n.push(e);const o=()=>{const a=n.indexOf(e);a>-1&&(n.splice(a,1),r())};return!t&&getCurrentScope()&&onScopeDispose(o),o}function triggerSubscriptions(n,...e){n.slice().forEach(t=>{t(...e)})}const fallbackRunWithContext=n=>n();function mergeReactiveObjects(n,e){n instanceof Map&&e instanceof Map&&e.forEach((t,r)=>n.set(r,t)),n instanceof Set&&e instanceof Set&&e.forEach(n.add,n);for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t],o=n[t];isPlainObject$2(o)&&isPlainObject$2(r)&&n.hasOwnProperty(t)&&!isRef(r)&&!isReactive(r)?n[t]=mergeReactiveObjects(o,r):n[t]=r}return n}const skipHydrateSymbol=Symbol();function shouldHydrate(n){return!isPlainObject$2(n)||!n.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$3}=Object;function isComputed$1(n){return!!(isRef(n)&&n.effect)}function createOptionsStore(n,e,t,r){const{state:o,actions:a,getters:c}=e,u=t.state.value[n];let en;function tn(){u||(t.state.value[n]=o?o():{});const nn=toRefs(t.state.value[n]);return assign$3(nn,a,Object.keys(c||{}).reduce((sn,fn)=>(sn[fn]=markRaw(computed$1(()=>{setActivePinia(t);const dn=t._s.get(n);return c[fn].call(dn,dn)})),sn),{}))}return en=createSetupStore(n,tn,e,t,r,!0),en}function createSetupStore(n,e,t={},r,o,a){let c;const u=assign$3({actions:{}},t),en={deep:!0};let tn,nn,sn=[],fn=[],dn;const hn=r.state.value[n];!a&&!hn&&(r.state.value[n]={}),ref({});let ln;function pn(Pn){let Dn;tn=nn=!1,typeof Pn=="function"?(Pn(r.state.value[n]),Dn={type:MutationType.patchFunction,storeId:n,events:dn}):(mergeReactiveObjects(r.state.value[n],Pn),Dn={type:MutationType.patchObject,payload:Pn,storeId:n,events:dn});const Kn=ln=Symbol();nextTick().then(()=>{ln===Kn&&(tn=!0)}),nn=!0,triggerSubscriptions(sn,Dn,r.state.value[n])}const $n=a?function(){const{state:Dn}=t,Kn=Dn?Dn():{};this.$patch(Hn=>{assign$3(Hn,Kn)})}:noop$5;function Sn(){c.stop(),sn=[],fn=[],r._s.delete(n)}function yn(Pn,Dn){return function(){setActivePinia(r);const Kn=Array.from(arguments),Hn=[],jn=[];function Cn(vn){Hn.push(vn)}function mn(vn){jn.push(vn)}triggerSubscriptions(fn,{args:Kn,name:Pn,store:An,after:Cn,onError:mn});let _n;try{_n=Dn.apply(this&&this.$id===n?this:An,Kn)}catch(vn){throw triggerSubscriptions(jn,vn),vn}return _n instanceof Promise?_n.then(vn=>(triggerSubscriptions(Hn,vn),vn)).catch(vn=>(triggerSubscriptions(jn,vn),Promise.reject(vn))):(triggerSubscriptions(Hn,_n),_n)}}const In={_p:r,$id:n,$onAction:addSubscription.bind(null,fn),$patch:pn,$reset:$n,$subscribe(Pn,Dn={}){const Kn=addSubscription(sn,Pn,Dn.detached,()=>Hn()),Hn=c.run(()=>watch(()=>r.state.value[n],jn=>{(Dn.flush==="sync"?nn:tn)&&Pn({storeId:n,type:MutationType.direct,events:dn},jn)},assign$3({},en,Dn)));return Kn},$dispose:Sn},An=reactive(In);r._s.set(n,An);const kn=(r._a&&r._a.runWithContext||fallbackRunWithContext)(()=>r._e.run(()=>(c=effectScope()).run(e)));for(const Pn in kn){const Dn=kn[Pn];if(isRef(Dn)&&!isComputed$1(Dn)||isReactive(Dn))a||(hn&&shouldHydrate(Dn)&&(isRef(Dn)?Dn.value=hn[Pn]:mergeReactiveObjects(Dn,hn[Pn])),r.state.value[n][Pn]=Dn);else if(typeof Dn=="function"){const Kn=yn(Pn,Dn);kn[Pn]=Kn,u.actions[Pn]=Dn}}return assign$3(An,kn),assign$3(toRaw(An),kn),Object.defineProperty(An,"$state",{get:()=>r.state.value[n],set:Pn=>{pn(Dn=>{assign$3(Dn,Pn)})}}),r._p.forEach(Pn=>{assign$3(An,c.run(()=>Pn({store:An,app:r._a,pinia:r,options:u})))}),hn&&a&&t.hydrate&&t.hydrate(An.$state,hn),tn=!0,nn=!0,An}function defineStore(n,e,t){let r,o;const a=typeof e=="function";typeof n=="string"?(r=n,o=a?t:e):(o=n,r=n.id);function c(u,en){const tn=hasInjectionContext();return u=u||(tn?inject(piniaSymbol,null):null),u&&setActivePinia(u),u=activePinia,u._s.has(r)||(a?createSetupStore(r,e,o,u):createOptionsStore(r,o,u)),u._s.get(r)}return c.$id=r,c}function number$a(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function isBytes$3(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function bytes$3(n,...e){if(!isBytes$3(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function hash$2(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$a(n.outputLen),number$a(n.blockLen)}function exists$2(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function output$2(n,e){bytes$3(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const crypto$3=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView$2=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),rotr$2=(n,e)=>n<<32-e|n>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes$5(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function toBytes$2(n){return typeof n=="string"&&(n=utf8ToBytes$5(n)),bytes$3(n),n}function concatBytes$5(...n){let e=0;for(let r=0;r<n.length;r++){const o=n[r];bytes$3(o),e+=o.length}const t=new Uint8Array(e);for(let r=0,o=0;r<n.length;r++){const a=n[r];t.set(a,o),o+=a.length}return t}class Hash$2{clone(){return this._cloneInto()}}function wrapConstructor$2(n){const e=r=>n().update(toBytes$2(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function randomBytes$2(n=32){if(crypto$3&&typeof crypto$3.getRandomValues=="function")return crypto$3.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$2(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const o=BigInt(32),a=BigInt(4294967295),c=Number(t>>o&a),u=Number(t&a),en=r?4:0,tn=r?0:4;n.setUint32(e+en,c,r),n.setUint32(e+tn,u,r)}const Chi$2=(n,e,t)=>n&e^~n&t,Maj$2=(n,e,t)=>n&e^n&t^e&t;class HashMD$1 extends Hash$2{constructor(e,t,r,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView$2(this.buffer)}update(e){exists$2(this);const{view:t,buffer:r,blockLen:o}=this;e=toBytes$2(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(o-this.pos,a-c);if(u===o){const en=createView$2(e);for(;o<=a-c;c+=o)this.process(en,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists$2(this),output$2(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:a}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(r,0),c=0);for(let sn=c;sn<o;sn++)t[sn]=0;setBigUint64$2(r,o-8,BigInt(this.length*8),a),this.process(r,0);const u=createView$2(e),en=this.outputLen;if(en%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const tn=en/4,nn=this.get();if(tn>nn.length)throw new Error("_sha2: outputLen bigger than state");for(let sn=0;sn<tn;sn++)u.setUint32(4*sn,nn[sn],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:o,finished:a,destroyed:c,pos:u}=this;return e.length=o,e.pos=u,e.finished=a,e.destroyed=c,o%t&&e.buffer.set(r),e}}const U32_MASK64$2=BigInt(2**32-1),_32n$2=BigInt(32);function fromBig$2(n,e=!1){return e?{h:Number(n&U32_MASK64$2),l:Number(n>>_32n$2&U32_MASK64$2)}:{h:Number(n>>_32n$2&U32_MASK64$2)|0,l:Number(n&U32_MASK64$2)|0}}function split$2(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let o=0;o<n.length;o++){const{h:a,l:c}=fromBig$2(n[o],e);[t[o],r[o]]=[a,c]}return[t,r]}const toBig$2=(n,e)=>BigInt(n>>>0)<<_32n$2|BigInt(e>>>0),shrSH$2=(n,e,t)=>n>>>t,shrSL$2=(n,e,t)=>n<<32-t|e>>>t,rotrSH$2=(n,e,t)=>n>>>t|e<<32-t,rotrSL$2=(n,e,t)=>n<<32-t|e>>>t,rotrBH$2=(n,e,t)=>n<<64-t|e>>>t-32,rotrBL$2=(n,e,t)=>n>>>t-32|e<<64-t,rotr32H$2=(n,e)=>e,rotr32L$2=(n,e)=>n,rotlSH$2=(n,e,t)=>n<<t|e>>>32-t,rotlSL$2=(n,e,t)=>e<<t|n>>>32-t,rotlBH$2=(n,e,t)=>e<<t-32|n>>>64-t,rotlBL$2=(n,e,t)=>n<<t-32|e>>>64-t;function add$2(n,e,t,r){const o=(e>>>0)+(r>>>0);return{h:n+t+(o/2**32|0)|0,l:o|0}}const add3L$2=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),add3H$2=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,add4L$2=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),add4H$2=(n,e,t,r,o)=>e+t+r+o+(n/2**32|0)|0,add5L$2=(n,e,t,r,o)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(o>>>0),add5H$2=(n,e,t,r,o,a)=>e+t+r+o+a+(n/2**32|0)|0,u64$f={fromBig:fromBig$2,split:split$2,toBig:toBig$2,shrSH:shrSH$2,shrSL:shrSL$2,rotrSH:rotrSH$2,rotrSL:rotrSL$2,rotrBH:rotrBH$2,rotrBL:rotrBL$2,rotr32H:rotr32H$2,rotr32L:rotr32L$2,rotlSH:rotlSH$2,rotlSL:rotlSL$2,rotlBH:rotlBH$2,rotlBL:rotlBL$2,add:add$2,add3L:add3L$2,add3H:add3H$2,add4L:add4L$2,add4H:add4H$2,add5H:add5H$2,add5L:add5L$2};var u64$g=u64$f;const[SHA512_Kh$2,SHA512_Kl$2]=(()=>u64$g.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),SHA512_W_H$2=new Uint32Array(80),SHA512_W_L$2=new Uint32Array(80);class SHA512$2 extends HashMD$1{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:o,Ch:a,Cl:c,Dh:u,Dl:en,Eh:tn,El:nn,Fh:sn,Fl:fn,Gh:dn,Gl:hn,Hh:ln,Hl:pn}=this;return[e,t,r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn]}set(e,t,r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=o|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=en|0,this.Eh=tn|0,this.El=nn|0,this.Fh=sn|0,this.Fl=fn|0,this.Gh=dn|0,this.Gl=hn|0,this.Hh=ln|0,this.Hl=pn|0}process(e,t){for(let yn=0;yn<16;yn++,t+=4)SHA512_W_H$2[yn]=e.getUint32(t),SHA512_W_L$2[yn]=e.getUint32(t+=4);for(let yn=16;yn<80;yn++){const In=SHA512_W_H$2[yn-15]|0,An=SHA512_W_L$2[yn-15]|0,Tn=u64$g.rotrSH(In,An,1)^u64$g.rotrSH(In,An,8)^u64$g.shrSH(In,An,7),kn=u64$g.rotrSL(In,An,1)^u64$g.rotrSL(In,An,8)^u64$g.shrSL(In,An,7),Pn=SHA512_W_H$2[yn-2]|0,Dn=SHA512_W_L$2[yn-2]|0,Kn=u64$g.rotrSH(Pn,Dn,19)^u64$g.rotrBH(Pn,Dn,61)^u64$g.shrSH(Pn,Dn,6),Hn=u64$g.rotrSL(Pn,Dn,19)^u64$g.rotrBL(Pn,Dn,61)^u64$g.shrSL(Pn,Dn,6),jn=u64$g.add4L(kn,Hn,SHA512_W_L$2[yn-7],SHA512_W_L$2[yn-16]),Cn=u64$g.add4H(jn,Tn,Kn,SHA512_W_H$2[yn-7],SHA512_W_H$2[yn-16]);SHA512_W_H$2[yn]=Cn|0,SHA512_W_L$2[yn]=jn|0}let{Ah:r,Al:o,Bh:a,Bl:c,Ch:u,Cl:en,Dh:tn,Dl:nn,Eh:sn,El:fn,Fh:dn,Fl:hn,Gh:ln,Gl:pn,Hh:$n,Hl:Sn}=this;for(let yn=0;yn<80;yn++){const In=u64$g.rotrSH(sn,fn,14)^u64$g.rotrSH(sn,fn,18)^u64$g.rotrBH(sn,fn,41),An=u64$g.rotrSL(sn,fn,14)^u64$g.rotrSL(sn,fn,18)^u64$g.rotrBL(sn,fn,41),Tn=sn&dn^~sn&ln,kn=fn&hn^~fn&pn,Pn=u64$g.add5L(Sn,An,kn,SHA512_Kl$2[yn],SHA512_W_L$2[yn]),Dn=u64$g.add5H(Pn,$n,In,Tn,SHA512_Kh$2[yn],SHA512_W_H$2[yn]),Kn=Pn|0,Hn=u64$g.rotrSH(r,o,28)^u64$g.rotrBH(r,o,34)^u64$g.rotrBH(r,o,39),jn=u64$g.rotrSL(r,o,28)^u64$g.rotrBL(r,o,34)^u64$g.rotrBL(r,o,39),Cn=r&a^r&u^a&u,mn=o&c^o&en^c&en;$n=ln|0,Sn=pn|0,ln=dn|0,pn=hn|0,dn=sn|0,hn=fn|0,{h:sn,l:fn}=u64$g.add(tn|0,nn|0,Dn|0,Kn|0),tn=u|0,nn=en|0,u=a|0,en=c|0,a=r|0,c=o|0;const _n=u64$g.add3L(Kn,jn,mn);r=u64$g.add3H(_n,Dn,Hn,Cn),o=_n|0}({h:r,l:o}=u64$g.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:a,l:c}=u64$g.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:en}=u64$g.add(this.Ch|0,this.Cl|0,u|0,en|0),{h:tn,l:nn}=u64$g.add(this.Dh|0,this.Dl|0,tn|0,nn|0),{h:sn,l:fn}=u64$g.add(this.Eh|0,this.El|0,sn|0,fn|0),{h:dn,l:hn}=u64$g.add(this.Fh|0,this.Fl|0,dn|0,hn|0),{h:ln,l:pn}=u64$g.add(this.Gh|0,this.Gl|0,ln|0,pn|0),{h:$n,l:Sn}=u64$g.add(this.Hh|0,this.Hl|0,$n|0,Sn|0),this.set(r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn,$n,Sn)}roundClean(){SHA512_W_H$2.fill(0),SHA512_W_L$2.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$2=wrapConstructor$2(()=>new SHA512$2);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$f=BigInt(0),_1n$l=BigInt(1),_2n$f=BigInt(2);function isBytes$2(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function abytes$1(n){if(!isBytes$2(n))throw new Error("Uint8Array expected")}function abool$1(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const hexes$2=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function bytesToHex$2(n){abytes$1(n);let e="";for(let t=0;t<n.length;t++)e+=hexes$2[n[t]];return e}function numberToHexUnpadded$2(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function hexToNumber$2(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const asciis$1={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16$1(n){if(n>=asciis$1._0&&n<=asciis$1._9)return n-asciis$1._0;if(n>=asciis$1._A&&n<=asciis$1._F)return n-(asciis$1._A-10);if(n>=asciis$1._a&&n<=asciis$1._f)return n-(asciis$1._a-10)}function hexToBytes$2(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let o=0,a=0;o<t;o++,a+=2){const c=asciiToBase16$1(n.charCodeAt(a)),u=asciiToBase16$1(n.charCodeAt(a+1));if(c===void 0||u===void 0){const en=n[a]+n[a+1];throw new Error('hex string expected, got non-hex character "'+en+'" at index '+a)}r[o]=c*16+u}return r}function bytesToNumberBE$2(n){return hexToNumber$2(bytesToHex$2(n))}function bytesToNumberLE$2(n){return abytes$1(n),hexToNumber$2(bytesToHex$2(Uint8Array.from(n).reverse()))}function numberToBytesBE$2(n,e){return hexToBytes$2(n.toString(16).padStart(e*2,"0"))}function numberToBytesLE$2(n,e){return numberToBytesBE$2(n,e).reverse()}function numberToVarBytesBE$2(n){return hexToBytes$2(numberToHexUnpadded$2(n))}function ensureBytes$2(n,e,t){let r;if(typeof e=="string")try{r=hexToBytes$2(e)}catch(a){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${a}`)}else if(isBytes$2(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const o=r.length;if(typeof t=="number"&&o!==t)throw new Error(`${n} expected ${t} bytes, got ${o}`);return r}function concatBytes$4(...n){let e=0;for(let r=0;r<n.length;r++){const o=n[r];abytes$1(o),e+=o.length}const t=new Uint8Array(e);for(let r=0,o=0;r<n.length;r++){const a=n[r];t.set(a,o),o+=a.length}return t}function equalBytes$2(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function utf8ToBytes$4(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const isPosBig$1=n=>typeof n=="bigint"&&_0n$f<=n;function inRange$2(n,e,t){return isPosBig$1(n)&&isPosBig$1(e)&&isPosBig$1(t)&&e<=n&&n<t}function aInRange$1(n,e,t,r){if(!inRange$2(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function bitLen$2(n){let e;for(e=0;n>_0n$f;n>>=_1n$l,e+=1);return e}function bitGet$2(n,e){return n>>BigInt(e)&_1n$l}function bitSet$2(n,e,t){return n|(t?_1n$l:_0n$f)<<BigInt(e)}const bitMask$2=n=>(_2n$f<<BigInt(n-1))-_1n$l,u8n$2=n=>new Uint8Array(n),u8fr$2=n=>Uint8Array.from(n);function createHmacDrbg$2(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=u8n$2(n),o=u8n$2(n),a=0;const c=()=>{r.fill(1),o.fill(0),a=0},u=(...sn)=>t(o,r,...sn),en=(sn=u8n$2())=>{o=u(u8fr$2([0]),sn),r=u(),sn.length!==0&&(o=u(u8fr$2([1]),sn),r=u())},tn=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let sn=0;const fn=[];for(;sn<e;){r=u();const dn=r.slice();fn.push(dn),sn+=r.length}return concatBytes$4(...fn)};return(sn,fn)=>{c(),en(sn);let dn;for(;!(dn=fn(tn()));)en();return c(),dn}}const validatorFns$2={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||isBytes$2(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function validateObject$2(n,e,t={}){const r=(o,a,c)=>{const u=validatorFns$2[a];if(typeof u!="function")throw new Error(`Invalid validator "${a}", expected function`);const en=n[o];if(!(c&&en===void 0)&&!u(en,n))throw new Error(`Invalid param ${String(o)}=${en} (${typeof en}), expected ${a}`)};for(const[o,a]of Object.entries(e))r(o,a,!1);for(const[o,a]of Object.entries(t))r(o,a,!0);return n}const notImplemented$1=()=>{throw new Error("not implemented")};function memoized$1(n){const e=new WeakMap;return(t,...r)=>{const o=e.get(t);if(o!==void 0)return o;const a=n(t,...r);return e.set(t,a),a}}var ut$3=Object.freeze(Object.defineProperty({__proto__:null,isBytes:isBytes$2,abytes:abytes$1,abool:abool$1,bytesToHex:bytesToHex$2,numberToHexUnpadded:numberToHexUnpadded$2,hexToNumber:hexToNumber$2,hexToBytes:hexToBytes$2,bytesToNumberBE:bytesToNumberBE$2,bytesToNumberLE:bytesToNumberLE$2,numberToBytesBE:numberToBytesBE$2,numberToBytesLE:numberToBytesLE$2,numberToVarBytesBE:numberToVarBytesBE$2,ensureBytes:ensureBytes$2,concatBytes:concatBytes$4,equalBytes:equalBytes$2,utf8ToBytes:utf8ToBytes$4,inRange:inRange$2,aInRange:aInRange$1,bitLen:bitLen$2,bitGet:bitGet$2,bitSet:bitSet$2,bitMask:bitMask$2,createHmacDrbg:createHmacDrbg$2,validateObject:validateObject$2,notImplemented:notImplemented$1,memoized:memoized$1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$e=BigInt(0),_1n$k=BigInt(1),_2n$e=BigInt(2),_3n$5=BigInt(3),_4n$2=BigInt(4),_5n$5=BigInt(5),_8n$7=BigInt(8);BigInt(9);BigInt(16);function mod$2(n,e){const t=n%e;return t>=_0n$e?t:e+t}function pow$2(n,e,t){if(t<=_0n$e||e<_0n$e)throw new Error("Expected power/modulo > 0");if(t===_1n$k)return _0n$e;let r=_1n$k;for(;e>_0n$e;)e&_1n$k&&(r=r*n%t),n=n*n%t,e>>=_1n$k;return r}function pow2$2(n,e,t){let r=n;for(;e-- >_0n$e;)r*=r,r%=t;return r}function invert$2(n,e){if(n===_0n$e||e<=_0n$e)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=mod$2(n,e),r=e,o=_0n$e,a=_1n$k;for(;t!==_0n$e;){const u=r/t,en=r%t,tn=o-a*u;r=t,t=en,o=a,a=tn}if(r!==_1n$k)throw new Error("invert: does not exist");return mod$2(o,e)}function tonelliShanks$2(n){const e=(n-_1n$k)/_2n$e;let t,r,o;for(t=n-_1n$k,r=0;t%_2n$e===_0n$e;t/=_2n$e,r++);for(o=_2n$e;o<n&&pow$2(o,e,n)!==n-_1n$k;o++);if(r===1){const c=(n+_1n$k)/_4n$2;return function(en,tn){const nn=en.pow(tn,c);if(!en.eql(en.sqr(nn),tn))throw new Error("Cannot find square root");return nn}}const a=(t+_1n$k)/_2n$e;return function(u,en){if(u.pow(en,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let tn=r,nn=u.pow(u.mul(u.ONE,o),t),sn=u.pow(en,a),fn=u.pow(en,t);for(;!u.eql(fn,u.ONE);){if(u.eql(fn,u.ZERO))return u.ZERO;let dn=1;for(let ln=u.sqr(fn);dn<tn&&!u.eql(ln,u.ONE);dn++)ln=u.sqr(ln);const hn=u.pow(nn,_1n$k<<BigInt(tn-dn-1));nn=u.sqr(hn),sn=u.mul(sn,hn),fn=u.mul(fn,nn),tn=dn}return sn}}function FpSqrt$2(n){if(n%_4n$2===_3n$5){const e=(n+_1n$k)/_4n$2;return function(r,o){const a=r.pow(o,e);if(!r.eql(r.sqr(a),o))throw new Error("Cannot find square root");return a}}if(n%_8n$7===_5n$5){const e=(n-_5n$5)/_8n$7;return function(r,o){const a=r.mul(o,_2n$e),c=r.pow(a,e),u=r.mul(o,c),en=r.mul(r.mul(u,_2n$e),c),tn=r.mul(u,r.sub(en,r.ONE));if(!r.eql(r.sqr(tn),o))throw new Error("Cannot find square root");return tn}}return tonelliShanks$2(n)}const isNegativeLE$2=(n,e)=>(mod$2(n,e)&_1n$k)===_1n$k,FIELD_FIELDS$2=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$2(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=FIELD_FIELDS$2.reduce((r,o)=>(r[o]="function",r),e);return validateObject$2(n,t)}function FpPow$2(n,e,t){if(t<_0n$e)throw new Error("Expected power > 0");if(t===_0n$e)return n.ONE;if(t===_1n$k)return e;let r=n.ONE,o=e;for(;t>_0n$e;)t&_1n$k&&(r=n.mul(r,o)),o=n.sqr(o),t>>=_1n$k;return r}function FpInvertBatch$2(n,e){const t=new Array(e.length),r=e.reduce((a,c,u)=>n.is0(c)?a:(t[u]=a,n.mul(a,c)),n.ONE),o=n.inv(r);return e.reduceRight((a,c,u)=>n.is0(c)?a:(t[u]=n.mul(a,t[u]),n.mul(a,c)),o),t}function nLength$2(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Field$2(n,e,t=!1,r={}){if(n<=_0n$e)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:o,nByteLength:a}=nLength$2(n,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=FpSqrt$2(n),u=Object.freeze({ORDER:n,BITS:o,BYTES:a,MASK:bitMask$2(o),ZERO:_0n$e,ONE:_1n$k,create:en=>mod$2(en,n),isValid:en=>{if(typeof en!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof en}`);return _0n$e<=en&&en<n},is0:en=>en===_0n$e,isOdd:en=>(en&_1n$k)===_1n$k,neg:en=>mod$2(-en,n),eql:(en,tn)=>en===tn,sqr:en=>mod$2(en*en,n),add:(en,tn)=>mod$2(en+tn,n),sub:(en,tn)=>mod$2(en-tn,n),mul:(en,tn)=>mod$2(en*tn,n),pow:(en,tn)=>FpPow$2(u,en,tn),div:(en,tn)=>mod$2(en*invert$2(tn,n),n),sqrN:en=>en*en,addN:(en,tn)=>en+tn,subN:(en,tn)=>en-tn,mulN:(en,tn)=>en*tn,inv:en=>invert$2(en,n),sqrt:r.sqrt||(en=>c(u,en)),invertBatch:en=>FpInvertBatch$2(u,en),cmov:(en,tn,nn)=>nn?tn:en,toBytes:en=>t?numberToBytesLE$2(en,a):numberToBytesBE$2(en,a),fromBytes:en=>{if(en.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${en.length}`);return t?bytesToNumberLE$2(en):bytesToNumberBE$2(en)}});return Object.freeze(u)}function getFieldBytesLength$2(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function getMinHashLength$2(n){const e=getFieldBytesLength$2(n);return e+Math.ceil(e/2)}function mapHashToField$2(n,e,t=!1){const r=n.length,o=getFieldBytesLength$2(e),a=getMinHashLength$2(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const c=t?bytesToNumberBE$2(n):bytesToNumberLE$2(n),u=mod$2(c,e-_1n$k)+_1n$k;return t?numberToBytesLE$2(u,o):numberToBytesBE$2(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$d=BigInt(0),_1n$j=BigInt(1),pointPrecomputes$1=new WeakMap,pointWindowSizes$1=new WeakMap;function wNAF$2(n,e){const t=(a,c)=>{const u=c.negate();return a?u:c},r=a=>{if(!Number.isSafeInteger(a)||a<=0||a>e)throw new Error(`Wrong window size=${a}, should be [1..${e}]`)},o=a=>{r(a);const c=Math.ceil(e/a)+1,u=2**(a-1);return{windows:c,windowSize:u}};return{constTimeNegate:t,unsafeLadder(a,c){let u=n.ZERO,en=a;for(;c>_0n$d;)c&_1n$j&&(u=u.add(en)),en=en.double(),c>>=_1n$j;return u},precomputeWindow(a,c){const{windows:u,windowSize:en}=o(c),tn=[];let nn=a,sn=nn;for(let fn=0;fn<u;fn++){sn=nn,tn.push(sn);for(let dn=1;dn<en;dn++)sn=sn.add(nn),tn.push(sn);nn=sn.double()}return tn},wNAF(a,c,u){const{windows:en,windowSize:tn}=o(a);let nn=n.ZERO,sn=n.BASE;const fn=BigInt(2**a-1),dn=2**a,hn=BigInt(a);for(let ln=0;ln<en;ln++){const pn=ln*tn;let $n=Number(u&fn);u>>=hn,$n>tn&&($n-=dn,u+=_1n$j);const Sn=pn,yn=pn+Math.abs($n)-1,In=ln%2!==0,An=$n<0;$n===0?sn=sn.add(t(In,c[Sn])):nn=nn.add(t(An,c[yn]))}return{p:nn,f:sn}},wNAFCached(a,c,u){const en=pointWindowSizes$1.get(a)||1;let tn=pointPrecomputes$1.get(a);return tn||(tn=this.precomputeWindow(a,en),en!==1&&pointPrecomputes$1.set(a,u(tn))),this.wNAF(en,tn,c)},setWindowSize(a,c){r(c),pointWindowSizes$1.set(a,c),pointPrecomputes$1.delete(a)}}}function validateBasic$2(n){return validateField$2(n.Fp),validateObject$2(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$2(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$c=BigInt(0),_1n$i=BigInt(1),_2n$d=BigInt(2),_8n$6=BigInt(8),VERIFY_DEFAULT$2={zip215:!0};function validateOpts$5(n){const e=validateBasic$2(n);return validateObject$2(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function twistedEdwards$2(n){const e=validateOpts$5(n),{Fp:t,n:r,prehash:o,hash:a,randomBytes:c,nByteLength:u,h:en}=e,tn=_2n$d<<BigInt(u*8)-_1n$i,nn=t.create,sn=e.uvRatio||((_n,vn)=>{try{return{isValid:!0,value:t.sqrt(_n*t.inv(vn))}}catch{return{isValid:!1,value:_0n$c}}}),fn=e.adjustScalarBytes||(_n=>_n),dn=e.domain||((_n,vn,On)=>{if(abool$1("phflag",On),vn.length||On)throw new Error("Contexts/pre-hash are not supported");return _n});function hn(_n,vn){aInRange$1("coordinate "+_n,vn,_0n$c,tn)}function ln(_n){if(!(_n instanceof Sn))throw new Error("ExtendedPoint expected")}const pn=memoized$1((_n,vn)=>{const{ex:On,ey:Nn,ez:Un}=_n,zn=_n.is0();vn==null&&(vn=zn?_8n$6:t.inv(Un));const Bn=nn(On*vn),En=nn(Nn*vn),Mn=nn(Un*vn);if(zn)return{x:_0n$c,y:_1n$i};if(Mn!==_1n$i)throw new Error("invZ was invalid");return{x:Bn,y:En}}),$n=memoized$1(_n=>{const{a:vn,d:On}=e;if(_n.is0())throw new Error("bad point: ZERO");const{ex:Nn,ey:Un,ez:zn,et:Bn}=_n,En=nn(Nn*Nn),Mn=nn(Un*Un),Zn=nn(zn*zn),Sr=nn(Zn*Zn),$r=nn(En*vn),Xn=nn(Zn*nn($r+Mn)),br=nn(Sr+nn(On*nn(En*Mn)));if(Xn!==br)throw new Error("bad point: equation left != right (1)");const _r=nn(Nn*Un),kr=nn(zn*Bn);if(_r!==kr)throw new Error("bad point: equation left != right (2)");return!0});class Sn{constructor(vn,On,Nn,Un){this.ex=vn,this.ey=On,this.ez=Nn,this.et=Un,hn("x",vn),hn("y",On),hn("z",Nn),hn("t",Un),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(vn){if(vn instanceof Sn)throw new Error("extended point not allowed");const{x:On,y:Nn}=vn||{};return hn("x",On),hn("y",Nn),new Sn(On,Nn,_1n$i,nn(On*Nn))}static normalizeZ(vn){const On=t.invertBatch(vn.map(Nn=>Nn.ez));return vn.map((Nn,Un)=>Nn.toAffine(On[Un])).map(Sn.fromAffine)}_setWindowSize(vn){An.setWindowSize(this,vn)}assertValidity(){$n(this)}equals(vn){ln(vn);const{ex:On,ey:Nn,ez:Un}=this,{ex:zn,ey:Bn,ez:En}=vn,Mn=nn(On*En),Zn=nn(zn*Un),Sr=nn(Nn*En),$r=nn(Bn*Un);return Mn===Zn&&Sr===$r}is0(){return this.equals(Sn.ZERO)}negate(){return new Sn(nn(-this.ex),this.ey,this.ez,nn(-this.et))}double(){const{a:vn}=e,{ex:On,ey:Nn,ez:Un}=this,zn=nn(On*On),Bn=nn(Nn*Nn),En=nn(_2n$d*nn(Un*Un)),Mn=nn(vn*zn),Zn=On+Nn,Sr=nn(nn(Zn*Zn)-zn-Bn),$r=Mn+Bn,Xn=$r-En,br=Mn-Bn,_r=nn(Sr*Xn),kr=nn($r*br),Cr=nn(Sr*br),qn=nn(Xn*$r);return new Sn(_r,kr,qn,Cr)}add(vn){ln(vn);const{a:On,d:Nn}=e,{ex:Un,ey:zn,ez:Bn,et:En}=this,{ex:Mn,ey:Zn,ez:Sr,et:$r}=vn;if(On===BigInt(-1)){const Ar=nn((zn-Un)*(Zn+Mn)),Nr=nn((zn+Un)*(Zn-Mn)),vr=nn(Nr-Ar);if(vr===_0n$c)return this.double();const Hr=nn(Bn*_2n$d*$r),Dr=nn(En*_2n$d*Sr),jr=Dr+Hr,Vr=Nr+Ar,Yr=Dr-Hr,gn=nn(jr*vr),an=nn(Vr*Yr),cn=nn(jr*Yr),Rn=nn(vr*Vr);return new Sn(gn,an,Rn,cn)}const Xn=nn(Un*Mn),br=nn(zn*Zn),_r=nn(En*Nn*$r),kr=nn(Bn*Sr),Cr=nn((Un+zn)*(Mn+Zn)-Xn-br),qn=kr-_r,Jn=kr+_r,Qn=nn(br-On*Xn),Tr=nn(Cr*qn),Or=nn(Jn*Qn),Ir=nn(Cr*Qn),Kr=nn(qn*Jn);return new Sn(Tr,Or,Kr,Ir)}subtract(vn){return this.add(vn.negate())}wNAF(vn){return An.wNAFCached(this,vn,Sn.normalizeZ)}multiply(vn){const On=vn;aInRange$1("scalar",On,_1n$i,r);const{p:Nn,f:Un}=this.wNAF(On);return Sn.normalizeZ([Nn,Un])[0]}multiplyUnsafe(vn){const On=vn;return aInRange$1("scalar",On,_0n$c,r),On===_0n$c?In:this.equals(In)||On===_1n$i?this:this.equals(yn)?this.wNAF(On).p:An.unsafeLadder(this,On)}isSmallOrder(){return this.multiplyUnsafe(en).is0()}isTorsionFree(){return An.unsafeLadder(this,r).is0()}toAffine(vn){return pn(this,vn)}clearCofactor(){const{h:vn}=e;return vn===_1n$i?this:this.multiplyUnsafe(vn)}static fromHex(vn,On=!1){const{d:Nn,a:Un}=e,zn=t.BYTES;vn=ensureBytes$2("pointHex",vn,zn),abool$1("zip215",On);const Bn=vn.slice(),En=vn[zn-1];Bn[zn-1]=En&-129;const Mn=bytesToNumberLE$2(Bn),Zn=On?tn:t.ORDER;aInRange$1("pointHex.y",Mn,_0n$c,Zn);const Sr=nn(Mn*Mn),$r=nn(Sr-_1n$i),Xn=nn(Nn*Sr-Un);let{isValid:br,value:_r}=sn($r,Xn);if(!br)throw new Error("Point.fromHex: invalid y coordinate");const kr=(_r&_1n$i)===_1n$i,Cr=(En&128)!==0;if(!On&&_r===_0n$c&&Cr)throw new Error("Point.fromHex: x=0 and x_0=1");return Cr!==kr&&(_r=nn(-_r)),Sn.fromAffine({x:_r,y:Mn})}static fromPrivateKey(vn){return Pn(vn).point}toRawBytes(){const{x:vn,y:On}=this.toAffine(),Nn=numberToBytesLE$2(On,t.BYTES);return Nn[Nn.length-1]|=vn&_1n$i?128:0,Nn}toHex(){return bytesToHex$2(this.toRawBytes())}}Sn.BASE=new Sn(e.Gx,e.Gy,_1n$i,nn(e.Gx*e.Gy)),Sn.ZERO=new Sn(_0n$c,_1n$i,_1n$i,_0n$c);const{BASE:yn,ZERO:In}=Sn,An=wNAF$2(Sn,u*8);function Tn(_n){return mod$2(_n,r)}function kn(_n){return Tn(bytesToNumberLE$2(_n))}function Pn(_n){const vn=u;_n=ensureBytes$2("private key",_n,vn);const On=ensureBytes$2("hashed private key",a(_n),2*vn),Nn=fn(On.slice(0,vn)),Un=On.slice(vn,2*vn),zn=kn(Nn),Bn=yn.multiply(zn),En=Bn.toRawBytes();return{head:Nn,prefix:Un,scalar:zn,point:Bn,pointBytes:En}}function Dn(_n){return Pn(_n).pointBytes}function Kn(_n=new Uint8Array,...vn){const On=concatBytes$4(...vn);return kn(a(dn(On,ensureBytes$2("context",_n),!!o)))}function Hn(_n,vn,On={}){_n=ensureBytes$2("message",_n),o&&(_n=o(_n));const{prefix:Nn,scalar:Un,pointBytes:zn}=Pn(vn),Bn=Kn(On.context,Nn,_n),En=yn.multiply(Bn).toRawBytes(),Mn=Kn(On.context,En,zn,_n),Zn=Tn(Bn+Mn*Un);aInRange$1("signature.s",Zn,_0n$c,r);const Sr=concatBytes$4(En,numberToBytesLE$2(Zn,t.BYTES));return ensureBytes$2("result",Sr,u*2)}const jn=VERIFY_DEFAULT$2;function Cn(_n,vn,On,Nn=jn){const{context:Un,zip215:zn}=Nn,Bn=t.BYTES;_n=ensureBytes$2("signature",_n,2*Bn),vn=ensureBytes$2("message",vn),zn!==void 0&&abool$1("zip215",zn),o&&(vn=o(vn));const En=bytesToNumberLE$2(_n.slice(Bn,2*Bn));let Mn,Zn,Sr;try{Mn=Sn.fromHex(On,zn),Zn=Sn.fromHex(_n.slice(0,Bn),zn),Sr=yn.multiplyUnsafe(En)}catch{return!1}if(!zn&&Mn.isSmallOrder())return!1;const $r=Kn(Un,Zn.toRawBytes(),Mn.toRawBytes(),vn);return Zn.add(Mn.multiplyUnsafe($r)).subtract(Sr).clearCofactor().equals(Sn.ZERO)}return yn._setWindowSize(8),{CURVE:e,getPublicKey:Dn,sign:Hn,verify:Cn,ExtendedPoint:Sn,utils:{getExtendedPublicKey:Pn,randomPrivateKey:()=>c(t.BYTES),precompute(_n=8,vn=Sn.BASE){return vn._setWindowSize(_n),vn.multiply(BigInt(3)),vn}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P$2=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1$2=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$h=BigInt(1),_2n$c=BigInt(2);BigInt(3);const _5n$4=BigInt(5),_8n$5=BigInt(8);function ed25519_pow_2_252_3$2(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),o=BigInt(80),a=ED25519_P$2,u=n*n%a*n%a,en=pow2$2(u,_2n$c,a)*u%a,tn=pow2$2(en,_1n$h,a)*n%a,nn=pow2$2(tn,_5n$4,a)*tn%a,sn=pow2$2(nn,e,a)*nn%a,fn=pow2$2(sn,t,a)*sn%a,dn=pow2$2(fn,r,a)*fn%a,hn=pow2$2(dn,o,a)*dn%a,ln=pow2$2(hn,o,a)*dn%a,pn=pow2$2(ln,e,a)*nn%a;return{pow_p_5_8:pow2$2(pn,_2n$c,a)*n%a,b2:u}}function adjustScalarBytes$2(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function uvRatio$2(n,e){const t=ED25519_P$2,r=mod$2(e*e*e,t),o=mod$2(r*r*e,t),a=ed25519_pow_2_252_3$2(n*o).pow_p_5_8;let c=mod$2(n*r*a,t);const u=mod$2(e*c*c,t),en=c,tn=mod$2(c*ED25519_SQRT_M1$2,t),nn=u===n,sn=u===mod$2(-n,t),fn=u===mod$2(-n*ED25519_SQRT_M1$2,t);return nn&&(c=en),(sn||fn)&&(c=tn),isNegativeLE$2(c,t)&&(c=mod$2(-c,t)),{isValid:nn||sn,value:c}}const Fp$5=(()=>Field$2(ED25519_P$2,void 0,!0))(),ed25519Defaults$2=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Fp$5,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n$5,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512$2,randomBytes:randomBytes$2,adjustScalarBytes:adjustScalarBytes$2,uvRatio:uvRatio$2}))(),ed25519$2=(()=>twistedEdwards$2(ed25519Defaults$2))();var bn={exports:{}};(function(n){(function(e,t){function r(Cn,mn){if(!Cn)throw new Error(mn||"Assertion failed")}function o(Cn,mn){Cn.super_=mn;var _n=function(){};_n.prototype=mn.prototype,Cn.prototype=new _n,Cn.prototype.constructor=Cn}function a(Cn,mn,_n){if(a.isBN(Cn))return Cn;this.negative=0,this.words=null,this.length=0,this.red=null,Cn!==null&&((mn==="le"||mn==="be")&&(_n=mn,mn=10),this._init(Cn||0,mn||10,_n||"be"))}typeof e=="object"?e.exports=a:t.BN=a,a.BN=a,a.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=require("buffer").Buffer}catch{}a.isBN=function(mn){return mn instanceof a?!0:mn!==null&&typeof mn=="object"&&mn.constructor.wordSize===a.wordSize&&Array.isArray(mn.words)},a.max=function(mn,_n){return mn.cmp(_n)>0?mn:_n},a.min=function(mn,_n){return mn.cmp(_n)<0?mn:_n},a.prototype._init=function(mn,_n,vn){if(typeof mn=="number")return this._initNumber(mn,_n,vn);if(typeof mn=="object")return this._initArray(mn,_n,vn);_n==="hex"&&(_n=16),r(_n===(_n|0)&&_n>=2&&_n<=36),mn=mn.toString().replace(/\s+/g,"");var On=0;mn[0]==="-"&&(On++,this.negative=1),On<mn.length&&(_n===16?this._parseHex(mn,On,vn):(this._parseBase(mn,_n,On),vn==="le"&&this._initArray(this.toArray(),_n,vn)))},a.prototype._initNumber=function(mn,_n,vn){mn<0&&(this.negative=1,mn=-mn),mn<67108864?(this.words=[mn&67108863],this.length=1):mn<4503599627370496?(this.words=[mn&67108863,mn/67108864&67108863],this.length=2):(r(mn<9007199254740992),this.words=[mn&67108863,mn/67108864&67108863,1],this.length=3),vn==="le"&&this._initArray(this.toArray(),_n,vn)},a.prototype._initArray=function(mn,_n,vn){if(r(typeof mn.length=="number"),mn.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(mn.length/3),this.words=new Array(this.length);for(var On=0;On<this.length;On++)this.words[On]=0;var Nn,Un,zn=0;if(vn==="be")for(On=mn.length-1,Nn=0;On>=0;On-=3)Un=mn[On]|mn[On-1]<<8|mn[On-2]<<16,this.words[Nn]|=Un<<zn&67108863,this.words[Nn+1]=Un>>>26-zn&67108863,zn+=24,zn>=26&&(zn-=26,Nn++);else if(vn==="le")for(On=0,Nn=0;On<mn.length;On+=3)Un=mn[On]|mn[On+1]<<8|mn[On+2]<<16,this.words[Nn]|=Un<<zn&67108863,this.words[Nn+1]=Un>>>26-zn&67108863,zn+=24,zn>=26&&(zn-=26,Nn++);return this._strip()};function u(Cn,mn){var _n=Cn.charCodeAt(mn);if(_n>=48&&_n<=57)return _n-48;if(_n>=65&&_n<=70)return _n-55;if(_n>=97&&_n<=102)return _n-87;r(!1,"Invalid character in "+Cn)}function en(Cn,mn,_n){var vn=u(Cn,_n);return _n-1>=mn&&(vn|=u(Cn,_n-1)<<4),vn}a.prototype._parseHex=function(mn,_n,vn){this.length=Math.ceil((mn.length-_n)/6),this.words=new Array(this.length);for(var On=0;On<this.length;On++)this.words[On]=0;var Nn=0,Un=0,zn;if(vn==="be")for(On=mn.length-1;On>=_n;On-=2)zn=en(mn,_n,On)<<Nn,this.words[Un]|=zn&67108863,Nn>=18?(Nn-=18,Un+=1,this.words[Un]|=zn>>>26):Nn+=8;else{var Bn=mn.length-_n;for(On=Bn%2===0?_n+1:_n;On<mn.length;On+=2)zn=en(mn,_n,On)<<Nn,this.words[Un]|=zn&67108863,Nn>=18?(Nn-=18,Un+=1,this.words[Un]|=zn>>>26):Nn+=8}this._strip()};function tn(Cn,mn,_n,vn){for(var On=0,Nn=0,Un=Math.min(Cn.length,_n),zn=mn;zn<Un;zn++){var Bn=Cn.charCodeAt(zn)-48;On*=vn,Bn>=49?Nn=Bn-49+10:Bn>=17?Nn=Bn-17+10:Nn=Bn,r(Bn>=0&&Nn<vn,"Invalid character"),On+=Nn}return On}a.prototype._parseBase=function(mn,_n,vn){this.words=[0],this.length=1;for(var On=0,Nn=1;Nn<=67108863;Nn*=_n)On++;On--,Nn=Nn/_n|0;for(var Un=mn.length-vn,zn=Un%On,Bn=Math.min(Un,Un-zn)+vn,En=0,Mn=vn;Mn<Bn;Mn+=On)En=tn(mn,Mn,Mn+On,_n),this.imuln(Nn),this.words[0]+En<67108864?this.words[0]+=En:this._iaddn(En);if(zn!==0){var Zn=1;for(En=tn(mn,Mn,mn.length,_n),Mn=0;Mn<zn;Mn++)Zn*=_n;this.imuln(Zn),this.words[0]+En<67108864?this.words[0]+=En:this._iaddn(En)}this._strip()},a.prototype.copy=function(mn){mn.words=new Array(this.length);for(var _n=0;_n<this.length;_n++)mn.words[_n]=this.words[_n];mn.length=this.length,mn.negative=this.negative,mn.red=this.red};function nn(Cn,mn){Cn.words=mn.words,Cn.length=mn.length,Cn.negative=mn.negative,Cn.red=mn.red}if(a.prototype._move=function(mn){nn(mn,this)},a.prototype.clone=function(){var mn=new a(null);return this.copy(mn),mn},a.prototype._expand=function(mn){for(;this.length<mn;)this.words[this.length++]=0;return this},a.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{a.prototype[Symbol.for("nodejs.util.inspect.custom")]=sn}catch{a.prototype.inspect=sn}else a.prototype.inspect=sn;function sn(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var fn=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],dn=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],hn=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(mn,_n){mn=mn||10,_n=_n|0||1;var vn;if(mn===16||mn==="hex"){vn="";for(var On=0,Nn=0,Un=0;Un<this.length;Un++){var zn=this.words[Un],Bn=((zn<<On|Nn)&16777215).toString(16);Nn=zn>>>24-On&16777215,On+=2,On>=26&&(On-=26,Un--),Nn!==0||Un!==this.length-1?vn=fn[6-Bn.length]+Bn+vn:vn=Bn+vn}for(Nn!==0&&(vn=Nn.toString(16)+vn);vn.length%_n!==0;)vn="0"+vn;return this.negative!==0&&(vn="-"+vn),vn}if(mn===(mn|0)&&mn>=2&&mn<=36){var En=dn[mn],Mn=hn[mn];vn="";var Zn=this.clone();for(Zn.negative=0;!Zn.isZero();){var Sr=Zn.modrn(Mn).toString(mn);Zn=Zn.idivn(Mn),Zn.isZero()?vn=Sr+vn:vn=fn[En-Sr.length]+Sr+vn}for(this.isZero()&&(vn="0"+vn);vn.length%_n!==0;)vn="0"+vn;return this.negative!==0&&(vn="-"+vn),vn}r(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var mn=this.words[0];return this.length===2?mn+=this.words[1]*67108864:this.length===3&&this.words[2]===1?mn+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-mn:mn},a.prototype.toJSON=function(){return this.toString(16,2)},c&&(a.prototype.toBuffer=function(mn,_n){return this.toArrayLike(c,mn,_n)}),a.prototype.toArray=function(mn,_n){return this.toArrayLike(Array,mn,_n)};var ln=function(mn,_n){return mn.allocUnsafe?mn.allocUnsafe(_n):new mn(_n)};a.prototype.toArrayLike=function(mn,_n,vn){this._strip();var On=this.byteLength(),Nn=vn||Math.max(1,On);r(On<=Nn,"byte array longer than desired length"),r(Nn>0,"Requested array length <= 0");var Un=ln(mn,Nn),zn=_n==="le"?"LE":"BE";return this["_toArrayLike"+zn](Un,On),Un},a.prototype._toArrayLikeLE=function(mn,_n){for(var vn=0,On=0,Nn=0,Un=0;Nn<this.length;Nn++){var zn=this.words[Nn]<<Un|On;mn[vn++]=zn&255,vn<mn.length&&(mn[vn++]=zn>>8&255),vn<mn.length&&(mn[vn++]=zn>>16&255),Un===6?(vn<mn.length&&(mn[vn++]=zn>>24&255),On=0,Un=0):(On=zn>>>24,Un+=2)}if(vn<mn.length)for(mn[vn++]=On;vn<mn.length;)mn[vn++]=0},a.prototype._toArrayLikeBE=function(mn,_n){for(var vn=mn.length-1,On=0,Nn=0,Un=0;Nn<this.length;Nn++){var zn=this.words[Nn]<<Un|On;mn[vn--]=zn&255,vn>=0&&(mn[vn--]=zn>>8&255),vn>=0&&(mn[vn--]=zn>>16&255),Un===6?(vn>=0&&(mn[vn--]=zn>>24&255),On=0,Un=0):(On=zn>>>24,Un+=2)}if(vn>=0)for(mn[vn--]=On;vn>=0;)mn[vn--]=0},Math.clz32?a.prototype._countBits=function(mn){return 32-Math.clz32(mn)}:a.prototype._countBits=function(mn){var _n=mn,vn=0;return _n>=4096&&(vn+=13,_n>>>=13),_n>=64&&(vn+=7,_n>>>=7),_n>=8&&(vn+=4,_n>>>=4),_n>=2&&(vn+=2,_n>>>=2),vn+_n},a.prototype._zeroBits=function(mn){if(mn===0)return 26;var _n=mn,vn=0;return(_n&8191)===0&&(vn+=13,_n>>>=13),(_n&127)===0&&(vn+=7,_n>>>=7),(_n&15)===0&&(vn+=4,_n>>>=4),(_n&3)===0&&(vn+=2,_n>>>=2),(_n&1)===0&&vn++,vn},a.prototype.bitLength=function(){var mn=this.words[this.length-1],_n=this._countBits(mn);return(this.length-1)*26+_n};function pn(Cn){for(var mn=new Array(Cn.bitLength()),_n=0;_n<mn.length;_n++){var vn=_n/26|0,On=_n%26;mn[_n]=Cn.words[vn]>>>On&1}return mn}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var mn=0,_n=0;_n<this.length;_n++){var vn=this._zeroBits(this.words[_n]);if(mn+=vn,vn!==26)break}return mn},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(mn){return this.negative!==0?this.abs().inotn(mn).iaddn(1):this.clone()},a.prototype.fromTwos=function(mn){return this.testn(mn-1)?this.notn(mn).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(mn){for(;this.length<mn.length;)this.words[this.length++]=0;for(var _n=0;_n<mn.length;_n++)this.words[_n]=this.words[_n]|mn.words[_n];return this._strip()},a.prototype.ior=function(mn){return r((this.negative|mn.negative)===0),this.iuor(mn)},a.prototype.or=function(mn){return this.length>mn.length?this.clone().ior(mn):mn.clone().ior(this)},a.prototype.uor=function(mn){return this.length>mn.length?this.clone().iuor(mn):mn.clone().iuor(this)},a.prototype.iuand=function(mn){var _n;this.length>mn.length?_n=mn:_n=this;for(var vn=0;vn<_n.length;vn++)this.words[vn]=this.words[vn]&mn.words[vn];return this.length=_n.length,this._strip()},a.prototype.iand=function(mn){return r((this.negative|mn.negative)===0),this.iuand(mn)},a.prototype.and=function(mn){return this.length>mn.length?this.clone().iand(mn):mn.clone().iand(this)},a.prototype.uand=function(mn){return this.length>mn.length?this.clone().iuand(mn):mn.clone().iuand(this)},a.prototype.iuxor=function(mn){var _n,vn;this.length>mn.length?(_n=this,vn=mn):(_n=mn,vn=this);for(var On=0;On<vn.length;On++)this.words[On]=_n.words[On]^vn.words[On];if(this!==_n)for(;On<_n.length;On++)this.words[On]=_n.words[On];return this.length=_n.length,this._strip()},a.prototype.ixor=function(mn){return r((this.negative|mn.negative)===0),this.iuxor(mn)},a.prototype.xor=function(mn){return this.length>mn.length?this.clone().ixor(mn):mn.clone().ixor(this)},a.prototype.uxor=function(mn){return this.length>mn.length?this.clone().iuxor(mn):mn.clone().iuxor(this)},a.prototype.inotn=function(mn){r(typeof mn=="number"&&mn>=0);var _n=Math.ceil(mn/26)|0,vn=mn%26;this._expand(_n),vn>0&&_n--;for(var On=0;On<_n;On++)this.words[On]=~this.words[On]&67108863;return vn>0&&(this.words[On]=~this.words[On]&67108863>>26-vn),this._strip()},a.prototype.notn=function(mn){return this.clone().inotn(mn)},a.prototype.setn=function(mn,_n){r(typeof mn=="number"&&mn>=0);var vn=mn/26|0,On=mn%26;return this._expand(vn+1),_n?this.words[vn]=this.words[vn]|1<<On:this.words[vn]=this.words[vn]&~(1<<On),this._strip()},a.prototype.iadd=function(mn){var _n;if(this.negative!==0&&mn.negative===0)return this.negative=0,_n=this.isub(mn),this.negative^=1,this._normSign();if(this.negative===0&&mn.negative!==0)return mn.negative=0,_n=this.isub(mn),mn.negative=1,_n._normSign();var vn,On;this.length>mn.length?(vn=this,On=mn):(vn=mn,On=this);for(var Nn=0,Un=0;Un<On.length;Un++)_n=(vn.words[Un]|0)+(On.words[Un]|0)+Nn,this.words[Un]=_n&67108863,Nn=_n>>>26;for(;Nn!==0&&Un<vn.length;Un++)_n=(vn.words[Un]|0)+Nn,this.words[Un]=_n&67108863,Nn=_n>>>26;if(this.length=vn.length,Nn!==0)this.words[this.length]=Nn,this.length++;else if(vn!==this)for(;Un<vn.length;Un++)this.words[Un]=vn.words[Un];return this},a.prototype.add=function(mn){var _n;return mn.negative!==0&&this.negative===0?(mn.negative=0,_n=this.sub(mn),mn.negative^=1,_n):mn.negative===0&&this.negative!==0?(this.negative=0,_n=mn.sub(this),this.negative=1,_n):this.length>mn.length?this.clone().iadd(mn):mn.clone().iadd(this)},a.prototype.isub=function(mn){if(mn.negative!==0){mn.negative=0;var _n=this.iadd(mn);return mn.negative=1,_n._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(mn),this.negative=1,this._normSign();var vn=this.cmp(mn);if(vn===0)return this.negative=0,this.length=1,this.words[0]=0,this;var On,Nn;vn>0?(On=this,Nn=mn):(On=mn,Nn=this);for(var Un=0,zn=0;zn<Nn.length;zn++)_n=(On.words[zn]|0)-(Nn.words[zn]|0)+Un,Un=_n>>26,this.words[zn]=_n&67108863;for(;Un!==0&&zn<On.length;zn++)_n=(On.words[zn]|0)+Un,Un=_n>>26,this.words[zn]=_n&67108863;if(Un===0&&zn<On.length&&On!==this)for(;zn<On.length;zn++)this.words[zn]=On.words[zn];return this.length=Math.max(this.length,zn),On!==this&&(this.negative=1),this._strip()},a.prototype.sub=function(mn){return this.clone().isub(mn)};function $n(Cn,mn,_n){_n.negative=mn.negative^Cn.negative;var vn=Cn.length+mn.length|0;_n.length=vn,vn=vn-1|0;var On=Cn.words[0]|0,Nn=mn.words[0]|0,Un=On*Nn,zn=Un&67108863,Bn=Un/67108864|0;_n.words[0]=zn;for(var En=1;En<vn;En++){for(var Mn=Bn>>>26,Zn=Bn&67108863,Sr=Math.min(En,mn.length-1),$r=Math.max(0,En-Cn.length+1);$r<=Sr;$r++){var Xn=En-$r|0;On=Cn.words[Xn]|0,Nn=mn.words[$r]|0,Un=On*Nn+Zn,Mn+=Un/67108864|0,Zn=Un&67108863}_n.words[En]=Zn|0,Bn=Mn|0}return Bn!==0?_n.words[En]=Bn|0:_n.length--,_n._strip()}var Sn=function(mn,_n,vn){var On=mn.words,Nn=_n.words,Un=vn.words,zn=0,Bn,En,Mn,Zn=On[0]|0,Sr=Zn&8191,$r=Zn>>>13,Xn=On[1]|0,br=Xn&8191,_r=Xn>>>13,kr=On[2]|0,Cr=kr&8191,qn=kr>>>13,Jn=On[3]|0,Qn=Jn&8191,Tr=Jn>>>13,Or=On[4]|0,Ir=Or&8191,Kr=Or>>>13,Ar=On[5]|0,Nr=Ar&8191,vr=Ar>>>13,Hr=On[6]|0,Dr=Hr&8191,jr=Hr>>>13,Vr=On[7]|0,Yr=Vr&8191,gn=Vr>>>13,an=On[8]|0,cn=an&8191,Rn=an>>>13,Ln=On[9]|0,Fn=Ln&8191,Vn=Ln>>>13,xr=Nn[0]|0,Fr=xr&8191,Ur=xr>>>13,Gr=Nn[1]|0,zr=Gr&8191,Eo=Gr>>>13,zi=Nn[2]|0,_o=zi&8191,$o=zi>>>13,Hi=Nn[3]|0,To=Hi&8191,Ro=Hi>>>13,Wi=Nn[4]|0,So=Wi&8191,ko=Wi>>>13,ji=Nn[5]|0,vo=ji&8191,go=ji>>>13,Vi=Nn[6]|0,yo=Vi&8191,Io=Vi>>>13,Gi=Nn[7]|0,Po=Gi&8191,Co=Gi>>>13,qi=Nn[8]|0,Oo=qi&8191,xo=qi>>>13,Yi=Nn[9]|0,wo=Yi&8191,Bo=Yi>>>13;vn.negative=mn.negative^_n.negative,vn.length=19,Bn=Math.imul(Sr,Fr),En=Math.imul(Sr,Ur),En=En+Math.imul($r,Fr)|0,Mn=Math.imul($r,Ur);var pi=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(pi>>>26)|0,pi&=67108863,Bn=Math.imul(br,Fr),En=Math.imul(br,Ur),En=En+Math.imul(_r,Fr)|0,Mn=Math.imul(_r,Ur),Bn=Bn+Math.imul(Sr,zr)|0,En=En+Math.imul(Sr,Eo)|0,En=En+Math.imul($r,zr)|0,Mn=Mn+Math.imul($r,Eo)|0;var mi=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(mi>>>26)|0,mi&=67108863,Bn=Math.imul(Cr,Fr),En=Math.imul(Cr,Ur),En=En+Math.imul(qn,Fr)|0,Mn=Math.imul(qn,Ur),Bn=Bn+Math.imul(br,zr)|0,En=En+Math.imul(br,Eo)|0,En=En+Math.imul(_r,zr)|0,Mn=Mn+Math.imul(_r,Eo)|0,Bn=Bn+Math.imul(Sr,_o)|0,En=En+Math.imul(Sr,$o)|0,En=En+Math.imul($r,_o)|0,Mn=Mn+Math.imul($r,$o)|0;var gi=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(gi>>>26)|0,gi&=67108863,Bn=Math.imul(Qn,Fr),En=Math.imul(Qn,Ur),En=En+Math.imul(Tr,Fr)|0,Mn=Math.imul(Tr,Ur),Bn=Bn+Math.imul(Cr,zr)|0,En=En+Math.imul(Cr,Eo)|0,En=En+Math.imul(qn,zr)|0,Mn=Mn+Math.imul(qn,Eo)|0,Bn=Bn+Math.imul(br,_o)|0,En=En+Math.imul(br,$o)|0,En=En+Math.imul(_r,_o)|0,Mn=Mn+Math.imul(_r,$o)|0,Bn=Bn+Math.imul(Sr,To)|0,En=En+Math.imul(Sr,Ro)|0,En=En+Math.imul($r,To)|0,Mn=Mn+Math.imul($r,Ro)|0;var yi=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(yi>>>26)|0,yi&=67108863,Bn=Math.imul(Ir,Fr),En=Math.imul(Ir,Ur),En=En+Math.imul(Kr,Fr)|0,Mn=Math.imul(Kr,Ur),Bn=Bn+Math.imul(Qn,zr)|0,En=En+Math.imul(Qn,Eo)|0,En=En+Math.imul(Tr,zr)|0,Mn=Mn+Math.imul(Tr,Eo)|0,Bn=Bn+Math.imul(Cr,_o)|0,En=En+Math.imul(Cr,$o)|0,En=En+Math.imul(qn,_o)|0,Mn=Mn+Math.imul(qn,$o)|0,Bn=Bn+Math.imul(br,To)|0,En=En+Math.imul(br,Ro)|0,En=En+Math.imul(_r,To)|0,Mn=Mn+Math.imul(_r,Ro)|0,Bn=Bn+Math.imul(Sr,So)|0,En=En+Math.imul(Sr,ko)|0,En=En+Math.imul($r,So)|0,Mn=Mn+Math.imul($r,ko)|0;var bi=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(bi>>>26)|0,bi&=67108863,Bn=Math.imul(Nr,Fr),En=Math.imul(Nr,Ur),En=En+Math.imul(vr,Fr)|0,Mn=Math.imul(vr,Ur),Bn=Bn+Math.imul(Ir,zr)|0,En=En+Math.imul(Ir,Eo)|0,En=En+Math.imul(Kr,zr)|0,Mn=Mn+Math.imul(Kr,Eo)|0,Bn=Bn+Math.imul(Qn,_o)|0,En=En+Math.imul(Qn,$o)|0,En=En+Math.imul(Tr,_o)|0,Mn=Mn+Math.imul(Tr,$o)|0,Bn=Bn+Math.imul(Cr,To)|0,En=En+Math.imul(Cr,Ro)|0,En=En+Math.imul(qn,To)|0,Mn=Mn+Math.imul(qn,Ro)|0,Bn=Bn+Math.imul(br,So)|0,En=En+Math.imul(br,ko)|0,En=En+Math.imul(_r,So)|0,Mn=Mn+Math.imul(_r,ko)|0,Bn=Bn+Math.imul(Sr,vo)|0,En=En+Math.imul(Sr,go)|0,En=En+Math.imul($r,vo)|0,Mn=Mn+Math.imul($r,go)|0;var Ps=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Ps>>>26)|0,Ps&=67108863,Bn=Math.imul(Dr,Fr),En=Math.imul(Dr,Ur),En=En+Math.imul(jr,Fr)|0,Mn=Math.imul(jr,Ur),Bn=Bn+Math.imul(Nr,zr)|0,En=En+Math.imul(Nr,Eo)|0,En=En+Math.imul(vr,zr)|0,Mn=Mn+Math.imul(vr,Eo)|0,Bn=Bn+Math.imul(Ir,_o)|0,En=En+Math.imul(Ir,$o)|0,En=En+Math.imul(Kr,_o)|0,Mn=Mn+Math.imul(Kr,$o)|0,Bn=Bn+Math.imul(Qn,To)|0,En=En+Math.imul(Qn,Ro)|0,En=En+Math.imul(Tr,To)|0,Mn=Mn+Math.imul(Tr,Ro)|0,Bn=Bn+Math.imul(Cr,So)|0,En=En+Math.imul(Cr,ko)|0,En=En+Math.imul(qn,So)|0,Mn=Mn+Math.imul(qn,ko)|0,Bn=Bn+Math.imul(br,vo)|0,En=En+Math.imul(br,go)|0,En=En+Math.imul(_r,vo)|0,Mn=Mn+Math.imul(_r,go)|0,Bn=Bn+Math.imul(Sr,yo)|0,En=En+Math.imul(Sr,Io)|0,En=En+Math.imul($r,yo)|0,Mn=Mn+Math.imul($r,Io)|0;var _i=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(_i>>>26)|0,_i&=67108863,Bn=Math.imul(Yr,Fr),En=Math.imul(Yr,Ur),En=En+Math.imul(gn,Fr)|0,Mn=Math.imul(gn,Ur),Bn=Bn+Math.imul(Dr,zr)|0,En=En+Math.imul(Dr,Eo)|0,En=En+Math.imul(jr,zr)|0,Mn=Mn+Math.imul(jr,Eo)|0,Bn=Bn+Math.imul(Nr,_o)|0,En=En+Math.imul(Nr,$o)|0,En=En+Math.imul(vr,_o)|0,Mn=Mn+Math.imul(vr,$o)|0,Bn=Bn+Math.imul(Ir,To)|0,En=En+Math.imul(Ir,Ro)|0,En=En+Math.imul(Kr,To)|0,Mn=Mn+Math.imul(Kr,Ro)|0,Bn=Bn+Math.imul(Qn,So)|0,En=En+Math.imul(Qn,ko)|0,En=En+Math.imul(Tr,So)|0,Mn=Mn+Math.imul(Tr,ko)|0,Bn=Bn+Math.imul(Cr,vo)|0,En=En+Math.imul(Cr,go)|0,En=En+Math.imul(qn,vo)|0,Mn=Mn+Math.imul(qn,go)|0,Bn=Bn+Math.imul(br,yo)|0,En=En+Math.imul(br,Io)|0,En=En+Math.imul(_r,yo)|0,Mn=Mn+Math.imul(_r,Io)|0,Bn=Bn+Math.imul(Sr,Po)|0,En=En+Math.imul(Sr,Co)|0,En=En+Math.imul($r,Po)|0,Mn=Mn+Math.imul($r,Co)|0;var Cs=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Cs>>>26)|0,Cs&=67108863,Bn=Math.imul(cn,Fr),En=Math.imul(cn,Ur),En=En+Math.imul(Rn,Fr)|0,Mn=Math.imul(Rn,Ur),Bn=Bn+Math.imul(Yr,zr)|0,En=En+Math.imul(Yr,Eo)|0,En=En+Math.imul(gn,zr)|0,Mn=Mn+Math.imul(gn,Eo)|0,Bn=Bn+Math.imul(Dr,_o)|0,En=En+Math.imul(Dr,$o)|0,En=En+Math.imul(jr,_o)|0,Mn=Mn+Math.imul(jr,$o)|0,Bn=Bn+Math.imul(Nr,To)|0,En=En+Math.imul(Nr,Ro)|0,En=En+Math.imul(vr,To)|0,Mn=Mn+Math.imul(vr,Ro)|0,Bn=Bn+Math.imul(Ir,So)|0,En=En+Math.imul(Ir,ko)|0,En=En+Math.imul(Kr,So)|0,Mn=Mn+Math.imul(Kr,ko)|0,Bn=Bn+Math.imul(Qn,vo)|0,En=En+Math.imul(Qn,go)|0,En=En+Math.imul(Tr,vo)|0,Mn=Mn+Math.imul(Tr,go)|0,Bn=Bn+Math.imul(Cr,yo)|0,En=En+Math.imul(Cr,Io)|0,En=En+Math.imul(qn,yo)|0,Mn=Mn+Math.imul(qn,Io)|0,Bn=Bn+Math.imul(br,Po)|0,En=En+Math.imul(br,Co)|0,En=En+Math.imul(_r,Po)|0,Mn=Mn+Math.imul(_r,Co)|0,Bn=Bn+Math.imul(Sr,Oo)|0,En=En+Math.imul(Sr,xo)|0,En=En+Math.imul($r,Oo)|0,Mn=Mn+Math.imul($r,xo)|0;var $i=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+($i>>>26)|0,$i&=67108863,Bn=Math.imul(Fn,Fr),En=Math.imul(Fn,Ur),En=En+Math.imul(Vn,Fr)|0,Mn=Math.imul(Vn,Ur),Bn=Bn+Math.imul(cn,zr)|0,En=En+Math.imul(cn,Eo)|0,En=En+Math.imul(Rn,zr)|0,Mn=Mn+Math.imul(Rn,Eo)|0,Bn=Bn+Math.imul(Yr,_o)|0,En=En+Math.imul(Yr,$o)|0,En=En+Math.imul(gn,_o)|0,Mn=Mn+Math.imul(gn,$o)|0,Bn=Bn+Math.imul(Dr,To)|0,En=En+Math.imul(Dr,Ro)|0,En=En+Math.imul(jr,To)|0,Mn=Mn+Math.imul(jr,Ro)|0,Bn=Bn+Math.imul(Nr,So)|0,En=En+Math.imul(Nr,ko)|0,En=En+Math.imul(vr,So)|0,Mn=Mn+Math.imul(vr,ko)|0,Bn=Bn+Math.imul(Ir,vo)|0,En=En+Math.imul(Ir,go)|0,En=En+Math.imul(Kr,vo)|0,Mn=Mn+Math.imul(Kr,go)|0,Bn=Bn+Math.imul(Qn,yo)|0,En=En+Math.imul(Qn,Io)|0,En=En+Math.imul(Tr,yo)|0,Mn=Mn+Math.imul(Tr,Io)|0,Bn=Bn+Math.imul(Cr,Po)|0,En=En+Math.imul(Cr,Co)|0,En=En+Math.imul(qn,Po)|0,Mn=Mn+Math.imul(qn,Co)|0,Bn=Bn+Math.imul(br,Oo)|0,En=En+Math.imul(br,xo)|0,En=En+Math.imul(_r,Oo)|0,Mn=Mn+Math.imul(_r,xo)|0,Bn=Bn+Math.imul(Sr,wo)|0,En=En+Math.imul(Sr,Bo)|0,En=En+Math.imul($r,wo)|0,Mn=Mn+Math.imul($r,Bo)|0;var Si=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Si>>>26)|0,Si&=67108863,Bn=Math.imul(Fn,zr),En=Math.imul(Fn,Eo),En=En+Math.imul(Vn,zr)|0,Mn=Math.imul(Vn,Eo),Bn=Bn+Math.imul(cn,_o)|0,En=En+Math.imul(cn,$o)|0,En=En+Math.imul(Rn,_o)|0,Mn=Mn+Math.imul(Rn,$o)|0,Bn=Bn+Math.imul(Yr,To)|0,En=En+Math.imul(Yr,Ro)|0,En=En+Math.imul(gn,To)|0,Mn=Mn+Math.imul(gn,Ro)|0,Bn=Bn+Math.imul(Dr,So)|0,En=En+Math.imul(Dr,ko)|0,En=En+Math.imul(jr,So)|0,Mn=Mn+Math.imul(jr,ko)|0,Bn=Bn+Math.imul(Nr,vo)|0,En=En+Math.imul(Nr,go)|0,En=En+Math.imul(vr,vo)|0,Mn=Mn+Math.imul(vr,go)|0,Bn=Bn+Math.imul(Ir,yo)|0,En=En+Math.imul(Ir,Io)|0,En=En+Math.imul(Kr,yo)|0,Mn=Mn+Math.imul(Kr,Io)|0,Bn=Bn+Math.imul(Qn,Po)|0,En=En+Math.imul(Qn,Co)|0,En=En+Math.imul(Tr,Po)|0,Mn=Mn+Math.imul(Tr,Co)|0,Bn=Bn+Math.imul(Cr,Oo)|0,En=En+Math.imul(Cr,xo)|0,En=En+Math.imul(qn,Oo)|0,Mn=Mn+Math.imul(qn,xo)|0,Bn=Bn+Math.imul(br,wo)|0,En=En+Math.imul(br,Bo)|0,En=En+Math.imul(_r,wo)|0,Mn=Mn+Math.imul(_r,Bo)|0;var wi=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(wi>>>26)|0,wi&=67108863,Bn=Math.imul(Fn,_o),En=Math.imul(Fn,$o),En=En+Math.imul(Vn,_o)|0,Mn=Math.imul(Vn,$o),Bn=Bn+Math.imul(cn,To)|0,En=En+Math.imul(cn,Ro)|0,En=En+Math.imul(Rn,To)|0,Mn=Mn+Math.imul(Rn,Ro)|0,Bn=Bn+Math.imul(Yr,So)|0,En=En+Math.imul(Yr,ko)|0,En=En+Math.imul(gn,So)|0,Mn=Mn+Math.imul(gn,ko)|0,Bn=Bn+Math.imul(Dr,vo)|0,En=En+Math.imul(Dr,go)|0,En=En+Math.imul(jr,vo)|0,Mn=Mn+Math.imul(jr,go)|0,Bn=Bn+Math.imul(Nr,yo)|0,En=En+Math.imul(Nr,Io)|0,En=En+Math.imul(vr,yo)|0,Mn=Mn+Math.imul(vr,Io)|0,Bn=Bn+Math.imul(Ir,Po)|0,En=En+Math.imul(Ir,Co)|0,En=En+Math.imul(Kr,Po)|0,Mn=Mn+Math.imul(Kr,Co)|0,Bn=Bn+Math.imul(Qn,Oo)|0,En=En+Math.imul(Qn,xo)|0,En=En+Math.imul(Tr,Oo)|0,Mn=Mn+Math.imul(Tr,xo)|0,Bn=Bn+Math.imul(Cr,wo)|0,En=En+Math.imul(Cr,Bo)|0,En=En+Math.imul(qn,wo)|0,Mn=Mn+Math.imul(qn,Bo)|0;var Zs=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Zs>>>26)|0,Zs&=67108863,Bn=Math.imul(Fn,To),En=Math.imul(Fn,Ro),En=En+Math.imul(Vn,To)|0,Mn=Math.imul(Vn,Ro),Bn=Bn+Math.imul(cn,So)|0,En=En+Math.imul(cn,ko)|0,En=En+Math.imul(Rn,So)|0,Mn=Mn+Math.imul(Rn,ko)|0,Bn=Bn+Math.imul(Yr,vo)|0,En=En+Math.imul(Yr,go)|0,En=En+Math.imul(gn,vo)|0,Mn=Mn+Math.imul(gn,go)|0,Bn=Bn+Math.imul(Dr,yo)|0,En=En+Math.imul(Dr,Io)|0,En=En+Math.imul(jr,yo)|0,Mn=Mn+Math.imul(jr,Io)|0,Bn=Bn+Math.imul(Nr,Po)|0,En=En+Math.imul(Nr,Co)|0,En=En+Math.imul(vr,Po)|0,Mn=Mn+Math.imul(vr,Co)|0,Bn=Bn+Math.imul(Ir,Oo)|0,En=En+Math.imul(Ir,xo)|0,En=En+Math.imul(Kr,Oo)|0,Mn=Mn+Math.imul(Kr,xo)|0,Bn=Bn+Math.imul(Qn,wo)|0,En=En+Math.imul(Qn,Bo)|0,En=En+Math.imul(Tr,wo)|0,Mn=Mn+Math.imul(Tr,Bo)|0;var Js=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Js>>>26)|0,Js&=67108863,Bn=Math.imul(Fn,So),En=Math.imul(Fn,ko),En=En+Math.imul(Vn,So)|0,Mn=Math.imul(Vn,ko),Bn=Bn+Math.imul(cn,vo)|0,En=En+Math.imul(cn,go)|0,En=En+Math.imul(Rn,vo)|0,Mn=Mn+Math.imul(Rn,go)|0,Bn=Bn+Math.imul(Yr,yo)|0,En=En+Math.imul(Yr,Io)|0,En=En+Math.imul(gn,yo)|0,Mn=Mn+Math.imul(gn,Io)|0,Bn=Bn+Math.imul(Dr,Po)|0,En=En+Math.imul(Dr,Co)|0,En=En+Math.imul(jr,Po)|0,Mn=Mn+Math.imul(jr,Co)|0,Bn=Bn+Math.imul(Nr,Oo)|0,En=En+Math.imul(Nr,xo)|0,En=En+Math.imul(vr,Oo)|0,Mn=Mn+Math.imul(vr,xo)|0,Bn=Bn+Math.imul(Ir,wo)|0,En=En+Math.imul(Ir,Bo)|0,En=En+Math.imul(Kr,wo)|0,Mn=Mn+Math.imul(Kr,Bo)|0;var Xs=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Xs>>>26)|0,Xs&=67108863,Bn=Math.imul(Fn,vo),En=Math.imul(Fn,go),En=En+Math.imul(Vn,vo)|0,Mn=Math.imul(Vn,go),Bn=Bn+Math.imul(cn,yo)|0,En=En+Math.imul(cn,Io)|0,En=En+Math.imul(Rn,yo)|0,Mn=Mn+Math.imul(Rn,Io)|0,Bn=Bn+Math.imul(Yr,Po)|0,En=En+Math.imul(Yr,Co)|0,En=En+Math.imul(gn,Po)|0,Mn=Mn+Math.imul(gn,Co)|0,Bn=Bn+Math.imul(Dr,Oo)|0,En=En+Math.imul(Dr,xo)|0,En=En+Math.imul(jr,Oo)|0,Mn=Mn+Math.imul(jr,xo)|0,Bn=Bn+Math.imul(Nr,wo)|0,En=En+Math.imul(Nr,Bo)|0,En=En+Math.imul(vr,wo)|0,Mn=Mn+Math.imul(vr,Bo)|0;var Ai=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,Bn=Math.imul(Fn,yo),En=Math.imul(Fn,Io),En=En+Math.imul(Vn,yo)|0,Mn=Math.imul(Vn,Io),Bn=Bn+Math.imul(cn,Po)|0,En=En+Math.imul(cn,Co)|0,En=En+Math.imul(Rn,Po)|0,Mn=Mn+Math.imul(Rn,Co)|0,Bn=Bn+Math.imul(Yr,Oo)|0,En=En+Math.imul(Yr,xo)|0,En=En+Math.imul(gn,Oo)|0,Mn=Mn+Math.imul(gn,xo)|0,Bn=Bn+Math.imul(Dr,wo)|0,En=En+Math.imul(Dr,Bo)|0,En=En+Math.imul(jr,wo)|0,Mn=Mn+Math.imul(jr,Bo)|0;var Ei=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Ei>>>26)|0,Ei&=67108863,Bn=Math.imul(Fn,Po),En=Math.imul(Fn,Co),En=En+Math.imul(Vn,Po)|0,Mn=Math.imul(Vn,Co),Bn=Bn+Math.imul(cn,Oo)|0,En=En+Math.imul(cn,xo)|0,En=En+Math.imul(Rn,Oo)|0,Mn=Mn+Math.imul(Rn,xo)|0,Bn=Bn+Math.imul(Yr,wo)|0,En=En+Math.imul(Yr,Bo)|0,En=En+Math.imul(gn,wo)|0,Mn=Mn+Math.imul(gn,Bo)|0;var Ti=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Ti>>>26)|0,Ti&=67108863,Bn=Math.imul(Fn,Oo),En=Math.imul(Fn,xo),En=En+Math.imul(Vn,Oo)|0,Mn=Math.imul(Vn,xo),Bn=Bn+Math.imul(cn,wo)|0,En=En+Math.imul(cn,Bo)|0,En=En+Math.imul(Rn,wo)|0,Mn=Mn+Math.imul(Rn,Bo)|0;var Ri=(zn+Bn|0)+((En&8191)<<13)|0;zn=(Mn+(En>>>13)|0)+(Ri>>>26)|0,Ri&=67108863,Bn=Math.imul(Fn,wo),En=Math.imul(Fn,Bo),En=En+Math.imul(Vn,wo)|0,Mn=Math.imul(Vn,Bo);var Qs=(zn+Bn|0)+((En&8191)<<13)|0;return zn=(Mn+(En>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,Un[0]=pi,Un[1]=mi,Un[2]=gi,Un[3]=yi,Un[4]=bi,Un[5]=Ps,Un[6]=_i,Un[7]=Cs,Un[8]=$i,Un[9]=Si,Un[10]=wi,Un[11]=Zs,Un[12]=Js,Un[13]=Xs,Un[14]=Ai,Un[15]=Ei,Un[16]=Ti,Un[17]=Ri,Un[18]=Qs,zn!==0&&(Un[19]=zn,vn.length++),vn};Math.imul||(Sn=$n);function yn(Cn,mn,_n){_n.negative=mn.negative^Cn.negative,_n.length=Cn.length+mn.length;for(var vn=0,On=0,Nn=0;Nn<_n.length-1;Nn++){var Un=On;On=0;for(var zn=vn&67108863,Bn=Math.min(Nn,mn.length-1),En=Math.max(0,Nn-Cn.length+1);En<=Bn;En++){var Mn=Nn-En,Zn=Cn.words[Mn]|0,Sr=mn.words[En]|0,$r=Zn*Sr,Xn=$r&67108863;Un=Un+($r/67108864|0)|0,Xn=Xn+zn|0,zn=Xn&67108863,Un=Un+(Xn>>>26)|0,On+=Un>>>26,Un&=67108863}_n.words[Nn]=zn,vn=Un,Un=On}return vn!==0?_n.words[Nn]=vn:_n.length--,_n._strip()}function In(Cn,mn,_n){return yn(Cn,mn,_n)}a.prototype.mulTo=function(mn,_n){var vn,On=this.length+mn.length;return this.length===10&&mn.length===10?vn=Sn(this,mn,_n):On<63?vn=$n(this,mn,_n):On<1024?vn=yn(this,mn,_n):vn=In(this,mn,_n),vn},a.prototype.mul=function(mn){var _n=new a(null);return _n.words=new Array(this.length+mn.length),this.mulTo(mn,_n)},a.prototype.mulf=function(mn){var _n=new a(null);return _n.words=new Array(this.length+mn.length),In(this,mn,_n)},a.prototype.imul=function(mn){return this.clone().mulTo(mn,this)},a.prototype.imuln=function(mn){var _n=mn<0;_n&&(mn=-mn),r(typeof mn=="number"),r(mn<67108864);for(var vn=0,On=0;On<this.length;On++){var Nn=(this.words[On]|0)*mn,Un=(Nn&67108863)+(vn&67108863);vn>>=26,vn+=Nn/67108864|0,vn+=Un>>>26,this.words[On]=Un&67108863}return vn!==0&&(this.words[On]=vn,this.length++),_n?this.ineg():this},a.prototype.muln=function(mn){return this.clone().imuln(mn)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(mn){var _n=pn(mn);if(_n.length===0)return new a(1);for(var vn=this,On=0;On<_n.length&&_n[On]===0;On++,vn=vn.sqr());if(++On<_n.length)for(var Nn=vn.sqr();On<_n.length;On++,Nn=Nn.sqr())_n[On]!==0&&(vn=vn.mul(Nn));return vn},a.prototype.iushln=function(mn){r(typeof mn=="number"&&mn>=0);var _n=mn%26,vn=(mn-_n)/26,On=67108863>>>26-_n<<26-_n,Nn;if(_n!==0){var Un=0;for(Nn=0;Nn<this.length;Nn++){var zn=this.words[Nn]&On,Bn=(this.words[Nn]|0)-zn<<_n;this.words[Nn]=Bn|Un,Un=zn>>>26-_n}Un&&(this.words[Nn]=Un,this.length++)}if(vn!==0){for(Nn=this.length-1;Nn>=0;Nn--)this.words[Nn+vn]=this.words[Nn];for(Nn=0;Nn<vn;Nn++)this.words[Nn]=0;this.length+=vn}return this._strip()},a.prototype.ishln=function(mn){return r(this.negative===0),this.iushln(mn)},a.prototype.iushrn=function(mn,_n,vn){r(typeof mn=="number"&&mn>=0);var On;_n?On=(_n-_n%26)/26:On=0;var Nn=mn%26,Un=Math.min((mn-Nn)/26,this.length),zn=67108863^67108863>>>Nn<<Nn,Bn=vn;if(On-=Un,On=Math.max(0,On),Bn){for(var En=0;En<Un;En++)Bn.words[En]=this.words[En];Bn.length=Un}if(Un!==0)if(this.length>Un)for(this.length-=Un,En=0;En<this.length;En++)this.words[En]=this.words[En+Un];else this.words[0]=0,this.length=1;var Mn=0;for(En=this.length-1;En>=0&&(Mn!==0||En>=On);En--){var Zn=this.words[En]|0;this.words[En]=Mn<<26-Nn|Zn>>>Nn,Mn=Zn&zn}return Bn&&Mn!==0&&(Bn.words[Bn.length++]=Mn),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},a.prototype.ishrn=function(mn,_n,vn){return r(this.negative===0),this.iushrn(mn,_n,vn)},a.prototype.shln=function(mn){return this.clone().ishln(mn)},a.prototype.ushln=function(mn){return this.clone().iushln(mn)},a.prototype.shrn=function(mn){return this.clone().ishrn(mn)},a.prototype.ushrn=function(mn){return this.clone().iushrn(mn)},a.prototype.testn=function(mn){r(typeof mn=="number"&&mn>=0);var _n=mn%26,vn=(mn-_n)/26,On=1<<_n;if(this.length<=vn)return!1;var Nn=this.words[vn];return!!(Nn&On)},a.prototype.imaskn=function(mn){r(typeof mn=="number"&&mn>=0);var _n=mn%26,vn=(mn-_n)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=vn)return this;if(_n!==0&&vn++,this.length=Math.min(vn,this.length),_n!==0){var On=67108863^67108863>>>_n<<_n;this.words[this.length-1]&=On}return this._strip()},a.prototype.maskn=function(mn){return this.clone().imaskn(mn)},a.prototype.iaddn=function(mn){return r(typeof mn=="number"),r(mn<67108864),mn<0?this.isubn(-mn):this.negative!==0?this.length===1&&(this.words[0]|0)<=mn?(this.words[0]=mn-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(mn),this.negative=1,this):this._iaddn(mn)},a.prototype._iaddn=function(mn){this.words[0]+=mn;for(var _n=0;_n<this.length&&this.words[_n]>=67108864;_n++)this.words[_n]-=67108864,_n===this.length-1?this.words[_n+1]=1:this.words[_n+1]++;return this.length=Math.max(this.length,_n+1),this},a.prototype.isubn=function(mn){if(r(typeof mn=="number"),r(mn<67108864),mn<0)return this.iaddn(-mn);if(this.negative!==0)return this.negative=0,this.iaddn(mn),this.negative=1,this;if(this.words[0]-=mn,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _n=0;_n<this.length&&this.words[_n]<0;_n++)this.words[_n]+=67108864,this.words[_n+1]-=1;return this._strip()},a.prototype.addn=function(mn){return this.clone().iaddn(mn)},a.prototype.subn=function(mn){return this.clone().isubn(mn)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(mn,_n,vn){var On=mn.length+vn,Nn;this._expand(On);var Un,zn=0;for(Nn=0;Nn<mn.length;Nn++){Un=(this.words[Nn+vn]|0)+zn;var Bn=(mn.words[Nn]|0)*_n;Un-=Bn&67108863,zn=(Un>>26)-(Bn/67108864|0),this.words[Nn+vn]=Un&67108863}for(;Nn<this.length-vn;Nn++)Un=(this.words[Nn+vn]|0)+zn,zn=Un>>26,this.words[Nn+vn]=Un&67108863;if(zn===0)return this._strip();for(r(zn===-1),zn=0,Nn=0;Nn<this.length;Nn++)Un=-(this.words[Nn]|0)+zn,zn=Un>>26,this.words[Nn]=Un&67108863;return this.negative=1,this._strip()},a.prototype._wordDiv=function(mn,_n){var vn=this.length-mn.length,On=this.clone(),Nn=mn,Un=Nn.words[Nn.length-1]|0,zn=this._countBits(Un);vn=26-zn,vn!==0&&(Nn=Nn.ushln(vn),On.iushln(vn),Un=Nn.words[Nn.length-1]|0);var Bn=On.length-Nn.length,En;if(_n!=="mod"){En=new a(null),En.length=Bn+1,En.words=new Array(En.length);for(var Mn=0;Mn<En.length;Mn++)En.words[Mn]=0}var Zn=On.clone()._ishlnsubmul(Nn,1,Bn);Zn.negative===0&&(On=Zn,En&&(En.words[Bn]=1));for(var Sr=Bn-1;Sr>=0;Sr--){var $r=(On.words[Nn.length+Sr]|0)*67108864+(On.words[Nn.length+Sr-1]|0);for($r=Math.min($r/Un|0,67108863),On._ishlnsubmul(Nn,$r,Sr);On.negative!==0;)$r--,On.negative=0,On._ishlnsubmul(Nn,1,Sr),On.isZero()||(On.negative^=1);En&&(En.words[Sr]=$r)}return En&&En._strip(),On._strip(),_n!=="div"&&vn!==0&&On.iushrn(vn),{div:En||null,mod:On}},a.prototype.divmod=function(mn,_n,vn){if(r(!mn.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var On,Nn,Un;return this.negative!==0&&mn.negative===0?(Un=this.neg().divmod(mn,_n),_n!=="mod"&&(On=Un.div.neg()),_n!=="div"&&(Nn=Un.mod.neg(),vn&&Nn.negative!==0&&Nn.iadd(mn)),{div:On,mod:Nn}):this.negative===0&&mn.negative!==0?(Un=this.divmod(mn.neg(),_n),_n!=="mod"&&(On=Un.div.neg()),{div:On,mod:Un.mod}):(this.negative&mn.negative)!==0?(Un=this.neg().divmod(mn.neg(),_n),_n!=="div"&&(Nn=Un.mod.neg(),vn&&Nn.negative!==0&&Nn.isub(mn)),{div:Un.div,mod:Nn}):mn.length>this.length||this.cmp(mn)<0?{div:new a(0),mod:this}:mn.length===1?_n==="div"?{div:this.divn(mn.words[0]),mod:null}:_n==="mod"?{div:null,mod:new a(this.modrn(mn.words[0]))}:{div:this.divn(mn.words[0]),mod:new a(this.modrn(mn.words[0]))}:this._wordDiv(mn,_n)},a.prototype.div=function(mn){return this.divmod(mn,"div",!1).div},a.prototype.mod=function(mn){return this.divmod(mn,"mod",!1).mod},a.prototype.umod=function(mn){return this.divmod(mn,"mod",!0).mod},a.prototype.divRound=function(mn){var _n=this.divmod(mn);if(_n.mod.isZero())return _n.div;var vn=_n.div.negative!==0?_n.mod.isub(mn):_n.mod,On=mn.ushrn(1),Nn=mn.andln(1),Un=vn.cmp(On);return Un<0||Nn===1&&Un===0?_n.div:_n.div.negative!==0?_n.div.isubn(1):_n.div.iaddn(1)},a.prototype.modrn=function(mn){var _n=mn<0;_n&&(mn=-mn),r(mn<=67108863);for(var vn=(1<<26)%mn,On=0,Nn=this.length-1;Nn>=0;Nn--)On=(vn*On+(this.words[Nn]|0))%mn;return _n?-On:On},a.prototype.modn=function(mn){return this.modrn(mn)},a.prototype.idivn=function(mn){var _n=mn<0;_n&&(mn=-mn),r(mn<=67108863);for(var vn=0,On=this.length-1;On>=0;On--){var Nn=(this.words[On]|0)+vn*67108864;this.words[On]=Nn/mn|0,vn=Nn%mn}return this._strip(),_n?this.ineg():this},a.prototype.divn=function(mn){return this.clone().idivn(mn)},a.prototype.egcd=function(mn){r(mn.negative===0),r(!mn.isZero());var _n=this,vn=mn.clone();_n.negative!==0?_n=_n.umod(mn):_n=_n.clone();for(var On=new a(1),Nn=new a(0),Un=new a(0),zn=new a(1),Bn=0;_n.isEven()&&vn.isEven();)_n.iushrn(1),vn.iushrn(1),++Bn;for(var En=vn.clone(),Mn=_n.clone();!_n.isZero();){for(var Zn=0,Sr=1;(_n.words[0]&Sr)===0&&Zn<26;++Zn,Sr<<=1);if(Zn>0)for(_n.iushrn(Zn);Zn-- >0;)(On.isOdd()||Nn.isOdd())&&(On.iadd(En),Nn.isub(Mn)),On.iushrn(1),Nn.iushrn(1);for(var $r=0,Xn=1;(vn.words[0]&Xn)===0&&$r<26;++$r,Xn<<=1);if($r>0)for(vn.iushrn($r);$r-- >0;)(Un.isOdd()||zn.isOdd())&&(Un.iadd(En),zn.isub(Mn)),Un.iushrn(1),zn.iushrn(1);_n.cmp(vn)>=0?(_n.isub(vn),On.isub(Un),Nn.isub(zn)):(vn.isub(_n),Un.isub(On),zn.isub(Nn))}return{a:Un,b:zn,gcd:vn.iushln(Bn)}},a.prototype._invmp=function(mn){r(mn.negative===0),r(!mn.isZero());var _n=this,vn=mn.clone();_n.negative!==0?_n=_n.umod(mn):_n=_n.clone();for(var On=new a(1),Nn=new a(0),Un=vn.clone();_n.cmpn(1)>0&&vn.cmpn(1)>0;){for(var zn=0,Bn=1;(_n.words[0]&Bn)===0&&zn<26;++zn,Bn<<=1);if(zn>0)for(_n.iushrn(zn);zn-- >0;)On.isOdd()&&On.iadd(Un),On.iushrn(1);for(var En=0,Mn=1;(vn.words[0]&Mn)===0&&En<26;++En,Mn<<=1);if(En>0)for(vn.iushrn(En);En-- >0;)Nn.isOdd()&&Nn.iadd(Un),Nn.iushrn(1);_n.cmp(vn)>=0?(_n.isub(vn),On.isub(Nn)):(vn.isub(_n),Nn.isub(On))}var Zn;return _n.cmpn(1)===0?Zn=On:Zn=Nn,Zn.cmpn(0)<0&&Zn.iadd(mn),Zn},a.prototype.gcd=function(mn){if(this.isZero())return mn.abs();if(mn.isZero())return this.abs();var _n=this.clone(),vn=mn.clone();_n.negative=0,vn.negative=0;for(var On=0;_n.isEven()&&vn.isEven();On++)_n.iushrn(1),vn.iushrn(1);do{for(;_n.isEven();)_n.iushrn(1);for(;vn.isEven();)vn.iushrn(1);var Nn=_n.cmp(vn);if(Nn<0){var Un=_n;_n=vn,vn=Un}else if(Nn===0||vn.cmpn(1)===0)break;_n.isub(vn)}while(!0);return vn.iushln(On)},a.prototype.invm=function(mn){return this.egcd(mn).a.umod(mn)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(mn){return this.words[0]&mn},a.prototype.bincn=function(mn){r(typeof mn=="number");var _n=mn%26,vn=(mn-_n)/26,On=1<<_n;if(this.length<=vn)return this._expand(vn+1),this.words[vn]|=On,this;for(var Nn=On,Un=vn;Nn!==0&&Un<this.length;Un++){var zn=this.words[Un]|0;zn+=Nn,Nn=zn>>>26,zn&=67108863,this.words[Un]=zn}return Nn!==0&&(this.words[Un]=Nn,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(mn){var _n=mn<0;if(this.negative!==0&&!_n)return-1;if(this.negative===0&&_n)return 1;this._strip();var vn;if(this.length>1)vn=1;else{_n&&(mn=-mn),r(mn<=67108863,"Number is too big");var On=this.words[0]|0;vn=On===mn?0:On<mn?-1:1}return this.negative!==0?-vn|0:vn},a.prototype.cmp=function(mn){if(this.negative!==0&&mn.negative===0)return-1;if(this.negative===0&&mn.negative!==0)return 1;var _n=this.ucmp(mn);return this.negative!==0?-_n|0:_n},a.prototype.ucmp=function(mn){if(this.length>mn.length)return 1;if(this.length<mn.length)return-1;for(var _n=0,vn=this.length-1;vn>=0;vn--){var On=this.words[vn]|0,Nn=mn.words[vn]|0;if(On!==Nn){On<Nn?_n=-1:On>Nn&&(_n=1);break}}return _n},a.prototype.gtn=function(mn){return this.cmpn(mn)===1},a.prototype.gt=function(mn){return this.cmp(mn)===1},a.prototype.gten=function(mn){return this.cmpn(mn)>=0},a.prototype.gte=function(mn){return this.cmp(mn)>=0},a.prototype.ltn=function(mn){return this.cmpn(mn)===-1},a.prototype.lt=function(mn){return this.cmp(mn)===-1},a.prototype.lten=function(mn){return this.cmpn(mn)<=0},a.prototype.lte=function(mn){return this.cmp(mn)<=0},a.prototype.eqn=function(mn){return this.cmpn(mn)===0},a.prototype.eq=function(mn){return this.cmp(mn)===0},a.red=function(mn){return new Hn(mn)},a.prototype.toRed=function(mn){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),mn.convertTo(this)._forceRed(mn)},a.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(mn){return this.red=mn,this},a.prototype.forceRed=function(mn){return r(!this.red,"Already a number in reduction context"),this._forceRed(mn)},a.prototype.redAdd=function(mn){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,mn)},a.prototype.redIAdd=function(mn){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,mn)},a.prototype.redSub=function(mn){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,mn)},a.prototype.redISub=function(mn){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,mn)},a.prototype.redShl=function(mn){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,mn)},a.prototype.redMul=function(mn){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,mn),this.red.mul(this,mn)},a.prototype.redIMul=function(mn){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,mn),this.red.imul(this,mn)},a.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(mn){return r(this.red&&!mn.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,mn)};var An={k256:null,p224:null,p192:null,p25519:null};function Tn(Cn,mn){this.name=Cn,this.p=new a(mn,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Tn.prototype._tmp=function(){var mn=new a(null);return mn.words=new Array(Math.ceil(this.n/13)),mn},Tn.prototype.ireduce=function(mn){var _n=mn,vn;do this.split(_n,this.tmp),_n=this.imulK(_n),_n=_n.iadd(this.tmp),vn=_n.bitLength();while(vn>this.n);var On=vn<this.n?-1:_n.ucmp(this.p);return On===0?(_n.words[0]=0,_n.length=1):On>0?_n.isub(this.p):_n.strip!==void 0?_n.strip():_n._strip(),_n},Tn.prototype.split=function(mn,_n){mn.iushrn(this.n,0,_n)},Tn.prototype.imulK=function(mn){return mn.imul(this.k)};function kn(){Tn.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(kn,Tn),kn.prototype.split=function(mn,_n){for(var vn=4194303,On=Math.min(mn.length,9),Nn=0;Nn<On;Nn++)_n.words[Nn]=mn.words[Nn];if(_n.length=On,mn.length<=9){mn.words[0]=0,mn.length=1;return}var Un=mn.words[9];for(_n.words[_n.length++]=Un&vn,Nn=10;Nn<mn.length;Nn++){var zn=mn.words[Nn]|0;mn.words[Nn-10]=(zn&vn)<<4|Un>>>22,Un=zn}Un>>>=22,mn.words[Nn-10]=Un,Un===0&&mn.length>10?mn.length-=10:mn.length-=9},kn.prototype.imulK=function(mn){mn.words[mn.length]=0,mn.words[mn.length+1]=0,mn.length+=2;for(var _n=0,vn=0;vn<mn.length;vn++){var On=mn.words[vn]|0;_n+=On*977,mn.words[vn]=_n&67108863,_n=On*64+(_n/67108864|0)}return mn.words[mn.length-1]===0&&(mn.length--,mn.words[mn.length-1]===0&&mn.length--),mn};function Pn(){Tn.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(Pn,Tn);function Dn(){Tn.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Dn,Tn);function Kn(){Tn.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(Kn,Tn),Kn.prototype.imulK=function(mn){for(var _n=0,vn=0;vn<mn.length;vn++){var On=(mn.words[vn]|0)*19+_n,Nn=On&67108863;On>>>=26,mn.words[vn]=Nn,_n=On}return _n!==0&&(mn.words[mn.length++]=_n),mn},a._prime=function(mn){if(An[mn])return An[mn];var _n;if(mn==="k256")_n=new kn;else if(mn==="p224")_n=new Pn;else if(mn==="p192")_n=new Dn;else if(mn==="p25519")_n=new Kn;else throw new Error("Unknown prime "+mn);return An[mn]=_n,_n};function Hn(Cn){if(typeof Cn=="string"){var mn=a._prime(Cn);this.m=mn.p,this.prime=mn}else r(Cn.gtn(1),"modulus must be greater than 1"),this.m=Cn,this.prime=null}Hn.prototype._verify1=function(mn){r(mn.negative===0,"red works only with positives"),r(mn.red,"red works only with red numbers")},Hn.prototype._verify2=function(mn,_n){r((mn.negative|_n.negative)===0,"red works only with positives"),r(mn.red&&mn.red===_n.red,"red works only with red numbers")},Hn.prototype.imod=function(mn){return this.prime?this.prime.ireduce(mn)._forceRed(this):(nn(mn,mn.umod(this.m)._forceRed(this)),mn)},Hn.prototype.neg=function(mn){return mn.isZero()?mn.clone():this.m.sub(mn)._forceRed(this)},Hn.prototype.add=function(mn,_n){this._verify2(mn,_n);var vn=mn.add(_n);return vn.cmp(this.m)>=0&&vn.isub(this.m),vn._forceRed(this)},Hn.prototype.iadd=function(mn,_n){this._verify2(mn,_n);var vn=mn.iadd(_n);return vn.cmp(this.m)>=0&&vn.isub(this.m),vn},Hn.prototype.sub=function(mn,_n){this._verify2(mn,_n);var vn=mn.sub(_n);return vn.cmpn(0)<0&&vn.iadd(this.m),vn._forceRed(this)},Hn.prototype.isub=function(mn,_n){this._verify2(mn,_n);var vn=mn.isub(_n);return vn.cmpn(0)<0&&vn.iadd(this.m),vn},Hn.prototype.shl=function(mn,_n){return this._verify1(mn),this.imod(mn.ushln(_n))},Hn.prototype.imul=function(mn,_n){return this._verify2(mn,_n),this.imod(mn.imul(_n))},Hn.prototype.mul=function(mn,_n){return this._verify2(mn,_n),this.imod(mn.mul(_n))},Hn.prototype.isqr=function(mn){return this.imul(mn,mn.clone())},Hn.prototype.sqr=function(mn){return this.mul(mn,mn)},Hn.prototype.sqrt=function(mn){if(mn.isZero())return mn.clone();var _n=this.m.andln(3);if(r(_n%2===1),_n===3){var vn=this.m.add(new a(1)).iushrn(2);return this.pow(mn,vn)}for(var On=this.m.subn(1),Nn=0;!On.isZero()&&On.andln(1)===0;)Nn++,On.iushrn(1);r(!On.isZero());var Un=new a(1).toRed(this),zn=Un.redNeg(),Bn=this.m.subn(1).iushrn(1),En=this.m.bitLength();for(En=new a(2*En*En).toRed(this);this.pow(En,Bn).cmp(zn)!==0;)En.redIAdd(zn);for(var Mn=this.pow(En,On),Zn=this.pow(mn,On.addn(1).iushrn(1)),Sr=this.pow(mn,On),$r=Nn;Sr.cmp(Un)!==0;){for(var Xn=Sr,br=0;Xn.cmp(Un)!==0;br++)Xn=Xn.redSqr();r(br<$r);var _r=this.pow(Mn,new a(1).iushln($r-br-1));Zn=Zn.redMul(_r),Mn=_r.redSqr(),Sr=Sr.redMul(Mn),$r=br}return Zn},Hn.prototype.invm=function(mn){var _n=mn._invmp(this.m);return _n.negative!==0?(_n.negative=0,this.imod(_n).redNeg()):this.imod(_n)},Hn.prototype.pow=function(mn,_n){if(_n.isZero())return new a(1).toRed(this);if(_n.cmpn(1)===0)return mn.clone();var vn=4,On=new Array(1<<vn);On[0]=new a(1).toRed(this),On[1]=mn;for(var Nn=2;Nn<On.length;Nn++)On[Nn]=this.mul(On[Nn-1],mn);var Un=On[0],zn=0,Bn=0,En=_n.bitLength()%26;for(En===0&&(En=26),Nn=_n.length-1;Nn>=0;Nn--){for(var Mn=_n.words[Nn],Zn=En-1;Zn>=0;Zn--){var Sr=Mn>>Zn&1;if(Un!==On[0]&&(Un=this.sqr(Un)),Sr===0&&zn===0){Bn=0;continue}zn<<=1,zn|=Sr,Bn++,!(Bn!==vn&&(Nn!==0||Zn!==0))&&(Un=this.mul(Un,On[zn]),Bn=0,zn=0)}En=26}return Un},Hn.prototype.convertTo=function(mn){var _n=mn.umod(this.m);return _n===mn?_n.clone():_n},Hn.prototype.convertFrom=function(mn){var _n=mn.clone();return _n.red=null,_n},a.mont=function(mn){return new jn(mn)};function jn(Cn){Hn.call(this,Cn),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(jn,Hn),jn.prototype.convertTo=function(mn){return this.imod(mn.ushln(this.shift))},jn.prototype.convertFrom=function(mn){var _n=this.imod(mn.mul(this.rinv));return _n.red=null,_n},jn.prototype.imul=function(mn,_n){if(mn.isZero()||_n.isZero())return mn.words[0]=0,mn.length=1,mn;var vn=mn.imul(_n),On=vn.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Nn=vn.isub(On).iushrn(this.shift),Un=Nn;return Nn.cmp(this.m)>=0?Un=Nn.isub(this.m):Nn.cmpn(0)<0&&(Un=Nn.iadd(this.m)),Un._forceRed(this)},jn.prototype.mul=function(mn,_n){if(mn.isZero()||_n.isZero())return new a(0)._forceRed(this);var vn=mn.mul(_n),On=vn.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),Nn=vn.isub(On).iushrn(this.shift),Un=Nn;return Nn.cmp(this.m)>=0?Un=Nn.isub(this.m):Nn.cmpn(0)<0&&(Un=Nn.iadd(this.m)),Un._forceRed(this)},jn.prototype.invm=function(mn){var _n=this.imod(mn._invmp(this.m).mul(this.r2));return _n._forceRed(this)}})(n,commonjsGlobal)})(bn);var BN=bn.exports,safeBuffer$1={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=bufferPolyfill,r=t.Buffer;function o(c,u){for(var en in c)u[en]=c[en]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(o(t,e),e.Buffer=a);function a(c,u,en){return r(c,u,en)}a.prototype=Object.create(r.prototype),o(r,a),a.from=function(c,u,en){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,u,en)},a.alloc=function(c,u,en){if(typeof c!="number")throw new TypeError("Argument must be a number");var tn=r(c);return u!==void 0?typeof en=="string"?tn.fill(u,en):tn.fill(u):tn.fill(0),tn},a.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},a.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}})(safeBuffer$1,safeBuffer$1.exports);var _Buffer$2=safeBuffer$1.exports.Buffer;function base$3(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=r}var c=n.length,u=n.charAt(0),en=Math.log(c)/Math.log(256),tn=Math.log(256)/Math.log(c);function nn(dn){if((Array.isArray(dn)||dn instanceof Uint8Array)&&(dn=_Buffer$2.from(dn)),!_Buffer$2.isBuffer(dn))throw new TypeError("Expected Buffer");if(dn.length===0)return"";for(var hn=0,ln=0,pn=0,$n=dn.length;pn!==$n&&dn[pn]===0;)pn++,hn++;for(var Sn=($n-pn)*tn+1>>>0,yn=new Uint8Array(Sn);pn!==$n;){for(var In=dn[pn],An=0,Tn=Sn-1;(In!==0||An<ln)&&Tn!==-1;Tn--,An++)In+=256*yn[Tn]>>>0,yn[Tn]=In%c>>>0,In=In/c>>>0;if(In!==0)throw new Error("Non-zero carry");ln=An,pn++}for(var kn=Sn-ln;kn!==Sn&&yn[kn]===0;)kn++;for(var Pn=u.repeat(hn);kn<Sn;++kn)Pn+=n.charAt(yn[kn]);return Pn}function sn(dn){if(typeof dn!="string")throw new TypeError("Expected String");if(dn.length===0)return _Buffer$2.alloc(0);for(var hn=0,ln=0,pn=0;dn[hn]===u;)ln++,hn++;for(var $n=(dn.length-hn)*en+1>>>0,Sn=new Uint8Array($n);dn[hn];){var yn=e[dn.charCodeAt(hn)];if(yn===255)return;for(var In=0,An=$n-1;(yn!==0||In<pn)&&An!==-1;An--,In++)yn+=c*Sn[An]>>>0,Sn[An]=yn%256>>>0,yn=yn/256>>>0;if(yn!==0)throw new Error("Non-zero carry");pn=In,hn++}for(var Tn=$n-pn;Tn!==$n&&Sn[Tn]===0;)Tn++;var kn=_Buffer$2.allocUnsafe(ln+($n-Tn));kn.fill(0,0,ln);for(var Pn=ln;Tn!==$n;)kn[Pn++]=Sn[Tn++];return kn}function fn(dn){var hn=sn(dn);if(hn)return hn;throw new Error("Non-base"+c+" character")}return{encode:nn,decodeUnsafe:sn,decode:fn}}var src$3=base$3,basex$3=src$3,ALPHABET$4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$3=basex$3(ALPHABET$4);const SHA256_K$2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV$1=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$2=new Uint32Array(64);class SHA256$2 extends HashMD$1{constructor(){super(64,32,8,!1),this.A=SHA256_IV$1[0]|0,this.B=SHA256_IV$1[1]|0,this.C=SHA256_IV$1[2]|0,this.D=SHA256_IV$1[3]|0,this.E=SHA256_IV$1[4]|0,this.F=SHA256_IV$1[5]|0,this.G=SHA256_IV$1[6]|0,this.H=SHA256_IV$1[7]|0}get(){const{A:e,B:t,C:r,D:o,E:a,F:c,G:u,H:en}=this;return[e,t,r,o,a,c,u,en]}set(e,t,r,o,a,c,u,en){this.A=e|0,this.B=t|0,this.C=r|0,this.D=o|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=en|0}process(e,t){for(let sn=0;sn<16;sn++,t+=4)SHA256_W$2[sn]=e.getUint32(t,!1);for(let sn=16;sn<64;sn++){const fn=SHA256_W$2[sn-15],dn=SHA256_W$2[sn-2],hn=rotr$2(fn,7)^rotr$2(fn,18)^fn>>>3,ln=rotr$2(dn,17)^rotr$2(dn,19)^dn>>>10;SHA256_W$2[sn]=ln+SHA256_W$2[sn-7]+hn+SHA256_W$2[sn-16]|0}let{A:r,B:o,C:a,D:c,E:u,F:en,G:tn,H:nn}=this;for(let sn=0;sn<64;sn++){const fn=rotr$2(u,6)^rotr$2(u,11)^rotr$2(u,25),dn=nn+fn+Chi$2(u,en,tn)+SHA256_K$2[sn]+SHA256_W$2[sn]|0,ln=(rotr$2(r,2)^rotr$2(r,13)^rotr$2(r,22))+Maj$2(r,o,a)|0;nn=tn,tn=en,en=u,u=c+dn|0,c=a,a=o,o=r,r=dn+ln|0}r=r+this.A|0,o=o+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,en=en+this.F|0,tn=tn+this.G|0,nn=nn+this.H|0,this.set(r,o,a,c,u,en,tn,nn)}roundClean(){SHA256_W$2.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$3=wrapConstructor$2(()=>new SHA256$2);var lib$1={};function inRange$1(n,e,t){return e<=n&&n<=t}function ToDictionary(n){if(n===void 0)return{};if(n===Object(n))return n;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(n){for(var e=String(n),t=e.length,r=0,o=[];r<t;){var a=e.charCodeAt(r);if(a<55296||a>57343)o.push(a);else if(56320<=a&&a<=57343)o.push(65533);else if(55296<=a&&a<=56319)if(r===t-1)o.push(65533);else{var c=n.charCodeAt(r+1);if(56320<=c&&c<=57343){var u=a&1023,en=c&1023;o.push(65536+(u<<10)+en),r+=1}else o.push(65533)}r+=1}return o}function codePointsToString(n){for(var e="",t=0;t<n.length;++t){var r=n[t];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var end_of_stream=-1;function Stream(n){this.tokens=[].slice.call(n)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(n)},push:function(n){if(Array.isArray(n))for(var e=n;e.length;)this.tokens.push(e.shift());else this.tokens.push(n)}};var finished=-1;function decoderError(n,e){if(n)throw TypeError("Decoder error");return e||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(n,e){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(n,e);if(n=n!==void 0?String(n).toLowerCase():DEFAULT_ENCODING,n!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(e,t){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),t=ToDictionary(t),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var o=new Stream(r),a=[],c;!o.endOfStream()&&(c=this._decoder.handler(o,o.read()),c!==finished);)c!==null&&(Array.isArray(c)?a.push.apply(a,c):a.push(c));if(!this._streaming){do{if(c=this._decoder.handler(o,o.read()),c===finished)break;c!==null&&(Array.isArray(c)?a.push.apply(a,c):a.push(c))}while(!o.endOfStream());this._decoder=null}return a.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(a[0]===65279?(this._BOMseen=!0,a.shift()):this._BOMseen=!0),codePointsToString(a)}};function TextEncoder$1(n,e){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(n,e);if(n=n!==void 0?String(n).toLowerCase():DEFAULT_ENCODING,n!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");e=ToDictionary(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(e,t){e=e?String(e):"",t=ToDictionary(t),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(t.stream);for(var r=[],o=new Stream(stringToCodePoints(e)),a;!o.endOfStream()&&(a=this._encoder.handler(o,o.read()),a!==finished);)Array.isArray(a)?r.push.apply(r,a):r.push(a);if(!this._streaming){for(;a=this._encoder.handler(o,o.read()),a!==finished;)Array.isArray(a)?r.push.apply(r,a):r.push(a);this._encoder=null}return new Uint8Array(r)}};function UTF8Decoder(n){var e=n.fatal,t=0,r=0,o=0,a=128,c=191;this.handler=function(u,en){if(en===end_of_stream&&o!==0)return o=0,decoderError(e);if(en===end_of_stream)return finished;if(o===0){if(inRange$1(en,0,127))return en;if(inRange$1(en,194,223))o=1,t=en-192;else if(inRange$1(en,224,239))en===224&&(a=160),en===237&&(c=159),o=2,t=en-224;else if(inRange$1(en,240,244))en===240&&(a=144),en===244&&(c=143),o=3,t=en-240;else return decoderError(e);return t=t<<6*o,null}if(!inRange$1(en,a,c))return t=o=r=0,a=128,c=191,u.prepend(en),decoderError(e);if(a=128,c=191,r+=1,t+=en-128<<6*(o-r),r!==o)return null;var tn=t;return t=o=r=0,tn}}function UTF8Encoder(n){n.fatal,this.handler=function(e,t){if(t===end_of_stream)return finished;if(inRange$1(t,0,127))return t;var r,o;inRange$1(t,128,2047)?(r=1,o=192):inRange$1(t,2048,65535)?(r=2,o=224):inRange$1(t,65536,1114111)&&(r=3,o=240);for(var a=[(t>>6*r)+o];r>0;){var c=t>>6*(r-1);a.push(128|c&63),r-=1}return a}}var encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(encoding$1),__createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),__decorate$2=commonjsGlobal&&commonjsGlobal.__decorate||function(n,e,t,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(a=(o<3?c(a):o>3?c(e,t,a):c(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.hasOwnProperty.call(n,t)&&__createBinding$3(e,n,t);return __setModuleDefault$3(e,n),e},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(lib$1,"__esModule",{value:!0});var deserializeUnchecked_1=lib$1.deserializeUnchecked=deserialize_1=lib$1.deserialize=serialize_1=lib$1.serialize=lib$1.BinaryReader=lib$1.BinaryWriter=lib$1.BorshError=lib$1.baseDecode=lib$1.baseEncode=void 0;const bn_js_1$1=__importDefault$5(bn.exports),bs58_1$1=__importDefault$5(bs58$3),encoding=__importStar$3(require$$2$1),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(n){return typeof n=="string"&&(n=dist$3.Buffer.from(n,"utf8")),bs58_1$1.default.encode(dist$3.Buffer.from(n))}lib$1.baseEncode=baseEncode;function baseDecode(n){return dist$3.Buffer.from(bs58_1$1.default.decode(n))}lib$1.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$1.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=dist$3.Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=dist$3.Buffer.concat([this.buf,dist$3.Buffer.alloc(INITIAL_LENGTH)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(dist$3.Buffer.from(new bn_js_1$1.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(dist$3.Buffer.from(new bn_js_1$1.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(dist$3.Buffer.from(new bn_js_1$1.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(dist$3.Buffer.from(new bn_js_1$1.default(e).toArray("le",64)))}writeBuffer(e){this.buf=dist$3.Buffer.concat([dist$3.Buffer.from(this.buf.subarray(0,this.length)),e,dist$3.Buffer.alloc(INITIAL_LENGTH)]),this.length+=e.length}writeString(e){this.maybeResize();const t=dist$3.Buffer.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(dist$3.Buffer.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}lib$1.BinaryWriter=BinaryWriter;function handlingRangeError(n,e,t){const r=t.value;t.value=function(...o){try{return r.apply(this,o)}catch(a){if(a instanceof RangeError){const c=a.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw a}}}class BinaryReader{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new bn_js_1$1.default(e,"le")}readU128(){const e=this.readBuffer(16);return new bn_js_1$1.default(e,"le")}readU256(){const e=this.readBuffer(32);return new bn_js_1$1.default(e,"le")}readU512(){const e=this.readBuffer(64);return new bn_js_1$1.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new BorshError(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return textDecoder.decode(t)}catch(r){throw new BorshError(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let o=0;o<t;++o)r.push(e());return r}}__decorate$2([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate$2([handlingRangeError],BinaryReader.prototype,"readArray",null);lib$1.BinaryReader=BinaryReader;function capitalizeFirstLetter(n){return n.charAt(0).toUpperCase()+n.slice(1)}function serializeField(n,e,t,r,o){try{if(typeof r=="string")o[`write${capitalizeFirstLetter(r)}`](t);else if(r instanceof Array)if(typeof r[0]=="number"){if(t.length!==r[0])throw new BorshError(`Expecting byte array of length ${r[0]}, but got ${t.length} bytes`);o.writeFixedArray(t)}else if(r.length===2&&typeof r[1]=="number"){if(t.length!==r[1])throw new BorshError(`Expecting byte array of length ${r[1]}, but got ${t.length} bytes`);for(let a=0;a<r[1];a++)serializeField(n,null,t[a],r[0],o)}else o.writeArray(t,a=>{serializeField(n,e,a,r[0],o)});else if(r.kind!==void 0)switch(r.kind){case"option":{t==null?o.writeU8(0):(o.writeU8(1),serializeField(n,e,t,r.type,o));break}case"map":{o.writeU32(t.size),t.forEach((a,c)=>{serializeField(n,e,c,r.key,o),serializeField(n,e,a,r.value,o)});break}default:throw new BorshError(`FieldType ${r} unrecognized`)}else serializeStruct(n,t,o)}catch(a){throw a instanceof BorshError&&a.addToFieldPath(e),a}}function serializeStruct(n,e,t){if(typeof e.borshSerialize=="function"){e.borshSerialize(t);return}const r=n.get(e.constructor);if(!r)throw new BorshError(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([o,a])=>{serializeField(n,o,e[o],a,t)});else if(r.kind==="enum"){const o=e[r.field];for(let a=0;a<r.values.length;++a){const[c,u]=r.values[a];if(c===o){t.writeU8(a),serializeField(n,c,e[c],u,t);break}}}else throw new BorshError(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function serialize(n,e,t=BinaryWriter){const r=new t;return serializeStruct(n,e,r),r.toArray()}var serialize_1=lib$1.serialize=serialize;function deserializeField(n,e,t,r){try{if(typeof t=="string")return r[`read${capitalizeFirstLetter(t)}`]();if(t instanceof Array){if(typeof t[0]=="number")return r.readFixedArray(t[0]);if(typeof t[1]=="number"){const o=[];for(let a=0;a<t[1];a++)o.push(deserializeField(n,null,t[0],r));return o}else return r.readArray(()=>deserializeField(n,e,t[0],r))}if(t.kind==="option")return r.readU8()?deserializeField(n,e,t.type,r):void 0;if(t.kind==="map"){let o=new Map;const a=r.readU32();for(let c=0;c<a;c++){const u=deserializeField(n,e,t.key,r),en=deserializeField(n,e,t.value,r);o.set(u,en)}return o}return deserializeStruct(n,t,r)}catch(o){throw o instanceof BorshError&&o.addToFieldPath(e),o}}function deserializeStruct(n,e,t){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(t);const r=n.get(e);if(!r)throw new BorshError(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const o={};for(const[a,c]of n.get(e).fields)o[a]=deserializeField(n,a,c,t);return new e(o)}if(r.kind==="enum"){const o=t.readU8();if(o>=r.values.length)throw new BorshError(`Enum index: ${o} is out of range`);const[a,c]=r.values[o],u=deserializeField(n,a,c,t);return new e({[a]:u})}throw new BorshError(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function deserialize(n,e,t,r=BinaryReader){const o=new r(t),a=deserializeStruct(n,e,o);if(o.offset<t.length)throw new BorshError(`Unexpected ${t.length-o.offset} bytes after deserialized data`);return a}var deserialize_1=lib$1.deserialize=deserialize;function deserializeUnchecked(n,e,t,r=BinaryReader){const o=new r(t);return deserializeStruct(n,e,o)}deserializeUnchecked_1=lib$1.deserializeUnchecked=deserializeUnchecked;var Layout$4={};Object.defineProperty(Layout$4,"__esModule",{value:!0});var s16=Layout$4.s16=Layout$4.s8=Layout$4.nu64be=Layout$4.u48be=Layout$4.u40be=Layout$4.u32be=Layout$4.u24be=Layout$4.u16be=nu64$1=Layout$4.nu64=Layout$4.u48=Layout$4.u40=u32$3=Layout$4.u32=Layout$4.u24=u16=Layout$4.u16=u8$2=Layout$4.u8=offset$1=Layout$4.offset=greedy=Layout$4.greedy=Layout$4.Constant=Layout$4.UTF8=Layout$4.CString=Layout$4.Blob=Layout$4.Boolean=Layout$4.BitField=Layout$4.BitStructure=Layout$4.VariantLayout=Layout$4.Union=Layout$4.UnionLayoutDiscriminator=Layout$4.UnionDiscriminator=Layout$4.Structure=Layout$4.Sequence=Layout$4.DoubleBE=Layout$4.Double=Layout$4.FloatBE=Layout$4.Float=Layout$4.NearInt64BE=Layout$4.NearInt64=Layout$4.NearUInt64BE=Layout$4.NearUInt64=Layout$4.IntBE=Layout$4.Int=Layout$4.UIntBE=Layout$4.UInt=Layout$4.OffsetLayout=Layout$4.GreedyCount=Layout$4.ExternalLayout=Layout$4.bindConstructorLayout=Layout$4.nameWithProperty=Layout_2$1=Layout$4.Layout=Layout$4.uint8ArrayToBuffer=Layout$4.checkUint8Array=void 0;Layout$4.constant=Layout$4.utf8=Layout$4.cstr=blob$2=Layout$4.blob=Layout$4.unionLayoutDiscriminator=Layout$4.union=seq=Layout$4.seq=Layout$4.bits=struct$3=Layout$4.struct=Layout$4.f64be=Layout$4.f64=Layout$4.f32be=Layout$4.f32=Layout$4.ns64be=Layout$4.s48be=Layout$4.s40be=Layout$4.s32be=Layout$4.s24be=Layout$4.s16be=ns64$1=Layout$4.ns64=Layout$4.s48=Layout$4.s40=Layout$4.s32=Layout$4.s24=void 0;const buffer_1=bufferPolyfill;function checkUint8Array(n){if(!(n instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$4.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(n){return checkUint8Array(n),buffer_1.Buffer.from(n.buffer,n.byteOffset,n.length)}Layout$4.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout$3{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Layout_2$1=Layout$4.Layout=Layout$3;function nameWithProperty$2(n,e){return e.property?n+"["+e.property+"]":n}Layout$4.nameWithProperty=nameWithProperty$2;function bindConstructorLayout$1(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(n,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value(t,r){return e.decode(t,r)},writable:!0})}Layout$4.bindConstructorLayout=bindConstructorLayout$1;class ExternalLayout$2 extends Layout$3{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$4.ExternalLayout=ExternalLayout$2;class GreedyCount$1 extends ExternalLayout$2{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){checkUint8Array(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}Layout$4.GreedyCount=GreedyCount$1;class OffsetLayout$1 extends ExternalLayout$2{constructor(e,t=0,r){if(!(e instanceof Layout$3))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof UInt$2||this.layout instanceof UIntBE$1}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}Layout$4.OffsetLayout=OffsetLayout$1;class UInt$2 extends Layout$3{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return uint8ArrayToBuffer(e).readUIntLE(t,this.span)}encode(e,t,r=0){return uint8ArrayToBuffer(t).writeUIntLE(e,r,this.span),this.span}}Layout$4.UInt=UInt$2;class UIntBE$1 extends Layout$3{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return uint8ArrayToBuffer(e).readUIntBE(t,this.span)}encode(e,t,r=0){return uint8ArrayToBuffer(t).writeUIntBE(e,r,this.span),this.span}}Layout$4.UIntBE=UIntBE$1;class Int$1 extends Layout$3{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return uint8ArrayToBuffer(e).readIntLE(t,this.span)}encode(e,t,r=0){return uint8ArrayToBuffer(t).writeIntLE(e,r,this.span),this.span}}Layout$4.Int=Int$1;class IntBE$1 extends Layout$3{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return uint8ArrayToBuffer(e).readIntBE(t,this.span)}encode(e,t,r=0){return uint8ArrayToBuffer(t).writeIntBE(e,r,this.span),this.span}}Layout$4.IntBE=IntBE$1;const V2E32$1=Math.pow(2,32);function divmodInt64$1(n){const e=Math.floor(n/V2E32$1),t=n-e*V2E32$1;return{hi32:e,lo32:t}}function roundedInt64$1(n,e){return n*V2E32$1+e}class NearUInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,t=0){const r=uint8ArrayToBuffer(e),o=r.readUInt32LE(t),a=r.readUInt32LE(t+4);return roundedInt64$1(a,o)}encode(e,t,r=0){const o=divmodInt64$1(e),a=uint8ArrayToBuffer(t);return a.writeUInt32LE(o.lo32,r),a.writeUInt32LE(o.hi32,r+4),8}}Layout$4.NearUInt64=NearUInt64$1;class NearUInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,t=0){const r=uint8ArrayToBuffer(e),o=r.readUInt32BE(t),a=r.readUInt32BE(t+4);return roundedInt64$1(o,a)}encode(e,t,r=0){const o=divmodInt64$1(e),a=uint8ArrayToBuffer(t);return a.writeUInt32BE(o.hi32,r),a.writeUInt32BE(o.lo32,r+4),8}}Layout$4.NearUInt64BE=NearUInt64BE$1;class NearInt64$1 extends Layout$3{constructor(e){super(8,e)}decode(e,t=0){const r=uint8ArrayToBuffer(e),o=r.readUInt32LE(t),a=r.readInt32LE(t+4);return roundedInt64$1(a,o)}encode(e,t,r=0){const o=divmodInt64$1(e),a=uint8ArrayToBuffer(t);return a.writeUInt32LE(o.lo32,r),a.writeInt32LE(o.hi32,r+4),8}}Layout$4.NearInt64=NearInt64$1;class NearInt64BE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,t=0){const r=uint8ArrayToBuffer(e),o=r.readInt32BE(t),a=r.readUInt32BE(t+4);return roundedInt64$1(o,a)}encode(e,t,r=0){const o=divmodInt64$1(e),a=uint8ArrayToBuffer(t);return a.writeInt32BE(o.hi32,r),a.writeUInt32BE(o.lo32,r+4),8}}Layout$4.NearInt64BE=NearInt64BE$1;class Float$1 extends Layout$3{constructor(e){super(4,e)}decode(e,t=0){return uint8ArrayToBuffer(e).readFloatLE(t)}encode(e,t,r=0){return uint8ArrayToBuffer(t).writeFloatLE(e,r),4}}Layout$4.Float=Float$1;class FloatBE$1 extends Layout$3{constructor(e){super(4,e)}decode(e,t=0){return uint8ArrayToBuffer(e).readFloatBE(t)}encode(e,t,r=0){return uint8ArrayToBuffer(t).writeFloatBE(e,r),4}}Layout$4.FloatBE=FloatBE$1;class Double$1 extends Layout$3{constructor(e){super(8,e)}decode(e,t=0){return uint8ArrayToBuffer(e).readDoubleLE(t)}encode(e,t,r=0){return uint8ArrayToBuffer(t).writeDoubleLE(e,r),8}}Layout$4.Double=Double$1;class DoubleBE$1 extends Layout$3{constructor(e){super(8,e)}decode(e,t=0){return uint8ArrayToBuffer(e).readDoubleBE(t)}encode(e,t,r=0){return uint8ArrayToBuffer(t).writeDoubleBE(e,r),8}}Layout$4.DoubleBE=DoubleBE$1;class Sequence$1 extends Layout$3{constructor(e,t,r){if(!(e instanceof Layout$3))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof ExternalLayout$2&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof ExternalLayout$2)&&0<e.span&&(o=t*e.span),super(o,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,o=this.count;if(o instanceof ExternalLayout$2&&(o=o.decode(e,t)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let a=0;for(;a<o;)r+=this.elementLayout.getSpan(e,t+r),++a}return r}decode(e,t=0){const r=[];let o=0,a=this.count;for(a instanceof ExternalLayout$2&&(a=a.decode(e,t));o<a;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return r}encode(e,t,r=0){const o=this.elementLayout,a=e.reduce((c,u)=>c+o.encode(u,t,r+c),0);return this.count instanceof ExternalLayout$2&&this.count.encode(e.length,t,r),a}}Layout$4.Sequence=Sequence$1;class Structure$2 extends Layout$3{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((a,c)=>a&&c instanceof Layout$3,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((a,c)=>a+c.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((o,a)=>{const c=a.getSpan(e,t);return t+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t=0){checkUint8Array(e);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const o=r;let a=0,c=0;for(const u of this.fields){let en=u.span;if(c=0<en?en:0,u.property!==void 0){const tn=e[u.property];tn!==void 0&&(c=u.encode(tn,t,r),0>en&&(en=u.getSpan(t,r)))}a=r,r+=en}return a+c-o}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}Layout$4.Structure=Structure$2;class UnionDiscriminator$1{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}Layout$4.UnionDiscriminator=UnionDiscriminator$1;class UnionLayoutDiscriminator$1 extends UnionDiscriminator$1{constructor(e,t){if(!(e instanceof ExternalLayout$2&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}Layout$4.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;class Union$1 extends Layout$3{constructor(e,t,r){let o;if(e instanceof UInt$2||e instanceof UIntBE$1)o=new UnionLayoutDiscriminator$1(new OffsetLayout$1(e));else if(e instanceof ExternalLayout$2&&e.isCount())o=new UnionLayoutDiscriminator$1(e);else if(e instanceof UnionDiscriminator$1)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Layout$3))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let a=-1;t&&(a=t.span,0<=a&&(e instanceof UInt$2||e instanceof UIntBE$1)&&(a+=o.layout.span)),super(a,r),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof UInt$2||e instanceof UIntBE$1,this.defaultLayout=t,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const o=this.discriminator,a=o.decode(e,t),c=this.registry[a];if(c===void 0){const u=this.defaultLayout;let en=0;this.usesPrefixDiscriminator&&(en=o.layout.span),r=this.makeDestinationObject(),r[o.property]=a,r[u.property]=u.decode(e,t+en)}else r=c.decode(e,t);return r}encode(e,t,r=0){const o=this.getSourceVariant(e);if(o===void 0){const a=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=a.layout.span),a.encode(e[a.property],t,r),u+c.encode(e[c.property],t,r+u)}return o.encode(e,t,r)}addVariant(e,t,r){const o=new VariantLayout$1(this,e,t,r);return this.registry[e]=o,o}getVariant(e,t=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,t):r=e,this.registry[r]}}Layout$4.Union=Union$1;class VariantLayout$1 extends Layout$3{constructor(e,t,r,o){if(!(e instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Layout$3))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=r?r.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,o),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,t+r)),r+o}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let a=o;if(this.layout&&(this.layout.encode(e[this.property],t,r+o),a+=this.layout.getSpan(t,r+o),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}Layout$4.VariantLayout=VariantLayout$1;function fixBitwiseResult$1(n){return 0>n&&(n+=4294967296),n}class BitStructure$1 extends Layout$3{constructor(e,t,r){if(!(e instanceof UInt$2||e instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(a){return o=fixBitwiseResult$1(a),this},this._packedGetValue=function(){return o}}decode(e,t=0){const r=this.makeDestinationObject(),o=this.word.decode(e,t);this._packedSetValue(o);for(const a of this.fields)a.property!==void 0&&(r[a.property]=a.decode(e));return r}encode(e,t,r=0){const o=this.word.decode(t,r);this._packedSetValue(o);for(const a of this.fields)if(a.property!==void 0){const c=e[a.property];c!==void 0&&a.encode(c)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new BitField$1(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new Boolean$2(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}Layout$4.BitStructure=BitStructure$1;class BitField$1{constructor(e,t,r){if(!(e instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const o=8*e.span,a=e.fields.reduce((c,u)=>c+u.bits,0);if(t+a>o)throw new Error("bits too long for span remainder ("+(o-a)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=a,this.container.msb&&(this.start=o-a-t),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=r}decode(e,t){const r=this.container._packedGetValue();return fixBitwiseResult$1(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==fixBitwiseResult$1(e&this.valueMask))throw new TypeError(nameWithProperty$2("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=fixBitwiseResult$1(e<<this.start);this.container._packedSetValue(fixBitwiseResult$1(t&~this.wordMask)|r)}}Layout$4.BitField=BitField$1;class Boolean$2 extends BitField$1{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}}Layout$4.Boolean=Boolean$2;class Blob$4 extends Layout$3{constructor(e,t){if(!(e instanceof ExternalLayout$2&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ExternalLayout$2||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),uint8ArrayToBuffer(e).slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof ExternalLayout$2&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(nameWithProperty$2("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(r+o>t.length)throw new RangeError("encoding overruns Uint8Array");const a=uint8ArrayToBuffer(e);return uint8ArrayToBuffer(t).write(a.toString("hex"),r,o,"hex"),this.length instanceof ExternalLayout$2&&this.length.encode(o,t,r),o}}Layout$4.Blob=Blob$4;class CString$1 extends Layout$3{constructor(e){super(-1,e)}getSpan(e,t=0){checkUint8Array(e);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return uint8ArrayToBuffer(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),a=o.length;if(r+a>t.length)throw new RangeError("encoding overruns Buffer");const c=uint8ArrayToBuffer(t);return o.copy(c,r),c[r+a]=0,a+1}}Layout$4.CString=CString$1;class UTF8$1 extends Layout$3{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return checkUint8Array(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){typeof e!="string"&&(e=String(e));const o=buffer_1.Buffer.from(e,"utf8"),a=o.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(r+a>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(uint8ArrayToBuffer(t),r),a}}Layout$4.UTF8=UTF8$1;class Constant$1 extends Layout$3{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}Layout$4.Constant=Constant$1;var greedy=Layout$4.greedy=(n,e)=>new GreedyCount$1(n,e),offset$1=Layout$4.offset=(n,e,t)=>new OffsetLayout$1(n,e,t),u8$2=Layout$4.u8=n=>new UInt$2(1,n),u16=Layout$4.u16=n=>new UInt$2(2,n);Layout$4.u24=n=>new UInt$2(3,n);var u32$3=Layout$4.u32=n=>new UInt$2(4,n);Layout$4.u40=n=>new UInt$2(5,n);Layout$4.u48=n=>new UInt$2(6,n);var nu64$1=Layout$4.nu64=n=>new NearUInt64$1(n);Layout$4.u16be=n=>new UIntBE$1(2,n);Layout$4.u24be=n=>new UIntBE$1(3,n);Layout$4.u32be=n=>new UIntBE$1(4,n);Layout$4.u40be=n=>new UIntBE$1(5,n);Layout$4.u48be=n=>new UIntBE$1(6,n);Layout$4.nu64be=n=>new NearUInt64BE$1(n);Layout$4.s8=n=>new Int$1(1,n);s16=Layout$4.s16=n=>new Int$1(2,n);Layout$4.s24=n=>new Int$1(3,n);Layout$4.s32=n=>new Int$1(4,n);Layout$4.s40=n=>new Int$1(5,n);Layout$4.s48=n=>new Int$1(6,n);var ns64$1=Layout$4.ns64=n=>new NearInt64$1(n);Layout$4.s16be=n=>new IntBE$1(2,n);Layout$4.s24be=n=>new IntBE$1(3,n);Layout$4.s32be=n=>new IntBE$1(4,n);Layout$4.s40be=n=>new IntBE$1(5,n);Layout$4.s48be=n=>new IntBE$1(6,n);Layout$4.ns64be=n=>new NearInt64BE$1(n);Layout$4.f32=n=>new Float$1(n);Layout$4.f32be=n=>new FloatBE$1(n);Layout$4.f64=n=>new Double$1(n);Layout$4.f64be=n=>new DoubleBE$1(n);var struct$3=Layout$4.struct=(n,e,t)=>new Structure$2(n,e,t);Layout$4.bits=(n,e,t)=>new BitStructure$1(n,e,t);var seq=Layout$4.seq=(n,e,t)=>new Sequence$1(n,e,t);Layout$4.union=(n,e,t)=>new Union$1(n,e,t);Layout$4.unionLayoutDiscriminator=(n,e)=>new UnionLayoutDiscriminator$1(n,e);var blob$2=Layout$4.blob=(n,e)=>new Blob$4(n,e);Layout$4.cstr=n=>new CString$1(n);Layout$4.utf8=(n,e)=>new UTF8$1(n,e);Layout$4.constant=(n,e)=>new Constant$1(n,e);var browser$8={};Object.defineProperty(browser$8,"__esModule",{value:!0});function toBigIntLE(n){{const e=dist$3.Buffer.from(n);e.reverse();const t=e.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}var toBigIntLE_1=browser$8.toBigIntLE=toBigIntLE;function toBigIntBE(n){{const e=n.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var toBigIntBE_1=browser$8.toBigIntBE=toBigIntBE;function toBufferLE(n,e){{const t=n.toString(16),r=dist$3.Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex");return r.reverse(),r}}var toBufferLE_1=browser$8.toBufferLE=toBufferLE;function toBufferBE(n,e){{const t=n.toString(16);return dist$3.Buffer.from(t.padStart(e*2,"0").slice(0,e*2),"hex")}}var toBufferBE_1=browser$8.toBufferBE=toBufferBE;class StructError$7 extends TypeError{constructor(e,t){let r;const{message:o,explanation:a,...c}=e,{path:u}=e,en=u.length===0?o:`At path: ${u.join(".")} -- ${o}`;super(a??en),a!=null&&(this.cause=en),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function isIterable$7(n){return isObject$b(n)&&typeof n[Symbol.iterator]=="function"}function isObject$b(n){return typeof n=="object"&&n!=null}function isNonArrayObject$1(n){return isObject$b(n)&&!Array.isArray(n)}function print$7(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function shiftIterator$7(n){const{done:e,value:t}=n.next();return e?void 0:t}function toFailure$7(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:a}=e,{type:c}=t,{refinement:u,message:en=`Expected a value of type \`${c}\`${u?` with refinement \`${u}\``:""}, but received: \`${print$7(r)}\``}=n;return{value:r,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...n,message:en}}function*toFailures$7(n,e,t,r){isIterable$7(n)||(n=[n]);for(const o of n){const a=toFailure$7(o,e,t,r);a&&(yield a)}}function*run$8(n,e,t={}){const{path:r=[],branch:o=[n],coerce:a=!1,mask:c=!1}=t,u={path:r,branch:o,mask:c};a&&(n=e.coercer(n,u));let en="valid";for(const tn of e.validator(n,u))tn.explanation=t.message,en="not_valid",yield[tn,void 0];for(let[tn,nn,sn]of e.entries(n,u)){const fn=run$8(nn,sn,{path:tn===void 0?r:[...r,tn],branch:tn===void 0?o:[...o,nn],coerce:a,mask:c,message:t.message});for(const dn of fn)dn[0]?(en=dn[0].refinement!=null?"not_refined":"not_valid",yield[dn[0],void 0]):a&&(nn=dn[1],tn===void 0?n=nn:n instanceof Map?n.set(tn,nn):n instanceof Set?n.add(nn):isObject$b(n)&&(nn!==void 0||tn in n)&&(n[tn]=nn))}if(en!=="not_valid")for(const tn of e.refiner(n,u))tn.explanation=t.message,en="not_refined",yield[tn,void 0];en==="valid"&&(yield[void 0,n])}class Struct$f{constructor(e){const{type:t,schema:r,validator:o,refiner:a,coercer:c=en=>en,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,o?this.validator=(en,tn)=>{const nn=o(en,tn);return toFailures$7(nn,tn,this,en)}:this.validator=()=>[],a?this.refiner=(en,tn)=>{const nn=a(en,tn);return toFailures$7(nn,tn,this,en)}:this.refiner=()=>[]}assert(e,t){return assert$j(e,this,t)}create(e,t){return create$7(e,this,t)}is(e){return is$7(e,this)}mask(e,t){return mask$7(e,this,t)}validate(e,t={}){return validate$8(e,this,t)}}function assert$j(n,e,t){const r=validate$8(n,e,{message:t});if(r[0])throw r[0]}function create$7(n,e,t){const r=validate$8(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function mask$7(n,e,t){const r=validate$8(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function is$7(n,e){return!validate$8(n,e)[0]}function validate$8(n,e,t={}){const r=run$8(n,e,t),o=shiftIterator$7(r);if(o[0])return[new StructError$7(o[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$c(n,e){return new Struct$f({type:n,schema:null,validator:e})}function any$7(){return define$c("any",()=>!0)}function array$8(n){return new Struct$f({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${print$7(e)}`}})}function boolean$7(){return define$c("boolean",n=>typeof n=="boolean")}function instance$6(n){return define$c("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${print$7(e)}`)}function literal$7(n){const e=print$7(n),t=typeof n;return new Struct$f({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${print$7(r)}`}})}function never$6(){return define$c("never",()=>!1)}function nullable$7(n){return new Struct$f({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function number$9(){return define$c("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${print$7(n)}`)}function optional$7(n){return new Struct$f({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function record$6(n,e){return new Struct$f({type:"record",schema:null,*entries(t){if(isObject$b(t))for(const r in t){const o=t[r];yield[r,r,n],yield[r,o,e]}},validator(t){return isNonArrayObject$1(t)||`Expected an object, but received: ${print$7(t)}`},coercer(t){return isNonArrayObject$1(t)?{...t}:t}})}function string$8(){return define$c("string",n=>typeof n=="string"||`Expected a string, but received: ${print$7(n)}`)}function tuple$7(n){const e=never$6();return new Struct$f({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let o=0;o<r;o++)yield[o,t[o],n[o]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${print$7(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function type$7(n){const e=Object.keys(n);return new Struct$f({type:"type",schema:n,*entries(t){if(isObject$b(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return isNonArrayObject$1(t)||`Expected an object, but received: ${print$7(t)}`},coercer(t){return isNonArrayObject$1(t)?{...t}:t}})}function union$8(n){const e=n.map(t=>t.type).join(" | ");return new Struct$f({type:"union",schema:null,coercer(t,r){for(const o of n){const[a,c]=o.validate(t,{coerce:!0,mask:r.mask});if(!a)return c}return t},validator(t,r){const o=[];for(const a of n){const[...c]=run$8(t,a,r),[u]=c;if(u[0])for(const[en]of c)en&&o.push(en);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${print$7(t)}`,...o]}})}function unknown$7(){return define$c("unknown",()=>!0)}function coerce$7(n,e,t){return new Struct$f({...n,coercer:(r,o)=>is$7(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}var REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$7(n){return typeof n=="string"&&REGEX.test(n)}var byteToHex=[];for(var i$2=0;i$2<256;++i$2)byteToHex.push((i$2+256).toString(16).substr(1));function stringify$5(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(byteToHex[n[e+0]]+byteToHex[n[e+1]]+byteToHex[n[e+2]]+byteToHex[n[e+3]]+"-"+byteToHex[n[e+4]]+byteToHex[n[e+5]]+"-"+byteToHex[n[e+6]]+byteToHex[n[e+7]]+"-"+byteToHex[n[e+8]]+byteToHex[n[e+9]]+"-"+byteToHex[n[e+10]]+byteToHex[n[e+11]]+byteToHex[n[e+12]]+byteToHex[n[e+13]]+byteToHex[n[e+14]]+byteToHex[n[e+15]]).toLowerCase();if(!validate$7(t))throw TypeError("Stringified UUID is invalid");return t}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(n,e,t){var r=e&&t||0,o=e||new Array(16);n=n||{};var a=n.node||_nodeId,c=n.clockseq!==void 0?n.clockseq:_clockseq;if(a==null||c==null){var u=n.random||(n.rng||rng)();a==null&&(a=_nodeId=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=_clockseq=(u[6]<<8|u[7])&16383)}var en=n.msecs!==void 0?n.msecs:Date.now(),tn=n.nsecs!==void 0?n.nsecs:_lastNSecs+1,nn=en-_lastMSecs+(tn-_lastNSecs)/1e4;if(nn<0&&n.clockseq===void 0&&(c=c+1&16383),(nn<0||en>_lastMSecs)&&n.nsecs===void 0&&(tn=0),tn>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=en,_lastNSecs=tn,_clockseq=c,en+=122192928e5;var sn=((en&268435455)*1e4+tn)%4294967296;o[r++]=sn>>>24&255,o[r++]=sn>>>16&255,o[r++]=sn>>>8&255,o[r++]=sn&255;var fn=en/4294967296*1e4&268435455;o[r++]=fn>>>8&255,o[r++]=fn&255,o[r++]=fn>>>24&15|16,o[r++]=fn>>>16&255,o[r++]=c>>>8|128,o[r++]=c&255;for(var dn=0;dn<6;++dn)o[r+dn]=a[dn];return e||stringify$5(o)}function parse$1(n){if(!validate$7(n))throw TypeError("Invalid UUID");var e,t=new Uint8Array(16);return t[0]=(e=parseInt(n.slice(0,8),16))>>>24,t[1]=e>>>16&255,t[2]=e>>>8&255,t[3]=e&255,t[4]=(e=parseInt(n.slice(9,13),16))>>>8,t[5]=e&255,t[6]=(e=parseInt(n.slice(14,18),16))>>>8,t[7]=e&255,t[8]=(e=parseInt(n.slice(19,23),16))>>>8,t[9]=e&255,t[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,t[11]=e/4294967296&255,t[12]=e>>>24&255,t[13]=e>>>16&255,t[14]=e>>>8&255,t[15]=e&255,t}function stringToBytes(n){n=unescape(encodeURIComponent(n));for(var e=[],t=0;t<n.length;++t)e.push(n.charCodeAt(t));return e}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(n,e,t){function r(o,a,c,u){if(typeof o=="string"&&(o=stringToBytes(o)),typeof a=="string"&&(a=parse$1(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var en=new Uint8Array(16+o.length);if(en.set(a),en.set(o,a.length),en=t(en),en[6]=en[6]&15|e,en[8]=en[8]&63|128,c){u=u||0;for(var tn=0;tn<16;++tn)c[u+tn]=en[tn];return c}return stringify$5(en)}try{r.name=n}catch{}return r.DNS=DNS,r.URL=URL$1,r}function md5(n){if(typeof n=="string"){var e=unescape(encodeURIComponent(n));n=new Uint8Array(e.length);for(var t=0;t<e.length;++t)n[t]=e.charCodeAt(t)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(n),n.length*8))}function md5ToHexEncodedArray(n){for(var e=[],t=n.length*32,r="0123456789abcdef",o=0;o<t;o+=8){var a=n[o>>5]>>>o%32&255,c=parseInt(r.charAt(a>>>4&15)+r.charAt(a&15),16);e.push(c)}return e}function getOutputLength(n){return(n+64>>>9<<4)+14+1}function wordsToMd5(n,e){n[e>>5]|=128<<e%32,n[getOutputLength(e)-1]=e;for(var t=1732584193,r=-271733879,o=-1732584194,a=271733878,c=0;c<n.length;c+=16){var u=t,en=r,tn=o,nn=a;t=md5ff(t,r,o,a,n[c],7,-680876936),a=md5ff(a,t,r,o,n[c+1],12,-389564586),o=md5ff(o,a,t,r,n[c+2],17,606105819),r=md5ff(r,o,a,t,n[c+3],22,-1044525330),t=md5ff(t,r,o,a,n[c+4],7,-176418897),a=md5ff(a,t,r,o,n[c+5],12,1200080426),o=md5ff(o,a,t,r,n[c+6],17,-1473231341),r=md5ff(r,o,a,t,n[c+7],22,-45705983),t=md5ff(t,r,o,a,n[c+8],7,1770035416),a=md5ff(a,t,r,o,n[c+9],12,-1958414417),o=md5ff(o,a,t,r,n[c+10],17,-42063),r=md5ff(r,o,a,t,n[c+11],22,-1990404162),t=md5ff(t,r,o,a,n[c+12],7,1804603682),a=md5ff(a,t,r,o,n[c+13],12,-40341101),o=md5ff(o,a,t,r,n[c+14],17,-1502002290),r=md5ff(r,o,a,t,n[c+15],22,1236535329),t=md5gg(t,r,o,a,n[c+1],5,-165796510),a=md5gg(a,t,r,o,n[c+6],9,-1069501632),o=md5gg(o,a,t,r,n[c+11],14,643717713),r=md5gg(r,o,a,t,n[c],20,-373897302),t=md5gg(t,r,o,a,n[c+5],5,-701558691),a=md5gg(a,t,r,o,n[c+10],9,38016083),o=md5gg(o,a,t,r,n[c+15],14,-660478335),r=md5gg(r,o,a,t,n[c+4],20,-405537848),t=md5gg(t,r,o,a,n[c+9],5,568446438),a=md5gg(a,t,r,o,n[c+14],9,-1019803690),o=md5gg(o,a,t,r,n[c+3],14,-187363961),r=md5gg(r,o,a,t,n[c+8],20,1163531501),t=md5gg(t,r,o,a,n[c+13],5,-1444681467),a=md5gg(a,t,r,o,n[c+2],9,-51403784),o=md5gg(o,a,t,r,n[c+7],14,1735328473),r=md5gg(r,o,a,t,n[c+12],20,-1926607734),t=md5hh(t,r,o,a,n[c+5],4,-378558),a=md5hh(a,t,r,o,n[c+8],11,-2022574463),o=md5hh(o,a,t,r,n[c+11],16,1839030562),r=md5hh(r,o,a,t,n[c+14],23,-35309556),t=md5hh(t,r,o,a,n[c+1],4,-1530992060),a=md5hh(a,t,r,o,n[c+4],11,1272893353),o=md5hh(o,a,t,r,n[c+7],16,-155497632),r=md5hh(r,o,a,t,n[c+10],23,-1094730640),t=md5hh(t,r,o,a,n[c+13],4,681279174),a=md5hh(a,t,r,o,n[c],11,-358537222),o=md5hh(o,a,t,r,n[c+3],16,-722521979),r=md5hh(r,o,a,t,n[c+6],23,76029189),t=md5hh(t,r,o,a,n[c+9],4,-640364487),a=md5hh(a,t,r,o,n[c+12],11,-421815835),o=md5hh(o,a,t,r,n[c+15],16,530742520),r=md5hh(r,o,a,t,n[c+2],23,-995338651),t=md5ii(t,r,o,a,n[c],6,-198630844),a=md5ii(a,t,r,o,n[c+7],10,1126891415),o=md5ii(o,a,t,r,n[c+14],15,-1416354905),r=md5ii(r,o,a,t,n[c+5],21,-57434055),t=md5ii(t,r,o,a,n[c+12],6,1700485571),a=md5ii(a,t,r,o,n[c+3],10,-1894986606),o=md5ii(o,a,t,r,n[c+10],15,-1051523),r=md5ii(r,o,a,t,n[c+1],21,-2054922799),t=md5ii(t,r,o,a,n[c+8],6,1873313359),a=md5ii(a,t,r,o,n[c+15],10,-30611744),o=md5ii(o,a,t,r,n[c+6],15,-1560198380),r=md5ii(r,o,a,t,n[c+13],21,1309151649),t=md5ii(t,r,o,a,n[c+4],6,-145523070),a=md5ii(a,t,r,o,n[c+11],10,-1120210379),o=md5ii(o,a,t,r,n[c+2],15,718787259),r=md5ii(r,o,a,t,n[c+9],21,-343485551),t=safeAdd(t,u),r=safeAdd(r,en),o=safeAdd(o,tn),a=safeAdd(a,nn)}return[t,r,o,a]}function bytesToWords(n){if(n.length===0)return[];for(var e=n.length*8,t=new Uint32Array(getOutputLength(e)),r=0;r<e;r+=8)t[r>>5]|=(n[r/8]&255)<<r%32;return t}function safeAdd(n,e){var t=(n&65535)+(e&65535),r=(n>>16)+(e>>16)+(t>>16);return r<<16|t&65535}function bitRotateLeft(n,e){return n<<e|n>>>32-e}function md5cmn(n,e,t,r,o,a){return safeAdd(bitRotateLeft(safeAdd(safeAdd(e,n),safeAdd(r,a)),o),t)}function md5ff(n,e,t,r,o,a,c){return md5cmn(e&t|~e&r,n,e,o,a,c)}function md5gg(n,e,t,r,o,a,c){return md5cmn(e&r|t&~r,n,e,o,a,c)}function md5hh(n,e,t,r,o,a,c){return md5cmn(e^t^r,n,e,o,a,c)}function md5ii(n,e,t,r,o,a,c){return md5cmn(t^(e|~r),n,e,o,a,c)}var v3=v35("v3",48,md5),v3$1=v3;function v4(n,e,t){n=n||{};var r=n.random||(n.rng||rng)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=r[o];return e}return stringify$5(r)}function f(n,e,t,r){switch(n){case 0:return e&t^~e&r;case 1:return e^t^r;case 2:return e&t^e&r^t&r;case 3:return e^t^r}}function ROTL(n,e){return n<<e|n>>>32-e}function sha1(n){var e=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof n=="string"){var r=unescape(encodeURIComponent(n));n=[];for(var o=0;o<r.length;++o)n.push(r.charCodeAt(o))}else Array.isArray(n)||(n=Array.prototype.slice.call(n));n.push(128);for(var a=n.length/4+2,c=Math.ceil(a/16),u=new Array(c),en=0;en<c;++en){for(var tn=new Uint32Array(16),nn=0;nn<16;++nn)tn[nn]=n[en*64+nn*4]<<24|n[en*64+nn*4+1]<<16|n[en*64+nn*4+2]<<8|n[en*64+nn*4+3];u[en]=tn}u[c-1][14]=(n.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(n.length-1)*8&4294967295;for(var sn=0;sn<c;++sn){for(var fn=new Uint32Array(80),dn=0;dn<16;++dn)fn[dn]=u[sn][dn];for(var hn=16;hn<80;++hn)fn[hn]=ROTL(fn[hn-3]^fn[hn-8]^fn[hn-14]^fn[hn-16],1);for(var ln=t[0],pn=t[1],$n=t[2],Sn=t[3],yn=t[4],In=0;In<80;++In){var An=Math.floor(In/20),Tn=ROTL(ln,5)+f(An,pn,$n,Sn)+yn+e[An]+fn[In]>>>0;yn=Sn,Sn=$n,$n=ROTL(pn,30)>>>0,pn=ln,ln=Tn}t[0]=t[0]+ln>>>0,t[1]=t[1]+pn>>>0,t[2]=t[2]+$n>>>0,t[3]=t[3]+Sn>>>0,t[4]=t[4]+yn>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var v5=v35("v5",80,sha1),v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version(n){if(!validate$7(n))throw TypeError("Invalid UUID");return parseInt(n.substr(14,1),16)}var esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version,validate:validate$7,stringify:stringify$5,parse:parse$1},Symbol.toStringTag,{value:"Module"})),require$$0$5=getAugmentedNamespace(esmBrowser);const uuid$9=require$$0$5.v4,generateRequest$9=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const a={method:n};if(o===2&&(a.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");a.params=e}if(typeof t>"u"){const c=typeof r.generator=="function"?r.generator:function(){return uuid$9()};a.id=c(a,r)}else o===2&&t===null?r.notificationIdNull&&(a.id=null):a.id=t;return a};var generateRequest_1$4=generateRequest$9;const uuid$8=require$$0$5.v4,generateRequest$8=generateRequest_1$4,ClientBrowser$4=function(n,e){if(!(this instanceof ClientBrowser$4))return new ClientBrowser$4(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid$8()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var browser$7=ClientBrowser$4;ClientBrowser$4.prototype.request=function(n,e,t,r){const o=this;let a=null;const c=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&n&&typeof n=="object"&&typeof e=="function")r=e,a=n;else{typeof t=="function"&&(r=t,t=void 0);const tn=typeof r=="function";try{a=generateRequest$8(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(nn){if(tn)return r(nn);throw nn}if(!tn)return a}let en;try{en=JSON.stringify(a,this.options.replacer)}catch(tn){return r(tn)}return this.callServer(en,function(tn,nn){o._parseResponse(tn,nn,r)}),a};ClientBrowser$4.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(r)){const o=function(c){return typeof c.error<"u"},a=function(c){return!o(c)};return t(null,r.filter(o),r.filter(a))}else return t(null,r.error,r.result);t(null,r)};var eventemitter3$1={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function o(en,tn,nn){this.fn=en,this.context=tn,this.once=nn||!1}function a(en,tn,nn,sn,fn){if(typeof nn!="function")throw new TypeError("The listener must be a function");var dn=new o(nn,sn||en,fn),hn=t?t+tn:tn;return en._events[hn]?en._events[hn].fn?en._events[hn]=[en._events[hn],dn]:en._events[hn].push(dn):(en._events[hn]=dn,en._eventsCount++),en}function c(en,tn){--en._eventsCount===0?en._events=new r:delete en._events[tn]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var tn=[],nn,sn;if(this._eventsCount===0)return tn;for(sn in nn=this._events)e.call(nn,sn)&&tn.push(t?sn.slice(1):sn);return Object.getOwnPropertySymbols?tn.concat(Object.getOwnPropertySymbols(nn)):tn},u.prototype.listeners=function(tn){var nn=t?t+tn:tn,sn=this._events[nn];if(!sn)return[];if(sn.fn)return[sn.fn];for(var fn=0,dn=sn.length,hn=new Array(dn);fn<dn;fn++)hn[fn]=sn[fn].fn;return hn},u.prototype.listenerCount=function(tn){var nn=t?t+tn:tn,sn=this._events[nn];return sn?sn.fn?1:sn.length:0},u.prototype.emit=function(tn,nn,sn,fn,dn,hn){var ln=t?t+tn:tn;if(!this._events[ln])return!1;var pn=this._events[ln],$n=arguments.length,Sn,yn;if(pn.fn){switch(pn.once&&this.removeListener(tn,pn.fn,void 0,!0),$n){case 1:return pn.fn.call(pn.context),!0;case 2:return pn.fn.call(pn.context,nn),!0;case 3:return pn.fn.call(pn.context,nn,sn),!0;case 4:return pn.fn.call(pn.context,nn,sn,fn),!0;case 5:return pn.fn.call(pn.context,nn,sn,fn,dn),!0;case 6:return pn.fn.call(pn.context,nn,sn,fn,dn,hn),!0}for(yn=1,Sn=new Array($n-1);yn<$n;yn++)Sn[yn-1]=arguments[yn];pn.fn.apply(pn.context,Sn)}else{var In=pn.length,An;for(yn=0;yn<In;yn++)switch(pn[yn].once&&this.removeListener(tn,pn[yn].fn,void 0,!0),$n){case 1:pn[yn].fn.call(pn[yn].context);break;case 2:pn[yn].fn.call(pn[yn].context,nn);break;case 3:pn[yn].fn.call(pn[yn].context,nn,sn);break;case 4:pn[yn].fn.call(pn[yn].context,nn,sn,fn);break;default:if(!Sn)for(An=1,Sn=new Array($n-1);An<$n;An++)Sn[An-1]=arguments[An];pn[yn].fn.apply(pn[yn].context,Sn)}}return!0},u.prototype.on=function(tn,nn,sn){return a(this,tn,nn,sn,!1)},u.prototype.once=function(tn,nn,sn){return a(this,tn,nn,sn,!0)},u.prototype.removeListener=function(tn,nn,sn,fn){var dn=t?t+tn:tn;if(!this._events[dn])return this;if(!nn)return c(this,dn),this;var hn=this._events[dn];if(hn.fn)hn.fn===nn&&(!fn||hn.once)&&(!sn||hn.context===sn)&&c(this,dn);else{for(var ln=0,pn=[],$n=hn.length;ln<$n;ln++)(hn[ln].fn!==nn||fn&&!hn[ln].once||sn&&hn[ln].context!==sn)&&pn.push(hn[ln]);pn.length?this._events[dn]=pn.length===1?pn[0]:pn:c(this,dn)}return this},u.prototype.removeAllListeners=function(tn){var nn;return tn?(nn=t?t+tn:tn,this._events[nn]&&c(this,nn)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,n.exports=u})(eventemitter3$1);var EventEmitter$1=eventemitter3$1.exports,WebSocketBrowserImpl=class extends EventEmitter$1{socket;constructor(n,e,t){super(),this.socket=new window.WebSocket(n,t),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(n,e,t){const r=t||e;try{this.socket.send(n),r()}catch(o){r(o)}}close(n,e){this.socket.close(n,e)}addEventListener(n,e,t){this.socket.addEventListener(n,e,t)}};function WebSocket$1(n,e){return new WebSocketBrowserImpl(n,e)}var DefaultDataPack=class{encode(n){return JSON.stringify(n)}decode(n){return JSON.parse(n)}},CommonClient=class extends EventEmitter$1{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(n,e="ws://localhost:8080",{autoconnect:t=!0,reconnect:r=!0,reconnect_interval:o=1e3,max_reconnects:a=5,...c}={},u,en){super(),this.webSocketFactory=n,this.queue={},this.rpc_id=0,this.address=e,this.autoconnect=t,this.ready=!1,this.reconnect=r,this.reconnect_timer_id=void 0,this.reconnect_interval=o,this.max_reconnects=a,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=u||(()=>++this.rpc_id),en?this.dataPack=en:this.dataPack=new DefaultDataPack,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(n,e,t,r){return!r&&typeof t=="object"&&(r=t,t=null),new Promise((o,a)=>{if(!this.ready)return a(new Error("socket not ready"));const c=this.generate_request_id(n,e),u={jsonrpc:"2.0",method:n,params:e||void 0,id:c};this.socket.send(this.dataPack.encode(u),r,en=>{if(en)return a(en);this.queue[c]={promise:[o,a]},t&&(this.queue[c].timeout=setTimeout(()=>{delete this.queue[c],a(new Error("reply timeout"))},t))})})}async login(n){const e=await this.call("rpc.login",n);if(!e)throw new Error("authentication failed");return e}async listMethods(){return await this.call("__listMethods")}notify(n,e){return new Promise((t,r)=>{if(!this.ready)return r(new Error("socket not ready"));const o={jsonrpc:"2.0",method:n,params:e};this.socket.send(this.dataPack.encode(o),a=>{if(a)return r(a);t()})})}async subscribe(n){typeof n=="string"&&(n=[n]);const e=await this.call("rpc.on",n);if(typeof n=="string"&&e[n]!=="ok")throw new Error("Failed subscribing to an event '"+n+"' with: "+e[n]);return e}async unsubscribe(n){typeof n=="string"&&(n=[n]);const e=await this.call("rpc.off",n);if(typeof n=="string"&&e[n]!=="ok")throw new Error("Failed unsubscribing from an event with: "+e);return e}close(n,e){this.socket.close(n||1e3,e)}setAutoReconnect(n){this.reconnect=n}setReconnectInterval(n){this.reconnect_interval=n}setMaxReconnects(n){this.max_reconnects=n}_connect(n,e){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(n,e),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:t})=>{t instanceof ArrayBuffer&&(t=bufferPolyfill.Buffer.from(t).toString());try{t=this.dataPack.decode(t)}catch{return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const r=[t.notification];if(t.params.constructor===Object)r.push(t.params);else for(let o=0;o<t.params.length;o++)r.push(t.params[o]);return Promise.resolve().then(()=>{this.emit.apply(this,r)})}if(!this.queue[t.id])return t.method?Promise.resolve().then(()=>{this.emit(t.method,t==null?void 0:t.params)}):void 0;"error"in t=="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]}),this.socket.addEventListener("error",t=>this.emit("error",t)),this.socket.addEventListener("close",({code:t,reason:r})=>{this.ready&&setTimeout(()=>this.emit("close",t,r),0),this.ready=!1,this.socket=void 0,t!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(n,e),this.reconnect_interval)))})}};class HMAC$2 extends Hash$2{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,hash$2(e);const r=toBytes$2(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(r.length>o?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return exists$2(this),this.iHash.update(e),this}digestInto(e){exists$2(this),bytes$3(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:o,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$2=(n,e,t)=>new HMAC$2(n,e).update(t).digest();hmac$2.create=(n,e)=>new HMAC$2(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts$1(n){n.lowS!==void 0&&abool$1("lowS",n.lowS),n.prehash!==void 0&&abool$1("prehash",n.prehash)}function validatePointOpts$2(n){const e=validateBasic$2(n);validateObject$2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:o}=e;if(t){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b2n$2,hexToBytes:h2b$2}=ut$3,DER$2={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=DER$2;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:b2n$2(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=DER$2,t=typeof n=="string"?h2b$2(n):n;abytes$1(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:o,l:a}=DER$2._parseInt(t.subarray(2)),{d:c,l:u}=DER$2._parseInt(a);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s:c}},hexFromSig(n){const e=tn=>Number.parseInt(tn[0],16)&8?"00"+tn:tn,t=tn=>{const nn=tn.toString(16);return nn.length&1?`0${nn}`:nn},r=e(t(n.s)),o=e(t(n.r)),a=r.length/2,c=o.length/2,u=t(a),en=t(c);return`30${t(c+a+4)}02${en}${o}02${u}${r}`}},_0n$b=BigInt(0),_1n$g=BigInt(1);BigInt(2);const _3n$4=BigInt(3);BigInt(4);function weierstrassPoints$2(n){const e=validatePointOpts$2(n),{Fp:t}=e,r=e.toBytes||((hn,ln,pn)=>{const $n=ln.toAffine();return concatBytes$4(Uint8Array.from([4]),t.toBytes($n.x),t.toBytes($n.y))}),o=e.fromBytes||(hn=>{const ln=hn.subarray(1),pn=t.fromBytes(ln.subarray(0,t.BYTES)),$n=t.fromBytes(ln.subarray(t.BYTES,2*t.BYTES));return{x:pn,y:$n}});function a(hn){const{a:ln,b:pn}=e,$n=t.sqr(hn),Sn=t.mul($n,hn);return t.add(t.add(Sn,t.mul(hn,ln)),pn)}if(!t.eql(t.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function c(hn){return inRange$2(hn,_1n$g,e.n)}function u(hn){const{allowedPrivateKeyLengths:ln,nByteLength:pn,wrapPrivateKey:$n,n:Sn}=e;if(ln&&typeof hn!="bigint"){if(isBytes$2(hn)&&(hn=bytesToHex$2(hn)),typeof hn!="string"||!ln.includes(hn.length))throw new Error("Invalid key");hn=hn.padStart(pn*2,"0")}let yn;try{yn=typeof hn=="bigint"?hn:bytesToNumberBE$2(ensureBytes$2("private key",hn,pn))}catch{throw new Error(`private key must be ${pn} bytes, hex or bigint, not ${typeof hn}`)}return $n&&(yn=mod$2(yn,Sn)),aInRange$1("private key",yn,_1n$g,Sn),yn}function en(hn){if(!(hn instanceof sn))throw new Error("ProjectivePoint expected")}const tn=memoized$1((hn,ln)=>{const{px:pn,py:$n,pz:Sn}=hn;if(t.eql(Sn,t.ONE))return{x:pn,y:$n};const yn=hn.is0();ln==null&&(ln=yn?t.ONE:t.inv(Sn));const In=t.mul(pn,ln),An=t.mul($n,ln),Tn=t.mul(Sn,ln);if(yn)return{x:t.ZERO,y:t.ZERO};if(!t.eql(Tn,t.ONE))throw new Error("invZ was invalid");return{x:In,y:An}}),nn=memoized$1(hn=>{if(hn.is0()){if(e.allowInfinityPoint&&!t.is0(hn.py))return;throw new Error("bad point: ZERO")}const{x:ln,y:pn}=hn.toAffine();if(!t.isValid(ln)||!t.isValid(pn))throw new Error("bad point: x or y not FE");const $n=t.sqr(pn),Sn=a(ln);if(!t.eql($n,Sn))throw new Error("bad point: equation left != right");if(!hn.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class sn{constructor(ln,pn,$n){if(this.px=ln,this.py=pn,this.pz=$n,ln==null||!t.isValid(ln))throw new Error("x required");if(pn==null||!t.isValid(pn))throw new Error("y required");if($n==null||!t.isValid($n))throw new Error("z required");Object.freeze(this)}static fromAffine(ln){const{x:pn,y:$n}=ln||{};if(!ln||!t.isValid(pn)||!t.isValid($n))throw new Error("invalid affine point");if(ln instanceof sn)throw new Error("projective point not allowed");const Sn=yn=>t.eql(yn,t.ZERO);return Sn(pn)&&Sn($n)?sn.ZERO:new sn(pn,$n,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(ln){const pn=t.invertBatch(ln.map($n=>$n.pz));return ln.map(($n,Sn)=>$n.toAffine(pn[Sn])).map(sn.fromAffine)}static fromHex(ln){const pn=sn.fromAffine(o(ensureBytes$2("pointHex",ln)));return pn.assertValidity(),pn}static fromPrivateKey(ln){return sn.BASE.multiply(u(ln))}_setWindowSize(ln){dn.setWindowSize(this,ln)}assertValidity(){nn(this)}hasEvenY(){const{y:ln}=this.toAffine();if(t.isOdd)return!t.isOdd(ln);throw new Error("Field doesn't support isOdd")}equals(ln){en(ln);const{px:pn,py:$n,pz:Sn}=this,{px:yn,py:In,pz:An}=ln,Tn=t.eql(t.mul(pn,An),t.mul(yn,Sn)),kn=t.eql(t.mul($n,An),t.mul(In,Sn));return Tn&&kn}negate(){return new sn(this.px,t.neg(this.py),this.pz)}double(){const{a:ln,b:pn}=e,$n=t.mul(pn,_3n$4),{px:Sn,py:yn,pz:In}=this;let An=t.ZERO,Tn=t.ZERO,kn=t.ZERO,Pn=t.mul(Sn,Sn),Dn=t.mul(yn,yn),Kn=t.mul(In,In),Hn=t.mul(Sn,yn);return Hn=t.add(Hn,Hn),kn=t.mul(Sn,In),kn=t.add(kn,kn),An=t.mul(ln,kn),Tn=t.mul($n,Kn),Tn=t.add(An,Tn),An=t.sub(Dn,Tn),Tn=t.add(Dn,Tn),Tn=t.mul(An,Tn),An=t.mul(Hn,An),kn=t.mul($n,kn),Kn=t.mul(ln,Kn),Hn=t.sub(Pn,Kn),Hn=t.mul(ln,Hn),Hn=t.add(Hn,kn),kn=t.add(Pn,Pn),Pn=t.add(kn,Pn),Pn=t.add(Pn,Kn),Pn=t.mul(Pn,Hn),Tn=t.add(Tn,Pn),Kn=t.mul(yn,In),Kn=t.add(Kn,Kn),Pn=t.mul(Kn,Hn),An=t.sub(An,Pn),kn=t.mul(Kn,Dn),kn=t.add(kn,kn),kn=t.add(kn,kn),new sn(An,Tn,kn)}add(ln){en(ln);const{px:pn,py:$n,pz:Sn}=this,{px:yn,py:In,pz:An}=ln;let Tn=t.ZERO,kn=t.ZERO,Pn=t.ZERO;const Dn=e.a,Kn=t.mul(e.b,_3n$4);let Hn=t.mul(pn,yn),jn=t.mul($n,In),Cn=t.mul(Sn,An),mn=t.add(pn,$n),_n=t.add(yn,In);mn=t.mul(mn,_n),_n=t.add(Hn,jn),mn=t.sub(mn,_n),_n=t.add(pn,Sn);let vn=t.add(yn,An);return _n=t.mul(_n,vn),vn=t.add(Hn,Cn),_n=t.sub(_n,vn),vn=t.add($n,Sn),Tn=t.add(In,An),vn=t.mul(vn,Tn),Tn=t.add(jn,Cn),vn=t.sub(vn,Tn),Pn=t.mul(Dn,_n),Tn=t.mul(Kn,Cn),Pn=t.add(Tn,Pn),Tn=t.sub(jn,Pn),Pn=t.add(jn,Pn),kn=t.mul(Tn,Pn),jn=t.add(Hn,Hn),jn=t.add(jn,Hn),Cn=t.mul(Dn,Cn),_n=t.mul(Kn,_n),jn=t.add(jn,Cn),Cn=t.sub(Hn,Cn),Cn=t.mul(Dn,Cn),_n=t.add(_n,Cn),Hn=t.mul(jn,_n),kn=t.add(kn,Hn),Hn=t.mul(vn,_n),Tn=t.mul(mn,Tn),Tn=t.sub(Tn,Hn),Hn=t.mul(mn,jn),Pn=t.mul(vn,Pn),Pn=t.add(Pn,Hn),new sn(Tn,kn,Pn)}subtract(ln){return this.add(ln.negate())}is0(){return this.equals(sn.ZERO)}wNAF(ln){return dn.wNAFCached(this,ln,sn.normalizeZ)}multiplyUnsafe(ln){aInRange$1("scalar",ln,_0n$b,e.n);const pn=sn.ZERO;if(ln===_0n$b)return pn;if(ln===_1n$g)return this;const{endo:$n}=e;if(!$n)return dn.unsafeLadder(this,ln);let{k1neg:Sn,k1:yn,k2neg:In,k2:An}=$n.splitScalar(ln),Tn=pn,kn=pn,Pn=this;for(;yn>_0n$b||An>_0n$b;)yn&_1n$g&&(Tn=Tn.add(Pn)),An&_1n$g&&(kn=kn.add(Pn)),Pn=Pn.double(),yn>>=_1n$g,An>>=_1n$g;return Sn&&(Tn=Tn.negate()),In&&(kn=kn.negate()),kn=new sn(t.mul(kn.px,$n.beta),kn.py,kn.pz),Tn.add(kn)}multiply(ln){const{endo:pn,n:$n}=e;aInRange$1("scalar",ln,_1n$g,$n);let Sn,yn;if(pn){const{k1neg:In,k1:An,k2neg:Tn,k2:kn}=pn.splitScalar(ln);let{p:Pn,f:Dn}=this.wNAF(An),{p:Kn,f:Hn}=this.wNAF(kn);Pn=dn.constTimeNegate(In,Pn),Kn=dn.constTimeNegate(Tn,Kn),Kn=new sn(t.mul(Kn.px,pn.beta),Kn.py,Kn.pz),Sn=Pn.add(Kn),yn=Dn.add(Hn)}else{const{p:In,f:An}=this.wNAF(ln);Sn=In,yn=An}return sn.normalizeZ([Sn,yn])[0]}multiplyAndAddUnsafe(ln,pn,$n){const Sn=sn.BASE,yn=(An,Tn)=>Tn===_0n$b||Tn===_1n$g||!An.equals(Sn)?An.multiplyUnsafe(Tn):An.multiply(Tn),In=yn(this,pn).add(yn(ln,$n));return In.is0()?void 0:In}toAffine(ln){return tn(this,ln)}isTorsionFree(){const{h:ln,isTorsionFree:pn}=e;if(ln===_1n$g)return!0;if(pn)return pn(sn,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:ln,clearCofactor:pn}=e;return ln===_1n$g?this:pn?pn(sn,this):this.multiplyUnsafe(e.h)}toRawBytes(ln=!0){return abool$1("isCompressed",ln),this.assertValidity(),r(sn,this,ln)}toHex(ln=!0){return abool$1("isCompressed",ln),bytesToHex$2(this.toRawBytes(ln))}}sn.BASE=new sn(e.Gx,e.Gy,t.ONE),sn.ZERO=new sn(t.ZERO,t.ONE,t.ZERO);const fn=e.nBitLength,dn=wNAF$2(sn,e.endo?Math.ceil(fn/2):fn);return{CURVE:e,ProjectivePoint:sn,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:c}}function validateOpts$4(n){const e=validateBasic$2(n);return validateObject$2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function weierstrass$2(n){const e=validateOpts$4(n),{Fp:t,n:r}=e,o=t.BYTES+1,a=2*t.BYTES+1;function c(mn){return mod$2(mn,r)}function u(mn){return invert$2(mn,r)}const{ProjectivePoint:en,normPrivateKeyToScalar:tn,weierstrassEquation:nn,isWithinCurveOrder:sn}=weierstrassPoints$2({...e,toBytes(mn,_n,vn){const On=_n.toAffine(),Nn=t.toBytes(On.x),Un=concatBytes$4;return abool$1("isCompressed",vn),vn?Un(Uint8Array.from([_n.hasEvenY()?2:3]),Nn):Un(Uint8Array.from([4]),Nn,t.toBytes(On.y))},fromBytes(mn){const _n=mn.length,vn=mn[0],On=mn.subarray(1);if(_n===o&&(vn===2||vn===3)){const Nn=bytesToNumberBE$2(On);if(!inRange$2(Nn,_1n$g,t.ORDER))throw new Error("Point is not on curve");const Un=nn(Nn);let zn;try{zn=t.sqrt(Un)}catch(Mn){const Zn=Mn instanceof Error?": "+Mn.message:"";throw new Error("Point is not on curve"+Zn)}const Bn=(zn&_1n$g)===_1n$g;return(vn&1)===1!==Bn&&(zn=t.neg(zn)),{x:Nn,y:zn}}else if(_n===a&&vn===4){const Nn=t.fromBytes(On.subarray(0,t.BYTES)),Un=t.fromBytes(On.subarray(t.BYTES,2*t.BYTES));return{x:Nn,y:Un}}else throw new Error(`Point of length ${_n} was invalid. Expected ${o} compressed bytes or ${a} uncompressed bytes`)}}),fn=mn=>bytesToHex$2(numberToBytesBE$2(mn,e.nByteLength));function dn(mn){const _n=r>>_1n$g;return mn>_n}function hn(mn){return dn(mn)?c(-mn):mn}const ln=(mn,_n,vn)=>bytesToNumberBE$2(mn.slice(_n,vn));class pn{constructor(_n,vn,On){this.r=_n,this.s=vn,this.recovery=On,this.assertValidity()}static fromCompact(_n){const vn=e.nByteLength;return _n=ensureBytes$2("compactSignature",_n,vn*2),new pn(ln(_n,0,vn),ln(_n,vn,2*vn))}static fromDER(_n){const{r:vn,s:On}=DER$2.toSig(ensureBytes$2("DER",_n));return new pn(vn,On)}assertValidity(){aInRange$1("r",this.r,_1n$g,r),aInRange$1("s",this.s,_1n$g,r)}addRecoveryBit(_n){return new pn(this.r,this.s,_n)}recoverPublicKey(_n){const{r:vn,s:On,recovery:Nn}=this,Un=Tn(ensureBytes$2("msgHash",_n));if(Nn==null||![0,1,2,3].includes(Nn))throw new Error("recovery id invalid");const zn=Nn===2||Nn===3?vn+e.n:vn;if(zn>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const Bn=(Nn&1)===0?"02":"03",En=en.fromHex(Bn+fn(zn)),Mn=u(zn),Zn=c(-Un*Mn),Sr=c(On*Mn),$r=en.BASE.multiplyAndAddUnsafe(En,Zn,Sr);if(!$r)throw new Error("point at infinify");return $r.assertValidity(),$r}hasHighS(){return dn(this.s)}normalizeS(){return this.hasHighS()?new pn(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$2(this.toDERHex())}toDERHex(){return DER$2.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$2(this.toCompactHex())}toCompactHex(){return fn(this.r)+fn(this.s)}}const $n={isValidPrivateKey(mn){try{return tn(mn),!0}catch{return!1}},normPrivateKeyToScalar:tn,randomPrivateKey:()=>{const mn=getMinHashLength$2(e.n);return mapHashToField$2(e.randomBytes(mn),e.n)},precompute(mn=8,_n=en.BASE){return _n._setWindowSize(mn),_n.multiply(BigInt(3)),_n}};function Sn(mn,_n=!0){return en.fromPrivateKey(mn).toRawBytes(_n)}function yn(mn){const _n=isBytes$2(mn),vn=typeof mn=="string",On=(_n||vn)&&mn.length;return _n?On===o||On===a:vn?On===2*o||On===2*a:mn instanceof en}function In(mn,_n,vn=!0){if(yn(mn))throw new Error("first arg must be private key");if(!yn(_n))throw new Error("second arg must be public key");return en.fromHex(_n).multiply(tn(mn)).toRawBytes(vn)}const An=e.bits2int||function(mn){const _n=bytesToNumberBE$2(mn),vn=mn.length*8-e.nBitLength;return vn>0?_n>>BigInt(vn):_n},Tn=e.bits2int_modN||function(mn){return c(An(mn))},kn=bitMask$2(e.nBitLength);function Pn(mn){return aInRange$1(`num < 2^${e.nBitLength}`,mn,_0n$b,kn),numberToBytesBE$2(mn,e.nByteLength)}function Dn(mn,_n,vn=Kn){if(["recovered","canonical"].some(br=>br in vn))throw new Error("sign() legacy options not supported");const{hash:On,randomBytes:Nn}=e;let{lowS:Un,prehash:zn,extraEntropy:Bn}=vn;Un==null&&(Un=!0),mn=ensureBytes$2("msgHash",mn),validateSigVerOpts$1(vn),zn&&(mn=ensureBytes$2("prehashed msgHash",On(mn)));const En=Tn(mn),Mn=tn(_n),Zn=[Pn(Mn),Pn(En)];if(Bn!=null&&Bn!==!1){const br=Bn===!0?Nn(t.BYTES):Bn;Zn.push(ensureBytes$2("extraEntropy",br))}const Sr=concatBytes$4(...Zn),$r=En;function Xn(br){const _r=An(br);if(!sn(_r))return;const kr=u(_r),Cr=en.BASE.multiply(_r).toAffine(),qn=c(Cr.x);if(qn===_0n$b)return;const Jn=c(kr*c($r+qn*Mn));if(Jn===_0n$b)return;let Qn=(Cr.x===qn?0:2)|Number(Cr.y&_1n$g),Tr=Jn;return Un&&dn(Jn)&&(Tr=hn(Jn),Qn^=1),new pn(qn,Tr,Qn)}return{seed:Sr,k2sig:Xn}}const Kn={lowS:e.lowS,prehash:!1},Hn={lowS:e.lowS,prehash:!1};function jn(mn,_n,vn=Kn){const{seed:On,k2sig:Nn}=Dn(mn,_n,vn),Un=e;return createHmacDrbg$2(Un.hash.outputLen,Un.nByteLength,Un.hmac)(On,Nn)}en.BASE._setWindowSize(8);function Cn(mn,_n,vn,On=Hn){var Cr;const Nn=mn;if(_n=ensureBytes$2("msgHash",_n),vn=ensureBytes$2("publicKey",vn),"strict"in On)throw new Error("options.strict was renamed to lowS");validateSigVerOpts$1(On);const{lowS:Un,prehash:zn}=On;let Bn,En;try{if(typeof Nn=="string"||isBytes$2(Nn))try{Bn=pn.fromDER(Nn)}catch(qn){if(!(qn instanceof DER$2.Err))throw qn;Bn=pn.fromCompact(Nn)}else if(typeof Nn=="object"&&typeof Nn.r=="bigint"&&typeof Nn.s=="bigint"){const{r:qn,s:Jn}=Nn;Bn=new pn(qn,Jn)}else throw new Error("PARSE");En=en.fromHex(vn)}catch(qn){if(qn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Un&&Bn.hasHighS())return!1;zn&&(_n=e.hash(_n));const{r:Mn,s:Zn}=Bn,Sr=Tn(_n),$r=u(Zn),Xn=c(Sr*$r),br=c(Mn*$r),_r=(Cr=en.BASE.multiplyAndAddUnsafe(En,Xn,br))==null?void 0:Cr.toAffine();return _r?c(_r.x)===Mn:!1}return{CURVE:e,getPublicKey:Sn,getSharedSecret:In,sign:jn,verify:Cn,ProjectivePoint:en,Signature:pn,utils:$n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$2(n){return{hash:n,hmac:(e,...t)=>hmac$2(n,e,concatBytes$5(...t)),randomBytes:randomBytes$2}}function createCurve$2(n,e){const t=r=>weierstrass$2({...n,...getHash$2(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$2=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$2=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$f=BigInt(1),_2n$b=BigInt(2),divNearest$2=(n,e)=>(n+e/_2n$b)/e;function sqrtMod$2(n){const e=secp256k1P$2,t=BigInt(3),r=BigInt(6),o=BigInt(11),a=BigInt(22),c=BigInt(23),u=BigInt(44),en=BigInt(88),tn=n*n*n%e,nn=tn*tn*n%e,sn=pow2$2(nn,t,e)*nn%e,fn=pow2$2(sn,t,e)*nn%e,dn=pow2$2(fn,_2n$b,e)*tn%e,hn=pow2$2(dn,o,e)*dn%e,ln=pow2$2(hn,a,e)*hn%e,pn=pow2$2(ln,u,e)*ln%e,$n=pow2$2(pn,en,e)*pn%e,Sn=pow2$2($n,u,e)*ln%e,yn=pow2$2(Sn,t,e)*nn%e,In=pow2$2(yn,c,e)*hn%e,An=pow2$2(In,r,e)*tn%e,Tn=pow2$2(An,_2n$b,e);if(!Fp$4.eql(Fp$4.sqr(Tn),n))throw new Error("Cannot find square root");return Tn}const Fp$4=Field$2(secp256k1P$2,void 0,void 0,{sqrt:sqrtMod$2}),secp256k1$2=createCurve$2({a:BigInt(0),b:BigInt(7),Fp:Fp$4,n:secp256k1N$2,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=secp256k1N$2,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_1n$f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=t,c=BigInt("0x100000000000000000000000000000000"),u=divNearest$2(a*n,e),en=divNearest$2(-r*n,e);let tn=mod$2(n-u*t-en*o,e),nn=mod$2(-u*r-en*a,e);const sn=tn>c,fn=nn>c;if(sn&&(tn=e-tn),fn&&(nn=e-nn),tn>c||nn>c)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:sn,k1:tn,k2neg:fn,k2:nn}}}},sha256$3);BigInt(0);secp256k1$2.ProjectivePoint;ed25519$2.utils.randomPrivateKey;const generateKeypair$5=()=>{const n=ed25519$2.utils.randomPrivateKey(),e=getPublicKey$5(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},getPublicKey$5=ed25519$2.getPublicKey;function isOnCurve$7(n){try{return ed25519$2.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sign$6=(n,e)=>ed25519$2.sign(n,e.slice(0,32)),verify$6=ed25519$2.verify,toBuffer$7=n=>bufferPolyfill.Buffer.isBuffer(n)?n:n instanceof Uint8Array?bufferPolyfill.Buffer.from(n.buffer,n.byteOffset,n.byteLength):bufferPolyfill.Buffer.from(n);class Struct$e{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$7,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$7,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$7,this,e)}}const SOLANA_SCHEMA$7=new Map;var _PublicKey$1;const MAX_SEED_LENGTH$7=32,PUBLIC_KEY_LENGTH$7=32;function isPublicKeyData$7(n){return n._bn!==void 0}let uniquePublicKeyCounter$7=1;class PublicKey$7 extends Struct$e{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$7(e))this._bn=e._bn;else{if(typeof e=="string"){const t=bs58$3.decode(e);if(t.length!=PUBLIC_KEY_LENGTH$7)throw new Error("Invalid public key input");this._bn=new BN(t)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$7)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$7(uniquePublicKeyCounter$7);return uniquePublicKeyCounter$7+=1,new PublicKey$7(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$7)return e;const t=bufferPolyfill.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(t),r.toBuffer()]),a=sha256$3(o);return new PublicKey$7(a)}static createProgramAddressSync(e,t){let r=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$7)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,toBuffer$7(a)])}),r=bufferPolyfill.Buffer.concat([r,t.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$3(r);if(isOnCurve$7(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$7(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([r]));o=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new PublicKey$7(e);return isOnCurve$7(t.toBytes())}}_PublicKey$1=PublicKey$7;PublicKey$7.default=new _PublicKey$1("11111111111111111111111111111111");SOLANA_SCHEMA$7.set(PublicKey$7,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey$7("BPFLoader1111111111111111111111111111111111");const PACKET_DATA_SIZE$6=1280-40-8,VERSION_PREFIX_MASK$6=127,SIGNATURE_LENGTH_IN_BYTES$8=64;class TransactionExpiredBlockheightExceededError$4 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError$4.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError$4 extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError$4.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError$4 extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError$4.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys$6{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((a,c)=>{r.set(a.toBase58(),c)});const o=a=>{const c=r.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$c=(n="publicKey")=>blob$2(32,n),signature$4=(n="signature")=>blob$2(64,n),rustString$7=(n="string")=>{const e=struct$3([u32$3("length"),u32$3("lengthPadding"),blob$2(offset$1(u32$3(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(a,c)=>t(a,c).chars.toString(),o.encode=(a,c,u)=>{const en={chars:bufferPolyfill.Buffer.from(a,"utf8")};return r(en,c,u)},o.alloc=a=>u32$3().span+u32$3().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$7=(n="authorized")=>struct$3([publicKey$c("staker"),publicKey$c("withdrawer")],n),lockup$7=(n="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$c("custodian")],n),voteInit$7=(n="voteInit")=>struct$3([publicKey$c("nodePubkey"),publicKey$c("authorizedVoter"),publicKey$c("authorizedWithdrawer"),u8$2("commission")],n),voteAuthorizeWithSeedArgs$7=(n="voteAuthorizeWithSeedArgs")=>struct$3([u32$3("voteAuthorizationType"),publicKey$c("currentAuthorityDerivedKeyOwnerPubkey"),rustString$7("currentAuthorityDerivedKeySeed"),publicKey$c("newAuthorized")],n);function getAlloc$6(n,e){const t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*t(o.elementLayout)}else if("fields"in o)return getAlloc$6({layout:o},e[o.property]);return 0};let r=0;return n.layout.fields.forEach(o=>{r+=t(o)}),r}function decodeLength$6(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function encodeLength$6(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function assert$i(n,e){if(!n)throw new Error(e||"Assertion failed")}class CompiledKeys$7{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,o=c=>{const u=c.toBase58();let en=r.get(u);return en===void 0&&(en={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,en)),en},a=o(t);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const en=o(u.pubkey);en.isSigner||=u.isSigner,en.isWritable||=u.isWritable}}return new CompiledKeys$7(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$i(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,en])=>en.isSigner&&en.isWritable),r=e.filter(([,en])=>en.isSigner&&!en.isWritable),o=e.filter(([,en])=>!en.isSigner&&en.isWritable),a=e.filter(([,en])=>!en.isSigner&&!en.isWritable),c={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};{assert$i(t.length>0,"Expected at least one writable signer key");const[en]=t[0];assert$i(en===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([en])=>new PublicKey$7(en)),...r.map(([en])=>new PublicKey$7(en)),...o.map(([en])=>new PublicKey$7(en)),...a.map(([en])=>new PublicKey$7(en))];return[c,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:a}]}drainKeysFoundInLookupTable(e,t){const r=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(t(c)){const u=new PublicKey$7(a),en=e.findIndex(tn=>tn.equals(u));en>=0&&(assert$i(en<256,"Max lookup table index exceeded"),r.push(en),o.push(u),this.keyMetaMap.delete(a))}return[r,o]}}const END_OF_BUFFER_ERROR_MESSAGE$1="Reached end of buffer unexpectedly";function guardedShift$1(n){if(n.length===0)throw new Error(END_OF_BUFFER_ERROR_MESSAGE$1);return n.shift()}function guardedSplice$1(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(END_OF_BUFFER_ERROR_MESSAGE$1);return n.splice(...e)}class Message$6{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new PublicKey$7(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys$6(this.staticAccountKeys)}static compile(e){const t=CompiledKeys$7.compile(e.instructions,e.payerKey),[r,o]=t.getMessageComponents(),c=new MessageAccountKeys$6(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message$6({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<a}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];encodeLength$6(t,e);const r=this.instructions.map(sn=>{const{accounts:fn,programIdIndex:dn}=sn,hn=Array.from(bs58$3.decode(sn.data));let ln=[];encodeLength$6(ln,fn.length);let pn=[];return encodeLength$6(pn,hn.length),{programIdIndex:dn,keyIndicesCount:bufferPolyfill.Buffer.from(ln),keyIndices:fn,dataLength:bufferPolyfill.Buffer.from(pn),data:hn}});let o=[];encodeLength$6(o,r.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE$6);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;r.forEach(sn=>{c+=struct$3([u8$2("programIdIndex"),blob$2(sn.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),sn.keyIndices.length,"keyIndices"),blob$2(sn.dataLength.length,"dataLength"),seq(u8$2("userdatum"),sn.data.length,"data")]).encode(sn,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(t.length,"keyCount"),seq(publicKey$c("key"),e,"keys"),publicKey$c("recentBlockhash")]),en={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(t),keys:this.accountKeys.map(sn=>toBuffer$7(sn.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let tn=bufferPolyfill.Buffer.alloc(2048);const nn=u.encode(en,tn);return a.copy(tn,nn),tn.slice(0,nn+a.length)}static from(e){let t=[...e];const r=guardedShift$1(t);if(r!==(r&VERSION_PREFIX_MASK$6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=guardedShift$1(t),a=guardedShift$1(t),c=decodeLength$6(t);let u=[];for(let fn=0;fn<c;fn++){const dn=guardedSplice$1(t,0,PUBLIC_KEY_LENGTH$7);u.push(new PublicKey$7(bufferPolyfill.Buffer.from(dn)))}const en=guardedSplice$1(t,0,PUBLIC_KEY_LENGTH$7),tn=decodeLength$6(t);let nn=[];for(let fn=0;fn<tn;fn++){const dn=guardedShift$1(t),hn=decodeLength$6(t),ln=guardedSplice$1(t,0,hn),pn=decodeLength$6(t),$n=guardedSplice$1(t,0,pn),Sn=bs58$3.encode(bufferPolyfill.Buffer.from($n));nn.push({programIdIndex:dn,accounts:ln,data:Sn})}const sn={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(en)),accountKeys:u,instructions:nn};return new Message$6(sn)}}class MessageV0$5{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys$6(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const o=e-r,a=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<a}else if(e>=this.header.numRequiredSignatures){const o=e-t,c=r-t-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=e.find(a=>a.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const a of r.writableIndexes)if(a<o.state.addresses.length)t.writable.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`);for(const a of r.readonlyIndexes)if(a<o.state.addresses.length)t.readonly.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=CompiledKeys$7.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const nn of a){const sn=t.extractTableLookup(nn);if(sn!==void 0){const[fn,{writable:dn,readonly:hn}]=sn;r.push(fn),o.writable.push(...dn),o.readonly.push(...hn)}}const[c,u]=t.getMessageComponents(),tn=new MessageAccountKeys$6(u,o).compileInstructions(e.instructions);return new MessageV0$5({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:tn,addressTableLookups:r})}serialize(){const e=Array();encodeLength$6(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();encodeLength$6(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),a=Array();encodeLength$6(a,this.addressTableLookups.length);const c=struct$3([u8$2("prefix"),struct$3([u8$2("numRequiredSignatures"),u8$2("numReadonlySignedAccounts"),u8$2("numReadonlyUnsignedAccounts")],"header"),blob$2(e.length,"staticAccountKeysLength"),seq(publicKey$c(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$c("recentBlockhash"),blob$2(r.length,"instructionsLength"),blob$2(t.length,"serializedInstructions"),blob$2(a.length,"addressTableLookupsLength"),blob$2(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(PACKET_DATA_SIZE$6),en=1<<7,tn=c.encode({prefix:en,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(nn=>nn.toBytes()),recentBlockhash:bs58$3.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:o},u);return u.slice(0,tn)}serializeInstructions(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$6);for(const r of this.compiledInstructions){const o=Array();encodeLength$6(o,r.accountKeyIndexes.length);const a=Array();encodeLength$6(a,r.data.length),e+=struct$3([u8$2("programIdIndex"),blob$2(o.length,"encodedAccountKeyIndexesLength"),seq(u8$2(),r.accountKeyIndexes.length,"accountKeyIndexes"),blob$2(a.length,"encodedDataLength"),blob$2(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$6);for(const r of this.addressTableLookups){const o=Array();encodeLength$6(o,r.writableIndexes.length);const a=Array();encodeLength$6(a,r.readonlyIndexes.length),e+=struct$3([publicKey$c("accountKey"),blob$2(o.length,"encodedWritableIndexesLength"),seq(u8$2(),r.writableIndexes.length,"writableIndexes"),blob$2(a.length,"encodedReadonlyIndexesLength"),seq(u8$2(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=guardedShift$1(t),o=r&VERSION_PREFIX_MASK$6;assert$i(r!==o,"Expected versioned message but received legacy message");const a=o;assert$i(a===0,`Expected versioned message with version 0 but found version ${a}`);const c={numRequiredSignatures:guardedShift$1(t),numReadonlySignedAccounts:guardedShift$1(t),numReadonlyUnsignedAccounts:guardedShift$1(t)},u=[],en=decodeLength$6(t);for(let hn=0;hn<en;hn++)u.push(new PublicKey$7(guardedSplice$1(t,0,PUBLIC_KEY_LENGTH$7)));const tn=bs58$3.encode(guardedSplice$1(t,0,PUBLIC_KEY_LENGTH$7)),nn=decodeLength$6(t),sn=[];for(let hn=0;hn<nn;hn++){const ln=guardedShift$1(t),pn=decodeLength$6(t),$n=guardedSplice$1(t,0,pn),Sn=decodeLength$6(t),yn=new Uint8Array(guardedSplice$1(t,0,Sn));sn.push({programIdIndex:ln,accountKeyIndexes:$n,data:yn})}const fn=decodeLength$6(t),dn=[];for(let hn=0;hn<fn;hn++){const ln=new PublicKey$7(guardedSplice$1(t,0,PUBLIC_KEY_LENGTH$7)),pn=decodeLength$6(t),$n=guardedSplice$1(t,0,pn),Sn=decodeLength$6(t),yn=guardedSplice$1(t,0,Sn);dn.push({accountKey:ln,writableIndexes:$n,readonlyIndexes:yn})}return new MessageV0$5({header:c,staticAccountKeys:u,recentBlockhash:tn,compiledInstructions:sn,addressTableLookups:dn})}}const VersionedMessage$4={deserializeMessageVersion(n){const e=n[0],t=e&VERSION_PREFIX_MASK$6;return t===e?"legacy":t},deserialize:n=>{const e=VersionedMessage$4.deserializeMessageVersion(n);if(e==="legacy")return Message$6.from(n);if(e===0)return MessageV0$5.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus$4=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const DEFAULT_SIGNATURE$6=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$8).fill(0);class TransactionInstruction$6{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$6{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction$6(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let ln=0;ln<t.length;ln++)if(t[ln].programId===void 0)throw new Error(`Transaction instruction index ${ln} has undefined program id`);const o=[],a=[];t.forEach(ln=>{ln.keys.forEach($n=>{a.push({...$n})});const pn=ln.programId.toString();o.includes(pn)||o.push(pn)}),o.forEach(ln=>{a.push({pubkey:new PublicKey$7(ln),isSigner:!1,isWritable:!1})});const c=[];a.forEach(ln=>{const pn=ln.pubkey.toString(),$n=c.findIndex(Sn=>Sn.pubkey.toString()===pn);$n>-1?(c[$n].isWritable=c[$n].isWritable||ln.isWritable,c[$n].isSigner=c[$n].isSigner||ln.isSigner):c.push(ln)}),c.sort(function(ln,pn){if(ln.isSigner!==pn.isSigner)return ln.isSigner?-1:1;if(ln.isWritable!==pn.isWritable)return ln.isWritable?-1:1;const $n={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return ln.pubkey.toBase58().localeCompare(pn.pubkey.toBase58(),"en",$n)});const u=c.findIndex(ln=>ln.pubkey.equals(r));if(u>-1){const[ln]=c.splice(u,1);ln.isSigner=!0,ln.isWritable=!0,c.unshift(ln)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const ln of this.signatures){const pn=c.findIndex($n=>$n.pubkey.equals(ln.publicKey));if(pn>-1)c[pn].isSigner||(c[pn].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${ln.publicKey.toString()}`)}let en=0,tn=0,nn=0;const sn=[],fn=[];c.forEach(({pubkey:ln,isSigner:pn,isWritable:$n})=>{pn?(sn.push(ln.toString()),en+=1,$n||(tn+=1)):(fn.push(ln.toString()),$n||(nn+=1))});const dn=sn.concat(fn),hn=t.map(ln=>{const{data:pn,programId:$n}=ln;return{programIdIndex:dn.indexOf($n.toString()),accounts:ln.keys.map(Sn=>dn.indexOf(Sn.pubkey.toString())),data:bs58$3.encode(pn)}});return hn.forEach(ln=>{assert$i(ln.programIdIndex>=0),ln.accounts.forEach(pn=>assert$i(pn>=0))}),new Message$6({header:{numRequiredSignatures:en,numReadonlySignedAccounts:tn,numReadonlyUnsignedAccounts:nn},accountKeys:dn,recentBlockhash:e,instructions:hn})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,a)=>t[a].equals(o.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const o=r.toString();return t.has(o)?!1:(t.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}this.signatures=r.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(o=>{const a=sign$6(r,o.secretKey);this._addSignature(o.publicKey,toBuffer$7(a))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){assert$i(t.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bufferPolyfill.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:o,publicKey:a}of this.signatures)o===null?t&&(r.missing||=[]).push(a):verify$6(o,e,a.toBytes())||(r.invalid||=[]).push(a);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r){const a=this._getMessageSignednessErrors(o,t);if(a){let c="Signature verification failed.";throw a.invalid&&(c+=`
Invalid signature for public key${a.invalid.length===1?"":"(s)"} [\`${a.invalid.map(u=>u.toBase58()).join("`, `")}\`].`),a.missing&&(c+=`
Missing signature for public key${a.missing.length===1?"":"(s)"} [\`${a.missing.map(u=>u.toBase58()).join("`, `")}\`].`),new Error(c)}}return this._serialize(o)}_serialize(e){const{signatures:t}=this,r=[];encodeLength$6(r,t.length);const o=r.length+t.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$i(t.length<256),bufferPolyfill.Buffer.from(r).copy(a,0),t.forEach(({signature:c},u)=>{c!==null&&(assert$i(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,r.length+u*64))}),e.copy(a,r.length+t.length*64),assert$i(a.length<=PACKET_DATA_SIZE$6,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE$6}`),a}get keys(){return assert$i(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$i(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$i(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=decodeLength$6(t);let o=[];for(let a=0;a<r;a++){const c=guardedSplice$1(t,0,SIGNATURE_LENGTH_IN_BYTES$8);o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction$6.populate(Message$6.from(t),o)}static populate(e,t=[]){const r=new Transaction$6;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE$6)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};r.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:r.signatures.some(en=>en.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});r.instructions.push(new TransactionInstruction$6({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}class TransactionMessage$4{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:o,recentBlockhash:a}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:en}=r,tn=c-u;assert$i(tn>0,"Message header is invalid");const nn=e.staticAccountKeys.length-c-en;assert$i(nn>=0,"Message header is invalid");const sn=e.getAccountKeys(t),fn=sn.get(0);if(fn===void 0)throw new Error("Failed to decompile message because no account keys were found");const dn=[];for(const hn of o){const ln=[];for(const $n of hn.accountKeyIndexes){const Sn=sn.get($n);if(Sn===void 0)throw new Error(`Failed to find key for account key index ${$n}`);const yn=$n<c;let In;yn?In=$n<tn:$n<sn.staticAccountKeys.length?In=$n-c<nn:In=$n-sn.staticAccountKeys.length<sn.accountKeysFromLookups.writable.length,ln.push({pubkey:Sn,isSigner:$n<r.numRequiredSignatures,isWritable:In})}const pn=sn.get(hn.programIdIndex);if(pn===void 0)throw new Error(`Failed to find program id for program id index ${hn.programIdIndex}`);dn.push(new TransactionInstruction$6({programId:pn,data:toBuffer$7(hn.data),keys:ln}))}return new TransactionMessage$4({payerKey:fn,instructions:dn,recentBlockhash:a})}compileToLegacyMessage(){return Message$6.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0$5.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction$4{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)assert$i(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES$8));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();encodeLength$6(t,this.signatures.length);const r=struct$3([blob$2(t.length,"encodedSignaturesLength"),seq(signature$4(),this.signatures.length,"signatures"),blob$2(e.length,"serializedMessage")]),o=new Uint8Array(2048),a=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,a)}static deserialize(e){let t=[...e];const r=[],o=decodeLength$6(t);for(let c=0;c<o;c++)r.push(new Uint8Array(guardedSplice$1(t,0,SIGNATURE_LENGTH_IN_BYTES$8)));const a=VersionedMessage$4.deserialize(new Uint8Array(t));return new VersionedTransaction$4(a,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const a=r.findIndex(c=>c.equals(o.publicKey));assert$i(a>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[a]=sign$6(t,o.secretKey)}}addSignature(e,t){assert$i(t.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));assert$i(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}}const NUM_TICKS_PER_SECOND$4=160,DEFAULT_TICKS_PER_SLOT$4=64,NUM_SLOTS_PER_SECOND$4=NUM_TICKS_PER_SECOND$4/DEFAULT_TICKS_PER_SLOT$4,MS_PER_SLOT$4=1e3/NUM_SLOTS_PER_SECOND$4;new PublicKey$7("SysvarC1ock11111111111111111111111111111111");new PublicKey$7("SysvarEpochSchedu1e111111111111111111111111");new PublicKey$7("Sysvar1nstructions1111111111111111111111111");const SYSVAR_RECENT_BLOCKHASHES_PUBKEY$6=new PublicKey$7("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY$6=new PublicKey$7("SysvarRent111111111111111111111111111111111");new PublicKey$7("SysvarRewards111111111111111111111111111111");new PublicKey$7("SysvarS1otHashes111111111111111111111111111");new PublicKey$7("SysvarS1otHistory11111111111111111111111111");new PublicKey$7("SysvarStakeHistory1111111111111111111111111");class SendTransactionError$4 extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:o}){const a=o?`Logs: 
${JSON.stringify(o.slice(-10),null,2)}. `:"",c="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let u;switch(e){case"send":u=`Transaction ${t} resulted in an error. 
${r}. `+a+c;break;case"simulate":u=`Simulation failed. 
Message: ${r}. 
`+a+c;break;default:u=`Unknown action '${(en=>en)(e)}'`}super(u),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=o||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(o=>{if(o&&o.meta&&o.meta.logMessages){const a=o.meta.logMessages;this.transactionLogs=a,t(a)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class SolanaJSONRPCError$4 extends Error{constructor({code:e,message:t,data:r},o){super(o!=null?`${o}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function sendAndConfirmTransaction$7(n,e,t,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},a=await n.sendTransaction(e,t,o);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,en=u.keys[0].pubkey;c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:en,nonceValue:e.nonceInfo.nonce,signature:a},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await n.confirmTransaction(a,r&&r.commitment)).value;if(c.err)throw a!=null?new SendTransactionError$4({action:"send",signature:a,transactionMessage:`Status: (${JSON.stringify(c)})`}):new Error(`Transaction ${a} failed (${JSON.stringify(c)})`);return a}function sleep$4(n){return new Promise(e=>setTimeout(e,n))}function encodeData$6(n,e){const t=n.layout.span>=0?n.layout.span:getAlloc$6(n,e),r=bufferPolyfill.Buffer.alloc(t),o=Object.assign({instruction:n.index},e);return n.layout.encode(o,r),r}const FeeCalculatorLayout$7=nu64$1("lamportsPerSignature"),NonceAccountLayout$7=struct$3([u32$3("version"),u32$3("state"),publicKey$c("authorizedPubkey"),publicKey$c("nonce"),struct$3([FeeCalculatorLayout$7],"feeCalculator")]),NONCE_ACCOUNT_LENGTH$6=NonceAccountLayout$7.span;class NonceAccount$4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=NonceAccountLayout$7.decode(toBuffer$7(e),0);return new NonceAccount$4({authorizedPubkey:new PublicKey$7(t.authorizedPubkey),nonce:new PublicKey$7(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const encodeDecode$8=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bigInt$8=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode$8(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferLE_1(c,n);return r(tn,u,en)},a},u64$e=bigInt$8(8),SYSTEM_INSTRUCTION_LAYOUTS$6=Object.freeze({Create:{index:0,layout:struct$3([u32$3("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$c("programId")])},Assign:{index:1,layout:struct$3([u32$3("instruction"),publicKey$c("programId")])},Transfer:{index:2,layout:struct$3([u32$3("instruction"),u64$e("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$3("instruction"),publicKey$c("base"),rustString$7("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$c("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$3("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$3("instruction"),publicKey$c("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$3("instruction"),publicKey$c("authorized")])},Allocate:{index:8,layout:struct$3([u32$3("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$3("instruction"),publicKey$c("base"),rustString$7("seed"),ns64$1("space"),publicKey$c("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$3("instruction"),publicKey$c("base"),rustString$7("seed"),publicKey$c("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$3("instruction"),u64$e("lamports"),rustString$7("seed"),publicKey$c("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$3("instruction")])}});class SystemProgram$6{constructor(){}static createAccount(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$6.Create,r=encodeData$6(t,{lamports:e.lamports,space:e.space,programId:toBuffer$7(e.programId.toBuffer())});return new TransactionInstruction$6({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$6.TransferWithSeed;t=encodeData$6(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$7(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$6.Transfer;t=encodeData$6(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction$6({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$6.AssignWithSeed;t=encodeData$6(o,{base:toBuffer$7(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$7(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$6.Assign;t=encodeData$6(o,{programId:toBuffer$7(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$6({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$6.CreateWithSeed,r=encodeData$6(t,{base:toBuffer$7(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$7(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction$6({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Transaction$6;"basePubkey"in e&&"seed"in e?t.add(SystemProgram$6.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$6,programId:this.programId})):t.add(SystemProgram$6.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$6,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$6.InitializeNonceAccount,r=encodeData$6(t,{authorized:toBuffer$7(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$6,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$6,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$6(o)}static nonceAdvance(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$6.AdvanceNonceAccount,r=encodeData$6(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$6,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$6(o)}static nonceWithdraw(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$6.WithdrawNonceAccount,r=encodeData$6(t,{lamports:e.lamports});return new TransactionInstruction$6({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$6,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$6,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$6.AuthorizeNonceAccount,r=encodeData$6(t,{authorized:toBuffer$7(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction$6({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$6.AllocateWithSeed;t=encodeData$6(o,{base:toBuffer$7(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$7(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$6.Allocate;t=encodeData$6(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$6({keys:r,programId:this.programId,data:t})}}SystemProgram$6.programId=new PublicKey$7("11111111111111111111111111111111");new PublicKey$7("BPFLoader2111111111111111111111111111111111");function getDefaultExportFromCjs$4(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fastStableStringify$1$4,hasRequiredFastStableStringify;function requireFastStableStringify(){if(hasRequiredFastStableStringify)return fastStableStringify$1$4;hasRequiredFastStableStringify=1;var n=Object.prototype.toString,e=Object.keys||function(r){var o=[];for(var a in r)o.push(a);return o};function t(r,o){var a,c,u,en,tn,nn,sn;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),o);if(sn=n.call(r),sn==="[object Array]"){for(u="[",c=r.length-1,a=0;a<c;a++)u+=t(r[a],!0)+",";return c>-1&&(u+=t(r[a],!0)),u+"]"}else if(sn==="[object Object]"){for(en=e(r).sort(),c=en.length,u="",a=0;a<c;)tn=en[a],nn=t(r[tn],!1),nn!==void 0&&(u&&(u+=","),u+=JSON.stringify(tn)+":"+nn),a++;return"{"+u+"}"}else return JSON.stringify(r);case"function":case"undefined":return o?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return fastStableStringify$1$4=function(r){var o=t(r,!1);if(o!==void 0)return""+o},fastStableStringify$1$4}var fastStableStringifyExports=requireFastStableStringify(),fastStableStringify$5=getDefaultExportFromCjs$4(fastStableStringifyExports);const MINIMUM_SLOT_PER_EPOCH$4=32;function trailingZeros$4(n){let e=0;for(;n>1;)n/=2,e++;return e}function nextPowerOfTwo$4(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class EpochSchedule$4{constructor(e,t,r,o,a){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=a}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=trailingZeros$4(nextPowerOfTwo$4(e+MINIMUM_SLOT_PER_EPOCH$4+1))-trailingZeros$4(MINIMUM_SLOT_PER_EPOCH$4)-1,r=this.getSlotsInEpoch(t),o=e-(r-MINIMUM_SLOT_PER_EPOCH$4);return[t,o]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),o=this.firstNormalEpoch+r,a=t%this.slotsPerEpoch;return[o,a]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH$4:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros$4(MINIMUM_SLOT_PER_EPOCH$4)):this.slotsPerEpoch}}var fetchImpl$4=globalThis.fetch;class RpcWebSocketClient$4 extends CommonClient{constructor(e,t,r){const o=a=>{const c=WebSocket$1(a,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(o,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function decodeData$5(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const LOOKUP_TABLE_META_SIZE$4=56;class AddressLookupTableAccount$4{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=decodeData$5(LookupTableMetaLayout$4,e),r=e.length-LOOKUP_TABLE_META_SIZE$4;assert$i(r>=0,"lookup table is invalid"),assert$i(r%32===0,"lookup table is invalid");const o=r/32,{addresses:a}=struct$3([seq(publicKey$c(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE$4));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new PublicKey$7(t.authority[0]):void 0,addresses:a.map(c=>new PublicKey$7(c))}}}const LookupTableMetaLayout$4={index:1,layout:struct$3([u32$3("typeIndex"),u64$e("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$c(),offset$1(u8$2(),-1),"authority")])},URL_RE$4=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl$4(n){const e=n.match(URL_RE$4);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,o,a]=e,c=n.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),en=u==null?"":`:${u+1}`;return`${c}//${r}${en}${a}`}const PublicKeyFromString$7=coerce$7(instance$6(PublicKey$7),string$8(),n=>new PublicKey$7(n)),RawAccountDataResult$7=tuple$7([string$8(),literal$7("base64")]),BufferFromRawAccountData$7=coerce$7(instance$6(bufferPolyfill.Buffer),RawAccountDataResult$7,n=>bufferPolyfill.Buffer.from(n[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS$4=30*1e3;function assertEndpointUrl$4(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function extractCommitmentFromConfig$4(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...o}=n;e=r,t=o}return{commitment:e,config:t}}function applyDefaultMemcmpEncodingToFilters(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function createRpcResult$8(n){return union$8([type$7({jsonrpc:literal$7("2.0"),id:string$8(),result:n}),type$7({jsonrpc:literal$7("2.0"),id:string$8(),error:type$7({code:unknown$7(),message:string$8(),data:optional$7(any$7())})})])}const UnknownRpcResult$8=createRpcResult$8(unknown$7());function jsonRpcResult$8(n){return coerce$7(createRpcResult$8(n),UnknownRpcResult$8,e=>"error"in e?e:{...e,result:create$7(e.result,n)})}function jsonRpcResultAndContext$8(n){return jsonRpcResult$8(type$7({context:type$7({slot:number$9()}),value:n}))}function notificationResultAndContext$7(n){return type$7({context:type$7({slot:number$9()}),value:n})}function versionedMessageFromResponse$4(n,e){return n===0?new MessageV0$5({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new PublicKey$7(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:bs58$3.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Message$6(e)}const GetInflationGovernorResult$7=type$7({foundation:number$9(),foundationTerm:number$9(),initial:number$9(),taper:number$9(),terminal:number$9()}),GetInflationRewardResult$4=jsonRpcResult$8(array$8(nullable$7(type$7({epoch:number$9(),effectiveSlot:number$9(),amount:number$9(),postBalance:number$9(),commission:optional$7(nullable$7(number$9()))})))),GetRecentPrioritizationFeesResult$7=array$8(type$7({slot:number$9(),prioritizationFee:number$9()})),GetInflationRateResult$7=type$7({total:number$9(),validator:number$9(),foundation:number$9(),epoch:number$9()}),GetEpochInfoResult$7=type$7({epoch:number$9(),slotIndex:number$9(),slotsInEpoch:number$9(),absoluteSlot:number$9(),blockHeight:optional$7(number$9()),transactionCount:optional$7(number$9())}),GetEpochScheduleResult$7=type$7({slotsPerEpoch:number$9(),leaderScheduleSlotOffset:number$9(),warmup:boolean$7(),firstNormalEpoch:number$9(),firstNormalSlot:number$9()}),GetLeaderScheduleResult$7=record$6(string$8(),array$8(number$9())),TransactionErrorResult$7=nullable$7(union$8([type$7({}),string$8()])),SignatureStatusResult$7=type$7({err:TransactionErrorResult$7}),SignatureReceivedResult$7=literal$7("receivedSignature"),VersionResult$4=type$7({"solana-core":string$8(),"feature-set":optional$7(number$9())}),ParsedInstructionStruct$1=type$7({program:string$8(),programId:PublicKeyFromString$7,parsed:unknown$7()}),PartiallyDecodedInstructionStruct$1=type$7({programId:PublicKeyFromString$7,accounts:array$8(PublicKeyFromString$7),data:string$8()}),SimulatedTransactionResponseStruct$5=jsonRpcResultAndContext$8(type$7({err:nullable$7(union$8([type$7({}),string$8()])),logs:nullable$7(array$8(string$8())),accounts:optional$7(nullable$7(array$8(nullable$7(type$7({executable:boolean$7(),owner:string$8(),lamports:number$9(),data:array$8(string$8()),rentEpoch:optional$7(number$9())}))))),unitsConsumed:optional$7(number$9()),returnData:optional$7(nullable$7(type$7({programId:string$8(),data:tuple$7([string$8(),literal$7("base64")])}))),innerInstructions:optional$7(nullable$7(array$8(type$7({index:number$9(),instructions:array$8(union$8([ParsedInstructionStruct$1,PartiallyDecodedInstructionStruct$1]))}))))})),BlockProductionResponseStruct$4=jsonRpcResultAndContext$8(type$7({byIdentity:record$6(string$8(),array$8(number$9())),range:type$7({firstSlot:number$9(),lastSlot:number$9()})}));function createRpcClient$4(n,e,t,r,o,a){const c=t||fetchImpl$4;let u;a!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let en;return r&&(en=async(nn,sn)=>{const fn=await new Promise((dn,hn)=>{try{r(nn,sn,(ln,pn)=>dn([ln,pn]))}catch(ln){hn(ln)}});return await c(...fn)}),new browser$7(async(nn,sn)=>{const fn={method:"POST",body:nn,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS$4)};try{let dn=5,hn,ln=500;for(;en?hn=await en(n,fn):hn=await c(n,fn),!(hn.status!==429||o===!0||(dn-=1,dn===0));)console.error(`Server responded with ${hn.status} ${hn.statusText}.  Retrying after ${ln}ms delay...`),await sleep$4(ln),ln*=2;const pn=await hn.text();hn.ok?sn(null,pn):sn(new Error(`${hn.status} ${hn.statusText}: ${pn}`))}catch(dn){dn instanceof Error&&sn(dn)}},{})}function createRpcRequest$4(n){return(e,t)=>new Promise((r,o)=>{n.request(e,t,(a,c)=>{if(a){o(a);return}r(c)})})}function createRpcBatchRequest$4(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const o=e.map(a=>n.request(a.methodName,a.args));n.request(o,(a,c)=>{if(a){r(a);return}t(c)})})}const GetInflationGovernorRpcResult$4=jsonRpcResult$8(GetInflationGovernorResult$7),GetInflationRateRpcResult$4=jsonRpcResult$8(GetInflationRateResult$7),GetRecentPrioritizationFeesRpcResult$4=jsonRpcResult$8(GetRecentPrioritizationFeesResult$7),GetEpochInfoRpcResult$4=jsonRpcResult$8(GetEpochInfoResult$7),GetEpochScheduleRpcResult$4=jsonRpcResult$8(GetEpochScheduleResult$7),GetLeaderScheduleRpcResult$4=jsonRpcResult$8(GetLeaderScheduleResult$7),SlotRpcResult$4=jsonRpcResult$8(number$9()),GetSupplyRpcResult$4=jsonRpcResultAndContext$8(type$7({total:number$9(),circulating:number$9(),nonCirculating:number$9(),nonCirculatingAccounts:array$8(PublicKeyFromString$7)})),TokenAmountResult$7=type$7({amount:string$8(),uiAmount:nullable$7(number$9()),decimals:number$9(),uiAmountString:optional$7(string$8())}),GetTokenLargestAccountsResult$4=jsonRpcResultAndContext$8(array$8(type$7({address:PublicKeyFromString$7,amount:string$8(),uiAmount:nullable$7(number$9()),decimals:number$9(),uiAmountString:optional$7(string$8())}))),GetTokenAccountsByOwner$4=jsonRpcResultAndContext$8(array$8(type$7({pubkey:PublicKeyFromString$7,account:type$7({executable:boolean$7(),owner:PublicKeyFromString$7,lamports:number$9(),data:BufferFromRawAccountData$7,rentEpoch:number$9()})}))),ParsedAccountDataResult$7=type$7({program:string$8(),parsed:unknown$7(),space:number$9()}),GetParsedTokenAccountsByOwner$4=jsonRpcResultAndContext$8(array$8(type$7({pubkey:PublicKeyFromString$7,account:type$7({executable:boolean$7(),owner:PublicKeyFromString$7,lamports:number$9(),data:ParsedAccountDataResult$7,rentEpoch:number$9()})}))),GetLargestAccountsRpcResult$4=jsonRpcResultAndContext$8(array$8(type$7({lamports:number$9(),address:PublicKeyFromString$7}))),AccountInfoResult$7=type$7({executable:boolean$7(),owner:PublicKeyFromString$7,lamports:number$9(),data:BufferFromRawAccountData$7,rentEpoch:number$9()}),KeyedAccountInfoResult$4=type$7({pubkey:PublicKeyFromString$7,account:AccountInfoResult$7}),ParsedOrRawAccountData$7=coerce$7(union$8([instance$6(bufferPolyfill.Buffer),ParsedAccountDataResult$7]),union$8([RawAccountDataResult$7,ParsedAccountDataResult$7]),n=>Array.isArray(n)?create$7(n,BufferFromRawAccountData$7):n),ParsedAccountInfoResult$7=type$7({executable:boolean$7(),owner:PublicKeyFromString$7,lamports:number$9(),data:ParsedOrRawAccountData$7,rentEpoch:number$9()}),KeyedParsedAccountInfoResult$4=type$7({pubkey:PublicKeyFromString$7,account:ParsedAccountInfoResult$7}),StakeActivationResult$4=type$7({state:union$8([literal$7("active"),literal$7("inactive"),literal$7("activating"),literal$7("deactivating")]),active:number$9(),inactive:number$9()}),GetConfirmedSignaturesForAddress2RpcResult$4=jsonRpcResult$8(array$8(type$7({signature:string$8(),slot:number$9(),err:TransactionErrorResult$7,memo:nullable$7(string$8()),blockTime:optional$7(nullable$7(number$9()))}))),GetSignaturesForAddressRpcResult$4=jsonRpcResult$8(array$8(type$7({signature:string$8(),slot:number$9(),err:TransactionErrorResult$7,memo:nullable$7(string$8()),blockTime:optional$7(nullable$7(number$9()))}))),AccountNotificationResult$4=type$7({subscription:number$9(),result:notificationResultAndContext$7(AccountInfoResult$7)}),ProgramAccountInfoResult$7=type$7({pubkey:PublicKeyFromString$7,account:AccountInfoResult$7}),ProgramAccountNotificationResult$4=type$7({subscription:number$9(),result:notificationResultAndContext$7(ProgramAccountInfoResult$7)}),SlotInfoResult$7=type$7({parent:number$9(),slot:number$9(),root:number$9()}),SlotNotificationResult$4=type$7({subscription:number$9(),result:SlotInfoResult$7}),SlotUpdateResult$7=union$8([type$7({type:union$8([literal$7("firstShredReceived"),literal$7("completed"),literal$7("optimisticConfirmation"),literal$7("root")]),slot:number$9(),timestamp:number$9()}),type$7({type:literal$7("createdBank"),parent:number$9(),slot:number$9(),timestamp:number$9()}),type$7({type:literal$7("frozen"),slot:number$9(),timestamp:number$9(),stats:type$7({numTransactionEntries:number$9(),numSuccessfulTransactions:number$9(),numFailedTransactions:number$9(),maxTransactionsPerEntry:number$9()})}),type$7({type:literal$7("dead"),slot:number$9(),timestamp:number$9(),err:string$8()})]),SlotUpdateNotificationResult$4=type$7({subscription:number$9(),result:SlotUpdateResult$7}),SignatureNotificationResult$4=type$7({subscription:number$9(),result:notificationResultAndContext$7(union$8([SignatureStatusResult$7,SignatureReceivedResult$7]))}),RootNotificationResult$4=type$7({subscription:number$9(),result:number$9()}),ContactInfoResult$4=type$7({pubkey:string$8(),gossip:nullable$7(string$8()),tpu:nullable$7(string$8()),rpc:nullable$7(string$8()),version:nullable$7(string$8())}),VoteAccountInfoResult$7=type$7({votePubkey:string$8(),nodePubkey:string$8(),activatedStake:number$9(),epochVoteAccount:boolean$7(),epochCredits:array$8(tuple$7([number$9(),number$9(),number$9()])),commission:number$9(),lastVote:number$9(),rootSlot:nullable$7(number$9())}),GetVoteAccounts$4=jsonRpcResult$8(type$7({current:array$8(VoteAccountInfoResult$7),delinquent:array$8(VoteAccountInfoResult$7)})),ConfirmationStatus$7=union$8([literal$7("processed"),literal$7("confirmed"),literal$7("finalized")]),SignatureStatusResponse$7=type$7({slot:number$9(),confirmations:nullable$7(number$9()),err:TransactionErrorResult$7,confirmationStatus:optional$7(ConfirmationStatus$7)}),GetSignatureStatusesRpcResult$4=jsonRpcResultAndContext$8(array$8(nullable$7(SignatureStatusResponse$7))),GetMinimumBalanceForRentExemptionRpcResult$4=jsonRpcResult$8(number$9()),AddressTableLookupStruct$7=type$7({accountKey:PublicKeyFromString$7,writableIndexes:array$8(number$9()),readonlyIndexes:array$8(number$9())}),ConfirmedTransactionResult$7=type$7({signatures:array$8(string$8()),message:type$7({accountKeys:array$8(string$8()),header:type$7({numRequiredSignatures:number$9(),numReadonlySignedAccounts:number$9(),numReadonlyUnsignedAccounts:number$9()}),instructions:array$8(type$7({accounts:array$8(number$9()),data:string$8(),programIdIndex:number$9()})),recentBlockhash:string$8(),addressTableLookups:optional$7(array$8(AddressTableLookupStruct$7))})}),AnnotatedAccountKey$7=type$7({pubkey:PublicKeyFromString$7,signer:boolean$7(),writable:boolean$7(),source:optional$7(union$8([literal$7("transaction"),literal$7("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$7=type$7({accountKeys:array$8(AnnotatedAccountKey$7),signatures:array$8(string$8())}),ParsedInstructionResult$7=type$7({parsed:unknown$7(),program:string$8(),programId:PublicKeyFromString$7}),RawInstructionResult$7=type$7({accounts:array$8(PublicKeyFromString$7),data:string$8(),programId:PublicKeyFromString$7}),InstructionResult$7=union$8([RawInstructionResult$7,ParsedInstructionResult$7]),UnknownInstructionResult$7=union$8([type$7({parsed:unknown$7(),program:string$8(),programId:string$8()}),type$7({accounts:array$8(string$8()),data:string$8(),programId:string$8()})]),ParsedOrRawInstruction$7=coerce$7(InstructionResult$7,UnknownInstructionResult$7,n=>"accounts"in n?create$7(n,RawInstructionResult$7):create$7(n,ParsedInstructionResult$7)),ParsedConfirmedTransactionResult$7=type$7({signatures:array$8(string$8()),message:type$7({accountKeys:array$8(AnnotatedAccountKey$7),instructions:array$8(ParsedOrRawInstruction$7),recentBlockhash:string$8(),addressTableLookups:optional$7(nullable$7(array$8(AddressTableLookupStruct$7)))})}),TokenBalanceResult$7=type$7({accountIndex:number$9(),mint:string$8(),owner:optional$7(string$8()),programId:optional$7(string$8()),uiTokenAmount:TokenAmountResult$7}),LoadedAddressesResult$7=type$7({writable:array$8(PublicKeyFromString$7),readonly:array$8(PublicKeyFromString$7)}),ConfirmedTransactionMetaResult$7=type$7({err:TransactionErrorResult$7,fee:number$9(),innerInstructions:optional$7(nullable$7(array$8(type$7({index:number$9(),instructions:array$8(type$7({accounts:array$8(number$9()),data:string$8(),programIdIndex:number$9()}))})))),preBalances:array$8(number$9()),postBalances:array$8(number$9()),logMessages:optional$7(nullable$7(array$8(string$8()))),preTokenBalances:optional$7(nullable$7(array$8(TokenBalanceResult$7))),postTokenBalances:optional$7(nullable$7(array$8(TokenBalanceResult$7))),loadedAddresses:optional$7(LoadedAddressesResult$7),computeUnitsConsumed:optional$7(number$9())}),ParsedConfirmedTransactionMetaResult$7=type$7({err:TransactionErrorResult$7,fee:number$9(),innerInstructions:optional$7(nullable$7(array$8(type$7({index:number$9(),instructions:array$8(ParsedOrRawInstruction$7)})))),preBalances:array$8(number$9()),postBalances:array$8(number$9()),logMessages:optional$7(nullable$7(array$8(string$8()))),preTokenBalances:optional$7(nullable$7(array$8(TokenBalanceResult$7))),postTokenBalances:optional$7(nullable$7(array$8(TokenBalanceResult$7))),loadedAddresses:optional$7(LoadedAddressesResult$7),computeUnitsConsumed:optional$7(number$9())}),TransactionVersionStruct$7=union$8([literal$7(0),literal$7("legacy")]),RewardsResult$7=type$7({pubkey:string$8(),lamports:number$9(),postBalance:nullable$7(number$9()),rewardType:nullable$7(string$8()),commission:optional$7(nullable$7(number$9()))}),GetBlockRpcResult$4=jsonRpcResult$8(nullable$7(type$7({blockhash:string$8(),previousBlockhash:string$8(),parentSlot:number$9(),transactions:array$8(type$7({transaction:ConfirmedTransactionResult$7,meta:nullable$7(ConfirmedTransactionMetaResult$7),version:optional$7(TransactionVersionStruct$7)})),rewards:optional$7(array$8(RewardsResult$7)),blockTime:nullable$7(number$9()),blockHeight:nullable$7(number$9())}))),GetNoneModeBlockRpcResult$4=jsonRpcResult$8(nullable$7(type$7({blockhash:string$8(),previousBlockhash:string$8(),parentSlot:number$9(),rewards:optional$7(array$8(RewardsResult$7)),blockTime:nullable$7(number$9()),blockHeight:nullable$7(number$9())}))),GetAccountsModeBlockRpcResult$4=jsonRpcResult$8(nullable$7(type$7({blockhash:string$8(),previousBlockhash:string$8(),parentSlot:number$9(),transactions:array$8(type$7({transaction:ConfirmedTransactionAccountsModeResult$7,meta:nullable$7(ConfirmedTransactionMetaResult$7),version:optional$7(TransactionVersionStruct$7)})),rewards:optional$7(array$8(RewardsResult$7)),blockTime:nullable$7(number$9()),blockHeight:nullable$7(number$9())}))),GetParsedBlockRpcResult$4=jsonRpcResult$8(nullable$7(type$7({blockhash:string$8(),previousBlockhash:string$8(),parentSlot:number$9(),transactions:array$8(type$7({transaction:ParsedConfirmedTransactionResult$7,meta:nullable$7(ParsedConfirmedTransactionMetaResult$7),version:optional$7(TransactionVersionStruct$7)})),rewards:optional$7(array$8(RewardsResult$7)),blockTime:nullable$7(number$9()),blockHeight:nullable$7(number$9())}))),GetParsedAccountsModeBlockRpcResult$4=jsonRpcResult$8(nullable$7(type$7({blockhash:string$8(),previousBlockhash:string$8(),parentSlot:number$9(),transactions:array$8(type$7({transaction:ConfirmedTransactionAccountsModeResult$7,meta:nullable$7(ParsedConfirmedTransactionMetaResult$7),version:optional$7(TransactionVersionStruct$7)})),rewards:optional$7(array$8(RewardsResult$7)),blockTime:nullable$7(number$9()),blockHeight:nullable$7(number$9())}))),GetParsedNoneModeBlockRpcResult$4=jsonRpcResult$8(nullable$7(type$7({blockhash:string$8(),previousBlockhash:string$8(),parentSlot:number$9(),rewards:optional$7(array$8(RewardsResult$7)),blockTime:nullable$7(number$9()),blockHeight:nullable$7(number$9())}))),GetConfirmedBlockRpcResult$4=jsonRpcResult$8(nullable$7(type$7({blockhash:string$8(),previousBlockhash:string$8(),parentSlot:number$9(),transactions:array$8(type$7({transaction:ConfirmedTransactionResult$7,meta:nullable$7(ConfirmedTransactionMetaResult$7)})),rewards:optional$7(array$8(RewardsResult$7)),blockTime:nullable$7(number$9())}))),GetBlockSignaturesRpcResult$4=jsonRpcResult$8(nullable$7(type$7({blockhash:string$8(),previousBlockhash:string$8(),parentSlot:number$9(),signatures:array$8(string$8()),blockTime:nullable$7(number$9())}))),GetTransactionRpcResult$4=jsonRpcResult$8(nullable$7(type$7({slot:number$9(),meta:nullable$7(ConfirmedTransactionMetaResult$7),blockTime:optional$7(nullable$7(number$9())),transaction:ConfirmedTransactionResult$7,version:optional$7(TransactionVersionStruct$7)}))),GetParsedTransactionRpcResult$4=jsonRpcResult$8(nullable$7(type$7({slot:number$9(),transaction:ParsedConfirmedTransactionResult$7,meta:nullable$7(ParsedConfirmedTransactionMetaResult$7),blockTime:optional$7(nullable$7(number$9())),version:optional$7(TransactionVersionStruct$7)}))),GetRecentBlockhashAndContextRpcResult$4=jsonRpcResultAndContext$8(type$7({blockhash:string$8(),feeCalculator:type$7({lamportsPerSignature:number$9()})})),GetLatestBlockhashRpcResult$4=jsonRpcResultAndContext$8(type$7({blockhash:string$8(),lastValidBlockHeight:number$9()})),IsBlockhashValidRpcResult$4=jsonRpcResultAndContext$8(boolean$7()),PerfSampleResult$7=type$7({slot:number$9(),numTransactions:number$9(),numSlots:number$9(),samplePeriodSecs:number$9()}),GetRecentPerformanceSamplesRpcResult$4=jsonRpcResult$8(array$8(PerfSampleResult$7)),GetFeeCalculatorRpcResult$4=jsonRpcResultAndContext$8(nullable$7(type$7({feeCalculator:type$7({lamportsPerSignature:number$9()})}))),RequestAirdropRpcResult$4=jsonRpcResult$8(string$8()),SendTransactionRpcResult$4=jsonRpcResult$8(string$8()),LogsResult$7=type$7({err:TransactionErrorResult$7,logs:array$8(string$8()),signature:string$8()}),LogsNotificationResult$4=type$7({result:notificationResultAndContext$7(LogsResult$7),subscription:number$9()}),COMMON_HTTP_HEADERS$4={"solana-client":"js/1.95.8"};class Connection$4{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const tn={};return async nn=>{const{commitment:sn,config:fn}=extractCommitmentFromConfig$4(nn),dn=this._buildArgs([],sn,void 0,fn),hn=fastStableStringify$5(dn);return tn[hn]=tn[hn]??(async()=>{try{const ln=await this._rpcRequest("getBlockHeight",dn),pn=create$7(ln,jsonRpcResult$8(number$9()));if("error"in pn)throw new SolanaJSONRPCError$4(pn.error,"failed to get block height information");return pn.result}finally{delete tn[hn]}})(),await tn[hn]}})();let r,o,a,c,u,en;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,o=t.httpHeaders,a=t.fetch,c=t.fetchMiddleware,u=t.disableRetryOnRateLimit,en=t.httpAgent),this._rpcEndpoint=assertEndpointUrl$4(e),this._rpcWsEndpoint=r||makeWebsocketUrl$4(e),this._rpcClient=createRpcClient$4(e,o,a,c,u,en),this._rpcRequest=createRpcRequest$4(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest$4(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient$4(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=this._buildArgs([e.toBase58()],r,void 0,o),c=await this._rpcRequest("getBalance",a),u=create$7(c,jsonRpcResultAndContext$8(number$9()));if("error"in u)throw new SolanaJSONRPCError$4(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=create$7(t,jsonRpcResult$8(nullable$7(number$9())));if("error"in r)throw new SolanaJSONRPCError$4(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=create$7(e,jsonRpcResult$8(number$9()));if("error"in t)throw new SolanaJSONRPCError$4(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=create$7(e,SlotRpcResult$4);if("error"in t)throw new SolanaJSONRPCError$4(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),o=create$7(r,GetSupplyRpcResult$4);if("error"in o)throw new SolanaJSONRPCError$4(o.error,"failed to get supply");return o.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenSupply",r),a=create$7(o,jsonRpcResultAndContext$8(TokenAmountResult$7));if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get token supply");return a.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenAccountBalance",r),a=create$7(o,jsonRpcResultAndContext$8(TokenAmountResult$7));if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get token account balance");return a.result}async getTokenAccountsByOwner(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$4(r);let c=[e.toBase58()];"mint"in t?c.push({mint:t.mint.toBase58()}):c.push({programId:t.programId.toBase58()});const u=this._buildArgs(c,o,"base64",a),en=await this._rpcRequest("getTokenAccountsByOwner",u),tn=create$7(en,GetTokenAccountsByOwner$4);if("error"in tn)throw new SolanaJSONRPCError$4(tn.error,`failed to get token accounts owned by account ${e.toBase58()}`);return tn.result}async getParsedTokenAccountsByOwner(e,t,r){let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,r,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=create$7(c,GetParsedTokenAccountsByOwner$4);if("error"in u)throw new SolanaJSONRPCError$4(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],o=await this._rpcRequest("getLargestAccounts",r),a=create$7(o,GetLargestAccountsRpcResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get largest accounts");return a.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenLargestAccounts",r),a=create$7(o,GetTokenLargestAccountsResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get token largest accounts");return a.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=this._buildArgs([e.toBase58()],r,"base64",o),c=await this._rpcRequest("getAccountInfo",a),u=create$7(c,jsonRpcResultAndContext$8(nullable$7(AccountInfoResult$7)));if("error"in u)throw new SolanaJSONRPCError$4(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",a),u=create$7(c,jsonRpcResultAndContext$8(nullable$7(ParsedAccountInfoResult$7)));if("error"in u)throw new SolanaJSONRPCError$4(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"jsonParsed",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create$7(u,jsonRpcResultAndContext$8(array$8(nullable$7(ParsedAccountInfoResult$7))));if("error"in en)throw new SolanaJSONRPCError$4(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create$7(u,jsonRpcResultAndContext$8(array$8(nullable$7(AccountInfoResult$7))));if("error"in en)throw new SolanaJSONRPCError$4(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$4(t),c=this._buildArgs([e.toBase58()],o,void 0,{...a,epoch:r??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getStakeActivation",c),en=create$7(u,jsonRpcResult$8(StakeActivationResult$4));if("error"in en)throw new SolanaJSONRPCError$4(en.error,`failed to get Stake Activation ${e.toBase58()}`);return en.result}async getProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),{encoding:a,...c}=o||{},u=this._buildArgs([e.toBase58()],r,a||"base64",{...c,...c.filters?{filters:applyDefaultMemcmpEncodingToFilters(c.filters)}:null}),en=await this._rpcRequest("getProgramAccounts",u),tn=array$8(KeyedAccountInfoResult$4),nn=c.withContext===!0?create$7(en,jsonRpcResultAndContext$8(tn)):create$7(en,jsonRpcResult$8(tn));if("error"in nn)throw new SolanaJSONRPCError$4(nn.error,`failed to get accounts owned by program ${e.toBase58()}`);return nn.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",a),u=create$7(c,jsonRpcResult$8(array$8(KeyedParsedAccountInfoResult$4)));if("error"in u)throw new SolanaJSONRPCError$4(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){var a;let r;if(typeof e=="string")r=e;else{const c=e;if((a=c.abortSignal)!=null&&a.aborted)return Promise.reject(c.abortSignal.reason);r=c.signature}let o;try{o=bs58$3.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return assert$i(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,o,a=!1;const c=new Promise((en,tn)=>{try{r=this.onSignature(t,(sn,fn)=>{r=void 0;const dn={context:fn,value:sn};en({__type:TransactionStatus$4.PROCESSED,response:dn})},e);const nn=new Promise(sn=>{r==null?sn():o=this._onSubscriptionStateChange(r,fn=>{fn==="subscribed"&&sn()})});(async()=>{if(await nn,a)return;const sn=await this.getSignatureStatus(t);if(a||sn==null)return;const{context:fn,value:dn}=sn;if(dn!=null)if(dn!=null&&dn.err)tn(dn.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(dn.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(dn.confirmationStatus==="processed"||dn.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}a=!0,en({__type:TransactionStatus$4.PROCESSED,response:{context:fn,value:dn}})}})()}catch(nn){tn(nn)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:o}}){let a=!1;const c=new Promise(sn=>{const fn=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let dn=await fn();if(!a){for(;dn<=r;)if(await sleep$4(1e3),a||(dn=await fn(),a))return;sn({__type:TransactionStatus$4.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:en}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),tn=this.getCancellationPromise(t);let nn;try{const sn=await Promise.race([tn,en,c]);if(sn.__type===TransactionStatus$4.PROCESSED)nn=sn.response;else throw new TransactionExpiredBlockheightExceededError$4(o)}finally{a=!0,u()}return nn}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:o,nonceValue:a,signature:c}}){let u=!1;const en=new Promise(dn=>{let hn=a,ln=null;const pn=async()=>{try{const{context:$n,value:Sn}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:r});return ln=$n.slot,Sn==null?void 0:Sn.nonce}catch{return hn}};(async()=>{if(hn=await pn(),!u)for(;;){if(a!==hn){dn({__type:TransactionStatus$4.NONCE_INVALID,slotInWhichNonceDidAdvance:ln});return}if(await sleep$4(2e3),u||(hn=await pn(),u))return}})()}),{abortConfirmation:tn,confirmationPromise:nn}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),sn=this.getCancellationPromise(t);let fn;try{const dn=await Promise.race([sn,nn,en]);if(dn.__type===TransactionStatus$4.PROCESSED)fn=dn.response;else{let hn;for(;;){const ln=await this.getSignatureStatus(c);if(ln==null)break;if(ln.context.slot<(dn.slotInWhichNonceDidAdvance??r)){await sleep$4(400);continue}hn=ln;break}if(hn!=null&&hn.value){const ln=e||"finalized",{confirmationStatus:pn}=hn.value;switch(ln){case"processed":case"recent":if(pn!=="processed"&&pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError$4(c);break;case"confirmed":case"single":case"singleGossip":if(pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError$4(c);break;case"finalized":case"max":case"root":if(pn!=="finalized")throw new TransactionExpiredNonceInvalidError$4(c);break;default:($n=>{})(ln)}fn={context:hn.context,value:{err:hn.value.err}}}else throw new TransactionExpiredNonceInvalidError$4(c)}}finally{u=!0,tn()}return fn}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const o=new Promise(en=>{let tn=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{tn=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>en({__type:TransactionStatus$4.TIMED_OUT,timeoutMs:tn}),tn)}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let u;try{const en=await Promise.race([c,o]);if(en.__type===TransactionStatus$4.PROCESSED)u=en.response;else throw new TransactionExpiredTimeoutError$4(t,en.timeoutMs/1e3)}finally{clearTimeout(r),a()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=create$7(e,jsonRpcResult$8(array$8(ContactInfoResult$4)));if("error"in t)throw new SolanaJSONRPCError$4(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),o=create$7(r,GetVoteAccounts$4);if("error"in o)throw new SolanaJSONRPCError$4(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:t,config:r}=extractCommitmentFromConfig$4(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlot",o),c=create$7(a,jsonRpcResult$8(number$9()));if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:t,config:r}=extractCommitmentFromConfig$4(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlotLeader",o),c=create$7(a,jsonRpcResult$8(string$8()));if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,t){const r=[e,t],o=await this._rpcRequest("getSlotLeaders",r),a=create$7(o,jsonRpcResult$8(array$8(PublicKeyFromString$7)));if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get slot leaders");return a.result}async getSignatureStatus(e,t){const{context:r,value:o}=await this.getSignatureStatuses([e],t);assert$i(o.length===1);const a=o[0];return{context:r,value:a}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const o=await this._rpcRequest("getSignatureStatuses",r),a=create$7(o,GetSignatureStatusesRpcResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get signature status");return a.result}async getTransactionCount(e){const{commitment:t,config:r}=extractCommitmentFromConfig$4(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getTransactionCount",o),c=create$7(a,jsonRpcResult$8(number$9()));if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),o=create$7(r,GetInflationGovernorRpcResult$4);if("error"in o)throw new SolanaJSONRPCError$4(o.error,"failed to get inflation");return o.result}async getInflationReward(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$4(r),c=this._buildArgs([e.map(tn=>tn.toBase58())],o,void 0,{...a,epoch:t??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getInflationReward",c),en=create$7(u,GetInflationRewardResult$4);if("error"in en)throw new SolanaJSONRPCError$4(en.error,"failed to get inflation reward");return en.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=create$7(e,GetInflationRateRpcResult$4);if("error"in t)throw new SolanaJSONRPCError$4(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=extractCommitmentFromConfig$4(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getEpochInfo",o),c=create$7(a,GetEpochInfoRpcResult$4);if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=create$7(e,GetEpochScheduleRpcResult$4);if("error"in t)throw new SolanaJSONRPCError$4(t.error,"failed to get epoch schedule");const r=t.result;return new EpochSchedule$4(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=create$7(e,GetLeaderScheduleRpcResult$4);if("error"in t)throw new SolanaJSONRPCError$4(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),a=create$7(o,GetMinimumBalanceForRentExemptionRpcResult$4);return"error"in a?(console.warn("Unable to fetch minimum balance for rent exemption"),0):a.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),o=create$7(r,GetRecentBlockhashAndContextRpcResult$4);if("error"in o)throw new SolanaJSONRPCError$4(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=create$7(t,GetRecentPerformanceSamplesRpcResult$4);if("error"in r)throw new SolanaJSONRPCError$4(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),a=create$7(o,GetFeeCalculatorRpcResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get fee calculator");const{context:c,value:u}=a.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const r=toBuffer$7(e.serialize()).toString("base64"),o=this._buildArgs([r],t),a=await this._rpcRequest("getFeeForMessage",o),c=create$7(a,jsonRpcResultAndContext$8(nullable$7(number$9())));if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){var c;const t=(c=e==null?void 0:e.lockedWritableAccounts)==null?void 0:c.map(u=>u.toBase58()),r=t!=null&&t.length?[t]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),a=create$7(o,GetRecentPrioritizationFeesRpcResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get recent prioritization fees");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=extractCommitmentFromConfig$4(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getLatestBlockhash",o),c=create$7(a,GetLatestBlockhashRpcResult$4);if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=this._buildArgs([e],r,void 0,o),c=await this._rpcRequest("isBlockhashValid",a),u=create$7(c,IsBlockhashValidRpcResult$4);if("error"in u)throw new SolanaJSONRPCError$4(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=create$7(e,jsonRpcResult$8(VersionResult$4));if("error"in t)throw new SolanaJSONRPCError$4(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=create$7(e,jsonRpcResult$8(string$8()));if("error"in t)throw new SolanaJSONRPCError$4(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$7(c,GetAccountsModeBlockRpcResult$4);if("error"in u)throw u.error;return u.result}case"none":{const u=create$7(c,GetNoneModeBlockRpcResult$4);if("error"in u)throw u.error;return u.result}default:{const u=create$7(c,GetBlockRpcResult$4);if("error"in u)throw u.error;const{result:en}=u;return en?{...en,transactions:en.transactions.map(({transaction:tn,meta:nn,version:sn})=>({meta:nn,transaction:{...tn,message:versionedMessageFromResponse$4(sn,tn.message)},version:sn}))}:null}}}catch(u){throw new SolanaJSONRPCError$4(u,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$7(c,GetParsedAccountsModeBlockRpcResult$4);if("error"in u)throw u.error;return u.result}case"none":{const u=create$7(c,GetParsedNoneModeBlockRpcResult$4);if("error"in u)throw u.error;return u.result}default:{const u=create$7(c,GetParsedBlockRpcResult$4);if("error"in u)throw u.error;return u.result}}}catch(u){throw new SolanaJSONRPCError$4(u,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:u,...en}=e;r=u,t=en}const o=this._buildArgs([],r,"base64",t),a=await this._rpcRequest("getBlockProduction",o),c=create$7(a,BlockProductionResponseStruct$4);if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get block production information");return c.result}async getTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getTransaction",a),u=create$7(c,GetTransactionRpcResult$4);if("error"in u)throw new SolanaJSONRPCError$4(u.error,"failed to get transaction");const en=u.result;return en&&{...en,transaction:{...en.transaction,message:versionedMessageFromResponse$4(en.version,en.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getTransaction",a),u=create$7(c,GetParsedTransactionRpcResult$4);if("error"in u)throw new SolanaJSONRPCError$4(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,"jsonParsed",o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create$7(en,GetParsedTransactionRpcResult$4);if("error"in tn)throw new SolanaJSONRPCError$4(tn.error,"failed to get transactions");return tn.result})}async getTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$4(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,void 0,o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create$7(en,GetTransactionRpcResult$4);if("error"in tn)throw new SolanaJSONRPCError$4(tn.error,"failed to get transactions");const nn=tn.result;return nn&&{...nn,transaction:{...nn.transaction,message:versionedMessageFromResponse$4(nn.version,nn.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedBlock",r),a=create$7(o,GetConfirmedBlockRpcResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:en,meta:tn})=>{const nn=new Message$6(en.message);return{meta:tn,transaction:{...en,message:nn}}})};return{...u,transactions:u.transactions.map(({transaction:en,meta:tn})=>({meta:tn,transaction:Transaction$6.populate(en.message,en.signatures)}))}}async getBlocks(e,t,r){const o=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),a=await this._rpcRequest("getBlocks",o),c=create$7(a,jsonRpcResult$8(array$8(number$9())));if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),a=create$7(o,GetBlockSignaturesRpcResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get block");const c=a.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",r),a=create$7(o,GetBlockSignaturesRpcResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedTransaction",r),a=create$7(o,GetTransactionRpcResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get transaction");const c=a.result;if(!c)return c;const u=new Message$6(c.transaction.message),en=c.transaction.signatures;return{...c,transaction:Transaction$6.populate(u,en)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",r),a=create$7(o,GetParsedTransactionRpcResult$4);if("error"in a)throw new SolanaJSONRPCError$4(a.error,"failed to get confirmed transaction");return a.result}async getParsedConfirmedTransactions(e,t){const r=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(r)).map(c=>{const u=create$7(c,GetParsedTransactionRpcResult$4);if("error"in u)throw new SolanaJSONRPCError$4(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,r){let o={},a=await this.getFirstAvailableBlock();for(;!("until"in o)&&(t--,!(t<=0||t<a));)try{const en=await this.getConfirmedBlockSignatures(t,"finalized");en.signatures.length>0&&(o.until=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}let c=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>c));)try{const en=await this.getConfirmedBlockSignatures(r);en.signatures.length>0&&(o.before=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(en=>en.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=create$7(a,GetConfirmedSignaturesForAddress2RpcResult$4);if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getSignaturesForAddress",o),c=create$7(a,GetSignaturesForAddressRpcResult$4);if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=new AddressLookupTableAccount$4({key:e,state:AddressLookupTableAccount$4.deserialize(o.data)})),{context:r,value:a}}async getNonceAndContext(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=NonceAccount$4.fromAccountData(o.data)),{context:r,value:a}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),o=create$7(r,RequestAirdropRpcResult$4);if("error"in o)throw new SolanaJSONRPCError$4(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep$4(100);const r=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS$4;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let o=0;o<50;o++){const a=await this.getLatestBlockhash("finalized");if(r!==a.blockhash)return this._blockhashInfo={latestBlockhash:a,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},a;await sleep$4(MS_PER_SLOT$4/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=extractCommitmentFromConfig$4(e),o=this._buildArgs([],t,"base64",r),a=await this._rpcRequest("getStakeMinimumDelegation",o),c=create$7(a,jsonRpcResultAndContext$8(number$9()));if("error"in c)throw new SolanaJSONRPCError$4(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,t,r){if("message"in e){const ln=e.serialize(),pn=bufferPolyfill.Buffer.from(ln).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const $n=t||{};$n.encoding="base64","commitment"in $n||($n.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&($n.innerInstructions=t.innerInstructions);const Sn=[pn,$n],yn=await this._rpcRequest("simulateTransaction",Sn),In=create$7(yn,SimulatedTransactionResponseStruct$5);if("error"in In)throw new Error("failed to simulate transaction: "+In.error.message);return In.result}let o;if(e instanceof Transaction$6){let hn=e;o=new Transaction$6,o.feePayer=hn.feePayer,o.instructions=e.instructions,o.nonceInfo=hn.nonceInfo,o.signatures=hn.signatures}else o=Transaction$6.populate(e),o._message=o._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const a=t;if(o.nonceInfo&&a)o.sign(...a);else{let hn=this._disableBlockhashCaching;for(;;){const ln=await this._blockhashWithExpiryBlockHeight(hn);if(o.lastValidBlockHeight=ln.lastValidBlockHeight,o.recentBlockhash=ln.blockhash,!a)break;if(o.sign(...a),!o.signature)throw new Error("!signature");const pn=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(pn)&&!this._blockhashInfo.transactionSignatures.includes(pn)){this._blockhashInfo.simulatedSignatures.push(pn);break}else hn=!0}}const c=o._compile(),u=c.serialize(),tn=o._serialize(u).toString("base64"),nn={encoding:"base64",commitment:this.commitment};if(r){const hn=(Array.isArray(r)?r:c.nonProgramIds()).map(ln=>ln.toBase58());nn.accounts={encoding:"base64",addresses:hn}}a&&(nn.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(nn.innerInstructions=t.innerInstructions);const sn=[tn,nn],fn=await this._rpcRequest("simulateTransaction",sn),dn=create$7(fn,SimulatedTransactionResponseStruct$5);if("error"in dn){let hn;if("data"in dn.error&&(hn=dn.error.data.logs,hn&&Array.isArray(hn))){const ln=`
    `,pn=ln+hn.join(ln);console.error(dn.error.message,pn)}throw new SendTransactionError$4({action:"simulate",signature:"",transactionMessage:dn.error.message,logs:hn})}return dn.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(e.nonceInfo)e.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const en=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(en))c=!0;else{this._blockhashInfo.transactionSignatures.push(en);break}}}const a=e.serialize();return await this.sendRawTransaction(a,r)}async sendRawTransaction(e,t){const r=toBuffer$7(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},o=t&&t.skipPreflight,a=o===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),o&&(r.skipPreflight=o),a&&(r.preflightCommitment=a);const c=[e,r],u=await this._rpcRequest("sendTransaction",c),en=create$7(u,SendTransactionRpcResult$4);if("error"in en){let tn;throw"data"in en.error&&(tn=en.error.data.logs),new SendTransactionError$4({action:o?"send":"simulate",signature:"",transactionMessage:en.error.message,logs:tn})}return en.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var o;const r=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(c=>{try{c(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return o.add(t),()=>{o.delete(t),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:a,method:c}=o;try{this._setSubscription(r,{...o,state:"subscribing"});const u=await this._rpcWebSocket.call(c,a);this._setSubscription(r,{...o,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(console.error(`Received ${u instanceof Error?"":"JSON-RPC "}error calling \`${c}\``,{args:a,error:u}),!t())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:a,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(a))this._subscriptionsAutoDisposedByRpc.delete(a);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[a])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!t())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(o=>{try{o(...t)}catch(a){console.error(a)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=create$7(e,AccountNotificationResult$4);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,o=fastStableStringify$5([e.method,t]),a=this._subscriptionsByHash[o];return a===void 0?this._subscriptionsByHash[o]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:a.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const c=this._subscriptionsByHash[o];assert$i(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$4(r),c=this._buildArgs([e.toBase58()],o||this._commitment||"finalized","base64",a);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},c)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=create$7(e,ProgramAccountNotificationResult$4);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,o){const{commitment:a,config:c}=extractCommitmentFromConfig$4(r),u=this._buildArgs([e.toBase58()],a||this._commitment||"finalized","base64",c||(o?{filters:applyDefaultMemcmpEncodingToFilters(o)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},u)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=create$7(e,LogsNotificationResult$4);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=create$7(e,SlotNotificationResult$4);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=create$7(e,SlotUpdateNotificationResult$4);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,o){const a=t||this._commitment;if(a||r||o){let c={};r&&(c.encoding=r),a&&(c.commitment=a),o&&(c=Object.assign(c,o)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,t,r,o){const a=t||this._commitment;if(a&&!["confirmed","finalized"].includes(a))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,o)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=create$7(e,SignatureNotificationResult$4);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const o=this._buildArgs([e],r||this._commitment||"finalized"),a=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){t(c.result,u);try{this.removeSignatureListener(a)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}onSignatureWithOptions(e,t,r){const{commitment:o,...a}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},c=this._buildArgs([e],o,void 0,a),u=this._makeSubscription({callback:(en,tn)=>{t(en,tn);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=create$7(e,RootNotificationResult$4);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair$5{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair$5()}static generate(){return new Keypair$5(generateKeypair$5())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const o=e.slice(0,32),a=getPublicKey$5(o);for(let c=0;c<32;c++)if(r[c]!==a[c])throw new Error("provided secretKey is invalid")}return new Keypair$5({publicKey:r,secretKey:e})}static fromSeed(e){const t=getPublicKey$5(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Keypair$5({publicKey:t,secretKey:r})}get publicKey(){return new PublicKey$7(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$3("instruction"),u64$e("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$3("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$3("instruction"),u64$e(),seq(publicKey$c(),offset$1(u32$3(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$3("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$3("instruction")])}});new PublicKey$7("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$3("units"),u32$3("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$3("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$3("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$e("microLamports")])}});new PublicKey$7("ComputeBudget111111111111111111111111111111");struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);new PublicKey$7("Ed25519SigVerify111111111111111111111111111");secp256k1$2.utils.isValidPrivateKey;secp256k1$2.getPublicKey;struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);new PublicKey$7("KeccakSecp256k11111111111111111111111111111");var _Lockup$1;new PublicKey$7("StakeConfig11111111111111111111111111111111");class Lockup$7{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_Lockup$1=Lockup$7;Lockup$7.default=new _Lockup$1(0,0,PublicKey$7.default);Object.freeze({Initialize:{index:0,layout:struct$3([u32$3("instruction"),authorized$7(),lockup$7()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$c("newAuthorized"),u32$3("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$3("instruction")])},Split:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$3("instruction")])},Merge:{index:7,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$3("instruction"),publicKey$c("newAuthorized"),u32$3("stakeAuthorizationType"),rustString$7("authoritySeed"),publicKey$c("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});new PublicKey$7("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$3("instruction"),voteInit$7()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$c("newAuthorized"),u32$3("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},UpdateValidatorIdentity:{index:4,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$3("instruction"),voteAuthorizeWithSeedArgs$7()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});new PublicKey$7("Vote111111111111111111111111111111111111111");new PublicKey$7("Va1idator1nfo111111111111111111111111111111");type$7({name:string$8(),website:optional$7(string$8()),details:optional$7(string$8()),iconUrl:optional$7(string$8()),keybaseUsername:optional$7(string$8())});new PublicKey$7("Vote111111111111111111111111111111111111111");struct$3([publicKey$c("nodePubkey"),publicKey$c("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$3("confirmationCount")]),offset$1(u32$3(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$c("authorizedVoter")]),offset$1(u32$3(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$c("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$3(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);var eventemitter3={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function o(en,tn,nn){this.fn=en,this.context=tn,this.once=nn||!1}function a(en,tn,nn,sn,fn){if(typeof nn!="function")throw new TypeError("The listener must be a function");var dn=new o(nn,sn||en,fn),hn=t?t+tn:tn;return en._events[hn]?en._events[hn].fn?en._events[hn]=[en._events[hn],dn]:en._events[hn].push(dn):(en._events[hn]=dn,en._eventsCount++),en}function c(en,tn){--en._eventsCount===0?en._events=new r:delete en._events[tn]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var tn=[],nn,sn;if(this._eventsCount===0)return tn;for(sn in nn=this._events)e.call(nn,sn)&&tn.push(t?sn.slice(1):sn);return Object.getOwnPropertySymbols?tn.concat(Object.getOwnPropertySymbols(nn)):tn},u.prototype.listeners=function(tn){var nn=t?t+tn:tn,sn=this._events[nn];if(!sn)return[];if(sn.fn)return[sn.fn];for(var fn=0,dn=sn.length,hn=new Array(dn);fn<dn;fn++)hn[fn]=sn[fn].fn;return hn},u.prototype.listenerCount=function(tn){var nn=t?t+tn:tn,sn=this._events[nn];return sn?sn.fn?1:sn.length:0},u.prototype.emit=function(tn,nn,sn,fn,dn,hn){var ln=t?t+tn:tn;if(!this._events[ln])return!1;var pn=this._events[ln],$n=arguments.length,Sn,yn;if(pn.fn){switch(pn.once&&this.removeListener(tn,pn.fn,void 0,!0),$n){case 1:return pn.fn.call(pn.context),!0;case 2:return pn.fn.call(pn.context,nn),!0;case 3:return pn.fn.call(pn.context,nn,sn),!0;case 4:return pn.fn.call(pn.context,nn,sn,fn),!0;case 5:return pn.fn.call(pn.context,nn,sn,fn,dn),!0;case 6:return pn.fn.call(pn.context,nn,sn,fn,dn,hn),!0}for(yn=1,Sn=new Array($n-1);yn<$n;yn++)Sn[yn-1]=arguments[yn];pn.fn.apply(pn.context,Sn)}else{var In=pn.length,An;for(yn=0;yn<In;yn++)switch(pn[yn].once&&this.removeListener(tn,pn[yn].fn,void 0,!0),$n){case 1:pn[yn].fn.call(pn[yn].context);break;case 2:pn[yn].fn.call(pn[yn].context,nn);break;case 3:pn[yn].fn.call(pn[yn].context,nn,sn);break;case 4:pn[yn].fn.call(pn[yn].context,nn,sn,fn);break;default:if(!Sn)for(An=1,Sn=new Array($n-1);An<$n;An++)Sn[An-1]=arguments[An];pn[yn].fn.apply(pn[yn].context,Sn)}}return!0},u.prototype.on=function(tn,nn,sn){return a(this,tn,nn,sn,!1)},u.prototype.once=function(tn,nn,sn){return a(this,tn,nn,sn,!0)},u.prototype.removeListener=function(tn,nn,sn,fn){var dn=t?t+tn:tn;if(!this._events[dn])return this;if(!nn)return c(this,dn),this;var hn=this._events[dn];if(hn.fn)hn.fn===nn&&(!fn||hn.once)&&(!sn||hn.context===sn)&&c(this,dn);else{for(var ln=0,pn=[],$n=hn.length;ln<$n;ln++)(hn[ln].fn!==nn||fn&&!hn[ln].once||sn&&hn[ln].context!==sn)&&pn.push(hn[ln]);pn.length?this._events[dn]=pn.length===1?pn[0]:pn:c(this,dn)}return this},u.prototype.removeAllListeners=function(tn){var nn;return tn?(nn=t?t+tn:tn,this._events[nn]&&c(this,nn)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,n.exports=u})(eventemitter3);var EventEmitter=eventemitter3.exports;class WalletError extends Error{constructor(e,t){super(e),this.error=t}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}var WalletReadyState;(function(n){n.Installed="Installed",n.NotDetected="NotDetected",n.Loadable="Loadable",n.Unsupported="Unsupported"})(WalletReadyState||(WalletReadyState={}));class BaseWalletAdapter extends EventEmitter{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t,r={}){const o=this.publicKey;if(!o)throw new WalletNotConnectedError;return e.feePayer=e.feePayer||o,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,e}}function scopePollingDetectionStrategy(n){if(typeof window>"u"||typeof document>"u")return;const e=[];function t(){if(n())for(const a of e)a()}const r=setInterval(t,1e3);e.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",t,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",t))),document.readyState!=="complete"&&(window.addEventListener("load",t,{once:!0}),e.push(()=>window.removeEventListener("load",t))),t()}function isIosAndRedirectable(){if(!navigator)return!1;const n=navigator.userAgent.toLowerCase(),e=n.includes("iphone")||n.includes("ipad"),t=n.includes("safari");return e&&t}function isVersionedTransaction$3(n){return"version"in n}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(e,t,r={}){let o=!0;try{if(isVersionedTransaction$3(e)){if(!this.supportedTransactionVersions)throw new WalletSendTransactionError("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new WalletSendTransactionError(`Sending transaction version ${e.version} isn't supported by this wallet`);try{e=await this.signTransaction(e);const a=e.serialize();return await t.sendRawTransaction(a,r)}catch(a){throw a instanceof WalletSignTransactionError?(o=!1,a):new WalletSendTransactionError(a==null?void 0:a.message,a)}}else try{const{signers:a,...c}=r;e=await this.prepareTransaction(e,t,c),a!=null&&a.length&&e.partialSign(...a),e=await this.signTransaction(e);const u=e.serialize();return await t.sendRawTransaction(u,c)}catch(a){throw a instanceof WalletSignTransactionError?(o=!1,a):new WalletSendTransactionError(a==null?void 0:a.message,a)}}catch(a){throw o&&this.emit("error",a),a}}async signAllTransactions(e){for(const r of e)if(isVersionedTransaction$3(r)){if(!this.supportedTransactionVersions)throw new WalletSignTransactionError("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new WalletSignTransactionError(`Signing transaction version ${r.version} isn't supported by this wallet`)}const t=[];for(const r of e)t.push(await this.signTransaction(r));return t}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}var _a$1;const isClient$1=typeof window<"u",isFunction$4=n=>typeof n=="function",isString$2=n=>typeof n=="string",noop$4=()=>{},isIOS=isClient$1&&((_a$1=window==null?void 0:window.navigator)==null?void 0:_a$1.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(n){return typeof n=="function"?n():unref(n)}function createFilterWrapper$1(n,e){function t(...r){return new Promise((o,a)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(o).catch(a)})}return t}const bypassFilter$1=n=>n();function pausableFilter$1(n=bypassFilter$1){const e=ref(!0);function t(){e.value=!1}function r(){e.value=!0}const o=(...a)=>{e.value&&n(...a)};return{isActive:readonly(e),pause:t,resume:r,eventFilter:o}}function identity(n){return n}function tryOnScopeDispose$1(n){return getCurrentScope()?(onScopeDispose(n),!0):!1}function resolveRef(n){return typeof n=="function"?computed$1(n):ref(n)}function tryOnMounted$1(n,e=!0){getCurrentInstance()?onMounted(n):e?n():nextTick(n)}function useTimeoutFn(n,e,t={}){const{immediate:r=!0}=t,o=ref(!1);let a=null;function c(){a&&(clearTimeout(a),a=null)}function u(){o.value=!1,c()}function en(...tn){c(),o.value=!0,a=setTimeout(()=>{o.value=!1,a=null,n(...tn)},resolveUnref(e))}return r&&(o.value=!0,isClient$1&&en()),tryOnScopeDispose$1(u),{isPending:readonly(o),start:en,stop:u}}var __getOwnPropSymbols$6=Object.getOwnPropertySymbols,__hasOwnProp$6=Object.prototype.hasOwnProperty,__propIsEnum$6=Object.prototype.propertyIsEnumerable,__objRest$5=(n,e)=>{var t={};for(var r in n)__hasOwnProp$6.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&__getOwnPropSymbols$6)for(var r of __getOwnPropSymbols$6(n))e.indexOf(r)<0&&__propIsEnum$6.call(n,r)&&(t[r]=n[r]);return t};function watchWithFilter$1(n,e,t={}){const r=t,{eventFilter:o=bypassFilter$1}=r,a=__objRest$5(r,["eventFilter"]);return watch(n,createFilterWrapper$1(o,e),a)}var __defProp$2=Object.defineProperty,__defProps$2=Object.defineProperties,__getOwnPropDescs$2=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$2=Object.getOwnPropertySymbols,__hasOwnProp$2=Object.prototype.hasOwnProperty,__propIsEnum$2=Object.prototype.propertyIsEnumerable,__defNormalProp$2=(n,e,t)=>e in n?__defProp$2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,__spreadValues$2=(n,e)=>{for(var t in e||(e={}))__hasOwnProp$2.call(e,t)&&__defNormalProp$2(n,t,e[t]);if(__getOwnPropSymbols$2)for(var t of __getOwnPropSymbols$2(e))__propIsEnum$2.call(e,t)&&__defNormalProp$2(n,t,e[t]);return n},__spreadProps$2=(n,e)=>__defProps$2(n,__getOwnPropDescs$2(e)),__objRest$1=(n,e)=>{var t={};for(var r in n)__hasOwnProp$2.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&__getOwnPropSymbols$2)for(var r of __getOwnPropSymbols$2(n))e.indexOf(r)<0&&__propIsEnum$2.call(n,r)&&(t[r]=n[r]);return t};function watchPausable$1(n,e,t={}){const r=t,{eventFilter:o}=r,a=__objRest$1(r,["eventFilter"]),{eventFilter:c,pause:u,resume:en,isActive:tn}=pausableFilter$1(o);return{stop:watchWithFilter$1(n,e,__spreadProps$2(__spreadValues$2({},a),{eventFilter:c})),pause:u,resume:en,isActive:tn}}function unrefElement$1(n){var e;const t=resolveUnref(n);return(e=t==null?void 0:t.$el)!=null?e:t}const defaultWindow$1=isClient$1?window:void 0;isClient$1&&window.document;const defaultNavigator=isClient$1?window.navigator:void 0;isClient$1&&window.location;function useEventListener$1(...n){let e,t,r,o;if(isString$2(n[0])||Array.isArray(n[0])?([t,r,o]=n,e=defaultWindow$1):[e,t,r,o]=n,!e)return noop$4;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const a=[],c=()=>{a.forEach(nn=>nn()),a.length=0},u=(nn,sn,fn,dn)=>(nn.addEventListener(sn,fn,dn),()=>nn.removeEventListener(sn,fn,dn)),en=watch(()=>[unrefElement$1(e),resolveUnref(o)],([nn,sn])=>{c(),nn&&a.push(...t.flatMap(fn=>r.map(dn=>u(nn,fn,dn,sn))))},{immediate:!0,flush:"post"}),tn=()=>{en(),c()};return tryOnScopeDispose$1(tn),tn}let _iOSWorkaround=!1;function onClickOutside(n,e,t={}){const{window:r=defaultWindow$1,ignore:o=[],capture:a=!0,detectIframe:c=!1}=t;if(!r)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(r.document.body.children).forEach(fn=>fn.addEventListener("click",noop$4)));let u=!0;const en=fn=>o.some(dn=>{if(typeof dn=="string")return Array.from(r.document.querySelectorAll(dn)).some(hn=>hn===fn.target||fn.composedPath().includes(hn));{const hn=unrefElement$1(dn);return hn&&(fn.target===hn||fn.composedPath().includes(hn))}}),nn=[useEventListener$1(r,"click",fn=>{const dn=unrefElement$1(n);if(!(!dn||dn===fn.target||fn.composedPath().includes(dn))){if(fn.detail===0&&(u=!en(fn)),!u){u=!0;return}e(fn)}},{passive:!0,capture:a}),useEventListener$1(r,"pointerdown",fn=>{const dn=unrefElement$1(n);dn&&(u=!fn.composedPath().includes(dn)&&!en(fn))},{passive:!0}),c&&useEventListener$1(r,"blur",fn=>{var dn;const hn=unrefElement$1(n);((dn=r.document.activeElement)==null?void 0:dn.tagName)==="IFRAME"&&!(hn!=null&&hn.contains(r.document.activeElement))&&e(fn)})].filter(Boolean);return()=>nn.forEach(fn=>fn())}const createKeyPredicate=n=>typeof n=="function"?n:typeof n=="string"?e=>e.key===n:Array.isArray(n)?e=>n.includes(e.key):()=>!0;function onKeyStroke(...n){let e,t,r={};n.length===3?(e=n[0],t=n[1],r=n[2]):n.length===2?typeof n[1]=="object"?(e=!0,t=n[0],r=n[1]):(e=n[0],t=n[1]):(e=!0,t=n[0]);const{target:o=defaultWindow$1,eventName:a="keydown",passive:c=!1}=r,u=createKeyPredicate(e);return useEventListener$1(o,a,tn=>{u(tn)&&t(tn)},c)}function useSupported(n,e=!1){const t=ref(),r=()=>t.value=Boolean(n());return r(),tryOnMounted$1(r,e),t}function useClipboard(n={}){const{navigator:e=defaultNavigator,read:t=!1,source:r,copiedDuring:o=1500,legacy:a=!1}=n,c=["copy","cut"],u=useSupported(()=>e&&"clipboard"in e),en=computed$1(()=>u.value||a),tn=ref(""),nn=ref(!1),sn=useTimeoutFn(()=>nn.value=!1,o);function fn(){u.value?e.clipboard.readText().then(pn=>{tn.value=pn}):tn.value=ln()}if(en.value&&t)for(const pn of c)useEventListener$1(pn,fn);async function dn(pn=resolveUnref(r)){en.value&&pn!=null&&(u.value?await e.clipboard.writeText(pn):hn(pn),tn.value=pn,nn.value=!0,sn.start())}function hn(pn){const $n=document.createElement("textarea");$n.value=pn??"",$n.style.position="absolute",$n.style.opacity="0",document.body.appendChild($n),$n.select(),document.execCommand("copy"),$n.remove()}function ln(){var pn,$n,Sn;return(Sn=($n=(pn=document==null?void 0:document.getSelection)==null?void 0:pn.call(document))==null?void 0:$n.toString())!=null?Sn:""}return{isSupported:en,text:tn,copied:nn,copy:dn}}const _global$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:{},globalKey$1="__vueuse_ssr_handlers__";_global$2[globalKey$1]=_global$2[globalKey$1]||{};const handlers$1=_global$2[globalKey$1];function getSSRHandler$1(n,e){return handlers$1[n]||e}function guessSerializerType$1(n){return n==null?"any":n instanceof Set?"set":n instanceof Map?"map":n instanceof Date?"date":typeof n=="boolean"?"boolean":typeof n=="string"?"string":typeof n=="object"?"object":Number.isNaN(n)?"any":"number"}var __defProp$k=Object.defineProperty,__getOwnPropSymbols$m=Object.getOwnPropertySymbols,__hasOwnProp$m=Object.prototype.hasOwnProperty,__propIsEnum$m=Object.prototype.propertyIsEnumerable,__defNormalProp$k=(n,e,t)=>e in n?__defProp$k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,__spreadValues$k=(n,e)=>{for(var t in e||(e={}))__hasOwnProp$m.call(e,t)&&__defNormalProp$k(n,t,e[t]);if(__getOwnPropSymbols$m)for(var t of __getOwnPropSymbols$m(e))__propIsEnum$m.call(e,t)&&__defNormalProp$k(n,t,e[t]);return n};const StorageSerializers$1={boolean:{read:n=>n==="true",write:n=>String(n)},object:{read:n=>JSON.parse(n),write:n=>JSON.stringify(n)},number:{read:n=>Number.parseFloat(n),write:n=>String(n)},any:{read:n=>n,write:n=>String(n)},string:{read:n=>n,write:n=>String(n)},map:{read:n=>new Map(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n.entries()))},set:{read:n=>new Set(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n))},date:{read:n=>new Date(n),write:n=>n.toISOString()}},customStorageEventName$1="vueuse-storage";function useStorage$1(n,e,t,r={}){var o;const{flush:a="pre",deep:c=!0,listenToStorageChanges:u=!0,writeDefaults:en=!0,mergeDefaults:tn=!1,shallow:nn,window:sn=defaultWindow$1,eventFilter:fn,onError:dn=Pn=>{console.error(Pn)}}=r,hn=(nn?shallowRef:ref)(e);if(!t)try{t=getSSRHandler$1("getDefaultStorage",()=>{var Pn;return(Pn=defaultWindow$1)==null?void 0:Pn.localStorage})()}catch(Pn){dn(Pn)}if(!t)return hn;const ln=resolveUnref(e),pn=guessSerializerType$1(ln),$n=(o=r.serializer)!=null?o:StorageSerializers$1[pn],{pause:Sn,resume:yn}=watchPausable$1(hn,()=>In(hn.value),{flush:a,deep:c,eventFilter:fn});return sn&&u&&(useEventListener$1(sn,"storage",kn),useEventListener$1(sn,customStorageEventName$1,Tn)),kn(),hn;function In(Pn){try{if(Pn==null)t.removeItem(n);else{const Dn=$n.write(Pn),Kn=t.getItem(n);Kn!==Dn&&(t.setItem(n,Dn),sn&&sn.dispatchEvent(new CustomEvent(customStorageEventName$1,{detail:{key:n,oldValue:Kn,newValue:Dn,storageArea:t}})))}}catch(Dn){dn(Dn)}}function An(Pn){const Dn=Pn?Pn.newValue:t.getItem(n);if(Dn==null)return en&&ln!==null&&t.setItem(n,$n.write(ln)),ln;if(!Pn&&tn){const Kn=$n.read(Dn);return isFunction$4(tn)?tn(Kn,ln):pn==="object"&&!Array.isArray(Kn)?__spreadValues$k(__spreadValues$k({},ln),Kn):Kn}else return typeof Dn!="string"?Dn:$n.read(Dn)}function Tn(Pn){kn(Pn.detail)}function kn(Pn){if(!(Pn&&Pn.storageArea!==t)){if(Pn&&Pn.key==null){hn.value=ln;return}if(!(Pn&&Pn.key!==n)){Sn();try{hn.value=An(Pn)}catch(Dn){dn(Dn)}finally{Pn?nextTick(yn):yn()}}}}}function useLocalStorage$1(n,e,t={}){const{window:r=defaultWindow$1}=t;return useStorage$1(n,e,r==null?void 0:r.localStorage,t)}var SwipeDirection;(function(n){n.UP="UP",n.RIGHT="RIGHT",n.DOWN="DOWN",n.LEFT="LEFT",n.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));function checkOverflowScroll(n){const e=window.getComputedStyle(n);if(e.overflowX==="scroll"||e.overflowY==="scroll"||e.overflowX==="auto"&&n.clientHeight<n.scrollHeight||e.overflowY==="auto"&&n.clientWidth<n.scrollWidth)return!0;{const t=n.parentNode;return!t||t.tagName==="BODY"?!1:checkOverflowScroll(t)}}function preventDefault(n){const e=n||window.event,t=e.target;return checkOverflowScroll(t)?!1:e.touches.length>1?!0:(e.preventDefault&&e.preventDefault(),!1)}function useScrollLock(n,e=!1){const t=ref(e);let r=null,o;watch(resolveRef(n),u=>{if(u){const en=u;o=en.style.overflow,t.value&&(en.style.overflow="hidden")}},{immediate:!0});const a=()=>{const u=resolveUnref(n);!u||t.value||(isIOS&&(r=useEventListener$1(u,"touchmove",en=>{preventDefault(en)},{passive:!1})),u.style.overflow="hidden",t.value=!0)},c=()=>{const u=resolveUnref(n);!u||!t.value||(isIOS&&(r==null||r()),u.style.overflow=o,t.value=!1)};return tryOnScopeDispose$1(c),computed$1({get(){return t.value},set(u){u?a():c()}})}var __defProp$1=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(n,e,t)=>e in n?__defProp$1(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,__spreadValues=(n,e)=>{for(var t in e||(e={}))__hasOwnProp.call(e,t)&&__defNormalProp$1(n,t,e[t]);if(__getOwnPropSymbols)for(var t of __getOwnPropSymbols(e))__propIsEnum.call(e,t)&&__defNormalProp$1(n,t,e[t]);return n};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);var __defProp=Object.defineProperty,__defNormalProp=(n,e,t)=>e in n?__defProp(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,__publicField=(n,e,t)=>(__defNormalProp(n,typeof e!="symbol"?e+"":e,t),t);class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}class WalletNotInitializedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}const SolanaMobileWalletAdapterErrorCode={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND"};class SolanaMobileWalletAdapterError extends Error{constructor(...e){const[t,r,o]=e;super(r),this.code=t,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class SolanaMobileWalletAdapterProtocolError extends Error{constructor(...e){const[t,r,o,a]=e;super(o),this.code=r,this.data=a,this.jsonRpcMessageId=t,this.name="SolanaMobileWalletAdapterProtocolError"}}function __awaiter$2$1(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})}function createHelloReq(n,e){return __awaiter$2$1(this,void 0,void 0,function*(){const t=yield crypto.subtle.exportKey("raw",n),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},e,t),o=new Uint8Array(t.byteLength+r.byteLength);return o.set(new Uint8Array(t),0),o.set(new Uint8Array(r),t.byteLength),o})}const SEQUENCE_NUMBER_BYTES=4;function createSequenceNumberVector(n){if(n>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const e=new ArrayBuffer(SEQUENCE_NUMBER_BYTES);return new DataView(e).setUint32(0,n,!1),new Uint8Array(e)}function generateAssociationKeypair(){return __awaiter$2$1(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function generateECDHKeypair(){return __awaiter$2$1(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}const INITIALIZATION_VECTOR_BYTES=12;function encryptJsonRpcMessage(n,e){return __awaiter$2$1(this,void 0,void 0,function*(){const t=JSON.stringify(n),r=createSequenceNumberVector(n.id),o=new Uint8Array(INITIALIZATION_VECTOR_BYTES);crypto.getRandomValues(o);const a=yield crypto.subtle.encrypt(getAlgorithmParams(r,o),e,new TextEncoder().encode(t)),c=new Uint8Array(r.byteLength+o.byteLength+a.byteLength);return c.set(new Uint8Array(r),0),c.set(new Uint8Array(o),r.byteLength),c.set(new Uint8Array(a),r.byteLength+o.byteLength),c})}function decryptJsonRpcMessage(n,e){return __awaiter$2$1(this,void 0,void 0,function*(){const t=n.slice(0,SEQUENCE_NUMBER_BYTES),r=n.slice(SEQUENCE_NUMBER_BYTES,SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),o=n.slice(SEQUENCE_NUMBER_BYTES+INITIALIZATION_VECTOR_BYTES),a=yield crypto.subtle.decrypt(getAlgorithmParams(t,r),e,o),c=getUtf8Decoder().decode(a),u=JSON.parse(c);if(Object.hasOwnProperty.call(u,"error"))throw new SolanaMobileWalletAdapterProtocolError(u.id,u.error.code,u.error.message);return u})}function getAlgorithmParams(n,e){return{additionalData:n,iv:e,name:"AES-GCM",tagLength:128}}let _utf8Decoder;function getUtf8Decoder(){return _utf8Decoder===void 0&&(_utf8Decoder=new TextDecoder("utf-8")),_utf8Decoder}function parseHelloRsp(n,e,t){return __awaiter$2$1(this,void 0,void 0,function*(){const[r,o]=yield Promise.all([crypto.subtle.exportKey("raw",e),crypto.subtle.importKey("raw",n,{name:"ECDH",namedCurve:"P-256"},!1,[])]),a=yield crypto.subtle.deriveBits({name:"ECDH",public:o},t,256),c=yield crypto.subtle.importKey("raw",a,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},c,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function getRandomAssociationPort(){return assertAssociationPort(49152+Math.floor(Math.random()*(65535-49152+1)))}function assertAssociationPort(n){if(n<49152||n>65535)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${n} given.`,{port:n});return n}function arrayBufferToBase64String(n){let e="";const t=new Uint8Array(n),r=t.byteLength;for(let o=0;o<r;o++)e+=String.fromCharCode(t[o]);return window.btoa(e)}function getStringWithURLUnsafeCharactersReplaced(n){return n.replace(/[/+=]/g,e=>({"/":"_","+":"-","=":"."})[e])}const INTENT_NAME="solana-wallet";function getPathParts(n){return n.replace(/(^\/+|\/+$)/g,"").split("/")}function getIntentURL(n,e){let t=null;if(e){try{t=new URL(e)}catch{}if((t==null?void 0:t.protocol)!=="https:")throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}t||(t=new URL(`${INTENT_NAME}:/`));const r=n.startsWith("/")?n:[...getPathParts(t.pathname),...getPathParts(n)].join("/");return new URL(r,t)}function getAssociateAndroidIntentURL(n,e,t){return __awaiter$2$1(this,void 0,void 0,function*(){const r=assertAssociationPort(e),o=yield crypto.subtle.exportKey("raw",n),a=arrayBufferToBase64String(o),c=getIntentURL("v1/associate/local",t);return c.searchParams.set("association",getStringWithURLUnsafeCharactersReplaced(a)),c.searchParams.set("port",`${r}`),c})}const Browser={Firefox:0,Other:1};function assertUnreachable(n){return n}function getBrowser(){return navigator.userAgent.indexOf("Firefox/")!==-1?Browser.Firefox:Browser.Other}function getDetectionPromise(){return new Promise((n,e)=>{function t(){clearTimeout(o),window.removeEventListener("blur",r)}function r(){t(),n()}window.addEventListener("blur",r);const o=setTimeout(()=>{t(),e()},2e3)})}let _frame=null;function launchUrlThroughHiddenFrame(n){_frame==null&&(_frame=document.createElement("iframe"),_frame.style.display="none",document.body.appendChild(_frame)),_frame.contentWindow.location.href=n.toString()}function startSession(n,e){return __awaiter$2$1(this,void 0,void 0,function*(){const t=getRandomAssociationPort(),r=yield getAssociateAndroidIntentURL(n,t,e);if(r.protocol==="https:")window.location.assign(r);else try{const o=getBrowser();switch(o){case Browser.Firefox:launchUrlThroughHiddenFrame(r);break;case Browser.Other:{const a=getDetectionPromise();window.location.assign(r),yield a;break}default:}}catch{throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return t})}const WEBSOCKET_CONNECTION_CONFIG={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},WEBSOCKET_PROTOCOL="com.solana.mobilewalletadapter.v1";function assertSecureContext(){if(typeof window>"u"||window.isSecureContext!==!0)throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function assertSecureEndpointSpecificURI(n){let e;try{e=new URL(n)}catch{throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(e.protocol!=="https:")throw new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function getSequenceNumberFromByteArray(n){return new DataView(n).getUint32(0,!1)}function transact$1(n,e){return __awaiter$2$1(this,void 0,void 0,function*(){assertSecureContext();const t=yield generateAssociationKeypair(),r=yield startSession(t.publicKey,e==null?void 0:e.baseUri),o=`ws://localhost:${r}/solana-wallet`;let a;const c=(()=>{const nn=[...WEBSOCKET_CONNECTION_CONFIG.retryDelayScheduleMs];return()=>nn.length>1?nn.shift():nn[0]})();let u=1,en=0,tn={__type:"disconnected"};return new Promise((nn,sn)=>{let fn;const dn={},hn=()=>__awaiter$2$1(this,void 0,void 0,function*(){if(tn.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${tn.__type}\`.`);return}const{associationKeypair:An}=tn;fn.removeEventListener("open",hn);const Tn=yield generateECDHKeypair();fn.send(yield createHelloReq(Tn.publicKey,An.privateKey)),tn={__type:"hello_req_sent",associationPublicKey:An.publicKey,ecdhPrivateKey:Tn.privateKey}}),ln=An=>{An.wasClean?tn={__type:"disconnected"}:sn(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${An.code}: ${An.reason}).`,{closeEvent:An})),Sn()},pn=An=>__awaiter$2$1(this,void 0,void 0,function*(){Sn(),Date.now()-a>=WEBSOCKET_CONNECTION_CONFIG.timeoutMs?sn(new SolanaMobileWalletAdapterError(SolanaMobileWalletAdapterErrorCode.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${r}.`)):(yield new Promise(Tn=>{const kn=c();yn=window.setTimeout(Tn,kn)}),In())}),$n=An=>__awaiter$2$1(this,void 0,void 0,function*(){const Tn=yield An.data.arrayBuffer();switch(tn.__type){case"connected":try{const kn=Tn.slice(0,SEQUENCE_NUMBER_BYTES),Pn=getSequenceNumberFromByteArray(kn);if(Pn!==en+1)throw new Error("Encrypted message has invalid sequence number");en=Pn;const Dn=yield decryptJsonRpcMessage(Tn,tn.sharedSecret),Kn=dn[Dn.id];delete dn[Dn.id],Kn.resolve(Dn.result)}catch(kn){if(kn instanceof SolanaMobileWalletAdapterProtocolError){const Pn=dn[kn.jsonRpcMessageId];delete dn[kn.jsonRpcMessageId],Pn.reject(kn)}else throw kn}break;case"hello_req_sent":{const kn=yield parseHelloRsp(Tn,tn.associationPublicKey,tn.ecdhPrivateKey);tn={__type:"connected",sharedSecret:kn};const Pn=new Proxy({},{get(Dn,Kn){if(Dn[Kn]==null){const Hn=Kn.toString().replace(/[A-Z]/g,jn=>`_${jn.toLowerCase()}`).toLowerCase();Dn[Kn]=function(jn){return __awaiter$2$1(this,void 0,void 0,function*(){const Cn=u++;return fn.send(yield encryptJsonRpcMessage({id:Cn,jsonrpc:"2.0",method:Hn,params:jn??{}},kn)),new Promise((mn,_n)=>{dn[Cn]={resolve(vn){switch(Kn){case"authorize":case"reauthorize":{const{wallet_uri_base:On}=vn;if(On!=null)try{assertSecureEndpointSpecificURI(On)}catch(Nn){_n(Nn);return}break}}mn(vn)},reject:_n}})})}}return Dn[Kn]},defineProperty(){return!1},deleteProperty(){return!1}});try{nn(yield n(Pn))}catch(Dn){sn(Dn)}finally{Sn(),fn.close()}break}}});let Sn,yn;const In=()=>{Sn&&Sn(),tn={__type:"connecting",associationKeypair:t},a===void 0&&(a=Date.now()),fn=new WebSocket(o,[WEBSOCKET_PROTOCOL]),fn.addEventListener("open",hn),fn.addEventListener("close",ln),fn.addEventListener("error",pn),fn.addEventListener("message",$n),Sn=()=>{window.clearTimeout(yn),fn.removeEventListener("open",hn),fn.removeEventListener("close",ln),fn.removeEventListener("error",pn),fn.removeEventListener("message",$n)}};In()})})}function base$1$1(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=r}var c=n.length,u=n.charAt(0),en=Math.log(c)/Math.log(256),tn=Math.log(256)/Math.log(c);function nn(dn){if(dn instanceof Uint8Array||(ArrayBuffer.isView(dn)?dn=new Uint8Array(dn.buffer,dn.byteOffset,dn.byteLength):Array.isArray(dn)&&(dn=Uint8Array.from(dn))),!(dn instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(dn.length===0)return"";for(var hn=0,ln=0,pn=0,$n=dn.length;pn!==$n&&dn[pn]===0;)pn++,hn++;for(var Sn=($n-pn)*tn+1>>>0,yn=new Uint8Array(Sn);pn!==$n;){for(var In=dn[pn],An=0,Tn=Sn-1;(In!==0||An<ln)&&Tn!==-1;Tn--,An++)In+=256*yn[Tn]>>>0,yn[Tn]=In%c>>>0,In=In/c>>>0;if(In!==0)throw new Error("Non-zero carry");ln=An,pn++}for(var kn=Sn-ln;kn!==Sn&&yn[kn]===0;)kn++;for(var Pn=u.repeat(hn);kn<Sn;++kn)Pn+=n.charAt(yn[kn]);return Pn}function sn(dn){if(typeof dn!="string")throw new TypeError("Expected String");if(dn.length===0)return new Uint8Array;for(var hn=0,ln=0,pn=0;dn[hn]===u;)ln++,hn++;for(var $n=(dn.length-hn)*en+1>>>0,Sn=new Uint8Array($n);dn[hn];){var yn=e[dn.charCodeAt(hn)];if(yn===255)return;for(var In=0,An=$n-1;(yn!==0||In<pn)&&An!==-1;An--,In++)yn+=c*Sn[An]>>>0,Sn[An]=yn%256>>>0,yn=yn/256>>>0;if(yn!==0)throw new Error("Non-zero carry");pn=In,hn++}for(var Tn=$n-pn;Tn!==$n&&Sn[Tn]===0;)Tn++;for(var kn=new Uint8Array(ln+($n-Tn)),Pn=ln;Tn!==$n;)kn[Pn++]=Sn[Tn++];return kn}function fn(dn){var hn=sn(dn);if(hn)return hn;throw new Error("Non-base"+c+" character")}return{encode:nn,decodeUnsafe:sn,decode:fn}}var src$1$1=base$1$1;const basex$1$1=src$1$1,ALPHABET$1$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58$1$1=basex$1$1(ALPHABET$1$1);function __rest(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function __awaiter$1$1(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})}function fromUint8Array(n){return window.btoa(String.fromCharCode.call(null,...n))}function toUint8Array$1(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}function getPayloadFromTransaction(n){const e="version"in n?n.serialize():n.serialize({requireAllSignatures:!1,verifySignatures:!1});return fromUint8Array(e)}function getTransactionFromWireMessage(n){const t=n[0]*SIGNATURE_LENGTH_IN_BYTES$8+1;return VersionedMessage$4.deserializeMessageVersion(n.slice(t,n.length))==="legacy"?Transaction$6.from(n):VersionedTransaction$4.deserialize(n)}function transact(n,e){return __awaiter$1$1(this,void 0,void 0,function*(){return yield transact$1(r=>{const o=new Proxy({},{get(a,c){if(a[c]==null)switch(c){case"signAndSendTransactions":a[c]=function(u){var{minContextSlot:en,transactions:tn}=u,nn=__rest(u,["minContextSlot","transactions"]);return __awaiter$1$1(this,void 0,void 0,function*(){const sn=tn.map(getPayloadFromTransaction),{signatures:fn}=yield r.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},nn),en!=null?{options:{min_context_slot:en}}:null),{payloads:sn}));return fn.map(toUint8Array$1).map(bs58$1$1.encode)})};break;case"signMessages":a[c]=function(u){var{payloads:en}=u,tn=__rest(u,["payloads"]);return __awaiter$1$1(this,void 0,void 0,function*(){const nn=en.map(fromUint8Array),{signed_payloads:sn}=yield r.signMessages(Object.assign(Object.assign({},tn),{payloads:nn}));return sn.map(toUint8Array$1)})};break;case"signTransactions":a[c]=function(u){var{transactions:en}=u,tn=__rest(u,["transactions"]);return __awaiter$1$1(this,void 0,void 0,function*(){const nn=en.map(getPayloadFromTransaction),{signed_payloads:sn}=yield r.signTransactions(Object.assign(Object.assign({},tn),{payloads:nn}));return sn.map(toUint8Array$1).map(getTransactionFromWireMessage)})};break;default:{a[c]=r[c];break}}return a[c]},defineProperty(){return!1},deleteProperty(){return!1}});return n(o)},e)})}function __awaiter$z(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})}function toUint8Array(n){return new Uint8Array(window.atob(n).split("").map(e=>e.charCodeAt(0)))}function getIsSupported(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const SolanaMobileWalletAdapterWalletName="Mobile Wallet Adapter",SIGNATURE_LENGTH_IN_BYTES$7=64;function getPublicKeyFromAddress(n){const e=toUint8Array(n);return new PublicKey$7(e)}function isVersionedTransaction$1(n){return"version"in n}class SolanaMobileWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(e){super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=SolanaMobileWalletAdapterWalletName,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=getIsSupported()?WalletReadyState.Loadable:WalletReadyState.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._cluster=e.cluster,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==WalletReadyState.Unsupported&&this._authorizationResultCache.get().then(t=>{t&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=getPublicKeyFromAddress(this._selectedAddress)}catch(e){throw new WalletPublicKeyError(e instanceof Error&&(e==null?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==WalletReadyState.Installed&&this.emit("readyStateChange",this._readyState=WalletReadyState.Installed)}runWithGuard(e){return __awaiter$z(this,void 0,void 0,function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return __awaiter$z(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return __awaiter$z(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){if(this._readyState!==WalletReadyState.Installed&&this._readyState!==WalletReadyState.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}connect(){return __awaiter$z(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){if(this._readyState!==WalletReadyState.Installed&&this._readyState!==WalletReadyState.Loadable)throw new WalletNotReadyError;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();if(e){this.handleAuthorizationResult(e);return}yield this.transact(t=>__awaiter$z(this,void 0,void 0,function*(){const r=yield t.authorize({cluster:this._cluster,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}))}catch(e){throw new WalletConnectionError(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))})}handleAuthorizationResult(e){var t;return __awaiter$z(this,void 0,void 0,function*(){const r=this._authorizationResult==null||((t=this._authorizationResult)===null||t===void 0?void 0:t.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some((o,a)=>o.address!==e.accounts[a].address);if(this._authorizationResult=e,this.declareWalletAsInstalled(),r){const o=yield this._addressSelector.select(e.accounts.map(({address:a})=>a));o!==this._selectedAddress&&(this._selectedAddress=o,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(e,t){return __awaiter$z(this,void 0,void 0,function*(){try{const r=yield e.reauthorize({auth_token:t});Promise.all([this._authorizationResultCache.set(r),this.handleAuthorizationResult(r)])}catch(r){throw this.disconnect(),new WalletDisconnectedError(r instanceof Error&&(r==null?void 0:r.message)||"Unknown error",r)}})}disconnect(){return __awaiter$z(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(e){var t;return __awaiter$z(this,void 0,void 0,function*(){const r=(t=this._authorizationResult)===null||t===void 0?void 0:t.wallet_uri_base,o=r?{baseUri:r}:void 0,a=this._connectionGeneration;try{return yield transact(e,o)}catch(c){throw this._connectionGeneration!==a&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),c}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new WalletNotConnectedError;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return __awaiter$z(this,void 0,void 0,function*(){const{authToken:t}=this.assertIsAuthorized();try{return yield this.transact(r=>__awaiter$z(this,void 0,void 0,function*(){return yield this.performReauthorization(r,t),yield r.signTransactions({transactions:e})}))}catch(r){throw new WalletSignTransactionError(r==null?void 0:r.message,r)}})}sendTransaction(e,t,r){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){const{authToken:o}=this.assertIsAuthorized(),a=r==null?void 0:r.minContextSlot;try{return yield this.transact(c=>__awaiter$z(this,void 0,void 0,function*(){function u(){let sn;switch(t.commitment){case"confirmed":case"finalized":case"processed":sn=t.commitment;break;default:sn="finalized"}let fn;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":fn=r.preflightCommitment;break;case void 0:fn=sn;default:fn="finalized"}return(fn==="finalized"?2:fn==="confirmed"?1:0)<(sn==="finalized"?2:sn==="confirmed"?1:0)?fn:sn}const[en,tn,nn]=yield Promise.all([c.getCapabilities(),this.performReauthorization(c,o),isVersionedTransaction$1(e)?null:(()=>__awaiter$z(this,void 0,void 0,function*(){var sn;if(e.feePayer||(e.feePayer=(sn=this.publicKey)!==null&&sn!==void 0?sn:void 0),e.recentBlockhash==null){const{blockhash:fn}=yield t.getLatestBlockhash({commitment:u()});e.recentBlockhash=fn}}))()]);if(en.supports_sign_and_send_transactions)return(yield c.signAndSendTransactions({minContextSlot:a,transactions:[e]}))[0];{const[sn]=yield c.signTransactions({transactions:[e]});if(isVersionedTransaction$1(sn))return yield t.sendTransaction(sn);{const fn=sn.serialize();return yield t.sendRawTransaction(fn,Object.assign(Object.assign({},r),{preflightCommitment:u()}))}}}))}catch(c){throw new WalletSendTransactionError(c==null?void 0:c.message,c)}}))})}signTransaction(e){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){const[t]=yield this.performSignTransactions([e]);return t}))})}signAllTransactions(e){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){return yield this.performSignTransactions(e)}))})}signMessage(e){return __awaiter$z(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>__awaiter$z(this,void 0,void 0,function*(){const{authToken:t,selectedAddress:r}=this.assertIsAuthorized();try{return yield this.transact(o=>__awaiter$z(this,void 0,void 0,function*(){yield this.performReauthorization(o,t);const[a]=yield o.signMessages({addresses:[r],payloads:[e]});return a.slice(-SIGNATURE_LENGTH_IN_BYTES$7)}))}catch(o){throw new WalletSignMessageError(o==null?void 0:o.message,o)}}))})}}function createDefaultAddressSelector(){return{select(n){return __awaiter$z(this,void 0,void 0,function*(){return n[0]})}}}const CACHE_KEY="SolanaMobileWalletAdapterDefaultAuthorizationCache";function createDefaultAuthorizationResultCache(){let n;try{n=window.localStorage}catch{}return{clear(){return __awaiter$z(this,void 0,void 0,function*(){if(!!n)try{n.removeItem(CACHE_KEY)}catch{}})},get(){return __awaiter$z(this,void 0,void 0,function*(){if(!!n)try{return JSON.parse(n.getItem(CACHE_KEY))||void 0}catch{}})},set(e){return __awaiter$z(this,void 0,void 0,function*(){if(!!n)try{n.setItem(CACHE_KEY,JSON.stringify(e))}catch{}})}}}function defaultWalletNotFoundHandler(n){return __awaiter$z(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(n.url)})}function createDefaultWalletNotFoundHandler(){return defaultWalletNotFoundHandler}function useAdapterListeners(n,e,t,r,o,a){watch(n,(c,u)=>{const en=c==null?void 0:c.adapter,tn=u==null?void 0:u.adapter;!en||!tn||en.name!==tn.name&&tn.name!==SolanaMobileWalletAdapterWalletName&&tn.disconnect()}),watchEffect(c=>{var u;const en=(u=n.value)==null?void 0:u.adapter;if(!en)return;const tn=()=>{o()},nn=()=>{e.value||t.value||r(!0)},sn=fn=>a(fn,en);en.on("connect",tn),en.on("disconnect",nn),en.on("error",sn),c(()=>{en.off("connect",tn),en.off("disconnect",nn),en.off("error",sn)})})}function useAutoConnect(n,e,t,r,o,a,c){const u=ref(n),en=ref(!1);return watch(e,()=>{en.value=!1}),watchEffect(()=>{en.value||!u.value||!e.value||!a.value||o.value||r.value||(async()=>{if(!!e.value){r.value=!0,en.value=!0;try{t.value?await e.value.adapter.autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED():await e.value.adapter.connect()}catch{c()}finally{r.value=!1}}})()}),u}function useEnvironment(n){const e=getUserAgent(),t=getUriForAppIdentity(),r=computed$1(()=>getEnvironment(n.value,e)),o=computed$1(()=>r.value===1);return{userAgent:e,uriForAppIdentity:t,environment:r,isMobile:o}}let _userAgent;function getUserAgent(){var n,e;return _userAgent===void 0&&(_userAgent=(e=(n=globalThis.navigator)==null?void 0:n.userAgent)!=null?e:null),_userAgent}function getUriForAppIdentity(){const n=globalThis.location;return n==null?null:`${n.protocol}//${n.host}`}function getEnvironment(n,e){return n.some(o=>o.name!==SolanaMobileWalletAdapterWalletName&&o.readyState===WalletReadyState.Installed)?0:e&&isOsThatSupportsMwa(e)&&!isWebView(e)?1:0}function isOsThatSupportsMwa(n){return/android/i.test(n)}function isWebView(n){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(n)}function useErrorHandler(n,e){return(t,r)=>n.value?t:e?(e(t,r),t):(console.error(t,r),t instanceof WalletNotReadyError&&typeof window<"u"&&r&&window.open(r.url,"_blank"),t)}function useMobileWalletAdapters(n,e,t,r){const o=computed$1(()=>{if(!e.value)return null;const a=n.value.find(c=>c.name===SolanaMobileWalletAdapterWalletName);return a||new SolanaMobileWalletAdapter({addressSelector:createDefaultAddressSelector(),appIdentity:{uri:t||void 0},authorizationResultCache:createDefaultAuthorizationResultCache(),cluster:r.value,onWalletNotFound:createDefaultWalletNotFoundHandler()})});return computed$1(()=>o.value==null||n.value.indexOf(o.value)!==-1?n.value:[o.value,...n.value])}function useReadyStateListeners(n){watchEffect(e=>{function t(r){const o=n.value,a=o.findIndex(({adapter:c})=>c===this);a!==-1&&(n.value=[...o.slice(0,a),{adapter:this,readyState:r},...o.slice(a+1)])}n.value.forEach(({adapter:r})=>r.on("readyStateChange",t,r)),e(()=>n.value.forEach(({adapter:r})=>r.off("readyStateChange",t,r)))})}function useSelectWalletName(n,e){const t=useLocalStorage$1(n,e.value?SolanaMobileWalletAdapterWalletName:null),r=computed$1(()=>t.value===SolanaMobileWalletAdapterWalletName),o=computed$1(()=>r.value&&e.value);return{name:t,isUsingMwaAdapter:r,isUsingMwaAdapterOnMobile:o,select:u=>{t.value!==u&&(t.value=u)},deselect:(u=!0)=>{(u||r.value)&&(t.value=null)}}}function getCommitment(n){switch(n){case"processed":case"confirmed":case"finalized":case void 0:return n;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const SOLANA_MAINNET_CHAIN="solana:mainnet",SOLANA_DEVNET_CHAIN="solana:devnet",SOLANA_TESTNET_CHAIN="solana:testnet",SOLANA_LOCALNET_CHAIN="solana:localnet",MAINNET_ENDPOINT="https://api.mainnet-beta.solana.com";function getChainForEndpoint(n){return n.includes(MAINNET_ENDPOINT)?SOLANA_MAINNET_CHAIN:/\bdevnet\b/i.test(n)?SOLANA_DEVNET_CHAIN:/\btestnet\b/i.test(n)?SOLANA_TESTNET_CHAIN:/\blocalhost\b/i.test(n)||/\b127\.0\.0\.1\b/.test(n)?SOLANA_LOCALNET_CHAIN:SOLANA_MAINNET_CHAIN}function arraysEqual(n,e){if(n===e)return!0;const t=n.length;if(t!==e.length)return!1;for(let r=0;r<t;r++)if(n[r]!==e[r])return!1;return!0}var safeBuffer={exports:{}},buffer$1={},base64Js$1={};base64Js$1.byteLength=byteLength$1;base64Js$1.toByteArray=toByteArray$1;base64Js$1.fromByteArray=fromByteArray$1;var lookup$1=[],revLookup$1=[],Arr$1=typeof Uint8Array<"u"?Uint8Array:Array,code$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len$1=code$1.length;i$1<len$1;++i$1)lookup$1[i$1]=code$1[i$1],revLookup$1[code$1.charCodeAt(i$1)]=i$1;revLookup$1["-".charCodeAt(0)]=62;revLookup$1["_".charCodeAt(0)]=63;function getLens$1(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function byteLength$1(n){var e=getLens$1(n),t=e[0],r=e[1];return(t+r)*3/4-r}function _byteLength$1(n,e,t){return(e+t)*3/4-t}function toByteArray$1(n){var e,t=getLens$1(n),r=t[0],o=t[1],a=new Arr$1(_byteLength$1(n,r,o)),c=0,u=o>0?r-4:r,en;for(en=0;en<u;en+=4)e=revLookup$1[n.charCodeAt(en)]<<18|revLookup$1[n.charCodeAt(en+1)]<<12|revLookup$1[n.charCodeAt(en+2)]<<6|revLookup$1[n.charCodeAt(en+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=e&255;return o===2&&(e=revLookup$1[n.charCodeAt(en)]<<2|revLookup$1[n.charCodeAt(en+1)]>>4,a[c++]=e&255),o===1&&(e=revLookup$1[n.charCodeAt(en)]<<10|revLookup$1[n.charCodeAt(en+1)]<<4|revLookup$1[n.charCodeAt(en+2)]>>2,a[c++]=e>>8&255,a[c++]=e&255),a}function tripletToBase64$1(n){return lookup$1[n>>18&63]+lookup$1[n>>12&63]+lookup$1[n>>6&63]+lookup$1[n&63]}function encodeChunk$1(n,e,t){for(var r,o=[],a=e;a<t;a+=3)r=(n[a]<<16&16711680)+(n[a+1]<<8&65280)+(n[a+2]&255),o.push(tripletToBase64$1(r));return o.join("")}function fromByteArray$1(n){for(var e,t=n.length,r=t%3,o=[],a=16383,c=0,u=t-r;c<u;c+=a)o.push(encodeChunk$1(n,c,c+a>u?u:c+a));return r===1?(e=n[t-1],o.push(lookup$1[e>>2]+lookup$1[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],o.push(lookup$1[e>>10]+lookup$1[e>>4&63]+lookup$1[e<<2&63]+"=")),o.join("")}var ieee754$1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754$1.read=function(n,e,t,r,o){var a,c,u=o*8-r-1,en=(1<<u)-1,tn=en>>1,nn=-7,sn=t?o-1:0,fn=t?-1:1,dn=n[e+sn];for(sn+=fn,a=dn&(1<<-nn)-1,dn>>=-nn,nn+=u;nn>0;a=a*256+n[e+sn],sn+=fn,nn-=8);for(c=a&(1<<-nn)-1,a>>=-nn,nn+=r;nn>0;c=c*256+n[e+sn],sn+=fn,nn-=8);if(a===0)a=1-tn;else{if(a===en)return c?NaN:(dn?-1:1)*(1/0);c=c+Math.pow(2,r),a=a-tn}return(dn?-1:1)*c*Math.pow(2,a-r)};ieee754$1.write=function(n,e,t,r,o,a){var c,u,en,tn=a*8-o-1,nn=(1<<tn)-1,sn=nn>>1,fn=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,dn=r?0:a-1,hn=r?1:-1,ln=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=nn):(c=Math.floor(Math.log(e)/Math.LN2),e*(en=Math.pow(2,-c))<1&&(c--,en*=2),c+sn>=1?e+=fn/en:e+=fn*Math.pow(2,1-sn),e*en>=2&&(c++,en/=2),c+sn>=nn?(u=0,c=nn):c+sn>=1?(u=(e*en-1)*Math.pow(2,o),c=c+sn):(u=e*Math.pow(2,sn-1)*Math.pow(2,o),c=0));o>=8;n[t+dn]=u&255,dn+=hn,u/=256,o-=8);for(c=c<<o|u,tn+=o;tn>0;n[t+dn]=c&255,dn+=hn,c/=256,tn-=8);n[t+dn-hn]|=ln*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=base64Js$1,t=ieee754$1,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=Sn,n.INSPECT_MAX_BYTES=50;const o=2147483647;n.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const gn=new Uint8Array(1),an={foo:function(){return 42}};return Object.setPrototypeOf(an,Uint8Array.prototype),Object.setPrototypeOf(gn,an),gn.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(gn){if(gn>o)throw new RangeError('The value "'+gn+'" is invalid for option "size"');const an=new Uint8Array(gn);return Object.setPrototypeOf(an,u.prototype),an}function u(gn,an,cn){if(typeof gn=="number"){if(typeof an=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return sn(gn)}return en(gn,an,cn)}u.poolSize=8192;function en(gn,an,cn){if(typeof gn=="string")return fn(gn,an);if(ArrayBuffer.isView(gn))return hn(gn);if(gn==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof gn);if(Hr(gn,ArrayBuffer)||gn&&Hr(gn.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Hr(gn,SharedArrayBuffer)||gn&&Hr(gn.buffer,SharedArrayBuffer)))return ln(gn,an,cn);if(typeof gn=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Rn=gn.valueOf&&gn.valueOf();if(Rn!=null&&Rn!==gn)return u.from(Rn,an,cn);const Ln=pn(gn);if(Ln)return Ln;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof gn[Symbol.toPrimitive]=="function")return u.from(gn[Symbol.toPrimitive]("string"),an,cn);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof gn)}u.from=function(gn,an,cn){return en(gn,an,cn)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function tn(gn){if(typeof gn!="number")throw new TypeError('"size" argument must be of type number');if(gn<0)throw new RangeError('The value "'+gn+'" is invalid for option "size"')}function nn(gn,an,cn){return tn(gn),gn<=0?c(gn):an!==void 0?typeof cn=="string"?c(gn).fill(an,cn):c(gn).fill(an):c(gn)}u.alloc=function(gn,an,cn){return nn(gn,an,cn)};function sn(gn){return tn(gn),c(gn<0?0:$n(gn)|0)}u.allocUnsafe=function(gn){return sn(gn)},u.allocUnsafeSlow=function(gn){return sn(gn)};function fn(gn,an){if((typeof an!="string"||an==="")&&(an="utf8"),!u.isEncoding(an))throw new TypeError("Unknown encoding: "+an);const cn=yn(gn,an)|0;let Rn=c(cn);const Ln=Rn.write(gn,an);return Ln!==cn&&(Rn=Rn.slice(0,Ln)),Rn}function dn(gn){const an=gn.length<0?0:$n(gn.length)|0,cn=c(an);for(let Rn=0;Rn<an;Rn+=1)cn[Rn]=gn[Rn]&255;return cn}function hn(gn){if(Hr(gn,Uint8Array)){const an=new Uint8Array(gn);return ln(an.buffer,an.byteOffset,an.byteLength)}return dn(gn)}function ln(gn,an,cn){if(an<0||gn.byteLength<an)throw new RangeError('"offset" is outside of buffer bounds');if(gn.byteLength<an+(cn||0))throw new RangeError('"length" is outside of buffer bounds');let Rn;return an===void 0&&cn===void 0?Rn=new Uint8Array(gn):cn===void 0?Rn=new Uint8Array(gn,an):Rn=new Uint8Array(gn,an,cn),Object.setPrototypeOf(Rn,u.prototype),Rn}function pn(gn){if(u.isBuffer(gn)){const an=$n(gn.length)|0,cn=c(an);return cn.length===0||gn.copy(cn,0,0,an),cn}if(gn.length!==void 0)return typeof gn.length!="number"||Dr(gn.length)?c(0):dn(gn);if(gn.type==="Buffer"&&Array.isArray(gn.data))return dn(gn.data)}function $n(gn){if(gn>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return gn|0}function Sn(gn){return+gn!=gn&&(gn=0),u.alloc(+gn)}u.isBuffer=function(an){return an!=null&&an._isBuffer===!0&&an!==u.prototype},u.compare=function(an,cn){if(Hr(an,Uint8Array)&&(an=u.from(an,an.offset,an.byteLength)),Hr(cn,Uint8Array)&&(cn=u.from(cn,cn.offset,cn.byteLength)),!u.isBuffer(an)||!u.isBuffer(cn))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(an===cn)return 0;let Rn=an.length,Ln=cn.length;for(let Fn=0,Vn=Math.min(Rn,Ln);Fn<Vn;++Fn)if(an[Fn]!==cn[Fn]){Rn=an[Fn],Ln=cn[Fn];break}return Rn<Ln?-1:Ln<Rn?1:0},u.isEncoding=function(an){switch(String(an).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(an,cn){if(!Array.isArray(an))throw new TypeError('"list" argument must be an Array of Buffers');if(an.length===0)return u.alloc(0);let Rn;if(cn===void 0)for(cn=0,Rn=0;Rn<an.length;++Rn)cn+=an[Rn].length;const Ln=u.allocUnsafe(cn);let Fn=0;for(Rn=0;Rn<an.length;++Rn){let Vn=an[Rn];if(Hr(Vn,Uint8Array))Fn+Vn.length>Ln.length?(u.isBuffer(Vn)||(Vn=u.from(Vn)),Vn.copy(Ln,Fn)):Uint8Array.prototype.set.call(Ln,Vn,Fn);else if(u.isBuffer(Vn))Vn.copy(Ln,Fn);else throw new TypeError('"list" argument must be an Array of Buffers');Fn+=Vn.length}return Ln};function yn(gn,an){if(u.isBuffer(gn))return gn.length;if(ArrayBuffer.isView(gn)||Hr(gn,ArrayBuffer))return gn.byteLength;if(typeof gn!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof gn);const cn=gn.length,Rn=arguments.length>2&&arguments[2]===!0;if(!Rn&&cn===0)return 0;let Ln=!1;for(;;)switch(an){case"ascii":case"latin1":case"binary":return cn;case"utf8":case"utf-8":return Ir(gn).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cn*2;case"hex":return cn>>>1;case"base64":return Nr(gn).length;default:if(Ln)return Rn?-1:Ir(gn).length;an=(""+an).toLowerCase(),Ln=!0}}u.byteLength=yn;function In(gn,an,cn){let Rn=!1;if((an===void 0||an<0)&&(an=0),an>this.length||((cn===void 0||cn>this.length)&&(cn=this.length),cn<=0)||(cn>>>=0,an>>>=0,cn<=an))return"";for(gn||(gn="utf8");;)switch(gn){case"hex":return Un(this,an,cn);case"utf8":case"utf-8":return mn(this,an,cn);case"ascii":return On(this,an,cn);case"latin1":case"binary":return Nn(this,an,cn);case"base64":return Cn(this,an,cn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zn(this,an,cn);default:if(Rn)throw new TypeError("Unknown encoding: "+gn);gn=(gn+"").toLowerCase(),Rn=!0}}u.prototype._isBuffer=!0;function An(gn,an,cn){const Rn=gn[an];gn[an]=gn[cn],gn[cn]=Rn}u.prototype.swap16=function(){const an=this.length;if(an%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let cn=0;cn<an;cn+=2)An(this,cn,cn+1);return this},u.prototype.swap32=function(){const an=this.length;if(an%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let cn=0;cn<an;cn+=4)An(this,cn,cn+3),An(this,cn+1,cn+2);return this},u.prototype.swap64=function(){const an=this.length;if(an%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let cn=0;cn<an;cn+=8)An(this,cn,cn+7),An(this,cn+1,cn+6),An(this,cn+2,cn+5),An(this,cn+3,cn+4);return this},u.prototype.toString=function(){const an=this.length;return an===0?"":arguments.length===0?mn(this,0,an):In.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(an){if(!u.isBuffer(an))throw new TypeError("Argument must be a Buffer");return this===an?!0:u.compare(this,an)===0},u.prototype.inspect=function(){let an="";const cn=n.INSPECT_MAX_BYTES;return an=this.toString("hex",0,cn).replace(/(.{2})/g,"$1 ").trim(),this.length>cn&&(an+=" ... "),"<Buffer "+an+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(an,cn,Rn,Ln,Fn){if(Hr(an,Uint8Array)&&(an=u.from(an,an.offset,an.byteLength)),!u.isBuffer(an))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof an);if(cn===void 0&&(cn=0),Rn===void 0&&(Rn=an?an.length:0),Ln===void 0&&(Ln=0),Fn===void 0&&(Fn=this.length),cn<0||Rn>an.length||Ln<0||Fn>this.length)throw new RangeError("out of range index");if(Ln>=Fn&&cn>=Rn)return 0;if(Ln>=Fn)return-1;if(cn>=Rn)return 1;if(cn>>>=0,Rn>>>=0,Ln>>>=0,Fn>>>=0,this===an)return 0;let Vn=Fn-Ln,xr=Rn-cn;const Fr=Math.min(Vn,xr),Ur=this.slice(Ln,Fn),Gr=an.slice(cn,Rn);for(let zr=0;zr<Fr;++zr)if(Ur[zr]!==Gr[zr]){Vn=Ur[zr],xr=Gr[zr];break}return Vn<xr?-1:xr<Vn?1:0};function Tn(gn,an,cn,Rn,Ln){if(gn.length===0)return-1;if(typeof cn=="string"?(Rn=cn,cn=0):cn>2147483647?cn=2147483647:cn<-2147483648&&(cn=-2147483648),cn=+cn,Dr(cn)&&(cn=Ln?0:gn.length-1),cn<0&&(cn=gn.length+cn),cn>=gn.length){if(Ln)return-1;cn=gn.length-1}else if(cn<0)if(Ln)cn=0;else return-1;if(typeof an=="string"&&(an=u.from(an,Rn)),u.isBuffer(an))return an.length===0?-1:kn(gn,an,cn,Rn,Ln);if(typeof an=="number")return an=an&255,typeof Uint8Array.prototype.indexOf=="function"?Ln?Uint8Array.prototype.indexOf.call(gn,an,cn):Uint8Array.prototype.lastIndexOf.call(gn,an,cn):kn(gn,[an],cn,Rn,Ln);throw new TypeError("val must be string, number or Buffer")}function kn(gn,an,cn,Rn,Ln){let Fn=1,Vn=gn.length,xr=an.length;if(Rn!==void 0&&(Rn=String(Rn).toLowerCase(),Rn==="ucs2"||Rn==="ucs-2"||Rn==="utf16le"||Rn==="utf-16le")){if(gn.length<2||an.length<2)return-1;Fn=2,Vn/=2,xr/=2,cn/=2}function Fr(Gr,zr){return Fn===1?Gr[zr]:Gr.readUInt16BE(zr*Fn)}let Ur;if(Ln){let Gr=-1;for(Ur=cn;Ur<Vn;Ur++)if(Fr(gn,Ur)===Fr(an,Gr===-1?0:Ur-Gr)){if(Gr===-1&&(Gr=Ur),Ur-Gr+1===xr)return Gr*Fn}else Gr!==-1&&(Ur-=Ur-Gr),Gr=-1}else for(cn+xr>Vn&&(cn=Vn-xr),Ur=cn;Ur>=0;Ur--){let Gr=!0;for(let zr=0;zr<xr;zr++)if(Fr(gn,Ur+zr)!==Fr(an,zr)){Gr=!1;break}if(Gr)return Ur}return-1}u.prototype.includes=function(an,cn,Rn){return this.indexOf(an,cn,Rn)!==-1},u.prototype.indexOf=function(an,cn,Rn){return Tn(this,an,cn,Rn,!0)},u.prototype.lastIndexOf=function(an,cn,Rn){return Tn(this,an,cn,Rn,!1)};function Pn(gn,an,cn,Rn){cn=Number(cn)||0;const Ln=gn.length-cn;Rn?(Rn=Number(Rn),Rn>Ln&&(Rn=Ln)):Rn=Ln;const Fn=an.length;Rn>Fn/2&&(Rn=Fn/2);let Vn;for(Vn=0;Vn<Rn;++Vn){const xr=parseInt(an.substr(Vn*2,2),16);if(Dr(xr))return Vn;gn[cn+Vn]=xr}return Vn}function Dn(gn,an,cn,Rn){return vr(Ir(an,gn.length-cn),gn,cn,Rn)}function Kn(gn,an,cn,Rn){return vr(Kr(an),gn,cn,Rn)}function Hn(gn,an,cn,Rn){return vr(Nr(an),gn,cn,Rn)}function jn(gn,an,cn,Rn){return vr(Ar(an,gn.length-cn),gn,cn,Rn)}u.prototype.write=function(an,cn,Rn,Ln){if(cn===void 0)Ln="utf8",Rn=this.length,cn=0;else if(Rn===void 0&&typeof cn=="string")Ln=cn,Rn=this.length,cn=0;else if(isFinite(cn))cn=cn>>>0,isFinite(Rn)?(Rn=Rn>>>0,Ln===void 0&&(Ln="utf8")):(Ln=Rn,Rn=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Fn=this.length-cn;if((Rn===void 0||Rn>Fn)&&(Rn=Fn),an.length>0&&(Rn<0||cn<0)||cn>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ln||(Ln="utf8");let Vn=!1;for(;;)switch(Ln){case"hex":return Pn(this,an,cn,Rn);case"utf8":case"utf-8":return Dn(this,an,cn,Rn);case"ascii":case"latin1":case"binary":return Kn(this,an,cn,Rn);case"base64":return Hn(this,an,cn,Rn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jn(this,an,cn,Rn);default:if(Vn)throw new TypeError("Unknown encoding: "+Ln);Ln=(""+Ln).toLowerCase(),Vn=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Cn(gn,an,cn){return an===0&&cn===gn.length?e.fromByteArray(gn):e.fromByteArray(gn.slice(an,cn))}function mn(gn,an,cn){cn=Math.min(gn.length,cn);const Rn=[];let Ln=an;for(;Ln<cn;){const Fn=gn[Ln];let Vn=null,xr=Fn>239?4:Fn>223?3:Fn>191?2:1;if(Ln+xr<=cn){let Fr,Ur,Gr,zr;switch(xr){case 1:Fn<128&&(Vn=Fn);break;case 2:Fr=gn[Ln+1],(Fr&192)===128&&(zr=(Fn&31)<<6|Fr&63,zr>127&&(Vn=zr));break;case 3:Fr=gn[Ln+1],Ur=gn[Ln+2],(Fr&192)===128&&(Ur&192)===128&&(zr=(Fn&15)<<12|(Fr&63)<<6|Ur&63,zr>2047&&(zr<55296||zr>57343)&&(Vn=zr));break;case 4:Fr=gn[Ln+1],Ur=gn[Ln+2],Gr=gn[Ln+3],(Fr&192)===128&&(Ur&192)===128&&(Gr&192)===128&&(zr=(Fn&15)<<18|(Fr&63)<<12|(Ur&63)<<6|Gr&63,zr>65535&&zr<1114112&&(Vn=zr))}}Vn===null?(Vn=65533,xr=1):Vn>65535&&(Vn-=65536,Rn.push(Vn>>>10&1023|55296),Vn=56320|Vn&1023),Rn.push(Vn),Ln+=xr}return vn(Rn)}const _n=4096;function vn(gn){const an=gn.length;if(an<=_n)return String.fromCharCode.apply(String,gn);let cn="",Rn=0;for(;Rn<an;)cn+=String.fromCharCode.apply(String,gn.slice(Rn,Rn+=_n));return cn}function On(gn,an,cn){let Rn="";cn=Math.min(gn.length,cn);for(let Ln=an;Ln<cn;++Ln)Rn+=String.fromCharCode(gn[Ln]&127);return Rn}function Nn(gn,an,cn){let Rn="";cn=Math.min(gn.length,cn);for(let Ln=an;Ln<cn;++Ln)Rn+=String.fromCharCode(gn[Ln]);return Rn}function Un(gn,an,cn){const Rn=gn.length;(!an||an<0)&&(an=0),(!cn||cn<0||cn>Rn)&&(cn=Rn);let Ln="";for(let Fn=an;Fn<cn;++Fn)Ln+=jr[gn[Fn]];return Ln}function zn(gn,an,cn){const Rn=gn.slice(an,cn);let Ln="";for(let Fn=0;Fn<Rn.length-1;Fn+=2)Ln+=String.fromCharCode(Rn[Fn]+Rn[Fn+1]*256);return Ln}u.prototype.slice=function(an,cn){const Rn=this.length;an=~~an,cn=cn===void 0?Rn:~~cn,an<0?(an+=Rn,an<0&&(an=0)):an>Rn&&(an=Rn),cn<0?(cn+=Rn,cn<0&&(cn=0)):cn>Rn&&(cn=Rn),cn<an&&(cn=an);const Ln=this.subarray(an,cn);return Object.setPrototypeOf(Ln,u.prototype),Ln};function Bn(gn,an,cn){if(gn%1!==0||gn<0)throw new RangeError("offset is not uint");if(gn+an>cn)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=this[an],Fn=1,Vn=0;for(;++Vn<cn&&(Fn*=256);)Ln+=this[an+Vn]*Fn;return Ln},u.prototype.readUintBE=u.prototype.readUIntBE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=this[an+--cn],Fn=1;for(;cn>0&&(Fn*=256);)Ln+=this[an+--cn]*Fn;return Ln},u.prototype.readUint8=u.prototype.readUInt8=function(an,cn){return an=an>>>0,cn||Bn(an,1,this.length),this[an]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(an,cn){return an=an>>>0,cn||Bn(an,2,this.length),this[an]|this[an+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(an,cn){return an=an>>>0,cn||Bn(an,2,this.length),this[an]<<8|this[an+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),(this[an]|this[an+1]<<8|this[an+2]<<16)+this[an+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),this[an]*16777216+(this[an+1]<<16|this[an+2]<<8|this[an+3])},u.prototype.readBigUInt64LE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=cn+this[++an]*2**8+this[++an]*2**16+this[++an]*2**24,Fn=this[++an]+this[++an]*2**8+this[++an]*2**16+Rn*2**24;return BigInt(Ln)+(BigInt(Fn)<<BigInt(32))}),u.prototype.readBigUInt64BE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=cn*2**24+this[++an]*2**16+this[++an]*2**8+this[++an],Fn=this[++an]*2**24+this[++an]*2**16+this[++an]*2**8+Rn;return(BigInt(Ln)<<BigInt(32))+BigInt(Fn)}),u.prototype.readIntLE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=this[an],Fn=1,Vn=0;for(;++Vn<cn&&(Fn*=256);)Ln+=this[an+Vn]*Fn;return Fn*=128,Ln>=Fn&&(Ln-=Math.pow(2,8*cn)),Ln},u.prototype.readIntBE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=cn,Fn=1,Vn=this[an+--Ln];for(;Ln>0&&(Fn*=256);)Vn+=this[an+--Ln]*Fn;return Fn*=128,Vn>=Fn&&(Vn-=Math.pow(2,8*cn)),Vn},u.prototype.readInt8=function(an,cn){return an=an>>>0,cn||Bn(an,1,this.length),this[an]&128?(255-this[an]+1)*-1:this[an]},u.prototype.readInt16LE=function(an,cn){an=an>>>0,cn||Bn(an,2,this.length);const Rn=this[an]|this[an+1]<<8;return Rn&32768?Rn|4294901760:Rn},u.prototype.readInt16BE=function(an,cn){an=an>>>0,cn||Bn(an,2,this.length);const Rn=this[an+1]|this[an]<<8;return Rn&32768?Rn|4294901760:Rn},u.prototype.readInt32LE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),this[an]|this[an+1]<<8|this[an+2]<<16|this[an+3]<<24},u.prototype.readInt32BE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),this[an]<<24|this[an+1]<<16|this[an+2]<<8|this[an+3]},u.prototype.readBigInt64LE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=this[an+4]+this[an+5]*2**8+this[an+6]*2**16+(Rn<<24);return(BigInt(Ln)<<BigInt(32))+BigInt(cn+this[++an]*2**8+this[++an]*2**16+this[++an]*2**24)}),u.prototype.readBigInt64BE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=(cn<<24)+this[++an]*2**16+this[++an]*2**8+this[++an];return(BigInt(Ln)<<BigInt(32))+BigInt(this[++an]*2**24+this[++an]*2**16+this[++an]*2**8+Rn)}),u.prototype.readFloatLE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),t.read(this,an,!0,23,4)},u.prototype.readFloatBE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),t.read(this,an,!1,23,4)},u.prototype.readDoubleLE=function(an,cn){return an=an>>>0,cn||Bn(an,8,this.length),t.read(this,an,!0,52,8)},u.prototype.readDoubleBE=function(an,cn){return an=an>>>0,cn||Bn(an,8,this.length),t.read(this,an,!1,52,8)};function En(gn,an,cn,Rn,Ln,Fn){if(!u.isBuffer(gn))throw new TypeError('"buffer" argument must be a Buffer instance');if(an>Ln||an<Fn)throw new RangeError('"value" argument is out of bounds');if(cn+Rn>gn.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,Rn=Rn>>>0,!Ln){const xr=Math.pow(2,8*Rn)-1;En(this,an,cn,Rn,xr,0)}let Fn=1,Vn=0;for(this[cn]=an&255;++Vn<Rn&&(Fn*=256);)this[cn+Vn]=an/Fn&255;return cn+Rn},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,Rn=Rn>>>0,!Ln){const xr=Math.pow(2,8*Rn)-1;En(this,an,cn,Rn,xr,0)}let Fn=Rn-1,Vn=1;for(this[cn+Fn]=an&255;--Fn>=0&&(Vn*=256);)this[cn+Fn]=an/Vn&255;return cn+Rn},u.prototype.writeUint8=u.prototype.writeUInt8=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,1,255,0),this[cn]=an&255,cn+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,65535,0),this[cn]=an&255,this[cn+1]=an>>>8,cn+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,65535,0),this[cn]=an>>>8,this[cn+1]=an&255,cn+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,4294967295,0),this[cn+3]=an>>>24,this[cn+2]=an>>>16,this[cn+1]=an>>>8,this[cn]=an&255,cn+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,4294967295,0),this[cn]=an>>>24,this[cn+1]=an>>>16,this[cn+2]=an>>>8,this[cn+3]=an&255,cn+4};function Mn(gn,an,cn,Rn,Ln){qn(an,Rn,Ln,gn,cn,7);let Fn=Number(an&BigInt(4294967295));gn[cn++]=Fn,Fn=Fn>>8,gn[cn++]=Fn,Fn=Fn>>8,gn[cn++]=Fn,Fn=Fn>>8,gn[cn++]=Fn;let Vn=Number(an>>BigInt(32)&BigInt(4294967295));return gn[cn++]=Vn,Vn=Vn>>8,gn[cn++]=Vn,Vn=Vn>>8,gn[cn++]=Vn,Vn=Vn>>8,gn[cn++]=Vn,cn}function Zn(gn,an,cn,Rn,Ln){qn(an,Rn,Ln,gn,cn,7);let Fn=Number(an&BigInt(4294967295));gn[cn+7]=Fn,Fn=Fn>>8,gn[cn+6]=Fn,Fn=Fn>>8,gn[cn+5]=Fn,Fn=Fn>>8,gn[cn+4]=Fn;let Vn=Number(an>>BigInt(32)&BigInt(4294967295));return gn[cn+3]=Vn,Vn=Vn>>8,gn[cn+2]=Vn,Vn=Vn>>8,gn[cn+1]=Vn,Vn=Vn>>8,gn[cn]=Vn,cn+8}u.prototype.writeBigUInt64LE=Vr(function(an,cn=0){return Mn(this,an,cn,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Vr(function(an,cn=0){return Zn(this,an,cn,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,!Ln){const Fr=Math.pow(2,8*Rn-1);En(this,an,cn,Rn,Fr-1,-Fr)}let Fn=0,Vn=1,xr=0;for(this[cn]=an&255;++Fn<Rn&&(Vn*=256);)an<0&&xr===0&&this[cn+Fn-1]!==0&&(xr=1),this[cn+Fn]=(an/Vn>>0)-xr&255;return cn+Rn},u.prototype.writeIntBE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,!Ln){const Fr=Math.pow(2,8*Rn-1);En(this,an,cn,Rn,Fr-1,-Fr)}let Fn=Rn-1,Vn=1,xr=0;for(this[cn+Fn]=an&255;--Fn>=0&&(Vn*=256);)an<0&&xr===0&&this[cn+Fn+1]!==0&&(xr=1),this[cn+Fn]=(an/Vn>>0)-xr&255;return cn+Rn},u.prototype.writeInt8=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,1,127,-128),an<0&&(an=255+an+1),this[cn]=an&255,cn+1},u.prototype.writeInt16LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,32767,-32768),this[cn]=an&255,this[cn+1]=an>>>8,cn+2},u.prototype.writeInt16BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,32767,-32768),this[cn]=an>>>8,this[cn+1]=an&255,cn+2},u.prototype.writeInt32LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,2147483647,-2147483648),this[cn]=an&255,this[cn+1]=an>>>8,this[cn+2]=an>>>16,this[cn+3]=an>>>24,cn+4},u.prototype.writeInt32BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,2147483647,-2147483648),an<0&&(an=4294967295+an+1),this[cn]=an>>>24,this[cn+1]=an>>>16,this[cn+2]=an>>>8,this[cn+3]=an&255,cn+4},u.prototype.writeBigInt64LE=Vr(function(an,cn=0){return Mn(this,an,cn,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Vr(function(an,cn=0){return Zn(this,an,cn,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Sr(gn,an,cn,Rn,Ln,Fn){if(cn+Rn>gn.length)throw new RangeError("Index out of range");if(cn<0)throw new RangeError("Index out of range")}function $r(gn,an,cn,Rn,Ln){return an=+an,cn=cn>>>0,Ln||Sr(gn,an,cn,4),t.write(gn,an,cn,Rn,23,4),cn+4}u.prototype.writeFloatLE=function(an,cn,Rn){return $r(this,an,cn,!0,Rn)},u.prototype.writeFloatBE=function(an,cn,Rn){return $r(this,an,cn,!1,Rn)};function Xn(gn,an,cn,Rn,Ln){return an=+an,cn=cn>>>0,Ln||Sr(gn,an,cn,8),t.write(gn,an,cn,Rn,52,8),cn+8}u.prototype.writeDoubleLE=function(an,cn,Rn){return Xn(this,an,cn,!0,Rn)},u.prototype.writeDoubleBE=function(an,cn,Rn){return Xn(this,an,cn,!1,Rn)},u.prototype.copy=function(an,cn,Rn,Ln){if(!u.isBuffer(an))throw new TypeError("argument should be a Buffer");if(Rn||(Rn=0),!Ln&&Ln!==0&&(Ln=this.length),cn>=an.length&&(cn=an.length),cn||(cn=0),Ln>0&&Ln<Rn&&(Ln=Rn),Ln===Rn||an.length===0||this.length===0)return 0;if(cn<0)throw new RangeError("targetStart out of bounds");if(Rn<0||Rn>=this.length)throw new RangeError("Index out of range");if(Ln<0)throw new RangeError("sourceEnd out of bounds");Ln>this.length&&(Ln=this.length),an.length-cn<Ln-Rn&&(Ln=an.length-cn+Rn);const Fn=Ln-Rn;return this===an&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(cn,Rn,Ln):Uint8Array.prototype.set.call(an,this.subarray(Rn,Ln),cn),Fn},u.prototype.fill=function(an,cn,Rn,Ln){if(typeof an=="string"){if(typeof cn=="string"?(Ln=cn,cn=0,Rn=this.length):typeof Rn=="string"&&(Ln=Rn,Rn=this.length),Ln!==void 0&&typeof Ln!="string")throw new TypeError("encoding must be a string");if(typeof Ln=="string"&&!u.isEncoding(Ln))throw new TypeError("Unknown encoding: "+Ln);if(an.length===1){const Vn=an.charCodeAt(0);(Ln==="utf8"&&Vn<128||Ln==="latin1")&&(an=Vn)}}else typeof an=="number"?an=an&255:typeof an=="boolean"&&(an=Number(an));if(cn<0||this.length<cn||this.length<Rn)throw new RangeError("Out of range index");if(Rn<=cn)return this;cn=cn>>>0,Rn=Rn===void 0?this.length:Rn>>>0,an||(an=0);let Fn;if(typeof an=="number")for(Fn=cn;Fn<Rn;++Fn)this[Fn]=an;else{const Vn=u.isBuffer(an)?an:u.from(an,Ln),xr=Vn.length;if(xr===0)throw new TypeError('The value "'+an+'" is invalid for argument "value"');for(Fn=0;Fn<Rn-cn;++Fn)this[Fn+cn]=Vn[Fn%xr]}return this};const br={};function _r(gn,an,cn){br[gn]=class extends cn{constructor(){super(),Object.defineProperty(this,"message",{value:an.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${gn}]`,this.stack,delete this.name}get code(){return gn}set code(Ln){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ln,writable:!0})}toString(){return`${this.name} [${gn}]: ${this.message}`}}}_r("ERR_BUFFER_OUT_OF_BOUNDS",function(gn){return gn?`${gn} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_r("ERR_INVALID_ARG_TYPE",function(gn,an){return`The "${gn}" argument must be of type number. Received type ${typeof an}`},TypeError),_r("ERR_OUT_OF_RANGE",function(gn,an,cn){let Rn=`The value of "${gn}" is out of range.`,Ln=cn;return Number.isInteger(cn)&&Math.abs(cn)>2**32?Ln=kr(String(cn)):typeof cn=="bigint"&&(Ln=String(cn),(cn>BigInt(2)**BigInt(32)||cn<-(BigInt(2)**BigInt(32)))&&(Ln=kr(Ln)),Ln+="n"),Rn+=` It must be ${an}. Received ${Ln}`,Rn},RangeError);function kr(gn){let an="",cn=gn.length;const Rn=gn[0]==="-"?1:0;for(;cn>=Rn+4;cn-=3)an=`_${gn.slice(cn-3,cn)}${an}`;return`${gn.slice(0,cn)}${an}`}function Cr(gn,an,cn){Jn(an,"offset"),(gn[an]===void 0||gn[an+cn]===void 0)&&Qn(an,gn.length-(cn+1))}function qn(gn,an,cn,Rn,Ln,Fn){if(gn>cn||gn<an){const Vn=typeof an=="bigint"?"n":"";let xr;throw Fn>3?an===0||an===BigInt(0)?xr=`>= 0${Vn} and < 2${Vn} ** ${(Fn+1)*8}${Vn}`:xr=`>= -(2${Vn} ** ${(Fn+1)*8-1}${Vn}) and < 2 ** ${(Fn+1)*8-1}${Vn}`:xr=`>= ${an}${Vn} and <= ${cn}${Vn}`,new br.ERR_OUT_OF_RANGE("value",xr,gn)}Cr(Rn,Ln,Fn)}function Jn(gn,an){if(typeof gn!="number")throw new br.ERR_INVALID_ARG_TYPE(an,"number",gn)}function Qn(gn,an,cn){throw Math.floor(gn)!==gn?(Jn(gn,cn),new br.ERR_OUT_OF_RANGE(cn||"offset","an integer",gn)):an<0?new br.ERR_BUFFER_OUT_OF_BOUNDS:new br.ERR_OUT_OF_RANGE(cn||"offset",`>= ${cn?1:0} and <= ${an}`,gn)}const Tr=/[^+/0-9A-Za-z-_]/g;function Or(gn){if(gn=gn.split("=")[0],gn=gn.trim().replace(Tr,""),gn.length<2)return"";for(;gn.length%4!==0;)gn=gn+"=";return gn}function Ir(gn,an){an=an||1/0;let cn;const Rn=gn.length;let Ln=null;const Fn=[];for(let Vn=0;Vn<Rn;++Vn){if(cn=gn.charCodeAt(Vn),cn>55295&&cn<57344){if(!Ln){if(cn>56319){(an-=3)>-1&&Fn.push(239,191,189);continue}else if(Vn+1===Rn){(an-=3)>-1&&Fn.push(239,191,189);continue}Ln=cn;continue}if(cn<56320){(an-=3)>-1&&Fn.push(239,191,189),Ln=cn;continue}cn=(Ln-55296<<10|cn-56320)+65536}else Ln&&(an-=3)>-1&&Fn.push(239,191,189);if(Ln=null,cn<128){if((an-=1)<0)break;Fn.push(cn)}else if(cn<2048){if((an-=2)<0)break;Fn.push(cn>>6|192,cn&63|128)}else if(cn<65536){if((an-=3)<0)break;Fn.push(cn>>12|224,cn>>6&63|128,cn&63|128)}else if(cn<1114112){if((an-=4)<0)break;Fn.push(cn>>18|240,cn>>12&63|128,cn>>6&63|128,cn&63|128)}else throw new Error("Invalid code point")}return Fn}function Kr(gn){const an=[];for(let cn=0;cn<gn.length;++cn)an.push(gn.charCodeAt(cn)&255);return an}function Ar(gn,an){let cn,Rn,Ln;const Fn=[];for(let Vn=0;Vn<gn.length&&!((an-=2)<0);++Vn)cn=gn.charCodeAt(Vn),Rn=cn>>8,Ln=cn%256,Fn.push(Ln),Fn.push(Rn);return Fn}function Nr(gn){return e.toByteArray(Or(gn))}function vr(gn,an,cn,Rn){let Ln;for(Ln=0;Ln<Rn&&!(Ln+cn>=an.length||Ln>=gn.length);++Ln)an[Ln+cn]=gn[Ln];return Ln}function Hr(gn,an){return gn instanceof an||gn!=null&&gn.constructor!=null&&gn.constructor.name!=null&&gn.constructor.name===an.name}function Dr(gn){return gn!==gn}const jr=function(){const gn="0123456789abcdef",an=new Array(256);for(let cn=0;cn<16;++cn){const Rn=cn*16;for(let Ln=0;Ln<16;++Ln)an[Rn+Ln]=gn[cn]+gn[Ln]}return an}();function Vr(gn){return typeof BigInt>"u"?Yr:gn}function Yr(){throw new Error("BigInt not supported")}})(buffer$1);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=buffer$1,r=t.Buffer;function o(c,u){for(var en in c)u[en]=c[en]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(o(t,e),e.Buffer=a);function a(c,u,en){return r(c,u,en)}a.prototype=Object.create(r.prototype),o(r,a),a.from=function(c,u,en){if(typeof c=="number")throw new TypeError("Argument must not be a number");return r(c,u,en)},a.alloc=function(c,u,en){if(typeof c!="number")throw new TypeError("Argument must be a number");var tn=r(c);return u!==void 0?typeof en=="string"?tn.fill(u,en):tn.fill(u):tn.fill(0),tn},a.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return r(c)},a.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(c)}})(safeBuffer,safeBuffer.exports);var _Buffer$1=safeBuffer.exports.Buffer;function base$2(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=r}var c=n.length,u=n.charAt(0),en=Math.log(c)/Math.log(256),tn=Math.log(256)/Math.log(c);function nn(dn){if((Array.isArray(dn)||dn instanceof Uint8Array)&&(dn=_Buffer$1.from(dn)),!_Buffer$1.isBuffer(dn))throw new TypeError("Expected Buffer");if(dn.length===0)return"";for(var hn=0,ln=0,pn=0,$n=dn.length;pn!==$n&&dn[pn]===0;)pn++,hn++;for(var Sn=($n-pn)*tn+1>>>0,yn=new Uint8Array(Sn);pn!==$n;){for(var In=dn[pn],An=0,Tn=Sn-1;(In!==0||An<ln)&&Tn!==-1;Tn--,An++)In+=256*yn[Tn]>>>0,yn[Tn]=In%c>>>0,In=In/c>>>0;if(In!==0)throw new Error("Non-zero carry");ln=An,pn++}for(var kn=Sn-ln;kn!==Sn&&yn[kn]===0;)kn++;for(var Pn=u.repeat(hn);kn<Sn;++kn)Pn+=n.charAt(yn[kn]);return Pn}function sn(dn){if(typeof dn!="string")throw new TypeError("Expected String");if(dn.length===0)return _Buffer$1.alloc(0);for(var hn=0,ln=0,pn=0;dn[hn]===u;)ln++,hn++;for(var $n=(dn.length-hn)*en+1>>>0,Sn=new Uint8Array($n);dn[hn];){var yn=e[dn.charCodeAt(hn)];if(yn===255)return;for(var In=0,An=$n-1;(yn!==0||In<pn)&&An!==-1;An--,In++)yn+=c*Sn[An]>>>0,Sn[An]=yn%256>>>0,yn=yn/256>>>0;if(yn!==0)throw new Error("Non-zero carry");pn=In,hn++}for(var Tn=$n-pn;Tn!==$n&&Sn[Tn]===0;)Tn++;var kn=_Buffer$1.allocUnsafe(ln+($n-Tn));kn.fill(0,0,ln);for(var Pn=ln;Tn!==$n;)kn[Pn++]=Sn[Tn++];return kn}function fn(dn){var hn=sn(dn);if(hn)return hn;throw new Error("Non-base"+c+" character")}return{encode:nn,decodeUnsafe:sn,decode:fn}}var src$2=base$2,basex$2=src$2,ALPHABET$3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$2=basex$2(ALPHABET$3);function isVersionedTransaction$2(n){return"version"in n}var __classPrivateFieldSet$1=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t},__classPrivateFieldGet$1=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},_StandardWalletAdapter_instances,_StandardWalletAdapter_account,_StandardWalletAdapter_publicKey,_StandardWalletAdapter_connecting,_StandardWalletAdapter_off,_StandardWalletAdapter_wallet,_StandardWalletAdapter_supportedTransactionVersions,_StandardWalletAdapter_readyState,_StandardWalletAdapter_connected,_StandardWalletAdapter_disconnected,_StandardWalletAdapter_changed,_StandardWalletAdapter_signTransaction,_StandardWalletAdapter_signAllTransactions,_StandardWalletAdapter_signMessage;function isWalletAdapterCompatibleWallet(n){return"standard:connect"in n.features&&"standard:events"in n.features&&("solana:signAndSendTransaction"in n.features||"solana:signTransaction"in n.features)}class StandardWalletAdapter extends BaseWalletAdapter{constructor({wallet:e}){super(),_StandardWalletAdapter_instances.add(this),_StandardWalletAdapter_account.set(this,void 0),_StandardWalletAdapter_publicKey.set(this,void 0),_StandardWalletAdapter_connecting.set(this,void 0),_StandardWalletAdapter_off.set(this,void 0),_StandardWalletAdapter_wallet.set(this,void 0),_StandardWalletAdapter_supportedTransactionVersions.set(this,void 0),_StandardWalletAdapter_readyState.set(this,typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.Installed),_StandardWalletAdapter_changed.set(this,r=>{if(!__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f")||!__classPrivateFieldGet$1(this,_StandardWalletAdapter_publicKey,"f")||!("accounts"in r))return;const o=__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts[0];if(!o){__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this),this.emit("error",new WalletDisconnectedError),this.emit("disconnect");return}if(o===__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f"))return;let a;try{a=new PublicKey$7(o.publicKey)}catch(c){__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this),this.emit("error",new WalletPublicKeyError(c==null?void 0:c.message)),this.emit("disconnect");return}__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,o,a),this.emit("connect",a)}),__classPrivateFieldSet$1(this,_StandardWalletAdapter_wallet,e,"f");const t="solana:signAndSendTransaction"in e.features?e.features["solana:signAndSendTransaction"].supportedTransactionVersions:e.features["solana:signTransaction"].supportedTransactionVersions;__classPrivateFieldSet$1(this,_StandardWalletAdapter_supportedTransactionVersions,arraysEqual(t,["legacy"])?null:new Set(t),"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_account,null,"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_publicKey,null,"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_connecting,!1,"f")}get supportedTransactionVersions(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_supportedTransactionVersions,"f")}get name(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").name}get icon(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").icon}get url(){return"https://github.com/wallet-standard"}get publicKey(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_publicKey,"f")}get connecting(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_connecting,"f")}get readyState(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_readyState,"f")}get wallet(){return __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f")}get standard(){return!0}async connect(){try{if(this.connected||this.connecting)return;if(__classPrivateFieldGet$1(this,_StandardWalletAdapter_readyState,"f")!==WalletReadyState.Installed)throw new WalletNotReadyError;if(__classPrivateFieldSet$1(this,_StandardWalletAdapter_connecting,!0,"f"),!__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts.length)try{await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["standard:connect"].connect()}catch(r){throw new WalletConnectionError(r==null?void 0:r.message,r)}if(!__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts.length)throw new WalletAccountError;const e=__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").accounts[0];let t;try{t=new PublicKey$7(e.publicKey)}catch(r){throw new WalletPublicKeyError(r==null?void 0:r.message,r)}__classPrivateFieldSet$1(this,_StandardWalletAdapter_off,__classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["standard:events"].on("change",__classPrivateFieldGet$1(this,_StandardWalletAdapter_changed,"f")),"f"),__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,e,t),this.emit("connect",t)}catch(e){throw this.emit("error",e),e}finally{__classPrivateFieldSet$1(this,_StandardWalletAdapter_connecting,!1,"f")}}async disconnect(){if("standard:disconnect"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features)try{await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["standard:disconnect"].disconnect()}catch(e){this.emit("error",new WalletDisconnectionError(e==null?void 0:e.message,e))}__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_disconnected).call(this),this.emit("disconnect")}async sendTransaction(e,t,r={}){try{const o=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!o)throw new WalletNotConnectedError;let a;if("solana:signAndSendTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features)if(o.features.includes("solana:signAndSendTransaction"))a="solana:signAndSendTransaction";else if("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features&&o.features.includes("solana:signTransaction"))a="solana:signTransaction";else throw new WalletAccountError;else if("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features){if(!o.features.includes("solana:signTransaction"))throw new WalletAccountError;a="solana:signTransaction"}else throw new WalletConfigError;const c=getChainForEndpoint(t.rpcEndpoint);if(!o.chains.includes(c))throw new WalletSendTransactionError;try{const{signers:u,...en}=r;let tn;if(isVersionedTransaction$2(e)?(u!=null&&u.length&&e.sign(u),tn=e.serialize()):(e=await this.prepareTransaction(e,t,en),u!=null&&u.length&&e.partialSign(...u),tn=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),a==="solana:signAndSendTransaction"){const[nn]=await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signAndSendTransaction"].signAndSendTransaction({account:o,chain:c,transaction:tn,options:{preflightCommitment:getCommitment(en.preflightCommitment||t.commitment),skipPreflight:en.skipPreflight,maxRetries:en.maxRetries,minContextSlot:en.minContextSlot}});return bs58$2.encode(nn.signature)}else{const[nn]=await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signTransaction"].signTransaction({account:o,chain:c,transaction:tn,options:{preflightCommitment:getCommitment(en.preflightCommitment||t.commitment),minContextSlot:en.minContextSlot}});return await t.sendRawTransaction(nn.signedTransaction,{...en,preflightCommitment:getCommitment(en.preflightCommitment||t.commitment)})}}catch(u){throw u instanceof WalletError?u:new WalletSendTransactionError(u==null?void 0:u.message,u)}}catch(o){throw this.emit("error",o),o}}}_StandardWalletAdapter_account=new WeakMap,_StandardWalletAdapter_publicKey=new WeakMap,_StandardWalletAdapter_connecting=new WeakMap,_StandardWalletAdapter_off=new WeakMap,_StandardWalletAdapter_wallet=new WeakMap,_StandardWalletAdapter_supportedTransactionVersions=new WeakMap,_StandardWalletAdapter_readyState=new WeakMap,_StandardWalletAdapter_changed=new WeakMap,_StandardWalletAdapter_instances=new WeakSet,_StandardWalletAdapter_connected=function(e,t){__classPrivateFieldSet$1(this,_StandardWalletAdapter_account,e,"f"),__classPrivateFieldSet$1(this,_StandardWalletAdapter_publicKey,t,"f"),e!=null&&e.features.includes("solana:signTransaction")?(this.signTransaction=__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signTransaction),this.signAllTransactions=__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signAllTransactions)):(delete this.signTransaction,delete this.signAllTransactions),e!=null&&e.features.includes("solana:signMessage")?this.signMessage=__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_signMessage):delete this.signMessage},_StandardWalletAdapter_disconnected=function(){const e=__classPrivateFieldGet$1(this,_StandardWalletAdapter_off,"f");e&&(__classPrivateFieldSet$1(this,_StandardWalletAdapter_off,void 0,"f"),e()),__classPrivateFieldGet$1(this,_StandardWalletAdapter_instances,"m",_StandardWalletAdapter_connected).call(this,null,null)},_StandardWalletAdapter_signTransaction=async function(e){try{const t=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!t)throw new WalletNotConnectedError;if(!("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!t.features.includes("solana:signTransaction"))throw new WalletAccountError;try{const o=(await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signTransaction"].signTransaction({account:t,transaction:isVersionedTransaction$2(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return isVersionedTransaction$2(e)?VersionedTransaction$4.deserialize(o):Transaction$6.from(o)}catch(r){throw r instanceof WalletError?r:new WalletSignTransactionError(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},_StandardWalletAdapter_signAllTransactions=async function(e){try{const t=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!t)throw new WalletNotConnectedError;if(!("solana:signTransaction"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!t.features.includes("solana:signTransaction"))throw new WalletSignTransactionError;try{const r=await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signTransaction"].signTransaction(...e.map(o=>({account:t,transaction:isVersionedTransaction$2(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return e.map((o,a)=>{const c=r[a].signedTransaction;return isVersionedTransaction$2(o)?VersionedTransaction$4.deserialize(c):Transaction$6.from(c)})}catch(r){throw new WalletSignTransactionError(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}},_StandardWalletAdapter_signMessage=async function(e){try{const t=__classPrivateFieldGet$1(this,_StandardWalletAdapter_account,"f");if(!t)throw new WalletNotConnectedError;if(!("solana:signMessage"in __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features))throw new WalletConfigError;if(!t.features.includes("solana:signMessage"))throw new WalletSignMessageError;try{return(await __classPrivateFieldGet$1(this,_StandardWalletAdapter_wallet,"f").features["solana:signMessage"].signMessage({account:t,message:e}))[0].signature}catch(r){throw new WalletSignMessageError(r==null?void 0:r.message,r)}}catch(t){throw this.emit("error",t),t}};var __classPrivateFieldSet=globalThis&&globalThis.__classPrivateFieldSet||function(n,e,t,r,o){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t},__classPrivateFieldGet=globalThis&&globalThis.__classPrivateFieldGet||function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},_AppReadyEvent_detail;let wallets;const registered=new Set,listeners={};function getWallets(){if(wallets||(wallets=Object.freeze({register,get:get$1,on}),typeof window>"u"))return wallets;const n=Object.freeze({register});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(n))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new AppReadyEvent(n))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return wallets}function register(...n){var e;return n=n.filter(t=>!registered.has(t)),n.length?(n.forEach(t=>registered.add(t)),(e=listeners.register)==null||e.forEach(t=>guard(()=>t(...n))),function(){var r;n.forEach(o=>registered.delete(o)),(r=listeners.unregister)==null||r.forEach(o=>guard(()=>o(...n)))}):()=>{}}function get$1(){return[...registered]}function on(n,e){var t;return(t=listeners[n])!=null&&t.push(e)||(listeners[n]=[e]),function(){var o;listeners[n]=(o=listeners[n])==null?void 0:o.filter(a=>e!==a)}}function guard(n){try{n()}catch(e){console.error(e)}}class AppReadyEvent extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),_AppReadyEvent_detail.set(this,void 0),__classPrivateFieldSet(this,_AppReadyEvent_detail,e,"f")}get detail(){return __classPrivateFieldGet(this,_AppReadyEvent_detail,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}_AppReadyEvent_detail=new WeakMap;function DEPRECATED_getWallets(){if(wallets||(wallets=getWallets(),typeof window>"u"))return wallets;const n=window.navigator.wallets||[];if(!Array.isArray(n))return console.error("window.navigator.wallets is not an array"),wallets;const{register:e}=wallets,t=(...r)=>r.forEach(o=>guard(()=>o({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:t})})}catch{return console.error("window.navigator.wallets could not be set"),wallets}return t(...n),wallets}function useStandardWalletAdapters(n){const e=new Set,{get:t,on:r}=DEPRECATED_getWallets(),o=shallowRef(wrapWalletsInAdapters(t()));return watchEffect(a=>{const c=[r("register",(...u)=>o.value=[...o.value,...wrapWalletsInAdapters(u)]),r("unregister",(...u)=>o.value=o.value.filter(en=>u.some(tn=>tn===en.wallet)))];a(()=>c.forEach(u=>u()))}),computed$1(()=>[...o.value,...n.value.filter(({name:a})=>o.value.some(c=>c.name===a)?(e.has(a)||(e.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)])}function wrapWalletsInAdapters(n){return n.filter(isWalletAdapterCompatibleWallet).map(e=>new StandardWalletAdapter({wallet:e}))}function useTransactionMethods(n,e){const t=async(c,u,en)=>{var tn;const nn=(tn=n.value)==null?void 0:tn.adapter;if(!nn)throw e(new WalletNotSelectedError);if(!nn.connected)throw e(new WalletNotConnectedError,nn);return await nn.sendTransaction(c,u,en)},r=computed$1(()=>{var c;const u=(c=n.value)==null?void 0:c.adapter;if(!!(u&&"signTransaction"in u))return async en=>{if(!u.connected)throw e(new WalletNotConnectedError);return await u.signTransaction(en)}}),o=computed$1(()=>{var c;const u=(c=n.value)==null?void 0:c.adapter;if(!!(u&&"signAllTransactions"in u))return async en=>{if(!u.connected)throw e(new WalletNotConnectedError);return await u.signAllTransactions(en)}}),a=computed$1(()=>{var c;const u=(c=n.value)==null?void 0:c.adapter;if(!!(u&&"signMessage"in u))return async en=>{if(!u.connected)throw e(new WalletNotConnectedError);return await u.signMessage(en)}});return{sendTransaction:t,signTransaction:r,signAllTransactions:o,signMessage:a}}function useUnloadingWindow(n){const e=ref(!1);return typeof window>"u"||watchEffect(t=>{if(n.value)return;const r=()=>e.value=!0;window.addEventListener("beforeunload",r),t(()=>window.removeEventListener("beforeunload",r))}),e}function useWalletState(n,e){const t=shallowRef(null),r=ref(null),o=ref(!1),a=ref(WalletReadyState.Unsupported),c=computed$1(()=>a.value===WalletReadyState.Installed||a.value===WalletReadyState.Loadable),u=()=>{var en,tn,nn,sn,fn,dn;r.value=(tn=(en=t.value)==null?void 0:en.adapter.publicKey)!=null?tn:null,o.value=(sn=(nn=t.value)==null?void 0:nn.adapter.connected)!=null?sn:!1,a.value=(dn=(fn=t.value)==null?void 0:fn.readyState)!=null?dn:WalletReadyState.Unsupported};return watchEffect(()=>{var en;t.value=e.value&&(en=n.value.find(({adapter:tn})=>tn.name===e.value))!=null?en:null,u()}),{wallet:t,publicKey:r,connected:o,readyState:a,ready:c,refreshWalletState:u}}function useWrapAdaptersInWallets(n){const e=shallowRef([]);return watchEffect(()=>{e.value=n.value.map(t=>({adapter:t,readyState:t.readyState}))}),e}const createWalletStore=({wallets:n=[],autoConnect:e=!1,cluster:t="mainnet-beta",onError:r,localStorageKey:o="walletName"})=>{const a=ref(t),c=ref(!1),u=ref(!1),en=shallowRef(n),tn=useStandardWalletAdapters(en),{isMobile:nn,uriForAppIdentity:sn}=useEnvironment(tn),fn=useMobileWalletAdapters(tn,nn,sn,a),dn=useWrapAdaptersInWallets(fn),{name:hn,isUsingMwaAdapterOnMobile:ln,select:pn,deselect:$n}=useSelectWalletName(o,nn),{wallet:Sn,publicKey:yn,connected:In,readyState:An,ready:Tn,refreshWalletState:kn}=useWalletState(dn,hn),Pn=useUnloadingWindow(ln),Dn=useErrorHandler(Pn,r);useReadyStateListeners(dn),useAdapterListeners(Sn,Pn,ln,$n,kn,Dn);const Kn=useAutoConnect(e,Sn,ln,c,In,Tn,$n),{sendTransaction:Hn,signTransaction:jn,signAllTransactions:Cn,signMessage:mn}=useTransactionMethods(Sn,Dn);return{wallets:dn,autoConnect:Kn,cluster:a,wallet:Sn,publicKey:yn,readyState:An,ready:Tn,connected:In,connecting:c,disconnecting:u,select:pn,connect:async()=>{if(In.value||c.value||u.value)return;if(!Sn.value)throw Dn(new WalletNotSelectedError);const On=Sn.value.adapter;if(!Tn.value)throw Dn(new WalletNotReadyError,On);try{c.value=!0,await On.connect()}catch(Nn){throw $n(),Nn}finally{c.value=!1}},disconnect:async()=>{if(!(u.value||!Sn.value))try{u.value=!0,await Sn.value.adapter.disconnect()}finally{u.value=!1}},sendTransaction:Hn,signTransaction:jn,signAllTransactions:Cn,signMessage:mn}};let walletStore=null;const useWallet=()=>{if(walletStore)return walletStore;throw new WalletNotInitializedError("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},initWallet=n=>{walletStore=createWalletStore(n)},_sfc_main$4=defineComponent({props:{wallet:Object},setup(n){return toRefs(n)}}),_export_sfc=(n,e)=>{const t=n.__vccOpts||n;for(const[r,o]of e)t[r]=o;return t},_hoisted_1$4={class:"swv-button-icon"},_hoisted_2$4=["src","alt"];function _sfc_render$4(n,e,t,r,o,a){return openBlock(),createElementBlock("i",_hoisted_1$4,[n.wallet?(openBlock(),createElementBlock("img",{key:0,src:n.wallet.adapter.icon,alt:`${n.wallet.adapter.name} icon`},null,8,_hoisted_2$4)):createCommentVNode("",!0)])}const WalletIcon=_export_sfc(_sfc_main$4,[["render",_sfc_render$4]]),_sfc_main$3=defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(n,{emit:e}){const{disabled:t}=toRefs(n),{wallet:r,connect:o,connecting:a,connected:c}=useWallet(),u=computed$1(()=>a.value?"Connecting ...":c.value?"Connected":r.value?"Connect":"Connect Wallet"),tn={wallet:r,disabled:t,connecting:a,connected:c,content:u,onClick:nn=>{e("click",nn),!nn.defaultPrevented&&o().catch(()=>{})}};return{scope:tn,...tn}}}),_hoisted_1$3=["disabled"],_hoisted_2$3=["textContent"];function _sfc_render$3(n,e,t,r,o,a){const c=resolveComponent("wallet-icon");return renderSlot(n.$slots,"default",normalizeProps(guardReactiveProps(n.scope)),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",disabled:n.disabled||!n.wallet||n.connecting||n.connected,onClick:e[0]||(e[0]=(...u)=>n.onClick&&n.onClick(...u))},[n.wallet?(openBlock(),createBlock(c,{key:0,wallet:n.wallet},null,8,["wallet"])):createCommentVNode("",!0),createBaseVNode("p",{textContent:toDisplayString(n.content)},null,8,_hoisted_2$3)],8,_hoisted_1$3)])}const WalletConnectButton=_export_sfc(_sfc_main$3,[["render",_sfc_render$3]]);defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(n,{emit:e}){const{disabled:t}=toRefs(n),{wallet:r,disconnect:o,disconnecting:a}=useWallet(),c=computed$1(()=>a.value?"Disconnecting ...":r.value?"Disconnect":"Disconnect Wallet"),en={wallet:r,disconnecting:a,disabled:t,content:c,handleClick:tn=>{e("click",tn),!tn.defaultPrevented&&o().catch(()=>{})}};return{scope:en,...en}}});const _sfc_main$1=defineComponent({components:{WalletIcon},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(n,{slots:e}){const{featured:t,container:r,logo:o,dark:a}=toRefs(n),c=ref(null),u=ref(!1),en=()=>u.value=!0,tn=()=>u.value=!1,nn=computed$1(()=>!!e.logo||!!o.value),{wallets:sn,select:fn}=useWallet(),dn=computed$1(()=>{const In=[],An=[],Tn=[];return sn.value.forEach(kn=>{kn.readyState===WalletReadyState.NotDetected?An.push(kn):kn.readyState===WalletReadyState.Loadable?Tn.push(kn):kn.readyState===WalletReadyState.Installed&&In.push(kn)}),[...In,...Tn,...An]}),hn=ref(!1),ln=computed$1(()=>dn.value.slice(0,t.value)),pn=computed$1(()=>dn.value.slice(t.value)),$n=computed$1(()=>hn.value?sn.value:ln.value);onClickOutside(c,tn),onKeyStroke("Escape",tn),onKeyStroke("Tab",In=>{var An,Tn;const kn=(Tn=(An=c.value)==null?void 0:An.querySelectorAll("button"))!=null?Tn:[],Pn=kn==null?void 0:kn[0],Dn=kn==null?void 0:kn[kn.length-1];In.shiftKey&&document.activeElement===Pn&&Dn?(Dn.focus(),In.preventDefault()):!In.shiftKey&&document.activeElement===Dn&&Pn&&(Pn.focus(),In.preventDefault())}),watch(u,In=>{!In||nextTick(()=>{var An,Tn,kn;return(kn=(Tn=(An=c.value)==null?void 0:An.querySelectorAll("button"))==null?void 0:Tn[0])==null?void 0:kn.focus()})});const Sn=useScrollLock(document.body);watch(u,In=>Sn.value=In);const yn={dark:a,logo:o,hasLogo:nn,featured:t,container:r,modalPanel:c,modalOpened:u,openModal:en,closeModal:tn,expandedWallets:hn,walletsToDisplay:$n,featuredWallets:ln,hiddenWallets:pn,selectWallet:fn};return{scope:yn,...yn}}}),_hoisted_1$1=createBaseVNode("div",{class:"swv-modal-overlay"},null,-1),_hoisted_2$1={class:"swv-modal-container",ref:"modalPanel"},_hoisted_3$1={key:0,class:"swv-modal-logo-wrapper"},_hoisted_4$1=["src"],_hoisted_5$1=createBaseVNode("h1",{class:"swv-modal-title",id:"swv-modal-title"},"Connect Wallet",-1),_hoisted_6=createBaseVNode("svg",{width:"14",height:"14"},[createBaseVNode("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),_hoisted_7=[_hoisted_6],_hoisted_8={class:"swv-modal-list"},_hoisted_9=["onClick"],_hoisted_10={class:"swv-button"},_hoisted_11=["textContent"],_hoisted_12={key:0,class:"swv-wallet-status"},_hoisted_13=["aria-expanded"],_hoisted_14=createBaseVNode("i",{class:"swv-button-icon"},[createBaseVNode("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function _sfc_render$1(n,e,t,r,o,a){const c=resolveComponent("wallet-icon");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(n.dark?"swv-dark":"")},[renderSlot(n.$slots,"default",normalizeProps(guardReactiveProps(n.scope)))],2),n.modalOpened?(openBlock(),createBlock(Teleport,{key:0,to:n.container},[createBaseVNode("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:normalizeClass(["swv-modal",n.dark?"swv-dark":""]),role:"dialog"},[renderSlot(n.$slots,"overlay",normalizeProps(guardReactiveProps(n.scope)),()=>[_hoisted_1$1]),createBaseVNode("div",_hoisted_2$1,[renderSlot(n.$slots,"modal",normalizeProps(guardReactiveProps(n.scope)),()=>[createBaseVNode("div",{class:normalizeClass(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!n.hasLogo}])},[n.hasLogo?(openBlock(),createElementBlock("div",_hoisted_3$1,[renderSlot(n.$slots,"logo",normalizeProps(guardReactiveProps(n.scope)),()=>[createBaseVNode("img",{alt:"logo",class:"swv-modal-logo",src:n.logo},null,8,_hoisted_4$1)])])):createCommentVNode("",!0),_hoisted_5$1,createBaseVNode("button",{onClick:e[0]||(e[0]=withModifiers((...u)=>n.closeModal&&n.closeModal(...u),["prevent"])),class:"swv-modal-button-close"},_hoisted_7),createBaseVNode("ul",_hoisted_8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.walletsToDisplay,u=>(openBlock(),createElementBlock("li",{key:u.adapter.name,onClick:en=>{n.selectWallet(u.adapter.name),n.closeModal()}},[createBaseVNode("button",_hoisted_10,[createVNode(c,{wallet:u},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(u.adapter.name)},null,8,_hoisted_11),u.readyState==="Installed"?(openBlock(),createElementBlock("div",_hoisted_12," Detected ")):createCommentVNode("",!0)])],8,_hoisted_9))),128))]),n.hiddenWallets.length>0?(openBlock(),createElementBlock("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":n.expandedWallets,class:normalizeClass(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":n.expandedWallets}]),onClick:e[1]||(e[1]=u=>n.expandedWallets=!n.expandedWallets)},[createTextVNode(toDisplayString(n.expandedWallets?"Less":"More")+" options ",1),_hoisted_14],10,_hoisted_13)):createCommentVNode("",!0)],2)])],512)],2)],8,["to"])):createCommentVNode("",!0)],64)}const WalletModalProvider=_export_sfc(_sfc_main$1,[["render",_sfc_render$1]]),_sfc_main$2=defineComponent({components:{WalletConnectButton,WalletIcon,WalletModalProvider},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(n){const{featured:e,container:t,logo:r,dark:o}=toRefs(n),{publicKey:a,wallet:c,disconnect:u}=useWallet(),en=ref(),tn=ref(!1),nn=()=>{tn.value=!0},sn=()=>{tn.value=!1};onClickOutside(en,sn);const fn=computed$1(()=>{var yn;return(yn=a.value)==null?void 0:yn.toBase58()}),dn=computed$1(()=>!c.value||!fn.value?null:fn.value.slice(0,4)+".."+fn.value.slice(-4)),{copy:hn,copied:ln,isSupported:pn}=useClipboard(),Sn={featured:e,container:t,logo:r,dark:o,wallet:c,publicKey:a,publicKeyTrimmed:dn,publicKeyBase58:fn,canCopy:pn,addressCopied:ln,dropdownPanel:en,dropdownOpened:tn,openDropdown:nn,closeDropdown:sn,copyAddress:()=>fn.value&&hn(fn.value),disconnect:u};return{scope:Sn,...Sn}}}),_hoisted_1=["onClick"],_hoisted_2={key:2,class:"swv-dropdown"},_hoisted_3=["aria-expanded","title"],_hoisted_4=["textContent"],_hoisted_5=["onClick"];function _sfc_render(n,e,t,r,o,a){const c=resolveComponent("wallet-connect-button"),u=resolveComponent("wallet-icon"),en=resolveComponent("wallet-modal-provider");return openBlock(),createBlock(en,{featured:n.featured,container:n.container,logo:n.logo,dark:n.dark},{default:withCtx(tn=>[renderSlot(n.$slots,"default",normalizeProps(guardReactiveProps({...tn,...n.scope})),()=>[n.wallet?n.publicKeyBase58?(openBlock(),createElementBlock("div",_hoisted_2,[renderSlot(n.$slots,"dropdown-button",normalizeProps(guardReactiveProps({...tn,...n.scope})),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",style:normalizeStyle({pointerEvents:n.dropdownOpened?"none":"auto"}),"aria-expanded":n.dropdownOpened,title:n.publicKeyBase58,onClick:e[0]||(e[0]=(...nn)=>n.openDropdown&&n.openDropdown(...nn))},[createVNode(u,{wallet:n.wallet},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(n.publicKeyTrimmed)},null,8,_hoisted_4)],12,_hoisted_3)]),renderSlot(n.$slots,"dropdown",normalizeProps(guardReactiveProps({...tn,...n.scope})),()=>[createBaseVNode("ul",{"aria-label":"dropdown-list",class:normalizeClass(["swv-dropdown-list",{"swv-dropdown-list-active":n.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[renderSlot(n.$slots,"dropdown-list",normalizeProps(guardReactiveProps({...tn,...n.scope})),()=>[n.canCopy?(openBlock(),createElementBlock("li",{key:0,onClick:e[1]||(e[1]=(...nn)=>n.copyAddress&&n.copyAddress(...nn)),class:"swv-dropdown-list-item",role:"menuitem"},toDisplayString(n.addressCopied?"Copied":"Copy address"),1)):createCommentVNode("",!0),createBaseVNode("li",{onClick:nn=>{tn.openModal(),n.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,_hoisted_5),createBaseVNode("li",{onClick:e[2]||(e[2]=nn=>{n.disconnect(),n.closeDropdown()}),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")])],2)])])):(openBlock(),createBlock(c,{key:1})):(openBlock(),createElementBlock("button",{key:0,class:"swv-button swv-button-trigger",onClick:tn.openModal}," Select Wallet ",8,_hoisted_1))])]),overlay:withCtx(tn=>[renderSlot(n.$slots,"modal-overlay",normalizeProps(guardReactiveProps({...tn,...n.scope})))]),modal:withCtx(tn=>[renderSlot(n.$slots,"modal",normalizeProps(guardReactiveProps({...tn,...n.scope})))]),_:3},8,["featured","container","logo","dark"])}const WalletMultiButton=_export_sfc(_sfc_main$2,[["render",_sfc_render]]);function useAnchorWallet(){const n=useWallet();return computed$1(()=>{if(!n)return;const{signTransaction:e,signAllTransactions:t,publicKey:r}=n;if(!(!r.value||!e.value||!t.value))return{publicKey:r.value,signTransaction:e.value,signAllTransactions:t.value}})}const index={install:(n,e={})=>{initWallet(e),n.config.globalProperties.$wallet=useWallet()}};function bind$2(n,e){return function(){return n.apply(e,arguments)}}const{toString:toString$3}=Object.prototype,{getPrototypeOf:getPrototypeOf$2}=Object,kindOf=(n=>e=>{const t=toString$3.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=n=>(n=n.toLowerCase(),e=>kindOf(e)===n),typeOfTest=n=>e=>typeof e===n,{isArray:isArray$2}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer$1(n){return n!==null&&!isUndefined$1(n)&&n.constructor!==null&&!isUndefined$1(n.constructor)&&isFunction$3(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView$1(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&isArrayBuffer(n.buffer),e}const isString$1=typeOfTest("string"),isFunction$3=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$a=n=>n!==null&&typeof n=="object",isBoolean$1=n=>n===!0||n===!1,isPlainObject$1=n=>{if(kindOf(n)!=="object")return!1;const e=getPrototypeOf$2(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},isDate$2=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=n=>isObject$a(n)&&isFunction$3(n.pipe),isFormData=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||isFunction$3(n.append)&&((e=kindOf(n))==="formdata"||e==="object"&&isFunction$3(n.toString)&&n.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$2(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,o;if(typeof n!="object"&&(n=[n]),isArray$2(n))for(r=0,o=n.length;r<o;r++)e.call(null,n[r],r,n);else{const a=t?Object.getOwnPropertyNames(n):Object.keys(n),c=a.length;let u;for(r=0;r<c;r++)u=a[r],e.call(null,n[u],u,n)}}function findKey(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,o;for(;r-- >0;)if(o=t[r],e===o.toLowerCase())return o;return null}const _global$1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:dist$3.global)(),isContextDefined=n=>!isUndefined$1(n)&&n!==_global$1;function merge(){const{caseless:n}=isContextDefined(this)&&this||{},e={},t=(r,o)=>{const a=n&&findKey(e,o)||o;isPlainObject$1(e[a])&&isPlainObject$1(r)?e[a]=merge(e[a],r):isPlainObject$1(r)?e[a]=merge({},r):isArray$2(r)?e[a]=r.slice():e[a]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&forEach$2(arguments[r],t);return e}const extend=(n,e,t,{allOwnKeys:r}={})=>(forEach$2(e,(o,a)=>{t&&isFunction$3(o)?n[a]=bind$2(o,t):n[a]=o},{allOwnKeys:r}),n),stripBOM=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),inherits$3=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},toFlatObject=(n,e,t,r)=>{let o,a,c;const u={};if(e=e||{},n==null)return e;do{for(o=Object.getOwnPropertyNames(n),a=o.length;a-- >0;)c=o[a],(!r||r(c,n,e))&&!u[c]&&(e[c]=n[c],u[c]=!0);n=t!==!1&&getPrototypeOf$2(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},endsWith$2=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},toArray=n=>{if(!n)return null;if(isArray$2(n))return n;let e=n.length;if(!isNumber$1(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},isTypedArray$1=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&getPrototypeOf$2(Uint8Array)),forEachEntry=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let o;for(;(o=r.next())&&!o.done;){const a=o.value;e.call(n,a[0],a[1])}},matchAll=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,o){return r.toUpperCase()+o}),hasOwnProperty$3=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),isRegExp$3=kindOfTest("RegExp"),reduceDescriptors=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};forEach$2(t,(o,a)=>{let c;(c=e(o,a,n))!==!1&&(r[a]=c||o)}),Object.defineProperties(n,r)},freezeMethods=n=>{reduceDescriptors(n,(e,t)=>{if(isFunction$3(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(!!isFunction$3(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},toObjectSet=(n,e)=>{const t={},r=o=>{o.forEach(a=>{t[a]=!0})};return isArray$2(n)?r(n):r(String(n).split(e)),t},noop$3=()=>{},toFiniteNumber=(n,e)=>(n=+n,Number.isFinite(n)?n:e),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET$2={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(n=16,e=ALPHABET$2.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function isSpecCompliantForm(n){return!!(n&&isFunction$3(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const toJSONObject=n=>{const e=new Array(10),t=(r,o)=>{if(isObject$a(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const a=isArray$2(r)?[]:{};return forEach$2(r,(c,u)=>{const en=t(c,o+1);!isUndefined$1(en)&&(a[u]=en)}),e[o]=void 0,a}}return r};return t(n,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=n=>n&&(isObject$a(n)||isFunction$3(n))&&isFunction$3(n.then)&&isFunction$3(n.catch);var utils$4={isArray:isArray$2,isArrayBuffer,isBuffer:isBuffer$1,isFormData,isArrayBufferView:isArrayBufferView$1,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$a,isPlainObject:isPlainObject$1,isUndefined:isUndefined$1,isDate:isDate$2,isFile,isBlob,isRegExp:isRegExp$3,isFunction:isFunction$3,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$2,merge,extend,trim,stripBOM,inherits:inherits$3,toFlatObject,kindOf,kindOfTest,endsWith:endsWith$2,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$3,hasOwnProp:hasOwnProperty$3,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$3,toFiniteNumber,findKey,global:_global$1,isContextDefined,ALPHABET:ALPHABET$2,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(n,e,t,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),o&&(this.response=o)}utils$4.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$4.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{descriptors[n]={value:n}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(n,e,t,r,o,a)=>{const c=Object.create(prototype$1);return utils$4.toFlatObject(n,c,function(en){return en!==Error.prototype},u=>u!=="isAxiosError"),AxiosError.call(c,n.message,e,t,r,o),c.cause=n,c.name=n.name,a&&Object.assign(c,a),c};var httpAdapter=null;function isVisitable(n){return utils$4.isPlainObject(n)||utils$4.isArray(n)}function removeBrackets(n){return utils$4.endsWith(n,"[]")?n.slice(0,-2):n}function renderKey(n,e,t){return n?n.concat(e).map(function(o,a){return o=removeBrackets(o),!t&&a?"["+o+"]":o}).join(t?".":""):e}function isFlatArray(n){return utils$4.isArray(n)&&!n.some(isVisitable)}const predicates=utils$4.toFlatObject(utils$4,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData(n,e,t){if(!utils$4.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=utils$4.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ln,pn){return!utils$4.isUndefined(pn[ln])});const r=t.metaTokens,o=t.visitor||nn,a=t.dots,c=t.indexes,en=(t.Blob||typeof Blob<"u"&&Blob)&&utils$4.isSpecCompliantForm(e);if(!utils$4.isFunction(o))throw new TypeError("visitor must be a function");function tn(hn){if(hn===null)return"";if(utils$4.isDate(hn))return hn.toISOString();if(!en&&utils$4.isBlob(hn))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$4.isArrayBuffer(hn)||utils$4.isTypedArray(hn)?en&&typeof Blob=="function"?new Blob([hn]):dist$3.Buffer.from(hn):hn}function nn(hn,ln,pn){let $n=hn;if(hn&&!pn&&typeof hn=="object"){if(utils$4.endsWith(ln,"{}"))ln=r?ln:ln.slice(0,-2),hn=JSON.stringify(hn);else if(utils$4.isArray(hn)&&isFlatArray(hn)||(utils$4.isFileList(hn)||utils$4.endsWith(ln,"[]"))&&($n=utils$4.toArray(hn)))return ln=removeBrackets(ln),$n.forEach(function(yn,In){!(utils$4.isUndefined(yn)||yn===null)&&e.append(c===!0?renderKey([ln],In,a):c===null?ln:ln+"[]",tn(yn))}),!1}return isVisitable(hn)?!0:(e.append(renderKey(pn,ln,a),tn(hn)),!1)}const sn=[],fn=Object.assign(predicates,{defaultVisitor:nn,convertValue:tn,isVisitable});function dn(hn,ln){if(!utils$4.isUndefined(hn)){if(sn.indexOf(hn)!==-1)throw Error("Circular reference detected in "+ln.join("."));sn.push(hn),utils$4.forEach(hn,function($n,Sn){(!(utils$4.isUndefined($n)||$n===null)&&o.call(e,$n,utils$4.isString(Sn)?Sn.trim():Sn,ln,fn))===!0&&dn($n,ln?ln.concat(Sn):[Sn])}),sn.pop()}}if(!utils$4.isObject(n))throw new TypeError("data must be an object");return dn(n),e}function encode$4(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function AxiosURLSearchParams(n,e){this._pairs=[],n&&toFormData(n,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,t){this._pairs.push([e,t])};prototype.toString=function(e){const t=e?function(r){return e.call(this,r,encode$4)}:encode$4;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function encode$3(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(n,e,t){if(!e)return n;const r=t&&t.encode||encode$3,o=t&&t.serialize;let a;if(o?a=o(e,t):a=utils$4.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,t).toString(r),a){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class InterceptorManager{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$4.forEach(this.handlers,function(r){r!==null&&e(r)})}}var InterceptorManager$1=InterceptorManager,transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$3=typeof Blob<"u"?Blob:null;const isStandardBrowserEnv=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")();var platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$3},isStandardBrowserEnv,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(n,e){return toFormData(n,new platform.classes.URLSearchParams,Object.assign({visitor:function(t,r,o,a){return platform.isNode&&utils$4.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(n){return utils$4.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(n){const e={},t=Object.keys(n);let r;const o=t.length;let a;for(r=0;r<o;r++)a=t[r],e[a]=n[a];return e}function formDataToJSON(n){function e(t,r,o,a){let c=t[a++];const u=Number.isFinite(+c),en=a>=t.length;return c=!c&&utils$4.isArray(o)?o.length:c,en?(utils$4.hasOwnProp(o,c)?o[c]=[o[c],r]:o[c]=r,!u):((!o[c]||!utils$4.isObject(o[c]))&&(o[c]=[]),e(t,r,o[c],a)&&utils$4.isArray(o[c])&&(o[c]=arrayToObject(o[c])),!u)}if(utils$4.isFormData(n)&&utils$4.isFunction(n.entries)){const t={};return utils$4.forEachEntry(n,(r,o)=>{e(parsePropPath(r),o,t,0)}),t}return null}function stringifySafely(n,e,t){if(utils$4.isString(n))try{return(e||JSON.parse)(n),utils$4.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const defaults$1={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(e,t){const r=t.getContentType()||"",o=r.indexOf("application/json")>-1,a=utils$4.isObject(e);if(a&&utils$4.isHTMLForm(e)&&(e=new FormData(e)),utils$4.isFormData(e))return o&&o?JSON.stringify(formDataToJSON(e)):e;if(utils$4.isArrayBuffer(e)||utils$4.isBuffer(e)||utils$4.isStream(e)||utils$4.isFile(e)||utils$4.isBlob(e))return e;if(utils$4.isArrayBufferView(e))return e.buffer;if(utils$4.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((u=utils$4.isFileList(e))||r.indexOf("multipart/form-data")>-1){const en=this.env&&this.env.FormData;return toFormData(u?{"files[]":e}:e,en&&new en,this.formSerializer)}}return a||o?(t.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const t=this.transitional||defaults$1.transitional,r=t&&t.forcedJSONParsing,o=this.responseType==="json";if(e&&utils$4.isString(e)&&(r&&!this.responseType||o)){const c=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?AxiosError.from(u,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$4.forEach(["delete","get","head","post","put","patch"],n=>{defaults$1.headers[n]={}});var defaults$2=defaults$1;const ignoreDuplicateOf=utils$4.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=n=>{const e={};let t,r,o;return n&&n.split(`
`).forEach(function(c){o=c.indexOf(":"),t=c.substring(0,o).trim().toLowerCase(),r=c.substring(o+1).trim(),!(!t||e[t]&&ignoreDuplicateOf[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e};const $internals=Symbol("internals");function normalizeHeader(n){return n&&String(n).trim().toLowerCase()}function normalizeValue(n){return n===!1||n==null?n:utils$4.isArray(n)?n.map(normalizeValue):String(n)}function parseTokens(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const isValidHeaderName=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function matchHeaderValue(n,e,t,r,o){if(utils$4.isFunction(r))return r.call(this,e,t);if(o&&(e=t),!!utils$4.isString(e)){if(utils$4.isString(r))return e.indexOf(r)!==-1;if(utils$4.isRegExp(r))return r.test(e)}}function formatHeader(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function buildAccessors(n,e){const t=utils$4.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(o,a,c){return this[r].call(this,e,o,a,c)},configurable:!0})})}class AxiosHeaders{constructor(e){e&&this.set(e)}set(e,t,r){const o=this;function a(u,en,tn){const nn=normalizeHeader(en);if(!nn)throw new Error("header name must be a non-empty string");const sn=utils$4.findKey(o,nn);(!sn||o[sn]===void 0||tn===!0||tn===void 0&&o[sn]!==!1)&&(o[sn||en]=normalizeValue(u))}const c=(u,en)=>utils$4.forEach(u,(tn,nn)=>a(tn,nn,en));return utils$4.isPlainObject(e)||e instanceof this.constructor?c(e,t):utils$4.isString(e)&&(e=e.trim())&&!isValidHeaderName(e)?c(parseHeaders(e),t):e!=null&&a(t,e,r),this}get(e,t){if(e=normalizeHeader(e),e){const r=utils$4.findKey(this,e);if(r){const o=this[r];if(!t)return o;if(t===!0)return parseTokens(o);if(utils$4.isFunction(t))return t.call(this,o,r);if(utils$4.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=normalizeHeader(e),e){const r=utils$4.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||matchHeaderValue(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let o=!1;function a(c){if(c=normalizeHeader(c),c){const u=utils$4.findKey(r,c);u&&(!t||matchHeaderValue(r,r[u],u,t))&&(delete r[u],o=!0)}}return utils$4.isArray(e)?e.forEach(a):a(e),o}clear(e){const t=Object.keys(this);let r=t.length,o=!1;for(;r--;){const a=t[r];(!e||matchHeaderValue(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const t=this,r={};return utils$4.forEach(this,(o,a)=>{const c=utils$4.findKey(r,a);if(c){t[c]=normalizeValue(o),delete t[a];return}const u=e?formatHeader(a):String(a).trim();u!==a&&delete t[a],t[u]=normalizeValue(o),r[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return utils$4.forEach(this,(r,o)=>{r!=null&&r!==!1&&(t[o]=e&&utils$4.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function a(c){const u=normalizeHeader(c);r[u]||(buildAccessors(o,c),r[u]=!0)}return utils$4.isArray(e)?e.forEach(a):a(e),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$4.reduceDescriptors(AxiosHeaders.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});utils$4.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(n,e){const t=this||defaults$2,r=e||t,o=AxiosHeaders$1.from(r.headers);let a=r.data;return utils$4.forEach(n,function(u){a=u.call(t,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function isCancel(n){return!!(n&&n.__CANCEL__)}function CanceledError(n,e,t){AxiosError.call(this,n??"canceled",AxiosError.ERR_CANCELED,e,t),this.name="CanceledError"}utils$4.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle$1(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new AxiosError("Request failed with status code "+t.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}var cookies=platform.isStandardBrowserEnv?function(){return{write:function(t,r,o,a,c,u){const en=[];en.push(t+"="+encodeURIComponent(r)),utils$4.isNumber(o)&&en.push("expires="+new Date(o).toGMTString()),utils$4.isString(a)&&en.push("path="+a),utils$4.isString(c)&&en.push("domain="+c),u===!0&&en.push("secure"),document.cookie=en.join("; ")},read:function(t){const r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function combineURLs(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function buildFullPath(n,e){return n&&!isAbsoluteURL(e)?combineURLs(n,e):e}var isURLSameOrigin=platform.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function o(a){let c=a;return e&&(t.setAttribute("href",c),c=t.href),t.setAttribute("href",c),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=o(window.location.href),function(c){const u=utils$4.isString(c)?o(c):c;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}();function parseProtocol(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function speedometer(n,e){n=n||10;const t=new Array(n),r=new Array(n);let o=0,a=0,c;return e=e!==void 0?e:1e3,function(en){const tn=Date.now(),nn=r[a];c||(c=tn),t[o]=en,r[o]=tn;let sn=a,fn=0;for(;sn!==o;)fn+=t[sn++],sn=sn%n;if(o=(o+1)%n,o===a&&(a=(a+1)%n),tn-c<e)return;const dn=nn&&tn-nn;return dn?Math.round(fn*1e3/dn):void 0}}function progressEventReducer(n,e){let t=0;const r=speedometer(50,250);return o=>{const a=o.loaded,c=o.lengthComputable?o.total:void 0,u=a-t,en=r(u),tn=a<=c;t=a;const nn={loaded:a,total:c,progress:c?a/c:void 0,bytes:u,rate:en||void 0,estimated:en&&c&&tn?(c-a)/en:void 0,event:o};nn[e?"download":"upload"]=!0,n(nn)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u";var xhrAdapter=isXHRAdapterSupported&&function(n){return new Promise(function(t,r){let o=n.data;const a=AxiosHeaders$1.from(n.headers).normalize(),c=n.responseType;let u;function en(){n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let tn;utils$4.isFormData(o)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.getContentType(/^\s*multipart\/form-data/)?utils$4.isString(tn=a.getContentType())&&a.setContentType(tn.replace(/^\s*(multipart\/form-data);+/,"$1")):a.setContentType("multipart/form-data"));let nn=new XMLHttpRequest;if(n.auth){const hn=n.auth.username||"",ln=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";a.set("Authorization","Basic "+btoa(hn+":"+ln))}const sn=buildFullPath(n.baseURL,n.url);nn.open(n.method.toUpperCase(),buildURL(sn,n.params,n.paramsSerializer),!0),nn.timeout=n.timeout;function fn(){if(!nn)return;const hn=AxiosHeaders$1.from("getAllResponseHeaders"in nn&&nn.getAllResponseHeaders()),pn={data:!c||c==="text"||c==="json"?nn.responseText:nn.response,status:nn.status,statusText:nn.statusText,headers:hn,config:n,request:nn};settle$1(function(Sn){t(Sn),en()},function(Sn){r(Sn),en()},pn),nn=null}if("onloadend"in nn?nn.onloadend=fn:nn.onreadystatechange=function(){!nn||nn.readyState!==4||nn.status===0&&!(nn.responseURL&&nn.responseURL.indexOf("file:")===0)||setTimeout(fn)},nn.onabort=function(){!nn||(r(new AxiosError("Request aborted",AxiosError.ECONNABORTED,n,nn)),nn=null)},nn.onerror=function(){r(new AxiosError("Network Error",AxiosError.ERR_NETWORK,n,nn)),nn=null},nn.ontimeout=function(){let ln=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const pn=n.transitional||transitionalDefaults;n.timeoutErrorMessage&&(ln=n.timeoutErrorMessage),r(new AxiosError(ln,pn.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,n,nn)),nn=null},platform.isStandardBrowserEnv){const hn=isURLSameOrigin(sn)&&n.xsrfCookieName&&cookies.read(n.xsrfCookieName);hn&&a.set(n.xsrfHeaderName,hn)}o===void 0&&a.setContentType(null),"setRequestHeader"in nn&&utils$4.forEach(a.toJSON(),function(ln,pn){nn.setRequestHeader(pn,ln)}),utils$4.isUndefined(n.withCredentials)||(nn.withCredentials=!!n.withCredentials),c&&c!=="json"&&(nn.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&nn.addEventListener("progress",progressEventReducer(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&nn.upload&&nn.upload.addEventListener("progress",progressEventReducer(n.onUploadProgress)),(n.cancelToken||n.signal)&&(u=hn=>{!nn||(r(!hn||hn.type?new CanceledError(null,n,nn):hn),nn.abort(),nn=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const dn=parseProtocol(sn);if(dn&&platform.protocols.indexOf(dn)===-1){r(new AxiosError("Unsupported protocol "+dn+":",AxiosError.ERR_BAD_REQUEST,n));return}nn.send(o||null)})};const knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$4.forEach(knownAdapters,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const renderReason=n=>`- ${n}`,isResolvedHandle=n=>utils$4.isFunction(n)||n===null||n===!1;var adapters={getAdapter:n=>{n=utils$4.isArray(n)?n:[n];const{length:e}=n;let t,r;const o={};for(let a=0;a<e;a++){t=n[a];let c;if(r=t,!isResolvedHandle(t)&&(r=knownAdapters[(c=String(t)).toLowerCase()],r===void 0))throw new AxiosError(`Unknown adapter '${c}'`);if(r)break;o[c||"#"+a]=r}if(!r){const a=Object.entries(o).map(([u,en])=>`adapter ${u} `+(en===!1?"is not supported by the environment":"is not available in the build"));let c=e?a.length>1?`since :
`+a.map(renderReason).join(`
`):" "+renderReason(a[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:knownAdapters};function throwIfCancellationRequested(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new CanceledError(null,n)}function dispatchRequest(n){return throwIfCancellationRequested(n),n.headers=AxiosHeaders$1.from(n.headers),n.data=transformData.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(n.adapter||defaults$2.adapter)(n).then(function(r){return throwIfCancellationRequested(n),r.data=transformData.call(n,n.transformResponse,r),r.headers=AxiosHeaders$1.from(r.headers),r},function(r){return isCancel(r)||(throwIfCancellationRequested(n),r&&r.response&&(r.response.data=transformData.call(n,n.transformResponse,r.response),r.response.headers=AxiosHeaders$1.from(r.response.headers))),Promise.reject(r)})}const headersToObject=n=>n instanceof AxiosHeaders$1?n.toJSON():n;function mergeConfig(n,e){e=e||{};const t={};function r(tn,nn,sn){return utils$4.isPlainObject(tn)&&utils$4.isPlainObject(nn)?utils$4.merge.call({caseless:sn},tn,nn):utils$4.isPlainObject(nn)?utils$4.merge({},nn):utils$4.isArray(nn)?nn.slice():nn}function o(tn,nn,sn){if(utils$4.isUndefined(nn)){if(!utils$4.isUndefined(tn))return r(void 0,tn,sn)}else return r(tn,nn,sn)}function a(tn,nn){if(!utils$4.isUndefined(nn))return r(void 0,nn)}function c(tn,nn){if(utils$4.isUndefined(nn)){if(!utils$4.isUndefined(tn))return r(void 0,tn)}else return r(void 0,nn)}function u(tn,nn,sn){if(sn in e)return r(tn,nn);if(sn in n)return r(void 0,tn)}const en={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(tn,nn)=>o(headersToObject(tn),headersToObject(nn),!0)};return utils$4.forEach(Object.keys(Object.assign({},n,e)),function(nn){const sn=en[nn]||o,fn=sn(n[nn],e[nn],nn);utils$4.isUndefined(fn)&&sn!==u||(t[nn]=fn)}),t}const VERSION="1.6.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{validators$1[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const deprecatedWarnings={};validators$1.transitional=function(e,t,r){function o(a,c){return"[Axios v"+VERSION+"] Transitional option '"+a+"'"+c+(r?". "+r:"")}return(a,c,u)=>{if(e===!1)throw new AxiosError(o(c," has been removed"+(t?" in "+t:"")),AxiosError.ERR_DEPRECATED);return t&&!deprecatedWarnings[c]&&(deprecatedWarnings[c]=!0,console.warn(o(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,c,u):!0}};function assertOptions(n,e,t){if(typeof n!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let o=r.length;for(;o-- >0;){const a=r[o],c=e[a];if(c){const u=n[a],en=u===void 0||c(u,a,n);if(en!==!0)throw new AxiosError("option "+a+" must be "+en,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new AxiosError("Unknown option "+a,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(e){this.defaults=e,this.interceptors={request:new InterceptorManager$1,response:new InterceptorManager$1}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=mergeConfig(this.defaults,t);const{transitional:r,paramsSerializer:o,headers:a}=t;r!==void 0&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$4.isFunction(o)?t.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=a&&utils$4.merge(a.common,a[t.method]);a&&utils$4.forEach(["delete","get","head","post","put","patch","common"],hn=>{delete a[hn]}),t.headers=AxiosHeaders$1.concat(c,a);const u=[];let en=!0;this.interceptors.request.forEach(function(ln){typeof ln.runWhen=="function"&&ln.runWhen(t)===!1||(en=en&&ln.synchronous,u.unshift(ln.fulfilled,ln.rejected))});const tn=[];this.interceptors.response.forEach(function(ln){tn.push(ln.fulfilled,ln.rejected)});let nn,sn=0,fn;if(!en){const hn=[dispatchRequest.bind(this),void 0];for(hn.unshift.apply(hn,u),hn.push.apply(hn,tn),fn=hn.length,nn=Promise.resolve(t);sn<fn;)nn=nn.then(hn[sn++],hn[sn++]);return nn}fn=u.length;let dn=t;for(sn=0;sn<fn;){const hn=u[sn++],ln=u[sn++];try{dn=hn(dn)}catch(pn){ln.call(this,pn);break}}try{nn=dispatchRequest.call(this,dn)}catch(hn){return Promise.reject(hn)}for(sn=0,fn=tn.length;sn<fn;)nn=nn.then(tn[sn++],tn[sn++]);return nn}getUri(e){e=mergeConfig(this.defaults,e);const t=buildFullPath(e.baseURL,e.url);return buildURL(t,e.params,e.paramsSerializer)}}utils$4.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(t,r){return this.request(mergeConfig(r||{},{method:e,url:t,data:(r||{}).data}))}});utils$4.forEach(["post","put","patch"],function(e){function t(r){return function(a,c,u){return this.request(mergeConfig(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:c}))}}Axios.prototype[e]=t(),Axios.prototype[e+"Form"]=t(!0)});var Axios$1=Axios;class CancelToken{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(o=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](o);r._listeners=null}),this.promise.then=o=>{let a;const c=new Promise(u=>{r.subscribe(u),a=u}).then(o);return c.cancel=function(){r.unsubscribe(a)},c},e(function(a,c,u){r.reason||(r.reason=new CanceledError(a,c,u),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new CancelToken(function(o){e=o}),cancel:e}}}var CancelToken$1=CancelToken;function spread(n){return function(t){return n.apply(null,t)}}function isAxiosError(n){return utils$4.isObject(n)&&n.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([n,e])=>{HttpStatusCode[e]=n});var HttpStatusCode$1=HttpStatusCode;function createInstance(n){const e=new Axios$1(n),t=bind$2(Axios$1.prototype.request,e);return utils$4.extend(t,Axios$1.prototype,e,{allOwnKeys:!0}),utils$4.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return createInstance(mergeConfig(n,o))},t}const axios=createInstance(defaults$2);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=n=>formDataToJSON(utils$4.isHTMLForm(n)?new FormData(n):n);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;var axios$1=axios;const STARATLASAPI_URL="https://galaxy.staratlas.com/nfts";new PublicKey$7("adm1rpWxyo8u9y2Q2wxxfqaVDLE2gD1N9PbZbbhokTP");new PublicKey$7("feeW4D5WBZQEk6QtoSrw2KjZF45d7LBK9oCGuczKW2G");const useGlobalStore=defineStore("globalstore",{state:()=>({admins:"adm1rpWxyo8u9y2Q2wxxfqaVDLE2gD1N9PbZbbhokTP,3x5vrFFTspsicxrYHMA8SNVW71RMhVkALemXrJFfeQo1,756pfnvP3HHRx1BPwBPQwe1xBMfMWef5N9oN61Ews7np".split(","),token_list:[]}),getters:{is_admin(n){return n.admins.some(e=>{var t;return e===((t=useWallet().publicKey.value)==null?void 0:t.toString())})}},actions:{async load_token_list(){const n=(await axios$1.get("https://token-list-api.solana.cloud/v1/list")).data;this.token_list=n.content,(await axios$1.get(STARATLASAPI_URL)).data.forEach(t=>this.token_list.push({name:t.name,address:t.mint,chainId:0,decimals:0,extensions:void 0,holders:null,logoURI:t.image,symbol:t.symbol,tags:[],verified:!0}))}}}),calcAmountToTransfer$1=(n,e)=>n*10**e;function useQuasar(){return inject(quasarKey)}function number$8(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function bytes$2(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function hash$1(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$8(n.outputLen),number$8(n.blockLen)}function exists$1(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function output$1(n,e){bytes$2(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const crypto$2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const u8a$1=n=>n instanceof Uint8Array,u32$2=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),createView$1=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),rotr$1=(n,e)=>n<<32-e|n>>>e,isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!isLE)throw new Error("Non little-endian hardware is not supported");function utf8ToBytes$3(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function toBytes$1(n){if(typeof n=="string"&&(n=utf8ToBytes$3(n)),!u8a$1(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function concatBytes$3(...n){const e=new Uint8Array(n.reduce((r,o)=>r+o.length,0));let t=0;return n.forEach(r=>{if(!u8a$1(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class Hash$1{clone(){return this._cloneInto()}}function wrapConstructor$1(n){const e=r=>n().update(toBytes$1(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function randomBytes$1(n=32){if(crypto$2&&typeof crypto$2.getRandomValues=="function")return crypto$2.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64$1(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const o=BigInt(32),a=BigInt(4294967295),c=Number(t>>o&a),u=Number(t&a),en=r?4:0,tn=r?0:4;n.setUint32(e+en,c,r),n.setUint32(e+tn,u,r)}class SHA2 extends Hash$1{constructor(e,t,r,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView$1(this.buffer)}update(e){exists$1(this);const{view:t,buffer:r,blockLen:o}=this;e=toBytes$1(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(o-this.pos,a-c);if(u===o){const en=createView$1(e);for(;o<=a-c;c+=o)this.process(en,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists$1(this),output$1(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:a}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(r,0),c=0);for(let sn=c;sn<o;sn++)t[sn]=0;setBigUint64$1(r,o-8,BigInt(this.length*8),a),this.process(r,0);const u=createView$1(e),en=this.outputLen;if(en%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const tn=en/4,nn=this.get();if(tn>nn.length)throw new Error("_sha2: outputLen bigger than state");for(let sn=0;sn<tn;sn++)u.setUint32(4*sn,nn[sn],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:o,finished:a,destroyed:c,pos:u}=this;return e.length=o,e.pos=u,e.finished=a,e.destroyed=c,o%t&&e.buffer.set(r),e}}const U32_MASK64$1=BigInt(2**32-1),_32n$1=BigInt(32);function fromBig$1(n,e=!1){return e?{h:Number(n&U32_MASK64$1),l:Number(n>>_32n$1&U32_MASK64$1)}:{h:Number(n>>_32n$1&U32_MASK64$1)|0,l:Number(n&U32_MASK64$1)|0}}function split$1(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let o=0;o<n.length;o++){const{h:a,l:c}=fromBig$1(n[o],e);[t[o],r[o]]=[a,c]}return[t,r]}const toBig$1=(n,e)=>BigInt(n>>>0)<<_32n$1|BigInt(e>>>0),shrSH$1=(n,e,t)=>n>>>t,shrSL$1=(n,e,t)=>n<<32-t|e>>>t,rotrSH$1=(n,e,t)=>n>>>t|e<<32-t,rotrSL$1=(n,e,t)=>n<<32-t|e>>>t,rotrBH$1=(n,e,t)=>n<<64-t|e>>>t-32,rotrBL$1=(n,e,t)=>n>>>t-32|e<<64-t,rotr32H$1=(n,e)=>e,rotr32L$1=(n,e)=>n,rotlSH$1=(n,e,t)=>n<<t|e>>>32-t,rotlSL$1=(n,e,t)=>e<<t|n>>>32-t,rotlBH$1=(n,e,t)=>e<<t-32|n>>>64-t,rotlBL$1=(n,e,t)=>n<<t-32|e>>>64-t;function add$1(n,e,t,r){const o=(e>>>0)+(r>>>0);return{h:n+t+(o/2**32|0)|0,l:o|0}}const add3L$1=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),add3H$1=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,add4L$1=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),add4H$1=(n,e,t,r,o)=>e+t+r+o+(n/2**32|0)|0,add5L$1=(n,e,t,r,o)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(o>>>0),add5H$1=(n,e,t,r,o,a)=>e+t+r+o+a+(n/2**32|0)|0,u64$c={fromBig:fromBig$1,split:split$1,toBig:toBig$1,shrSH:shrSH$1,shrSL:shrSL$1,rotrSH:rotrSH$1,rotrSL:rotrSL$1,rotrBH:rotrBH$1,rotrBL:rotrBL$1,rotr32H:rotr32H$1,rotr32L:rotr32L$1,rotlSH:rotlSH$1,rotlSL:rotlSL$1,rotlBH:rotlBH$1,rotlBL:rotlBL$1,add:add$1,add3L:add3L$1,add3H:add3H$1,add4L:add4L$1,add4H:add4H$1,add5H:add5H$1,add5L:add5L$1};var u64$d=u64$c;const[SHA512_Kh$1,SHA512_Kl$1]=(()=>u64$d.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),SHA512_W_H$1=new Uint32Array(80),SHA512_W_L$1=new Uint32Array(80);class SHA512$1 extends SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:o,Ch:a,Cl:c,Dh:u,Dl:en,Eh:tn,El:nn,Fh:sn,Fl:fn,Gh:dn,Gl:hn,Hh:ln,Hl:pn}=this;return[e,t,r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn]}set(e,t,r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=o|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=en|0,this.Eh=tn|0,this.El=nn|0,this.Fh=sn|0,this.Fl=fn|0,this.Gh=dn|0,this.Gl=hn|0,this.Hh=ln|0,this.Hl=pn|0}process(e,t){for(let yn=0;yn<16;yn++,t+=4)SHA512_W_H$1[yn]=e.getUint32(t),SHA512_W_L$1[yn]=e.getUint32(t+=4);for(let yn=16;yn<80;yn++){const In=SHA512_W_H$1[yn-15]|0,An=SHA512_W_L$1[yn-15]|0,Tn=u64$d.rotrSH(In,An,1)^u64$d.rotrSH(In,An,8)^u64$d.shrSH(In,An,7),kn=u64$d.rotrSL(In,An,1)^u64$d.rotrSL(In,An,8)^u64$d.shrSL(In,An,7),Pn=SHA512_W_H$1[yn-2]|0,Dn=SHA512_W_L$1[yn-2]|0,Kn=u64$d.rotrSH(Pn,Dn,19)^u64$d.rotrBH(Pn,Dn,61)^u64$d.shrSH(Pn,Dn,6),Hn=u64$d.rotrSL(Pn,Dn,19)^u64$d.rotrBL(Pn,Dn,61)^u64$d.shrSL(Pn,Dn,6),jn=u64$d.add4L(kn,Hn,SHA512_W_L$1[yn-7],SHA512_W_L$1[yn-16]),Cn=u64$d.add4H(jn,Tn,Kn,SHA512_W_H$1[yn-7],SHA512_W_H$1[yn-16]);SHA512_W_H$1[yn]=Cn|0,SHA512_W_L$1[yn]=jn|0}let{Ah:r,Al:o,Bh:a,Bl:c,Ch:u,Cl:en,Dh:tn,Dl:nn,Eh:sn,El:fn,Fh:dn,Fl:hn,Gh:ln,Gl:pn,Hh:$n,Hl:Sn}=this;for(let yn=0;yn<80;yn++){const In=u64$d.rotrSH(sn,fn,14)^u64$d.rotrSH(sn,fn,18)^u64$d.rotrBH(sn,fn,41),An=u64$d.rotrSL(sn,fn,14)^u64$d.rotrSL(sn,fn,18)^u64$d.rotrBL(sn,fn,41),Tn=sn&dn^~sn&ln,kn=fn&hn^~fn&pn,Pn=u64$d.add5L(Sn,An,kn,SHA512_Kl$1[yn],SHA512_W_L$1[yn]),Dn=u64$d.add5H(Pn,$n,In,Tn,SHA512_Kh$1[yn],SHA512_W_H$1[yn]),Kn=Pn|0,Hn=u64$d.rotrSH(r,o,28)^u64$d.rotrBH(r,o,34)^u64$d.rotrBH(r,o,39),jn=u64$d.rotrSL(r,o,28)^u64$d.rotrBL(r,o,34)^u64$d.rotrBL(r,o,39),Cn=r&a^r&u^a&u,mn=o&c^o&en^c&en;$n=ln|0,Sn=pn|0,ln=dn|0,pn=hn|0,dn=sn|0,hn=fn|0,{h:sn,l:fn}=u64$d.add(tn|0,nn|0,Dn|0,Kn|0),tn=u|0,nn=en|0,u=a|0,en=c|0,a=r|0,c=o|0;const _n=u64$d.add3L(Kn,jn,mn);r=u64$d.add3H(_n,Dn,Hn,Cn),o=_n|0}({h:r,l:o}=u64$d.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:a,l:c}=u64$d.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:en}=u64$d.add(this.Ch|0,this.Cl|0,u|0,en|0),{h:tn,l:nn}=u64$d.add(this.Dh|0,this.Dl|0,tn|0,nn|0),{h:sn,l:fn}=u64$d.add(this.Eh|0,this.El|0,sn|0,fn|0),{h:dn,l:hn}=u64$d.add(this.Fh|0,this.Fl|0,dn|0,hn|0),{h:ln,l:pn}=u64$d.add(this.Gh|0,this.Gl|0,ln|0,pn|0),{h:$n,l:Sn}=u64$d.add(this.Hh|0,this.Hl|0,$n|0,Sn|0),this.set(r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn,$n,Sn)}roundClean(){SHA512_W_H$1.fill(0),SHA512_W_L$1.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512$1=wrapConstructor$1(()=>new SHA512$1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$a=BigInt(0),_1n$e=BigInt(1),_2n$a=BigInt(2),u8a=n=>n instanceof Uint8Array,hexes$1=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function bytesToHex$1(n){if(!u8a(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=hexes$1[n[t]];return e}function numberToHexUnpadded$1(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function hexToNumber$1(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function hexToBytes$1(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const o=r*2,a=n.slice(o,o+2),c=Number.parseInt(a,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");t[r]=c}return t}function bytesToNumberBE$1(n){return hexToNumber$1(bytesToHex$1(n))}function bytesToNumberLE$1(n){if(!u8a(n))throw new Error("Uint8Array expected");return hexToNumber$1(bytesToHex$1(Uint8Array.from(n).reverse()))}function numberToBytesBE$1(n,e){return hexToBytes$1(n.toString(16).padStart(e*2,"0"))}function numberToBytesLE$1(n,e){return numberToBytesBE$1(n,e).reverse()}function numberToVarBytesBE$1(n){return hexToBytes$1(numberToHexUnpadded$1(n))}function ensureBytes$1(n,e,t){let r;if(typeof e=="string")try{r=hexToBytes$1(e)}catch(a){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${a}`)}else if(u8a(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const o=r.length;if(typeof t=="number"&&o!==t)throw new Error(`${n} expected ${t} bytes, got ${o}`);return r}function concatBytes$2(...n){const e=new Uint8Array(n.reduce((r,o)=>r+o.length,0));let t=0;return n.forEach(r=>{if(!u8a(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function equalBytes$1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function utf8ToBytes$2(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function bitLen$1(n){let e;for(e=0;n>_0n$a;n>>=_1n$e,e+=1);return e}function bitGet$1(n,e){return n>>BigInt(e)&_1n$e}const bitSet$1=(n,e,t)=>n|(t?_1n$e:_0n$a)<<BigInt(e),bitMask$1=n=>(_2n$a<<BigInt(n-1))-_1n$e,u8n$1=n=>new Uint8Array(n),u8fr$1=n=>Uint8Array.from(n);function createHmacDrbg$1(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=u8n$1(n),o=u8n$1(n),a=0;const c=()=>{r.fill(1),o.fill(0),a=0},u=(...sn)=>t(o,r,...sn),en=(sn=u8n$1())=>{o=u(u8fr$1([0]),sn),r=u(),sn.length!==0&&(o=u(u8fr$1([1]),sn),r=u())},tn=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let sn=0;const fn=[];for(;sn<e;){r=u();const dn=r.slice();fn.push(dn),sn+=r.length}return concatBytes$2(...fn)};return(sn,fn)=>{c(),en(sn);let dn;for(;!(dn=fn(tn()));)en();return c(),dn}}const validatorFns$1={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function validateObject$1(n,e,t={}){const r=(o,a,c)=>{const u=validatorFns$1[a];if(typeof u!="function")throw new Error(`Invalid validator "${a}", expected function`);const en=n[o];if(!(c&&en===void 0)&&!u(en,n))throw new Error(`Invalid param ${String(o)}=${en} (${typeof en}), expected ${a}`)};for(const[o,a]of Object.entries(e))r(o,a,!1);for(const[o,a]of Object.entries(t))r(o,a,!0);return n}var ut$2=Object.freeze(Object.defineProperty({__proto__:null,bytesToHex:bytesToHex$1,numberToHexUnpadded:numberToHexUnpadded$1,hexToNumber:hexToNumber$1,hexToBytes:hexToBytes$1,bytesToNumberBE:bytesToNumberBE$1,bytesToNumberLE:bytesToNumberLE$1,numberToBytesBE:numberToBytesBE$1,numberToBytesLE:numberToBytesLE$1,numberToVarBytesBE:numberToVarBytesBE$1,ensureBytes:ensureBytes$1,concatBytes:concatBytes$2,equalBytes:equalBytes$1,utf8ToBytes:utf8ToBytes$2,bitLen:bitLen$1,bitGet:bitGet$1,bitSet:bitSet$1,bitMask:bitMask$1,createHmacDrbg:createHmacDrbg$1,validateObject:validateObject$1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$9=BigInt(0),_1n$d=BigInt(1),_2n$9=BigInt(2),_3n$3=BigInt(3),_4n$1=BigInt(4),_5n$3=BigInt(5),_8n$4=BigInt(8);BigInt(9);BigInt(16);function mod$1(n,e){const t=n%e;return t>=_0n$9?t:e+t}function pow$1(n,e,t){if(t<=_0n$9||e<_0n$9)throw new Error("Expected power/modulo > 0");if(t===_1n$d)return _0n$9;let r=_1n$d;for(;e>_0n$9;)e&_1n$d&&(r=r*n%t),n=n*n%t,e>>=_1n$d;return r}function pow2$1(n,e,t){let r=n;for(;e-- >_0n$9;)r*=r,r%=t;return r}function invert$1(n,e){if(n===_0n$9||e<=_0n$9)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=mod$1(n,e),r=e,o=_0n$9,a=_1n$d;for(;t!==_0n$9;){const u=r/t,en=r%t,tn=o-a*u;r=t,t=en,o=a,a=tn}if(r!==_1n$d)throw new Error("invert: does not exist");return mod$1(o,e)}function tonelliShanks$1(n){const e=(n-_1n$d)/_2n$9;let t,r,o;for(t=n-_1n$d,r=0;t%_2n$9===_0n$9;t/=_2n$9,r++);for(o=_2n$9;o<n&&pow$1(o,e,n)!==n-_1n$d;o++);if(r===1){const c=(n+_1n$d)/_4n$1;return function(en,tn){const nn=en.pow(tn,c);if(!en.eql(en.sqr(nn),tn))throw new Error("Cannot find square root");return nn}}const a=(t+_1n$d)/_2n$9;return function(u,en){if(u.pow(en,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let tn=r,nn=u.pow(u.mul(u.ONE,o),t),sn=u.pow(en,a),fn=u.pow(en,t);for(;!u.eql(fn,u.ONE);){if(u.eql(fn,u.ZERO))return u.ZERO;let dn=1;for(let ln=u.sqr(fn);dn<tn&&!u.eql(ln,u.ONE);dn++)ln=u.sqr(ln);const hn=u.pow(nn,_1n$d<<BigInt(tn-dn-1));nn=u.sqr(hn),sn=u.mul(sn,hn),fn=u.mul(fn,nn),tn=dn}return sn}}function FpSqrt$1(n){if(n%_4n$1===_3n$3){const e=(n+_1n$d)/_4n$1;return function(r,o){const a=r.pow(o,e);if(!r.eql(r.sqr(a),o))throw new Error("Cannot find square root");return a}}if(n%_8n$4===_5n$3){const e=(n-_5n$3)/_8n$4;return function(r,o){const a=r.mul(o,_2n$9),c=r.pow(a,e),u=r.mul(o,c),en=r.mul(r.mul(u,_2n$9),c),tn=r.mul(u,r.sub(en,r.ONE));if(!r.eql(r.sqr(tn),o))throw new Error("Cannot find square root");return tn}}return tonelliShanks$1(n)}const isNegativeLE$1=(n,e)=>(mod$1(n,e)&_1n$d)===_1n$d,FIELD_FIELDS$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$1(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=FIELD_FIELDS$1.reduce((r,o)=>(r[o]="function",r),e);return validateObject$1(n,t)}function FpPow$1(n,e,t){if(t<_0n$9)throw new Error("Expected power > 0");if(t===_0n$9)return n.ONE;if(t===_1n$d)return e;let r=n.ONE,o=e;for(;t>_0n$9;)t&_1n$d&&(r=n.mul(r,o)),o=n.sqr(o),t>>=_1n$d;return r}function FpInvertBatch$1(n,e){const t=new Array(e.length),r=e.reduce((a,c,u)=>n.is0(c)?a:(t[u]=a,n.mul(a,c)),n.ONE),o=n.inv(r);return e.reduceRight((a,c,u)=>n.is0(c)?a:(t[u]=n.mul(a,t[u]),n.mul(a,c)),o),t}function nLength$1(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Field$1(n,e,t=!1,r={}){if(n<=_0n$9)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:o,nByteLength:a}=nLength$1(n,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=FpSqrt$1(n),u=Object.freeze({ORDER:n,BITS:o,BYTES:a,MASK:bitMask$1(o),ZERO:_0n$9,ONE:_1n$d,create:en=>mod$1(en,n),isValid:en=>{if(typeof en!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof en}`);return _0n$9<=en&&en<n},is0:en=>en===_0n$9,isOdd:en=>(en&_1n$d)===_1n$d,neg:en=>mod$1(-en,n),eql:(en,tn)=>en===tn,sqr:en=>mod$1(en*en,n),add:(en,tn)=>mod$1(en+tn,n),sub:(en,tn)=>mod$1(en-tn,n),mul:(en,tn)=>mod$1(en*tn,n),pow:(en,tn)=>FpPow$1(u,en,tn),div:(en,tn)=>mod$1(en*invert$1(tn,n),n),sqrN:en=>en*en,addN:(en,tn)=>en+tn,subN:(en,tn)=>en-tn,mulN:(en,tn)=>en*tn,inv:en=>invert$1(en,n),sqrt:r.sqrt||(en=>c(u,en)),invertBatch:en=>FpInvertBatch$1(u,en),cmov:(en,tn,nn)=>nn?tn:en,toBytes:en=>t?numberToBytesLE$1(en,a):numberToBytesBE$1(en,a),fromBytes:en=>{if(en.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${en.length}`);return t?bytesToNumberLE$1(en):bytesToNumberBE$1(en)}});return Object.freeze(u)}function FpSqrtEven(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function getFieldBytesLength$1(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function getMinHashLength$1(n){const e=getFieldBytesLength$1(n);return e+Math.ceil(e/2)}function mapHashToField$1(n,e,t=!1){const r=n.length,o=getFieldBytesLength$1(e),a=getMinHashLength$1(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const c=t?bytesToNumberBE$1(n):bytesToNumberLE$1(n),u=mod$1(c,e-_1n$d)+_1n$d;return t?numberToBytesLE$1(u,o):numberToBytesBE$1(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$8=BigInt(0),_1n$c=BigInt(1);function wNAF$1(n,e){const t=(o,a)=>{const c=a.negate();return o?c:a},r=o=>{const a=Math.ceil(e/o)+1,c=2**(o-1);return{windows:a,windowSize:c}};return{constTimeNegate:t,unsafeLadder(o,a){let c=n.ZERO,u=o;for(;a>_0n$8;)a&_1n$c&&(c=c.add(u)),u=u.double(),a>>=_1n$c;return c},precomputeWindow(o,a){const{windows:c,windowSize:u}=r(a),en=[];let tn=o,nn=tn;for(let sn=0;sn<c;sn++){nn=tn,en.push(nn);for(let fn=1;fn<u;fn++)nn=nn.add(tn),en.push(nn);tn=nn.double()}return en},wNAF(o,a,c){const{windows:u,windowSize:en}=r(o);let tn=n.ZERO,nn=n.BASE;const sn=BigInt(2**o-1),fn=2**o,dn=BigInt(o);for(let hn=0;hn<u;hn++){const ln=hn*en;let pn=Number(c&sn);c>>=dn,pn>en&&(pn-=fn,c+=_1n$c);const $n=ln,Sn=ln+Math.abs(pn)-1,yn=hn%2!==0,In=pn<0;pn===0?nn=nn.add(t(yn,a[$n])):tn=tn.add(t(In,a[Sn]))}return{p:tn,f:nn}},wNAFCached(o,a,c,u){const en=o._WINDOW_SIZE||1;let tn=a.get(o);return tn||(tn=this.precomputeWindow(o,en),en!==1&&a.set(o,u(tn))),this.wNAF(en,tn,c)}}}function validateBasic$1(n){return validateField$1(n.Fp),validateObject$1(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength$1(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$7=BigInt(0),_1n$b=BigInt(1),_2n$8=BigInt(2),_8n$3=BigInt(8),VERIFY_DEFAULT$1={zip215:!0};function validateOpts$3(n){const e=validateBasic$1(n);return validateObject$1(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function twistedEdwards$1(n){const e=validateOpts$3(n),{Fp:t,n:r,prehash:o,hash:a,randomBytes:c,nByteLength:u,h:en}=e,tn=_2n$8<<BigInt(u*8)-_1n$b,nn=t.create,sn=e.uvRatio||((Nn,Un)=>{try{return{isValid:!0,value:t.sqrt(Nn*t.inv(Un))}}catch{return{isValid:!1,value:_0n$7}}}),fn=e.adjustScalarBytes||(Nn=>Nn),dn=e.domain||((Nn,Un,zn)=>{if(Un.length||zn)throw new Error("Contexts/pre-hash are not supported");return Nn}),hn=Nn=>typeof Nn=="bigint"&&_0n$7<Nn,ln=(Nn,Un)=>hn(Nn)&&hn(Un)&&Nn<Un,pn=Nn=>Nn===_0n$7||ln(Nn,tn);function $n(Nn,Un){if(ln(Nn,Un))return Nn;throw new Error(`Expected valid scalar < ${Un}, got ${typeof Nn} ${Nn}`)}function Sn(Nn){return Nn===_0n$7?Nn:$n(Nn,r)}const yn=new Map;function In(Nn){if(!(Nn instanceof An))throw new Error("ExtendedPoint expected")}class An{constructor(Un,zn,Bn,En){if(this.ex=Un,this.ey=zn,this.ez=Bn,this.et=En,!pn(Un))throw new Error("x required");if(!pn(zn))throw new Error("y required");if(!pn(Bn))throw new Error("z required");if(!pn(En))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(Un){if(Un instanceof An)throw new Error("extended point not allowed");const{x:zn,y:Bn}=Un||{};if(!pn(zn)||!pn(Bn))throw new Error("invalid affine point");return new An(zn,Bn,_1n$b,nn(zn*Bn))}static normalizeZ(Un){const zn=t.invertBatch(Un.map(Bn=>Bn.ez));return Un.map((Bn,En)=>Bn.toAffine(zn[En])).map(An.fromAffine)}_setWindowSize(Un){this._WINDOW_SIZE=Un,yn.delete(this)}assertValidity(){const{a:Un,d:zn}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:Bn,ey:En,ez:Mn,et:Zn}=this,Sr=nn(Bn*Bn),$r=nn(En*En),Xn=nn(Mn*Mn),br=nn(Xn*Xn),_r=nn(Sr*Un),kr=nn(Xn*nn(_r+$r)),Cr=nn(br+nn(zn*nn(Sr*$r)));if(kr!==Cr)throw new Error("bad point: equation left != right (1)");const qn=nn(Bn*En),Jn=nn(Mn*Zn);if(qn!==Jn)throw new Error("bad point: equation left != right (2)")}equals(Un){In(Un);const{ex:zn,ey:Bn,ez:En}=this,{ex:Mn,ey:Zn,ez:Sr}=Un,$r=nn(zn*Sr),Xn=nn(Mn*En),br=nn(Bn*Sr),_r=nn(Zn*En);return $r===Xn&&br===_r}is0(){return this.equals(An.ZERO)}negate(){return new An(nn(-this.ex),this.ey,this.ez,nn(-this.et))}double(){const{a:Un}=e,{ex:zn,ey:Bn,ez:En}=this,Mn=nn(zn*zn),Zn=nn(Bn*Bn),Sr=nn(_2n$8*nn(En*En)),$r=nn(Un*Mn),Xn=zn+Bn,br=nn(nn(Xn*Xn)-Mn-Zn),_r=$r+Zn,kr=_r-Sr,Cr=$r-Zn,qn=nn(br*kr),Jn=nn(_r*Cr),Qn=nn(br*Cr),Tr=nn(kr*_r);return new An(qn,Jn,Tr,Qn)}add(Un){In(Un);const{a:zn,d:Bn}=e,{ex:En,ey:Mn,ez:Zn,et:Sr}=this,{ex:$r,ey:Xn,ez:br,et:_r}=Un;if(zn===BigInt(-1)){const Hr=nn((Mn-En)*(Xn+$r)),Dr=nn((Mn+En)*(Xn-$r)),jr=nn(Dr-Hr);if(jr===_0n$7)return this.double();const Vr=nn(Zn*_2n$8*_r),Yr=nn(Sr*_2n$8*br),gn=Yr+Vr,an=Dr+Hr,cn=Yr-Vr,Rn=nn(gn*jr),Ln=nn(an*cn),Fn=nn(gn*cn),Vn=nn(jr*an);return new An(Rn,Ln,Vn,Fn)}const kr=nn(En*$r),Cr=nn(Mn*Xn),qn=nn(Sr*Bn*_r),Jn=nn(Zn*br),Qn=nn((En+Mn)*($r+Xn)-kr-Cr),Tr=Jn-qn,Or=Jn+qn,Ir=nn(Cr-zn*kr),Kr=nn(Qn*Tr),Ar=nn(Or*Ir),Nr=nn(Qn*Ir),vr=nn(Tr*Or);return new An(Kr,Ar,vr,Nr)}subtract(Un){return this.add(Un.negate())}wNAF(Un){return Pn.wNAFCached(this,yn,Un,An.normalizeZ)}multiply(Un){const{p:zn,f:Bn}=this.wNAF($n(Un,r));return An.normalizeZ([zn,Bn])[0]}multiplyUnsafe(Un){let zn=Sn(Un);return zn===_0n$7?kn:this.equals(kn)||zn===_1n$b?this:this.equals(Tn)?this.wNAF(zn).p:Pn.unsafeLadder(this,zn)}isSmallOrder(){return this.multiplyUnsafe(en).is0()}isTorsionFree(){return Pn.unsafeLadder(this,r).is0()}toAffine(Un){const{ex:zn,ey:Bn,ez:En}=this,Mn=this.is0();Un==null&&(Un=Mn?_8n$3:t.inv(En));const Zn=nn(zn*Un),Sr=nn(Bn*Un),$r=nn(En*Un);if(Mn)return{x:_0n$7,y:_1n$b};if($r!==_1n$b)throw new Error("invZ was invalid");return{x:Zn,y:Sr}}clearCofactor(){const{h:Un}=e;return Un===_1n$b?this:this.multiplyUnsafe(Un)}static fromHex(Un,zn=!1){const{d:Bn,a:En}=e,Mn=t.BYTES;Un=ensureBytes$1("pointHex",Un,Mn);const Zn=Un.slice(),Sr=Un[Mn-1];Zn[Mn-1]=Sr&-129;const $r=bytesToNumberLE$1(Zn);$r===_0n$7||(zn?$n($r,tn):$n($r,t.ORDER));const Xn=nn($r*$r),br=nn(Xn-_1n$b),_r=nn(Bn*Xn-En);let{isValid:kr,value:Cr}=sn(br,_r);if(!kr)throw new Error("Point.fromHex: invalid y coordinate");const qn=(Cr&_1n$b)===_1n$b,Jn=(Sr&128)!==0;if(!zn&&Cr===_0n$7&&Jn)throw new Error("Point.fromHex: x=0 and x_0=1");return Jn!==qn&&(Cr=nn(-Cr)),An.fromAffine({x:Cr,y:$r})}static fromPrivateKey(Un){return Hn(Un).point}toRawBytes(){const{x:Un,y:zn}=this.toAffine(),Bn=numberToBytesLE$1(zn,t.BYTES);return Bn[Bn.length-1]|=Un&_1n$b?128:0,Bn}toHex(){return bytesToHex$1(this.toRawBytes())}}An.BASE=new An(e.Gx,e.Gy,_1n$b,nn(e.Gx*e.Gy)),An.ZERO=new An(_0n$7,_1n$b,_1n$b,_0n$7);const{BASE:Tn,ZERO:kn}=An,Pn=wNAF$1(An,u*8);function Dn(Nn){return mod$1(Nn,r)}function Kn(Nn){return Dn(bytesToNumberLE$1(Nn))}function Hn(Nn){const Un=u;Nn=ensureBytes$1("private key",Nn,Un);const zn=ensureBytes$1("hashed private key",a(Nn),2*Un),Bn=fn(zn.slice(0,Un)),En=zn.slice(Un,2*Un),Mn=Kn(Bn),Zn=Tn.multiply(Mn),Sr=Zn.toRawBytes();return{head:Bn,prefix:En,scalar:Mn,point:Zn,pointBytes:Sr}}function jn(Nn){return Hn(Nn).pointBytes}function Cn(Nn=new Uint8Array,...Un){const zn=concatBytes$2(...Un);return Kn(a(dn(zn,ensureBytes$1("context",Nn),!!o)))}function mn(Nn,Un,zn={}){Nn=ensureBytes$1("message",Nn),o&&(Nn=o(Nn));const{prefix:Bn,scalar:En,pointBytes:Mn}=Hn(Un),Zn=Cn(zn.context,Bn,Nn),Sr=Tn.multiply(Zn).toRawBytes(),$r=Cn(zn.context,Sr,Mn,Nn),Xn=Dn(Zn+$r*En);Sn(Xn);const br=concatBytes$2(Sr,numberToBytesLE$1(Xn,t.BYTES));return ensureBytes$1("result",br,u*2)}const _n=VERIFY_DEFAULT$1;function vn(Nn,Un,zn,Bn=_n){const{context:En,zip215:Mn}=Bn,Zn=t.BYTES;Nn=ensureBytes$1("signature",Nn,2*Zn),Un=ensureBytes$1("message",Un),o&&(Un=o(Un));const Sr=bytesToNumberLE$1(Nn.slice(Zn,2*Zn));let $r,Xn,br;try{$r=An.fromHex(zn,Mn),Xn=An.fromHex(Nn.slice(0,Zn),Mn),br=Tn.multiplyUnsafe(Sr)}catch{return!1}if(!Mn&&$r.isSmallOrder())return!1;const _r=Cn(En,Xn.toRawBytes(),$r.toRawBytes(),Un);return Xn.add($r.multiplyUnsafe(_r)).subtract(br).clearCofactor().equals(An.ZERO)}return Tn._setWindowSize(8),{CURVE:e,getPublicKey:jn,sign:mn,verify:vn,ExtendedPoint:An,utils:{getExtendedPublicKey:Hn,randomPrivateKey:()=>c(t.BYTES),precompute(Nn=8,Un=An.BASE){return Un._setWindowSize(Nn),Un.multiply(BigInt(3)),Un}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P$1=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1$1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$a=BigInt(1),_2n$7=BigInt(2),_5n$2=BigInt(5),_10n=BigInt(10),_20n=BigInt(20),_40n=BigInt(40),_80n=BigInt(80);function ed25519_pow_2_252_3$1(n){const e=ED25519_P$1,r=n*n%e*n%e,o=pow2$1(r,_2n$7,e)*r%e,a=pow2$1(o,_1n$a,e)*n%e,c=pow2$1(a,_5n$2,e)*a%e,u=pow2$1(c,_10n,e)*c%e,en=pow2$1(u,_20n,e)*u%e,tn=pow2$1(en,_40n,e)*en%e,nn=pow2$1(tn,_80n,e)*tn%e,sn=pow2$1(nn,_80n,e)*tn%e,fn=pow2$1(sn,_10n,e)*c%e;return{pow_p_5_8:pow2$1(fn,_2n$7,e)*n%e,b2:r}}function adjustScalarBytes$1(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function uvRatio$1(n,e){const t=ED25519_P$1,r=mod$1(e*e*e,t),o=mod$1(r*r*e,t),a=ed25519_pow_2_252_3$1(n*o).pow_p_5_8;let c=mod$1(n*r*a,t);const u=mod$1(e*c*c,t),en=c,tn=mod$1(c*ED25519_SQRT_M1$1,t),nn=u===n,sn=u===mod$1(-n,t),fn=u===mod$1(-n*ED25519_SQRT_M1$1,t);return nn&&(c=en),(sn||fn)&&(c=tn),isNegativeLE$1(c,t)&&(c=mod$1(-c,t)),{isValid:nn||sn,value:c}}const Fp$3=Field$1(ED25519_P$1,void 0,!0),ed25519Defaults$1={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Fp$3,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512$1,randomBytes:randomBytes$1,adjustScalarBytes:adjustScalarBytes$1,uvRatio:uvRatio$1},ed25519$1=twistedEdwards$1(ed25519Defaults$1);function ed25519_domain(n,e,t){if(e.length>255)throw new Error("Context is too big");return concatBytes$3(utf8ToBytes$3("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}({...ed25519Defaults$1});({...ed25519Defaults$1});const ELL2_C1=(Fp$3.ORDER+BigInt(3))/BigInt(8);Fp$3.pow(_2n$7,ELL2_C1);Fp$3.sqrt(Fp$3.neg(Fp$3.ONE));(Fp$3.ORDER-BigInt(5))/BigInt(8);BigInt(486662);FpSqrtEven(Fp$3,Fp$3.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Chi$1=(n,e,t)=>n&e^~n&t,Maj$1=(n,e,t)=>n&e^n&t^e&t,SHA256_K$1=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W$1=new Uint32Array(64);class SHA256$1 extends SHA2{constructor(){super(64,32,8,!1),this.A=IV[0]|0,this.B=IV[1]|0,this.C=IV[2]|0,this.D=IV[3]|0,this.E=IV[4]|0,this.F=IV[5]|0,this.G=IV[6]|0,this.H=IV[7]|0}get(){const{A:e,B:t,C:r,D:o,E:a,F:c,G:u,H:en}=this;return[e,t,r,o,a,c,u,en]}set(e,t,r,o,a,c,u,en){this.A=e|0,this.B=t|0,this.C=r|0,this.D=o|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=en|0}process(e,t){for(let sn=0;sn<16;sn++,t+=4)SHA256_W$1[sn]=e.getUint32(t,!1);for(let sn=16;sn<64;sn++){const fn=SHA256_W$1[sn-15],dn=SHA256_W$1[sn-2],hn=rotr$1(fn,7)^rotr$1(fn,18)^fn>>>3,ln=rotr$1(dn,17)^rotr$1(dn,19)^dn>>>10;SHA256_W$1[sn]=ln+SHA256_W$1[sn-7]+hn+SHA256_W$1[sn-16]|0}let{A:r,B:o,C:a,D:c,E:u,F:en,G:tn,H:nn}=this;for(let sn=0;sn<64;sn++){const fn=rotr$1(u,6)^rotr$1(u,11)^rotr$1(u,25),dn=nn+fn+Chi$1(u,en,tn)+SHA256_K$1[sn]+SHA256_W$1[sn]|0,ln=(rotr$1(r,2)^rotr$1(r,13)^rotr$1(r,22))+Maj$1(r,o,a)|0;nn=tn,tn=en,en=u,u=c+dn|0,c=a,a=o,o=r,r=dn+ln|0}r=r+this.A|0,o=o+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,en=en+this.F|0,tn=tn+this.G|0,nn=nn+this.H|0,this.set(r,o,a,c,u,en,tn,nn)}roundClean(){SHA256_W$1.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$2=wrapConstructor$1(()=>new SHA256$1);class StructError$6 extends TypeError{constructor(e,t){let r;const{message:o,...a}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var en;return(en=r)!=null?en:r=[e,...t()]}}}function isIterable$6(n){return isObject$9(n)&&typeof n[Symbol.iterator]=="function"}function isObject$9(n){return typeof n=="object"&&n!=null}function print$6(n){return typeof n=="string"?JSON.stringify(n):""+n}function shiftIterator$6(n){const{done:e,value:t}=n.next();return e?void 0:t}function toFailure$6(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:a}=e,{type:c}=t,{refinement:u,message:en="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+print$6(r)+"`"}=n;return{value:r,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...n,message:en}}function*toFailures$6(n,e,t,r){isIterable$6(n)||(n=[n]);for(const o of n){const a=toFailure$6(o,e,t,r);a&&(yield a)}}function*run$7(n,e,t={}){const{path:r=[],branch:o=[n],coerce:a=!1,mask:c=!1}=t,u={path:r,branch:o};if(a&&(n=e.coercer(n,u),c&&e.type!=="type"&&isObject$9(e.schema)&&isObject$9(n)&&!Array.isArray(n)))for(const tn in n)e.schema[tn]===void 0&&delete n[tn];let en=!0;for(const tn of e.validator(n,u))en=!1,yield[tn,void 0];for(let[tn,nn,sn]of e.entries(n,u)){const fn=run$7(nn,sn,{path:tn===void 0?r:[...r,tn],branch:tn===void 0?o:[...o,nn],coerce:a,mask:c});for(const dn of fn)dn[0]?(en=!1,yield[dn[0],void 0]):a&&(nn=dn[1],tn===void 0?n=nn:n instanceof Map?n.set(tn,nn):n instanceof Set?n.add(nn):isObject$9(n)&&(n[tn]=nn))}if(en)for(const tn of e.refiner(n,u))en=!1,yield[tn,void 0];en&&(yield[void 0,n])}class Struct$d{constructor(e){const{type:t,schema:r,validator:o,refiner:a,coercer:c=en=>en,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,o?this.validator=(en,tn)=>{const nn=o(en,tn);return toFailures$6(nn,tn,this,en)}:this.validator=()=>[],a?this.refiner=(en,tn)=>{const nn=a(en,tn);return toFailures$6(nn,tn,this,en)}:this.refiner=()=>[]}assert(e){return assert$h(e,this)}create(e){return create$6(e,this)}is(e){return is$6(e,this)}mask(e){return mask$6(e,this)}validate(e,t={}){return validate$6(e,this,t)}}function assert$h(n,e){const t=validate$6(n,e);if(t[0])throw t[0]}function create$6(n,e){const t=validate$6(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function mask$6(n,e){const t=validate$6(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function is$6(n,e){return!validate$6(n,e)[0]}function validate$6(n,e,t={}){const r=run$7(n,e,t),o=shiftIterator$6(r);if(o[0])return[new StructError$6(o[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$b(n,e){return new Struct$d({type:n,schema:null,validator:e})}function any$6(){return define$b("any",()=>!0)}function array$7(n){return new Struct$d({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print$6(e)}})}function boolean$6(){return define$b("boolean",n=>typeof n=="boolean")}function instance$5(n){return define$b("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+print$6(e))}function literal$6(n){const e=print$6(n),t=typeof n;return new Struct$d({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+print$6(r)}})}function never$5(){return define$b("never",()=>!1)}function nullable$6(n){return new Struct$d({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function number$7(){return define$b("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+print$6(n))}function optional$6(n){return new Struct$d({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function record$5(n,e){return new Struct$d({type:"record",schema:null,*entries(t){if(isObject$9(t))for(const r in t){const o=t[r];yield[r,r,n],yield[r,o,e]}},validator(t){return isObject$9(t)||"Expected an object, but received: "+print$6(t)}})}function string$7(){return define$b("string",n=>typeof n=="string"||"Expected a string, but received: "+print$6(n))}function tuple$6(n){const e=never$5();return new Struct$d({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let o=0;o<r;o++)yield[o,t[o],n[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+print$6(t)}})}function type$6(n){const e=Object.keys(n);return new Struct$d({type:"type",schema:n,*entries(t){if(isObject$9(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return isObject$9(t)||"Expected an object, but received: "+print$6(t)}})}function union$7(n){const e=n.map(t=>t.type).join(" | ");return new Struct$d({type:"union",schema:null,validator(t,r){const o=[];for(const a of n){const[...c]=run$7(t,a,r),[u]=c;if(u[0])for(const[en]of c)en&&o.push(en);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print$6(t),...o]}})}function unknown$6(){return define$b("unknown",()=>!0)}function coerce$6(n,e,t){return new Struct$d({...n,coercer:(r,o)=>is$6(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}const uuid$7=require$$0$5.v4,generateRequest$7=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const a={method:n};if(o===2&&(a.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");a.params=e}if(typeof t>"u"){const c=typeof r.generator=="function"?r.generator:function(){return uuid$7()};a.id=c(a,r)}else o===2&&t===null?r.notificationIdNull&&(a.id=null):a.id=t;return a};var generateRequest_1$3=generateRequest$7;const uuid$6=require$$0$5.v4,generateRequest$6=generateRequest_1$3,ClientBrowser$3=function(n,e){if(!(this instanceof ClientBrowser$3))return new ClientBrowser$3(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid$6()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var browser$6=ClientBrowser$3;ClientBrowser$3.prototype.request=function(n,e,t,r){const o=this;let a=null;const c=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&n&&typeof n=="object"&&typeof e=="function")r=e,a=n;else{typeof t=="function"&&(r=t,t=void 0);const tn=typeof r=="function";try{a=generateRequest$6(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(nn){if(tn)return r(nn);throw nn}if(!tn)return a}let en;try{en=JSON.stringify(a,this.options.replacer)}catch(tn){return r(tn)}return this.callServer(en,function(tn,nn){o._parseResponse(tn,nn,r)}),a};ClientBrowser$3.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(r)){const o=function(c){return typeof c.error<"u"},a=function(c){return!o(c)};return t(null,r.filter(o),r.filter(a))}else return t(null,r.error,r.result);t(null,r)};var client$4={},interopRequireDefault={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(interopRequireDefault);var regeneratorRuntime$1={exports:{}},_typeof$5={exports:{}};(function(n){function e(t){return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(_typeof$5);(function(n){var e=_typeof$5.exports.default;function t(){n.exports=t=function(){return o},n.exports.__esModule=!0,n.exports.default=n.exports;var r,o={},a=Object.prototype,c=a.hasOwnProperty,u=Object.defineProperty||function(Un,zn,Bn){Un[zn]=Bn.value},en=typeof Symbol=="function"?Symbol:{},tn=en.iterator||"@@iterator",nn=en.asyncIterator||"@@asyncIterator",sn=en.toStringTag||"@@toStringTag";function fn(Un,zn,Bn){return Object.defineProperty(Un,zn,{value:Bn,enumerable:!0,configurable:!0,writable:!0}),Un[zn]}try{fn({},"")}catch{fn=function(Bn,En,Mn){return Bn[En]=Mn}}function dn(Un,zn,Bn,En){var Mn=zn&&zn.prototype instanceof In?zn:In,Zn=Object.create(Mn.prototype),Sr=new On(En||[]);return u(Zn,"_invoke",{value:Cn(Un,Bn,Sr)}),Zn}function hn(Un,zn,Bn){try{return{type:"normal",arg:Un.call(zn,Bn)}}catch(En){return{type:"throw",arg:En}}}o.wrap=dn;var ln="suspendedStart",pn="suspendedYield",$n="executing",Sn="completed",yn={};function In(){}function An(){}function Tn(){}var kn={};fn(kn,tn,function(){return this});var Pn=Object.getPrototypeOf,Dn=Pn&&Pn(Pn(Nn([])));Dn&&Dn!==a&&c.call(Dn,tn)&&(kn=Dn);var Kn=Tn.prototype=In.prototype=Object.create(kn);function Hn(Un){["next","throw","return"].forEach(function(zn){fn(Un,zn,function(Bn){return this._invoke(zn,Bn)})})}function jn(Un,zn){function Bn(Mn,Zn,Sr,$r){var Xn=hn(Un[Mn],Un,Zn);if(Xn.type!=="throw"){var br=Xn.arg,_r=br.value;return _r&&e(_r)=="object"&&c.call(_r,"__await")?zn.resolve(_r.__await).then(function(kr){Bn("next",kr,Sr,$r)},function(kr){Bn("throw",kr,Sr,$r)}):zn.resolve(_r).then(function(kr){br.value=kr,Sr(br)},function(kr){return Bn("throw",kr,Sr,$r)})}$r(Xn.arg)}var En;u(this,"_invoke",{value:function(Zn,Sr){function $r(){return new zn(function(Xn,br){Bn(Zn,Sr,Xn,br)})}return En=En?En.then($r,$r):$r()}})}function Cn(Un,zn,Bn){var En=ln;return function(Mn,Zn){if(En===$n)throw new Error("Generator is already running");if(En===Sn){if(Mn==="throw")throw Zn;return{value:r,done:!0}}for(Bn.method=Mn,Bn.arg=Zn;;){var Sr=Bn.delegate;if(Sr){var $r=mn(Sr,Bn);if($r){if($r===yn)continue;return $r}}if(Bn.method==="next")Bn.sent=Bn._sent=Bn.arg;else if(Bn.method==="throw"){if(En===ln)throw En=Sn,Bn.arg;Bn.dispatchException(Bn.arg)}else Bn.method==="return"&&Bn.abrupt("return",Bn.arg);En=$n;var Xn=hn(Un,zn,Bn);if(Xn.type==="normal"){if(En=Bn.done?Sn:pn,Xn.arg===yn)continue;return{value:Xn.arg,done:Bn.done}}Xn.type==="throw"&&(En=Sn,Bn.method="throw",Bn.arg=Xn.arg)}}}function mn(Un,zn){var Bn=zn.method,En=Un.iterator[Bn];if(En===r)return zn.delegate=null,Bn==="throw"&&Un.iterator.return&&(zn.method="return",zn.arg=r,mn(Un,zn),zn.method==="throw")||Bn!=="return"&&(zn.method="throw",zn.arg=new TypeError("The iterator does not provide a '"+Bn+"' method")),yn;var Mn=hn(En,Un.iterator,zn.arg);if(Mn.type==="throw")return zn.method="throw",zn.arg=Mn.arg,zn.delegate=null,yn;var Zn=Mn.arg;return Zn?Zn.done?(zn[Un.resultName]=Zn.value,zn.next=Un.nextLoc,zn.method!=="return"&&(zn.method="next",zn.arg=r),zn.delegate=null,yn):Zn:(zn.method="throw",zn.arg=new TypeError("iterator result is not an object"),zn.delegate=null,yn)}function _n(Un){var zn={tryLoc:Un[0]};1 in Un&&(zn.catchLoc=Un[1]),2 in Un&&(zn.finallyLoc=Un[2],zn.afterLoc=Un[3]),this.tryEntries.push(zn)}function vn(Un){var zn=Un.completion||{};zn.type="normal",delete zn.arg,Un.completion=zn}function On(Un){this.tryEntries=[{tryLoc:"root"}],Un.forEach(_n,this),this.reset(!0)}function Nn(Un){if(Un||Un===""){var zn=Un[tn];if(zn)return zn.call(Un);if(typeof Un.next=="function")return Un;if(!isNaN(Un.length)){var Bn=-1,En=function Mn(){for(;++Bn<Un.length;)if(c.call(Un,Bn))return Mn.value=Un[Bn],Mn.done=!1,Mn;return Mn.value=r,Mn.done=!0,Mn};return En.next=En}}throw new TypeError(e(Un)+" is not iterable")}return An.prototype=Tn,u(Kn,"constructor",{value:Tn,configurable:!0}),u(Tn,"constructor",{value:An,configurable:!0}),An.displayName=fn(Tn,sn,"GeneratorFunction"),o.isGeneratorFunction=function(Un){var zn=typeof Un=="function"&&Un.constructor;return!!zn&&(zn===An||(zn.displayName||zn.name)==="GeneratorFunction")},o.mark=function(Un){return Object.setPrototypeOf?Object.setPrototypeOf(Un,Tn):(Un.__proto__=Tn,fn(Un,sn,"GeneratorFunction")),Un.prototype=Object.create(Kn),Un},o.awrap=function(Un){return{__await:Un}},Hn(jn.prototype),fn(jn.prototype,nn,function(){return this}),o.AsyncIterator=jn,o.async=function(Un,zn,Bn,En,Mn){Mn===void 0&&(Mn=Promise);var Zn=new jn(dn(Un,zn,Bn,En),Mn);return o.isGeneratorFunction(zn)?Zn:Zn.next().then(function(Sr){return Sr.done?Sr.value:Zn.next()})},Hn(Kn),fn(Kn,sn,"Generator"),fn(Kn,tn,function(){return this}),fn(Kn,"toString",function(){return"[object Generator]"}),o.keys=function(Un){var zn=Object(Un),Bn=[];for(var En in zn)Bn.push(En);return Bn.reverse(),function Mn(){for(;Bn.length;){var Zn=Bn.pop();if(Zn in zn)return Mn.value=Zn,Mn.done=!1,Mn}return Mn.done=!0,Mn}},o.values=Nn,On.prototype={constructor:On,reset:function(zn){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(vn),!zn)for(var Bn in this)Bn.charAt(0)==="t"&&c.call(this,Bn)&&!isNaN(+Bn.slice(1))&&(this[Bn]=r)},stop:function(){this.done=!0;var zn=this.tryEntries[0].completion;if(zn.type==="throw")throw zn.arg;return this.rval},dispatchException:function(zn){if(this.done)throw zn;var Bn=this;function En(br,_r){return Sr.type="throw",Sr.arg=zn,Bn.next=br,_r&&(Bn.method="next",Bn.arg=r),!!_r}for(var Mn=this.tryEntries.length-1;Mn>=0;--Mn){var Zn=this.tryEntries[Mn],Sr=Zn.completion;if(Zn.tryLoc==="root")return En("end");if(Zn.tryLoc<=this.prev){var $r=c.call(Zn,"catchLoc"),Xn=c.call(Zn,"finallyLoc");if($r&&Xn){if(this.prev<Zn.catchLoc)return En(Zn.catchLoc,!0);if(this.prev<Zn.finallyLoc)return En(Zn.finallyLoc)}else if($r){if(this.prev<Zn.catchLoc)return En(Zn.catchLoc,!0)}else{if(!Xn)throw new Error("try statement without catch or finally");if(this.prev<Zn.finallyLoc)return En(Zn.finallyLoc)}}}},abrupt:function(zn,Bn){for(var En=this.tryEntries.length-1;En>=0;--En){var Mn=this.tryEntries[En];if(Mn.tryLoc<=this.prev&&c.call(Mn,"finallyLoc")&&this.prev<Mn.finallyLoc){var Zn=Mn;break}}Zn&&(zn==="break"||zn==="continue")&&Zn.tryLoc<=Bn&&Bn<=Zn.finallyLoc&&(Zn=null);var Sr=Zn?Zn.completion:{};return Sr.type=zn,Sr.arg=Bn,Zn?(this.method="next",this.next=Zn.finallyLoc,yn):this.complete(Sr)},complete:function(zn,Bn){if(zn.type==="throw")throw zn.arg;return zn.type==="break"||zn.type==="continue"?this.next=zn.arg:zn.type==="return"?(this.rval=this.arg=zn.arg,this.method="return",this.next="end"):zn.type==="normal"&&Bn&&(this.next=Bn),yn},finish:function(zn){for(var Bn=this.tryEntries.length-1;Bn>=0;--Bn){var En=this.tryEntries[Bn];if(En.finallyLoc===zn)return this.complete(En.completion,En.afterLoc),vn(En),yn}},catch:function(zn){for(var Bn=this.tryEntries.length-1;Bn>=0;--Bn){var En=this.tryEntries[Bn];if(En.tryLoc===zn){var Mn=En.completion;if(Mn.type==="throw"){var Zn=Mn.arg;vn(En)}return Zn}}throw new Error("illegal catch attempt")},delegateYield:function(zn,Bn,En){return this.delegate={iterator:Nn(zn),resultName:Bn,nextLoc:En},this.method==="next"&&(this.arg=r),yn}},o}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(regeneratorRuntime$1);var runtime=regeneratorRuntime$1.exports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}var asyncToGenerator={exports:{}};(function(n){function e(r,o,a,c,u,en,tn){try{var nn=r[en](tn),sn=nn.value}catch(fn){a(fn);return}nn.done?o(sn):Promise.resolve(sn).then(c,u)}function t(r){return function(){var o=this,a=arguments;return new Promise(function(c,u){var en=r.apply(o,a);function tn(sn){e(en,c,u,tn,nn,"next",sn)}function nn(sn){e(en,c,u,tn,nn,"throw",sn)}tn(void 0)})}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(asyncToGenerator);var classCallCheck={exports:{}};(function(n){function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(classCallCheck);var createClass={exports:{}},toPropertyKey={exports:{}},toPrimitive$1={exports:{}};(function(n){var e=_typeof$5.exports.default;function t(r,o){if(e(r)!=="object"||r===null)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var c=a.call(r,o||"default");if(e(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(toPrimitive$1);(function(n){var e=_typeof$5.exports.default,t=toPrimitive$1.exports;function r(o){var a=t(o,"string");return e(a)==="symbol"?a:String(a)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(toPropertyKey);(function(n){var e=toPropertyKey.exports;function t(o,a){for(var c=0;c<a.length;c++){var u=a[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,e(u.key),u)}}function r(o,a,c){return a&&t(o.prototype,a),c&&t(o,c),Object.defineProperty(o,"prototype",{writable:!1}),o}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(createClass);var inherits$2={exports:{}},setPrototypeOf={exports:{}};(function(n){function e(t,r){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(setPrototypeOf);(function(n){var e=setPrototypeOf.exports;function t(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),o&&e(r,o)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(inherits$2);var possibleConstructorReturn={exports:{}},assertThisInitialized={exports:{}};(function(n){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(assertThisInitialized);(function(n){var e=_typeof$5.exports.default,t=assertThisInitialized.exports;function r(o,a){if(a&&(e(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(o)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(possibleConstructorReturn);var getPrototypeOf$1={exports:{}};(function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(getPrototypeOf$1);(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(regenerator),r=e(asyncToGenerator.exports),o=e(_typeof$5.exports),a=e(classCallCheck.exports),c=e(createClass.exports),u=e(inherits$2.exports),en=e(possibleConstructorReturn.exports),tn=e(getPrototypeOf$1.exports),nn=eventemitter3.exports;function sn(ln){var pn=fn();return function(){var Sn=(0,tn.default)(ln),yn;if(pn){var In=(0,tn.default)(this).constructor;yn=Reflect.construct(Sn,arguments,In)}else yn=Sn.apply(this,arguments);return(0,en.default)(this,yn)}}function fn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var dn=function(ln,pn){var $n={};for(var Sn in ln)Object.prototype.hasOwnProperty.call(ln,Sn)&&pn.indexOf(Sn)<0&&($n[Sn]=ln[Sn]);if(ln!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yn=0,Sn=Object.getOwnPropertySymbols(ln);yn<Sn.length;yn++)pn.indexOf(Sn[yn])<0&&Object.prototype.propertyIsEnumerable.call(ln,Sn[yn])&&($n[Sn[yn]]=ln[Sn[yn]]);return $n},hn=function(ln){(0,u.default)($n,ln);var pn=sn($n);function $n(Sn){var yn,In=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",An=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Tn=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,$n);var kn=An.autoconnect,Pn=kn===void 0?!0:kn,Dn=An.reconnect,Kn=Dn===void 0?!0:Dn,Hn=An.reconnect_interval,jn=Hn===void 0?1e3:Hn,Cn=An.max_reconnects,mn=Cn===void 0?5:Cn,_n=dn(An,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return yn=pn.call(this),yn.webSocketFactory=Sn,yn.queue={},yn.rpc_id=0,yn.address=In,yn.autoconnect=Pn,yn.ready=!1,yn.reconnect=Kn,yn.reconnect_timer_id=void 0,yn.reconnect_interval=jn,yn.max_reconnects=mn,yn.rest_options=_n,yn.current_reconnects=0,yn.generate_request_id=Tn||function(){return++yn.rpc_id},yn.autoconnect&&yn._connect(yn.address,Object.assign({autoconnect:yn.autoconnect,reconnect:yn.reconnect,reconnect_interval:yn.reconnect_interval,max_reconnects:yn.max_reconnects},yn.rest_options)),yn}return(0,c.default)($n,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(yn,In,An,Tn){var kn=this;return!Tn&&(0,o.default)(An)==="object"&&(Tn=An,An=null),new Promise(function(Pn,Dn){if(!kn.ready)return Dn(new Error("socket not ready"));var Kn=kn.generate_request_id(yn,In),Hn={jsonrpc:"2.0",method:yn,params:In||null,id:Kn};kn.socket.send(JSON.stringify(Hn),Tn,function(jn){if(jn)return Dn(jn);kn.queue[Kn]={promise:[Pn,Dn]},An&&(kn.queue[Kn].timeout=setTimeout(function(){delete kn.queue[Kn],Dn(new Error("reply timeout"))},An))})})}},{key:"login",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.next=2,this.call("rpc.login",An);case 2:if(Tn=Pn.sent,Tn){Pn.next=5;break}throw new Error("authentication failed");case 5:return Pn.abrupt("return",Tn);case 6:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"listMethods",value:function(){var Sn=(0,r.default)(t.default.mark(function In(){return t.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:return Tn.next=2,this.call("__listMethods");case 2:return Tn.abrupt("return",Tn.sent);case 3:case"end":return Tn.stop()}},In,this)}));function yn(){return Sn.apply(this,arguments)}return yn}()},{key:"notify",value:function(yn,In){var An=this;return new Promise(function(Tn,kn){if(!An.ready)return kn(new Error("socket not ready"));var Pn={jsonrpc:"2.0",method:yn,params:In||null};An.socket.send(JSON.stringify(Pn),function(Dn){if(Dn)return kn(Dn);Tn()})})}},{key:"subscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.on",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed subscribing to an event '"+An+"' with: "+Tn[An]);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"unsubscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.off",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Tn);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"close",value:function(yn,In){this.socket.close(yn||1e3,In)}},{key:"_connect",value:function(yn,In){var An=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(yn,In),this.socket.addEventListener("open",function(){An.ready=!0,An.emit("open"),An.current_reconnects=0}),this.socket.addEventListener("message",function(Tn){var kn=Tn.data;kn instanceof ArrayBuffer&&(kn=dist$3.Buffer.from(kn).toString());try{kn=JSON.parse(kn)}catch{return}if(kn.notification&&An.listeners(kn.notification).length){if(!Object.keys(kn.params).length)return An.emit(kn.notification);var Pn=[kn.notification];if(kn.params.constructor===Object)Pn.push(kn.params);else for(var Dn=0;Dn<kn.params.length;Dn++)Pn.push(kn.params[Dn]);return Promise.resolve().then(function(){An.emit.apply(An,Pn)})}if(!An.queue[kn.id])return kn.method&&kn.params?Promise.resolve().then(function(){An.emit(kn.method,kn.params)}):void 0;"error"in kn=="result"in kn&&An.queue[kn.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),An.queue[kn.id].timeout&&clearTimeout(An.queue[kn.id].timeout),kn.error?An.queue[kn.id].promise[1](kn.error):An.queue[kn.id].promise[0](kn.result),delete An.queue[kn.id]}),this.socket.addEventListener("error",function(Tn){return An.emit("error",Tn)}),this.socket.addEventListener("close",function(Tn){var kn=Tn.code,Pn=Tn.reason;An.ready&&setTimeout(function(){return An.emit("close",kn,Pn)},0),An.ready=!1,An.socket=void 0,kn!==1e3&&(An.current_reconnects++,An.reconnect&&(An.max_reconnects>An.current_reconnects||An.max_reconnects===0)&&(An.reconnect_timer_id=setTimeout(function(){return An._connect(yn,In)},An.reconnect_interval)))})}}]),$n}(nn.EventEmitter);n.default=hn})(client$4);var RpcWebSocketCommonClient$3=getDefaultExportFromCjs$5(client$4),websocket_browser$4={};(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=sn;var t=e(classCallCheck.exports),r=e(createClass.exports),o=e(inherits$2.exports),a=e(possibleConstructorReturn.exports),c=e(getPrototypeOf$1.exports),u=eventemitter3.exports;function en(fn){var dn=tn();return function(){var ln=(0,c.default)(fn),pn;if(dn){var $n=(0,c.default)(this).constructor;pn=Reflect.construct(ln,arguments,$n)}else pn=ln.apply(this,arguments);return(0,a.default)(this,pn)}}function tn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var nn=function(fn){(0,o.default)(hn,fn);var dn=en(hn);function hn(ln,pn,$n){var Sn;return(0,t.default)(this,hn),Sn=dn.call(this),Sn.socket=new window.WebSocket(ln,$n),Sn.socket.onopen=function(){return Sn.emit("open")},Sn.socket.onmessage=function(yn){return Sn.emit("message",yn.data)},Sn.socket.onerror=function(yn){return Sn.emit("error",yn)},Sn.socket.onclose=function(yn){Sn.emit("close",yn.code,yn.reason)},Sn}return(0,r.default)(hn,[{key:"send",value:function(pn,$n,Sn){var yn=Sn||$n;try{this.socket.send(pn),yn()}catch(In){yn(In)}}},{key:"close",value:function(pn,$n){this.socket.close(pn,$n)}},{key:"addEventListener",value:function(pn,$n,Sn){this.socket.addEventListener(pn,$n,Sn)}}]),hn}(u.EventEmitter);function sn(fn,dn){return new nn(fn,dn)}})(websocket_browser$4);var createRpc$3=getDefaultExportFromCjs$5(websocket_browser$4);const[SHA3_PI,SHA3_ROTL,_SHA3_IOTA]=[[],[],[]],_0n$6=BigInt(0),_1n$9=BigInt(1),_2n$6=BigInt(2),_7n=BigInt(7),_256n=BigInt(256),_0x71n=BigInt(113);for(let n=0,e=_1n$9,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],SHA3_PI.push(2*(5*r+t)),SHA3_ROTL.push((n+1)*(n+2)/2%64);let o=_0n$6;for(let a=0;a<7;a++)e=(e<<_1n$9^(e>>_7n)*_0x71n)%_256n,e&_2n$6&&(o^=_1n$9<<(_1n$9<<BigInt(a))-_1n$9);_SHA3_IOTA.push(o)}const[SHA3_IOTA_H,SHA3_IOTA_L]=split$1(_SHA3_IOTA,!0),rotlH=(n,e,t)=>t>32?rotlBH$1(n,e,t):rotlSH$1(n,e,t),rotlL=(n,e,t)=>t>32?rotlBL$1(n,e,t):rotlSL$1(n,e,t);function keccakP(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let c=0;c<10;c++)t[c]=n[c]^n[c+10]^n[c+20]^n[c+30]^n[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,en=(c+2)%10,tn=t[en],nn=t[en+1],sn=rotlH(tn,nn,1)^t[u],fn=rotlL(tn,nn,1)^t[u+1];for(let dn=0;dn<50;dn+=10)n[c+dn]^=sn,n[c+dn+1]^=fn}let o=n[2],a=n[3];for(let c=0;c<24;c++){const u=SHA3_ROTL[c],en=rotlH(o,a,u),tn=rotlL(o,a,u),nn=SHA3_PI[c];o=n[nn],a=n[nn+1],n[nn]=en,n[nn+1]=tn}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)t[u]=n[c+u];for(let u=0;u<10;u++)n[c+u]^=~t[(u+2)%10]&t[(u+4)%10]}n[0]^=SHA3_IOTA_H[r],n[1]^=SHA3_IOTA_L[r]}t.fill(0)}class Keccak extends Hash$1{constructor(e,t,r,o=!1,a=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=o,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,number$8(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=u32$2(this.state)}keccak(){keccakP(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){exists$1(this);const{blockLen:t,state:r}=this;e=toBytes$1(e);const o=e.length;for(let a=0;a<o;){const c=Math.min(t-this.pos,o-a);for(let u=0;u<c;u++)r[this.pos++]^=e[a++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:o}=this;e[r]^=t,(t&128)!==0&&r===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){exists$1(this,!1),bytes$2(e),this.finish();const t=this.state,{blockLen:r}=this;for(let o=0,a=e.length;o<a;){this.posOut>=r&&this.keccak();const c=Math.min(r-this.posOut,a-o);e.set(t.subarray(this.posOut,this.posOut+c),o),this.posOut+=c,o+=c}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return number$8(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(output$1(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:o,rounds:a,enableXOF:c}=this;return e||(e=new Keccak(t,r,o,c,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=r,e.outputLen=o,e.enableXOF=c,e.destroyed=this.destroyed,e}}const gen=(n,e,t)=>wrapConstructor$1(()=>new Keccak(e,n,t)),keccak_256=gen(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validatePointOpts$1(n){const e=validateBasic$1(n);validateObject$1(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:o}=e;if(t){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b2n$1,hexToBytes:h2b$1}=ut$2,DER$1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=DER$1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:b2n$1(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=DER$1,t=typeof n=="string"?h2b$1(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:o,l:a}=DER$1._parseInt(t.subarray(2)),{d:c,l:u}=DER$1._parseInt(a);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s:c}},hexFromSig(n){const e=tn=>Number.parseInt(tn[0],16)&8?"00"+tn:tn,t=tn=>{const nn=tn.toString(16);return nn.length&1?`0${nn}`:nn},r=e(t(n.s)),o=e(t(n.r)),a=r.length/2,c=o.length/2,u=t(a),en=t(c);return`30${t(c+a+4)}02${en}${o}02${u}${r}`}},_0n$5=BigInt(0),_1n$8=BigInt(1);BigInt(2);const _3n$2=BigInt(3);BigInt(4);function weierstrassPoints$1(n){const e=validatePointOpts$1(n),{Fp:t}=e,r=e.toBytes||((hn,ln,pn)=>{const $n=ln.toAffine();return concatBytes$2(Uint8Array.from([4]),t.toBytes($n.x),t.toBytes($n.y))}),o=e.fromBytes||(hn=>{const ln=hn.subarray(1),pn=t.fromBytes(ln.subarray(0,t.BYTES)),$n=t.fromBytes(ln.subarray(t.BYTES,2*t.BYTES));return{x:pn,y:$n}});function a(hn){const{a:ln,b:pn}=e,$n=t.sqr(hn),Sn=t.mul($n,hn);return t.add(t.add(Sn,t.mul(hn,ln)),pn)}if(!t.eql(t.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function c(hn){return typeof hn=="bigint"&&_0n$5<hn&&hn<e.n}function u(hn){if(!c(hn))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function en(hn){const{allowedPrivateKeyLengths:ln,nByteLength:pn,wrapPrivateKey:$n,n:Sn}=e;if(ln&&typeof hn!="bigint"){if(hn instanceof Uint8Array&&(hn=bytesToHex$1(hn)),typeof hn!="string"||!ln.includes(hn.length))throw new Error("Invalid key");hn=hn.padStart(pn*2,"0")}let yn;try{yn=typeof hn=="bigint"?hn:bytesToNumberBE$1(ensureBytes$1("private key",hn,pn))}catch{throw new Error(`private key must be ${pn} bytes, hex or bigint, not ${typeof hn}`)}return $n&&(yn=mod$1(yn,Sn)),u(yn),yn}const tn=new Map;function nn(hn){if(!(hn instanceof sn))throw new Error("ProjectivePoint expected")}class sn{constructor(ln,pn,$n){if(this.px=ln,this.py=pn,this.pz=$n,ln==null||!t.isValid(ln))throw new Error("x required");if(pn==null||!t.isValid(pn))throw new Error("y required");if($n==null||!t.isValid($n))throw new Error("z required")}static fromAffine(ln){const{x:pn,y:$n}=ln||{};if(!ln||!t.isValid(pn)||!t.isValid($n))throw new Error("invalid affine point");if(ln instanceof sn)throw new Error("projective point not allowed");const Sn=yn=>t.eql(yn,t.ZERO);return Sn(pn)&&Sn($n)?sn.ZERO:new sn(pn,$n,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(ln){const pn=t.invertBatch(ln.map($n=>$n.pz));return ln.map(($n,Sn)=>$n.toAffine(pn[Sn])).map(sn.fromAffine)}static fromHex(ln){const pn=sn.fromAffine(o(ensureBytes$1("pointHex",ln)));return pn.assertValidity(),pn}static fromPrivateKey(ln){return sn.BASE.multiply(en(ln))}_setWindowSize(ln){this._WINDOW_SIZE=ln,tn.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:ln,y:pn}=this.toAffine();if(!t.isValid(ln)||!t.isValid(pn))throw new Error("bad point: x or y not FE");const $n=t.sqr(pn),Sn=a(ln);if(!t.eql($n,Sn))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:ln}=this.toAffine();if(t.isOdd)return!t.isOdd(ln);throw new Error("Field doesn't support isOdd")}equals(ln){nn(ln);const{px:pn,py:$n,pz:Sn}=this,{px:yn,py:In,pz:An}=ln,Tn=t.eql(t.mul(pn,An),t.mul(yn,Sn)),kn=t.eql(t.mul($n,An),t.mul(In,Sn));return Tn&&kn}negate(){return new sn(this.px,t.neg(this.py),this.pz)}double(){const{a:ln,b:pn}=e,$n=t.mul(pn,_3n$2),{px:Sn,py:yn,pz:In}=this;let An=t.ZERO,Tn=t.ZERO,kn=t.ZERO,Pn=t.mul(Sn,Sn),Dn=t.mul(yn,yn),Kn=t.mul(In,In),Hn=t.mul(Sn,yn);return Hn=t.add(Hn,Hn),kn=t.mul(Sn,In),kn=t.add(kn,kn),An=t.mul(ln,kn),Tn=t.mul($n,Kn),Tn=t.add(An,Tn),An=t.sub(Dn,Tn),Tn=t.add(Dn,Tn),Tn=t.mul(An,Tn),An=t.mul(Hn,An),kn=t.mul($n,kn),Kn=t.mul(ln,Kn),Hn=t.sub(Pn,Kn),Hn=t.mul(ln,Hn),Hn=t.add(Hn,kn),kn=t.add(Pn,Pn),Pn=t.add(kn,Pn),Pn=t.add(Pn,Kn),Pn=t.mul(Pn,Hn),Tn=t.add(Tn,Pn),Kn=t.mul(yn,In),Kn=t.add(Kn,Kn),Pn=t.mul(Kn,Hn),An=t.sub(An,Pn),kn=t.mul(Kn,Dn),kn=t.add(kn,kn),kn=t.add(kn,kn),new sn(An,Tn,kn)}add(ln){nn(ln);const{px:pn,py:$n,pz:Sn}=this,{px:yn,py:In,pz:An}=ln;let Tn=t.ZERO,kn=t.ZERO,Pn=t.ZERO;const Dn=e.a,Kn=t.mul(e.b,_3n$2);let Hn=t.mul(pn,yn),jn=t.mul($n,In),Cn=t.mul(Sn,An),mn=t.add(pn,$n),_n=t.add(yn,In);mn=t.mul(mn,_n),_n=t.add(Hn,jn),mn=t.sub(mn,_n),_n=t.add(pn,Sn);let vn=t.add(yn,An);return _n=t.mul(_n,vn),vn=t.add(Hn,Cn),_n=t.sub(_n,vn),vn=t.add($n,Sn),Tn=t.add(In,An),vn=t.mul(vn,Tn),Tn=t.add(jn,Cn),vn=t.sub(vn,Tn),Pn=t.mul(Dn,_n),Tn=t.mul(Kn,Cn),Pn=t.add(Tn,Pn),Tn=t.sub(jn,Pn),Pn=t.add(jn,Pn),kn=t.mul(Tn,Pn),jn=t.add(Hn,Hn),jn=t.add(jn,Hn),Cn=t.mul(Dn,Cn),_n=t.mul(Kn,_n),jn=t.add(jn,Cn),Cn=t.sub(Hn,Cn),Cn=t.mul(Dn,Cn),_n=t.add(_n,Cn),Hn=t.mul(jn,_n),kn=t.add(kn,Hn),Hn=t.mul(vn,_n),Tn=t.mul(mn,Tn),Tn=t.sub(Tn,Hn),Hn=t.mul(mn,jn),Pn=t.mul(vn,Pn),Pn=t.add(Pn,Hn),new sn(Tn,kn,Pn)}subtract(ln){return this.add(ln.negate())}is0(){return this.equals(sn.ZERO)}wNAF(ln){return dn.wNAFCached(this,tn,ln,pn=>{const $n=t.invertBatch(pn.map(Sn=>Sn.pz));return pn.map((Sn,yn)=>Sn.toAffine($n[yn])).map(sn.fromAffine)})}multiplyUnsafe(ln){const pn=sn.ZERO;if(ln===_0n$5)return pn;if(u(ln),ln===_1n$8)return this;const{endo:$n}=e;if(!$n)return dn.unsafeLadder(this,ln);let{k1neg:Sn,k1:yn,k2neg:In,k2:An}=$n.splitScalar(ln),Tn=pn,kn=pn,Pn=this;for(;yn>_0n$5||An>_0n$5;)yn&_1n$8&&(Tn=Tn.add(Pn)),An&_1n$8&&(kn=kn.add(Pn)),Pn=Pn.double(),yn>>=_1n$8,An>>=_1n$8;return Sn&&(Tn=Tn.negate()),In&&(kn=kn.negate()),kn=new sn(t.mul(kn.px,$n.beta),kn.py,kn.pz),Tn.add(kn)}multiply(ln){u(ln);let pn=ln,$n,Sn;const{endo:yn}=e;if(yn){const{k1neg:In,k1:An,k2neg:Tn,k2:kn}=yn.splitScalar(pn);let{p:Pn,f:Dn}=this.wNAF(An),{p:Kn,f:Hn}=this.wNAF(kn);Pn=dn.constTimeNegate(In,Pn),Kn=dn.constTimeNegate(Tn,Kn),Kn=new sn(t.mul(Kn.px,yn.beta),Kn.py,Kn.pz),$n=Pn.add(Kn),Sn=Dn.add(Hn)}else{const{p:In,f:An}=this.wNAF(pn);$n=In,Sn=An}return sn.normalizeZ([$n,Sn])[0]}multiplyAndAddUnsafe(ln,pn,$n){const Sn=sn.BASE,yn=(An,Tn)=>Tn===_0n$5||Tn===_1n$8||!An.equals(Sn)?An.multiplyUnsafe(Tn):An.multiply(Tn),In=yn(this,pn).add(yn(ln,$n));return In.is0()?void 0:In}toAffine(ln){const{px:pn,py:$n,pz:Sn}=this,yn=this.is0();ln==null&&(ln=yn?t.ONE:t.inv(Sn));const In=t.mul(pn,ln),An=t.mul($n,ln),Tn=t.mul(Sn,ln);if(yn)return{x:t.ZERO,y:t.ZERO};if(!t.eql(Tn,t.ONE))throw new Error("invZ was invalid");return{x:In,y:An}}isTorsionFree(){const{h:ln,isTorsionFree:pn}=e;if(ln===_1n$8)return!0;if(pn)return pn(sn,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:ln,clearCofactor:pn}=e;return ln===_1n$8?this:pn?pn(sn,this):this.multiplyUnsafe(e.h)}toRawBytes(ln=!0){return this.assertValidity(),r(sn,this,ln)}toHex(ln=!0){return bytesToHex$1(this.toRawBytes(ln))}}sn.BASE=new sn(e.Gx,e.Gy,t.ONE),sn.ZERO=new sn(t.ZERO,t.ONE,t.ZERO);const fn=e.nBitLength,dn=wNAF$1(sn,e.endo?Math.ceil(fn/2):fn);return{CURVE:e,ProjectivePoint:sn,normPrivateKeyToScalar:en,weierstrassEquation:a,isWithinCurveOrder:c}}function validateOpts$2(n){const e=validateBasic$1(n);return validateObject$1(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function weierstrass$1(n){const e=validateOpts$2(n),{Fp:t,n:r}=e,o=t.BYTES+1,a=2*t.BYTES+1;function c(_n){return _0n$5<_n&&_n<t.ORDER}function u(_n){return mod$1(_n,r)}function en(_n){return invert$1(_n,r)}const{ProjectivePoint:tn,normPrivateKeyToScalar:nn,weierstrassEquation:sn,isWithinCurveOrder:fn}=weierstrassPoints$1({...e,toBytes(_n,vn,On){const Nn=vn.toAffine(),Un=t.toBytes(Nn.x),zn=concatBytes$2;return On?zn(Uint8Array.from([vn.hasEvenY()?2:3]),Un):zn(Uint8Array.from([4]),Un,t.toBytes(Nn.y))},fromBytes(_n){const vn=_n.length,On=_n[0],Nn=_n.subarray(1);if(vn===o&&(On===2||On===3)){const Un=bytesToNumberBE$1(Nn);if(!c(Un))throw new Error("Point is not on curve");const zn=sn(Un);let Bn=t.sqrt(zn);const En=(Bn&_1n$8)===_1n$8;return(On&1)===1!==En&&(Bn=t.neg(Bn)),{x:Un,y:Bn}}else if(vn===a&&On===4){const Un=t.fromBytes(Nn.subarray(0,t.BYTES)),zn=t.fromBytes(Nn.subarray(t.BYTES,2*t.BYTES));return{x:Un,y:zn}}else throw new Error(`Point of length ${vn} was invalid. Expected ${o} compressed bytes or ${a} uncompressed bytes`)}}),dn=_n=>bytesToHex$1(numberToBytesBE$1(_n,e.nByteLength));function hn(_n){const vn=r>>_1n$8;return _n>vn}function ln(_n){return hn(_n)?u(-_n):_n}const pn=(_n,vn,On)=>bytesToNumberBE$1(_n.slice(vn,On));class $n{constructor(vn,On,Nn){this.r=vn,this.s=On,this.recovery=Nn,this.assertValidity()}static fromCompact(vn){const On=e.nByteLength;return vn=ensureBytes$1("compactSignature",vn,On*2),new $n(pn(vn,0,On),pn(vn,On,2*On))}static fromDER(vn){const{r:On,s:Nn}=DER$1.toSig(ensureBytes$1("DER",vn));return new $n(On,Nn)}assertValidity(){if(!fn(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!fn(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(vn){return new $n(this.r,this.s,vn)}recoverPublicKey(vn){const{r:On,s:Nn,recovery:Un}=this,zn=kn(ensureBytes$1("msgHash",vn));if(Un==null||![0,1,2,3].includes(Un))throw new Error("recovery id invalid");const Bn=Un===2||Un===3?On+e.n:On;if(Bn>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const En=(Un&1)===0?"02":"03",Mn=tn.fromHex(En+dn(Bn)),Zn=en(Bn),Sr=u(-zn*Zn),$r=u(Nn*Zn),Xn=tn.BASE.multiplyAndAddUnsafe(Mn,Sr,$r);if(!Xn)throw new Error("point at infinify");return Xn.assertValidity(),Xn}hasHighS(){return hn(this.s)}normalizeS(){return this.hasHighS()?new $n(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes$1(this.toDERHex())}toDERHex(){return DER$1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes$1(this.toCompactHex())}toCompactHex(){return dn(this.r)+dn(this.s)}}const Sn={isValidPrivateKey(_n){try{return nn(_n),!0}catch{return!1}},normPrivateKeyToScalar:nn,randomPrivateKey:()=>{const _n=getMinHashLength$1(e.n);return mapHashToField$1(e.randomBytes(_n),e.n)},precompute(_n=8,vn=tn.BASE){return vn._setWindowSize(_n),vn.multiply(BigInt(3)),vn}};function yn(_n,vn=!0){return tn.fromPrivateKey(_n).toRawBytes(vn)}function In(_n){const vn=_n instanceof Uint8Array,On=typeof _n=="string",Nn=(vn||On)&&_n.length;return vn?Nn===o||Nn===a:On?Nn===2*o||Nn===2*a:_n instanceof tn}function An(_n,vn,On=!0){if(In(_n))throw new Error("first arg must be private key");if(!In(vn))throw new Error("second arg must be public key");return tn.fromHex(vn).multiply(nn(_n)).toRawBytes(On)}const Tn=e.bits2int||function(_n){const vn=bytesToNumberBE$1(_n),On=_n.length*8-e.nBitLength;return On>0?vn>>BigInt(On):vn},kn=e.bits2int_modN||function(_n){return u(Tn(_n))},Pn=bitMask$1(e.nBitLength);function Dn(_n){if(typeof _n!="bigint")throw new Error("bigint expected");if(!(_0n$5<=_n&&_n<Pn))throw new Error(`bigint expected < 2^${e.nBitLength}`);return numberToBytesBE$1(_n,e.nByteLength)}function Kn(_n,vn,On=Hn){if(["recovered","canonical"].some(_r=>_r in On))throw new Error("sign() legacy options not supported");const{hash:Nn,randomBytes:Un}=e;let{lowS:zn,prehash:Bn,extraEntropy:En}=On;zn==null&&(zn=!0),_n=ensureBytes$1("msgHash",_n),Bn&&(_n=ensureBytes$1("prehashed msgHash",Nn(_n)));const Mn=kn(_n),Zn=nn(vn),Sr=[Dn(Zn),Dn(Mn)];if(En!=null){const _r=En===!0?Un(t.BYTES):En;Sr.push(ensureBytes$1("extraEntropy",_r))}const $r=concatBytes$2(...Sr),Xn=Mn;function br(_r){const kr=Tn(_r);if(!fn(kr))return;const Cr=en(kr),qn=tn.BASE.multiply(kr).toAffine(),Jn=u(qn.x);if(Jn===_0n$5)return;const Qn=u(Cr*u(Xn+Jn*Zn));if(Qn===_0n$5)return;let Tr=(qn.x===Jn?0:2)|Number(qn.y&_1n$8),Or=Qn;return zn&&hn(Qn)&&(Or=ln(Qn),Tr^=1),new $n(Jn,Or,Tr)}return{seed:$r,k2sig:br}}const Hn={lowS:e.lowS,prehash:!1},jn={lowS:e.lowS,prehash:!1};function Cn(_n,vn,On=Hn){const{seed:Nn,k2sig:Un}=Kn(_n,vn,On),zn=e;return createHmacDrbg$1(zn.hash.outputLen,zn.nByteLength,zn.hmac)(Nn,Un)}tn.BASE._setWindowSize(8);function mn(_n,vn,On,Nn=jn){var qn;const Un=_n;if(vn=ensureBytes$1("msgHash",vn),On=ensureBytes$1("publicKey",On),"strict"in Nn)throw new Error("options.strict was renamed to lowS");const{lowS:zn,prehash:Bn}=Nn;let En,Mn;try{if(typeof Un=="string"||Un instanceof Uint8Array)try{En=$n.fromDER(Un)}catch(Jn){if(!(Jn instanceof DER$1.Err))throw Jn;En=$n.fromCompact(Un)}else if(typeof Un=="object"&&typeof Un.r=="bigint"&&typeof Un.s=="bigint"){const{r:Jn,s:Qn}=Un;En=new $n(Jn,Qn)}else throw new Error("PARSE");Mn=tn.fromHex(On)}catch(Jn){if(Jn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(zn&&En.hasHighS())return!1;Bn&&(vn=e.hash(vn));const{r:Zn,s:Sr}=En,$r=kn(vn),Xn=en(Sr),br=u($r*Xn),_r=u(Zn*Xn),kr=(qn=tn.BASE.multiplyAndAddUnsafe(Mn,br,_r))==null?void 0:qn.toAffine();return kr?u(kr.x)===Zn:!1}return{CURVE:e,getPublicKey:yn,getSharedSecret:An,sign:Cn,verify:mn,ProjectivePoint:tn,Signature:$n,utils:Sn}}class HMAC$1 extends Hash$1{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,hash$1(e);const r=toBytes$1(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(r.length>o?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return exists$1(this),this.iHash.update(e),this}digestInto(e){exists$1(this),bytes$2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:o,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$1=(n,e,t)=>new HMAC$1(n,e).update(t).digest();hmac$1.create=(n,e)=>new HMAC$1(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash$1(n){return{hash:n,hmac:(e,...t)=>hmac$1(n,e,concatBytes$3(...t)),randomBytes:randomBytes$1}}function createCurve$1(n,e){const t=r=>weierstrass$1({...n,...getHash$1(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P$1=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N$1=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n$7=BigInt(1),_2n$5=BigInt(2),divNearest$1=(n,e)=>(n+e/_2n$5)/e;function sqrtMod$1(n){const e=secp256k1P$1,t=BigInt(3),r=BigInt(6),o=BigInt(11),a=BigInt(22),c=BigInt(23),u=BigInt(44),en=BigInt(88),tn=n*n*n%e,nn=tn*tn*n%e,sn=pow2$1(nn,t,e)*nn%e,fn=pow2$1(sn,t,e)*nn%e,dn=pow2$1(fn,_2n$5,e)*tn%e,hn=pow2$1(dn,o,e)*dn%e,ln=pow2$1(hn,a,e)*hn%e,pn=pow2$1(ln,u,e)*ln%e,$n=pow2$1(pn,en,e)*pn%e,Sn=pow2$1($n,u,e)*ln%e,yn=pow2$1(Sn,t,e)*nn%e,In=pow2$1(yn,c,e)*hn%e,An=pow2$1(In,r,e)*tn%e,Tn=pow2$1(An,_2n$5,e);if(!Fp$2.eql(Fp$2.sqr(Tn),n))throw new Error("Cannot find square root");return Tn}const Fp$2=Field$1(secp256k1P$1,void 0,void 0,{sqrt:sqrtMod$1}),secp256k1$1=createCurve$1({a:BigInt(0),b:BigInt(7),Fp:Fp$2,n:secp256k1N$1,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=secp256k1N$1,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_1n$7*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=t,c=BigInt("0x100000000000000000000000000000000"),u=divNearest$1(a*n,e),en=divNearest$1(-r*n,e);let tn=mod$1(n-u*t-en*o,e),nn=mod$1(-u*r-en*a,e);const sn=tn>c,fn=nn>c;if(sn&&(tn=e-tn),fn&&(nn=e-nn),tn>c||nn>c)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:sn,k1:tn,k2neg:fn,k2:nn}}}},sha256$2);BigInt(0);secp256k1$1.ProjectivePoint;const generatePrivateKey$3=ed25519$1.utils.randomPrivateKey,generateKeypair$4=()=>{const n=ed25519$1.utils.randomPrivateKey(),e=getPublicKey$4(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},getPublicKey$4=ed25519$1.getPublicKey;function isOnCurve$6(n){try{return ed25519$1.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sign$5=(n,e)=>ed25519$1.sign(n,e.slice(0,32)),verify$5=ed25519$1.verify,toBuffer$6=n=>bufferPolyfill.Buffer.isBuffer(n)?n:n instanceof Uint8Array?bufferPolyfill.Buffer.from(n.buffer,n.byteOffset,n.byteLength):bufferPolyfill.Buffer.from(n);class Struct$c{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$6,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$6,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$6,this,e)}}class Enum$3 extends Struct$c{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const SOLANA_SCHEMA$6=new Map;var _class$5;let _Symbol$toStringTag$7;const MAX_SEED_LENGTH$6=32,PUBLIC_KEY_LENGTH$6=32;function isPublicKeyData$6(n){return n._bn!==void 0}let uniquePublicKeyCounter$6=1;_Symbol$toStringTag$7=Symbol.toStringTag;class PublicKey$6 extends Struct$c{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$6(e))this._bn=e._bn;else{if(typeof e=="string"){const t=bs58$3.decode(e);if(t.length!=PUBLIC_KEY_LENGTH$6)throw new Error("Invalid public key input");this._bn=new BN(t)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$6)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$6(uniquePublicKeyCounter$6);return uniquePublicKeyCounter$6+=1,new PublicKey$6(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$6)return e;const t=bufferPolyfill.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[_Symbol$toStringTag$7](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(t),r.toBuffer()]),a=sha256$2(o);return new PublicKey$6(a)}static createProgramAddressSync(e,t){let r=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$6)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,toBuffer$6(a)])}),r=bufferPolyfill.Buffer.concat([r,t.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$2(r);if(isOnCurve$6(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$6(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([r]));o=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new PublicKey$6(e);return isOnCurve$6(t.toBytes())}}_class$5=PublicKey$6;PublicKey$6.default=new _class$5("11111111111111111111111111111111");SOLANA_SCHEMA$6.set(PublicKey$6,{kind:"struct",fields:[["_bn","u256"]]});class Account$3{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=toBuffer$6(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=toBuffer$6(generatePrivateKey$3()),this._publicKey=toBuffer$6(getPublicKey$4(this._secretKey))}get publicKey(){return new PublicKey$6(this._publicKey)}get secretKey(){return bufferPolyfill.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID$3=new PublicKey$6("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE$5=1280-40-8,VERSION_PREFIX_MASK$5=127,SIGNATURE_LENGTH_IN_BYTES$6=64;class TransactionExpiredBlockheightExceededError$3 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError$3.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError$3 extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError$3.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError$3 extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError$3.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys$5{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((a,c)=>{r.set(a.toBase58(),c)});const o=a=>{const c=r.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$b=(n="publicKey")=>blob$2(32,n),signature$3=(n="signature")=>blob$2(64,n),rustString$6=(n="string")=>{const e=struct$3([u32$3("length"),u32$3("lengthPadding"),blob$2(offset$1(u32$3(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(a,c)=>t(a,c).chars.toString(),o.encode=(a,c,u)=>{const en={chars:bufferPolyfill.Buffer.from(a,"utf8")};return r(en,c,u)},o.alloc=a=>u32$3().span+u32$3().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$6=(n="authorized")=>struct$3([publicKey$b("staker"),publicKey$b("withdrawer")],n),lockup$6=(n="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$b("custodian")],n),voteInit$6=(n="voteInit")=>struct$3([publicKey$b("nodePubkey"),publicKey$b("authorizedVoter"),publicKey$b("authorizedWithdrawer"),u8$2("commission")],n),voteAuthorizeWithSeedArgs$6=(n="voteAuthorizeWithSeedArgs")=>struct$3([u32$3("voteAuthorizationType"),publicKey$b("currentAuthorityDerivedKeyOwnerPubkey"),rustString$6("currentAuthorityDerivedKeySeed"),publicKey$b("newAuthorized")],n);function getAlloc$5(n,e){const t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*t(o.elementLayout)}else if("fields"in o)return getAlloc$5({layout:o},e[o.property]);return 0};let r=0;return n.layout.fields.forEach(o=>{r+=t(o)}),r}function decodeLength$5(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function encodeLength$5(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function assert$g(n,e){if(!n)throw new Error(e||"Assertion failed")}class CompiledKeys$6{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,o=c=>{const u=c.toBase58();let en=r.get(u);return en===void 0&&(en={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,en)),en},a=o(t);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const en=o(u.pubkey);en.isSigner||=u.isSigner,en.isWritable||=u.isWritable}}return new CompiledKeys$6(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$g(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,en])=>en.isSigner&&en.isWritable),r=e.filter(([,en])=>en.isSigner&&!en.isWritable),o=e.filter(([,en])=>!en.isSigner&&en.isWritable),a=e.filter(([,en])=>!en.isSigner&&!en.isWritable),c={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};{assert$g(t.length>0,"Expected at least one writable signer key");const[en]=t[0];assert$g(en===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([en])=>new PublicKey$6(en)),...r.map(([en])=>new PublicKey$6(en)),...o.map(([en])=>new PublicKey$6(en)),...a.map(([en])=>new PublicKey$6(en))];return[c,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:a}]}drainKeysFoundInLookupTable(e,t){const r=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(t(c)){const u=new PublicKey$6(a),en=e.findIndex(tn=>tn.equals(u));en>=0&&(assert$g(en<256,"Max lookup table index exceeded"),r.push(en),o.push(u),this.keyMetaMap.delete(a))}return[r,o]}}class Message$5{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new PublicKey$6(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys$5(this.staticAccountKeys)}static compile(e){const t=CompiledKeys$6.compile(e.instructions,e.payerKey),[r,o]=t.getMessageComponents(),c=new MessageAccountKeys$5(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message$5({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<a}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];encodeLength$5(t,e);const r=this.instructions.map(sn=>{const{accounts:fn,programIdIndex:dn}=sn,hn=Array.from(bs58$3.decode(sn.data));let ln=[];encodeLength$5(ln,fn.length);let pn=[];return encodeLength$5(pn,hn.length),{programIdIndex:dn,keyIndicesCount:bufferPolyfill.Buffer.from(ln),keyIndices:fn,dataLength:bufferPolyfill.Buffer.from(pn),data:hn}});let o=[];encodeLength$5(o,r.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE$5);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;r.forEach(sn=>{c+=struct$3([u8$2("programIdIndex"),blob$2(sn.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),sn.keyIndices.length,"keyIndices"),blob$2(sn.dataLength.length,"dataLength"),seq(u8$2("userdatum"),sn.data.length,"data")]).encode(sn,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(t.length,"keyCount"),seq(publicKey$b("key"),e,"keys"),publicKey$b("recentBlockhash")]),en={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(t),keys:this.accountKeys.map(sn=>toBuffer$6(sn.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let tn=bufferPolyfill.Buffer.alloc(2048);const nn=u.encode(en,tn);return a.copy(tn,nn),tn.slice(0,nn+a.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&VERSION_PREFIX_MASK$5))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=t.shift(),a=t.shift(),c=decodeLength$5(t);let u=[];for(let fn=0;fn<c;fn++){const dn=t.slice(0,PUBLIC_KEY_LENGTH$6);t=t.slice(PUBLIC_KEY_LENGTH$6),u.push(new PublicKey$6(bufferPolyfill.Buffer.from(dn)))}const en=t.slice(0,PUBLIC_KEY_LENGTH$6);t=t.slice(PUBLIC_KEY_LENGTH$6);const tn=decodeLength$5(t);let nn=[];for(let fn=0;fn<tn;fn++){const dn=t.shift(),hn=decodeLength$5(t),ln=t.slice(0,hn);t=t.slice(hn);const pn=decodeLength$5(t),$n=t.slice(0,pn),Sn=bs58$3.encode(bufferPolyfill.Buffer.from($n));t=t.slice(pn),nn.push({programIdIndex:dn,accounts:ln,data:Sn})}const sn={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(en)),accountKeys:u,instructions:nn};return new Message$5(sn)}}class MessageV0$4{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys$5(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const o=e-r,a=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<a}else if(e>=this.header.numRequiredSignatures){const o=e-t,c=r-t-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=e.find(a=>a.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const a of r.writableIndexes)if(a<o.state.addresses.length)t.writable.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`);for(const a of r.readonlyIndexes)if(a<o.state.addresses.length)t.readonly.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=CompiledKeys$6.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const nn of a){const sn=t.extractTableLookup(nn);if(sn!==void 0){const[fn,{writable:dn,readonly:hn}]=sn;r.push(fn),o.writable.push(...dn),o.readonly.push(...hn)}}const[c,u]=t.getMessageComponents(),tn=new MessageAccountKeys$5(u,o).compileInstructions(e.instructions);return new MessageV0$4({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:tn,addressTableLookups:r})}serialize(){const e=Array();encodeLength$5(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();encodeLength$5(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),a=Array();encodeLength$5(a,this.addressTableLookups.length);const c=struct$3([u8$2("prefix"),struct$3([u8$2("numRequiredSignatures"),u8$2("numReadonlySignedAccounts"),u8$2("numReadonlyUnsignedAccounts")],"header"),blob$2(e.length,"staticAccountKeysLength"),seq(publicKey$b(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$b("recentBlockhash"),blob$2(r.length,"instructionsLength"),blob$2(t.length,"serializedInstructions"),blob$2(a.length,"addressTableLookupsLength"),blob$2(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(PACKET_DATA_SIZE$5),en=1<<7,tn=c.encode({prefix:en,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(nn=>nn.toBytes()),recentBlockhash:bs58$3.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:o},u);return u.slice(0,tn)}serializeInstructions(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$5);for(const r of this.compiledInstructions){const o=Array();encodeLength$5(o,r.accountKeyIndexes.length);const a=Array();encodeLength$5(a,r.data.length),e+=struct$3([u8$2("programIdIndex"),blob$2(o.length,"encodedAccountKeyIndexesLength"),seq(u8$2(),r.accountKeyIndexes.length,"accountKeyIndexes"),blob$2(a.length,"encodedDataLength"),blob$2(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$5);for(const r of this.addressTableLookups){const o=Array();encodeLength$5(o,r.writableIndexes.length);const a=Array();encodeLength$5(a,r.readonlyIndexes.length),e+=struct$3([publicKey$b("accountKey"),blob$2(o.length,"encodedWritableIndexesLength"),seq(u8$2(),r.writableIndexes.length,"writableIndexes"),blob$2(a.length,"encodedReadonlyIndexesLength"),seq(u8$2(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),o=r&VERSION_PREFIX_MASK$5;assert$g(r!==o,"Expected versioned message but received legacy message");const a=o;assert$g(a===0,`Expected versioned message with version 0 but found version ${a}`);const c={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},u=[],en=decodeLength$5(t);for(let hn=0;hn<en;hn++)u.push(new PublicKey$6(t.splice(0,PUBLIC_KEY_LENGTH$6)));const tn=bs58$3.encode(t.splice(0,PUBLIC_KEY_LENGTH$6)),nn=decodeLength$5(t),sn=[];for(let hn=0;hn<nn;hn++){const ln=t.shift(),pn=decodeLength$5(t),$n=t.splice(0,pn),Sn=decodeLength$5(t),yn=new Uint8Array(t.splice(0,Sn));sn.push({programIdIndex:ln,accountKeyIndexes:$n,data:yn})}const fn=decodeLength$5(t),dn=[];for(let hn=0;hn<fn;hn++){const ln=new PublicKey$6(t.splice(0,PUBLIC_KEY_LENGTH$6)),pn=decodeLength$5(t),$n=t.splice(0,pn),Sn=decodeLength$5(t),yn=t.splice(0,Sn);dn.push({accountKey:ln,writableIndexes:$n,readonlyIndexes:yn})}return new MessageV0$4({header:c,staticAccountKeys:u,recentBlockhash:tn,compiledInstructions:sn,addressTableLookups:dn})}}const VersionedMessage$3={deserializeMessageVersion(n){const e=n[0],t=e&VERSION_PREFIX_MASK$5;return t===e?"legacy":t},deserialize:n=>{const e=VersionedMessage$3.deserializeMessageVersion(n);if(e==="legacy")return Message$5.from(n);if(e===0)return MessageV0$4.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus$3=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const DEFAULT_SIGNATURE$5=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$6).fill(0);class TransactionInstruction$5{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$5{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction$5(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let ln=0;ln<t.length;ln++)if(t[ln].programId===void 0)throw new Error(`Transaction instruction index ${ln} has undefined program id`);const o=[],a=[];t.forEach(ln=>{ln.keys.forEach($n=>{a.push({...$n})});const pn=ln.programId.toString();o.includes(pn)||o.push(pn)}),o.forEach(ln=>{a.push({pubkey:new PublicKey$6(ln),isSigner:!1,isWritable:!1})});const c=[];a.forEach(ln=>{const pn=ln.pubkey.toString(),$n=c.findIndex(Sn=>Sn.pubkey.toString()===pn);$n>-1?(c[$n].isWritable=c[$n].isWritable||ln.isWritable,c[$n].isSigner=c[$n].isSigner||ln.isSigner):c.push(ln)}),c.sort(function(ln,pn){if(ln.isSigner!==pn.isSigner)return ln.isSigner?-1:1;if(ln.isWritable!==pn.isWritable)return ln.isWritable?-1:1;const $n={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return ln.pubkey.toBase58().localeCompare(pn.pubkey.toBase58(),"en",$n)});const u=c.findIndex(ln=>ln.pubkey.equals(r));if(u>-1){const[ln]=c.splice(u,1);ln.isSigner=!0,ln.isWritable=!0,c.unshift(ln)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const ln of this.signatures){const pn=c.findIndex($n=>$n.pubkey.equals(ln.publicKey));if(pn>-1)c[pn].isSigner||(c[pn].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${ln.publicKey.toString()}`)}let en=0,tn=0,nn=0;const sn=[],fn=[];c.forEach(({pubkey:ln,isSigner:pn,isWritable:$n})=>{pn?(sn.push(ln.toString()),en+=1,$n||(tn+=1)):(fn.push(ln.toString()),$n||(nn+=1))});const dn=sn.concat(fn),hn=t.map(ln=>{const{data:pn,programId:$n}=ln;return{programIdIndex:dn.indexOf($n.toString()),accounts:ln.keys.map(Sn=>dn.indexOf(Sn.pubkey.toString())),data:bs58$3.encode(pn)}});return hn.forEach(ln=>{assert$g(ln.programIdIndex>=0),ln.accounts.forEach(pn=>assert$g(pn>=0))}),new Message$5({header:{numRequiredSignatures:en,numReadonlySignedAccounts:tn,numReadonlyUnsignedAccounts:nn},accountKeys:dn,recentBlockhash:e,instructions:hn})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,a)=>t[a].equals(o.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const o=r.toString();return t.has(o)?!1:(t.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}this.signatures=r.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(o=>{const a=sign$5(r,o.secretKey);this._addSignature(o.publicKey,toBuffer$6(a))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){assert$g(t.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bufferPolyfill.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:o}of this.signatures)if(r===null){if(t)return!1}else if(!verify$5(r,e,o.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:t}=this,r=[];encodeLength$5(r,t.length);const o=r.length+t.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$g(t.length<256),bufferPolyfill.Buffer.from(r).copy(a,0),t.forEach(({signature:c},u)=>{c!==null&&(assert$g(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,r.length+u*64))}),e.copy(a,r.length+t.length*64),assert$g(a.length<=PACKET_DATA_SIZE$5,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE$5}`),a}get keys(){return assert$g(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$g(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$g(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=decodeLength$5(t);let o=[];for(let a=0;a<r;a++){const c=t.slice(0,SIGNATURE_LENGTH_IN_BYTES$6);t=t.slice(SIGNATURE_LENGTH_IN_BYTES$6),o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction$5.populate(Message$5.from(t),o)}static populate(e,t=[]){const r=new Transaction$5;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE$5)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};r.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:r.signatures.some(en=>en.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});r.instructions.push(new TransactionInstruction$5({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}class TransactionMessage$3{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:o,recentBlockhash:a}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:en}=r,tn=c-u;assert$g(tn>0,"Message header is invalid");const nn=e.staticAccountKeys.length-c-en;assert$g(nn>=0,"Message header is invalid");const sn=e.getAccountKeys(t),fn=sn.get(0);if(fn===void 0)throw new Error("Failed to decompile message because no account keys were found");const dn=[];for(const hn of o){const ln=[];for(const $n of hn.accountKeyIndexes){const Sn=sn.get($n);if(Sn===void 0)throw new Error(`Failed to find key for account key index ${$n}`);const yn=$n<c;let In;yn?In=$n<tn:$n<sn.staticAccountKeys.length?In=$n-c<nn:In=$n-sn.staticAccountKeys.length<sn.accountKeysFromLookups.writable.length,ln.push({pubkey:Sn,isSigner:$n<r.numRequiredSignatures,isWritable:In})}const pn=sn.get(hn.programIdIndex);if(pn===void 0)throw new Error(`Failed to find program id for program id index ${hn.programIdIndex}`);dn.push(new TransactionInstruction$5({programId:pn,data:toBuffer$6(hn.data),keys:ln}))}return new TransactionMessage$3({payerKey:fn,instructions:dn,recentBlockhash:a})}compileToLegacyMessage(){return Message$5.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0$4.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction$3{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)assert$g(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES$6));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();encodeLength$5(t,this.signatures.length);const r=struct$3([blob$2(t.length,"encodedSignaturesLength"),seq(signature$3(),this.signatures.length,"signatures"),blob$2(e.length,"serializedMessage")]),o=new Uint8Array(2048),a=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,a)}static deserialize(e){let t=[...e];const r=[],o=decodeLength$5(t);for(let c=0;c<o;c++)r.push(new Uint8Array(t.splice(0,SIGNATURE_LENGTH_IN_BYTES$6)));const a=VersionedMessage$3.deserialize(new Uint8Array(t));return new VersionedTransaction$3(a,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const a=r.findIndex(c=>c.equals(o.publicKey));assert$g(a>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[a]=sign$5(t,o.secretKey)}}addSignature(e,t){assert$g(t.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));assert$g(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}}const NUM_TICKS_PER_SECOND$3=160,DEFAULT_TICKS_PER_SLOT$3=64,NUM_SLOTS_PER_SECOND$3=NUM_TICKS_PER_SECOND$3/DEFAULT_TICKS_PER_SLOT$3,MS_PER_SLOT$3=1e3/NUM_SLOTS_PER_SECOND$3,SYSVAR_CLOCK_PUBKEY$3=new PublicKey$6("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY$3=new PublicKey$6("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY$3=new PublicKey$6("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY$5=new PublicKey$6("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY$5=new PublicKey$6("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY$3=new PublicKey$6("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY$3=new PublicKey$6("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY$3=new PublicKey$6("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY$3=new PublicKey$6("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$6(n,e,t,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},a=await n.sendTransaction(e,t,o);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,en=u.keys[0].pubkey;c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:en,nonceValue:e.nonceInfo.nonce,signature:a},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await n.confirmTransaction(a,r&&r.commitment)).value;if(c.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(c)})`);return a}function sleep$3(n){return new Promise(e=>setTimeout(e,n))}function encodeData$5(n,e){const t=n.layout.span>=0?n.layout.span:getAlloc$5(n,e),r=bufferPolyfill.Buffer.alloc(t),o=Object.assign({instruction:n.index},e);return n.layout.encode(o,r),r}function decodeData$1$3(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const FeeCalculatorLayout$6=nu64$1("lamportsPerSignature"),NonceAccountLayout$6=struct$3([u32$3("version"),u32$3("state"),publicKey$b("authorizedPubkey"),publicKey$b("nonce"),struct$3([FeeCalculatorLayout$6],"feeCalculator")]),NONCE_ACCOUNT_LENGTH$5=NonceAccountLayout$6.span;class NonceAccount$3{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=NonceAccountLayout$6.decode(toBuffer$6(e),0);return new NonceAccount$3({authorizedPubkey:new PublicKey$6(t.authorizedPubkey),nonce:new PublicKey$6(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const encodeDecode$7=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bigInt$7=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode$7(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferLE_1(c,n);return r(tn,u,en)},a},u64$b=bigInt$7(8);class SystemInstruction$3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS$5))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:o}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new PublicKey$6(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:o}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new PublicKey$6(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:o,programId:a}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$6(t),seed:r,space:o,programId:new PublicKey$6(a)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey$6(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:o}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$6(t),seed:r,programId:new PublicKey$6(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:o,space:a,programId:c}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey$6(t),seed:r,lamports:o,space:a,programId:new PublicKey$6(c)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey$6(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=decodeData$1$3(SYSTEM_INSTRUCTION_LAYOUTS$5.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey$6(t)}}static checkProgramId(e){if(!e.equals(SystemProgram$5.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const SYSTEM_INSTRUCTION_LAYOUTS$5=Object.freeze({Create:{index:0,layout:struct$3([u32$3("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$b("programId")])},Assign:{index:1,layout:struct$3([u32$3("instruction"),publicKey$b("programId")])},Transfer:{index:2,layout:struct$3([u32$3("instruction"),u64$b("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$3("instruction"),publicKey$b("base"),rustString$6("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$b("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$3("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$3("instruction"),publicKey$b("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$3("instruction"),publicKey$b("authorized")])},Allocate:{index:8,layout:struct$3([u32$3("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$3("instruction"),publicKey$b("base"),rustString$6("seed"),ns64$1("space"),publicKey$b("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$3("instruction"),publicKey$b("base"),rustString$6("seed"),publicKey$b("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$3("instruction"),u64$b("lamports"),rustString$6("seed"),publicKey$b("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$3("instruction")])}});class SystemProgram$5{constructor(){}static createAccount(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$5.Create,r=encodeData$5(t,{lamports:e.lamports,space:e.space,programId:toBuffer$6(e.programId.toBuffer())});return new TransactionInstruction$5({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$5.TransferWithSeed;t=encodeData$5(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$6(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$5.Transfer;t=encodeData$5(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction$5({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$5.AssignWithSeed;t=encodeData$5(o,{base:toBuffer$6(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$6(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$5.Assign;t=encodeData$5(o,{programId:toBuffer$6(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$5({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$5.CreateWithSeed,r=encodeData$5(t,{base:toBuffer$6(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$6(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction$5({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Transaction$5;"basePubkey"in e&&"seed"in e?t.add(SystemProgram$5.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$5,programId:this.programId})):t.add(SystemProgram$5.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$5,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$5.InitializeNonceAccount,r=encodeData$5(t,{authorized:toBuffer$6(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$5,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$5,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$5(o)}static nonceAdvance(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$5.AdvanceNonceAccount,r=encodeData$5(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$5,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$5(o)}static nonceWithdraw(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$5.WithdrawNonceAccount,r=encodeData$5(t,{lamports:e.lamports});return new TransactionInstruction$5({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$5,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$5,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$5.AuthorizeNonceAccount,r=encodeData$5(t,{authorized:toBuffer$6(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction$5({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$5.AllocateWithSeed;t=encodeData$5(o,{base:toBuffer$6(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$6(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$5.Allocate;t=encodeData$5(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$5({keys:r,programId:this.programId,data:t})}}SystemProgram$5.programId=new PublicKey$6("11111111111111111111111111111111");const CHUNK_SIZE$3=PACKET_DATA_SIZE$5-300;class Loader$3{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader$3.chunkSize)+1+1)}static async load(e,t,r,o,a){{const sn=await e.getMinimumBalanceForRentExemption(a.length),fn=await e.getAccountInfo(r.publicKey,"confirmed");let dn=null;if(fn!==null){if(fn.executable)return console.error("Program load failed, account is already executable"),!1;fn.data.length!==a.length&&(dn=dn||new Transaction$5,dn.add(SystemProgram$5.allocate({accountPubkey:r.publicKey,space:a.length}))),fn.owner.equals(o)||(dn=dn||new Transaction$5,dn.add(SystemProgram$5.assign({accountPubkey:r.publicKey,programId:o}))),fn.lamports<sn&&(dn=dn||new Transaction$5,dn.add(SystemProgram$5.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:sn-fn.lamports})))}else dn=new Transaction$5().add(SystemProgram$5.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:sn>0?sn:1,space:a.length,programId:o}));dn!==null&&await sendAndConfirmTransaction$6(e,dn,[t,r],{commitment:"confirmed"})}const c=struct$3([u32$3("instruction"),u32$3("offset"),u32$3("bytesLength"),u32$3("bytesLengthPadding"),seq(u8$2("byte"),offset$1(u32$3(),-8),"bytes")]),u=Loader$3.chunkSize;let en=0,tn=a,nn=[];for(;tn.length>0;){const sn=tn.slice(0,u),fn=bufferPolyfill.Buffer.alloc(u+16);c.encode({instruction:0,offset:en,bytes:sn,bytesLength:0,bytesLengthPadding:0},fn);const dn=new Transaction$5().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:fn});nn.push(sendAndConfirmTransaction$6(e,dn,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep$3(1e3/4),en+=u,tn=tn.slice(u)}await Promise.all(nn);{const sn=struct$3([u32$3("instruction")]),fn=bufferPolyfill.Buffer.alloc(sn.span);sn.encode({instruction:1},fn);const dn=new Transaction$5().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$5,isSigner:!1,isWritable:!1}],programId:o,data:fn}),hn="processed",ln=await e.sendTransaction(dn,[t,r],{preflightCommitment:hn}),{context:pn,value:$n}=await e.confirmTransaction({signature:ln,lastValidBlockHeight:dn.lastValidBlockHeight,blockhash:dn.recentBlockhash},hn);if($n.err)throw new Error(`Transaction ${ln} failed (${JSON.stringify($n)})`);for(;;){try{if(await e.getSlot({commitment:hn})>pn.slot)break}catch{}await new Promise(Sn=>setTimeout(Sn,Math.round(MS_PER_SLOT$3/2)))}}return!0}}Loader$3.chunkSize=CHUNK_SIZE$3;const BPF_LOADER_PROGRAM_ID$3=new PublicKey$6("BPFLoader2111111111111111111111111111111111");class BpfLoader$3{static getMinNumSignatures(e){return Loader$3.getMinNumSignatures(e)}static load(e,t,r,o,a){return Loader$3.load(e,t,r,a,o)}}function getDefaultExportFromCjs$3(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var objToString$3=Object.prototype.toString,objKeys$3=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function stringify$4(n,e){var t,r,o,a,c,u,en;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return stringify$4(n.toJSON(),e);if(en=objToString$3.call(n),en==="[object Array]"){for(o="[",r=n.length-1,t=0;t<r;t++)o+=stringify$4(n[t],!0)+",";return r>-1&&(o+=stringify$4(n[t],!0)),o+"]"}else if(en==="[object Object]"){for(a=objKeys$3(n).sort(),r=a.length,o="",t=0;t<r;)c=a[t],u=stringify$4(n[c],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),t++;return"{"+o+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var fastStableStringify$4=function(n){var e=stringify$4(n,!1);if(e!==void 0)return""+e},fastStableStringify$1$3=getDefaultExportFromCjs$3(fastStableStringify$4);const MINIMUM_SLOT_PER_EPOCH$3=32;function trailingZeros$3(n){let e=0;for(;n>1;)n/=2,e++;return e}function nextPowerOfTwo$3(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class EpochSchedule$3{constructor(e,t,r,o,a){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=a}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=trailingZeros$3(nextPowerOfTwo$3(e+MINIMUM_SLOT_PER_EPOCH$3+1))-trailingZeros$3(MINIMUM_SLOT_PER_EPOCH$3)-1,r=this.getSlotsInEpoch(t),o=e-(r-MINIMUM_SLOT_PER_EPOCH$3);return[t,o]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),o=this.firstNormalEpoch+r,a=t%this.slotsPerEpoch;return[o,a]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH$3:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros$3(MINIMUM_SLOT_PER_EPOCH$3)):this.slotsPerEpoch}}class SendTransactionError$3 extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const SolanaJSONRPCErrorCode$3={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError$3 extends Error{constructor({code:e,message:t,data:r},o){super(o!=null?`${o}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var fetchImpl$3=globalThis.fetch;class RpcWebSocketClient$3 extends RpcWebSocketCommonClient$3{constructor(e,t,r){const o=a=>{const c=createRpc$3(a,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(o,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function decodeData$4(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const LOOKUP_TABLE_META_SIZE$3=56;class AddressLookupTableAccount$3{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=decodeData$4(LookupTableMetaLayout$3,e),r=e.length-LOOKUP_TABLE_META_SIZE$3;assert$g(r>=0,"lookup table is invalid"),assert$g(r%32===0,"lookup table is invalid");const o=r/32,{addresses:a}=struct$3([seq(publicKey$b(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE$3));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new PublicKey$6(t.authority[0]):void 0,addresses:a.map(c=>new PublicKey$6(c))}}}const LookupTableMetaLayout$3={index:1,layout:struct$3([u32$3("typeIndex"),u64$b("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$b(),offset$1(u8$2(),-1),"authority")])},URL_RE$3=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl$3(n){const e=n.match(URL_RE$3);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,o,a]=e,c=n.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),en=u==null?"":`:${u+1}`;return`${c}//${r}${en}${a}`}const PublicKeyFromString$6=coerce$6(instance$5(PublicKey$6),string$7(),n=>new PublicKey$6(n)),RawAccountDataResult$6=tuple$6([string$7(),literal$6("base64")]),BufferFromRawAccountData$6=coerce$6(instance$5(bufferPolyfill.Buffer),RawAccountDataResult$6,n=>bufferPolyfill.Buffer.from(n[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS$3=30*1e3;function assertEndpointUrl$3(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function extractCommitmentFromConfig$3(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...o}=n;e=r,t=o}return{commitment:e,config:t}}function createRpcResult$7(n){return union$7([type$6({jsonrpc:literal$6("2.0"),id:string$7(),result:n}),type$6({jsonrpc:literal$6("2.0"),id:string$7(),error:type$6({code:unknown$6(),message:string$7(),data:optional$6(any$6())})})])}const UnknownRpcResult$7=createRpcResult$7(unknown$6());function jsonRpcResult$7(n){return coerce$6(createRpcResult$7(n),UnknownRpcResult$7,e=>"error"in e?e:{...e,result:create$6(e.result,n)})}function jsonRpcResultAndContext$7(n){return jsonRpcResult$7(type$6({context:type$6({slot:number$7()}),value:n}))}function notificationResultAndContext$6(n){return type$6({context:type$6({slot:number$7()}),value:n})}function versionedMessageFromResponse$3(n,e){return n===0?new MessageV0$4({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new PublicKey$6(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:bs58$3.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Message$5(e)}const GetInflationGovernorResult$6=type$6({foundation:number$7(),foundationTerm:number$7(),initial:number$7(),taper:number$7(),terminal:number$7()}),GetInflationRewardResult$3=jsonRpcResult$7(array$7(nullable$6(type$6({epoch:number$7(),effectiveSlot:number$7(),amount:number$7(),postBalance:number$7(),commission:optional$6(nullable$6(number$7()))})))),GetRecentPrioritizationFeesResult$6=array$7(type$6({slot:number$7(),prioritizationFee:number$7()})),GetInflationRateResult$6=type$6({total:number$7(),validator:number$7(),foundation:number$7(),epoch:number$7()}),GetEpochInfoResult$6=type$6({epoch:number$7(),slotIndex:number$7(),slotsInEpoch:number$7(),absoluteSlot:number$7(),blockHeight:optional$6(number$7()),transactionCount:optional$6(number$7())}),GetEpochScheduleResult$6=type$6({slotsPerEpoch:number$7(),leaderScheduleSlotOffset:number$7(),warmup:boolean$6(),firstNormalEpoch:number$7(),firstNormalSlot:number$7()}),GetLeaderScheduleResult$6=record$5(string$7(),array$7(number$7())),TransactionErrorResult$6=nullable$6(union$7([type$6({}),string$7()])),SignatureStatusResult$6=type$6({err:TransactionErrorResult$6}),SignatureReceivedResult$6=literal$6("receivedSignature"),VersionResult$3=type$6({"solana-core":string$7(),"feature-set":optional$6(number$7())}),SimulatedTransactionResponseStruct$4=jsonRpcResultAndContext$7(type$6({err:nullable$6(union$7([type$6({}),string$7()])),logs:nullable$6(array$7(string$7())),accounts:optional$6(nullable$6(array$7(nullable$6(type$6({executable:boolean$6(),owner:string$7(),lamports:number$7(),data:array$7(string$7()),rentEpoch:optional$6(number$7())}))))),unitsConsumed:optional$6(number$7()),returnData:optional$6(nullable$6(type$6({programId:string$7(),data:tuple$6([string$7(),literal$6("base64")])})))})),BlockProductionResponseStruct$3=jsonRpcResultAndContext$7(type$6({byIdentity:record$5(string$7(),array$7(number$7())),range:type$6({firstSlot:number$7(),lastSlot:number$7()})}));function createRpcClient$3(n,e,t,r,o,a){const c=t||fetchImpl$3;let u;a!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let en;return r&&(en=async(nn,sn)=>{const fn=await new Promise((dn,hn)=>{try{r(nn,sn,(ln,pn)=>dn([ln,pn]))}catch(ln){hn(ln)}});return await c(...fn)}),new browser$6(async(nn,sn)=>{const fn={method:"POST",body:nn,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS$3)};try{let dn=5,hn,ln=500;for(;en?hn=await en(n,fn):hn=await c(n,fn),!(hn.status!==429||o===!0||(dn-=1,dn===0));)console.log(`Server responded with ${hn.status} ${hn.statusText}.  Retrying after ${ln}ms delay...`),await sleep$3(ln),ln*=2;const pn=await hn.text();hn.ok?sn(null,pn):sn(new Error(`${hn.status} ${hn.statusText}: ${pn}`))}catch(dn){dn instanceof Error&&sn(dn)}},{})}function createRpcRequest$3(n){return(e,t)=>new Promise((r,o)=>{n.request(e,t,(a,c)=>{if(a){o(a);return}r(c)})})}function createRpcBatchRequest$3(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const o=e.map(a=>n.request(a.methodName,a.args));n.request(o,(a,c)=>{if(a){r(a);return}t(c)})})}const GetInflationGovernorRpcResult$3=jsonRpcResult$7(GetInflationGovernorResult$6),GetInflationRateRpcResult$3=jsonRpcResult$7(GetInflationRateResult$6),GetRecentPrioritizationFeesRpcResult$3=jsonRpcResult$7(GetRecentPrioritizationFeesResult$6),GetEpochInfoRpcResult$3=jsonRpcResult$7(GetEpochInfoResult$6),GetEpochScheduleRpcResult$3=jsonRpcResult$7(GetEpochScheduleResult$6),GetLeaderScheduleRpcResult$3=jsonRpcResult$7(GetLeaderScheduleResult$6),SlotRpcResult$3=jsonRpcResult$7(number$7()),GetSupplyRpcResult$3=jsonRpcResultAndContext$7(type$6({total:number$7(),circulating:number$7(),nonCirculating:number$7(),nonCirculatingAccounts:array$7(PublicKeyFromString$6)})),TokenAmountResult$6=type$6({amount:string$7(),uiAmount:nullable$6(number$7()),decimals:number$7(),uiAmountString:optional$6(string$7())}),GetTokenLargestAccountsResult$3=jsonRpcResultAndContext$7(array$7(type$6({address:PublicKeyFromString$6,amount:string$7(),uiAmount:nullable$6(number$7()),decimals:number$7(),uiAmountString:optional$6(string$7())}))),GetTokenAccountsByOwner$3=jsonRpcResultAndContext$7(array$7(type$6({pubkey:PublicKeyFromString$6,account:type$6({executable:boolean$6(),owner:PublicKeyFromString$6,lamports:number$7(),data:BufferFromRawAccountData$6,rentEpoch:number$7()})}))),ParsedAccountDataResult$6=type$6({program:string$7(),parsed:unknown$6(),space:number$7()}),GetParsedTokenAccountsByOwner$3=jsonRpcResultAndContext$7(array$7(type$6({pubkey:PublicKeyFromString$6,account:type$6({executable:boolean$6(),owner:PublicKeyFromString$6,lamports:number$7(),data:ParsedAccountDataResult$6,rentEpoch:number$7()})}))),GetLargestAccountsRpcResult$3=jsonRpcResultAndContext$7(array$7(type$6({lamports:number$7(),address:PublicKeyFromString$6}))),AccountInfoResult$6=type$6({executable:boolean$6(),owner:PublicKeyFromString$6,lamports:number$7(),data:BufferFromRawAccountData$6,rentEpoch:number$7()}),KeyedAccountInfoResult$3=type$6({pubkey:PublicKeyFromString$6,account:AccountInfoResult$6}),ParsedOrRawAccountData$6=coerce$6(union$7([instance$5(bufferPolyfill.Buffer),ParsedAccountDataResult$6]),union$7([RawAccountDataResult$6,ParsedAccountDataResult$6]),n=>Array.isArray(n)?create$6(n,BufferFromRawAccountData$6):n),ParsedAccountInfoResult$6=type$6({executable:boolean$6(),owner:PublicKeyFromString$6,lamports:number$7(),data:ParsedOrRawAccountData$6,rentEpoch:number$7()}),KeyedParsedAccountInfoResult$3=type$6({pubkey:PublicKeyFromString$6,account:ParsedAccountInfoResult$6}),StakeActivationResult$3=type$6({state:union$7([literal$6("active"),literal$6("inactive"),literal$6("activating"),literal$6("deactivating")]),active:number$7(),inactive:number$7()}),GetConfirmedSignaturesForAddress2RpcResult$3=jsonRpcResult$7(array$7(type$6({signature:string$7(),slot:number$7(),err:TransactionErrorResult$6,memo:nullable$6(string$7()),blockTime:optional$6(nullable$6(number$7()))}))),GetSignaturesForAddressRpcResult$3=jsonRpcResult$7(array$7(type$6({signature:string$7(),slot:number$7(),err:TransactionErrorResult$6,memo:nullable$6(string$7()),blockTime:optional$6(nullable$6(number$7()))}))),AccountNotificationResult$3=type$6({subscription:number$7(),result:notificationResultAndContext$6(AccountInfoResult$6)}),ProgramAccountInfoResult$6=type$6({pubkey:PublicKeyFromString$6,account:AccountInfoResult$6}),ProgramAccountNotificationResult$3=type$6({subscription:number$7(),result:notificationResultAndContext$6(ProgramAccountInfoResult$6)}),SlotInfoResult$6=type$6({parent:number$7(),slot:number$7(),root:number$7()}),SlotNotificationResult$3=type$6({subscription:number$7(),result:SlotInfoResult$6}),SlotUpdateResult$6=union$7([type$6({type:union$7([literal$6("firstShredReceived"),literal$6("completed"),literal$6("optimisticConfirmation"),literal$6("root")]),slot:number$7(),timestamp:number$7()}),type$6({type:literal$6("createdBank"),parent:number$7(),slot:number$7(),timestamp:number$7()}),type$6({type:literal$6("frozen"),slot:number$7(),timestamp:number$7(),stats:type$6({numTransactionEntries:number$7(),numSuccessfulTransactions:number$7(),numFailedTransactions:number$7(),maxTransactionsPerEntry:number$7()})}),type$6({type:literal$6("dead"),slot:number$7(),timestamp:number$7(),err:string$7()})]),SlotUpdateNotificationResult$3=type$6({subscription:number$7(),result:SlotUpdateResult$6}),SignatureNotificationResult$3=type$6({subscription:number$7(),result:notificationResultAndContext$6(union$7([SignatureStatusResult$6,SignatureReceivedResult$6]))}),RootNotificationResult$3=type$6({subscription:number$7(),result:number$7()}),ContactInfoResult$3=type$6({pubkey:string$7(),gossip:nullable$6(string$7()),tpu:nullable$6(string$7()),rpc:nullable$6(string$7()),version:nullable$6(string$7())}),VoteAccountInfoResult$6=type$6({votePubkey:string$7(),nodePubkey:string$7(),activatedStake:number$7(),epochVoteAccount:boolean$6(),epochCredits:array$7(tuple$6([number$7(),number$7(),number$7()])),commission:number$7(),lastVote:number$7(),rootSlot:nullable$6(number$7())}),GetVoteAccounts$3=jsonRpcResult$7(type$6({current:array$7(VoteAccountInfoResult$6),delinquent:array$7(VoteAccountInfoResult$6)})),ConfirmationStatus$6=union$7([literal$6("processed"),literal$6("confirmed"),literal$6("finalized")]),SignatureStatusResponse$6=type$6({slot:number$7(),confirmations:nullable$6(number$7()),err:TransactionErrorResult$6,confirmationStatus:optional$6(ConfirmationStatus$6)}),GetSignatureStatusesRpcResult$3=jsonRpcResultAndContext$7(array$7(nullable$6(SignatureStatusResponse$6))),GetMinimumBalanceForRentExemptionRpcResult$3=jsonRpcResult$7(number$7()),AddressTableLookupStruct$6=type$6({accountKey:PublicKeyFromString$6,writableIndexes:array$7(number$7()),readonlyIndexes:array$7(number$7())}),ConfirmedTransactionResult$6=type$6({signatures:array$7(string$7()),message:type$6({accountKeys:array$7(string$7()),header:type$6({numRequiredSignatures:number$7(),numReadonlySignedAccounts:number$7(),numReadonlyUnsignedAccounts:number$7()}),instructions:array$7(type$6({accounts:array$7(number$7()),data:string$7(),programIdIndex:number$7()})),recentBlockhash:string$7(),addressTableLookups:optional$6(array$7(AddressTableLookupStruct$6))})}),AnnotatedAccountKey$6=type$6({pubkey:PublicKeyFromString$6,signer:boolean$6(),writable:boolean$6(),source:optional$6(union$7([literal$6("transaction"),literal$6("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$6=type$6({accountKeys:array$7(AnnotatedAccountKey$6),signatures:array$7(string$7())}),ParsedInstructionResult$6=type$6({parsed:unknown$6(),program:string$7(),programId:PublicKeyFromString$6}),RawInstructionResult$6=type$6({accounts:array$7(PublicKeyFromString$6),data:string$7(),programId:PublicKeyFromString$6}),InstructionResult$6=union$7([RawInstructionResult$6,ParsedInstructionResult$6]),UnknownInstructionResult$6=union$7([type$6({parsed:unknown$6(),program:string$7(),programId:string$7()}),type$6({accounts:array$7(string$7()),data:string$7(),programId:string$7()})]),ParsedOrRawInstruction$6=coerce$6(InstructionResult$6,UnknownInstructionResult$6,n=>"accounts"in n?create$6(n,RawInstructionResult$6):create$6(n,ParsedInstructionResult$6)),ParsedConfirmedTransactionResult$6=type$6({signatures:array$7(string$7()),message:type$6({accountKeys:array$7(AnnotatedAccountKey$6),instructions:array$7(ParsedOrRawInstruction$6),recentBlockhash:string$7(),addressTableLookups:optional$6(nullable$6(array$7(AddressTableLookupStruct$6)))})}),TokenBalanceResult$6=type$6({accountIndex:number$7(),mint:string$7(),owner:optional$6(string$7()),uiTokenAmount:TokenAmountResult$6}),LoadedAddressesResult$6=type$6({writable:array$7(PublicKeyFromString$6),readonly:array$7(PublicKeyFromString$6)}),ConfirmedTransactionMetaResult$6=type$6({err:TransactionErrorResult$6,fee:number$7(),innerInstructions:optional$6(nullable$6(array$7(type$6({index:number$7(),instructions:array$7(type$6({accounts:array$7(number$7()),data:string$7(),programIdIndex:number$7()}))})))),preBalances:array$7(number$7()),postBalances:array$7(number$7()),logMessages:optional$6(nullable$6(array$7(string$7()))),preTokenBalances:optional$6(nullable$6(array$7(TokenBalanceResult$6))),postTokenBalances:optional$6(nullable$6(array$7(TokenBalanceResult$6))),loadedAddresses:optional$6(LoadedAddressesResult$6),computeUnitsConsumed:optional$6(number$7())}),ParsedConfirmedTransactionMetaResult$6=type$6({err:TransactionErrorResult$6,fee:number$7(),innerInstructions:optional$6(nullable$6(array$7(type$6({index:number$7(),instructions:array$7(ParsedOrRawInstruction$6)})))),preBalances:array$7(number$7()),postBalances:array$7(number$7()),logMessages:optional$6(nullable$6(array$7(string$7()))),preTokenBalances:optional$6(nullable$6(array$7(TokenBalanceResult$6))),postTokenBalances:optional$6(nullable$6(array$7(TokenBalanceResult$6))),loadedAddresses:optional$6(LoadedAddressesResult$6),computeUnitsConsumed:optional$6(number$7())}),TransactionVersionStruct$6=union$7([literal$6(0),literal$6("legacy")]),RewardsResult$6=type$6({pubkey:string$7(),lamports:number$7(),postBalance:nullable$6(number$7()),rewardType:nullable$6(string$7()),commission:optional$6(nullable$6(number$7()))}),GetBlockRpcResult$3=jsonRpcResult$7(nullable$6(type$6({blockhash:string$7(),previousBlockhash:string$7(),parentSlot:number$7(),transactions:array$7(type$6({transaction:ConfirmedTransactionResult$6,meta:nullable$6(ConfirmedTransactionMetaResult$6),version:optional$6(TransactionVersionStruct$6)})),rewards:optional$6(array$7(RewardsResult$6)),blockTime:nullable$6(number$7()),blockHeight:nullable$6(number$7())}))),GetNoneModeBlockRpcResult$3=jsonRpcResult$7(nullable$6(type$6({blockhash:string$7(),previousBlockhash:string$7(),parentSlot:number$7(),rewards:optional$6(array$7(RewardsResult$6)),blockTime:nullable$6(number$7()),blockHeight:nullable$6(number$7())}))),GetAccountsModeBlockRpcResult$3=jsonRpcResult$7(nullable$6(type$6({blockhash:string$7(),previousBlockhash:string$7(),parentSlot:number$7(),transactions:array$7(type$6({transaction:ConfirmedTransactionAccountsModeResult$6,meta:nullable$6(ConfirmedTransactionMetaResult$6),version:optional$6(TransactionVersionStruct$6)})),rewards:optional$6(array$7(RewardsResult$6)),blockTime:nullable$6(number$7()),blockHeight:nullable$6(number$7())}))),GetParsedBlockRpcResult$3=jsonRpcResult$7(nullable$6(type$6({blockhash:string$7(),previousBlockhash:string$7(),parentSlot:number$7(),transactions:array$7(type$6({transaction:ParsedConfirmedTransactionResult$6,meta:nullable$6(ParsedConfirmedTransactionMetaResult$6),version:optional$6(TransactionVersionStruct$6)})),rewards:optional$6(array$7(RewardsResult$6)),blockTime:nullable$6(number$7()),blockHeight:nullable$6(number$7())}))),GetParsedAccountsModeBlockRpcResult$3=jsonRpcResult$7(nullable$6(type$6({blockhash:string$7(),previousBlockhash:string$7(),parentSlot:number$7(),transactions:array$7(type$6({transaction:ConfirmedTransactionAccountsModeResult$6,meta:nullable$6(ParsedConfirmedTransactionMetaResult$6),version:optional$6(TransactionVersionStruct$6)})),rewards:optional$6(array$7(RewardsResult$6)),blockTime:nullable$6(number$7()),blockHeight:nullable$6(number$7())}))),GetParsedNoneModeBlockRpcResult$3=jsonRpcResult$7(nullable$6(type$6({blockhash:string$7(),previousBlockhash:string$7(),parentSlot:number$7(),rewards:optional$6(array$7(RewardsResult$6)),blockTime:nullable$6(number$7()),blockHeight:nullable$6(number$7())}))),GetConfirmedBlockRpcResult$3=jsonRpcResult$7(nullable$6(type$6({blockhash:string$7(),previousBlockhash:string$7(),parentSlot:number$7(),transactions:array$7(type$6({transaction:ConfirmedTransactionResult$6,meta:nullable$6(ConfirmedTransactionMetaResult$6)})),rewards:optional$6(array$7(RewardsResult$6)),blockTime:nullable$6(number$7())}))),GetBlockSignaturesRpcResult$3=jsonRpcResult$7(nullable$6(type$6({blockhash:string$7(),previousBlockhash:string$7(),parentSlot:number$7(),signatures:array$7(string$7()),blockTime:nullable$6(number$7())}))),GetTransactionRpcResult$3=jsonRpcResult$7(nullable$6(type$6({slot:number$7(),meta:ConfirmedTransactionMetaResult$6,blockTime:optional$6(nullable$6(number$7())),transaction:ConfirmedTransactionResult$6,version:optional$6(TransactionVersionStruct$6)}))),GetParsedTransactionRpcResult$3=jsonRpcResult$7(nullable$6(type$6({slot:number$7(),transaction:ParsedConfirmedTransactionResult$6,meta:nullable$6(ParsedConfirmedTransactionMetaResult$6),blockTime:optional$6(nullable$6(number$7())),version:optional$6(TransactionVersionStruct$6)}))),GetRecentBlockhashAndContextRpcResult$3=jsonRpcResultAndContext$7(type$6({blockhash:string$7(),feeCalculator:type$6({lamportsPerSignature:number$7()})})),GetLatestBlockhashRpcResult$3=jsonRpcResultAndContext$7(type$6({blockhash:string$7(),lastValidBlockHeight:number$7()})),IsBlockhashValidRpcResult$3=jsonRpcResultAndContext$7(boolean$6()),PerfSampleResult$6=type$6({slot:number$7(),numTransactions:number$7(),numSlots:number$7(),samplePeriodSecs:number$7()}),GetRecentPerformanceSamplesRpcResult$3=jsonRpcResult$7(array$7(PerfSampleResult$6)),GetFeeCalculatorRpcResult$3=jsonRpcResultAndContext$7(nullable$6(type$6({feeCalculator:type$6({lamportsPerSignature:number$7()})}))),RequestAirdropRpcResult$3=jsonRpcResult$7(string$7()),SendTransactionRpcResult$3=jsonRpcResult$7(string$7()),LogsResult$6=type$6({err:TransactionErrorResult$6,logs:array$7(string$7()),signature:string$7()}),LogsNotificationResult$3=type$6({result:notificationResultAndContext$6(LogsResult$6),subscription:number$7()}),COMMON_HTTP_HEADERS$3={"solana-client":"js/0.0.0-development"};class Connection$3{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const tn={};return async nn=>{const{commitment:sn,config:fn}=extractCommitmentFromConfig$3(nn),dn=this._buildArgs([],sn,void 0,fn),hn=fastStableStringify$1$3(dn);return tn[hn]=tn[hn]??(async()=>{try{const ln=await this._rpcRequest("getBlockHeight",dn),pn=create$6(ln,jsonRpcResult$7(number$7()));if("error"in pn)throw new SolanaJSONRPCError$3(pn.error,"failed to get block height information");return pn.result}finally{delete tn[hn]}})(),await tn[hn]}})();let r,o,a,c,u,en;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,o=t.httpHeaders,a=t.fetch,c=t.fetchMiddleware,u=t.disableRetryOnRateLimit,en=t.httpAgent),this._rpcEndpoint=assertEndpointUrl$3(e),this._rpcWsEndpoint=r||makeWebsocketUrl$3(e),this._rpcClient=createRpcClient$3(e,o,a,c,u,en),this._rpcRequest=createRpcRequest$3(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest$3(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient$3(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=this._buildArgs([e.toBase58()],r,void 0,o),c=await this._rpcRequest("getBalance",a),u=create$6(c,jsonRpcResultAndContext$7(number$7()));if("error"in u)throw new SolanaJSONRPCError$3(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=create$6(t,jsonRpcResult$7(nullable$6(number$7())));if("error"in r)throw new SolanaJSONRPCError$3(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=create$6(e,jsonRpcResult$7(number$7()));if("error"in t)throw new SolanaJSONRPCError$3(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=create$6(e,SlotRpcResult$3);if("error"in t)throw new SolanaJSONRPCError$3(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),o=create$6(r,GetSupplyRpcResult$3);if("error"in o)throw new SolanaJSONRPCError$3(o.error,"failed to get supply");return o.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenSupply",r),a=create$6(o,jsonRpcResultAndContext$7(TokenAmountResult$6));if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get token supply");return a.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenAccountBalance",r),a=create$6(o,jsonRpcResultAndContext$7(TokenAmountResult$6));if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get token account balance");return a.result}async getTokenAccountsByOwner(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$3(r);let c=[e.toBase58()];"mint"in t?c.push({mint:t.mint.toBase58()}):c.push({programId:t.programId.toBase58()});const u=this._buildArgs(c,o,"base64",a),en=await this._rpcRequest("getTokenAccountsByOwner",u),tn=create$6(en,GetTokenAccountsByOwner$3);if("error"in tn)throw new SolanaJSONRPCError$3(tn.error,`failed to get token accounts owned by account ${e.toBase58()}`);return tn.result}async getParsedTokenAccountsByOwner(e,t,r){let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,r,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=create$6(c,GetParsedTokenAccountsByOwner$3);if("error"in u)throw new SolanaJSONRPCError$3(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],o=await this._rpcRequest("getLargestAccounts",r),a=create$6(o,GetLargestAccountsRpcResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get largest accounts");return a.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenLargestAccounts",r),a=create$6(o,GetTokenLargestAccountsResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get token largest accounts");return a.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=this._buildArgs([e.toBase58()],r,"base64",o),c=await this._rpcRequest("getAccountInfo",a),u=create$6(c,jsonRpcResultAndContext$7(nullable$6(AccountInfoResult$6)));if("error"in u)throw new SolanaJSONRPCError$3(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",a),u=create$6(c,jsonRpcResultAndContext$7(nullable$6(ParsedAccountInfoResult$6)));if("error"in u)throw new SolanaJSONRPCError$3(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"jsonParsed",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create$6(u,jsonRpcResultAndContext$7(array$7(nullable$6(ParsedAccountInfoResult$6))));if("error"in en)throw new SolanaJSONRPCError$3(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create$6(u,jsonRpcResultAndContext$7(array$7(nullable$6(AccountInfoResult$6))));if("error"in en)throw new SolanaJSONRPCError$3(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$3(t),c=this._buildArgs([e.toBase58()],o,void 0,{...a,epoch:r??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getStakeActivation",c),en=create$6(u,jsonRpcResult$7(StakeActivationResult$3));if("error"in en)throw new SolanaJSONRPCError$3(en.error,`failed to get Stake Activation ${e.toBase58()}`);return en.result}async getProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),{encoding:a,...c}=o||{},u=this._buildArgs([e.toBase58()],r,a||"base64",c),en=await this._rpcRequest("getProgramAccounts",u),tn=array$7(KeyedAccountInfoResult$3),nn=c.withContext===!0?create$6(en,jsonRpcResultAndContext$7(tn)):create$6(en,jsonRpcResult$7(tn));if("error"in nn)throw new SolanaJSONRPCError$3(nn.error,`failed to get accounts owned by program ${e.toBase58()}`);return nn.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",a),u=create$6(c,jsonRpcResult$7(array$7(KeyedParsedAccountInfoResult$3)));if("error"in u)throw new SolanaJSONRPCError$3(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){var a;let r;if(typeof e=="string")r=e;else{const c=e;if((a=c.abortSignal)!=null&&a.aborted)return Promise.reject(c.abortSignal.reason);r=c.signature}let o;try{o=bs58$3.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return assert$g(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,o,a=!1;const c=new Promise((en,tn)=>{try{r=this.onSignature(t,(sn,fn)=>{r=void 0;const dn={context:fn,value:sn};en({__type:TransactionStatus$3.PROCESSED,response:dn})},e);const nn=new Promise(sn=>{r==null?sn():o=this._onSubscriptionStateChange(r,fn=>{fn==="subscribed"&&sn()})});(async()=>{if(await nn,a)return;const sn=await this.getSignatureStatus(t);if(a||sn==null)return;const{context:fn,value:dn}=sn;if(dn!=null)if(dn!=null&&dn.err)tn(dn.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(dn.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(dn.confirmationStatus==="processed"||dn.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}a=!0,en({__type:TransactionStatus$3.PROCESSED,response:{context:fn,value:dn}})}})()}catch(nn){tn(nn)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:o}}){let a=!1;const c=new Promise(sn=>{const fn=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let dn=await fn();if(!a){for(;dn<=r;)if(await sleep$3(1e3),a||(dn=await fn(),a))return;sn({__type:TransactionStatus$3.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:en}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),tn=this.getCancellationPromise(t);let nn;try{const sn=await Promise.race([tn,en,c]);if(sn.__type===TransactionStatus$3.PROCESSED)nn=sn.response;else throw new TransactionExpiredBlockheightExceededError$3(o)}finally{a=!0,u()}return nn}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:o,nonceValue:a,signature:c}}){let u=!1;const en=new Promise(dn=>{let hn=a,ln=null;const pn=async()=>{try{const{context:$n,value:Sn}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:r});return ln=$n.slot,Sn==null?void 0:Sn.nonce}catch{return hn}};(async()=>{if(hn=await pn(),!u)for(;;){if(a!==hn){dn({__type:TransactionStatus$3.NONCE_INVALID,slotInWhichNonceDidAdvance:ln});return}if(await sleep$3(2e3),u||(hn=await pn(),u))return}})()}),{abortConfirmation:tn,confirmationPromise:nn}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),sn=this.getCancellationPromise(t);let fn;try{const dn=await Promise.race([sn,nn,en]);if(dn.__type===TransactionStatus$3.PROCESSED)fn=dn.response;else{let hn;for(;;){const ln=await this.getSignatureStatus(c);if(ln==null)break;if(ln.context.slot<(dn.slotInWhichNonceDidAdvance??r)){await sleep$3(400);continue}hn=ln;break}if(hn!=null&&hn.value){const ln=e||"finalized",{confirmationStatus:pn}=hn.value;switch(ln){case"processed":case"recent":if(pn!=="processed"&&pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError$3(c);break;case"confirmed":case"single":case"singleGossip":if(pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError$3(c);break;case"finalized":case"max":case"root":if(pn!=="finalized")throw new TransactionExpiredNonceInvalidError$3(c);break;default:($n=>{})(ln)}fn={context:hn.context,value:{err:hn.value.err}}}else throw new TransactionExpiredNonceInvalidError$3(c)}}finally{u=!0,tn()}return fn}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const o=new Promise(en=>{let tn=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{tn=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>en({__type:TransactionStatus$3.TIMED_OUT,timeoutMs:tn}),tn)}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let u;try{const en=await Promise.race([c,o]);if(en.__type===TransactionStatus$3.PROCESSED)u=en.response;else throw new TransactionExpiredTimeoutError$3(t,en.timeoutMs/1e3)}finally{clearTimeout(r),a()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=create$6(e,jsonRpcResult$7(array$7(ContactInfoResult$3)));if("error"in t)throw new SolanaJSONRPCError$3(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),o=create$6(r,GetVoteAccounts$3);if("error"in o)throw new SolanaJSONRPCError$3(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:t,config:r}=extractCommitmentFromConfig$3(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlot",o),c=create$6(a,jsonRpcResult$7(number$7()));if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:t,config:r}=extractCommitmentFromConfig$3(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlotLeader",o),c=create$6(a,jsonRpcResult$7(string$7()));if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,t){const r=[e,t],o=await this._rpcRequest("getSlotLeaders",r),a=create$6(o,jsonRpcResult$7(array$7(PublicKeyFromString$6)));if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get slot leaders");return a.result}async getSignatureStatus(e,t){const{context:r,value:o}=await this.getSignatureStatuses([e],t);assert$g(o.length===1);const a=o[0];return{context:r,value:a}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const o=await this._rpcRequest("getSignatureStatuses",r),a=create$6(o,GetSignatureStatusesRpcResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get signature status");return a.result}async getTransactionCount(e){const{commitment:t,config:r}=extractCommitmentFromConfig$3(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getTransactionCount",o),c=create$6(a,jsonRpcResult$7(number$7()));if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),o=create$6(r,GetInflationGovernorRpcResult$3);if("error"in o)throw new SolanaJSONRPCError$3(o.error,"failed to get inflation");return o.result}async getInflationReward(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$3(r),c=this._buildArgs([e.map(tn=>tn.toBase58())],o,void 0,{...a,epoch:t??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getInflationReward",c),en=create$6(u,GetInflationRewardResult$3);if("error"in en)throw new SolanaJSONRPCError$3(en.error,"failed to get inflation reward");return en.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=create$6(e,GetInflationRateRpcResult$3);if("error"in t)throw new SolanaJSONRPCError$3(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=extractCommitmentFromConfig$3(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getEpochInfo",o),c=create$6(a,GetEpochInfoRpcResult$3);if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=create$6(e,GetEpochScheduleRpcResult$3);if("error"in t)throw new SolanaJSONRPCError$3(t.error,"failed to get epoch schedule");const r=t.result;return new EpochSchedule$3(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=create$6(e,GetLeaderScheduleRpcResult$3);if("error"in t)throw new SolanaJSONRPCError$3(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),a=create$6(o,GetMinimumBalanceForRentExemptionRpcResult$3);return"error"in a?(console.warn("Unable to fetch minimum balance for rent exemption"),0):a.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),o=create$6(r,GetRecentBlockhashAndContextRpcResult$3);if("error"in o)throw new SolanaJSONRPCError$3(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=create$6(t,GetRecentPerformanceSamplesRpcResult$3);if("error"in r)throw new SolanaJSONRPCError$3(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),a=create$6(o,GetFeeCalculatorRpcResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get fee calculator");const{context:c,value:u}=a.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const r=toBuffer$6(e.serialize()).toString("base64"),o=this._buildArgs([r],t),a=await this._rpcRequest("getFeeForMessage",o),c=create$6(a,jsonRpcResultAndContext$7(nullable$6(number$7())));if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){var c;const t=(c=e==null?void 0:e.lockedWritableAccounts)==null?void 0:c.map(u=>u.toBase58()),r=t!=null&&t.length?[t]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),a=create$6(o,GetRecentPrioritizationFeesRpcResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get recent prioritization fees");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=extractCommitmentFromConfig$3(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getLatestBlockhash",o),c=create$6(a,GetLatestBlockhashRpcResult$3);if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=this._buildArgs([e],r,void 0,o),c=await this._rpcRequest("isBlockhashValid",a),u=create$6(c,IsBlockhashValidRpcResult$3);if("error"in u)throw new SolanaJSONRPCError$3(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=create$6(e,jsonRpcResult$7(VersionResult$3));if("error"in t)throw new SolanaJSONRPCError$3(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=create$6(e,jsonRpcResult$7(string$7()));if("error"in t)throw new SolanaJSONRPCError$3(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$6(c,GetAccountsModeBlockRpcResult$3);if("error"in u)throw u.error;return u.result}case"none":{const u=create$6(c,GetNoneModeBlockRpcResult$3);if("error"in u)throw u.error;return u.result}default:{const u=create$6(c,GetBlockRpcResult$3);if("error"in u)throw u.error;const{result:en}=u;return en?{...en,transactions:en.transactions.map(({transaction:tn,meta:nn,version:sn})=>({meta:nn,transaction:{...tn,message:versionedMessageFromResponse$3(sn,tn.message)},version:sn}))}:null}}}catch(u){throw new SolanaJSONRPCError$3(u,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$6(c,GetParsedAccountsModeBlockRpcResult$3);if("error"in u)throw u.error;return u.result}case"none":{const u=create$6(c,GetParsedNoneModeBlockRpcResult$3);if("error"in u)throw u.error;return u.result}default:{const u=create$6(c,GetParsedBlockRpcResult$3);if("error"in u)throw u.error;return u.result}}}catch(u){throw new SolanaJSONRPCError$3(u,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:u,...en}=e;r=u,t=en}const o=this._buildArgs([],r,"base64",t),a=await this._rpcRequest("getBlockProduction",o),c=create$6(a,BlockProductionResponseStruct$3);if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get block production information");return c.result}async getTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getTransaction",a),u=create$6(c,GetTransactionRpcResult$3);if("error"in u)throw new SolanaJSONRPCError$3(u.error,"failed to get transaction");const en=u.result;return en&&{...en,transaction:{...en.transaction,message:versionedMessageFromResponse$3(en.version,en.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getTransaction",a),u=create$6(c,GetParsedTransactionRpcResult$3);if("error"in u)throw new SolanaJSONRPCError$3(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,"jsonParsed",o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create$6(en,GetParsedTransactionRpcResult$3);if("error"in tn)throw new SolanaJSONRPCError$3(tn.error,"failed to get transactions");return tn.result})}async getTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$3(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,void 0,o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create$6(en,GetTransactionRpcResult$3);if("error"in tn)throw new SolanaJSONRPCError$3(tn.error,"failed to get transactions");const nn=tn.result;return nn&&{...nn,transaction:{...nn.transaction,message:versionedMessageFromResponse$3(nn.version,nn.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedBlock",r),a=create$6(o,GetConfirmedBlockRpcResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:en,meta:tn})=>{const nn=new Message$5(en.message);return{meta:tn,transaction:{...en,message:nn}}})};return{...u,transactions:u.transactions.map(({transaction:en,meta:tn})=>({meta:tn,transaction:Transaction$5.populate(en.message,en.signatures)}))}}async getBlocks(e,t,r){const o=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),a=await this._rpcRequest("getBlocks",o),c=create$6(a,jsonRpcResult$7(array$7(number$7())));if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),a=create$6(o,GetBlockSignaturesRpcResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get block");const c=a.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",r),a=create$6(o,GetBlockSignaturesRpcResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedTransaction",r),a=create$6(o,GetTransactionRpcResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get transaction");const c=a.result;if(!c)return c;const u=new Message$5(c.transaction.message),en=c.transaction.signatures;return{...c,transaction:Transaction$5.populate(u,en)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",r),a=create$6(o,GetParsedTransactionRpcResult$3);if("error"in a)throw new SolanaJSONRPCError$3(a.error,"failed to get confirmed transaction");return a.result}async getParsedConfirmedTransactions(e,t){const r=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(r)).map(c=>{const u=create$6(c,GetParsedTransactionRpcResult$3);if("error"in u)throw new SolanaJSONRPCError$3(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,r){let o={},a=await this.getFirstAvailableBlock();for(;!("until"in o)&&(t--,!(t<=0||t<a));)try{const en=await this.getConfirmedBlockSignatures(t,"finalized");en.signatures.length>0&&(o.until=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}let c=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>c));)try{const en=await this.getConfirmedBlockSignatures(r);en.signatures.length>0&&(o.before=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(en=>en.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=create$6(a,GetConfirmedSignaturesForAddress2RpcResult$3);if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getSignaturesForAddress",o),c=create$6(a,GetSignaturesForAddressRpcResult$3);if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=new AddressLookupTableAccount$3({key:e,state:AddressLookupTableAccount$3.deserialize(o.data)})),{context:r,value:a}}async getNonceAndContext(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=NonceAccount$3.fromAccountData(o.data)),{context:r,value:a}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),o=create$6(r,RequestAirdropRpcResult$3);if("error"in o)throw new SolanaJSONRPCError$3(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep$3(100);const r=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS$3;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let o=0;o<50;o++){const a=await this.getLatestBlockhash("finalized");if(r!==a.blockhash)return this._blockhashInfo={latestBlockhash:a,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},a;await sleep$3(MS_PER_SLOT$3/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=extractCommitmentFromConfig$3(e),o=this._buildArgs([],t,"base64",r),a=await this._rpcRequest("getStakeMinimumDelegation",o),c=create$6(a,jsonRpcResultAndContext$7(number$7()));if("error"in c)throw new SolanaJSONRPCError$3(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,t,r){if("message"in e){const ln=e.serialize(),pn=bufferPolyfill.Buffer.from(ln).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const $n=t||{};$n.encoding="base64","commitment"in $n||($n.commitment=this.commitment);const Sn=[pn,$n],yn=await this._rpcRequest("simulateTransaction",Sn),In=create$6(yn,SimulatedTransactionResponseStruct$4);if("error"in In)throw new Error("failed to simulate transaction: "+In.error.message);return In.result}let o;if(e instanceof Transaction$5){let hn=e;o=new Transaction$5,o.feePayer=hn.feePayer,o.instructions=e.instructions,o.nonceInfo=hn.nonceInfo,o.signatures=hn.signatures}else o=Transaction$5.populate(e),o._message=o._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const a=t;if(o.nonceInfo&&a)o.sign(...a);else{let hn=this._disableBlockhashCaching;for(;;){const ln=await this._blockhashWithExpiryBlockHeight(hn);if(o.lastValidBlockHeight=ln.lastValidBlockHeight,o.recentBlockhash=ln.blockhash,!a)break;if(o.sign(...a),!o.signature)throw new Error("!signature");const pn=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(pn)&&!this._blockhashInfo.transactionSignatures.includes(pn)){this._blockhashInfo.simulatedSignatures.push(pn);break}else hn=!0}}const c=o._compile(),u=c.serialize(),tn=o._serialize(u).toString("base64"),nn={encoding:"base64",commitment:this.commitment};if(r){const hn=(Array.isArray(r)?r:c.nonProgramIds()).map(ln=>ln.toBase58());nn.accounts={encoding:"base64",addresses:hn}}a&&(nn.sigVerify=!0);const sn=[tn,nn],fn=await this._rpcRequest("simulateTransaction",sn),dn=create$6(fn,SimulatedTransactionResponseStruct$4);if("error"in dn){let hn;if("data"in dn.error&&(hn=dn.error.data.logs,hn&&Array.isArray(hn))){const ln=`
    `,pn=ln+hn.join(ln);console.error(dn.error.message,pn)}throw new SendTransactionError$3("failed to simulate transaction: "+dn.error.message,hn)}return dn.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(e.nonceInfo)e.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const en=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(en))c=!0;else{this._blockhashInfo.transactionSignatures.push(en);break}}}const a=e.serialize();return await this.sendRawTransaction(a,r)}async sendRawTransaction(e,t){const r=toBuffer$6(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},o=t&&t.skipPreflight,a=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),o&&(r.skipPreflight=o),a&&(r.preflightCommitment=a);const c=[e,r],u=await this._rpcRequest("sendTransaction",c),en=create$6(u,SendTransactionRpcResult$3);if("error"in en){let tn;throw"data"in en.error&&(tn=en.error.data.logs),new SendTransactionError$3("failed to send transaction: "+en.error.message,tn)}return en.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var o;const r=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(c=>{try{c(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return o.add(t),()=>{o.delete(t),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:a,method:c}=o;try{this._setSubscription(r,{...o,state:"subscribing"});const u=await this._rpcWebSocket.call(c,a);this._setSubscription(r,{...o,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,a,u.message),!t())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:a,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(a))this._subscriptionsAutoDisposedByRpc.delete(a);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[a])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!t())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(o=>{try{o(...t)}catch(a){console.error(a)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=create$6(e,AccountNotificationResult$3);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,o=fastStableStringify$1$3([e.method,t],!0),a=this._subscriptionsByHash[o];return a===void 0?this._subscriptionsByHash[o]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:a.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const c=this._subscriptionsByHash[o];assert$g(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=create$6(e,ProgramAccountNotificationResult$3);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,o){const a=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=create$6(e,LogsNotificationResult$3);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=create$6(e,SlotNotificationResult$3);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=create$6(e,SlotUpdateNotificationResult$3);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,o){const a=t||this._commitment;if(a||r||o){let c={};r&&(c.encoding=r),a&&(c.commitment=a),o&&(c=Object.assign(c,o)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,t,r,o){const a=t||this._commitment;if(a&&!["confirmed","finalized"].includes(a))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,o)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=create$6(e,SignatureNotificationResult$3);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const o=this._buildArgs([e],r||this._commitment||"finalized"),a=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){t(c.result,u);try{this.removeSignatureListener(a)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}onSignatureWithOptions(e,t,r){const{commitment:o,...a}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},c=this._buildArgs([e],o,void 0,a),u=this._makeSubscription({callback:(en,tn)=>{t(en,tn);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=create$6(e,RootNotificationResult$3);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair$4{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair$4()}static generate(){return new Keypair$4(generateKeypair$4())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const o=e.slice(0,32),a=getPublicKey$4(o);for(let c=0;c<32;c++)if(r[c]!==a[c])throw new Error("provided secretKey is invalid")}return new Keypair$4({publicKey:r,secretKey:e})}static fromSeed(e){const t=getPublicKey$4(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Keypair$4({publicKey:t,secretKey:r})}get publicKey(){return new PublicKey$6(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3=Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$3("instruction"),u64$b("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$3("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$3("instruction"),u64$b(),seq(publicKey$b(),offset$1(u32$3(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$3("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$3("instruction")])}});class AddressLookupTableInstruction$3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3))if(c.index==r){o=a;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=decodeData$1$3(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=decodeData$1$3(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new PublicKey$6(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram$3.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class AddressLookupTableProgram$3{constructor(){}static createLookupTable(e){const[t,r]=PublicKey$6.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),o=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3.CreateLookupTable,a=encodeData$5(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$5.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction$5({programId:this.programId,keys:c,data:a}),t]}static freezeLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3.FreezeLookupTable,r=encodeData$5(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$5({programId:this.programId,keys:o,data:r})}static extendLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3.ExtendLookupTable,r=encodeData$5(t,{addresses:e.addresses.map(a=>a.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$5.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction$5({programId:this.programId,keys:o,data:r})}static deactivateLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3.DeactivateLookupTable,r=encodeData$5(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$5({programId:this.programId,keys:o,data:r})}static closeLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3.CloseLookupTable,r=encodeData$5(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction$5({programId:this.programId,keys:o,data:r})}}AddressLookupTableProgram$3.programId=new PublicKey$6("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction$3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u8$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=decodeData$1$3(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=decodeData$1$3(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=decodeData$1$3(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=decodeData$1$3(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram$3.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3=Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$3("units"),u32$3("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$3("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$3("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$b("microLamports")])}});class ComputeBudgetProgram$3{constructor(){}static requestUnits(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3.RequestUnits,r=encodeData$5(t,e);return new TransactionInstruction$5({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3.RequestHeapFrame,r=encodeData$5(t,e);return new TransactionInstruction$5({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3.SetComputeUnitLimit,r=encodeData$5(t,e);return new TransactionInstruction$5({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3.SetComputeUnitPrice,r=encodeData$5(t,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction$5({keys:[],programId:this.programId,data:r})}}ComputeBudgetProgram$3.programId=new PublicKey$6("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1$3=64,PUBLIC_KEY_BYTES$1$3=32,SIGNATURE_BYTES$3=64,ED25519_INSTRUCTION_LAYOUT$3=struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program$3{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,instructionIndex:a}=e;assert$g(t.length===PUBLIC_KEY_BYTES$1$3,`Public Key must be ${PUBLIC_KEY_BYTES$1$3} bytes but received ${t.length} bytes`),assert$g(o.length===SIGNATURE_BYTES$3,`Signature must be ${SIGNATURE_BYTES$3} bytes but received ${o.length} bytes`);const c=ED25519_INSTRUCTION_LAYOUT$3.span,u=c+t.length,en=u+o.length,tn=1,nn=bufferPolyfill.Buffer.alloc(en+r.length),sn=a??65535;return ED25519_INSTRUCTION_LAYOUT$3.encode({numSignatures:tn,padding:0,signatureOffset:u,signatureInstructionIndex:sn,publicKeyOffset:c,publicKeyInstructionIndex:sn,messageDataOffset:en,messageDataSize:r.length,messageInstructionIndex:sn},nn),nn.fill(t,c),nn.fill(o,u),nn.fill(r,en),new TransactionInstruction$5({keys:[],programId:Ed25519Program$3.programId,data:nn})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;assert$g(t.length===PRIVATE_KEY_BYTES$1$3,`Private key must be ${PRIVATE_KEY_BYTES$1$3} bytes but received ${t.length} bytes`);try{const a=Keypair$4.fromSecretKey(t),c=a.publicKey.toBytes(),u=sign$5(r,a.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:u,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Ed25519Program$3.programId=new PublicKey$6("Ed25519SigVerify111111111111111111111111111");const ecdsaSign$3=(n,e)=>{const t=secp256k1$1.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};secp256k1$1.utils.isValidPrivateKey;const publicKeyCreate$3=secp256k1$1.getPublicKey,PRIVATE_KEY_BYTES$4=32,ETHEREUM_ADDRESS_BYTES$3=20,PUBLIC_KEY_BYTES$4=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE$3=11,SECP256K1_INSTRUCTION_LAYOUT$3=struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);class Secp256k1Program$3{constructor(){}static publicKeyToEthAddress(e){assert$g(e.length===PUBLIC_KEY_BYTES$4,`Public key must be ${PUBLIC_KEY_BYTES$4} bytes but received ${e.length} bytes`);try{return bufferPolyfill.Buffer.from(keccak_256(toBuffer$6(e))).slice(-ETHEREUM_ADDRESS_BYTES$3)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,recoveryId:a,instructionIndex:c}=e;return Secp256k1Program$3.createInstructionWithEthAddress({ethAddress:Secp256k1Program$3.publicKeyToEthAddress(t),message:r,signature:o,recoveryId:a,instructionIndex:c})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:o,recoveryId:a,instructionIndex:c=0}=e;let u;typeof t=="string"?t.startsWith("0x")?u=bufferPolyfill.Buffer.from(t.substr(2),"hex"):u=bufferPolyfill.Buffer.from(t,"hex"):u=t,assert$g(u.length===ETHEREUM_ADDRESS_BYTES$3,`Address must be ${ETHEREUM_ADDRESS_BYTES$3} bytes but received ${u.length} bytes`);const en=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE$3,tn=en,nn=en+u.length,sn=nn+o.length+1,fn=1,dn=bufferPolyfill.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT$3.span+r.length);return SECP256K1_INSTRUCTION_LAYOUT$3.encode({numSignatures:fn,signatureOffset:nn,signatureInstructionIndex:c,ethAddressOffset:tn,ethAddressInstructionIndex:c,messageDataOffset:sn,messageDataSize:r.length,messageInstructionIndex:c,signature:toBuffer$6(o),ethAddress:toBuffer$6(u),recoveryId:a},dn),dn.fill(toBuffer$6(r),SECP256K1_INSTRUCTION_LAYOUT$3.span),new TransactionInstruction$5({keys:[],programId:Secp256k1Program$3.programId,data:dn})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;assert$g(t.length===PRIVATE_KEY_BYTES$4,`Private key must be ${PRIVATE_KEY_BYTES$4} bytes but received ${t.length} bytes`);try{const a=toBuffer$6(t),c=publicKeyCreate$3(a,!1).slice(1),u=bufferPolyfill.Buffer.from(keccak_256(toBuffer$6(r))),[en,tn]=ecdsaSign$3(u,a);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:en,recoveryId:tn,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Secp256k1Program$3.programId=new PublicKey$6("KeccakSecp256k11111111111111111111111111111");var _class2$5;const STAKE_CONFIG_ID$3=new PublicKey$6("StakeConfig11111111111111111111111111111111");class Authorized$3{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Lockup$6{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_class2$5=Lockup$6;Lockup$6.default=new _class2$5(0,0,PublicKey$6.default);class StakeInstruction$3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(STAKE_INSTRUCTION_LAYOUTS$3))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=decodeData$1$3(STAKE_INSTRUCTION_LAYOUTS$3.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized$3(new PublicKey$6(t.staker),new PublicKey$6(t.withdrawer)),lockup:new Lockup$6(r.unixTimestamp,r.epoch,new PublicKey$6(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1$3(STAKE_INSTRUCTION_LAYOUTS$3.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=decodeData$1$3(STAKE_INSTRUCTION_LAYOUTS$3.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$6(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:o,authorityOwner:a}=decodeData$1$3(STAKE_INSTRUCTION_LAYOUTS$3.AuthorizeWithSeed,e.data),c={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new PublicKey$6(a),newAuthorizedPubkey:new PublicKey$6(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=decodeData$1$3(STAKE_INSTRUCTION_LAYOUTS$3.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$3(STAKE_INSTRUCTION_LAYOUTS$3.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData$1$3(STAKE_INSTRUCTION_LAYOUTS$3.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$3(STAKE_INSTRUCTION_LAYOUTS$3.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram$3.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const STAKE_INSTRUCTION_LAYOUTS$3=Object.freeze({Initialize:{index:0,layout:struct$3([u32$3("instruction"),authorized$6(),lockup$6()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$b("newAuthorized"),u32$3("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$3("instruction")])},Split:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$3("instruction")])},Merge:{index:7,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$3("instruction"),publicKey$b("newAuthorized"),u32$3("stakeAuthorizationType"),rustString$6("authoritySeed"),publicKey$b("authorityOwner")])}}),StakeAuthorizationLayout$3=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram$3{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:o}=e,a=o||Lockup$6.default,c=STAKE_INSTRUCTION_LAYOUTS$3.Initialize,u=encodeData$5(c,{authorized:{staker:toBuffer$6(r.staker.toBuffer()),withdrawer:toBuffer$6(r.withdrawer.toBuffer())},lockup:{unixTimestamp:a.unixTimestamp,epoch:a.epoch,custodian:toBuffer$6(a.custodian.toBuffer())}}),en={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$5,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new TransactionInstruction$5(en)}static createAccountWithSeed(e){const t=new Transaction$5;t.add(SystemProgram$5.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:a}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:a}))}static createAccount(e){const t=new Transaction$5;t.add(SystemProgram$5.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:a}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:a}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS$3.Delegate,c=encodeData$5(a);return new Transaction$5().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID$3,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS$3.Authorize,en=encodeData$5(u,{newAuthorized:toBuffer$6(o.toBuffer()),stakeAuthorizationType:a.index}),tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$3,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&tn.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$5().add({keys:tn,programId:this.programId,data:en})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:o,authorityOwner:a,newAuthorizedPubkey:c,stakeAuthorizationType:u,custodianPubkey:en}=e,tn=STAKE_INSTRUCTION_LAYOUTS$3.AuthorizeWithSeed,nn=encodeData$5(tn,{newAuthorized:toBuffer$6(c.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:o,authorityOwner:toBuffer$6(a.toBuffer())}),sn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$3,isSigner:!1,isWritable:!1}];return en&&sn.push({pubkey:en,isSigner:!1,isWritable:!1}),new Transaction$5().add({keys:sn,programId:this.programId,data:nn})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:a}=e,c=STAKE_INSTRUCTION_LAYOUTS$3.Split,u=encodeData$5(c,{lamports:a});return new TransactionInstruction$5({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){const t=new Transaction$5;return t.add(SystemProgram$5.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,basePubkey:a,seed:c,lamports:u}=e,en=new Transaction$5;return en.add(SystemProgram$5.allocate({accountPubkey:o,basePubkey:a,seed:c,space:this.space,programId:this.programId})),en.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:u}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS$3.Merge,c=encodeData$5(a);return new Transaction$5().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:o,lamports:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS$3.Withdraw,en=encodeData$5(u,{lamports:a}),tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&tn.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$5().add({keys:tn,programId:this.programId,data:en})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,o=STAKE_INSTRUCTION_LAYOUTS$3.Deactivate,a=encodeData$5(o);return new Transaction$5().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}}StakeProgram$3.programId=new PublicKey$6("Stake11111111111111111111111111111111111111");StakeProgram$3.space=200;class VoteInit$3{constructor(e,t,r,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=o}}class VoteInstruction$3{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(VOTE_INSTRUCTION_LAYOUTS$3))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=decodeData$1$3(VOTE_INSTRUCTION_LAYOUTS$3.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit$3(new PublicKey$6(t.nodePubkey),new PublicKey$6(t.authorizedVoter),new PublicKey$6(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=decodeData$1$3(VOTE_INSTRUCTION_LAYOUTS$3.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$6(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:o,voteAuthorizationType:a}}=decodeData$1$3(VOTE_INSTRUCTION_LAYOUTS$3.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey$6(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new PublicKey$6(o),voteAuthorizationType:{index:a},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=decodeData$1$3(VOTE_INSTRUCTION_LAYOUTS$3.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram$3.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const VOTE_INSTRUCTION_LAYOUTS$3=Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$3("instruction"),voteInit$6()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$b("newAuthorized"),u32$3("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$3("instruction"),voteAuthorizeWithSeedArgs$6()])}}),VoteAuthorizationLayout$3=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram$3{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:o}=e,a=VOTE_INSTRUCTION_LAYOUTS$3.InitializeAccount,c=encodeData$5(a,{voteInit:{nodePubkey:toBuffer$6(o.nodePubkey.toBuffer()),authorizedVoter:toBuffer$6(o.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer$6(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$5,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new TransactionInstruction$5(u)}static createAccount(e){const t=new Transaction$5;return t.add(SystemProgram$5.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,voteAuthorizationType:a}=e,c=VOTE_INSTRUCTION_LAYOUTS$3.Authorize,u=encodeData$5(c,{newAuthorized:toBuffer$6(o.toBuffer()),voteAuthorizationType:a.index}),en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$5().add({keys:en,programId:this.programId,data:u})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:a,voteAuthorizationType:c,votePubkey:u}=e,en=VOTE_INSTRUCTION_LAYOUTS$3.AuthorizeWithSeed,tn=encodeData$5(en,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer$6(r.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:toBuffer$6(a.toBuffer()),voteAuthorizationType:c.index}}),nn=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Transaction$5().add({keys:nn,programId:this.programId,data:tn})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:o,toPubkey:a}=e,c=VOTE_INSTRUCTION_LAYOUTS$3.Withdraw,u=encodeData$5(c,{lamports:o}),en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$5().add({keys:en,programId:this.programId,data:u})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram$3.withdraw(e)}}VoteProgram$3.programId=new PublicKey$6("Vote111111111111111111111111111111111111111");VoteProgram$3.space=3731;const VALIDATOR_INFO_KEY$3=new PublicKey$6("Va1idator1nfo111111111111111111111111111111"),InfoString$3=type$6({name:string$7(),website:optional$6(string$7()),details:optional$6(string$7()),keybaseUsername:optional$6(string$7())});class ValidatorInfo$3{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(decodeLength$5(t)!==2)return null;const o=[];for(let a=0;a<2;a++){const c=new PublicKey$6(t.slice(0,PUBLIC_KEY_LENGTH$6));t=t.slice(PUBLIC_KEY_LENGTH$6);const u=t.slice(0,1)[0]===1;t=t.slice(1),o.push({publicKey:c,isSigner:u})}if(o[0].publicKey.equals(VALIDATOR_INFO_KEY$3)&&o[1].isSigner){const a=rustString$6().decode(bufferPolyfill.Buffer.from(t)),c=JSON.parse(a);return assert$h(c,InfoString$3),new ValidatorInfo$3(o[1].publicKey,c)}return null}}const VOTE_PROGRAM_ID$3=new PublicKey$6("Vote111111111111111111111111111111111111111"),VoteAccountLayout$3=struct$3([publicKey$b("nodePubkey"),publicKey$b("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$3("confirmationCount")]),offset$1(u32$3(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$b("authorizedVoter")]),offset$1(u32$3(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$b("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$3(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount$3{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=VoteAccountLayout$3.decode(toBuffer$6(e),4);let o=r.rootSlot;return r.rootSlotValid||(o=null),new VoteAccount$3({nodePubkey:new PublicKey$6(r.nodePubkey),authorizedWithdrawer:new PublicKey$6(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:o,authorizedVoters:r.authorizedVoters.map(parseAuthorizedVoter$3),priorVoters:getPriorVoters$3(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function parseAuthorizedVoter$3({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey$6(n)}}function parsePriorVoters$3({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new PublicKey$6(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function getPriorVoters$3({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(parsePriorVoters$3),...n.slice(0,e).map(parsePriorVoters$3)]}const endpoint$3={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl$3(n,e){const t=e===!1?"http":"https";if(!n)return endpoint$3[t].devnet;const r=endpoint$3[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function sendAndConfirmRawTransaction$4(n,e,t,r){let o,a;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(o=t,a=r):a=t;const c=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},u=await n.sendRawTransaction(e,c),en=a&&a.commitment,nn=(await(o?n.confirmTransaction(o,en):n.confirmTransaction(u,en))).value;if(nn.err)throw new Error(`Raw transaction ${u} failed (${JSON.stringify(nn)})`);return u}const LAMPORTS_PER_SOL$3=1e9;var index_browser_esm$4=Object.freeze(Object.defineProperty({__proto__:null,Account:Account$3,AddressLookupTableAccount:AddressLookupTableAccount$3,AddressLookupTableInstruction:AddressLookupTableInstruction$3,AddressLookupTableProgram:AddressLookupTableProgram$3,Authorized:Authorized$3,BLOCKHASH_CACHE_TIMEOUT_MS:BLOCKHASH_CACHE_TIMEOUT_MS$3,BPF_LOADER_DEPRECATED_PROGRAM_ID:BPF_LOADER_DEPRECATED_PROGRAM_ID$3,BPF_LOADER_PROGRAM_ID:BPF_LOADER_PROGRAM_ID$3,BpfLoader:BpfLoader$3,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$3,ComputeBudgetInstruction:ComputeBudgetInstruction$3,ComputeBudgetProgram:ComputeBudgetProgram$3,Connection:Connection$3,Ed25519Program:Ed25519Program$3,Enum:Enum$3,EpochSchedule:EpochSchedule$3,FeeCalculatorLayout:FeeCalculatorLayout$6,Keypair:Keypair$4,LAMPORTS_PER_SOL:LAMPORTS_PER_SOL$3,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:LOOKUP_TABLE_INSTRUCTION_LAYOUTS$3,Loader:Loader$3,Lockup:Lockup$6,MAX_SEED_LENGTH:MAX_SEED_LENGTH$6,Message:Message$5,MessageAccountKeys:MessageAccountKeys$5,MessageV0:MessageV0$4,NONCE_ACCOUNT_LENGTH:NONCE_ACCOUNT_LENGTH$5,NonceAccount:NonceAccount$3,PACKET_DATA_SIZE:PACKET_DATA_SIZE$5,PUBLIC_KEY_LENGTH:PUBLIC_KEY_LENGTH$6,PublicKey:PublicKey$6,SIGNATURE_LENGTH_IN_BYTES:SIGNATURE_LENGTH_IN_BYTES$6,SOLANA_SCHEMA:SOLANA_SCHEMA$6,STAKE_CONFIG_ID:STAKE_CONFIG_ID$3,STAKE_INSTRUCTION_LAYOUTS:STAKE_INSTRUCTION_LAYOUTS$3,SYSTEM_INSTRUCTION_LAYOUTS:SYSTEM_INSTRUCTION_LAYOUTS$5,SYSVAR_CLOCK_PUBKEY:SYSVAR_CLOCK_PUBKEY$3,SYSVAR_EPOCH_SCHEDULE_PUBKEY:SYSVAR_EPOCH_SCHEDULE_PUBKEY$3,SYSVAR_INSTRUCTIONS_PUBKEY:SYSVAR_INSTRUCTIONS_PUBKEY$3,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$5,SYSVAR_RENT_PUBKEY:SYSVAR_RENT_PUBKEY$5,SYSVAR_REWARDS_PUBKEY:SYSVAR_REWARDS_PUBKEY$3,SYSVAR_SLOT_HASHES_PUBKEY:SYSVAR_SLOT_HASHES_PUBKEY$3,SYSVAR_SLOT_HISTORY_PUBKEY:SYSVAR_SLOT_HISTORY_PUBKEY$3,SYSVAR_STAKE_HISTORY_PUBKEY:SYSVAR_STAKE_HISTORY_PUBKEY$3,Secp256k1Program:Secp256k1Program$3,SendTransactionError:SendTransactionError$3,SolanaJSONRPCError:SolanaJSONRPCError$3,SolanaJSONRPCErrorCode:SolanaJSONRPCErrorCode$3,StakeAuthorizationLayout:StakeAuthorizationLayout$3,StakeInstruction:StakeInstruction$3,StakeProgram:StakeProgram$3,Struct:Struct$c,SystemInstruction:SystemInstruction$3,SystemProgram:SystemProgram$5,Transaction:Transaction$5,TransactionExpiredBlockheightExceededError:TransactionExpiredBlockheightExceededError$3,TransactionExpiredNonceInvalidError:TransactionExpiredNonceInvalidError$3,TransactionExpiredTimeoutError:TransactionExpiredTimeoutError$3,TransactionInstruction:TransactionInstruction$5,TransactionMessage:TransactionMessage$3,TransactionStatus:TransactionStatus$3,VALIDATOR_INFO_KEY:VALIDATOR_INFO_KEY$3,VERSION_PREFIX_MASK:VERSION_PREFIX_MASK$5,VOTE_PROGRAM_ID:VOTE_PROGRAM_ID$3,ValidatorInfo:ValidatorInfo$3,VersionedMessage:VersionedMessage$3,VersionedTransaction:VersionedTransaction$3,VoteAccount:VoteAccount$3,VoteAuthorizationLayout:VoteAuthorizationLayout$3,VoteInit:VoteInit$3,VoteInstruction:VoteInstruction$3,VoteProgram:VoteProgram$3,clusterApiUrl:clusterApiUrl$3,sendAndConfirmRawTransaction:sendAndConfirmRawTransaction$4,sendAndConfirmTransaction:sendAndConfirmTransaction$6},Symbol.toStringTag,{value:"Module"})),_a;const isBrowser$1={}.ANCHOR_BROWSER||typeof window<"u"&&!(!((_a=window.process)===null||_a===void 0)&&_a.hasOwnProperty("type"));function chunks(n,e){return Array.apply(0,new Array(Math.ceil(n.length/e))).map((t,r)=>n.slice(r*e,(r+1)*e))}const isVersionedTransaction=n=>"version"in n;function decode$2(n){return(isBrowser$1?new TextDecoder("utf-8"):new(require("util")).TextDecoder("utf-8")).decode(n)}function encode$2(n){return(isBrowser$1?new TextEncoder:new(require("util")).TextEncoder("utf-8")).encode(n)}function encode$1(n){return bs58$3.encode(n)}function encode(n){return n.toString("base64")}function decode$1(n){return bufferPolyfill.Buffer.from(n,"base64")}var camelcase$1={exports:{}};const UPPERCASE=/[\p{Lu}]/u,LOWERCASE=/[\p{Ll}]/u,LEADING_CAPITAL=/^[\p{Lu}](?![\p{Lu}])/gu,IDENTIFIER=/([\p{Alpha}\p{N}_]|$)/u,SEPARATORS=/[_.\- ]+/,LEADING_SEPARATORS=new RegExp("^"+SEPARATORS.source),SEPARATORS_AND_IDENTIFIER=new RegExp(SEPARATORS.source+IDENTIFIER.source,"gu"),NUMBERS_AND_IDENTIFIER=new RegExp("\\d+"+IDENTIFIER.source,"gu"),preserveCamelCase$1=(n,e,t)=>{let r=!1,o=!1,a=!1;for(let c=0;c<n.length;c++){const u=n[c];r&&UPPERCASE.test(u)?(n=n.slice(0,c)+"-"+n.slice(c),r=!1,a=o,o=!0,c++):o&&a&&LOWERCASE.test(u)?(n=n.slice(0,c-1)+"-"+n.slice(c-1),a=o,o=!1,r=!0):(r=e(u)===u&&t(u)!==u,a=o,o=t(u)===u&&e(u)!==u)}return n},preserveConsecutiveUppercase=(n,e)=>(LEADING_CAPITAL.lastIndex=0,n.replace(LEADING_CAPITAL,t=>e(t))),postProcess=(n,e)=>(SEPARATORS_AND_IDENTIFIER.lastIndex=0,NUMBERS_AND_IDENTIFIER.lastIndex=0,n.replace(SEPARATORS_AND_IDENTIFIER,(t,r)=>e(r)).replace(NUMBERS_AND_IDENTIFIER,t=>e(t))),camelCase$1=(n,e)=>{if(!(typeof n=="string"||Array.isArray(n)))throw new TypeError("Expected the input to be `string | string[]`");if(e={pascalCase:!1,preserveConsecutiveUppercase:!1,...e},Array.isArray(n)?n=n.map(a=>a.trim()).filter(a=>a.length).join("-"):n=n.trim(),n.length===0)return"";const t=e.locale===!1?a=>a.toLowerCase():a=>a.toLocaleLowerCase(e.locale),r=e.locale===!1?a=>a.toUpperCase():a=>a.toLocaleUpperCase(e.locale);return n.length===1?e.pascalCase?r(n):t(n):(n!==t(n)&&(n=preserveCamelCase$1(n,t,r)),n=n.replace(LEADING_SEPARATORS,""),e.preserveConsecutiveUppercase?n=preserveConsecutiveUppercase(n,t):n=t(n),e.pascalCase&&(n=r(n.charAt(0))+n.slice(1)),postProcess(n,r))};camelcase$1.exports=camelCase$1;camelcase$1.exports.default=camelCase$1;var camelCase$2=camelcase$1.exports,dist$2={},Layout$2={};class Layout$1{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Layout_2=Layout$2.Layout=Layout$1;function nameWithProperty$1(n,e){return e.property?n+"["+e.property+"]":n}Layout$2.nameWithProperty=nameWithProperty$1;function bindConstructorLayout(n,e){if(typeof n!="function")throw new TypeError("Class must be constructor");if(n.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");n.layout_=e,e.boundConstructor_=n,e.makeDestinationObject=()=>new n,Object.defineProperty(n.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(n,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})}Layout$2.bindConstructorLayout=bindConstructorLayout;class ExternalLayout$1 extends Layout$1{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout$1{constructor(e,t){if(e===void 0&&(e=1),!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t){t===void 0&&(t=0);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class OffsetLayout extends ExternalLayout$1{constructor(e,t,r){if(!(e instanceof Layout$1))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class UInt$1 extends Layout$1{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class UIntBE extends Layout$1{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}class Int extends Layout$1{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntLE(e,r,this.span),this.span}}class IntBE extends Layout$1{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeIntBE(e,r,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(n){const e=Math.floor(n/V2E32),t=n-e*V2E32;return{hi32:e,lo32:t}}function roundedInt64(n,e){return n*V2E32+e}class NearUInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),o=e.readUInt32LE(t+4);return roundedInt64(o,r)}encode(e,t,r){r===void 0&&(r=0);const o=divmodInt64(e);return t.writeUInt32LE(o.lo32,r),t.writeUInt32LE(o.hi32,r+4),8}}class NearUInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32BE(t),o=e.readUInt32BE(t+4);return roundedInt64(r,o)}encode(e,t,r){r===void 0&&(r=0);const o=divmodInt64(e);return t.writeUInt32BE(o.hi32,r),t.writeUInt32BE(o.lo32,r+4),8}}class NearInt64 extends Layout$1{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t),o=e.readInt32LE(t+4);return roundedInt64(o,r)}encode(e,t,r){r===void 0&&(r=0);const o=divmodInt64(e);return t.writeUInt32LE(o.lo32,r),t.writeInt32LE(o.hi32,r+4),8}}class NearInt64BE extends Layout$1{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readInt32BE(t),o=e.readUInt32BE(t+4);return roundedInt64(r,o)}encode(e,t,r){r===void 0&&(r=0);const o=divmodInt64(e);return t.writeInt32BE(o.hi32,r),t.writeUInt32BE(o.lo32,r+4),8}}class Float extends Layout$1{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatLE(e,r),4}}class FloatBE extends Layout$1{constructor(e){super(4,e)}decode(e,t){return t===void 0&&(t=0),e.readFloatBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeFloatBE(e,r),4}}class Double extends Layout$1{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleLE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleLE(e,r),8}}class DoubleBE extends Layout$1{constructor(e){super(8,e)}decode(e,t){return t===void 0&&(t=0),e.readDoubleBE(t)}encode(e,t,r){return r===void 0&&(r=0),t.writeDoubleBE(e,r),8}}class Sequence extends Layout$1{constructor(e,t,r){if(!(e instanceof Layout$1))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof ExternalLayout$1&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(t instanceof ExternalLayout$1)&&0<e.span&&(o=t*e.span),super(o,r),this.elementLayout=e,this.count=t}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0,o=this.count;if(o instanceof ExternalLayout$1&&(o=o.decode(e,t)),0<this.elementLayout.span)r=o*this.elementLayout.span;else{let a=0;for(;a<o;)r+=this.elementLayout.getSpan(e,t+r),++a}return r}decode(e,t){t===void 0&&(t=0);const r=[];let o=0,a=this.count;for(a instanceof ExternalLayout$1&&(a=a.decode(e,t));o<a;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),o+=1;return r}encode(e,t,r){r===void 0&&(r=0);const o=this.elementLayout,a=e.reduce((c,u)=>c+o.encode(u,t,r+c),0);return this.count instanceof ExternalLayout$1&&this.count.encode(e.length,t,r),a}}class Structure$1 extends Layout$1{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((a,c)=>a&&c instanceof Layout$1,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((a,c)=>a+c.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((o,a)=>{const c=a.getSpan(e,t);return t+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const o=r;let a=0,c=0;for(const u of this.fields){let en=u.span;if(c=0<en?en:0,u.property!==void 0){const tn=e[u.property];tn!==void 0&&(c=u.encode(tn,t,r),0>en&&(en=u.getSpan(t,r)))}a=r,r+=en}return a+c-o}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class UnionDiscriminator{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(e,t){if(!(e instanceof ExternalLayout$1&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class Union extends Layout$1{constructor(e,t,r){const o=e instanceof UInt$1||e instanceof UIntBE;if(o)e=new UnionLayoutDiscriminator(new OffsetLayout(e));else if(e instanceof ExternalLayout$1&&e.isCount())e=new UnionLayoutDiscriminator(e);else if(!(e instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Layout$1))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let a=-1;t&&(a=t.span,0<=a&&o&&(a+=e.layout.span)),super(a,r),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=t,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){t===void 0&&(t=0);let r;const o=this.discriminator,a=o.decode(e,t);let c=this.registry[a];if(c===void 0){let u=0;c=this.defaultLayout,this.usesPrefixDiscriminator&&(u=o.layout.span),r=this.makeDestinationObject(),r[o.property]=a,r[c.property]=this.defaultLayout.decode(e,t+u)}else r=c.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const o=this.getSourceVariant(e);if(o===void 0){const a=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=a.layout.span),a.encode(e[a.property],t,r),u+c.encode(e[c.property],t,r+u)}return o.encode(e,t,r)}addVariant(e,t,r){const o=new VariantLayout(this,e,t,r);return this.registry[e]=o,o}getVariant(e,t){let r=e;return dist$3.Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class VariantLayout extends Layout$1{constructor(e,t,r,o){if(!(e instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Layout$1))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=r?r.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,o),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let a=o;if(this.layout&&(this.layout.encode(e[this.property],t,r+o),a+=this.layout.getSpan(t,r+o),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function fixBitwiseResult(n){return 0>n&&(n+=4294967296),n}class BitStructure extends Layout$1{constructor(e,t,r){if(!(e instanceof UInt$1||e instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t=="string"&&r===void 0&&(r=t,t=void 0),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let o=0;this._packedSetValue=function(a){return o=fixBitwiseResult(a),this},this._packedGetValue=function(){return o}}decode(e,t){const r=this.makeDestinationObject();t===void 0&&(t=0);const o=this.word.decode(e,t);this._packedSetValue(o);for(const a of this.fields)a.property!==void 0&&(r[a.property]=a.decode(o));return r}encode(e,t,r){r===void 0&&(r=0);const o=this.word.decode(t,r);this._packedSetValue(o);for(const a of this.fields)if(a.property!==void 0){const c=e[a.property];c!==void 0&&a.encode(c)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new BitField(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new Boolean$1(this,e);return this.fields.push(t),t}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class BitField{constructor(e,t,r){if(!(e instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const o=8*e.span,a=e.fields.reduce((c,u)=>c+u.bits,0);if(t+a>o)throw new Error("bits too long for span remainder ("+(o-a)+" of "+o+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,t===32&&(this.valueMask=4294967295),this.start=a,this.container.msb&&(this.start=o-a-t),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=r}decode(){const e=this.container._packedGetValue();return fixBitwiseResult(e&this.wordMask)>>>this.start}encode(e){if(!Number.isInteger(e)||e!==fixBitwiseResult(e&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=fixBitwiseResult(e<<this.start);this.container._packedSetValue(fixBitwiseResult(t&~this.wordMask)|r)}}class Boolean$1 extends BitField{constructor(e,t){super(e,1,t)}decode(e,t){return!!BitField.prototype.decode.call(this,e,t)}encode(e){return typeof e=="boolean"&&(e=+e),BitField.prototype.encode.call(this,e)}}class Blob$2 extends Layout$1{constructor(e,t){if(!(e instanceof ExternalLayout$1&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ExternalLayout$1||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof ExternalLayout$1&&(o=e.length),!(dist$3.Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,o,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode(o,t,r),o}}class CString extends Layout$1{constructor(e){super(-1,e)}getSpan(e,t){if(!dist$3.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");t===void 0&&(t=0);let r=t;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-t}decode(e,t,r){t===void 0&&(t=0);let o=this.getSpan(e,t);return e.slice(t,t+o-1).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const o=new dist$3.Buffer(e,"utf8"),a=o.length;if(r+a>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(t,r),t[r+a]=0,a+1}}class UTF8 extends Layout$1{constructor(e,t){if(typeof e=="string"&&t===void 0&&(t=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t){if(!dist$3.Buffer.isBuffer(e))throw new TypeError("b must be a Buffer");return t===void 0&&(t=0),e.length-t}decode(e,t,r){t===void 0&&(t=0);let o=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");return e.slice(t,t+o).toString("utf-8")}encode(e,t,r){r===void 0&&(r=0),typeof e!="string"&&(e=e.toString());const o=new dist$3.Buffer(e,"utf8"),a=o.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(r+a>t.length)throw new RangeError("encoding overruns Buffer");return o.copy(t,r),a}}class Constant extends Layout$1{constructor(e,t){super(0,t),this.value=e}decode(e,t,r){return this.value}encode(e,t,r){return 0}}Layout$2.ExternalLayout=ExternalLayout$1;Layout$2.GreedyCount=GreedyCount;Layout$2.OffsetLayout=OffsetLayout;Layout$2.UInt=UInt$1;Layout$2.UIntBE=UIntBE;Layout$2.Int=Int;Layout$2.IntBE=IntBE;Layout$2.Float=Float;Layout$2.FloatBE=FloatBE;Layout$2.Double=Double;Layout$2.DoubleBE=DoubleBE;Layout$2.Sequence=Sequence;Layout$2.Structure=Structure$1;Layout$2.UnionDiscriminator=UnionDiscriminator;Layout$2.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$2.Union=Union;Layout$2.VariantLayout=VariantLayout;Layout$2.BitStructure=BitStructure;Layout$2.BitField=BitField;Layout$2.Boolean=Boolean$1;Layout$2.Blob=Blob$2;Layout$2.CString=CString;Layout$2.UTF8=UTF8;Layout$2.Constant=Constant;Layout$2.greedy=(n,e)=>new GreedyCount(n,e);var offset=Layout$2.offset=(n,e,t)=>new OffsetLayout(n,e,t),u8$1=Layout$2.u8=n=>new UInt$1(1,n);Layout$2.u16=n=>new UInt$1(2,n);Layout$2.u24=n=>new UInt$1(3,n);var u32$1=Layout$2.u32=n=>new UInt$1(4,n);Layout$2.u40=n=>new UInt$1(5,n);Layout$2.u48=n=>new UInt$1(6,n);var nu64=Layout$2.nu64=n=>new NearUInt64(n);Layout$2.u16be=n=>new UIntBE(2,n);Layout$2.u24be=n=>new UIntBE(3,n);Layout$2.u32be=n=>new UIntBE(4,n);Layout$2.u40be=n=>new UIntBE(5,n);Layout$2.u48be=n=>new UIntBE(6,n);Layout$2.nu64be=n=>new NearUInt64BE(n);Layout$2.s8=n=>new Int(1,n);Layout$2.s16=n=>new Int(2,n);Layout$2.s24=n=>new Int(3,n);Layout$2.s32=n=>new Int(4,n);Layout$2.s40=n=>new Int(5,n);Layout$2.s48=n=>new Int(6,n);var ns64=Layout$2.ns64=n=>new NearInt64(n);Layout$2.s16be=n=>new IntBE(2,n);Layout$2.s24be=n=>new IntBE(3,n);Layout$2.s32be=n=>new IntBE(4,n);Layout$2.s40be=n=>new IntBE(5,n);Layout$2.s48be=n=>new IntBE(6,n);Layout$2.ns64be=n=>new NearInt64BE(n);Layout$2.f32=n=>new Float(n);Layout$2.f32be=n=>new FloatBE(n);Layout$2.f64=n=>new Double(n);Layout$2.f64be=n=>new DoubleBE(n);var struct$2=Layout$2.struct=(n,e,t)=>new Structure$1(n,e,t);Layout$2.bits=(n,e,t)=>new BitStructure(n,e,t);Layout$2.seq=(n,e,t)=>new Sequence(n,e,t);var union$6=Layout$2.union=(n,e,t)=>new Union(n,e,t);Layout$2.unionLayoutDiscriminator=(n,e)=>new UnionLayoutDiscriminator(n,e);var blob$1=Layout$2.blob=(n,e)=>new Blob$2(n,e);Layout$2.cstr=n=>new CString(n);Layout$2.utf8=(n,e)=>new UTF8(n,e);Layout$2.const=(n,e)=>new Constant(n,e);var require$$0$4=getAugmentedNamespace(index_browser_esm$4);(function(n){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(jn){return jn&&jn.__esModule?jn:{default:jn}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i256=n.u256=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=Layout$2,r=require$$0$4,o=e(bn.exports);var a=Layout$2;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return a.struct}});class c extends t.Layout{constructor(Cn,mn,_n){super(Cn,_n),this.blob=(0,t.blob)(Cn),this.signed=mn}decode(Cn,mn=0){const _n=new o.default(this.blob.decode(Cn,mn),10,"le");return this.signed?_n.fromTwos(this.span*8).clone():_n}encode(Cn,mn,_n=0){return this.signed&&(Cn=Cn.toTwos(this.span*8)),this.blob.encode(Cn.toArrayLike(dist$3.Buffer,"le",this.span),mn,_n)}}function u(jn){return new c(8,!1,jn)}n.u64=u;function en(jn){return new c(8,!0,jn)}n.i64=en;function tn(jn){return new c(16,!1,jn)}n.u128=tn;function nn(jn){return new c(16,!0,jn)}n.i128=nn;function sn(jn){return new c(32,!1,jn)}n.u256=sn;function fn(jn){return new c(32,!0,jn)}n.i256=fn;class dn extends t.Layout{constructor(Cn,mn,_n,vn){super(Cn.span,vn),this.layout=Cn,this.decoder=mn,this.encoder=_n}decode(Cn,mn){return this.decoder(this.layout.decode(Cn,mn))}encode(Cn,mn,_n){return this.layout.encode(this.encoder(Cn),mn,_n)}getSpan(Cn,mn){return this.layout.getSpan(Cn,mn)}}function hn(jn){return new dn((0,t.blob)(32),Cn=>new r.PublicKey(Cn),Cn=>Cn.toBuffer(),jn)}n.publicKey=hn;class ln extends t.Layout{constructor(Cn,mn){super(-1,mn),this.layout=Cn,this.discriminator=(0,t.u8)()}encode(Cn,mn,_n=0){return Cn==null?this.discriminator.encode(0,mn,_n):(this.discriminator.encode(1,mn,_n),this.layout.encode(Cn,mn,_n+1)+1)}decode(Cn,mn=0){const _n=this.discriminator.decode(Cn,mn);if(_n===0)return null;if(_n===1)return this.layout.decode(Cn,mn+1);throw new Error("Invalid option "+this.property)}getSpan(Cn,mn=0){const _n=this.discriminator.decode(Cn,mn);if(_n===0)return 1;if(_n===1)return this.layout.getSpan(Cn,mn+1)+1;throw new Error("Invalid option "+this.property)}}function pn(jn,Cn){return new ln(jn,Cn)}n.option=pn;function $n(jn){return new dn((0,t.u8)(),Sn,yn,jn)}n.bool=$n;function Sn(jn){if(jn===0)return!1;if(jn===1)return!0;throw new Error("Invalid bool: "+jn)}function yn(jn){return jn?1:0}function In(jn,Cn){const mn=(0,t.u32)("length"),_n=(0,t.struct)([mn,(0,t.seq)(jn,(0,t.offset)(mn,-mn.span),"values")]);return new dn(_n,({values:vn})=>vn,vn=>({values:vn}),Cn)}n.vec=In;function An(jn,Cn,mn){const _n=(0,t.struct)([u("tag"),Cn.replicate("data")]);function vn({tag:On,data:Nn}){if(!On.eq(jn))throw new Error("Invalid tag, expected: "+jn.toString("hex")+", got: "+On.toString("hex"));return Nn}return new dn(_n,vn,On=>({tag:jn,data:On}),mn)}n.tagged=An;function Tn(jn){const Cn=(0,t.u32)("length"),mn=(0,t.struct)([Cn,(0,t.blob)((0,t.offset)(Cn,-Cn.span),"data")]);return new dn(mn,({data:_n})=>_n,_n=>({data:_n}),jn)}n.vecU8=Tn;function kn(jn){return new dn(Tn(),Cn=>Cn.toString("utf-8"),Cn=>dist$3.Buffer.from(Cn,"utf-8"),jn)}n.str=kn;function Pn(jn,Cn,mn){const _n=(0,t.union)(mn??(0,t.u8)(),Cn);return jn.forEach((vn,On)=>_n.addVariant(On,vn,vn.property)),_n}n.rustEnum=Pn;function Dn(jn,Cn,mn){const _n=(0,t.struct)([(0,t.seq)(jn,Cn,"values")]);return new dn(_n,({values:vn})=>vn,vn=>({values:vn}),mn)}n.array=Dn;class Kn extends t.Layout{constructor(Cn,mn,_n){super(Cn.span+mn.span,_n),this.keyLayout=Cn,this.valueLayout=mn}decode(Cn,mn){mn=mn||0;const _n=this.keyLayout.decode(Cn,mn),vn=this.valueLayout.decode(Cn,mn+this.keyLayout.getSpan(Cn,mn));return[_n,vn]}encode(Cn,mn,_n){_n=_n||0;const vn=this.keyLayout.encode(Cn[0],mn,_n),On=this.valueLayout.encode(Cn[1],mn,_n+vn);return vn+On}getSpan(Cn,mn){return this.keyLayout.getSpan(Cn,mn)+this.valueLayout.getSpan(Cn,mn)}}function Hn(jn,Cn,mn){const _n=(0,t.u32)("length"),vn=(0,t.struct)([_n,(0,t.seq)(new Kn(jn,Cn),(0,t.offset)(_n,-_n.span),"values")]);return new dn(vn,({values:On})=>new Map(On),On=>({values:Array.from(On.entries())}),mn)}n.map=Hn})(dist$2);function isCompositeAccounts(n){return"accounts"in n}async function idlAddress(n){const e=(await PublicKey$6.findProgramAddress([],n))[0];return await PublicKey$6.createWithSeed(e,seed(),n)}function seed(){return"anchor:idl"}const IDL_ACCOUNT_LAYOUT=dist$2.struct([dist$2.publicKey("authority"),dist$2.vecU8("data")]);function decodeIdlAccount(n){return IDL_ACCOUNT_LAYOUT.decode(n)}function convertIdlToCamelCase(n){const e=["name","path","account","relations","generic"],t=a=>a.split(".").map(camelCase$2).join("."),r=a=>{for(const c in a){const u=a[c];e.includes(c)?a[c]=Array.isArray(u)?u.map(t):t(u):typeof u=="object"&&r(u)}},o=structuredClone(n);return r(o),o}function handleDefinedFields(n,e,t,r){return n!=null&&n.length?n[0].name?t(n):r(n):e()}function parseIdlErrors(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let o=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,o)}),e}function toInstruction(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(o=>{t[o.name]=e[r],r+=1}),t}function validateAccounts(n,e={}){n.forEach(t=>{if(isCompositeAccounts(t))validateAccounts(t.accounts,e[t.name]);else if(!e[t.name])throw new Error(`Account \`${t.name}\` not provided.`)})}function translateAddress(n){return n instanceof PublicKey$6?n:new PublicKey$6(n)}class StructError$5 extends TypeError{constructor(e,t){let r;const{message:o,...a}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var en;return(en=r)!=null?en:r=[e,...t()]}}}function isIterable$5(n){return isObject$8(n)&&typeof n[Symbol.iterator]=="function"}function isObject$8(n){return typeof n=="object"&&n!=null}function print$5(n){return typeof n=="string"?JSON.stringify(n):""+n}function shiftIterator$5(n){const{done:e,value:t}=n.next();return e?void 0:t}function toFailure$5(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:a}=e,{type:c}=t,{refinement:u,message:en="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+print$5(r)+"`"}=n;return{value:r,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...n,message:en}}function*toFailures$5(n,e,t,r){isIterable$5(n)||(n=[n]);for(const o of n){const a=toFailure$5(o,e,t,r);a&&(yield a)}}function*run$6(n,e,t){t===void 0&&(t={});const{path:r=[],branch:o=[n],coerce:a=!1,mask:c=!1}=t,u={path:r,branch:o};if(a&&(n=e.coercer(n,u),c&&e.type!=="type"&&isObject$8(e.schema)&&isObject$8(n)&&!Array.isArray(n)))for(const tn in n)e.schema[tn]===void 0&&delete n[tn];let en=!0;for(const tn of e.validator(n,u))en=!1,yield[tn,void 0];for(let[tn,nn,sn]of e.entries(n,u)){const fn=run$6(nn,sn,{path:tn===void 0?r:[...r,tn],branch:tn===void 0?o:[...o,nn],coerce:a,mask:c});for(const dn of fn)dn[0]?(en=!1,yield[dn[0],void 0]):a&&(nn=dn[1],tn===void 0?n=nn:n instanceof Map?n.set(tn,nn):n instanceof Set?n.add(nn):isObject$8(n)&&(n[tn]=nn))}if(en)for(const tn of e.refiner(n,u))en=!1,yield[tn,void 0];en&&(yield[void 0,n])}class Struct$b{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:o,refiner:a,coercer:c=en=>en,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,o?this.validator=(en,tn)=>{const nn=o(en,tn);return toFailures$5(nn,tn,this,en)}:this.validator=()=>[],a?this.refiner=(en,tn)=>{const nn=a(en,tn);return toFailures$5(nn,tn,this,en)}:this.refiner=()=>[]}assert(e){return assert$f(e,this)}create(e){return create$5(e,this)}is(e){return is$5(e,this)}mask(e){return mask$5(e,this)}validate(e,t){return t===void 0&&(t={}),validate$5(e,this,t)}}function assert$f(n,e){const t=validate$5(n,e);if(t[0])throw t[0]}function create$5(n,e){const t=validate$5(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function mask$5(n,e){const t=validate$5(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function is$5(n,e){return!validate$5(n,e)[0]}function validate$5(n,e,t){t===void 0&&(t={});const r=run$6(n,e,t),o=shiftIterator$5(r);if(o[0])return[new StructError$5(o[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$a(n,e){return new Struct$b({type:n,schema:null,validator:e})}function any$5(){return define$a("any",()=>!0)}function array$6(n){return new Struct$b({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print$5(e)}})}function boolean$5(){return define$a("boolean",n=>typeof n=="boolean")}function literal$5(n){const e=print$5(n),t=typeof n;return new Struct$b({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+print$5(r)}})}function nullable$5(n){return new Struct$b({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function number$6(){return define$a("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+print$5(n))}function optional$5(n){return new Struct$b({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function string$6(){return define$a("string",n=>typeof n=="string"||"Expected a string, but received: "+print$5(n))}function type$5(n){const e=Object.keys(n);return new Struct$b({type:"type",schema:n,*entries(t){if(isObject$8(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return isObject$8(t)||"Expected an object, but received: "+print$5(t)}})}function union$5(n){const e=n.map(t=>t.type).join(" | ");return new Struct$b({type:"union",schema:null,coercer(t,r){return(n.find(a=>{const[c]=a.validate(t,{coerce:!0});return!c})||unknown$5()).coercer(t,r)},validator(t,r){const o=[];for(const a of n){const[...c]=run$6(t,a,r),[u]=c;if(u[0])for(const[en]of c)en&&o.push(en);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print$5(t),...o]}})}function unknown$5(){return define$a("unknown",()=>!0)}function coerce$5(n,e,t){return new Struct$b({...n,coercer:(r,o)=>is$5(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}const GET_MULTIPLE_ACCOUNTS_LIMIT=99;async function getMultipleAccountsAndContext(n,e,t){if(e.length<=GET_MULTIPLE_ACCOUNTS_LIMIT)return await getMultipleAccountsAndContextCore(n,e,t);{const r=chunks(e,GET_MULTIPLE_ACCOUNTS_LIMIT);return(await Promise.all(r.map(a=>getMultipleAccountsAndContextCore(n,a,t)))).flat()}}async function getMultipleAccountsAndContextCore(n,e,t){const r=t??n.commitment,{value:o,context:a}=await n.getMultipleAccountsInfoAndContext(e,r);return o.map((u,en)=>u===null?null:{publicKey:e[en],account:u,context:a})}async function simulateTransaction(n,e,t,r,o){var a;t&&t.length>0&&e.sign(...t);const c=e._compile(),u=c.serialize(),tn=e._serialize(u).toString("base64"),nn={encoding:"base64",commitment:r??n.commitment};if(o){const hn=(Array.isArray(o)?o:c.nonProgramIds()).map(ln=>ln.toBase58());nn.accounts={encoding:"base64",addresses:hn}}t&&t.length>0&&(nn.sigVerify=!0);const sn=[tn,nn],fn=await n._rpcRequest("simulateTransaction",sn),dn=create$5(fn,SimulatedTransactionResponseStruct$3);if("error"in dn){let hn;if("data"in dn.error&&(hn=(a=dn.error.data)===null||a===void 0?void 0:a.logs,hn&&Array.isArray(hn))){const ln=`
    `,pn=ln+hn.join(ln);console.error(dn.error.message,pn)}throw new SendTransactionError$3("failed to simulate transaction: "+dn.error.message,hn)}return dn.result}function jsonRpcResult$6(n){return coerce$5(createRpcResult$6(n),UnknownRpcResult$6,e=>"error"in e?e:{...e,result:create$5(e.result,n)})}const UnknownRpcResult$6=createRpcResult$6(unknown$5());function createRpcResult$6(n){return union$5([type$5({jsonrpc:literal$5("2.0"),id:string$6(),result:n}),type$5({jsonrpc:literal$5("2.0"),id:string$6(),error:type$5({code:unknown$5(),message:string$6(),data:optional$5(any$5())})})])}function jsonRpcResultAndContext$6(n){return jsonRpcResult$6(type$5({context:type$5({slot:number$6()}),value:n}))}const SimulatedTransactionResponseStruct$3=jsonRpcResultAndContext$6(type$5({err:nullable$5(union$5([type$5({}),string$6()])),logs:nullable$5(array$6(string$6())),accounts:optional$5(nullable$5(array$6(nullable$5(type$5({executable:boolean$5(),owner:string$6(),lamports:number$6(),data:array$6(string$6()),rentEpoch:optional$5(number$6())}))))),unitsConsumed:optional$5(number$6())}));class AnchorProvider{constructor(e,t,r=AnchorProvider.defaultOptions()){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t=AnchorProvider.defaultOptions()){if(isBrowser$1)throw new Error("Provider local is not available on browser.");const r=new Connection$3(e??"http://127.0.0.1:8899",t.preflightCommitment),a=require("./nodewallet.js").default.local();return new AnchorProvider(r,a,t)}static env(){if(isBrowser$1)throw new Error("Provider env is not available on browser.");require("process");const e={}.ANCHOR_PROVIDER_URL;if(e===void 0)throw new Error("ANCHOR_PROVIDER_URL is not defined");const t=AnchorProvider.defaultOptions(),r=new Connection$3(e,t.commitment),a=require("./nodewallet.js").default.local();return new AnchorProvider(r,a,t)}async sendAndConfirm(e,t,r){var o,a,c,u;if(r===void 0&&(r=this.opts),isVersionedTransaction(e))t&&e.sign(t);else if(e.feePayer=(o=e.feePayer)!==null&&o!==void 0?o:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const tn of t)e.partialSign(tn);e=await this.wallet.signTransaction(e);const en=e.serialize();try{return await sendAndConfirmRawTransaction$3(this.connection,en,r)}catch(tn){if(tn instanceof ConfirmError){const nn=encode$1(isVersionedTransaction(e)?((a=e.signatures)===null||a===void 0?void 0:a[0])||new Uint8Array:(c=e.signature)!==null&&c!==void 0?c:new Uint8Array),sn=isVersionedTransaction(e)?0:void 0,fn=await this.connection.getTransaction(nn,{commitment:"confirmed",maxSupportedTransactionVersion:sn});if(fn){const dn=(u=fn.meta)===null||u===void 0?void 0:u.logMessages;throw dn?new SendTransactionError$3(tn.message,dn):tn}else throw tn}else throw tn}}async sendAll(e,t){var r,o,a;t===void 0&&(t=this.opts);const c=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let u=e.map(nn=>{var sn,fn;if(isVersionedTransaction(nn.tx)){let dn=nn.tx;return nn.signers&&dn.sign(nn.signers),dn}else{let dn=nn.tx,hn=(sn=nn.signers)!==null&&sn!==void 0?sn:[];return dn.feePayer=(fn=dn.feePayer)!==null&&fn!==void 0?fn:this.wallet.publicKey,dn.recentBlockhash=c,hn.forEach(ln=>{dn.partialSign(ln)}),dn}});const en=await this.wallet.signAllTransactions(u),tn=[];for(let nn=0;nn<u.length;nn+=1){const sn=en[nn],fn=sn.serialize();try{tn.push(await sendAndConfirmRawTransaction$3(this.connection,fn,t))}catch(dn){if(dn instanceof ConfirmError){const hn=encode$1(isVersionedTransaction(sn)?((r=sn.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(o=sn.signature)!==null&&o!==void 0?o:new Uint8Array),ln=isVersionedTransaction(sn)?0:void 0,pn=await this.connection.getTransaction(hn,{commitment:"confirmed",maxSupportedTransactionVersion:ln});if(pn){const $n=(a=pn.meta)===null||a===void 0?void 0:a.logMessages;throw $n?new SendTransactionError$3(dn.message,$n):dn}else throw dn}else throw dn}}return tn}async simulate(e,t,r,o){let a=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,c;if(isVersionedTransaction(e)?(t&&t.length>0&&(e.sign(t),e=await this.wallet.signTransaction(e)),c=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=a,t&&t.length>0&&(e=await this.wallet.signTransaction(e)),c=await simulateTransaction(this.connection,e,t,r,o)),c.value.err)throw new SimulateError(c.value);return c.value}}class SimulateError extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function sendAndConfirmRawTransaction$3(n,e,t){const r=t&&{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment},o=await n.sendRawTransaction(e,r),a=(await n.confirmTransaction(o,t&&t.commitment)).value;if(a.err)throw new ConfirmError(`Raw transaction ${o} failed (${JSON.stringify(a)})`);return o}class ConfirmError extends Error{constructor(e){super(e)}}function getProvider(){return AnchorProvider.local()}var dist$1={};Object.defineProperty(dist$1,"__esModule",{value:!0});var ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=ANCHOR_ERROR__REQUIRE_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_VIOLATED=ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=dist$1.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=ANCHOR_ERROR__CONSTRAINT_SPACE=dist$1.ANCHOR_ERROR__CONSTRAINT_SPACE=ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=ANCHOR_ERROR__CONSTRAINT_ZERO=dist$1.ANCHOR_ERROR__CONSTRAINT_ZERO=ANCHOR_ERROR__CONSTRAINT_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_ADDRESS=ANCHOR_ERROR__CONSTRAINT_CLOSE=dist$1.ANCHOR_ERROR__CONSTRAINT_CLOSE=ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=ANCHOR_ERROR__CONSTRAINT_STATE=dist$1.ANCHOR_ERROR__CONSTRAINT_STATE=ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=dist$1.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=ANCHOR_ERROR__CONSTRAINT_SEEDS=dist$1.ANCHOR_ERROR__CONSTRAINT_SEEDS=ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=dist$1.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=ANCHOR_ERROR__CONSTRAINT_OWNER=dist$1.ANCHOR_ERROR__CONSTRAINT_OWNER=ANCHOR_ERROR__CONSTRAINT_RAW=dist$1.ANCHOR_ERROR__CONSTRAINT_RAW=ANCHOR_ERROR__CONSTRAINT_SIGNER=dist$1.ANCHOR_ERROR__CONSTRAINT_SIGNER=ANCHOR_ERROR__CONSTRAINT_HAS_ONE=dist$1.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=ANCHOR_ERROR__CONSTRAINT_MUT=dist$1.ANCHOR_ERROR__CONSTRAINT_MUT=ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=dist$1.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=dist$1.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=dist$1.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=ANCHOR_ERROR__IDL_INSTRUCTION_STUB=dist$1.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=dist$1.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=dist$1.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=dist$1.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=ANCHOR_ERROR__INSTRUCTION_MISSING=dist$1.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,ANCHOR_ERROR__DEPRECATED=dist$1.ANCHOR_ERROR__DEPRECATED=ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=dist$1.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=dist$1.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=dist$1.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=dist$1.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=dist$1.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=dist$1.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=dist$1.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=ANCHOR_ERROR__INVALID_PROGRAM_ID=dist$1.ANCHOR_ERROR__INVALID_PROGRAM_ID=ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=dist$1.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=dist$1.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=dist$1.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=ANCHOR_ERROR__REQUIRE_GT_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,ANCHOR_ERROR__INSTRUCTION_MISSING=dist$1.ANCHOR_ERROR__INSTRUCTION_MISSING=100,ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=dist$1.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=dist$1.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=dist$1.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,ANCHOR_ERROR__IDL_INSTRUCTION_STUB=dist$1.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=dist$1.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=dist$1.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=dist$1.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,ANCHOR_ERROR__CONSTRAINT_MUT=dist$1.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,ANCHOR_ERROR__CONSTRAINT_HAS_ONE=dist$1.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,ANCHOR_ERROR__CONSTRAINT_SIGNER=dist$1.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,ANCHOR_ERROR__CONSTRAINT_RAW=dist$1.ANCHOR_ERROR__CONSTRAINT_RAW=2003,ANCHOR_ERROR__CONSTRAINT_OWNER=dist$1.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=dist$1.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,ANCHOR_ERROR__CONSTRAINT_SEEDS=dist$1.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=dist$1.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,ANCHOR_ERROR__CONSTRAINT_STATE=dist$1.ANCHOR_ERROR__CONSTRAINT_STATE=2008,ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,ANCHOR_ERROR__CONSTRAINT_CLOSE=dist$1.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,ANCHOR_ERROR__CONSTRAINT_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,ANCHOR_ERROR__CONSTRAINT_ZERO=dist$1.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,ANCHOR_ERROR__CONSTRAINT_SPACE=dist$1.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=dist$1.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=dist$1.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=dist$1.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,ANCHOR_ERROR__REQUIRE_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,ANCHOR_ERROR__REQUIRE_GT_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=dist$1.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=dist$1.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=dist$1.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=dist$1.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=dist$1.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,ANCHOR_ERROR__INVALID_PROGRAM_ID=dist$1.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=dist$1.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=dist$1.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=dist$1.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=dist$1.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=dist$1.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=dist$1.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=dist$1.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=dist$1.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;ANCHOR_ERROR__DEPRECATED=dist$1.ANCHOR_ERROR__DEPRECATED=5e3;const _FEATURES=new Map;function isSet$1(n){return _FEATURES.get(n)!==void 0}class IdlError extends Error{constructor(e){super(e),this.name="IdlError"}}class ProgramErrorStack{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,o=/^Program \w* success/,a=[];for(let c=0;c<e.length;c++){if(o.exec(e[c])){a.pop();continue}const u=(t=r.exec(e[c]))===null||t===void 0?void 0:t[1];!u||a.push(new PublicKey$6(u))}return new ProgramErrorStack(a)}}class AnchorError$1 extends Error{constructor(e,t,r,o,a,c){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=o,this.error={errorCode:e,errorMessage:t,comparedValues:c,origin:a},this._programErrorStack=ProgramErrorStack.parse(o)}static parse(e){if(!e)return null;const t=e.findIndex(fn=>fn.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],o=[r];let a;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const fn=/^Program log: (.*)$/,dn=fn.exec(e[t+2])[1],hn=fn.exec(e[t+4])[1];a=[new PublicKey$6(dn),new PublicKey$6(hn)],o.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const fn=/^Program log: (Left|Right): (.*)$/,dn=fn.exec(e[t+1])[2],hn=fn.exec(e[t+2])[2];o.push(...e.slice(t+1,t+3)),a=[dn,hn]}}const u=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),tn=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),sn=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(u){const[fn,dn,hn]=u.slice(1,4),ln={code:fn,number:parseInt(dn)};return new AnchorError$1(ln,hn,o,e,void 0,a)}else if(tn){const[fn,dn,hn,ln,pn]=tn.slice(1,6),$n={code:hn,number:parseInt(ln)},Sn={file:fn,line:parseInt(dn)};return new AnchorError$1($n,pn,o,e,Sn,a)}else if(sn){const[fn,dn,hn,ln]=sn.slice(1,5),pn=fn,$n={code:dn,number:parseInt(hn)};return new AnchorError$1($n,ln,o,e,pn,a)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class ProgramError extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=ProgramErrorStack.parse(r))}static parse(e,t){const r=e.toString();let o;if(r.includes("custom program error:")){let u=r.split("custom program error: ");if(u.length!==2)return null;o=u[1]}else{const u=r.match(/"Custom":([0-9]+)}/g);if(!u||u.length>1)return null;o=u[0].match(/([0-9]+)/g)[0]}let a;try{a=parseInt(o)}catch{return null}let c=t.get(a);return c!==void 0?new ProgramError(a,c,e.logs):(c=LangErrorMessage.get(a),c!==void 0?new ProgramError(a,c,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function translateError(n,e){isSet$1("debug-logs")&&console.log("Translating error:",n);const t=AnchorError$1.parse(n.logs);if(t)return t;const r=ProgramError.parse(n,e);if(r)return r;if(n.logs){const o={get:function(a,c){return c==="programErrorStack"?a.programErrorStack.stack:c==="program"?a.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=ProgramErrorStack.parse(n.logs),new Proxy(n,o)}return n}const LangErrorCode={InstructionMissing:ANCHOR_ERROR__INSTRUCTION_MISSING,InstructionFallbackNotFound:ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND,InstructionDidNotDeserialize:ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE,InstructionDidNotSerialize:ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE,IdlInstructionStub:ANCHOR_ERROR__IDL_INSTRUCTION_STUB,IdlInstructionInvalidProgram:ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM,IdlAccountNotEmpty:ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY,EventInstructionStub:ANCHOR_ERROR__EVENT_INSTRUCTION_STUB,ConstraintMut:ANCHOR_ERROR__CONSTRAINT_MUT,ConstraintHasOne:ANCHOR_ERROR__CONSTRAINT_HAS_ONE,ConstraintSigner:ANCHOR_ERROR__CONSTRAINT_SIGNER,ConstraintRaw:ANCHOR_ERROR__CONSTRAINT_RAW,ConstraintOwner:ANCHOR_ERROR__CONSTRAINT_OWNER,ConstraintRentExempt:ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT,ConstraintSeeds:ANCHOR_ERROR__CONSTRAINT_SEEDS,ConstraintExecutable:ANCHOR_ERROR__CONSTRAINT_EXECUTABLE,ConstraintState:ANCHOR_ERROR__CONSTRAINT_STATE,ConstraintAssociated:ANCHOR_ERROR__CONSTRAINT_ASSOCIATED,ConstraintAssociatedInit:ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT,ConstraintClose:ANCHOR_ERROR__CONSTRAINT_CLOSE,ConstraintAddress:ANCHOR_ERROR__CONSTRAINT_ADDRESS,ConstraintZero:ANCHOR_ERROR__CONSTRAINT_ZERO,ConstraintTokenMint:ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT,ConstraintTokenOwner:ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER,ConstraintMintMintAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY,ConstraintMintFreezeAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY,ConstraintMintDecimals:ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS,ConstraintSpace:ANCHOR_ERROR__CONSTRAINT_SPACE,ConstraintAccountIsNone:ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE,ConstraintTokenTokenProgram:ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM,ConstraintMintTokenProgram:ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM,ConstraintAssociatedTokenTokenProgram:ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM,ConstraintMintGroupPointerExtension:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION,ConstraintMintGroupPointerExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY,ConstraintMintGroupPointerExtensionGroupAddress:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS,ConstraintMintGroupMemberPointerExtension:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION,ConstraintMintGroupMemberPointerExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY,ConstraintMintGroupMemberPointerExtensionMemberAddress:ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS,ConstraintMintMetadataPointerExtension:ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION,ConstraintMintMetadataPointerExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY,ConstraintMintMetadataPointerExtensionMetadataAddress:ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS,ConstraintMintCloseAuthorityExtension:ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION,ConstraintMintCloseAuthorityExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY,ConstraintMintPermanentDelegateExtension:ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION,ConstraintMintPermanentDelegateExtensionDelegate:ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE,ConstraintMintTransferHookExtension:ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION,ConstraintMintTransferHookExtensionAuthority:ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY,ConstraintMintTransferHookExtensionProgramId:ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID,RequireViolated:ANCHOR_ERROR__REQUIRE_VIOLATED,RequireEqViolated:ANCHOR_ERROR__REQUIRE_EQ_VIOLATED,RequireKeysEqViolated:ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED,RequireNeqViolated:ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED,RequireKeysNeqViolated:ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED,RequireGtViolated:ANCHOR_ERROR__REQUIRE_GT_VIOLATED,RequireGteViolated:ANCHOR_ERROR__REQUIRE_GTE_VIOLATED,AccountDiscriminatorAlreadySet:ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET,AccountDiscriminatorNotFound:ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND,AccountDiscriminatorMismatch:ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH,AccountDidNotDeserialize:ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE,AccountDidNotSerialize:ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE,AccountNotEnoughKeys:ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS,AccountNotMutable:ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE,AccountOwnedByWrongProgram:ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM,InvalidProgramId:ANCHOR_ERROR__INVALID_PROGRAM_ID,InvalidProgramExecutable:ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE,AccountNotSigner:ANCHOR_ERROR__ACCOUNT_NOT_SIGNER,AccountNotSystemOwned:ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED,AccountNotInitialized:ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED,AccountNotProgramData:ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA,AccountNotAssociatedTokenAccount:ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT,AccountSysvarMismatch:ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH,AccountReallocExceedsLimit:ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT,AccountDuplicateReallocs:ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS,DeclaredProgramIdMismatch:ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH,TryingToInitPayerAsProgramAccount:ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT,InvalidNumericConversion:ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION,Deprecated:ANCHOR_ERROR__DEPRECATED},LangErrorMessage=new Map([[LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[LangErrorCode.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[LangErrorCode.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[LangErrorCode.ConstraintMut,"A mut constraint was violated"],[LangErrorCode.ConstraintHasOne,"A has one constraint was violated"],[LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[LangErrorCode.ConstraintRentExempt,"A rent exemption constraint was violated"],[LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[LangErrorCode.ConstraintState,"Deprecated Error, feel free to replace with something else"],[LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[LangErrorCode.ConstraintClose,"A close constraint was violated"],[LangErrorCode.ConstraintAddress,"An address constraint was violated"],[LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[LangErrorCode.ConstraintSpace,"A space constraint was violated"],[LangErrorCode.ConstraintAccountIsNone,"A required account for the constraint is None"],[LangErrorCode.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[LangErrorCode.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[LangErrorCode.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[LangErrorCode.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[LangErrorCode.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[LangErrorCode.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[LangErrorCode.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[LangErrorCode.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[LangErrorCode.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[LangErrorCode.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[LangErrorCode.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[LangErrorCode.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[LangErrorCode.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[LangErrorCode.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[LangErrorCode.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[LangErrorCode.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[LangErrorCode.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[LangErrorCode.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[LangErrorCode.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[LangErrorCode.RequireViolated,"A require expression was violated"],[LangErrorCode.RequireEqViolated,"A require_eq expression was violated"],[LangErrorCode.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[LangErrorCode.RequireNeqViolated,"A require_neq expression was violated"],[LangErrorCode.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[LangErrorCode.RequireGtViolated,"A require_gt expression was violated"],[LangErrorCode.RequireGteViolated,"A require_gte expression was violated"],[LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[LangErrorCode.AccountNotMutable,"The given account is not mutable"],[LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[LangErrorCode.AccountNotSigner,"The given account did not sign"],[LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[LangErrorCode.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[LangErrorCode.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[LangErrorCode.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[LangErrorCode.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[LangErrorCode.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[LangErrorCode.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[LangErrorCode.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]]);class IdlCoder{static fieldLayout(e,t=[],r){const o=e.name;switch(e.type){case"bool":return dist$2.bool(o);case"u8":return dist$2.u8(o);case"i8":return dist$2.i8(o);case"u16":return dist$2.u16(o);case"i16":return dist$2.i16(o);case"u32":return dist$2.u32(o);case"i32":return dist$2.i32(o);case"f32":return dist$2.f32(o);case"u64":return dist$2.u64(o);case"i64":return dist$2.i64(o);case"f64":return dist$2.f64(o);case"u128":return dist$2.u128(o);case"i128":return dist$2.i128(o);case"u256":return dist$2.u256(o);case"i256":return dist$2.i256(o);case"bytes":return dist$2.vecU8(o);case"string":return dist$2.str(o);case"pubkey":return dist$2.publicKey(o);default:{if("option"in e.type)return dist$2.option(IdlCoder.fieldLayout({type:e.type.option},t,r),o);if("vec"in e.type)return dist$2.vec(IdlCoder.fieldLayout({type:e.type.vec},t,r),o);if("array"in e.type){let[a,c]=e.type.array;return c=IdlCoder.resolveArrayLen(c,r),dist$2.array(IdlCoder.fieldLayout({type:a},t,r),c,o)}if("defined"in e.type){if(!t)throw new IdlError("User defined types not provided");const a=e.type.defined.name,c=t.find(u=>u.name===a);if(!c)throw new IdlError(`Type not found: ${e.name}`);return IdlCoder.typeDefLayout({typeDef:c,types:t,genericArgs:r??e.type.defined.generics,name:o})}if("generic"in e.type){const a=r==null?void 0:r.at(0);if((a==null?void 0:a.kind)!=="type")throw new IdlError(`Invalid generic field: ${e.name}`);return IdlCoder.fieldLayout({...e,type:a.type},t)}throw new IdlError(`Not yet implemented: ${JSON.stringify(e.type)}`)}}}static typeDefLayout({typeDef:e,types:t,name:r,genericArgs:o}){switch(e.type.kind){case"struct":{const a=handleDefinedFields(e.type.fields,()=>[],c=>c.map(u=>{const en=o&&IdlCoder.resolveGenericArgs({type:u.type,typeDef:e,genericArgs:o});return IdlCoder.fieldLayout(u,t,en)}),c=>c.map((u,en)=>{const tn=o&&IdlCoder.resolveGenericArgs({type:u,typeDef:e,genericArgs:o});return IdlCoder.fieldLayout({name:en.toString(),type:u},t,tn)}));return dist$2.struct(a,r)}case"enum":{const a=e.type.variants.map(c=>{const u=handleDefinedFields(c.fields,()=>[],en=>en.map(tn=>{const nn=o&&IdlCoder.resolveGenericArgs({type:tn.type,typeDef:e,genericArgs:o});return IdlCoder.fieldLayout(tn,t,nn)}),en=>en.map((tn,nn)=>{const sn=o&&IdlCoder.resolveGenericArgs({type:tn,typeDef:e,genericArgs:o});return IdlCoder.fieldLayout({name:nn.toString(),type:tn},t,sn)}));return dist$2.struct(u,c.name)});return r!==void 0?dist$2.rustEnum(a).replicate(r):dist$2.rustEnum(a,r)}case"type":return IdlCoder.fieldLayout({type:e.type.alias,name:r},t)}}static typeSize(e,t,r){var o;switch(e){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in e)return 1+IdlCoder.typeSize(e.option,t,r);if("coption"in e)return 4+IdlCoder.typeSize(e.coption,t,r);if("vec"in e)return 1;if("array"in e){let[a,c]=e.array;return c=IdlCoder.resolveArrayLen(c,r),IdlCoder.typeSize(a,t,r)*c}if("defined"in e){const a=(o=t.types)===null||o===void 0?void 0:o.find(u=>u.name===e.defined.name);if(!a)throw new IdlError(`Type not found: ${JSON.stringify(e)}`);const c=u=>{const en=r??e.defined.generics,tn=en&&IdlCoder.resolveGenericArgs({type:u,typeDef:a,genericArgs:en});return IdlCoder.typeSize(u,t,tn)};switch(a.type.kind){case"struct":return handleDefinedFields(a.type.fields,()=>[0],u=>u.map(en=>c(en.type)),u=>u.map(en=>c(en))).reduce((u,en)=>u+en,0);case"enum":{const u=a.type.variants.map(en=>handleDefinedFields(en.fields,()=>[0],tn=>tn.map(nn=>c(nn.type)),tn=>tn.map(nn=>c(nn))).reduce((tn,nn)=>tn+nn,0));return Math.max(...u)+1}case"type":return IdlCoder.typeSize(a.type.alias,t,r)}}if("generic"in e){const a=r==null?void 0:r.at(0);if((a==null?void 0:a.kind)!=="type")throw new IdlError(`Invalid generic: ${e.generic}`);return IdlCoder.typeSize(a.type,t,r)}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}static resolveArrayLen(e,t){if(typeof e=="number")return e;if(t){const r=t.find(o=>o.kind==="const");(r==null?void 0:r.kind)==="const"&&(e=+r.value)}if(typeof e!="number")throw new IdlError("Generic array length did not resolve");return e}static resolveGenericArgs({type:e,typeDef:t,genericArgs:r,isDefined:o}){if(typeof e!="object")return null;for(const a in t.generics){const c=t.generics[a];if("generic"in e&&c.name===e.generic)return[r[a]];if("option"in e){const u=IdlCoder.resolveGenericArgs({type:e.option,typeDef:t,genericArgs:r,isDefined:o});if(!u||!o)return u;if(u[0].kind==="type")return[{kind:"type",type:{option:u[0].type}}]}if("vec"in e){const u=IdlCoder.resolveGenericArgs({type:e.vec,typeDef:t,genericArgs:r,isDefined:o});if(!u||!o)return u;if(u[0].kind==="type")return[{kind:"type",type:{vec:u[0].type}}]}if("array"in e){const[u,en]=e.array,tn=typeof en=="object",nn=IdlCoder.resolveGenericArgs({type:u,typeDef:t,genericArgs:r,isDefined:o});if(nn){for(const sn in t.generics.slice(+a)){const fn=+a+ +sn;tn&&t.generics[fn].name===en.generic&&nn.push(r[fn])}if(!o)return nn;if(nn[0].kind==="type"&&nn[1].kind==="const")return[{kind:"type",type:{array:[nn[0].type,+nn[1].value]}}]}if(tn&&c.name===en.generic){const sn=r[a];return o?[{kind:"type",type:{array:[u,+sn.value]}}]:[sn]}return null}if("defined"in e)return e.defined.generics?e.defined.generics.flatMap(u=>{switch(u.kind){case"type":return IdlCoder.resolveGenericArgs({type:u.type,typeDef:t,genericArgs:r,isDefined:!0});case"const":return[u]}}).filter(u=>u!==null):null}return null}}class BorshInstructionCoder{constructor(e){this.idl=e;const t=e.instructions.map(o=>{const a=o.name,c=o.args.map(en=>IdlCoder.fieldLayout(en,e.types)),u=dist$2.struct(c,a);return[a,{discriminator:o.discriminator,layout:u}]});this.ixLayouts=new Map(t);const r=t.map(([o,{discriminator:a,layout:c}])=>[bs58$3.encode(a),{name:o,layout:c}]);this.sighashLayouts=new Map(r)}encode(e,t){const r=bufferPolyfill.Buffer.alloc(1e3),o=this.ixLayouts.get(e);if(!o)throw new Error(`Unknown method: ${e}`);const a=o.layout.encode(t,r),c=r.slice(0,a);return bufferPolyfill.Buffer.concat([bufferPolyfill.Buffer.from(o.discriminator),c])}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?bufferPolyfill.Buffer.from(e,"hex"):bs58$3.decode(e));const r=e.slice(0,DISCRIMINATOR_SIZE),o=e.slice(DISCRIMINATOR_SIZE),a=this.sighashLayouts.get(bs58$3.encode(r));return a?{name:a.name,data:a.layout.decode(o)}:null}format(e,t){return InstructionFormatter.format(e,t,this.idl)}}class InstructionFormatter{static format(e,t,r){const o=r.instructions.find(en=>e.name===en.name);if(!o)return console.error("Invalid instruction given"),null;const a=o.args.map(en=>({name:en.name,type:InstructionFormatter.formatIdlType(en.type),data:InstructionFormatter.formatIdlData(en,e.data[en.name],r.types)})),c=InstructionFormatter.flattenIdlAccounts(o.accounts),u=t.map((en,tn)=>tn<c.length?{name:c[tn].name,...en}:{name:void 0,...en});return{args:a,accounts:u}}static formatIdlType(e){if(typeof e=="string")return e;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("coption"in e)return`COption<${this.formatIdlType(e.coption)}>`;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;if("defined"in e){const t=e.defined.name;if(e.defined.generics){const r=e.defined.generics.map(o=>{switch(o.kind){case"type":return InstructionFormatter.formatIdlType(o.type);case"const":return o.value}}).join(", ");return`${t}<${r}>`}return t}throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if("vec"in e.type)return"["+t.map(o=>this.formatIdlData({name:"",type:e.type.vec},o,r)).join(", ")+"]";if("option"in e.type)return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if("defined"in e.type){if(!r)throw new Error("User defined types not provided");const o=e.type.defined.name,a=r.find(c=>c.name===o);if(!a)throw new Error(`Type not found: ${o}`);return InstructionFormatter.formatIdlDataDefined(a,t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){switch(e.type.kind){case"struct":return"{ "+handleDefinedFields(e.type.fields,()=>"",o=>Object.entries(t).map(([a,c])=>{const u=o.find(en=>en.name===a);if(!u)throw new Error(`Field not found: ${a}`);return a+": "+InstructionFormatter.formatIdlData(u,c,r)}).join(", "),o=>Object.entries(t).map(([a,c])=>a+": "+InstructionFormatter.formatIdlData({name:"",type:o[a]},c,r)).join(", "))+" }";case"enum":{const o=Object.keys(t)[0],a=e.type.variants.find(u=>u.name===o);if(!a)throw new Error(`Unable to find variant: ${o}`);const c=t[o];return handleDefinedFields(a.fields,()=>o,u=>{const en=Object.keys(c).map(tn=>{const nn=c[tn],sn=u.find(fn=>fn.name===tn);if(!sn)throw new Error(`Field not found: ${tn}`);return tn+": "+InstructionFormatter.formatIdlData(sn,nn,r)}).join(", ");return`${o} { ${en} }`},u=>{const en=Object.entries(c).map(([tn,nn])=>tn+": "+InstructionFormatter.formatIdlData({name:"",type:u[tn]},nn,r)).join(", ");return`${o} { ${en} }`})}case"type":return InstructionFormatter.formatIdlType(e.type.alias)}}static flattenIdlAccounts(e,t){return e.map(r=>{const o=sentenceCase(r.name);if(r.hasOwnProperty("accounts")){const a=t?`${t} > ${o}`:o;return InstructionFormatter.flattenIdlAccounts(r.accounts,a)}else return{...r,name:t?`${t} > ${o}`:o}}).flat()}}function sentenceCase(n){const e=n.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}const DISCRIMINATOR_SIZE=8;class BorshAccountsCoder{constructor(e){if(this.idl=e,!e.accounts){this.accountLayouts=new Map;return}const t=e.types;if(!t)throw new Error("Accounts require `idl.types`");const r=e.accounts.map(o=>{const a=t.find(c=>c.name===o.name);if(!a)throw new Error(`Account not found: ${o.name}`);return[o.name,IdlCoder.typeDefLayout({typeDef:a,types:t})]});this.accountLayouts=new Map(r)}async encode(e,t){const r=bufferPolyfill.Buffer.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const a=o.encode(t,r),c=r.slice(0,a),u=this.accountDiscriminator(e);return bufferPolyfill.Buffer.concat([u,c])}decode(e,t){if(this.accountDiscriminator(e).compare(t.slice(0,DISCRIMINATOR_SIZE)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeAny(e){const t=e.slice(0,DISCRIMINATOR_SIZE),r=Array.from(this.accountLayouts.keys()).find(o=>this.accountDiscriminator(o).equals(t));if(!r)throw new Error("Account not found");return this.decodeUnchecked(r,e)}decodeUnchecked(e,t){const r=t.subarray(DISCRIMINATOR_SIZE),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.decode(r)}memcmp(e,t){const r=this.accountDiscriminator(e);return{offset:0,bytes:bs58$3.encode(t?bufferPolyfill.Buffer.concat([r,t]):r)}}size(e){return DISCRIMINATOR_SIZE+IdlCoder.typeSize({defined:{name:e}},this.idl)}accountDiscriminator(e){var t;const r=(t=this.idl.accounts)===null||t===void 0?void 0:t.find(o=>o.name===e);if(!r)throw new Error(`Account not found: ${e}`);return bufferPolyfill.Buffer.from(r.discriminator)}}class BorshEventCoder{constructor(e){var t;if(!e.events){this.layouts=new Map;return}const r=e.types;if(!r)throw new Error("Events require `idl.types`");const o=e.events.map(a=>{const c=r.find(u=>u.name===a.name);if(!c)throw new Error(`Event not found: ${a.name}`);return[a.name,IdlCoder.typeDefLayout({typeDef:c,types:r})]});this.layouts=new Map(o),this.discriminators=new Map(((t=e.events)!==null&&t!==void 0?t:[]).map(a=>[encode(bufferPolyfill.Buffer.from(a.discriminator)),a.name]))}decode(e){let t;try{t=decode$1(e)}catch{return null}const r=encode(t.slice(0,8)),o=this.discriminators.get(r);if(!o)return null;const a=this.layouts.get(o);if(!a)throw new Error(`Unknown event: ${o}`);return{data:a.decode(t.slice(8)),name:o}}}class BorshTypesCoder{constructor(e){const t=e.types;if(!t){this.typeLayouts=new Map;return}const r=t.filter(o=>!o.generics).map(o=>[o.name,IdlCoder.typeDefLayout({typeDef:o,types:t})]);this.typeLayouts=new Map(r)}encode(e,t){const r=bufferPolyfill.Buffer.alloc(1e3),o=this.typeLayouts.get(e);if(!o)throw new Error(`Unknown type: ${e}`);const a=o.encode(t,r);return r.slice(0,a)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class BorshCoder{constructor(e){this.instruction=new BorshInstructionCoder(e),this.accounts=new BorshAccountsCoder(e),this.events=new BorshEventCoder(e),this.types=new BorshTypesCoder(e)}}class RustStringLayout extends Layout_2{constructor(e){super(-1,e),this.property=e,this.layout=struct$2([u32$1("length"),u32$1("lengthPadding"),blob$1(offset(u32$1(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const o={chars:dist$3.Buffer.from(e,"utf8")};return this.layout.encode(o,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return u32$1().span+u32$1().span+new BN(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function rustStringLayout(n){return new RustStringLayout(n)}function publicKey$a(n){return blob$1(32,n)}const LAYOUT=union$6(u32$1("instruction"));LAYOUT.addVariant(0,struct$2([ns64("lamports"),ns64("space"),publicKey$a("owner")]),"createAccount");LAYOUT.addVariant(1,struct$2([publicKey$a("owner")]),"assign");LAYOUT.addVariant(2,struct$2([ns64("lamports")]),"transfer");LAYOUT.addVariant(3,struct$2([publicKey$a("base"),rustStringLayout("seed"),ns64("lamports"),ns64("space"),publicKey$a("owner")]),"createAccountWithSeed");LAYOUT.addVariant(4,struct$2([publicKey$a("authorized")]),"advanceNonceAccount");LAYOUT.addVariant(5,struct$2([ns64("lamports")]),"withdrawNonceAccount");LAYOUT.addVariant(6,struct$2([publicKey$a("authorized")]),"initializeNonceAccount");LAYOUT.addVariant(7,struct$2([publicKey$a("authorized")]),"authorizeNonceAccount");LAYOUT.addVariant(8,struct$2([ns64("space")]),"allocate");LAYOUT.addVariant(9,struct$2([publicKey$a("base"),rustStringLayout("seed"),ns64("space"),publicKey$a("owner")]),"allocateWithSeed");LAYOUT.addVariant(10,struct$2([publicKey$a("base"),rustStringLayout("seed"),publicKey$a("owner")]),"assignWithSeed");LAYOUT.addVariant(11,struct$2([ns64("lamports"),rustStringLayout("seed"),publicKey$a("owner")]),"transferWithSeed");Math.max(...Object.values(LAYOUT.registry).map(n=>n.span));class WrappedLayout$1 extends Layout_2{constructor(e,t,r,o){super(e.span,o),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function publicKey$9(n){return new WrappedLayout$1(blob$1(32),e=>new PublicKey$6(e),e=>e.toBuffer(),n)}struct$2([u32$1("version"),u32$1("state"),publicKey$9("authorizedPubkey"),publicKey$9("nonce"),struct$2([nu64("lamportsPerSignature")],"feeCalculator")]);new PublicKey$6("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new PublicKey$6("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var browserPonyfill={exports:{}};(function(n,e){var t=typeof self<"u"?self:commonjsGlobal,r=function(){function a(){this.fetch=!1,this.DOMException=t.DOMException}return a.prototype=t,new a}();(function(a){(function(c){var u={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function en(mn){return mn&&DataView.prototype.isPrototypeOf(mn)}if(u.arrayBuffer)var tn=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],nn=ArrayBuffer.isView||function(mn){return mn&&tn.indexOf(Object.prototype.toString.call(mn))>-1};function sn(mn){if(typeof mn!="string"&&(mn=String(mn)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(mn))throw new TypeError("Invalid character in header field name");return mn.toLowerCase()}function fn(mn){return typeof mn!="string"&&(mn=String(mn)),mn}function dn(mn){var _n={next:function(){var vn=mn.shift();return{done:vn===void 0,value:vn}}};return u.iterable&&(_n[Symbol.iterator]=function(){return _n}),_n}function hn(mn){this.map={},mn instanceof hn?mn.forEach(function(_n,vn){this.append(vn,_n)},this):Array.isArray(mn)?mn.forEach(function(_n){this.append(_n[0],_n[1])},this):mn&&Object.getOwnPropertyNames(mn).forEach(function(_n){this.append(_n,mn[_n])},this)}hn.prototype.append=function(mn,_n){mn=sn(mn),_n=fn(_n);var vn=this.map[mn];this.map[mn]=vn?vn+", "+_n:_n},hn.prototype.delete=function(mn){delete this.map[sn(mn)]},hn.prototype.get=function(mn){return mn=sn(mn),this.has(mn)?this.map[mn]:null},hn.prototype.has=function(mn){return this.map.hasOwnProperty(sn(mn))},hn.prototype.set=function(mn,_n){this.map[sn(mn)]=fn(_n)},hn.prototype.forEach=function(mn,_n){for(var vn in this.map)this.map.hasOwnProperty(vn)&&mn.call(_n,this.map[vn],vn,this)},hn.prototype.keys=function(){var mn=[];return this.forEach(function(_n,vn){mn.push(vn)}),dn(mn)},hn.prototype.values=function(){var mn=[];return this.forEach(function(_n){mn.push(_n)}),dn(mn)},hn.prototype.entries=function(){var mn=[];return this.forEach(function(_n,vn){mn.push([vn,_n])}),dn(mn)},u.iterable&&(hn.prototype[Symbol.iterator]=hn.prototype.entries);function ln(mn){if(mn.bodyUsed)return Promise.reject(new TypeError("Already read"));mn.bodyUsed=!0}function pn(mn){return new Promise(function(_n,vn){mn.onload=function(){_n(mn.result)},mn.onerror=function(){vn(mn.error)}})}function $n(mn){var _n=new FileReader,vn=pn(_n);return _n.readAsArrayBuffer(mn),vn}function Sn(mn){var _n=new FileReader,vn=pn(_n);return _n.readAsText(mn),vn}function yn(mn){for(var _n=new Uint8Array(mn),vn=new Array(_n.length),On=0;On<_n.length;On++)vn[On]=String.fromCharCode(_n[On]);return vn.join("")}function In(mn){if(mn.slice)return mn.slice(0);var _n=new Uint8Array(mn.byteLength);return _n.set(new Uint8Array(mn)),_n.buffer}function An(){return this.bodyUsed=!1,this._initBody=function(mn){this._bodyInit=mn,mn?typeof mn=="string"?this._bodyText=mn:u.blob&&Blob.prototype.isPrototypeOf(mn)?this._bodyBlob=mn:u.formData&&FormData.prototype.isPrototypeOf(mn)?this._bodyFormData=mn:u.searchParams&&URLSearchParams.prototype.isPrototypeOf(mn)?this._bodyText=mn.toString():u.arrayBuffer&&u.blob&&en(mn)?(this._bodyArrayBuffer=In(mn.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):u.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(mn)||nn(mn))?this._bodyArrayBuffer=In(mn):this._bodyText=mn=Object.prototype.toString.call(mn):this._bodyText="",this.headers.get("content-type")||(typeof mn=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u.searchParams&&URLSearchParams.prototype.isPrototypeOf(mn)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u.blob&&(this.blob=function(){var mn=ln(this);if(mn)return mn;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ln(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then($n)}),this.text=function(){var mn=ln(this);if(mn)return mn;if(this._bodyBlob)return Sn(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(yn(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u.formData&&(this.formData=function(){return this.text().then(Dn)}),this.json=function(){return this.text().then(JSON.parse)},this}var Tn=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function kn(mn){var _n=mn.toUpperCase();return Tn.indexOf(_n)>-1?_n:mn}function Pn(mn,_n){_n=_n||{};var vn=_n.body;if(mn instanceof Pn){if(mn.bodyUsed)throw new TypeError("Already read");this.url=mn.url,this.credentials=mn.credentials,_n.headers||(this.headers=new hn(mn.headers)),this.method=mn.method,this.mode=mn.mode,this.signal=mn.signal,!vn&&mn._bodyInit!=null&&(vn=mn._bodyInit,mn.bodyUsed=!0)}else this.url=String(mn);if(this.credentials=_n.credentials||this.credentials||"same-origin",(_n.headers||!this.headers)&&(this.headers=new hn(_n.headers)),this.method=kn(_n.method||this.method||"GET"),this.mode=_n.mode||this.mode||null,this.signal=_n.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&vn)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(vn)}Pn.prototype.clone=function(){return new Pn(this,{body:this._bodyInit})};function Dn(mn){var _n=new FormData;return mn.trim().split("&").forEach(function(vn){if(vn){var On=vn.split("="),Nn=On.shift().replace(/\+/g," "),Un=On.join("=").replace(/\+/g," ");_n.append(decodeURIComponent(Nn),decodeURIComponent(Un))}}),_n}function Kn(mn){var _n=new hn,vn=mn.replace(/\r?\n[\t ]+/g," ");return vn.split(/\r?\n/).forEach(function(On){var Nn=On.split(":"),Un=Nn.shift().trim();if(Un){var zn=Nn.join(":").trim();_n.append(Un,zn)}}),_n}An.call(Pn.prototype);function Hn(mn,_n){_n||(_n={}),this.type="default",this.status=_n.status===void 0?200:_n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _n?_n.statusText:"OK",this.headers=new hn(_n.headers),this.url=_n.url||"",this._initBody(mn)}An.call(Hn.prototype),Hn.prototype.clone=function(){return new Hn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new hn(this.headers),url:this.url})},Hn.error=function(){var mn=new Hn(null,{status:0,statusText:""});return mn.type="error",mn};var jn=[301,302,303,307,308];Hn.redirect=function(mn,_n){if(jn.indexOf(_n)===-1)throw new RangeError("Invalid status code");return new Hn(null,{status:_n,headers:{location:mn}})},c.DOMException=a.DOMException;try{new c.DOMException}catch{c.DOMException=function(_n,vn){this.message=_n,this.name=vn;var On=Error(_n);this.stack=On.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function Cn(mn,_n){return new Promise(function(vn,On){var Nn=new Pn(mn,_n);if(Nn.signal&&Nn.signal.aborted)return On(new c.DOMException("Aborted","AbortError"));var Un=new XMLHttpRequest;function zn(){Un.abort()}Un.onload=function(){var Bn={status:Un.status,statusText:Un.statusText,headers:Kn(Un.getAllResponseHeaders()||"")};Bn.url="responseURL"in Un?Un.responseURL:Bn.headers.get("X-Request-URL");var En="response"in Un?Un.response:Un.responseText;vn(new Hn(En,Bn))},Un.onerror=function(){On(new TypeError("Network request failed"))},Un.ontimeout=function(){On(new TypeError("Network request failed"))},Un.onabort=function(){On(new c.DOMException("Aborted","AbortError"))},Un.open(Nn.method,Nn.url,!0),Nn.credentials==="include"?Un.withCredentials=!0:Nn.credentials==="omit"&&(Un.withCredentials=!1),"responseType"in Un&&u.blob&&(Un.responseType="blob"),Nn.headers.forEach(function(Bn,En){Un.setRequestHeader(En,Bn)}),Nn.signal&&(Nn.signal.addEventListener("abort",zn),Un.onreadystatechange=function(){Un.readyState===4&&Nn.signal.removeEventListener("abort",zn)}),Un.send(typeof Nn._bodyInit>"u"?null:Nn._bodyInit)})}return Cn.polyfill=!0,a.fetch||(a.fetch=Cn,a.Headers=hn,a.Request=Pn,a.Response=Hn),c.Headers=hn,c.Request=Pn,c.Response=Hn,c.fetch=Cn,Object.defineProperty(c,"__esModule",{value:!0}),c})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;e=o.fetch,e.default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,n.exports=e})(browserPonyfill,browserPonyfill.exports);dist$2.rustEnum([dist$2.struct([],"uninitialized"),dist$2.struct([dist$2.option(dist$2.publicKey(),"authorityAddress")],"buffer"),dist$2.struct([dist$2.publicKey("programdataAddress")],"program"),dist$2.struct([dist$2.u64("slot"),dist$2.option(dist$2.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,dist$2.u32());/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(n){let e=n.length;for(;--e>=0;)n[e]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(n,e,t,r,o){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=r,this.max_length=o,this.has_stree=n&&n.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}const d_code=n=>n<256?_dist_code[n]:_dist_code[256+(n>>>7)],put_short=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},send_bits=(n,e,t)=>{n.bi_valid>Buf_size-t?(n.bi_buf|=e<<n.bi_valid&65535,put_short(n,n.bi_buf),n.bi_buf=e>>Buf_size-n.bi_valid,n.bi_valid+=t-Buf_size):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},send_code=(n,e,t)=>{send_bits(n,t[e*2],t[e*2+1])},bi_reverse=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},bi_flush=n=>{n.bi_valid===16?(put_short(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},gen_bitlen=(n,e)=>{const t=e.dyn_tree,r=e.max_code,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,en=e.stat_desc.max_length;let tn,nn,sn,fn,dn,hn,ln=0;for(fn=0;fn<=MAX_BITS$1;fn++)n.bl_count[fn]=0;for(t[n.heap[n.heap_max]*2+1]=0,tn=n.heap_max+1;tn<HEAP_SIZE$1;tn++)nn=n.heap[tn],fn=t[t[nn*2+1]*2+1]+1,fn>en&&(fn=en,ln++),t[nn*2+1]=fn,!(nn>r)&&(n.bl_count[fn]++,dn=0,nn>=u&&(dn=c[nn-u]),hn=t[nn*2],n.opt_len+=hn*(fn+dn),a&&(n.static_len+=hn*(o[nn*2+1]+dn)));if(ln!==0){do{for(fn=en-1;n.bl_count[fn]===0;)fn--;n.bl_count[fn]--,n.bl_count[fn+1]+=2,n.bl_count[en]--,ln-=2}while(ln>0);for(fn=en;fn!==0;fn--)for(nn=n.bl_count[fn];nn!==0;)sn=n.heap[--tn],!(sn>r)&&(t[sn*2+1]!==fn&&(n.opt_len+=(fn-t[sn*2+1])*t[sn*2],t[sn*2+1]=fn),nn--)}},gen_codes=(n,e,t)=>{const r=new Array(MAX_BITS$1+1);let o=0,a,c;for(a=1;a<=MAX_BITS$1;a++)o=o+t[a-1]<<1,r[a]=o;for(c=0;c<=e;c++){let u=n[c*2+1];u!==0&&(n[c*2]=bi_reverse(r[u]++,u))}},tr_static_init=()=>{let n,e,t,r,o;const a=new Array(MAX_BITS$1+1);for(t=0,r=0;r<LENGTH_CODES$1-1;r++)for(base_length[r]=t,n=0;n<1<<extra_lbits[r];n++)_length_code[t++]=r;for(_length_code[t-1]=r,o=0,r=0;r<16;r++)for(base_dist[r]=o,n=0;n<1<<extra_dbits[r];n++)_dist_code[o++]=r;for(o>>=7;r<D_CODES$1;r++)for(base_dist[r]=o<<7,n=0;n<1<<extra_dbits[r]-7;n++)_dist_code[256+o++]=r;for(e=0;e<=MAX_BITS$1;e++)a[e]=0;for(n=0;n<=143;)static_ltree[n*2+1]=8,n++,a[8]++;for(;n<=255;)static_ltree[n*2+1]=9,n++,a[9]++;for(;n<=279;)static_ltree[n*2+1]=7,n++,a[7]++;for(;n<=287;)static_ltree[n*2+1]=8,n++,a[8]++;for(gen_codes(static_ltree,L_CODES$1+1,a),n=0;n<D_CODES$1;n++)static_dtree[n*2+1]=5,static_dtree[n*2]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=n=>{let e;for(e=0;e<L_CODES$1;e++)n.dyn_ltree[e*2]=0;for(e=0;e<D_CODES$1;e++)n.dyn_dtree[e*2]=0;for(e=0;e<BL_CODES$1;e++)n.bl_tree[e*2]=0;n.dyn_ltree[END_BLOCK*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},bi_windup=n=>{n.bi_valid>8?put_short(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},smaller=(n,e,t,r)=>{const o=e*2,a=t*2;return n[o]<n[a]||n[o]===n[a]&&r[e]<=r[t]},pqdownheap=(n,e,t)=>{const r=n.heap[t];let o=t<<1;for(;o<=n.heap_len&&(o<n.heap_len&&smaller(e,n.heap[o+1],n.heap[o],n.depth)&&o++,!smaller(e,r,n.heap[o],n.depth));)n.heap[t]=n.heap[o],t=o,o<<=1;n.heap[t]=r},compress_block=(n,e,t)=>{let r,o,a=0,c,u;if(n.sym_next!==0)do r=n.pending_buf[n.sym_buf+a++]&255,r+=(n.pending_buf[n.sym_buf+a++]&255)<<8,o=n.pending_buf[n.sym_buf+a++],r===0?send_code(n,o,e):(c=_length_code[o],send_code(n,c+LITERALS$1+1,e),u=extra_lbits[c],u!==0&&(o-=base_length[c],send_bits(n,o,u)),r--,c=d_code(r),send_code(n,c,t),u=extra_dbits[c],u!==0&&(r-=base_dist[c],send_bits(n,r,u)));while(a<n.sym_next);send_code(n,END_BLOCK,e)},build_tree=(n,e)=>{const t=e.dyn_tree,r=e.stat_desc.static_tree,o=e.stat_desc.has_stree,a=e.stat_desc.elems;let c,u,en=-1,tn;for(n.heap_len=0,n.heap_max=HEAP_SIZE$1,c=0;c<a;c++)t[c*2]!==0?(n.heap[++n.heap_len]=en=c,n.depth[c]=0):t[c*2+1]=0;for(;n.heap_len<2;)tn=n.heap[++n.heap_len]=en<2?++en:0,t[tn*2]=1,n.depth[tn]=0,n.opt_len--,o&&(n.static_len-=r[tn*2+1]);for(e.max_code=en,c=n.heap_len>>1;c>=1;c--)pqdownheap(n,t,c);tn=a;do c=n.heap[1],n.heap[1]=n.heap[n.heap_len--],pqdownheap(n,t,1),u=n.heap[1],n.heap[--n.heap_max]=c,n.heap[--n.heap_max]=u,t[tn*2]=t[c*2]+t[u*2],n.depth[tn]=(n.depth[c]>=n.depth[u]?n.depth[c]:n.depth[u])+1,t[c*2+1]=t[u*2+1]=tn,n.heap[1]=tn++,pqdownheap(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],gen_bitlen(n,e),gen_codes(t,en,n.bl_count)},scan_tree=(n,e,t)=>{let r,o=-1,a,c=e[0*2+1],u=0,en=7,tn=4;for(c===0&&(en=138,tn=3),e[(t+1)*2+1]=65535,r=0;r<=t;r++)a=c,c=e[(r+1)*2+1],!(++u<en&&a===c)&&(u<tn?n.bl_tree[a*2]+=u:a!==0?(a!==o&&n.bl_tree[a*2]++,n.bl_tree[REP_3_6*2]++):u<=10?n.bl_tree[REPZ_3_10*2]++:n.bl_tree[REPZ_11_138*2]++,u=0,o=a,c===0?(en=138,tn=3):a===c?(en=6,tn=3):(en=7,tn=4))},send_tree=(n,e,t)=>{let r,o=-1,a,c=e[0*2+1],u=0,en=7,tn=4;for(c===0&&(en=138,tn=3),r=0;r<=t;r++)if(a=c,c=e[(r+1)*2+1],!(++u<en&&a===c)){if(u<tn)do send_code(n,a,n.bl_tree);while(--u!==0);else a!==0?(a!==o&&(send_code(n,a,n.bl_tree),u--),send_code(n,REP_3_6,n.bl_tree),send_bits(n,u-3,2)):u<=10?(send_code(n,REPZ_3_10,n.bl_tree),send_bits(n,u-3,3)):(send_code(n,REPZ_11_138,n.bl_tree),send_bits(n,u-11,7));u=0,o=a,c===0?(en=138,tn=3):a===c?(en=6,tn=3):(en=7,tn=4)}},build_bl_tree=n=>{let e;for(scan_tree(n,n.dyn_ltree,n.l_desc.max_code),scan_tree(n,n.dyn_dtree,n.d_desc.max_code),build_tree(n,n.bl_desc),e=BL_CODES$1-1;e>=3&&n.bl_tree[bl_order[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},send_all_trees=(n,e,t,r)=>{let o;for(send_bits(n,e-257,5),send_bits(n,t-1,5),send_bits(n,r-4,4),o=0;o<r;o++)send_bits(n,n.bl_tree[bl_order[o]*2+1],3);send_tree(n,n.dyn_ltree,e-1),send_tree(n,n.dyn_dtree,t-1)},detect_data_type=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return Z_BINARY;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return Z_TEXT;for(t=32;t<LITERALS$1;t++)if(n.dyn_ltree[t*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=n=>{static_init_done||(tr_static_init(),static_init_done=!0),n.l_desc=new TreeDesc(n.dyn_ltree,static_l_desc),n.d_desc=new TreeDesc(n.dyn_dtree,static_d_desc),n.bl_desc=new TreeDesc(n.bl_tree,static_bl_desc),n.bi_buf=0,n.bi_valid=0,init_block(n)},_tr_stored_block$1=(n,e,t,r)=>{send_bits(n,(STORED_BLOCK<<1)+(r?1:0),3),bi_windup(n),put_short(n,t),put_short(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},_tr_align$1=n=>{send_bits(n,STATIC_TREES<<1,3),send_code(n,END_BLOCK,static_ltree),bi_flush(n)},_tr_flush_block$1=(n,e,t,r)=>{let o,a,c=0;n.level>0?(n.strm.data_type===Z_UNKNOWN$1&&(n.strm.data_type=detect_data_type(n)),build_tree(n,n.l_desc),build_tree(n,n.d_desc),c=build_bl_tree(n),o=n.opt_len+3+7>>>3,a=n.static_len+3+7>>>3,a<=o&&(o=a)):o=a=t+5,t+4<=o&&e!==-1?_tr_stored_block$1(n,e,t,r):n.strategy===Z_FIXED$1||a===o?(send_bits(n,(STATIC_TREES<<1)+(r?1:0),3),compress_block(n,static_ltree,static_dtree)):(send_bits(n,(DYN_TREES<<1)+(r?1:0),3),send_all_trees(n,n.l_desc.max_code+1,n.d_desc.max_code+1,c+1),compress_block(n,n.dyn_ltree,n.dyn_dtree)),init_block(n),r&&bi_windup(n)},_tr_tally$1=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(_length_code[t]+LITERALS$1+1)*2]++,n.dyn_dtree[d_code(e)*2]++),n.sym_next===n.sym_end);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(n,e,t,r)=>{let o=n&65535|0,a=n>>>16&65535|0,c=0;for(;t!==0;){c=t>2e3?2e3:t,t-=c;do o=o+e[r++]|0,a=a+o|0;while(--c);o%=65521,a%=65521}return o|a<<16|0};var adler32_1=adler32;const makeTable=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},crcTable=new Uint32Array(makeTable()),crc32=(n,e,t,r)=>{const o=crcTable,a=r+t;n^=-1;for(let c=r;c<a;c++)n=n>>>8^o[(n^e[c])&255];return n^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2$1={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2$1,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,GZIP_STATE=57,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(n,e)=>(n.msg=messages[e],e),rank=n=>n*2-(n>4?9:0),zero=n=>{let e=n.length;for(;--e>=0;)n[e]=0},slide_hash=n=>{let e,t,r,o=n.w_size;e=n.hash_size,r=e;do t=n.head[--r],n.head[r]=t>=o?t-o:0;while(--e);e=o,r=e;do t=n.prev[--r],n.prev[r]=t>=o?t-o:0;while(--e)};let HASH_ZLIB=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,HASH=HASH_ZLIB;const flush_pending=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},flush_block_only=(n,e)=>{_tr_flush_block(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,flush_pending(n.strm)},put_byte=(n,e)=>{n.pending_buf[n.pending++]=e},putShortMSB=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},read_buf=(n,e,t,r)=>{let o=n.avail_in;return o>r&&(o=r),o===0?0:(n.avail_in-=o,e.set(n.input.subarray(n.next_in,n.next_in+o),t),n.state.wrap===1?n.adler=adler32_1(n.adler,e,o,t):n.state.wrap===2&&(n.adler=crc32_1(n.adler,e,o,t)),n.next_in+=o,n.total_in+=o,o)},longest_match=(n,e)=>{let t=n.max_chain_length,r=n.strstart,o,a,c=n.prev_length,u=n.nice_match;const en=n.strstart>n.w_size-MIN_LOOKAHEAD?n.strstart-(n.w_size-MIN_LOOKAHEAD):0,tn=n.window,nn=n.w_mask,sn=n.prev,fn=n.strstart+MAX_MATCH;let dn=tn[r+c-1],hn=tn[r+c];n.prev_length>=n.good_match&&(t>>=2),u>n.lookahead&&(u=n.lookahead);do if(o=e,!(tn[o+c]!==hn||tn[o+c-1]!==dn||tn[o]!==tn[r]||tn[++o]!==tn[r+1])){r+=2,o++;do;while(tn[++r]===tn[++o]&&tn[++r]===tn[++o]&&tn[++r]===tn[++o]&&tn[++r]===tn[++o]&&tn[++r]===tn[++o]&&tn[++r]===tn[++o]&&tn[++r]===tn[++o]&&tn[++r]===tn[++o]&&r<fn);if(a=MAX_MATCH-(fn-r),r=fn-MAX_MATCH,a>c){if(n.match_start=e,c=a,a>=u)break;dn=tn[r+c-1],hn=tn[r+c]}}while((e=sn[e&nn])>en&&--t!==0);return c<=n.lookahead?c:n.lookahead},fill_window=n=>{const e=n.w_size;let t,r,o;do{if(r=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-MIN_LOOKAHEAD)&&(n.window.set(n.window.subarray(e,e+e-r),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),slide_hash(n),r+=e),n.strm.avail_in===0)break;if(t=read_buf(n.strm,n.window,n.strstart+n.lookahead,r),n.lookahead+=t,n.lookahead+n.insert>=MIN_MATCH)for(o=n.strstart-n.insert,n.ins_h=n.window[o],n.ins_h=HASH(n,n.ins_h,n.window[o+1]);n.insert&&(n.ins_h=HASH(n,n.ins_h,n.window[o+MIN_MATCH-1]),n.prev[o&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=o,o++,n.insert--,!(n.lookahead+n.insert<MIN_MATCH)););}while(n.lookahead<MIN_LOOKAHEAD&&n.strm.avail_in!==0)},deflate_stored=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,r,o,a,c=0,u=n.strm.avail_in;do{if(r=65535,a=n.bi_valid+42>>3,n.strm.avail_out<a||(a=n.strm.avail_out-a,o=n.strstart-n.block_start,r>o+n.strm.avail_in&&(r=o+n.strm.avail_in),r>a&&(r=a),r<t&&(r===0&&e!==Z_FINISH$3||e===Z_NO_FLUSH$2||r!==o+n.strm.avail_in)))break;c=e===Z_FINISH$3&&r===o+n.strm.avail_in?1:0,_tr_stored_block(n,0,0,c),n.pending_buf[n.pending-4]=r,n.pending_buf[n.pending-3]=r>>8,n.pending_buf[n.pending-2]=~r,n.pending_buf[n.pending-1]=~r>>8,flush_pending(n.strm),o&&(o>r&&(o=r),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+o),n.strm.next_out),n.strm.next_out+=o,n.strm.avail_out-=o,n.strm.total_out+=o,n.block_start+=o,r-=o),r&&(read_buf(n.strm,n.strm.output,n.strm.next_out,r),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r)}while(c===0);return u-=n.strm.avail_in,u&&(u>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=u&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-u,n.strm.next_in),n.strstart),n.strstart+=u,n.insert+=u>n.w_size-n.insert?n.w_size-n.insert:u),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),c?BS_FINISH_DONE:e!==Z_NO_FLUSH$2&&e!==Z_FINISH$3&&n.strm.avail_in===0&&n.strstart===n.block_start?BS_BLOCK_DONE:(a=n.window_size-n.strstart,n.strm.avail_in>a&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,a+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),a>n.strm.avail_in&&(a=n.strm.avail_in),a&&(read_buf(n.strm,n.window,n.strstart,a),n.strstart+=a,n.insert+=a>n.w_size-n.insert?n.w_size-n.insert:a),n.high_water<n.strstart&&(n.high_water=n.strstart),a=n.bi_valid+42>>3,a=n.pending_buf_size-a>65535?65535:n.pending_buf_size-a,t=a>n.w_size?n.w_size:a,o=n.strstart-n.block_start,(o>=t||(o||e===Z_FINISH$3)&&e!==Z_NO_FLUSH$2&&n.strm.avail_in===0&&o<=a)&&(r=o>a?a:o,c=e===Z_FINISH$3&&n.strm.avail_in===0&&r===o?1:0,_tr_stored_block(n,n.block_start,r,c),n.block_start+=r,flush_pending(n.strm)),c?BS_FINISH_STARTED:BS_NEED_MORE)},deflate_fast=(n,e)=>{let t,r;for(;;){if(n.lookahead<MIN_LOOKAHEAD){if(fill_window(n),n.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(n.lookahead===0)break}if(t=0,n.lookahead>=MIN_MATCH&&(n.ins_h=HASH(n,n.ins_h,n.window[n.strstart+MIN_MATCH-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-MIN_LOOKAHEAD&&(n.match_length=longest_match(n,t)),n.match_length>=MIN_MATCH)if(r=_tr_tally(n,n.strstart-n.match_start,n.match_length-MIN_MATCH),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=MIN_MATCH){n.match_length--;do n.strstart++,n.ins_h=HASH(n,n.ins_h,n.window[n.strstart+MIN_MATCH-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=HASH(n,n.ins_h,n.window[n.strstart+1]);else r=_tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(r&&(flush_block_only(n,!1),n.strm.avail_out===0))return BS_NEED_MORE}return n.insert=n.strstart<MIN_MATCH-1?n.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(n,!0),n.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):n.sym_next&&(flush_block_only(n,!1),n.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(n,e)=>{let t,r,o;for(;;){if(n.lookahead<MIN_LOOKAHEAD){if(fill_window(n),n.lookahead<MIN_LOOKAHEAD&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(n.lookahead===0)break}if(t=0,n.lookahead>=MIN_MATCH&&(n.ins_h=HASH(n,n.ins_h,n.window[n.strstart+MIN_MATCH-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=MIN_MATCH-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-MIN_LOOKAHEAD&&(n.match_length=longest_match(n,t),n.match_length<=5&&(n.strategy===Z_FILTERED||n.match_length===MIN_MATCH&&n.strstart-n.match_start>4096)&&(n.match_length=MIN_MATCH-1)),n.prev_length>=MIN_MATCH&&n.match_length<=n.prev_length){o=n.strstart+n.lookahead-MIN_MATCH,r=_tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-MIN_MATCH),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=o&&(n.ins_h=HASH(n,n.ins_h,n.window[n.strstart+MIN_MATCH-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=MIN_MATCH-1,n.strstart++,r&&(flush_block_only(n,!1),n.strm.avail_out===0))return BS_NEED_MORE}else if(n.match_available){if(r=_tr_tally(n,0,n.window[n.strstart-1]),r&&flush_block_only(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return BS_NEED_MORE}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(r=_tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<MIN_MATCH-1?n.strstart:MIN_MATCH-1,e===Z_FINISH$3?(flush_block_only(n,!0),n.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):n.sym_next&&(flush_block_only(n,!1),n.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(n,e)=>{let t,r,o,a;const c=n.window;for(;;){if(n.lookahead<=MAX_MATCH){if(fill_window(n),n.lookahead<=MAX_MATCH&&e===Z_NO_FLUSH$2)return BS_NEED_MORE;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=MIN_MATCH&&n.strstart>0&&(o=n.strstart-1,r=c[o],r===c[++o]&&r===c[++o]&&r===c[++o])){a=n.strstart+MAX_MATCH;do;while(r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&r===c[++o]&&o<a);n.match_length=MAX_MATCH-(a-o),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=MIN_MATCH?(t=_tr_tally(n,1,n.match_length-MIN_MATCH),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=_tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(flush_block_only(n,!1),n.strm.avail_out===0))return BS_NEED_MORE}return n.insert=0,e===Z_FINISH$3?(flush_block_only(n,!0),n.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):n.sym_next&&(flush_block_only(n,!1),n.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(fill_window(n),n.lookahead===0)){if(e===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(n.match_length=0,t=_tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(flush_block_only(n,!1),n.strm.avail_out===0))return BS_NEED_MORE}return n.insert=0,e===Z_FINISH$3?(flush_block_only(n,!0),n.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):n.sym_next&&(flush_block_only(n,!1),n.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config(n,e,t,r,o){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=r,this.func=o}const configuration_table=[new Config(0,0,0,0,deflate_stored),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],lm_init=n=>{n.window_size=2*n.w_size,zero(n.head),n.max_lazy_match=configuration_table[n.level].max_lazy,n.good_match=configuration_table[n.level].good_length,n.nice_match=configuration_table[n.level].nice_length,n.max_chain_length=configuration_table[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=MIN_MATCH-1,n.match_available=0,n.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateStateCheck=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.status!==INIT_STATE&&e.status!==GZIP_STATE&&e.status!==EXTRA_STATE&&e.status!==NAME_STATE&&e.status!==COMMENT_STATE&&e.status!==HCRC_STATE&&e.status!==BUSY_STATE&&e.status!==FINISH_STATE?1:0},deflateResetKeep=n=>{if(deflateStateCheck(n))return err(n,Z_STREAM_ERROR$2);n.total_in=n.total_out=0,n.data_type=Z_UNKNOWN;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?GZIP_STATE:e.wrap?INIT_STATE:BUSY_STATE,n.adler=e.wrap===2?0:1,e.last_flush=-2,_tr_init(e),Z_OK$3},deflateReset=n=>{const e=deflateResetKeep(n);return e===Z_OK$3&&lm_init(n.state),e},deflateSetHeader=(n,e)=>deflateStateCheck(n)||n.state.wrap!==2?Z_STREAM_ERROR$2:(n.state.gzhead=e,Z_OK$3),deflateInit2=(n,e,t,r,o,a)=>{if(!n)return Z_STREAM_ERROR$2;let c=1;if(e===Z_DEFAULT_COMPRESSION$1&&(e=6),r<0?(c=0,r=-r):r>15&&(c=2,r-=16),o<1||o>MAX_MEM_LEVEL||t!==Z_DEFLATED$2||r<8||r>15||e<0||e>9||a<0||a>Z_FIXED||r===8&&c!==1)return err(n,Z_STREAM_ERROR$2);r===8&&(r=9);const u=new DeflateState;return n.state=u,u.strm=n,u.status=INIT_STATE,u.wrap=c,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=o+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+MIN_MATCH-1)/MIN_MATCH),u.window=new Uint8Array(u.w_size*2),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<o+6,u.pending_buf_size=u.lit_bufsize*4,u.pending_buf=new Uint8Array(u.pending_buf_size),u.sym_buf=u.lit_bufsize,u.sym_end=(u.lit_bufsize-1)*3,u.level=e,u.strategy=a,u.method=t,deflateReset(n)},deflateInit=(n,e)=>deflateInit2(n,e,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(n,e)=>{if(deflateStateCheck(n)||e>Z_BLOCK$1||e<0)return n?err(n,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===FINISH_STATE&&e!==Z_FINISH$3)return err(n,n.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);const r=t.last_flush;if(t.last_flush=e,t.pending!==0){if(flush_pending(n),n.avail_out===0)return t.last_flush=-1,Z_OK$3}else if(n.avail_in===0&&rank(e)<=rank(r)&&e!==Z_FINISH$3)return err(n,Z_BUF_ERROR$1);if(t.status===FINISH_STATE&&n.avail_in!==0)return err(n,Z_BUF_ERROR$1);if(t.status===INIT_STATE&&t.wrap===0&&(t.status=BUSY_STATE),t.status===INIT_STATE){let o=Z_DEFLATED$2+(t.w_bits-8<<4)<<8,a=-1;if(t.strategy>=Z_HUFFMAN_ONLY||t.level<2?a=0:t.level<6?a=1:t.level===6?a=2:a=3,o|=a<<6,t.strstart!==0&&(o|=PRESET_DICT),o+=31-o%31,putShortMSB(t,o),t.strstart!==0&&(putShortMSB(t,n.adler>>>16),putShortMSB(t,n.adler&65535)),n.adler=1,t.status=BUSY_STATE,flush_pending(n),t.pending!==0)return t.last_flush=-1,Z_OK$3}if(t.status===GZIP_STATE){if(n.adler=0,put_byte(t,31),put_byte(t,139),put_byte(t,8),t.gzhead)put_byte(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),put_byte(t,t.gzhead.time&255),put_byte(t,t.gzhead.time>>8&255),put_byte(t,t.gzhead.time>>16&255),put_byte(t,t.gzhead.time>>24&255),put_byte(t,t.level===9?2:t.strategy>=Z_HUFFMAN_ONLY||t.level<2?4:0),put_byte(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(put_byte(t,t.gzhead.extra.length&255),put_byte(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=crc32_1(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=EXTRA_STATE;else if(put_byte(t,0),put_byte(t,0),put_byte(t,0),put_byte(t,0),put_byte(t,0),put_byte(t,t.level===9?2:t.strategy>=Z_HUFFMAN_ONLY||t.level<2?4:0),put_byte(t,OS_CODE),t.status=BUSY_STATE,flush_pending(n),t.pending!==0)return t.last_flush=-1,Z_OK$3}if(t.status===EXTRA_STATE){if(t.gzhead.extra){let o=t.pending,a=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+a>t.pending_buf_size;){let u=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+u),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>o&&(n.adler=crc32_1(n.adler,t.pending_buf,t.pending-o,o)),t.gzindex+=u,flush_pending(n),t.pending!==0)return t.last_flush=-1,Z_OK$3;o=0,a-=u}let c=new Uint8Array(t.gzhead.extra);t.pending_buf.set(c.subarray(t.gzindex,t.gzindex+a),t.pending),t.pending+=a,t.gzhead.hcrc&&t.pending>o&&(n.adler=crc32_1(n.adler,t.pending_buf,t.pending-o,o)),t.gzindex=0}t.status=NAME_STATE}if(t.status===NAME_STATE){if(t.gzhead.name){let o=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>o&&(n.adler=crc32_1(n.adler,t.pending_buf,t.pending-o,o)),flush_pending(n),t.pending!==0)return t.last_flush=-1,Z_OK$3;o=0}t.gzindex<t.gzhead.name.length?a=t.gzhead.name.charCodeAt(t.gzindex++)&255:a=0,put_byte(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>o&&(n.adler=crc32_1(n.adler,t.pending_buf,t.pending-o,o)),t.gzindex=0}t.status=COMMENT_STATE}if(t.status===COMMENT_STATE){if(t.gzhead.comment){let o=t.pending,a;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>o&&(n.adler=crc32_1(n.adler,t.pending_buf,t.pending-o,o)),flush_pending(n),t.pending!==0)return t.last_flush=-1,Z_OK$3;o=0}t.gzindex<t.gzhead.comment.length?a=t.gzhead.comment.charCodeAt(t.gzindex++)&255:a=0,put_byte(t,a)}while(a!==0);t.gzhead.hcrc&&t.pending>o&&(n.adler=crc32_1(n.adler,t.pending_buf,t.pending-o,o))}t.status=HCRC_STATE}if(t.status===HCRC_STATE){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(flush_pending(n),t.pending!==0))return t.last_flush=-1,Z_OK$3;put_byte(t,n.adler&255),put_byte(t,n.adler>>8&255),n.adler=0}if(t.status=BUSY_STATE,flush_pending(n),t.pending!==0)return t.last_flush=-1,Z_OK$3}if(n.avail_in!==0||t.lookahead!==0||e!==Z_NO_FLUSH$2&&t.status!==FINISH_STATE){let o=t.level===0?deflate_stored(t,e):t.strategy===Z_HUFFMAN_ONLY?deflate_huff(t,e):t.strategy===Z_RLE?deflate_rle(t,e):configuration_table[t.level].func(t,e);if((o===BS_FINISH_STARTED||o===BS_FINISH_DONE)&&(t.status=FINISH_STATE),o===BS_NEED_MORE||o===BS_FINISH_STARTED)return n.avail_out===0&&(t.last_flush=-1),Z_OK$3;if(o===BS_BLOCK_DONE&&(e===Z_PARTIAL_FLUSH?_tr_align(t):e!==Z_BLOCK$1&&(_tr_stored_block(t,0,0,!1),e===Z_FULL_FLUSH$1&&(zero(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),flush_pending(n),n.avail_out===0))return t.last_flush=-1,Z_OK$3}return e!==Z_FINISH$3?Z_OK$3:t.wrap<=0?Z_STREAM_END$3:(t.wrap===2?(put_byte(t,n.adler&255),put_byte(t,n.adler>>8&255),put_byte(t,n.adler>>16&255),put_byte(t,n.adler>>24&255),put_byte(t,n.total_in&255),put_byte(t,n.total_in>>8&255),put_byte(t,n.total_in>>16&255),put_byte(t,n.total_in>>24&255)):(putShortMSB(t,n.adler>>>16),putShortMSB(t,n.adler&65535)),flush_pending(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=n=>{if(deflateStateCheck(n))return Z_STREAM_ERROR$2;const e=n.state.status;return n.state=null,e===BUSY_STATE?err(n,Z_DATA_ERROR$2):Z_OK$3},deflateSetDictionary=(n,e)=>{let t=e.length;if(deflateStateCheck(n))return Z_STREAM_ERROR$2;const r=n.state,o=r.wrap;if(o===2||o===1&&r.status!==INIT_STATE||r.lookahead)return Z_STREAM_ERROR$2;if(o===1&&(n.adler=adler32_1(n.adler,e,t,0)),r.wrap=0,t>=r.w_size){o===0&&(zero(r.head),r.strstart=0,r.block_start=0,r.insert=0);let en=new Uint8Array(r.w_size);en.set(e.subarray(t-r.w_size,t),0),e=en,t=r.w_size}const a=n.avail_in,c=n.next_in,u=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,fill_window(r);r.lookahead>=MIN_MATCH;){let en=r.strstart,tn=r.lookahead-(MIN_MATCH-1);do r.ins_h=HASH(r,r.ins_h,r.window[en+MIN_MATCH-1]),r.prev[en&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=en,en++;while(--tn);r.strstart=en,r.lookahead=MIN_MATCH-1,fill_window(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=MIN_MATCH-1,r.match_available=0,n.next_in=c,n.input=u,n.avail_in=a,r.wrap=o,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var assign$2=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(!!t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)_has(t,r)&&(n[r]=t[r])}}return n},flattenChunks=n=>{let e=0;for(let r=0,o=n.length;r<o;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,o=0,a=n.length;r<a;r++){let c=n[r];t.set(c,o),o+=c.length}return t},common$1={assign:assign$2,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let n=0;n<256;n++)_utf8len[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,o,a,c=n.length,u=0;for(o=0;o<c;o++)t=n.charCodeAt(o),(t&64512)===55296&&o+1<c&&(r=n.charCodeAt(o+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),o++)),u+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(u),a=0,o=0;a<u;o++)t=n.charCodeAt(o),(t&64512)===55296&&o+1<c&&(r=n.charCodeAt(o+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),o++)),t<128?e[a++]=t:t<2048?(e[a++]=192|t>>>6,e[a++]=128|t&63):t<65536?(e[a++]=224|t>>>12,e[a++]=128|t>>>6&63,e[a++]=128|t&63):(e[a++]=240|t>>>18,e[a++]=128|t>>>12&63,e[a++]=128|t>>>6&63,e[a++]=128|t&63);return e};const buf2binstring=(n,e)=>{if(e<65534&&n.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var buf2string=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,o;const a=new Array(t*2);for(o=0,r=0;r<t;){let c=n[r++];if(c<128){a[o++]=c;continue}let u=_utf8len[c];if(u>4){a[o++]=65533,r+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&r<t;)c=c<<6|n[r++]&63,u--;if(u>1){a[o++]=65533;continue}c<65536?a[o++]=c:(c-=65536,a[o++]=55296|c>>10&1023,a[o++]=56320|c&1023)}return buf2binstring(a,o)},utf8border=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+_utf8len[n[t]]>e?t:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2$1;function Deflate$1(n){this.options=common$1.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let t=deflate_1$2.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==Z_OK$2)throw new Error(messages[t]);if(e.header&&deflate_1$2.deflateSetHeader(this.strm,e.header),e.dictionary){let r;if(typeof e.dictionary=="string"?r=strings.string2buf(e.dictionary):toString$1$1.call(e.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(e.dictionary):r=e.dictionary,t=deflate_1$2.deflateSetDictionary(this.strm,r),t!==Z_OK$2)throw new Error(messages[t]);this._dict_set=!0}}Deflate$1.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize;let o,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof n=="string"?t.input=strings.string2buf(n):toString$1$1.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),(a===Z_SYNC_FLUSH||a===Z_FULL_FLUSH)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(o=deflate_1$2.deflate(t,a),o===Z_STREAM_END$2)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),o=deflate_1$2.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===Z_OK$2;if(t.avail_out===0){this.onData(t.output);continue}if(a>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(n){this.chunks.push(n)};Deflate$1.prototype.onEnd=function(n){n===Z_OK$2&&(this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};const BAD$1=16209,TYPE$1=16191;var inffast=function(e,t){let r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn,$n,Sn,yn,In,An,Tn,kn,Pn,Dn,Kn;const Hn=e.state;r=e.next_in,Dn=e.input,o=r+(e.avail_in-5),a=e.next_out,Kn=e.output,c=a-(t-e.avail_out),u=a+(e.avail_out-257),en=Hn.dmax,tn=Hn.wsize,nn=Hn.whave,sn=Hn.wnext,fn=Hn.window,dn=Hn.hold,hn=Hn.bits,ln=Hn.lencode,pn=Hn.distcode,$n=(1<<Hn.lenbits)-1,Sn=(1<<Hn.distbits)-1;e:do{hn<15&&(dn+=Dn[r++]<<hn,hn+=8,dn+=Dn[r++]<<hn,hn+=8),yn=ln[dn&$n];t:for(;;){if(In=yn>>>24,dn>>>=In,hn-=In,In=yn>>>16&255,In===0)Kn[a++]=yn&65535;else if(In&16){An=yn&65535,In&=15,In&&(hn<In&&(dn+=Dn[r++]<<hn,hn+=8),An+=dn&(1<<In)-1,dn>>>=In,hn-=In),hn<15&&(dn+=Dn[r++]<<hn,hn+=8,dn+=Dn[r++]<<hn,hn+=8),yn=pn[dn&Sn];n:for(;;){if(In=yn>>>24,dn>>>=In,hn-=In,In=yn>>>16&255,In&16){if(Tn=yn&65535,In&=15,hn<In&&(dn+=Dn[r++]<<hn,hn+=8,hn<In&&(dn+=Dn[r++]<<hn,hn+=8)),Tn+=dn&(1<<In)-1,Tn>en){e.msg="invalid distance too far back",Hn.mode=BAD$1;break e}if(dn>>>=In,hn-=In,In=a-c,Tn>In){if(In=Tn-In,In>nn&&Hn.sane){e.msg="invalid distance too far back",Hn.mode=BAD$1;break e}if(kn=0,Pn=fn,sn===0){if(kn+=tn-In,In<An){An-=In;do Kn[a++]=fn[kn++];while(--In);kn=a-Tn,Pn=Kn}}else if(sn<In){if(kn+=tn+sn-In,In-=sn,In<An){An-=In;do Kn[a++]=fn[kn++];while(--In);if(kn=0,sn<An){In=sn,An-=In;do Kn[a++]=fn[kn++];while(--In);kn=a-Tn,Pn=Kn}}}else if(kn+=sn-In,In<An){An-=In;do Kn[a++]=fn[kn++];while(--In);kn=a-Tn,Pn=Kn}for(;An>2;)Kn[a++]=Pn[kn++],Kn[a++]=Pn[kn++],Kn[a++]=Pn[kn++],An-=3;An&&(Kn[a++]=Pn[kn++],An>1&&(Kn[a++]=Pn[kn++]))}else{kn=a-Tn;do Kn[a++]=Kn[kn++],Kn[a++]=Kn[kn++],Kn[a++]=Kn[kn++],An-=3;while(An>2);An&&(Kn[a++]=Kn[kn++],An>1&&(Kn[a++]=Kn[kn++]))}}else if((In&64)===0){yn=pn[(yn&65535)+(dn&(1<<In)-1)];continue n}else{e.msg="invalid distance code",Hn.mode=BAD$1;break e}break}}else if((In&64)===0){yn=ln[(yn&65535)+(dn&(1<<In)-1)];continue t}else if(In&32){Hn.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",Hn.mode=BAD$1;break e}break}}while(r<o&&a<u);An=hn>>3,r-=An,hn-=An<<3,dn&=(1<<hn)-1,e.next_in=r,e.next_out=a,e.avail_in=r<o?5+(o-r):5-(r-o),e.avail_out=a<u?257+(u-a):257-(a-u),Hn.hold=dn,Hn.bits=hn};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(n,e,t,r,o,a,c,u)=>{const en=u.bits;let tn=0,nn=0,sn=0,fn=0,dn=0,hn=0,ln=0,pn=0,$n=0,Sn=0,yn,In,An,Tn,kn,Pn=null,Dn;const Kn=new Uint16Array(MAXBITS+1),Hn=new Uint16Array(MAXBITS+1);let jn=null,Cn,mn,_n;for(tn=0;tn<=MAXBITS;tn++)Kn[tn]=0;for(nn=0;nn<r;nn++)Kn[e[t+nn]]++;for(dn=en,fn=MAXBITS;fn>=1&&Kn[fn]===0;fn--);if(dn>fn&&(dn=fn),fn===0)return o[a++]=1<<24|64<<16|0,o[a++]=1<<24|64<<16|0,u.bits=1,0;for(sn=1;sn<fn&&Kn[sn]===0;sn++);for(dn<sn&&(dn=sn),pn=1,tn=1;tn<=MAXBITS;tn++)if(pn<<=1,pn-=Kn[tn],pn<0)return-1;if(pn>0&&(n===CODES$1||fn!==1))return-1;for(Hn[1]=0,tn=1;tn<MAXBITS;tn++)Hn[tn+1]=Hn[tn]+Kn[tn];for(nn=0;nn<r;nn++)e[t+nn]!==0&&(c[Hn[e[t+nn]]++]=nn);if(n===CODES$1?(Pn=jn=c,Dn=20):n===LENS$1?(Pn=lbase,jn=lext,Dn=257):(Pn=dbase,jn=dext,Dn=0),Sn=0,nn=0,tn=sn,kn=a,hn=dn,ln=0,An=-1,$n=1<<dn,Tn=$n-1,n===LENS$1&&$n>ENOUGH_LENS$1||n===DISTS$1&&$n>ENOUGH_DISTS$1)return 1;for(;;){Cn=tn-ln,c[nn]+1<Dn?(mn=0,_n=c[nn]):c[nn]>=Dn?(mn=jn[c[nn]-Dn],_n=Pn[c[nn]-Dn]):(mn=32+64,_n=0),yn=1<<tn-ln,In=1<<hn,sn=In;do In-=yn,o[kn+(Sn>>ln)+In]=Cn<<24|mn<<16|_n|0;while(In!==0);for(yn=1<<tn-1;Sn&yn;)yn>>=1;if(yn!==0?(Sn&=yn-1,Sn+=yn):Sn=0,nn++,--Kn[tn]===0){if(tn===fn)break;tn=e[t+c[nn]]}if(tn>dn&&(Sn&Tn)!==An){for(ln===0&&(ln=dn),kn+=sn,hn=tn-ln,pn=1<<hn;hn+ln<fn&&(pn-=Kn[hn+ln],!(pn<=0));)hn++,pn<<=1;if($n+=1<<hn,n===LENS$1&&$n>ENOUGH_LENS$1||n===DISTS$1&&$n>ENOUGH_DISTS$1)return 1;An=Sn&Tn,o[An]=dn<<24|hn<<16|kn-a|0}}return Sn!==0&&(o[kn+Sn]=tn-ln<<24|64<<16|0),u.bits=dn,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2$1,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME$2=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<HEAD||e.mode>SYNC?1:0},inflateResetKeep=n=>{if(inflateStateCheck(n))return Z_STREAM_ERROR$1;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=n=>{if(inflateStateCheck(n))return Z_STREAM_ERROR$1;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(n)},inflateReset2=(n,e)=>{let t;if(inflateStateCheck(n))return Z_STREAM_ERROR$1;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,inflateReset(n))},inflateInit2=(n,e)=>{if(!n)return Z_STREAM_ERROR$1;const t=new InflateState;n.state=t,t.strm=n,t.window=null,t.mode=HEAD;const r=inflateReset2(n,e);return r!==Z_OK$1&&(n.state=null),r},inflateInit=n=>inflateInit2(n,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=n=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(inftrees(LENS,n.lens,0,288,lenfix,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;inftrees(DISTS,n.lens,0,32,distfix,0,n.work,{bits:5}),virgin=!1}n.lencode=lenfix,n.lenbits=9,n.distcode=distfix,n.distbits=5},updatewindow=(n,e,t,r)=>{let o;const a=n.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(t-a.wsize,t),0),a.wnext=0,a.whave=a.wsize):(o=a.wsize-a.wnext,o>r&&(o=r),a.window.set(e.subarray(t-r,t-r+o),a.wnext),r-=o,r?(a.window.set(e.subarray(t-r,t),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0},inflate$2=(n,e)=>{let t,r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn=0,$n,Sn,yn,In,An,Tn,kn,Pn;const Dn=new Uint8Array(4);let Kn,Hn;const jn=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(n)||!n.output||!n.input&&n.avail_in!==0)return Z_STREAM_ERROR$1;t=n.state,t.mode===TYPE&&(t.mode=TYPEDO),c=n.next_out,o=n.output,en=n.avail_out,a=n.next_in,r=n.input,u=n.avail_in,tn=t.hold,nn=t.bits,sn=u,fn=en,Pn=Z_OK$1;e:for(;;)switch(t.mode){case HEAD:if(t.wrap===0){t.mode=TYPEDO;break}for(;nn<16;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if(t.wrap&2&&tn===35615){t.wbits===0&&(t.wbits=15),t.check=0,Dn[0]=tn&255,Dn[1]=tn>>>8&255,t.check=crc32_1(t.check,Dn,2,0),tn=0,nn=0,t.mode=FLAGS;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((tn&255)<<8)+(tn>>8))%31){n.msg="incorrect header check",t.mode=BAD;break}if((tn&15)!==Z_DEFLATED){n.msg="unknown compression method",t.mode=BAD;break}if(tn>>>=4,nn-=4,kn=(tn&15)+8,t.wbits===0&&(t.wbits=kn),kn>15||kn>t.wbits){n.msg="invalid window size",t.mode=BAD;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=tn&512?DICTID:TYPE,tn=0,nn=0;break;case FLAGS:for(;nn<16;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if(t.flags=tn,(t.flags&255)!==Z_DEFLATED){n.msg="unknown compression method",t.mode=BAD;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=BAD;break}t.head&&(t.head.text=tn>>8&1),t.flags&512&&t.wrap&4&&(Dn[0]=tn&255,Dn[1]=tn>>>8&255,t.check=crc32_1(t.check,Dn,2,0)),tn=0,nn=0,t.mode=TIME;case TIME:for(;nn<32;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}t.head&&(t.head.time=tn),t.flags&512&&t.wrap&4&&(Dn[0]=tn&255,Dn[1]=tn>>>8&255,Dn[2]=tn>>>16&255,Dn[3]=tn>>>24&255,t.check=crc32_1(t.check,Dn,4,0)),tn=0,nn=0,t.mode=OS;case OS:for(;nn<16;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}t.head&&(t.head.xflags=tn&255,t.head.os=tn>>8),t.flags&512&&t.wrap&4&&(Dn[0]=tn&255,Dn[1]=tn>>>8&255,t.check=crc32_1(t.check,Dn,2,0)),tn=0,nn=0,t.mode=EXLEN;case EXLEN:if(t.flags&1024){for(;nn<16;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}t.length=tn,t.head&&(t.head.extra_len=tn),t.flags&512&&t.wrap&4&&(Dn[0]=tn&255,Dn[1]=tn>>>8&255,t.check=crc32_1(t.check,Dn,2,0)),tn=0,nn=0}else t.head&&(t.head.extra=null);t.mode=EXTRA;case EXTRA:if(t.flags&1024&&(dn=t.length,dn>u&&(dn=u),dn&&(t.head&&(kn=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(a,a+dn),kn)),t.flags&512&&t.wrap&4&&(t.check=crc32_1(t.check,r,dn,a)),u-=dn,a+=dn,t.length-=dn),t.length))break e;t.length=0,t.mode=NAME$2;case NAME$2:if(t.flags&2048){if(u===0)break e;dn=0;do kn=r[a+dn++],t.head&&kn&&t.length<65536&&(t.head.name+=String.fromCharCode(kn));while(kn&&dn<u);if(t.flags&512&&t.wrap&4&&(t.check=crc32_1(t.check,r,dn,a)),u-=dn,a+=dn,kn)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=COMMENT;case COMMENT:if(t.flags&4096){if(u===0)break e;dn=0;do kn=r[a+dn++],t.head&&kn&&t.length<65536&&(t.head.comment+=String.fromCharCode(kn));while(kn&&dn<u);if(t.flags&512&&t.wrap&4&&(t.check=crc32_1(t.check,r,dn,a)),u-=dn,a+=dn,kn)break e}else t.head&&(t.head.comment=null);t.mode=HCRC;case HCRC:if(t.flags&512){for(;nn<16;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if(t.wrap&4&&tn!==(t.check&65535)){n.msg="header crc mismatch",t.mode=BAD;break}tn=0,nn=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=TYPE;break;case DICTID:for(;nn<32;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}n.adler=t.check=zswap32(tn),tn=0,nn=0,t.mode=DICT;case DICT:if(t.havedict===0)return n.next_out=c,n.avail_out=en,n.next_in=a,n.avail_in=u,t.hold=tn,t.bits=nn,Z_NEED_DICT$1;n.adler=t.check=1,t.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(t.last){tn>>>=nn&7,nn-=nn&7,t.mode=CHECK;break}for(;nn<3;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}switch(t.last=tn&1,tn>>>=1,nn-=1,tn&3){case 0:t.mode=STORED;break;case 1:if(fixedtables(t),t.mode=LEN_,e===Z_TREES){tn>>>=2,nn-=2;break e}break;case 2:t.mode=TABLE;break;case 3:n.msg="invalid block type",t.mode=BAD}tn>>>=2,nn-=2;break;case STORED:for(tn>>>=nn&7,nn-=nn&7;nn<32;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if((tn&65535)!==(tn>>>16^65535)){n.msg="invalid stored block lengths",t.mode=BAD;break}if(t.length=tn&65535,tn=0,nn=0,t.mode=COPY_,e===Z_TREES)break e;case COPY_:t.mode=COPY;case COPY:if(dn=t.length,dn){if(dn>u&&(dn=u),dn>en&&(dn=en),dn===0)break e;o.set(r.subarray(a,a+dn),c),u-=dn,a+=dn,en-=dn,c+=dn,t.length-=dn;break}t.mode=TYPE;break;case TABLE:for(;nn<14;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if(t.nlen=(tn&31)+257,tn>>>=5,nn-=5,t.ndist=(tn&31)+1,tn>>>=5,nn-=5,t.ncode=(tn&15)+4,tn>>>=4,nn-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=BAD;break}t.have=0,t.mode=LENLENS;case LENLENS:for(;t.have<t.ncode;){for(;nn<3;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}t.lens[jn[t.have++]]=tn&7,tn>>>=3,nn-=3}for(;t.have<19;)t.lens[jn[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,Kn={bits:t.lenbits},Pn=inftrees(CODES,t.lens,0,19,t.lencode,0,t.work,Kn),t.lenbits=Kn.bits,Pn){n.msg="invalid code lengths set",t.mode=BAD;break}t.have=0,t.mode=CODELENS;case CODELENS:for(;t.have<t.nlen+t.ndist;){for(;pn=t.lencode[tn&(1<<t.lenbits)-1],$n=pn>>>24,Sn=pn>>>16&255,yn=pn&65535,!($n<=nn);){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if(yn<16)tn>>>=$n,nn-=$n,t.lens[t.have++]=yn;else{if(yn===16){for(Hn=$n+2;nn<Hn;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if(tn>>>=$n,nn-=$n,t.have===0){n.msg="invalid bit length repeat",t.mode=BAD;break}kn=t.lens[t.have-1],dn=3+(tn&3),tn>>>=2,nn-=2}else if(yn===17){for(Hn=$n+3;nn<Hn;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}tn>>>=$n,nn-=$n,kn=0,dn=3+(tn&7),tn>>>=3,nn-=3}else{for(Hn=$n+7;nn<Hn;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}tn>>>=$n,nn-=$n,kn=0,dn=11+(tn&127),tn>>>=7,nn-=7}if(t.have+dn>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=BAD;break}for(;dn--;)t.lens[t.have++]=kn}}if(t.mode===BAD)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=BAD;break}if(t.lenbits=9,Kn={bits:t.lenbits},Pn=inftrees(LENS,t.lens,0,t.nlen,t.lencode,0,t.work,Kn),t.lenbits=Kn.bits,Pn){n.msg="invalid literal/lengths set",t.mode=BAD;break}if(t.distbits=6,t.distcode=t.distdyn,Kn={bits:t.distbits},Pn=inftrees(DISTS,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,Kn),t.distbits=Kn.bits,Pn){n.msg="invalid distances set",t.mode=BAD;break}if(t.mode=LEN_,e===Z_TREES)break e;case LEN_:t.mode=LEN;case LEN:if(u>=6&&en>=258){n.next_out=c,n.avail_out=en,n.next_in=a,n.avail_in=u,t.hold=tn,t.bits=nn,inffast(n,fn),c=n.next_out,o=n.output,en=n.avail_out,a=n.next_in,r=n.input,u=n.avail_in,tn=t.hold,nn=t.bits,t.mode===TYPE&&(t.back=-1);break}for(t.back=0;pn=t.lencode[tn&(1<<t.lenbits)-1],$n=pn>>>24,Sn=pn>>>16&255,yn=pn&65535,!($n<=nn);){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if(Sn&&(Sn&240)===0){for(In=$n,An=Sn,Tn=yn;pn=t.lencode[Tn+((tn&(1<<In+An)-1)>>In)],$n=pn>>>24,Sn=pn>>>16&255,yn=pn&65535,!(In+$n<=nn);){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}tn>>>=In,nn-=In,t.back+=In}if(tn>>>=$n,nn-=$n,t.back+=$n,t.length=yn,Sn===0){t.mode=LIT;break}if(Sn&32){t.back=-1,t.mode=TYPE;break}if(Sn&64){n.msg="invalid literal/length code",t.mode=BAD;break}t.extra=Sn&15,t.mode=LENEXT;case LENEXT:if(t.extra){for(Hn=t.extra;nn<Hn;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}t.length+=tn&(1<<t.extra)-1,tn>>>=t.extra,nn-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=DIST;case DIST:for(;pn=t.distcode[tn&(1<<t.distbits)-1],$n=pn>>>24,Sn=pn>>>16&255,yn=pn&65535,!($n<=nn);){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if((Sn&240)===0){for(In=$n,An=Sn,Tn=yn;pn=t.distcode[Tn+((tn&(1<<In+An)-1)>>In)],$n=pn>>>24,Sn=pn>>>16&255,yn=pn&65535,!(In+$n<=nn);){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}tn>>>=In,nn-=In,t.back+=In}if(tn>>>=$n,nn-=$n,t.back+=$n,Sn&64){n.msg="invalid distance code",t.mode=BAD;break}t.offset=yn,t.extra=Sn&15,t.mode=DISTEXT;case DISTEXT:if(t.extra){for(Hn=t.extra;nn<Hn;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}t.offset+=tn&(1<<t.extra)-1,tn>>>=t.extra,nn-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=BAD;break}t.mode=MATCH;case MATCH:if(en===0)break e;if(dn=fn-en,t.offset>dn){if(dn=t.offset-dn,dn>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=BAD;break}dn>t.wnext?(dn-=t.wnext,hn=t.wsize-dn):hn=t.wnext-dn,dn>t.length&&(dn=t.length),ln=t.window}else ln=o,hn=c-t.offset,dn=t.length;dn>en&&(dn=en),en-=dn,t.length-=dn;do o[c++]=ln[hn++];while(--dn);t.length===0&&(t.mode=LEN);break;case LIT:if(en===0)break e;o[c++]=t.length,en--,t.mode=LEN;break;case CHECK:if(t.wrap){for(;nn<32;){if(u===0)break e;u--,tn|=r[a++]<<nn,nn+=8}if(fn-=en,n.total_out+=fn,t.total+=fn,t.wrap&4&&fn&&(n.adler=t.check=t.flags?crc32_1(t.check,o,fn,c-fn):adler32_1(t.check,o,fn,c-fn)),fn=en,t.wrap&4&&(t.flags?tn:zswap32(tn))!==t.check){n.msg="incorrect data check",t.mode=BAD;break}tn=0,nn=0}t.mode=LENGTH;case LENGTH:if(t.wrap&&t.flags){for(;nn<32;){if(u===0)break e;u--,tn+=r[a++]<<nn,nn+=8}if(t.wrap&4&&tn!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=BAD;break}tn=0,nn=0}t.mode=DONE;case DONE:Pn=Z_STREAM_END$1;break e;case BAD:Pn=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return n.next_out=c,n.avail_out=en,n.next_in=a,n.avail_in=u,t.hold=tn,t.bits=nn,(t.wsize||fn!==n.avail_out&&t.mode<BAD&&(t.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(n,n.output,n.next_out,fn-n.avail_out),sn-=n.avail_in,fn-=n.avail_out,n.total_in+=sn,n.total_out+=fn,t.total+=fn,t.wrap&4&&fn&&(n.adler=t.check=t.flags?crc32_1(t.check,o,fn,n.next_out-fn):adler32_1(t.check,o,fn,n.next_out-fn)),n.data_type=t.bits+(t.last?64:0)+(t.mode===TYPE?128:0)+(t.mode===LEN_||t.mode===COPY_?256:0),(sn===0&&fn===0||e===Z_FINISH$1)&&Pn===Z_OK$1&&(Pn=Z_BUF_ERROR),Pn},inflateEnd=n=>{if(inflateStateCheck(n))return Z_STREAM_ERROR$1;let e=n.state;return e.window&&(e.window=null),n.state=null,Z_OK$1},inflateGetHeader=(n,e)=>{if(inflateStateCheck(n))return Z_STREAM_ERROR$1;const t=n.state;return(t.wrap&2)===0?Z_STREAM_ERROR$1:(t.head=e,e.done=!1,Z_OK$1)},inflateSetDictionary=(n,e)=>{const t=e.length;let r,o,a;return inflateStateCheck(n)||(r=n.state,r.wrap!==0&&r.mode!==DICT)?Z_STREAM_ERROR$1:r.mode===DICT&&(o=1,o=adler32_1(o,e,t,0),o!==r.check)?Z_DATA_ERROR$1:(a=updatewindow(n,e,t,t),a?(r.mode=MEM,Z_MEM_ERROR$1):(r.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2$1;function Inflate$1(n){this.options=common$1.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let t=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(t!==Z_OK)throw new Error(messages[t]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString$2.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),t!==Z_OK)))throw new Error(messages[t])}Inflate$1.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let a,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),a=inflate_1$2.inflate(t,c),a===Z_NEED_DICT&&o&&(a=inflate_1$2.inflateSetDictionary(t,o),a===Z_OK?a=inflate_1$2.inflate(t,c):a===Z_DATA_ERROR&&(a=Z_NEED_DICT));t.avail_in>0&&a===Z_STREAM_END&&t.state.wrap>0&&n[t.next_in]!==0;)inflate_1$2.inflateReset(t),a=inflate_1$2.inflate(t,c);switch(a){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(a),this.ended=!0,!1}if(u=t.avail_out,t.next_out&&(t.avail_out===0||a===Z_STREAM_END))if(this.options.to==="string"){let en=strings.utf8border(t.output,t.next_out),tn=t.next_out-en,nn=strings.buf2string(t.output,en);t.next_out=tn,t.avail_out=r-tn,tn&&t.output.set(t.output.subarray(en,en+tn),0),this.onData(nn)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(a===Z_OK&&u===0)){if(a===Z_STREAM_END)return a=inflate_1$2.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(n){this.chunks.push(n)};Inflate$1.prototype.onEnd=function(n){n===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common$1.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function inflate$1(n,e){const t=new Inflate$1(e);if(t.push(n),t.err)throw t.msg||messages[t.err];return t.result}function inflateRaw$1(n,e){return e=e||{},e.raw=!0,inflate$1(n,e)}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflateRaw_1$1=inflateRaw$1,ungzip$1=inflate$1,constants$3=constants$2$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2,inflateRaw:inflateRaw_1$1,ungzip:ungzip$1,constants:constants$3};const{Inflate,inflate,inflateRaw,ungzip}=inflate_1$1;var inflate_1=inflate;function splitArgsAndCtx(n,e){var t,r;let o={};const a=n.args?n.args.length:0;if(e.length>a){if(e.length!==a+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(c=>c.name))!==null&&r!==void 0?r:[]}`);o=e.pop()}return[e,o]}class InstructionNamespaceFactory{static build(e,t,r){if(e.name==="_inner")throw new IdlError("the _inner name is reserved");const o=(...a)=>{const[c,u]=splitArgsAndCtx(e,[...a]);validateAccounts(e.accounts,u.accounts),validateInstruction(e,...a);const en=o.accounts(u.accounts);return u.remainingAccounts!==void 0&&en.push(...u.remainingAccounts),isSet$1("debug-logs")&&console.log("Outgoing account metas:",en),new TransactionInstruction$5({keys:en,programId:r,data:t(e.name,toInstruction(e,...c))})};return o.accounts=a=>InstructionNamespaceFactory.accountsArray(a,e.accounts,r,e.name),o}static accountsArray(e,t,r,o){return e?t.map(a=>{if(isCompositeAccounts(a)){const nn=e[a.name];return InstructionNamespaceFactory.accountsArray(nn,a.accounts,r,o).flat()}let c;try{c=translateAddress(e[a.name])}catch{throw new Error(`Wrong input type for account "${a.name}" in the instruction accounts object${o!==void 0?' for instruction "'+o+'"':""}. Expected PublicKey or string.`)}const u=a.optional&&c.equals(r),en=Boolean(a.writable&&!u),tn=Boolean(a.signer&&!u);return{pubkey:c,isWritable:en,isSigner:tn}}).flat():[]}}function validateInstruction(n,...e){}class TransactionFactory{static build(e,t){return(...o)=>{var a,c,u;const[,en]=splitArgsAndCtx(e,[...o]),tn=new Transaction$5;if(en.preInstructions&&en.instructions)throw new Error("instructions is deprecated, use preInstructions");return(a=en.preInstructions)===null||a===void 0||a.forEach(nn=>tn.add(nn)),(c=en.instructions)===null||c===void 0||c.forEach(nn=>tn.add(nn)),tn.add(t(...o)),(u=en.postInstructions)===null||u===void 0||u.forEach(nn=>tn.add(nn)),tn}}}class RpcFactory{static build(e,t,r,o){return async(...c)=>{var u;const en=t(...c),[,tn]=splitArgsAndCtx(e,[...c]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(en,(u=tn.signers)!==null&&u!==void 0?u:[],tn.options)}catch(nn){throw translateError(nn,r)}}}}class AccountFactory{static build(e,t,r,o){var a;return((a=e.accounts)!==null&&a!==void 0?a:[]).reduce((c,u)=>(c[u.name]=new AccountClient(e,u,r,o,t),c),{})}}class AccountClient{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(e,t,r,o,a){this._idlAccount=t,this._programId=r,this._provider=o??getProvider(),this._coder=a??new BorshCoder(e),this._size=this._coder.accounts.size(t.name)}async fetchNullable(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);return r}async fetchNullableAndContext(e,t){const r=await this.getAccountInfoAndContext(e,t),{value:o,context:a}=r;return{data:o&&o.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,o.data):null,context:a}}async fetch(e,t){const{data:r}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist or has no data ${e.toString()}`);return r}async fetchAndContext(e,t){const{data:r,context:o}=await this.fetchNullableAndContext(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return{data:r,context:o}}async fetchMultiple(e,t){return(await this.fetchMultipleAndContext(e,t)).map(o=>o?o.data:null)}async fetchMultipleAndContext(e,t){return(await getMultipleAccountsAndContext(this._provider.connection,e.map(o=>translateAddress(o)),t)).map(o=>{if(o==null)return null;const{account:a,context:c}=o;return{data:this._coder.accounts.decode(this._idlAccount.name,a.data),context:c}})}async all(e){const t=this.coder.accounts.memcmp(this._idlAccount.name,e instanceof dist$3.Buffer?e:void 0),r=[];return(t==null?void 0:t.offset)!=null&&(t==null?void 0:t.bytes)!=null&&r.push({memcmp:{offset:t.offset,bytes:t.bytes}}),(t==null?void 0:t.dataSize)!=null&&r.push({dataSize:t.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...r,...Array.isArray(e)?e:[]]})).map(({pubkey:a,account:c})=>({publicKey:a,account:this._coder.accounts.decode(this._idlAccount.name,c.data)}))}subscribe(e,t){const r=subscriptions.get(e.toString());if(r)return r.ee;const o=new EventEmitter;e=translateAddress(e);const a=this._provider.connection.onAccountChange(e,c=>{const u=this._coder.accounts.decode(this._idlAccount.name,c.data);o.emit("change",u)},t);return subscriptions.set(e.toString(),{ee:o,listener:a}),o}async unsubscribe(e){let t=subscriptions.get(e.toString());if(!t){console.warn("Address is not subscribed");return}subscriptions&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{subscriptions.delete(e.toString())}).catch(console.error)}async createInstruction(e,t){const r=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return SystemProgram$5.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(translateAddress(e),t)}async getAccountInfoAndContext(e,t){return await this._provider.connection.getAccountInfoAndContext(translateAddress(e),t)}}const subscriptions=new Map,PROGRAM_LOG="Program log: ",PROGRAM_DATA="Program data: ",PROGRAM_LOG_START_INDEX=PROGRAM_LOG.length,PROGRAM_DATA_START_INDEX=PROGRAM_DATA.length;class EventManager{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new EventParser(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(e)||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(o)),this._eventCallbacks.set(o,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(a,c)=>{if(!a.err)for(const u of this._eventParser.parseLogs(a.logs)){const en=this._eventListeners.get(u.name);en&&en.forEach(tn=>{const nn=this._eventCallbacks.get(tn);if(nn){const[,sn]=nn;sn(u.data,c.slot,a.signature)}})}})),o}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let o=this._eventListeners.get(r);if(!o)throw new Error(`Event listeners don't exist for ${r}!`);if(this._eventCallbacks.delete(e),o=o.filter(a=>a!==e),this._eventListeners.set(r,o),o.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class EventParser{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e,t=!1){const r=new LogScanner(e),o=new ExecutionContext;let a=r.next();for(;a!==null;){let[c,u,en]=this.handleLog(o,a,t);c&&(yield c),u&&o.push(u),en&&o.pop(),a=r.next()}}handleLog(e,t,r){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t,r):[null,...this.handleSystemLog(t)]}handleProgramLog(e,t){if(e.startsWith(PROGRAM_LOG)||e.startsWith(PROGRAM_DATA)){const r=e.startsWith(PROGRAM_LOG)?e.slice(PROGRAM_LOG_START_INDEX):e.slice(PROGRAM_DATA_START_INDEX),o=this.coder.events.decode(r);if(t&&o===null)throw new Error(`Unable to decode event ${r}`);return[o,null,!1]}else return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class ExecutionContext{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class LogScanner{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}class SimulateFactory{static build(e,t,r,o,a,c,u){return async(...tn)=>{var nn;const sn=t(...tn),[,fn]=splitArgsAndCtx(e,[...tn]);let dn;if(o.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{dn=await o.simulate(sn,fn.signers,(nn=fn.options)===null||nn===void 0?void 0:nn.commitment)}catch(pn){throw translateError(pn,r)}if(dn===void 0)throw new Error("Unable to simulate transaction");const hn=dn.logs;if(!hn)throw new Error("Simulated logs not found");const ln=[];if(u.events){let pn=new EventParser(c,a);for(const $n of pn.parseLogs(hn))ln.push($n)}return{events:ln,raw:hn}}}}function uint64$1(n){return new WrappedLayout(blob$1(8),e=>u64$a.fromBuffer(e),e=>e.toBuffer(),n)}function publicKey$8(n){return new WrappedLayout(blob$1(32),e=>new PublicKey$6(e),e=>e.toBuffer(),n)}function coption$1(n,e){return new COptionLayout(n,e)}class WrappedLayout extends Layout_2{constructor(e,t,r,o){super(e.span,o),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class COptionLayout extends Layout_2{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=u32$1()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}class u64$a extends BN{toBuffer(){const e=super.toArray().reverse(),t=dist$3.Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=dist$3.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new u64$a([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}const TOKEN_ACCOUNT_LAYOUT=struct$2([publicKey$8("mint"),publicKey$8("owner"),uint64$1("amount"),coption$1(publicKey$8(),"delegate"),(n=>{const e=union$6(u8$1("discriminator"),null,n);return e.addVariant(0,struct$2([]),"uninitialized"),e.addVariant(1,struct$2([]),"initialized"),e.addVariant(2,struct$2([]),"frozen"),e})("state"),coption$1(uint64$1(),"isNative"),uint64$1("delegatedAmount"),coption$1(publicKey$8(),"closeAuthority")]);function decodeTokenAccount(n){return TOKEN_ACCOUNT_LAYOUT.decode(n)}class AccountsResolver{constructor(e,t,r,o,a,c,u,en){this._args=e,this._accounts=t,this._provider=r,this._programId=o,this._idlIx=a,this._idlTypes=u,this._customResolver=en,this._accountStore=new AccountStore(r,c,o)}args(e){this._args=e}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let e=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(e++,e===16)throw new Error("Reached maximum depth for account resolution")}resolveOptionals(e){Object.assign(this._accounts,this.resolveOptionalsHelper(e,this._idlIx.accounts))}get(e){const t=e.reduce((r,o)=>r&&r[o],this._accounts);if(t&&t.toBase58)return t}set(e,t){let r=this._accounts;e.forEach((o,a)=>{var c;a===e.length-1&&(r[o]=t),r[o]=(c=r[o])!==null&&c!==void 0?c:{},r=r[o]})}resolveOptionalsHelper(e,t){const r={};for(const o of t){const a=o.name,c=e[a];c!==void 0&&(isPartialAccounts(c)?isCompositeAccounts(o)?r[a]=this.resolveOptionalsHelper(c,o.accounts):r[a]=flattenPartialAccounts(c,!0):c!==null?r[a]=translateAddress(c):o.optional&&(r[a]=this._programId))}return r}async resolveCustom(){if(this._customResolver){const{accounts:e,resolved:t}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=e,t}return 0}resolveEventCpi(e,t=[]){for(const r in e){const o=e[r];isCompositeAccounts(o)&&this.resolveEventCpi(o.accounts,[...t,o.name]);const a=+r+1;if(a===e.length)return;const c=e[r].name,u=e[a].name;if(c==="eventAuthority"&&u==="program"){const en=[...t,c],tn=[...t,u];this.get(en)||this.set(en,PublicKey$6.findProgramAddressSync([dist$3.Buffer.from("__event_authority")],this._programId)[0]),this.get(tn)||this.set(tn,this._programId);return}}}resolveConst(e,t=[]){for(const r of e){const o=r.name;if(isCompositeAccounts(r))this.resolveConst(r.accounts,[...t,o]);else{const a=r;if((a.signer||a.address)&&!this.get([...t,o])){if(a.signer){if(!this._provider.wallet)throw new Error("This function requires the `Provider` interface implementor to have a `wallet` field.");this.set([...t,o],this._provider.wallet.publicKey)}a.address&&this.set([...t,o],translateAddress(a.address))}}}}async resolvePdasAndRelations(e,t=[]){let r=0;for(const o of e){const a=o.name;if(isCompositeAccounts(o))r+=await this.resolvePdasAndRelations(o.accounts,[...t,a]);else{const c=o;if((c.pda||c.relations)&&!this.get([...t,a])){r++;try{if(c.pda){const u=await Promise.all(c.pda.seeds.map(nn=>this.toBuffer(nn,t)));if(u.some(nn=>!nn))continue;const en=await this.parseProgramId(c,t),[tn]=PublicKey$6.findProgramAddressSync(u,en);this.set([...t,a],tn)}}catch{}try{if(c.relations){const u=this.get([...t,c.relations[0]]);if(u){const en=await this._accountStore.fetchAccount({publicKey:u});this.set([...t,a],en[a])}}}catch{}}}}return r}async parseProgramId(e,t=[]){var r;if(!(!((r=e.pda)===null||r===void 0)&&r.program))return this._programId;const o=await this.toBuffer(e.pda.program,t);if(!o)throw new Error(`Program seed not resolved: ${e.name}`);return new PublicKey$6(o)}async toBuffer(e,t=[]){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e,t);default:throw new Error(`Unexpected seed: ${e}`)}}toBufferConst(e){return this.toBufferValue("bytes",e.value)}async toBufferArg(e){const[t,...r]=e.path.split("."),o=this._idlIx.args.findIndex(u=>u.name===t);if(o===-1)throw new Error(`Unable to find argument for seed: ${t}`);const a=r.reduce((u,en)=>(u??{})[en],this._args[o]);if(a===void 0)return;const c=this.getType(this._idlIx.args[o].type,r);return this.toBufferValue(c,a)}async toBufferAccount(e,t=[]){const[r,...o]=e.path.split("."),a=this.get([...t,r]);if(!a)return;if(!o.length)return this.toBufferValue("pubkey",a);if(!e.account)throw new Error(`Seed account is required in order to resolve type: ${e.path}`);let u=await this._accountStore.fetchAccount({publicKey:a,name:e.account}),en=o;for(;en.length>0;)u=u[en[0]],en=en.slice(1);if(u===void 0)return;const tn=this.getType({defined:{name:e.account}},o);return this.toBufferValue(tn,u)}toBufferValue(e,t){switch(e){case"u8":case"i8":return dist$3.Buffer.from([t]);case"u16":case"i16":return new BN(t).toArrayLike(dist$3.Buffer,"le",2);case"u32":case"i32":return new BN(t).toArrayLike(dist$3.Buffer,"le",4);case"u64":case"i64":return new BN(t).toArrayLike(dist$3.Buffer,"le",8);case"u128":case"i128":return new BN(t).toArrayLike(dist$3.Buffer,"le",16);case"u256":case"i256":return new BN(t).toArrayLike(dist$3.Buffer,"le",32);case"string":return dist$3.Buffer.from(t);case"pubkey":return t.toBuffer();case"bytes":return dist$3.Buffer.from(t);default:if(e!=null&&e.array)return dist$3.Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}getType(e,t=[]){var r;const o=(r=e==null?void 0:e.defined)===null||r===void 0?void 0:r.name;if(o){if(o==="tokenAccount")switch(t.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${t}`)}const a=this._idlTypes.find(nn=>nn.name===o);if(!a)throw new Error(`Type not found: ${o}`);const[c,...u]=t,tn=a.type.fields.find(nn=>nn.name===c);if(!tn)throw new Error(`Field not found: ${c}`);return this.getType(tn.type,u)}return e}}class AccountStore{constructor(e,t,r){this._provider=e,this._cache=new Map,this._idls={},this._idls[r.toBase58()]=t}async fetchAccount({publicKey:e,name:t}){const r=e.toBase58();if(!this._cache.has(r)){const o=await this._provider.connection.getAccountInfo(e);if(o===null)throw new Error(`Account not found: ${r}`);if(t==="tokenAccount"){const a=decodeTokenAccount(o.data);this._cache.set(r,a)}else{const a=await this.getAccountsNs(o.owner);if(a){const c=Object.values(a)[0];if(c){const u=c.coder.accounts.decodeAny(o.data);this._cache.set(r,u)}}}}return this._cache.get(r)}async getAccountsNs(e){const t=e.toBase58();if(!this._idls[t]){const r=await Program.fetchIdl(e,this._provider);if(r){const o=new Program(r,this._provider);this._idls[t]=o.account}}return this._idls[t]}}class MethodsBuilderFactory{static build(e,t,r,o,a,c,u,en,tn,nn,sn){return(...fn)=>new MethodsBuilder(fn,o,a,c,u,en,e,t,r,tn,nn,sn)}}function isPartialAccounts(n){return typeof n=="object"&&n!==null&&!("_bn"in n)}function flattenPartialAccounts(n,e){const t={};for(const r in n){const o=n[r];if(o===null){if(e)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");continue}t[r]=isPartialAccounts(o)?flattenPartialAccounts(o,!0):translateAddress(o)}return t}class MethodsBuilder{constructor(e,t,r,o,a,c,u,en,tn,nn,sn,fn){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=o,this._simulateFn=a,this._viewFn=c,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new AccountsResolver(e,this._accounts,u,en,tn,nn,sn,fn)}args(e){this._args=e,this._accountsResolver.args(e)}accounts(e){return this.accountsPartial(e)}accountsPartial(e){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(e),this}accountsStrict(e){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e,t=!1){return t?this._preInstructions=e.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async rpc(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async rpcAndKeys(e){return{pubkeys:await this.pubkeys(),signature:await this.rpc(e)}}async view(e){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async prepare(){return{instruction:await this.instruction(),pubkeys:await this.pubkeys(),signers:this._signers}}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class ViewFactory{static build(e,t,r,o){const a=t.accounts.find(en=>en.writable),c=!!t.returns;return a||!c?void 0:async(...en)=>{let tn=await r(...en);const nn=`Program return: ${e} `;let sn=tn.raw.find(ln=>ln.startsWith(nn));if(!sn)throw new Error("View expected return log");let fn=decode$1(sn.slice(nn.length)),dn=t.returns;if(!dn)throw new Error("View expected return type");return IdlCoder.fieldLayout({type:dn},o.types).decode(fn)}}}class NamespaceFactory{static build(e,t,r,o,a){const c={},u={},en={},tn={},nn={},sn={},fn=parseIdlErrors(e),dn=e.accounts?AccountFactory.build(e,t,r,o):{};return e.instructions.forEach(hn=>{const ln=InstructionNamespaceFactory.build(hn,(Tn,kn)=>t.instruction.encode(Tn,kn),r),pn=TransactionFactory.build(hn,ln),$n=RpcFactory.build(hn,pn,fn,o),Sn=SimulateFactory.build(hn,pn,fn,o,t,r,e),yn=ViewFactory.build(r,hn,Sn,e),In=MethodsBuilderFactory.build(o,r,hn,ln,pn,$n,Sn,yn,dn,e.types||[],a==null?void 0:a(hn)),An=hn.name;u[An]=ln,en[An]=pn,c[An]=$n,tn[An]=Sn,nn[An]=In,yn&&(sn[An]=yn)}),[c,u,en,dn,tn,nn,sn]}}class Program{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(e,t=getProvider(),r,o){const a=convertIdlToCamelCase(e);this._idl=a,this._rawIdl=e,this._provider=t,this._programId=translateAddress(e.address),this._coder=r??new BorshCoder(a),this._events=new EventManager(this._programId,t,this._coder);const[c,u,en,tn,nn,sn,fn]=NamespaceFactory.build(a,this._coder,this._programId,t,o);this.rpc=c,this.instruction=u,this.transaction=en,this.account=tn,this.simulate=nn,this.methods=sn,this.views=fn}static async at(e,t){const r=translateAddress(e),o=await Program.fetchIdl(r,t);if(!o)throw new Error(`IDL not found for program: ${e.toString()}`);return new Program(o,t)}static async fetchIdl(e,t){t=t??getProvider();const r=translateAddress(e),o=await idlAddress(r),a=await t.connection.getAccountInfo(o);if(!a)return null;let c=decodeIdlAccount(a.data.slice(8));const u=inflate_1(c.data);return JSON.parse(decode$2(u))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}new PublicKey$6("11111111111111111111111111111111");isBrowser$1||(exports.workspace=require("./workspace.js").default,exports.Wallet=require("./nodewallet.js").default);const RPC_NETWORKS=[{name:"IronforgeSA",url:"https://rpc.ironforge.network/mainnet?apiKey=01J2A7ZC31DKNS4N8TWGE62THC"},{name:"SkullnbonesRPC",url:"https://rpc.skullnbones.xyz"},{name:"ALCHEMY2",url:"https://solana-mainnet.g.alchemy.com/v2/yBo6NZ0AfTb0J1h2zrxcioXlidYfmxDo"}];function tryOnScopeDispose(n){return getCurrentScope()?(onScopeDispose(n),!0):!1}function toValue(n){return typeof n=="function"?n():unref(n)}const isClient=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const toString$1=Object.prototype.toString,isObject$7=n=>toString$1.call(n)==="[object Object]",noop$2=()=>{};function createFilterWrapper(n,e){function t(...r){return new Promise((o,a)=>{Promise.resolve(n(()=>e.apply(this,r),{fn:e,thisArg:this,args:r})).then(o).catch(a)})}return t}const bypassFilter=n=>n();function pausableFilter(n=bypassFilter){const e=ref(!0);function t(){e.value=!1}function r(){e.value=!0}const o=(...a)=>{e.value&&n(...a)};return{isActive:readonly(e),pause:t,resume:r,eventFilter:o}}function watchWithFilter(n,e,t={}){const{eventFilter:r=bypassFilter,...o}=t;return watch(n,createFilterWrapper(r,e),o)}function watchPausable(n,e,t={}){const{eventFilter:r,...o}=t,{eventFilter:a,pause:c,resume:u,isActive:en}=pausableFilter(r);return{stop:watchWithFilter(n,e,{...o,eventFilter:a}),pause:c,resume:u,isActive:en}}function tryOnMounted(n,e=!0){getCurrentInstance()?onMounted(n):e?n():nextTick(n)}function watchDeep(n,e,t){return watch(n,e,{...t,deep:!0})}function unrefElement(n){var e;const t=toValue(n);return(e=t==null?void 0:t.$el)!=null?e:t}const defaultWindow=isClient?window:void 0;function useEventListener(...n){let e,t,r,o;if(typeof n[0]=="string"||Array.isArray(n[0])?([t,r,o]=n,e=defaultWindow):[e,t,r,o]=n,!e)return noop$2;Array.isArray(t)||(t=[t]),Array.isArray(r)||(r=[r]);const a=[],c=()=>{a.forEach(nn=>nn()),a.length=0},u=(nn,sn,fn,dn)=>(nn.addEventListener(sn,fn,dn),()=>nn.removeEventListener(sn,fn,dn)),en=watch(()=>[unrefElement(e),toValue(o)],([nn,sn])=>{if(c(),!nn)return;const fn=isObject$7(sn)?{...sn}:sn;a.push(...t.flatMap(dn=>r.map(hn=>u(nn,dn,hn,fn))))},{immediate:!0,flush:"post"}),tn=()=>{en(),c()};return tryOnScopeDispose(tn),tn}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__",handlers=getHandlers();function getHandlers(){return globalKey in _global||(_global[globalKey]=_global[globalKey]||{}),_global[globalKey]}function getSSRHandler(n,e){return handlers[n]||e}function guessSerializerType(n){return n==null?"any":n instanceof Set?"set":n instanceof Map?"map":n instanceof Date?"date":typeof n=="boolean"?"boolean":typeof n=="string"?"string":typeof n=="object"?"object":Number.isNaN(n)?"any":"number"}const StorageSerializers={boolean:{read:n=>n==="true",write:n=>String(n)},object:{read:n=>JSON.parse(n),write:n=>JSON.stringify(n)},number:{read:n=>Number.parseFloat(n),write:n=>String(n)},any:{read:n=>n,write:n=>String(n)},string:{read:n=>n,write:n=>String(n)},map:{read:n=>new Map(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n.entries()))},set:{read:n=>new Set(JSON.parse(n)),write:n=>JSON.stringify(Array.from(n))},date:{read:n=>new Date(n),write:n=>n.toISOString()}},customStorageEventName="vueuse-storage";function useStorage(n,e,t,r={}){var o;const{flush:a="pre",deep:c=!0,listenToStorageChanges:u=!0,writeDefaults:en=!0,mergeDefaults:tn=!1,shallow:nn,window:sn=defaultWindow,eventFilter:fn,onError:dn=Dn=>{console.error(Dn)},initOnMounted:hn}=r,ln=(nn?shallowRef:ref)(typeof e=="function"?e():e);if(!t)try{t=getSSRHandler("getDefaultStorage",()=>{var Dn;return(Dn=defaultWindow)==null?void 0:Dn.localStorage})()}catch(Dn){dn(Dn)}if(!t)return ln;const pn=toValue(e),$n=guessSerializerType(pn),Sn=(o=r.serializer)!=null?o:StorageSerializers[$n],{pause:yn,resume:In}=watchPausable(ln,()=>An(ln.value),{flush:a,deep:c,eventFilter:fn});return sn&&u&&tryOnMounted(()=>{useEventListener(sn,"storage",Pn),useEventListener(sn,customStorageEventName,kn),hn&&Pn()}),hn||Pn(),ln;function An(Dn){try{if(Dn==null)t.removeItem(n);else{const Kn=Sn.write(Dn),Hn=t.getItem(n);Hn!==Kn&&(t.setItem(n,Kn),sn&&sn.dispatchEvent(new CustomEvent(customStorageEventName,{detail:{key:n,oldValue:Hn,newValue:Kn,storageArea:t}})))}}catch(Kn){dn(Kn)}}function Tn(Dn){const Kn=Dn?Dn.newValue:t.getItem(n);if(Kn==null)return en&&pn!==null&&t.setItem(n,Sn.write(pn)),pn;if(!Dn&&tn){const Hn=Sn.read(Kn);return typeof tn=="function"?tn(Hn,pn):$n==="object"&&!Array.isArray(Hn)?{...pn,...Hn}:Hn}else return typeof Kn!="string"?Kn:Sn.read(Kn)}function kn(Dn){Pn(Dn.detail)}function Pn(Dn){if(!(Dn&&Dn.storageArea!==t)){if(Dn&&Dn.key==null){ln.value=pn;return}if(!(Dn&&Dn.key!==n)){yn();try{(Dn==null?void 0:Dn.newValue)!==Sn.write(ln.value)&&(ln.value=Tn(Dn))}catch(Kn){dn(Kn)}finally{Dn?nextTick(In):In()}}}}}function useLocalStorage(n,e,t={}){const{window:r=defaultWindow}=t;return useStorage(n,e,r==null?void 0:r.localStorage,t)}const useRPCStore=defineStore("rpcStore",{state:()=>({rpc_stored_name:useLocalStorage("rpc_store_1",RPC_NETWORKS[0].name),rpc_selected:RPC_NETWORKS.find(n=>n.name.includes(useLocalStorage("rpc_store_1",RPC_NETWORKS[0].name)))??RPC_NETWORKS[0]}),getters:{connection(n){return new Connection$4(n.rpc_selected.url)}},actions:{update_connection(){const n=RPC_NETWORKS.find(e=>e.name.includes(this.rpc_stored_name))??RPC_NETWORKS[0];this.rpc_stored_name=n.name,this.rpc_selected=n,console.log("RPC is set to: "+this.rpc_selected.name)}}}),address$8="whi5uDPWK4rAE9Sus6hdxdHwsG1hjDBn6kXM6pyqwTn",metadata$8={name:"whitelist",version:"0.1.0",spec:"0.1.0"},instructions$8=[{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"whitelist",writable:!0},{name:"signer",writable:!0,signer:!0},{name:"system_program",docs:["the account sending (and signing) this transaction"]}],args:[{name:"name",type:"string"}]},{name:"add_to_whitelist",discriminator:[157,211,52,54,144,81,5,55],accounts:[{name:"entry",writable:!0},{name:"whitelist",writable:!0},{name:"authority",writable:!0,signer:!0},{name:"system_program"}],args:[{name:"account_to_add",type:"pubkey"}]},{name:"remove_from_whitelist",discriminator:[7,144,216,239,243,236,193,235],accounts:[{name:"entry",writable:!0},{name:"whitelist",writable:!0},{name:"authority",writable:!0,signer:!0}],args:[{name:"account_to_delete",type:"pubkey"}]},{name:"delete_whitelist",discriminator:[229,26,200,168,119,177,128,19],accounts:[{name:"whitelist",writable:!0},{name:"authority",writable:!0,signer:!0}],args:[{name:"name",type:"string"}]},{name:"check_whitelist",discriminator:[202,135,140,249,143,1,201,143],accounts:[{name:"whitelist"}],args:[{name:"owner",type:"pubkey"},{name:"name",type:"string"}]},{name:"check_whitelisted",discriminator:[55,32,174,31,5,246,187,13],accounts:[{name:"entry"},{name:"whitelist"}],args:[{name:"account_to_check",type:"pubkey"}]}],accounts$8=[{name:"Whitelist",discriminator:[204,176,52,79,146,121,54,247]},{name:"WhitelistEntry",discriminator:[51,70,173,81,219,192,234,62]}],errors$8=[{code:6e3,name:"WhitelistStillHasChilds",msg:"The whitelist still has childs"},{code:6001,name:"AccountsNoRemovable",msg:"Can not remove the specified account"}],types$e=[{name:"Whitelist",type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"name",type:"string"},{name:"has_childs",type:"bool"},{name:"access_count",type:"u32"}]}},{name:"WhitelistEntry",type:{kind:"struct",fields:[{name:"parent",type:"pubkey"},{name:"whitelisted",type:"pubkey"}]}}];var whitelistIDL={address:address$8,metadata:metadata$8,instructions:instructions$8,accounts:accounts$8,errors:errors$8,types:types$e};const address$7="wrprFD8nubz7iB3pKfuMiUjcydQNoCL5eWnEPMbG1F6",metadata$7={name:"wrapper_factory",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},instructions$7=[{name:"close",discriminator:[98,165,201,177,108,65,206,96],accounts:[{name:"signer",writable:!0,signer:!0},{name:"wrapper",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114]},{kind:"account",path:"mint_unwrapped"},{kind:"account",path:"wrapper.admin",account:"Wrapper"}]}},{name:"mint_wrapped",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,116,111,107,101,110]},{kind:"account",path:"wrapper"},{kind:"account",path:"wrapper.seed",account:"Wrapper"}]}},{name:"mint_unwrapped"},{name:"vault_unwrapped_ata",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,118,97,117,108,116]},{kind:"account",path:"wrapper"},{kind:"account",path:"mint_unwrapped"}]}},{name:"token_program"}],args:[]},{name:"close_group",discriminator:[40,187,201,187,18,194,122,232],accounts:[{name:"signer",writable:!0,signer:!0},{name:"group",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,103,114,111,117,112]},{kind:"account",path:"signer"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"create_vault",discriminator:[29,237,247,208,193,82,54,135],accounts:[{name:"signer",writable:!0,signer:!0},{name:"wrapper",pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114]},{kind:"account",path:"wrapper.mint_unwrapped",account:"Wrapper"},{kind:"account",path:"signer"}]}},{name:"vault_unwrapped_ata",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,118,97,117,108,116]},{kind:"account",path:"wrapper"},{kind:"account",path:"wrapper.mint_unwrapped",account:"Wrapper"}]}},{name:"mint_unwrapped"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"}],args:[]},{name:"edit",discriminator:[15,183,33,86,87,28,151,145],accounts:[{name:"signer",writable:!0,signer:!0},{name:"wrapper",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114]},{kind:"account",path:"mint_unwrapped"},{kind:"account",path:"wrapper.admin",account:"Wrapper"}]}},{name:"mint_wrapped",pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,116,111,107,101,110]},{kind:"account",path:"wrapper"},{kind:"account",path:"wrapper.seed",account:"Wrapper"}]}},{name:"mint_unwrapped"},{name:"whitelist",optional:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"}],args:[{name:"params",type:{defined:{name:"EditParams"}}}]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"signer",writable:!0,signer:!0},{name:"wrapper",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114]},{kind:"account",path:"mint_unwrapped"},{kind:"account",path:"signer"}]}},{name:"mint_wrapped",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,116,111,107,101,110]},{kind:"account",path:"wrapper"},{kind:"arg",path:"params.seed"}]}},{name:"mint_unwrapped"},{name:"group"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"}],args:[{name:"params",type:{defined:{name:"InitPrams"}}}]},{name:"initialize_group",discriminator:[191,73,34,229,233,213,189,173],accounts:[{name:"signer",writable:!0,signer:!0},{name:"group",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,103,114,111,117,112]},{kind:"account",path:"signer"}]}},{name:"fee",writable:!0,address:"subA4tNLV18htV8xACaZyMMKkAm1AQS4EhiPYPV4zbH"},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"name",type:"string"}]},{name:"metadata_create",discriminator:[79,112,145,162,26,151,102,135],accounts:[{name:"signer",writable:!0,signer:!0},{name:"wrapper",pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114]},{kind:"account",path:"mint_unwrapped"},{kind:"account",path:"wrapper.admin",account:"Wrapper"}]}},{name:"mint_wrapped",pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,116,111,107,101,110]},{kind:"account",path:"wrapper"},{kind:"account",path:"wrapper.seed",account:"Wrapper"}]}},{name:"mint_unwrapped"},{name:"metadata",writable:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"},{name:"token_metadata_program",address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"metadata",type:{defined:{name:"MetadataParams"}}}]},{name:"metadata_update",discriminator:[227,88,37,234,30,248,12,51],accounts:[{name:"signer",writable:!0,signer:!0},{name:"wrapper",pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114]},{kind:"account",path:"mint_unwrapped"},{kind:"account",path:"wrapper.admin",account:"Wrapper"}]}},{name:"mint_wrapped",pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,116,111,107,101,110]},{kind:"account",path:"wrapper"},{kind:"account",path:"wrapper.seed",account:"Wrapper"}]}},{name:"mint_unwrapped"},{name:"metadata",writable:!0},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program"},{name:"token_metadata_program",address:"metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"}],args:[{name:"metadata",type:{defined:{name:"MetadataParams"}}}]},{name:"transfer_vault",discriminator:[15,245,182,67,227,160,170,213],accounts:[{name:"signer",writable:!0,signer:!0},{name:"wrapper",pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114]},{kind:"account",path:"mint_unwrapped"},{kind:"account",path:"wrapper.admin",account:"Wrapper"}]}},{name:"mint_wrapped",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,116,111,107,101,110]},{kind:"account",path:"wrapper"},{kind:"account",path:"wrapper.seed",account:"Wrapper"}]}},{name:"mint_unwrapped"},{name:"ata_unwrapped_signer",writable:!0},{name:"vault_unwrapped_ata",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,118,97,117,108,116]},{kind:"account",path:"wrapper"},{kind:"account",path:"mint_unwrapped"}]}},{name:"token_program"}],args:[{name:"amount_unwrapped",type:"u64"}]},{name:"unwrap",discriminator:[126,175,198,14,212,69,50,44],accounts:[{name:"signer",writable:!0,signer:!0},{name:"wrapper",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114]},{kind:"account",path:"mint_unwrapped"},{kind:"account",path:"wrapper.admin",account:"Wrapper"}]}},{name:"mint_wrapped",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,116,111,107,101,110]},{kind:"account",path:"wrapper"},{kind:"account",path:"wrapper.seed",account:"Wrapper"}]}},{name:"mint_unwrapped"},{name:"signer_wrapped",writable:!0},{name:"signer_unwrapped",writable:!0},{name:"vault_unwrapped",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,118,97,117,108,116]},{kind:"account",path:"wrapper"},{kind:"account",path:"mint_unwrapped"}]}},{name:"token_program"},{name:"whitelist",writable:!0,optional:!0},{name:"whitelist_entry",writable:!0,optional:!0},{name:"whitelist_program",optional:!0,address:"whi5uDPWK4rAE9Sus6hdxdHwsG1hjDBn6kXM6pyqwTn"}],args:[{name:"amount_unwrapped",type:"u64"}]},{name:"wrap",discriminator:[178,40,10,189,228,129,186,140],accounts:[{name:"signer",writable:!0,signer:!0},{name:"wrapper",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114]},{kind:"account",path:"mint_unwrapped"},{kind:"account",path:"wrapper.admin",account:"Wrapper"}]}},{name:"mint_wrapped",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,116,111,107,101,110]},{kind:"account",path:"wrapper"},{kind:"account",path:"wrapper.seed",account:"Wrapper"}]}},{name:"mint_unwrapped"},{name:"signer_unwrapped",writable:!0},{name:"signer_wrapped",writable:!0},{name:"vault_unwrapped",writable:!0,pda:{seeds:[{kind:"const",value:[119,114,97,112,112,101,114,95,118,97,117,108,116]},{kind:"account",path:"wrapper"},{kind:"account",path:"mint_unwrapped"}]}},{name:"token_program"},{name:"whitelist",writable:!0,optional:!0},{name:"whitelist_entry",writable:!0,optional:!0},{name:"whitelist_program",optional:!0,address:"whi5uDPWK4rAE9Sus6hdxdHwsG1hjDBn6kXM6pyqwTn"}],args:[{name:"amount_unwrapped",type:"u64"}]}],accounts$7=[{name:"Group",discriminator:[209,249,208,63,182,89,186,254]},{name:"Whitelist",discriminator:[204,176,52,79,146,121,54,247]},{name:"WhitelistEntry",discriminator:[51,70,173,81,219,192,234,62]},{name:"Wrapper",discriminator:[161,11,109,119,86,61,163,136]}],errors$7=[{code:6e3,name:"ZeroError",msg:"Input is zero"},{code:6001,name:"SignerError",msg:"Invalid Signer"},{code:6002,name:"AmountMismatch",msg:"Incorrect amounts for unwrapped/wrapped"},{code:6003,name:"PermissionIncorrect",msg:"Permission incorrect"},{code:6004,name:"LimitReached",msg:"Wrap limit reached"},{code:6005,name:"NoGroupMatch",msg:"No group match"}],types$d=[{name:"EditParams",type:{kind:"struct",fields:[{name:"allow_wrap",type:"bool"},{name:"allow_unwrap",type:"bool"},{name:"use_limit",type:"bool"},{name:"amount_able_to_wrap",type:{option:"u64"}},{name:"only_admin_can_wrap",type:{option:"bool"}},{name:"only_admin_can_unwrap",type:{option:"bool"}},{name:"use_whitelist",type:{option:"bool"}},{name:"admin",type:{option:"pubkey"}},{name:"ratio",type:{option:{array:["u64",2]}}}]}},{name:"Group",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"owner",type:"pubkey"}]}},{name:"InitPrams",type:{kind:"struct",fields:[{name:"ratio",type:{array:["u64",2]}},{name:"only_admin_can_wrap",type:"bool"},{name:"only_admin_can_unwrap",type:"bool"},{name:"wrapped_decimals",type:"u8"},{name:"seed",type:"u64"}]}},{name:"MetadataParams",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"symbol",type:"string"},{name:"uri",type:"string"}]}},{name:"Whitelist",docs:["Account: Whitelist"],type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"name",type:"string"},{name:"has_childs",type:"bool"},{name:"access_count",type:"u32"}]}},{name:"WhitelistEntry",docs:["Account: WhitelistEntry"],type:{kind:"struct",fields:[{name:"parent",type:"pubkey"},{name:"whitelisted",type:"pubkey"}]}},{name:"Wrapper",type:{kind:"struct",fields:[{name:"seed",type:"u64"},{name:"group",type:"pubkey"},{name:"admin",type:"pubkey"},{name:"only_admin_can_wrap",type:"bool"},{name:"only_admin_can_unwrap",type:"bool"},{name:"mint_unwrapped",type:"pubkey"},{name:"mint_wrapped",type:"pubkey"},{name:"wrapped_decimals",type:"u8"},{name:"allow_wrap",type:"bool"},{name:"allow_unwrap",type:"bool"},{name:"use_limit",type:"bool"},{name:"limit_amount_unwrapped",type:"u64"},{name:"ratio",type:{array:["u64",2]}},{name:"use_whitelist",type:"bool"},{name:"whitelist",type:"pubkey"}]}}],constants$2=[{name:"FEE_ACCOUNT",type:"pubkey",value:"subA4tNLV18htV8xACaZyMMKkAm1AQS4EhiPYPV4zbH"}];var wrapperIDL={address:address$7,metadata:metadata$7,instructions:instructions$7,accounts:accounts$7,errors:errors$7,types:types$d,constants:constants$2};const address$6="rafxXxjw9fkAuQhCJ1A4gmX1oqgvRrSeXyRPUE9K2Yx",metadata$6={name:"raffle",version:"0.2.0",spec:"0.1.0",description:"Created with Anchor"},instructions$6=[{name:"buy_tickets",discriminator:[48,16,122,137,24,214,198,58],accounts:[{name:"signer",writable:!0,signer:!0},{name:"entrant"},{name:"raffle",writable:!0},{name:"tickets",writable:!0,relations:["raffle"]},{name:"tickets_ata",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116,84,105,99,107,101,116,115]},{kind:"account",path:"raffle"}]}},{name:"tickets_mint"},{name:"from",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"whitelist",docs:["Checks"],writable:!0,optional:!0},{name:"whitelist_entry",writable:!0,optional:!0},{name:"whitelist_program",optional:!0,address:"whi5uDPWK4rAE9Sus6hdxdHwsG1hjDBn6kXM6pyqwTn"},{name:"fee_account",writable:!0,address:"feeW4D5WBZQEk6QtoSrw2KjZF45d7LBK9oCGuczKW2G"}],args:[{name:"ticket_amount",type:"u32"}]},{name:"claim_prize",discriminator:[157,233,139,121,246,62,234,235],accounts:[{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"tickets",relations:["raffle"]},{name:"prize_vault",writable:!0},{name:"prize_mint"},{name:"to",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"claim_tickets",discriminator:[115,177,141,142,7,255,105,60],accounts:[{name:"creator",signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"tickets_ata",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116,84,105,99,107,101,116,115]},{kind:"account",path:"raffle"}]}},{name:"tickets_mint"},{name:"to",writable:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"close",discriminator:[98,165,201,177,108,65,206,96],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"tickets",writable:!0},{name:"tickets_vault",writable:!0},{name:"prize_vault",writable:!0,optional:!0},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"}],args:[]},{name:"disable",discriminator:[185,173,187,90,216,15,238,233],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"edit",discriminator:[15,183,33,86,87,28,151,145],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"url",type:"string"}]},{name:"enable",discriminator:[159,34,127,41,193,53,124,27],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"system_program",address:"11111111111111111111111111111111"}],args:[]},{name:"initialize",discriminator:[175,175,109,31,13,152,155,237],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"arg",path:"seed"}]}},{name:"tickets",writable:!0,pda:{seeds:[{kind:"const",value:[116,105,99,107,101,116,115]},{kind:"account",path:"raffle"}]}},{name:"tickets_ata",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116,84,105,99,107,101,116,115]},{kind:"account",path:"raffle"}]}},{name:"tickets_mint"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"whitelist",optional:!0}],args:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"ticket_price",type:"u64"},{name:"ticket_amount",type:"u32"},{name:"seed",type:"u64"}]},{name:"prepare",discriminator:[121,155,156,90,164,252,220,109],accounts:[{name:"creator",writable:!0,signer:!0},{name:"raffle",writable:!0,pda:{seeds:[{kind:"const",value:[114,97,102,102,108,101]},{kind:"account",path:"raffle.seed",account:"Raffle"}]}},{name:"from",writable:!0},{name:"prize_vault",writable:!0,pda:{seeds:[{kind:"const",value:[118,97,117,108,116,80,114,105,122,101]},{kind:"account",path:"raffle"}]}},{name:"prize_mint"},{name:"system_program",address:"11111111111111111111111111111111"},{name:"token_program",address:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"},{name:"rent",address:"SysvarRent111111111111111111111111111111111"},{name:"fee_account",writable:!0,address:"feeW4D5WBZQEk6QtoSrw2KjZF45d7LBK9oCGuczKW2G"}],args:[{name:"tickets_amount",type:"u64"},{name:"url",type:"string"}]},{name:"reveal_winners",discriminator:[24,167,123,197,91,200,146,3],accounts:[{name:"raffle",writable:!0},{name:"tickets",writable:!0},{name:"recent_block_hashes"}],args:[]}],accounts$6=[{name:"Raffle",discriminator:[143,133,63,173,138,10,142,200]},{name:"Tickets",discriminator:[48,222,91,92,162,98,123,167]},{name:"Whitelist",discriminator:[204,176,52,79,146,121,54,247]},{name:"WhitelistEntry",discriminator:[51,70,173,81,219,192,234,62]}],events$2=[{name:"EventBuyTicket",discriminator:[28,55,128,125,63,1,97,202]},{name:"EventEnable",discriminator:[212,141,123,0,71,109,134,133]},{name:"EventWinner",discriminator:[131,37,67,234,53,172,160,241]}],errors$6=[{code:6e3,name:"InsufficientFundsForTransaction",msg:"You have not enough sol !"},{code:6001,name:"ActionNotAllowed",msg:"You are not allowed to create a Raffle!"},{code:6002,name:"SignerIsNotCreator",msg:"The Signer is not the creator!"},{code:6003,name:"NoRandomness",msg:"Error no randomness!"},{code:6004,name:"EntrantsAccountTooSmallForMaxEntrants",msg:"Entrants account too small for max entrants"},{code:6005,name:"InvalidPrizeIndex",msg:"Invalid prize index"},{code:6006,name:"NotClaimed",msg:"Raffle is not Claimed"},{code:6007,name:"InvalidTicketCount",msg:"Amount of sold tickets is not fulfilled"},{code:6008,name:"NoPrize",msg:"Error ticket count invalid!"},{code:6009,name:"RaffleIsNotRunning",msg:"Error raffle is not running"},{code:6010,name:"RaffleIsRunning",msg:"Error raffle is still running"},{code:6011,name:"InvalidCalculation",msg:"Invalid calculation"},{code:6012,name:"NotEnoughTicketsLeft",msg:"Not enough tickets left"},{code:6013,name:"RaffleStillRunning",msg:"Raffle is still running"},{code:6014,name:"WinnersAlreadyDrawn",msg:"Winner already drawn"},{code:6015,name:"WinnerNotDrawn",msg:"Winner not drawn"},{code:6016,name:"InvalidRevealedData",msg:"Invalid revealed data"},{code:6017,name:"TokenAccountNotOwnedByWinner",msg:"Ticket account not owned by winner"},{code:6018,name:"TicketHasNotWon",msg:"Ticket has not won"},{code:6019,name:"UnclaimedPrizes",msg:"Unclaimed prizes"},{code:6020,name:"InvalidRecentBlockhashes",msg:"Invalid recent blockhashes"},{code:6021,name:"OnlyCreatorCanClaimNoEntrantRafflePrizes",msg:"Only the creator can calin no entrant raffle prizes"},{code:6022,name:"InvalidTreasuryTokenAccountOwner",msg:"Invalid treasury token account owner"},{code:6023,name:"AccountMismatch",msg:"AccountMismatch"},{code:6024,name:"StateMismatch",msg:"StateMismatch"}],types$c=[{name:"EventBuyTicket",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"prize_mint",type:"pubkey"},{name:"ticket_mint",type:"pubkey"},{name:"amount",type:"u32"},{name:"sold",type:"u32"},{name:"total",type:"u32"}]}},{name:"EventEnable",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"prize_mint",type:"pubkey"},{name:"ticket_mint",type:"pubkey"},{name:"price_per_ticket",type:"u64"}]}},{name:"EventWinner",type:{kind:"struct",fields:[{name:"name",type:"string"},{name:"description",type:"string"},{name:"prize_mint",type:"pubkey"},{name:"ticket_mint",type:"pubkey"},{name:"winner",type:"pubkey"}]}},{name:"Raffle",type:{kind:"struct",fields:[{name:"seed",type:"u64"},{name:"bump",type:"u8"},{name:"creator",type:"pubkey"},{name:"state",type:{defined:{name:"RaffleState"}}},{name:"name",type:"string"},{name:"description",type:"string"},{name:"url",type:"string"},{name:"ticket_mint",type:"pubkey"},{name:"ticket_price",type:"u64"},{name:"ticket_decimals",type:"u8"},{name:"prize_mint",type:"pubkey"},{name:"prize_vault_count",type:"u64"},{name:"prize_decimals",type:"u8"},{name:"tickets",type:"pubkey"},{name:"winner",type:"pubkey"},{name:"randomness",type:{option:{array:["u8",32]}}},{name:"use_whitelist",type:"bool"},{name:"whitelist",type:"pubkey"}]}},{name:"RaffleState",type:{kind:"enum",variants:[{name:"CREATED"},{name:"READY"},{name:"RUNNING"},{name:"PAUSED"},{name:"FULL"},{name:"CLAIMPRIZE"},{name:"CLAIMTICKETS"},{name:"DONE"}]}},{name:"Tickets",type:{kind:"struct",fields:[{name:"sold",type:"u32"},{name:"total",type:"u32"}]}},{name:"Whitelist",docs:["Account: Whitelist"],type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"name",type:"string"},{name:"has_childs",type:"bool"},{name:"access_count",type:"u32"}]}},{name:"WhitelistEntry",docs:["Account: WhitelistEntry"],type:{kind:"struct",fields:[{name:"parent",type:"pubkey"},{name:"whitelisted",type:"pubkey"}]}}],constants$1=[{name:"RAFFLE",type:"bytes",value:"[114, 97, 102, 102, 108, 101]"}];var raffleIDL={address:address$6,metadata:metadata$6,instructions:instructions$6,accounts:accounts$6,events:events$2,errors:errors$6,types:types$c,constants:constants$1};const address$5="pprofELXjL5Kck7Jn5hCpwAL82DpTkSYBENzahVtbc9",metadata$5={name:"player_profile",version:"0.7.3",spec:"0.1.0"},instructions$5=[{name:"accept_role_invitation",discriminator:[254,252,153,44,41,232,56,107],accounts:[{name:"new_member",docs:["The new member"]},{name:"role_account",docs:["The role which the player is joining"],writable:!0},{name:"role_membership_account",docs:["The role membership account for the new member"],writable:!0}],args:[{name:"key_index",type:"u16"},{name:"key_index_in_role_account",type:"u16"},{name:"key_index_in_membership_account",type:"u16"}]},{name:"add_existing_member_to_role",discriminator:[85,51,158,41,144,7,103,87],accounts:[{name:"funder",docs:["The funder for reallocation."],writable:!0,signer:!0},{name:"new_member",docs:["The profile of the member to be added to the role"]},{name:"profile",docs:["The profile which the role belongs to."]},{name:"role_membership_account",docs:["The role membership account for the new member"],writable:!0},{name:"role_account",docs:["The role which the player is joining"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"key_index",type:"u16"},{name:"key_index_in_membership_account",type:"u16"}]},{name:"add_keys",discriminator:[154,225,16,176,146,76,78,105],accounts:[{name:"funder",docs:["The funder for the profile."],writable:!0,signer:!0},{name:"key",docs:["Key with [`ProfilePermissions::ADD_KEYS`] permission to add keys."],signer:!0},{name:"profile",docs:["The profile to add to"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"key_add_index",type:"u16"},{name:"key_permissions_index",type:"u16"},{name:"keys_to_add",type:{vec:{defined:{name:"AddKeyInput"}}}}]},{name:"adjust_auth",discriminator:[6,254,177,87,111,72,12,211],accounts:[{name:"funder",docs:["The funder for the profile."],writable:!0,signer:!0},{name:"profile",docs:["The profile to create"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"auth_indexes",type:{vec:"u16"}},{name:"new_key_permissions",type:{vec:{defined:{name:"AddKeyInput"}}}},{name:"remove_range",type:{array:["u16",2]}},{name:"new_key_threshold",type:"u8"}]},{name:"create_profile",discriminator:[225,205,234,143,17,186,50,220],accounts:[{name:"funder",docs:["The funder for the new profile."],writable:!0,signer:!0},{name:"profile",docs:["The profile to create"],writable:!0,signer:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"key_permissions",type:{vec:{defined:{name:"AddKeyInput"}}}},{name:"key_threshold",type:"u8"}]},{name:"create_role",discriminator:[170,147,127,223,222,112,205,163],accounts:[{name:"funder",docs:["The funder for the transaction"],writable:!0,signer:!0},{name:"profile",docs:["The [`Profile`] account that the role is being created for"],writable:!0},{name:"new_role_account",docs:["The role account being created"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"key_index",type:"u16"}]},{name:"invite_member_to_role",discriminator:[253,134,248,50,88,11,141,144],accounts:[{name:"funder",docs:["The funder for the new profile."],writable:!0,signer:!0},{name:"new_member",docs:["The profile of the user to be added to the role"]},{name:"profile",docs:["The profile which the role belongs to."]},{name:"role_membership_account",docs:["The role membership account for the new member"],writable:!0},{name:"role_account",docs:["The role which the player is joining"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"key_index",type:"u16"}]},{name:"join_role",discriminator:[134,185,219,182,219,126,24,157],accounts:[{name:"funder",docs:["The funder for the new profile."],writable:!0,signer:!0},{name:"new_member",docs:["The new member joining the role"]},{name:"role_membership_account",docs:["The role membership account for the new member"],writable:!0},{name:"role_account",docs:["The role which the player is joining"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"key_index",type:"u16"}]},{name:"leave_role",discriminator:[120,198,103,107,14,193,102,79],accounts:[{name:"funder",docs:["The funder to receive the rent allocation."],writable:!0},{name:"member",docs:["The member leaving the role"]},{name:"role_membership_account",docs:["The role membership account for the member"],writable:!0},{name:"role_account",docs:["The role which the player is leaving"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"key_index",type:"u16"},{name:"key_index_in_role_account",type:"u16"},{name:"key_index_in_membership_account",type:"u16"}]},{name:"remove_keys",discriminator:[172,65,100,63,31,208,57,71],accounts:[{name:"funder",docs:["The funder for the profile."],writable:!0},{name:"key",docs:["Key with [`ProfilePermissions::REMOVE_KEYS`] permission to add keys."],signer:!0},{name:"profile",docs:["The profile to remove from"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"key_index",type:"u16"},{name:"keys_to_remove",type:{array:["u16",2]}}]},{name:"remove_member_from_role",discriminator:[125,78,77,208,207,127,246,14],accounts:[{name:"funder",docs:["The funder to receive the rent allocation"],writable:!0},{name:"member",docs:["The profile of the user to be added to the role"]},{name:"profile",docs:["The profile which the role belongs to."]},{name:"role_membership_account",docs:["The role membership account for the member"],writable:!0},{name:"role_account",docs:["The role which the player is being removed from"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"key_index",type:"u16"},{name:"key_index_in_role_account",type:"u16"},{name:"key_index_in_membership_account",type:"u16"}]},{name:"remove_role",discriminator:[74,69,168,163,248,3,130,0],accounts:[{name:"funder",docs:["The funder for the transaction"],writable:!0},{name:"profile",docs:["The Profile that the role is being removed from"],writable:!0},{name:"role_account",docs:["The role being removed"],writable:!0},{name:"role_name_account",docs:["The role name account (if it exists)"],writable:!0}],args:[{name:"role_name_bump",type:"u8"},{name:"key_index",type:"u16"}]},{name:"set_name",discriminator:[78,194,111,229,198,169,162,106],accounts:[{name:"key",docs:["The key authorized to change the name."],signer:!0},{name:"funder",docs:["The funder for the name size change."],writable:!0,signer:!0},{name:"profile",docs:["The profile to set the name for."]},{name:"name",docs:["The name account."],writable:!0},{name:"system_program",docs:["The system program."]}],args:[{name:"key_index",type:"u16"},{name:"name",type:"bytes"}]},{name:"set_role_accepting_members",discriminator:[255,132,76,171,145,213,127,214],accounts:[{name:"profile",docs:["The profile which owns the role being modified."]},{name:"role_account",docs:["The role account to set as accepting members."],writable:!0}],args:[{name:"key_index",type:"u16"}]},{name:"set_role_authorizer",discriminator:[74,219,208,248,237,153,188,229],accounts:[{name:"funder",docs:["The funder for the name size change."],writable:!0,signer:!0},{name:"profile",docs:["The profile to set the name for."]},{name:"role_account",docs:["The role account to set the authorizer for."],writable:!0},{name:"authorizer",docs:["The authorizer account to set."]}],args:[{name:"key_index",type:"u16"}]},{name:"set_role_name",discriminator:[9,97,176,36,28,19,41,93],accounts:[{name:"funder",docs:["The funder for the name size change."],writable:!0,signer:!0},{name:"profile",docs:["The profile which the role belongs to"]},{name:"role",docs:["The role to set the name for."]},{name:"name",docs:["The name account."],writable:!0},{name:"system_program",docs:["The system program."]}],args:[{name:"key_index",type:"u16"},{name:"name",type:"bytes"}]},{name:"set_role_not_accepting_members",discriminator:[230,151,152,4,238,11,100,15],accounts:[{name:"profile",docs:["The profile which owns the role being modified."]},{name:"role_account",docs:["The role account to set as not accepting members."],writable:!0}],args:[{name:"key_index",type:"u16"}]}],accounts$5=[{name:"PlayerName",discriminator:[102,9,241,98,96,196,212,161]},{name:"Profile",discriminator:[184,101,165,188,95,63,127,188]},{name:"ProfileRoleMembership",discriminator:[45,2,86,111,110,121,5,1]},{name:"Role",discriminator:[46,219,197,24,233,249,253,154]}],errors$5=[{code:6e3,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds"},{code:6001,name:"ProfileMismatch",msg:"Profile did not match profile key"},{code:6002,name:"KeyMismatch",msg:"Key did not match profile key"},{code:6003,name:"ScopeMismatch",msg:"Scope did not match profile scope"},{code:6004,name:"KeyExpired",msg:"Key expired"},{code:6005,name:"KeyMissingPermissions",msg:"Key is missing permissions"},{code:6006,name:"PermissionsMismatch",msg:"Permissions don't match available"},{code:6007,name:"AuthKeyCannotExpire",msg:"Auth keys cannot expire"},{code:6008,name:"AuthKeyMustSign",msg:"New auth keys must be signers"},{code:6009,name:"DuplicateAuthKey",msg:"Duplicate key when adjusting auth keys"},{code:6010,name:"RoleAuthorityAlreadySet",msg:"Role authority has already been set"},{code:6011,name:"RoleNotAcceptingMembers",msg:"Role is not accepting new members"},{code:6012,name:"RoleMembershipMismatch",msg:"Role membership is not as expected"},{code:6013,name:"RoleLimitExceeded",msg:"Role limit exceeded"},{code:6014,name:"RoleHasMembers",msg:"Cannot remove role with members"},{code:6015,name:"FeatureNotImplemented",msg:"This feature is not yet support"}],types$b=[{name:"AddKeyInput",docs:["Struct for adding a key"],type:{kind:"struct",fields:[{name:"scope",docs:["The block of permissions"],type:"pubkey"},{name:"expire_time",docs:["The expire time of the key to add"],type:"i64"},{name:"permissions",docs:["The permissions for the key"],type:{array:["u8",8]}}]}},{name:"MemberStatus",docs:["Represents potential membership statuses for a player with a role"],type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"ProfileKey",docs:["A key on a profile."],type:{kind:"struct",fields:[{name:"key",docs:["The key."],type:"pubkey"},{name:"scope",docs:["The key for the permissions."],type:"pubkey"},{name:"expire_time",docs:["The expire time for this key.","If `<0` does not expire."],type:"i64"},{name:"permissions",docs:["The permissions for the key."],type:{array:["u8",8]}}]}},{name:"RoleMembership",docs:["Represents a member's status in a role"],type:{kind:"struct",fields:[{name:"key",docs:["The member or role key associated with this membership"],type:"pubkey"},{name:"status",docs:["The member's role status"],type:"u8"}]}},{name:"PlayerName",docs:["Stores a player's name on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this name is for."],type:"pubkey"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}},{name:"Profile",docs:["A player profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"auth_key_count",docs:["The number of auth keys on the account"],type:"u16"},{name:"key_threshold",docs:["The number of auth keys needed to update the profile."],type:"u8"},{name:"next_seq_id",docs:["The next sequence number for a new role."],type:"u64"},{name:"created_at",docs:["When the profile was created."],type:"i64"}]}},{name:"ProfileRoleMembership",docs:["A player's roles for a given profile","Remaining data contains an unordered list of [`RoleMembership`](RoleMembership) structs"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The Profile this belongs to"],type:"pubkey"},{name:"member",docs:["The member's profile pubkey"],type:"pubkey"},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"Role",docs:["A Role associated with a Profile. A Role contains an unordered list of Role Members in its","remaining data which lists all of the members who carry this role."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["Profile that this role belongs to"],type:"pubkey"},{name:"authorizer",docs:["Origin authority of the account"],type:"pubkey"},{name:"role_seq_id",docs:["Role's seq_id"],type:"u64"},{name:"accepting_new_members",docs:["Is role accepting new members"],type:"u8"},{name:"bump",docs:["The name of the rank","TODO: Add instruction to use `player-name` as the label","PDA bump"],type:"u8"}]}}];var playerProfileIDL={address:address$5,metadata:metadata$5,instructions:instructions$5,accounts:accounts$5,errors:errors$5,types:types$b};const address$4="pFACSRuobDmvfMKq1bAzwj27t6d2GJhSCHb1VcfnRmq",metadata$4={name:"profile_faction",version:"0.7.0",spec:"0.1.0"},instructions$4=[{name:"choose_faction",discriminator:[178,232,68,217,89,112,202,175],accounts:[{name:"key",docs:["The key with auth permissions."],signer:!0},{name:"funder",docs:["The funder for the transaction."],writable:!0,signer:!0},{name:"profile",docs:["The profile to change faction for."]},{name:"faction",docs:["The faction to change to."],writable:!0},{name:"system_program",docs:["The system program."]}],args:[{name:"key_index",type:"u16"},{name:"faction",type:{defined:{name:"Faction"}}}]}],accounts$4=[{name:"ProfileFactionAccount",discriminator:[14,149,119,243,145,240,79,227]}],types$a=[{name:"Faction",docs:["A faction that a player can belong to."],type:{kind:"enum",variants:[{name:"Unaligned"},{name:"MUD"},{name:"ONI"},{name:"Ustur"}]}},{name:"ProfileFactionAccount",docs:["Stores a profile's enlisted faction on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this faction enlistment is for."],type:"pubkey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}}];var factionProfileIDL={address:address$4,metadata:metadata$4,instructions:instructions$4,accounts:accounts$4,types:types$a};const address$3="SAGE2HAwep459SNq61LHvjxPk4pLPEJLoMETef7f7EE",metadata$3={name:"sage",version:"0.1.0",spec:"0.1.0"},instructions$3=[{name:"activate_game_state",discriminator:[134,227,46,21,85,120,113,131],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"],writable:!0}]},{name:"game_state",docs:["The [`GameState`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"ManageGameInput"}}}]},{name:"add_connection",discriminator:[40,6,69,0,230,150,215,41],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for adding the connection"],writable:!0,signer:!0},{name:"sector1",docs:["The first connected sector"],writable:!0},{name:"sector2",docs:["The second connected sector"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"sub_coordinates1",type:{array:["i64",2]}},{name:"flags1",type:"u8"},{name:"sub_coordinates2",type:{array:["i64",2]}},{name:"flags2",type:"u8"},{name:"key_index",type:"u16"}]},{name:"add_crew_to_game",discriminator:[39,179,114,201,45,52,82,142],accounts:[{name:"sage_player_profile",docs:["The [`SagePlayerProfile`] account"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"sage_crew_config",docs:["The [`SageCrewConfig`] Account"]},{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"crew_config",docs:["The crew program `CrewConfig` account"]},{name:"crew_owner",docs:["The crew owner"],signer:!0},{name:"crew_delegate",docs:["The crew delegate"]},{name:"log_wrapper",docs:["The log wrapper"]},{name:"compression_program",docs:["The compression program"]},{name:"bubblegum_program",docs:["The bubblegum program"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"AddCrewInput"}}}]},{name:"add_rental",discriminator:[213,113,170,123,187,90,28,115],accounts:[{name:"owner_profile",docs:["The fleet owner's profile."]},{name:"owner_key",docs:["The key on the owner profile with renting permissions."],signer:!0},{name:"invalidator",docs:["The fleet rental invalidator - this is a signer to help make sure the fleet won't be locked."],signer:!0},{name:"sub_profile",docs:["The profile to rent to."]},{name:"fleet",docs:["The fleet to rent out."],writable:!0},{name:"game_id",docs:["The [`Game`] account"]},{name:"sub_profile_faction",docs:["The faction that the sub_profile belongs to."]}],args:[{name:"owner_key_index",type:"u16"}]},{name:"add_ship_escrow",discriminator:[186,19,218,150,167,181,212,89],accounts:[{name:"funder",docs:["The funder - pays for account rent"],writable:!0,signer:!0},{name:"sage_player_profile",docs:["The [`SagePlayerProfile`] account"],writable:!0},{name:"origin_token_account",docs:["The Origin Token Account"],writable:!0},{name:"ship",docs:["The [`Ship`] Account"]},{name:"ship_escrow_token_account",docs:["The Escrow Token Account"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"token_program",docs:["The Token Program"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"AddShipEscrowInput"}}}]},{name:"add_ship_to_fleet",discriminator:[237,166,153,72,122,179,220,78],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"funder",docs:["The funder for the new `Fleet`"],writable:!0,signer:!0},{name:"fleet_ships",docs:["The [`FleetShips`] account"],writable:!0},{name:"ship",docs:["The [`Ship`] Account"]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"AddShipToFleetInput"}}}]},{name:"burn_crafting_consumables",discriminator:[13,225,203,91,54,232,126,170],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account"]},{name:"crafting_process",docs:["The crafting process account"],writable:!0},{name:"crafting_facility",docs:["The crafting facility account"]},{name:"crafting_recipe",docs:["The crafting recipe"]},{name:"game_accounts",accounts:[{name:"game_id",docs:["The [`Game`] account"]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"token_from",docs:["The source account of the tokens - owner should be `crafting_process`"],writable:!0},{name:"token_mint",docs:["The token mint"],writable:!0},{name:"crafting_program",docs:["The Crafting Program"]},{name:"token_program",docs:["The [Token] program"]}],args:[{name:"input",type:{defined:{name:"IngredientIndexInput"}}}]},{name:"cancel_crafting_process",discriminator:[215,30,129,128,91,231,249,78],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account to cancel"],writable:!0},{name:"crafting_process",docs:["The crafting process account"],writable:!0},{name:"crafting_facility",docs:["The `CraftingFacility` account"],writable:!0},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"crafting_program",docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"change_rental",discriminator:[107,122,221,24,12,249,70,193],accounts:[{name:"sub_profile_invalidator",docs:["The fleet rental invalidator"],signer:!0},{name:"new_sub_profile",docs:["The new sub profile"]},{name:"fleet",docs:["The fleet"],writable:!0},{name:"game_id",docs:["The [`Game`] account"]},{name:"sub_profile_faction",docs:["The faction that the sub_profile belongs to."]}],args:[]},{name:"claim_crafting_non_consumables",discriminator:[18,145,170,128,59,241,83,136],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account"]},{name:"crafting_process",docs:["The crafting process account"],writable:!0},{name:"crafting_facility",docs:["The crafting facility account"]},{name:"crafting_recipe",docs:["The crafting recipe"]},{name:"cargo_pod_to",docs:["The destination cargo pod account"],writable:!0},{name:"cargo_type",docs:["The Cargo Type Account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"game_accounts",accounts:[{name:"game_id",docs:["The [`Game`] account"]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"token_from",docs:["The source account of the tokens - owner should be `crafting_process`"],writable:!0},{name:"token_to",docs:["The destination account of the tokens - owner should be `cargo_pod_to`"],writable:!0},{name:"token_mint",docs:["The token mint"],writable:!0},{name:"crafting_program",docs:["The Crafting Program"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["The [Token] program"]}],args:[{name:"input",type:{defined:{name:"IngredientIndexInput"}}}]},{name:"claim_crafting_outputs",discriminator:[215,71,59,28,156,93,188,255],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account"]},{name:"crafting_process",docs:["The [`CraftingProcess`] account"],writable:!0},{name:"crafting_facility",docs:["The crafting facility account"]},{name:"crafting_recipe",docs:["The crafting [`Recipe`]"]},{name:"craftable_item",docs:["The craftable item"]},{name:"cargo_pod_to",docs:["The destination cargo pod account"],writable:!0},{name:"cargo_type",docs:["The Cargo Type Account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"game_accounts",accounts:[{name:"game_id",docs:["The [`Game`] account"]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"token_from",docs:["The source account of the tokens - owner should be `craftable_item`"],writable:!0},{name:"token_to",docs:["The destination account of the tokens - owner should be `cargo_pod_to`"],writable:!0},{name:"crafting_program",docs:["The Crafting Program"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["The [Token] program"]}],args:[{name:"input",type:{defined:{name:"IngredientIndexInput"}}}]},{name:"close_crafting_process",discriminator:[202,21,225,156,15,4,106,93],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account to close"],writable:!0},{name:"crafting_process",docs:["The crafting process account"],writable:!0},{name:"crafting_recipe",docs:["The crafting recipe account"]},{name:"crafting_facility",docs:["The `CraftingFacility` account"],writable:!0},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"crafting_xp_accounts",accounts:[{name:"user_points_account",docs:["The User Points Account"],writable:!0},{name:"points_category",docs:["The Points Category Account"]},{name:"points_modifier_account",docs:["The Points Modifier Account"]}]},{name:"council_rank_xp_accounts",accounts:[{name:"user_points_account",docs:["The User Points Account"],writable:!0},{name:"points_category",docs:["The Points Category Account"]},{name:"points_modifier_account",docs:["The Points Modifier Account"]}]},{name:"progression_config",docs:["The [`ProgressionConfig`] account"]},{name:"points_program",docs:["The points program"]},{name:"crafting_program",docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"close_disbanded_fleet",discriminator:[214,150,149,156,245,123,37,165],accounts:[{name:"key",docs:["The key on the player profile."],signer:!0},{name:"player_profile",docs:["The player profile."]},{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"disbanded_fleet",docs:["The [`DisbandedFleet`] account"],writable:!0},{name:"fleet_ships",docs:["The [`FleetShips`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"CloseDisbandedFleetInput"}}}]},{name:"close_fleet_cargo_pod_token_account",discriminator:[78,124,247,163,148,253,142,68],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"cargo_pod",docs:["The cargo pod, owned by the fleet"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"token",docs:["The destination token account - owned by the `cargo_pod`"],writable:!0},{name:"token_mint",docs:["The mint of the token accounts"],writable:!0},{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"close_player_crew_record",discriminator:[66,232,19,108,180,192,18,233],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"crew_record",docs:["The [`PlayerCrewRecord`] account"],writable:!0},{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"crew_config",docs:["The [`SageCrewConfig`] Account"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"close_starbase_cargo_token_account",discriminator:[97,164,98,158,180,195,251,80],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"cargo_pod",docs:["The new cargo pod"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"token",docs:["The source token account - owned by the `cargo_pod`"],writable:!0},{name:"token_mint",docs:["The mint of the token accounts"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"close_upgrade_process",discriminator:[214,132,138,123,136,17,89,82],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"resource_crafting_instance",docs:["The [`CraftingInstance`] account to close"],writable:!0},{name:"resource_crafting_process",docs:["The crafting process account"],writable:!0},{name:"resource_recipe",docs:["The crafting recipe for the upgrade resource"]},{name:"resource_crafting_facility",docs:["The `CraftingFacility` account"],writable:!0},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"crafting_program",docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"complete_starbase_upgrade",discriminator:[143,92,192,249,21,108,173,81],accounts:[{name:"funder",docs:["The funder for the new crafting process"],writable:!0,signer:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"],writable:!0},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"crafting_facility",docs:["The `CraftingFacility` account for crafting at this `Starbase`"],writable:!0},{name:"upgrade_facility",docs:["The `CraftingFacility` account for starbase upgrades"]},{name:"upgrade_recipe",docs:["The crafting recipe for the starbase upgrade"]},{name:"new_recipe_category",docs:["The crafting recipe category for the next `Starbase` level"]},{name:"crafting_domain",docs:["The crafting domain"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"crafting_program",docs:["The Crafting Program"]},{name:"system_program",docs:["Solana System program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"copy_game_state",discriminator:[95,77,254,162,248,168,17,16],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for the new `GameState`"],writable:!0,signer:!0},{name:"old_game_state",docs:["The old [`GameState`] account"]},{name:"new_game_state",docs:["The [`GameState`] account","This will and should fail if there already exists a `GameState`for the desired `update_id`"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"input",type:{defined:{name:"ManageGameInput"}}}]},{name:"create_cargo_pod",discriminator:[143,62,133,80,133,83,167,17],accounts:[{name:"funder",docs:["The funder for the new crafting process"],writable:!0,signer:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargo_pod",docs:["The new cargo pod"],writable:!0},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"system_program",docs:["The system program"]}],args:[{name:"input",type:{defined:{name:"StarbaseCreateCargoPodInput"}}}]},{name:"create_certificate_mint",discriminator:[173,190,45,116,34,109,34,89],accounts:[{name:"funder",docs:["The funder for the new crafting process"],writable:!0,signer:!0},{name:"starbase",docs:["The Starbase to create a certificate mint for"]},{name:"cargo_mint",docs:["The mint to create a certificate mint for"]},{name:"certificate_mint",docs:["The new certificate mint"],writable:!0},{name:"cargo_type",docs:["The cargo type to associated with the `cargo_mint`","Included to ensure that this instruction can only be called for valid cargo types"]},{name:"rent",docs:["The rent sysvar"]},{name:"token_program",docs:["The token program"]},{name:"system_program",docs:["The system program"]}],args:[]},{name:"create_crafting_process",discriminator:[54,25,3,71,90,215,99,108],accounts:[{name:"funder",docs:["The funder for the new crafting process"],writable:!0,signer:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account to initialize"],writable:!0},{name:"crafting_facility",docs:["The `CraftingFacility` account"],writable:!0},{name:"crafting_process",docs:["The crafting process account (NOT initialized)"],writable:!0},{name:"crafting_recipe",docs:["The crafting recipe"]},{name:"crafting_domain",docs:["The crafting domain"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"crafting_program",docs:["The Crafting Program"]},{name:"system_program",docs:["Solana System program"]}],args:[{name:"input",type:{defined:{name:"StarbaseCreateCraftingProcessInput"}}}]},{name:"create_fleet",discriminator:[76,123,81,82,235,228,156,203],accounts:[{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"funder",docs:["The funder for the new `Fleet`"],writable:!0,signer:!0},{name:"fleet",docs:["The [`Fleet`] account"],writable:!0},{name:"fleet_ships",docs:["The [`FleetShips`] account"],writable:!0},{name:"cargo_hold",docs:["The new fleet `cargo_hold` cargo pod (not initialized)"],writable:!0},{name:"fuel_tank",docs:["The new fleet `fuel_tank` cargo pod (not initialized)"],writable:!0},{name:"ammo_bank",docs:["The new fleet `ammo_bank` cargo pod (not initialized)"],writable:!0},{name:"ship",docs:["The [`Ship`] Account - represents the first ship in the new fleet"]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"CreateFleetInput"}}}]},{name:"create_starbase_upgrade_resource_process",discriminator:[29,5,202,253,183,7,4,44],accounts:[{name:"funder",docs:["The funder for the new crafting process"],writable:!0,signer:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account to initialize"],writable:!0},{name:"upgrade_facility",docs:["The `CraftingFacility` account"],writable:!0},{name:"crafting_process",docs:["The crafting process account (NOT initialized)"],writable:!0},{name:"crafting_recipe",docs:["The crafting recipe"]},{name:"crafting_domain",docs:["The crafting domain"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"crafting_program",docs:["The Crafting Program"]},{name:"system_program",docs:["Solana System program"]}],args:[{name:"input",type:{defined:{name:"StarbaseCreateCraftingProcessInput"}}}]},{name:"deposit_cargo_to_fleet",discriminator:[55,235,105,123,0,253,64,237],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargo_pod_from",docs:["The origin cargo pod"],writable:!0},{name:"cargo_pod_to",docs:["The destination cargo pod"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"token_from",docs:["The source token account - owned by the `cargo_pod_from`"],writable:!0},{name:"token_to",docs:["The destination token account - owned by the `cargo_pod_to`"],writable:!0},{name:"token_mint",docs:["The mint of the token accounts"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"DepositCargoToFleetInput"}}}]},{name:"deposit_cargo_to_game",discriminator:[87,49,117,148,241,247,176,18],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargo_pod",docs:["The new cargo pod"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"token_from",docs:["The source token account - owned by the `key`"],writable:!0},{name:"token_to",docs:["The destination token account - owned by the `cargo_pod`"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"CargoToGameInput"}}}]},{name:"deposit_crafting_ingredient",discriminator:[32,35,145,213,56,255,209,156],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account"]},{name:"crafting_facility",docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"crafting_process",docs:["The crafting process account"],writable:!0},{name:"cargo_pod_from",docs:["The source cargo pod account"],writable:!0},{name:"crafting_recipe",docs:["The crafting recipe"]},{name:"cargo_type",docs:["The Cargo Type Account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"token_from",docs:["The source account of the tokens - owner should be `cargo_pod_from`"],writable:!0},{name:"token_to",docs:["The destination account of the tokens - owner should be `crafting_process`"],writable:!0},{name:"crafting_program",docs:["The Crafting Program"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["The [Token] program"]}],args:[{name:"input",type:{defined:{name:"StarbaseDepositCraftingIngredientInput"}}}]},{name:"deposit_starbase_upkeep_resource",discriminator:[176,160,11,250,34,66,94,12],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"],writable:!0},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargo_pod_from",docs:["The source cargo pod account"],writable:!0},{name:"cargo_type",docs:["The Cargo Type Account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"token_from",docs:["The source account of the tokens - owner should be `cargo_pod_from`"],writable:!0},{name:"token_mint",docs:["The token mint"],writable:!0},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"resource_recipe",docs:["The crafting recipe for the upkeep resource"]},{name:"loyalty_points_accounts",accounts:[{name:"user_points_account",docs:["The User Points Account"],writable:!0},{name:"points_category",docs:["The Points Category Account"]},{name:"points_modifier_account",docs:["The Points Modifier Account"]}]},{name:"progression_config",docs:["The [`ProgressionConfig`] account"]},{name:"points_program",docs:["The points program"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["The [Token] program"]}],args:[{name:"input",type:{defined:{name:"DepositStarbaseUpkeepResourceInput"}}}]},{name:"deregister_mine_item",discriminator:[21,186,168,200,84,195,41,73],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funds_to",docs:["Where the closing funds go."],writable:!0},{name:"mine_item",docs:["The [`MineItem`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"deregister_progression_config",discriminator:[249,174,242,187,139,219,47,118],accounts:[{name:"funds_to",docs:["Where the closing funds go."],writable:!0},{name:"progression_config",docs:["The [`ProgressionConfig`] account"],writable:!0},{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"deregister_resource",discriminator:[57,140,148,246,8,89,23,34],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funds_to",docs:["Where the closing funds go."],writable:!0},{name:"mine_item",docs:["The [`MineItem`] account"],writable:!0},{name:"resource",docs:["The [`Resource`] account"],writable:!0},{name:"location",docs:["The Location address"],writable:!0}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"deregister_starbase",discriminator:[100,66,210,187,110,199,211,107],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funds_to",docs:["Where the closing funds go."],writable:!0},{name:"starbase",docs:["The [`Starbase`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"deregister_survey_data_unit_tracker",discriminator:[255,33,61,120,136,119,184,235],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funds_to",docs:["Where the closing funds go."],writable:!0},{name:"survey_data_unit_tracker",docs:["The [`SurveyDataUnitTracker`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"DeregisterSurveyDataUnitTrackerInput"}}}]},{name:"disband_fleet",discriminator:[39,139,14,85,45,16,215,152],accounts:[{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"funder",docs:["The funder - pays for account rent"],writable:!0,signer:!0},{name:"disbanded_fleet",docs:["The [`DisbandedFleet`] account"],writable:!0},{name:"fleet",docs:["The [`Fleet`] account","The fleet can only be disbanded by the `owner_profile` and not `sub_profile`","Fleet cannot be disbanded while rented"],writable:!0},{name:"fleet_ships",docs:["The [`FleetShips`] account"],writable:!0},{name:"cargo_hold",docs:["The fleet `cargo_hold` cargo pod"],writable:!0},{name:"fuel_tank",docs:["The fleet `fuel_tank` cargo pod"],writable:!0},{name:"ammo_bank",docs:["The fleet `ammo_bank` cargo pod"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"DisbandFleetInput"}}}]},{name:"disbanded_fleet_to_escrow",discriminator:[165,90,71,222,155,7,14,121],accounts:[{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"funder",docs:["The funder - pays for account rent"],writable:!0,signer:!0},{name:"disbanded_fleet",docs:["The [`DisbandedFleet`] account"],writable:!0},{name:"fleet_ships",docs:["The [`FleetShips`] account"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"ship",docs:["The [`Ship`] Account"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"DisbandedFleetToEscrowInput"}}}]},{name:"discover_sector",discriminator:[109,231,231,121,203,44,22,40],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."]}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"funder",docs:["The funder for the new sector"],writable:!0,signer:!0},{name:"sector",docs:["The [`Sector`] account"],writable:!0},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"DiscoverSectorInput"}}}]},{name:"drain_mine_item_bank",discriminator:[221,76,92,127,230,35,41,67],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funds_to",docs:["Where the closing funds go."],writable:!0},{name:"mine_item",docs:["The [`MineItem`] account"],writable:!0},{name:"token_from",docs:["The mine item token bank to drain"],writable:!0},{name:"token_to",docs:["Where to send tokens from the bank"],writable:!0},{name:"token_program",docs:["The [Token] program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"drain_survey_data_units_bank",discriminator:[227,99,86,55,218,201,96,208],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funds_to",docs:["Where the closing rent refunds go."],writable:!0},{name:"survey_data_unit_tracker",docs:["The [`SurveyDataUnitTracker`] account"]},{name:"survey_data_unit_tracker_signer",docs:["The `SurveyDataUnitTracker` signer"]},{name:"token_from",docs:["The SDU token bank to drain"],writable:!0},{name:"token_to",docs:["Where to send tokens from the bank"],writable:!0},{name:"token_program",docs:["The [Token] program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"fleet_state_handler",discriminator:[114,77,252,27,52,161,2,156],accounts:[{name:"fleet",docs:["The fleet."],writable:!0}],args:[]},{name:"force_disband_fleet",discriminator:[18,245,53,119,155,57,1,78],accounts:[{name:"funder",docs:["The funder - pays for account rent"],writable:!0,signer:!0},{name:"disbanded_fleet",docs:["The new [`DisbandedFleet`] account"],writable:!0},{name:"fleet",docs:["The [`Fleet`] account"],writable:!0},{name:"fleet_ships",docs:["The [`FleetShips`] account"],writable:!0},{name:"cargo_hold",docs:["The fleet `cargo_hold` cargo pod"],writable:!0},{name:"fuel_tank",docs:["The fleet `fuel_tank` cargo pod"],writable:!0},{name:"ammo_bank",docs:["The fleet `ammo_bank` cargo pod"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"ship",docs:["The [`Ship`]","Must provide at least one ship that is invalid for this instruction"]},{name:"game_accounts",accounts:[{name:"game_id",docs:["The [`Game`] account"]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"ForcedDisbandFleetInput"}}}]},{name:"force_drop_fleet_cargo",discriminator:[170,120,191,46,255,195,80,221],accounts:[{name:"fleet",docs:["The `Fleet` Account"],writable:!0},{name:"fleet_ships",docs:["The [`FleetShips`] account"],writable:!0},{name:"cargo_pod",docs:["The origin cargo pod"],writable:!0},{name:"cargo_type",docs:["The `cargo_type` for the token"]},{name:"cargo_stats_definition",docs:["The cargo stats definition"]},{name:"game_id",docs:["The [`Game`] account"]},{name:"token_from",docs:["The source token account - owned by the `cargo_pod`"],writable:!0},{name:"token_mint",docs:["The mint of the token account"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[]},{name:"idle_to_loading_bay",discriminator:[227,46,4,74,151,248,41,131],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]}],args:[{name:"key_index",type:"u16"}]},{name:"idle_to_respawn",discriminator:[235,207,200,174,161,116,91,168],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"atlas_token_from",docs:["Source Token account for ATLAS, owned by the player"],writable:!0},{name:"atlas_token_to",docs:["Vault Token account for ATLAS"],writable:!0},{name:"token_program",docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:{name:"IdleToRespawnInput"}}}]},{name:"init_game",discriminator:[251,46,12,208,184,148,157,73],accounts:[{name:"signer",docs:["The entity calling this instruction"],writable:!0,signer:!0},{name:"profile",docs:["The sector permissions [`Profile`]"]},{name:"funder",docs:["The funder for the new game"],writable:!0,signer:!0},{name:"game_id",docs:["The [`Game`] account"],writable:!0,signer:!0},{name:"system_program",docs:["The system program"]}],args:[]},{name:"init_game_state",discriminator:[236,199,44,86,12,134,36,120],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for the new `GameState`"],writable:!0,signer:!0},{name:"game_state",docs:["The [`GameState`] account"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"input",type:{defined:{name:"InitGameStateInput"}}}]},{name:"invalidate_rental",discriminator:[180,183,106,153,255,8,232,178],accounts:[{name:"sub_profile_invalidator",docs:["The fleet rental invalidator"],signer:!0},{name:"fleet",docs:["The fleet"],writable:!0}],args:[]},{name:"invalidate_ship",discriminator:[8,7,115,86,246,67,87,148],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"],writable:!0}]},{name:"ship",docs:["The current [`Ship`] account"],writable:!0}],args:[{name:"key_index",type:"u16"}]},{name:"load_fleet_crew",discriminator:[39,9,212,218,167,107,137,208],accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:{name:"FleetCrewInput"}}}]},{name:"loading_bay_to_idle",discriminator:[13,80,226,63,24,172,190,87],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]}],args:[{name:"key_index",type:"u16"}]},{name:"mine_asteroid_to_respawn",discriminator:[208,63,135,108,218,252,36,0],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"resource",docs:["The [`Resource`] account"],writable:!0},{name:"planet",docs:["The [`Planet`] account"],writable:!0},{name:"atlas_token_from",docs:["Source Token account for ATLAS, owned by the player"],writable:!0},{name:"atlas_token_to",docs:["Vault Token account for ATLAS"],writable:!0},{name:"token_program",docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:{name:"MineAsteroidToRespawnInput"}}}]},{name:"mint_certificate",discriminator:[53,2,104,84,51,197,179,10],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"cargo_mint",docs:["The mint of the cargo in question"]},{name:"certificate_mint",docs:["The cargo certificate mint"],writable:!0},{name:"certificate_token_to",docs:["The token account where certificates are minted to"],writable:!0},{name:"cargo_token_from",docs:["The source token account for the cargo - owned by the `cargo_pod`"],writable:!0},{name:"cargo_token_to",docs:["The destination token account for the cargo - owned by the Starbase"],writable:!0},{name:"cargo_pod",docs:["The cargo pod to take from"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["The token program"]}],args:[{name:"key_index",type:"u16"},{name:"amount",type:"u64"}]},{name:"mint_crew_to_game",discriminator:[64,222,94,243,149,65,54,132],accounts:[{name:"sage_player_profile",docs:["The [`SagePlayerProfile`] account"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"sage_crew_config",docs:["The [`SageCrewConfig`] Account"]},{name:"crew_config",docs:["The crew program `CrewConfig` account"]},{name:"instructions_sysvar",docs:["Solana Instructions Sysvar"]}],args:[]},{name:"redeem_certificate",discriminator:[212,241,133,172,137,83,49,177],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"cargo_mint",docs:["The mint of the cargo in question"]},{name:"certificate_mint",docs:["The cargo certificate mint"],writable:!0},{name:"certificate_owner_authority",docs:["Owner of the certificates"],signer:!0},{name:"certificate_token_from",docs:["The source token account for the cargo certificate - owned by the `certificate_owner_authority`"],writable:!0},{name:"cargo_token_from",docs:["The source token account for the cargo - owned by the Starbase"],writable:!0},{name:"cargo_token_to",docs:["The destination token account for the cargo - owned by the `cargo_pod`"],writable:!0},{name:"cargo_pod",docs:["The cargo pod to send to"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["The token program"]}],args:[{name:"key_index",type:"u16"},{name:"amount",type:"u64"}]},{name:"register_mine_item",discriminator:[54,173,58,74,128,116,109,20],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for the new mine item"],writable:!0,signer:!0},{name:"mine_item",docs:["The [`MineItem`] account"],writable:!0},{name:"mint",docs:["The mint address representing the mine item"],writable:!0},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RegisterMineItemInput"}}}]},{name:"register_planet",discriminator:[213,91,78,118,207,133,98,238],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for the new game"],writable:!0,signer:!0},{name:"planet",docs:["The [`Planet`] account"],writable:!0,signer:!0},{name:"sector",docs:["The [`Sector`] account"],writable:!0},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RegisterPlanetInput"}}}]},{name:"register_progression_config",discriminator:[21,65,0,240,76,135,85,219],accounts:[{name:"funder",docs:["The funder for the new star base"],writable:!0,signer:!0},{name:"progression_config",docs:["The [`ProgressionConfig`] account"],writable:!0},{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RegisterProgressionConfigInput"}}}]},{name:"register_resource",discriminator:[87,209,164,28,6,82,232,214],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for the new resource"],writable:!0,signer:!0},{name:"resource",docs:["The [`Resource`] account"],writable:!0},{name:"location",docs:["The Location address"],writable:!0},{name:"mine_item",docs:["The [`MineItem`] account"],writable:!0},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RegisterResourceInput"}}}]},{name:"register_sage_crew_config",discriminator:[221,144,125,158,28,25,186,209],accounts:[{name:"funder",docs:["The funder for the new star base"],writable:!0,signer:!0},{name:"sage_crew_config",docs:["The [`SageCrewConfig`] account"],writable:!0},{name:"config",docs:["The crew config"]},{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"register_sage_player_profile",discriminator:[88,142,218,149,75,77,228,156],accounts:[{name:"profile",docs:["The player permissions [`Profile`]"]},{name:"funder",docs:["The funder for the new profile"],writable:!0,signer:!0},{name:"sage_player_profile",docs:["The `SagePlayerProfile` account"],writable:!0},{name:"game_accounts",accounts:[{name:"game_id",docs:["The [`Game`] account"]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"system_program",docs:["The Solana System program"]}],args:[]},{name:"register_sage_point_modifier",discriminator:[212,251,164,180,158,19,173,22],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder - pays for account rent"],writable:!0,signer:!0},{name:"points_category",docs:["The `PointCategory`"]},{name:"points_modifier",docs:["The `PointsModifier` account to be created in Points CPI"],writable:!0},{name:"points_program",docs:["The points program"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RegisterSagePointsModifierInput"}}}]},{name:"register_sector",discriminator:[55,57,58,192,36,235,36,109],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for the new sector"],writable:!0,signer:!0},{name:"discoverer",docs:["The discoverer of this sector"]},{name:"sector",docs:["The [`Sector`] account"],writable:!0},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"coordinates",type:{array:["i64",2]}},{name:"name",type:{array:["u8",64]}},{name:"key_index",type:"u16"}]},{name:"register_ship",discriminator:[6,51,127,92,57,76,176,165],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for the new game"],writable:!0,signer:!0},{name:"ship",docs:["The [`Ship`] account"],writable:!0,signer:!0},{name:"mint",docs:["The mint address representing the [`Ship`]"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RegisterShipInput"}}}]},{name:"register_star",discriminator:[15,25,105,234,177,215,147,191],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder - pays for account rent"],writable:!0,signer:!0},{name:"star",docs:["The [`Star`] account"],writable:!0,signer:!0},{name:"sector",docs:["The [`Sector`] account"],writable:!0},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RegisterStarInput"}}}]},{name:"register_starbase",discriminator:[105,33,36,138,165,181,51,57],accounts:[{name:"funder",docs:["The funder for the new star base"],writable:!0,signer:!0},{name:"starbase",docs:["The [`Starbase`] account"],writable:!0},{name:"sector",docs:["The [`Sector`] account"]},{name:"game_state_and_profile",accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RegisterStarbaseInputUnpacked"}}}]},{name:"register_starbase_player",discriminator:[60,18,158,19,208,147,83,226],accounts:[{name:"funder",docs:["The funder -- pays account rent"],writable:!0,signer:!0},{name:"game_accounts",accounts:[{name:"game_id",docs:["The [`Game`] account"]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"sage_player_profile",docs:["The [`SagePlayerProfile`] account"]},{name:"profile_faction",docs:["The faction that the player belongs to."]},{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] account to initialize"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[]},{name:"register_survey_data_unit_tracker",discriminator:[208,72,99,63,0,214,40,155],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for the new `SurveyDataUnitTracker`"],writable:!0,signer:!0},{name:"survey_data_unit_tracker",docs:["The [`SurveyDataUnitTracker`] account"],writable:!0,signer:!0},{name:"sdu_mint",docs:["The Survey Data Unit Mint"]},{name:"resource_mint",docs:["The mint of the resource spent when scanning for SDUs"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RegisterSurveyDataUnitTrackerInput"}}}]},{name:"remove_cargo_pod",discriminator:[216,23,78,104,239,43,8,3],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargo_pod",docs:["The cargo pod (should be empty)"],writable:!0},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"system_program",docs:["The system program"]}],args:[{name:"input",type:{defined:{name:"StarbaseRemoveCargoPodInput"}}}]},{name:"remove_connection",discriminator:[200,145,119,103,85,190,120,138],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funds_to",docs:["Where the rent refund funds from the connections go to."],writable:!0},{name:"sector1",docs:["The first sector to remove from"],writable:!0},{name:"sector2",docs:["The second sector to remove from"],writable:!0},{name:"system_program",docs:["The system program"]}],args:[{name:"sector1_index",type:"u16"},{name:"sector2_index",type:"u16"},{name:"key_index",type:"u16"}]},{name:"remove_crew_from_game",discriminator:[242,139,76,15,23,182,100,117],accounts:[{name:"sage_player_profile",docs:["The [`SagePlayerProfile`] account"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"sage_crew_config",docs:["The [`SageCrewConfig`] Account"]},{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"crew_config",docs:["The crew program `CrewConfig` account"]},{name:"new_crew_owner",docs:["The new crew owner"]},{name:"crew_delegate",docs:["The crew delegate"]},{name:"log_wrapper",docs:["The log wrapper"]},{name:"compression_program",docs:["The compression program"]},{name:"bubblegum_program",docs:["The bubblegum program"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RemoveCrewInput"}}}]},{name:"remove_invalid_ship_escrow",discriminator:[248,15,16,197,13,248,39,0],accounts:[{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"sage_player_profile",docs:["The [`SagePlayerProfile`] account"],writable:!0},{name:"destination_token_account",docs:["The Destination Token Account"],writable:!0},{name:"ship",docs:["The [`Ship`] Account"]},{name:"ship_escrow_token_account",docs:["The Escrow Token Account"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"token_program",docs:["The Token Program"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RemoveShipEscrowInput"}}}]},{name:"remove_ship_escrow",discriminator:[67,4,108,161,186,106,125,52],accounts:[{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"sage_player_profile",docs:["The [`SagePlayerProfile`] account"],writable:!0},{name:"destination_token_account",docs:["The Destination Token Account"],writable:!0},{name:"ship",docs:["The [`Ship`] Account"]},{name:"ship_escrow_token_account",docs:["The Escrow Token Account"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"token_program",docs:["The Token Program"]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"RemoveShipEscrowInput"}}}]},{name:"respawn_to_loading_bay",discriminator:[105,196,139,238,13,70,125,226],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"cargo_hold",docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuel_tank",docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammo_bank",docs:["The fleet `ammo_bank` cargo pod"]}],args:[{name:"input",type:{defined:{name:"RespawnToLoadingBayInput"}}}]},{name:"scan_for_survey_data_units",discriminator:[84,102,234,1,126,136,186,147],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"survey_data_unit_tracker",docs:["The [`SurveyDataUnitTracker`] account"]},{name:"survey_data_unit_tracker_signer",docs:["The `SurveyDataUnitTracker` signer"]},{name:"cargo_hold",docs:["The general cargo hold cargo pod for the fleet"],writable:!0},{name:"sector",docs:["The [`Sector`] account"],writable:!0},{name:"sdu_token_from",docs:["Source token account for the SDU, owned by `survey_data_unit_tracker_signer`"],writable:!0},{name:"sdu_token_to",docs:["Destination token account for the SDU, owned by cargo_hold"],writable:!0},{name:"resource_token_from",docs:["Token account for `resource_mint`, owned by fleet"],writable:!0},{name:"resource_mint",docs:["The resource that is spent when scanning for Survey Data Units"],writable:!0},{name:"sdu_cargo_type",docs:["The cargo type of the SDU"]},{name:"resource_cargo_type",docs:["The cargo type of `resource_mint`"]},{name:"cargo_stats_definition",docs:["The cargo stats definition"]},{name:"data_running_xp_accounts",accounts:[{name:"user_points_account",docs:["The User Points Account"],writable:!0},{name:"points_category",docs:["The Points Category Account"]},{name:"points_modifier_account",docs:["The Points Modifier Account"]}]},{name:"council_rank_xp_accounts",accounts:[{name:"user_points_account",docs:["The User Points Account"],writable:!0},{name:"points_category",docs:["The Points Category Account"]},{name:"points_modifier_account",docs:["The Points Modifier Account"]}]},{name:"progression_config",docs:["The [`ProgressionConfig`] account"]},{name:"points_program",docs:["The points program"]},{name:"cargo_program",docs:["The cargo program"]},{name:"token_program",docs:["The token program"]},{name:"instructions_sysvar",docs:["Solana Instructions Sysvar"]},{name:"recent_slothashes",docs:["Solana recent slothashes"]}],args:[{name:"input",type:{defined:{name:"ScanForSurveyDataUnitsInput"}}}]},{name:"set_next_ship",discriminator:[184,239,118,237,92,169,177,174],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"ship",docs:["The current [`Ship`] account"],writable:!0},{name:"next_ship",docs:["The next [`Ship`] account"],writable:!0}],args:[{name:"key_index",type:"u16"}]},{name:"start_crafting_process",discriminator:[64,108,109,62,9,128,138,246],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account"]},{name:"crafting_process",docs:["The [`CraftingProcess`] account"],writable:!0},{name:"crafting_recipe",docs:["The crafting [`Recipe`]"],writable:!0},{name:"crafting_facility",docs:["The `CraftingFacility` account"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"crafting_program",docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"start_mining_asteroid",discriminator:[186,215,80,30,174,226,211,33],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"fleet_fuel_token_account",docs:["The fleet fuel token account - owned by the `fuel_tank`"]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"mine_item",docs:["The [`MineItem`] account"]},{name:"resource",docs:["The [`Resource`] account"],writable:!0},{name:"planet",docs:["The [`Planet`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"start_starbase_upgrade",discriminator:[165,225,83,167,158,211,143,205],accounts:[{name:"funder",docs:["The funder for the new crafting process"],writable:!0,signer:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"],writable:!0},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"upgrade_facility",docs:["The `CraftingFacility` account for starbase upgrades"],writable:!0},{name:"upgrade_recipe",docs:["The crafting recipe for the starbase upgrade"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"system_program",docs:["Solana System program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"start_subwarp",discriminator:[192,104,197,40,30,39,155,48],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:{name:"StartSubwarpInput"}}}]},{name:"stop_crafting_process",discriminator:[49,192,172,244,79,44,170,178],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account"]},{name:"crafting_process",docs:["The [`CraftingProcess`] account"],writable:!0},{name:"crafting_recipe",docs:["The crafting [`Recipe`]"],writable:!0},{name:"crafting_facility",docs:["The `CraftingFacility` account"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"crafting_program",docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"stop_mining_asteroid",discriminator:[181,77,45,163,103,27,211,81],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"mine_item",docs:["The [`MineItem`] account"]},{name:"resource",docs:["The [`Resource`] account"],writable:!0},{name:"planet",docs:["The [`Planet`] account"],writable:!0},{name:"fuel_tank",docs:["The fuel tank cargo pod"],writable:!0},{name:"cargo_type",docs:["The cargo type account for fuel"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"token_from",docs:["The source token account - owned by the `fuel_tank`"],writable:!0},{name:"token_mint",docs:["The mint of the token account"],writable:!0},{name:"pilot_xp_accounts",accounts:[{name:"user_points_account",docs:["The User Points Account"],writable:!0},{name:"points_category",docs:["The Points Category Account"]},{name:"points_modifier_account",docs:["The Points Modifier Account"]}]},{name:"mining_xp_accounts",accounts:[{name:"user_points_account",docs:["The User Points Account"],writable:!0},{name:"points_category",docs:["The Points Category Account"]},{name:"points_modifier_account",docs:["The Points Modifier Account"]}]},{name:"council_rank_xp_accounts",accounts:[{name:"user_points_account",docs:["The User Points Account"],writable:!0},{name:"points_category",docs:["The Points Category Account"]},{name:"points_modifier_account",docs:["The Points Modifier Account"]}]},{name:"progression_config",docs:["The [`ProgressionConfig`] account"]},{name:"points_program",docs:["The points program"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"StopMiningAsteroidInput"}}}]},{name:"stop_subwarp",discriminator:[150,58,3,0,6,207,119,46],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:{name:"StopSubwarpInput"}}}]},{name:"submit_starbase_upgrade_resource",discriminator:[53,182,230,232,57,201,167,120],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"],writable:!0},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"resource_crafting_instance",docs:["The [`CraftingInstance`] account"]},{name:"resource_crafting_process",docs:["The crafting process account"],writable:!0},{name:"resource_crafting_facility",docs:["The crafting facility account"]},{name:"upgrade_process_recipe",docs:["The crafting recipe for the submission of resources used in the upgrade process"]},{name:"starbase_upgrade_recipe",docs:["The crafting recipe for the starbase upgrade"]},{name:"resource_recipe",docs:["The crafting recipe for the resource being submitted","i.e. the recipe for crafting the resource whose mint would be `token_mint`"]},{name:"cargo_pod_to",docs:["The destination cargo pod account"],writable:!0},{name:"cargo_type",docs:["The Cargo Type Account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"token_from",docs:["The source account of the tokens - owner should be `crafting_process`"],writable:!0},{name:"token_to",docs:["The destination account of the tokens - owner should be `cargo_pod_to` (receives any refunds)"],writable:!0},{name:"token_mint",docs:["The token mint"],writable:!0},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"loyalty_points_accounts",accounts:[{name:"user_points_account",docs:["The User Points Account"],writable:!0},{name:"points_category",docs:["The Points Category Account"]},{name:"points_modifier_account",docs:["The Points Modifier Account"]}]},{name:"progression_config",docs:["The [`ProgressionConfig`] account"]},{name:"points_program",docs:["The points program"]},{name:"crafting_program",docs:["The Crafting Program"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["The [Token] program"]}],args:[{name:"input",type:{defined:{name:"SubmitStarbaseUpgradeResourceInput"}}}]},{name:"sync_starbase_player",discriminator:[120,94,164,216,167,59,3,204],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"game_accounts",accounts:[{name:"game_id",docs:["The [`Game`] account"]},{name:"game_state",docs:["The [`GameState`] account"]}]}],args:[]},{name:"sync_starbase_upgrade_ingredients",discriminator:[169,253,2,19,46,73,18,220],accounts:[{name:"funder",docs:["The funder for the new crafting process"],writable:!0,signer:!0},{name:"starbase",docs:["The [`Starbase`] account"],writable:!0},{name:"upgrade_recipe",docs:["The crafting recipe for the starbase upgrade"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"system_program",docs:["Solana System program"]}],args:[{name:"input",type:{defined:{name:"KeyIndexInput"}}}]},{name:"transfer_cargo_at_starbase",discriminator:[12,190,166,190,123,119,214,80],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargo_pod_from",docs:["The origin cargo pod"],writable:!0},{name:"cargo_pod_to",docs:["The destination cargo pod"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"token_from",docs:["The source token account - owned by the `cargo_pod_from`"],writable:!0},{name:"token_to",docs:["The destination token account - owned by the `cargo_pod_to`"],writable:!0},{name:"token_mint",docs:["The mint of the token accounts"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"StarbaseTransferCargoInput"}}}]},{name:"transfer_cargo_within_fleet",discriminator:[201,109,41,219,57,52,180,23],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"cargo_pod_from",docs:["The origin cargo pod"],writable:!0},{name:"cargo_pod_to",docs:["The destination cargo pod"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"token_from",docs:["The source token account - owned by the `cargo_pod_from`"],writable:!0},{name:"token_to",docs:["The destination token account - owned by the `cargo_pod_to`"],writable:!0},{name:"token_mint",docs:["The mint of the token accounts"],writable:!0},{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"TransferCargoWithinFleetInput"}}}]},{name:"unload_fleet_crew",discriminator:[103,95,42,85,79,144,71,32],accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:{name:"FleetCrewInput"}}}]},{name:"update_game",discriminator:[159,61,132,131,3,234,209,220],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"],writable:!0}]}],args:[{name:"input",type:{defined:{name:"UpdateGameInput"}}}]},{name:"update_game_state",discriminator:[96,203,129,158,74,22,229,248],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"UpdateGameStateInput"}}}]},{name:"update_mine_item",discriminator:[230,25,137,117,146,86,121,48],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"mine_item",docs:["The [`MineItem`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"UpdateMineItemInput"}}}]},{name:"update_planet",discriminator:[24,44,71,134,31,32,201,178],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"planet",docs:["The [`Planet`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"UpdatePlanetInput"}}}]},{name:"update_progression_config",discriminator:[39,217,150,82,237,214,100,184],accounts:[{name:"progression_config",docs:["The [`ProgressionConfig`] account"],writable:!0},{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"UpdateProgressionConfigInput"}}}]},{name:"update_resource",discriminator:[240,208,156,86,230,216,1,100],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"mine_item",docs:["The [`MineItem`] account"]},{name:"resource",docs:["The [`Resource`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"UpdateResourceInput"}}}]},{name:"update_ship",discriminator:[103,231,36,213,187,72,42,252],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"ship",docs:["The [`Ship`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"UpdateShipInput"}}}]},{name:"update_ship_escrow",discriminator:[173,207,101,247,172,228,39,105],accounts:[{name:"old_ship",docs:["The old [`Ship`] Account"]},{name:"next",docs:["The address indicated as `next` in the `old_ship` account"]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"],writable:!0}]},{name:"game_accounts",accounts:[{name:"game_id",docs:["The [`Game`] account"]},{name:"game_state",docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:{name:"UpdateShipEscrowInput"}}}]},{name:"update_ship_in_fleet",discriminator:[213,83,186,229,179,31,172,253],accounts:[{name:"fleet",docs:["The [`Fleet`] account"],writable:!0},{name:"fleet_ships",docs:["The [`FleetShips`] account"],writable:!0},{name:"old_ship",docs:["The old [`Ship`] Account"]},{name:"next",docs:["The address indicated as `next` in the `old_ship` account"]},{name:"game_accounts",accounts:[{name:"game_id",docs:["The [`Game`] account"]},{name:"game_state",docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:{name:"UpdateShipFleetInput"}}}]},{name:"update_star",discriminator:[145,146,12,86,12,48,39,169],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"star",docs:["The [`Star`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"UpdateStarInput"}}}]},{name:"update_starbase",discriminator:[78,146,104,166,111,146,95,28],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"funder",docs:["The funder for the new game"],writable:!0,signer:!0},{name:"starbase",docs:["The [`Starbase`] account"],writable:!0},{name:"system_program",docs:["The Solana System program"]}],args:[{name:"input",type:{defined:{name:"UpdateStarbaseInput"}}}]},{name:"update_survey_data_unit_tracker",discriminator:[206,27,247,25,221,207,219,35],accounts:[{name:"game_and_profile",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"survey_data_unit_tracker",docs:["The [`SurveyDataUnitTracker`] account"],writable:!0}],args:[{name:"input",type:{defined:{name:"UpdateSurveyDataUnitTrackerInput"}}}]},{name:"warp_lane",discriminator:[232,188,195,49,100,72,231,243],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"from_starbase",docs:["The [`Starbase`] account"]},{name:"to_starbase",docs:["The [`Starbase`] account"]},{name:"from_sector",docs:["The Sector account representing the fleet`s  current sector"]},{name:"to_sector",docs:["The Sector account that `Fleet` will move to"]},{name:"fuel_tank",docs:["The fuel tank cargo pod"],writable:!0},{name:"cargo_type",docs:["The `Cargo Type` Account"]},{name:"stats_definition",docs:["The `CargoStatsDefinition` for the cargo type"]},{name:"fuel_token_from",docs:["The fuel source token account - owned by the `fuel_tank`"],writable:!0},{name:"fuel_mint",docs:["Token Mint - The fuel mint"],writable:!0},{name:"fee_token_from",docs:["The fee source token account"],writable:!0},{name:"fee_token_to",docs:["The fee destination token account"],writable:!0},{name:"fee_mint",docs:["Fee Token Mint"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"WarpLaneInput"}}}]},{name:"warp_to_coordinate",discriminator:[87,60,50,154,241,106,77,23],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"fuel_tank",docs:["The fuel tank cargo pod"],writable:!0},{name:"cargo_type",docs:["The cargo type account for fuel"]},{name:"stats_definition",docs:["The cargo stats definition account"]},{name:"token_from",docs:["The source token account - owned by the `fuel_tank`"],writable:!0},{name:"token_mint",docs:["Token Mint - The fuel mint"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"WarpToCoordinateInput"}}}]},{name:"withdraw_cargo_from_fleet",discriminator:[5,163,128,233,108,81,31,56],accounts:[{name:"game_accounts_fleet_and_owner",accounts:[{name:"game_fleet_and_owner",accounts:[{name:"fleet_and_owner",accounts:[{name:"key",docs:["The key on the profile."],signer:!0},{name:"owning_profile",docs:["The profile that owns the fleet."]},{name:"owning_profile_faction",docs:["The faction that the profile belongs to."]},{name:"fleet",docs:["The fleet."],writable:!0}]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargo_pod_from",docs:["The origin cargo pod, owned by the fleet"],writable:!0},{name:"cargo_pod_to",docs:["The destination cargo pod, owned by the Starbase player"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"token_from",docs:["The source token account - owned by the `cargo_pod_from`"],writable:!0},{name:"token_to",docs:["The destination token account - owned by the `cargo_pod_to`"],writable:!0},{name:"token_mint",docs:["The mint of the token accounts"],writable:!0},{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"WithdrawCargoFromFleetInput"}}}]},{name:"withdraw_cargo_from_game",discriminator:[102,218,88,53,255,194,24,62],accounts:[{name:"funds_to",docs:["The funds_to - receives rent refund"],writable:!0},{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"cargo_pod",docs:["The new cargo pod"],writable:!0},{name:"cargo_type",docs:["The cargo type account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"token_from",docs:["The source token account - owned by the `cargo_pod`"],writable:!0},{name:"token_to",docs:["The destination token account - owned by the `key`"],writable:!0},{name:"token_mint",docs:["The mint of the token accounts"],writable:!0},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["Token Program"]}],args:[{name:"input",type:{defined:{name:"CargoToGameInput"}}}]},{name:"withdraw_crafting_ingredient",discriminator:[218,0,207,77,253,116,248,250],accounts:[{name:"starbase_and_starbase_player",accounts:[{name:"starbase",docs:["The [`Starbase`] account"]},{name:"starbase_player",docs:["The [`StarbasePlayer`] Account"]}]},{name:"crafting_instance",docs:["The [`CraftingInstance`] account"]},{name:"crafting_facility",docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"crafting_process",docs:["The crafting process account"],writable:!0},{name:"cargo_pod_to",docs:["The destination cargo pod account"],writable:!0},{name:"crafting_recipe",docs:["The crafting recipe"]},{name:"cargo_type",docs:["The Cargo Type Account"]},{name:"cargo_stats_definition",docs:["The cargo stats definition account"]},{name:"game_accounts_and_profile",accounts:[{name:"game_and_profile_and_faction",accounts:[{name:"key",docs:["The key authorized for this instruction"],signer:!0},{name:"profile",docs:["The [`Profile`] account"]},{name:"profile_faction",docs:["The faction that the profile belongs to."]},{name:"game_id",docs:["The [`Game`] account"]}]},{name:"game_state",docs:["The [`GameState`] account"]}]},{name:"token_from",docs:["The source account of the tokens - owner should be `crafting_process`"],writable:!0},{name:"token_to",docs:["The destination account of the tokens - owner should be `cargo_pod_to`"],writable:!0},{name:"token_mint",docs:["The token mint"],writable:!0},{name:"crafting_program",docs:["The Crafting Program"]},{name:"cargo_program",docs:["The Cargo Program"]},{name:"token_program",docs:["The [Token] program"]}],args:[{name:"input",type:{defined:{name:"StarbaseWithdrawCraftingIngredientInput"}}}]}],accounts$3=[{name:"CraftingInstance",discriminator:[90,186,155,208,93,186,112,191]},{name:"DisbandedFleet",discriminator:[53,6,127,23,247,12,225,249]},{name:"Fleet",discriminator:[109,207,251,48,106,2,136,163]},{name:"FleetShips",discriminator:[252,81,147,246,222,141,185,110]},{name:"Game",discriminator:[27,90,166,125,74,100,121,18]},{name:"GameState",discriminator:[144,94,208,172,248,99,134,120]},{name:"MineItem",discriminator:[64,55,212,19,215,156,22,66]},{name:"Planet",discriminator:[242,27,236,42,220,217,132,128]},{name:"PlayerCrewRecord",discriminator:[221,185,48,7,75,196,38,219]},{name:"ProgressionConfig",discriminator:[224,156,129,95,15,29,132,208]},{name:"Resource",discriminator:[10,160,2,1,42,207,51,212]},{name:"SageCrewConfig",discriminator:[247,42,24,109,161,3,248,166]},{name:"SagePlayerProfile",discriminator:[10,55,75,234,126,14,47,146]},{name:"Sector",discriminator:[65,117,23,82,80,133,247,233]},{name:"Ship",discriminator:[114,41,245,232,24,58,234,158]},{name:"Star",discriminator:[214,131,207,208,202,148,162,48]},{name:"Starbase",discriminator:[204,182,29,231,220,29,52,2]},{name:"StarbasePlayer",discriminator:[192,234,144,86,72,19,5,99]},{name:"SurveyDataUnitTracker",discriminator:[234,127,227,90,144,65,85,111]}],errors$4=[{code:6e3,name:"IncorrectAdminAddress",msg:"Incorrect admin address."},{code:6001,name:"MissingRemainingAccount",msg:"An expected remaining account is missing."},{code:6002,name:"NoStargateConnectionsAvailable",msg:"No Stargate connections available."},{code:6003,name:"StargatesNotConnected",msg:"The provided Stargates are not connected."},{code:6004,name:"InvalidPlanetType",msg:"Invalid Planet Type."},{code:6005,name:"InvalidRingType",msg:"Invalid Ring Type."},{code:6006,name:"InvalidStarType",msg:"Invalid Star Type."},{code:6007,name:"InvalidOrInactiveGame",msg:"Invalid Or Inactive Game"},{code:6008,name:"InvalidShipSizeClass",msg:"Invalid Ship Size Class."},{code:6009,name:"IncorrectAccountSize",msg:"Incorrect Account Size."},{code:6010,name:"UpdateIdMismatch",msg:"The update_id is mismatched."},{code:6011,name:"AlreadyActive",msg:"The account is already active."},{code:6012,name:"InactiveAccount",msg:"The account is inactive."},{code:6013,name:"InvalidGame",msg:"The game account is invalid."},{code:6014,name:"InvalidGameState",msg:"The game state account is invalid."},{code:6015,name:"InvalidSector",msg:"The sector account is invalid."},{code:6016,name:"FleetCrewNotNormalized",msg:"Fleet Crew Not Normalized"},{code:6017,name:"InsufficientFuel",msg:"Insufficient Fuel to complete movement"},{code:6018,name:"DistanceGreaterThanMax",msg:"Distance of movement is greater than the allowed maximum"},{code:6019,name:"NumericOverflow",msg:"Numeric overflow"},{code:6020,name:"InvalidLocationType",msg:"Invalid Location Type."},{code:6021,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6022,name:"IncorrectMineItem",msg:"Incorrect mine item address."},{code:6023,name:"IncorrectAuthorityAddress",msg:"Incorrect authority address."},{code:6024,name:"IncorrectResourceAddress",msg:"Incorrect resource address."},{code:6025,name:"IncorrectMintAuthority",msg:"Incorrect mint authority."},{code:6026,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6027,name:"InvalidCurrentFleetState",msg:"The current fleet state is not valid."},{code:6028,name:"InvalidCurrentStarbaseState",msg:"The current starbase state is not valid."},{code:6029,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6030,name:"MintMismatch",msg:"Mint mismatch"},{code:6031,name:"TokenMismatch",msg:"Incorrect token address."},{code:6032,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6033,name:"GameMismatch",msg:"Game ID mismatch"},{code:6034,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6035,name:"SagePlayerProfileMismatch",msg:"SagePlayerProfile mismatch"},{code:6036,name:"StarbaseMismatch",msg:"Starbase mismatch"},{code:6037,name:"FactionMismatch",msg:"Faction mismatch"},{code:6038,name:"SeqIdMismatch",msg:"Sequence id mismatch"},{code:6039,name:"ShipMismatch",msg:"Ship mismatch"},{code:6040,name:"CargoPodMismatch",msg:"Cargo Pod mismatch"},{code:6041,name:"PlanetMismatch",msg:"Planet mismatch"},{code:6042,name:"MineItemMismatch",msg:"MineItem mismatch"},{code:6043,name:"LocationMismatch",msg:"Location mismatch"},{code:6044,name:"InvalidEscrowKey",msg:"Escrow key not found in remaining data"},{code:6045,name:"InvalidShipAmount",msg:"Insufficient Ship token amount"},{code:6046,name:"InvalidShipHangarSpaceAmount",msg:"Insufficient Ship hangar space amount"},{code:6047,name:"InvalidCrewAmount",msg:"Invalid crew amount"},{code:6048,name:"InvalidState",msg:"Invalid state"},{code:6049,name:"InvalidDistance",msg:"Invalid distance"},{code:6050,name:"NotAtCentralSpaceStation",msg:"Not at central space station"},{code:6051,name:"ShipNotExpected",msg:"The instruction does not expect a ship account"},{code:6052,name:"AddressMismatch",msg:"Address mismatch"},{code:6053,name:"InvalidSectorConnection",msg:"Invalid sector connection"},{code:6054,name:"InvalidStarbaseLevel",msg:"Invalid Starbase level"},{code:6055,name:"InvalidStarbaseUpgradeRecipeCategory",msg:"Invalid Starbase upgrade recipe category"},{code:6056,name:"HangarUpgradeNotPossible",msg:"Hangar upgrade not Possible"},{code:6057,name:"DisbandedFleetNotEmpty",msg:"Disbanded fleet not empty"},{code:6058,name:"FaultyMovement",msg:"Faulty movement"},{code:6059,name:"IncorrectHandleRawAccount",msg:"Incorrect Account Type for Handle Raw"},{code:6060,name:"InsufficientShipCargoCapacity",msg:"Insufficient Ship Cargo Capacity"},{code:6061,name:"FleetDoesNotNeedUpdate",msg:"Fleet does not need update"},{code:6062,name:"MustDisbandFleet",msg:"Must disband fleet"},{code:6063,name:"CannotForceDisbandFleet",msg:"Cannot force-disband fleet"},{code:6064,name:"ShipMismatchOrAlreadyUpdated",msg:"Ship mismatch or already updated"},{code:6065,name:"ShipAlreadyUpdated",msg:"Ship already updated"},{code:6066,name:"InvalidNextShipAddress",msg:"Invalid next ship address"},{code:6067,name:"InvalidShipForForcedDisband",msg:"Ship is not valid for forced disband of fleet"},{code:6068,name:"InvalidWarpRange",msg:"Warp range exceeded"},{code:6069,name:"InvalidIngredient",msg:"Invalid Ingredient"},{code:6070,name:"StarbaseUpgradeNotInProgress",msg:"Starbase Upgrade Not in progress"},{code:6071,name:"MissingRentedCrew",msg:"Missing Rented Crew"},{code:6072,name:"NoPassengersAllowed",msg:"No Passengers Allowed"},{code:6073,name:"PlanetNotReachable",msg:"Planet Not Reachable"},{code:6074,name:"RespawnNotPossible",msg:"Respawn Not Possible"},{code:6075,name:"InvalidMovement",msg:"Cannot enter enemy faction's Security Zone"},{code:6076,name:"CargoAmountAboveZero",msg:"The Cargo Pod contains a non-zero amount of the Cargo Type"},{code:6077,name:"InvalidCargoPod",msg:"The Cargo Pod is invalid"},{code:6078,name:"InvalidZoneCoordinates",msg:"Invalid Zone Coordinates"},{code:6079,name:"RespawnTimeNotElapsed",msg:"Respawn time not elapsed"},{code:6080,name:"ActiveAccount",msg:"The Account is Active"},{code:6081,name:"StarbasePlayerMismatch",msg:"Starbase Player mismatch"},{code:6082,name:"AlreadyProcessed",msg:"The account has already been processed"},{code:6083,name:"InvalidAmount",msg:"The amount is invalid"},{code:6084,name:"WarpIsOnCooldown",msg:"Warp is on cooldown"},{code:6085,name:"ProgramMismatch",msg:"Program Mismatch"},{code:6086,name:"MustBeOnlyInstruction",msg:"Current Instruction Is Not Only Instruction"},{code:6087,name:"InvalidTime",msg:"Invalid Time"},{code:6088,name:"ScanIsOnCooldown",msg:"Scanning is on cooldown"},{code:6089,name:"InvalidFleetSize",msg:"Invalid Fleet Size"},{code:6090,name:"InactiveFeature",msg:"The feature is inactive"},{code:6091,name:"ZeroShipsAdded",msg:"Zero ships added to fleet"},{code:6092,name:"InvalidNoiseSeed",msg:"Invalid Noise Seed"},{code:6093,name:"InvalidType",msg:"Invalid type"},{code:6094,name:"RentedFleet",msg:"Rented Fleet"},{code:6095,name:"NoCrewItems",msg:"No Crew Items"},{code:6096,name:"GenericInvalid",msg:"Generic invalid data"}],types$9=[{name:"AddCrewInput",docs:["Struct for data input for `AddCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:{name:"CrewTransferInput"}}}}]}},{name:"AddShipEscrowInput",docs:["Struct for data input for `AddShipEscrow`"],type:{kind:"struct",fields:[{name:"ship_amount",docs:["Amount of `Ship` tokens to transfer to escrow"],type:"u64"},{name:"index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`","Some index `WrappedShipEscrow`, or None for new `WrappedShipEscrow`"],type:{option:"u32"}}]}},{name:"AddShipToFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"ship_amount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"ship_escrow_index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"fleet_ship_info_index",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:{option:"u32"}},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Cargo",docs:["Variables for the Cargo program"],type:{kind:"struct",fields:[{name:"stats_definition",docs:["The cargo stats definition account"],type:"pubkey"}]}},{name:"CargoStats",docs:["A ship's cargo stats"],type:{kind:"struct",fields:[{name:"cargo_capacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuel_capacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammo_capacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammo_consumption_rate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"food_consumption_rate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"mining_rate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgrade_rate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargo_transfer_rate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractor_beam_gather_rate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoStatsUnpacked",docs:["Unpacked version of [`CargoStats`]"],type:{kind:"struct",fields:[{name:"cargo_capacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuel_capacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammo_capacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammo_consumption_rate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"food_consumption_rate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"mining_rate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgrade_rate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargo_transfer_rate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractor_beam_gather_rate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoToGameInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CloseDisbandedFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Crafting",docs:["Variables for the Crafting program"],type:{kind:"struct",fields:[{name:"domain",docs:["The crafting domain account"],type:"pubkey"}]}},{name:"CraftingInstanceType",docs:["Represents the type of `CraftingInstance`"],type:{kind:"enum",variants:[{name:"StarbaseCrafting"},{name:"StarbaseUpgradeMaterial"}]}},{name:"CreateFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"ship_amount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"fleet_label",docs:["the fleet label"],type:{array:["u8",32]}},{name:"ship_escrow_index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"cargo_hold_seeds",docs:["cargo hold seeds"],type:{array:["u8",32]}},{name:"fuel_tank_seeds",docs:["fuel tank seeds"],type:{array:["u8",32]}},{name:"ammo_bank_seeds",docs:["ammo bank seeds"],type:{array:["u8",32]}},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CrewTransferInput",docs:["Struct for data input for crew cNFT transfer"],type:{kind:"struct",fields:[{name:"data_hash",docs:["The crew cNFT data hash"],type:{array:["u8",32]}},{name:"proof_count",docs:["The number of proofs for the crew cNFT"],type:"u8"},{name:"leaf_index",docs:["The crew cNFT index (index of the leaf node in the Merkle tree)"],type:"u32"}]}},{name:"DepositCargoToFleetInput",docs:["Struct for data input to `DepositCargoToFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DepositStarbaseUpkeepResourceInput",docs:["Submit starbase upkeep resource inputs"],type:{kind:"struct",fields:[{name:"points_program_permissions_key_index",docs:["the index of the points program permissions in the player profile"],type:"u16"},{name:"sage_permissions_key_index",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"resource_type",docs:["the resource type"],type:"u8"},{name:"resource_index",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list"],type:"u16"},{name:"amount",docs:["the amount"],type:"u64"},{name:"epoch_index",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"DeregisterSurveyDataUnitTrackerInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"DisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DisbandedFleetToEscrowInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"ship_amount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"ship_escrow_index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:{option:"u32"}},{name:"fleet_ship_info_index",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DiscoverSectorInput",docs:["Struct for data input for `DiscoverSector`"],type:{kind:"struct",fields:[{name:"coordinates",docs:["The coordinates of the new `Sector`"],type:{array:["i64",2]}},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FactionsStarbaseLevelInfo",docs:["`Starbase` levels discriminated by faction"],type:{kind:"struct",fields:[{name:"mud",docs:["Mud Starbase Levels Info"],type:{array:[{defined:{name:"StarbaseLevelInfo"}},7]}},{name:"oni",docs:["Oni Starbase Levels Info"],type:{array:[{defined:{name:"StarbaseLevelInfo"}},7]}},{name:"ustur",docs:["Ustur Starbase Levels Info"],type:{array:[{defined:{name:"StarbaseLevelInfo"}},7]}}]}},{name:"FleetCrewInput",docs:["Struct for data input to `FleetCrew`"],type:{kind:"struct",fields:[{name:"count",docs:["passenger count"],type:"u16"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FleetInfo",docs:["Variables for the Fleet program"],type:{kind:"struct",fields:[{name:"starbase_levels",docs:["`Starbase` levels discriminated by faction"],type:{defined:{name:"FactionsStarbaseLevelInfo"}}},{name:"upkeep",docs:["`Starbase` upkeep discriminated by level"],type:{defined:{name:"StarbaseUpkeepLevels"}}},{name:"max_fleet_size",docs:["Maximum `Fleet` size allowed"],type:"u32"}]}},{name:"FleetInput",docs:["Struct for data input to Update fleet settings"],type:{kind:"struct",fields:[{name:"starbase_level_info_array",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:{name:"StarbaseLevelInfoArrayInput"}}}}},{name:"upkeep_info_array",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:{name:"StarbaseUpkeepInfoArrayInput"}}}}},{name:"max_fleet_size",docs:["Maximum `Fleet` size allowed"],type:{option:"u32"}}]}},{name:"FleetShipsInfo",docs:["Struct that represents info on a single ship type in a fleet"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"pubkey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"update_id",docs:["The update id for the `Ship`"],type:"u64"}]}},{name:"ForcedDisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"fleet_ship_info_index",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"Idle",docs:["The data for the [`FleetStateData::Idle`](crate::state_machine::FleetStateData::Idle) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet is in"],type:{array:["i64",2]}}]}},{name:"IdleToRespawnInput",docs:["Struct for data input to initialize an `IdleToRespawn` Ix"],type:{kind:"struct",fields:[{name:"key_index",docs:["index of the key in the player profile"],type:"u16"}]}},{name:"IngredientIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"ingredient_index",docs:["the index of the recipe output"],type:"u16"}]}},{name:"InitGameStateInput",docs:["Struct for data input to `InitGameState`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"KeyIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `Resource` might be found"],type:{kind:"enum",variants:[{name:"Planet"}]}},{name:"ManageGameInput",docs:["Struct for data input to managing Game accounts"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"MineAsteroid",docs:["The data for the [`FleetStateData::MineAsteroid`](crate::state_machine::FleetStateData::MineAsteroid) state"],type:{kind:"struct",fields:[{name:"asteroid",docs:["The `Asteroid` the `Fleet` is mining (Must be an asteroid belt)"],type:"pubkey"},{name:"resource",docs:["The `Resource` being mined on the `Asteroid`"],type:"pubkey"},{name:"start",docs:["The timestamp at which mining activity started"],type:"i64"},{name:"end",docs:["The timestamp at which mining activity stops"],type:"i64"},{name:"amount_mined",docs:["The cumulative amount mined"],type:"u64"},{name:"last_update",docs:["The last time the `Fleet` was updated"],type:"i64"}]}},{name:"MineAsteroidToRespawnInput",docs:["Struct for data input for `MineAsteroidToRespawnInput`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Mints",docs:["Token mints"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"pubkey"},{name:"polis",docs:["POLIS token mint"],type:"pubkey"},{name:"ammo",docs:["ammunition"],type:"pubkey"},{name:"food",docs:["food"],type:"pubkey"},{name:"fuel",docs:["fuel"],type:"pubkey"},{name:"repair_kit",docs:["repair kit"],type:"pubkey"}]}},{name:"MiscStats",docs:["A ship's miscellaneous stats"],type:{kind:"struct",fields:[{name:"required_crew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passenger_capacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crew_count",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rented_crew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawn_time",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scan_cool_down",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sdu_per_scan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scan_cost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscStatsUnpacked",docs:["Unpacked version of [`MiscStats`]"],type:{kind:"struct",fields:[{name:"required_crew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passenger_capacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crew_count",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rented_crew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawn_time",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scan_cool_down",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sdu_per_scan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scan_cost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscVariables",docs:["Miscellaneous game state variables"],type:{kind:"struct",fields:[{name:"warp_lane_fuel_cost_reduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:"i16"},{name:"respawn_fee",docs:["Respawn fee; You cannot enter into the respawning state without paying this fee","Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"},{name:"upkeep_mining_emissions_penalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:"i16"}]}},{name:"MiscVariablesInput",docs:["Struct for data input to update miscellaneous settings"],type:{kind:"struct",fields:[{name:"warp_lane_fuel_cost_reduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:{option:"i16"}},{name:"upkeep_mining_emissions_penalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:{option:"i16"}},{name:"respawn_fee",docs:["Respawn fee, charged in ATLAS"],type:{option:"u64"}}]}},{name:"MoveSubwarp",docs:["The data for the [`FleetStateData::MoveSubwarp`] state"],type:{kind:"struct",fields:[{name:"from_sector",docs:["The sector the fleet is coming from"],type:{array:["i64",2]}},{name:"to_sector",docs:["The sector the fleet is going to"],type:{array:["i64",2]}},{name:"current_sector",docs:["The sector the fleet is currently in"],type:{array:["i64",2]}},{name:"departure_time",docs:["When the fleet started subwarp"],type:"i64"},{name:"arrival_time",docs:["When the fleet will finish subwarp"],type:"i64"},{name:"fuel_expenditure",docs:["The fuel cost of the subwarp"],type:"u64"},{name:"last_update",docs:["The last update time"],type:"i64"}]}},{name:"MoveWarp",docs:["The data for the [`FleetStateData::MoveWarp`] state"],type:{kind:"struct",fields:[{name:"from_sector",docs:["The star system the fleet is coming from"],type:{array:["i64",2]}},{name:"to_sector",docs:["The star system the fleet is going to"],type:{array:["i64",2]}},{name:"warp_start",docs:["When the fleet started warping"],type:"i64"},{name:"warp_finish",docs:["When the warp will end"],type:"i64"}]}},{name:"MovementStats",docs:["A ship's movement stats"],type:{kind:"struct",fields:[{name:"subwarp_speed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warp_speed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"max_warp_distance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warp_cool_down",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarp_fuel_consumption_rate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warp_fuel_consumption_rate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planet_exit_fuel_amount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"MovementStatsUnpacked",docs:["Unpacked version of [`MovementStats`]"],type:{kind:"struct",fields:[{name:"subwarp_speed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warp_speed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"max_warp_distance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warp_cool_down",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarp_fuel_consumption_rate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warp_fuel_consumption_rate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planet_exit_fuel_amount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"pubkey"}]}},{name:"PlanetType",docs:["Represents different types a `Planet` could be"],type:{kind:"enum",variants:[{name:"Terrestrial"},{name:"Volcanic"},{name:"Barren"},{name:"AsteroidBelt"},{name:"GasGiant"},{name:"IceGiant"},{name:"Dark"}]}},{name:"Points",docs:["Variables for the Points program"],type:{kind:"struct",fields:[{name:"lp_category",docs:["Represents the points category & modifier to use for Loyalty Points (LP)"],type:{defined:{name:"SagePointsCategory"}}},{name:"council_rank_xp_category",docs:["Represents the points category & modifier to use for Council Rank Experience Points (CRXP)"],type:{defined:{name:"SagePointsCategory"}}},{name:"pilot_xp_category",docs:["Represents the points category & modifier to use for Pilot License Experience Points (PXP)"],type:{defined:{name:"SagePointsCategory"}}},{name:"data_running_xp_category",docs:["Represents the points category & modifier to use for Data Running Experience Points (DRXP)"],type:{defined:{name:"SagePointsCategory"}}},{name:"mining_xp_category",docs:["Represents the points category & modifier to use for Mining Experience Points (MXP)"],type:{defined:{name:"SagePointsCategory"}}},{name:"crafting_xp_category",docs:["Represents the points category & modifier to use for Crafting Experience Points (CXP)"],type:{defined:{name:"SagePointsCategory"}}}]}},{name:"ProgressionItem",docs:["Progression Item"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"ProgressionItemInput",docs:["Progression Item for Data Input"],type:{kind:"struct",fields:[{name:"item_type",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:{name:"ProgressionItem"}}}]}},{name:"ProgressionItemInputUnpacked",docs:["Unpacked version of [`ProgressionItemInput`]"],type:{kind:"struct",fields:[{name:"item_type",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:{name:"ProgressionItem"}}}]}},{name:"ProgressionItemType",docs:["The different types of progression items"],type:{kind:"enum",variants:[{name:"Subwarp"},{name:"Warp"},{name:"WarpLane"},{name:"AsteroidExit"},{name:"ScanUnsuccessful"},{name:"ScanSuccessful"},{name:"Mining"},{name:"Crafting"},{name:"Upkeep"},{name:"Upgrade"}]}},{name:"ProgressionItemUnpacked",docs:["Unpacked version of [`ProgressionItem`]"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"RegisterMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"resource_hardness",docs:["How hard it is to mine this item"],type:"u16"},{name:"key_index",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterPlanetInput",docs:["Struct for data input to Register Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{array:["u8",64]}},{name:"size",docs:["`Planet` size"],type:"u64"},{name:"max_hp",docs:["`Planet` max health"],type:"u64"},{name:"sub_coordinates",docs:["`Planet` sub_coordinates"],type:{array:["i64",2]}},{name:"planet_type",docs:["`Planet` type"],type:"u8"},{name:"position",docs:["`Planet` position"],type:"u8"},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterProgressionConfigInput",docs:["Data input for RegisterProgressionConfig"],type:{kind:"struct",fields:[{name:"daily_lp_limit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"daily_council_rank_xp_limit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"daily_pilot_xp_limit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"daily_data_running_xp_limit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"daily_mining_xp_limit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"daily_crafting_xp_limit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterResourceInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"location_type",docs:["`Resource` location type"],type:"u8"},{name:"system_richness",docs:["`Resource` `system_richness`"],type:"u16"},{name:"key_index",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSagePointsModifierInput",docs:["Struct for data input to register a points modifier for SAGE program"],type:{kind:"struct",fields:[{name:"points_category_type",docs:["The points category type of the modifier"],type:"u8"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RegisterShipInput",docs:["Struct for data input to Register Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"size_class",docs:["the ship's size class"],type:{defined:{name:"SizeClass"}}},{name:"stats",docs:["The stats for the ship"],type:{defined:{name:"ShipStatsUnpacked"}}},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"},{name:"is_active",docs:["Whether the ship is initialized to active (`update_id == current_update_id`)"],type:"bool"}]}},{name:"RegisterStarInput",docs:["Struct for data input to Register Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{array:["u8",64]}},{name:"size",docs:["`Star` size"],type:"u64"},{name:"sub_coordinates",docs:["`Star` sub_coordinates"],type:{array:["i64",2]}},{name:"star_type",docs:["`Star` type"],type:"u8"},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInput",docs:["Struct for data input to Register `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"sub_coordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbase_level_index",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"key_index",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInputUnpacked",docs:["Unpacked version of [`RegisterStarbaseInput`]"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"sub_coordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbase_level_index",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"key_index",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSurveyDataUnitTrackerInput",docs:["Struct for data input to Register SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinates_range",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"css_coordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"origin_coordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"css_max_distance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"origin_max_distance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distance_weighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"t_max",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"x_mul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"y_mul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"z_mul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sdu_max_per_sector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scan_chance_regen_period",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RemoveCrewInput",docs:["Accounts for Struct for data input for `RemoveCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:{name:"CrewTransferInput"}}}},{name:"key_index",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"}]}},{name:"RemoveShipEscrowInput",docs:["Struct for data input for `RemoveShipEscrow`"],type:{kind:"struct",fields:[{name:"ship_amount",docs:["Amount of `Ship` tokens to transfer from escrow"],type:"u64"},{name:"permission_key_index",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"},{name:"ship_escrow_index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"Respawn",docs:["The data for the [`FleetStateData::Respawn`](crate::state_machine::FleetStateData::Respawn) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet was in when it entered the `Respawn` state"],type:{array:["i64",2]}},{name:"start",docs:["The time `Respawn` started"],type:"i64"}]}},{name:"RespawnToLoadingBayInput",docs:["Struct for data input to `RespawnToLoadingBay`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RiskZoneData",docs:["`RiskZone` center and radius"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZoneDataUnpacked",docs:["Unpacked version of [`RiskZoneData`]"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZonesData",docs:["[`RiskZoneData`] for [`RiskZones`]"],type:{kind:"struct",fields:[{name:"mud_security_zone",docs:["Mud security zone"],type:{defined:{name:"RiskZoneData"}}},{name:"oni_security_zone",docs:["Oni security zone"],type:{defined:{name:"RiskZoneData"}}},{name:"ustur_security_zone",docs:["Ustur security zone"],type:{defined:{name:"RiskZoneData"}}},{name:"high_risk_zone",docs:["High risk zone"],type:{defined:{name:"RiskZoneData"}}},{name:"medium_risk_zone",docs:["Medium risk zone"],type:{defined:{name:"RiskZoneData"}}}]}},{name:"RiskZonesDataUnpacked",docs:["Unpacked version of [`RiskZonesData`]"],type:{kind:"struct",fields:[{name:"mud_security_zone",docs:["Mud security zone"],type:{defined:{name:"RiskZoneData"}}},{name:"oni_security_zone",docs:["Oni security zone"],type:{defined:{name:"RiskZoneData"}}},{name:"ustur_security_zone",docs:["Ustur security zone"],type:{defined:{name:"RiskZoneData"}}},{name:"high_risk_zone",docs:["High risk zone"],type:{defined:{name:"RiskZoneData"}}},{name:"medium_risk_zone",docs:["Medium risk zone"],type:{defined:{name:"RiskZoneData"}}}]}},{name:"SagePointsCategory",docs:["Represents a points category & modifier as defined in the Points program"],type:{kind:"struct",fields:[{name:"category",docs:["The points category"],type:"pubkey"},{name:"modifier",docs:["The points category modifier"],type:"pubkey"},{name:"modifier_bump",docs:["The points category modifier bump"],type:"u8"}]}},{name:"ScanForSurveyDataUnitsInput",docs:["Struct for data input to Scan For Survey Data Units"],type:{kind:"struct",fields:[{name:"key_index",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SectorConnection",docs:["Connection between sectors"],type:{kind:"struct",fields:[{name:"connection_sector",docs:["The sector connected to"],type:"pubkey"},{name:"sub_coordinates",docs:["The location of the connection"],type:{array:["i64",2]}},{name:"flags",docs:["Connection flags"],type:"u8"}]}},{name:"SectorRing",docs:["Represents the orbital position of a `Planet` in the `Sector`"],type:{kind:"enum",variants:[{name:"Inner"},{name:"Mid"},{name:"Outer"}]}},{name:"ShipCounts",docs:["Ship counts for a fleet."],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xx_small",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"x_small",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipCountsUnpacked",docs:["Unpacked version of [`ShipCounts`]"],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xx_small",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"x_small",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipSizes",docs:["Ship sizes."],type:{kind:"struct",fields:[{name:"xx_small",docs:["The size of xx small ships"],type:"u8"},{name:"x_small",docs:["The size of x small ships"],type:"u8"},{name:"small",docs:["The size of small ships"],type:"u8"},{name:"medium",docs:["The size of medium ships"],type:"u8"},{name:"large",docs:["The size of large ships"],type:"u8"},{name:"capital",docs:["The size of capital ships"],type:"u8"},{name:"commander",docs:["The size of commander ships"],type:"u8"},{name:"titan",docs:["The size of titan ships"],type:"u8"}]}},{name:"ShipStats",docs:["A ship's stats"],type:{kind:"struct",fields:[{name:"movement_stats",docs:["Movement stats for the ship"],type:{defined:{name:"MovementStats"}}},{name:"cargo_stats",docs:["Cargo stats for the ship"],type:{defined:{name:"CargoStats"}}},{name:"misc_stats",docs:["Miscellaneous stats for the ship"],type:{defined:{name:"MiscStats"}}}]}},{name:"ShipStatsUnpacked",docs:["Unpacked version of [`ShipStats`]"],type:{kind:"struct",fields:[{name:"movement_stats",docs:["Movement stats for the ship"],type:{defined:{name:"MovementStats"}}},{name:"cargo_stats",docs:["Cargo stats for the ship"],type:{defined:{name:"CargoStats"}}},{name:"misc_stats",docs:["Miscellaneous stats for the ship"],type:{defined:{name:"MiscStats"}}}]}},{name:"SizeClass",docs:["Represents different types of Ships"],type:{kind:"enum",variants:[{name:"XxSmall"},{name:"XSmall"},{name:"Small"},{name:"Medium"},{name:"Large"},{name:"Capital"},{name:"Commander"},{name:"Titan"}]}},{name:"StarType",docs:["Represents different types of Stars"],type:{kind:"enum",variants:[{name:"WhiteDwarf"},{name:"RedDwarf"},{name:"Solar"},{name:"HotBlue"},{name:"RedGiant"}]}},{name:"StarbaseCreateCargoPodInput",docs:["Struct for data input to `StarbaseCreateCargoPod`"],type:{kind:"struct",fields:[{name:"pod_seeds",docs:["cargo pod seeds"],type:{array:["u8",32]}},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseCreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"crafting_id",docs:["crafting id"],type:"u64"},{name:"recipe_category_index",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"num_crew",docs:["number of crew members to use for this crafting process"],type:"u64"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseDepositCraftingIngredientInput",docs:["Struct for data input to deposit an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredient_index",docs:["the index of the recipe ingredient"],type:"u16"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseLevelInfo",docs:["Information associated with `Starbase` levels"],type:{kind:"struct",fields:[{name:"recipe_for_upgrade",docs:["The crafting recipe required to upgrade a `Starbase` to this level"],type:"pubkey"},{name:"recipe_category_for_level",docs:["The crafting recipe category enabled for crafting at a `Starbase` of this level."],type:"pubkey"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sector_ring_available",docs:["The planet position `Ring` available for this level"],type:"u8"},{name:"warp_lane_movement_fee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS',"Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"}]}},{name:"StarbaseLevelInfoArrayInput",docs:["Struct for data input to Update Starbase Level Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"faction",docs:["The `Starbase` faction."],type:"u8"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sector_ring_available",docs:["The planet position `Ring` available for this level"],type:{defined:{name:"SectorRing"}}},{name:"warp_lane_movement_fee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS'],type:"u64"}]}},{name:"StarbaseLoadingBay",docs:["The data for the [`FleetStateData::StarbaseLoadingBay`] state"],type:{kind:"struct",fields:[{name:"starbase",docs:["The `Starbase` is in the loading bay of"],type:"pubkey"},{name:"last_update",docs:["The last time this fleet was updated"],type:"i64"}]}},{name:"StarbaseRemoveCargoPodInput",docs:["Struct for data input to `StarbaseRemoveCargoPod`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"Active"},{name:"Destroyed"}]}},{name:"StarbaseTransferCargoInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseUpgradeState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"NotStarted"},{name:"Started"},{name:"Completed"}]}},{name:"StarbaseUpkeepInfo",docs:["Information associated with `Starbase` upkeep"],type:{kind:"struct",fields:[{name:"ammo_reserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammo_depletion_rate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"food_reserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"food_depletion_rate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkit_reserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkit_depletion_rate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepInfoArrayInput",docs:["Struct for data input to Update Starbase Upkeep Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"info",docs:["The stats for the ship"],type:{defined:{name:"StarbaseUpkeepInfoUnpacked"}}}]}},{name:"StarbaseUpkeepInfoUnpacked",docs:["Unpacked version of [`StarbaseUpkeepInfo`]"],type:{kind:"struct",fields:[{name:"ammo_reserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammo_depletion_rate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"food_reserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"food_depletion_rate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkit_reserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkit_depletion_rate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepLevels",docs:["Information on `Starbase` upkeep by level"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}}]}},{name:"StarbaseUpkeepLevelsUnpacked",docs:["Unpacked version of [`StarbaseUpkeepLevels`]"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:{name:"StarbaseUpkeepInfo"}}}]}},{name:"StarbaseWithdrawCraftingIngredientInput",docs:["Struct for data input to withdraw an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw"],type:"u64"},{name:"ingredient_index",docs:["the index of the recipe ingredient"],type:"u16"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StartSubwarpInput",docs:["Struct for data input to initialize an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"to_sector",docs:["The destination coordinates"],type:{array:["i64",2]}},{name:"key_index",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"StopMiningAsteroidInput",docs:["Struct for data input for `StopMiningAsteroidInput`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StopSubwarpInput",docs:["Struct for data input to stop an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"key_index",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SubmitStarbaseUpgradeResourceInput",docs:["Submit starbase upgrade resource inputs"],type:{kind:"struct",fields:[{name:"points_program_permissions_key_index",docs:["the index of the point program permissions in the player profile"],type:"u16"},{name:"sage_permissions_key_index",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"upgrade_process_recipe_input_index",docs:["the index of the resource in the upgrade_process_recipe ingredients list","The resource is a non-consumable in this recipe"],type:"u16"},{name:"starbase_upgrade_recipe_input_index",docs:["the index of the resource in the upgrade recipe","The resource is a consumable in this recipe"],type:"u16"},{name:"resource_recipe_output_index",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list","The resource is an output in this recipe"],type:"u16"},{name:"epoch_index",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"TransferCargoWithinFleetInput",docs:["Struct for data input to `TransferCargoWithinFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"UpdateGameInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"cargo",docs:["Cargo settings"],type:"u8"},{name:"crafting",docs:["Crafting settings"],type:"u8"},{name:"mints",docs:["Mints"],type:"u8"},{name:"vaults",docs:["Vaults"],type:"u8"},{name:"points",docs:["Points settings"],type:"u8"},{name:"risk_zones",docs:["Data for risk zones"],type:{option:{defined:{name:"RiskZonesDataUnpacked"}}}},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateGameStateInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"fleet",docs:["Fleet settings"],type:{option:{defined:{name:"FleetInput"}}}},{name:"misc",docs:["Miscellaneous settings"],type:{option:{defined:{name:"MiscVariablesInput"}}}},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{option:{array:["u8",64]}}},{name:"resource_hardness",docs:["How hard it is to mine this item"],type:{option:"u16"}},{name:"key_index",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdatePlanetInput",docs:["Struct for data input to Update Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Planet` size"],type:{option:"u64"}},{name:"max_hp",docs:["`Planet` max_hp"],type:{option:"u64"}},{name:"sub_coordinates",docs:["`Planet` sub_coordinates"],type:{option:{array:["i64",2]}}},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateProgressionConfigInput",docs:["Struct for data input for `UpdateProgressionConfig`"],type:{kind:"struct",fields:[{name:"key_index",docs:["the index of the key in the permissions profile"],type:"u16"},{name:"daily_lp_limit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"daily_council_rank_xp_limit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"daily_pilot_xp_limit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"daily_data_running_xp_limit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"daily_mining_xp_limit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"daily_crafting_xp_limit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"items",docs:["the progression items"],type:{option:{vec:{defined:{name:"ProgressionItemInputUnpacked"}}}}}]}},{name:"UpdateResourceInput",docs:["Struct for data input to Update Resource"],type:{kind:"struct",fields:[{name:"system_richness",docs:["`Resource` richness"],type:{option:"u16"}},{name:"key_index",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdateShipEscrowInput",docs:["Struct for data input for `UpdateShipEscrow`"],type:{kind:"struct",fields:[{name:"ship_escrow_index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"UpdateShipFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"ship_amount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"fleet_ship_info_index",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"UpdateShipInput",docs:["Struct for data input to Update Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"size_class",docs:["the ship's size class"],type:{defined:{name:"SizeClass"}}},{name:"stats",docs:["The stats for the ship"],type:{defined:{name:"ShipStatsUnpacked"}}},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarInput",docs:["Struct for data input to Update Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Star` size"],type:{option:"u64"}},{name:"star_type",docs:["`Star` type"],type:{option:"u8"}},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarbaseInput",docs:["Struct for data input to Update `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{option:{array:["u8",64]}}},{name:"sub_coordinates",docs:["`Starbase` coordinates"],type:{option:{array:["i64",2]}}},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateSurveyDataUnitTrackerInput",docs:["Struct for data input to Update SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinates_range",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{option:{array:["i64",2]}}},{name:"css_coordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{option:{array:[{array:["i64",2]},3]}}},{name:"origin_coordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{option:{array:["i64",2]}}},{name:"css_max_distance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:{option:"u32"}},{name:"origin_max_distance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:{option:"u32"}},{name:"distance_weighting",docs:["The distance weighting; used in calculating SDU probability"],type:{option:"u32"}},{name:"t_max",docs:["The maximum time before SDU probability at a location changes"],type:{option:"i64"}},{name:"x_mul",docs:["Multiplier in the X dimension; used in noise function"],type:{option:"u32"}},{name:"y_mul",docs:["Multiplier in the Y dimension; used in noise function"],type:{option:"u32"}},{name:"z_mul",docs:["Multiplier in the Z dimension; used in noise function"],type:{option:"u32"}},{name:"sdu_max_per_sector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:{option:"u32"}},{name:"scan_chance_regen_period",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:{option:"i16"}},{name:"key_index",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpkeepResourceType",docs:["The different types of upkeep resources"],type:{kind:"enum",variants:[{name:"Ammo"},{name:"Food"},{name:"Toolkit"}]}},{name:"Vaults",docs:["Token vaults"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"pubkey"},{name:"polis",docs:["POLIS token mint"],type:"pubkey"}]}},{name:"WarpLaneInput",docs:["Struct for data input to initialize a `WarpLane`"],type:{kind:"struct",fields:[{name:"key_index",docs:["The index of the key in the player profile"],type:"u16"},{name:"to_sector_index",docs:["Index of the to_sector in `SectorConnections` of the from_sector"],type:"u16"},{name:"from_sector_index",docs:["Index of the from_sector in `SectorConnections` of the to_sector"],type:"u16"}]}},{name:"WarpToCoordinateInput",docs:["Struct for data input to initialize a `WarpToCoordinate`"],type:{kind:"struct",fields:[{name:"key_index",docs:["The index of the key in the player profile"],type:"u16"},{name:"to_sector",docs:["The destination coordinates"],type:{array:["i64",2]}}]}},{name:"WithdrawCargoFromFleetInput",docs:["Struct for data input to `WithdrawCargoFromFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"key_index",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"WrappedShipEscrow",docs:["Wrapped `Ship` escrow info"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"pubkey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"update_id",docs:["The update id for the `Ship`"],type:"u64"}]}},{name:"CraftingInstance",docs:["This account is used to store relevant information for a crafting process instance"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"seq_id",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"authority",docs:["The authority over the `CraftingInstance`"],type:"pubkey"},{name:"crafting_process",docs:["The `CraftingProcess` account address"],type:"pubkey"},{name:"instance_type",docs:["the planet type"],type:"u8"},{name:"num_crew",docs:["The number of crew taking part in the crafting process"],type:"u64"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"DisbandedFleet",docs:["Keeps track of a fleet while it is disbanded"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"game_id",docs:["The game id this belongs to."],type:"pubkey"},{name:"owner_profile",docs:["The owner's profile."],type:"pubkey"},{name:"starbase",docs:["The `Starbase` at which the original `Fleet` was disbanded."],type:"pubkey"},{name:"fleet_label",docs:["The label or name of the disbanded fleet."],type:{array:["u8",32]}},{name:"fleet_ships",docs:["The `FleetShips` account belonging to the original `Fleet` that was disbanded."],type:"pubkey"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"Fleet",docs:["A `SAGE` fleet."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"game_id",docs:["The game id this belongs to."],type:"pubkey"},{name:"owner_profile",docs:["The owner's profile."],type:"pubkey"},{name:"fleet_ships",docs:["Fleet Ships Key"],type:"pubkey"},{name:"sub_profile",docs:["The fleet's sub-authority.","If [`Some`] will have the exclusive ability to interact with this fleet."],type:{defined:{name:"OptionalNonSystemPubkey"}}},{name:"sub_profile_invalidator",docs:["The authority for revoking a sun-authority."],type:"pubkey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"fleet_label",docs:["The label or name of the fleet."],type:{array:["u8",32]}},{name:"ship_counts",docs:["The number of ships in the fleet."],type:{defined:{name:"ShipCounts"}}},{name:"warp_cooldown_expires_at",docs:["The time at which the warp cooldown expires"],type:"i64"},{name:"scan_cooldown_expires_at",docs:["The time at which the scan cooldown expires"],type:"i64"},{name:"stats",docs:["The fleet's stats."],type:{defined:{name:"ShipStats"}}},{name:"cargo_hold",docs:["The Cargo pod representing the fleet's cargo hold"],type:"pubkey"},{name:"fuel_tank",docs:["The Cargo pod representing the fleet's fuel tank"],type:"pubkey"},{name:"ammo_bank",docs:["The Cargo pod representing the fleet's ammo bank"],type:"pubkey"},{name:"update_id",docs:["The update id for the `Fleet`"],type:"u64"},{name:"bump",docs:["The fleet's bump."],type:"u8"}]}},{name:"FleetShips",docs:["Keeps track of a the individual ships that make up a fleet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"fleet",docs:["The `Fleet` account this belongs to"],type:"pubkey"},{name:"fleet_ships_info_count",docs:["List length of `RemainingData`"],type:"u32"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"Game",docs:["Global Game Configuration variables"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"update_id",docs:["The sequence id for updates."],type:"u64"},{name:"profile",docs:["The [`Profile`](player_profile::state::Profile) that handles the sector program permissions"],type:"pubkey"},{name:"game_state",docs:["The associated `GameState` account."],type:"pubkey"},{name:"points",docs:["Points setting"],type:{defined:{name:"Points"}}},{name:"cargo",docs:["Cargo settings"],type:{defined:{name:"Cargo"}}},{name:"crafting",docs:["Crafting settings"],type:{defined:{name:"Crafting"}}},{name:"mints",docs:["mint related settings"],type:{defined:{name:"Mints"}}},{name:"vaults",docs:["vault related settings"],type:{defined:{name:"Vaults"}}},{name:"risk_zones",docs:["Data for risk zones"],type:{defined:{name:"RiskZonesData"}}}]}},{name:"GameState",docs:["Keeps track of variables that may change frequently during a `Game` session"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"update_id",docs:["The sequence id for updates"],type:"u64"},{name:"game_id",docs:["The `Game` that this belongs to"],type:"pubkey"},{name:"fleet",docs:["Fleet settings"],type:{defined:{name:"FleetInfo"}}},{name:"misc",docs:["Miscellaneous settings"],type:{defined:{name:"MiscVariables"}}},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"MineItem",docs:["Represents a token registered as an item that can be mined"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"game_id",docs:["the game_id account this item is registered with"],type:"pubkey"},{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"mint",docs:["the mint representing the items mined"],type:"pubkey"},{name:"resource_hardness",docs:["How hard it is to mine this item -> Ranges from 1-10"],type:"u16"},{name:"num_resource_accounts",docs:["The number of resource accounts for this mine item"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"Planet",docs:["Planet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Planet`"],type:{array:["u8",64]}},{name:"game_id",docs:["the `Game` that this belongs to"],type:"pubkey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"sub_coordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"planet_type",docs:["the planet type"],type:"u8"},{name:"position",docs:["the planet position"],type:"u8"},{name:"size",docs:["size"],type:"u64"},{name:"max_hp",docs:["maximum health"],type:"u64"},{name:"current_health",docs:["The current health of the `Planet`."],type:"u64"},{name:"amount_mined",docs:["the cumulative amount mined from this `Asteroid`"],type:"u64"},{name:"num_resources",docs:["the number of resources at this `Asteroid`"],type:"u8"},{name:"num_miners",docs:["the number of entities currently mining at this `Asteroid`"],type:"u64"}]}},{name:"PlayerCrewRecord",docs:["An account used to record how many crew members have been added to the game by a player",'This is meant to be used temporarily during the crew "pre add" period where players can add crew members to the game but not use them'],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"player_profile",docs:["The `Profile` key"],type:"pubkey"},{name:"crew_config",docs:["The `SageCrewConfig` key"],type:"pubkey"},{name:"game_id",docs:["The id of the `Game`"],type:"pubkey"},{name:"count",docs:["The number of crew members"],type:"u32"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"ProgressionConfig",docs:["Progression Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"game_id",docs:["the `Game` that this belongs to"],type:"pubkey"},{name:"daily_lp_limit",docs:["the daily limit for Loyalty Points (LP)"],type:"u64"},{name:"daily_council_rank_xp_limit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:"u64"},{name:"daily_pilot_xp_limit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:"u64"},{name:"daily_data_running_xp_limit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:"u64"},{name:"daily_mining_xp_limit",docs:["the daily limit for Mining Experience Points (MXP)"],type:"u64"},{name:"daily_crafting_xp_limit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:"u64"},{name:"num_items",docs:["number of progression items being tracked"],type:"u16"}]}},{name:"Resource",docs:["Represents a mine-able item existing at a particular location (e.g. a planet)"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"game_id",docs:["the game_id pubkey"],type:"pubkey"},{name:"location",docs:["the location's pubkey"],type:"pubkey"},{name:"mine_item",docs:["the mine item pubkey"],type:"pubkey"},{name:"location_type",docs:["the location type"],type:"u8"},{name:"system_richness",docs:["How abundant the resource is at the location -> Ranges from 1-5"],type:"u16"},{name:"amount_mined",docs:["the cumulative amount mined from this resource"],type:"u64"},{name:"num_miners",docs:["the number of entities currently mining this resource"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"SageCrewConfig",docs:["SAGE crew Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"game_id",docs:["the `Game` that this belongs to"],type:"pubkey"},{name:"config",docs:["the `CrewConfig` account address"],type:"pubkey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"SagePlayerProfile",docs:["A `SAGE` player's profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"player_profile",docs:["The `Profile` key"],type:"pubkey"},{name:"game_id",docs:["The id of the `Game`"],type:"pubkey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"Sector",docs:["Sector"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"game_id",docs:["the game_id that this belongs to"],type:"pubkey"},{name:"coordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"discoverer",docs:["The discoverer of this sector"],type:"pubkey"},{name:"name",docs:["The name of this sector"],type:{array:["u8",64]}},{name:"num_stars",docs:["the number of stars in this system"],type:"u16"},{name:"num_planets",docs:["the number of planets in this system"],type:"u16"},{name:"num_moons",docs:["the number of moons in this system"],type:"u16"},{name:"num_asteroid_belts",docs:["the number of num_asteroid belts in this system"],type:"u16"},{name:"last_scan_time",docs:["The last time the `Sector` was scanned"],type:"i64"},{name:"last_scan_chance",docs:["The probability of finding SDUs in the `Sector` from the last time it was scanned"],type:"u32"},{name:"bump",docs:["PDA bump"],type:"u8"},{name:"num_connections",docs:["the number of connections in this system"],type:"u16"}]}},{name:"Ship",docs:["This account represents a Ship"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"game_id",docs:["the game_id account this Ship is registered with"],type:"pubkey"},{name:"mint",docs:["the mint representing the Ship"],type:"pubkey"},{name:"name",docs:["The name of this `Ship`"],type:{array:["u8",64]}},{name:"size_class",docs:["the ship's size class"],type:"u8"},{name:"stats",docs:["The ship's stats"],type:{defined:{name:"ShipStats"}}},{name:"update_id",docs:["The `update_id` for the `Ship`"],type:"u64"},{name:"max_update_id",docs:["The max `Game` `update_id` that the `Ship` is valid for"],type:"u64"},{name:"next",docs:["the next `Ship` account to use when this `Ship` is updated"],type:{defined:{name:"OptionalNonSystemPubkey"}}}]}},{name:"Star",docs:["`Star` account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Star`"],type:{array:["u8",64]}},{name:"game_id",docs:["the game_id that this belongs to"],type:"pubkey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"size",docs:["size"],type:"u64"},{name:"sub_coordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"star_type",docs:["the star type"],type:"u8"}]}},{name:"Starbase",docs:["Starbase"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this `Starbase` account."],type:"u8"},{name:"game_id",docs:["the game_id that this `Starbase` belongs to"],type:"pubkey"},{name:"sector",docs:["the sector that this `Starbase` belongs to"],type:{array:["i64",2]}},{name:"crafting_facility",docs:["the [`CraftingFacility`] to use for crafting at this `Starbase`"],type:"pubkey"},{name:"upgrade_facility",docs:["the [`CraftingFacility`] to use for upgrade jobs at this `Starbase`"],type:"pubkey"},{name:"name",docs:["The name of this `Starbase`"],type:{array:["u8",64]}},{name:"sub_coordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"faction",docs:["The faction of the `Starbase`."],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"},{name:"seq_id",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"state",docs:["The state of the `Starbase`. Is a [`StarbaseState`]."],type:"u8"},{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"hp",docs:["The `Starbase` health points."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points."],type:"u64"},{name:"sector_ring_available",docs:["The planet position (`sector::state::Ring`) available for this `Starbase`"],type:"u8"},{name:"upgrade_state",docs:["The `Starbase` upgrade state"],type:"u8"},{name:"upgrade_ingredients_checksum",docs:["used to check if expected upgrade ingredients have been supplied"],type:{array:["u8",16]}},{name:"num_upgrade_ingredients",docs:["number of ingredients needed for starbase upgrade"],type:"u8"},{name:"upkeep_ammo_balance",docs:["The balance of ammo for upkeep"],type:"u64"},{name:"upkeep_ammo_last_update",docs:["The last time ammo for upkeep was updated (Local time)"],type:"i64"},{name:"upkeep_ammo_global_last_update",docs:["The last time ammo for upkeep was updated (Global time)"],type:"i64"},{name:"upkeep_food_balance",docs:["The balance of food for upkeep"],type:"u64"},{name:"upkeep_food_last_update",docs:["The last time food for upkeep was updated (Local time)"],type:"i64"},{name:"upkeep_food_global_last_update",docs:["The last time food for upkeep was updated (Global time)"],type:"i64"},{name:"upkeep_toolkit_balance",docs:["The balance of toolkits for upkeep"],type:"u64"},{name:"upkeep_toolkit_last_update",docs:["The last time toolkits for upkeep was updated (Local time)"],type:"i64"},{name:"upkeep_toolkit_global_last_update",docs:["The last time toolkits for upkeep was updated (Global time)"],type:"i64"},{name:"built_destroyed_timestamp",docs:["The last time the starbase was built or destroyed"],type:"i64"}]}},{name:"StarbasePlayer",docs:["The `SAGE` player info within a `Starbase`"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"player_profile",docs:["The `Profile` key"],type:"pubkey"},{name:"game_id",docs:["The id of the `Game`"],type:"pubkey"},{name:"starbase",docs:["The `Starbase` key"],type:"pubkey"},{name:"sage_player_profile",docs:["The `SagePlayerProfile` key"],type:"pubkey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"},{name:"ship_escrow_count",docs:["List length of `RemainingData`"],type:"u32"},{name:"old_total_crew",docs:["The old total crew members from the player's fleets at the `Starbase`","This is used BEFORE crew program features are turned ON"],type:"u32"},{name:"new_total_crew",docs:["The new total crew members from the player's fleets at the `Starbase`","This is used AFTER crew program features are turned ON"],type:"u32"},{name:"busy_crew",docs:["The number of crew members that is engaged/busy and not available"],type:"u64"},{name:"update_id",docs:["The `Game` update id"],type:"u64"},{name:"updated_ship_escrow_count",docs:["Number of updated items in `RemainingData` list","This will be `ship_escrow_count` when all ships in escrow are up-to-date"],type:"u32"}]}},{name:"SurveyDataUnitTracker",docs:["Survey Data Unit (SDU) Tracker"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"game_id",docs:["The game_id that this belongs to"],type:"pubkey"},{name:"sdu_mint",docs:["The Survey Data Unit Mint"],type:"pubkey"},{name:"resource_mint",docs:["The mint of the resource spent when scanning for SDUs"],type:"pubkey"},{name:"signer",docs:["The signer for this account"],type:"pubkey"},{name:"signer_bump",docs:["The signer for this account"],type:"u8"},{name:"coordinates_range",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"css_coordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"origin_coordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"css_max_distance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"origin_max_distance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distance_weighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"t_max",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"x_mul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"y_mul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"z_mul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sdu_max_per_sector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scan_chance_regen_period",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"}]}}];var sageIDL={address:address$3,metadata:metadata$3,instructions:instructions$3,accounts:accounts$3,errors:errors$4,types:types$9};const address$2="gateVwTnKyFrE8nxUUgfzoZTPKgJQZUbLsEidpG4Dp2",metadata$2={name:"proxy_rewarder",version:"0.5.6",spec:"0.1.0"},instructions$2=[{name:"register_locker",docs:["Registers a Locker from the locked_voter program"],discriminator:[86,165,215,222,1,31,88,95],accounts:[{name:"admin",docs:["Admin key"],writable:!0,signer:!0},{name:"locker",docs:["[locked_voter::Locker]."]},{name:"registered_locker",docs:["New RegisteredLocker account"],writable:!0,pda:{seeds:[{kind:"const",value:[34,82,101,103,105,115,116,101,114,101,100,76,111,99,107,101,114,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"token_mint",docs:["The token mint that matches the Locker token mint (ie POLIS)"]},{name:"treasury_token_account",docs:["The treasury token account holding all tokens to reward users"],writable:!0,pda:{seeds:[{kind:"const",value:[34,84,114,101,97,115,117,114,121,84,111,107,101,110,65,99,99,111,117,110,116,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"treasury_authority",docs:["The treasury authority PDA     /// CHECK: pda token account authority"],writable:!0,pda:{seeds:[{kind:"const",value:[34,84,114,101,97,115,117,114,121,65,117,116,104,111,114,105,116,121,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"token_program"},{name:"system_program"},{name:"rent"}],args:[]},{name:"update_registered_locker",docs:["Updates `rewards` arrays in registered_locker [proxy_rewarder::registered_locker]."],discriminator:[134,107,193,117,188,70,189,92],accounts:[{name:"admin",docs:["Admin key"],signer:!0},{name:"locker",docs:["The [locked_voter::locker] being exited from."]},{name:"registered_locker",docs:["RegisteredLocker account"],writable:!0,pda:{seeds:[{kind:"const",value:[34,82,101,103,105,115,116,101,114,101,100,76,111,99,107,101,114,34]},{kind:"account",path:"locker",account:"Locker"}]}}],args:[{name:"era",type:"u16"},{name:"index",type:"u16"},{name:"period_reward_amount",type:"u64"}]},{name:"new_proxy_escrow",discriminator:[126,117,27,234,107,233,37,162],accounts:[{name:"escrow_owner",docs:["[Owner]."],writable:!0,signer:!0},{name:"proxy_escrow",docs:["[Escrow]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,80,114,111,120,121,69,115,99,114,111,119,34]},{kind:"account",path:"escrow_owner"}]}},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"new_proxy",docs:["Creates a new [Proxy] for an account.","","A Reward Escrow, or [Escrow] for short, is an agreement between a users=>proxy (known as the `authority`) and the Reward Program to","reward POLIS over specific periods of time. (curve)","proportional to the amount of stakers."],discriminator:[158,43,152,240,31,181,251,32],accounts:[{name:"proxy_escrow",docs:["[ProxyEscrow]."],writable:!0},{name:"proxy",docs:["[Proxy]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,80,114,111,120,121,34]},{kind:"account",path:"proxy_escrow",account:"ProxyEscrow"},{kind:"account",path:"proxy_owner"}]}},{name:"token_mint",docs:["Mint of the token that can be used to join the [LockedVoter::Locker]."]},{name:"proxy_owner",docs:["Authority of the [Proxy] to be created."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"proxy_lock",docs:["Locks `amount` of POLIS into the [LockedVoter::Escrow]."],discriminator:[18,232,74,146,141,98,190,148],accounts:[{name:"locker",docs:["[locked_voter::Locker]."],writable:!0},{name:"escrow",writable:!0},{name:"user_token_account",docs:["The source of deposited tokens."],writable:!0},{name:"proxy_token_account",docs:["Token account used to transfer governance tokens into [locked_voter::lock] escrow"],writable:!0},{name:"escrow_token_account",docs:["Token account held by the [locked_voter::Escrow]."],writable:!0},{name:"proxy",docs:["Authority of the [locked_voter::escrow]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,80,114,111,120,121,34]},{kind:"account",path:"proxy.escrow",account:"Proxy"},{kind:"account",path:"payer"}]}},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"locked_voter_program",docs:["The [LockedVoter] program."]},{name:"token_program",docs:["Token program."]},{name:"registered_locker"}],args:[{name:"amount",type:"u64"},{name:"duration",type:"i64"}]},{name:"proxy_exit",docs:["Exits the POLIS DAO; i.e., withdraws all staked tokens in an [Escrow] if the [Escrow] is unlocked."],discriminator:[205,235,156,190,11,93,98,70],accounts:[{name:"locker",docs:["The [locked_voter::locker] being exited from."],writable:!0},{name:"escrow",docs:["The [locked_voter::Escrow] that is being closed."],writable:!0},{name:"proxy",docs:["Authority of the [locked_voter::Escrow]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,80,114,111,120,121,34]},{kind:"account",path:"proxy.escrow",account:"Proxy"},{kind:"account",path:"payer"}]}},{name:"escrow_token_account",docs:["Tokens locked up in the [locked_voter::Escrow]."],writable:!0},{name:"proxy_token_account",docs:["Destination for the tokens to unlock."],writable:!0},{name:"user_token_account",docs:["Final destination for the tokens to unlock."],writable:!0},{name:"payer",docs:["The payer to receive the rent refund."],writable:!0,signer:!0},{name:"locked_voter_program",docs:["The [LockedVoter] program."]},{name:"token_program",docs:["Token program."]},{name:"registered_locker"}],args:[]},{name:"claim_rewards",docs:["Proxy Activates a proposal.","Proxy Casts a vote.","Claims POLIS Rewards; i.e., withdraws reward tokens from a treasury if the [snapshots::escrow_history] is confirmed."],discriminator:[4,144,132,71,116,23,151,80],accounts:[{name:"escrow",docs:["The [locked_voter::Escrow] being validated from."]},{name:"locker",docs:["The [locked_voter::locker] being exited from."]},{name:"proxy",docs:["Authority of the [locked_voter::Escrow]."]},{name:"proxy_escrow",docs:["[proxy_rewarder::proxy_escrow]."],writable:!0},{name:"escrow_history",docs:["The [snapshots::escrow_history] to read and validate."]},{name:"locker_history",docs:["The [snapshots::locker_history] to read and validate."]},{name:"treasury_token_account",docs:["Treasury tokens in the [proxy_rewarder::treasury_token_account]. The treasury token account holding all tokens to reward users"],writable:!0,pda:{seeds:[{kind:"const",value:[34,84,114,101,97,115,117,114,121,84,111,107,101,110,65,99,99,111,117,110,116,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"registered_locker",docs:["RegisteredLocker account"]},{name:"treasury_authority",docs:["The treasury authority PDA"],pda:{seeds:[{kind:"const",value:[34,84,114,101,97,115,117,114,121,65,117,116,104,111,114,105,116,121,34]},{kind:"account",path:"locker",account:"Locker"}]}},{name:"user_token_account",docs:["Final destination for the tokens to unlock."],writable:!0},{name:"escrow_owner",docs:["[Owner]"],signer:!0},{name:"token_program",docs:["Token program."]}],args:[]}],accounts$2=[{name:"Proxy",discriminator:[36,36,123,35,158,89,75,41]},{name:"ProxyEscrow",discriminator:[59,236,59,197,113,229,79,237]},{name:"RegisteredLocker",discriminator:[162,172,212,210,238,88,154,49]},{name:"TreasuryAuthority",discriminator:[56,251,232,94,128,197,59,150]}],events$1=[{name:"ClaimRewardsEvent",discriminator:[224,197,51,113,233,72,117,183]},{name:"NewProxyEscrowEvent",discriminator:[62,120,232,226,20,20,141,59]},{name:"NewProxyEvent",discriminator:[100,47,251,206,217,186,138,152]},{name:"ProxyExitEscrowEvent",discriminator:[24,75,75,133,134,198,192,15]},{name:"ProxyLockEvent",discriminator:[185,168,219,105,4,76,9,104]}],errors$3=[{code:6e3,name:"ProgramNotWhitelisted",msg:"CPI caller not whitelisted to invoke lock instruction."},{code:6001,name:"LockupDurationTooShort",msg:"Lockup duration must at least be the min stake duration."},{code:6002,name:"LockupDurationTooLong",msg:"Lockup duration must at most be the max stake duration."},{code:6003,name:"RefreshCannotShorten",msg:"A voting escrow refresh cannot shorten the escrow time remaining."},{code:6004,name:"EscrowNotEnded",msg:"Escrow has not ended."},{code:6005,name:"MustProvideWhitelist",msg:"Program whitelist enabled; please provide whitelist entry and instructions sysvar"},{code:6006,name:"EscrowOwnerNotWhitelisted",msg:"CPI caller not whitelisted for escrow owner to invoke lock instruction."},{code:6007,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6008,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6009,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6010,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6011,name:"EraMismatch",msg:"Era mismatch."},{code:6012,name:"WrongPDA",msg:"Wrong PDA proxy exit."},{code:6013,name:"YouHaveNoPendingRewards",msg:"You have no claimable rewards."},{code:6014,name:"MustCallProxyLockWithWhitelist",msg:"Must call `proxy_lock_with_whitelist` to lock via CPI."},{code:6015,name:"RewardsNotReady",msg:"rewards_last_claimed_at > now"},{code:6016,name:"InvalidAdmin",msg:"locker.base != to the admin signer"}],types$8=[{name:"Proxy",type:{kind:"struct",fields:[{name:"escrow",docs:["The [Escrow] that this [Proxy] is part of."],type:"pubkey"},{name:"owner",docs:["The key of the account that is authorized to cpi via this [Proxy]."],type:"pubkey"},{name:"token_mint",docs:["Mint of the token that must be locked in the [LockedVoter::Locker]."],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"proxy_token_account",docs:["The token account holding the proxy tokens."],type:"pubkey"}]}},{name:"ProxyEscrow",docs:["records rewards state on a user."],type:{kind:"struct",fields:[{name:"escrow_owner",docs:["The key of the account that is authorized to withdraw from the [Treasury]."],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"amount",docs:["Amount of tokens staked."],type:"u64"},{name:"escrow_started_at",docs:["When the [proxy_escrow::escrow_owner] started their escrow."],type:"i64"},{name:"escrow_ends_at",docs:["When the escrow unlocks; i.e. the [proxy_escrow::escrow_owner] is scheduled to be allowed to withdraw their governance tokens."],type:"i64"},{name:"rewards_last_claimed_at",docs:["When the [proxy_escrow::escrow_owner] last claimed rewards from [Treasury]."],type:"i64"},{name:"amount_claimed",docs:["Amount of tokens claimed."],type:"u64"}]}},{name:"RegisteredLocker",docs:["Registered locker - needs to be created to earn rewards",'PDA unique to ["RegisteredLocker", locker.key]',"reprc- pack"],type:{kind:"struct",fields:[{name:"admin",docs:["The key of the admin account that is managing the registered locker"],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"token_mint",docs:["The token mint aligned with the locker and for rewards paid to users"],type:"pubkey"},{name:"locker",docs:["The locker account on the locked_voter program being registered"],type:"pubkey"},{name:"padding",docs:["Padding for aligning the struct to an 8-byte boundary."],type:{array:["u8",7]}},{name:"reward_amount_paid_per_period_era0",docs:["All tracked historical reward rate totals per period per era allocated to users."],type:{array:["u64",256]}},{name:"reward_amount_paid_per_period_era1",type:{array:["u64",256]}},{name:"reward_amount_paid_per_period_era2",type:{array:["u64",256]}}]}},{name:"TreasuryAuthority",docs:["Treasury Authority - PDA who has authority to withdraw rewards from the treasury."],type:{kind:"struct",fields:[{name:"locker",docs:["The locker account on the locked_voter program being registered"],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"}]}},{name:"ClaimRewardsEvent",type:{kind:"struct",fields:[{name:"escrow_owner",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"amount_claimed",type:"u64"},{name:"prev_rewards_last_claimed_at",type:"i64"},{name:"rewards_last_claimed_at",type:"i64"}]}},{name:"NewProxyEscrowEvent",type:{kind:"struct",fields:[{name:"proxy_escrow",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"NewProxyEvent",type:{kind:"struct",fields:[{name:"proxy",type:"pubkey"},{name:"proxy_owner",type:"pubkey"},{name:"proxy_escrow",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"ProxyExitEscrowEvent",type:{kind:"struct",fields:[{name:"escrow_owner",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"locker_supply",type:"u64"},{name:"released_amount",type:"u64"}]}},{name:"ProxyLockEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"escrow_owner",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"amount",type:"u64"},{name:"locker_supply",type:"u64"},{name:"duration",type:"i64"},{name:"prev_escrow_ends_at",type:"i64"},{name:"next_escrow_ends_at",type:"i64"},{name:"next_escrow_started_at",type:"i64"}]}}];var proxyRewarderIDL={address:address$2,metadata:metadata$2,instructions:instructions$2,accounts:accounts$2,events:events$1,errors:errors$3,types:types$8};const address$1="Lock7kBijGCQLEFAmXcengzXKA88iDNQPriQ7TbgeyG",metadata$1={name:"locked_voter",version:"0.1.1",spec:"0.1.0"},instructions$1=[{name:"new_locker",docs:["Creates a new [Locker]."],discriminator:[177,133,32,90,229,216,131,47],accounts:[{name:"base",docs:["Base."],signer:!0},{name:"locker",docs:["[Locker]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,76,111,99,107,101,114,34]},{kind:"account",path:"base"}]}},{name:"token_mint",docs:["Mint of the token that can be used to join the [Locker]."]},{name:"governor",docs:["[Governor] associated with the [Locker]."]},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"},{name:"params",type:{defined:{name:"LockerParams"}}}]},{name:"new_escrow",docs:["Creates a new [Escrow] for an account.","","A Vote Escrow, or [Escrow] for short, is an agreement between an account (known as the `authority`) and the DAO to","lock up tokens for a specific period of time, in exchange for voting rights","linearly proportional to the amount of votes given."],discriminator:[216,182,143,11,220,38,86,185],accounts:[{name:"locker",docs:["[Locker]."]},{name:"escrow",docs:["[Escrow]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,69,115,99,114,111,119,34]},{kind:"account",path:"locker",account:"Locker"},{kind:"account",path:"escrow_owner"}]}},{name:"escrow_owner"},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"lock",docs:["Stakes `amount` tokens into the [Escrow].","WARNING: if the program has a whitelist, one should use [crate::locked_voter::lock_with_whitelist] instead.","This version of the instruction is deprecated."],discriminator:[21,19,208,43,237,62,255,87],accounts:[{name:"locker",docs:["[Locker]."],writable:!0},{name:"escrow",docs:["[Escrow]."],writable:!0},{name:"escrow_tokens",docs:["Token account held by the [Escrow]."],writable:!0},{name:"escrow_owner",docs:["Authority of the [Escrow] and [Self::source_tokens]."],signer:!0},{name:"source_tokens",docs:["The source of deposited tokens."],writable:!0},{name:"token_program",docs:["Token program."]}],args:[{name:"amount",type:"u64"},{name:"duration",type:"i64"}]},{name:"lock_with_whitelist_entry",docs:["Stakes `amount` tokens into the [Escrow], if there is a whitelist.","Stakes `amount` tokens into the [Escrow] via CPI by using the provided [LockerWhitelistEntry]."],discriminator:[138,248,185,79,3,115,115,57],accounts:[{name:"lock",accounts:[{name:"locker",docs:["[Locker]."],writable:!0},{name:"escrow",docs:["[Escrow]."],writable:!0},{name:"escrow_tokens",docs:["Token account held by the [Escrow]."],writable:!0},{name:"escrow_owner",docs:["Authority of the [Escrow] and [Self::source_tokens]."],signer:!0},{name:"source_tokens",docs:["The source of deposited tokens."],writable:!0},{name:"token_program",docs:["Token program."]}]},{name:"instructions_sysvar"},{name:"whitelist_entry"}],args:[{name:"amount",type:"u64"},{name:"duration",type:"i64"}]},{name:"exit",docs:["Stakes `amount` tokens into the [Escrow] if there is no whitelist.","Exits the DAO; i.e., withdraws all staked tokens in an [Escrow] if the [Escrow] is unlocked."],discriminator:[234,32,12,71,126,5,219,160],accounts:[{name:"locker",docs:["The [Locker] being exited from."],writable:!0},{name:"escrow",docs:["The [Escrow] that is being closed."],writable:!0},{name:"escrow_owner",docs:["Authority of the [Escrow]."],signer:!0},{name:"escrow_tokens",docs:["Tokens locked up in the [Escrow]."],writable:!0},{name:"destination_tokens",docs:["Destination for the tokens to unlock."],writable:!0},{name:"payer",docs:["The payer to receive the rent refund."],writable:!0,signer:!0},{name:"token_program",docs:["Token program."]}],args:[]},{name:"activate_proposal",docs:["Activates a proposal."],discriminator:[90,186,203,234,70,185,191,21],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"governor",docs:["The [Governor]."]},{name:"proposal",docs:["The [Proposal]."],writable:!0},{name:"escrow",docs:["The user's [Escrow]."]},{name:"escrow_owner",docs:["The [Escrow]'s owner."],signer:!0},{name:"govern_program",docs:["The [govern] program."]}],args:[]},{name:"cast_vote",docs:["Casts a vote."],discriminator:[20,212,15,189,69,180,69,151],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"escrow",docs:["The [Escrow] that is voting."]},{name:"vote_delegate",docs:["Vote delegate of the [Escrow]."],signer:!0},{name:"proposal",docs:["The [Proposal] being voted on."],writable:!0},{name:"vote",docs:["The [Vote]."],writable:!0},{name:"governor",docs:["The [Governor]."]},{name:"govern_program",docs:["The [govern] program."]}],args:[{name:"side",type:"u8"}]},{name:"set_vote_delegate",docs:["Delegate escrow vote."],discriminator:[46,236,241,243,251,108,156,12],accounts:[{name:"escrow",docs:["The [Escrow]."],writable:!0},{name:"escrow_owner",docs:["The owner of the [Escrow]."],signer:!0}],args:[{name:"new_delegate",type:"pubkey"}]},{name:"set_locker_params",docs:["Set locker params."],discriminator:[106,39,132,84,254,77,161,169],accounts:[{name:"locker",docs:["The [Locker]."],writable:!0},{name:"governor",docs:["The [Governor]."]},{name:"smart_wallet",docs:["The smart wallet on the [Governor]."],signer:!0}],args:[{name:"params",type:{defined:{name:"LockerParams"}}}]},{name:"approve_program_lock_privilege",docs:["Creates a new [LockerWhitelistEntry] to whitelist program from CPI."],discriminator:[75,202,1,4,122,110,102,148],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"whitelist_entry",docs:["[LockerWhitelistEntry]."],writable:!0,pda:{seeds:[{kind:"const",value:[34,76,111,99,107,101,114,87,104,105,116,101,108,105,115,116,69,110,116,114,121,34]},{kind:"account",path:"locker",account:"Locker"},{kind:"account",path:"executable_id"},{kind:"account",path:"whitelisted_owner"}]}},{name:"governor",docs:["Governor for the [Locker]."]},{name:"smart_wallet",docs:["Smart wallet on the [Governor]."],signer:!0},{name:"executable_id"},{name:"whitelisted_owner"},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0},{name:"system_program",docs:["System program."]}],args:[{name:"bump",type:"u8"}]},{name:"revoke_program_lock_privilege",docs:["Close a [LockerWhitelistEntry] revoking program's CPI privilege."],discriminator:[170,151,7,88,194,86,245,112],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"whitelist_entry",docs:["[LockerWhitelistEntry]."],writable:!0},{name:"governor",docs:["Governor for the [Locker]."]},{name:"smart_wallet",docs:["Smart wallet on the [Governor]."],signer:!0},{name:"payer",docs:["Payer of the initialization."],writable:!0,signer:!0}],args:[]}],accounts$1=[{name:"Locker",discriminator:[74,246,6,113,249,228,75,169]},{name:"LockerWhitelistEntry",discriminator:[128,245,238,138,226,48,216,63]},{name:"Escrow",discriminator:[31,213,123,187,186,22,218,155]}],events=[{name:"ApproveLockPrivilegeEvent",discriminator:[240,224,137,61,143,200,225,110]},{name:"ExitEscrowEvent",discriminator:[218,91,68,189,102,152,212,166]},{name:"LockEvent",discriminator:[76,37,6,186,14,42,253,15]},{name:"NewEscrowEvent",discriminator:[96,82,181,204,84,177,72,141]},{name:"NewLockerEvent",discriminator:[149,31,207,106,172,155,65,110]},{name:"RevokeLockPrivilegeEvent",discriminator:[53,15,178,80,153,198,65,145]},{name:"LockerSetParamsEvent",discriminator:[239,24,209,234,210,143,7,202]},{name:"SetVoteDelegateEvent",discriminator:[165,160,157,241,121,34,54,8]}],errors$2=[{code:6e3,name:"ProgramNotWhitelisted",msg:"CPI caller not whitelisted to invoke lock instruction."},{code:6001,name:"LockupDurationTooShort",msg:"Lockup duration must at least be the min stake duration."},{code:6002,name:"LockupDurationTooLong",msg:"Lockup duration must at most be the max stake duration."},{code:6003,name:"RefreshCannotShorten",msg:"A voting escrow refresh cannot shorten the escrow time remaining."},{code:6004,name:"EscrowNotEnded",msg:"Escrow has not ended."},{code:6005,name:"MustProvideWhitelist",msg:"Program whitelist enabled; please provide whitelist entry and instructions sysvar or use the 'lock_with_whitelist' instruction."},{code:6006,name:"EscrowOwnerNotWhitelisted",msg:"CPI caller not whitelisted for escrow owner to invoke lock instruction."},{code:6007,name:"MustCallLockWithWhitelistEntry",msg:"Must call `lock_with_whitelist_entry` to lock via CPI."},{code:6008,name:"MustCallLockPermissionless",msg:"Must call `lock_permissionless` since this DAO does not have a CPI whitelist."}],types$7=[{name:"LockerParams",docs:["Contains parameters for the [Locker]."],type:{kind:"struct",fields:[{name:"whitelist_enabled",docs:["Whether or not the locking whitelist system is enabled."],type:"bool"},{name:"max_stake_vote_multiplier",docs:["The weight of a maximum vote lock relative to the total number of tokens locked.","For example, veCRV is 10 because 1 CRV locked for 4 years = 10 veCRV."],type:"u8"},{name:"min_stake_duration",docs:["Minimum staking duration."],type:"u64"},{name:"max_stake_duration",docs:["Maximum staking duration."],type:"u64"},{name:"proposal_activation_min_votes",docs:["Minimum number of votes required to activate a proposal."],type:"u64"}]}},{name:"Locker",docs:["A group of [Escrow]s."],type:{kind:"struct",fields:[{name:"base",docs:["Base account used to generate signer seeds."],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"token_mint",docs:["Mint of the token that must be locked in the [Locker]."],type:"pubkey"},{name:"locked_supply",docs:["Total number of tokens locked in [Escrow]s."],type:"u64"},{name:"governor",docs:["Governor associated with the [Locker]."],type:"pubkey"},{name:"params",docs:["Mutable parameters of how a [Locker] should behave."],type:{defined:{name:"LockerParams"}}}]}},{name:"LockerWhitelistEntry",docs:["An entry in the [Locker]'s whitelist.","","The whitelist controls which programs are allowed to stake tokens into the system."],type:{kind:"struct",fields:[{name:"bump",docs:["Bump seed."],type:"u8"},{name:"locker",docs:["[Locker] this whitelist entry belongs to."],type:"pubkey"},{name:"program_id",docs:["Key of the program_id allowed to call the `lock` CPI."],type:"pubkey"},{name:"owner",docs:["The account authorized to be the [Escrow::owner] with this CPI.","If set to [anchor_lang::solana_program::system_program::ID],","all accounts are allowed to be the [Escrow::owner]."],type:"pubkey"}]}},{name:"Escrow",docs:["Locks tokens on behalf of a user."],type:{kind:"struct",fields:[{name:"locker",docs:["The [Locker] that this [Escrow] is part of."],type:"pubkey"},{name:"owner",docs:["The key of the account that is authorized to stake into/withdraw from this [Escrow]."],type:"pubkey"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"tokens",docs:["The token account holding the escrow tokens."],type:"pubkey"},{name:"amount",docs:["Amount of tokens staked."],type:"u64"},{name:"escrow_started_at",docs:["When the [Escrow::owner] started their escrow."],type:"i64"},{name:"escrow_ends_at",docs:["When the escrow unlocks; i.e. the [Escrow::owner] is scheduled to be allowed to withdraw their tokens."],type:"i64"},{name:"vote_delegate",docs:["Account that is authorized to vote on behalf of this [Escrow].","Defaults to the [Escrow::owner]."],type:"pubkey"}]}},{name:"ApproveLockPrivilegeEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"program_id",type:"pubkey"},{name:"owner",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"ExitEscrowEvent",type:{kind:"struct",fields:[{name:"escrow_owner",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"timestamp",type:"i64"},{name:"locker_supply",type:"u64"},{name:"released_amount",type:"u64"}]}},{name:"LockEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"escrow_owner",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"amount",type:"u64"},{name:"locker_supply",type:"u64"},{name:"duration",type:"i64"},{name:"prev_escrow_ends_at",type:"i64"},{name:"next_escrow_ends_at",type:"i64"},{name:"next_escrow_started_at",type:"i64"}]}},{name:"NewEscrowEvent",type:{kind:"struct",fields:[{name:"escrow",type:"pubkey"},{name:"escrow_owner",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"NewLockerEvent",type:{kind:"struct",fields:[{name:"governor",type:"pubkey"},{name:"locker",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"params",type:{defined:{name:"LockerParams"}}}]}},{name:"RevokeLockPrivilegeEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"program_id",type:"pubkey"},{name:"timestamp",type:"i64"}]}},{name:"LockerSetParamsEvent",type:{kind:"struct",fields:[{name:"locker",type:"pubkey"},{name:"prev_params",type:{defined:{name:"LockerParams"}}},{name:"params",type:{defined:{name:"LockerParams"}}}]}},{name:"SetVoteDelegateEvent",type:{kind:"struct",fields:[{name:"escrow_owner",type:"pubkey"},{name:"old_delegate",type:"pubkey"},{name:"new_delegate",type:"pubkey"}]}}];var lockedVoterIDL={address:address$1,metadata:metadata$1,instructions:instructions$1,accounts:accounts$1,events,errors:errors$2,types:types$7};const address="snapNQkxsiqDWdbNfz8KVB7e3NPzLwtHHA6WV8kKgUc",metadata={name:"snapshots",version:"0.1.1",spec:"0.1.0"},instructions=[{name:"create_escrow_history",docs:["Creates a [EscrowHistory]."],discriminator:[250,177,121,80,206,44,17,225],accounts:[{name:"escrow",docs:["The [Escrow]."]},{name:"escrow_history",docs:["The [EscrowHistory] to be created."],writable:!0,pda:{seeds:[{kind:"const",value:[34,69,115,99,114,111,119,72,105,115,116,111,114,121,34]},{kind:"account",path:"escrow",account:"Escrow"},{kind:"arg",path:"era"}]}},{name:"payer",docs:["Payer."],writable:!0,signer:!0},{name:"system_program",docs:["[System] program."]}],args:[{name:"era",type:"u16"}]},{name:"create_locker_history",docs:["Creates a [LockerHistory]."],discriminator:[108,4,187,204,145,73,128,73],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"locker_history",docs:["The [LockerHistory] to be created."],writable:!0,pda:{seeds:[{kind:"const",value:[34,76,111,99,107,101,114,72,105,115,116,111,114,121,34]},{kind:"account",path:"locker",account:"Locker"},{kind:"arg",path:"era"}]}},{name:"payer",docs:["Payer."],writable:!0,signer:!0},{name:"system_program",docs:["[System] program."]}],args:[{name:"era",type:"u16"}]},{name:"sync",docs:["Synchronize an [locked_voter::Escrow] with the [LockerHistory]/[EscrowHistory]."],discriminator:[4,219,40,164,21,157,189,88],accounts:[{name:"locker",docs:["The [Locker]."]},{name:"escrow",docs:["The [Escrow]."]},{name:"locker_history",docs:["The [LockerHistory] to sync."],writable:!0},{name:"escrow_history",docs:["The [EscrowHistory] to sync."],writable:!0}],args:[]}],accounts=[{name:"LockerHistory",discriminator:[82,148,228,104,132,144,101,129]},{name:"EscrowHistory",discriminator:[170,160,173,100,94,119,107,81]}],errors$1=[{code:6e3,name:"LockerEscrowMismatch",msg:"Locker/escrow mismatch."},{code:6001,name:"EraMismatch",msg:"Era mismatch."},{code:6002,name:"EscrowBalanceDecreased",msg:"Escrow balances cannot decrease."}],types$6=[{name:"LockerHistory",docs:["Stores the total number of veTokens in circulation for each period.","","The [LockerHistory] account stores 256 periods, each 3 days each.","For a 5-year [locked_voter::Locker], there will be at least 3 of these accounts existing","at any given time, since the maximum lock period is 5 years."],type:{kind:"struct",fields:[{name:"locker",docs:["The [locked_voter::Locker] being tracked."],type:"pubkey"},{name:"era",docs:["The era. Multiplying this by [ERA_NUM_PERIODS] * [PERIOD_SECONDS];"],type:"u16"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"padding",docs:["Padding for aligning the struct to an 8-byte boundary."],type:{array:["u8",5]}},{name:"ve_balances",docs:["The sum of all tracked historical vote escrow balances."],type:{array:["u64",256]}},{name:"ve_counts",docs:["Number of voters with non-zero balances at each epoch."],type:{array:["u64",256]}}]}},{name:"EscrowHistory",docs:["Stores the total veToken balance of an [locked_voter::Escrow]","for the given epochs.","","Any time someone refreshes and/or modifies their vote [locked_voter::Escrow], they","should refresh their [EscrowHistory] accounts."],type:{kind:"struct",fields:[{name:"escrow",docs:["The [locked_voter::Escrow] being tracked."],type:"pubkey"},{name:"era",docs:["The era."],type:"u16"},{name:"bump",docs:["Bump seed."],type:"u8"},{name:"padding",docs:["Padding for aligning the struct to an 8-byte boundary."],type:{array:["u8",5]}},{name:"ve_balances",docs:["All tracked historical vote escrow balances for this [locked_voter::Escrow]."],type:{array:["u64",256]}}]}}];var snapshotsIDL={address,metadata,instructions,accounts,errors:errors$1,types:types$6};const preflightCommitment="processed",commitment="confirmed";let workspace;const useWorkspaceAdapter=()=>workspace,initWorkspaceAdapter=()=>{const n=useAnchorWallet(),e=computed$1(()=>useRPCStore().connection),t=computed$1(()=>new AnchorProvider(e.value,n.value,{preflightCommitment,commitment})),r=computed$1(()=>new Program(whitelistIDL,t.value)),o=computed$1(()=>new Program(wrapperIDL,t.value)),a=computed$1(()=>new Program(raffleIDL,t.value)),c=computed$1(()=>new Program(playerProfileIDL,t.value)),u=computed$1(()=>new Program(factionProfileIDL,t.value)),en=computed$1(()=>new Program(sageIDL,t.value)),tn=computed$1(()=>new Program(proxyRewarderIDL,t.value)),nn=computed$1(()=>new Program(lockedVoterIDL,t.value)),sn=computed$1(()=>new Program(snapshotsIDL,t.value));console.log("[Loaded] Workspace"),workspace={wallet:n,connection:e,provider:t,pg_wrapper:o,pg_whitelist:r,pg_raffle:a,pg_playerProfile:c,pg_factionProfile:u,pg_sage:en,pg_proxyRewarder:tn,pg_lockedVoter:nn,pg_snapshots:sn}};var backgrounds="";const TOKEN_PROGRAM_ID$1=new PublicKey$7("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),TOKEN_2022_PROGRAM_ID=new PublicKey$7("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),ASSOCIATED_TOKEN_PROGRAM_ID$1=new PublicKey$7("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),NATIVE_MINT$1=new PublicKey$7("So11111111111111111111111111111111111111112"),NATIVE_MINT_2022=new PublicKey$7("9pan9bMn5HatX4EJdBwg9VgCa7Uz5HL8N1m5D3NdXejP");function programSupportsExtensions(n){return!n.equals(TOKEN_PROGRAM_ID$1)}const encodeDecode$6=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bigInt$6=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode$6(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntLE_1(dist$3.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferLE_1(c,n);return r(tn,u,en)},a},bigIntBE=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode$6(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntBE_1(dist$3.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferBE_1(c,n);return r(tn,u,en)},a},u64$9=bigInt$6(8),u64be=bigIntBE(8),u128=bigInt$6(16),u128be=bigIntBE(16),u192=bigInt$6(24),u192be=bigIntBE(24),u256=bigInt$6(32),u256be=bigIntBE(32),bool=n=>{const e=u8$2(n),{encode:t,decode:r}=encodeDecode$6(e),o=e;return o.decode=(a,c)=>!!r(a,c),o.encode=(a,c,u)=>{const en=Number(a);return t(en,c,u)},o};class StructError$4 extends TypeError{constructor(e,t){let r;const{message:o,...a}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var en;return(en=r)!=null?en:r=[e,...t()]}}}function isIterable$4(n){return isObject$6(n)&&typeof n[Symbol.iterator]=="function"}function isObject$6(n){return typeof n=="object"&&n!=null}function print$4(n){return typeof n=="string"?JSON.stringify(n):""+n}function shiftIterator$4(n){const{done:e,value:t}=n.next();return e?void 0:t}function toFailure$4(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:a}=e,{type:c}=t,{refinement:u,message:en="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+print$4(r)+"`"}=n;return{value:r,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...n,message:en}}function*toFailures$4(n,e,t,r){isIterable$4(n)||(n=[n]);for(const o of n){const a=toFailure$4(o,e,t,r);a&&(yield a)}}function*run$5(n,e,t={}){const{path:r=[],branch:o=[n],coerce:a=!1,mask:c=!1}=t,u={path:r,branch:o};if(a&&(n=e.coercer(n,u),c&&e.type!=="type"&&isObject$6(e.schema)&&isObject$6(n)&&!Array.isArray(n)))for(const tn in n)e.schema[tn]===void 0&&delete n[tn];let en=!0;for(const tn of e.validator(n,u))en=!1,yield[tn,void 0];for(let[tn,nn,sn]of e.entries(n,u)){const fn=run$5(nn,sn,{path:tn===void 0?r:[...r,tn],branch:tn===void 0?o:[...o,nn],coerce:a,mask:c});for(const dn of fn)dn[0]?(en=!1,yield[dn[0],void 0]):a&&(nn=dn[1],tn===void 0?n=nn:n instanceof Map?n.set(tn,nn):n instanceof Set?n.add(nn):isObject$6(n)&&(n[tn]=nn))}if(en)for(const tn of e.refiner(n,u))en=!1,yield[tn,void 0];en&&(yield[void 0,n])}class Struct$a{constructor(e){const{type:t,schema:r,validator:o,refiner:a,coercer:c=en=>en,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,o?this.validator=(en,tn)=>{const nn=o(en,tn);return toFailures$4(nn,tn,this,en)}:this.validator=()=>[],a?this.refiner=(en,tn)=>{const nn=a(en,tn);return toFailures$4(nn,tn,this,en)}:this.refiner=()=>[]}assert(e){return assert$e(e,this)}create(e){return create$4(e,this)}is(e){return is$4(e,this)}mask(e){return mask$4(e,this)}validate(e,t={}){return validate$4(e,this,t)}}function assert$e(n,e){const t=validate$4(n,e);if(t[0])throw t[0]}function create$4(n,e){const t=validate$4(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function mask$4(n,e){const t=validate$4(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function is$4(n,e){return!validate$4(n,e)[0]}function validate$4(n,e,t={}){const r=run$5(n,e,t),o=shiftIterator$4(r);if(o[0])return[new StructError$4(o[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$9(n,e){return new Struct$a({type:n,schema:null,validator:e})}function any$4(){return define$9("any",()=>!0)}function array$5(n){return new Struct$a({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print$4(e)}})}function boolean$4(){return define$9("boolean",n=>typeof n=="boolean")}function instance$4(n){return define$9("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+print$4(e))}function literal$4(n){const e=print$4(n),t=typeof n;return new Struct$a({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+print$4(r)}})}function never$4(){return define$9("never",()=>!1)}function nullable$4(n){return new Struct$a({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function number$5(){return define$9("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+print$4(n))}function optional$4(n){return new Struct$a({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function record$4(n,e){return new Struct$a({type:"record",schema:null,*entries(t){if(isObject$6(t))for(const r in t){const o=t[r];yield[r,r,n],yield[r,o,e]}},validator(t){return isObject$6(t)||"Expected an object, but received: "+print$4(t)}})}function string$5(){return define$9("string",n=>typeof n=="string"||"Expected a string, but received: "+print$4(n))}function tuple$5(n){const e=never$4();return new Struct$a({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let o=0;o<r;o++)yield[o,t[o],n[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+print$4(t)}})}function type$4(n){const e=Object.keys(n);return new Struct$a({type:"type",schema:n,*entries(t){if(isObject$6(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return isObject$6(t)||"Expected an object, but received: "+print$4(t)}})}function union$4(n){const e=n.map(t=>t.type).join(" | ");return new Struct$a({type:"union",schema:null,validator(t,r){const o=[];for(const a of n){const[...c]=run$5(t,a,r),[u]=c;if(u[0])for(const[en]of c)en&&o.push(en);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print$4(t),...o]}})}function unknown$4(){return define$9("unknown",()=>!0)}function coerce$4(n,e,t){return new Struct$a({...n,coercer:(r,o)=>is$4(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}require$$0$5.v4;require$$0$5.v4;var client$3={};(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(regenerator),r=e(asyncToGenerator.exports),o=e(_typeof$5.exports),a=e(classCallCheck.exports),c=e(createClass.exports),u=e(inherits$2.exports),en=e(possibleConstructorReturn.exports),tn=e(getPrototypeOf$1.exports),nn=eventemitter3.exports;function sn(ln){var pn=fn();return function(){var Sn=(0,tn.default)(ln),yn;if(pn){var In=(0,tn.default)(this).constructor;yn=Reflect.construct(Sn,arguments,In)}else yn=Sn.apply(this,arguments);return(0,en.default)(this,yn)}}function fn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var dn=function(ln,pn){var $n={};for(var Sn in ln)Object.prototype.hasOwnProperty.call(ln,Sn)&&pn.indexOf(Sn)<0&&($n[Sn]=ln[Sn]);if(ln!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yn=0,Sn=Object.getOwnPropertySymbols(ln);yn<Sn.length;yn++)pn.indexOf(Sn[yn])<0&&Object.prototype.propertyIsEnumerable.call(ln,Sn[yn])&&($n[Sn[yn]]=ln[Sn[yn]]);return $n},hn=function(ln){(0,u.default)($n,ln);var pn=sn($n);function $n(Sn){var yn,In=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",An=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Tn=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,$n);var kn=An.autoconnect,Pn=kn===void 0?!0:kn,Dn=An.reconnect,Kn=Dn===void 0?!0:Dn,Hn=An.reconnect_interval,jn=Hn===void 0?1e3:Hn,Cn=An.max_reconnects,mn=Cn===void 0?5:Cn,_n=dn(An,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return yn=pn.call(this),yn.webSocketFactory=Sn,yn.queue={},yn.rpc_id=0,yn.address=In,yn.autoconnect=Pn,yn.ready=!1,yn.reconnect=Kn,yn.reconnect_timer_id=void 0,yn.reconnect_interval=jn,yn.max_reconnects=mn,yn.rest_options=_n,yn.current_reconnects=0,yn.generate_request_id=Tn||function(){return++yn.rpc_id},yn.autoconnect&&yn._connect(yn.address,Object.assign({autoconnect:yn.autoconnect,reconnect:yn.reconnect,reconnect_interval:yn.reconnect_interval,max_reconnects:yn.max_reconnects},yn.rest_options)),yn}return(0,c.default)($n,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(yn,In,An,Tn){var kn=this;return!Tn&&(0,o.default)(An)==="object"&&(Tn=An,An=null),new Promise(function(Pn,Dn){if(!kn.ready)return Dn(new Error("socket not ready"));var Kn=kn.generate_request_id(yn,In),Hn={jsonrpc:"2.0",method:yn,params:In||null,id:Kn};kn.socket.send(JSON.stringify(Hn),Tn,function(jn){if(jn)return Dn(jn);kn.queue[Kn]={promise:[Pn,Dn]},An&&(kn.queue[Kn].timeout=setTimeout(function(){delete kn.queue[Kn],Dn(new Error("reply timeout"))},An))})})}},{key:"login",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.next=2,this.call("rpc.login",An);case 2:if(Tn=Pn.sent,Tn){Pn.next=5;break}throw new Error("authentication failed");case 5:return Pn.abrupt("return",Tn);case 6:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"listMethods",value:function(){var Sn=(0,r.default)(t.default.mark(function In(){return t.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:return Tn.next=2,this.call("__listMethods");case 2:return Tn.abrupt("return",Tn.sent);case 3:case"end":return Tn.stop()}},In,this)}));function yn(){return Sn.apply(this,arguments)}return yn}()},{key:"notify",value:function(yn,In){var An=this;return new Promise(function(Tn,kn){if(!An.ready)return kn(new Error("socket not ready"));var Pn={jsonrpc:"2.0",method:yn,params:In||null};An.socket.send(JSON.stringify(Pn),function(Dn){if(Dn)return kn(Dn);Tn()})})}},{key:"subscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.on",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed subscribing to an event '"+An+"' with: "+Tn[An]);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"unsubscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.off",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Tn);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"close",value:function(yn,In){this.socket.close(yn||1e3,In)}},{key:"_connect",value:function(yn,In){var An=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(yn,In),this.socket.addEventListener("open",function(){An.ready=!0,An.emit("open"),An.current_reconnects=0}),this.socket.addEventListener("message",function(Tn){var kn=Tn.data;kn instanceof ArrayBuffer&&(kn=dist$3.Buffer.from(kn).toString());try{kn=JSON.parse(kn)}catch{return}if(kn.notification&&An.listeners(kn.notification).length){if(!Object.keys(kn.params).length)return An.emit(kn.notification);var Pn=[kn.notification];if(kn.params.constructor===Object)Pn.push(kn.params);else for(var Dn=0;Dn<kn.params.length;Dn++)Pn.push(kn.params[Dn]);return Promise.resolve().then(function(){An.emit.apply(An,Pn)})}if(!An.queue[kn.id])return kn.method&&kn.params?Promise.resolve().then(function(){An.emit(kn.method,kn.params)}):void 0;"error"in kn=="result"in kn&&An.queue[kn.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),An.queue[kn.id].timeout&&clearTimeout(An.queue[kn.id].timeout),kn.error?An.queue[kn.id].promise[1](kn.error):An.queue[kn.id].promise[0](kn.result),delete An.queue[kn.id]}),this.socket.addEventListener("error",function(Tn){return An.emit("error",Tn)}),this.socket.addEventListener("close",function(Tn){var kn=Tn.code,Pn=Tn.reason;An.ready&&setTimeout(function(){return An.emit("close",kn,Pn)},0),An.ready=!1,An.socket=void 0,kn!==1e3&&(An.current_reconnects++,An.reconnect&&(An.max_reconnects>An.current_reconnects||An.max_reconnects===0)&&(An.reconnect_timer_id=setTimeout(function(){return An._connect(yn,In)},An.reconnect_interval)))})}}]),$n}(nn.EventEmitter);n.default=hn})(client$3);var websocket_browser$3={};(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=sn;var t=e(classCallCheck.exports),r=e(createClass.exports),o=e(inherits$2.exports),a=e(possibleConstructorReturn.exports),c=e(getPrototypeOf$1.exports),u=eventemitter3.exports;function en(fn){var dn=tn();return function(){var ln=(0,c.default)(fn),pn;if(dn){var $n=(0,c.default)(this).constructor;pn=Reflect.construct(ln,arguments,$n)}else pn=ln.apply(this,arguments);return(0,a.default)(this,pn)}}function tn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var nn=function(fn){(0,o.default)(hn,fn);var dn=en(hn);function hn(ln,pn,$n){var Sn;return(0,t.default)(this,hn),Sn=dn.call(this),Sn.socket=new window.WebSocket(ln,$n),Sn.socket.onopen=function(){return Sn.emit("open")},Sn.socket.onmessage=function(yn){return Sn.emit("message",yn.data)},Sn.socket.onerror=function(yn){return Sn.emit("error",yn)},Sn.socket.onclose=function(yn){Sn.emit("close",yn.code,yn.reason)},Sn}return(0,r.default)(hn,[{key:"send",value:function(pn,$n,Sn){var yn=Sn||$n;try{this.socket.send(pn),yn()}catch(In){yn(In)}}},{key:"close",value:function(pn,$n){this.socket.close(pn,$n)}},{key:"addEventListener",value:function(pn,$n,Sn){this.socket.addEventListener(pn,$n,Sn)}}]),hn}(u.EventEmitter);function sn(fn,dn){return new nn(fn,dn)}})(websocket_browser$3);function isOnCurve$5(n){try{return ed25519$1.ExtendedPoint.fromHex(n),!0}catch{return!1}}const toBuffer$5=n=>bufferPolyfill.Buffer.isBuffer(n)?n:n instanceof Uint8Array?bufferPolyfill.Buffer.from(n.buffer,n.byteOffset,n.byteLength):bufferPolyfill.Buffer.from(n);class Struct$9{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$5,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$5,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$5,this,e)}}const SOLANA_SCHEMA$5=new Map;var _class$4;let _Symbol$toStringTag$6;const MAX_SEED_LENGTH$5=32,PUBLIC_KEY_LENGTH$5=32;function isPublicKeyData$5(n){return n._bn!==void 0}let uniquePublicKeyCounter$5=1;_Symbol$toStringTag$6=Symbol.toStringTag;class PublicKey$5 extends Struct$9{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$5(e))this._bn=e._bn;else{if(typeof e=="string"){const t=bs58$3.decode(e);if(t.length!=PUBLIC_KEY_LENGTH$5)throw new Error("Invalid public key input");this._bn=new BN(t)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$5)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$5(uniquePublicKeyCounter$5);return uniquePublicKeyCounter$5+=1,new PublicKey$5(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$5)return e;const t=bufferPolyfill.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[_Symbol$toStringTag$6](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(t),r.toBuffer()]),a=sha256$2(o);return new PublicKey$5(a)}static createProgramAddressSync(e,t){let r=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$5)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,toBuffer$5(a)])}),r=bufferPolyfill.Buffer.concat([r,t.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$2(r);if(isOnCurve$5(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$5(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([r]));o=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new PublicKey$5(e);return isOnCurve$5(t.toBytes())}}_class$4=PublicKey$5;PublicKey$5.default=new _class$4("11111111111111111111111111111111");SOLANA_SCHEMA$5.set(PublicKey$5,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey$5("BPFLoader1111111111111111111111111111111111");const SIGNATURE_LENGTH_IN_BYTES$5=64,publicKey$7=(n="publicKey")=>blob$2(32,n),rustString$5=(n="string")=>{const e=struct$3([u32$3("length"),u32$3("lengthPadding"),blob$2(offset$1(u32$3(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(a,c)=>t(a,c).chars.toString(),o.encode=(a,c,u)=>{const en={chars:bufferPolyfill.Buffer.from(a,"utf8")};return r(en,c,u)},o.alloc=a=>u32$3().span+u32$3().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$5=(n="authorized")=>struct$3([publicKey$7("staker"),publicKey$7("withdrawer")],n),lockup$5=(n="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$7("custodian")],n),voteInit$5=(n="voteInit")=>struct$3([publicKey$7("nodePubkey"),publicKey$7("authorizedVoter"),publicKey$7("authorizedWithdrawer"),u8$2("commission")],n),voteAuthorizeWithSeedArgs$5=(n="voteAuthorizeWithSeedArgs")=>struct$3([u32$3("voteAuthorizationType"),publicKey$7("currentAuthorityDerivedKeyOwnerPubkey"),rustString$5("currentAuthorityDerivedKeySeed"),publicKey$7("newAuthorized")],n);bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$5).fill(0);new PublicKey$5("SysvarC1ock11111111111111111111111111111111");new PublicKey$5("SysvarEpochSchedu1e111111111111111111111111");new PublicKey$5("Sysvar1nstructions1111111111111111111111111");new PublicKey$5("SysvarRecentB1ockHashes11111111111111111111");new PublicKey$5("SysvarRent111111111111111111111111111111111");new PublicKey$5("SysvarRewards111111111111111111111111111111");new PublicKey$5("SysvarS1otHashes111111111111111111111111111");new PublicKey$5("SysvarS1otHistory11111111111111111111111111");new PublicKey$5("SysvarStakeHistory1111111111111111111111111");const FeeCalculatorLayout$5=nu64$1("lamportsPerSignature"),NonceAccountLayout$5=struct$3([u32$3("version"),u32$3("state"),publicKey$7("authorizedPubkey"),publicKey$7("nonce"),struct$3([FeeCalculatorLayout$5],"feeCalculator")]);NonceAccountLayout$5.span;const encodeDecode$5=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bigInt$5=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode$5(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferLE_1(c,n);return r(tn,u,en)},a},u64$8=bigInt$5(8);Object.freeze({Create:{index:0,layout:struct$3([u32$3("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$7("programId")])},Assign:{index:1,layout:struct$3([u32$3("instruction"),publicKey$7("programId")])},Transfer:{index:2,layout:struct$3([u32$3("instruction"),u64$8("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$3("instruction"),publicKey$7("base"),rustString$5("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$7("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$3("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$3("instruction"),publicKey$7("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$3("instruction"),publicKey$7("authorized")])},Allocate:{index:8,layout:struct$3([u32$3("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$3("instruction"),publicKey$7("base"),rustString$5("seed"),ns64$1("space"),publicKey$7("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$3("instruction"),publicKey$7("base"),rustString$5("seed"),publicKey$7("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$3("instruction"),u64$8("lamports"),rustString$5("seed"),publicKey$7("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$3("instruction")])}});new PublicKey$5("11111111111111111111111111111111");new PublicKey$5("BPFLoader2111111111111111111111111111111111");struct$3([u32$3("typeIndex"),u64$8("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$7(),offset$1(u8$2(),-1),"authority")]);const PublicKeyFromString$5=coerce$4(instance$4(PublicKey$5),string$5(),n=>new PublicKey$5(n)),RawAccountDataResult$5=tuple$5([string$5(),literal$4("base64")]),BufferFromRawAccountData$5=coerce$4(instance$4(bufferPolyfill.Buffer),RawAccountDataResult$5,n=>bufferPolyfill.Buffer.from(n[0],"base64"));function createRpcResult$5(n){return union$4([type$4({jsonrpc:literal$4("2.0"),id:string$5(),result:n}),type$4({jsonrpc:literal$4("2.0"),id:string$5(),error:type$4({code:unknown$4(),message:string$5(),data:optional$4(any$4())})})])}const UnknownRpcResult$5=createRpcResult$5(unknown$4());function jsonRpcResult$5(n){return coerce$4(createRpcResult$5(n),UnknownRpcResult$5,e=>"error"in e?e:{...e,result:create$4(e.result,n)})}function jsonRpcResultAndContext$5(n){return jsonRpcResult$5(type$4({context:type$4({slot:number$5()}),value:n}))}function notificationResultAndContext$5(n){return type$4({context:type$4({slot:number$5()}),value:n})}const GetInflationGovernorResult$5=type$4({foundation:number$5(),foundationTerm:number$5(),initial:number$5(),taper:number$5(),terminal:number$5()});jsonRpcResult$5(array$5(nullable$4(type$4({epoch:number$5(),effectiveSlot:number$5(),amount:number$5(),postBalance:number$5(),commission:optional$4(nullable$4(number$5()))}))));const GetRecentPrioritizationFeesResult$5=array$5(type$4({slot:number$5(),prioritizationFee:number$5()})),GetInflationRateResult$5=type$4({total:number$5(),validator:number$5(),foundation:number$5(),epoch:number$5()}),GetEpochInfoResult$5=type$4({epoch:number$5(),slotIndex:number$5(),slotsInEpoch:number$5(),absoluteSlot:number$5(),blockHeight:optional$4(number$5()),transactionCount:optional$4(number$5())}),GetEpochScheduleResult$5=type$4({slotsPerEpoch:number$5(),leaderScheduleSlotOffset:number$5(),warmup:boolean$4(),firstNormalEpoch:number$5(),firstNormalSlot:number$5()}),GetLeaderScheduleResult$5=record$4(string$5(),array$5(number$5())),TransactionErrorResult$5=nullable$4(union$4([type$4({}),string$5()])),SignatureStatusResult$5=type$4({err:TransactionErrorResult$5}),SignatureReceivedResult$5=literal$4("receivedSignature");type$4({"solana-core":string$5(),"feature-set":optional$4(number$5())});jsonRpcResultAndContext$5(type$4({err:nullable$4(union$4([type$4({}),string$5()])),logs:nullable$4(array$5(string$5())),accounts:optional$4(nullable$4(array$5(nullable$4(type$4({executable:boolean$4(),owner:string$5(),lamports:number$5(),data:array$5(string$5()),rentEpoch:optional$4(number$5())}))))),unitsConsumed:optional$4(number$5()),returnData:optional$4(nullable$4(type$4({programId:string$5(),data:tuple$5([string$5(),literal$4("base64")])})))}));jsonRpcResultAndContext$5(type$4({byIdentity:record$4(string$5(),array$5(number$5())),range:type$4({firstSlot:number$5(),lastSlot:number$5()})}));jsonRpcResult$5(GetInflationGovernorResult$5);jsonRpcResult$5(GetInflationRateResult$5);jsonRpcResult$5(GetRecentPrioritizationFeesResult$5);jsonRpcResult$5(GetEpochInfoResult$5);jsonRpcResult$5(GetEpochScheduleResult$5);jsonRpcResult$5(GetLeaderScheduleResult$5);jsonRpcResult$5(number$5());jsonRpcResultAndContext$5(type$4({total:number$5(),circulating:number$5(),nonCirculating:number$5(),nonCirculatingAccounts:array$5(PublicKeyFromString$5)}));const TokenAmountResult$5=type$4({amount:string$5(),uiAmount:nullable$4(number$5()),decimals:number$5(),uiAmountString:optional$4(string$5())});jsonRpcResultAndContext$5(array$5(type$4({address:PublicKeyFromString$5,amount:string$5(),uiAmount:nullable$4(number$5()),decimals:number$5(),uiAmountString:optional$4(string$5())})));jsonRpcResultAndContext$5(array$5(type$4({pubkey:PublicKeyFromString$5,account:type$4({executable:boolean$4(),owner:PublicKeyFromString$5,lamports:number$5(),data:BufferFromRawAccountData$5,rentEpoch:number$5()})})));const ParsedAccountDataResult$5=type$4({program:string$5(),parsed:unknown$4(),space:number$5()});jsonRpcResultAndContext$5(array$5(type$4({pubkey:PublicKeyFromString$5,account:type$4({executable:boolean$4(),owner:PublicKeyFromString$5,lamports:number$5(),data:ParsedAccountDataResult$5,rentEpoch:number$5()})})));jsonRpcResultAndContext$5(array$5(type$4({lamports:number$5(),address:PublicKeyFromString$5})));const AccountInfoResult$5=type$4({executable:boolean$4(),owner:PublicKeyFromString$5,lamports:number$5(),data:BufferFromRawAccountData$5,rentEpoch:number$5()});type$4({pubkey:PublicKeyFromString$5,account:AccountInfoResult$5});const ParsedOrRawAccountData$5=coerce$4(union$4([instance$4(bufferPolyfill.Buffer),ParsedAccountDataResult$5]),union$4([RawAccountDataResult$5,ParsedAccountDataResult$5]),n=>Array.isArray(n)?create$4(n,BufferFromRawAccountData$5):n),ParsedAccountInfoResult$5=type$4({executable:boolean$4(),owner:PublicKeyFromString$5,lamports:number$5(),data:ParsedOrRawAccountData$5,rentEpoch:number$5()});type$4({pubkey:PublicKeyFromString$5,account:ParsedAccountInfoResult$5});type$4({state:union$4([literal$4("active"),literal$4("inactive"),literal$4("activating"),literal$4("deactivating")]),active:number$5(),inactive:number$5()});jsonRpcResult$5(array$5(type$4({signature:string$5(),slot:number$5(),err:TransactionErrorResult$5,memo:nullable$4(string$5()),blockTime:optional$4(nullable$4(number$5()))})));jsonRpcResult$5(array$5(type$4({signature:string$5(),slot:number$5(),err:TransactionErrorResult$5,memo:nullable$4(string$5()),blockTime:optional$4(nullable$4(number$5()))})));type$4({subscription:number$5(),result:notificationResultAndContext$5(AccountInfoResult$5)});const ProgramAccountInfoResult$5=type$4({pubkey:PublicKeyFromString$5,account:AccountInfoResult$5});type$4({subscription:number$5(),result:notificationResultAndContext$5(ProgramAccountInfoResult$5)});const SlotInfoResult$5=type$4({parent:number$5(),slot:number$5(),root:number$5()});type$4({subscription:number$5(),result:SlotInfoResult$5});const SlotUpdateResult$5=union$4([type$4({type:union$4([literal$4("firstShredReceived"),literal$4("completed"),literal$4("optimisticConfirmation"),literal$4("root")]),slot:number$5(),timestamp:number$5()}),type$4({type:literal$4("createdBank"),parent:number$5(),slot:number$5(),timestamp:number$5()}),type$4({type:literal$4("frozen"),slot:number$5(),timestamp:number$5(),stats:type$4({numTransactionEntries:number$5(),numSuccessfulTransactions:number$5(),numFailedTransactions:number$5(),maxTransactionsPerEntry:number$5()})}),type$4({type:literal$4("dead"),slot:number$5(),timestamp:number$5(),err:string$5()})]);type$4({subscription:number$5(),result:SlotUpdateResult$5});type$4({subscription:number$5(),result:notificationResultAndContext$5(union$4([SignatureStatusResult$5,SignatureReceivedResult$5]))});type$4({subscription:number$5(),result:number$5()});type$4({pubkey:string$5(),gossip:nullable$4(string$5()),tpu:nullable$4(string$5()),rpc:nullable$4(string$5()),version:nullable$4(string$5())});const VoteAccountInfoResult$5=type$4({votePubkey:string$5(),nodePubkey:string$5(),activatedStake:number$5(),epochVoteAccount:boolean$4(),epochCredits:array$5(tuple$5([number$5(),number$5(),number$5()])),commission:number$5(),lastVote:number$5(),rootSlot:nullable$4(number$5())});jsonRpcResult$5(type$4({current:array$5(VoteAccountInfoResult$5),delinquent:array$5(VoteAccountInfoResult$5)}));const ConfirmationStatus$5=union$4([literal$4("processed"),literal$4("confirmed"),literal$4("finalized")]),SignatureStatusResponse$5=type$4({slot:number$5(),confirmations:nullable$4(number$5()),err:TransactionErrorResult$5,confirmationStatus:optional$4(ConfirmationStatus$5)});jsonRpcResultAndContext$5(array$5(nullable$4(SignatureStatusResponse$5)));jsonRpcResult$5(number$5());const AddressTableLookupStruct$5=type$4({accountKey:PublicKeyFromString$5,writableIndexes:array$5(number$5()),readonlyIndexes:array$5(number$5())}),ConfirmedTransactionResult$5=type$4({signatures:array$5(string$5()),message:type$4({accountKeys:array$5(string$5()),header:type$4({numRequiredSignatures:number$5(),numReadonlySignedAccounts:number$5(),numReadonlyUnsignedAccounts:number$5()}),instructions:array$5(type$4({accounts:array$5(number$5()),data:string$5(),programIdIndex:number$5()})),recentBlockhash:string$5(),addressTableLookups:optional$4(array$5(AddressTableLookupStruct$5))})}),AnnotatedAccountKey$5=type$4({pubkey:PublicKeyFromString$5,signer:boolean$4(),writable:boolean$4(),source:optional$4(union$4([literal$4("transaction"),literal$4("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$5=type$4({accountKeys:array$5(AnnotatedAccountKey$5),signatures:array$5(string$5())}),ParsedInstructionResult$5=type$4({parsed:unknown$4(),program:string$5(),programId:PublicKeyFromString$5}),RawInstructionResult$5=type$4({accounts:array$5(PublicKeyFromString$5),data:string$5(),programId:PublicKeyFromString$5}),InstructionResult$5=union$4([RawInstructionResult$5,ParsedInstructionResult$5]),UnknownInstructionResult$5=union$4([type$4({parsed:unknown$4(),program:string$5(),programId:string$5()}),type$4({accounts:array$5(string$5()),data:string$5(),programId:string$5()})]),ParsedOrRawInstruction$5=coerce$4(InstructionResult$5,UnknownInstructionResult$5,n=>"accounts"in n?create$4(n,RawInstructionResult$5):create$4(n,ParsedInstructionResult$5)),ParsedConfirmedTransactionResult$5=type$4({signatures:array$5(string$5()),message:type$4({accountKeys:array$5(AnnotatedAccountKey$5),instructions:array$5(ParsedOrRawInstruction$5),recentBlockhash:string$5(),addressTableLookups:optional$4(nullable$4(array$5(AddressTableLookupStruct$5)))})}),TokenBalanceResult$5=type$4({accountIndex:number$5(),mint:string$5(),owner:optional$4(string$5()),uiTokenAmount:TokenAmountResult$5}),LoadedAddressesResult$5=type$4({writable:array$5(PublicKeyFromString$5),readonly:array$5(PublicKeyFromString$5)}),ConfirmedTransactionMetaResult$5=type$4({err:TransactionErrorResult$5,fee:number$5(),innerInstructions:optional$4(nullable$4(array$5(type$4({index:number$5(),instructions:array$5(type$4({accounts:array$5(number$5()),data:string$5(),programIdIndex:number$5()}))})))),preBalances:array$5(number$5()),postBalances:array$5(number$5()),logMessages:optional$4(nullable$4(array$5(string$5()))),preTokenBalances:optional$4(nullable$4(array$5(TokenBalanceResult$5))),postTokenBalances:optional$4(nullable$4(array$5(TokenBalanceResult$5))),loadedAddresses:optional$4(LoadedAddressesResult$5),computeUnitsConsumed:optional$4(number$5())}),ParsedConfirmedTransactionMetaResult$5=type$4({err:TransactionErrorResult$5,fee:number$5(),innerInstructions:optional$4(nullable$4(array$5(type$4({index:number$5(),instructions:array$5(ParsedOrRawInstruction$5)})))),preBalances:array$5(number$5()),postBalances:array$5(number$5()),logMessages:optional$4(nullable$4(array$5(string$5()))),preTokenBalances:optional$4(nullable$4(array$5(TokenBalanceResult$5))),postTokenBalances:optional$4(nullable$4(array$5(TokenBalanceResult$5))),loadedAddresses:optional$4(LoadedAddressesResult$5),computeUnitsConsumed:optional$4(number$5())}),TransactionVersionStruct$5=union$4([literal$4(0),literal$4("legacy")]),RewardsResult$5=type$4({pubkey:string$5(),lamports:number$5(),postBalance:nullable$4(number$5()),rewardType:nullable$4(string$5()),commission:optional$4(nullable$4(number$5()))});jsonRpcResult$5(nullable$4(type$4({blockhash:string$5(),previousBlockhash:string$5(),parentSlot:number$5(),transactions:array$5(type$4({transaction:ConfirmedTransactionResult$5,meta:nullable$4(ConfirmedTransactionMetaResult$5),version:optional$4(TransactionVersionStruct$5)})),rewards:optional$4(array$5(RewardsResult$5)),blockTime:nullable$4(number$5()),blockHeight:nullable$4(number$5())})));jsonRpcResult$5(nullable$4(type$4({blockhash:string$5(),previousBlockhash:string$5(),parentSlot:number$5(),rewards:optional$4(array$5(RewardsResult$5)),blockTime:nullable$4(number$5()),blockHeight:nullable$4(number$5())})));jsonRpcResult$5(nullable$4(type$4({blockhash:string$5(),previousBlockhash:string$5(),parentSlot:number$5(),transactions:array$5(type$4({transaction:ConfirmedTransactionAccountsModeResult$5,meta:nullable$4(ConfirmedTransactionMetaResult$5),version:optional$4(TransactionVersionStruct$5)})),rewards:optional$4(array$5(RewardsResult$5)),blockTime:nullable$4(number$5()),blockHeight:nullable$4(number$5())})));jsonRpcResult$5(nullable$4(type$4({blockhash:string$5(),previousBlockhash:string$5(),parentSlot:number$5(),transactions:array$5(type$4({transaction:ParsedConfirmedTransactionResult$5,meta:nullable$4(ParsedConfirmedTransactionMetaResult$5),version:optional$4(TransactionVersionStruct$5)})),rewards:optional$4(array$5(RewardsResult$5)),blockTime:nullable$4(number$5()),blockHeight:nullable$4(number$5())})));jsonRpcResult$5(nullable$4(type$4({blockhash:string$5(),previousBlockhash:string$5(),parentSlot:number$5(),transactions:array$5(type$4({transaction:ConfirmedTransactionAccountsModeResult$5,meta:nullable$4(ParsedConfirmedTransactionMetaResult$5),version:optional$4(TransactionVersionStruct$5)})),rewards:optional$4(array$5(RewardsResult$5)),blockTime:nullable$4(number$5()),blockHeight:nullable$4(number$5())})));jsonRpcResult$5(nullable$4(type$4({blockhash:string$5(),previousBlockhash:string$5(),parentSlot:number$5(),rewards:optional$4(array$5(RewardsResult$5)),blockTime:nullable$4(number$5()),blockHeight:nullable$4(number$5())})));jsonRpcResult$5(nullable$4(type$4({blockhash:string$5(),previousBlockhash:string$5(),parentSlot:number$5(),transactions:array$5(type$4({transaction:ConfirmedTransactionResult$5,meta:nullable$4(ConfirmedTransactionMetaResult$5)})),rewards:optional$4(array$5(RewardsResult$5)),blockTime:nullable$4(number$5())})));jsonRpcResult$5(nullable$4(type$4({blockhash:string$5(),previousBlockhash:string$5(),parentSlot:number$5(),signatures:array$5(string$5()),blockTime:nullable$4(number$5())})));jsonRpcResult$5(nullable$4(type$4({slot:number$5(),meta:ConfirmedTransactionMetaResult$5,blockTime:optional$4(nullable$4(number$5())),transaction:ConfirmedTransactionResult$5,version:optional$4(TransactionVersionStruct$5)})));jsonRpcResult$5(nullable$4(type$4({slot:number$5(),transaction:ParsedConfirmedTransactionResult$5,meta:nullable$4(ParsedConfirmedTransactionMetaResult$5),blockTime:optional$4(nullable$4(number$5())),version:optional$4(TransactionVersionStruct$5)})));jsonRpcResultAndContext$5(type$4({blockhash:string$5(),feeCalculator:type$4({lamportsPerSignature:number$5()})}));jsonRpcResultAndContext$5(type$4({blockhash:string$5(),lastValidBlockHeight:number$5()}));jsonRpcResultAndContext$5(boolean$4());const PerfSampleResult$5=type$4({slot:number$5(),numTransactions:number$5(),numSlots:number$5(),samplePeriodSecs:number$5()});jsonRpcResult$5(array$5(PerfSampleResult$5));jsonRpcResultAndContext$5(nullable$4(type$4({feeCalculator:type$4({lamportsPerSignature:number$5()})})));jsonRpcResult$5(string$5());jsonRpcResult$5(string$5());const LogsResult$5=type$4({err:TransactionErrorResult$5,logs:array$5(string$5()),signature:string$5()});type$4({result:notificationResultAndContext$5(LogsResult$5),subscription:number$5()});Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$3("instruction"),u64$8("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$3("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$3("instruction"),u64$8(),seq(publicKey$7(),offset$1(u32$3(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$3("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$3("instruction")])}});new PublicKey$5("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$3("units"),u32$3("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$3("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$3("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$8("microLamports")])}});new PublicKey$5("ComputeBudget111111111111111111111111111111");struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);new PublicKey$5("Ed25519SigVerify111111111111111111111111111");secp256k1$1.utils.isValidPrivateKey;secp256k1$1.getPublicKey;struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);new PublicKey$5("KeccakSecp256k11111111111111111111111111111");var _class2$4;new PublicKey$5("StakeConfig11111111111111111111111111111111");class Lockup$5{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_class2$4=Lockup$5;Lockup$5.default=new _class2$4(0,0,PublicKey$5.default);Object.freeze({Initialize:{index:0,layout:struct$3([u32$3("instruction"),authorized$5(),lockup$5()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$7("newAuthorized"),u32$3("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$3("instruction")])},Split:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$3("instruction")])},Merge:{index:7,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$3("instruction"),publicKey$7("newAuthorized"),u32$3("stakeAuthorizationType"),rustString$5("authoritySeed"),publicKey$7("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});new PublicKey$5("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$3("instruction"),voteInit$5()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$7("newAuthorized"),u32$3("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$3("instruction"),voteAuthorizeWithSeedArgs$5()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});new PublicKey$5("Vote111111111111111111111111111111111111111");new PublicKey$5("Va1idator1nfo111111111111111111111111111111");type$4({name:string$5(),website:optional$4(string$5()),details:optional$4(string$5()),keybaseUsername:optional$4(string$5())});new PublicKey$5("Vote111111111111111111111111111111111111111");struct$3([publicKey$7("nodePubkey"),publicKey$7("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$3("confirmationCount")]),offset$1(u32$3(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$7("authorizedVoter")]),offset$1(u32$3(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$7("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$3(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);const publicKey$6=n=>{const e=blob$2(32,n),{encode:t,decode:r}=encodeDecode$6(e),o=e;return o.decode=(a,c)=>{const u=r(a,c);return new PublicKey$5(u)},o.encode=(a,c,u)=>{const en=a.toBuffer();return t(en,c,u)},o};class TokenError extends Error{constructor(e){super(e)}}class TokenAccountNotFoundError extends TokenError{constructor(){super(...arguments),this.name="TokenAccountNotFoundError"}}class TokenInvalidAccountError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountError"}}class TokenInvalidAccountDataError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountDataError"}}class TokenInvalidAccountOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountOwnerError"}}class TokenInvalidAccountSizeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidAccountSizeError"}}class TokenInvalidMintError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidMintError"}}class TokenInvalidOwnerError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidOwnerError"}}class TokenOwnerOffCurveError extends TokenError{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}class TokenInvalidInstructionProgramError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionProgramError"}}class TokenInvalidInstructionKeysError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionKeysError"}}class TokenInvalidInstructionDataError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionDataError"}}class TokenInvalidInstructionTypeError extends TokenError{constructor(){super(...arguments),this.name="TokenInvalidInstructionTypeError"}}class TokenUnsupportedInstructionError extends TokenError{constructor(){super(...arguments),this.name="TokenUnsupportedInstructionError"}}class TokenTransferHookAccountNotFound extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookAccountNotFound"}}class TokenTransferHookInvalidSeed extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookInvalidSeed"}}class TokenTransferHookAccountDataNotFound extends TokenError{constructor(){super(...arguments),this.name="TokenTransferHookAccountDataNotFound"}}var TokenInstruction;(function(n){n[n.InitializeMint=0]="InitializeMint",n[n.InitializeAccount=1]="InitializeAccount",n[n.InitializeMultisig=2]="InitializeMultisig",n[n.Transfer=3]="Transfer",n[n.Approve=4]="Approve",n[n.Revoke=5]="Revoke",n[n.SetAuthority=6]="SetAuthority",n[n.MintTo=7]="MintTo",n[n.Burn=8]="Burn",n[n.CloseAccount=9]="CloseAccount",n[n.FreezeAccount=10]="FreezeAccount",n[n.ThawAccount=11]="ThawAccount",n[n.TransferChecked=12]="TransferChecked",n[n.ApproveChecked=13]="ApproveChecked",n[n.MintToChecked=14]="MintToChecked",n[n.BurnChecked=15]="BurnChecked",n[n.InitializeAccount2=16]="InitializeAccount2",n[n.SyncNative=17]="SyncNative",n[n.InitializeAccount3=18]="InitializeAccount3",n[n.InitializeMultisig2=19]="InitializeMultisig2",n[n.InitializeMint2=20]="InitializeMint2",n[n.GetAccountDataSize=21]="GetAccountDataSize",n[n.InitializeImmutableOwner=22]="InitializeImmutableOwner",n[n.AmountToUiAmount=23]="AmountToUiAmount",n[n.UiAmountToAmount=24]="UiAmountToAmount",n[n.InitializeMintCloseAuthority=25]="InitializeMintCloseAuthority",n[n.TransferFeeExtension=26]="TransferFeeExtension",n[n.ConfidentialTransferExtension=27]="ConfidentialTransferExtension",n[n.DefaultAccountStateExtension=28]="DefaultAccountStateExtension",n[n.Reallocate=29]="Reallocate",n[n.MemoTransferExtension=30]="MemoTransferExtension",n[n.CreateNativeMint=31]="CreateNativeMint",n[n.InitializeNonTransferableMint=32]="InitializeNonTransferableMint",n[n.InterestBearingMintExtension=33]="InterestBearingMintExtension",n[n.CpiGuardExtension=34]="CpiGuardExtension",n[n.InitializePermanentDelegate=35]="InitializePermanentDelegate",n[n.TransferHookExtension=36]="TransferHookExtension",n[n.MetadataPointerExtension=39]="MetadataPointerExtension",n[n.GroupPointerExtension=40]="GroupPointerExtension",n[n.GroupMemberPointerExtension=41]="GroupMemberPointerExtension"})(TokenInstruction||(TokenInstruction={}));function addSigners(n,e,t){if(t.length){n.push({pubkey:e,isSigner:!1,isWritable:!1});for(const r of t)n.push({pubkey:r instanceof PublicKey$7?r:r.publicKey,isSigner:!0,isWritable:!1})}else n.push({pubkey:e,isSigner:!0,isWritable:!1});return n}var AccountType;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Mint=1]="Mint",n[n.Account=2]="Account"})(AccountType||(AccountType={}));const ACCOUNT_TYPE_SIZE=1,MultisigLayout$1=struct$3([u8$2("m"),u8$2("n"),bool("isInitialized"),publicKey$6("signer1"),publicKey$6("signer2"),publicKey$6("signer3"),publicKey$6("signer4"),publicKey$6("signer5"),publicKey$6("signer6"),publicKey$6("signer7"),publicKey$6("signer8"),publicKey$6("signer9"),publicKey$6("signer10"),publicKey$6("signer11")]),MULTISIG_SIZE=MultisigLayout$1.span;async function getMultisig(n,e,t,r=TOKEN_PROGRAM_ID$1){const o=await n.getAccountInfo(e,t);return unpackMultisig(e,o,r)}function unpackMultisig(n,e,t=TOKEN_PROGRAM_ID$1){if(!e)throw new TokenAccountNotFoundError;if(!e.owner.equals(t))throw new TokenInvalidAccountOwnerError;if(e.data.length!=MULTISIG_SIZE)throw new TokenInvalidAccountSizeError;const r=MultisigLayout$1.decode(e.data);return{address:n,...r}}async function getMinimumBalanceForRentExemptMultisig(n,e){return await n.getMinimumBalanceForRentExemption(MULTISIG_SIZE,e)}var AccountState;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initialized=1]="Initialized",n[n.Frozen=2]="Frozen"})(AccountState||(AccountState={}));const AccountLayout$1=struct$3([publicKey$6("mint"),publicKey$6("owner"),u64$9("amount"),u32$3("delegateOption"),publicKey$6("delegate"),u8$2("state"),u32$3("isNativeOption"),u64$9("isNative"),u64$9("delegatedAmount"),u32$3("closeAuthorityOption"),publicKey$6("closeAuthority")]),ACCOUNT_SIZE=AccountLayout$1.span;async function getAccount(n,e,t,r=TOKEN_PROGRAM_ID$1){const o=await n.getAccountInfo(e,t);return unpackAccount(e,o,r)}async function getMultipleAccounts(n,e,t,r=TOKEN_PROGRAM_ID$1){const o=await n.getMultipleAccountsInfo(e,t);return e.map((a,c)=>unpackAccount(a,o[c],r))}async function getMinimumBalanceForRentExemptAccount(n,e){return await getMinimumBalanceForRentExemptAccountWithExtensions(n,[],e)}async function getMinimumBalanceForRentExemptAccountWithExtensions(n,e,t){const r=getAccountLen(e);return await n.getMinimumBalanceForRentExemption(r,t)}function unpackAccount(n,e,t=TOKEN_PROGRAM_ID$1){if(!e)throw new TokenAccountNotFoundError;if(!e.owner.equals(t))throw new TokenInvalidAccountOwnerError;if(e.data.length<ACCOUNT_SIZE)throw new TokenInvalidAccountSizeError;const r=AccountLayout$1.decode(e.data.slice(0,ACCOUNT_SIZE));let o=dist$3.Buffer.alloc(0);if(e.data.length>ACCOUNT_SIZE){if(e.data.length===MULTISIG_SIZE)throw new TokenInvalidAccountSizeError;if(e.data[ACCOUNT_SIZE]!=AccountType.Account)throw new TokenInvalidAccountError;o=e.data.slice(ACCOUNT_SIZE+ACCOUNT_TYPE_SIZE)}return{address:n,mint:r.mint,owner:r.owner,amount:r.amount,delegate:r.delegateOption?r.delegate:null,delegatedAmount:r.delegatedAmount,isInitialized:r.state!==AccountState.Uninitialized,isFrozen:r.state===AccountState.Frozen,isNative:!!r.isNativeOption,rentExemptReserve:r.isNativeOption?r.isNative:null,closeAuthority:r.closeAuthorityOption?r.closeAuthority:null,tlvData:o}}const MintLayout$1=struct$3([u32$3("mintAuthorityOption"),publicKey$6("mintAuthority"),u64$9("supply"),u8$2("decimals"),bool("isInitialized"),u32$3("freezeAuthorityOption"),publicKey$6("freezeAuthority")]),MINT_SIZE=MintLayout$1.span;async function getMint(n,e,t,r=TOKEN_PROGRAM_ID$1){const o=await n.getAccountInfo(e,t);return unpackMint(e,o,r)}function unpackMint(n,e,t=TOKEN_PROGRAM_ID$1){if(!e)throw new TokenAccountNotFoundError;if(!e.owner.equals(t))throw new TokenInvalidAccountOwnerError;if(e.data.length<MINT_SIZE)throw new TokenInvalidAccountSizeError;const r=MintLayout$1.decode(e.data.slice(0,MINT_SIZE));let o=dist$3.Buffer.alloc(0);if(e.data.length>MINT_SIZE){if(e.data.length<=ACCOUNT_SIZE)throw new TokenInvalidAccountSizeError;if(e.data.length===MULTISIG_SIZE)throw new TokenInvalidAccountSizeError;if(e.data[ACCOUNT_SIZE]!=AccountType.Mint)throw new TokenInvalidMintError;o=e.data.slice(ACCOUNT_SIZE+ACCOUNT_TYPE_SIZE)}return{address:n,mintAuthority:r.mintAuthorityOption?r.mintAuthority:null,supply:r.supply,decimals:r.decimals,isInitialized:r.isInitialized,freezeAuthority:r.freezeAuthorityOption?r.freezeAuthority:null,tlvData:o}}async function getMinimumBalanceForRentExemptMint(n,e){return await getMinimumBalanceForRentExemptMintWithExtensions(n,[],e)}async function getMinimumBalanceForRentExemptMintWithExtensions(n,e,t){const r=getMintLen(e);return await n.getMinimumBalanceForRentExemption(r,t)}async function getAssociatedTokenAddress$1(n,e,t=!1,r=TOKEN_PROGRAM_ID$1,o=ASSOCIATED_TOKEN_PROGRAM_ID$1){if(!t&&!PublicKey$7.isOnCurve(e.toBuffer()))throw new TokenOwnerOffCurveError;const[a]=await PublicKey$7.findProgramAddress([e.toBuffer(),r.toBuffer(),n.toBuffer()],o);return a}function getAssociatedTokenAddressSync(n,e,t=!1,r=TOKEN_PROGRAM_ID$1,o=ASSOCIATED_TOKEN_PROGRAM_ID$1){if(!t&&!PublicKey$7.isOnCurve(e.toBuffer()))throw new TokenOwnerOffCurveError;const[a]=PublicKey$7.findProgramAddressSync([e.toBuffer(),r.toBuffer(),n.toBuffer()],o);return a}const CpiGuardLayout=struct$3([bool("lockCpi")]),CPI_GUARD_SIZE=CpiGuardLayout.span;function getCpiGuard(n){const e=getExtensionData(ExtensionType.CpiGuard,n.tlvData);return e!==null?CpiGuardLayout.decode(e):null}const DefaultAccountStateLayout=struct$3([u8$2("state")]),DEFAULT_ACCOUNT_STATE_SIZE=DefaultAccountStateLayout.span;function getDefaultAccountState(n){const e=getExtensionData(ExtensionType.DefaultAccountState,n.tlvData);return e!==null?DefaultAccountStateLayout.decode(e):null}var SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=8078e3,SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=8078001,SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=8078002,SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=8078004,SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=8078005,SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=8078006,SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=8078007,SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=8078009,SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=8078011,SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=8078017;function encodeValue(n){if(Array.isArray(n)){const e=n.map(encodeValue).join("%2C%20");return"%5B"+e+"%5D"}else return typeof n=="bigint"?`${n}n`:encodeURIComponent(String(n!=null&&Object.getPrototypeOf(n)===null?{...n}:n))}function encodeObjectContextEntry([n,e]){return`${n}=${encodeValue(e)}`}function encodeContextObject(n){const e=Object.entries(n).map(encodeObjectContextEntry).join("&");return btoa(e)}function getErrorMessage(n,e={}){{let t=`Solana error #${n}; Decode this error by running \`npx @solana/errors decode -- ${n}`;return Object.keys(e).length&&(t+=` '${encodeContextObject(e)}'`),`${t}\``}}var SolanaError=class extends Error{cause=this.cause;context;constructor(...[n,e]){let t,r;if(e){const{cause:a,...c}=e;a&&(r={cause:a}),Object.keys(c).length>0&&(t=c)}const o=getErrorMessage(n,t);super(o,r),this.context={__code:n,...t},this.name="SolanaError"}},padBytes=(n,e)=>{if(n.length>=e)return n;const t=new Uint8Array(e).fill(0);return t.set(n),t},fixBytes=(n,e)=>padBytes(n.length<=e?n:n.slice(0,e),e);function getEncodedSize$1(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function createEncoder$1(n){return Object.freeze({...n,encode:e=>{const t=new Uint8Array(getEncodedSize$1(e,n));return n.write(e,t,0),t}})}function createDecoder$1(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}function isFixedSize$1(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function isVariableSize$1(n){return!isFixedSize$1(n)}function combineCodec$1(n,e){if(isFixedSize$1(n)!==isFixedSize$1(e))throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(isFixedSize$1(n)&&isFixedSize$1(e)&&n.fixedSize!==e.fixedSize)throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!isFixedSize$1(n)&&!isFixedSize$1(e)&&n.maxSize!==e.maxSize)throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function assertByteArrayIsNotEmptyForCodec$1(n,e,t=0){if(e.length-t<=0)throw new SolanaError(SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:n})}function assertByteArrayHasEnoughBytesForCodec$1(n,e,t,r=0){const o=t.length-r;if(o<e)throw new SolanaError(SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:o,codecDescription:n,expected:e})}function addEncoderSizePrefix(n,e){const t=(c,u,en)=>{const tn=n.encode(c);return en=e.write(tn.length,u,en),u.set(tn,en),en+tn.length};if(isFixedSize$1(e)&&isFixedSize$1(n))return createEncoder$1({...n,fixedSize:e.fixedSize+n.fixedSize,write:t});const r=isFixedSize$1(e)?e.fixedSize:e.maxSize??null,o=isFixedSize$1(n)?n.fixedSize:n.maxSize??null,a=r!==null&&o!==null?r+o:null;return createEncoder$1({...n,...a!==null?{maxSize:a}:{},getSizeFromValue:c=>{const u=getEncodedSize$1(c,n);return getEncodedSize$1(u,e)+u},write:t})}function addDecoderSizePrefix(n,e){const t=(c,u)=>{const[en,tn]=e.read(c,u),nn=Number(en);return u=tn,(u>0||c.length>nn)&&(c=c.slice(u,u+nn)),assertByteArrayHasEnoughBytesForCodec$1("addDecoderSizePrefix",nn,c),[n.decode(c),u+nn]};if(isFixedSize$1(e)&&isFixedSize$1(n))return createDecoder$1({...n,fixedSize:e.fixedSize+n.fixedSize,read:t});const r=isFixedSize$1(e)?e.fixedSize:e.maxSize??null,o=isFixedSize$1(n)?n.fixedSize:n.maxSize??null,a=r!==null&&o!==null?r+o:null;return createDecoder$1({...n,...a!==null?{maxSize:a}:{},read:t})}function addCodecSizePrefix(n,e){return combineCodec$1(addEncoderSizePrefix(n,e),addDecoderSizePrefix(n,e))}function fixEncoderSize(n,e){return createEncoder$1({fixedSize:e,write:(t,r,o)=>{const a=n.encode(t),c=a.length>e?a.slice(0,e):a;return r.set(c,o),o+e}})}function fixDecoderSize(n,e){return createDecoder$1({fixedSize:e,read:(t,r)=>{assertByteArrayHasEnoughBytesForCodec$1("fixCodecSize",e,t,r),(r>0||t.length>e)&&(t=t.slice(r,r+e)),isFixedSize$1(n)&&(t=fixBytes(t,n.fixedSize));const[o]=n.read(t,0);return[o,r+e]}})}function fixCodecSize(n,e){return combineCodec$1(fixEncoderSize(n,e),fixDecoderSize(n,e))}function transformEncoder$1(n,e){return createEncoder$1({...isVariableSize$1(n)?{...n,getSizeFromValue:t=>n.getSizeFromValue(e(t))}:n,write:(t,r,o)=>n.write(e(t),r,o)})}function getEncodedSize(n,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(n)}function createEncoder(n){return Object.freeze({...n,encode:e=>{const t=new Uint8Array(getEncodedSize(e,n));return n.write(e,t,0),t}})}function createDecoder(n){return Object.freeze({...n,decode:(e,t=0)=>n.read(e,t)[0]})}function isFixedSize(n){return"fixedSize"in n&&typeof n.fixedSize=="number"}function isVariableSize(n){return!isFixedSize(n)}function combineCodec(n,e){if(isFixedSize(n)!==isFixedSize(e))throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(isFixedSize(n)&&isFixedSize(e)&&n.fixedSize!==e.fixedSize)throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:e.fixedSize,encoderFixedSize:n.fixedSize});if(!isFixedSize(n)&&!isFixedSize(e)&&n.maxSize!==e.maxSize)throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:e.maxSize,encoderMaxSize:n.maxSize});return{...e,...n,decode:e.decode,encode:n.encode,read:e.read,write:n.write}}function assertByteArrayIsNotEmptyForCodec(n,e,t=0){if(e.length-t<=0)throw new SolanaError(SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:n})}function assertByteArrayHasEnoughBytesForCodec(n,e,t,r=0){const o=t.length-r;if(o<e)throw new SolanaError(SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:o,codecDescription:n,expected:e})}function transformEncoder(n,e){return createEncoder({...isVariableSize(n)?{...n,getSizeFromValue:t=>n.getSizeFromValue(e(t))}:n,write:(t,r,o)=>n.write(e(t),r,o)})}function transformDecoder(n,e){return createDecoder({...n,read:(t,r)=>{const[o,a]=n.read(t,r);return[e(o,t,r),a]}})}function assertNumberIsBetweenForCodec$1(n,e,t,r){if(r<e||r>t)throw new SolanaError(SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:n,max:t,min:e,value:r})}function isLittleEndian$1(n){return(n==null?void 0:n.endian)!==1}function numberEncoderFactory$1(n){return createEncoder({fixedSize:n.size,write(e,t,r){n.range&&assertNumberIsBetweenForCodec$1(n.name,n.range[0],n.range[1],e);const o=new ArrayBuffer(n.size);return n.set(new DataView(o),e,isLittleEndian$1(n.config)),t.set(new Uint8Array(o),r),r+n.size}})}function numberDecoderFactory$1(n){return createDecoder({fixedSize:n.size,read(e,t=0){assertByteArrayIsNotEmptyForCodec(n.name,e,t),assertByteArrayHasEnoughBytesForCodec(n.name,n.size,e,t);const r=new DataView(toArrayBuffer$1(e,t,n.size));return[n.get(r,isLittleEndian$1(n.config)),t+n.size]}})}function toArrayBuffer$1(n,e,t){const r=n.byteOffset+(e??0),o=t??n.byteLength;return n.buffer.slice(r,r+o)}var getU32Encoder$1=(n={})=>numberEncoderFactory$1({config:n,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,r)=>e.setUint32(0,Number(t),r),size:4}),getU32Decoder$1=(n={})=>numberDecoderFactory$1({config:n,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),getU8Encoder=()=>numberEncoderFactory$1({name:"u8",range:[0,Number("0xff")],set:(n,e)=>n.setUint8(0,Number(e)),size:1}),getU8Decoder=()=>numberDecoderFactory$1({get:n=>n.getUint8(0),name:"u8",size:1});function assertValidNumberOfItemsForCodec(n,e,t){if(e!==t)throw new SolanaError(SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS,{actual:t,codecDescription:n,expected:e})}function maxCodecSizes(n){return n.reduce((e,t)=>e===null||t===null?null:Math.max(e,t),0)}function sumCodecSizes(n){return n.reduce((e,t)=>e===null||t===null?null:e+t,0)}function getFixedSize(n){return isFixedSize(n)?n.fixedSize:null}function getMaxSize(n){return isFixedSize(n)?n.fixedSize:n.maxSize??null}function getArrayEncoder(n,e={}){const t=e.size??getU32Encoder$1(),r=computeArrayLikeCodecSize(t,getFixedSize(n)),o=computeArrayLikeCodecSize(t,getMaxSize(n))??void 0;return createEncoder({...r!==null?{fixedSize:r}:{getSizeFromValue:a=>(typeof t=="object"?getEncodedSize(a.length,t):0)+[...a].reduce((u,en)=>u+getEncodedSize(en,n),0),maxSize:o},write:(a,c,u)=>(typeof t=="number"&&assertValidNumberOfItemsForCodec("array",t,a.length),typeof t=="object"&&(u=t.write(a.length,c,u)),a.forEach(en=>{u=n.write(en,c,u)}),u)})}function getArrayDecoder(n,e={}){const t=e.size??getU32Decoder$1(),r=getFixedSize(n),o=computeArrayLikeCodecSize(t,r),a=computeArrayLikeCodecSize(t,getMaxSize(n))??void 0;return createDecoder({...o!==null?{fixedSize:o}:{maxSize:a},read:(c,u)=>{const en=[];if(typeof t=="object"&&c.slice(u).length===0)return[en,u];if(t==="remainder"){for(;u<c.length;){const[sn,fn]=n.read(c,u);u=fn,en.push(sn)}return[en,u]}const[tn,nn]=typeof t=="number"?[t,u]:t.read(c,u);u=nn;for(let sn=0;sn<tn;sn+=1){const[fn,dn]=n.read(c,u);u=dn,en.push(fn)}return[en,u]}})}function getArrayCodec(n,e={}){return combineCodec(getArrayEncoder(n,e),getArrayDecoder(n,e))}function computeArrayLikeCodecSize(n,e){return typeof n!="number"?null:n===0?0:e===null?null:e*n}function getBooleanEncoder(n={}){return transformEncoder(n.size??getU8Encoder(),e=>e?1:0)}function getBytesEncoder(){return createEncoder({getSizeFromValue:n=>n.length,write:(n,e,t)=>(e.set(n,t),t+n.length)})}function getBytesDecoder(){return createDecoder({read:(n,e)=>{const t=n.slice(e);return[t,e+t.length]}})}function getBytesCodec(){return combineCodec(getBytesEncoder(),getBytesDecoder())}function getConstantEncoder(n){return createEncoder({fixedSize:n.length,write:(e,t,r)=>(t.set(n,r),r+n.length)})}function getTupleEncoder(n){const e=sumCodecSizes(n.map(getFixedSize)),t=sumCodecSizes(n.map(getMaxSize))??void 0;return createEncoder({...e===null?{getSizeFromValue:r=>n.map((o,a)=>getEncodedSize(r[a],o)).reduce((o,a)=>o+a,0),maxSize:t}:{fixedSize:e},write:(r,o,a)=>(assertValidNumberOfItemsForCodec("tuple",n.length,r.length),n.forEach((c,u)=>{a=c.write(r[u],o,a)}),a)})}function getTupleDecoder(n){const e=sumCodecSizes(n.map(getFixedSize)),t=sumCodecSizes(n.map(getMaxSize))??void 0;return createDecoder({...e===null?{maxSize:t}:{fixedSize:e},read:(r,o)=>{const a=[];return n.forEach(c=>{const[u,en]=c.read(r,o);a.push(u),o=en}),[a,o]}})}function getTupleCodec(n){return combineCodec(getTupleEncoder(n),getTupleDecoder(n))}function getUnionEncoder(n,e){const t=getUnionFixedSize(n),r=(a,c,u)=>{const en=e(a);return assertValidVariantIndex(n,en),n[en].write(a,c,u)};if(t!==null)return createEncoder({fixedSize:t,write:r});const o=getUnionMaxSize(n);return createEncoder({...o!==null?{maxSize:o}:{},getSizeFromValue:a=>{const c=e(a);return assertValidVariantIndex(n,c),getEncodedSize(a,n[c])},write:r})}function getUnionDecoder(n,e){const t=getUnionFixedSize(n),r=(a,c)=>{const u=e(a,c);return assertValidVariantIndex(n,u),n[u].read(a,c)};if(t!==null)return createDecoder({fixedSize:t,read:r});const o=getUnionMaxSize(n);return createDecoder({...o!==null?{maxSize:o}:{},read:r})}function assertValidVariantIndex(n,e){if(typeof n[e]>"u")throw new SolanaError(SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE,{maxRange:n.length-1,minRange:0,variant:e})}function getUnionFixedSize(n){if(n.length===0)return 0;if(!isFixedSize(n[0]))return null;const e=n[0].fixedSize;return n.every(r=>isFixedSize(r)&&r.fixedSize===e)?e:null}function getUnionMaxSize(n){return maxCodecSizes(n.map(e=>getMaxSize(e)))}function getDiscriminatedUnionEncoder(n,e={}){const t=e.discriminator??"__kind",r=e.size??getU8Encoder();return getUnionEncoder(n.map(([,o],a)=>transformEncoder(getTupleEncoder([r,o]),c=>[a,c])),o=>getVariantDiscriminator(n,o[t]))}function getDiscriminatedUnionDecoder(n,e={}){const t=e.discriminator??"__kind",r=e.size??getU8Decoder();return getUnionDecoder(n.map(([o,a])=>transformDecoder(getTupleDecoder([r,a]),([,c])=>({[t]:o,...c}))),(o,a)=>Number(r.read(o,a)[0]))}function getDiscriminatedUnionCodec(n,e={}){return combineCodec(getDiscriminatedUnionEncoder(n,e),getDiscriminatedUnionDecoder(n,e))}function getVariantDiscriminator(n,e){const t=n.findIndex(([r])=>e===r);if(t<0)throw new SolanaError(SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT,{value:e,variants:n.map(([r])=>r)});return t}var getDataEnumCodec=getDiscriminatedUnionCodec;function getUnitEncoder(){return createEncoder({fixedSize:0,write:(n,e,t)=>t})}function getUnitDecoder(){return createDecoder({fixedSize:0,read:(n,e)=>[void 0,e]})}function getUnitCodec(){return combineCodec(getUnitEncoder(),getUnitDecoder())}function getStructEncoder(n){const e=n.map(([,o])=>o),t=sumCodecSizes(e.map(getFixedSize)),r=sumCodecSizes(e.map(getMaxSize))??void 0;return createEncoder({...t===null?{getSizeFromValue:o=>n.map(([a,c])=>getEncodedSize(o[a],c)).reduce((a,c)=>a+c,0),maxSize:r}:{fixedSize:t},write:(o,a,c)=>(n.forEach(([u,en])=>{c=en.write(o[u],a,c)}),c)})}function getStructDecoder(n){const e=n.map(([,o])=>o),t=sumCodecSizes(e.map(getFixedSize)),r=sumCodecSizes(e.map(getMaxSize))??void 0;return createDecoder({...t===null?{maxSize:r}:{fixedSize:t},read:(o,a)=>{const c={};return n.forEach(([u,en])=>{const[tn,nn]=en.read(o,a);a=nn,c[u]=tn}),[c,a]}})}function getStructCodec(n){return combineCodec(getStructEncoder(n),getStructDecoder(n))}function assertNumberIsBetweenForCodec(n,e,t,r){if(r<e||r>t)throw new SolanaError(SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:n,max:t,min:e,value:r})}function isLittleEndian(n){return(n==null?void 0:n.endian)!==1}function numberEncoderFactory(n){return createEncoder$1({fixedSize:n.size,write(e,t,r){n.range&&assertNumberIsBetweenForCodec(n.name,n.range[0],n.range[1],e);const o=new ArrayBuffer(n.size);return n.set(new DataView(o),e,isLittleEndian(n.config)),t.set(new Uint8Array(o),r),r+n.size}})}function numberDecoderFactory(n){return createDecoder$1({fixedSize:n.size,read(e,t=0){assertByteArrayIsNotEmptyForCodec$1(n.name,e,t),assertByteArrayHasEnoughBytesForCodec$1(n.name,n.size,e,t);const r=new DataView(toArrayBuffer(e,t,n.size));return[n.get(r,isLittleEndian(n.config)),t+n.size]}})}function toArrayBuffer(n,e,t){const r=n.byteOffset+(e??0),o=t??n.byteLength;return n.buffer.slice(r,r+o)}var getU32Encoder=(n={})=>numberEncoderFactory({config:n,name:"u32",range:[0,Number("0xffffffff")],set:(e,t,r)=>e.setUint32(0,Number(t),r),size:4}),getU32Decoder=(n={})=>numberDecoderFactory({config:n,get:(e,t)=>e.getUint32(0,t),name:"u32",size:4}),getU32Codec=(n={})=>combineCodec$1(getU32Encoder(n),getU32Decoder(n)),getU64Encoder=(n={})=>numberEncoderFactory({config:n,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,t,r)=>e.setBigUint64(0,BigInt(t),r),size:8}),getU64Decoder=(n={})=>numberDecoderFactory({config:n,get:(e,t)=>e.getBigUint64(0,t),name:"u64",size:8}),getU64Codec=(n={})=>combineCodec$1(getU64Encoder(n),getU64Decoder(n));const tokenGroupCodec=getStructCodec([["updateAuthority",fixCodecSize(getBytesCodec(),32)],["mint",fixCodecSize(getBytesCodec(),32)],["size",getU64Codec()],["maxSize",getU64Codec()]]),TOKEN_GROUP_SIZE=tokenGroupCodec.fixedSize;function isNonePubkey(n){for(let e=0;e<n.length;e++)if(n[e]!==0)return!1;return!0}function unpackTokenGroup(n){const e=tokenGroupCodec.decode(n);return isNonePubkey(e.updateAuthority)?{mint:new PublicKey$7(e.mint),size:e.size,maxSize:e.maxSize}:{updateAuthority:new PublicKey$7(e.updateAuthority),mint:new PublicKey$7(e.mint),size:e.size,maxSize:e.maxSize}}const tokenGroupMemberCodec=getStructCodec([["mint",fixCodecSize(getBytesCodec(),32)],["group",fixCodecSize(getBytesCodec(),32)],["memberNumber",getU64Codec()]]),TOKEN_GROUP_MEMBER_SIZE=tokenGroupMemberCodec.fixedSize;function unpackTokenGroupMember(n){const e=tokenGroupMemberCodec.decode(n);return{mint:new PublicKey$7(e.mint),group:new PublicKey$7(e.group),memberNumber:e.memberNumber}}const GroupMemberPointerLayout=struct$3([publicKey$6("authority"),publicKey$6("memberAddress")]),GROUP_MEMBER_POINTER_SIZE=GroupMemberPointerLayout.span;function getGroupMemberPointerState(n){const e=getExtensionData(ExtensionType.GroupMemberPointer,n.tlvData);if(e!==null){const{authority:t,memberAddress:r}=GroupMemberPointerLayout.decode(e);return{authority:t.equals(PublicKey$7.default)?null:t,memberAddress:r.equals(PublicKey$7.default)?null:r}}else return null}const GroupPointerLayout=struct$3([publicKey$6("authority"),publicKey$6("groupAddress")]),GROUP_POINTER_SIZE=GroupPointerLayout.span;function getGroupPointerState(n){const e=getExtensionData(ExtensionType.GroupPointer,n.tlvData);if(e!==null){const{authority:t,groupAddress:r}=GroupPointerLayout.decode(e);return{authority:t.equals(PublicKey$7.default)?null:t,groupAddress:r.equals(PublicKey$7.default)?null:r}}else return null}const ImmutableOwnerLayout=struct$3([]),IMMUTABLE_OWNER_SIZE=ImmutableOwnerLayout.span;function getImmutableOwner(n){const e=getExtensionData(ExtensionType.ImmutableOwner,n.tlvData);return e!==null?ImmutableOwnerLayout.decode(e):null}const InterestBearingMintConfigStateLayout=struct$3([publicKey$6("rateAuthority"),ns64$1("initializationTimestamp"),s16("preUpdateAverageRate"),ns64$1("lastUpdateTimestamp"),s16("currentRate")]),INTEREST_BEARING_MINT_CONFIG_STATE_SIZE=InterestBearingMintConfigStateLayout.span;function getInterestBearingMintConfigState(n){const e=getExtensionData(ExtensionType.InterestBearingConfig,n.tlvData);return e!==null?InterestBearingMintConfigStateLayout.decode(e):null}const MemoTransferLayout=struct$3([bool("requireIncomingTransferMemos")]),MEMO_TRANSFER_SIZE=MemoTransferLayout.span;function getMemoTransfer(n){const e=getExtensionData(ExtensionType.MemoTransfer,n.tlvData);return e!==null?MemoTransferLayout.decode(e):null}const MetadataPointerLayout=struct$3([publicKey$6("authority"),publicKey$6("metadataAddress")]),METADATA_POINTER_SIZE=MetadataPointerLayout.span;function getMetadataPointerState(n){const e=getExtensionData(ExtensionType.MetadataPointer,n.tlvData);if(e!==null){const{authority:t,metadataAddress:r}=MetadataPointerLayout.decode(e);return{authority:t.equals(PublicKey$7.default)?null:t,metadataAddress:r.equals(PublicKey$7.default)?null:r}}else return null}const MintCloseAuthorityLayout=struct$3([publicKey$6("closeAuthority")]),MINT_CLOSE_AUTHORITY_SIZE=MintCloseAuthorityLayout.span;function getMintCloseAuthority(n){const e=getExtensionData(ExtensionType.MintCloseAuthority,n.tlvData);return e!==null?MintCloseAuthorityLayout.decode(e):null}const NonTransferableLayout=struct$3([]),NON_TRANSFERABLE_SIZE=NonTransferableLayout.span,NON_TRANSFERABLE_ACCOUNT_SIZE=NonTransferableLayout.span;function getNonTransferable(n){const e=getExtensionData(ExtensionType.NonTransferable,n.tlvData);return e!==null?NonTransferableLayout.decode(e):null}function getNonTransferableAccount(n){const e=getExtensionData(ExtensionType.NonTransferableAccount,n.tlvData);return e!==null?NonTransferableLayout.decode(e):null}const PermanentDelegateLayout=struct$3([publicKey$6("delegate")]),PERMANENT_DELEGATE_SIZE=PermanentDelegateLayout.span;function getPermanentDelegate(n){const e=getExtensionData(ExtensionType.PermanentDelegate,n.tlvData);return e!==null?PermanentDelegateLayout.decode(e):null}const MAX_FEE_BASIS_POINTS=1e4,ONE_IN_BASIS_POINTS=BigInt(MAX_FEE_BASIS_POINTS);function transferFeeLayout(n){return struct$3([u64$9("epoch"),u64$9("maximumFee"),u16("transferFeeBasisPoints")],n)}function calculateFee(n,e){const t=n.transferFeeBasisPoints;if(t===0||e===BigInt(0))return BigInt(0);{const o=(e*BigInt(t)+ONE_IN_BASIS_POINTS-BigInt(1))/ONE_IN_BASIS_POINTS,a=o>n.maximumFee?n.maximumFee:o;return BigInt(a)}}const TransferFeeConfigLayout=struct$3([publicKey$6("transferFeeConfigAuthority"),publicKey$6("withdrawWithheldAuthority"),u64$9("withheldAmount"),transferFeeLayout("olderTransferFee"),transferFeeLayout("newerTransferFee")]),TRANSFER_FEE_CONFIG_SIZE=TransferFeeConfigLayout.span;function getEpochFee(n,e){return e>=n.newerTransferFee.epoch?n.newerTransferFee:n.olderTransferFee}function calculateEpochFee(n,e,t){const r=getEpochFee(n,e);return calculateFee(r,t)}const TransferFeeAmountLayout=struct$3([u64$9("withheldAmount")]),TRANSFER_FEE_AMOUNT_SIZE=TransferFeeAmountLayout.span;function getTransferFeeConfig(n){const e=getExtensionData(ExtensionType.TransferFeeConfig,n.tlvData);return e!==null?TransferFeeConfigLayout.decode(e):null}function getTransferFeeAmount(n){const e=getExtensionData(ExtensionType.TransferFeeAmount,n.tlvData);return e!==null?TransferFeeAmountLayout.decode(e):null}const DISCRIMINATOR_SPAN=1,LITERAL_LENGTH_SPAN=1,INSTRUCTION_ARG_OFFSET_SPAN=1,INSTRUCTION_ARG_LENGTH_SPAN=1,ACCOUNT_KEY_INDEX_SPAN=1,ACCOUNT_DATA_ACCOUNT_INDEX_SPAN=1,ACCOUNT_DATA_OFFSET_SPAN=1,ACCOUNT_DATA_LENGTH_SPAN=1;function unpackSeedLiteral(n){if(n.length<1)throw new TokenTransferHookInvalidSeed;const[e,...t]=n;if(t.length<e)throw new TokenTransferHookInvalidSeed;return{data:dist$3.Buffer.from(t.slice(0,e)),packedLength:DISCRIMINATOR_SPAN+LITERAL_LENGTH_SPAN+e}}function unpackSeedInstructionArg(n,e){if(n.length<2)throw new TokenTransferHookInvalidSeed;const[t,r]=n;if(e.length<r+t)throw new TokenTransferHookInvalidSeed;return{data:e.subarray(t,t+r),packedLength:DISCRIMINATOR_SPAN+INSTRUCTION_ARG_OFFSET_SPAN+INSTRUCTION_ARG_LENGTH_SPAN}}function unpackSeedAccountKey(n,e){if(n.length<1)throw new TokenTransferHookInvalidSeed;const[t]=n;if(e.length<=t)throw new TokenTransferHookInvalidSeed;return{data:e[t].pubkey.toBuffer(),packedLength:DISCRIMINATOR_SPAN+ACCOUNT_KEY_INDEX_SPAN}}async function unpackSeedAccountData(n,e,t){if(n.length<3)throw new TokenTransferHookInvalidSeed;const[r,o,a]=n;if(e.length<=r)throw new TokenTransferHookInvalidSeed;const c=await t.getAccountInfo(e[r].pubkey);if(c==null)throw new TokenTransferHookAccountDataNotFound;if(c.data.length<o+a)throw new TokenTransferHookInvalidSeed;return{data:c.data.subarray(o,o+a),packedLength:DISCRIMINATOR_SPAN+ACCOUNT_DATA_ACCOUNT_INDEX_SPAN+ACCOUNT_DATA_OFFSET_SPAN+ACCOUNT_DATA_LENGTH_SPAN}}async function unpackFirstSeed(n,e,t,r){const[o,...a]=n,c=new Uint8Array(a);switch(o){case 0:return null;case 1:return unpackSeedLiteral(c);case 2:return unpackSeedInstructionArg(c,t);case 3:return unpackSeedAccountKey(c,e);case 4:return unpackSeedAccountData(c,e,r);default:throw new TokenTransferHookInvalidSeed}}async function unpackSeeds(n,e,t,r){const o=[];let a=0;for(;a<32;){const c=await unpackFirstSeed(n.slice(a),e,t,r);if(c==null)break;o.push(c.data),a+=c.packedLength}return o}const TransferHookLayout=struct$3([publicKey$6("authority"),publicKey$6("programId")]),TRANSFER_HOOK_SIZE=TransferHookLayout.span;function getTransferHook(n){const e=getExtensionData(ExtensionType.TransferHook,n.tlvData);return e!==null?TransferHookLayout.decode(e):null}const TransferHookAccountLayout=struct$3([bool("transferring")]),TRANSFER_HOOK_ACCOUNT_SIZE=TransferHookAccountLayout.span;function getTransferHookAccount(n){const e=getExtensionData(ExtensionType.TransferHookAccount,n.tlvData);return e!==null?TransferHookAccountLayout.decode(e):null}function getExtraAccountMetaAddress(n,e){const t=[dist$3.Buffer.from("extra-account-metas"),n.toBuffer()];return PublicKey$7.findProgramAddressSync(t,e)[0]}const ExtraAccountMetaLayout=struct$3([u8$2("discriminator"),blob$2(32,"addressConfig"),bool("isSigner"),bool("isWritable")]),ExtraAccountMetaListLayout=struct$3([u32$3("count"),seq(ExtraAccountMetaLayout,greedy(ExtraAccountMetaLayout.span),"extraAccounts")]),ExtraAccountMetaAccountDataLayout=struct$3([u64$9("instructionDiscriminator"),u32$3("length"),ExtraAccountMetaListLayout.replicate("extraAccountsList")]);function getExtraAccountMetas(n){const e=ExtraAccountMetaAccountDataLayout.decode(n.data).extraAccountsList;return e.extraAccounts.slice(0,e.count)}async function resolveExtraAccountMeta(n,e,t,r,o){if(e.discriminator===0)return{pubkey:new PublicKey$7(e.addressConfig),isSigner:e.isSigner,isWritable:e.isWritable};let a=PublicKey$7.default;if(e.discriminator===1)a=o;else{const en=e.discriminator-128;if(t.length<=en)throw new TokenTransferHookAccountNotFound;a=t[en].pubkey}const c=await unpackSeeds(e.addressConfig,t,r,n);return{pubkey:PublicKey$7.findProgramAddressSync(c,a)[0],isSigner:e.isSigner,isWritable:e.isWritable}}var ExtensionType;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.TransferFeeConfig=1]="TransferFeeConfig",n[n.TransferFeeAmount=2]="TransferFeeAmount",n[n.MintCloseAuthority=3]="MintCloseAuthority",n[n.ConfidentialTransferMint=4]="ConfidentialTransferMint",n[n.ConfidentialTransferAccount=5]="ConfidentialTransferAccount",n[n.DefaultAccountState=6]="DefaultAccountState",n[n.ImmutableOwner=7]="ImmutableOwner",n[n.MemoTransfer=8]="MemoTransfer",n[n.NonTransferable=9]="NonTransferable",n[n.InterestBearingConfig=10]="InterestBearingConfig",n[n.CpiGuard=11]="CpiGuard",n[n.PermanentDelegate=12]="PermanentDelegate",n[n.NonTransferableAccount=13]="NonTransferableAccount",n[n.TransferHook=14]="TransferHook",n[n.TransferHookAccount=15]="TransferHookAccount",n[n.MetadataPointer=18]="MetadataPointer",n[n.TokenMetadata=19]="TokenMetadata",n[n.GroupPointer=20]="GroupPointer",n[n.TokenGroup=21]="TokenGroup",n[n.GroupMemberPointer=22]="GroupMemberPointer",n[n.TokenGroupMember=23]="TokenGroupMember"})(ExtensionType||(ExtensionType={}));const TYPE_SIZE=2,LENGTH_SIZE=2;function addTypeAndLengthToLen(n){return n+TYPE_SIZE+LENGTH_SIZE}function isVariableLengthExtension(n){switch(n){case ExtensionType.TokenMetadata:return!0;default:return!1}}function getTypeLen(n){switch(n){case ExtensionType.Uninitialized:return 0;case ExtensionType.TransferFeeConfig:return TRANSFER_FEE_CONFIG_SIZE;case ExtensionType.TransferFeeAmount:return TRANSFER_FEE_AMOUNT_SIZE;case ExtensionType.MintCloseAuthority:return MINT_CLOSE_AUTHORITY_SIZE;case ExtensionType.ConfidentialTransferMint:return 65;case ExtensionType.ConfidentialTransferAccount:return 295;case ExtensionType.CpiGuard:return CPI_GUARD_SIZE;case ExtensionType.DefaultAccountState:return DEFAULT_ACCOUNT_STATE_SIZE;case ExtensionType.ImmutableOwner:return IMMUTABLE_OWNER_SIZE;case ExtensionType.MemoTransfer:return MEMO_TRANSFER_SIZE;case ExtensionType.MetadataPointer:return METADATA_POINTER_SIZE;case ExtensionType.NonTransferable:return NON_TRANSFERABLE_SIZE;case ExtensionType.InterestBearingConfig:return INTEREST_BEARING_MINT_CONFIG_STATE_SIZE;case ExtensionType.PermanentDelegate:return PERMANENT_DELEGATE_SIZE;case ExtensionType.NonTransferableAccount:return NON_TRANSFERABLE_ACCOUNT_SIZE;case ExtensionType.TransferHook:return TRANSFER_HOOK_SIZE;case ExtensionType.TransferHookAccount:return TRANSFER_HOOK_ACCOUNT_SIZE;case ExtensionType.GroupPointer:return GROUP_POINTER_SIZE;case ExtensionType.GroupMemberPointer:return GROUP_MEMBER_POINTER_SIZE;case ExtensionType.TokenGroup:return TOKEN_GROUP_SIZE;case ExtensionType.TokenGroupMember:return TOKEN_GROUP_MEMBER_SIZE;case ExtensionType.TokenMetadata:throw Error(`Cannot get type length for variable extension type: ${n}`);default:throw Error(`Unknown extension type: ${n}`)}}function isMintExtension(n){switch(n){case ExtensionType.TransferFeeConfig:case ExtensionType.MintCloseAuthority:case ExtensionType.ConfidentialTransferMint:case ExtensionType.DefaultAccountState:case ExtensionType.NonTransferable:case ExtensionType.InterestBearingConfig:case ExtensionType.PermanentDelegate:case ExtensionType.TransferHook:case ExtensionType.MetadataPointer:case ExtensionType.TokenMetadata:case ExtensionType.GroupPointer:case ExtensionType.GroupMemberPointer:case ExtensionType.TokenGroup:case ExtensionType.TokenGroupMember:return!0;case ExtensionType.Uninitialized:case ExtensionType.TransferFeeAmount:case ExtensionType.ConfidentialTransferAccount:case ExtensionType.ImmutableOwner:case ExtensionType.MemoTransfer:case ExtensionType.CpiGuard:case ExtensionType.NonTransferableAccount:case ExtensionType.TransferHookAccount:return!1;default:throw Error(`Unknown extension type: ${n}`)}}function isAccountExtension(n){switch(n){case ExtensionType.TransferFeeAmount:case ExtensionType.ConfidentialTransferAccount:case ExtensionType.ImmutableOwner:case ExtensionType.MemoTransfer:case ExtensionType.CpiGuard:case ExtensionType.NonTransferableAccount:case ExtensionType.TransferHookAccount:return!0;case ExtensionType.Uninitialized:case ExtensionType.TransferFeeConfig:case ExtensionType.MintCloseAuthority:case ExtensionType.ConfidentialTransferMint:case ExtensionType.DefaultAccountState:case ExtensionType.NonTransferable:case ExtensionType.InterestBearingConfig:case ExtensionType.PermanentDelegate:case ExtensionType.TransferHook:case ExtensionType.MetadataPointer:case ExtensionType.TokenMetadata:case ExtensionType.GroupPointer:case ExtensionType.GroupMemberPointer:case ExtensionType.TokenGroup:case ExtensionType.TokenGroupMember:return!1;default:throw Error(`Unknown extension type: ${n}`)}}function getAccountTypeOfMintType(n){switch(n){case ExtensionType.TransferFeeConfig:return ExtensionType.TransferFeeAmount;case ExtensionType.ConfidentialTransferMint:return ExtensionType.ConfidentialTransferAccount;case ExtensionType.NonTransferable:return ExtensionType.NonTransferableAccount;case ExtensionType.TransferHook:return ExtensionType.TransferHookAccount;case ExtensionType.TransferFeeAmount:case ExtensionType.ConfidentialTransferAccount:case ExtensionType.CpiGuard:case ExtensionType.DefaultAccountState:case ExtensionType.ImmutableOwner:case ExtensionType.MemoTransfer:case ExtensionType.MintCloseAuthority:case ExtensionType.MetadataPointer:case ExtensionType.TokenMetadata:case ExtensionType.Uninitialized:case ExtensionType.InterestBearingConfig:case ExtensionType.PermanentDelegate:case ExtensionType.NonTransferableAccount:case ExtensionType.TransferHookAccount:case ExtensionType.GroupPointer:case ExtensionType.GroupMemberPointer:case ExtensionType.TokenGroup:case ExtensionType.TokenGroupMember:return ExtensionType.Uninitialized}}function getLen(n,e,t={}){if(n.length===0&&Object.keys(t).length===0)return e;{const r=ACCOUNT_SIZE+ACCOUNT_TYPE_SIZE+n.filter((o,a)=>a===n.indexOf(o)).map(o=>addTypeAndLengthToLen(getTypeLen(o))).reduce((o,a)=>o+a,0)+Object.entries(t).map(([o,a])=>{if(!isVariableLengthExtension(Number(o)))throw Error(`Extension ${o} is not variable length`);return addTypeAndLengthToLen(a)}).reduce((o,a)=>o+a,0);return r===MULTISIG_SIZE?r+TYPE_SIZE:r}}function getMintLen(n,e={}){return getLen(n,MINT_SIZE,e)}function getAccountLen(n){return getLen(n,ACCOUNT_SIZE)}function getExtensionData(n,e){let t=0;for(;addTypeAndLengthToLen(t)<=e.length;){const r=e.readUInt16LE(t),o=e.readUInt16LE(t+TYPE_SIZE),a=addTypeAndLengthToLen(t);if(r==n)return e.slice(a,a+o);t=a+o}return null}function getExtensionTypes(n){const e=[];let t=0;for(;t<n.length;){const r=n.readUInt16LE(t);e.push(r);const o=n.readUInt16LE(t+TYPE_SIZE);t+=addTypeAndLengthToLen(o)}return e}function getAccountLenForMint(n){const t=getExtensionTypes(n.tlvData).map(getAccountTypeOfMintType);return getAccountLen(t)}function getNewAccountLenForExtensionLen(n,e,t,r,o=TOKEN_2022_PROGRAM_ID){const a=unpackMint(e,n,o),c=getExtensionData(t,a.tlvData),u=c?addTypeAndLengthToLen(c.length):0,en=addTypeAndLengthToLen(r);return n.data.length+en-u}function createAssociatedTokenAccountInstruction$1(n,e,t,r,o=TOKEN_PROGRAM_ID$1,a=ASSOCIATED_TOKEN_PROGRAM_ID$1){return buildAssociatedTokenAccountInstruction(n,e,t,r,dist$3.Buffer.alloc(0),o,a)}function createAssociatedTokenAccountIdempotentInstruction(n,e,t,r,o=TOKEN_PROGRAM_ID$1,a=ASSOCIATED_TOKEN_PROGRAM_ID$1){return buildAssociatedTokenAccountInstruction(n,e,t,r,dist$3.Buffer.from([1]),o,a)}function createAssociatedTokenAccountIdempotentInstructionWithDerivation(n,e,t,r=!0,o=TOKEN_PROGRAM_ID$1,a=ASSOCIATED_TOKEN_PROGRAM_ID$1){const c=getAssociatedTokenAddressSync(t,e,r);return createAssociatedTokenAccountIdempotentInstruction(n,c,e,t,o,a)}function buildAssociatedTokenAccountInstruction(n,e,t,r,o,a=TOKEN_PROGRAM_ID$1,c=ASSOCIATED_TOKEN_PROGRAM_ID$1){const u=[{pubkey:n,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:SystemProgram$6.programId,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!1}];return new TransactionInstruction$6({keys:u,programId:c,data:o})}function createRecoverNestedInstruction(n,e,t,r,o,a,c=TOKEN_PROGRAM_ID$1,u=ASSOCIATED_TOKEN_PROGRAM_ID$1){const en=[{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!0,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1}];return new TransactionInstruction$6({keys:en,programId:u,data:dist$3.Buffer.from([2])})}const transferInstructionData=struct$3([u8$2("instruction"),u64$9("amount")]);function createTransferInstruction(n,e,t,r,o=[],a=TOKEN_PROGRAM_ID$1){const c=addSigners([{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0}],t,o),u=dist$3.Buffer.alloc(transferInstructionData.span);return transferInstructionData.encode({instruction:TokenInstruction.Transfer,amount:BigInt(r)},u),new TransactionInstruction$6({keys:c,programId:a,data:u})}function decodeTransferInstruction(n,e=TOKEN_PROGRAM_ID$1){if(!n.programId.equals(e))throw new TokenInvalidInstructionProgramError;if(n.data.length!==transferInstructionData.span)throw new TokenInvalidInstructionDataError;const{keys:{source:t,destination:r,owner:o,multiSigners:a},data:c}=decodeTransferInstructionUnchecked(n);if(c.instruction!==TokenInstruction.Transfer)throw new TokenInvalidInstructionTypeError;if(!t||!r||!o)throw new TokenInvalidInstructionKeysError;return{programId:e,keys:{source:t,destination:r,owner:o,multiSigners:a},data:c}}function decodeTransferInstructionUnchecked({programId:n,keys:[e,t,r,...o],data:a}){return{programId:n,keys:{source:e,destination:t,owner:r,multiSigners:o},data:transferInstructionData.decode(a)}}const tokens$2=[{chainId:101,name:"ATLAS",symbol:"ATLAS",address:"ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx",decimals:8,logoURI:"https://assets.coingecko.com/coins/images/17659/large/Icon_Reverse.png?1696517190",tags:[],verified:!0,holders:null,tree:["Token"]},{chainId:101,name:"POLIS",symbol:"POLIS",address:"poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk",decimals:8,logoURI:"https://assets.coingecko.com/coins/images/17789/large/POLIS.jpg?1696517312",tags:[],verified:!0,holders:null,tree:["Token"]},{chainId:101,name:"USDC",symbol:"USDC",address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",decimals:6,logoURI:"https://assets.coingecko.com/coins/images/6319/large/usdc.png?1696506694",tags:[],verified:!0,holders:null,tree:["Token"]},{chainId:101,name:"Puri",symbol:"PURI",address:"CzLWmvjtj5bp9YEWkzzBnuWovVtogeuchFu5GeFh68hB",decimals:9,logoURI:"https://gateway.irys.xyz/ILXdxJTexpeuGPKMjPtP4wBmvg4x3GlI3nc0n4V9RIU",tags:["community","jupiter"],verified:!0,holders:null,tree:["Token"]},{chainId:101,name:"DACBloon",symbol:"DACB",address:"DL8JvF2THu5WCf6cCzypAVFqMgSEo8p5WrVeSSdvS9cr",decimals:8,logoURI:"https://arweave.net/GJvSfrTGByEIlLxt3l_LaPjAbSFthnBgjuvJVeCFxHk",tags:["community","s&B"],verified:!0,holders:null,tree:["Token"]},{chainId:0,name:"Tokes",symbol:"TKS",address:"TKSgqcF37rb7xjMpeGWHhzESHRXtQBQ7fKBcZ5m2bJC",decimals:8,logoURI:"https://statics.solscan.io/cdn/imgs/s60?ref=68747470733a2f2f73746f726167652e676f6f676c65617069732e636f6d2f6e66742d6173736574732f6974656d732f544b532e6a7067",tags:[],verified:!0,holders:null,tree:["Token"]}],tokens$1=[{chainId:101,name:"Star Atlas",symbol:"STAR",address:"BrzwWsG845VttbTsacZMLKhyc2jAZU12MaPkTYrJHoqm",decimals:0,logoURI:"tokens/webp/BrzwWsG845VttbTsacZMLKhyc2jAZU12MaPkTYrJHoqm.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","anomaly"]},{chainId:101,name:"The Last Stand",symbol:"TLS",address:"Hfjgcs9ix17EwgXVVbKjo6NfMm2CXfr34cwty3xWARUm",decimals:0,logoURI:"tokens/webp/Hfjgcs9ix17EwgXVVbKjo6NfMm2CXfr34cwty3xWARUm.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"Om Photoli",symbol:"OMPH",address:"DB76aiNQeLzHPwvFhzgwfpe6HGHCDTQ6snW6UD7AnHid",decimals:0,logoURI:"tokens/webp/DB76aiNQeLzHPwvFhzgwfpe6HGHCDTQ6snW6UD7AnHid.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","anomaly"]},{chainId:101,name:"Armstrong Forever",symbol:"ASF",address:"9vi6PTKBFHR2hXgyjoTZx6h7WXNkFAA5dCsZRSi4higK",decimals:0,logoURI:"tokens/webp/9vi6PTKBFHR2hXgyjoTZx6h7WXNkFAA5dCsZRSi4higK.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"Automated Plague Control",symbol:"SOLPK2",address:"7gJenN7qBMP3yZeg7ULq5t7BCk5wYmvEtaqL9t9WkkAF",decimals:0,logoURI:"tokens/webp/7gJenN7qBMP3yZeg7ULq5t7BCk5wYmvEtaqL9t9WkkAF.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","uncommon"]},{chainId:101,name:"Atlas Badge",symbol:"BGAT",address:"7GBfZq24jHXmp6bQ988yhgV2bQiZjZx7Fj1E2xSg8ytU",decimals:0,logoURI:"tokens/webp/7GBfZq24jHXmp6bQ988yhgV2bQiZjZx7Fj1E2xSg8ytU.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","uncommon"]},{chainId:101,name:"Captain's Badge",symbol:"BGCPN",address:"J9ZfRgF8hDbTgCHZ5VFR4V3vCecww4MJ9jmeBPd5gt3D",decimals:0,logoURI:"tokens/webp/J9ZfRgF8hDbTgCHZ5VFR4V3vCecww4MJ9jmeBPd5gt3D.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","legendary"]},{chainId:101,name:"The Heart of Star Atlas",symbol:"HOSA",address:"ATSPo9f9TJ3Atx8SuoTYdzSMh4ctQBzYzDiNukQDmoF7",decimals:0,logoURI:"tokens/webp/ATSPo9f9TJ3Atx8SuoTYdzSMh4ctQBzYzDiNukQDmoF7.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","uncommon"]},{chainId:101,name:"Peace Sign",symbol:"CEMOP",address:"M7cvT3qkNRkhG3YmQ3sTe2T46q4JKWH9mWK39UarxYv",decimals:0,logoURI:"tokens/webp/M7cvT3qkNRkhG3YmQ3sTe2T46q4JKWH9mWK39UarxYv.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"The First Coded Seeds Crop",symbol:"SOLPK1",address:"GEBRghyfoFfFdvb4q2kb6DCczKtPvDBSjdMPFtweVxLj",decimals:0,logoURI:"tokens/webp/GEBRghyfoFfFdvb4q2kb6DCczKtPvDBSjdMPFtweVxLj.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","common"]},{chainId:101,name:"VZUS opod",symbol:"VZUSOP",address:"9czEqEZ4EkRt7N3HWDcw9qqwys3xRRjGdbn8Jhk8Khwj",decimals:0,logoURI:"tokens/webp/9czEqEZ4EkRt7N3HWDcw9qqwys3xRRjGdbn8Jhk8Khwj.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Pearce X5",symbol:"PX5",address:"267DbhCypYzvTqv72ZG5UKHeFu56qXFsuoz3rw832eC5",decimals:0,logoURI:"tokens/webp/267DbhCypYzvTqv72ZG5UKHeFu56qXFsuoz3rw832eC5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","uncommon"]},{chainId:101,name:"Executive Badge",symbol:"BGEXE",address:"3QGcfPwr3GhfeyxpprAPvDGRzXmBKwCJBgxM4NfrQDBN",decimals:0,logoURI:"tokens/webp/3QGcfPwr3GhfeyxpprAPvDGRzXmBKwCJBgxM4NfrQDBN.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","anomaly"]},{chainId:101,name:"Ancient Dance",symbol:"TIGUEA",address:"BhsbcuW7iDEthrh6noja7ZFJ9yMqtu9QnuzpK38wv3r9",decimals:0,logoURI:"tokens/webp/BhsbcuW7iDEthrh6noja7ZFJ9yMqtu9QnuzpK38wv3r9.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Vintage Astronaut Suit",symbol:"COVAS",address:"5utpkwvqG5euWHbvrxo8S66C7T5dfoweCC7y1zCWokts",decimals:0,logoURI:"tokens/webp/5utpkwvqG5euWHbvrxo8S66C7T5dfoweCC7y1zCWokts.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Unique Badge",symbol:"BGUNQ",address:"BUtLhi4ohcuYiFooWhZyWxQXKceZLCLNS3BHGXnmnhqM",decimals:0,logoURI:"tokens/webp/BUtLhi4ohcuYiFooWhZyWxQXKceZLCLNS3BHGXnmnhqM.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","uncommon"]},{chainId:101,name:"Usturn",symbol:"VOPSUS",address:"Ebke6Z3VsZ5of9yAxrnjB51YsxvxXo1b43u7qzRMQmwg",decimals:0,logoURI:"tokens/webp/Ebke6Z3VsZ5of9yAxrnjB51YsxvxXo1b43u7qzRMQmwg.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"TTT 300K FTX",symbol:"FM-T3FTX",address:"43shunGxqAydDfcHadZzs9j9JHVCEYixPnSMFHpqwc3k",decimals:0,logoURI:"tokens/webp/43shunGxqAydDfcHadZzs9j9JHVCEYixPnSMFHpqwc3k.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Ogrika Thripid",symbol:"OGKATP",address:"CWxNX9sTexuqvQefqskhP9f6AP5C8hq2VNkicRseqAT5",decimals:0,logoURI:"tokens/webp/CWxNX9sTexuqvQefqskhP9f6AP5C8hq2VNkicRseqAT5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Pearce F4",symbol:"PF4",address:"9MvZS3TVfv4DZL9W2pT12po384aBHf7wi89KXQ9Z7uwW",decimals:0,logoURI:"tokens/webp/9MvZS3TVfv4DZL9W2pT12po384aBHf7wi89KXQ9Z7uwW.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Discovery of Iris",symbol:"DOI",address:"HAWy8kV3bD4gaN6yy6iK2619x2dyzLUBj1PfJiihTisE",decimals:0,logoURI:"tokens/webp/HAWy8kV3bD4gaN6yy6iK2619x2dyzLUBj1PfJiihTisE.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","common"]},{chainId:101,name:"To Infinity",symbol:"CALGEI",address:"6kQzEJdVdsVAYHZjnmCoxNqFfPXvxTTPPb4x3nZFDyAh",decimals:0,logoURI:"tokens/webp/6kQzEJdVdsVAYHZjnmCoxNqFfPXvxTTPPb4x3nZFDyAh.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Rolling Coal",symbol:"FBPLER",address:"DvTdgwdU5wvTw2PLPbyPJdrg16SmULye1F3hccAcpCJi",decimals:0,logoURI:"tokens/webp/DvTdgwdU5wvTw2PLPbyPJdrg16SmULye1F3hccAcpCJi.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Anna Tolle",symbol:"CMHFAT",address:"HzeBiGCyGESHS3d5ndQmvz7q7Nz8Py6PV5xFjRL4cQGk",decimals:0,logoURI:"tokens/webp/HzeBiGCyGESHS3d5ndQmvz7q7Nz8Py6PV5xFjRL4cQGk.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","anomaly"]},{chainId:101,name:"Raydium Defy",symbol:"PX5SR",address:"H9gji7B9ePpyjFtfn9T1NN1MkAXVpGWFiExmeBPgN5Sy",decimals:0,logoURI:"tokens/webp/H9gji7B9ePpyjFtfn9T1NN1MkAXVpGWFiExmeBPgN5Sy.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"TTT 300K Raydium",symbol:"FM-T3RAY",address:"3Sg2QjXxJMpgiaf2VWU5dDWfWt1NVETtxVrZ26NuFpx9",decimals:0,logoURI:"tokens/webp/3Sg2QjXxJMpgiaf2VWU5dDWfWt1NVETtxVrZ26NuFpx9.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Opal Jetjet",symbol:"OPALJJ",address:"9ABNesWj7NVdkDgko7UjVaDp5pTh8a6wfXHLWz3bZM6W",decimals:0,logoURI:"tokens/webp/9ABNesWj7NVdkDgko7UjVaDp5pTh8a6wfXHLWz3bZM6W.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","uncommon"]},{chainId:101,name:"TTT 300K ATLAS",symbol:"FM-T3ATL",address:"56M4yyHAwz3Ro8SezkrQ3ph2ayR8sScSy7mqjHQwMS87",decimals:0,logoURI:"tokens/webp/56M4yyHAwz3Ro8SezkrQ3ph2ayR8sScSy7mqjHQwMS87.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Noble Signer",symbol:"CONSO",address:"BX9FrvAXfDdFKDcgkRPhq38wCn9SDggg9pN2V9qAup5C",decimals:0,logoURI:"tokens/webp/BX9FrvAXfDdFKDcgkRPhq38wCn9SDggg9pN2V9qAup5C.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"VZUS ambwe",symbol:"VZUSAM",address:"H2jHqvXA2oxSpEp6dKkpK7WeszQEdFW5n25mNfrJFAc1",decimals:0,logoURI:"tokens/webp/H2jHqvXA2oxSpEp6dKkpK7WeszQEdFW5n25mNfrJFAc1.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Replicatur Shawl",symbol:"CORUS",address:"7AUcvn5k8MFSYdhiZRDzKyvxRFrauzMgcWMYRngrTZsB",decimals:0,logoURI:"tokens/webp/7AUcvn5k8MFSYdhiZRDzKyvxRFrauzMgcWMYRngrTZsB.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"Ahr Visits Earth",symbol:"AVE",address:"6bD8mr8DyuVqN5dXd1jnqmCL66b5KUV14jYY1HSmnxTE",decimals:0,logoURI:"tokens/webp/6bD8mr8DyuVqN5dXd1jnqmCL66b5KUV14jYY1HSmnxTE.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Fimbul ECOS Greenader",symbol:"FBLEGR",address:"FpwV1Da6BZJnYPr1JSLUm14UwBmZHA7J5WLY4TXgbde8",decimals:0,logoURI:"tokens/webp/FpwV1Da6BZJnYPr1JSLUm14UwBmZHA7J5WLY4TXgbde8.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Officer's Badge",symbol:"BGOF",address:"5LkYStW5K4dPkYDzMFw5smUZ3qNJ8v1fG4gwbHbDfNV2",decimals:0,logoURI:"tokens/webp/5LkYStW5K4dPkYDzMFw5smUZ3qNJ8v1fG4gwbHbDfNV2.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","rare"]},{chainId:101,name:"Paizul Funeral Procession",symbol:"PFP",address:"G1bE9ge8Yoq43hv7QLcumxTFhHqFMdcL4y2d6ZdzMG4b",decimals:0,logoURI:"tokens/webp/G1bE9ge8Yoq43hv7QLcumxTFhHqFMdcL4y2d6ZdzMG4b.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"B \u2764 P",symbol:"LOVE",address:"4G85c5aUsRTrRPqE5VjY7ebD9b2ktTF6NEVGiCddRBDX",decimals:0,logoURI:"tokens/webp/4G85c5aUsRTrRPqE5VjY7ebD9b2ktTF6NEVGiCddRBDX.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Mining Drill",symbol:"MSD1",address:"AuxCj2T4Mdb6h5i1pZd2yDJy5pdiEpZCPtTHAR1DqKdT",decimals:0,logoURI:"tokens/webp/AuxCj2T4Mdb6h5i1pZd2yDJy5pdiEpZCPtTHAR1DqKdT.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"The Peacebringers Archive",symbol:"PBA",address:"CAjoJeGCCRae9oDwHYXzkeUDonp3dZLWV5GKHysLwjnx",decimals:0,logoURI:"tokens/webp/CAjoJeGCCRae9oDwHYXzkeUDonp3dZLWV5GKHysLwjnx.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"Perpetual Farming Lands",symbol:"SOLPK3",address:"FJEEHRAKPcVUBfitPZDsmR8PtYfeg1Cy8RusVb7PuPgw",decimals:0,logoURI:"tokens/webp/FJEEHRAKPcVUBfitPZDsmR8PtYfeg1Cy8RusVb7PuPgw.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Sphinx",symbol:"TIGUSS",address:"9bccaxs8YihGCRkPqcFMPkPbVBwNNjzHc4iHvsfQNs6x",decimals:0,logoURI:"tokens/webp/9bccaxs8YihGCRkPqcFMPkPbVBwNNjzHc4iHvsfQNs6x.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Sammy Banx",symbol:"CMHMSB",address:"BswdGxfurGpSKPPhHUP6d9uzdY3bAG8o3CJnFUQLanzw",decimals:0,logoURI:"tokens/webp/BswdGxfurGpSKPPhHUP6d9uzdY3bAG8o3CJnFUQLanzw.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","legendary"]},{chainId:101,name:"VIP",symbol:"VIP",address:"CVy9zWnF7y15FeqEvV3ZsMdnMDG25na3NWHzx8xQvcG2",decimals:0,logoURI:"tokens/webp/CVy9zWnF7y15FeqEvV3ZsMdnMDG25na3NWHzx8xQvcG2.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","legendary"]},{chainId:101,name:"Pearce R8",symbol:"PR8",address:"2bCgKTo11QayWBy6QryHZMqZL2ZgWd5LEAZKiTGQi4g7",decimals:0,logoURI:"tokens/webp/2bCgKTo11QayWBy6QryHZMqZL2ZgWd5LEAZKiTGQi4g7.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"NXT le]V[el DS Bodysuit",symbol:"FM-NLDB",address:"DyNBYAyH6YPEKMCeh6GSNZR9KowmQEcXjvnv1ktfLRKX",decimals:0,logoURI:"tokens/webp/DyNBYAyH6YPEKMCeh6GSNZR9KowmQEcXjvnv1ktfLRKX.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Pearce C11",symbol:"PC11",address:"9ifQ16N5DdUFoejCwsgR73ihUwadAe3srCo9HhQe2zL2",decimals:0,logoURI:"tokens/webp/9ifQ16N5DdUFoejCwsgR73ihUwadAe3srCo9HhQe2zL2.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Ogrika Jod Asteris",symbol:"OGKAJA",address:"HJBmBYyGR8z1oajAM4jiK46uobuxeJoKDYpFwzWHBvhb",decimals:0,logoURI:"tokens/webp/HJBmBYyGR8z1oajAM4jiK46uobuxeJoKDYpFwzWHBvhb.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Pearce X6",symbol:"PX6",address:"8RveLFEyteyL1vbCKPQJxjf3JT1ACyrzs46TXbJStrHG",decimals:0,logoURI:"tokens/webp/8RveLFEyteyL1vbCKPQJxjf3JT1ACyrzs46TXbJStrHG.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Fimbul ECOS Treearrow",symbol:"FBLETR",address:"HqPN13pLUVJRiuGSsKjfWZvGKAagK98PshuKu51bnG4E",decimals:0,logoURI:"tokens/webp/HqPN13pLUVJRiuGSsKjfWZvGKAagK98PshuKu51bnG4E.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","anomaly"]},{chainId:101,name:"Toolkit",symbol:"TOOL",address:"tooLsNYLiVqzg8o4m3L2Uetbn62mvMWRqkog6PQeYKL",decimals:0,logoURI:"tokens/webp/tooLsNYLiVqzg8o4m3L2Uetbn62mvMWRqkog6PQeYKL.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"The Convergence War",symbol:"TCW",address:"36s6AFRXzE9KVdUyoJQ5y6mwxXw21LawYqqwNiQUMD8s",decimals:0,logoURI:"tokens/webp/36s6AFRXzE9KVdUyoJQ5y6mwxXw21LawYqqwNiQUMD8s.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","uncommon"]},{chainId:101,name:"Spacer",symbol:"PX5SSP",address:"FMwvZPFGvmjjTQ9ZhePd4kB9WqK3YkyBGcHkYQp45TW1",decimals:0,logoURI:"tokens/webp/FMwvZPFGvmjjTQ9ZhePd4kB9WqK3YkyBGcHkYQp45TW1.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Black Sun",symbol:"CCHSB",address:"m3uDZnPeWPQMQHKNmeZqmTxqweRyDbhNFps3HRx6xTo",decimals:0,logoURI:"tokens/webp/m3uDZnPeWPQMQHKNmeZqmTxqweRyDbhNFps3HRx6xTo.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"Council Meta-PAS",symbol:"CMPAS",address:"H1wrPe2TgmCV1yS8NeVq7C4qPLxcioRWFFerQAfzQUfM",decimals:0,logoURI:"tokens/webp/H1wrPe2TgmCV1yS8NeVq7C4qPLxcioRWFFerQAfzQUfM.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","anomaly"]},{chainId:101,name:"Tigu",symbol:"TIGU",address:"2eibTj6LtqF6DyabpmUZH8EhzZJFvoxcApyzArHt24G6",decimals:0,logoURI:"tokens/webp/2eibTj6LtqF6DyabpmUZH8EhzZJFvoxcApyzArHt24G6.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","common"]},{chainId:101,name:"Principal's Badge",symbol:"BGPR",address:"B9xkxYMfv1TuPu2BFRuGNcd9XqX8YTCvdrG9ozAE3a9d",decimals:0,logoURI:"tokens/webp/B9xkxYMfv1TuPu2BFRuGNcd9XqX8YTCvdrG9ozAE3a9d.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","uncommon"]},{chainId:101,name:"Noble Cloak",symbol:"CONCC",address:"9Qpe56yDLcUddhU6mJowdhcDkqPXXYZNn7VEjz8yUxNv",decimals:0,logoURI:"tokens/webp/9Qpe56yDLcUddhU6mJowdhcDkqPXXYZNn7VEjz8yUxNv.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"Squiddish",symbol:"VOPESQ",address:"GyHxNG3fotjU2hPiyGb6v3ZJX2LhPuxCuLcrzBRAbGYh",decimals:0,logoURI:"tokens/webp/GyHxNG3fotjU2hPiyGb6v3ZJX2LhPuxCuLcrzBRAbGYh.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"TTT 300K SERUM",symbol:"FM-T3SR",address:"2F62gz2zmNaRM1eQToQfJfhHCKG1t6c18fC1pZ9iB52J",decimals:0,logoURI:"tokens/webp/2F62gz2zmNaRM1eQToQfJfhHCKG1t6c18fC1pZ9iB52J.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"The Atmo-Harvester",symbol:"SOLPK4",address:"AT5jKk5oUeToyDMneVbu5J92DoM4Ab18zJciUfku2MrD",decimals:0,logoURI:"tokens/webp/AT5jKk5oUeToyDMneVbu5J92DoM4Ab18zJciUfku2MrD.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Superior's Badge",symbol:"BGSUP",address:"FmWTV4W1KfM5gix2oADmzRJu4T1wCUoCnLqRMRwP7NrF",decimals:0,logoURI:"tokens/webp/FmWTV4W1KfM5gix2oADmzRJu4T1wCUoCnLqRMRwP7NrF.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","epic"]},{chainId:101,name:"Vintage Orbiting Satellite",symbol:"CHMVOS",address:"DBFM7MFBWHvsi1CBU5x7av77dDoCTGiBcTx54VR8wp1k",decimals:0,logoURI:"tokens/webp/DBFM7MFBWHvsi1CBU5x7av77dDoCTGiBcTx54VR8wp1k.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"COSMIC ORIGIN 92",symbol:"FM-CO92",address:"DTtuny8L9q4DaDbLrCcE3Na68y1Y5oqrQCF8DX1RB8fr",decimals:0,logoURI:"tokens/webp/DTtuny8L9q4DaDbLrCcE3Na68y1Y5oqrQCF8DX1RB8fr.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Nanobyte",symbol:"PX4SNB",address:"eUkSbazTfDir4jjYth6fwayGh2gSQ2zNaHLfoKud97L",decimals:0,logoURI:"tokens/webp/eUkSbazTfDir4jjYth6fwayGh2gSQ2zNaHLfoKud97L.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"TTT 300K STEP.finance",symbol:"FM-T3STEP",address:"Cmvj2iW9WQZUaNJiruhjgnCRATRi2AwTK9KaVxMZtdDs",decimals:0,logoURI:"tokens/webp/Cmvj2iW9WQZUaNJiruhjgnCRATRi2AwTK9KaVxMZtdDs.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Rainbow Chi",symbol:"CHI",address:"DsJHgpnNovjJ981QJJnqMggexAekNawbSavfV1QuTpis",decimals:0,logoURI:"tokens/webp/DsJHgpnNovjJ981QJJnqMggexAekNawbSavfV1QuTpis.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Fimbul BYOS Earp",symbol:"FBLBEA",address:"6SqLuwHNRC1qjo9KATLKJLszFHMWyYaNxDXraCEUtfdR",decimals:0,logoURI:"tokens/webp/6SqLuwHNRC1qjo9KATLKJLszFHMWyYaNxDXraCEUtfdR.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Calico Evac",symbol:"CALEV",address:"4txpjHspP4usEsQTr3AcrpyHVjN4fi3d4taM6cmKJnd1",decimals:0,logoURI:"tokens/webp/4txpjHspP4usEsQTr3AcrpyHVjN4fi3d4taM6cmKJnd1.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","uncommon"]},{chainId:101,name:"Fimbul ECOS Bombarella",symbol:"FBLEBO",address:"7M6RHgPiHXiZAin5ManH63cLYGt3miQ54KaGynUQoERS",decimals:0,logoURI:"tokens/webp/7M6RHgPiHXiZAin5ManH63cLYGt3miQ54KaGynUQoERS.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Ammunition",symbol:"AMMO",address:"ammoK8AkX2wnebQb35cDAZtTkvsXQbi82cGeTnUvvfK",decimals:0,logoURI:"tokens/webp/ammoK8AkX2wnebQb35cDAZtTkvsXQbi82cGeTnUvvfK.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Food",symbol:"FOOD",address:"foodQJAztMzX1DKpLaiounNe2BDMds5RNuPC6jsNrDG",decimals:0,logoURI:"tokens/webp/foodQJAztMzX1DKpLaiounNe2BDMds5RNuPC6jsNrDG.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Fuel",symbol:"FUEL",address:"fueL3hBZjLLLJHiFH9cqZoozTG3XQZ53diwFPwbzNim",decimals:0,logoURI:"tokens/webp/fueL3hBZjLLLJHiFH9cqZoozTG3XQZ53diwFPwbzNim.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"The Assassination of Paizul",symbol:"MRDR",address:"7dr7jVyXf1KUnYq5FTpV2vCZjKRR4MV94jzerb8Fi16Q",decimals:0,logoURI:"tokens/webp/7dr7jVyXf1KUnYq5FTpV2vCZjKRR4MV94jzerb8Fi16Q.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Calico Guardian",symbol:"CALG",address:"DdpXnnYsyUQgJby8TDHbmPwkKyGF4U6bXwCXTQZsrfKP",decimals:0,logoURI:"tokens/webp/DdpXnnYsyUQgJby8TDHbmPwkKyGF4U6bXwCXTQZsrfKP.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Rainbow Om",symbol:"OM",address:"HzBx8PP86pyPrrboTHqPYWhxnEB5vXDHDBP8femWfPTS",decimals:0,logoURI:"tokens/webp/HzBx8PP86pyPrrboTHqPYWhxnEB5vXDHDBP8femWfPTS.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Ustur Wod.bod",symbol:"UWB",address:"FPnwwNiL1tXqd4ZbGjFYsCw5qsQw91VN79SNcU4Bc732",decimals:0,logoURI:"tokens/webp/FPnwwNiL1tXqd4ZbGjFYsCw5qsQw91VN79SNcU4Bc732.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Power Plant",symbol:"MSPP1",address:"9d6JQSWrXVEjxBNrej7efCUdc7ZCRpaHsdN2CH6sEawn",decimals:0,logoURI:"tokens/webp/9d6JQSWrXVEjxBNrej7efCUdc7ZCRpaHsdN2CH6sEawn.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"Space Station",symbol:"OSTD1",address:"5LiAUHfvRpkvrNTZe5CNgoQpdn4VFM5KfX5jDJKAjTSS",decimals:0,logoURI:"tokens/webp/5LiAUHfvRpkvrNTZe5CNgoQpdn4VFM5KfX5jDJKAjTSS.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"Fimbul BYOS Packlite",symbol:"FBLBPL",address:"7V9C2XUQgCb31n7hGKqKGu4ENcvqXhJLJzU77CAQtXhw",decimals:0,logoURI:"tokens/webp/7V9C2XUQgCb31n7hGKqKGu4ENcvqXhJLJzU77CAQtXhw.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Faction Meta-PAS",symbol:"MPAS",address:"6hSPiSuZiD9k6wzdJWMxZcj9bQUPDBu7pQ6Zwb4imXYs",decimals:0,logoURI:"tokens/webp/6hSPiSuZiD9k6wzdJWMxZcj9bQUPDBu7pQ6Zwb4imXYs.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","epic"]},{chainId:101,name:"Calico Compakt Hero",symbol:"CALCH",address:"AkNbg12E9PatjkiAWJ3tAbM479gtcoA1gi6Joa925WKi",decimals:0,logoURI:"tokens/webp/AkNbg12E9PatjkiAWJ3tAbM479gtcoA1gi6Joa925WKi.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"White Hot",symbol:"OJSW",address:"6z8sqTatfnXfV8DYJzEFeqrXnFz9AKRtRXVoL37DtCLp",decimals:0,logoURI:"tokens/webp/6z8sqTatfnXfV8DYJzEFeqrXnFz9AKRtRXVoL37DtCLp.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Armstrong Patch",symbol:"PCHAUP",address:"DkCdWb73xNPVbFDE9LXAiqnJRioQyGJYNjsiYiVdFTdj",decimals:0,logoURI:"tokens/webp/DkCdWb73xNPVbFDE9LXAiqnJRioQyGJYNjsiYiVdFTdj.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"PhotoniX Provenance",symbol:"FM-PP",address:"77GQVKfHFRJJuMXsWSHsM8acMZvouZ352EEMfRdoKRZP",decimals:0,logoURI:"tokens/webp/77GQVKfHFRJJuMXsWSHsM8acMZvouZ352EEMfRdoKRZP.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"TTT 300K Phantom",symbol:"FM-T3PH",address:"53ToK5o8cSZCNTjydjxDZYF3P2KbTzzUmmWPSD52PpY5",decimals:0,logoURI:"tokens/webp/53ToK5o8cSZCNTjydjxDZYF3P2KbTzzUmmWPSD52PpY5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"TTT 300K THE_FAB_RIC_ANT",symbol:"FM-T3FAB",address:"6pUxjPghGz5Gn9XnJuPaJCSpk9mhvzecvHb6G4rrSCJq",decimals:0,logoURI:"tokens/webp/6pUxjPghGz5Gn9XnJuPaJCSpk9mhvzecvHb6G4rrSCJq.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Short Story of a Lost Astronaut",symbol:"LOST",address:"BgiTVxW9uLuHHoafTd2qjYB5xjCc5Y1EnUuYNfmTwhvp",decimals:0,logoURI:"tokens/webp/BgiTVxW9uLuHHoafTd2qjYB5xjCc5Y1EnUuYNfmTwhvp.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Pearce X4",symbol:"PX4",address:"2iMhgB4pbdKvwJHVyitpvX5z1NBNypFonUgaSAt9dtDt",decimals:0,logoURI:"tokens/webp/2iMhgB4pbdKvwJHVyitpvX5z1NBNypFonUgaSAt9dtDt.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","common"]},{chainId:101,name:"Black Sun",symbol:"CALGBS",address:"7n79Huf9wmaMaLQxm7beYRw9tggoYcXZzHZxN9L3z1fS",decimals:0,logoURI:"tokens/webp/7n79Huf9wmaMaLQxm7beYRw9tggoYcXZzHZxN9L3z1fS.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"TTT 300K Animoca",symbol:"FM-T3ANI",address:"2YFmgNYGKLGTofn24mG2gPbGoKAfcH5SsfvNwXo1Hcsq",decimals:0,logoURI:"tokens/webp/2YFmgNYGKLGTofn24mG2gPbGoKAfcH5SsfvNwXo1Hcsq.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"TTT 300K CryptoKickers",symbol:"FM-T3CK",address:"2Rw4Eqri7N4n3ZDsUVGfr8nhdxf4Uqjbim9tyJZb7Axd",decimals:0,logoURI:"tokens/webp/2Rw4Eqri7N4n3ZDsUVGfr8nhdxf4Uqjbim9tyJZb7Axd.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"PRIMORDIAL GLO",symbol:"FM-PLG",address:"7YNMhgmG7ZEQDvKVwsvN2GyUPaDpKYQ3VtzdkEskcAAe",decimals:0,logoURI:"tokens/webp/7YNMhgmG7ZEQDvKVwsvN2GyUPaDpKYQ3VtzdkEskcAAe.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"The Signing of the Peace Treaty",symbol:"SPT",address:"8EXX5kG7qWTjgpNSGX7PnB6hJZ8xhXUcCafVJaBEJo32",decimals:0,logoURI:"tokens/webp/8EXX5kG7qWTjgpNSGX7PnB6hJZ8xhXUcCafVJaBEJo32.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"B.O.B.",symbol:"OJJSBB",address:"7Yeihi147ynkw58UP6W5AetBgotn6gFxV8UWsNPhfrkZ",decimals:0,logoURI:"tokens/webp/7Yeihi147ynkw58UP6W5AetBgotn6gFxV8UWsNPhfrkZ.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Lone Star",symbol:"FBPLSL",address:"BrwKZC3BUNFLKWoyEZC7sNDs4bzwgAXJYK4zGntc5SeN",decimals:0,logoURI:"tokens/webp/BrwKZC3BUNFLKWoyEZC7sNDs4bzwgAXJYK4zGntc5SeN.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Streamcatcher",symbol:"OTSS",address:"Efh5nnkDX3cKU2gYsFTdBbkLo3JpQJ7ZhKsKdCE6rQRS",decimals:0,logoURI:"tokens/webp/Efh5nnkDX3cKU2gYsFTdBbkLo3JpQJ7ZhKsKdCE6rQRS.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"The New Paradigm of Sustainability",symbol:"SOLPK5",address:"AyWsJCrhRbgZETS7s1dkWxxPZHsGxyLXNi5JK8L3xHe5",decimals:0,logoURI:"tokens/webp/AyWsJCrhRbgZETS7s1dkWxxPZHsGxyLXNi5JK8L3xHe5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","legendary"]},{chainId:101,name:"Opal Jet",symbol:"OPALJ",address:"Ev3xUhc1Leqi4qR2E5VoG9pcxCvHHmnAaSRVPg485xAT",decimals:0,logoURI:"tokens/webp/Ev3xUhc1Leqi4qR2E5VoG9pcxCvHHmnAaSRVPg485xAT.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","common"]},{chainId:101,name:"TTT 300K SOLANA",symbol:"FM-T3SOL",address:"2Pm57eFBfKbMCKCDVuEscNsJM9x5r9X7Q8t1q9NiUgMV",decimals:0,logoURI:"tokens/webp/2Pm57eFBfKbMCKCDVuEscNsJM9x5r9X7Q8t1q9NiUgMV.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Pearce C9",symbol:"PC9",address:"5f1jUARhtSypVA4uTpgpLp76WYGdB2dGr8zMbh4WjYRf",decimals:0,logoURI:"tokens/webp/5f1jUARhtSypVA4uTpgpLp76WYGdB2dGr8zMbh4WjYRf.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Tufa Feist",symbol:"TUFAFE",address:"HsdbLvZrEgN2ZhsrZs5ag4F2FNFCHjjuXPfbVAhkeJBZ",decimals:0,logoURI:"tokens/webp/HsdbLvZrEgN2ZhsrZs5ag4F2FNFCHjjuXPfbVAhkeJBZ.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Cosmic Sounds",symbol:"COSSOU",address:"D5qtZURrR8hs1V1oTuSFu7tMe5pt1XKWWqqK34CHF5ZA",decimals:0,logoURI:"tokens/webp/D5qtZURrR8hs1V1oTuSFu7tMe5pt1XKWWqqK34CHF5ZA.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Fimbul Airbike",symbol:"FBLAIR",address:"Fw8PqtznYtg4swMk7Yjj89Tsj23u5CJLfW5Bk8ro4G1s",decimals:0,logoURI:"tokens/webp/Fw8PqtznYtg4swMk7Yjj89Tsj23u5CJLfW5Bk8ro4G1s.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","common"]},{chainId:101,name:"Ogrika Mik",symbol:"OGKAMK",address:"FMHHwUB6amLWYhWxtiZHC2g5azy9usPTLMq46N3HEgFU",decimals:0,logoURI:"tokens/webp/FMHHwUB6amLWYhWxtiZHC2g5azy9usPTLMq46N3HEgFU.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Fimbul ECOS Unibomba",symbol:"FBLEUN",address:"9zrgra3XQkZPt8XNs4fowbqmj7B8bBx76aEmsKSnm9BW",decimals:0,logoURI:"tokens/webp/9zrgra3XQkZPt8XNs4fowbqmj7B8bBx76aEmsKSnm9BW.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Fimbul Lowbie",symbol:"FBLLOW",address:"7Xs3yt9eJPuEexZrKSGVbQMXHwWUKHGeDZnM4ZksZmyS",decimals:0,logoURI:"tokens/webp/7Xs3yt9eJPuEexZrKSGVbQMXHwWUKHGeDZnM4ZksZmyS.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","common"]},{chainId:101,name:"Rainbow Arc",symbol:"ARC",address:"EbLBLN44BVLjifLNBbchXFr8QjEkAGYENKuNEaDuyVPL",decimals:0,logoURI:"tokens/webp/EbLBLN44BVLjifLNBbchXFr8QjEkAGYENKuNEaDuyVPL.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Busan Thrill of Life",symbol:"THRILL",address:"FTk1E5UoWkiZEUttCWSYYaVokxWNNp3yJ42HbNDCAkdt",decimals:0,logoURI:"tokens/webp/FTk1E5UoWkiZEUttCWSYYaVokxWNNp3yJ42HbNDCAkdt.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"VZUS ballad",symbol:"VZUSBA",address:"FFkPvwLDYuKDW9eAAr5UNfuX3U9PcTGeSk7gqNX7EpNc",decimals:0,logoURI:"tokens/webp/FFkPvwLDYuKDW9eAAr5UNfuX3U9PcTGeSk7gqNX7EpNc.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Opal Bitboat",symbol:"OPALBB",address:"8pPDsMNcz4m8jaajFMFXHGcvaeVeiQhcenvSD6a4XNyq",decimals:0,logoURI:"tokens/webp/8pPDsMNcz4m8jaajFMFXHGcvaeVeiQhcenvSD6a4XNyq.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Calico Medtech",symbol:"CALMED",address:"4gR3ChfdQxR4BTbgeWSdf6b8kD8Ysu6WBAQqtJ9oLgbF",decimals:0,logoURI:"tokens/webp/4gR3ChfdQxR4BTbgeWSdf6b8kD8Ysu6WBAQqtJ9oLgbF.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","uncommon"]},{chainId:101,name:"Calico ATS Enforcer",symbol:"CALATS",address:"2XYd22LSFGxN7kWgoEeaXVZqgrsPeQLHLEgNhnS12Mny",decimals:0,logoURI:"tokens/webp/2XYd22LSFGxN7kWgoEeaXVZqgrsPeQLHLEgNhnS12Mny.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","uncommon"]},{chainId:101,name:"Pearce R6",symbol:"PR6",address:"Fys8J53cquYsg5zYfeZStVGNwM9FopFw8QFkiE9CCR1J",decimals:0,logoURI:"tokens/webp/Fys8J53cquYsg5zYfeZStVGNwM9FopFw8QFkiE9CCR1J.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","uncommon"]},{chainId:101,name:"Busan Maiden Heart",symbol:"HEART",address:"6HzZJwrcuBBmrE7SLDfxheZGAD3NYJ531C9JsNesL9BP",decimals:0,logoURI:"tokens/webp/6HzZJwrcuBBmrE7SLDfxheZGAD3NYJ531C9JsNesL9BP.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Ogrika Tursic",symbol:"OGKATU",address:"J8Q6jYsrhhaeczyPBo9xzVyy4GpfCnJwj14LJn2HnuKp",decimals:0,logoURI:"tokens/webp/J8Q6jYsrhhaeczyPBo9xzVyy4GpfCnJwj14LJn2HnuKp.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Cosmic Thunder",symbol:"F1CT",address:"AXEyoHAhMM9kRZuEgMpLjuteRSnfiPH8UrFxdUgb5hdo",decimals:0,logoURI:"tokens/webp/AXEyoHAhMM9kRZuEgMpLjuteRSnfiPH8UrFxdUgb5hdo.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Fimbul Mamba",symbol:"FBLMAM",address:"6Zj61HuX1E7SCUCf9WsKXw1jdJCobAwK4RSjZvbv35tM",decimals:0,logoURI:"tokens/webp/6Zj61HuX1E7SCUCf9WsKXw1jdJCobAwK4RSjZvbv35tM.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","uncommon"]},{chainId:101,name:"VZUS solos",symbol:"VZUSSO",address:"HjFijcGWKgfDwGpFX2rqFwEU9jtEgFuRQAJe1ERXFsA3",decimals:0,logoURI:"tokens/webp/HjFijcGWKgfDwGpFX2rqFwEU9jtEgFuRQAJe1ERXFsA3.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","common"]},{chainId:101,name:"Fimbul BYOS Tankship",symbol:"FBLBTA",address:"4ns3shP4WunCtJbr2HFu31RjjxSJxDymEFcBZxiHr11s",decimals:0,logoURI:"tokens/webp/4ns3shP4WunCtJbr2HFu31RjjxSJxDymEFcBZxiHr11s.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Ogrika Sunpaa",symbol:"OGKASP",address:"4b4mhSySBcryzBPamw8v4xeneFRA6xTUA4JA99w6vqey",decimals:0,logoURI:"tokens/webp/4b4mhSySBcryzBPamw8v4xeneFRA6xTUA4JA99w6vqey.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Pearce D9",symbol:"PD9",address:"H3cgBXWpUiNsYjUWS7cNR5Bmehh7k5CgpJccc5wSfRbJ",decimals:0,logoURI:"tokens/webp/H3cgBXWpUiNsYjUWS7cNR5Bmehh7k5CgpJccc5wSfRbJ.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Core - Episode 1 (Star Atlas)",symbol:"CORE1SA",address:"4Rrcj4MArUcMtHPp6amTy3SUXbCGYG3n8sf8KgMKjRnr",decimals:0,logoURI:"tokens/webp/4Rrcj4MArUcMtHPp6amTy3SUXbCGYG3n8sf8KgMKjRnr.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core - Episode 1 (Magic Eden)",symbol:"CORE1ME",address:"3VGriNDXEhLPMQ1ixBmKm2Sn54RjQuXE7YvUC9DJqd4Y",decimals:0,logoURI:"tokens/webp/3VGriNDXEhLPMQ1ixBmKm2Sn54RjQuXE7YvUC9DJqd4Y.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Pearce T1",symbol:"T1TAN",address:"56nh4FvMJnSpkWJcmXc1nJtYhSQXuqb7nVMGALr31RVc",decimals:0,logoURI:"tokens/webp/56nh4FvMJnSpkWJcmXc1nJtYhSQXuqb7nVMGALr31RVc.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","anomaly"]},{chainId:101,name:"Busan The Last Stand mk. VIII",symbol:"STAND",address:"Cvy691GFw2j3H8e6yf7hZtaQi5P3skQR4gzM6UWvcL7L",decimals:0,logoURI:"tokens/webp/Cvy691GFw2j3H8e6yf7hZtaQi5P3skQR4gzM6UWvcL7L.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","anomaly"]},{chainId:101,name:"Fimbul ECOS Superphoenix",symbol:"SUPER",address:"2BMTgfgapuqYBwSRGu6HCafwDGRVTxMkQVhYrNWQGTWH",decimals:0,logoURI:"tokens/webp/2BMTgfgapuqYBwSRGu6HCafwDGRVTxMkQVhYrNWQGTWH.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","anomaly"]},{chainId:101,name:"Core - Episode 2 (Star Atlas)",symbol:"CORE2SA",address:"GxoC3qAy3j1gjYZuGhVh8ufdJKGn2HJeiRjJ9XpikR8v",decimals:0,logoURI:"tokens/webp/GxoC3qAy3j1gjYZuGhVh8ufdJKGn2HJeiRjJ9XpikR8v.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core - Episode 2 (Magic Eden)",symbol:"CORE2ME",address:"9SLtHqCGpuZCrpaJhcYYUUxU4dNUBwqnbJLrJ2UZx1YD",decimals:0,logoURI:"tokens/webp/9SLtHqCGpuZCrpaJhcYYUUxU4dNUBwqnbJLrJ2UZx1YD.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Suntiger",symbol:"X4YT0",address:"RDGgGBxJ8mWKrMrsiS1VkPjXTNianRdikYJhGYqyZfF",decimals:0,logoURI:"tokens/webp/RDGgGBxJ8mWKrMrsiS1VkPjXTNianRdikYJhGYqyZfF.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","common"]},{chainId:101,name:"RedX-IV",symbol:"X4YT1",address:"6JnRMJGUvnZwR1FSEYazKnMbEGTvrpufuKZ3HW86DXVc",decimals:0,logoURI:"tokens/webp/6JnRMJGUvnZwR1FSEYazKnMbEGTvrpufuKZ3HW86DXVc.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Blue Tigu",symbol:"X4YT2",address:"AxiSgYMhYjSwLhyLMvxixWNEbD2iVXHWr5LRmp9UEXcM",decimals:0,logoURI:"tokens/webp/AxiSgYMhYjSwLhyLMvxixWNEbD2iVXHWr5LRmp9UEXcM.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Claim Stake Tier 1",symbol:"STAKE1",address:"HzUBawF9xxTy4mTuvSkk1a4voJcm65tSHZz6voCDUB33",decimals:0,logoURI:"tokens/webp/HzUBawF9xxTy4mTuvSkk1a4voJcm65tSHZz6voCDUB33.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"Claim Stake Tier 2",symbol:"STAKE2",address:"2piSPCxbuibsraBnnK4M5rGeHSraNe2oiD8hDw42bPKq",decimals:0,logoURI:"tokens/webp/2piSPCxbuibsraBnnK4M5rGeHSraNe2oiD8hDw42bPKq.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Claim Stake Tier 3",symbol:"STAKE3",address:"C2uF4fECabWryVCV1bDuxP7jMspbf2gei3YAP2UBn292",decimals:0,logoURI:"tokens/webp/C2uF4fECabWryVCV1bDuxP7jMspbf2gei3YAP2UBn292.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","rare"]},{chainId:101,name:"Claim Stake Tier 4",symbol:"STAKE4",address:"EBEJj1LKuo1k1J2ZvNJxsXATdGYnfaLWzqxck5p4PXSz",decimals:0,logoURI:"tokens/webp/EBEJj1LKuo1k1J2ZvNJxsXATdGYnfaLWzqxck5p4PXSz.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","epic"]},{chainId:101,name:"Claim Stake Tier 5",symbol:"STAKE5",address:"3aTW9zvPz5f7vt2Mfnr5zWA2RcgNTtDSSrBwaxyZ6t7d",decimals:0,logoURI:"tokens/webp/3aTW9zvPz5f7vt2Mfnr5zWA2RcgNTtDSSrBwaxyZ6t7d.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","legendary"]},{chainId:101,name:"MUD CSS Base Tier",symbol:"CSSLM0",address:"GzhGEoio3w5hwxF61e5XtrzjTAm4AzVPRAgMKSfrAWZq",decimals:0,logoURI:"tokens/webp/GzhGEoio3w5hwxF61e5XtrzjTAm4AzVPRAgMKSfrAWZq.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"MUD CSS Tier 1",symbol:"CSSLM1",address:"G92TTgTMc2aV8ApBfnvByM7ov7J3cGbNBziNPdunxPHG",decimals:0,logoURI:"tokens/webp/G92TTgTMc2aV8ApBfnvByM7ov7J3cGbNBziNPdunxPHG.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"MUD CSS Tier 2",symbol:"CSSLM2",address:"HbZFd8KQ8HrCERD4boPUGvSqo24ELmRaBnCMyy2H1dm7",decimals:0,logoURI:"tokens/webp/HbZFd8KQ8HrCERD4boPUGvSqo24ELmRaBnCMyy2H1dm7.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","rare"]},{chainId:101,name:"MUD CSS Tier 3",symbol:"CSSLM3",address:"3QQy45dYZjkc15Po2zZPzaEXkg8FRGJtqt194ADUurbC",decimals:0,logoURI:"tokens/webp/3QQy45dYZjkc15Po2zZPzaEXkg8FRGJtqt194ADUurbC.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","epic"]},{chainId:101,name:"MUD CSS Tier 4",symbol:"CSSLM4",address:"7FuCkwhNwhZZ6pDcuZWwp1zSzUyiWgrzJmYiVEquxg9P",decimals:0,logoURI:"tokens/webp/7FuCkwhNwhZZ6pDcuZWwp1zSzUyiWgrzJmYiVEquxg9P.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","legendary"]},{chainId:101,name:"MUD CSS Tier 5",symbol:"CSSLM5",address:"GpmqxwTEdUnqH5bGPYbwHfKa9FSvKfyTuRaPNzkp941W",decimals:0,logoURI:"tokens/webp/GpmqxwTEdUnqH5bGPYbwHfKa9FSvKfyTuRaPNzkp941W.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","anomaly"]},{chainId:101,name:"ONI CSS Base Tier",symbol:"CSSLO0",address:"3o9DFxdaHBAz3YSoRtTvACyCUiRo1CbDD33ajmGecgmi",decimals:0,logoURI:"tokens/webp/3o9DFxdaHBAz3YSoRtTvACyCUiRo1CbDD33ajmGecgmi.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"ONI CSS Tier 1",symbol:"CSSLO1",address:"BzbLMbd7ruoUN9gS9sBADfpo6NxAd3QoN9peeSw1S5RE",decimals:0,logoURI:"tokens/webp/BzbLMbd7ruoUN9gS9sBADfpo6NxAd3QoN9peeSw1S5RE.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"ONI CSS Tier 2",symbol:"CSSLO2",address:"AefmRKkHp35ydMfQADVVKNL8hRjmgYTGAgDfJxB89ygb",decimals:0,logoURI:"tokens/webp/AefmRKkHp35ydMfQADVVKNL8hRjmgYTGAgDfJxB89ygb.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","rare"]},{chainId:101,name:"ONI CSS Tier 3",symbol:"CSSLO3",address:"3GbWjXUQYWJDuap1cvVX26YLrMcQNu8S4HX4HCSPDvHq",decimals:0,logoURI:"tokens/webp/3GbWjXUQYWJDuap1cvVX26YLrMcQNu8S4HX4HCSPDvHq.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","epic"]},{chainId:101,name:"ONI CSS Tier 4",symbol:"CSSLO4",address:"Fa6dpoarSvrKguxXfQ9nPbpF8q1HuVzuWjtarCedKEF8",decimals:0,logoURI:"tokens/webp/Fa6dpoarSvrKguxXfQ9nPbpF8q1HuVzuWjtarCedKEF8.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","legendary"]},{chainId:101,name:"ONI CSS Tier 5",symbol:"CSSLO5",address:"E5k4YTobbsr3hwbSJF1j4VUoaSY4XvKkRqP1dQmr4wjy",decimals:0,logoURI:"tokens/webp/E5k4YTobbsr3hwbSJF1j4VUoaSY4XvKkRqP1dQmr4wjy.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","anomaly"]},{chainId:101,name:"Ustur CSS Base Tier",symbol:"CSSLU0",address:"ECRmDrmjcGJZfuibjyYanCK3Fwmi3uSy9Vd1iKLeG2Wx",decimals:0,logoURI:"tokens/webp/ECRmDrmjcGJZfuibjyYanCK3Fwmi3uSy9Vd1iKLeG2Wx.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"Ustur CSS Tier 1",symbol:"CSSLU1",address:"J7A3piAwSrhLAocV2FSzxrzR2aA6x1ExQNmUsrvsBrfy",decimals:0,logoURI:"tokens/webp/J7A3piAwSrhLAocV2FSzxrzR2aA6x1ExQNmUsrvsBrfy.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Ustur CSS Tier 2",symbol:"CSSLU2",address:"FSxgohUdATtaZhmsChMFPvJ8CPfMC6kUf1sqBJiEg7zt",decimals:0,logoURI:"tokens/webp/FSxgohUdATtaZhmsChMFPvJ8CPfMC6kUf1sqBJiEg7zt.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","rare"]},{chainId:101,name:"Ustur CSS Tier 3",symbol:"CSSLU3",address:"FZrrzg1PLBycs8DThiRXihr8mNmMwykn8Uxcnp6r8QT1",decimals:0,logoURI:"tokens/webp/FZrrzg1PLBycs8DThiRXihr8mNmMwykn8Uxcnp6r8QT1.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","epic"]},{chainId:101,name:"Ustur CSS Tier 4",symbol:"CSSLU4",address:"2qvH481jMjyWW78jR2hn6cUhBzQUYgFGKUmVCoevT8XY",decimals:0,logoURI:"tokens/webp/2qvH481jMjyWW78jR2hn6cUhBzQUYgFGKUmVCoevT8XY.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","legendary"]},{chainId:101,name:"Ustur CSS Tier 5",symbol:"CSSLU5",address:"BcmqHr9sfwVA5Aa9Dd9CUi8pHcAmTHitysk74c8Lf6CN",decimals:0,logoURI:"tokens/webp/BcmqHr9sfwVA5Aa9Dd9CUi8pHcAmTHitysk74c8Lf6CN.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","anomaly"]},{chainId:101,name:"Core - Episode 3 (Magic Eden)",symbol:"CORE3ME",address:"8mm9Ws3adSABe7mzpgX56X1P5VYu6b6JaDnyZV5TZhCE",decimals:0,logoURI:"tokens/webp/8mm9Ws3adSABe7mzpgX56X1P5VYu6b6JaDnyZV5TZhCE.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core - Episode 3 (Star Atlas)",symbol:"CORE3SA",address:"GAz4AGpGCd3djN887oRX4LR8riw1EUQFZgAPprLMv8Qt",decimals:0,logoURI:"tokens/webp/GAz4AGpGCd3djN887oRX4LR8riw1EUQFZgAPprLMv8Qt.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core - Episode 4 (Star Atlas)",symbol:"CORE4SA",address:"E19H2D3q93q8Wp1MQ22LdYB4jD5DJMRdF6dKRVUg4Z1y",decimals:0,logoURI:"tokens/webp/E19H2D3q93q8Wp1MQ22LdYB4jD5DJMRdF6dKRVUg4Z1y.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core - Episode 4 (Magic Eden)",symbol:"CORE4ME",address:"EbaUoZNNSWgAm5JJ3DUGVUvrotzUA6AS4Yd2BWs12kry",decimals:0,logoURI:"tokens/webp/EbaUoZNNSWgAm5JJ3DUGVUvrotzUA6AS4Yd2BWs12kry.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Calico Scud",symbol:"CALSCD",address:"F3HitKsp52UPqBMEWSeTFqrGgnfYbS9DMrJCz9dM3w6D",decimals:0,logoURI:"tokens/webp/F3HitKsp52UPqBMEWSeTFqrGgnfYbS9DMrJCz9dM3w6D.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","common"]},{chainId:101,name:"Calico Maxhog",symbol:"CALMAX",address:"GxpbUDxYYvxiUejHcAMzeV2rzdHf6KZZvT86ACrpFgXa",decimals:0,logoURI:"tokens/webp/GxpbUDxYYvxiUejHcAMzeV2rzdHf6KZZvT86ACrpFgXa.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","uncommon"]},{chainId:101,name:"Ogrika Niruch",symbol:"OGKANR",address:"7SUoWHWWJCxCe5g9XqZkCRufGHXRV8nauuz69HPjuewr",decimals:0,logoURI:"tokens/webp/7SUoWHWWJCxCe5g9XqZkCRufGHXRV8nauuz69HPjuewr.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Interior Paint (GAO Land Phase 1)",symbol:"HABIP1",address:"5gA8DzpsZyKXKeBeLP95pM1nhRyQ5UJ8oS56sjBqMX9C",decimals:0,logoURI:"tokens/webp/5gA8DzpsZyKXKeBeLP95pM1nhRyQ5UJ8oS56sjBqMX9C.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Exterior Paint (GAO Land Phase 1)",symbol:"HABEP1",address:"544Lg3y7XWxxAUyg8CT2fWrGknUtz155UTvSVTUoMS1L",decimals:0,logoURI:"tokens/webp/544Lg3y7XWxxAUyg8CT2fWrGknUtz155UTvSVTUoMS1L.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Pet House (GAO Land Phase 1)",symbol:"YIPET",address:"x7pYPzCg3cpykQJZCZfw88QNHT4VAkTrho9FHkR8MfM",decimals:0,logoURI:"tokens/webp/x7pYPzCg3cpykQJZCZfw88QNHT4VAkTrho9FHkR8MfM.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Landing Pad - XXS",symbol:"HABLP1",address:"6EqU4NfBZQHzt9GdyrkdKXqVUeGce3WHCCtQF1ZsgWxZ",decimals:0,logoURI:"tokens/webp/6EqU4NfBZQHzt9GdyrkdKXqVUeGce3WHCCtQF1ZsgWxZ.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"Landing Pad - XS",symbol:"HABLP2",address:"DgGjoBST6m6mJx3w2Tq3sFa11aJYM5smuzsxJcg1VPD5",decimals:0,logoURI:"tokens/webp/DgGjoBST6m6mJx3w2Tq3sFa11aJYM5smuzsxJcg1VPD5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Landing Pad - Small",symbol:"HABLP3",address:"DCD39GG1t6da1sSnDMNLkbayHun62ZpyiNaQBybhP4Zg",decimals:0,logoURI:"tokens/webp/DCD39GG1t6da1sSnDMNLkbayHun62ZpyiNaQBybhP4Zg.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Landing Pad - Medium",symbol:"HABLP4",address:"3KCNsmz7MBa2LTML6exEpvSoBoaUfRaydmJuBg2iwhXJ",decimals:0,logoURI:"tokens/webp/3KCNsmz7MBa2LTML6exEpvSoBoaUfRaydmJuBg2iwhXJ.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","rare"]},{chainId:101,name:"Crafting Station - XXS",symbol:"CRFTS1",address:"Ur4RCegwEfvVHE1FLqNa4oHG7pAF48cXED9yxvbnMzM",decimals:0,logoURI:"tokens/webp/Ur4RCegwEfvVHE1FLqNa4oHG7pAF48cXED9yxvbnMzM.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"Crafting Station - XS",symbol:"CRFTS2",address:"9gABbLVat8Mb7SCULPURjzKEFvC27yUKTttY5GXsRyWW",decimals:0,logoURI:"tokens/webp/9gABbLVat8Mb7SCULPURjzKEFvC27yUKTttY5GXsRyWW.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Crafting Station - Small",symbol:"CRFTS3",address:"8FtzpzXPmZPkDUStVGUgns3dUKQSSR9mE6oyZsLEcEHo",decimals:0,logoURI:"tokens/webp/8FtzpzXPmZPkDUStVGUgns3dUKQSSR9mE6oyZsLEcEHo.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Crafting Station - Medium",symbol:"CRFTS4",address:"5uZ7ocqvT17Tscjk3RahMSrBdBKKGfNHctWVtcrXKFiP",decimals:0,logoURI:"tokens/webp/5uZ7ocqvT17Tscjk3RahMSrBdBKKGfNHctWVtcrXKFiP.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","rare"]},{chainId:101,name:"Cargo Storage - Tier 0",symbol:"CRGOS0",address:"BwPviMqD4kt1T3QejpGjZcko4qdxyojChztuma1dnmze",decimals:0,logoURI:"tokens/webp/BwPviMqD4kt1T3QejpGjZcko4qdxyojChztuma1dnmze.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"Cargo Storage - Tier 1",symbol:"CRGOS1",address:"5JpZEaou4j9AzG7ysmpMdr3DaAew5oYnyy3EPhKpuEb7",decimals:0,logoURI:"tokens/webp/5JpZEaou4j9AzG7ysmpMdr3DaAew5oYnyy3EPhKpuEb7.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","common"]},{chainId:101,name:"Cargo Storage - Tier 2",symbol:"CRGOS2",address:"Fg4fPw5czHhiZuuuBCj72Jko3uQYzyikXbwjnxCvjwTX",decimals:0,logoURI:"tokens/webp/Fg4fPw5czHhiZuuuBCj72Jko3uQYzyikXbwjnxCvjwTX.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Cargo Storage - Tier 3",symbol:"CRGOS3",address:"9efb8dVqe2oGyW6SA4RSbWenQfY3R64hpMVazxiDjG1Q",decimals:0,logoURI:"tokens/webp/9efb8dVqe2oGyW6SA4RSbWenQfY3R64hpMVazxiDjG1Q.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Cargo Storage - Tier 4",symbol:"CRGOS4",address:"4bVf18wH81AB7MSZjejP2yUWRGsUhLq7auCZ4TacKqdr",decimals:0,logoURI:"tokens/webp/4bVf18wH81AB7MSZjejP2yUWRGsUhLq7auCZ4TacKqdr.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","rare"]},{chainId:101,name:"Cargo Storage - Tier 5",symbol:"CRGOS5",address:"FQ8uvjBHiNgMVDkGVf9uUD8nJ6th7HGyMB1kmytWgrVw",decimals:0,logoURI:"tokens/webp/FQ8uvjBHiNgMVDkGVf9uUD8nJ6th7HGyMB1kmytWgrVw.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","epic"]},{chainId:101,name:"Opportunity",symbol:"SSP1",address:"CbcsDuGEqbwsKL68TpwXWX3sxpxuS4C3zbwurxh1RDR8",decimals:0,logoURI:"tokens/webp/CbcsDuGEqbwsKL68TpwXWX3sxpxuS4C3zbwurxh1RDR8.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Dream",symbol:"SSP2",address:"7YSFuJjpaNmcp9n9gdGB6TnQ6UsPWcH4KD4ng6WWc1wY",decimals:0,logoURI:"tokens/webp/7YSFuJjpaNmcp9n9gdGB6TnQ6UsPWcH4KD4ng6WWc1wY.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Core - Episode 5 (Magic Eden)",symbol:"CORE5ME",address:"8fGDD3bwfNvEy4ER7ttfpccbvRUADjqG53PEXfnT7CbW",decimals:0,logoURI:"tokens/webp/8fGDD3bwfNvEy4ER7ttfpccbvRUADjqG53PEXfnT7CbW.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core - Episode 5 (Star Atlas)",symbol:"CORE5SA",address:"6fRmFGHcdsJST9DVhe9frrtzH9T1B4SeysdDNokpV5X5",decimals:0,logoURI:"tokens/webp/6fRmFGHcdsJST9DVhe9frrtzH9T1B4SeysdDNokpV5X5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Start Sequence Badge - Tier 1",symbol:"SSB1",address:"C5HkVYzVLjdVSgJKT1cfvPgwMvyoGwC49RivNW5e1bmN",decimals:0,logoURI:"tokens/webp/C5HkVYzVLjdVSgJKT1cfvPgwMvyoGwC49RivNW5e1bmN.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","common"]},{chainId:101,name:"Start Sequence Badge - Tier 0",symbol:"SSB0",address:"2f2UeUs5kTXTEVMA65t3i7F6sSSkcaEUEKdnWZiZsroq",decimals:0,logoURI:"tokens/webp/2f2UeUs5kTXTEVMA65t3i7F6sSSkcaEUEKdnWZiZsroq.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","common"]},{chainId:101,name:"Start Sequence Badge - Tier 3",symbol:"SSB3",address:"CHhaMX8D2ZQZSAhGcoQjzxHyRT9gDAAVJcMdLxgKih2a",decimals:0,logoURI:"tokens/webp/CHhaMX8D2ZQZSAhGcoQjzxHyRT9gDAAVJcMdLxgKih2a.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","rare"]},{chainId:101,name:"Start Sequence Badge - Tier 2",symbol:"SSB2",address:"DJ2gBp5WSc9rWrsdHiDs9UAwaQTuCT6bsESCrgWMKNxe",decimals:0,logoURI:"tokens/webp/DJ2gBp5WSc9rWrsdHiDs9UAwaQTuCT6bsESCrgWMKNxe.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","uncommon"]},{chainId:101,name:"Mining Drill Tier 2 Upgrade Bundle",symbol:"MDB2",address:"2Qf22wRRRZ5usMLYmYBAB23sfwXcTvAxWLckJCC9kBUW",decimals:0,logoURI:"tokens/webp/2Qf22wRRRZ5usMLYmYBAB23sfwXcTvAxWLckJCC9kBUW.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Mining Drill Tier 3 Upgrade Bundle",symbol:"MDB3",address:"4s9so85n4AT2xj5kH9vepgxZ4McovRWAKvGhkBRxdVhB",decimals:0,logoURI:"tokens/webp/4s9so85n4AT2xj5kH9vepgxZ4McovRWAKvGhkBRxdVhB.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","uncommon"]},{chainId:101,name:"Mining Drill Tier 4 Upgrade Bundle",symbol:"MDB4",address:"D91FzmVLoPyXvDypE1DwJ5o21fQb3f1jMuUWMHXnjccV",decimals:0,logoURI:"tokens/webp/D91FzmVLoPyXvDypE1DwJ5o21fQb3f1jMuUWMHXnjccV.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","rare"]},{chainId:101,name:"Mining Drill Tier 5 Upgrade Bundle",symbol:"MDB5",address:"4GXJnFKEJuhe3obiaRsV1AdghAn9wWokdpGMkyQowatK",decimals:0,logoURI:"tokens/webp/4GXJnFKEJuhe3obiaRsV1AdghAn9wWokdpGMkyQowatK.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","epic"]},{chainId:101,name:"Power Plant Tier 5 Upgrade Bundle",symbol:"PPB5",address:"A9bRBLhPe4sZ6vmBJjHSBjgvECwz5LU95idAGvjA8geK",decimals:0,logoURI:"tokens/webp/A9bRBLhPe4sZ6vmBJjHSBjgvECwz5LU95idAGvjA8geK.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","epic"]},{chainId:101,name:"Power Plant Tier 4 Upgrade Bundle",symbol:"PPB4",address:"6Wg9wch8SCEqWGasjxZGUakZYXx1JwnRRRKyeqN1jRns",decimals:0,logoURI:"tokens/webp/6Wg9wch8SCEqWGasjxZGUakZYXx1JwnRRRKyeqN1jRns.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","rare"]},{chainId:101,name:"Power Plant Tier 3 Upgrade Bundle",symbol:"PPB3",address:"2bJ7CrJ3Q6aE7D2ESXf2UJ5o2Yi2ZcxMLjXgKpUAtbCb",decimals:0,logoURI:"tokens/webp/2bJ7CrJ3Q6aE7D2ESXf2UJ5o2Yi2ZcxMLjXgKpUAtbCb.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","uncommon"]},{chainId:101,name:"Power Plant Tier 2 Upgrade Bundle",symbol:"PPB2",address:"8y5KFaXtc84VWE4mMi8bNU5u8wHD9SjU4VMaZ8xCCw2r",decimals:0,logoURI:"tokens/webp/8y5KFaXtc84VWE4mMi8bNU5u8wHD9SjU4VMaZ8xCCw2r.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Core - Episode 6 (Magic Eden)",symbol:"CORE6ME",address:"HfD2TpBfaB4CqvQw3PFEqjTPEMVNdvupzoBPftn8rKUn",decimals:0,logoURI:"tokens/webp/HfD2TpBfaB4CqvQw3PFEqjTPEMVNdvupzoBPftn8rKUn.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core - Episode 6 (Star Atlas)",symbol:"CORE6SA",address:"B9A1Z5ujSfEC1KWgNEQF6MVXKXh3go6apNSRgPmCWqBb",decimals:0,logoURI:"tokens/webp/B9A1Z5ujSfEC1KWgNEQF6MVXKXh3go6apNSRgPmCWqBb.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Escape Velocity Exterior Paint",symbol:"HABEP2",address:"BaYBQcSVkU8utoK9CFwVBQV9uWEZi64Vd8pfyPKRdVE3",decimals:0,logoURI:"tokens/webp/BaYBQcSVkU8utoK9CFwVBQV9uWEZi64Vd8pfyPKRdVE3.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","structure","uncommon"]},{chainId:101,name:"Escape Velocity",symbol:"ESCVP",address:"8yfRmmuzUQqDJJkdwmcBhny1axkCdfDaVxcLPyv2XkTt",decimals:0,logoURI:"tokens/webp/8yfRmmuzUQqDJJkdwmcBhny1axkCdfDaVxcLPyv2XkTt.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","uncommon"]},{chainId:101,name:"Armstrong IMP Tip",symbol:"IMP1",address:"DTbNmLWfu1pm4AuXRKYTApnDNfxMz73VET7nW5wizG5t",decimals:0,logoURI:"tokens/webp/DTbNmLWfu1pm4AuXRKYTApnDNfxMz73VET7nW5wizG5t.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","uncommon"]},{chainId:101,name:"Armstrong IMP Tap",symbol:"IMP2",address:"ARNZXUQoBKx3JCX3UJB4aitSnvcjMMphN9YVDFy1PdKq",decimals:0,logoURI:"tokens/webp/ARNZXUQoBKx3JCX3UJB4aitSnvcjMMphN9YVDFy1PdKq.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Armstrong IMP",symbol:"IMP3",address:"GmVKV9W3qZcERxk7hjqwRDcn9Kgtz3XDi7KfFLdGqyaW",decimals:0,logoURI:"tokens/webp/GmVKV9W3qZcERxk7hjqwRDcn9Kgtz3XDi7KfFLdGqyaW.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Core Act 2 - Episode 1 (Magic Eden)",symbol:"CORE7ME",address:"H2FiaQatmsyzmEC6J3bD2B2oSXejm6m2UDEfpLpMkKiT",decimals:0,logoURI:"tokens/webp/H2FiaQatmsyzmEC6J3bD2B2oSXejm6m2UDEfpLpMkKiT.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core Act 2 - Episode 1 (Star Atlas)",symbol:"CORE7SA",address:"GkyznBSPCKRsi8qSBXjAYvhzAUzhdRGMe3LvNyczdixL",decimals:0,logoURI:"tokens/webp/GkyznBSPCKRsi8qSBXjAYvhzAUzhdRGMe3LvNyczdixL.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Memory Fragment - Scraps and Spoils - NA Mission 1",symbol:"MEMFRAG",address:"273M8ST7wLv4H7prMmyXWk5kJ9sdVignfhK9jaCBJuMx",decimals:0,logoURI:"tokens/webp/273M8ST7wLv4H7prMmyXWk5kJ9sdVignfhK9jaCBJuMx.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","memories","uncommon"]},{chainId:101,name:"Memory Glimpse - Scraps and Spoils - NA Mission 1",symbol:"MEMGLIM",address:"5fsKJuFAqBBCZkZGWh1xzF5qzXotDyBqxiA1djiASF7n",decimals:0,logoURI:"tokens/webp/5fsKJuFAqBBCZkZGWh1xzF5qzXotDyBqxiA1djiASF7n.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","memories","common"]},{chainId:101,name:"Memory Revelation - Scraps and Spoils - NA Mission 1",symbol:"MEMREV",address:"2CS4Evy3p5GMq9uMu7ybxo3Pgxs814BQY5pzkZ8bcUAf",decimals:0,logoURI:"tokens/webp/2CS4Evy3p5GMq9uMu7ybxo3Pgxs814BQY5pzkZ8bcUAf.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","memories","rare"]},{chainId:101,name:"Core Act 2 - Episode 2 (Star Atlas)",symbol:"CORE8SA",address:"C8SAdDCVdtHEenR1qxFq5zMHwvRKN5bpzbguiah4CWYL",decimals:0,logoURI:"tokens/webp/C8SAdDCVdtHEenR1qxFq5zMHwvRKN5bpzbguiah4CWYL.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core Act 2 - Episode 2 (Magic Eden)",symbol:"CORE8ME",address:"C8MEmuEZ45JQXjPyWwSzebLEuNhGAYvb9T1qFCKaDEB3",decimals:0,logoURI:"tokens/webp/C8MEmuEZ45JQXjPyWwSzebLEuNhGAYvb9T1qFCKaDEB3.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Lumanite",symbol:"LUMAN",address:"LUMACqD5LaKjs1AeuJYToybasTXoYQ7YkxJEc4jowNj",decimals:0,logoURI:"tokens/webp/LUMACqD5LaKjs1AeuJYToybasTXoYQ7YkxJEc4jowNj.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Arco",symbol:"ARCO",address:"ARCoQ9dndpg6wE2rRexzfwgJR3NoWWhpcww3xQcQLukg",decimals:0,logoURI:"tokens/webp/ARCoQ9dndpg6wE2rRexzfwgJR3NoWWhpcww3xQcQLukg.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Super Conductor",symbol:"SPRCOND",address:"CoNDDRCNxXAMGscCdejioDzb6XKxSzonbWb36wzSgp5T",decimals:0,logoURI:"tokens/webp/CoNDDRCNxXAMGscCdejioDzb6XKxSzonbWb36wzSgp5T.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Biomass",symbol:"BIOMASS",address:"MASS9GqtJz6ABisAxcUn3FeR4phMqH1XfG6LPKJePog",decimals:0,logoURI:"tokens/webp/MASS9GqtJz6ABisAxcUn3FeR4phMqH1XfG6LPKJePog.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Carbon",symbol:"CARBON",address:"CARBWKWvxEuMcq3MqCxYfi7UoFVpL9c4rsQS99tw6i4X",decimals:0,logoURI:"tokens/webp/CARBWKWvxEuMcq3MqCxYfi7UoFVpL9c4rsQS99tw6i4X.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Steel",symbol:"STEEL",address:"STEELXLJ8nfJy3P4aNuGxyNRbWPohqHSwxY75NsJRGG",decimals:0,logoURI:"tokens/webp/STEELXLJ8nfJy3P4aNuGxyNRbWPohqHSwxY75NsJRGG.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Crystal Lattice",symbol:"CRYSLAT",address:"CRYSNnUd7cZvVfrEVtVNKmXiCPYdZ1S5pM5qG2FDVZHF",decimals:0,logoURI:"tokens/webp/CRYSNnUd7cZvVfrEVtVNKmXiCPYdZ1S5pM5qG2FDVZHF.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Electronics",symbol:"ELECTRO",address:"ELECrjC8m9GxCqcm4XCNpFvkS8fHStAvymS6MJbe3XLZ",decimals:0,logoURI:"tokens/webp/ELECrjC8m9GxCqcm4XCNpFvkS8fHStAvymS6MJbe3XLZ.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Copper Wire",symbol:"CPRWIRE",address:"cwirGHLB2heKjCeTy4Mbp4M443fU4V7vy2JouvYbZna",decimals:0,logoURI:"tokens/webp/cwirGHLB2heKjCeTy4Mbp4M443fU4V7vy2JouvYbZna.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Iron Ore",symbol:"FEORE",address:"FeorejFjRRAfusN9Fg3WjEZ1dRCf74o6xwT5vDt3R34J",decimals:0,logoURI:"tokens/webp/FeorejFjRRAfusN9Fg3WjEZ1dRCf74o6xwT5vDt3R34J.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Power Source",symbol:"PWRSRC",address:"PoWRYJnw3YDSyXgNtN3mQ3TKUMoUSsLAbvE8Ejade3u",decimals:0,logoURI:"tokens/webp/PoWRYJnw3YDSyXgNtN3mQ3TKUMoUSsLAbvE8Ejade3u.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Copper Ore",symbol:"CUORE",address:"CUore1tNkiubxSwDEtLc3Ybs1xfWLs8uGjyydUYZ25xc",decimals:0,logoURI:"tokens/webp/CUore1tNkiubxSwDEtLc3Ybs1xfWLs8uGjyydUYZ25xc.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Magnet",symbol:"MAGNET",address:"MAGNMDeDJLvGAnriBvzWruZHfXNwWHhxnoNF75AQYM5",decimals:0,logoURI:"tokens/webp/MAGNMDeDJLvGAnriBvzWruZHfXNwWHhxnoNF75AQYM5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Radiation Absorber",symbol:"RADABS",address:"RABSXX6RcqJ1L5qsGY64j91pmbQVbsYRQuw1mmxhxFe",decimals:0,logoURI:"tokens/webp/RABSXX6RcqJ1L5qsGY64j91pmbQVbsYRQuw1mmxhxFe.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Strange Emitter",symbol:"STRANGE",address:"EMiTWSLgjDVkBbLFaMcGU6QqFWzX9JX6kqs1UtUjsmJA",decimals:0,logoURI:"tokens/webp/EMiTWSLgjDVkBbLFaMcGU6QqFWzX9JX6kqs1UtUjsmJA.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Particle Accelerator",symbol:"PRTACL",address:"PTCLSWbwZ3mqZqHAporphY2ofio8acsastaHfoP87Dc",decimals:0,logoURI:"tokens/webp/PTCLSWbwZ3mqZqHAporphY2ofio8acsastaHfoP87Dc.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Graphene",symbol:"GRAPH",address:"GRAPHKGoKtXtdPBx17h6fWopdT5tLjfAP8cDJ1SvvDn4",decimals:0,logoURI:"tokens/webp/GRAPHKGoKtXtdPBx17h6fWopdT5tLjfAP8cDJ1SvvDn4.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Hydrocarbon",symbol:"HCRB",address:"HYCBuSWCJ5ZEyANexU94y1BaBPtAX2kzBgGD2vES2t6M",decimals:0,logoURI:"tokens/webp/HYCBuSWCJ5ZEyANexU94y1BaBPtAX2kzBgGD2vES2t6M.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Framework",symbol:"FRMWRK",address:"FMWKb7YJA5upZHbu5FjVRRoxdDw2FYFAu284VqUGF9C2",decimals:0,logoURI:"tokens/webp/FMWKb7YJA5upZHbu5FjVRRoxdDw2FYFAu284VqUGF9C2.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Rochinol",symbol:"ROCH",address:"RCH1Zhg4zcSSQK8rw2s6rDMVsgBEWa4kiv1oLFndrN5",decimals:0,logoURI:"tokens/webp/RCH1Zhg4zcSSQK8rw2s6rDMVsgBEWa4kiv1oLFndrN5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Copper",symbol:"COPPER",address:"CPPRam7wKuBkYzN5zCffgNU17RKaeMEns4ZD83BqBVNR",decimals:0,logoURI:"tokens/webp/CPPRam7wKuBkYzN5zCffgNU17RKaeMEns4ZD83BqBVNR.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Diamond",symbol:"DIAMOND",address:"DMNDKqygEN3WXKVrAD4ofkYBc4CKNRhFUbXP4VK7a944",decimals:0,logoURI:"tokens/webp/DMNDKqygEN3WXKVrAD4ofkYBc4CKNRhFUbXP4VK7a944.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Survey Data Unit",symbol:"SDU",address:"SDUsgfSZaDhhZ76U3ZgvtFiXsfnHbf2VrzYxjBZ5YbM",decimals:0,logoURI:"tokens/webp/SDUsgfSZaDhhZ76U3ZgvtFiXsfnHbf2VrzYxjBZ5YbM.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Hydrogen",symbol:"HYG",address:"HYDR4EPHJcDPcaLYUcNCtrXUdt1PnaN4MvE655pevBYp",decimals:0,logoURI:"tokens/webp/HYDR4EPHJcDPcaLYUcNCtrXUdt1PnaN4MvE655pevBYp.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Polymer",symbol:"POLYMER",address:"PoLYs2hbRt5iDibrkPT9e6xWuhSS45yZji5ChgJBvcB",decimals:0,logoURI:"tokens/webp/PoLYs2hbRt5iDibrkPT9e6xWuhSS45yZji5ChgJBvcB.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Energy Substrate",symbol:"ENRGSUB",address:"SUBSVX9LYiPrzHeg2bZrqFSDSKkrQkiCesr6SjtdHaX",decimals:0,logoURI:"tokens/webp/SUBSVX9LYiPrzHeg2bZrqFSDSKkrQkiCesr6SjtdHaX.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Electromagnet",symbol:"ELECMAG",address:"EMAGoQSP89CJV5focVjrpEuE4CeqJ4k1DouQW7gUu7yX",decimals:0,logoURI:"tokens/webp/EMAGoQSP89CJV5focVjrpEuE4CeqJ4k1DouQW7gUu7yX.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Iron",symbol:"IRON",address:"ironxrUhTEaBiR9Pgp6hy4qWx6V2FirDoXhsFP25GFP",decimals:0,logoURI:"tokens/webp/ironxrUhTEaBiR9Pgp6hy4qWx6V2FirDoXhsFP25GFP.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Fimbul BYOS Butch",symbol:"FBLBBU",address:"BBUTCn3jcXKjFYuuYtY8MNo8bDg9VsZaKwaSYnRr2Qse",decimals:0,logoURI:"tokens/webp/BBUTCn3jcXKjFYuuYtY8MNo8bDg9VsZaKwaSYnRr2Qse.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"Fimbul Mamba EX",symbol:"FBLMEX",address:"MEXfyQHowwqoTHsN6yjfeXVaxZxALUFJAHuzY8gFiUu",decimals:0,logoURI:"tokens/webp/MEXfyQHowwqoTHsN6yjfeXVaxZxALUFJAHuzY8gFiUu.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","epic"]},{chainId:101,name:"PCC #1",symbol:"PCC1",address:"FfRV7CcedJ284kkaQf4CY9XaaZHdkHaBcFU77qTAKT4n",decimals:0,logoURI:"tokens/webp/FfRV7CcedJ284kkaQf4CY9XaaZHdkHaBcFU77qTAKT4n.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"PCC #2",symbol:"PCC2",address:"BH3eEgWyBmVYA9cvQj3yMDeUFL2auoD8WefycT8NdzJ5",decimals:0,logoURI:"tokens/webp/BH3eEgWyBmVYA9cvQj3yMDeUFL2auoD8WefycT8NdzJ5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Core Act 2 - Episode 3 (Star Atlas)",symbol:"CORE9SA",address:"C9SAoQrMnBrLxMEL5cb3XFnWgqp7GyUKyjZVCVFaBNBj",decimals:0,logoURI:"tokens/webp/C9SAoQrMnBrLxMEL5cb3XFnWgqp7GyUKyjZVCVFaBNBj.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core Act 2 - Episode 3 (Magic Eden)",symbol:"CORE9ME",address:"C9MEzvvVoDiEeGCo4vwYjdYczUknvjpEZQvMMK7EUJhS",decimals:0,logoURI:"tokens/webp/C9MEzvvVoDiEeGCo4vwYjdYczUknvjpEZQvMMK7EUJhS.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Opal Rayfam",symbol:"OPALRF",address:"RaYfM1RLfxQJWF8RZravTshKj1aHaWBNXF94VWToY9n",decimals:0,logoURI:"tokens/webp/RaYfM1RLfxQJWF8RZravTshKj1aHaWBNXF94VWToY9n.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Core Act 2 - Episode 4 (Star Atlas)",symbol:"CORE10SA",address:"C1oSAZQk8uzAr3WTPYEqtg3fiazp6m2Yaj8vbaGf6F7n",decimals:0,logoURI:"tokens/webp/C1oSAZQk8uzAr3WTPYEqtg3fiazp6m2Yaj8vbaGf6F7n.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core Act 2 - Episode 4 (Alternate Cover)",symbol:"CORE10AC",address:"C1oACSR5G8WWrDCTPeezj6GAcC2huXg4e3uDpqXAs16",decimals:0,logoURI:"tokens/webp/C1oACSR5G8WWrDCTPeezj6GAcC2huXg4e3uDpqXAs16.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"PCC #3",symbol:"PCC3",address:"HPM3HmnYj8hVM4cLv9U9KK2kT3xLZS96h6F4n7zpFmbB",decimals:0,logoURI:"tokens/webp/HPM3HmnYj8hVM4cLv9U9KK2kT3xLZS96h6F4n7zpFmbB.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","epic"]},{chainId:101,name:"Core Act 2 - Episode 5 (Star Atlas)",symbol:"CORE11SA",address:"C11SAYv6eeW6aimv8iLqwCnmTz6UYcSBX76y9pRgAmkY",decimals:0,logoURI:"tokens/webp/C11SAYv6eeW6aimv8iLqwCnmTz6UYcSBX76y9pRgAmkY.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Core Act 2 - Episode 5 (Alternate Cover)",symbol:"CORE11AC",address:"C11ACuYuWjwV8XdU8meBugW7BCTNdzG7XRkwmPGrDho8",decimals:0,logoURI:"tokens/webp/C11ACuYuWjwV8XdU8meBugW7BCTNdzG7XRkwmPGrDho8.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Council RFR 2023",symbol:"CRFR",address:"CRFRjhzDEhBSWGqpfdnqUHnbPLrimcuQ69kT9XE6tyRr",decimals:0,logoURI:"tokens/webp/CRFRjhzDEhBSWGqpfdnqUHnbPLrimcuQ69kT9XE6tyRr.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Fimbul Sledbarge",symbol:"FBLSLE",address:"SLEDkN916vvcpucY9Vn7tAzNXRcxsq71kkXzaj1cxoX",decimals:0,logoURI:"tokens/webp/SLEDkN916vvcpucY9Vn7tAzNXRcxsq71kkXzaj1cxoX.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","legendary"]},{chainId:101,name:"Ogrika Ruch",symbol:"OGKARU",address:"RUCHH4AcvodBcndmcT17KUBbd5ee5LQtmpsfvBVNnPH",decimals:0,logoURI:"tokens/webp/RUCHH4AcvodBcndmcT17KUBbd5ee5LQtmpsfvBVNnPH.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","common"]},{chainId:101,name:"Puri PTP",symbol:"ORUPTP",address:"RUPPjCR3TvBRn8dRptJ7s1GHagxXN4eMLkWeDcsAX23",decimals:0,logoURI:"tokens/webp/RUPPjCR3TvBRn8dRptJ7s1GHagxXN4eMLkWeDcsAX23.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","uncommon"]},{chainId:101,name:"Puri PTT",symbol:"ORUPTT",address:"RUPTq1qUS7t2u4D6CUzUgpeEtDanXZCJvP7HR9MXo1S",decimals:0,logoURI:"tokens/webp/RUPTq1qUS7t2u4D6CUzUgpeEtDanXZCJvP7HR9MXo1S.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","uncommon"]},{chainId:101,name:"Jupiter",symbol:"ORUJUP",address:"RJUPJAFj9d3YmGpGTsGGyKdFPAmzUhiikwH9a9Y495s",decimals:0,logoURI:"tokens/webp/RJUPJAFj9d3YmGpGTsGGyKdFPAmzUhiikwH9a9Y495s.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Core Act 2 - Episode 6 (Star Atlas)",symbol:"CORE12SA",address:"C12SA6MGzUswQ9exriwK9DBXjEcm1uhNg2hdUCvvRUR5",decimals:0,logoURI:"tokens/webp/C12SA6MGzUswQ9exriwK9DBXjEcm1uhNg2hdUCvvRUR5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Memory Fragment - The Search for Etira - NA Mission 2",symbol:"MEMFRAG2",address:"M2FH7Wt1xCYnzcWWB9TN2vxzES85MC49Mrkeyq2fWKs",decimals:0,logoURI:"tokens/webp/M2FH7Wt1xCYnzcWWB9TN2vxzES85MC49Mrkeyq2fWKs.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","memories","uncommon"]},{chainId:101,name:"Memory Glimpse - The Search for Etira - NA Mission 2",symbol:"MEMGLIM2",address:"M2GJWZVZCZZKN34zTDP8fZmJxTgR2GqB5mKKGtN2Van",decimals:0,logoURI:"tokens/webp/M2GJWZVZCZZKN34zTDP8fZmJxTgR2GqB5mKKGtN2Van.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","memories","common"]},{chainId:101,name:"Memory Revelation - The Search for Etira - NA Mission 2",symbol:"MEMREV2",address:"M2Ri7TvjNn4ymBDuskASjm5UZPfsMvpDNiPjJN8bYwb",decimals:0,logoURI:"tokens/webp/M2Ri7TvjNn4ymBDuskASjm5UZPfsMvpDNiPjJN8bYwb.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","memories","rare"]},{chainId:101,name:"Core Act 2 - Episode 6 (Alternate Cover)",symbol:"CORE12AC",address:"C12ACxT2oXYb4xwe8NQrgCfr6m1mci6JQwA7PG6Fw8RH",decimals:0,logoURI:"tokens/webp/C12ACxT2oXYb4xwe8NQrgCfr6m1mci6JQwA7PG6Fw8RH.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","story","common"]},{chainId:101,name:"Brew Badge",symbol:"BGBREW",address:"BREWN24ym1AGwWxTzuVVth8W2a9fkQkJYCiJXWh349uC",decimals:0,logoURI:"tokens/webp/BREWN24ym1AGwWxTzuVVth8W2a9fkQkJYCiJXWh349uC.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","uncommon"]},{chainId:101,name:"Joni Awards Trophy",symbol:"JONI",address:"Joni2mC3hdpig7Vyuum9eLkF9PfcMKriFgSJWEDhY12",decimals:0,logoURI:"tokens/webp/Joni2mC3hdpig7Vyuum9eLkF9PfcMKriFgSJWEDhY12.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Rainbow Phi",symbol:"PHI",address:"phi4PYgmxeTMLLpGkU87T16VUZ6AjWZESkfT1JGJ635",decimals:0,logoURI:"tokens/webp/phi4PYgmxeTMLLpGkU87T16VUZ6AjWZESkfT1JGJ635.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","anomaly"]},{chainId:101,name:"Calico Shipit",symbol:"CALSHIP",address:"SHiPitEZcCoyXEKqw9ovCdYeNzck9uVbb1KCcsHaGhc",decimals:0,logoURI:"tokens/webp/SHiPitEZcCoyXEKqw9ovCdYeNzck9uVbb1KCcsHaGhc.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Field Stabilizer",symbol:"FSTAB",address:"FiELD9fGaCgiNMfzQKKZD78wxwnBHTwjiiJfsieb6VGb",decimals:0,logoURI:"tokens/webp/FiELD9fGaCgiNMfzQKKZD78wxwnBHTwjiiJfsieb6VGb.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Aerogel",symbol:"AGEL",address:"aeroBCMu6AX6bCLYd1VQtigqZh8NGSjn54H1YSczHeJ",decimals:0,logoURI:"tokens/webp/aeroBCMu6AX6bCLYd1VQtigqZh8NGSjn54H1YSczHeJ.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Titanium",symbol:"TTNM",address:"TTNM1SMkM7VKtyPW6CNBZ4cg3An3zzQ8NVLS2HpMaWL",decimals:0,logoURI:"tokens/webp/TTNM1SMkM7VKtyPW6CNBZ4cg3An3zzQ8NVLS2HpMaWL.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Titanium Ore",symbol:"TIORE",address:"tiorehR1rLfeATZ96YoByUkvNFsBfUUSQWgSH2mizXL",decimals:0,logoURI:"tokens/webp/tiorehR1rLfeATZ96YoByUkvNFsBfUUSQWgSH2mizXL.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Nitrogen",symbol:"NITRO",address:"Nitro6idW5JCb2ysUPGUAvVqv3HmUR7NVH7NdybGJ4L",decimals:0,logoURI:"tokens/webp/Nitro6idW5JCb2ysUPGUAvVqv3HmUR7NVH7NdybGJ4L.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"Silica",symbol:"SAND",address:"SiLiCA4xKGkyymB5XteUVmUeLqE4JGQTyWBpKFESLgh",decimals:0,logoURI:"tokens/webp/SiLiCA4xKGkyymB5XteUVmUeLqE4JGQTyWBpKFESLgh.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","common"]},{chainId:101,name:"coins.ph",symbol:"CPHVS",address:"CPHVSCUH8dwEQ9SBNNue85d2hQRjDbihELx9gSQZzb87",decimals:0,logoURI:"tokens/webp/CPHVSCUH8dwEQ9SBNNue85d2hQRjDbihELx9gSQZzb87.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","uncommon"]},{chainId:101,name:"Fimbul BYOS Ranger",symbol:"FBLBRA",address:"RNGRjeGyFeyFT4k5aTJXKZukVx3GbG215fcSQJxg64G",decimals:0,logoURI:"tokens/webp/RNGRjeGyFeyFT4k5aTJXKZukVx3GbG215fcSQJxg64G.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","ship","rare"]},{chainId:101,name:"Gagli.doer",symbol:"CUUAGD",address:"GagLi67riLvTvr6wSSrFw5AZbdVTfUPGjJ1VdBDTcZ5L",decimals:0,logoURI:"tokens/webp/GagLi67riLvTvr6wSSrFw5AZbdVTfUPGjJ1VdBDTcZ5L.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","rare"]},{chainId:101,name:"Berpek Ula Eko",symbol:"COMMBE",address:"BErpeKhadb2H6kN8QJs977XfipH4wiVC6fdVfjW6vKRs",decimals:0,logoURI:"tokens/webp/BErpeKhadb2H6kN8QJs977XfipH4wiVC6fdVfjW6vKRs.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","uncommon"]},{chainId:101,name:"Sigmund Nok",symbol:"CMHMSN",address:"siGnokzWQqFQMoc1k6sEg5NeWnfnEU3Ypxb2LLnM9Sm",decimals:0,logoURI:"tokens/webp/siGnokzWQqFQMoc1k6sEg5NeWnfnEU3Ypxb2LLnM9Sm.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","common"]},{chainId:101,name:"Presale 10 Card Pack",symbol:"CREWP10",address:"CRWPXjZw73dMW3pG7UMhVWDrfk5NnzMCMuWj6hVLMCYm",decimals:0,logoURI:"tokens/webp/CRWPXjZw73dMW3pG7UMhVWDrfk5NnzMCMuWj6hVLMCYm.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","platinum"]},{chainId:101,name:"The Edge of Paradise",symbol:"EOP",address:"CXymP2vvMysYG4nLdonyNZA5NNiq21mXDY2Y3927Mx1k",decimals:0,logoURI:"tokens/webp/CXymP2vvMysYG4nLdonyNZA5NNiq21mXDY2Y3927Mx1k.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","common"]},{chainId:101,name:"Honeyland Explorer Badge",symbol:"HONEY",address:"HoNYeNCD6WidPRYgsrgjfRjUJodPWU4yNG2HBawGi3Ht",decimals:0,logoURI:"tokens/webp/HoNYeNCD6WidPRYgsrgjfRjUJodPWU4yNG2HBawGi3Ht.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","access","common"]},{chainId:101,name:"Silver 1 Card Pack",symbol:"CREWS1",address:"CPS1gTEio7PqnAmDmWuCfiTBbtDRRsA8cwdQe3TqgGsf",decimals:0,logoURI:"tokens/webp/CPS1gTEio7PqnAmDmWuCfiTBbtDRRsA8cwdQe3TqgGsf.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","silver"]},{chainId:101,name:"Silver 5 Card Pack",symbol:"CREWS5",address:"CPS5deX4R2BkA1X4SRrk5V2LqmT7CXwNdnC5syrpAmDK",decimals:0,logoURI:"tokens/webp/CPS5deX4R2BkA1X4SRrk5V2LqmT7CXwNdnC5syrpAmDK.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","silver"]},{chainId:101,name:"Gold 1 Card Pack",symbol:"CREWG1",address:"CPG1B4jv6D2cZRkfXWawxSrE9SvhxdiDT1yKP4cNmHSe",decimals:0,logoURI:"tokens/webp/CPG1B4jv6D2cZRkfXWawxSrE9SvhxdiDT1yKP4cNmHSe.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","gold"]},{chainId:101,name:"Gold 5 Card Pack",symbol:"CREWG5",address:"CPG5JB1Z83TsYYCaVJLLpWVcoBBAnQ2T2nzmR9tbi3WU",decimals:0,logoURI:"tokens/webp/CPG5JB1Z83TsYYCaVJLLpWVcoBBAnQ2T2nzmR9tbi3WU.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","gold"]},{chainId:101,name:"Platinum 1 Card Pack",symbol:"CREWP1",address:"CPP1iv66iqZYeGEYuGAmjTbRJMbNazCWu8r2Ln5TUsc5",decimals:0,logoURI:"tokens/webp/CPP1iv66iqZYeGEYuGAmjTbRJMbNazCWu8r2Ln5TUsc5.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","platinum"]},{chainId:101,name:"Platinum 5 Card Pack",symbol:"CREWP5",address:"CPP5rhCt7tvjco6vbVMawzg4WHmr3Thr67y7PcBcbfSz",decimals:0,logoURI:"tokens/webp/CPP5rhCt7tvjco6vbVMawzg4WHmr3Thr67y7PcBcbfSz.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","crew","platinum"]},{chainId:101,name:"Impact",symbol:"ORUIMP",address:"or1mX9539xPemxKs8dPCjkSx1K4aAqGEuaVBnuLZkhZ",decimals:0,logoURI:"tokens/webp/or1mX9539xPemxKs8dPCjkSx1K4aAqGEuaVBnuLZkhZ.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","collectible","rare"]},{chainId:101,name:"Golden Ticket 2624",symbol:"GLDTKT24",address:"GT24XW4QvPxm1Dj63kYQMVa2nwwReLtcWXyHzA6G4yRw",decimals:0,logoURI:"tokens/webp/GT24XW4QvPxm1Dj63kYQMVa2nwwReLtcWXyHzA6G4yRw.webp",tags:[],verified:!0,holders:null,tree:["StarAtlas","resource","epic"]}],tokens=[{chainId:101,name:"Pearce X4",symbol:"PX4",address:"B8MFK4agivn1tDa2KtYZxmyPsuZepn1ZQ4KEuzZanAMV",decimals:0,logoURI:"https://storage.googleapis.com/nft-assets/items/PX4.jpg",tags:[],verified:!0,holders:null,tree:["Token"]},{chainId:101,name:"ATLAS DEV",symbol:"DATLAS",address:"DzMwjrnAQa6nThhnLQ1KjsaNJfPffMELvJ3BCn8RvXNv",decimals:9,logoURI:"https://assets.coingecko.com/coins/images/17659/large/Icon_Reverse.png?1696517190",tags:[],verified:!0,holders:null,tree:["Token"]}],useTokenListStore=defineStore("tokenListStore",{state:()=>({tokenList:mergeTokenLists()}),getters:{getTokenByMintPublicKey:n=>e=>{if(!!e)return n.tokenList.find(t=>t.address===e.toString())}},actions:{async updateStore(){}}});function mergeTokenLists(){const n=[];return tokens$2.forEach(e=>{n.push(e)}),tokens$1.forEach(e=>{n.push(e)}),tokens.forEach(e=>{n.push(e)}),n}function number$4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function isBytes$1(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function bytes$1(n,...e){if(!isBytes$1(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function hash(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");number$4(n.outputLen),number$4(n.blockLen)}function exists(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function output(n,e){bytes$1(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const createView=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),rotr=(n,e)=>n<<32-e|n>>>e;new Uint8Array(new Uint32Array([287454020]).buffer)[0];function utf8ToBytes$1(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function toBytes(n){return typeof n=="string"&&(n=utf8ToBytes$1(n)),bytes$1(n),n}function concatBytes$1(...n){let e=0;for(let r=0;r<n.length;r++){const o=n[r];bytes$1(o),e+=o.length}const t=new Uint8Array(e);for(let r=0,o=0;r<n.length;r++){const a=n[r];t.set(a,o),o+=a.length}return t}class Hash{clone(){return this._cloneInto()}}function wrapConstructor(n){const e=r=>n().update(toBytes(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function randomBytes(n=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const o=BigInt(32),a=BigInt(4294967295),c=Number(t>>o&a),u=Number(t&a),en=r?4:0,tn=r?0:4;n.setUint32(e+en,c,r),n.setUint32(e+tn,u,r)}const Chi=(n,e,t)=>n&e^~n&t,Maj=(n,e,t)=>n&e^n&t^e&t;class HashMD extends Hash{constructor(e,t,r,o){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=createView(this.buffer)}update(e){exists(this);const{view:t,buffer:r,blockLen:o}=this;e=toBytes(e);const a=e.length;for(let c=0;c<a;){const u=Math.min(o-this.pos,a-c);if(u===o){const en=createView(e);for(;o<=a-c;c+=o)this.process(en,c);continue}r.set(e.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===o&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){exists(this),output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:a}=this;let{pos:c}=this;t[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(r,0),c=0);for(let sn=c;sn<o;sn++)t[sn]=0;setBigUint64(r,o-8,BigInt(this.length*8),a),this.process(r,0);const u=createView(e),en=this.outputLen;if(en%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const tn=en/4,nn=this.get();if(tn>nn.length)throw new Error("_sha2: outputLen bigger than state");for(let sn=0;sn<tn;sn++)u.setUint32(4*sn,nn[sn],a)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:o,finished:a,destroyed:c,pos:u}=this;return e.length=o,e.pos=u,e.finished=a,e.destroyed=c,o%t&&e.buffer.set(r),e}}const U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(n,e=!1){return e?{h:Number(n&U32_MASK64),l:Number(n>>_32n&U32_MASK64)}:{h:Number(n>>_32n&U32_MASK64)|0,l:Number(n&U32_MASK64)|0}}function split(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let o=0;o<n.length;o++){const{h:a,l:c}=fromBig(n[o],e);[t[o],r[o]]=[a,c]}return[t,r]}const toBig=(n,e)=>BigInt(n>>>0)<<_32n|BigInt(e>>>0),shrSH=(n,e,t)=>n>>>t,shrSL=(n,e,t)=>n<<32-t|e>>>t,rotrSH=(n,e,t)=>n>>>t|e<<32-t,rotrSL=(n,e,t)=>n<<32-t|e>>>t,rotrBH=(n,e,t)=>n<<64-t|e>>>t-32,rotrBL=(n,e,t)=>n>>>t-32|e<<64-t,rotr32H=(n,e)=>e,rotr32L=(n,e)=>n,rotlSH=(n,e,t)=>n<<t|e>>>32-t,rotlSL=(n,e,t)=>e<<t|n>>>32-t,rotlBH=(n,e,t)=>e<<t-32|n>>>64-t,rotlBL=(n,e,t)=>n<<t-32|e>>>64-t;function add(n,e,t,r){const o=(e>>>0)+(r>>>0);return{h:n+t+(o/2**32|0)|0,l:o|0}}const add3L=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),add3H=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,add4L=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),add4H=(n,e,t,r,o)=>e+t+r+o+(n/2**32|0)|0,add5L=(n,e,t,r,o)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(o>>>0),add5H=(n,e,t,r,o,a)=>e+t+r+o+a+(n/2**32|0)|0,u64$6={fromBig,split,toBig,shrSH,shrSL,rotrSH,rotrSL,rotrBH,rotrBL,rotr32H,rotr32L,rotlSH,rotlSL,rotlBH,rotlBL,add,add3L,add3H,add4L,add4H,add5H,add5L};var u64$7=u64$6;const[SHA512_Kh,SHA512_Kl]=(()=>u64$7.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:o,Ch:a,Cl:c,Dh:u,Dl:en,Eh:tn,El:nn,Fh:sn,Fl:fn,Gh:dn,Gl:hn,Hh:ln,Hl:pn}=this;return[e,t,r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn]}set(e,t,r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=o|0,this.Ch=a|0,this.Cl=c|0,this.Dh=u|0,this.Dl=en|0,this.Eh=tn|0,this.El=nn|0,this.Fh=sn|0,this.Fl=fn|0,this.Gh=dn|0,this.Gl=hn|0,this.Hh=ln|0,this.Hl=pn|0}process(e,t){for(let yn=0;yn<16;yn++,t+=4)SHA512_W_H[yn]=e.getUint32(t),SHA512_W_L[yn]=e.getUint32(t+=4);for(let yn=16;yn<80;yn++){const In=SHA512_W_H[yn-15]|0,An=SHA512_W_L[yn-15]|0,Tn=u64$7.rotrSH(In,An,1)^u64$7.rotrSH(In,An,8)^u64$7.shrSH(In,An,7),kn=u64$7.rotrSL(In,An,1)^u64$7.rotrSL(In,An,8)^u64$7.shrSL(In,An,7),Pn=SHA512_W_H[yn-2]|0,Dn=SHA512_W_L[yn-2]|0,Kn=u64$7.rotrSH(Pn,Dn,19)^u64$7.rotrBH(Pn,Dn,61)^u64$7.shrSH(Pn,Dn,6),Hn=u64$7.rotrSL(Pn,Dn,19)^u64$7.rotrBL(Pn,Dn,61)^u64$7.shrSL(Pn,Dn,6),jn=u64$7.add4L(kn,Hn,SHA512_W_L[yn-7],SHA512_W_L[yn-16]),Cn=u64$7.add4H(jn,Tn,Kn,SHA512_W_H[yn-7],SHA512_W_H[yn-16]);SHA512_W_H[yn]=Cn|0,SHA512_W_L[yn]=jn|0}let{Ah:r,Al:o,Bh:a,Bl:c,Ch:u,Cl:en,Dh:tn,Dl:nn,Eh:sn,El:fn,Fh:dn,Fl:hn,Gh:ln,Gl:pn,Hh:$n,Hl:Sn}=this;for(let yn=0;yn<80;yn++){const In=u64$7.rotrSH(sn,fn,14)^u64$7.rotrSH(sn,fn,18)^u64$7.rotrBH(sn,fn,41),An=u64$7.rotrSL(sn,fn,14)^u64$7.rotrSL(sn,fn,18)^u64$7.rotrBL(sn,fn,41),Tn=sn&dn^~sn&ln,kn=fn&hn^~fn&pn,Pn=u64$7.add5L(Sn,An,kn,SHA512_Kl[yn],SHA512_W_L[yn]),Dn=u64$7.add5H(Pn,$n,In,Tn,SHA512_Kh[yn],SHA512_W_H[yn]),Kn=Pn|0,Hn=u64$7.rotrSH(r,o,28)^u64$7.rotrBH(r,o,34)^u64$7.rotrBH(r,o,39),jn=u64$7.rotrSL(r,o,28)^u64$7.rotrBL(r,o,34)^u64$7.rotrBL(r,o,39),Cn=r&a^r&u^a&u,mn=o&c^o&en^c&en;$n=ln|0,Sn=pn|0,ln=dn|0,pn=hn|0,dn=sn|0,hn=fn|0,{h:sn,l:fn}=u64$7.add(tn|0,nn|0,Dn|0,Kn|0),tn=u|0,nn=en|0,u=a|0,en=c|0,a=r|0,c=o|0;const _n=u64$7.add3L(Kn,jn,mn);r=u64$7.add3H(_n,Dn,Hn,Cn),o=_n|0}({h:r,l:o}=u64$7.add(this.Ah|0,this.Al|0,r|0,o|0)),{h:a,l:c}=u64$7.add(this.Bh|0,this.Bl|0,a|0,c|0),{h:u,l:en}=u64$7.add(this.Ch|0,this.Cl|0,u|0,en|0),{h:tn,l:nn}=u64$7.add(this.Dh|0,this.Dl|0,tn|0,nn|0),{h:sn,l:fn}=u64$7.add(this.Eh|0,this.El|0,sn|0,fn|0),{h:dn,l:hn}=u64$7.add(this.Fh|0,this.Fl|0,dn|0,hn|0),{h:ln,l:pn}=u64$7.add(this.Gh|0,this.Gl|0,ln|0,pn|0),{h:$n,l:Sn}=u64$7.add(this.Hh|0,this.Hl|0,$n|0,Sn|0),this.set(r,o,a,c,u,en,tn,nn,sn,fn,dn,hn,ln,pn,$n,Sn)}roundClean(){SHA512_W_H.fill(0),SHA512_W_L.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha512=wrapConstructor(()=>new SHA512);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$6=BigInt(1),_2n$4=BigInt(2);function isBytes(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function abytes(n){if(!isBytes(n))throw new Error("Uint8Array expected")}function abool(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const hexes=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function bytesToHex(n){abytes(n);let e="";for(let t=0;t<n.length;t++)e+=hexes[n[t]];return e}function numberToHexUnpadded(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function hexToNumber(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const asciis={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function asciiToBase16(n){if(n>=asciis._0&&n<=asciis._9)return n-asciis._0;if(n>=asciis._A&&n<=asciis._F)return n-(asciis._A-10);if(n>=asciis._a&&n<=asciis._f)return n-(asciis._a-10)}function hexToBytes(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let o=0,a=0;o<t;o++,a+=2){const c=asciiToBase16(n.charCodeAt(a)),u=asciiToBase16(n.charCodeAt(a+1));if(c===void 0||u===void 0){const en=n[a]+n[a+1];throw new Error('hex string expected, got non-hex character "'+en+'" at index '+a)}r[o]=c*16+u}return r}function bytesToNumberBE(n){return hexToNumber(bytesToHex(n))}function bytesToNumberLE(n){return abytes(n),hexToNumber(bytesToHex(Uint8Array.from(n).reverse()))}function numberToBytesBE(n,e){return hexToBytes(n.toString(16).padStart(e*2,"0"))}function numberToBytesLE(n,e){return numberToBytesBE(n,e).reverse()}function numberToVarBytesBE(n){return hexToBytes(numberToHexUnpadded(n))}function ensureBytes(n,e,t){let r;if(typeof e=="string")try{r=hexToBytes(e)}catch(a){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${a}`)}else if(isBytes(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const o=r.length;if(typeof t=="number"&&o!==t)throw new Error(`${n} expected ${t} bytes, got ${o}`);return r}function concatBytes(...n){let e=0;for(let r=0;r<n.length;r++){const o=n[r];abytes(o),e+=o.length}const t=new Uint8Array(e);for(let r=0,o=0;r<n.length;r++){const a=n[r];t.set(a,o),o+=a.length}return t}function equalBytes(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function utf8ToBytes(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const isPosBig=n=>typeof n=="bigint"&&_0n$4<=n;function inRange(n,e,t){return isPosBig(n)&&isPosBig(e)&&isPosBig(t)&&e<=n&&n<t}function aInRange(n,e,t,r){if(!inRange(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function bitLen(n){let e;for(e=0;n>_0n$4;n>>=_1n$6,e+=1);return e}function bitGet(n,e){return n>>BigInt(e)&_1n$6}function bitSet(n,e,t){return n|(t?_1n$6:_0n$4)<<BigInt(e)}const bitMask=n=>(_2n$4<<BigInt(n-1))-_1n$6,u8n=n=>new Uint8Array(n),u8fr=n=>Uint8Array.from(n);function createHmacDrbg(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=u8n(n),o=u8n(n),a=0;const c=()=>{r.fill(1),o.fill(0),a=0},u=(...sn)=>t(o,r,...sn),en=(sn=u8n())=>{o=u(u8fr([0]),sn),r=u(),sn.length!==0&&(o=u(u8fr([1]),sn),r=u())},tn=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let sn=0;const fn=[];for(;sn<e;){r=u();const dn=r.slice();fn.push(dn),sn+=r.length}return concatBytes(...fn)};return(sn,fn)=>{c(),en(sn);let dn;for(;!(dn=fn(tn()));)en();return c(),dn}}const validatorFns={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||isBytes(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function validateObject(n,e,t={}){const r=(o,a,c)=>{const u=validatorFns[a];if(typeof u!="function")throw new Error(`Invalid validator "${a}", expected function`);const en=n[o];if(!(c&&en===void 0)&&!u(en,n))throw new Error(`Invalid param ${String(o)}=${en} (${typeof en}), expected ${a}`)};for(const[o,a]of Object.entries(e))r(o,a,!1);for(const[o,a]of Object.entries(t))r(o,a,!0);return n}const notImplemented=()=>{throw new Error("not implemented")};function memoized(n){const e=new WeakMap;return(t,...r)=>{const o=e.get(t);if(o!==void 0)return o;const a=n(t,...r);return e.set(t,a),a}}var ut$1=Object.freeze(Object.defineProperty({__proto__:null,isBytes,abytes,abool,bytesToHex,numberToHexUnpadded,hexToNumber,hexToBytes,bytesToNumberBE,bytesToNumberLE,numberToBytesBE,numberToBytesLE,numberToVarBytesBE,ensureBytes,concatBytes,equalBytes,utf8ToBytes,inRange,aInRange,bitLen,bitGet,bitSet,bitMask,createHmacDrbg,validateObject,notImplemented,memoized},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_3n$1=BigInt(3),_4n=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);BigInt(9);BigInt(16);function mod(n,e){const t=n%e;return t>=_0n$3?t:e+t}function pow(n,e,t){if(t<=_0n$3||e<_0n$3)throw new Error("Expected power/modulo > 0");if(t===_1n$5)return _0n$3;let r=_1n$5;for(;e>_0n$3;)e&_1n$5&&(r=r*n%t),n=n*n%t,e>>=_1n$5;return r}function pow2(n,e,t){let r=n;for(;e-- >_0n$3;)r*=r,r%=t;return r}function invert(n,e){if(n===_0n$3||e<=_0n$3)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=mod(n,e),r=e,o=_0n$3,a=_1n$5;for(;t!==_0n$3;){const u=r/t,en=r%t,tn=o-a*u;r=t,t=en,o=a,a=tn}if(r!==_1n$5)throw new Error("invert: does not exist");return mod(o,e)}function tonelliShanks(n){const e=(n-_1n$5)/_2n$3;let t,r,o;for(t=n-_1n$5,r=0;t%_2n$3===_0n$3;t/=_2n$3,r++);for(o=_2n$3;o<n&&pow(o,e,n)!==n-_1n$5;o++);if(r===1){const c=(n+_1n$5)/_4n;return function(en,tn){const nn=en.pow(tn,c);if(!en.eql(en.sqr(nn),tn))throw new Error("Cannot find square root");return nn}}const a=(t+_1n$5)/_2n$3;return function(u,en){if(u.pow(en,e)===u.neg(u.ONE))throw new Error("Cannot find square root");let tn=r,nn=u.pow(u.mul(u.ONE,o),t),sn=u.pow(en,a),fn=u.pow(en,t);for(;!u.eql(fn,u.ONE);){if(u.eql(fn,u.ZERO))return u.ZERO;let dn=1;for(let ln=u.sqr(fn);dn<tn&&!u.eql(ln,u.ONE);dn++)ln=u.sqr(ln);const hn=u.pow(nn,_1n$5<<BigInt(tn-dn-1));nn=u.sqr(hn),sn=u.mul(sn,hn),fn=u.mul(fn,nn),tn=dn}return sn}}function FpSqrt(n){if(n%_4n===_3n$1){const e=(n+_1n$5)/_4n;return function(r,o){const a=r.pow(o,e);if(!r.eql(r.sqr(a),o))throw new Error("Cannot find square root");return a}}if(n%_8n$2===_5n$1){const e=(n-_5n$1)/_8n$2;return function(r,o){const a=r.mul(o,_2n$3),c=r.pow(a,e),u=r.mul(o,c),en=r.mul(r.mul(u,_2n$3),c),tn=r.mul(u,r.sub(en,r.ONE));if(!r.eql(r.sqr(tn),o))throw new Error("Cannot find square root");return tn}}return tonelliShanks(n)}const isNegativeLE=(n,e)=>(mod(n,e)&_1n$5)===_1n$5,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=FIELD_FIELDS.reduce((r,o)=>(r[o]="function",r),e);return validateObject(n,t)}function FpPow(n,e,t){if(t<_0n$3)throw new Error("Expected power > 0");if(t===_0n$3)return n.ONE;if(t===_1n$5)return e;let r=n.ONE,o=e;for(;t>_0n$3;)t&_1n$5&&(r=n.mul(r,o)),o=n.sqr(o),t>>=_1n$5;return r}function FpInvertBatch(n,e){const t=new Array(e.length),r=e.reduce((a,c,u)=>n.is0(c)?a:(t[u]=a,n.mul(a,c)),n.ONE),o=n.inv(r);return e.reduceRight((a,c,u)=>n.is0(c)?a:(t[u]=n.mul(a,t[u]),n.mul(a,c)),o),t}function nLength(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Field(n,e,t=!1,r={}){if(n<=_0n$3)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:o,nByteLength:a}=nLength(n,e);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=FpSqrt(n),u=Object.freeze({ORDER:n,BITS:o,BYTES:a,MASK:bitMask(o),ZERO:_0n$3,ONE:_1n$5,create:en=>mod(en,n),isValid:en=>{if(typeof en!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof en}`);return _0n$3<=en&&en<n},is0:en=>en===_0n$3,isOdd:en=>(en&_1n$5)===_1n$5,neg:en=>mod(-en,n),eql:(en,tn)=>en===tn,sqr:en=>mod(en*en,n),add:(en,tn)=>mod(en+tn,n),sub:(en,tn)=>mod(en-tn,n),mul:(en,tn)=>mod(en*tn,n),pow:(en,tn)=>FpPow(u,en,tn),div:(en,tn)=>mod(en*invert(tn,n),n),sqrN:en=>en*en,addN:(en,tn)=>en+tn,subN:(en,tn)=>en-tn,mulN:(en,tn)=>en*tn,inv:en=>invert(en,n),sqrt:r.sqrt||(en=>c(u,en)),invertBatch:en=>FpInvertBatch(u,en),cmov:(en,tn,nn)=>nn?tn:en,toBytes:en=>t?numberToBytesLE(en,a):numberToBytesBE(en,a),fromBytes:en=>{if(en.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${en.length}`);return t?bytesToNumberLE(en):bytesToNumberBE(en)}});return Object.freeze(u)}function getFieldBytesLength(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function getMinHashLength(n){const e=getFieldBytesLength(n);return e+Math.ceil(e/2)}function mapHashToField(n,e,t=!1){const r=n.length,o=getFieldBytesLength(e),a=getMinHashLength(e);if(r<16||r<a||r>1024)throw new Error(`expected ${a}-1024 bytes of input, got ${r}`);const c=t?bytesToNumberBE(n):bytesToNumberLE(n),u=mod(c,e-_1n$5)+_1n$5;return t?numberToBytesLE(u,o):numberToBytesBE(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$4=BigInt(1),pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function wNAF(n,e){const t=(a,c)=>{const u=c.negate();return a?u:c},r=a=>{if(!Number.isSafeInteger(a)||a<=0||a>e)throw new Error(`Wrong window size=${a}, should be [1..${e}]`)},o=a=>{r(a);const c=Math.ceil(e/a)+1,u=2**(a-1);return{windows:c,windowSize:u}};return{constTimeNegate:t,unsafeLadder(a,c){let u=n.ZERO,en=a;for(;c>_0n$2;)c&_1n$4&&(u=u.add(en)),en=en.double(),c>>=_1n$4;return u},precomputeWindow(a,c){const{windows:u,windowSize:en}=o(c),tn=[];let nn=a,sn=nn;for(let fn=0;fn<u;fn++){sn=nn,tn.push(sn);for(let dn=1;dn<en;dn++)sn=sn.add(nn),tn.push(sn);nn=sn.double()}return tn},wNAF(a,c,u){const{windows:en,windowSize:tn}=o(a);let nn=n.ZERO,sn=n.BASE;const fn=BigInt(2**a-1),dn=2**a,hn=BigInt(a);for(let ln=0;ln<en;ln++){const pn=ln*tn;let $n=Number(u&fn);u>>=hn,$n>tn&&($n-=dn,u+=_1n$4);const Sn=pn,yn=pn+Math.abs($n)-1,In=ln%2!==0,An=$n<0;$n===0?sn=sn.add(t(In,c[Sn])):nn=nn.add(t(An,c[yn]))}return{p:nn,f:sn}},wNAFCached(a,c,u){const en=pointWindowSizes.get(a)||1;let tn=pointPrecomputes.get(a);return tn||(tn=this.precomputeWindow(a,en),en!==1&&pointPrecomputes.set(a,u(tn))),this.wNAF(en,tn,c)},setWindowSize(a,c){r(c),pointWindowSizes.set(a,c),pointPrecomputes.delete(a)}}}function validateBasic(n){return validateField(n.Fp),validateObject(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$1=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(n){const e=validateBasic(n);return validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function twistedEdwards(n){const e=validateOpts$1(n),{Fp:t,n:r,prehash:o,hash:a,randomBytes:c,nByteLength:u,h:en}=e,tn=_2n$2<<BigInt(u*8)-_1n$3,nn=t.create,sn=e.uvRatio||((_n,vn)=>{try{return{isValid:!0,value:t.sqrt(_n*t.inv(vn))}}catch{return{isValid:!1,value:_0n$1}}}),fn=e.adjustScalarBytes||(_n=>_n),dn=e.domain||((_n,vn,On)=>{if(abool("phflag",On),vn.length||On)throw new Error("Contexts/pre-hash are not supported");return _n});function hn(_n,vn){aInRange("coordinate "+_n,vn,_0n$1,tn)}function ln(_n){if(!(_n instanceof Sn))throw new Error("ExtendedPoint expected")}const pn=memoized((_n,vn)=>{const{ex:On,ey:Nn,ez:Un}=_n,zn=_n.is0();vn==null&&(vn=zn?_8n$1:t.inv(Un));const Bn=nn(On*vn),En=nn(Nn*vn),Mn=nn(Un*vn);if(zn)return{x:_0n$1,y:_1n$3};if(Mn!==_1n$3)throw new Error("invZ was invalid");return{x:Bn,y:En}}),$n=memoized(_n=>{const{a:vn,d:On}=e;if(_n.is0())throw new Error("bad point: ZERO");const{ex:Nn,ey:Un,ez:zn,et:Bn}=_n,En=nn(Nn*Nn),Mn=nn(Un*Un),Zn=nn(zn*zn),Sr=nn(Zn*Zn),$r=nn(En*vn),Xn=nn(Zn*nn($r+Mn)),br=nn(Sr+nn(On*nn(En*Mn)));if(Xn!==br)throw new Error("bad point: equation left != right (1)");const _r=nn(Nn*Un),kr=nn(zn*Bn);if(_r!==kr)throw new Error("bad point: equation left != right (2)");return!0});class Sn{constructor(vn,On,Nn,Un){this.ex=vn,this.ey=On,this.ez=Nn,this.et=Un,hn("x",vn),hn("y",On),hn("z",Nn),hn("t",Un),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(vn){if(vn instanceof Sn)throw new Error("extended point not allowed");const{x:On,y:Nn}=vn||{};return hn("x",On),hn("y",Nn),new Sn(On,Nn,_1n$3,nn(On*Nn))}static normalizeZ(vn){const On=t.invertBatch(vn.map(Nn=>Nn.ez));return vn.map((Nn,Un)=>Nn.toAffine(On[Un])).map(Sn.fromAffine)}_setWindowSize(vn){An.setWindowSize(this,vn)}assertValidity(){$n(this)}equals(vn){ln(vn);const{ex:On,ey:Nn,ez:Un}=this,{ex:zn,ey:Bn,ez:En}=vn,Mn=nn(On*En),Zn=nn(zn*Un),Sr=nn(Nn*En),$r=nn(Bn*Un);return Mn===Zn&&Sr===$r}is0(){return this.equals(Sn.ZERO)}negate(){return new Sn(nn(-this.ex),this.ey,this.ez,nn(-this.et))}double(){const{a:vn}=e,{ex:On,ey:Nn,ez:Un}=this,zn=nn(On*On),Bn=nn(Nn*Nn),En=nn(_2n$2*nn(Un*Un)),Mn=nn(vn*zn),Zn=On+Nn,Sr=nn(nn(Zn*Zn)-zn-Bn),$r=Mn+Bn,Xn=$r-En,br=Mn-Bn,_r=nn(Sr*Xn),kr=nn($r*br),Cr=nn(Sr*br),qn=nn(Xn*$r);return new Sn(_r,kr,qn,Cr)}add(vn){ln(vn);const{a:On,d:Nn}=e,{ex:Un,ey:zn,ez:Bn,et:En}=this,{ex:Mn,ey:Zn,ez:Sr,et:$r}=vn;if(On===BigInt(-1)){const Ar=nn((zn-Un)*(Zn+Mn)),Nr=nn((zn+Un)*(Zn-Mn)),vr=nn(Nr-Ar);if(vr===_0n$1)return this.double();const Hr=nn(Bn*_2n$2*$r),Dr=nn(En*_2n$2*Sr),jr=Dr+Hr,Vr=Nr+Ar,Yr=Dr-Hr,gn=nn(jr*vr),an=nn(Vr*Yr),cn=nn(jr*Yr),Rn=nn(vr*Vr);return new Sn(gn,an,Rn,cn)}const Xn=nn(Un*Mn),br=nn(zn*Zn),_r=nn(En*Nn*$r),kr=nn(Bn*Sr),Cr=nn((Un+zn)*(Mn+Zn)-Xn-br),qn=kr-_r,Jn=kr+_r,Qn=nn(br-On*Xn),Tr=nn(Cr*qn),Or=nn(Jn*Qn),Ir=nn(Cr*Qn),Kr=nn(qn*Jn);return new Sn(Tr,Or,Kr,Ir)}subtract(vn){return this.add(vn.negate())}wNAF(vn){return An.wNAFCached(this,vn,Sn.normalizeZ)}multiply(vn){const On=vn;aInRange("scalar",On,_1n$3,r);const{p:Nn,f:Un}=this.wNAF(On);return Sn.normalizeZ([Nn,Un])[0]}multiplyUnsafe(vn){const On=vn;return aInRange("scalar",On,_0n$1,r),On===_0n$1?In:this.equals(In)||On===_1n$3?this:this.equals(yn)?this.wNAF(On).p:An.unsafeLadder(this,On)}isSmallOrder(){return this.multiplyUnsafe(en).is0()}isTorsionFree(){return An.unsafeLadder(this,r).is0()}toAffine(vn){return pn(this,vn)}clearCofactor(){const{h:vn}=e;return vn===_1n$3?this:this.multiplyUnsafe(vn)}static fromHex(vn,On=!1){const{d:Nn,a:Un}=e,zn=t.BYTES;vn=ensureBytes("pointHex",vn,zn),abool("zip215",On);const Bn=vn.slice(),En=vn[zn-1];Bn[zn-1]=En&-129;const Mn=bytesToNumberLE(Bn),Zn=On?tn:t.ORDER;aInRange("pointHex.y",Mn,_0n$1,Zn);const Sr=nn(Mn*Mn),$r=nn(Sr-_1n$3),Xn=nn(Nn*Sr-Un);let{isValid:br,value:_r}=sn($r,Xn);if(!br)throw new Error("Point.fromHex: invalid y coordinate");const kr=(_r&_1n$3)===_1n$3,Cr=(En&128)!==0;if(!On&&_r===_0n$1&&Cr)throw new Error("Point.fromHex: x=0 and x_0=1");return Cr!==kr&&(_r=nn(-_r)),Sn.fromAffine({x:_r,y:Mn})}static fromPrivateKey(vn){return Pn(vn).point}toRawBytes(){const{x:vn,y:On}=this.toAffine(),Nn=numberToBytesLE(On,t.BYTES);return Nn[Nn.length-1]|=vn&_1n$3?128:0,Nn}toHex(){return bytesToHex(this.toRawBytes())}}Sn.BASE=new Sn(e.Gx,e.Gy,_1n$3,nn(e.Gx*e.Gy)),Sn.ZERO=new Sn(_0n$1,_1n$3,_1n$3,_0n$1);const{BASE:yn,ZERO:In}=Sn,An=wNAF(Sn,u*8);function Tn(_n){return mod(_n,r)}function kn(_n){return Tn(bytesToNumberLE(_n))}function Pn(_n){const vn=u;_n=ensureBytes("private key",_n,vn);const On=ensureBytes("hashed private key",a(_n),2*vn),Nn=fn(On.slice(0,vn)),Un=On.slice(vn,2*vn),zn=kn(Nn),Bn=yn.multiply(zn),En=Bn.toRawBytes();return{head:Nn,prefix:Un,scalar:zn,point:Bn,pointBytes:En}}function Dn(_n){return Pn(_n).pointBytes}function Kn(_n=new Uint8Array,...vn){const On=concatBytes(...vn);return kn(a(dn(On,ensureBytes("context",_n),!!o)))}function Hn(_n,vn,On={}){_n=ensureBytes("message",_n),o&&(_n=o(_n));const{prefix:Nn,scalar:Un,pointBytes:zn}=Pn(vn),Bn=Kn(On.context,Nn,_n),En=yn.multiply(Bn).toRawBytes(),Mn=Kn(On.context,En,zn,_n),Zn=Tn(Bn+Mn*Un);aInRange("signature.s",Zn,_0n$1,r);const Sr=concatBytes(En,numberToBytesLE(Zn,t.BYTES));return ensureBytes("result",Sr,u*2)}const jn=VERIFY_DEFAULT;function Cn(_n,vn,On,Nn=jn){const{context:Un,zip215:zn}=Nn,Bn=t.BYTES;_n=ensureBytes("signature",_n,2*Bn),vn=ensureBytes("message",vn),zn!==void 0&&abool("zip215",zn),o&&(vn=o(vn));const En=bytesToNumberLE(_n.slice(Bn,2*Bn));let Mn,Zn,Sr;try{Mn=Sn.fromHex(On,zn),Zn=Sn.fromHex(_n.slice(0,Bn),zn),Sr=yn.multiplyUnsafe(En)}catch{return!1}if(!zn&&Mn.isSmallOrder())return!1;const $r=Kn(Un,Zn.toRawBytes(),Mn.toRawBytes(),vn);return Zn.add(Mn.multiplyUnsafe($r)).subtract(Sr).clearCofactor().equals(Sn.ZERO)}return yn._setWindowSize(8),{CURVE:e,getPublicKey:Dn,sign:Hn,verify:Cn,ExtendedPoint:Sn,utils:{getExtendedPublicKey:Pn,randomPrivateKey:()=>c(t.BYTES),precompute(_n=8,vn=Sn.BASE){return vn._setWindowSize(_n),vn.multiply(BigInt(3)),vn}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$2=BigInt(1),_2n$1=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),o=BigInt(80),a=ED25519_P,u=n*n%a*n%a,en=pow2(u,_2n$1,a)*u%a,tn=pow2(en,_1n$2,a)*n%a,nn=pow2(tn,_5n,a)*tn%a,sn=pow2(nn,e,a)*nn%a,fn=pow2(sn,t,a)*sn%a,dn=pow2(fn,r,a)*fn%a,hn=pow2(dn,o,a)*dn%a,ln=pow2(hn,o,a)*dn%a,pn=pow2(ln,e,a)*nn%a;return{pow_p_5_8:pow2(pn,_2n$1,a)*n%a,b2:u}}function adjustScalarBytes(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function uvRatio(n,e){const t=ED25519_P,r=mod(e*e*e,t),o=mod(r*r*e,t),a=ed25519_pow_2_252_3(n*o).pow_p_5_8;let c=mod(n*r*a,t);const u=mod(e*c*c,t),en=c,tn=mod(c*ED25519_SQRT_M1,t),nn=u===n,sn=u===mod(-n,t),fn=u===mod(-n*ED25519_SQRT_M1,t);return nn&&(c=en),(sn||fn)&&(c=tn),isNegativeLE(c,t)&&(c=mod(-c,t)),{isValid:nn||sn,value:c}}const Fp$1=(()=>Field(ED25519_P,void 0,!0))(),ed25519Defaults=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Fp$1,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512,randomBytes,adjustScalarBytes,uvRatio}))(),ed25519=(()=>twistedEdwards(ed25519Defaults))(),SHA256_K=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(){super(64,32,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:e,B:t,C:r,D:o,E:a,F:c,G:u,H:en}=this;return[e,t,r,o,a,c,u,en]}set(e,t,r,o,a,c,u,en){this.A=e|0,this.B=t|0,this.C=r|0,this.D=o|0,this.E=a|0,this.F=c|0,this.G=u|0,this.H=en|0}process(e,t){for(let sn=0;sn<16;sn++,t+=4)SHA256_W[sn]=e.getUint32(t,!1);for(let sn=16;sn<64;sn++){const fn=SHA256_W[sn-15],dn=SHA256_W[sn-2],hn=rotr(fn,7)^rotr(fn,18)^fn>>>3,ln=rotr(dn,17)^rotr(dn,19)^dn>>>10;SHA256_W[sn]=ln+SHA256_W[sn-7]+hn+SHA256_W[sn-16]|0}let{A:r,B:o,C:a,D:c,E:u,F:en,G:tn,H:nn}=this;for(let sn=0;sn<64;sn++){const fn=rotr(u,6)^rotr(u,11)^rotr(u,25),dn=nn+fn+Chi(u,en,tn)+SHA256_K[sn]+SHA256_W[sn]|0,ln=(rotr(r,2)^rotr(r,13)^rotr(r,22))+Maj(r,o,a)|0;nn=tn,tn=en,en=u,u=c+dn|0,c=a,a=o,o=r,r=dn+ln|0}r=r+this.A|0,o=o+this.B|0,a=a+this.C|0,c=c+this.D|0,u=u+this.E|0,en=en+this.F|0,tn=tn+this.G|0,nn=nn+this.H|0,this.set(r,o,a,c,u,en,tn,nn)}roundClean(){SHA256_W.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const sha256$1=wrapConstructor(()=>new SHA256);class StructError$3 extends TypeError{constructor(e,t){let r;const{message:o,explanation:a,...c}=e,{path:u}=e,en=u.length===0?o:`At path: ${u.join(".")} -- ${o}`;super(a??en),a!=null&&(this.cause=en),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function isIterable$3(n){return isObject$5(n)&&typeof n[Symbol.iterator]=="function"}function isObject$5(n){return typeof n=="object"&&n!=null}function isNonArrayObject(n){return isObject$5(n)&&!Array.isArray(n)}function print$3(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function shiftIterator$3(n){const{done:e,value:t}=n.next();return e?void 0:t}function toFailure$3(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:a}=e,{type:c}=t,{refinement:u,message:en=`Expected a value of type \`${c}\`${u?` with refinement \`${u}\``:""}, but received: \`${print$3(r)}\``}=n;return{value:r,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...n,message:en}}function*toFailures$3(n,e,t,r){isIterable$3(n)||(n=[n]);for(const o of n){const a=toFailure$3(o,e,t,r);a&&(yield a)}}function*run$4(n,e,t={}){const{path:r=[],branch:o=[n],coerce:a=!1,mask:c=!1}=t,u={path:r,branch:o,mask:c};a&&(n=e.coercer(n,u));let en="valid";for(const tn of e.validator(n,u))tn.explanation=t.message,en="not_valid",yield[tn,void 0];for(let[tn,nn,sn]of e.entries(n,u)){const fn=run$4(nn,sn,{path:tn===void 0?r:[...r,tn],branch:tn===void 0?o:[...o,nn],coerce:a,mask:c,message:t.message});for(const dn of fn)dn[0]?(en=dn[0].refinement!=null?"not_refined":"not_valid",yield[dn[0],void 0]):a&&(nn=dn[1],tn===void 0?n=nn:n instanceof Map?n.set(tn,nn):n instanceof Set?n.add(nn):isObject$5(n)&&(nn!==void 0||tn in n)&&(n[tn]=nn))}if(en!=="not_valid")for(const tn of e.refiner(n,u))tn.explanation=t.message,en="not_refined",yield[tn,void 0];en==="valid"&&(yield[void 0,n])}class Struct$8{constructor(e){const{type:t,schema:r,validator:o,refiner:a,coercer:c=en=>en,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,o?this.validator=(en,tn)=>{const nn=o(en,tn);return toFailures$3(nn,tn,this,en)}:this.validator=()=>[],a?this.refiner=(en,tn)=>{const nn=a(en,tn);return toFailures$3(nn,tn,this,en)}:this.refiner=()=>[]}assert(e,t){return assert$d(e,this,t)}create(e,t){return create$3(e,this,t)}is(e){return is$3(e,this)}mask(e,t){return mask$3(e,this,t)}validate(e,t={}){return validate$3(e,this,t)}}function assert$d(n,e,t){const r=validate$3(n,e,{message:t});if(r[0])throw r[0]}function create$3(n,e,t){const r=validate$3(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function mask$3(n,e,t){const r=validate$3(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function is$3(n,e){return!validate$3(n,e)[0]}function validate$3(n,e,t={}){const r=run$4(n,e,t),o=shiftIterator$3(r);if(o[0])return[new StructError$3(o[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$8(n,e){return new Struct$8({type:n,schema:null,validator:e})}function any$3(){return define$8("any",()=>!0)}function array$4(n){return new Struct$8({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${print$3(e)}`}})}function boolean$3(){return define$8("boolean",n=>typeof n=="boolean")}function instance$3(n){return define$8("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${print$3(e)}`)}function literal$3(n){const e=print$3(n),t=typeof n;return new Struct$8({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${print$3(r)}`}})}function never$3(){return define$8("never",()=>!1)}function nullable$3(n){return new Struct$8({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function number$3(){return define$8("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${print$3(n)}`)}function optional$3(n){return new Struct$8({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function record$3(n,e){return new Struct$8({type:"record",schema:null,*entries(t){if(isObject$5(t))for(const r in t){const o=t[r];yield[r,r,n],yield[r,o,e]}},validator(t){return isNonArrayObject(t)||`Expected an object, but received: ${print$3(t)}`},coercer(t){return isNonArrayObject(t)?{...t}:t}})}function string$4(){return define$8("string",n=>typeof n=="string"||`Expected a string, but received: ${print$3(n)}`)}function tuple$4(n){const e=never$3();return new Struct$8({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let o=0;o<r;o++)yield[o,t[o],n[o]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${print$3(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function type$3(n){const e=Object.keys(n);return new Struct$8({type:"type",schema:n,*entries(t){if(isObject$5(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return isNonArrayObject(t)||`Expected an object, but received: ${print$3(t)}`},coercer(t){return isNonArrayObject(t)?{...t}:t}})}function union$3(n){const e=n.map(t=>t.type).join(" | ");return new Struct$8({type:"union",schema:null,coercer(t,r){for(const o of n){const[a,c]=o.validate(t,{coerce:!0,mask:r.mask});if(!a)return c}return t},validator(t,r){const o=[];for(const a of n){const[...c]=run$4(t,a,r),[u]=c;if(u[0])for(const[en]of c)en&&o.push(en);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${print$3(t)}`,...o]}})}function unknown$3(){return define$8("unknown",()=>!0)}function coerce$3(n,e,t){return new Struct$8({...n,coercer:(r,o)=>is$3(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}class HMAC extends Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,hash(e);const r=toBytes(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(r.length>o?e.create().update(r).digest():r);for(let c=0;c<a.length;c++)a[c]^=54;this.iHash.update(a),this.oHash=e.create();for(let c=0;c<a.length;c++)a[c]^=106;this.oHash.update(a),a.fill(0)}update(e){return exists(this),this.iHash.update(e),this}digestInto(e){exists(this),bytes$1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:o,destroyed:a,blockLen:c,outputLen:u}=this;return e=e,e.finished=o,e.destroyed=a,e.blockLen=c,e.outputLen=u,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(n,e,t)=>new HMAC(n,e).update(t).digest();hmac.create=(n,e)=>new HMAC(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(n){n.lowS!==void 0&&abool("lowS",n.lowS),n.prehash!==void 0&&abool("prehash",n.prehash)}function validatePointOpts(n){const e=validateBasic(n);validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:o}=e;if(t){if(!r.eql(o,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:b2n,hexToBytes:h2b}=ut$1,DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=DER;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:b2n(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=DER,t=typeof n=="string"?h2b(n):n;abytes(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:o,l:a}=DER._parseInt(t.subarray(2)),{d:c,l:u}=DER._parseInt(a);if(u.length)throw new e("Invalid signature: left bytes after parsing");return{r:o,s:c}},hexFromSig(n){const e=tn=>Number.parseInt(tn[0],16)&8?"00"+tn:tn,t=tn=>{const nn=tn.toString(16);return nn.length&1?`0${nn}`:nn},r=e(t(n.s)),o=e(t(n.r)),a=r.length/2,c=o.length/2,u=t(a),en=t(c);return`30${t(c+a+4)}02${en}${o}02${u}${r}`}},_0n=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3);BigInt(4);function weierstrassPoints(n){const e=validatePointOpts(n),{Fp:t}=e,r=e.toBytes||((hn,ln,pn)=>{const $n=ln.toAffine();return concatBytes(Uint8Array.from([4]),t.toBytes($n.x),t.toBytes($n.y))}),o=e.fromBytes||(hn=>{const ln=hn.subarray(1),pn=t.fromBytes(ln.subarray(0,t.BYTES)),$n=t.fromBytes(ln.subarray(t.BYTES,2*t.BYTES));return{x:pn,y:$n}});function a(hn){const{a:ln,b:pn}=e,$n=t.sqr(hn),Sn=t.mul($n,hn);return t.add(t.add(Sn,t.mul(hn,ln)),pn)}if(!t.eql(t.sqr(e.Gy),a(e.Gx)))throw new Error("bad generator point: equation left != right");function c(hn){return inRange(hn,_1n$1,e.n)}function u(hn){const{allowedPrivateKeyLengths:ln,nByteLength:pn,wrapPrivateKey:$n,n:Sn}=e;if(ln&&typeof hn!="bigint"){if(isBytes(hn)&&(hn=bytesToHex(hn)),typeof hn!="string"||!ln.includes(hn.length))throw new Error("Invalid key");hn=hn.padStart(pn*2,"0")}let yn;try{yn=typeof hn=="bigint"?hn:bytesToNumberBE(ensureBytes("private key",hn,pn))}catch{throw new Error(`private key must be ${pn} bytes, hex or bigint, not ${typeof hn}`)}return $n&&(yn=mod(yn,Sn)),aInRange("private key",yn,_1n$1,Sn),yn}function en(hn){if(!(hn instanceof sn))throw new Error("ProjectivePoint expected")}const tn=memoized((hn,ln)=>{const{px:pn,py:$n,pz:Sn}=hn;if(t.eql(Sn,t.ONE))return{x:pn,y:$n};const yn=hn.is0();ln==null&&(ln=yn?t.ONE:t.inv(Sn));const In=t.mul(pn,ln),An=t.mul($n,ln),Tn=t.mul(Sn,ln);if(yn)return{x:t.ZERO,y:t.ZERO};if(!t.eql(Tn,t.ONE))throw new Error("invZ was invalid");return{x:In,y:An}}),nn=memoized(hn=>{if(hn.is0()){if(e.allowInfinityPoint&&!t.is0(hn.py))return;throw new Error("bad point: ZERO")}const{x:ln,y:pn}=hn.toAffine();if(!t.isValid(ln)||!t.isValid(pn))throw new Error("bad point: x or y not FE");const $n=t.sqr(pn),Sn=a(ln);if(!t.eql($n,Sn))throw new Error("bad point: equation left != right");if(!hn.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class sn{constructor(ln,pn,$n){if(this.px=ln,this.py=pn,this.pz=$n,ln==null||!t.isValid(ln))throw new Error("x required");if(pn==null||!t.isValid(pn))throw new Error("y required");if($n==null||!t.isValid($n))throw new Error("z required");Object.freeze(this)}static fromAffine(ln){const{x:pn,y:$n}=ln||{};if(!ln||!t.isValid(pn)||!t.isValid($n))throw new Error("invalid affine point");if(ln instanceof sn)throw new Error("projective point not allowed");const Sn=yn=>t.eql(yn,t.ZERO);return Sn(pn)&&Sn($n)?sn.ZERO:new sn(pn,$n,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(ln){const pn=t.invertBatch(ln.map($n=>$n.pz));return ln.map(($n,Sn)=>$n.toAffine(pn[Sn])).map(sn.fromAffine)}static fromHex(ln){const pn=sn.fromAffine(o(ensureBytes("pointHex",ln)));return pn.assertValidity(),pn}static fromPrivateKey(ln){return sn.BASE.multiply(u(ln))}_setWindowSize(ln){dn.setWindowSize(this,ln)}assertValidity(){nn(this)}hasEvenY(){const{y:ln}=this.toAffine();if(t.isOdd)return!t.isOdd(ln);throw new Error("Field doesn't support isOdd")}equals(ln){en(ln);const{px:pn,py:$n,pz:Sn}=this,{px:yn,py:In,pz:An}=ln,Tn=t.eql(t.mul(pn,An),t.mul(yn,Sn)),kn=t.eql(t.mul($n,An),t.mul(In,Sn));return Tn&&kn}negate(){return new sn(this.px,t.neg(this.py),this.pz)}double(){const{a:ln,b:pn}=e,$n=t.mul(pn,_3n),{px:Sn,py:yn,pz:In}=this;let An=t.ZERO,Tn=t.ZERO,kn=t.ZERO,Pn=t.mul(Sn,Sn),Dn=t.mul(yn,yn),Kn=t.mul(In,In),Hn=t.mul(Sn,yn);return Hn=t.add(Hn,Hn),kn=t.mul(Sn,In),kn=t.add(kn,kn),An=t.mul(ln,kn),Tn=t.mul($n,Kn),Tn=t.add(An,Tn),An=t.sub(Dn,Tn),Tn=t.add(Dn,Tn),Tn=t.mul(An,Tn),An=t.mul(Hn,An),kn=t.mul($n,kn),Kn=t.mul(ln,Kn),Hn=t.sub(Pn,Kn),Hn=t.mul(ln,Hn),Hn=t.add(Hn,kn),kn=t.add(Pn,Pn),Pn=t.add(kn,Pn),Pn=t.add(Pn,Kn),Pn=t.mul(Pn,Hn),Tn=t.add(Tn,Pn),Kn=t.mul(yn,In),Kn=t.add(Kn,Kn),Pn=t.mul(Kn,Hn),An=t.sub(An,Pn),kn=t.mul(Kn,Dn),kn=t.add(kn,kn),kn=t.add(kn,kn),new sn(An,Tn,kn)}add(ln){en(ln);const{px:pn,py:$n,pz:Sn}=this,{px:yn,py:In,pz:An}=ln;let Tn=t.ZERO,kn=t.ZERO,Pn=t.ZERO;const Dn=e.a,Kn=t.mul(e.b,_3n);let Hn=t.mul(pn,yn),jn=t.mul($n,In),Cn=t.mul(Sn,An),mn=t.add(pn,$n),_n=t.add(yn,In);mn=t.mul(mn,_n),_n=t.add(Hn,jn),mn=t.sub(mn,_n),_n=t.add(pn,Sn);let vn=t.add(yn,An);return _n=t.mul(_n,vn),vn=t.add(Hn,Cn),_n=t.sub(_n,vn),vn=t.add($n,Sn),Tn=t.add(In,An),vn=t.mul(vn,Tn),Tn=t.add(jn,Cn),vn=t.sub(vn,Tn),Pn=t.mul(Dn,_n),Tn=t.mul(Kn,Cn),Pn=t.add(Tn,Pn),Tn=t.sub(jn,Pn),Pn=t.add(jn,Pn),kn=t.mul(Tn,Pn),jn=t.add(Hn,Hn),jn=t.add(jn,Hn),Cn=t.mul(Dn,Cn),_n=t.mul(Kn,_n),jn=t.add(jn,Cn),Cn=t.sub(Hn,Cn),Cn=t.mul(Dn,Cn),_n=t.add(_n,Cn),Hn=t.mul(jn,_n),kn=t.add(kn,Hn),Hn=t.mul(vn,_n),Tn=t.mul(mn,Tn),Tn=t.sub(Tn,Hn),Hn=t.mul(mn,jn),Pn=t.mul(vn,Pn),Pn=t.add(Pn,Hn),new sn(Tn,kn,Pn)}subtract(ln){return this.add(ln.negate())}is0(){return this.equals(sn.ZERO)}wNAF(ln){return dn.wNAFCached(this,ln,sn.normalizeZ)}multiplyUnsafe(ln){aInRange("scalar",ln,_0n,e.n);const pn=sn.ZERO;if(ln===_0n)return pn;if(ln===_1n$1)return this;const{endo:$n}=e;if(!$n)return dn.unsafeLadder(this,ln);let{k1neg:Sn,k1:yn,k2neg:In,k2:An}=$n.splitScalar(ln),Tn=pn,kn=pn,Pn=this;for(;yn>_0n||An>_0n;)yn&_1n$1&&(Tn=Tn.add(Pn)),An&_1n$1&&(kn=kn.add(Pn)),Pn=Pn.double(),yn>>=_1n$1,An>>=_1n$1;return Sn&&(Tn=Tn.negate()),In&&(kn=kn.negate()),kn=new sn(t.mul(kn.px,$n.beta),kn.py,kn.pz),Tn.add(kn)}multiply(ln){const{endo:pn,n:$n}=e;aInRange("scalar",ln,_1n$1,$n);let Sn,yn;if(pn){const{k1neg:In,k1:An,k2neg:Tn,k2:kn}=pn.splitScalar(ln);let{p:Pn,f:Dn}=this.wNAF(An),{p:Kn,f:Hn}=this.wNAF(kn);Pn=dn.constTimeNegate(In,Pn),Kn=dn.constTimeNegate(Tn,Kn),Kn=new sn(t.mul(Kn.px,pn.beta),Kn.py,Kn.pz),Sn=Pn.add(Kn),yn=Dn.add(Hn)}else{const{p:In,f:An}=this.wNAF(ln);Sn=In,yn=An}return sn.normalizeZ([Sn,yn])[0]}multiplyAndAddUnsafe(ln,pn,$n){const Sn=sn.BASE,yn=(An,Tn)=>Tn===_0n||Tn===_1n$1||!An.equals(Sn)?An.multiplyUnsafe(Tn):An.multiply(Tn),In=yn(this,pn).add(yn(ln,$n));return In.is0()?void 0:In}toAffine(ln){return tn(this,ln)}isTorsionFree(){const{h:ln,isTorsionFree:pn}=e;if(ln===_1n$1)return!0;if(pn)return pn(sn,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:ln,clearCofactor:pn}=e;return ln===_1n$1?this:pn?pn(sn,this):this.multiplyUnsafe(e.h)}toRawBytes(ln=!0){return abool("isCompressed",ln),this.assertValidity(),r(sn,this,ln)}toHex(ln=!0){return abool("isCompressed",ln),bytesToHex(this.toRawBytes(ln))}}sn.BASE=new sn(e.Gx,e.Gy,t.ONE),sn.ZERO=new sn(t.ZERO,t.ONE,t.ZERO);const fn=e.nBitLength,dn=wNAF(sn,e.endo?Math.ceil(fn/2):fn);return{CURVE:e,ProjectivePoint:sn,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:c}}function validateOpts(n){const e=validateBasic(n);return validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function weierstrass(n){const e=validateOpts(n),{Fp:t,n:r}=e,o=t.BYTES+1,a=2*t.BYTES+1;function c(mn){return mod(mn,r)}function u(mn){return invert(mn,r)}const{ProjectivePoint:en,normPrivateKeyToScalar:tn,weierstrassEquation:nn,isWithinCurveOrder:sn}=weierstrassPoints({...e,toBytes(mn,_n,vn){const On=_n.toAffine(),Nn=t.toBytes(On.x),Un=concatBytes;return abool("isCompressed",vn),vn?Un(Uint8Array.from([_n.hasEvenY()?2:3]),Nn):Un(Uint8Array.from([4]),Nn,t.toBytes(On.y))},fromBytes(mn){const _n=mn.length,vn=mn[0],On=mn.subarray(1);if(_n===o&&(vn===2||vn===3)){const Nn=bytesToNumberBE(On);if(!inRange(Nn,_1n$1,t.ORDER))throw new Error("Point is not on curve");const Un=nn(Nn);let zn;try{zn=t.sqrt(Un)}catch(Mn){const Zn=Mn instanceof Error?": "+Mn.message:"";throw new Error("Point is not on curve"+Zn)}const Bn=(zn&_1n$1)===_1n$1;return(vn&1)===1!==Bn&&(zn=t.neg(zn)),{x:Nn,y:zn}}else if(_n===a&&vn===4){const Nn=t.fromBytes(On.subarray(0,t.BYTES)),Un=t.fromBytes(On.subarray(t.BYTES,2*t.BYTES));return{x:Nn,y:Un}}else throw new Error(`Point of length ${_n} was invalid. Expected ${o} compressed bytes or ${a} uncompressed bytes`)}}),fn=mn=>bytesToHex(numberToBytesBE(mn,e.nByteLength));function dn(mn){const _n=r>>_1n$1;return mn>_n}function hn(mn){return dn(mn)?c(-mn):mn}const ln=(mn,_n,vn)=>bytesToNumberBE(mn.slice(_n,vn));class pn{constructor(_n,vn,On){this.r=_n,this.s=vn,this.recovery=On,this.assertValidity()}static fromCompact(_n){const vn=e.nByteLength;return _n=ensureBytes("compactSignature",_n,vn*2),new pn(ln(_n,0,vn),ln(_n,vn,2*vn))}static fromDER(_n){const{r:vn,s:On}=DER.toSig(ensureBytes("DER",_n));return new pn(vn,On)}assertValidity(){aInRange("r",this.r,_1n$1,r),aInRange("s",this.s,_1n$1,r)}addRecoveryBit(_n){return new pn(this.r,this.s,_n)}recoverPublicKey(_n){const{r:vn,s:On,recovery:Nn}=this,Un=Tn(ensureBytes("msgHash",_n));if(Nn==null||![0,1,2,3].includes(Nn))throw new Error("recovery id invalid");const zn=Nn===2||Nn===3?vn+e.n:vn;if(zn>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const Bn=(Nn&1)===0?"02":"03",En=en.fromHex(Bn+fn(zn)),Mn=u(zn),Zn=c(-Un*Mn),Sr=c(On*Mn),$r=en.BASE.multiplyAndAddUnsafe(En,Zn,Sr);if(!$r)throw new Error("point at infinify");return $r.assertValidity(),$r}hasHighS(){return dn(this.s)}normalizeS(){return this.hasHighS()?new pn(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){return fn(this.r)+fn(this.s)}}const $n={isValidPrivateKey(mn){try{return tn(mn),!0}catch{return!1}},normPrivateKeyToScalar:tn,randomPrivateKey:()=>{const mn=getMinHashLength(e.n);return mapHashToField(e.randomBytes(mn),e.n)},precompute(mn=8,_n=en.BASE){return _n._setWindowSize(mn),_n.multiply(BigInt(3)),_n}};function Sn(mn,_n=!0){return en.fromPrivateKey(mn).toRawBytes(_n)}function yn(mn){const _n=isBytes(mn),vn=typeof mn=="string",On=(_n||vn)&&mn.length;return _n?On===o||On===a:vn?On===2*o||On===2*a:mn instanceof en}function In(mn,_n,vn=!0){if(yn(mn))throw new Error("first arg must be private key");if(!yn(_n))throw new Error("second arg must be public key");return en.fromHex(_n).multiply(tn(mn)).toRawBytes(vn)}const An=e.bits2int||function(mn){const _n=bytesToNumberBE(mn),vn=mn.length*8-e.nBitLength;return vn>0?_n>>BigInt(vn):_n},Tn=e.bits2int_modN||function(mn){return c(An(mn))},kn=bitMask(e.nBitLength);function Pn(mn){return aInRange(`num < 2^${e.nBitLength}`,mn,_0n,kn),numberToBytesBE(mn,e.nByteLength)}function Dn(mn,_n,vn=Kn){if(["recovered","canonical"].some(br=>br in vn))throw new Error("sign() legacy options not supported");const{hash:On,randomBytes:Nn}=e;let{lowS:Un,prehash:zn,extraEntropy:Bn}=vn;Un==null&&(Un=!0),mn=ensureBytes("msgHash",mn),validateSigVerOpts(vn),zn&&(mn=ensureBytes("prehashed msgHash",On(mn)));const En=Tn(mn),Mn=tn(_n),Zn=[Pn(Mn),Pn(En)];if(Bn!=null&&Bn!==!1){const br=Bn===!0?Nn(t.BYTES):Bn;Zn.push(ensureBytes("extraEntropy",br))}const Sr=concatBytes(...Zn),$r=En;function Xn(br){const _r=An(br);if(!sn(_r))return;const kr=u(_r),Cr=en.BASE.multiply(_r).toAffine(),qn=c(Cr.x);if(qn===_0n)return;const Jn=c(kr*c($r+qn*Mn));if(Jn===_0n)return;let Qn=(Cr.x===qn?0:2)|Number(Cr.y&_1n$1),Tr=Jn;return Un&&dn(Jn)&&(Tr=hn(Jn),Qn^=1),new pn(qn,Tr,Qn)}return{seed:Sr,k2sig:Xn}}const Kn={lowS:e.lowS,prehash:!1},Hn={lowS:e.lowS,prehash:!1};function jn(mn,_n,vn=Kn){const{seed:On,k2sig:Nn}=Dn(mn,_n,vn),Un=e;return createHmacDrbg(Un.hash.outputLen,Un.nByteLength,Un.hmac)(On,Nn)}en.BASE._setWindowSize(8);function Cn(mn,_n,vn,On=Hn){var Cr;const Nn=mn;if(_n=ensureBytes("msgHash",_n),vn=ensureBytes("publicKey",vn),"strict"in On)throw new Error("options.strict was renamed to lowS");validateSigVerOpts(On);const{lowS:Un,prehash:zn}=On;let Bn,En;try{if(typeof Nn=="string"||isBytes(Nn))try{Bn=pn.fromDER(Nn)}catch(qn){if(!(qn instanceof DER.Err))throw qn;Bn=pn.fromCompact(Nn)}else if(typeof Nn=="object"&&typeof Nn.r=="bigint"&&typeof Nn.s=="bigint"){const{r:qn,s:Jn}=Nn;Bn=new pn(qn,Jn)}else throw new Error("PARSE");En=en.fromHex(vn)}catch(qn){if(qn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Un&&Bn.hasHighS())return!1;zn&&(_n=e.hash(_n));const{r:Mn,s:Zn}=Bn,Sr=Tn(_n),$r=u(Zn),Xn=c(Sr*$r),br=c(Mn*$r),_r=(Cr=en.BASE.multiplyAndAddUnsafe(En,Xn,br))==null?void 0:Cr.toAffine();return _r?c(_r.x)===Mn:!1}return{CURVE:e,getPublicKey:Sn,getSharedSecret:In,sign:jn,verify:Cn,ProjectivePoint:en,Signature:pn,utils:$n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(n){return{hash:n,hmac:(e,...t)=>hmac(n,e,concatBytes$1(...t)),randomBytes}}function createCurve(n,e){const t=r=>weierstrass({...n,...getHash(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_1n=BigInt(1),_2n=BigInt(2),divNearest=(n,e)=>(n+e/_2n)/e;function sqrtMod(n){const e=secp256k1P,t=BigInt(3),r=BigInt(6),o=BigInt(11),a=BigInt(22),c=BigInt(23),u=BigInt(44),en=BigInt(88),tn=n*n*n%e,nn=tn*tn*n%e,sn=pow2(nn,t,e)*nn%e,fn=pow2(sn,t,e)*nn%e,dn=pow2(fn,_2n,e)*tn%e,hn=pow2(dn,o,e)*dn%e,ln=pow2(hn,a,e)*hn%e,pn=pow2(ln,u,e)*ln%e,$n=pow2(pn,en,e)*pn%e,Sn=pow2($n,u,e)*ln%e,yn=pow2(Sn,t,e)*nn%e,In=pow2(yn,c,e)*hn%e,An=pow2(In,r,e)*tn%e,Tn=pow2(An,_2n,e);if(!Fp.eql(Fp.sqr(Tn),n))throw new Error("Cannot find square root");return Tn}const Fp=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:BigInt(0),b:BigInt(7),Fp,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=secp256k1N,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=t,c=BigInt("0x100000000000000000000000000000000"),u=divNearest(a*n,e),en=divNearest(-r*n,e);let tn=mod(n-u*t-en*o,e),nn=mod(-u*r-en*a,e);const sn=tn>c,fn=nn>c;if(sn&&(tn=e-tn),fn&&(nn=e-nn),tn>c||nn>c)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:sn,k1:tn,k2neg:fn,k2:nn}}}},sha256$1);BigInt(0);secp256k1.ProjectivePoint;ed25519.utils.randomPrivateKey;ed25519.getPublicKey;function isOnCurve$4(n){try{return ed25519.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sign$4=(n,e)=>ed25519.sign(n,e.slice(0,32)),verify$4=ed25519.verify,toBuffer$4=n=>bufferPolyfill.Buffer.isBuffer(n)?n:n instanceof Uint8Array?bufferPolyfill.Buffer.from(n.buffer,n.byteOffset,n.byteLength):bufferPolyfill.Buffer.from(n);class Struct$7{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$4,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$4,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$4,this,e)}}const SOLANA_SCHEMA$4=new Map;var _PublicKey;const MAX_SEED_LENGTH$4=32,PUBLIC_KEY_LENGTH$4=32;function isPublicKeyData$4(n){return n._bn!==void 0}let uniquePublicKeyCounter$4=1;class PublicKey$4 extends Struct$7{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$4(e))this._bn=e._bn;else{if(typeof e=="string"){const t=bs58$3.decode(e);if(t.length!=PUBLIC_KEY_LENGTH$4)throw new Error("Invalid public key input");this._bn=new BN(t)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$4)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$4(uniquePublicKeyCounter$4);return uniquePublicKeyCounter$4+=1,new PublicKey$4(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$4)return e;const t=bufferPolyfill.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(t),r.toBuffer()]),a=sha256$1(o);return new PublicKey$4(a)}static createProgramAddressSync(e,t){let r=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$4)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,toBuffer$4(a)])}),r=bufferPolyfill.Buffer.concat([r,t.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$1(r);if(isOnCurve$4(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$4(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([r]));o=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new PublicKey$4(e);return isOnCurve$4(t.toBytes())}}_PublicKey=PublicKey$4;PublicKey$4.default=new _PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA$4.set(PublicKey$4,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey$4("BPFLoader1111111111111111111111111111111111");const PACKET_DATA_SIZE$4=1280-40-8,VERSION_PREFIX_MASK$4=127,SIGNATURE_LENGTH_IN_BYTES$4=64;class MessageAccountKeys$4{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((a,c)=>{r.set(a.toBase58(),c)});const o=a=>{const c=r.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$5=(n="publicKey")=>blob$2(32,n),rustString$4=(n="string")=>{const e=struct$3([u32$3("length"),u32$3("lengthPadding"),blob$2(offset$1(u32$3(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(a,c)=>t(a,c).chars.toString(),o.encode=(a,c,u)=>{const en={chars:bufferPolyfill.Buffer.from(a,"utf8")};return r(en,c,u)},o.alloc=a=>u32$3().span+u32$3().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$4=(n="authorized")=>struct$3([publicKey$5("staker"),publicKey$5("withdrawer")],n),lockup$4=(n="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$5("custodian")],n),voteInit$4=(n="voteInit")=>struct$3([publicKey$5("nodePubkey"),publicKey$5("authorizedVoter"),publicKey$5("authorizedWithdrawer"),u8$2("commission")],n),voteAuthorizeWithSeedArgs$4=(n="voteAuthorizeWithSeedArgs")=>struct$3([u32$3("voteAuthorizationType"),publicKey$5("currentAuthorityDerivedKeyOwnerPubkey"),rustString$4("currentAuthorityDerivedKeySeed"),publicKey$5("newAuthorized")],n);function getAlloc$4(n,e){const t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*t(o.elementLayout)}else if("fields"in o)return getAlloc$4({layout:o},e[o.property]);return 0};let r=0;return n.layout.fields.forEach(o=>{r+=t(o)}),r}function decodeLength$4(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function encodeLength$4(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function assert$c(n,e){if(!n)throw new Error(e||"Assertion failed")}class CompiledKeys$5{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,o=c=>{const u=c.toBase58();let en=r.get(u);return en===void 0&&(en={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,en)),en},a=o(t);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const en=o(u.pubkey);en.isSigner||=u.isSigner,en.isWritable||=u.isWritable}}return new CompiledKeys$5(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$c(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,en])=>en.isSigner&&en.isWritable),r=e.filter(([,en])=>en.isSigner&&!en.isWritable),o=e.filter(([,en])=>!en.isSigner&&en.isWritable),a=e.filter(([,en])=>!en.isSigner&&!en.isWritable),c={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};{assert$c(t.length>0,"Expected at least one writable signer key");const[en]=t[0];assert$c(en===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([en])=>new PublicKey$4(en)),...r.map(([en])=>new PublicKey$4(en)),...o.map(([en])=>new PublicKey$4(en)),...a.map(([en])=>new PublicKey$4(en))];return[c,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:a}]}drainKeysFoundInLookupTable(e,t){const r=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(t(c)){const u=new PublicKey$4(a),en=e.findIndex(tn=>tn.equals(u));en>=0&&(assert$c(en<256,"Max lookup table index exceeded"),r.push(en),o.push(u),this.keyMetaMap.delete(a))}return[r,o]}}const END_OF_BUFFER_ERROR_MESSAGE="Reached end of buffer unexpectedly";function guardedShift(n){if(n.length===0)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return n.shift()}function guardedSplice(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return n.splice(...e)}class Message$4{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new PublicKey$4(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys$4(this.staticAccountKeys)}static compile(e){const t=CompiledKeys$5.compile(e.instructions,e.payerKey),[r,o]=t.getMessageComponents(),c=new MessageAccountKeys$4(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message$4({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<a}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];encodeLength$4(t,e);const r=this.instructions.map(sn=>{const{accounts:fn,programIdIndex:dn}=sn,hn=Array.from(bs58$3.decode(sn.data));let ln=[];encodeLength$4(ln,fn.length);let pn=[];return encodeLength$4(pn,hn.length),{programIdIndex:dn,keyIndicesCount:bufferPolyfill.Buffer.from(ln),keyIndices:fn,dataLength:bufferPolyfill.Buffer.from(pn),data:hn}});let o=[];encodeLength$4(o,r.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE$4);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;r.forEach(sn=>{c+=struct$3([u8$2("programIdIndex"),blob$2(sn.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),sn.keyIndices.length,"keyIndices"),blob$2(sn.dataLength.length,"dataLength"),seq(u8$2("userdatum"),sn.data.length,"data")]).encode(sn,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(t.length,"keyCount"),seq(publicKey$5("key"),e,"keys"),publicKey$5("recentBlockhash")]),en={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(t),keys:this.accountKeys.map(sn=>toBuffer$4(sn.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let tn=bufferPolyfill.Buffer.alloc(2048);const nn=u.encode(en,tn);return a.copy(tn,nn),tn.slice(0,nn+a.length)}static from(e){let t=[...e];const r=guardedShift(t);if(r!==(r&VERSION_PREFIX_MASK$4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=guardedShift(t),a=guardedShift(t),c=decodeLength$4(t);let u=[];for(let fn=0;fn<c;fn++){const dn=guardedSplice(t,0,PUBLIC_KEY_LENGTH$4);u.push(new PublicKey$4(bufferPolyfill.Buffer.from(dn)))}const en=guardedSplice(t,0,PUBLIC_KEY_LENGTH$4),tn=decodeLength$4(t);let nn=[];for(let fn=0;fn<tn;fn++){const dn=guardedShift(t),hn=decodeLength$4(t),ln=guardedSplice(t,0,hn),pn=decodeLength$4(t),$n=guardedSplice(t,0,pn),Sn=bs58$3.encode(bufferPolyfill.Buffer.from($n));nn.push({programIdIndex:dn,accounts:ln,data:Sn})}const sn={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(en)),accountKeys:u,instructions:nn};return new Message$4(sn)}}class MessageV0$3{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys$4(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const o=e-r,a=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<a}else if(e>=this.header.numRequiredSignatures){const o=e-t,c=r-t-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=e.find(a=>a.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const a of r.writableIndexes)if(a<o.state.addresses.length)t.writable.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`);for(const a of r.readonlyIndexes)if(a<o.state.addresses.length)t.readonly.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=CompiledKeys$5.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const nn of a){const sn=t.extractTableLookup(nn);if(sn!==void 0){const[fn,{writable:dn,readonly:hn}]=sn;r.push(fn),o.writable.push(...dn),o.readonly.push(...hn)}}const[c,u]=t.getMessageComponents(),tn=new MessageAccountKeys$4(u,o).compileInstructions(e.instructions);return new MessageV0$3({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:tn,addressTableLookups:r})}serialize(){const e=Array();encodeLength$4(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();encodeLength$4(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),a=Array();encodeLength$4(a,this.addressTableLookups.length);const c=struct$3([u8$2("prefix"),struct$3([u8$2("numRequiredSignatures"),u8$2("numReadonlySignedAccounts"),u8$2("numReadonlyUnsignedAccounts")],"header"),blob$2(e.length,"staticAccountKeysLength"),seq(publicKey$5(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$5("recentBlockhash"),blob$2(r.length,"instructionsLength"),blob$2(t.length,"serializedInstructions"),blob$2(a.length,"addressTableLookupsLength"),blob$2(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(PACKET_DATA_SIZE$4),en=1<<7,tn=c.encode({prefix:en,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(nn=>nn.toBytes()),recentBlockhash:bs58$3.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:o},u);return u.slice(0,tn)}serializeInstructions(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$4);for(const r of this.compiledInstructions){const o=Array();encodeLength$4(o,r.accountKeyIndexes.length);const a=Array();encodeLength$4(a,r.data.length),e+=struct$3([u8$2("programIdIndex"),blob$2(o.length,"encodedAccountKeyIndexesLength"),seq(u8$2(),r.accountKeyIndexes.length,"accountKeyIndexes"),blob$2(a.length,"encodedDataLength"),blob$2(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$4);for(const r of this.addressTableLookups){const o=Array();encodeLength$4(o,r.writableIndexes.length);const a=Array();encodeLength$4(a,r.readonlyIndexes.length),e+=struct$3([publicKey$5("accountKey"),blob$2(o.length,"encodedWritableIndexesLength"),seq(u8$2(),r.writableIndexes.length,"writableIndexes"),blob$2(a.length,"encodedReadonlyIndexesLength"),seq(u8$2(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=guardedShift(t),o=r&VERSION_PREFIX_MASK$4;assert$c(r!==o,"Expected versioned message but received legacy message");const a=o;assert$c(a===0,`Expected versioned message with version 0 but found version ${a}`);const c={numRequiredSignatures:guardedShift(t),numReadonlySignedAccounts:guardedShift(t),numReadonlyUnsignedAccounts:guardedShift(t)},u=[],en=decodeLength$4(t);for(let hn=0;hn<en;hn++)u.push(new PublicKey$4(guardedSplice(t,0,PUBLIC_KEY_LENGTH$4)));const tn=bs58$3.encode(guardedSplice(t,0,PUBLIC_KEY_LENGTH$4)),nn=decodeLength$4(t),sn=[];for(let hn=0;hn<nn;hn++){const ln=guardedShift(t),pn=decodeLength$4(t),$n=guardedSplice(t,0,pn),Sn=decodeLength$4(t),yn=new Uint8Array(guardedSplice(t,0,Sn));sn.push({programIdIndex:ln,accountKeyIndexes:$n,data:yn})}const fn=decodeLength$4(t),dn=[];for(let hn=0;hn<fn;hn++){const ln=new PublicKey$4(guardedSplice(t,0,PUBLIC_KEY_LENGTH$4)),pn=decodeLength$4(t),$n=guardedSplice(t,0,pn),Sn=decodeLength$4(t),yn=guardedSplice(t,0,Sn);dn.push({accountKey:ln,writableIndexes:$n,readonlyIndexes:yn})}return new MessageV0$3({header:c,staticAccountKeys:u,recentBlockhash:tn,compiledInstructions:sn,addressTableLookups:dn})}}const DEFAULT_SIGNATURE$4=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$4).fill(0);class TransactionInstruction$4{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$4{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction$4(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let ln=0;ln<t.length;ln++)if(t[ln].programId===void 0)throw new Error(`Transaction instruction index ${ln} has undefined program id`);const o=[],a=[];t.forEach(ln=>{ln.keys.forEach($n=>{a.push({...$n})});const pn=ln.programId.toString();o.includes(pn)||o.push(pn)}),o.forEach(ln=>{a.push({pubkey:new PublicKey$4(ln),isSigner:!1,isWritable:!1})});const c=[];a.forEach(ln=>{const pn=ln.pubkey.toString(),$n=c.findIndex(Sn=>Sn.pubkey.toString()===pn);$n>-1?(c[$n].isWritable=c[$n].isWritable||ln.isWritable,c[$n].isSigner=c[$n].isSigner||ln.isSigner):c.push(ln)}),c.sort(function(ln,pn){if(ln.isSigner!==pn.isSigner)return ln.isSigner?-1:1;if(ln.isWritable!==pn.isWritable)return ln.isWritable?-1:1;const $n={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return ln.pubkey.toBase58().localeCompare(pn.pubkey.toBase58(),"en",$n)});const u=c.findIndex(ln=>ln.pubkey.equals(r));if(u>-1){const[ln]=c.splice(u,1);ln.isSigner=!0,ln.isWritable=!0,c.unshift(ln)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const ln of this.signatures){const pn=c.findIndex($n=>$n.pubkey.equals(ln.publicKey));if(pn>-1)c[pn].isSigner||(c[pn].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${ln.publicKey.toString()}`)}let en=0,tn=0,nn=0;const sn=[],fn=[];c.forEach(({pubkey:ln,isSigner:pn,isWritable:$n})=>{pn?(sn.push(ln.toString()),en+=1,$n||(tn+=1)):(fn.push(ln.toString()),$n||(nn+=1))});const dn=sn.concat(fn),hn=t.map(ln=>{const{data:pn,programId:$n}=ln;return{programIdIndex:dn.indexOf($n.toString()),accounts:ln.keys.map(Sn=>dn.indexOf(Sn.pubkey.toString())),data:bs58$3.encode(pn)}});return hn.forEach(ln=>{assert$c(ln.programIdIndex>=0),ln.accounts.forEach(pn=>assert$c(pn>=0))}),new Message$4({header:{numRequiredSignatures:en,numReadonlySignedAccounts:tn,numReadonlyUnsignedAccounts:nn},accountKeys:dn,recentBlockhash:e,instructions:hn})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,a)=>t[a].equals(o.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const o=r.toString();return t.has(o)?!1:(t.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}this.signatures=r.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(o=>{const a=sign$4(r,o.secretKey);this._addSignature(o.publicKey,toBuffer$4(a))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){assert$c(t.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bufferPolyfill.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:o,publicKey:a}of this.signatures)o===null?t&&(r.missing||=[]).push(a):verify$4(o,e,a.toBytes())||(r.invalid||=[]).push(a);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r){const a=this._getMessageSignednessErrors(o,t);if(a){let c="Signature verification failed.";throw a.invalid&&(c+=`
Invalid signature for public key${a.invalid.length===1?"":"(s)"} [\`${a.invalid.map(u=>u.toBase58()).join("`, `")}\`].`),a.missing&&(c+=`
Missing signature for public key${a.missing.length===1?"":"(s)"} [\`${a.missing.map(u=>u.toBase58()).join("`, `")}\`].`),new Error(c)}}return this._serialize(o)}_serialize(e){const{signatures:t}=this,r=[];encodeLength$4(r,t.length);const o=r.length+t.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$c(t.length<256),bufferPolyfill.Buffer.from(r).copy(a,0),t.forEach(({signature:c},u)=>{c!==null&&(assert$c(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,r.length+u*64))}),e.copy(a,r.length+t.length*64),assert$c(a.length<=PACKET_DATA_SIZE$4,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE$4}`),a}get keys(){return assert$c(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$c(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$c(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=decodeLength$4(t);let o=[];for(let a=0;a<r;a++){const c=guardedSplice(t,0,SIGNATURE_LENGTH_IN_BYTES$4);o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction$4.populate(Message$4.from(t),o)}static populate(e,t=[]){const r=new Transaction$4;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE$4)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};r.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:r.signatures.some(en=>en.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});r.instructions.push(new TransactionInstruction$4({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}new PublicKey$4("SysvarC1ock11111111111111111111111111111111");new PublicKey$4("SysvarEpochSchedu1e111111111111111111111111");new PublicKey$4("Sysvar1nstructions1111111111111111111111111");const SYSVAR_RECENT_BLOCKHASHES_PUBKEY$4=new PublicKey$4("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY$4=new PublicKey$4("SysvarRent111111111111111111111111111111111");new PublicKey$4("SysvarRewards111111111111111111111111111111");new PublicKey$4("SysvarS1otHashes111111111111111111111111111");new PublicKey$4("SysvarS1otHistory11111111111111111111111111");new PublicKey$4("SysvarStakeHistory1111111111111111111111111");function encodeData$4(n,e){const t=n.layout.span>=0?n.layout.span:getAlloc$4(n,e),r=bufferPolyfill.Buffer.alloc(t),o=Object.assign({instruction:n.index},e);return n.layout.encode(o,r),r}const FeeCalculatorLayout$4=nu64$1("lamportsPerSignature"),NonceAccountLayout$4=struct$3([u32$3("version"),u32$3("state"),publicKey$5("authorizedPubkey"),publicKey$5("nonce"),struct$3([FeeCalculatorLayout$4],"feeCalculator")]),NONCE_ACCOUNT_LENGTH$4=NonceAccountLayout$4.span,encodeDecode$4=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bigInt$4=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode$4(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferLE_1(c,n);return r(tn,u,en)},a},u64$5=bigInt$4(8),SYSTEM_INSTRUCTION_LAYOUTS$4=Object.freeze({Create:{index:0,layout:struct$3([u32$3("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$5("programId")])},Assign:{index:1,layout:struct$3([u32$3("instruction"),publicKey$5("programId")])},Transfer:{index:2,layout:struct$3([u32$3("instruction"),u64$5("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$3("instruction"),publicKey$5("base"),rustString$4("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$5("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$3("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$3("instruction"),publicKey$5("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$3("instruction"),publicKey$5("authorized")])},Allocate:{index:8,layout:struct$3([u32$3("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$3("instruction"),publicKey$5("base"),rustString$4("seed"),ns64$1("space"),publicKey$5("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$3("instruction"),publicKey$5("base"),rustString$4("seed"),publicKey$5("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$3("instruction"),u64$5("lamports"),rustString$4("seed"),publicKey$5("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$3("instruction")])}});class SystemProgram$4{constructor(){}static createAccount(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$4.Create,r=encodeData$4(t,{lamports:e.lamports,space:e.space,programId:toBuffer$4(e.programId.toBuffer())});return new TransactionInstruction$4({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$4.TransferWithSeed;t=encodeData$4(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$4(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$4.Transfer;t=encodeData$4(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction$4({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$4.AssignWithSeed;t=encodeData$4(o,{base:toBuffer$4(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$4(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$4.Assign;t=encodeData$4(o,{programId:toBuffer$4(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$4({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$4.CreateWithSeed,r=encodeData$4(t,{base:toBuffer$4(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$4(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction$4({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Transaction$4;"basePubkey"in e&&"seed"in e?t.add(SystemProgram$4.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$4,programId:this.programId})):t.add(SystemProgram$4.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$4,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$4.InitializeNonceAccount,r=encodeData$4(t,{authorized:toBuffer$4(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$4,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$4,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$4(o)}static nonceAdvance(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$4.AdvanceNonceAccount,r=encodeData$4(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$4,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$4(o)}static nonceWithdraw(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$4.WithdrawNonceAccount,r=encodeData$4(t,{lamports:e.lamports});return new TransactionInstruction$4({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$4,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$4,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$4.AuthorizeNonceAccount,r=encodeData$4(t,{authorized:toBuffer$4(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction$4({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$4.AllocateWithSeed;t=encodeData$4(o,{base:toBuffer$4(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$4(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$4.Allocate;t=encodeData$4(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$4({keys:r,programId:this.programId,data:t})}}SystemProgram$4.programId=new PublicKey$4("11111111111111111111111111111111");new PublicKey$4("BPFLoader2111111111111111111111111111111111");struct$3([u32$3("typeIndex"),u64$5("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$5(),offset$1(u8$2(),-1),"authority")]);const PublicKeyFromString$4=coerce$3(instance$3(PublicKey$4),string$4(),n=>new PublicKey$4(n)),RawAccountDataResult$4=tuple$4([string$4(),literal$3("base64")]),BufferFromRawAccountData$4=coerce$3(instance$3(bufferPolyfill.Buffer),RawAccountDataResult$4,n=>bufferPolyfill.Buffer.from(n[0],"base64"));function createRpcResult$4(n){return union$3([type$3({jsonrpc:literal$3("2.0"),id:string$4(),result:n}),type$3({jsonrpc:literal$3("2.0"),id:string$4(),error:type$3({code:unknown$3(),message:string$4(),data:optional$3(any$3())})})])}const UnknownRpcResult$4=createRpcResult$4(unknown$3());function jsonRpcResult$4(n){return coerce$3(createRpcResult$4(n),UnknownRpcResult$4,e=>"error"in e?e:{...e,result:create$3(e.result,n)})}function jsonRpcResultAndContext$4(n){return jsonRpcResult$4(type$3({context:type$3({slot:number$3()}),value:n}))}function notificationResultAndContext$4(n){return type$3({context:type$3({slot:number$3()}),value:n})}const GetInflationGovernorResult$4=type$3({foundation:number$3(),foundationTerm:number$3(),initial:number$3(),taper:number$3(),terminal:number$3()});jsonRpcResult$4(array$4(nullable$3(type$3({epoch:number$3(),effectiveSlot:number$3(),amount:number$3(),postBalance:number$3(),commission:optional$3(nullable$3(number$3()))}))));const GetRecentPrioritizationFeesResult$4=array$4(type$3({slot:number$3(),prioritizationFee:number$3()})),GetInflationRateResult$4=type$3({total:number$3(),validator:number$3(),foundation:number$3(),epoch:number$3()}),GetEpochInfoResult$4=type$3({epoch:number$3(),slotIndex:number$3(),slotsInEpoch:number$3(),absoluteSlot:number$3(),blockHeight:optional$3(number$3()),transactionCount:optional$3(number$3())}),GetEpochScheduleResult$4=type$3({slotsPerEpoch:number$3(),leaderScheduleSlotOffset:number$3(),warmup:boolean$3(),firstNormalEpoch:number$3(),firstNormalSlot:number$3()}),GetLeaderScheduleResult$4=record$3(string$4(),array$4(number$3())),TransactionErrorResult$4=nullable$3(union$3([type$3({}),string$4()])),SignatureStatusResult$4=type$3({err:TransactionErrorResult$4}),SignatureReceivedResult$4=literal$3("receivedSignature");type$3({"solana-core":string$4(),"feature-set":optional$3(number$3())});const ParsedInstructionStruct=type$3({program:string$4(),programId:PublicKeyFromString$4,parsed:unknown$3()}),PartiallyDecodedInstructionStruct=type$3({programId:PublicKeyFromString$4,accounts:array$4(PublicKeyFromString$4),data:string$4()});jsonRpcResultAndContext$4(type$3({err:nullable$3(union$3([type$3({}),string$4()])),logs:nullable$3(array$4(string$4())),accounts:optional$3(nullable$3(array$4(nullable$3(type$3({executable:boolean$3(),owner:string$4(),lamports:number$3(),data:array$4(string$4()),rentEpoch:optional$3(number$3())}))))),unitsConsumed:optional$3(number$3()),returnData:optional$3(nullable$3(type$3({programId:string$4(),data:tuple$4([string$4(),literal$3("base64")])}))),innerInstructions:optional$3(nullable$3(array$4(type$3({index:number$3(),instructions:array$4(union$3([ParsedInstructionStruct,PartiallyDecodedInstructionStruct]))}))))}));jsonRpcResultAndContext$4(type$3({byIdentity:record$3(string$4(),array$4(number$3())),range:type$3({firstSlot:number$3(),lastSlot:number$3()})}));jsonRpcResult$4(GetInflationGovernorResult$4);jsonRpcResult$4(GetInflationRateResult$4);jsonRpcResult$4(GetRecentPrioritizationFeesResult$4);jsonRpcResult$4(GetEpochInfoResult$4);jsonRpcResult$4(GetEpochScheduleResult$4);jsonRpcResult$4(GetLeaderScheduleResult$4);jsonRpcResult$4(number$3());jsonRpcResultAndContext$4(type$3({total:number$3(),circulating:number$3(),nonCirculating:number$3(),nonCirculatingAccounts:array$4(PublicKeyFromString$4)}));const TokenAmountResult$4=type$3({amount:string$4(),uiAmount:nullable$3(number$3()),decimals:number$3(),uiAmountString:optional$3(string$4())});jsonRpcResultAndContext$4(array$4(type$3({address:PublicKeyFromString$4,amount:string$4(),uiAmount:nullable$3(number$3()),decimals:number$3(),uiAmountString:optional$3(string$4())})));jsonRpcResultAndContext$4(array$4(type$3({pubkey:PublicKeyFromString$4,account:type$3({executable:boolean$3(),owner:PublicKeyFromString$4,lamports:number$3(),data:BufferFromRawAccountData$4,rentEpoch:number$3()})})));const ParsedAccountDataResult$4=type$3({program:string$4(),parsed:unknown$3(),space:number$3()});jsonRpcResultAndContext$4(array$4(type$3({pubkey:PublicKeyFromString$4,account:type$3({executable:boolean$3(),owner:PublicKeyFromString$4,lamports:number$3(),data:ParsedAccountDataResult$4,rentEpoch:number$3()})})));jsonRpcResultAndContext$4(array$4(type$3({lamports:number$3(),address:PublicKeyFromString$4})));const AccountInfoResult$4=type$3({executable:boolean$3(),owner:PublicKeyFromString$4,lamports:number$3(),data:BufferFromRawAccountData$4,rentEpoch:number$3()});type$3({pubkey:PublicKeyFromString$4,account:AccountInfoResult$4});const ParsedOrRawAccountData$4=coerce$3(union$3([instance$3(bufferPolyfill.Buffer),ParsedAccountDataResult$4]),union$3([RawAccountDataResult$4,ParsedAccountDataResult$4]),n=>Array.isArray(n)?create$3(n,BufferFromRawAccountData$4):n),ParsedAccountInfoResult$4=type$3({executable:boolean$3(),owner:PublicKeyFromString$4,lamports:number$3(),data:ParsedOrRawAccountData$4,rentEpoch:number$3()});type$3({pubkey:PublicKeyFromString$4,account:ParsedAccountInfoResult$4});type$3({state:union$3([literal$3("active"),literal$3("inactive"),literal$3("activating"),literal$3("deactivating")]),active:number$3(),inactive:number$3()});jsonRpcResult$4(array$4(type$3({signature:string$4(),slot:number$3(),err:TransactionErrorResult$4,memo:nullable$3(string$4()),blockTime:optional$3(nullable$3(number$3()))})));jsonRpcResult$4(array$4(type$3({signature:string$4(),slot:number$3(),err:TransactionErrorResult$4,memo:nullable$3(string$4()),blockTime:optional$3(nullable$3(number$3()))})));type$3({subscription:number$3(),result:notificationResultAndContext$4(AccountInfoResult$4)});const ProgramAccountInfoResult$4=type$3({pubkey:PublicKeyFromString$4,account:AccountInfoResult$4});type$3({subscription:number$3(),result:notificationResultAndContext$4(ProgramAccountInfoResult$4)});const SlotInfoResult$4=type$3({parent:number$3(),slot:number$3(),root:number$3()});type$3({subscription:number$3(),result:SlotInfoResult$4});const SlotUpdateResult$4=union$3([type$3({type:union$3([literal$3("firstShredReceived"),literal$3("completed"),literal$3("optimisticConfirmation"),literal$3("root")]),slot:number$3(),timestamp:number$3()}),type$3({type:literal$3("createdBank"),parent:number$3(),slot:number$3(),timestamp:number$3()}),type$3({type:literal$3("frozen"),slot:number$3(),timestamp:number$3(),stats:type$3({numTransactionEntries:number$3(),numSuccessfulTransactions:number$3(),numFailedTransactions:number$3(),maxTransactionsPerEntry:number$3()})}),type$3({type:literal$3("dead"),slot:number$3(),timestamp:number$3(),err:string$4()})]);type$3({subscription:number$3(),result:SlotUpdateResult$4});type$3({subscription:number$3(),result:notificationResultAndContext$4(union$3([SignatureStatusResult$4,SignatureReceivedResult$4]))});type$3({subscription:number$3(),result:number$3()});type$3({pubkey:string$4(),gossip:nullable$3(string$4()),tpu:nullable$3(string$4()),rpc:nullable$3(string$4()),version:nullable$3(string$4())});const VoteAccountInfoResult$4=type$3({votePubkey:string$4(),nodePubkey:string$4(),activatedStake:number$3(),epochVoteAccount:boolean$3(),epochCredits:array$4(tuple$4([number$3(),number$3(),number$3()])),commission:number$3(),lastVote:number$3(),rootSlot:nullable$3(number$3())});jsonRpcResult$4(type$3({current:array$4(VoteAccountInfoResult$4),delinquent:array$4(VoteAccountInfoResult$4)}));const ConfirmationStatus$4=union$3([literal$3("processed"),literal$3("confirmed"),literal$3("finalized")]),SignatureStatusResponse$4=type$3({slot:number$3(),confirmations:nullable$3(number$3()),err:TransactionErrorResult$4,confirmationStatus:optional$3(ConfirmationStatus$4)});jsonRpcResultAndContext$4(array$4(nullable$3(SignatureStatusResponse$4)));jsonRpcResult$4(number$3());const AddressTableLookupStruct$4=type$3({accountKey:PublicKeyFromString$4,writableIndexes:array$4(number$3()),readonlyIndexes:array$4(number$3())}),ConfirmedTransactionResult$4=type$3({signatures:array$4(string$4()),message:type$3({accountKeys:array$4(string$4()),header:type$3({numRequiredSignatures:number$3(),numReadonlySignedAccounts:number$3(),numReadonlyUnsignedAccounts:number$3()}),instructions:array$4(type$3({accounts:array$4(number$3()),data:string$4(),programIdIndex:number$3()})),recentBlockhash:string$4(),addressTableLookups:optional$3(array$4(AddressTableLookupStruct$4))})}),AnnotatedAccountKey$4=type$3({pubkey:PublicKeyFromString$4,signer:boolean$3(),writable:boolean$3(),source:optional$3(union$3([literal$3("transaction"),literal$3("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$4=type$3({accountKeys:array$4(AnnotatedAccountKey$4),signatures:array$4(string$4())}),ParsedInstructionResult$4=type$3({parsed:unknown$3(),program:string$4(),programId:PublicKeyFromString$4}),RawInstructionResult$4=type$3({accounts:array$4(PublicKeyFromString$4),data:string$4(),programId:PublicKeyFromString$4}),InstructionResult$4=union$3([RawInstructionResult$4,ParsedInstructionResult$4]),UnknownInstructionResult$4=union$3([type$3({parsed:unknown$3(),program:string$4(),programId:string$4()}),type$3({accounts:array$4(string$4()),data:string$4(),programId:string$4()})]),ParsedOrRawInstruction$4=coerce$3(InstructionResult$4,UnknownInstructionResult$4,n=>"accounts"in n?create$3(n,RawInstructionResult$4):create$3(n,ParsedInstructionResult$4)),ParsedConfirmedTransactionResult$4=type$3({signatures:array$4(string$4()),message:type$3({accountKeys:array$4(AnnotatedAccountKey$4),instructions:array$4(ParsedOrRawInstruction$4),recentBlockhash:string$4(),addressTableLookups:optional$3(nullable$3(array$4(AddressTableLookupStruct$4)))})}),TokenBalanceResult$4=type$3({accountIndex:number$3(),mint:string$4(),owner:optional$3(string$4()),uiTokenAmount:TokenAmountResult$4}),LoadedAddressesResult$4=type$3({writable:array$4(PublicKeyFromString$4),readonly:array$4(PublicKeyFromString$4)}),ConfirmedTransactionMetaResult$4=type$3({err:TransactionErrorResult$4,fee:number$3(),innerInstructions:optional$3(nullable$3(array$4(type$3({index:number$3(),instructions:array$4(type$3({accounts:array$4(number$3()),data:string$4(),programIdIndex:number$3()}))})))),preBalances:array$4(number$3()),postBalances:array$4(number$3()),logMessages:optional$3(nullable$3(array$4(string$4()))),preTokenBalances:optional$3(nullable$3(array$4(TokenBalanceResult$4))),postTokenBalances:optional$3(nullable$3(array$4(TokenBalanceResult$4))),loadedAddresses:optional$3(LoadedAddressesResult$4),computeUnitsConsumed:optional$3(number$3())}),ParsedConfirmedTransactionMetaResult$4=type$3({err:TransactionErrorResult$4,fee:number$3(),innerInstructions:optional$3(nullable$3(array$4(type$3({index:number$3(),instructions:array$4(ParsedOrRawInstruction$4)})))),preBalances:array$4(number$3()),postBalances:array$4(number$3()),logMessages:optional$3(nullable$3(array$4(string$4()))),preTokenBalances:optional$3(nullable$3(array$4(TokenBalanceResult$4))),postTokenBalances:optional$3(nullable$3(array$4(TokenBalanceResult$4))),loadedAddresses:optional$3(LoadedAddressesResult$4),computeUnitsConsumed:optional$3(number$3())}),TransactionVersionStruct$4=union$3([literal$3(0),literal$3("legacy")]),RewardsResult$4=type$3({pubkey:string$4(),lamports:number$3(),postBalance:nullable$3(number$3()),rewardType:nullable$3(string$4()),commission:optional$3(nullable$3(number$3()))});jsonRpcResult$4(nullable$3(type$3({blockhash:string$4(),previousBlockhash:string$4(),parentSlot:number$3(),transactions:array$4(type$3({transaction:ConfirmedTransactionResult$4,meta:nullable$3(ConfirmedTransactionMetaResult$4),version:optional$3(TransactionVersionStruct$4)})),rewards:optional$3(array$4(RewardsResult$4)),blockTime:nullable$3(number$3()),blockHeight:nullable$3(number$3())})));jsonRpcResult$4(nullable$3(type$3({blockhash:string$4(),previousBlockhash:string$4(),parentSlot:number$3(),rewards:optional$3(array$4(RewardsResult$4)),blockTime:nullable$3(number$3()),blockHeight:nullable$3(number$3())})));jsonRpcResult$4(nullable$3(type$3({blockhash:string$4(),previousBlockhash:string$4(),parentSlot:number$3(),transactions:array$4(type$3({transaction:ConfirmedTransactionAccountsModeResult$4,meta:nullable$3(ConfirmedTransactionMetaResult$4),version:optional$3(TransactionVersionStruct$4)})),rewards:optional$3(array$4(RewardsResult$4)),blockTime:nullable$3(number$3()),blockHeight:nullable$3(number$3())})));jsonRpcResult$4(nullable$3(type$3({blockhash:string$4(),previousBlockhash:string$4(),parentSlot:number$3(),transactions:array$4(type$3({transaction:ParsedConfirmedTransactionResult$4,meta:nullable$3(ParsedConfirmedTransactionMetaResult$4),version:optional$3(TransactionVersionStruct$4)})),rewards:optional$3(array$4(RewardsResult$4)),blockTime:nullable$3(number$3()),blockHeight:nullable$3(number$3())})));jsonRpcResult$4(nullable$3(type$3({blockhash:string$4(),previousBlockhash:string$4(),parentSlot:number$3(),transactions:array$4(type$3({transaction:ConfirmedTransactionAccountsModeResult$4,meta:nullable$3(ParsedConfirmedTransactionMetaResult$4),version:optional$3(TransactionVersionStruct$4)})),rewards:optional$3(array$4(RewardsResult$4)),blockTime:nullable$3(number$3()),blockHeight:nullable$3(number$3())})));jsonRpcResult$4(nullable$3(type$3({blockhash:string$4(),previousBlockhash:string$4(),parentSlot:number$3(),rewards:optional$3(array$4(RewardsResult$4)),blockTime:nullable$3(number$3()),blockHeight:nullable$3(number$3())})));jsonRpcResult$4(nullable$3(type$3({blockhash:string$4(),previousBlockhash:string$4(),parentSlot:number$3(),transactions:array$4(type$3({transaction:ConfirmedTransactionResult$4,meta:nullable$3(ConfirmedTransactionMetaResult$4)})),rewards:optional$3(array$4(RewardsResult$4)),blockTime:nullable$3(number$3())})));jsonRpcResult$4(nullable$3(type$3({blockhash:string$4(),previousBlockhash:string$4(),parentSlot:number$3(),signatures:array$4(string$4()),blockTime:nullable$3(number$3())})));jsonRpcResult$4(nullable$3(type$3({slot:number$3(),meta:nullable$3(ConfirmedTransactionMetaResult$4),blockTime:optional$3(nullable$3(number$3())),transaction:ConfirmedTransactionResult$4,version:optional$3(TransactionVersionStruct$4)})));jsonRpcResult$4(nullable$3(type$3({slot:number$3(),transaction:ParsedConfirmedTransactionResult$4,meta:nullable$3(ParsedConfirmedTransactionMetaResult$4),blockTime:optional$3(nullable$3(number$3())),version:optional$3(TransactionVersionStruct$4)})));jsonRpcResultAndContext$4(type$3({blockhash:string$4(),feeCalculator:type$3({lamportsPerSignature:number$3()})}));jsonRpcResultAndContext$4(type$3({blockhash:string$4(),lastValidBlockHeight:number$3()}));jsonRpcResultAndContext$4(boolean$3());const PerfSampleResult$4=type$3({slot:number$3(),numTransactions:number$3(),numSlots:number$3(),samplePeriodSecs:number$3()});jsonRpcResult$4(array$4(PerfSampleResult$4));jsonRpcResultAndContext$4(nullable$3(type$3({feeCalculator:type$3({lamportsPerSignature:number$3()})})));jsonRpcResult$4(string$4());jsonRpcResult$4(string$4());const LogsResult$4=type$3({err:TransactionErrorResult$4,logs:array$4(string$4()),signature:string$4()});type$3({result:notificationResultAndContext$4(LogsResult$4),subscription:number$3()});Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$3("instruction"),u64$5("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$3("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$3("instruction"),u64$5(),seq(publicKey$5(),offset$1(u32$3(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$3("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$3("instruction")])}});new PublicKey$4("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$3("units"),u32$3("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$3("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$3("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$5("microLamports")])}});new PublicKey$4("ComputeBudget111111111111111111111111111111");struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);new PublicKey$4("Ed25519SigVerify111111111111111111111111111");secp256k1.utils.isValidPrivateKey;secp256k1.getPublicKey;struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);new PublicKey$4("KeccakSecp256k11111111111111111111111111111");var _Lockup;new PublicKey$4("StakeConfig11111111111111111111111111111111");class Lockup$4{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_Lockup=Lockup$4;Lockup$4.default=new _Lockup(0,0,PublicKey$4.default);Object.freeze({Initialize:{index:0,layout:struct$3([u32$3("instruction"),authorized$4(),lockup$4()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$5("newAuthorized"),u32$3("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$3("instruction")])},Split:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$3("instruction")])},Merge:{index:7,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$3("instruction"),publicKey$5("newAuthorized"),u32$3("stakeAuthorizationType"),rustString$4("authoritySeed"),publicKey$5("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});new PublicKey$4("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$3("instruction"),voteInit$4()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$5("newAuthorized"),u32$3("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},UpdateValidatorIdentity:{index:4,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$3("instruction"),voteAuthorizeWithSeedArgs$4()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});new PublicKey$4("Vote111111111111111111111111111111111111111");new PublicKey$4("Va1idator1nfo111111111111111111111111111111");type$3({name:string$4(),website:optional$3(string$4()),details:optional$3(string$4()),iconUrl:optional$3(string$4()),keybaseUsername:optional$3(string$4())});new PublicKey$4("Vote111111111111111111111111111111111111111");struct$3([publicKey$5("nodePubkey"),publicKey$5("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$3("confirmationCount")]),offset$1(u32$3(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$5("authorizedVoter")]),offset$1(u32$3(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$5("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$3(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);var beet={},collections={},types$5={},assert$b={exports:{}},errors={},util$3={},types$4={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;e[t]=o;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,t);if(c.value!==o||c.enumerable!==!0)return!1}return!0},hasSymbols$4=shams$1,shams=function(){return hasSymbols$4()&&!!Symbol.toStringTag},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$3=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={foo:{}},$Object=Object,hasProto$1=function(){return{__proto__:test}.foo===test.foo&&!({__proto__:null}instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$6=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(e,t){for(var r=[],o=0;o<e.length;o+=1)r[o]=e[o];for(var a=0;a<t.length;a+=1)r[a+e.length]=t[a];return r},slicy=function(e,t){for(var r=[],o=t||0,a=0;o<e.length;o+=1,a+=1)r[a]=e[o];return r},joiny=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t},implementation$a=function(e){var t=this;if(typeof t!="function"||toStr$6.apply(t)!==funcType)throw new TypeError(ERROR_MESSAGE+t);for(var r=slicy(arguments,1),o,a=function(){if(this instanceof o){var nn=t.apply(this,concatty(r,arguments));return Object(nn)===nn?nn:this}return t.apply(e,concatty(r,arguments))},c=max(0,t.length-r.length),u=[],en=0;en<c;en++)u[en]="$"+en;if(o=Function("binder","return function ("+joiny(u,",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var tn=function(){};tn.prototype=t.prototype,o.prototype=new tn,tn.prototype=null}return o},implementation$9=implementation$a,functionBind=Function.prototype.bind||implementation$9,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call,$hasOwn),undefined$1,$SyntaxError$1=SyntaxError,$Function=Function,$TypeError$2=TypeError,getEvalledConstructor=function(n){try{return $Function('"use strict"; return ('+n+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$2=hasSymbols$3(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(n){return n.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$2||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$2&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$2?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(n){var errorProto=getProto$1(getProto$1(n));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function n(e){var t;if(e==="%AsyncFunction%")t=getEvalledConstructor("async function () {}");else if(e==="%GeneratorFunction%")t=getEvalledConstructor("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=getEvalledConstructor("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=n("%AsyncGenerator%");o&&getProto$1&&(t=getProto$1(o.prototype))}return INTRINSICS[e]=t,t},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$1=hasown,$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var t=$strSlice(e,0,1),r=$strSlice(e,-1);if(t==="%"&&r!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var o=[];return $replace(e,rePropName,function(a,c,u,en){o[o.length]=u?$replace(en,reEscapeChar,"$1"):c||a}),o},getBaseIntrinsic=function(e,t){var r=e,o;if(hasOwn$1(LEGACY_ALIASES,r)&&(o=LEGACY_ALIASES[r],r="%"+o[0]+"%"),hasOwn$1(INTRINSICS,r)){var a=INTRINSICS[r];if(a===needsEval&&(a=doEval(r)),typeof a>"u"&&!t)throw new $TypeError$2("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:r,value:a}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,t){if(typeof e!="string"||e.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,e)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=stringToPath(e),o=r.length>0?r[0]:"",a=getBaseIntrinsic("%"+o+"%",t),c=a.name,u=a.value,en=!1,tn=a.alias;tn&&(o=tn[0],$spliceApply(r,$concat([0,1],tn)));for(var nn=1,sn=!0;nn<r.length;nn+=1){var fn=r[nn],dn=$strSlice(fn,0,1),hn=$strSlice(fn,-1);if((dn==='"'||dn==="'"||dn==="`"||hn==='"'||hn==="'"||hn==="`")&&dn!==hn)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((fn==="constructor"||!sn)&&(en=!0),o+="."+fn,c="%"+o+"%",hasOwn$1(INTRINSICS,c))u=INTRINSICS[c];else if(u!=null){if(!(fn in u)){if(!t)throw new $TypeError$2("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&nn+1>=r.length){var ln=$gOPD$1(u,fn);sn=!!ln,sn&&"get"in ln&&!("originalValue"in ln.get)?u=ln.get:u=u[fn]}else sn=hasOwn$1(u,fn),u=u[fn];sn&&!en&&(INTRINSICS[c]=u)}}return u},callBind$4={exports:{}},GetIntrinsic$4=getIntrinsic,$defineProperty$1=GetIntrinsic$4("%Object.defineProperty%",!0),hasPropertyDescriptors$1=function(){if($defineProperty$1)try{return $defineProperty$1({},"a",{value:1}),!0}catch{return!1}return!1};hasPropertyDescriptors$1.hasArrayLengthDefineBug=function(){if(!hasPropertyDescriptors$1())return null;try{return $defineProperty$1([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors$1,GetIntrinsic$3=getIntrinsic,$gOPD=GetIntrinsic$3("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,hasPropertyDescriptors=hasPropertyDescriptors_1(),GetIntrinsic$2=getIntrinsic,$defineProperty=hasPropertyDescriptors&&GetIntrinsic$2("%Object.defineProperty%",!0);if($defineProperty)try{$defineProperty({},"a",{value:1})}catch{$defineProperty=!1}var $SyntaxError=GetIntrinsic$2("%SyntaxError%"),$TypeError$1=GetIntrinsic$2("%TypeError%"),gopd=gopd$1,defineDataProperty$1=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,en=!!gopd&&gopd(e,t);if($defineProperty)$defineProperty(e,t,{configurable:c===null&&en?en.configurable:!c,enumerable:o===null&&en?en.enumerable:!o,value:r,writable:a===null&&en?en.writable:!a});else if(u||!o&&!a&&!c)e[t]=r;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},GetIntrinsic$1=getIntrinsic,define$7=defineDataProperty$1,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=GetIntrinsic$1("%TypeError%"),$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function(e,t){if(typeof e!="function")throw new $TypeError("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||$floor(t)!==t)throw new $TypeError("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],o=!0,a=!0;if("length"in e&&gOPD$1){var c=gOPD$1(e,"length");c&&!c.configurable&&(o=!1),c&&!c.writable&&(a=!1)}return(o||a||!r)&&(hasDescriptors?define$7(e,"length",t,!0,!0):define$7(e,"length",t)),e};(function(n){var e=functionBind,t=getIntrinsic,r=setFunctionLength,o=t("%TypeError%"),a=t("%Function.prototype.apply%"),c=t("%Function.prototype.call%"),u=t("%Reflect.apply%",!0)||e.call(c,a),en=t("%Object.defineProperty%",!0),tn=t("%Math.max%");if(en)try{en({},"a",{value:1})}catch{en=null}n.exports=function(fn){if(typeof fn!="function")throw new o("a function is required");var dn=u(e,c,arguments);return r(dn,1+tn(0,fn.length-(arguments.length-1)),!0)};var nn=function(){return u(e,a,arguments)};en?en(n.exports,"apply",{value:nn}):n.exports.apply=nn})(callBind$4);var GetIntrinsic=getIntrinsic,callBind$3=callBind$4.exports,$indexOf$1=callBind$3(GetIntrinsic("String.prototype.indexOf")),callBound$3=function(e,t){var r=GetIntrinsic(e,!!t);return typeof r=="function"&&$indexOf$1(e,".prototype.")>-1?callBind$3(r):r},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$1=callBound$2("Object.prototype.toString"),isStandardArguments=function(e){return hasToStringTag$3&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:$toString$1(e)==="[object Arguments]"},isLegacyArguments=function(e){return isStandardArguments(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&$toString$1(e)!=="[object Array]"&&$toString$1(e.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$2=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$5=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(e){if(typeof e!="function")return!1;if(isFnRegex.test(fnToStr$1.call(e)))return!0;if(!hasToStringTag$2){var t=toStr$5.call(e);return t==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var r=getGeneratorFunc();GeneratorFunction=r?getProto(r):!1}return getProto(e)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(n){n!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(e){try{var t=fnToStr.call(e);return constructorRegex.test(t)}catch{return!1}},tryFunctionObject=function(e){try{return isES6ClassFn(e)?!1:(fnToStr.call(e),!0)}catch{return!1}},toStr$4=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$4.call(all)===toStr$4.call(document.all)&&(isDDA=function(e){if((isIE68||!e)&&(typeof e>"u"||typeof e=="object"))try{var t=toStr$4.call(e);return(t===ddaClass||t===ddaClass2||t===ddaClass3||t===objectClass)&&e("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{reflectApply(e,null,badArrayLike)}catch(t){if(t!==isCallableMarker)return!1}return!isES6ClassFn(e)&&tryFunctionObject(e)}:function(e){if(isDDA(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(e);if(isES6ClassFn(e))return!1;var t=toStr$4.call(e);return t!==fnClass&&t!==genClass&&!/^\[object HTML/.test(t)?!1:tryFunctionObject(e)},isCallable=isCallable$1,toStr$3=Object.prototype.toString,hasOwnProperty$2=Object.prototype.hasOwnProperty,forEachArray=function(e,t,r){for(var o=0,a=e.length;o<a;o++)hasOwnProperty$2.call(e,o)&&(r==null?t(e[o],o,e):t.call(r,e[o],o,e))},forEachString=function(e,t,r){for(var o=0,a=e.length;o<a;o++)r==null?t(e.charAt(o),o,e):t.call(r,e.charAt(o),o,e)},forEachObject=function(e,t,r){for(var o in e)hasOwnProperty$2.call(e,o)&&(r==null?t(e[o],o,e):t.call(r,e[o],o,e))},forEach$1=function(e,t,r){if(!isCallable(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),toStr$3.call(e)==="[object Array]"?forEachArray(e,t,o):typeof e=="string"?forEachString(e,t,o):forEachObject(e,t,o)},forEach_1=forEach$1,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$2=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var e=[],t=0;t<possibleNames.length;t++)typeof g$2[possibleNames[t]]=="function"&&(e[e.length]=possibleNames[t]);return e},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind$2=callBind$4.exports,callBound$1=callBound$3,gOPD=gopd$1,$toString=callBound$1("Object.prototype.toString"),hasToStringTag=shams(),g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$1("String.prototype.slice"),getPrototypeOf=Object.getPrototypeOf,$indexOf=callBound$1("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},cache$1={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf?forEach(typedArrays,function(n){var e=new g$1[n];if(Symbol.toStringTag in e){var t=getPrototypeOf(e),r=gOPD(t,Symbol.toStringTag);if(!r){var o=getPrototypeOf(t);r=gOPD(o,Symbol.toStringTag)}cache$1["$"+n]=callBind$2(r.get)}}):forEach(typedArrays,function(n){var e=new g$1[n],t=e.slice||e.set;t&&(cache$1["$"+n]=callBind$2(t))});var tryTypedArrays=function(e){var t=!1;return forEach(cache$1,function(r,o){if(!t)try{"$"+r(e)===o&&(t=$slice(o,1))}catch{}}),t},trySlices=function(e){var t=!1;return forEach(cache$1,function(r,o){if(!t)try{r(e),t=$slice(o,1)}catch{}}),t},whichTypedArray$1=function(e){if(!e||typeof e!="object")return!1;if(!hasToStringTag){var t=$slice($toString(e),8,-1);return $indexOf(typedArrays,t)>-1?t:t!=="Object"?!1:trySlices(e)}return gOPD?tryTypedArrays(e):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(e){return!!whichTypedArray(e)};(function(n){var e=isArguments$2,t=isGeneratorFunction,r=whichTypedArray$1,o=isTypedArray;function a(Ar){return Ar.call.bind(Ar)}var c=typeof BigInt<"u",u=typeof Symbol<"u",en=a(Object.prototype.toString),tn=a(Number.prototype.valueOf),nn=a(String.prototype.valueOf),sn=a(Boolean.prototype.valueOf);if(c)var fn=a(BigInt.prototype.valueOf);if(u)var dn=a(Symbol.prototype.valueOf);function hn(Ar,Nr){if(typeof Ar!="object")return!1;try{return Nr(Ar),!0}catch{return!1}}n.isArgumentsObject=e,n.isGeneratorFunction=t,n.isTypedArray=o;function ln(Ar){return typeof Promise<"u"&&Ar instanceof Promise||Ar!==null&&typeof Ar=="object"&&typeof Ar.then=="function"&&typeof Ar.catch=="function"}n.isPromise=ln;function pn(Ar){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ar):o(Ar)||Mn(Ar)}n.isArrayBufferView=pn;function $n(Ar){return r(Ar)==="Uint8Array"}n.isUint8Array=$n;function Sn(Ar){return r(Ar)==="Uint8ClampedArray"}n.isUint8ClampedArray=Sn;function yn(Ar){return r(Ar)==="Uint16Array"}n.isUint16Array=yn;function In(Ar){return r(Ar)==="Uint32Array"}n.isUint32Array=In;function An(Ar){return r(Ar)==="Int8Array"}n.isInt8Array=An;function Tn(Ar){return r(Ar)==="Int16Array"}n.isInt16Array=Tn;function kn(Ar){return r(Ar)==="Int32Array"}n.isInt32Array=kn;function Pn(Ar){return r(Ar)==="Float32Array"}n.isFloat32Array=Pn;function Dn(Ar){return r(Ar)==="Float64Array"}n.isFloat64Array=Dn;function Kn(Ar){return r(Ar)==="BigInt64Array"}n.isBigInt64Array=Kn;function Hn(Ar){return r(Ar)==="BigUint64Array"}n.isBigUint64Array=Hn;function jn(Ar){return en(Ar)==="[object Map]"}jn.working=typeof Map<"u"&&jn(new Map);function Cn(Ar){return typeof Map>"u"?!1:jn.working?jn(Ar):Ar instanceof Map}n.isMap=Cn;function mn(Ar){return en(Ar)==="[object Set]"}mn.working=typeof Set<"u"&&mn(new Set);function _n(Ar){return typeof Set>"u"?!1:mn.working?mn(Ar):Ar instanceof Set}n.isSet=_n;function vn(Ar){return en(Ar)==="[object WeakMap]"}vn.working=typeof WeakMap<"u"&&vn(new WeakMap);function On(Ar){return typeof WeakMap>"u"?!1:vn.working?vn(Ar):Ar instanceof WeakMap}n.isWeakMap=On;function Nn(Ar){return en(Ar)==="[object WeakSet]"}Nn.working=typeof WeakSet<"u"&&Nn(new WeakSet);function Un(Ar){return Nn(Ar)}n.isWeakSet=Un;function zn(Ar){return en(Ar)==="[object ArrayBuffer]"}zn.working=typeof ArrayBuffer<"u"&&zn(new ArrayBuffer);function Bn(Ar){return typeof ArrayBuffer>"u"?!1:zn.working?zn(Ar):Ar instanceof ArrayBuffer}n.isArrayBuffer=Bn;function En(Ar){return en(Ar)==="[object DataView]"}En.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&En(new DataView(new ArrayBuffer(1),0,1));function Mn(Ar){return typeof DataView>"u"?!1:En.working?En(Ar):Ar instanceof DataView}n.isDataView=Mn;var Zn=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Sr(Ar){return en(Ar)==="[object SharedArrayBuffer]"}function $r(Ar){return typeof Zn>"u"?!1:(typeof Sr.working>"u"&&(Sr.working=Sr(new Zn)),Sr.working?Sr(Ar):Ar instanceof Zn)}n.isSharedArrayBuffer=$r;function Xn(Ar){return en(Ar)==="[object AsyncFunction]"}n.isAsyncFunction=Xn;function br(Ar){return en(Ar)==="[object Map Iterator]"}n.isMapIterator=br;function _r(Ar){return en(Ar)==="[object Set Iterator]"}n.isSetIterator=_r;function kr(Ar){return en(Ar)==="[object Generator]"}n.isGeneratorObject=kr;function Cr(Ar){return en(Ar)==="[object WebAssembly.Module]"}n.isWebAssemblyCompiledModule=Cr;function qn(Ar){return hn(Ar,tn)}n.isNumberObject=qn;function Jn(Ar){return hn(Ar,nn)}n.isStringObject=Jn;function Qn(Ar){return hn(Ar,sn)}n.isBooleanObject=Qn;function Tr(Ar){return c&&hn(Ar,fn)}n.isBigIntObject=Tr;function Or(Ar){return u&&hn(Ar,dn)}n.isSymbolObject=Or;function Ir(Ar){return qn(Ar)||Jn(Ar)||Qn(Ar)||Tr(Ar)||Or(Ar)}n.isBoxedPrimitive=Ir;function Kr(Ar){return typeof Uint8Array<"u"&&(Bn(Ar)||$r(Ar))}n.isAnyArrayBuffer=Kr,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ar){Object.defineProperty(n,Ar,{enumerable:!1,value:function(){throw new Error(Ar+" is not supported in userland")}})})})(types$4);var isBuffer=function(e){return e instanceof dist$3.Buffer},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};(function(n){var e=Object.getOwnPropertyDescriptors||function(Mn){for(var Zn=Object.keys(Mn),Sr={},$r=0;$r<Zn.length;$r++)Sr[Zn[$r]]=Object.getOwnPropertyDescriptor(Mn,Zn[$r]);return Sr},t=/%[sdj%]/g;n.format=function(En){if(!An(En)){for(var Mn=[],Zn=0;Zn<arguments.length;Zn++)Mn.push(c(arguments[Zn]));return Mn.join(" ")}for(var Zn=1,Sr=arguments,$r=Sr.length,Xn=String(En).replace(t,function(_r){if(_r==="%%")return"%";if(Zn>=$r)return _r;switch(_r){case"%s":return String(Sr[Zn++]);case"%d":return Number(Sr[Zn++]);case"%j":try{return JSON.stringify(Sr[Zn++])}catch{return"[Circular]"}default:return _r}}),br=Sr[Zn];Zn<$r;br=Sr[++Zn])Sn(br)||!Dn(br)?Xn+=" "+br:Xn+=" "+c(br);return Xn},n.deprecate=function(En,Mn){if(typeof dist$3.process<"u"&&dist$3.process.noDeprecation===!0)return En;if(typeof dist$3.process>"u")return function(){return n.deprecate(En,Mn).apply(this,arguments)};var Zn=!1;function Sr(){if(!Zn){if(dist$3.process.throwDeprecation)throw new Error(Mn);dist$3.process.traceDeprecation?console.trace(Mn):console.error(Mn),Zn=!0}return En.apply(this,arguments)}return Sr};var r={},o=/^$/;if({}.NODE_DEBUG){var a={}.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+a+"$","i")}n.debuglog=function(En){if(En=En.toUpperCase(),!r[En])if(o.test(En)){var Mn=dist$3.process.pid;r[En]=function(){var Zn=n.format.apply(n,arguments);console.error("%s %d: %s",En,Mn,Zn)}}else r[En]=function(){};return r[En]};function c(En,Mn){var Zn={seen:[],stylize:en};return arguments.length>=3&&(Zn.depth=arguments[2]),arguments.length>=4&&(Zn.colors=arguments[3]),$n(Mn)?Zn.showHidden=Mn:Mn&&n._extend(Zn,Mn),kn(Zn.showHidden)&&(Zn.showHidden=!1),kn(Zn.depth)&&(Zn.depth=2),kn(Zn.colors)&&(Zn.colors=!1),kn(Zn.customInspect)&&(Zn.customInspect=!0),Zn.colors&&(Zn.stylize=u),nn(Zn,En,Zn.depth)}n.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(En,Mn){var Zn=c.styles[Mn];return Zn?"\x1B["+c.colors[Zn][0]+"m"+En+"\x1B["+c.colors[Zn][1]+"m":En}function en(En,Mn){return En}function tn(En){var Mn={};return En.forEach(function(Zn,Sr){Mn[Zn]=!0}),Mn}function nn(En,Mn,Zn){if(En.customInspect&&Mn&&jn(Mn.inspect)&&Mn.inspect!==n.inspect&&!(Mn.constructor&&Mn.constructor.prototype===Mn)){var Sr=Mn.inspect(Zn,En);return An(Sr)||(Sr=nn(En,Sr,Zn)),Sr}var $r=sn(En,Mn);if($r)return $r;var Xn=Object.keys(Mn),br=tn(Xn);if(En.showHidden&&(Xn=Object.getOwnPropertyNames(Mn)),Hn(Mn)&&(Xn.indexOf("message")>=0||Xn.indexOf("description")>=0))return fn(Mn);if(Xn.length===0){if(jn(Mn)){var _r=Mn.name?": "+Mn.name:"";return En.stylize("[Function"+_r+"]","special")}if(Pn(Mn))return En.stylize(RegExp.prototype.toString.call(Mn),"regexp");if(Kn(Mn))return En.stylize(Date.prototype.toString.call(Mn),"date");if(Hn(Mn))return fn(Mn)}var kr="",Cr=!1,qn=["{","}"];if(pn(Mn)&&(Cr=!0,qn=["[","]"]),jn(Mn)){var Jn=Mn.name?": "+Mn.name:"";kr=" [Function"+Jn+"]"}if(Pn(Mn)&&(kr=" "+RegExp.prototype.toString.call(Mn)),Kn(Mn)&&(kr=" "+Date.prototype.toUTCString.call(Mn)),Hn(Mn)&&(kr=" "+fn(Mn)),Xn.length===0&&(!Cr||Mn.length==0))return qn[0]+kr+qn[1];if(Zn<0)return Pn(Mn)?En.stylize(RegExp.prototype.toString.call(Mn),"regexp"):En.stylize("[Object]","special");En.seen.push(Mn);var Qn;return Cr?Qn=dn(En,Mn,Zn,br,Xn):Qn=Xn.map(function(Tr){return hn(En,Mn,Zn,br,Tr,Cr)}),En.seen.pop(),ln(Qn,kr,qn)}function sn(En,Mn){if(kn(Mn))return En.stylize("undefined","undefined");if(An(Mn)){var Zn="'"+JSON.stringify(Mn).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return En.stylize(Zn,"string")}if(In(Mn))return En.stylize(""+Mn,"number");if($n(Mn))return En.stylize(""+Mn,"boolean");if(Sn(Mn))return En.stylize("null","null")}function fn(En){return"["+Error.prototype.toString.call(En)+"]"}function dn(En,Mn,Zn,Sr,$r){for(var Xn=[],br=0,_r=Mn.length;br<_r;++br)Nn(Mn,String(br))?Xn.push(hn(En,Mn,Zn,Sr,String(br),!0)):Xn.push("");return $r.forEach(function(kr){kr.match(/^\d+$/)||Xn.push(hn(En,Mn,Zn,Sr,kr,!0))}),Xn}function hn(En,Mn,Zn,Sr,$r,Xn){var br,_r,kr;if(kr=Object.getOwnPropertyDescriptor(Mn,$r)||{value:Mn[$r]},kr.get?kr.set?_r=En.stylize("[Getter/Setter]","special"):_r=En.stylize("[Getter]","special"):kr.set&&(_r=En.stylize("[Setter]","special")),Nn(Sr,$r)||(br="["+$r+"]"),_r||(En.seen.indexOf(kr.value)<0?(Sn(Zn)?_r=nn(En,kr.value,null):_r=nn(En,kr.value,Zn-1),_r.indexOf(`
`)>-1&&(Xn?_r=_r.split(`
`).map(function(Cr){return"  "+Cr}).join(`
`).slice(2):_r=`
`+_r.split(`
`).map(function(Cr){return"   "+Cr}).join(`
`))):_r=En.stylize("[Circular]","special")),kn(br)){if(Xn&&$r.match(/^\d+$/))return _r;br=JSON.stringify(""+$r),br.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(br=br.slice(1,-1),br=En.stylize(br,"name")):(br=br.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),br=En.stylize(br,"string"))}return br+": "+_r}function ln(En,Mn,Zn){var Sr=En.reduce(function($r,Xn){return Xn.indexOf(`
`)>=0,$r+Xn.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Sr>60?Zn[0]+(Mn===""?"":Mn+`
 `)+" "+En.join(`,
  `)+" "+Zn[1]:Zn[0]+Mn+" "+En.join(", ")+" "+Zn[1]}n.types=types$4;function pn(En){return Array.isArray(En)}n.isArray=pn;function $n(En){return typeof En=="boolean"}n.isBoolean=$n;function Sn(En){return En===null}n.isNull=Sn;function yn(En){return En==null}n.isNullOrUndefined=yn;function In(En){return typeof En=="number"}n.isNumber=In;function An(En){return typeof En=="string"}n.isString=An;function Tn(En){return typeof En=="symbol"}n.isSymbol=Tn;function kn(En){return En===void 0}n.isUndefined=kn;function Pn(En){return Dn(En)&&mn(En)==="[object RegExp]"}n.isRegExp=Pn,n.types.isRegExp=Pn;function Dn(En){return typeof En=="object"&&En!==null}n.isObject=Dn;function Kn(En){return Dn(En)&&mn(En)==="[object Date]"}n.isDate=Kn,n.types.isDate=Kn;function Hn(En){return Dn(En)&&(mn(En)==="[object Error]"||En instanceof Error)}n.isError=Hn,n.types.isNativeError=Hn;function jn(En){return typeof En=="function"}n.isFunction=jn;function Cn(En){return En===null||typeof En=="boolean"||typeof En=="number"||typeof En=="string"||typeof En=="symbol"||typeof En>"u"}n.isPrimitive=Cn,n.isBuffer=isBuffer;function mn(En){return Object.prototype.toString.call(En)}function _n(En){return En<10?"0"+En.toString(10):En.toString(10)}var vn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function On(){var En=new Date,Mn=[_n(En.getHours()),_n(En.getMinutes()),_n(En.getSeconds())].join(":");return[En.getDate(),vn[En.getMonth()],Mn].join(" ")}n.log=function(){console.log("%s - %s",On(),n.format.apply(n,arguments))},n.inherits=inherits_browser.exports,n._extend=function(En,Mn){if(!Mn||!Dn(Mn))return En;for(var Zn=Object.keys(Mn),Sr=Zn.length;Sr--;)En[Zn[Sr]]=Mn[Zn[Sr]];return En};function Nn(En,Mn){return Object.prototype.hasOwnProperty.call(En,Mn)}var Un=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;n.promisify=function(Mn){if(typeof Mn!="function")throw new TypeError('The "original" argument must be of type Function');if(Un&&Mn[Un]){var Zn=Mn[Un];if(typeof Zn!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Zn,Un,{value:Zn,enumerable:!1,writable:!1,configurable:!0}),Zn}function Zn(){for(var Sr,$r,Xn=new Promise(function(kr,Cr){Sr=kr,$r=Cr}),br=[],_r=0;_r<arguments.length;_r++)br.push(arguments[_r]);br.push(function(kr,Cr){kr?$r(kr):Sr(Cr)});try{Mn.apply(this,br)}catch(kr){$r(kr)}return Xn}return Object.setPrototypeOf(Zn,Object.getPrototypeOf(Mn)),Un&&Object.defineProperty(Zn,Un,{value:Zn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Zn,e(Mn))},n.promisify.custom=Un;function zn(En,Mn){if(!En){var Zn=new Error("Promise was rejected with a falsy value");Zn.reason=En,En=Zn}return Mn(En)}function Bn(En){if(typeof En!="function")throw new TypeError('The "original" argument must be of type Function');function Mn(){for(var Zn=[],Sr=0;Sr<arguments.length;Sr++)Zn.push(arguments[Sr]);var $r=Zn.pop();if(typeof $r!="function")throw new TypeError("The last argument must be of type Function");var Xn=this,br=function(){return $r.apply(Xn,arguments)};En.apply(this,Zn).then(function(_r){dist$3.process.nextTick(br.bind(null,null,_r))},function(_r){dist$3.process.nextTick(zn.bind(null,_r,br))})}return Object.setPrototypeOf(Mn,Object.getPrototypeOf(En)),Object.defineProperties(Mn,e(En)),Mn}n.callbackify=Bn})(util$3);function _typeof$4(n){return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(n)}function _defineProperties$3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,_toPropertyKey$4(r.key),r)}}function _createClass$3(n,e,t){return e&&_defineProperties$3(n.prototype,e),t&&_defineProperties$3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function _toPropertyKey$4(n){var e=_toPrimitive$4(n,"string");return _typeof$4(e)==="symbol"?e:String(e)}function _toPrimitive$4(n,e){if(_typeof$4(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(_typeof$4(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _classCallCheck$2(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits$1(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_setPrototypeOf$2(n,e)}function _setPrototypeOf$2(n,e){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},_setPrototypeOf$2(n,e)}function _createSuper$1(n){var e=_isNativeReflectConstruct$1();return function(){var r=_getPrototypeOf$1(n),o;if(e){var a=_getPrototypeOf$1(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn$1(this,o)}}function _possibleConstructorReturn$1(n,e){if(e&&(_typeof$4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$2(n)}function _assertThisInitialized$2(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(n){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf$1(n)}var codes={},assert$a,util$2;function createErrorType(n,e,t){t||(t=Error);function r(a,c,u){return typeof e=="string"?e:e(a,c,u)}var o=function(a){_inherits$1(u,a);var c=_createSuper$1(u);function u(en,tn,nn){var sn;return _classCallCheck$2(this,u),sn=c.call(this,r(en,tn,nn)),sn.code=n,sn}return _createClass$3(u)}(t);codes[n]=o}function oneOf(n,e){if(Array.isArray(n)){var t=n.length;return n=n.map(function(r){return String(r)}),t>2?"one of ".concat(e," ").concat(n.slice(0,t-1).join(", "),", or ")+n[t-1]:t===2?"one of ".concat(e," ").concat(n[0]," or ").concat(n[1]):"of ".concat(e," ").concat(n[0])}else return"of ".concat(e," ").concat(String(n))}function startsWith(n,e,t){return n.substr(!t||t<0?0:+t,e.length)===e}function endsWith$1(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function includes(n,e,t){return typeof t!="number"&&(t=0),t+e.length>n.length?!1:n.indexOf(e,t)!==-1}createErrorType("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);createErrorType("ERR_INVALID_ARG_TYPE",function(n,e,t){assert$a===void 0&&(assert$a=assert$b.exports),assert$a(typeof n=="string","'name' must be a string");var r;typeof e=="string"&&startsWith(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";var o;if(endsWith$1(n," argument"))o="The ".concat(n," ").concat(r," ").concat(oneOf(e,"type"));else{var a=includes(n,".")?"property":"argument";o='The "'.concat(n,'" ').concat(a," ").concat(r," ").concat(oneOf(e,"type"))}return o+=". Received type ".concat(_typeof$4(t)),o},TypeError);createErrorType("ERR_INVALID_ARG_VALUE",function(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";util$2===void 0&&(util$2=util$3);var r=util$2.inspect(e);return r.length>128&&(r="".concat(r.slice(0,128),"...")),"The argument '".concat(n,"' ").concat(t,". Received ").concat(r)},TypeError);createErrorType("ERR_INVALID_RETURN_VALUE",function(n,e,t){var r;return t&&t.constructor&&t.constructor.name?r="instance of ".concat(t.constructor.name):r="type ".concat(_typeof$4(t)),"Expected ".concat(n,' to be returned from the "').concat(e,'"')+" function but got ".concat(r,".")},TypeError);createErrorType("ERR_MISSING_ARGS",function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];assert$a===void 0&&(assert$a=assert$b.exports),assert$a(e.length>0,"At least one arg needs to be specified");var r="The ",o=e.length;switch(e=e.map(function(a){return'"'.concat(a,'"')}),o){case 1:r+="".concat(e[0]," argument");break;case 2:r+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:r+=e.slice(0,o-1).join(", "),r+=", and ".concat(e[o-1]," arguments");break}return"".concat(r," must be specified")},TypeError);errors.codes=codes;function ownKeys$1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function _objectSpread(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(t),!0).forEach(function(r){_defineProperty$1(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ownKeys$1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _defineProperty$1(n,e,t){return e=_toPropertyKey$3(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _classCallCheck$1(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,_toPropertyKey$3(r.key),r)}}function _createClass$2(n,e,t){return e&&_defineProperties$2(n.prototype,e),t&&_defineProperties$2(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function _toPropertyKey$3(n){var e=_toPrimitive$3(n,"string");return _typeof$3(e)==="symbol"?e:String(e)}function _toPrimitive$3(n,e){if(_typeof$3(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(_typeof$3(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _inherits(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_setPrototypeOf$1(n,e)}function _createSuper(n){var e=_isNativeReflectConstruct();return function(){var r=_getPrototypeOf(n),o;if(e){var a=_getPrototypeOf(this).constructor;o=Reflect.construct(r,arguments,a)}else o=r.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(n,e){if(e&&(_typeof$3(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(n)}function _assertThisInitialized$1(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _wrapNativeSuper(n){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(r){if(r===null||!_isNativeFunction(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return _construct(r,arguments,_getPrototypeOf(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf$1(o,r)},_wrapNativeSuper(n)}function _construct(n,e,t){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(o,a,c){var u=[null];u.push.apply(u,a);var en=Function.bind.apply(o,u),tn=new en;return c&&_setPrototypeOf$1(tn,c.prototype),tn},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _isNativeFunction(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function _setPrototypeOf$1(n,e){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},_setPrototypeOf$1(n,e)}function _getPrototypeOf(n){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(n)}function _typeof$3(n){return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(n)}var _require$1=util$3,inspect$3=_require$1.inspect,_require2$1=errors,ERR_INVALID_ARG_TYPE$1=_require2$1.codes.ERR_INVALID_ARG_TYPE;function endsWith(n,e,t){return(t===void 0||t>n.length)&&(t=n.length),n.substring(t-e.length,t)===e}function repeat(n,e){if(e=Math.floor(e),n.length==0||e==0)return"";var t=n.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)n+=n,e--;return n+=n.substring(0,t-n.length),n}var blue="",green="",red="",white="",kReadableOperator={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},kMaxShortLength=10;function copyError(n){var e=Object.keys(n),t=Object.create(Object.getPrototypeOf(n));return e.forEach(function(r){t[r]=n[r]}),Object.defineProperty(t,"message",{value:n.message}),t}function inspectValue(n){return inspect$3(n,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function createErrDiff(n,e,t){var r="",o="",a=0,c="",u=!1,en=inspectValue(n),tn=en.split(`
`),nn=inspectValue(e).split(`
`),sn=0,fn="";if(t==="strictEqual"&&_typeof$3(n)==="object"&&_typeof$3(e)==="object"&&n!==null&&e!==null&&(t="strictEqualObject"),tn.length===1&&nn.length===1&&tn[0]!==nn[0]){var dn=tn[0].length+nn[0].length;if(dn<=kMaxShortLength){if((_typeof$3(n)!=="object"||n===null)&&(_typeof$3(e)!=="object"||e===null)&&(n!==0||e!==0))return"".concat(kReadableOperator[t],`

`)+"".concat(tn[0]," !== ").concat(nn[0],`
`)}else if(t!=="strictEqualObject"){var hn=dist$3.process.stderr&&dist$3.process.stderr.isTTY?dist$3.process.stderr.columns:80;if(dn<hn){for(;tn[0][sn]===nn[0][sn];)sn++;sn>2&&(fn=`
  `.concat(repeat(" ",sn),"^"),sn=0)}}}for(var ln=tn[tn.length-1],pn=nn[nn.length-1];ln===pn&&(sn++<2?c=`
  `.concat(ln).concat(c):r=ln,tn.pop(),nn.pop(),!(tn.length===0||nn.length===0));)ln=tn[tn.length-1],pn=nn[nn.length-1];var $n=Math.max(tn.length,nn.length);if($n===0){var Sn=en.split(`
`);if(Sn.length>30)for(Sn[26]="".concat(blue,"...").concat(white);Sn.length>27;)Sn.pop();return"".concat(kReadableOperator.notIdentical,`

`).concat(Sn.join(`
`),`
`)}sn>3&&(c=`
`.concat(blue,"...").concat(white).concat(c),u=!0),r!==""&&(c=`
  `.concat(r).concat(c),r="");var yn=0,In=kReadableOperator[t]+`
`.concat(green,"+ actual").concat(white," ").concat(red,"- expected").concat(white),An=" ".concat(blue,"...").concat(white," Lines skipped");for(sn=0;sn<$n;sn++){var Tn=sn-a;if(tn.length<sn+1)Tn>1&&sn>2&&(Tn>4?(o+=`
`.concat(blue,"...").concat(white),u=!0):Tn>3&&(o+=`
  `.concat(nn[sn-2]),yn++),o+=`
  `.concat(nn[sn-1]),yn++),a=sn,r+=`
`.concat(red,"-").concat(white," ").concat(nn[sn]),yn++;else if(nn.length<sn+1)Tn>1&&sn>2&&(Tn>4?(o+=`
`.concat(blue,"...").concat(white),u=!0):Tn>3&&(o+=`
  `.concat(tn[sn-2]),yn++),o+=`
  `.concat(tn[sn-1]),yn++),a=sn,o+=`
`.concat(green,"+").concat(white," ").concat(tn[sn]),yn++;else{var kn=nn[sn],Pn=tn[sn],Dn=Pn!==kn&&(!endsWith(Pn,",")||Pn.slice(0,-1)!==kn);Dn&&endsWith(kn,",")&&kn.slice(0,-1)===Pn&&(Dn=!1,Pn+=","),Dn?(Tn>1&&sn>2&&(Tn>4?(o+=`
`.concat(blue,"...").concat(white),u=!0):Tn>3&&(o+=`
  `.concat(tn[sn-2]),yn++),o+=`
  `.concat(tn[sn-1]),yn++),a=sn,o+=`
`.concat(green,"+").concat(white," ").concat(Pn),r+=`
`.concat(red,"-").concat(white," ").concat(kn),yn+=2):(o+=r,r="",(Tn===1||sn===0)&&(o+=`
  `.concat(Pn),yn++))}if(yn>20&&sn<$n-2)return"".concat(In).concat(An,`
`).concat(o,`
`).concat(blue,"...").concat(white).concat(r,`
`)+"".concat(blue,"...").concat(white)}return"".concat(In).concat(u?An:"",`
`).concat(o).concat(r).concat(c).concat(fn)}var AssertionError$2=function(n,e){_inherits(r,n);var t=_createSuper(r);function r(o){var a;if(_classCallCheck$1(this,r),_typeof$3(o)!=="object"||o===null)throw new ERR_INVALID_ARG_TYPE$1("options","Object",o);var c=o.message,u=o.operator,en=o.stackStartFn,tn=o.actual,nn=o.expected,sn=Error.stackTraceLimit;if(Error.stackTraceLimit=0,c!=null)a=t.call(this,String(c));else if(dist$3.process.stderr&&dist$3.process.stderr.isTTY&&(dist$3.process.stderr&&dist$3.process.stderr.getColorDepth&&dist$3.process.stderr.getColorDepth()!==1?(blue="\x1B[34m",green="\x1B[32m",white="\x1B[39m",red="\x1B[31m"):(blue="",green="",white="",red="")),_typeof$3(tn)==="object"&&tn!==null&&_typeof$3(nn)==="object"&&nn!==null&&"stack"in tn&&tn instanceof Error&&"stack"in nn&&nn instanceof Error&&(tn=copyError(tn),nn=copyError(nn)),u==="deepStrictEqual"||u==="strictEqual")a=t.call(this,createErrDiff(tn,nn,u));else if(u==="notDeepStrictEqual"||u==="notStrictEqual"){var fn=kReadableOperator[u],dn=inspectValue(tn).split(`
`);if(u==="notStrictEqual"&&_typeof$3(tn)==="object"&&tn!==null&&(fn=kReadableOperator.notStrictEqualObject),dn.length>30)for(dn[26]="".concat(blue,"...").concat(white);dn.length>27;)dn.pop();dn.length===1?a=t.call(this,"".concat(fn," ").concat(dn[0])):a=t.call(this,"".concat(fn,`

`).concat(dn.join(`
`),`
`))}else{var hn=inspectValue(tn),ln="",pn=kReadableOperator[u];u==="notDeepEqual"||u==="notEqual"?(hn="".concat(kReadableOperator[u],`

`).concat(hn),hn.length>1024&&(hn="".concat(hn.slice(0,1021),"..."))):(ln="".concat(inspectValue(nn)),hn.length>512&&(hn="".concat(hn.slice(0,509),"...")),ln.length>512&&(ln="".concat(ln.slice(0,509),"...")),u==="deepEqual"||u==="equal"?hn="".concat(pn,`

`).concat(hn,`

should equal

`):ln=" ".concat(u," ").concat(ln)),a=t.call(this,"".concat(hn).concat(ln))}return Error.stackTraceLimit=sn,a.generatedMessage=!c,Object.defineProperty(_assertThisInitialized$1(a),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),a.code="ERR_ASSERTION",a.actual=tn,a.expected=nn,a.operator=u,Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized$1(a),en),a.stack,a.name="AssertionError",_possibleConstructorReturn(a)}return _createClass$2(r,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:e,value:function(a,c){return inspect$3(this,_objectSpread(_objectSpread({},c),{},{customInspect:!1,depth:0}))}}]),r}(_wrapNativeSuper(Error),inspect$3.custom),assertion_error=AssertionError$2,toStr$2=Object.prototype.toString,isArguments$1=function(e){var t=toStr$2.call(e),r=t==="[object Arguments]";return r||(r=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&toStr$2.call(e.callee)==="[object Function]"),r},keysShim$1;if(!Object.keys){var has$1=Object.prototype.hasOwnProperty,toStr$1=Object.prototype.toString,isArgs$1=isArguments$1,isEnumerable=Object.prototype.propertyIsEnumerable,hasDontEnumBug=!isEnumerable.call({toString:null},"toString"),hasProtoEnumBug=isEnumerable.call(function(){},"prototype"),dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(n){var e=n.constructor;return e&&e.prototype===n},excludedKeys={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},hasAutomationEqualityBug=function(){if(typeof window>"u")return!1;for(var n in window)try{if(!excludedKeys["$"+n]&&has$1.call(window,n)&&window[n]!==null&&typeof window[n]=="object")try{equalsConstructorPrototype(window[n])}catch{return!0}}catch{return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(n){if(typeof window>"u"||!hasAutomationEqualityBug)return equalsConstructorPrototype(n);try{return equalsConstructorPrototype(n)}catch{return!1}};keysShim$1=function(e){var t=e!==null&&typeof e=="object",r=toStr$1.call(e)==="[object Function]",o=isArgs$1(e),a=t&&toStr$1.call(e)==="[object String]",c=[];if(!t&&!r&&!o)throw new TypeError("Object.keys called on a non-object");var u=hasProtoEnumBug&&r;if(a&&e.length>0&&!has$1.call(e,0))for(var en=0;en<e.length;++en)c.push(String(en));if(o&&e.length>0)for(var tn=0;tn<e.length;++tn)c.push(String(tn));else for(var nn in e)!(u&&nn==="prototype")&&has$1.call(e,nn)&&c.push(String(nn));if(hasDontEnumBug)for(var sn=equalsConstructorPrototypeIfNotBuggy(e),fn=0;fn<dontEnums.length;++fn)!(sn&&dontEnums[fn]==="constructor")&&has$1.call(e,dontEnums[fn])&&c.push(dontEnums[fn]);return c}}var implementation$8=keysShim$1,slice=Array.prototype.slice,isArgs=isArguments$1,origKeys=Object.keys,keysShim=origKeys?function(e){return origKeys(e)}:implementation$8,originalKeys=Object.keys;keysShim.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(r){return isArgs(r)?originalKeys(slice.call(r)):originalKeys(r)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$2=keysShim,objectKeys$1=objectKeys$2,hasSymbols$1=shams$1(),callBound=callBound$3,toObject=Object,$push=callBound("Array.prototype.push"),$propIsEnumerable=callBound("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols$1?Object.getOwnPropertySymbols:null,implementation$7=function(e,t){if(e==null)throw new TypeError("target must be an object");var r=toObject(e);if(arguments.length===1)return r;for(var o=1;o<arguments.length;++o){var a=toObject(arguments[o]),c=objectKeys$1(a),u=hasSymbols$1&&(Object.getOwnPropertySymbols||originalGetSymbols);if(u)for(var en=u(a),tn=0;tn<en.length;++tn){var nn=en[tn];$propIsEnumerable(a,nn)&&$push(c,nn)}for(var sn=0;sn<c.length;++sn){var fn=c[sn];if($propIsEnumerable(a,fn)){var dn=a[fn];r[fn]=dn}}}return r},implementation$6=implementation$7,lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",e=n.split(""),t={},r=0;r<e.length;++r)t[e[r]]=e[r];var o=Object.assign({},t),a="";for(var c in o)a+=c;return n!==a},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1},polyfill$4=function(){return!Object.assign||lacksProperEnumerationOrder()||assignHasPendingExceptions()?implementation$6:Object.assign},numberIsNaN$1=function(n){return n!==n},implementation$5=function(e,t){return e===0&&t===0?1/e===1/t:!!(e===t||numberIsNaN$1(e)&&numberIsNaN$1(t))},implementation$4=implementation$5,polyfill$3=function(){return typeof Object.is=="function"?Object.is:implementation$4},keys$2=objectKeys$2,hasSymbols=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",toStr=Object.prototype.toString,concat=Array.prototype.concat,defineDataProperty=defineDataProperty$1,isFunction$2=function(n){return typeof n=="function"&&toStr.call(n)==="[object Function]"},supportsDescriptors=hasPropertyDescriptors_1(),defineProperty$1=function(n,e,t,r){if(e in n){if(r===!0){if(n[e]===t)return}else if(!isFunction$2(r)||!r())return}supportsDescriptors?defineDataProperty(n,e,t,!0):defineDataProperty(n,e,t)},defineProperties=function(n,e){var t=arguments.length>2?arguments[2]:{},r=keys$2(e);hasSymbols&&(r=concat.call(r,Object.getOwnPropertySymbols(e)));for(var o=0;o<r.length;o+=1)defineProperty$1(n,r[o],e[r[o]],t[r[o]])};defineProperties.supportsDescriptors=!!supportsDescriptors;var defineProperties_1=defineProperties,getPolyfill$3=polyfill$3,define$6=defineProperties_1,shim$3=function(){var e=getPolyfill$3();return define$6(Object,{is:e},{is:function(){return Object.is!==e}}),e},define$5=defineProperties_1,callBind$1=callBind$4.exports,implementation$3=implementation$5,getPolyfill$2=polyfill$3,shim$2=shim$3,polyfill$2=callBind$1(getPolyfill$2(),Object);define$5(polyfill$2,{getPolyfill:getPolyfill$2,implementation:implementation$3,shim:shim$2});var objectIs$2=polyfill$2,implementation$2=function(e){return e!==e},implementation$1=implementation$2,polyfill$1=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:implementation$1},define$4=defineProperties_1,getPolyfill$1=polyfill$1,shim$1=function(){var e=getPolyfill$1();return define$4(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e},callBind=callBind$4.exports,define$3=defineProperties_1,implementation=implementation$2,getPolyfill=polyfill$1,shim=shim$1,polyfill=callBind(getPolyfill(),Number);define$3(polyfill,{getPolyfill,implementation,shim});var isNan=polyfill;function _slicedToArray(n,e){return _arrayWithHoles(n)||_iterableToArrayLimit(n,e)||_unsupportedIterableToArray$1(n,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(n,e){if(!!n){if(typeof n=="string")return _arrayLikeToArray$1(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray$1(n,e)}}function _arrayLikeToArray$1(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _iterableToArrayLimit(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,o,a,c,u=[],en=!0,tn=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;en=!1}else for(;!(en=(r=a.call(t)).done)&&(u.push(r.value),u.length!==e);en=!0);}catch(nn){tn=!0,o=nn}finally{try{if(!en&&t.return!=null&&(c=t.return(),Object(c)!==c))return}finally{if(tn)throw o}}return u}}function _arrayWithHoles(n){if(Array.isArray(n))return n}function _typeof$2(n){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(n)}var regexFlagsSupported=/a/g.flags!==void 0,arrayFromSet=function(e){var t=[];return e.forEach(function(r){return t.push(r)}),t},arrayFromMap=function(e){var t=[];return e.forEach(function(r,o){return t.push([o,r])}),t},objectIs$1=Object.is?Object.is:objectIs$2,objectGetOwnPropertySymbols=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},numberIsNaN=Number.isNaN?Number.isNaN:isNan;function uncurryThis(n){return n.call.bind(n)}var hasOwnProperty$1=uncurryThis(Object.prototype.hasOwnProperty),propertyIsEnumerable=uncurryThis(Object.prototype.propertyIsEnumerable),objectToString$1=uncurryThis(Object.prototype.toString),_require$types$1=util$3.types,isAnyArrayBuffer=_require$types$1.isAnyArrayBuffer,isArrayBufferView=_require$types$1.isArrayBufferView,isDate$1=_require$types$1.isDate,isMap=_require$types$1.isMap,isRegExp$2=_require$types$1.isRegExp,isSet=_require$types$1.isSet,isNativeError=_require$types$1.isNativeError,isBoxedPrimitive=_require$types$1.isBoxedPrimitive,isNumberObject=_require$types$1.isNumberObject,isStringObject=_require$types$1.isStringObject,isBooleanObject=_require$types$1.isBooleanObject,isBigIntObject=_require$types$1.isBigIntObject,isSymbolObject=_require$types$1.isSymbolObject,isFloat32Array=_require$types$1.isFloat32Array,isFloat64Array=_require$types$1.isFloat64Array;function isNonIndex(n){if(n.length===0||n.length>10)return!0;for(var e=0;e<n.length;e++){var t=n.charCodeAt(e);if(t<48||t>57)return!0}return n.length===10&&n>=Math.pow(2,32)}function getOwnNonIndexProperties(n){return Object.keys(n).filter(isNonIndex).concat(objectGetOwnPropertySymbols(n).filter(Object.prototype.propertyIsEnumerable.bind(n)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare$1(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,o=0,a=Math.min(t,r);o<a;++o)if(n[o]!==e[o]){t=n[o],r=e[o];break}return t<r?-1:r<t?1:0}var kStrict=!0,kLoose=!1,kNoIterator=0,kIsArray=1,kIsSet=2,kIsMap=3;function areSimilarRegExps(n,e){return regexFlagsSupported?n.source===e.source&&n.flags===e.flags:RegExp.prototype.toString.call(n)===RegExp.prototype.toString.call(e)}function areSimilarFloatArrays(n,e){if(n.byteLength!==e.byteLength)return!1;for(var t=0;t<n.byteLength;t++)if(n[t]!==e[t])return!1;return!0}function areSimilarTypedArrays(n,e){return n.byteLength!==e.byteLength?!1:compare$1(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function areEqualArrayBuffers(n,e){return n.byteLength===e.byteLength&&compare$1(new Uint8Array(n),new Uint8Array(e))===0}function isEqualBoxedPrimitive(n,e){return isNumberObject(n)?isNumberObject(e)&&objectIs$1(Number.prototype.valueOf.call(n),Number.prototype.valueOf.call(e)):isStringObject(n)?isStringObject(e)&&String.prototype.valueOf.call(n)===String.prototype.valueOf.call(e):isBooleanObject(n)?isBooleanObject(e)&&Boolean.prototype.valueOf.call(n)===Boolean.prototype.valueOf.call(e):isBigIntObject(n)?isBigIntObject(e)&&BigInt.prototype.valueOf.call(n)===BigInt.prototype.valueOf.call(e):isSymbolObject(e)&&Symbol.prototype.valueOf.call(n)===Symbol.prototype.valueOf.call(e)}function innerDeepEqual(n,e,t,r){if(n===e)return n!==0?!0:t?objectIs$1(n,e):!0;if(t){if(_typeof$2(n)!=="object")return typeof n=="number"&&numberIsNaN(n)&&numberIsNaN(e);if(_typeof$2(e)!=="object"||n===null||e===null||Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1}else{if(n===null||_typeof$2(n)!=="object")return e===null||_typeof$2(e)!=="object"?n==e:!1;if(e===null||_typeof$2(e)!=="object")return!1}var o=objectToString$1(n),a=objectToString$1(e);if(o!==a)return!1;if(Array.isArray(n)){if(n.length!==e.length)return!1;var c=getOwnNonIndexProperties(n),u=getOwnNonIndexProperties(e);return c.length!==u.length?!1:keyCheck(n,e,t,r,kIsArray,c)}if(o==="[object Object]"&&(!isMap(n)&&isMap(e)||!isSet(n)&&isSet(e)))return!1;if(isDate$1(n)){if(!isDate$1(e)||Date.prototype.getTime.call(n)!==Date.prototype.getTime.call(e))return!1}else if(isRegExp$2(n)){if(!isRegExp$2(e)||!areSimilarRegExps(n,e))return!1}else if(isNativeError(n)||n instanceof Error){if(n.message!==e.message||n.name!==e.name)return!1}else if(isArrayBufferView(n)){if(!t&&(isFloat32Array(n)||isFloat64Array(n))){if(!areSimilarFloatArrays(n,e))return!1}else if(!areSimilarTypedArrays(n,e))return!1;var en=getOwnNonIndexProperties(n),tn=getOwnNonIndexProperties(e);return en.length!==tn.length?!1:keyCheck(n,e,t,r,kNoIterator,en)}else{if(isSet(n))return!isSet(e)||n.size!==e.size?!1:keyCheck(n,e,t,r,kIsSet);if(isMap(n))return!isMap(e)||n.size!==e.size?!1:keyCheck(n,e,t,r,kIsMap);if(isAnyArrayBuffer(n)){if(!areEqualArrayBuffers(n,e))return!1}else if(isBoxedPrimitive(n)&&!isEqualBoxedPrimitive(n,e))return!1}return keyCheck(n,e,t,r,kNoIterator)}function getEnumerables(n,e){return e.filter(function(t){return propertyIsEnumerable(n,t)})}function keyCheck(n,e,t,r,o,a){if(arguments.length===5){a=Object.keys(n);var c=Object.keys(e);if(a.length!==c.length)return!1}for(var u=0;u<a.length;u++)if(!hasOwnProperty$1(e,a[u]))return!1;if(t&&arguments.length===5){var en=objectGetOwnPropertySymbols(n);if(en.length!==0){var tn=0;for(u=0;u<en.length;u++){var nn=en[u];if(propertyIsEnumerable(n,nn)){if(!propertyIsEnumerable(e,nn))return!1;a.push(nn),tn++}else if(propertyIsEnumerable(e,nn))return!1}var sn=objectGetOwnPropertySymbols(e);if(en.length!==sn.length&&getEnumerables(e,sn).length!==tn)return!1}else{var fn=objectGetOwnPropertySymbols(e);if(fn.length!==0&&getEnumerables(e,fn).length!==0)return!1}}if(a.length===0&&(o===kNoIterator||o===kIsArray&&n.length===0||n.size===0))return!0;if(r===void 0)r={val1:new Map,val2:new Map,position:0};else{var dn=r.val1.get(n);if(dn!==void 0){var hn=r.val2.get(e);if(hn!==void 0)return dn===hn}r.position++}r.val1.set(n,r.position),r.val2.set(e,r.position);var ln=objEquiv$1(n,e,t,a,r,o);return r.val1.delete(n),r.val2.delete(e),ln}function setHasEqualElement(n,e,t,r){for(var o=arrayFromSet(n),a=0;a<o.length;a++){var c=o[a];if(innerDeepEqual(e,c,t,r))return n.delete(c),!0}return!1}function findLooseMatchingPrimitives(n){switch(_typeof$2(n)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":n=+n;case"number":if(numberIsNaN(n))return!1}return!0}function setMightHaveLoosePrim(n,e,t){var r=findLooseMatchingPrimitives(t);return r??(e.has(r)&&!n.has(r))}function mapMightHaveLoosePrim(n,e,t,r,o){var a=findLooseMatchingPrimitives(t);if(a!=null)return a;var c=e.get(a);return c===void 0&&!e.has(a)||!innerDeepEqual(r,c,!1,o)?!1:!n.has(a)&&innerDeepEqual(r,c,!1,o)}function setEquiv(n,e,t,r){for(var o=null,a=arrayFromSet(n),c=0;c<a.length;c++){var u=a[c];if(_typeof$2(u)==="object"&&u!==null)o===null&&(o=new Set),o.add(u);else if(!e.has(u)){if(t||!setMightHaveLoosePrim(n,e,u))return!1;o===null&&(o=new Set),o.add(u)}}if(o!==null){for(var en=arrayFromSet(e),tn=0;tn<en.length;tn++){var nn=en[tn];if(_typeof$2(nn)==="object"&&nn!==null){if(!setHasEqualElement(o,nn,t,r))return!1}else if(!t&&!n.has(nn)&&!setHasEqualElement(o,nn,t,r))return!1}return o.size===0}return!0}function mapHasEqualEntry(n,e,t,r,o,a){for(var c=arrayFromSet(n),u=0;u<c.length;u++){var en=c[u];if(innerDeepEqual(t,en,o,a)&&innerDeepEqual(r,e.get(en),o,a))return n.delete(en),!0}return!1}function mapEquiv(n,e,t,r){for(var o=null,a=arrayFromMap(n),c=0;c<a.length;c++){var u=_slicedToArray(a[c],2),en=u[0],tn=u[1];if(_typeof$2(en)==="object"&&en!==null)o===null&&(o=new Set),o.add(en);else{var nn=e.get(en);if(nn===void 0&&!e.has(en)||!innerDeepEqual(tn,nn,t,r)){if(t||!mapMightHaveLoosePrim(n,e,en,tn,r))return!1;o===null&&(o=new Set),o.add(en)}}}if(o!==null){for(var sn=arrayFromMap(e),fn=0;fn<sn.length;fn++){var dn=_slicedToArray(sn[fn],2),hn=dn[0],ln=dn[1];if(_typeof$2(hn)==="object"&&hn!==null){if(!mapHasEqualEntry(o,n,hn,ln,t,r))return!1}else if(!t&&(!n.has(hn)||!innerDeepEqual(n.get(hn),ln,!1,r))&&!mapHasEqualEntry(o,n,hn,ln,!1,r))return!1}return o.size===0}return!0}function objEquiv$1(n,e,t,r,o,a){var c=0;if(a===kIsSet){if(!setEquiv(n,e,t,o))return!1}else if(a===kIsMap){if(!mapEquiv(n,e,t,o))return!1}else if(a===kIsArray)for(;c<n.length;c++)if(hasOwnProperty$1(n,c)){if(!hasOwnProperty$1(e,c)||!innerDeepEqual(n[c],e[c],t,o))return!1}else{if(hasOwnProperty$1(e,c))return!1;for(var u=Object.keys(n);c<u.length;c++){var en=u[c];if(!hasOwnProperty$1(e,en)||!innerDeepEqual(n[en],e[en],t,o))return!1}return u.length===Object.keys(e).length}for(c=0;c<r.length;c++){var tn=r[c];if(!innerDeepEqual(n[tn],e[tn],t,o))return!1}return!0}function isDeepEqual$1(n,e){return innerDeepEqual(n,e,kLoose)}function isDeepStrictEqual$1(n,e){return innerDeepEqual(n,e,kStrict)}var comparisons={isDeepEqual:isDeepEqual$1,isDeepStrictEqual:isDeepStrictEqual$1};function _typeof$1(n){return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(n)}function _defineProperties$1(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,_toPropertyKey$2(r.key),r)}}function _createClass$1(n,e,t){return e&&_defineProperties$1(n.prototype,e),t&&_defineProperties$1(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function _toPropertyKey$2(n){var e=_toPrimitive$2(n,"string");return _typeof$1(e)==="symbol"?e:String(e)}function _toPrimitive$2(n,e){if(_typeof$1(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(_typeof$1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var _require=errors,_require$codes=_require.codes,ERR_AMBIGUOUS_ARGUMENT=_require$codes.ERR_AMBIGUOUS_ARGUMENT,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_INVALID_ARG_VALUE=_require$codes.ERR_INVALID_ARG_VALUE,ERR_INVALID_RETURN_VALUE=_require$codes.ERR_INVALID_RETURN_VALUE,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,AssertionError$1=assertion_error,_require2=util$3,inspect$2=_require2.inspect,_require$types=util$3.types,isPromise=_require$types.isPromise,isRegExp$1=_require$types.isRegExp,objectAssign=polyfill$4(),objectIs=polyfill$3(),RegExpPrototypeTest=callBound$3("RegExp.prototype.test"),isDeepEqual,isDeepStrictEqual;function lazyLoadComparison(){var n=comparisons;isDeepEqual=n.isDeepEqual,isDeepStrictEqual=n.isDeepStrictEqual}var warned=!1,assert$8=assert$b.exports=ok$1,NO_EXCEPTION_SENTINEL={};function innerFail(n){throw n.message instanceof Error?n.message:new AssertionError$1(n)}function fail$2(n,e,t,r,o){var a=arguments.length,c;if(a===0)c="Failed";else if(a===1)t=n,n=void 0;else{if(warned===!1){warned=!0;var u=dist$3.process.emitWarning?dist$3.process.emitWarning:console.warn.bind(console);u("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}a===2&&(r="!=")}if(t instanceof Error)throw t;var en={actual:n,expected:e,operator:r===void 0?"fail":r,stackStartFn:o||fail$2};t!==void 0&&(en.message=t);var tn=new AssertionError$1(en);throw c&&(tn.message=c,tn.generatedMessage=!0),tn}assert$8.fail=fail$2;assert$8.AssertionError=AssertionError$1;function innerOk(n,e,t,r){if(!t){var o=!1;if(e===0)o=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var a=new AssertionError$1({actual:t,expected:!0,message:r,operator:"==",stackStartFn:n});throw a.generatedMessage=o,a}}function ok$1(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];innerOk.apply(void 0,[ok$1,e.length].concat(e))}assert$8.ok=ok$1;assert$8.equal=function n(e,t,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");e!=t&&innerFail({actual:e,expected:t,message:r,operator:"==",stackStartFn:n})};assert$8.notEqual=function n(e,t,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");e==t&&innerFail({actual:e,expected:t,message:r,operator:"!=",stackStartFn:n})};assert$8.deepEqual=function n(e,t,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(e,t)||innerFail({actual:e,expected:t,message:r,operator:"deepEqual",stackStartFn:n})};assert$8.notDeepEqual=function n(e,t,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepEqual(e,t)&&innerFail({actual:e,expected:t,message:r,operator:"notDeepEqual",stackStartFn:n})};assert$8.deepStrictEqual=function n(e,t,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(e,t)||innerFail({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n})};assert$8.notDeepStrictEqual=notDeepStrictEqual$1;function notDeepStrictEqual$1(n,e,t){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");isDeepEqual===void 0&&lazyLoadComparison(),isDeepStrictEqual(n,e)&&innerFail({actual:n,expected:e,message:t,operator:"notDeepStrictEqual",stackStartFn:notDeepStrictEqual$1})}assert$8.strictEqual=function n(e,t,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(e,t)||innerFail({actual:e,expected:t,message:r,operator:"strictEqual",stackStartFn:n})};assert$8.notStrictEqual=function n(e,t,r){if(arguments.length<2)throw new ERR_MISSING_ARGS("actual","expected");objectIs(e,t)&&innerFail({actual:e,expected:t,message:r,operator:"notStrictEqual",stackStartFn:n})};var Comparison=_createClass$1(function n(e,t,r){var o=this;_classCallCheck(this,n),t.forEach(function(a){a in e&&(r!==void 0&&typeof r[a]=="string"&&isRegExp$1(e[a])&&RegExpPrototypeTest(e[a],r[a])?o[a]=r[a]:o[a]=e[a])})});function compareExceptionKey(n,e,t,r,o,a){if(!(t in n)||!isDeepStrictEqual(n[t],e[t])){if(!r){var c=new Comparison(n,o),u=new Comparison(e,o,n),en=new AssertionError$1({actual:c,expected:u,operator:"deepStrictEqual",stackStartFn:a});throw en.actual=n,en.expected=e,en.operator=a.name,en}innerFail({actual:n,expected:e,message:r,operator:a.name,stackStartFn:a})}}function expectedException$1(n,e,t,r){if(typeof e!="function"){if(isRegExp$1(e))return RegExpPrototypeTest(e,n);if(arguments.length===2)throw new ERR_INVALID_ARG_TYPE("expected",["Function","RegExp"],e);if(_typeof$1(n)!=="object"||n===null){var o=new AssertionError$1({actual:n,expected:e,message:t,operator:"deepStrictEqual",stackStartFn:r});throw o.operator=r.name,o}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(a.length===0)throw new ERR_INVALID_ARG_VALUE("error",e,"may not be an empty object");return isDeepEqual===void 0&&lazyLoadComparison(),a.forEach(function(c){typeof n[c]=="string"&&isRegExp$1(e[c])&&RegExpPrototypeTest(e[c],n[c])||compareExceptionKey(n,e,c,t,a,r)}),!0}return e.prototype!==void 0&&n instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function getActual(n){if(typeof n!="function")throw new ERR_INVALID_ARG_TYPE("fn","Function",n);try{n()}catch(e){return e}return NO_EXCEPTION_SENTINEL}function checkIsPromise(n){return isPromise(n)||n!==null&&_typeof$1(n)==="object"&&typeof n.then=="function"&&typeof n.catch=="function"}function waitForActual(n){return Promise.resolve().then(function(){var e;if(typeof n=="function"){if(e=n(),!checkIsPromise(e))throw new ERR_INVALID_RETURN_VALUE("instance of Promise","promiseFn",e)}else if(checkIsPromise(n))e=n;else throw new ERR_INVALID_ARG_TYPE("promiseFn",["Function","Promise"],n);return Promise.resolve().then(function(){return e}).then(function(){return NO_EXCEPTION_SENTINEL}).catch(function(t){return t})})}function expectsError(n,e,t,r){if(typeof t=="string"){if(arguments.length===4)throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],t);if(_typeof$1(e)==="object"&&e!==null){if(e.message===t)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===t)throw new ERR_AMBIGUOUS_ARGUMENT("error/message",'The error "'.concat(e,'" is identical to the message.'));r=t,t=void 0}else if(t!=null&&_typeof$1(t)!=="object"&&typeof t!="function")throw new ERR_INVALID_ARG_TYPE("error",["Object","Error","Function","RegExp"],t);if(e===NO_EXCEPTION_SENTINEL){var o="";t&&t.name&&(o+=" (".concat(t.name,")")),o+=r?": ".concat(r):".";var a=n.name==="rejects"?"rejection":"exception";innerFail({actual:void 0,expected:t,operator:n.name,message:"Missing expected ".concat(a).concat(o),stackStartFn:n})}if(t&&!expectedException$1(e,t,r,n))throw e}function expectsNoError(n,e,t,r){if(e!==NO_EXCEPTION_SENTINEL){if(typeof t=="string"&&(r=t,t=void 0),!t||expectedException$1(e,t)){var o=r?": ".concat(r):".",a=n.name==="doesNotReject"?"rejection":"exception";innerFail({actual:e,expected:t,operator:n.name,message:"Got unwanted ".concat(a).concat(o,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:n})}throw e}}assert$8.throws=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];expectsError.apply(void 0,[n,getActual(e)].concat(r))};assert$8.rejects=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return waitForActual(e).then(function(a){return expectsError.apply(void 0,[n,a].concat(r))})};assert$8.doesNotThrow=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];expectsNoError.apply(void 0,[n,getActual(e)].concat(r))};assert$8.doesNotReject=function n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return waitForActual(e).then(function(a){return expectsNoError.apply(void 0,[n,a].concat(r))})};assert$8.ifError=function n(e){if(e!=null){var t="ifError got unwanted exception: ";_typeof$1(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?t+=e.constructor.name:t+=e.message:t+=inspect$2(e);var r=new AssertionError$1({actual:e,expected:null,operator:"ifError",message:t,stackStartFn:n}),o=e.stack;if(typeof o=="string"){var a=o.split(`
`);a.shift();for(var c=r.stack.split(`
`),u=0;u<a.length;u++){var en=c.indexOf(a[u]);if(en!==-1){c=c.slice(0,en);break}}r.stack="".concat(c.join(`
`),`
`).concat(a.join(`
`))}throw r}};function internalMatch(n,e,t,r,o){if(!isRegExp$1(e))throw new ERR_INVALID_ARG_TYPE("regexp","RegExp",e);var a=o==="match";if(typeof n!="string"||RegExpPrototypeTest(e,n)!==a){if(t instanceof Error)throw t;var c=!t;t=t||(typeof n!="string"?'The "string" argument must be of type string. Received type '+"".concat(_typeof$1(n)," (").concat(inspect$2(n),")"):(a?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(inspect$2(e),`. Input:

`).concat(inspect$2(n),`
`));var u=new AssertionError$1({actual:n,expected:e,message:t,operator:o,stackStartFn:r});throw u.generatedMessage=c,u}}assert$8.match=function n(e,t,r){internalMatch(e,t,r,n,"match")};assert$8.doesNotMatch=function n(e,t,r){internalMatch(e,t,r,n,"doesNotMatch")};function strict(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];innerOk.apply(void 0,[strict,e.length].concat(e))}assert$8.strict=objectAssign(strict,assert$8,{equal:assert$8.strictEqual,deepEqual:assert$8.deepStrictEqual,notEqual:assert$8.notStrictEqual,notDeepEqual:assert$8.notDeepStrictEqual});assert$8.strict.strict=assert$8.strict;var assert$9=assert$b.exports;Object.defineProperty(types$5,"__esModule",{value:!0});types$5.isElementCollectionFixedSizeBeet=types$5.isFixableBeet=types$5.assertFixedSizeBeet=types$5.isFixedSizeBeet=types$5.BEET_TYPE_ARG_INNER=types$5.BEET_TYPE_ARG_LEN=types$5.BEET_PACKAGE=void 0;const assert_1$a=assert$b.exports;types$5.BEET_PACKAGE="@metaplex-foundation/beet";types$5.BEET_TYPE_ARG_LEN="len";types$5.BEET_TYPE_ARG_INNER="Beet<{innner}>";function isFixedSizeBeet(n){return Object.keys(n).includes("byteSize")}types$5.isFixedSizeBeet=isFixedSizeBeet;function assertFixedSizeBeet(n,e=`${n} should have been a fixed beet`){(0,assert_1$a.strict)(isFixedSizeBeet(n),e)}types$5.assertFixedSizeBeet=assertFixedSizeBeet;function isFixableBeet(n){return typeof n.toFixedFromData=="function"&&typeof n.toFixedFromValue=="function"}types$5.isFixableBeet=isFixableBeet;function isElementCollectionFixedSizeBeet(n){const e=Object.keys(n);return e.includes("length")&&e.includes("elementByteSize")&&e.includes("lenPrefixByteSize")}types$5.isElementCollectionFixedSizeBeet=isElementCollectionFixedSizeBeet;var numbers={};(function(n){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.numbersTypeMap=n.bool=n.i512=n.i256=n.i128=n.i64=n.i32=n.i16=n.i8=n.u512=n.u256=n.u128=n.u64=n.u32=n.u16=n.u8=void 0;const t=e(bn.exports),r=types$5;n.u8={write:function(c,u,en){c.writeUInt8(en,u)},read:function(c,u){return c.readUInt8(u)},byteSize:1,description:"u8"},n.u16={write:function(c,u,en){c.writeUInt16LE(en,u)},read:function(c,u){return c.readUInt16LE(u)},byteSize:2,description:"u16"},n.u32={write:function(c,u,en){c.writeUInt32LE(en,u)},read:function(c,u){return c.readUInt32LE(u)},byteSize:4,description:"u32"};function o(c,u){return{write:function(en,tn,nn){const fn=(t.default.isBN(nn)?nn:new t.default(nn)).toArray("le",this.byteSize);dist$3.Buffer.from(fn).copy(en,tn,0,this.byteSize)},read:function(en,tn){const nn=en.slice(tn,tn+this.byteSize);return new t.default(nn,"le")},byteSize:c,description:u}}n.u64=o(8,"u64"),n.u128=o(16,"u128"),n.u256=o(32,"u256"),n.u512=o(64,"u512"),n.i8={write:function(c,u,en){c.writeInt8(en,u)},read:function(c,u){return c.readInt8(u)},byteSize:1,description:"i8"},n.i16={write:function(c,u,en){c.writeInt16LE(en,u)},read:function(c,u){return c.readInt16LE(u)},byteSize:2,description:"i16"},n.i32={write:function(c,u,en){c.writeInt32LE(en,u)},read:function(c,u){return c.readInt32LE(u)},byteSize:4,description:"i32"};function a(c,u){const en=c*8;return{write:function(tn,nn,sn){const dn=(t.default.isBN(sn)?sn:new t.default(sn)).toTwos(en).toArray("le",this.byteSize);dist$3.Buffer.from(dn).copy(tn,nn,0,this.byteSize)},read:function(tn,nn){const sn=tn.slice(nn,nn+this.byteSize);return new t.default(sn,"le").fromTwos(en)},byteSize:c,description:u}}n.i64=a(8,"i64"),n.i128=a(16,"i128"),n.i256=a(32,"i256"),n.i512=a(64,"i512"),n.bool={write:function(c,u,en){const tn=en?1:0;n.u8.write(c,u,tn)},read:function(c,u){return n.u8.read(c,u)===1},byteSize:1,description:"bool"},n.numbersTypeMap={u8:{beet:"u8",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"number"},u16:{beet:"u16",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"number"},u32:{beet:"u32",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"number"},i8:{beet:"i8",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"number"},i16:{beet:"i16",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"number"},i32:{beet:"i32",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"number"},bool:{beet:"bool",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"boolean"},u64:{beet:"u64",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"bignum",pack:r.BEET_PACKAGE},u128:{beet:"u128",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"bignum",pack:r.BEET_PACKAGE},u256:{beet:"u256",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"bignum",pack:r.BEET_PACKAGE},u512:{beet:"u512",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"bignum",pack:r.BEET_PACKAGE},i64:{beet:"i64",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"bignum",pack:r.BEET_PACKAGE},i128:{beet:"i128",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"bignum",pack:r.BEET_PACKAGE},i256:{beet:"i256",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"bignum",pack:r.BEET_PACKAGE},i512:{beet:"i512",isFixable:!1,sourcePack:r.BEET_PACKAGE,ts:"bignum",pack:r.BEET_PACKAGE}}})(numbers);var utils$3={},browser$5={exports:{}},s=1e3,m=s*60,h=m*60,d=h*24,w$1=d*7,y=d*365.25,ms=function(n,e){e=e||{};var t=typeof n;if(t==="string"&&n.length>0)return parse(n);if(t==="number"&&isFinite(n))return e.long?fmtLong(n):fmtShort(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function parse(n){if(n=String(n),!(n.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(!!e){var t=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return t*y;case"weeks":case"week":case"w":return t*w$1;case"days":case"day":case"d":return t*d;case"hours":case"hour":case"hrs":case"hr":case"h":return t*h;case"minutes":case"minute":case"mins":case"min":case"m":return t*m;case"seconds":case"second":case"secs":case"sec":case"s":return t*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function fmtShort(n){var e=Math.abs(n);return e>=d?Math.round(n/d)+"d":e>=h?Math.round(n/h)+"h":e>=m?Math.round(n/m)+"m":e>=s?Math.round(n/s)+"s":n+"ms"}function fmtLong(n){var e=Math.abs(n);return e>=d?plural(n,e,d,"day"):e>=h?plural(n,e,h,"hour"):e>=m?plural(n,e,m,"minute"):e>=s?plural(n,e,s,"second"):n+" ms"}function plural(n,e,t,r){var o=e>=t*1.5;return Math.round(n/t)+" "+r+(o?"s":"")}function setup(n){t.debug=t,t.default=t,t.coerce=en,t.disable=a,t.enable=o,t.enabled=c,t.humanize=ms,t.destroy=tn,Object.keys(n).forEach(nn=>{t[nn]=n[nn]}),t.names=[],t.skips=[],t.formatters={};function e(nn){let sn=0;for(let fn=0;fn<nn.length;fn++)sn=(sn<<5)-sn+nn.charCodeAt(fn),sn|=0;return t.colors[Math.abs(sn)%t.colors.length]}t.selectColor=e;function t(nn){let sn,fn=null,dn,hn;function ln(...pn){if(!ln.enabled)return;const $n=ln,Sn=Number(new Date),yn=Sn-(sn||Sn);$n.diff=yn,$n.prev=sn,$n.curr=Sn,sn=Sn,pn[0]=t.coerce(pn[0]),typeof pn[0]!="string"&&pn.unshift("%O");let In=0;pn[0]=pn[0].replace(/%([a-zA-Z%])/g,(Tn,kn)=>{if(Tn==="%%")return"%";In++;const Pn=t.formatters[kn];if(typeof Pn=="function"){const Dn=pn[In];Tn=Pn.call($n,Dn),pn.splice(In,1),In--}return Tn}),t.formatArgs.call($n,pn),($n.log||t.log).apply($n,pn)}return ln.namespace=nn,ln.useColors=t.useColors(),ln.color=t.selectColor(nn),ln.extend=r,ln.destroy=t.destroy,Object.defineProperty(ln,"enabled",{enumerable:!0,configurable:!1,get:()=>fn!==null?fn:(dn!==t.namespaces&&(dn=t.namespaces,hn=t.enabled(nn)),hn),set:pn=>{fn=pn}}),typeof t.init=="function"&&t.init(ln),ln}function r(nn,sn){const fn=t(this.namespace+(typeof sn>"u"?":":sn)+nn);return fn.log=this.log,fn}function o(nn){t.save(nn),t.namespaces=nn,t.names=[],t.skips=[];let sn;const fn=(typeof nn=="string"?nn:"").split(/[\s,]+/),dn=fn.length;for(sn=0;sn<dn;sn++)!fn[sn]||(nn=fn[sn].replace(/\*/g,".*?"),nn[0]==="-"?t.skips.push(new RegExp("^"+nn.slice(1)+"$")):t.names.push(new RegExp("^"+nn+"$")))}function a(){const nn=[...t.names.map(u),...t.skips.map(u).map(sn=>"-"+sn)].join(",");return t.enable(""),nn}function c(nn){if(nn[nn.length-1]==="*")return!0;let sn,fn;for(sn=0,fn=t.skips.length;sn<fn;sn++)if(t.skips[sn].test(nn))return!1;for(sn=0,fn=t.names.length;sn<fn;sn++)if(t.names[sn].test(nn))return!0;return!1}function u(nn){return nn.toString().substring(2,nn.toString().length-2).replace(/\.\*\?$/,"*")}function en(nn){return nn instanceof Error?nn.stack||nn.message:nn}function tn(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var common=setup;(function(n,e){e.formatArgs=r,e.save=o,e.load=a,e.useColors=t,e.storage=c(),e.destroy=(()=>{let en=!1;return()=>{en||(en=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(en){if(en[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+en[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const tn="color: "+this.color;en.splice(1,0,tn,"color: inherit");let nn=0,sn=0;en[0].replace(/%[a-zA-Z%]/g,fn=>{fn!=="%%"&&(nn++,fn==="%c"&&(sn=nn))}),en.splice(sn,0,tn)}e.log=console.debug||console.log||(()=>{});function o(en){try{en?e.storage.setItem("debug",en):e.storage.removeItem("debug")}catch{}}function a(){let en;try{en=e.storage.getItem("debug")}catch{}return!en&&typeof dist$3.process<"u"&&"env"in dist$3.process&&(en={}.DEBUG),en}function c(){try{return localStorage}catch{}}n.exports=common(e);const{formatters:u}=n.exports;u.j=function(en){try{return JSON.stringify(en)}catch(tn){return"[UnexpectedJSONParseError]: "+tn.message}}})(browser$5,browser$5.exports);var colorNums={white:37,black:30,blue:34,cyan:36,green:32,magenta:35,red:31,yellow:33,brightBlack:90,brightRed:91,brightGreen:92,brightYellow:93,brightBlue:94,brightMagenta:95,brightCyan:96,brightWhite:97},backgroundColorNums={bgBlack:40,bgRed:41,bgGreen:42,bgYellow:43,bgBlue:44,bgMagenta:45,bgCyan:46,bgWhite:47,bgBrightBlack:100,bgBrightRed:101,bgBrightGreen:102,bgBrightYellow:103,bgBrightBlue:104,bgBrightMagenta:105,bgBrightCyan:106,bgBrightWhite:107},open={},close={},colors={};Object.keys(colorNums).forEach(function(n){var e=open[n]="\x1B["+colorNums[n]+"m",t=close[n]="\x1B[39m";colors[n]=function(r){return e+r+t}});Object.keys(backgroundColorNums).forEach(function(n){var e=open[n]="\x1B["+backgroundColorNums[n]+"m",t=close[n]="\x1B[49m";colors[n]=function(r){return e+r+t}});var ansicolors=colors;colors.open=open;colors.close=close;var __importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(utils$3,"__esModule",{value:!0});utils$3.UnreachableCaseError=utils$3.stringify=utils$3.bytes=utils$3.beetBytes=utils$3.logTrace=utils$3.logDebug=utils$3.logInfo=utils$3.logError=void 0;const debug_1$1=__importDefault$4(browser$5.exports),ansicolors_1$1=__importDefault$4(ansicolors),types_1$c=types$5,{brightBlack:brightBlack$1}=ansicolors_1$1.default;utils$3.logError=(0,debug_1$1.default)("beet:error");utils$3.logInfo=(0,debug_1$1.default)("beet:info");utils$3.logDebug=(0,debug_1$1.default)("beet:debug");utils$3.logTrace=(0,debug_1$1.default)("beet:trace");function beetBytes(n,e=!1){let t;if((0,types_1$c.isFixableBeet)(n))t="? B";else if((0,types_1$c.isElementCollectionFixedSizeBeet)(n)){const r=e?"length":n.length,o=n.lenPrefixByteSize;t=o>0?`${o} + (${n.elementByteSize} * ${r}) B  (${n.byteSize} B)`:`(${n.elementByteSize} * ${r}) B (${n.byteSize} B)`}else t=`${n.byteSize} B`;return brightBlack$1(t)}utils$3.beetBytes=beetBytes;function bytes(n){return brightBlack$1(`${n} B`)}utils$3.bytes=bytes;function stringify$3(n){return n.toString==="function"?n.toString():n}utils$3.stringify=stringify$3;class UnreachableCaseError extends Error{constructor(e){super(`Unreachable case: ${e}`)}}utils$3.UnreachableCaseError=UnreachableCaseError;var beet_fixable={};Object.defineProperty(beet_fixable,"__esModule",{value:!0});beet_fixable.fixBeetFromValue=beet_fixable.fixBeetFromData=void 0;const types_1$b=types$5,utils_1$v=utils$3;function fixBeetFromData(n,e,t){if((0,types_1$b.isFixedSizeBeet)(n))return n;if((0,types_1$b.isFixableBeet)(n))return n.toFixedFromData(e,t);throw new utils_1$v.UnreachableCaseError(n)}beet_fixable.fixBeetFromData=fixBeetFromData;function fixBeetFromValue(n,e){if((0,types_1$b.isFixedSizeBeet)(n))return n;if((0,types_1$b.isFixableBeet)(n))return n.toFixedFromValue(e);throw new utils_1$v.UnreachableCaseError(n)}beet_fixable.fixBeetFromValue=fixBeetFromValue;Object.defineProperty(collections,"__esModule",{value:!0});collections.collectionsTypeMap=collections.uint8Array=collections.fixedSizeUint8Array=collections.fixedSizeBuffer=collections.array=collections.fixedSizeArray=collections.uniformFixedSizeArray=void 0;const types_1$a=types$5,assert_1$9=assert$b.exports,numbers_1$3=numbers,types_2$2=types$5,utils_1$u=utils$3,beet_fixable_1$3=beet_fixable;function uniformFixedSizeArray(n,e,t=!1){const r=n.byteSize*e,o=t?4+r:r;return{write:function(a,c,u){assert_1$9.strict.equal(u.length,e,`array length ${u.length} should match len ${e}`),t&&(numbers_1$3.u32.write(a,c,e),c+=4);for(let en=0;en<e;en++)n.write(a,c+en*n.byteSize,u[en])},read:function(a,c){if(t){const en=numbers_1$3.u32.read(a,c);assert_1$9.strict.equal(en,e,"invalid byte size"),c+=4}const u=new Array(e);for(let en=0;en<e;en++)u[en]=n.read(a,c+en*n.byteSize);return u},byteSize:o,length:e,elementByteSize:n.byteSize,lenPrefixByteSize:4,description:`Array<${n.description}>(${e})`}}collections.uniformFixedSizeArray=uniformFixedSizeArray;function fixedSizeArray(n,e){const t=n.length,r=t===0?"<EMPTY>":n[0].description;return{write:function(o,a,c){assert_1$9.strict.equal(c.length,t,`array length ${c.length} should match len ${t}`),numbers_1$3.u32.write(o,a,t);let u=a+4;for(let en=0;en<t;en++){const tn=n[en];tn.write(o,u,c[en]),u+=tn.byteSize}},read:function(o,a){const c=numbers_1$3.u32.read(o,a);assert_1$9.strict.equal(c,t,"invalid byte size");let u=a+4;const en=new Array(t);for(let tn=0;tn<t;tn++){const nn=n[tn];en[tn]=nn.read(o,u),u+=nn.byteSize}return en},byteSize:4+e,length:t,description:`Array<${r}>(${t})[ 4 + ${e} ]`}}collections.fixedSizeArray=fixedSizeArray;function array$3(n){return{toFixedFromData(e,t){const r=numbers_1$3.u32.read(e,t);(0,utils_1$u.logTrace)(`${this.description}[${r}]`);const o=t+4;let a=o;const c=new Array(r);for(let u=0;u<r;u++){const en=(0,beet_fixable_1$3.fixBeetFromData)(n,e,a);c[u]=en,a+=en.byteSize}return fixedSizeArray(c,a-o)},toFixedFromValue(e){(0,assert_1$9.strict)(Array.isArray(e),`${e} should be an array`);let t=0;const r=new Array(e.length);for(let o=0;o<e.length;o++){const a=(0,beet_fixable_1$3.fixBeetFromValue)(n,e[o]);r[o]=a,t+=a.byteSize}return fixedSizeArray(r,t)},description:"array"}}collections.array=array$3;function fixedSizeBuffer(n){return{write:function(e,t,r){r.copy(e,t,0,n)},read:function(e,t){return e.slice(t,t+n)},byteSize:n,description:`Buffer(${n})`}}collections.fixedSizeBuffer=fixedSizeBuffer;function fixedSizeUint8Array(n,e=!1){const t=fixedSizeBuffer(n),r=e?n+4:n;return{write:function(o,a,c){assert_1$9.strict.equal(c.byteLength,n,`Uint8Array length ${c.byteLength} should match len ${n}`),e&&(numbers_1$3.u32.write(o,a,n),a+=4);const u=dist$3.Buffer.from(c);t.write(o,a,u)},read:function(o,a){if(e){const u=numbers_1$3.u32.read(o,a);assert_1$9.strict.equal(u,n,"invalid byte size"),a+=4}const c=t.read(o,a);return Uint8Array.from(c)},byteSize:r,description:`Uint8Array(${n})`}}collections.fixedSizeUint8Array=fixedSizeUint8Array;collections.uint8Array={toFixedFromData(n,e){const t=numbers_1$3.u32.read(n,e);return(0,utils_1$u.logTrace)(`${this.description}[${t}]`),fixedSizeUint8Array(t,!0)},toFixedFromValue(n){const e=n.byteLength;return fixedSizeUint8Array(e,!0)},description:"Uint8Array"};collections.collectionsTypeMap={Array:{beet:"array",isFixable:!0,sourcePack:types_2$2.BEET_PACKAGE,ts:"Array",arg:types_1$a.BEET_TYPE_ARG_LEN},FixedSizeArray:{beet:"fixedSizeArray",isFixable:!1,sourcePack:types_2$2.BEET_PACKAGE,ts:"Array",arg:types_1$a.BEET_TYPE_ARG_LEN},UniformFixedSizeArray:{beet:"uniformFixedSizeArray",isFixable:!1,sourcePack:types_2$2.BEET_PACKAGE,ts:"Array",arg:types_1$a.BEET_TYPE_ARG_LEN},Buffer:{beet:"fixedSizeBuffer",isFixable:!1,sourcePack:types_2$2.BEET_PACKAGE,ts:"Buffer",arg:types_1$a.BEET_TYPE_ARG_LEN},FixedSizeUint8Array:{beet:"fixedSizeUint8Array",isFixable:!1,sourcePack:types_2$2.BEET_PACKAGE,ts:"Uint8Array",arg:types_1$a.BEET_TYPE_ARG_LEN},Uint8Array:{beet:"uint8Array",isFixable:!0,sourcePack:types_2$2.BEET_PACKAGE,ts:"Uint8Array",arg:types_1$a.BEET_TYPE_ARG_LEN}};var composites={};Object.defineProperty(composites,"__esModule",{value:!0});composites.compositesTypeMap=composites.coption=composites.coptionSome=composites.coptionNone=composites.isNoneBuffer=composites.isSomeBuffer=void 0;const assert_1$8=assert$b.exports,types_1$9=types$5,types_2$1=types$5,utils_1$t=utils$3,beet_fixable_1$2=beet_fixable,NONE=0,SOME=1;function isSomeBuffer(n,e){return n[e]===SOME}composites.isSomeBuffer=isSomeBuffer;function isNoneBuffer(n,e){return n[e]===NONE}composites.isNoneBuffer=isNoneBuffer;function coptionNone(n){return(0,utils_1$t.logTrace)(`coptionNone(${n})`),{write:function(e,t,r){(0,assert_1$8.strict)(r==null,"coptionNone can only handle `null` values"),e[t]=NONE},read:function(e,t){return(0,assert_1$8.strict)(isNoneBuffer(e,t),"coptionNone can only handle `NONE` data"),null},byteSize:1,description:`COption<None(${n})>`}}composites.coptionNone=coptionNone;function coptionSome(n){const e=1+n.byteSize,t={write:function(r,o,a){(0,types_1$9.assertFixedSizeBeet)(n,`coption inner type ${n.description} needs to be fixed before calling write`),(0,assert_1$8.strict)(a!=null,"coptionSome cannot handle `null` values"),r[o]=SOME,n.write(r,o+1,a)},read:function(r,o){return(0,types_1$9.assertFixedSizeBeet)(n,`coption inner type ${n.description} needs to be fixed before calling read`),(0,assert_1$8.strict)(isSomeBuffer(r,o),"coptionSome can only handle `SOME` data"),n.read(r,o+1)},description:`COption<${n.description}>[1 + ${n.byteSize}]`,byteSize:e,inner:n};return(0,utils_1$t.logTrace)(t.description),t}composites.coptionSome=coptionSome;function coption(n){return{toFixedFromData(e,t){if(isSomeBuffer(e,t)){const r=(0,beet_fixable_1$2.fixBeetFromData)(n,e,t+1);return coptionSome(r)}else return(0,assert_1$8.strict)(isNoneBuffer(e,t),`Expected ${e} to hold a COption`),coptionNone(n.description)},toFixedFromValue(e){return e==null?coptionNone(n.description):coptionSome((0,beet_fixable_1$2.fixBeetFromValue)(n,e))},description:`COption<${n.description}>`}}composites.coption=coption;composites.compositesTypeMap={option:{beet:"coption",isFixable:!0,sourcePack:types_2$1.BEET_PACKAGE,ts:"COption<Inner>",arg:types_1$9.BEET_TYPE_ARG_INNER,pack:types_2$1.BEET_PACKAGE}};var string$3={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.stringTypeMap=n.utf8String=n.fixedSizeUtf8String=void 0;const e=types$5,t=assert$b.exports,r=numbers,o=utils$3,a=c=>({write:function(u,en,tn){const nn=dist$3.Buffer.from(tn,"utf8");t.strict.equal(nn.byteLength,c,`${tn} has invalid byte size`),r.u32.write(u,en,c),nn.copy(u,en+4,0,c)},read:function(u,en){const tn=r.u32.read(u,en);return t.strict.equal(tn,c,"invalid byte size"),u.slice(en+4,en+4+c).toString("utf8")},elementByteSize:1,length:c,lenPrefixByteSize:4,byteSize:4+c,description:`Utf8String(4 + ${c})`});n.fixedSizeUtf8String=a,n.utf8String={toFixedFromData(c,u){const en=r.u32.read(c,u);return(0,o.logTrace)(`${this.description}[${en}]`),(0,n.fixedSizeUtf8String)(en)},toFixedFromValue(c){const u=dist$3.Buffer.from(c).byteLength;return(0,n.fixedSizeUtf8String)(u)},description:"Utf8String"},n.stringTypeMap={fixedSizeString:{beet:"fixedSizeUtf8String",isFixable:!1,sourcePack:e.BEET_PACKAGE,ts:"string",arg:e.BEET_TYPE_ARG_LEN},string:{beet:"utf8String",isFixable:!0,sourcePack:e.BEET_PACKAGE,ts:"string"}}})(string$3);var enums={},struct$1={},readWrite={};Object.defineProperty(readWrite,"__esModule",{value:!0});readWrite.BeetReader=readWrite.BeetWriter=void 0;const assert_1$7=assert$b.exports;class BeetWriter{constructor(e){this.buf=dist$3.Buffer.alloc(e),this._offset=0}get buffer(){return this.buf}get offset(){return this._offset}maybeResize(e){this._offset+e>this.buf.length&&assert_1$7.strict.fail(`We shouldn't ever need to resize, but ${this._offset+e} > ${this.buf.length}`)}write(e,t){this.maybeResize(e.byteSize),e.write(this.buf,this._offset,t),this._offset+=e.byteSize}writeStruct(e,t){for(const[r,o]of t){const a=e[r];this.write(o,a)}}}readWrite.BeetWriter=BeetWriter;class BeetReader{constructor(e,t=0){this.buffer=e,this._offset=t}get offset(){return this._offset}read(e){const t=e.read(this.buffer,this._offset);return this._offset+=e.byteSize,t}readStruct(e){const t={};for(const[r,o]of e)t[r]=this.read(o);return t}}readWrite.BeetReader=BeetReader;Object.defineProperty(struct$1,"__esModule",{value:!0});struct$1.BeetArgsStruct=struct$1.isBeetStruct=struct$1.BeetStruct=void 0;const read_write_1=readWrite,utils_1$s=utils$3;class BeetStruct{constructor(e,t,r=BeetStruct.description){if(this.fields=e,this.construct=t,this.description=r,this.byteSize=this.getByteSize(),utils_1$s.logDebug.enabled){const o=e.map(([a,c])=>`${String(a)}: ${c.description} ${(0,utils_1$s.beetBytes)(c)}`).join(`
  `);(0,utils_1$s.logDebug)(`struct ${r} {
  ${o}
} ${(0,utils_1$s.beetBytes)(this)}`)}}read(e,t){const[r]=this.deserialize(e,t);return r}write(e,t,r){const[o,a]=this.serialize(r);o.copy(e,t,0,a)}deserialize(e,t=0){utils_1$s.logTrace.enabled&&((0,utils_1$s.logTrace)("deserializing [%s] from %d bytes buffer",this.description,e.byteLength),(0,utils_1$s.logTrace)(e),(0,utils_1$s.logTrace)(e.toJSON().data));const r=new read_write_1.BeetReader(e,t),o=r.readStruct(this.fields);return[this.construct(o),r.offset]}serialize(e,t=this.byteSize){(0,utils_1$s.logTrace)("serializing [%s] %o to %d bytes buffer",this.description,e,t);const r=new read_write_1.BeetWriter(t);return r.writeStruct(e,this.fields),[r.buffer,r.offset]}getByteSize(){return this.fields.reduce((e,[t,r])=>e+r.byteSize,0)}get type(){return BeetStruct.TYPE}}struct$1.BeetStruct=BeetStruct;BeetStruct.description="BeetStruct";BeetStruct.TYPE="BeetStruct";function isBeetStruct(n){return n.type===BeetStruct.TYPE}struct$1.isBeetStruct=isBeetStruct;class BeetArgsStruct extends BeetStruct{constructor(e,t=BeetArgsStruct.description){super(e,r=>r,t)}}struct$1.BeetArgsStruct=BeetArgsStruct;BeetArgsStruct.description="BeetArgsStruct";var struct_fixable={},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(struct_fixable,"__esModule",{value:!0});struct_fixable.FixableBeetArgsStruct=struct_fixable.isFixableBeetStruct=struct_fixable.FixableBeetStruct=void 0;const beet_fixable_1$1=beet_fixable,struct_1$1=struct$1,types_1$8=types$5,assert_1$6=assert$b.exports,utils_1$r=utils$3,ansicolors_1=__importDefault$3(ansicolors),{brightBlack}=ansicolors_1.default;class FixableBeetStruct{constructor(e,t,r=FixableBeetStruct.description){this.fields=e,this.construct=t,this.description=r;let o=0;if(utils_1$r.logDebug.enabled){const a=e.map(([u,en])=>((0,types_1$8.isFixedSizeBeet)(en)&&(o+=en.byteSize),`${u}: ${en.description} ${(0,utils_1$r.beetBytes)(en)}`)).join(`
  `),c=`> ${o} B`;(0,utils_1$r.logDebug)(`struct ${r} {
  ${a}
} ${brightBlack(c)}`)}}deserialize(e,t=0){return this.toFixedFromData(e,t).deserialize(e,t)}serialize(e,t){return this.toFixedFromValue(e).serialize(e,t)}toFixedFromData(e,t){let r=t;const o=new Array(this.fields.length);for(let a=0;a<this.fields.length;a++){const[c,u]=this.fields[a],en=(0,beet_fixable_1$1.fixBeetFromData)(u,e,r);o[a]=[c,en],r+=en.byteSize}return this.description!==FixableBeetStruct.description?new struct_1$1.BeetStruct(o,this.construct,this.description):new struct_1$1.BeetStruct(o,this.construct)}toFixedFromValue(e){const t=Object.keys(e),r=new Array(this.fields.length);for(let o=0;o<this.fields.length;o++){const[a,c]=this.fields[o];(0,assert_1$6.strict)(t.includes(a),`Value with keys [ ${t} ] should include struct key '${a}' but doesn't.`);const u=e[a],en=(0,beet_fixable_1$1.fixBeetFromValue)(c,u);r[o]=[a,en]}return this.description!==FixableBeetStruct.description?new struct_1$1.BeetStruct(r,this.construct,this.description):new struct_1$1.BeetStruct(r,this.construct)}get type(){return FixableBeetStruct.TYPE}}struct_fixable.FixableBeetStruct=FixableBeetStruct;FixableBeetStruct.description="FixableBeetStruct";FixableBeetStruct.TYPE="FixableBeetStruct";function isFixableBeetStruct(n){return n.type===FixableBeetStruct.TYPE}struct_fixable.isFixableBeetStruct=isFixableBeetStruct;class FixableBeetArgsStruct extends FixableBeetStruct{constructor(e,t=FixableBeetArgsStruct.description){super(e,r=>r,t)}}struct_fixable.FixableBeetArgsStruct=FixableBeetArgsStruct;FixableBeetArgsStruct.description="FixableBeetArgsStruct";var unit={};Object.defineProperty(unit,"__esModule",{value:!0});unit.unitTypeMap=unit.unit=void 0;const types_1$7=types$5;unit.unit={write:function(n,e,t){},read:function(n,e){},byteSize:0,description:"unit"};unit.unitTypeMap={unit:{beet:"unit",isFixable:!1,sourcePack:types_1$7.BEET_PACKAGE,ts:"void"}};Object.defineProperty(enums,"__esModule",{value:!0});enums.enumsTypeMap=enums.dataEnum=enums.uniformDataEnum=enums.fixedScalarEnum=void 0;const types_1$6=types$5,numbers_1$2=numbers,assert_1$5=assert$b.exports,struct_1=struct$1,struct_fixable_1=struct_fixable,unit_1=unit;function resolveEnumVariant(n,e){return e?`${n}`:n}function fixedScalarEnum(n){const e=Object.keys(n);return{write(t,r,o){const a=typeof o=="number",c=resolveEnumVariant(o,a);if(e.includes(c)||assert_1$5.strict.fail(`${o} should be a variant of the provided enum type, i.e. [ ${Object.values(n).join(", ")} ], but isn't`),a)numbers_1$2.u8.write(t,r,o);else{const u=n[c];numbers_1$2.u8.write(t,r,u)}},read(t,r){const o=numbers_1$2.u8.read(t,r),a=typeof o=="number",c=resolveEnumVariant(o,a);return e.includes(c)||assert_1$5.strict.fail(`${o} should be a of a variant of the provided enum type, i.e. [ ${Object.values(n).join(", ")} ], but isn't`),a?o:n[c]},byteSize:numbers_1$2.u8.byteSize,description:"Enum"}}enums.fixedScalarEnum=fixedScalarEnum;function uniformDataEnum(n){return{write:function(e,t,r){numbers_1$2.u8.write(e,t,r.kind),n.write(e,t+1,r.data)},read:function(e,t){const r=numbers_1$2.u8.read(e,t),o=n.read(e,t+1);return{kind:r,data:o}},byteSize:1+n.byteSize,description:`UniformDataEnum<${n.description}>`}}enums.uniformDataEnum=uniformDataEnum;function enumDataVariantBeet(n,e,t){return{write(r,o,a){numbers_1$2.u8.write(r,o,e),n.write(r,o+numbers_1$2.u8.byteSize,a)},read(r,o){const a=n.read(r,o+numbers_1$2.u8.byteSize);return{__kind:t,...a}},byteSize:n.byteSize+numbers_1$2.u8.byteSize,description:`EnumData<${n.description}>`}}function dataEnum(n){for(const[e,t]of n)(0,assert_1$5.strict)((0,struct_1.isBeetStruct)(t)||(0,struct_fixable_1.isFixableBeetStruct)(t)||t===unit_1.unit,"dataEnum: variants must be a data beet struct or a scalar unit");return{toFixedFromData(e,t){const r=numbers_1$2.u8.read(e,t),o=n[r];(0,assert_1$5.strict)(o!=null,`Discriminant ${r} out of range for ${n.length} variants`);const[a,c]=o,u=(0,types_1$6.isFixedSizeBeet)(c)?c:c.toFixedFromData(e,t+1);return enumDataVariantBeet(u,r,a)},toFixedFromValue(e){if(e.__kind==null){const tn=Object.keys(e).join(", "),nn=n.map(([sn])=>sn).join(", ");assert_1$5.strict.fail(`Value with fields [ ${tn} ] is missing __kind, which needs to be set to one of [ ${nn} ]`)}const t=n.findIndex(([tn])=>tn===e.__kind);if(t<0){const tn=n.map(([nn])=>nn).join(", ");assert_1$5.strict.fail(`${e.__kind} is not a valid kind, needs to be one of [ ${tn} ]`)}const r=n[t],{__kind:o,...a}=e,[c,u]=r,en=(0,types_1$6.isFixedSizeBeet)(u)?u:u.toFixedFromValue(a);return enumDataVariantBeet(en,t,c)},description:`DataEnum<${n.length} variants>`}}enums.dataEnum=dataEnum;enums.enumsTypeMap={fixedScalarEnum:{beet:"fixedScalarEnum",isFixable:!1,sourcePack:types_1$6.BEET_PACKAGE,ts:"<TypeName>",arg:types_1$6.BEET_TYPE_ARG_INNER,pack:types_1$6.BEET_PACKAGE},dataEnum:{beet:"dataEnum",isFixable:!1,sourcePack:types_1$6.BEET_PACKAGE,ts:"DataEnum<Kind, Inner>",arg:types_1$6.BEET_TYPE_ARG_INNER,pack:types_1$6.BEET_PACKAGE}};var aliases={};Object.defineProperty(aliases,"__esModule",{value:!0});aliases.aliasesTypeMap=aliases.bytes=void 0;const collections_1=collections;aliases.bytes=collections_1.uint8Array;aliases.aliasesTypeMap={bytes:collections_1.collectionsTypeMap.Uint8Array};var tuples={};Object.defineProperty(tuples,"__esModule",{value:!0});tuples.tuplesTypeMap=tuples.tuple=tuples.fixedSizeTuple=void 0;const types_1$5=types$5,assert_1$4=assert$b.exports,beet_fixable_1=beet_fixable;function fixedSizeTuple(n){const e=n.length,t=n.map(a=>a.description),r=n.map(a=>a.byteSize),o=r.reduce((a,c)=>a+c,0);return{write:function(a,c,u){assert_1$4.strict.equal(u.length,e,`tuple value element size ${u.length} should match len ${e}`);let en=c;for(let tn=0;tn<e;tn++){const nn=u[tn],sn=n[tn];sn.write(a,en,nn),en+=sn.byteSize}},read:function(a,c){const u=[];let en=c;for(let tn=0;tn<e;tn++){const nn=n[tn];u[tn]=nn.read(a,en),en+=nn.byteSize}return u},byteSize:o,length:e,description:`FixedSizeTuple<${t.join(",")}>[ ${r.join(", ")} ]`}}tuples.fixedSizeTuple=fixedSizeTuple;function tuple$3(n){const e=n.length,t=n.map(r=>r.description);return{toFixedFromData(r,o){let a=o;const c=new Array(e);for(let u=0;u<e;u++){const en=(0,beet_fixable_1.fixBeetFromData)(n[u],r,a);c[u]=en,a+=en.byteSize}return fixedSizeTuple(c)},toFixedFromValue(r){(0,assert_1$4.strict)(Array.isArray(r),`${r} should be an array of tuple values`),assert_1$4.strict.equal(r.length,e,`There should be ${e} tuple values, but there are ${r.length}`);const o=new Array(e);for(let a=0;a<r.length;a++){const c=(0,beet_fixable_1.fixBeetFromValue)(n[a],r[a]);o[a]=c}return fixedSizeTuple(o)},description:`Tuple<${t.join(",")}>`}}tuples.tuple=tuple$3;tuples.tuplesTypeMap={Tuple:{beet:"tuple",isFixable:!0,sourcePack:types_1$5.BEET_PACKAGE,ts:"[__tuple_elements__]"},FixedSizeTuple:{beet:"fixedSizeTuple",isFixable:!1,sourcePack:types_1$5.BEET_PACKAGE,ts:"[__tuple_elements__]"}};var maps={};Object.defineProperty(maps,"__esModule",{value:!0});maps.mapsTypeMap=maps.map=void 0;const types_1$4=types$5,numbers_1$1=numbers,utils_1$q=utils$3,assert_1$3=assert$b.exports;function fixedSizeMap(n,e,t,r){const o=(0,types_1$4.isFixedSizeBeet)(n),a=(0,types_1$4.isFixedSizeBeet)(e);function c(){if(o&&a){const tn=n.byteSize+e.byteSize;return{elementByteSize:tn,byteSize:4+r*tn}}else if(o){let tn=0;for(const[sn,fn]of t.values())tn+=fn.byteSize;return{elementByteSize:n.byteSize+Math.ceil(tn/r),byteSize:4+n.byteSize*r+tn}}else if(a){let tn=0;for(const[sn,fn]of t.values())tn+=sn.byteSize;return{elementByteSize:Math.ceil(tn/r)+e.byteSize,byteSize:4+tn+e.byteSize*r}}else{let tn=0,nn=0;for(const[fn,dn]of t.values())tn+=fn.byteSize,nn+=dn.byteSize;return{elementByteSize:Math.ceil(tn/r+nn/r),byteSize:4+tn+nn}}}const{elementByteSize:u,byteSize:en}=c();return{write:function(tn,nn,sn){let fn=nn+4,dn=0;for(const[hn,ln]of sn.entries()){let pn=o?n:null,$n=a?e:null;if(pn==null||$n==null){const Sn=t.get(hn);(0,assert_1$3.strict)(Sn!=null,`Should be able to find beet els for ${(0,utils_1$q.stringify)(hn)}, but could not`),pn??(pn=Sn[0]),$n??($n=Sn[1])}pn.write(tn,fn,hn),fn+=pn.byteSize,$n.write(tn,fn,ln),fn+=$n.byteSize,dn++}numbers_1$1.u32.write(tn,nn,dn),assert_1$3.strict.equal(dn,r,`Expected map to have size ${r}, but has ${dn}.`)},read:function(tn,nn){const sn=numbers_1$1.u32.read(tn,nn);assert_1$3.strict.equal(sn,r,`Expected map to have size ${r}, but has ${sn}.`);let fn=nn+4;const dn=new Map;for(let hn=0;hn<sn;hn++){const ln=o?n:n.toFixedFromData(tn,fn),pn=ln.read(tn,fn);fn+=ln.byteSize;const $n=a?e:e.toFixedFromData(tn,fn),Sn=$n.read(tn,fn);fn+=$n.byteSize,dn.set(pn,Sn)}return dn},elementByteSize:u,byteSize:en,length:r,lenPrefixByteSize:4,description:`Map<${n.description}, ${e.description}>`}}function map(n,e){const t=(0,types_1$4.isFixedSizeBeet)(n),r=(0,types_1$4.isFixedSizeBeet)(e);return{toFixedFromData(o,a){const c=numbers_1$1.u32.read(o,a);let u=a+4;if(t&&r)return fixedSizeMap(n,e,new Map,c);const en=new Map;for(let tn=0;tn<c;tn++){const nn=t?n:n.toFixedFromData(o,u),sn=nn.read(o,u);u+=nn.byteSize;const fn=r?e:e.toFixedFromData(o,u);u+=fn.byteSize,en.set(sn,[nn,fn])}return fixedSizeMap(n,e,en,c)},toFixedFromValue(o){const a=o.size;if(t&&r)return fixedSizeMap(n,e,new Map,a);const c=new Map;for(const[u,en]of o){const tn=t?n:n.toFixedFromValue(u),nn=r?e:e.toFixedFromValue(en);c.set(u,[tn,nn])}return fixedSizeMap(n,e,c,a)},description:`FixableMap<${n.description}, ${e.description}>`}}maps.map=map;maps.mapsTypeMap={Map:{beet:"map",isFixable:!0,sourcePack:types_1$4.BEET_PACKAGE,ts:"Map"}};var sets={};Object.defineProperty(sets,"__esModule",{value:!0});sets.setsTypeMap=sets.set=void 0;const types_1$3=types$5,numbers_1=numbers,utils_1$p=utils$3,assert_1$2=assert$b.exports;function fixedSizeSet(n,e,t){const r=(0,types_1$3.isFixedSizeBeet)(n);function o(){if(r){const u=n.byteSize;return{elementByteSize:u,byteSize:4+t*u}}else{let u=0;for(const tn of e.values())u+=tn.byteSize;return{elementByteSize:Math.ceil(u/t),byteSize:4+u}}}const{elementByteSize:a,byteSize:c}=o();return{write:function(u,en,tn){let nn=en+4,sn=0;for(const fn of tn.keys()){let dn=r?n:null;if(dn==null){const hn=e.get(fn);(0,assert_1$2.strict)(hn!=null,`Should be able to find beet el for ${(0,utils_1$p.stringify)(fn)}, but could not`),dn??(dn=hn)}dn.write(u,nn,fn),nn+=dn.byteSize,sn++}numbers_1.u32.write(u,en,sn),assert_1$2.strict.equal(sn,t,`Expected set to have size ${t}, but has ${sn}.`)},read:function(u,en){const tn=numbers_1.u32.read(u,en);assert_1$2.strict.equal(tn,t,`Expected set to have size ${t}, but has ${tn}.`);let nn=en+4;const sn=new Set;for(let fn=0;fn<tn;fn++){const dn=r?n:n.toFixedFromData(u,nn),hn=dn.read(u,nn);nn+=dn.byteSize,sn.add(hn)}return sn},elementByteSize:a,byteSize:c,length:t,lenPrefixByteSize:4,description:`Set<${n.description}>`}}function set$1(n){const e=(0,types_1$3.isFixedSizeBeet)(n);return{toFixedFromData(t,r){const o=numbers_1.u32.read(t,r);let a=r+4;if(e)return fixedSizeSet(n,new Map,o);const c=new Map;for(let u=0;u<o;u++){const en=e?n:n.toFixedFromData(t,a),tn=en.read(t,a);a+=en.byteSize,c.set(tn,en)}return fixedSizeSet(n,c,o)},toFixedFromValue(t){const r=t.size;if(e)return fixedSizeSet(n,new Map,r);const o=new Map;for(const a of t){const c=e?n:n.toFixedFromValue(a);o.set(a,c)}return fixedSizeSet(n,o,r)},description:`FixableSet<${n.description}>`}}sets.set=set$1;sets.setsTypeMap={Set:{beet:"set",isFixable:!0,sourcePack:types_1$3.BEET_PACKAGE,ts:"Set"}};(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(dn,hn,ln,pn){pn===void 0&&(pn=ln);var $n=Object.getOwnPropertyDescriptor(hn,ln);(!$n||("get"in $n?!hn.__esModule:$n.writable||$n.configurable))&&($n={enumerable:!0,get:function(){return hn[ln]}}),Object.defineProperty(dn,pn,$n)}:function(dn,hn,ln,pn){pn===void 0&&(pn=ln),dn[pn]=hn[ln]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(dn,hn){for(var ln in dn)ln!=="default"&&!Object.prototype.hasOwnProperty.call(hn,ln)&&e(hn,dn,ln)};Object.defineProperty(n,"__esModule",{value:!0}),n.supportedTypeMap=void 0;const r=collections,o=composites,a=numbers,c=string$3,u=enums,en=aliases,tn=tuples,nn=maps,sn=unit,fn=sets;t(aliases,n),t(collections,n),t(composites,n),t(enums,n),t(maps,n),t(numbers,n),t(sets,n),t(string$3,n),t(tuples,n),t(unit,n),t(beet_fixable,n),t(readWrite,n),t(struct$1,n),t(struct_fixable,n),t(types$5,n),n.supportedTypeMap={...r.collectionsTypeMap,...c.stringTypeMap,...o.compositesTypeMap,...u.enumsTypeMap,...a.numbersTypeMap,...en.aliasesTypeMap,...tn.tuplesTypeMap,...nn.mapsTypeMap,...fn.setsTypeMap,...sn.unitTypeMap}})(beet);var beetSolana={},keys$1={},_Buffer=safeBuffer$1.exports.Buffer;function base$1(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=r}var c=n.length,u=n.charAt(0),en=Math.log(c)/Math.log(256),tn=Math.log(256)/Math.log(c);function nn(dn){if((Array.isArray(dn)||dn instanceof Uint8Array)&&(dn=_Buffer.from(dn)),!_Buffer.isBuffer(dn))throw new TypeError("Expected Buffer");if(dn.length===0)return"";for(var hn=0,ln=0,pn=0,$n=dn.length;pn!==$n&&dn[pn]===0;)pn++,hn++;for(var Sn=($n-pn)*tn+1>>>0,yn=new Uint8Array(Sn);pn!==$n;){for(var In=dn[pn],An=0,Tn=Sn-1;(In!==0||An<ln)&&Tn!==-1;Tn--,An++)In+=256*yn[Tn]>>>0,yn[Tn]=In%c>>>0,In=In/c>>>0;if(In!==0)throw new Error("Non-zero carry");ln=An,pn++}for(var kn=Sn-ln;kn!==Sn&&yn[kn]===0;)kn++;for(var Pn=u.repeat(hn);kn<Sn;++kn)Pn+=n.charAt(yn[kn]);return Pn}function sn(dn){if(typeof dn!="string")throw new TypeError("Expected String");if(dn.length===0)return _Buffer.alloc(0);for(var hn=0,ln=0,pn=0;dn[hn]===u;)ln++,hn++;for(var $n=(dn.length-hn)*en+1>>>0,Sn=new Uint8Array($n);dn[hn];){var yn=e[dn.charCodeAt(hn)];if(yn===255)return;for(var In=0,An=$n-1;(yn!==0||In<pn)&&An!==-1;An--,In++)yn+=c*Sn[An]>>>0,Sn[An]=yn%256>>>0,yn=yn/256>>>0;if(yn!==0)throw new Error("Non-zero carry");pn=In,hn++}for(var Tn=$n-pn;Tn!==$n&&Sn[Tn]===0;)Tn++;var kn=_Buffer.allocUnsafe(ln+($n-Tn));kn.fill(0,0,ln);for(var Pn=ln;Tn!==$n;)kn[Pn++]=Sn[Tn++];return kn}function fn(dn){var hn=sn(dn);if(hn)return hn;throw new Error("Non-base"+c+" character")}return{encode:nn,decodeUnsafe:sn,decode:fn}}var src$1=base$1,basex$1=src$1,ALPHABET$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$1=basex$1(ALPHABET$1);class StructError$2 extends TypeError{constructor(e,t){let r;const{message:o,...a}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var en;return(en=r)!=null?en:r=[e,...t()]}}}function isIterable$2(n){return isObject$4(n)&&typeof n[Symbol.iterator]=="function"}function isObject$4(n){return typeof n=="object"&&n!=null}function print$2(n){return typeof n=="string"?JSON.stringify(n):""+n}function shiftIterator$2(n){const{done:e,value:t}=n.next();return e?void 0:t}function toFailure$2(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:a}=e,{type:c}=t,{refinement:u,message:en="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+print$2(r)+"`"}=n;return{value:r,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...n,message:en}}function*toFailures$2(n,e,t,r){isIterable$2(n)||(n=[n]);for(const o of n){const a=toFailure$2(o,e,t,r);a&&(yield a)}}function*run$3(n,e,t={}){const{path:r=[],branch:o=[n],coerce:a=!1,mask:c=!1}=t,u={path:r,branch:o};if(a&&(n=e.coercer(n,u),c&&e.type!=="type"&&isObject$4(e.schema)&&isObject$4(n)&&!Array.isArray(n)))for(const tn in n)e.schema[tn]===void 0&&delete n[tn];let en=!0;for(const tn of e.validator(n,u))en=!1,yield[tn,void 0];for(let[tn,nn,sn]of e.entries(n,u)){const fn=run$3(nn,sn,{path:tn===void 0?r:[...r,tn],branch:tn===void 0?o:[...o,nn],coerce:a,mask:c});for(const dn of fn)dn[0]?(en=!1,yield[dn[0],void 0]):a&&(nn=dn[1],tn===void 0?n=nn:n instanceof Map?n.set(tn,nn):n instanceof Set?n.add(nn):isObject$4(n)&&(n[tn]=nn))}if(en)for(const tn of e.refiner(n,u))en=!1,yield[tn,void 0];en&&(yield[void 0,n])}class Struct$6{constructor(e){const{type:t,schema:r,validator:o,refiner:a,coercer:c=en=>en,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,o?this.validator=(en,tn)=>{const nn=o(en,tn);return toFailures$2(nn,tn,this,en)}:this.validator=()=>[],a?this.refiner=(en,tn)=>{const nn=a(en,tn);return toFailures$2(nn,tn,this,en)}:this.refiner=()=>[]}assert(e){return assert$7(e,this)}create(e){return create$2(e,this)}is(e){return is$2(e,this)}mask(e){return mask$2(e,this)}validate(e,t={}){return validate$2(e,this,t)}}function assert$7(n,e){const t=validate$2(n,e);if(t[0])throw t[0]}function create$2(n,e){const t=validate$2(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function mask$2(n,e){const t=validate$2(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function is$2(n,e){return!validate$2(n,e)[0]}function validate$2(n,e,t={}){const r=run$3(n,e,t),o=shiftIterator$2(r);if(o[0])return[new StructError$2(o[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$2(n,e){return new Struct$6({type:n,schema:null,validator:e})}function any$2(){return define$2("any",()=>!0)}function array$2(n){return new Struct$6({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print$2(e)}})}function boolean$2(){return define$2("boolean",n=>typeof n=="boolean")}function instance$2(n){return define$2("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+print$2(e))}function literal$2(n){const e=print$2(n),t=typeof n;return new Struct$6({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+print$2(r)}})}function never$2(){return define$2("never",()=>!1)}function nullable$2(n){return new Struct$6({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function number$2(){return define$2("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+print$2(n))}function optional$2(n){return new Struct$6({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function record$2(n,e){return new Struct$6({type:"record",schema:null,*entries(t){if(isObject$4(t))for(const r in t){const o=t[r];yield[r,r,n],yield[r,o,e]}},validator(t){return isObject$4(t)||"Expected an object, but received: "+print$2(t)}})}function string$2(){return define$2("string",n=>typeof n=="string"||"Expected a string, but received: "+print$2(n))}function tuple$2(n){const e=never$2();return new Struct$6({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let o=0;o<r;o++)yield[o,t[o],n[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+print$2(t)}})}function type$2(n){const e=Object.keys(n);return new Struct$6({type:"type",schema:n,*entries(t){if(isObject$4(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return isObject$4(t)||"Expected an object, but received: "+print$2(t)}})}function union$2(n){const e=n.map(t=>t.type).join(" | ");return new Struct$6({type:"union",schema:null,validator(t,r){const o=[];for(const a of n){const[...c]=run$3(t,a,r),[u]=c;if(u[0])for(const[en]of c)en&&o.push(en);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print$2(t),...o]}})}function unknown$2(){return define$2("unknown",()=>!0)}function coerce$2(n,e,t){return new Struct$6({...n,coercer:(r,o)=>is$2(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}const uuid$5=require$$0$5.v4,generateRequest$5=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const a={method:n};if(o===2&&(a.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");a.params=e}if(typeof t>"u"){const c=typeof r.generator=="function"?r.generator:function(){return uuid$5()};a.id=c(a,r)}else o===2&&t===null?r.notificationIdNull&&(a.id=null):a.id=t;return a};var generateRequest_1$2=generateRequest$5;const uuid$4=require$$0$5.v4,generateRequest$4=generateRequest_1$2,ClientBrowser$2=function(n,e){if(!(this instanceof ClientBrowser$2))return new ClientBrowser$2(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid$4()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var browser$4=ClientBrowser$2;ClientBrowser$2.prototype.request=function(n,e,t,r){const o=this;let a=null;const c=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&n&&typeof n=="object"&&typeof e=="function")r=e,a=n;else{typeof t=="function"&&(r=t,t=void 0);const tn=typeof r=="function";try{a=generateRequest$4(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(nn){if(tn)return r(nn);throw nn}if(!tn)return a}let en;try{en=JSON.stringify(a,this.options.replacer)}catch(tn){return r(tn)}return this.callServer(en,function(tn,nn){o._parseResponse(tn,nn,r)}),a};ClientBrowser$2.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(r)){const o=function(c){return typeof c.error<"u"},a=function(c){return!o(c)};return t(null,r.filter(o),r.filter(a))}else return t(null,r.error,r.result);t(null,r)};var client$2={};(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(regenerator),r=e(asyncToGenerator.exports),o=e(_typeof$5.exports),a=e(classCallCheck.exports),c=e(createClass.exports),u=e(inherits$2.exports),en=e(possibleConstructorReturn.exports),tn=e(getPrototypeOf$1.exports),nn=eventemitter3.exports;function sn(ln){var pn=fn();return function(){var Sn=(0,tn.default)(ln),yn;if(pn){var In=(0,tn.default)(this).constructor;yn=Reflect.construct(Sn,arguments,In)}else yn=Sn.apply(this,arguments);return(0,en.default)(this,yn)}}function fn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var dn=function(ln,pn){var $n={};for(var Sn in ln)Object.prototype.hasOwnProperty.call(ln,Sn)&&pn.indexOf(Sn)<0&&($n[Sn]=ln[Sn]);if(ln!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yn=0,Sn=Object.getOwnPropertySymbols(ln);yn<Sn.length;yn++)pn.indexOf(Sn[yn])<0&&Object.prototype.propertyIsEnumerable.call(ln,Sn[yn])&&($n[Sn[yn]]=ln[Sn[yn]]);return $n},hn=function(ln){(0,u.default)($n,ln);var pn=sn($n);function $n(Sn){var yn,In=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",An=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Tn=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,$n);var kn=An.autoconnect,Pn=kn===void 0?!0:kn,Dn=An.reconnect,Kn=Dn===void 0?!0:Dn,Hn=An.reconnect_interval,jn=Hn===void 0?1e3:Hn,Cn=An.max_reconnects,mn=Cn===void 0?5:Cn,_n=dn(An,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return yn=pn.call(this),yn.webSocketFactory=Sn,yn.queue={},yn.rpc_id=0,yn.address=In,yn.autoconnect=Pn,yn.ready=!1,yn.reconnect=Kn,yn.reconnect_timer_id=void 0,yn.reconnect_interval=jn,yn.max_reconnects=mn,yn.rest_options=_n,yn.current_reconnects=0,yn.generate_request_id=Tn||function(){return++yn.rpc_id},yn.autoconnect&&yn._connect(yn.address,Object.assign({autoconnect:yn.autoconnect,reconnect:yn.reconnect,reconnect_interval:yn.reconnect_interval,max_reconnects:yn.max_reconnects},yn.rest_options)),yn}return(0,c.default)($n,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(yn,In,An,Tn){var kn=this;return!Tn&&(0,o.default)(An)==="object"&&(Tn=An,An=null),new Promise(function(Pn,Dn){if(!kn.ready)return Dn(new Error("socket not ready"));var Kn=kn.generate_request_id(yn,In),Hn={jsonrpc:"2.0",method:yn,params:In||null,id:Kn};kn.socket.send(JSON.stringify(Hn),Tn,function(jn){if(jn)return Dn(jn);kn.queue[Kn]={promise:[Pn,Dn]},An&&(kn.queue[Kn].timeout=setTimeout(function(){delete kn.queue[Kn],Dn(new Error("reply timeout"))},An))})})}},{key:"login",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.next=2,this.call("rpc.login",An);case 2:if(Tn=Pn.sent,Tn){Pn.next=5;break}throw new Error("authentication failed");case 5:return Pn.abrupt("return",Tn);case 6:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"listMethods",value:function(){var Sn=(0,r.default)(t.default.mark(function In(){return t.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:return Tn.next=2,this.call("__listMethods");case 2:return Tn.abrupt("return",Tn.sent);case 3:case"end":return Tn.stop()}},In,this)}));function yn(){return Sn.apply(this,arguments)}return yn}()},{key:"notify",value:function(yn,In){var An=this;return new Promise(function(Tn,kn){if(!An.ready)return kn(new Error("socket not ready"));var Pn={jsonrpc:"2.0",method:yn,params:In||null};An.socket.send(JSON.stringify(Pn),function(Dn){if(Dn)return kn(Dn);Tn()})})}},{key:"subscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.on",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed subscribing to an event '"+An+"' with: "+Tn[An]);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"unsubscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.off",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Tn);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"close",value:function(yn,In){this.socket.close(yn||1e3,In)}},{key:"_connect",value:function(yn,In){var An=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(yn,In),this.socket.addEventListener("open",function(){An.ready=!0,An.emit("open"),An.current_reconnects=0}),this.socket.addEventListener("message",function(Tn){var kn=Tn.data;kn instanceof ArrayBuffer&&(kn=dist$3.Buffer.from(kn).toString());try{kn=JSON.parse(kn)}catch{return}if(kn.notification&&An.listeners(kn.notification).length){if(!Object.keys(kn.params).length)return An.emit(kn.notification);var Pn=[kn.notification];if(kn.params.constructor===Object)Pn.push(kn.params);else for(var Dn=0;Dn<kn.params.length;Dn++)Pn.push(kn.params[Dn]);return Promise.resolve().then(function(){An.emit.apply(An,Pn)})}if(!An.queue[kn.id])return kn.method&&kn.params?Promise.resolve().then(function(){An.emit(kn.method,kn.params)}):void 0;"error"in kn=="result"in kn&&An.queue[kn.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),An.queue[kn.id].timeout&&clearTimeout(An.queue[kn.id].timeout),kn.error?An.queue[kn.id].promise[1](kn.error):An.queue[kn.id].promise[0](kn.result),delete An.queue[kn.id]}),this.socket.addEventListener("error",function(Tn){return An.emit("error",Tn)}),this.socket.addEventListener("close",function(Tn){var kn=Tn.code,Pn=Tn.reason;An.ready&&setTimeout(function(){return An.emit("close",kn,Pn)},0),An.ready=!1,An.socket=void 0,kn!==1e3&&(An.current_reconnects++,An.reconnect&&(An.max_reconnects>An.current_reconnects||An.max_reconnects===0)&&(An.reconnect_timer_id=setTimeout(function(){return An._connect(yn,In)},An.reconnect_interval)))})}}]),$n}(nn.EventEmitter);n.default=hn})(client$2);var RpcWebSocketCommonClient$2=getDefaultExportFromCjs$5(client$2),websocket_browser$2={};(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=sn;var t=e(classCallCheck.exports),r=e(createClass.exports),o=e(inherits$2.exports),a=e(possibleConstructorReturn.exports),c=e(getPrototypeOf$1.exports),u=eventemitter3.exports;function en(fn){var dn=tn();return function(){var ln=(0,c.default)(fn),pn;if(dn){var $n=(0,c.default)(this).constructor;pn=Reflect.construct(ln,arguments,$n)}else pn=ln.apply(this,arguments);return(0,a.default)(this,pn)}}function tn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var nn=function(fn){(0,o.default)(hn,fn);var dn=en(hn);function hn(ln,pn,$n){var Sn;return(0,t.default)(this,hn),Sn=dn.call(this),Sn.socket=new window.WebSocket(ln,$n),Sn.socket.onopen=function(){return Sn.emit("open")},Sn.socket.onmessage=function(yn){return Sn.emit("message",yn.data)},Sn.socket.onerror=function(yn){return Sn.emit("error",yn)},Sn.socket.onclose=function(yn){Sn.emit("close",yn.code,yn.reason)},Sn}return(0,r.default)(hn,[{key:"send",value:function(pn,$n,Sn){var yn=Sn||$n;try{this.socket.send(pn),yn()}catch(In){yn(In)}}},{key:"close",value:function(pn,$n){this.socket.close(pn,$n)}},{key:"addEventListener",value:function(pn,$n,Sn){this.socket.addEventListener(pn,$n,Sn)}}]),hn}(u.EventEmitter);function sn(fn,dn){return new nn(fn,dn)}})(websocket_browser$2);var createRpc$2=getDefaultExportFromCjs$5(websocket_browser$2);const generatePrivateKey$2=ed25519$1.utils.randomPrivateKey,generateKeypair$3=()=>{const n=ed25519$1.utils.randomPrivateKey(),e=getPublicKey$3(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},getPublicKey$3=ed25519$1.getPublicKey;function isOnCurve$3(n){try{return ed25519$1.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sign$3=(n,e)=>ed25519$1.sign(n,e.slice(0,32)),verify$3=ed25519$1.verify,toBuffer$3=n=>bufferPolyfill.Buffer.isBuffer(n)?n:n instanceof Uint8Array?bufferPolyfill.Buffer.from(n.buffer,n.byteOffset,n.byteLength):bufferPolyfill.Buffer.from(n);class Struct$5{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$3,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$3,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$3,this,e)}}class Enum$2 extends Struct$5{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const SOLANA_SCHEMA$3=new Map;var _class$3;let _Symbol$toStringTag$5;const MAX_SEED_LENGTH$3=32,PUBLIC_KEY_LENGTH$3=32;function isPublicKeyData$3(n){return n._bn!==void 0}let uniquePublicKeyCounter$3=1;_Symbol$toStringTag$5=Symbol.toStringTag;class PublicKey$3 extends Struct$5{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$3(e))this._bn=e._bn;else{if(typeof e=="string"){const t=bs58$1.decode(e);if(t.length!=PUBLIC_KEY_LENGTH$3)throw new Error("Invalid public key input");this._bn=new BN(t)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$3)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$3(uniquePublicKeyCounter$3);return uniquePublicKeyCounter$3+=1,new PublicKey$3(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$1.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$3)return e;const t=bufferPolyfill.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[_Symbol$toStringTag$5](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(t),r.toBuffer()]),a=sha256$2(o);return new PublicKey$3(a)}static createProgramAddressSync(e,t){let r=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$3)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,toBuffer$3(a)])}),r=bufferPolyfill.Buffer.concat([r,t.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$2(r);if(isOnCurve$3(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$3(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([r]));o=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new PublicKey$3(e);return isOnCurve$3(t.toBytes())}}_class$3=PublicKey$3;PublicKey$3.default=new _class$3("11111111111111111111111111111111");SOLANA_SCHEMA$3.set(PublicKey$3,{kind:"struct",fields:[["_bn","u256"]]});class Account$2{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=toBuffer$3(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=toBuffer$3(generatePrivateKey$2()),this._publicKey=toBuffer$3(getPublicKey$3(this._secretKey))}get publicKey(){return new PublicKey$3(this._publicKey)}get secretKey(){return bufferPolyfill.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID$2=new PublicKey$3("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE$3=1280-40-8,VERSION_PREFIX_MASK$3=127,SIGNATURE_LENGTH_IN_BYTES$3=64;class TransactionExpiredBlockheightExceededError$2 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError$2.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError$2 extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError$2.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError$2 extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError$2.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys$3{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((a,c)=>{r.set(a.toBase58(),c)});const o=a=>{const c=r.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$4=(n="publicKey")=>blob$2(32,n),signature$2=(n="signature")=>blob$2(64,n),rustString$3=(n="string")=>{const e=struct$3([u32$3("length"),u32$3("lengthPadding"),blob$2(offset$1(u32$3(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(a,c)=>t(a,c).chars.toString(),o.encode=(a,c,u)=>{const en={chars:bufferPolyfill.Buffer.from(a,"utf8")};return r(en,c,u)},o.alloc=a=>u32$3().span+u32$3().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$3=(n="authorized")=>struct$3([publicKey$4("staker"),publicKey$4("withdrawer")],n),lockup$3=(n="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$4("custodian")],n),voteInit$3=(n="voteInit")=>struct$3([publicKey$4("nodePubkey"),publicKey$4("authorizedVoter"),publicKey$4("authorizedWithdrawer"),u8$2("commission")],n),voteAuthorizeWithSeedArgs$3=(n="voteAuthorizeWithSeedArgs")=>struct$3([u32$3("voteAuthorizationType"),publicKey$4("currentAuthorityDerivedKeyOwnerPubkey"),rustString$3("currentAuthorityDerivedKeySeed"),publicKey$4("newAuthorized")],n);function getAlloc$3(n,e){const t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*t(o.elementLayout)}else if("fields"in o)return getAlloc$3({layout:o},e[o.property]);return 0};let r=0;return n.layout.fields.forEach(o=>{r+=t(o)}),r}function decodeLength$3(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function encodeLength$3(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function assert$6(n,e){if(!n)throw new Error(e||"Assertion failed")}class CompiledKeys$4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,o=c=>{const u=c.toBase58();let en=r.get(u);return en===void 0&&(en={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,en)),en},a=o(t);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const en=o(u.pubkey);en.isSigner||=u.isSigner,en.isWritable||=u.isWritable}}return new CompiledKeys$4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$6(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,en])=>en.isSigner&&en.isWritable),r=e.filter(([,en])=>en.isSigner&&!en.isWritable),o=e.filter(([,en])=>!en.isSigner&&en.isWritable),a=e.filter(([,en])=>!en.isSigner&&!en.isWritable),c={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};{assert$6(t.length>0,"Expected at least one writable signer key");const[en]=t[0];assert$6(en===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([en])=>new PublicKey$3(en)),...r.map(([en])=>new PublicKey$3(en)),...o.map(([en])=>new PublicKey$3(en)),...a.map(([en])=>new PublicKey$3(en))];return[c,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:a}]}drainKeysFoundInLookupTable(e,t){const r=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(t(c)){const u=new PublicKey$3(a),en=e.findIndex(tn=>tn.equals(u));en>=0&&(assert$6(en<256,"Max lookup table index exceeded"),r.push(en),o.push(u),this.keyMetaMap.delete(a))}return[r,o]}}class Message$3{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new PublicKey$3(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$1.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys$3(this.staticAccountKeys)}static compile(e){const t=CompiledKeys$4.compile(e.instructions,e.payerKey),[r,o]=t.getMessageComponents(),c=new MessageAccountKeys$3(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$1.encode(u.data)}));return new Message$3({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<a}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];encodeLength$3(t,e);const r=this.instructions.map(sn=>{const{accounts:fn,programIdIndex:dn}=sn,hn=Array.from(bs58$1.decode(sn.data));let ln=[];encodeLength$3(ln,fn.length);let pn=[];return encodeLength$3(pn,hn.length),{programIdIndex:dn,keyIndicesCount:bufferPolyfill.Buffer.from(ln),keyIndices:fn,dataLength:bufferPolyfill.Buffer.from(pn),data:hn}});let o=[];encodeLength$3(o,r.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE$3);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;r.forEach(sn=>{c+=struct$3([u8$2("programIdIndex"),blob$2(sn.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),sn.keyIndices.length,"keyIndices"),blob$2(sn.dataLength.length,"dataLength"),seq(u8$2("userdatum"),sn.data.length,"data")]).encode(sn,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(t.length,"keyCount"),seq(publicKey$4("key"),e,"keys"),publicKey$4("recentBlockhash")]),en={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(t),keys:this.accountKeys.map(sn=>toBuffer$3(sn.toBytes())),recentBlockhash:bs58$1.decode(this.recentBlockhash)};let tn=bufferPolyfill.Buffer.alloc(2048);const nn=u.encode(en,tn);return a.copy(tn,nn),tn.slice(0,nn+a.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&VERSION_PREFIX_MASK$3))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=t.shift(),a=t.shift(),c=decodeLength$3(t);let u=[];for(let fn=0;fn<c;fn++){const dn=t.slice(0,PUBLIC_KEY_LENGTH$3);t=t.slice(PUBLIC_KEY_LENGTH$3),u.push(new PublicKey$3(bufferPolyfill.Buffer.from(dn)))}const en=t.slice(0,PUBLIC_KEY_LENGTH$3);t=t.slice(PUBLIC_KEY_LENGTH$3);const tn=decodeLength$3(t);let nn=[];for(let fn=0;fn<tn;fn++){const dn=t.shift(),hn=decodeLength$3(t),ln=t.slice(0,hn);t=t.slice(hn);const pn=decodeLength$3(t),$n=t.slice(0,pn),Sn=bs58$1.encode(bufferPolyfill.Buffer.from($n));t=t.slice(pn),nn.push({programIdIndex:dn,accounts:ln,data:Sn})}const sn={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$1.encode(bufferPolyfill.Buffer.from(en)),accountKeys:u,instructions:nn};return new Message$3(sn)}}class MessageV0$2{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys$3(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const o=e-r,a=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<a}else if(e>=this.header.numRequiredSignatures){const o=e-t,c=r-t-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=e.find(a=>a.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const a of r.writableIndexes)if(a<o.state.addresses.length)t.writable.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`);for(const a of r.readonlyIndexes)if(a<o.state.addresses.length)t.readonly.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=CompiledKeys$4.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const nn of a){const sn=t.extractTableLookup(nn);if(sn!==void 0){const[fn,{writable:dn,readonly:hn}]=sn;r.push(fn),o.writable.push(...dn),o.readonly.push(...hn)}}const[c,u]=t.getMessageComponents(),tn=new MessageAccountKeys$3(u,o).compileInstructions(e.instructions);return new MessageV0$2({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:tn,addressTableLookups:r})}serialize(){const e=Array();encodeLength$3(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();encodeLength$3(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),a=Array();encodeLength$3(a,this.addressTableLookups.length);const c=struct$3([u8$2("prefix"),struct$3([u8$2("numRequiredSignatures"),u8$2("numReadonlySignedAccounts"),u8$2("numReadonlyUnsignedAccounts")],"header"),blob$2(e.length,"staticAccountKeysLength"),seq(publicKey$4(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$4("recentBlockhash"),blob$2(r.length,"instructionsLength"),blob$2(t.length,"serializedInstructions"),blob$2(a.length,"addressTableLookupsLength"),blob$2(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(PACKET_DATA_SIZE$3),en=1<<7,tn=c.encode({prefix:en,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(nn=>nn.toBytes()),recentBlockhash:bs58$1.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:o},u);return u.slice(0,tn)}serializeInstructions(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$3);for(const r of this.compiledInstructions){const o=Array();encodeLength$3(o,r.accountKeyIndexes.length);const a=Array();encodeLength$3(a,r.data.length),e+=struct$3([u8$2("programIdIndex"),blob$2(o.length,"encodedAccountKeyIndexesLength"),seq(u8$2(),r.accountKeyIndexes.length,"accountKeyIndexes"),blob$2(a.length,"encodedDataLength"),blob$2(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$3);for(const r of this.addressTableLookups){const o=Array();encodeLength$3(o,r.writableIndexes.length);const a=Array();encodeLength$3(a,r.readonlyIndexes.length),e+=struct$3([publicKey$4("accountKey"),blob$2(o.length,"encodedWritableIndexesLength"),seq(u8$2(),r.writableIndexes.length,"writableIndexes"),blob$2(a.length,"encodedReadonlyIndexesLength"),seq(u8$2(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),o=r&VERSION_PREFIX_MASK$3;assert$6(r!==o,"Expected versioned message but received legacy message");const a=o;assert$6(a===0,`Expected versioned message with version 0 but found version ${a}`);const c={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},u=[],en=decodeLength$3(t);for(let hn=0;hn<en;hn++)u.push(new PublicKey$3(t.splice(0,PUBLIC_KEY_LENGTH$3)));const tn=bs58$1.encode(t.splice(0,PUBLIC_KEY_LENGTH$3)),nn=decodeLength$3(t),sn=[];for(let hn=0;hn<nn;hn++){const ln=t.shift(),pn=decodeLength$3(t),$n=t.splice(0,pn),Sn=decodeLength$3(t),yn=new Uint8Array(t.splice(0,Sn));sn.push({programIdIndex:ln,accountKeyIndexes:$n,data:yn})}const fn=decodeLength$3(t),dn=[];for(let hn=0;hn<fn;hn++){const ln=new PublicKey$3(t.splice(0,PUBLIC_KEY_LENGTH$3)),pn=decodeLength$3(t),$n=t.splice(0,pn),Sn=decodeLength$3(t),yn=t.splice(0,Sn);dn.push({accountKey:ln,writableIndexes:$n,readonlyIndexes:yn})}return new MessageV0$2({header:c,staticAccountKeys:u,recentBlockhash:tn,compiledInstructions:sn,addressTableLookups:dn})}}const VersionedMessage$2={deserializeMessageVersion(n){const e=n[0],t=e&VERSION_PREFIX_MASK$3;return t===e?"legacy":t},deserialize:n=>{const e=VersionedMessage$2.deserializeMessageVersion(n);if(e==="legacy")return Message$3.from(n);if(e===0)return MessageV0$2.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus$2=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const DEFAULT_SIGNATURE$3=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$3).fill(0);class TransactionInstruction$3{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$3{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction$3(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let ln=0;ln<t.length;ln++)if(t[ln].programId===void 0)throw new Error(`Transaction instruction index ${ln} has undefined program id`);const o=[],a=[];t.forEach(ln=>{ln.keys.forEach($n=>{a.push({...$n})});const pn=ln.programId.toString();o.includes(pn)||o.push(pn)}),o.forEach(ln=>{a.push({pubkey:new PublicKey$3(ln),isSigner:!1,isWritable:!1})});const c=[];a.forEach(ln=>{const pn=ln.pubkey.toString(),$n=c.findIndex(Sn=>Sn.pubkey.toString()===pn);$n>-1?(c[$n].isWritable=c[$n].isWritable||ln.isWritable,c[$n].isSigner=c[$n].isSigner||ln.isSigner):c.push(ln)}),c.sort(function(ln,pn){if(ln.isSigner!==pn.isSigner)return ln.isSigner?-1:1;if(ln.isWritable!==pn.isWritable)return ln.isWritable?-1:1;const $n={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return ln.pubkey.toBase58().localeCompare(pn.pubkey.toBase58(),"en",$n)});const u=c.findIndex(ln=>ln.pubkey.equals(r));if(u>-1){const[ln]=c.splice(u,1);ln.isSigner=!0,ln.isWritable=!0,c.unshift(ln)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const ln of this.signatures){const pn=c.findIndex($n=>$n.pubkey.equals(ln.publicKey));if(pn>-1)c[pn].isSigner||(c[pn].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${ln.publicKey.toString()}`)}let en=0,tn=0,nn=0;const sn=[],fn=[];c.forEach(({pubkey:ln,isSigner:pn,isWritable:$n})=>{pn?(sn.push(ln.toString()),en+=1,$n||(tn+=1)):(fn.push(ln.toString()),$n||(nn+=1))});const dn=sn.concat(fn),hn=t.map(ln=>{const{data:pn,programId:$n}=ln;return{programIdIndex:dn.indexOf($n.toString()),accounts:ln.keys.map(Sn=>dn.indexOf(Sn.pubkey.toString())),data:bs58$1.encode(pn)}});return hn.forEach(ln=>{assert$6(ln.programIdIndex>=0),ln.accounts.forEach(pn=>assert$6(pn>=0))}),new Message$3({header:{numRequiredSignatures:en,numReadonlySignedAccounts:tn,numReadonlyUnsignedAccounts:nn},accountKeys:dn,recentBlockhash:e,instructions:hn})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,a)=>t[a].equals(o.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const o=r.toString();return t.has(o)?!1:(t.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}this.signatures=r.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(o=>{const a=sign$3(r,o.secretKey);this._addSignature(o.publicKey,toBuffer$3(a))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){assert$6(t.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bufferPolyfill.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:o}of this.signatures)if(r===null){if(t)return!1}else if(!verify$3(r,e,o.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:t}=this,r=[];encodeLength$3(r,t.length);const o=r.length+t.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$6(t.length<256),bufferPolyfill.Buffer.from(r).copy(a,0),t.forEach(({signature:c},u)=>{c!==null&&(assert$6(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,r.length+u*64))}),e.copy(a,r.length+t.length*64),assert$6(a.length<=PACKET_DATA_SIZE$3,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE$3}`),a}get keys(){return assert$6(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$6(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$6(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=decodeLength$3(t);let o=[];for(let a=0;a<r;a++){const c=t.slice(0,SIGNATURE_LENGTH_IN_BYTES$3);t=t.slice(SIGNATURE_LENGTH_IN_BYTES$3),o.push(bs58$1.encode(bufferPolyfill.Buffer.from(c)))}return Transaction$3.populate(Message$3.from(t),o)}static populate(e,t=[]){const r=new Transaction$3;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((o,a)=>{const c={signature:o==bs58$1.encode(DEFAULT_SIGNATURE$3)?null:bs58$1.decode(o),publicKey:e.accountKeys[a]};r.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:r.signatures.some(en=>en.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});r.instructions.push(new TransactionInstruction$3({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$1.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}class TransactionMessage$2{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:o,recentBlockhash:a}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:en}=r,tn=c-u;assert$6(tn>0,"Message header is invalid");const nn=e.staticAccountKeys.length-c-en;assert$6(nn>=0,"Message header is invalid");const sn=e.getAccountKeys(t),fn=sn.get(0);if(fn===void 0)throw new Error("Failed to decompile message because no account keys were found");const dn=[];for(const hn of o){const ln=[];for(const $n of hn.accountKeyIndexes){const Sn=sn.get($n);if(Sn===void 0)throw new Error(`Failed to find key for account key index ${$n}`);const yn=$n<c;let In;yn?In=$n<tn:$n<sn.staticAccountKeys.length?In=$n-c<nn:In=$n-sn.staticAccountKeys.length<sn.accountKeysFromLookups.writable.length,ln.push({pubkey:Sn,isSigner:$n<r.numRequiredSignatures,isWritable:In})}const pn=sn.get(hn.programIdIndex);if(pn===void 0)throw new Error(`Failed to find program id for program id index ${hn.programIdIndex}`);dn.push(new TransactionInstruction$3({programId:pn,data:toBuffer$3(hn.data),keys:ln}))}return new TransactionMessage$2({payerKey:fn,instructions:dn,recentBlockhash:a})}compileToLegacyMessage(){return Message$3.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0$2.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction$2{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)assert$6(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES$3));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();encodeLength$3(t,this.signatures.length);const r=struct$3([blob$2(t.length,"encodedSignaturesLength"),seq(signature$2(),this.signatures.length,"signatures"),blob$2(e.length,"serializedMessage")]),o=new Uint8Array(2048),a=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,a)}static deserialize(e){let t=[...e];const r=[],o=decodeLength$3(t);for(let c=0;c<o;c++)r.push(new Uint8Array(t.splice(0,SIGNATURE_LENGTH_IN_BYTES$3)));const a=VersionedMessage$2.deserialize(new Uint8Array(t));return new VersionedTransaction$2(a,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const a=r.findIndex(c=>c.equals(o.publicKey));assert$6(a>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[a]=sign$3(t,o.secretKey)}}addSignature(e,t){assert$6(t.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));assert$6(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}}const NUM_TICKS_PER_SECOND$2=160,DEFAULT_TICKS_PER_SLOT$2=64,NUM_SLOTS_PER_SECOND$2=NUM_TICKS_PER_SECOND$2/DEFAULT_TICKS_PER_SLOT$2,MS_PER_SLOT$2=1e3/NUM_SLOTS_PER_SECOND$2,SYSVAR_CLOCK_PUBKEY$2=new PublicKey$3("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY$2=new PublicKey$3("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY$2=new PublicKey$3("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3=new PublicKey$3("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY$3=new PublicKey$3("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY$2=new PublicKey$3("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY$2=new PublicKey$3("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY$2=new PublicKey$3("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY$2=new PublicKey$3("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$5(n,e,t,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},a=await n.sendTransaction(e,t,o);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,en=u.keys[0].pubkey;c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:en,nonceValue:e.nonceInfo.nonce,signature:a},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await n.confirmTransaction(a,r&&r.commitment)).value;if(c.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(c)})`);return a}function sleep$2(n){return new Promise(e=>setTimeout(e,n))}function encodeData$3(n,e){const t=n.layout.span>=0?n.layout.span:getAlloc$3(n,e),r=bufferPolyfill.Buffer.alloc(t),o=Object.assign({instruction:n.index},e);return n.layout.encode(o,r),r}function decodeData$1$2(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const FeeCalculatorLayout$3=nu64$1("lamportsPerSignature"),NonceAccountLayout$3=struct$3([u32$3("version"),u32$3("state"),publicKey$4("authorizedPubkey"),publicKey$4("nonce"),struct$3([FeeCalculatorLayout$3],"feeCalculator")]),NONCE_ACCOUNT_LENGTH$3=NonceAccountLayout$3.span;class NonceAccount$2{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=NonceAccountLayout$3.decode(toBuffer$3(e),0);return new NonceAccount$2({authorizedPubkey:new PublicKey$3(t.authorizedPubkey),nonce:new PublicKey$3(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const encodeDecode$3=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bigInt$3=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode$3(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferLE_1(c,n);return r(tn,u,en)},a},u64$4=bigInt$3(8);class SystemInstruction$2{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS$3))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:o}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new PublicKey$3(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:o}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new PublicKey$3(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:o,programId:a}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$3(t),seed:r,space:o,programId:new PublicKey$3(a)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey$3(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:o}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$3(t),seed:r,programId:new PublicKey$3(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:o,space:a,programId:c}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey$3(t),seed:r,lamports:o,space:a,programId:new PublicKey$3(c)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey$3(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=decodeData$1$2(SYSTEM_INSTRUCTION_LAYOUTS$3.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey$3(t)}}static checkProgramId(e){if(!e.equals(SystemProgram$3.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const SYSTEM_INSTRUCTION_LAYOUTS$3=Object.freeze({Create:{index:0,layout:struct$3([u32$3("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},Assign:{index:1,layout:struct$3([u32$3("instruction"),publicKey$4("programId")])},Transfer:{index:2,layout:struct$3([u32$3("instruction"),u64$4("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$3("instruction"),publicKey$4("base"),rustString$3("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$3("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$3("instruction"),publicKey$4("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$3("instruction"),publicKey$4("authorized")])},Allocate:{index:8,layout:struct$3([u32$3("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$3("instruction"),publicKey$4("base"),rustString$3("seed"),ns64$1("space"),publicKey$4("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$3("instruction"),publicKey$4("base"),rustString$3("seed"),publicKey$4("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$3("instruction"),u64$4("lamports"),rustString$3("seed"),publicKey$4("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$3("instruction")])}});class SystemProgram$3{constructor(){}static createAccount(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$3.Create,r=encodeData$3(t,{lamports:e.lamports,space:e.space,programId:toBuffer$3(e.programId.toBuffer())});return new TransactionInstruction$3({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$3.TransferWithSeed;t=encodeData$3(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$3(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$3.Transfer;t=encodeData$3(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction$3({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$3.AssignWithSeed;t=encodeData$3(o,{base:toBuffer$3(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$3(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$3.Assign;t=encodeData$3(o,{programId:toBuffer$3(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$3({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$3.CreateWithSeed,r=encodeData$3(t,{base:toBuffer$3(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$3(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction$3({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Transaction$3;"basePubkey"in e&&"seed"in e?t.add(SystemProgram$3.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$3,programId:this.programId})):t.add(SystemProgram$3.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$3,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$3.InitializeNonceAccount,r=encodeData$3(t,{authorized:toBuffer$3(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$3(o)}static nonceAdvance(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$3.AdvanceNonceAccount,r=encodeData$3(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$3(o)}static nonceWithdraw(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$3.WithdrawNonceAccount,r=encodeData$3(t,{lamports:e.lamports});return new TransactionInstruction$3({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$3.AuthorizeNonceAccount,r=encodeData$3(t,{authorized:toBuffer$3(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction$3({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$3.AllocateWithSeed;t=encodeData$3(o,{base:toBuffer$3(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$3(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$3.Allocate;t=encodeData$3(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$3({keys:r,programId:this.programId,data:t})}}SystemProgram$3.programId=new PublicKey$3("11111111111111111111111111111111");const CHUNK_SIZE$2=PACKET_DATA_SIZE$3-300;class Loader$2{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader$2.chunkSize)+1+1)}static async load(e,t,r,o,a){{const sn=await e.getMinimumBalanceForRentExemption(a.length),fn=await e.getAccountInfo(r.publicKey,"confirmed");let dn=null;if(fn!==null){if(fn.executable)return console.error("Program load failed, account is already executable"),!1;fn.data.length!==a.length&&(dn=dn||new Transaction$3,dn.add(SystemProgram$3.allocate({accountPubkey:r.publicKey,space:a.length}))),fn.owner.equals(o)||(dn=dn||new Transaction$3,dn.add(SystemProgram$3.assign({accountPubkey:r.publicKey,programId:o}))),fn.lamports<sn&&(dn=dn||new Transaction$3,dn.add(SystemProgram$3.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:sn-fn.lamports})))}else dn=new Transaction$3().add(SystemProgram$3.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:sn>0?sn:1,space:a.length,programId:o}));dn!==null&&await sendAndConfirmTransaction$5(e,dn,[t,r],{commitment:"confirmed"})}const c=struct$3([u32$3("instruction"),u32$3("offset"),u32$3("bytesLength"),u32$3("bytesLengthPadding"),seq(u8$2("byte"),offset$1(u32$3(),-8),"bytes")]),u=Loader$2.chunkSize;let en=0,tn=a,nn=[];for(;tn.length>0;){const sn=tn.slice(0,u),fn=bufferPolyfill.Buffer.alloc(u+16);c.encode({instruction:0,offset:en,bytes:sn,bytesLength:0,bytesLengthPadding:0},fn);const dn=new Transaction$3().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:fn});nn.push(sendAndConfirmTransaction$5(e,dn,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep$2(1e3/4),en+=u,tn=tn.slice(u)}await Promise.all(nn);{const sn=struct$3([u32$3("instruction")]),fn=bufferPolyfill.Buffer.alloc(sn.span);sn.encode({instruction:1},fn);const dn=new Transaction$3().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1}],programId:o,data:fn}),hn="processed",ln=await e.sendTransaction(dn,[t,r],{preflightCommitment:hn}),{context:pn,value:$n}=await e.confirmTransaction({signature:ln,lastValidBlockHeight:dn.lastValidBlockHeight,blockhash:dn.recentBlockhash},hn);if($n.err)throw new Error(`Transaction ${ln} failed (${JSON.stringify($n)})`);for(;;){try{if(await e.getSlot({commitment:hn})>pn.slot)break}catch{}await new Promise(Sn=>setTimeout(Sn,Math.round(MS_PER_SLOT$2/2)))}}return!0}}Loader$2.chunkSize=CHUNK_SIZE$2;const BPF_LOADER_PROGRAM_ID$2=new PublicKey$3("BPFLoader2111111111111111111111111111111111");class BpfLoader$2{static getMinNumSignatures(e){return Loader$2.getMinNumSignatures(e)}static load(e,t,r,o,a){return Loader$2.load(e,t,r,a,o)}}function getDefaultExportFromCjs$2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var objToString$2=Object.prototype.toString,objKeys$2=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function stringify$2(n,e){var t,r,o,a,c,u,en;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return stringify$2(n.toJSON(),e);if(en=objToString$2.call(n),en==="[object Array]"){for(o="[",r=n.length-1,t=0;t<r;t++)o+=stringify$2(n[t],!0)+",";return r>-1&&(o+=stringify$2(n[t],!0)),o+"]"}else if(en==="[object Object]"){for(a=objKeys$2(n).sort(),r=a.length,o="",t=0;t<r;)c=a[t],u=stringify$2(n[c],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),t++;return"{"+o+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var fastStableStringify$3=function(n){var e=stringify$2(n,!1);if(e!==void 0)return""+e},fastStableStringify$1$2=getDefaultExportFromCjs$2(fastStableStringify$3);const MINIMUM_SLOT_PER_EPOCH$2=32;function trailingZeros$2(n){let e=0;for(;n>1;)n/=2,e++;return e}function nextPowerOfTwo$2(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class EpochSchedule$2{constructor(e,t,r,o,a){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=a}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=trailingZeros$2(nextPowerOfTwo$2(e+MINIMUM_SLOT_PER_EPOCH$2+1))-trailingZeros$2(MINIMUM_SLOT_PER_EPOCH$2)-1,r=this.getSlotsInEpoch(t),o=e-(r-MINIMUM_SLOT_PER_EPOCH$2);return[t,o]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),o=this.firstNormalEpoch+r,a=t%this.slotsPerEpoch;return[o,a]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH$2:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros$2(MINIMUM_SLOT_PER_EPOCH$2)):this.slotsPerEpoch}}class SendTransactionError$2 extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const SolanaJSONRPCErrorCode$2={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError$2 extends Error{constructor({code:e,message:t,data:r},o){super(o!=null?`${o}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var fetchImpl$2=globalThis.fetch;class RpcWebSocketClient$2 extends RpcWebSocketCommonClient$2{constructor(e,t,r){const o=a=>{const c=createRpc$2(a,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(o,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function decodeData$3(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const LOOKUP_TABLE_META_SIZE$2=56;class AddressLookupTableAccount$2{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=decodeData$3(LookupTableMetaLayout$2,e),r=e.length-LOOKUP_TABLE_META_SIZE$2;assert$6(r>=0,"lookup table is invalid"),assert$6(r%32===0,"lookup table is invalid");const o=r/32,{addresses:a}=struct$3([seq(publicKey$4(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE$2));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new PublicKey$3(t.authority[0]):void 0,addresses:a.map(c=>new PublicKey$3(c))}}}const LookupTableMetaLayout$2={index:1,layout:struct$3([u32$3("typeIndex"),u64$4("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$4(),offset$1(u8$2(),-1),"authority")])},URL_RE$2=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl$2(n){const e=n.match(URL_RE$2);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,o,a]=e,c=n.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),en=u==null?"":`:${u+1}`;return`${c}//${r}${en}${a}`}const PublicKeyFromString$3=coerce$2(instance$2(PublicKey$3),string$2(),n=>new PublicKey$3(n)),RawAccountDataResult$3=tuple$2([string$2(),literal$2("base64")]),BufferFromRawAccountData$3=coerce$2(instance$2(bufferPolyfill.Buffer),RawAccountDataResult$3,n=>bufferPolyfill.Buffer.from(n[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS$2=30*1e3;function assertEndpointUrl$2(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function extractCommitmentFromConfig$2(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...o}=n;e=r,t=o}return{commitment:e,config:t}}function createRpcResult$3(n){return union$2([type$2({jsonrpc:literal$2("2.0"),id:string$2(),result:n}),type$2({jsonrpc:literal$2("2.0"),id:string$2(),error:type$2({code:unknown$2(),message:string$2(),data:optional$2(any$2())})})])}const UnknownRpcResult$3=createRpcResult$3(unknown$2());function jsonRpcResult$3(n){return coerce$2(createRpcResult$3(n),UnknownRpcResult$3,e=>"error"in e?e:{...e,result:create$2(e.result,n)})}function jsonRpcResultAndContext$3(n){return jsonRpcResult$3(type$2({context:type$2({slot:number$2()}),value:n}))}function notificationResultAndContext$3(n){return type$2({context:type$2({slot:number$2()}),value:n})}function versionedMessageFromResponse$2(n,e){return n===0?new MessageV0$2({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new PublicKey$3(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:bs58$1.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Message$3(e)}const GetInflationGovernorResult$3=type$2({foundation:number$2(),foundationTerm:number$2(),initial:number$2(),taper:number$2(),terminal:number$2()}),GetInflationRewardResult$2=jsonRpcResult$3(array$2(nullable$2(type$2({epoch:number$2(),effectiveSlot:number$2(),amount:number$2(),postBalance:number$2(),commission:optional$2(nullable$2(number$2()))})))),GetRecentPrioritizationFeesResult$3=array$2(type$2({slot:number$2(),prioritizationFee:number$2()})),GetInflationRateResult$3=type$2({total:number$2(),validator:number$2(),foundation:number$2(),epoch:number$2()}),GetEpochInfoResult$3=type$2({epoch:number$2(),slotIndex:number$2(),slotsInEpoch:number$2(),absoluteSlot:number$2(),blockHeight:optional$2(number$2()),transactionCount:optional$2(number$2())}),GetEpochScheduleResult$3=type$2({slotsPerEpoch:number$2(),leaderScheduleSlotOffset:number$2(),warmup:boolean$2(),firstNormalEpoch:number$2(),firstNormalSlot:number$2()}),GetLeaderScheduleResult$3=record$2(string$2(),array$2(number$2())),TransactionErrorResult$3=nullable$2(union$2([type$2({}),string$2()])),SignatureStatusResult$3=type$2({err:TransactionErrorResult$3}),SignatureReceivedResult$3=literal$2("receivedSignature"),VersionResult$2=type$2({"solana-core":string$2(),"feature-set":optional$2(number$2())}),SimulatedTransactionResponseStruct$2=jsonRpcResultAndContext$3(type$2({err:nullable$2(union$2([type$2({}),string$2()])),logs:nullable$2(array$2(string$2())),accounts:optional$2(nullable$2(array$2(nullable$2(type$2({executable:boolean$2(),owner:string$2(),lamports:number$2(),data:array$2(string$2()),rentEpoch:optional$2(number$2())}))))),unitsConsumed:optional$2(number$2()),returnData:optional$2(nullable$2(type$2({programId:string$2(),data:tuple$2([string$2(),literal$2("base64")])})))})),BlockProductionResponseStruct$2=jsonRpcResultAndContext$3(type$2({byIdentity:record$2(string$2(),array$2(number$2())),range:type$2({firstSlot:number$2(),lastSlot:number$2()})}));function createRpcClient$2(n,e,t,r,o,a){const c=t||fetchImpl$2;let u;a!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let en;return r&&(en=async(nn,sn)=>{const fn=await new Promise((dn,hn)=>{try{r(nn,sn,(ln,pn)=>dn([ln,pn]))}catch(ln){hn(ln)}});return await c(...fn)}),new browser$4(async(nn,sn)=>{const fn={method:"POST",body:nn,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS$2)};try{let dn=5,hn,ln=500;for(;en?hn=await en(n,fn):hn=await c(n,fn),!(hn.status!==429||o===!0||(dn-=1,dn===0));)console.log(`Server responded with ${hn.status} ${hn.statusText}.  Retrying after ${ln}ms delay...`),await sleep$2(ln),ln*=2;const pn=await hn.text();hn.ok?sn(null,pn):sn(new Error(`${hn.status} ${hn.statusText}: ${pn}`))}catch(dn){dn instanceof Error&&sn(dn)}},{})}function createRpcRequest$2(n){return(e,t)=>new Promise((r,o)=>{n.request(e,t,(a,c)=>{if(a){o(a);return}r(c)})})}function createRpcBatchRequest$2(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const o=e.map(a=>n.request(a.methodName,a.args));n.request(o,(a,c)=>{if(a){r(a);return}t(c)})})}const GetInflationGovernorRpcResult$2=jsonRpcResult$3(GetInflationGovernorResult$3),GetInflationRateRpcResult$2=jsonRpcResult$3(GetInflationRateResult$3),GetRecentPrioritizationFeesRpcResult$2=jsonRpcResult$3(GetRecentPrioritizationFeesResult$3),GetEpochInfoRpcResult$2=jsonRpcResult$3(GetEpochInfoResult$3),GetEpochScheduleRpcResult$2=jsonRpcResult$3(GetEpochScheduleResult$3),GetLeaderScheduleRpcResult$2=jsonRpcResult$3(GetLeaderScheduleResult$3),SlotRpcResult$2=jsonRpcResult$3(number$2()),GetSupplyRpcResult$2=jsonRpcResultAndContext$3(type$2({total:number$2(),circulating:number$2(),nonCirculating:number$2(),nonCirculatingAccounts:array$2(PublicKeyFromString$3)})),TokenAmountResult$3=type$2({amount:string$2(),uiAmount:nullable$2(number$2()),decimals:number$2(),uiAmountString:optional$2(string$2())}),GetTokenLargestAccountsResult$2=jsonRpcResultAndContext$3(array$2(type$2({address:PublicKeyFromString$3,amount:string$2(),uiAmount:nullable$2(number$2()),decimals:number$2(),uiAmountString:optional$2(string$2())}))),GetTokenAccountsByOwner$2=jsonRpcResultAndContext$3(array$2(type$2({pubkey:PublicKeyFromString$3,account:type$2({executable:boolean$2(),owner:PublicKeyFromString$3,lamports:number$2(),data:BufferFromRawAccountData$3,rentEpoch:number$2()})}))),ParsedAccountDataResult$3=type$2({program:string$2(),parsed:unknown$2(),space:number$2()}),GetParsedTokenAccountsByOwner$2=jsonRpcResultAndContext$3(array$2(type$2({pubkey:PublicKeyFromString$3,account:type$2({executable:boolean$2(),owner:PublicKeyFromString$3,lamports:number$2(),data:ParsedAccountDataResult$3,rentEpoch:number$2()})}))),GetLargestAccountsRpcResult$2=jsonRpcResultAndContext$3(array$2(type$2({lamports:number$2(),address:PublicKeyFromString$3}))),AccountInfoResult$3=type$2({executable:boolean$2(),owner:PublicKeyFromString$3,lamports:number$2(),data:BufferFromRawAccountData$3,rentEpoch:number$2()}),KeyedAccountInfoResult$2=type$2({pubkey:PublicKeyFromString$3,account:AccountInfoResult$3}),ParsedOrRawAccountData$3=coerce$2(union$2([instance$2(bufferPolyfill.Buffer),ParsedAccountDataResult$3]),union$2([RawAccountDataResult$3,ParsedAccountDataResult$3]),n=>Array.isArray(n)?create$2(n,BufferFromRawAccountData$3):n),ParsedAccountInfoResult$3=type$2({executable:boolean$2(),owner:PublicKeyFromString$3,lamports:number$2(),data:ParsedOrRawAccountData$3,rentEpoch:number$2()}),KeyedParsedAccountInfoResult$2=type$2({pubkey:PublicKeyFromString$3,account:ParsedAccountInfoResult$3}),StakeActivationResult$2=type$2({state:union$2([literal$2("active"),literal$2("inactive"),literal$2("activating"),literal$2("deactivating")]),active:number$2(),inactive:number$2()}),GetConfirmedSignaturesForAddress2RpcResult$2=jsonRpcResult$3(array$2(type$2({signature:string$2(),slot:number$2(),err:TransactionErrorResult$3,memo:nullable$2(string$2()),blockTime:optional$2(nullable$2(number$2()))}))),GetSignaturesForAddressRpcResult$2=jsonRpcResult$3(array$2(type$2({signature:string$2(),slot:number$2(),err:TransactionErrorResult$3,memo:nullable$2(string$2()),blockTime:optional$2(nullable$2(number$2()))}))),AccountNotificationResult$2=type$2({subscription:number$2(),result:notificationResultAndContext$3(AccountInfoResult$3)}),ProgramAccountInfoResult$3=type$2({pubkey:PublicKeyFromString$3,account:AccountInfoResult$3}),ProgramAccountNotificationResult$2=type$2({subscription:number$2(),result:notificationResultAndContext$3(ProgramAccountInfoResult$3)}),SlotInfoResult$3=type$2({parent:number$2(),slot:number$2(),root:number$2()}),SlotNotificationResult$2=type$2({subscription:number$2(),result:SlotInfoResult$3}),SlotUpdateResult$3=union$2([type$2({type:union$2([literal$2("firstShredReceived"),literal$2("completed"),literal$2("optimisticConfirmation"),literal$2("root")]),slot:number$2(),timestamp:number$2()}),type$2({type:literal$2("createdBank"),parent:number$2(),slot:number$2(),timestamp:number$2()}),type$2({type:literal$2("frozen"),slot:number$2(),timestamp:number$2(),stats:type$2({numTransactionEntries:number$2(),numSuccessfulTransactions:number$2(),numFailedTransactions:number$2(),maxTransactionsPerEntry:number$2()})}),type$2({type:literal$2("dead"),slot:number$2(),timestamp:number$2(),err:string$2()})]),SlotUpdateNotificationResult$2=type$2({subscription:number$2(),result:SlotUpdateResult$3}),SignatureNotificationResult$2=type$2({subscription:number$2(),result:notificationResultAndContext$3(union$2([SignatureStatusResult$3,SignatureReceivedResult$3]))}),RootNotificationResult$2=type$2({subscription:number$2(),result:number$2()}),ContactInfoResult$2=type$2({pubkey:string$2(),gossip:nullable$2(string$2()),tpu:nullable$2(string$2()),rpc:nullable$2(string$2()),version:nullable$2(string$2())}),VoteAccountInfoResult$3=type$2({votePubkey:string$2(),nodePubkey:string$2(),activatedStake:number$2(),epochVoteAccount:boolean$2(),epochCredits:array$2(tuple$2([number$2(),number$2(),number$2()])),commission:number$2(),lastVote:number$2(),rootSlot:nullable$2(number$2())}),GetVoteAccounts$2=jsonRpcResult$3(type$2({current:array$2(VoteAccountInfoResult$3),delinquent:array$2(VoteAccountInfoResult$3)})),ConfirmationStatus$3=union$2([literal$2("processed"),literal$2("confirmed"),literal$2("finalized")]),SignatureStatusResponse$3=type$2({slot:number$2(),confirmations:nullable$2(number$2()),err:TransactionErrorResult$3,confirmationStatus:optional$2(ConfirmationStatus$3)}),GetSignatureStatusesRpcResult$2=jsonRpcResultAndContext$3(array$2(nullable$2(SignatureStatusResponse$3))),GetMinimumBalanceForRentExemptionRpcResult$2=jsonRpcResult$3(number$2()),AddressTableLookupStruct$3=type$2({accountKey:PublicKeyFromString$3,writableIndexes:array$2(number$2()),readonlyIndexes:array$2(number$2())}),ConfirmedTransactionResult$3=type$2({signatures:array$2(string$2()),message:type$2({accountKeys:array$2(string$2()),header:type$2({numRequiredSignatures:number$2(),numReadonlySignedAccounts:number$2(),numReadonlyUnsignedAccounts:number$2()}),instructions:array$2(type$2({accounts:array$2(number$2()),data:string$2(),programIdIndex:number$2()})),recentBlockhash:string$2(),addressTableLookups:optional$2(array$2(AddressTableLookupStruct$3))})}),AnnotatedAccountKey$3=type$2({pubkey:PublicKeyFromString$3,signer:boolean$2(),writable:boolean$2(),source:optional$2(union$2([literal$2("transaction"),literal$2("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$3=type$2({accountKeys:array$2(AnnotatedAccountKey$3),signatures:array$2(string$2())}),ParsedInstructionResult$3=type$2({parsed:unknown$2(),program:string$2(),programId:PublicKeyFromString$3}),RawInstructionResult$3=type$2({accounts:array$2(PublicKeyFromString$3),data:string$2(),programId:PublicKeyFromString$3}),InstructionResult$3=union$2([RawInstructionResult$3,ParsedInstructionResult$3]),UnknownInstructionResult$3=union$2([type$2({parsed:unknown$2(),program:string$2(),programId:string$2()}),type$2({accounts:array$2(string$2()),data:string$2(),programId:string$2()})]),ParsedOrRawInstruction$3=coerce$2(InstructionResult$3,UnknownInstructionResult$3,n=>"accounts"in n?create$2(n,RawInstructionResult$3):create$2(n,ParsedInstructionResult$3)),ParsedConfirmedTransactionResult$3=type$2({signatures:array$2(string$2()),message:type$2({accountKeys:array$2(AnnotatedAccountKey$3),instructions:array$2(ParsedOrRawInstruction$3),recentBlockhash:string$2(),addressTableLookups:optional$2(nullable$2(array$2(AddressTableLookupStruct$3)))})}),TokenBalanceResult$3=type$2({accountIndex:number$2(),mint:string$2(),owner:optional$2(string$2()),uiTokenAmount:TokenAmountResult$3}),LoadedAddressesResult$3=type$2({writable:array$2(PublicKeyFromString$3),readonly:array$2(PublicKeyFromString$3)}),ConfirmedTransactionMetaResult$3=type$2({err:TransactionErrorResult$3,fee:number$2(),innerInstructions:optional$2(nullable$2(array$2(type$2({index:number$2(),instructions:array$2(type$2({accounts:array$2(number$2()),data:string$2(),programIdIndex:number$2()}))})))),preBalances:array$2(number$2()),postBalances:array$2(number$2()),logMessages:optional$2(nullable$2(array$2(string$2()))),preTokenBalances:optional$2(nullable$2(array$2(TokenBalanceResult$3))),postTokenBalances:optional$2(nullable$2(array$2(TokenBalanceResult$3))),loadedAddresses:optional$2(LoadedAddressesResult$3),computeUnitsConsumed:optional$2(number$2())}),ParsedConfirmedTransactionMetaResult$3=type$2({err:TransactionErrorResult$3,fee:number$2(),innerInstructions:optional$2(nullable$2(array$2(type$2({index:number$2(),instructions:array$2(ParsedOrRawInstruction$3)})))),preBalances:array$2(number$2()),postBalances:array$2(number$2()),logMessages:optional$2(nullable$2(array$2(string$2()))),preTokenBalances:optional$2(nullable$2(array$2(TokenBalanceResult$3))),postTokenBalances:optional$2(nullable$2(array$2(TokenBalanceResult$3))),loadedAddresses:optional$2(LoadedAddressesResult$3),computeUnitsConsumed:optional$2(number$2())}),TransactionVersionStruct$3=union$2([literal$2(0),literal$2("legacy")]),RewardsResult$3=type$2({pubkey:string$2(),lamports:number$2(),postBalance:nullable$2(number$2()),rewardType:nullable$2(string$2()),commission:optional$2(nullable$2(number$2()))}),GetBlockRpcResult$2=jsonRpcResult$3(nullable$2(type$2({blockhash:string$2(),previousBlockhash:string$2(),parentSlot:number$2(),transactions:array$2(type$2({transaction:ConfirmedTransactionResult$3,meta:nullable$2(ConfirmedTransactionMetaResult$3),version:optional$2(TransactionVersionStruct$3)})),rewards:optional$2(array$2(RewardsResult$3)),blockTime:nullable$2(number$2()),blockHeight:nullable$2(number$2())}))),GetNoneModeBlockRpcResult$2=jsonRpcResult$3(nullable$2(type$2({blockhash:string$2(),previousBlockhash:string$2(),parentSlot:number$2(),rewards:optional$2(array$2(RewardsResult$3)),blockTime:nullable$2(number$2()),blockHeight:nullable$2(number$2())}))),GetAccountsModeBlockRpcResult$2=jsonRpcResult$3(nullable$2(type$2({blockhash:string$2(),previousBlockhash:string$2(),parentSlot:number$2(),transactions:array$2(type$2({transaction:ConfirmedTransactionAccountsModeResult$3,meta:nullable$2(ConfirmedTransactionMetaResult$3),version:optional$2(TransactionVersionStruct$3)})),rewards:optional$2(array$2(RewardsResult$3)),blockTime:nullable$2(number$2()),blockHeight:nullable$2(number$2())}))),GetParsedBlockRpcResult$2=jsonRpcResult$3(nullable$2(type$2({blockhash:string$2(),previousBlockhash:string$2(),parentSlot:number$2(),transactions:array$2(type$2({transaction:ParsedConfirmedTransactionResult$3,meta:nullable$2(ParsedConfirmedTransactionMetaResult$3),version:optional$2(TransactionVersionStruct$3)})),rewards:optional$2(array$2(RewardsResult$3)),blockTime:nullable$2(number$2()),blockHeight:nullable$2(number$2())}))),GetParsedAccountsModeBlockRpcResult$2=jsonRpcResult$3(nullable$2(type$2({blockhash:string$2(),previousBlockhash:string$2(),parentSlot:number$2(),transactions:array$2(type$2({transaction:ConfirmedTransactionAccountsModeResult$3,meta:nullable$2(ParsedConfirmedTransactionMetaResult$3),version:optional$2(TransactionVersionStruct$3)})),rewards:optional$2(array$2(RewardsResult$3)),blockTime:nullable$2(number$2()),blockHeight:nullable$2(number$2())}))),GetParsedNoneModeBlockRpcResult$2=jsonRpcResult$3(nullable$2(type$2({blockhash:string$2(),previousBlockhash:string$2(),parentSlot:number$2(),rewards:optional$2(array$2(RewardsResult$3)),blockTime:nullable$2(number$2()),blockHeight:nullable$2(number$2())}))),GetConfirmedBlockRpcResult$2=jsonRpcResult$3(nullable$2(type$2({blockhash:string$2(),previousBlockhash:string$2(),parentSlot:number$2(),transactions:array$2(type$2({transaction:ConfirmedTransactionResult$3,meta:nullable$2(ConfirmedTransactionMetaResult$3)})),rewards:optional$2(array$2(RewardsResult$3)),blockTime:nullable$2(number$2())}))),GetBlockSignaturesRpcResult$2=jsonRpcResult$3(nullable$2(type$2({blockhash:string$2(),previousBlockhash:string$2(),parentSlot:number$2(),signatures:array$2(string$2()),blockTime:nullable$2(number$2())}))),GetTransactionRpcResult$2=jsonRpcResult$3(nullable$2(type$2({slot:number$2(),meta:ConfirmedTransactionMetaResult$3,blockTime:optional$2(nullable$2(number$2())),transaction:ConfirmedTransactionResult$3,version:optional$2(TransactionVersionStruct$3)}))),GetParsedTransactionRpcResult$2=jsonRpcResult$3(nullable$2(type$2({slot:number$2(),transaction:ParsedConfirmedTransactionResult$3,meta:nullable$2(ParsedConfirmedTransactionMetaResult$3),blockTime:optional$2(nullable$2(number$2())),version:optional$2(TransactionVersionStruct$3)}))),GetRecentBlockhashAndContextRpcResult$2=jsonRpcResultAndContext$3(type$2({blockhash:string$2(),feeCalculator:type$2({lamportsPerSignature:number$2()})})),GetLatestBlockhashRpcResult$2=jsonRpcResultAndContext$3(type$2({blockhash:string$2(),lastValidBlockHeight:number$2()})),IsBlockhashValidRpcResult$2=jsonRpcResultAndContext$3(boolean$2()),PerfSampleResult$3=type$2({slot:number$2(),numTransactions:number$2(),numSlots:number$2(),samplePeriodSecs:number$2()}),GetRecentPerformanceSamplesRpcResult$2=jsonRpcResult$3(array$2(PerfSampleResult$3)),GetFeeCalculatorRpcResult$2=jsonRpcResultAndContext$3(nullable$2(type$2({feeCalculator:type$2({lamportsPerSignature:number$2()})}))),RequestAirdropRpcResult$2=jsonRpcResult$3(string$2()),SendTransactionRpcResult$2=jsonRpcResult$3(string$2()),LogsResult$3=type$2({err:TransactionErrorResult$3,logs:array$2(string$2()),signature:string$2()}),LogsNotificationResult$2=type$2({result:notificationResultAndContext$3(LogsResult$3),subscription:number$2()}),COMMON_HTTP_HEADERS$2={"solana-client":"js/0.0.0-development"};class Connection$2{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const tn={};return async nn=>{const{commitment:sn,config:fn}=extractCommitmentFromConfig$2(nn),dn=this._buildArgs([],sn,void 0,fn),hn=fastStableStringify$1$2(dn);return tn[hn]=tn[hn]??(async()=>{try{const ln=await this._rpcRequest("getBlockHeight",dn),pn=create$2(ln,jsonRpcResult$3(number$2()));if("error"in pn)throw new SolanaJSONRPCError$2(pn.error,"failed to get block height information");return pn.result}finally{delete tn[hn]}})(),await tn[hn]}})();let r,o,a,c,u,en;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,o=t.httpHeaders,a=t.fetch,c=t.fetchMiddleware,u=t.disableRetryOnRateLimit,en=t.httpAgent),this._rpcEndpoint=assertEndpointUrl$2(e),this._rpcWsEndpoint=r||makeWebsocketUrl$2(e),this._rpcClient=createRpcClient$2(e,o,a,c,u,en),this._rpcRequest=createRpcRequest$2(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest$2(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient$2(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=this._buildArgs([e.toBase58()],r,void 0,o),c=await this._rpcRequest("getBalance",a),u=create$2(c,jsonRpcResultAndContext$3(number$2()));if("error"in u)throw new SolanaJSONRPCError$2(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=create$2(t,jsonRpcResult$3(nullable$2(number$2())));if("error"in r)throw new SolanaJSONRPCError$2(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=create$2(e,jsonRpcResult$3(number$2()));if("error"in t)throw new SolanaJSONRPCError$2(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=create$2(e,SlotRpcResult$2);if("error"in t)throw new SolanaJSONRPCError$2(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),o=create$2(r,GetSupplyRpcResult$2);if("error"in o)throw new SolanaJSONRPCError$2(o.error,"failed to get supply");return o.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenSupply",r),a=create$2(o,jsonRpcResultAndContext$3(TokenAmountResult$3));if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get token supply");return a.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenAccountBalance",r),a=create$2(o,jsonRpcResultAndContext$3(TokenAmountResult$3));if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get token account balance");return a.result}async getTokenAccountsByOwner(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$2(r);let c=[e.toBase58()];"mint"in t?c.push({mint:t.mint.toBase58()}):c.push({programId:t.programId.toBase58()});const u=this._buildArgs(c,o,"base64",a),en=await this._rpcRequest("getTokenAccountsByOwner",u),tn=create$2(en,GetTokenAccountsByOwner$2);if("error"in tn)throw new SolanaJSONRPCError$2(tn.error,`failed to get token accounts owned by account ${e.toBase58()}`);return tn.result}async getParsedTokenAccountsByOwner(e,t,r){let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,r,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=create$2(c,GetParsedTokenAccountsByOwner$2);if("error"in u)throw new SolanaJSONRPCError$2(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],o=await this._rpcRequest("getLargestAccounts",r),a=create$2(o,GetLargestAccountsRpcResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get largest accounts");return a.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenLargestAccounts",r),a=create$2(o,GetTokenLargestAccountsResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get token largest accounts");return a.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=this._buildArgs([e.toBase58()],r,"base64",o),c=await this._rpcRequest("getAccountInfo",a),u=create$2(c,jsonRpcResultAndContext$3(nullable$2(AccountInfoResult$3)));if("error"in u)throw new SolanaJSONRPCError$2(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",a),u=create$2(c,jsonRpcResultAndContext$3(nullable$2(ParsedAccountInfoResult$3)));if("error"in u)throw new SolanaJSONRPCError$2(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"jsonParsed",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create$2(u,jsonRpcResultAndContext$3(array$2(nullable$2(ParsedAccountInfoResult$3))));if("error"in en)throw new SolanaJSONRPCError$2(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create$2(u,jsonRpcResultAndContext$3(array$2(nullable$2(AccountInfoResult$3))));if("error"in en)throw new SolanaJSONRPCError$2(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$2(t),c=this._buildArgs([e.toBase58()],o,void 0,{...a,epoch:r??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getStakeActivation",c),en=create$2(u,jsonRpcResult$3(StakeActivationResult$2));if("error"in en)throw new SolanaJSONRPCError$2(en.error,`failed to get Stake Activation ${e.toBase58()}`);return en.result}async getProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),{encoding:a,...c}=o||{},u=this._buildArgs([e.toBase58()],r,a||"base64",c),en=await this._rpcRequest("getProgramAccounts",u),tn=array$2(KeyedAccountInfoResult$2),nn=c.withContext===!0?create$2(en,jsonRpcResultAndContext$3(tn)):create$2(en,jsonRpcResult$3(tn));if("error"in nn)throw new SolanaJSONRPCError$2(nn.error,`failed to get accounts owned by program ${e.toBase58()}`);return nn.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",a),u=create$2(c,jsonRpcResult$3(array$2(KeyedParsedAccountInfoResult$2)));if("error"in u)throw new SolanaJSONRPCError$2(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){var a;let r;if(typeof e=="string")r=e;else{const c=e;if((a=c.abortSignal)!=null&&a.aborted)return Promise.reject(c.abortSignal.reason);r=c.signature}let o;try{o=bs58$1.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return assert$6(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,o,a=!1;const c=new Promise((en,tn)=>{try{r=this.onSignature(t,(sn,fn)=>{r=void 0;const dn={context:fn,value:sn};en({__type:TransactionStatus$2.PROCESSED,response:dn})},e);const nn=new Promise(sn=>{r==null?sn():o=this._onSubscriptionStateChange(r,fn=>{fn==="subscribed"&&sn()})});(async()=>{if(await nn,a)return;const sn=await this.getSignatureStatus(t);if(a||sn==null)return;const{context:fn,value:dn}=sn;if(dn!=null)if(dn!=null&&dn.err)tn(dn.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(dn.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(dn.confirmationStatus==="processed"||dn.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}a=!0,en({__type:TransactionStatus$2.PROCESSED,response:{context:fn,value:dn}})}})()}catch(nn){tn(nn)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:o}}){let a=!1;const c=new Promise(sn=>{const fn=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let dn=await fn();if(!a){for(;dn<=r;)if(await sleep$2(1e3),a||(dn=await fn(),a))return;sn({__type:TransactionStatus$2.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:en}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),tn=this.getCancellationPromise(t);let nn;try{const sn=await Promise.race([tn,en,c]);if(sn.__type===TransactionStatus$2.PROCESSED)nn=sn.response;else throw new TransactionExpiredBlockheightExceededError$2(o)}finally{a=!0,u()}return nn}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:o,nonceValue:a,signature:c}}){let u=!1;const en=new Promise(dn=>{let hn=a,ln=null;const pn=async()=>{try{const{context:$n,value:Sn}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:r});return ln=$n.slot,Sn==null?void 0:Sn.nonce}catch{return hn}};(async()=>{if(hn=await pn(),!u)for(;;){if(a!==hn){dn({__type:TransactionStatus$2.NONCE_INVALID,slotInWhichNonceDidAdvance:ln});return}if(await sleep$2(2e3),u||(hn=await pn(),u))return}})()}),{abortConfirmation:tn,confirmationPromise:nn}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),sn=this.getCancellationPromise(t);let fn;try{const dn=await Promise.race([sn,nn,en]);if(dn.__type===TransactionStatus$2.PROCESSED)fn=dn.response;else{let hn;for(;;){const ln=await this.getSignatureStatus(c);if(ln==null)break;if(ln.context.slot<(dn.slotInWhichNonceDidAdvance??r)){await sleep$2(400);continue}hn=ln;break}if(hn!=null&&hn.value){const ln=e||"finalized",{confirmationStatus:pn}=hn.value;switch(ln){case"processed":case"recent":if(pn!=="processed"&&pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError$2(c);break;case"confirmed":case"single":case"singleGossip":if(pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError$2(c);break;case"finalized":case"max":case"root":if(pn!=="finalized")throw new TransactionExpiredNonceInvalidError$2(c);break;default:($n=>{})(ln)}fn={context:hn.context,value:{err:hn.value.err}}}else throw new TransactionExpiredNonceInvalidError$2(c)}}finally{u=!0,tn()}return fn}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const o=new Promise(en=>{let tn=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{tn=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>en({__type:TransactionStatus$2.TIMED_OUT,timeoutMs:tn}),tn)}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let u;try{const en=await Promise.race([c,o]);if(en.__type===TransactionStatus$2.PROCESSED)u=en.response;else throw new TransactionExpiredTimeoutError$2(t,en.timeoutMs/1e3)}finally{clearTimeout(r),a()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=create$2(e,jsonRpcResult$3(array$2(ContactInfoResult$2)));if("error"in t)throw new SolanaJSONRPCError$2(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),o=create$2(r,GetVoteAccounts$2);if("error"in o)throw new SolanaJSONRPCError$2(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:t,config:r}=extractCommitmentFromConfig$2(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlot",o),c=create$2(a,jsonRpcResult$3(number$2()));if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:t,config:r}=extractCommitmentFromConfig$2(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlotLeader",o),c=create$2(a,jsonRpcResult$3(string$2()));if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,t){const r=[e,t],o=await this._rpcRequest("getSlotLeaders",r),a=create$2(o,jsonRpcResult$3(array$2(PublicKeyFromString$3)));if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get slot leaders");return a.result}async getSignatureStatus(e,t){const{context:r,value:o}=await this.getSignatureStatuses([e],t);assert$6(o.length===1);const a=o[0];return{context:r,value:a}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const o=await this._rpcRequest("getSignatureStatuses",r),a=create$2(o,GetSignatureStatusesRpcResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get signature status");return a.result}async getTransactionCount(e){const{commitment:t,config:r}=extractCommitmentFromConfig$2(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getTransactionCount",o),c=create$2(a,jsonRpcResult$3(number$2()));if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),o=create$2(r,GetInflationGovernorRpcResult$2);if("error"in o)throw new SolanaJSONRPCError$2(o.error,"failed to get inflation");return o.result}async getInflationReward(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$2(r),c=this._buildArgs([e.map(tn=>tn.toBase58())],o,void 0,{...a,epoch:t??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getInflationReward",c),en=create$2(u,GetInflationRewardResult$2);if("error"in en)throw new SolanaJSONRPCError$2(en.error,"failed to get inflation reward");return en.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=create$2(e,GetInflationRateRpcResult$2);if("error"in t)throw new SolanaJSONRPCError$2(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=extractCommitmentFromConfig$2(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getEpochInfo",o),c=create$2(a,GetEpochInfoRpcResult$2);if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=create$2(e,GetEpochScheduleRpcResult$2);if("error"in t)throw new SolanaJSONRPCError$2(t.error,"failed to get epoch schedule");const r=t.result;return new EpochSchedule$2(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=create$2(e,GetLeaderScheduleRpcResult$2);if("error"in t)throw new SolanaJSONRPCError$2(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),a=create$2(o,GetMinimumBalanceForRentExemptionRpcResult$2);return"error"in a?(console.warn("Unable to fetch minimum balance for rent exemption"),0):a.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),o=create$2(r,GetRecentBlockhashAndContextRpcResult$2);if("error"in o)throw new SolanaJSONRPCError$2(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=create$2(t,GetRecentPerformanceSamplesRpcResult$2);if("error"in r)throw new SolanaJSONRPCError$2(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),a=create$2(o,GetFeeCalculatorRpcResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get fee calculator");const{context:c,value:u}=a.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const r=toBuffer$3(e.serialize()).toString("base64"),o=this._buildArgs([r],t),a=await this._rpcRequest("getFeeForMessage",o),c=create$2(a,jsonRpcResultAndContext$3(nullable$2(number$2())));if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){var c;const t=(c=e==null?void 0:e.lockedWritableAccounts)==null?void 0:c.map(u=>u.toBase58()),r=t!=null&&t.length?[t]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),a=create$2(o,GetRecentPrioritizationFeesRpcResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get recent prioritization fees");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=extractCommitmentFromConfig$2(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getLatestBlockhash",o),c=create$2(a,GetLatestBlockhashRpcResult$2);if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=this._buildArgs([e],r,void 0,o),c=await this._rpcRequest("isBlockhashValid",a),u=create$2(c,IsBlockhashValidRpcResult$2);if("error"in u)throw new SolanaJSONRPCError$2(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=create$2(e,jsonRpcResult$3(VersionResult$2));if("error"in t)throw new SolanaJSONRPCError$2(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=create$2(e,jsonRpcResult$3(string$2()));if("error"in t)throw new SolanaJSONRPCError$2(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$2(c,GetAccountsModeBlockRpcResult$2);if("error"in u)throw u.error;return u.result}case"none":{const u=create$2(c,GetNoneModeBlockRpcResult$2);if("error"in u)throw u.error;return u.result}default:{const u=create$2(c,GetBlockRpcResult$2);if("error"in u)throw u.error;const{result:en}=u;return en?{...en,transactions:en.transactions.map(({transaction:tn,meta:nn,version:sn})=>({meta:nn,transaction:{...tn,message:versionedMessageFromResponse$2(sn,tn.message)},version:sn}))}:null}}}catch(u){throw new SolanaJSONRPCError$2(u,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$2(c,GetParsedAccountsModeBlockRpcResult$2);if("error"in u)throw u.error;return u.result}case"none":{const u=create$2(c,GetParsedNoneModeBlockRpcResult$2);if("error"in u)throw u.error;return u.result}default:{const u=create$2(c,GetParsedBlockRpcResult$2);if("error"in u)throw u.error;return u.result}}}catch(u){throw new SolanaJSONRPCError$2(u,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:u,...en}=e;r=u,t=en}const o=this._buildArgs([],r,"base64",t),a=await this._rpcRequest("getBlockProduction",o),c=create$2(a,BlockProductionResponseStruct$2);if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get block production information");return c.result}async getTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getTransaction",a),u=create$2(c,GetTransactionRpcResult$2);if("error"in u)throw new SolanaJSONRPCError$2(u.error,"failed to get transaction");const en=u.result;return en&&{...en,transaction:{...en.transaction,message:versionedMessageFromResponse$2(en.version,en.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getTransaction",a),u=create$2(c,GetParsedTransactionRpcResult$2);if("error"in u)throw new SolanaJSONRPCError$2(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,"jsonParsed",o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create$2(en,GetParsedTransactionRpcResult$2);if("error"in tn)throw new SolanaJSONRPCError$2(tn.error,"failed to get transactions");return tn.result})}async getTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$2(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,void 0,o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create$2(en,GetTransactionRpcResult$2);if("error"in tn)throw new SolanaJSONRPCError$2(tn.error,"failed to get transactions");const nn=tn.result;return nn&&{...nn,transaction:{...nn.transaction,message:versionedMessageFromResponse$2(nn.version,nn.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedBlock",r),a=create$2(o,GetConfirmedBlockRpcResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:en,meta:tn})=>{const nn=new Message$3(en.message);return{meta:tn,transaction:{...en,message:nn}}})};return{...u,transactions:u.transactions.map(({transaction:en,meta:tn})=>({meta:tn,transaction:Transaction$3.populate(en.message,en.signatures)}))}}async getBlocks(e,t,r){const o=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),a=await this._rpcRequest("getBlocks",o),c=create$2(a,jsonRpcResult$3(array$2(number$2())));if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),a=create$2(o,GetBlockSignaturesRpcResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get block");const c=a.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",r),a=create$2(o,GetBlockSignaturesRpcResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedTransaction",r),a=create$2(o,GetTransactionRpcResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get transaction");const c=a.result;if(!c)return c;const u=new Message$3(c.transaction.message),en=c.transaction.signatures;return{...c,transaction:Transaction$3.populate(u,en)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",r),a=create$2(o,GetParsedTransactionRpcResult$2);if("error"in a)throw new SolanaJSONRPCError$2(a.error,"failed to get confirmed transaction");return a.result}async getParsedConfirmedTransactions(e,t){const r=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(r)).map(c=>{const u=create$2(c,GetParsedTransactionRpcResult$2);if("error"in u)throw new SolanaJSONRPCError$2(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,r){let o={},a=await this.getFirstAvailableBlock();for(;!("until"in o)&&(t--,!(t<=0||t<a));)try{const en=await this.getConfirmedBlockSignatures(t,"finalized");en.signatures.length>0&&(o.until=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}let c=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>c));)try{const en=await this.getConfirmedBlockSignatures(r);en.signatures.length>0&&(o.before=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(en=>en.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=create$2(a,GetConfirmedSignaturesForAddress2RpcResult$2);if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getSignaturesForAddress",o),c=create$2(a,GetSignaturesForAddressRpcResult$2);if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=new AddressLookupTableAccount$2({key:e,state:AddressLookupTableAccount$2.deserialize(o.data)})),{context:r,value:a}}async getNonceAndContext(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=NonceAccount$2.fromAccountData(o.data)),{context:r,value:a}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),o=create$2(r,RequestAirdropRpcResult$2);if("error"in o)throw new SolanaJSONRPCError$2(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep$2(100);const r=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS$2;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let o=0;o<50;o++){const a=await this.getLatestBlockhash("finalized");if(r!==a.blockhash)return this._blockhashInfo={latestBlockhash:a,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},a;await sleep$2(MS_PER_SLOT$2/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=extractCommitmentFromConfig$2(e),o=this._buildArgs([],t,"base64",r),a=await this._rpcRequest("getStakeMinimumDelegation",o),c=create$2(a,jsonRpcResultAndContext$3(number$2()));if("error"in c)throw new SolanaJSONRPCError$2(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,t,r){if("message"in e){const ln=e.serialize(),pn=bufferPolyfill.Buffer.from(ln).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const $n=t||{};$n.encoding="base64","commitment"in $n||($n.commitment=this.commitment);const Sn=[pn,$n],yn=await this._rpcRequest("simulateTransaction",Sn),In=create$2(yn,SimulatedTransactionResponseStruct$2);if("error"in In)throw new Error("failed to simulate transaction: "+In.error.message);return In.result}let o;if(e instanceof Transaction$3){let hn=e;o=new Transaction$3,o.feePayer=hn.feePayer,o.instructions=e.instructions,o.nonceInfo=hn.nonceInfo,o.signatures=hn.signatures}else o=Transaction$3.populate(e),o._message=o._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const a=t;if(o.nonceInfo&&a)o.sign(...a);else{let hn=this._disableBlockhashCaching;for(;;){const ln=await this._blockhashWithExpiryBlockHeight(hn);if(o.lastValidBlockHeight=ln.lastValidBlockHeight,o.recentBlockhash=ln.blockhash,!a)break;if(o.sign(...a),!o.signature)throw new Error("!signature");const pn=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(pn)&&!this._blockhashInfo.transactionSignatures.includes(pn)){this._blockhashInfo.simulatedSignatures.push(pn);break}else hn=!0}}const c=o._compile(),u=c.serialize(),tn=o._serialize(u).toString("base64"),nn={encoding:"base64",commitment:this.commitment};if(r){const hn=(Array.isArray(r)?r:c.nonProgramIds()).map(ln=>ln.toBase58());nn.accounts={encoding:"base64",addresses:hn}}a&&(nn.sigVerify=!0);const sn=[tn,nn],fn=await this._rpcRequest("simulateTransaction",sn),dn=create$2(fn,SimulatedTransactionResponseStruct$2);if("error"in dn){let hn;if("data"in dn.error&&(hn=dn.error.data.logs,hn&&Array.isArray(hn))){const ln=`
    `,pn=ln+hn.join(ln);console.error(dn.error.message,pn)}throw new SendTransactionError$2("failed to simulate transaction: "+dn.error.message,hn)}return dn.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(e.nonceInfo)e.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const en=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(en))c=!0;else{this._blockhashInfo.transactionSignatures.push(en);break}}}const a=e.serialize();return await this.sendRawTransaction(a,r)}async sendRawTransaction(e,t){const r=toBuffer$3(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},o=t&&t.skipPreflight,a=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),o&&(r.skipPreflight=o),a&&(r.preflightCommitment=a);const c=[e,r],u=await this._rpcRequest("sendTransaction",c),en=create$2(u,SendTransactionRpcResult$2);if("error"in en){let tn;throw"data"in en.error&&(tn=en.error.data.logs),new SendTransactionError$2("failed to send transaction: "+en.error.message,tn)}return en.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var o;const r=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(c=>{try{c(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return o.add(t),()=>{o.delete(t),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:a,method:c}=o;try{this._setSubscription(r,{...o,state:"subscribing"});const u=await this._rpcWebSocket.call(c,a);this._setSubscription(r,{...o,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,a,u.message),!t())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:a,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(a))this._subscriptionsAutoDisposedByRpc.delete(a);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[a])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!t())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(o=>{try{o(...t)}catch(a){console.error(a)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=create$2(e,AccountNotificationResult$2);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,o=fastStableStringify$1$2([e.method,t],!0),a=this._subscriptionsByHash[o];return a===void 0?this._subscriptionsByHash[o]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:a.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const c=this._subscriptionsByHash[o];assert$6(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=create$2(e,ProgramAccountNotificationResult$2);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,o){const a=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=create$2(e,LogsNotificationResult$2);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=create$2(e,SlotNotificationResult$2);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=create$2(e,SlotUpdateNotificationResult$2);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,o){const a=t||this._commitment;if(a||r||o){let c={};r&&(c.encoding=r),a&&(c.commitment=a),o&&(c=Object.assign(c,o)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,t,r,o){const a=t||this._commitment;if(a&&!["confirmed","finalized"].includes(a))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,o)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=create$2(e,SignatureNotificationResult$2);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const o=this._buildArgs([e],r||this._commitment||"finalized"),a=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){t(c.result,u);try{this.removeSignatureListener(a)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}onSignatureWithOptions(e,t,r){const{commitment:o,...a}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},c=this._buildArgs([e],o,void 0,a),u=this._makeSubscription({callback:(en,tn)=>{t(en,tn);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=create$2(e,RootNotificationResult$2);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair$3{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair$3()}static generate(){return new Keypair$3(generateKeypair$3())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const o=e.slice(0,32),a=getPublicKey$3(o);for(let c=0;c<32;c++)if(r[c]!==a[c])throw new Error("provided secretKey is invalid")}return new Keypair$3({publicKey:r,secretKey:e})}static fromSeed(e){const t=getPublicKey$3(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Keypair$3({publicKey:t,secretKey:r})}get publicKey(){return new PublicKey$3(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2=Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$3("instruction"),u64$4("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$3("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$3("instruction"),u64$4(),seq(publicKey$4(),offset$1(u32$3(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$3("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$3("instruction")])}});class AddressLookupTableInstruction$2{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2))if(c.index==r){o=a;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=decodeData$1$2(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=decodeData$1$2(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new PublicKey$3(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram$2.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class AddressLookupTableProgram$2{constructor(){}static createLookupTable(e){const[t,r]=PublicKey$3.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),o=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2.CreateLookupTable,a=encodeData$3(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$3.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction$3({programId:this.programId,keys:c,data:a}),t]}static freezeLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2.FreezeLookupTable,r=encodeData$3(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$3({programId:this.programId,keys:o,data:r})}static extendLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2.ExtendLookupTable,r=encodeData$3(t,{addresses:e.addresses.map(a=>a.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$3.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction$3({programId:this.programId,keys:o,data:r})}static deactivateLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2.DeactivateLookupTable,r=encodeData$3(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$3({programId:this.programId,keys:o,data:r})}static closeLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2.CloseLookupTable,r=encodeData$3(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction$3({programId:this.programId,keys:o,data:r})}}AddressLookupTableProgram$2.programId=new PublicKey$3("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction$2{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u8$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=decodeData$1$2(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=decodeData$1$2(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=decodeData$1$2(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=decodeData$1$2(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram$2.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2=Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$3("units"),u32$3("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$3("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$3("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$4("microLamports")])}});class ComputeBudgetProgram$2{constructor(){}static requestUnits(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2.RequestUnits,r=encodeData$3(t,e);return new TransactionInstruction$3({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2.RequestHeapFrame,r=encodeData$3(t,e);return new TransactionInstruction$3({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2.SetComputeUnitLimit,r=encodeData$3(t,e);return new TransactionInstruction$3({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2.SetComputeUnitPrice,r=encodeData$3(t,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction$3({keys:[],programId:this.programId,data:r})}}ComputeBudgetProgram$2.programId=new PublicKey$3("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1$2=64,PUBLIC_KEY_BYTES$1$2=32,SIGNATURE_BYTES$2=64,ED25519_INSTRUCTION_LAYOUT$2=struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program$2{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,instructionIndex:a}=e;assert$6(t.length===PUBLIC_KEY_BYTES$1$2,`Public Key must be ${PUBLIC_KEY_BYTES$1$2} bytes but received ${t.length} bytes`),assert$6(o.length===SIGNATURE_BYTES$2,`Signature must be ${SIGNATURE_BYTES$2} bytes but received ${o.length} bytes`);const c=ED25519_INSTRUCTION_LAYOUT$2.span,u=c+t.length,en=u+o.length,tn=1,nn=bufferPolyfill.Buffer.alloc(en+r.length),sn=a??65535;return ED25519_INSTRUCTION_LAYOUT$2.encode({numSignatures:tn,padding:0,signatureOffset:u,signatureInstructionIndex:sn,publicKeyOffset:c,publicKeyInstructionIndex:sn,messageDataOffset:en,messageDataSize:r.length,messageInstructionIndex:sn},nn),nn.fill(t,c),nn.fill(o,u),nn.fill(r,en),new TransactionInstruction$3({keys:[],programId:Ed25519Program$2.programId,data:nn})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;assert$6(t.length===PRIVATE_KEY_BYTES$1$2,`Private key must be ${PRIVATE_KEY_BYTES$1$2} bytes but received ${t.length} bytes`);try{const a=Keypair$3.fromSecretKey(t),c=a.publicKey.toBytes(),u=sign$3(r,a.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:u,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Ed25519Program$2.programId=new PublicKey$3("Ed25519SigVerify111111111111111111111111111");const ecdsaSign$2=(n,e)=>{const t=secp256k1$1.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};secp256k1$1.utils.isValidPrivateKey;const publicKeyCreate$2=secp256k1$1.getPublicKey,PRIVATE_KEY_BYTES$3=32,ETHEREUM_ADDRESS_BYTES$2=20,PUBLIC_KEY_BYTES$3=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE$2=11,SECP256K1_INSTRUCTION_LAYOUT$2=struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);class Secp256k1Program$2{constructor(){}static publicKeyToEthAddress(e){assert$6(e.length===PUBLIC_KEY_BYTES$3,`Public key must be ${PUBLIC_KEY_BYTES$3} bytes but received ${e.length} bytes`);try{return bufferPolyfill.Buffer.from(keccak_256(toBuffer$3(e))).slice(-ETHEREUM_ADDRESS_BYTES$2)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,recoveryId:a,instructionIndex:c}=e;return Secp256k1Program$2.createInstructionWithEthAddress({ethAddress:Secp256k1Program$2.publicKeyToEthAddress(t),message:r,signature:o,recoveryId:a,instructionIndex:c})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:o,recoveryId:a,instructionIndex:c=0}=e;let u;typeof t=="string"?t.startsWith("0x")?u=bufferPolyfill.Buffer.from(t.substr(2),"hex"):u=bufferPolyfill.Buffer.from(t,"hex"):u=t,assert$6(u.length===ETHEREUM_ADDRESS_BYTES$2,`Address must be ${ETHEREUM_ADDRESS_BYTES$2} bytes but received ${u.length} bytes`);const en=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE$2,tn=en,nn=en+u.length,sn=nn+o.length+1,fn=1,dn=bufferPolyfill.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT$2.span+r.length);return SECP256K1_INSTRUCTION_LAYOUT$2.encode({numSignatures:fn,signatureOffset:nn,signatureInstructionIndex:c,ethAddressOffset:tn,ethAddressInstructionIndex:c,messageDataOffset:sn,messageDataSize:r.length,messageInstructionIndex:c,signature:toBuffer$3(o),ethAddress:toBuffer$3(u),recoveryId:a},dn),dn.fill(toBuffer$3(r),SECP256K1_INSTRUCTION_LAYOUT$2.span),new TransactionInstruction$3({keys:[],programId:Secp256k1Program$2.programId,data:dn})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;assert$6(t.length===PRIVATE_KEY_BYTES$3,`Private key must be ${PRIVATE_KEY_BYTES$3} bytes but received ${t.length} bytes`);try{const a=toBuffer$3(t),c=publicKeyCreate$2(a,!1).slice(1),u=bufferPolyfill.Buffer.from(keccak_256(toBuffer$3(r))),[en,tn]=ecdsaSign$2(u,a);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:en,recoveryId:tn,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Secp256k1Program$2.programId=new PublicKey$3("KeccakSecp256k11111111111111111111111111111");var _class2$3;const STAKE_CONFIG_ID$2=new PublicKey$3("StakeConfig11111111111111111111111111111111");class Authorized$2{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Lockup$3{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_class2$3=Lockup$3;Lockup$3.default=new _class2$3(0,0,PublicKey$3.default);class StakeInstruction$2{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(STAKE_INSTRUCTION_LAYOUTS$2))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=decodeData$1$2(STAKE_INSTRUCTION_LAYOUTS$2.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized$2(new PublicKey$3(t.staker),new PublicKey$3(t.withdrawer)),lockup:new Lockup$3(r.unixTimestamp,r.epoch,new PublicKey$3(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1$2(STAKE_INSTRUCTION_LAYOUTS$2.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=decodeData$1$2(STAKE_INSTRUCTION_LAYOUTS$2.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$3(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:o,authorityOwner:a}=decodeData$1$2(STAKE_INSTRUCTION_LAYOUTS$2.AuthorizeWithSeed,e.data),c={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new PublicKey$3(a),newAuthorizedPubkey:new PublicKey$3(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=decodeData$1$2(STAKE_INSTRUCTION_LAYOUTS$2.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$2(STAKE_INSTRUCTION_LAYOUTS$2.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData$1$2(STAKE_INSTRUCTION_LAYOUTS$2.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$2(STAKE_INSTRUCTION_LAYOUTS$2.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram$2.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const STAKE_INSTRUCTION_LAYOUTS$2=Object.freeze({Initialize:{index:0,layout:struct$3([u32$3("instruction"),authorized$3(),lockup$3()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$4("newAuthorized"),u32$3("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$3("instruction")])},Split:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$3("instruction")])},Merge:{index:7,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$3("instruction"),publicKey$4("newAuthorized"),u32$3("stakeAuthorizationType"),rustString$3("authoritySeed"),publicKey$4("authorityOwner")])}}),StakeAuthorizationLayout$2=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram$2{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:o}=e,a=o||Lockup$3.default,c=STAKE_INSTRUCTION_LAYOUTS$2.Initialize,u=encodeData$3(c,{authorized:{staker:toBuffer$3(r.staker.toBuffer()),withdrawer:toBuffer$3(r.withdrawer.toBuffer())},lockup:{unixTimestamp:a.unixTimestamp,epoch:a.epoch,custodian:toBuffer$3(a.custodian.toBuffer())}}),en={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new TransactionInstruction$3(en)}static createAccountWithSeed(e){const t=new Transaction$3;t.add(SystemProgram$3.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:a}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:a}))}static createAccount(e){const t=new Transaction$3;t.add(SystemProgram$3.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:a}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:a}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS$2.Delegate,c=encodeData$3(a);return new Transaction$3().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID$2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS$2.Authorize,en=encodeData$3(u,{newAuthorized:toBuffer$3(o.toBuffer()),stakeAuthorizationType:a.index}),tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$2,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&tn.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$3().add({keys:tn,programId:this.programId,data:en})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:o,authorityOwner:a,newAuthorizedPubkey:c,stakeAuthorizationType:u,custodianPubkey:en}=e,tn=STAKE_INSTRUCTION_LAYOUTS$2.AuthorizeWithSeed,nn=encodeData$3(tn,{newAuthorized:toBuffer$3(c.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:o,authorityOwner:toBuffer$3(a.toBuffer())}),sn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$2,isSigner:!1,isWritable:!1}];return en&&sn.push({pubkey:en,isSigner:!1,isWritable:!1}),new Transaction$3().add({keys:sn,programId:this.programId,data:nn})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:a}=e,c=STAKE_INSTRUCTION_LAYOUTS$2.Split,u=encodeData$3(c,{lamports:a});return new TransactionInstruction$3({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){const t=new Transaction$3;return t.add(SystemProgram$3.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,basePubkey:a,seed:c,lamports:u}=e,en=new Transaction$3;return en.add(SystemProgram$3.allocate({accountPubkey:o,basePubkey:a,seed:c,space:this.space,programId:this.programId})),en.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:u}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS$2.Merge,c=encodeData$3(a);return new Transaction$3().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:o,lamports:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS$2.Withdraw,en=encodeData$3(u,{lamports:a}),tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&tn.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$3().add({keys:tn,programId:this.programId,data:en})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,o=STAKE_INSTRUCTION_LAYOUTS$2.Deactivate,a=encodeData$3(o);return new Transaction$3().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}}StakeProgram$2.programId=new PublicKey$3("Stake11111111111111111111111111111111111111");StakeProgram$2.space=200;class VoteInit$2{constructor(e,t,r,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=o}}class VoteInstruction$2{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(VOTE_INSTRUCTION_LAYOUTS$2))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=decodeData$1$2(VOTE_INSTRUCTION_LAYOUTS$2.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit$2(new PublicKey$3(t.nodePubkey),new PublicKey$3(t.authorizedVoter),new PublicKey$3(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=decodeData$1$2(VOTE_INSTRUCTION_LAYOUTS$2.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$3(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:o,voteAuthorizationType:a}}=decodeData$1$2(VOTE_INSTRUCTION_LAYOUTS$2.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey$3(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new PublicKey$3(o),voteAuthorizationType:{index:a},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=decodeData$1$2(VOTE_INSTRUCTION_LAYOUTS$2.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram$2.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const VOTE_INSTRUCTION_LAYOUTS$2=Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$3("instruction"),voteInit$3()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$4("newAuthorized"),u32$3("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$3("instruction"),voteAuthorizeWithSeedArgs$3()])}}),VoteAuthorizationLayout$2=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram$2{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:o}=e,a=VOTE_INSTRUCTION_LAYOUTS$2.InitializeAccount,c=encodeData$3(a,{voteInit:{nodePubkey:toBuffer$3(o.nodePubkey.toBuffer()),authorizedVoter:toBuffer$3(o.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer$3(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$3,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new TransactionInstruction$3(u)}static createAccount(e){const t=new Transaction$3;return t.add(SystemProgram$3.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,voteAuthorizationType:a}=e,c=VOTE_INSTRUCTION_LAYOUTS$2.Authorize,u=encodeData$3(c,{newAuthorized:toBuffer$3(o.toBuffer()),voteAuthorizationType:a.index}),en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$3().add({keys:en,programId:this.programId,data:u})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:a,voteAuthorizationType:c,votePubkey:u}=e,en=VOTE_INSTRUCTION_LAYOUTS$2.AuthorizeWithSeed,tn=encodeData$3(en,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer$3(r.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:toBuffer$3(a.toBuffer()),voteAuthorizationType:c.index}}),nn=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Transaction$3().add({keys:nn,programId:this.programId,data:tn})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:o,toPubkey:a}=e,c=VOTE_INSTRUCTION_LAYOUTS$2.Withdraw,u=encodeData$3(c,{lamports:o}),en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$3().add({keys:en,programId:this.programId,data:u})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram$2.withdraw(e)}}VoteProgram$2.programId=new PublicKey$3("Vote111111111111111111111111111111111111111");VoteProgram$2.space=3731;const VALIDATOR_INFO_KEY$2=new PublicKey$3("Va1idator1nfo111111111111111111111111111111"),InfoString$2=type$2({name:string$2(),website:optional$2(string$2()),details:optional$2(string$2()),keybaseUsername:optional$2(string$2())});class ValidatorInfo$2{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(decodeLength$3(t)!==2)return null;const o=[];for(let a=0;a<2;a++){const c=new PublicKey$3(t.slice(0,PUBLIC_KEY_LENGTH$3));t=t.slice(PUBLIC_KEY_LENGTH$3);const u=t.slice(0,1)[0]===1;t=t.slice(1),o.push({publicKey:c,isSigner:u})}if(o[0].publicKey.equals(VALIDATOR_INFO_KEY$2)&&o[1].isSigner){const a=rustString$3().decode(bufferPolyfill.Buffer.from(t)),c=JSON.parse(a);return assert$7(c,InfoString$2),new ValidatorInfo$2(o[1].publicKey,c)}return null}}const VOTE_PROGRAM_ID$2=new PublicKey$3("Vote111111111111111111111111111111111111111"),VoteAccountLayout$2=struct$3([publicKey$4("nodePubkey"),publicKey$4("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$3("confirmationCount")]),offset$1(u32$3(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$4("authorizedVoter")]),offset$1(u32$3(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$4("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$3(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount$2{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=VoteAccountLayout$2.decode(toBuffer$3(e),4);let o=r.rootSlot;return r.rootSlotValid||(o=null),new VoteAccount$2({nodePubkey:new PublicKey$3(r.nodePubkey),authorizedWithdrawer:new PublicKey$3(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:o,authorizedVoters:r.authorizedVoters.map(parseAuthorizedVoter$2),priorVoters:getPriorVoters$2(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function parseAuthorizedVoter$2({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey$3(n)}}function parsePriorVoters$2({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new PublicKey$3(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function getPriorVoters$2({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(parsePriorVoters$2),...n.slice(0,e).map(parsePriorVoters$2)]}const endpoint$2={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl$2(n,e){const t=e===!1?"http":"https";if(!n)return endpoint$2[t].devnet;const r=endpoint$2[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function sendAndConfirmRawTransaction$2(n,e,t,r){let o,a;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(o=t,a=r):a=t;const c=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},u=await n.sendRawTransaction(e,c),en=a&&a.commitment,nn=(await(o?n.confirmTransaction(o,en):n.confirmTransaction(u,en))).value;if(nn.err)throw new Error(`Raw transaction ${u} failed (${JSON.stringify(nn)})`);return u}const LAMPORTS_PER_SOL$2=1e9;var index_browser_esm$3=Object.freeze(Object.defineProperty({__proto__:null,Account:Account$2,AddressLookupTableAccount:AddressLookupTableAccount$2,AddressLookupTableInstruction:AddressLookupTableInstruction$2,AddressLookupTableProgram:AddressLookupTableProgram$2,Authorized:Authorized$2,BLOCKHASH_CACHE_TIMEOUT_MS:BLOCKHASH_CACHE_TIMEOUT_MS$2,BPF_LOADER_DEPRECATED_PROGRAM_ID:BPF_LOADER_DEPRECATED_PROGRAM_ID$2,BPF_LOADER_PROGRAM_ID:BPF_LOADER_PROGRAM_ID$2,BpfLoader:BpfLoader$2,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$2,ComputeBudgetInstruction:ComputeBudgetInstruction$2,ComputeBudgetProgram:ComputeBudgetProgram$2,Connection:Connection$2,Ed25519Program:Ed25519Program$2,Enum:Enum$2,EpochSchedule:EpochSchedule$2,FeeCalculatorLayout:FeeCalculatorLayout$3,Keypair:Keypair$3,LAMPORTS_PER_SOL:LAMPORTS_PER_SOL$2,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:LOOKUP_TABLE_INSTRUCTION_LAYOUTS$2,Loader:Loader$2,Lockup:Lockup$3,MAX_SEED_LENGTH:MAX_SEED_LENGTH$3,Message:Message$3,MessageAccountKeys:MessageAccountKeys$3,MessageV0:MessageV0$2,NONCE_ACCOUNT_LENGTH:NONCE_ACCOUNT_LENGTH$3,NonceAccount:NonceAccount$2,PACKET_DATA_SIZE:PACKET_DATA_SIZE$3,PUBLIC_KEY_LENGTH:PUBLIC_KEY_LENGTH$3,PublicKey:PublicKey$3,SIGNATURE_LENGTH_IN_BYTES:SIGNATURE_LENGTH_IN_BYTES$3,SOLANA_SCHEMA:SOLANA_SCHEMA$3,STAKE_CONFIG_ID:STAKE_CONFIG_ID$2,STAKE_INSTRUCTION_LAYOUTS:STAKE_INSTRUCTION_LAYOUTS$2,SYSTEM_INSTRUCTION_LAYOUTS:SYSTEM_INSTRUCTION_LAYOUTS$3,SYSVAR_CLOCK_PUBKEY:SYSVAR_CLOCK_PUBKEY$2,SYSVAR_EPOCH_SCHEDULE_PUBKEY:SYSVAR_EPOCH_SCHEDULE_PUBKEY$2,SYSVAR_INSTRUCTIONS_PUBKEY:SYSVAR_INSTRUCTIONS_PUBKEY$2,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$3,SYSVAR_RENT_PUBKEY:SYSVAR_RENT_PUBKEY$3,SYSVAR_REWARDS_PUBKEY:SYSVAR_REWARDS_PUBKEY$2,SYSVAR_SLOT_HASHES_PUBKEY:SYSVAR_SLOT_HASHES_PUBKEY$2,SYSVAR_SLOT_HISTORY_PUBKEY:SYSVAR_SLOT_HISTORY_PUBKEY$2,SYSVAR_STAKE_HISTORY_PUBKEY:SYSVAR_STAKE_HISTORY_PUBKEY$2,Secp256k1Program:Secp256k1Program$2,SendTransactionError:SendTransactionError$2,SolanaJSONRPCError:SolanaJSONRPCError$2,SolanaJSONRPCErrorCode:SolanaJSONRPCErrorCode$2,StakeAuthorizationLayout:StakeAuthorizationLayout$2,StakeInstruction:StakeInstruction$2,StakeProgram:StakeProgram$2,Struct:Struct$5,SystemInstruction:SystemInstruction$2,SystemProgram:SystemProgram$3,Transaction:Transaction$3,TransactionExpiredBlockheightExceededError:TransactionExpiredBlockheightExceededError$2,TransactionExpiredNonceInvalidError:TransactionExpiredNonceInvalidError$2,TransactionExpiredTimeoutError:TransactionExpiredTimeoutError$2,TransactionInstruction:TransactionInstruction$3,TransactionMessage:TransactionMessage$2,TransactionStatus:TransactionStatus$2,VALIDATOR_INFO_KEY:VALIDATOR_INFO_KEY$2,VERSION_PREFIX_MASK:VERSION_PREFIX_MASK$3,VOTE_PROGRAM_ID:VOTE_PROGRAM_ID$2,ValidatorInfo:ValidatorInfo$2,VersionedMessage:VersionedMessage$2,VersionedTransaction:VersionedTransaction$2,VoteAccount:VoteAccount$2,VoteAuthorizationLayout:VoteAuthorizationLayout$2,VoteInit:VoteInit$2,VoteInstruction:VoteInstruction$2,VoteProgram:VoteProgram$2,clusterApiUrl:clusterApiUrl$2,sendAndConfirmRawTransaction:sendAndConfirmRawTransaction$2,sendAndConfirmTransaction:sendAndConfirmTransaction$5},Symbol.toStringTag,{value:"Module"})),require$$0$3=getAugmentedNamespace(index_browser_esm$3);Object.defineProperty(keys$1,"__esModule",{value:!0});keys$1.keysTypeMap=keys$1.publicKey=void 0;const web3_js_1$9=require$$0$3,beet_1$1=beet,BEET_SOLANA_PACKAGE="@metaplex-foundation/beet-solana",SOLANA_WEB3_PACKAGE="@solana/web3.js",uint8Array32=(0,beet_1$1.fixedSizeUint8Array)(32);keys$1.publicKey={write:function(n,e,t){const r=t.toBytes();uint8Array32.write(n,e,r)},read:function(n,e){const t=uint8Array32.read(n,e);return new web3_js_1$9.PublicKey(t)},byteSize:uint8Array32.byteSize,description:"PublicKey"};keys$1.keysTypeMap={publicKey:{beet:"publicKey",isFixable:!1,sourcePack:BEET_SOLANA_PACKAGE,ts:"PublicKey",pack:SOLANA_WEB3_PACKAGE}};var gpa={},utils$2={},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(utils$2,"__esModule",{value:!0});utils$2.logTrace=utils$2.logDebug=utils$2.logInfo=utils$2.logError=void 0;const debug_1=__importDefault$2(browser$5.exports);utils$2.logError=(0,debug_1.default)("beet:error");utils$2.logInfo=(0,debug_1.default)("beet:info");utils$2.logDebug=(0,debug_1.default)("beet:debug");utils$2.logTrace=(0,debug_1.default)("beet:trace");var util$1={};function base(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var o=n.charAt(r),a=o.charCodeAt(0);if(e[a]!==255)throw new TypeError(o+" is ambiguous");e[a]=r}var c=n.length,u=n.charAt(0),en=Math.log(c)/Math.log(256),tn=Math.log(256)/Math.log(c);function nn(dn){if(dn instanceof Uint8Array||(ArrayBuffer.isView(dn)?dn=new Uint8Array(dn.buffer,dn.byteOffset,dn.byteLength):Array.isArray(dn)&&(dn=Uint8Array.from(dn))),!(dn instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(dn.length===0)return"";for(var hn=0,ln=0,pn=0,$n=dn.length;pn!==$n&&dn[pn]===0;)pn++,hn++;for(var Sn=($n-pn)*tn+1>>>0,yn=new Uint8Array(Sn);pn!==$n;){for(var In=dn[pn],An=0,Tn=Sn-1;(In!==0||An<ln)&&Tn!==-1;Tn--,An++)In+=256*yn[Tn]>>>0,yn[Tn]=In%c>>>0,In=In/c>>>0;if(In!==0)throw new Error("Non-zero carry");ln=An,pn++}for(var kn=Sn-ln;kn!==Sn&&yn[kn]===0;)kn++;for(var Pn=u.repeat(hn);kn<Sn;++kn)Pn+=n.charAt(yn[kn]);return Pn}function sn(dn){if(typeof dn!="string")throw new TypeError("Expected String");if(dn.length===0)return new Uint8Array;for(var hn=0,ln=0,pn=0;dn[hn]===u;)ln++,hn++;for(var $n=(dn.length-hn)*en+1>>>0,Sn=new Uint8Array($n);dn[hn];){var yn=e[dn.charCodeAt(hn)];if(yn===255)return;for(var In=0,An=$n-1;(yn!==0||In<pn)&&An!==-1;An--,In++)yn+=c*Sn[An]>>>0,Sn[An]=yn%256>>>0,yn=yn/256>>>0;if(yn!==0)throw new Error("Non-zero carry");pn=In,hn++}for(var Tn=$n-pn;Tn!==$n&&Sn[Tn]===0;)Tn++;for(var kn=new Uint8Array(ln+($n-Tn)),Pn=ln;Tn!==$n;)kn[Pn++]=Sn[Tn++];return kn}function fn(dn){var hn=sn(dn);if(hn)return hn;throw new Error("Non-base"+c+" character")}return{encode:nn,decodeUnsafe:sn,decode:fn}}var src=base;const basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58=basex(ALPHABET),__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(util$1,"__esModule",{value:!0});util$1.encodeFixedBeet=void 0;const bs58_1=__importDefault$1(bs58);function encodeFixedBeet(n,e){const t=dist$3.Buffer.alloc(n.byteSize);return n.write(t,0,e),bs58_1.default.encode(t)}util$1.encodeFixedBeet=encodeFixedBeet;Object.defineProperty(gpa,"__esModule",{value:!0});gpa.GpaBuilder=void 0;const beet_1=beet,assert_1$1=assert$b.exports,utils_1$o=utils$2,util_1$8=util$1;class GpaBuilder{constructor(e,t,r){this.programId=e,this.beets=t,this.accountSize=r,this.config={}}_addFilter(e){return this.config.filters==null&&(this.config.filters=[]),this.config.filters.push(e),this}_addInnerFilter(e,t,r){(0,utils_1$o.logTrace)(`gpa.addInnerFilter: ${e}.${t}`);const o=this.beets.get(e);(0,assert_1$1.strict)(o!=null,"Outer filter key needs to be an existing field name");const a=o.beet;let c=o.offset;const u=(0,beet_1.isFixedSizeBeet)(a)?a:a.toFixedFromValue(r);let en;for(const[nn,sn]of u.fields){if(nn===t){en=sn;break}c+=sn.byteSize}(0,assert_1$1.strict)(en!=null,`${t} is not a field of the ${e} struct`);const tn=(0,util_1$8.encodeFixedBeet)(en,r);return this._addFilter({memcmp:{offset:c,bytes:tn}}),this}addInnerFilter(e,t){const r=e.split(".");assert_1$1.strict.equal(r.length,2,"inner filters can go only one level deep, i.e. 'outer.inner' is ok, but 'outer.inner.deep' is not");const[o,a]=r;return this._addInnerFilter(o,a,t)}addFilter(e,t){const r=this.beets.get(e);(0,assert_1$1.strict)(r!=null,"Filter key needs to be an existing field name");const o=(0,beet_1.isFixedSizeBeet)(r.beet)?r.beet:r.beet.toFixedFromValue(t),a=(0,util_1$8.encodeFixedBeet)(o,t);return this._addFilter({memcmp:{offset:r.offset,bytes:a}}),this}dataSize(e){return e=e??this.accountSize,(0,assert_1$1.strict)(e!=null,"for accounts of dynamic size the dataSize arg needs to be provided"),this._addFilter({dataSize:e})}run(e){return e.getProgramAccounts(this.programId,this.config)}static fromBeetFields(e,t){const r=new Map;let o=0,a=!1;for(const[u,en]of t){if(r.set(u,{beet:en,offset:o}),!(0,beet_1.isFixedSizeBeet)(en)){a=!0;break}o+=en.byteSize}const c=a?void 0:o;return new GpaBuilder(e,r,c)}static fromStruct(e,t){return GpaBuilder.fromBeetFields(e,t.fields)}}gpa.GpaBuilder=GpaBuilder;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(o,a,c,u){u===void 0&&(u=c);var en=Object.getOwnPropertyDescriptor(a,c);(!en||("get"in en?!a.__esModule:en.writable||en.configurable))&&(en={enumerable:!0,get:function(){return a[c]}}),Object.defineProperty(o,u,en)}:function(o,a,c,u){u===void 0&&(u=c),o[u]=a[c]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(o,a){for(var c in o)c!=="default"&&!Object.prototype.hasOwnProperty.call(a,c)&&e(a,o,c)};Object.defineProperty(n,"__esModule",{value:!0}),n.supportedTypeMap=void 0;const r=keys$1;t(keys$1,n),t(gpa,n),n.supportedTypeMap=r.keysTypeMap})(beetSolana);const batchDiscriminator=[156,194,70,44,22,88,137,44];class Batch{multisig;creator;index;bump;vaultIndex;vaultBump;size;executedTransactionIndex;constructor(e,t,r,o,a,c,u,en){this.multisig=e,this.creator=t,this.index=r,this.bump=o,this.vaultIndex=a,this.vaultBump=c,this.size=u,this.executedTransactionIndex=en}static fromArgs(e){return new Batch(e.multisig,e.creator,e.index,e.bump,e.vaultIndex,e.vaultBump,e.size,e.executedTransactionIndex)}static fromAccountInfo(e,t=0){return Batch.deserialize(e.data,t)}static async fromAccountAddress(e,t,r){const o=await e.getAccountInfo(t,r);if(o==null)throw new Error(`Unable to find Batch account at ${t}`);return Batch.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$4("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,batchBeet)}static deserialize(e,t=0){return batchBeet.deserialize(e,t)}serialize(){return batchBeet.serialize({accountDiscriminator:batchDiscriminator,...this})}static get byteSize(){return batchBeet.byteSize}static async getMinimumBalanceForRentExemption(e,t){return e.getMinimumBalanceForRentExemption(Batch.byteSize,t)}static hasCorrectByteSize(e,t=0){return e.byteLength-t===Batch.byteSize}pretty(){return{multisig:this.multisig.toBase58(),creator:this.creator.toBase58(),index:(()=>{const e=this.index;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump,vaultIndex:this.vaultIndex,vaultBump:this.vaultBump,size:this.size,executedTransactionIndex:this.executedTransactionIndex}}}const batchBeet=new beet.BeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["creator",beetSolana.publicKey],["index",beet.u64],["bump",beet.u8],["vaultIndex",beet.u8],["vaultBump",beet.u8],["size",beet.u32],["executedTransactionIndex",beet.u32]],Batch.fromArgs,"Batch"),permissionsBeet=new beet.BeetArgsStruct([["mask",beet.u8]],"Permissions"),memberBeet=new beet.BeetArgsStruct([["key",beetSolana.publicKey],["permissions",permissionsBeet]],"Member");var Period;(function(n){n[n.OneTime=0]="OneTime",n[n.Day=1]="Day",n[n.Week=2]="Week",n[n.Month=3]="Month"})(Period||(Period={}));const periodBeet=beet.fixedScalarEnum(Period),configActionBeet=beet.dataEnum([["AddMember",new beet.BeetArgsStruct([["newMember",memberBeet]],'ConfigActionRecord["AddMember"]')],["RemoveMember",new beet.BeetArgsStruct([["oldMember",beetSolana.publicKey]],'ConfigActionRecord["RemoveMember"]')],["ChangeThreshold",new beet.BeetArgsStruct([["newThreshold",beet.u16]],'ConfigActionRecord["ChangeThreshold"]')],["SetTimeLock",new beet.BeetArgsStruct([["newTimeLock",beet.u32]],'ConfigActionRecord["SetTimeLock"]')],["AddSpendingLimit",new beet.FixableBeetArgsStruct([["createKey",beetSolana.publicKey],["vaultIndex",beet.u8],["mint",beetSolana.publicKey],["amount",beet.u64],["period",periodBeet],["members",beet.array(beetSolana.publicKey)],["destinations",beet.array(beetSolana.publicKey)]],'ConfigActionRecord["AddSpendingLimit"]')],["RemoveSpendingLimit",new beet.BeetArgsStruct([["spendingLimit",beetSolana.publicKey]],'ConfigActionRecord["RemoveSpendingLimit"]')],["SetRentCollector",new beet.FixableBeetArgsStruct([["newRentCollector",beet.coption(beetSolana.publicKey)]],'ConfigActionRecord["SetRentCollector"]')]]),configTransactionDiscriminator=[94,8,4,35,113,139,139,112];class ConfigTransaction{multisig;creator;index;bump;actions;constructor(e,t,r,o,a){this.multisig=e,this.creator=t,this.index=r,this.bump=o,this.actions=a}static fromArgs(e){return new ConfigTransaction(e.multisig,e.creator,e.index,e.bump,e.actions)}static fromAccountInfo(e,t=0){return ConfigTransaction.deserialize(e.data,t)}static async fromAccountAddress(e,t,r){const o=await e.getAccountInfo(t,r);if(o==null)throw new Error(`Unable to find ConfigTransaction account at ${t}`);return ConfigTransaction.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$4("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,configTransactionBeet)}static deserialize(e,t=0){return configTransactionBeet.deserialize(e,t)}serialize(){return configTransactionBeet.serialize({accountDiscriminator:configTransactionDiscriminator,...this})}static byteSize(e){const t=ConfigTransaction.fromArgs(e);return configTransactionBeet.toFixedFromValue({accountDiscriminator:configTransactionDiscriminator,...t}).byteSize}static async getMinimumBalanceForRentExemption(e,t,r){return t.getMinimumBalanceForRentExemption(ConfigTransaction.byteSize(e),r)}pretty(){return{multisig:this.multisig.toBase58(),creator:this.creator.toBase58(),index:(()=>{const e=this.index;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump,actions:this.actions}}}const configTransactionBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["creator",beetSolana.publicKey],["index",beet.u64],["bump",beet.u8],["actions",beet.array(configActionBeet)]],ConfigTransaction.fromArgs,"ConfigTransaction"),multisigDiscriminator=[224,116,121,186,68,161,79,236];class Multisig{createKey;configAuthority;threshold;timeLock;transactionIndex;staleTransactionIndex;rentCollector;bump;members;constructor(e,t,r,o,a,c,u,en,tn){this.createKey=e,this.configAuthority=t,this.threshold=r,this.timeLock=o,this.transactionIndex=a,this.staleTransactionIndex=c,this.rentCollector=u,this.bump=en,this.members=tn}static fromArgs(e){return new Multisig(e.createKey,e.configAuthority,e.threshold,e.timeLock,e.transactionIndex,e.staleTransactionIndex,e.rentCollector,e.bump,e.members)}static fromAccountInfo(e,t=0){return Multisig.deserialize(e.data,t)}static async fromAccountAddress(e,t,r){const o=await e.getAccountInfo(t,r);if(o==null)throw new Error(`Unable to find Multisig account at ${t}`);return Multisig.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$4("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,multisigBeet)}static deserialize(e,t=0){return multisigBeet.deserialize(e,t)}serialize(){return multisigBeet.serialize({accountDiscriminator:multisigDiscriminator,...this})}static byteSize(e){const t=Multisig.fromArgs(e);return multisigBeet.toFixedFromValue({accountDiscriminator:multisigDiscriminator,...t}).byteSize}static async getMinimumBalanceForRentExemption(e,t,r){return t.getMinimumBalanceForRentExemption(Multisig.byteSize(e),r)}pretty(){return{createKey:this.createKey.toBase58(),configAuthority:this.configAuthority.toBase58(),threshold:this.threshold,timeLock:this.timeLock,transactionIndex:(()=>{const e=this.transactionIndex;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),staleTransactionIndex:(()=>{const e=this.staleTransactionIndex;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),rentCollector:this.rentCollector,bump:this.bump,members:this.members}}}const multisigBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["createKey",beetSolana.publicKey],["configAuthority",beetSolana.publicKey],["threshold",beet.u16],["timeLock",beet.u32],["transactionIndex",beet.u64],["staleTransactionIndex",beet.u64],["rentCollector",beet.coption(beetSolana.publicKey)],["bump",beet.u8],["members",beet.array(memberBeet)]],Multisig.fromArgs,"Multisig"),programConfigDiscriminator=[196,210,90,231,144,149,140,63];class ProgramConfig{authority;multisigCreationFee;treasury;reserved;constructor(e,t,r,o){this.authority=e,this.multisigCreationFee=t,this.treasury=r,this.reserved=o}static fromArgs(e){return new ProgramConfig(e.authority,e.multisigCreationFee,e.treasury,e.reserved)}static fromAccountInfo(e,t=0){return ProgramConfig.deserialize(e.data,t)}static async fromAccountAddress(e,t,r){const o=await e.getAccountInfo(t,r);if(o==null)throw new Error(`Unable to find ProgramConfig account at ${t}`);return ProgramConfig.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$4("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,programConfigBeet)}static deserialize(e,t=0){return programConfigBeet.deserialize(e,t)}serialize(){return programConfigBeet.serialize({accountDiscriminator:programConfigDiscriminator,...this})}static get byteSize(){return programConfigBeet.byteSize}static async getMinimumBalanceForRentExemption(e,t){return e.getMinimumBalanceForRentExemption(ProgramConfig.byteSize,t)}static hasCorrectByteSize(e,t=0){return e.byteLength-t===ProgramConfig.byteSize}pretty(){return{authority:this.authority.toBase58(),multisigCreationFee:(()=>{const e=this.multisigCreationFee;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),treasury:this.treasury.toBase58(),reserved:this.reserved}}}const programConfigBeet=new beet.BeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["authority",beetSolana.publicKey],["multisigCreationFee",beet.u64],["treasury",beetSolana.publicKey],["reserved",beet.uniformFixedSizeArray(beet.u8,64)]],ProgramConfig.fromArgs,"ProgramConfig"),proposalStatusBeet=beet.dataEnum([["Draft",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Draft"]')],["Active",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Active"]')],["Rejected",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Rejected"]')],["Approved",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Approved"]')],["Executing",beet.unit],["Executed",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Executed"]')],["Cancelled",new beet.BeetArgsStruct([["timestamp",beet.i64]],'ProposalStatusRecord["Cancelled"]')]]),proposalDiscriminator=[26,94,189,187,116,136,53,33];class Proposal{multisig;transactionIndex;status;bump;approved;rejected;cancelled;constructor(e,t,r,o,a,c,u){this.multisig=e,this.transactionIndex=t,this.status=r,this.bump=o,this.approved=a,this.rejected=c,this.cancelled=u}static fromArgs(e){return new Proposal(e.multisig,e.transactionIndex,e.status,e.bump,e.approved,e.rejected,e.cancelled)}static fromAccountInfo(e,t=0){return Proposal.deserialize(e.data,t)}static async fromAccountAddress(e,t,r){const o=await e.getAccountInfo(t,r);if(o==null)throw new Error(`Unable to find Proposal account at ${t}`);return Proposal.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$4("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,proposalBeet)}static deserialize(e,t=0){return proposalBeet.deserialize(e,t)}serialize(){return proposalBeet.serialize({accountDiscriminator:proposalDiscriminator,...this})}static byteSize(e){const t=Proposal.fromArgs(e);return proposalBeet.toFixedFromValue({accountDiscriminator:proposalDiscriminator,...t}).byteSize}static async getMinimumBalanceForRentExemption(e,t,r){return t.getMinimumBalanceForRentExemption(Proposal.byteSize(e),r)}pretty(){return{multisig:this.multisig.toBase58(),transactionIndex:(()=>{const e=this.transactionIndex;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),status:this.status.__kind,bump:this.bump,approved:this.approved,rejected:this.rejected,cancelled:this.cancelled}}}const proposalBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["transactionIndex",beet.u64],["status",proposalStatusBeet],["bump",beet.u8],["approved",beet.array(beetSolana.publicKey)],["rejected",beet.array(beetSolana.publicKey)],["cancelled",beet.array(beetSolana.publicKey)]],Proposal.fromArgs,"Proposal"),spendingLimitDiscriminator=[10,201,27,160,218,195,222,152];class SpendingLimit{multisig;createKey;vaultIndex;mint;amount;period;remainingAmount;lastReset;bump;members;destinations;constructor(e,t,r,o,a,c,u,en,tn,nn,sn){this.multisig=e,this.createKey=t,this.vaultIndex=r,this.mint=o,this.amount=a,this.period=c,this.remainingAmount=u,this.lastReset=en,this.bump=tn,this.members=nn,this.destinations=sn}static fromArgs(e){return new SpendingLimit(e.multisig,e.createKey,e.vaultIndex,e.mint,e.amount,e.period,e.remainingAmount,e.lastReset,e.bump,e.members,e.destinations)}static fromAccountInfo(e,t=0){return SpendingLimit.deserialize(e.data,t)}static async fromAccountAddress(e,t,r){const o=await e.getAccountInfo(t,r);if(o==null)throw new Error(`Unable to find SpendingLimit account at ${t}`);return SpendingLimit.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$4("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,spendingLimitBeet)}static deserialize(e,t=0){return spendingLimitBeet.deserialize(e,t)}serialize(){return spendingLimitBeet.serialize({accountDiscriminator:spendingLimitDiscriminator,...this})}static byteSize(e){const t=SpendingLimit.fromArgs(e);return spendingLimitBeet.toFixedFromValue({accountDiscriminator:spendingLimitDiscriminator,...t}).byteSize}static async getMinimumBalanceForRentExemption(e,t,r){return t.getMinimumBalanceForRentExemption(SpendingLimit.byteSize(e),r)}pretty(){return{multisig:this.multisig.toBase58(),createKey:this.createKey.toBase58(),vaultIndex:this.vaultIndex,mint:this.mint.toBase58(),amount:(()=>{const e=this.amount;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),period:"Period."+Period[this.period],remainingAmount:(()=>{const e=this.remainingAmount;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),lastReset:(()=>{const e=this.lastReset;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump,members:this.members,destinations:this.destinations}}}const spendingLimitBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["createKey",beetSolana.publicKey],["vaultIndex",beet.u8],["mint",beetSolana.publicKey],["amount",beet.u64],["period",periodBeet],["remainingAmount",beet.u64],["lastReset",beet.i64],["bump",beet.u8],["members",beet.array(beetSolana.publicKey)],["destinations",beet.array(beetSolana.publicKey)]],SpendingLimit.fromArgs,"SpendingLimit"),multisigCompiledInstructionBeet=new beet.FixableBeetArgsStruct([["programIdIndex",beet.u8],["accountIndexes",beet.bytes],["data",beet.bytes]],"MultisigCompiledInstruction"),multisigMessageAddressTableLookupBeet=new beet.FixableBeetArgsStruct([["accountKey",beetSolana.publicKey],["writableIndexes",beet.bytes],["readonlyIndexes",beet.bytes]],"MultisigMessageAddressTableLookup"),vaultTransactionMessageBeet=new beet.FixableBeetArgsStruct([["numSigners",beet.u8],["numWritableSigners",beet.u8],["numWritableNonSigners",beet.u8],["accountKeys",beet.array(beetSolana.publicKey)],["instructions",beet.array(multisigCompiledInstructionBeet)],["addressTableLookups",beet.array(multisigMessageAddressTableLookupBeet)]],"VaultTransactionMessage"),vaultBatchTransactionDiscriminator=[196,121,46,36,12,19,252,7];class VaultBatchTransaction{bump;ephemeralSignerBumps;message;constructor(e,t,r){this.bump=e,this.ephemeralSignerBumps=t,this.message=r}static fromArgs(e){return new VaultBatchTransaction(e.bump,e.ephemeralSignerBumps,e.message)}static fromAccountInfo(e,t=0){return VaultBatchTransaction.deserialize(e.data,t)}static async fromAccountAddress(e,t,r){const o=await e.getAccountInfo(t,r);if(o==null)throw new Error(`Unable to find VaultBatchTransaction account at ${t}`);return VaultBatchTransaction.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$4("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,vaultBatchTransactionBeet)}static deserialize(e,t=0){return vaultBatchTransactionBeet.deserialize(e,t)}serialize(){return vaultBatchTransactionBeet.serialize({accountDiscriminator:vaultBatchTransactionDiscriminator,...this})}static byteSize(e){const t=VaultBatchTransaction.fromArgs(e);return vaultBatchTransactionBeet.toFixedFromValue({accountDiscriminator:vaultBatchTransactionDiscriminator,...t}).byteSize}static async getMinimumBalanceForRentExemption(e,t,r){return t.getMinimumBalanceForRentExemption(VaultBatchTransaction.byteSize(e),r)}pretty(){return{bump:this.bump,ephemeralSignerBumps:this.ephemeralSignerBumps,message:this.message}}}const vaultBatchTransactionBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["bump",beet.u8],["ephemeralSignerBumps",beet.bytes],["message",vaultTransactionMessageBeet]],VaultBatchTransaction.fromArgs,"VaultBatchTransaction"),vaultTransactionDiscriminator=[168,250,162,100,81,14,162,207];class VaultTransaction{multisig;creator;index;bump;vaultIndex;vaultBump;ephemeralSignerBumps;message;constructor(e,t,r,o,a,c,u,en){this.multisig=e,this.creator=t,this.index=r,this.bump=o,this.vaultIndex=a,this.vaultBump=c,this.ephemeralSignerBumps=u,this.message=en}static fromArgs(e){return new VaultTransaction(e.multisig,e.creator,e.index,e.bump,e.vaultIndex,e.vaultBump,e.ephemeralSignerBumps,e.message)}static fromAccountInfo(e,t=0){return VaultTransaction.deserialize(e.data,t)}static async fromAccountAddress(e,t,r){const o=await e.getAccountInfo(t,r);if(o==null)throw new Error(`Unable to find VaultTransaction account at ${t}`);return VaultTransaction.fromAccountInfo(o,0)[0]}static gpaBuilder(e=new PublicKey$4("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){return beetSolana.GpaBuilder.fromStruct(e,vaultTransactionBeet)}static deserialize(e,t=0){return vaultTransactionBeet.deserialize(e,t)}serialize(){return vaultTransactionBeet.serialize({accountDiscriminator:vaultTransactionDiscriminator,...this})}static byteSize(e){const t=VaultTransaction.fromArgs(e);return vaultTransactionBeet.toFixedFromValue({accountDiscriminator:vaultTransactionDiscriminator,...t}).byteSize}static async getMinimumBalanceForRentExemption(e,t,r){return t.getMinimumBalanceForRentExemption(VaultTransaction.byteSize(e),r)}pretty(){return{multisig:this.multisig.toBase58(),creator:this.creator.toBase58(),index:(()=>{const e=this.index;if(typeof e.toNumber=="function")try{return e.toNumber()}catch{return e}return e})(),bump:this.bump,vaultIndex:this.vaultIndex,vaultBump:this.vaultBump,ephemeralSignerBumps:this.ephemeralSignerBumps,message:this.message}}}const vaultTransactionBeet=new beet.FixableBeetStruct([["accountDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["multisig",beetSolana.publicKey],["creator",beetSolana.publicKey],["index",beet.u64],["bump",beet.u8],["vaultIndex",beet.u8],["vaultBump",beet.u8],["ephemeralSignerBumps",beet.bytes],["message",vaultTransactionMessageBeet]],VaultTransaction.fromArgs,"VaultTransaction"),createErrorFromCodeLookup=new Map,createErrorFromNameLookup=new Map;class DuplicateMemberError extends Error{code=6e3;name="DuplicateMember";constructor(){super("Found multiple members with the same pubkey"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,DuplicateMemberError)}}createErrorFromCodeLookup.set(6e3,()=>new DuplicateMemberError);createErrorFromNameLookup.set("DuplicateMember",()=>new DuplicateMemberError);class EmptyMembersError extends Error{code=6001;name="EmptyMembers";constructor(){super("Members array is empty"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,EmptyMembersError)}}createErrorFromCodeLookup.set(6001,()=>new EmptyMembersError);createErrorFromNameLookup.set("EmptyMembers",()=>new EmptyMembersError);class TooManyMembersError extends Error{code=6002;name="TooManyMembers";constructor(){super("Too many members, can be up to 65535"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TooManyMembersError)}}createErrorFromCodeLookup.set(6002,()=>new TooManyMembersError);createErrorFromNameLookup.set("TooManyMembers",()=>new TooManyMembersError);class InvalidThresholdError extends Error{code=6003;name="InvalidThreshold";constructor(){super("Invalid threshold, must be between 1 and number of members with Vote permission"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidThresholdError)}}createErrorFromCodeLookup.set(6003,()=>new InvalidThresholdError);createErrorFromNameLookup.set("InvalidThreshold",()=>new InvalidThresholdError);class UnauthorizedError extends Error{code=6004;name="Unauthorized";constructor(){super("Attempted to perform an unauthorized action"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,UnauthorizedError)}}createErrorFromCodeLookup.set(6004,()=>new UnauthorizedError);createErrorFromNameLookup.set("Unauthorized",()=>new UnauthorizedError);class NotAMemberError extends Error{code=6005;name="NotAMember";constructor(){super("Provided pubkey is not a member of multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NotAMemberError)}}createErrorFromCodeLookup.set(6005,()=>new NotAMemberError);createErrorFromNameLookup.set("NotAMember",()=>new NotAMemberError);class InvalidTransactionMessageError extends Error{code=6006;name="InvalidTransactionMessage";constructor(){super("TransactionMessage is malformed."),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidTransactionMessageError)}}createErrorFromCodeLookup.set(6006,()=>new InvalidTransactionMessageError);createErrorFromNameLookup.set("InvalidTransactionMessage",()=>new InvalidTransactionMessageError);class StaleProposalError extends Error{code=6007;name="StaleProposal";constructor(){super("Proposal is stale"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,StaleProposalError)}}createErrorFromCodeLookup.set(6007,()=>new StaleProposalError);createErrorFromNameLookup.set("StaleProposal",()=>new StaleProposalError);class InvalidProposalStatusError extends Error{code=6008;name="InvalidProposalStatus";constructor(){super("Invalid proposal status"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidProposalStatusError)}}createErrorFromCodeLookup.set(6008,()=>new InvalidProposalStatusError);createErrorFromNameLookup.set("InvalidProposalStatus",()=>new InvalidProposalStatusError);class InvalidTransactionIndexError extends Error{code=6009;name="InvalidTransactionIndex";constructor(){super("Invalid transaction index"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidTransactionIndexError)}}createErrorFromCodeLookup.set(6009,()=>new InvalidTransactionIndexError);createErrorFromNameLookup.set("InvalidTransactionIndex",()=>new InvalidTransactionIndexError);class AlreadyApprovedError extends Error{code=6010;name="AlreadyApproved";constructor(){super("Member already approved the transaction"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,AlreadyApprovedError)}}createErrorFromCodeLookup.set(6010,()=>new AlreadyApprovedError);createErrorFromNameLookup.set("AlreadyApproved",()=>new AlreadyApprovedError);class AlreadyRejectedError extends Error{code=6011;name="AlreadyRejected";constructor(){super("Member already rejected the transaction"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,AlreadyRejectedError)}}createErrorFromCodeLookup.set(6011,()=>new AlreadyRejectedError);createErrorFromNameLookup.set("AlreadyRejected",()=>new AlreadyRejectedError);class AlreadyCancelledError extends Error{code=6012;name="AlreadyCancelled";constructor(){super("Member already cancelled the transaction"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,AlreadyCancelledError)}}createErrorFromCodeLookup.set(6012,()=>new AlreadyCancelledError);createErrorFromNameLookup.set("AlreadyCancelled",()=>new AlreadyCancelledError);class InvalidNumberOfAccountsError extends Error{code=6013;name="InvalidNumberOfAccounts";constructor(){super("Wrong number of accounts provided"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidNumberOfAccountsError)}}createErrorFromCodeLookup.set(6013,()=>new InvalidNumberOfAccountsError);createErrorFromNameLookup.set("InvalidNumberOfAccounts",()=>new InvalidNumberOfAccountsError);class InvalidAccountError extends Error{code=6014;name="InvalidAccount";constructor(){super("Invalid account provided"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidAccountError)}}createErrorFromCodeLookup.set(6014,()=>new InvalidAccountError);createErrorFromNameLookup.set("InvalidAccount",()=>new InvalidAccountError);class RemoveLastMemberError extends Error{code=6015;name="RemoveLastMember";constructor(){super("Cannot remove last member"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,RemoveLastMemberError)}}createErrorFromCodeLookup.set(6015,()=>new RemoveLastMemberError);createErrorFromNameLookup.set("RemoveLastMember",()=>new RemoveLastMemberError);class NoVotersError extends Error{code=6016;name="NoVoters";constructor(){super("Members don't include any voters"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NoVotersError)}}createErrorFromCodeLookup.set(6016,()=>new NoVotersError);createErrorFromNameLookup.set("NoVoters",()=>new NoVotersError);class NoProposersError extends Error{code=6017;name="NoProposers";constructor(){super("Members don't include any proposers"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NoProposersError)}}createErrorFromCodeLookup.set(6017,()=>new NoProposersError);createErrorFromNameLookup.set("NoProposers",()=>new NoProposersError);class NoExecutorsError extends Error{code=6018;name="NoExecutors";constructor(){super("Members don't include any executors"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NoExecutorsError)}}createErrorFromCodeLookup.set(6018,()=>new NoExecutorsError);createErrorFromNameLookup.set("NoExecutors",()=>new NoExecutorsError);class InvalidStaleTransactionIndexError extends Error{code=6019;name="InvalidStaleTransactionIndex";constructor(){super("`stale_transaction_index` must be <= `transaction_index`"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidStaleTransactionIndexError)}}createErrorFromCodeLookup.set(6019,()=>new InvalidStaleTransactionIndexError);createErrorFromNameLookup.set("InvalidStaleTransactionIndex",()=>new InvalidStaleTransactionIndexError);class NotSupportedForControlledError extends Error{code=6020;name="NotSupportedForControlled";constructor(){super("Instruction not supported for controlled multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NotSupportedForControlledError)}}createErrorFromCodeLookup.set(6020,()=>new NotSupportedForControlledError);createErrorFromNameLookup.set("NotSupportedForControlled",()=>new NotSupportedForControlledError);class TimeLockNotReleasedError extends Error{code=6021;name="TimeLockNotReleased";constructor(){super("Proposal time lock has not been released"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TimeLockNotReleasedError)}}createErrorFromCodeLookup.set(6021,()=>new TimeLockNotReleasedError);createErrorFromNameLookup.set("TimeLockNotReleased",()=>new TimeLockNotReleasedError);class NoActionsError extends Error{code=6022;name="NoActions";constructor(){super("Config transaction must have at least one action"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,NoActionsError)}}createErrorFromCodeLookup.set(6022,()=>new NoActionsError);createErrorFromNameLookup.set("NoActions",()=>new NoActionsError);class MissingAccountError extends Error{code=6023;name="MissingAccount";constructor(){super("Missing account"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,MissingAccountError)}}createErrorFromCodeLookup.set(6023,()=>new MissingAccountError);createErrorFromNameLookup.set("MissingAccount",()=>new MissingAccountError);class InvalidMintError extends Error{code=6024;name="InvalidMint";constructor(){super("Invalid mint"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidMintError)}}createErrorFromCodeLookup.set(6024,()=>new InvalidMintError);createErrorFromNameLookup.set("InvalidMint",()=>new InvalidMintError);class InvalidDestinationError extends Error{code=6025;name="InvalidDestination";constructor(){super("Invalid destination"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidDestinationError)}}createErrorFromCodeLookup.set(6025,()=>new InvalidDestinationError);createErrorFromNameLookup.set("InvalidDestination",()=>new InvalidDestinationError);class SpendingLimitExceededError extends Error{code=6026;name="SpendingLimitExceeded";constructor(){super("Spending limit exceeded"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,SpendingLimitExceededError)}}createErrorFromCodeLookup.set(6026,()=>new SpendingLimitExceededError);createErrorFromNameLookup.set("SpendingLimitExceeded",()=>new SpendingLimitExceededError);class DecimalsMismatchError extends Error{code=6027;name="DecimalsMismatch";constructor(){super("Decimals don't match the mint"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,DecimalsMismatchError)}}createErrorFromCodeLookup.set(6027,()=>new DecimalsMismatchError);createErrorFromNameLookup.set("DecimalsMismatch",()=>new DecimalsMismatchError);class UnknownPermissionError extends Error{code=6028;name="UnknownPermission";constructor(){super("Member has unknown permission"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,UnknownPermissionError)}}createErrorFromCodeLookup.set(6028,()=>new UnknownPermissionError);createErrorFromNameLookup.set("UnknownPermission",()=>new UnknownPermissionError);class ProtectedAccountError extends Error{code=6029;name="ProtectedAccount";constructor(){super("Account is protected, it cannot be passed into a CPI as writable"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ProtectedAccountError)}}createErrorFromCodeLookup.set(6029,()=>new ProtectedAccountError);createErrorFromNameLookup.set("ProtectedAccount",()=>new ProtectedAccountError);class TimeLockExceedsMaxAllowedError extends Error{code=6030;name="TimeLockExceedsMaxAllowed";constructor(){super("Time lock exceeds the maximum allowed (90 days)"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TimeLockExceedsMaxAllowedError)}}createErrorFromCodeLookup.set(6030,()=>new TimeLockExceedsMaxAllowedError);createErrorFromNameLookup.set("TimeLockExceedsMaxAllowed",()=>new TimeLockExceedsMaxAllowedError);class IllegalAccountOwnerError extends Error{code=6031;name="IllegalAccountOwner";constructor(){super("Account is not owned by Multisig program"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,IllegalAccountOwnerError)}}createErrorFromCodeLookup.set(6031,()=>new IllegalAccountOwnerError);createErrorFromNameLookup.set("IllegalAccountOwner",()=>new IllegalAccountOwnerError);class RentReclamationDisabledError extends Error{code=6032;name="RentReclamationDisabled";constructor(){super("Rent reclamation is disabled for this multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,RentReclamationDisabledError)}}createErrorFromCodeLookup.set(6032,()=>new RentReclamationDisabledError);createErrorFromNameLookup.set("RentReclamationDisabled",()=>new RentReclamationDisabledError);class InvalidRentCollectorError extends Error{code=6033;name="InvalidRentCollector";constructor(){super("Invalid rent collector address"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,InvalidRentCollectorError)}}createErrorFromCodeLookup.set(6033,()=>new InvalidRentCollectorError);createErrorFromNameLookup.set("InvalidRentCollector",()=>new InvalidRentCollectorError);class ProposalForAnotherMultisigError extends Error{code=6034;name="ProposalForAnotherMultisig";constructor(){super("Proposal is for another multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,ProposalForAnotherMultisigError)}}createErrorFromCodeLookup.set(6034,()=>new ProposalForAnotherMultisigError);createErrorFromNameLookup.set("ProposalForAnotherMultisig",()=>new ProposalForAnotherMultisigError);class TransactionForAnotherMultisigError extends Error{code=6035;name="TransactionForAnotherMultisig";constructor(){super("Transaction is for another multisig"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TransactionForAnotherMultisigError)}}createErrorFromCodeLookup.set(6035,()=>new TransactionForAnotherMultisigError);createErrorFromNameLookup.set("TransactionForAnotherMultisig",()=>new TransactionForAnotherMultisigError);class TransactionNotMatchingProposalError extends Error{code=6036;name="TransactionNotMatchingProposal";constructor(){super("Transaction doesn't match proposal"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TransactionNotMatchingProposalError)}}createErrorFromCodeLookup.set(6036,()=>new TransactionNotMatchingProposalError);createErrorFromNameLookup.set("TransactionNotMatchingProposal",()=>new TransactionNotMatchingProposalError);class TransactionNotLastInBatchError extends Error{code=6037;name="TransactionNotLastInBatch";constructor(){super("Transaction is not last in batch"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,TransactionNotLastInBatchError)}}createErrorFromCodeLookup.set(6037,()=>new TransactionNotLastInBatchError);createErrorFromNameLookup.set("TransactionNotLastInBatch",()=>new TransactionNotLastInBatchError);class BatchNotEmptyError extends Error{code=6038;name="BatchNotEmpty";constructor(){super("Batch is not empty"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,BatchNotEmptyError)}}createErrorFromCodeLookup.set(6038,()=>new BatchNotEmptyError);createErrorFromNameLookup.set("BatchNotEmpty",()=>new BatchNotEmptyError);class SpendingLimitInvalidAmountError extends Error{code=6039;name="SpendingLimitInvalidAmount";constructor(){super("Invalid SpendingLimit amount"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,SpendingLimitInvalidAmountError)}}createErrorFromCodeLookup.set(6039,()=>new SpendingLimitInvalidAmountError);createErrorFromNameLookup.set("SpendingLimitInvalidAmount",()=>new SpendingLimitInvalidAmountError);function errorFromCode(n){const e=createErrorFromCodeLookup.get(n);return e!=null?e():null}new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"BatchAccountsCloseInstructionArgs");const batchAddTransactionArgsBeet=new beet.FixableBeetArgsStruct([["ephemeralSigners",beet.u8],["transactionMessage",beet.bytes]],"BatchAddTransactionArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",batchAddTransactionArgsBeet]],"BatchAddTransactionInstructionArgs");const batchCreateArgsBeet=new beet.FixableBeetArgsStruct([["vaultIndex",beet.u8],["memo",beet.coption(beet.utf8String)]],"BatchCreateArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",batchCreateArgsBeet]],"BatchCreateInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"BatchExecuteTransactionInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"ConfigTransactionAccountsCloseInstructionArgs");const configTransactionCreateArgsBeet=new beet.FixableBeetArgsStruct([["actions",beet.array(configActionBeet)],["memo",beet.coption(beet.utf8String)]],"ConfigTransactionCreateArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",configTransactionCreateArgsBeet]],"ConfigTransactionCreateInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"ConfigTransactionExecuteInstructionArgs");const multisigAddMemberArgsBeet=new beet.FixableBeetArgsStruct([["newMember",memberBeet],["memo",beet.coption(beet.utf8String)]],"MultisigAddMemberArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigAddMemberArgsBeet]],"MultisigAddMemberInstructionArgs");const multisigAddSpendingLimitArgsBeet=new beet.FixableBeetArgsStruct([["createKey",beetSolana.publicKey],["vaultIndex",beet.u8],["mint",beetSolana.publicKey],["amount",beet.u64],["period",periodBeet],["members",beet.array(beetSolana.publicKey)],["destinations",beet.array(beetSolana.publicKey)],["memo",beet.coption(beet.utf8String)]],"MultisigAddSpendingLimitArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigAddSpendingLimitArgsBeet]],"MultisigAddSpendingLimitInstructionArgs");const multisigChangeThresholdArgsBeet=new beet.FixableBeetArgsStruct([["newThreshold",beet.u16],["memo",beet.coption(beet.utf8String)]],"MultisigChangeThresholdArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigChangeThresholdArgsBeet]],"MultisigChangeThresholdInstructionArgs");const multisigCreateArgsBeet=new beet.FixableBeetArgsStruct([["configAuthority",beet.coption(beetSolana.publicKey)],["threshold",beet.u16],["members",beet.array(memberBeet)],["timeLock",beet.u32],["memo",beet.coption(beet.utf8String)]],"MultisigCreateArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigCreateArgsBeet]],"MultisigCreateInstructionArgs");const multisigCreateArgsV2Beet=new beet.FixableBeetArgsStruct([["configAuthority",beet.coption(beetSolana.publicKey)],["threshold",beet.u16],["members",beet.array(memberBeet)],["timeLock",beet.u32],["rentCollector",beet.coption(beetSolana.publicKey)],["memo",beet.coption(beet.utf8String)]],"MultisigCreateArgsV2");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigCreateArgsV2Beet]],"MultisigCreateV2InstructionArgs");const multisigRemoveMemberArgsBeet=new beet.FixableBeetArgsStruct([["oldMember",beetSolana.publicKey],["memo",beet.coption(beet.utf8String)]],"MultisigRemoveMemberArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigRemoveMemberArgsBeet]],"MultisigRemoveMemberInstructionArgs");const multisigRemoveSpendingLimitArgsBeet=new beet.FixableBeetArgsStruct([["memo",beet.coption(beet.utf8String)]],"MultisigRemoveSpendingLimitArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigRemoveSpendingLimitArgsBeet]],"MultisigRemoveSpendingLimitInstructionArgs");const multisigSetConfigAuthorityArgsBeet=new beet.FixableBeetArgsStruct([["configAuthority",beetSolana.publicKey],["memo",beet.coption(beet.utf8String)]],"MultisigSetConfigAuthorityArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigSetConfigAuthorityArgsBeet]],"MultisigSetConfigAuthorityInstructionArgs");const multisigSetRentCollectorArgsBeet=new beet.FixableBeetArgsStruct([["rentCollector",beet.coption(beetSolana.publicKey)],["memo",beet.coption(beet.utf8String)]],"MultisigSetRentCollectorArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigSetRentCollectorArgsBeet]],"MultisigSetRentCollectorInstructionArgs");const multisigSetTimeLockArgsBeet=new beet.FixableBeetArgsStruct([["timeLock",beet.u32],["memo",beet.coption(beet.utf8String)]],"MultisigSetTimeLockArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",multisigSetTimeLockArgsBeet]],"MultisigSetTimeLockInstructionArgs");const programConfigInitArgsBeet=new beet.BeetArgsStruct([["authority",beetSolana.publicKey],["multisigCreationFee",beet.u64],["treasury",beetSolana.publicKey]],"ProgramConfigInitArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",programConfigInitArgsBeet]],"ProgramConfigInitInstructionArgs");const programConfigSetAuthorityArgsBeet=new beet.BeetArgsStruct([["newAuthority",beetSolana.publicKey]],"ProgramConfigSetAuthorityArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",programConfigSetAuthorityArgsBeet]],"ProgramConfigSetAuthorityInstructionArgs");const programConfigSetMultisigCreationFeeArgsBeet=new beet.BeetArgsStruct([["newMultisigCreationFee",beet.u64]],"ProgramConfigSetMultisigCreationFeeArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",programConfigSetMultisigCreationFeeArgsBeet]],"ProgramConfigSetMultisigCreationFeeInstructionArgs");const programConfigSetTreasuryArgsBeet=new beet.BeetArgsStruct([["newTreasury",beetSolana.publicKey]],"ProgramConfigSetTreasuryArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",programConfigSetTreasuryArgsBeet]],"ProgramConfigSetTreasuryInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"ProposalActivateInstructionArgs");const proposalVoteArgsBeet=new beet.FixableBeetArgsStruct([["memo",beet.coption(beet.utf8String)]],"ProposalVoteArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",proposalVoteArgsBeet]],"ProposalApproveInstructionArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",proposalVoteArgsBeet]],"ProposalCancelInstructionArgs");const proposalCreateArgsBeet=new beet.BeetArgsStruct([["transactionIndex",beet.u64],["draft",beet.bool]],"ProposalCreateArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",proposalCreateArgsBeet]],"ProposalCreateInstructionArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",proposalVoteArgsBeet]],"ProposalRejectInstructionArgs");const spendingLimitUseArgsBeet=new beet.FixableBeetArgsStruct([["amount",beet.u64],["decimals",beet.u8],["memo",beet.coption(beet.utf8String)]],"SpendingLimitUseArgs");new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",spendingLimitUseArgsBeet]],"SpendingLimitUseInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"VaultBatchTransactionAccountCloseInstructionArgs");new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"VaultTransactionAccountsCloseInstructionArgs");const vaultTransactionCreateArgsBeet=new beet.FixableBeetArgsStruct([["vaultIndex",beet.u8],["ephemeralSigners",beet.u8],["transactionMessage",beet.bytes],["memo",beet.coption(beet.utf8String)]],"VaultTransactionCreateArgs"),vaultTransactionCreateStruct=new beet.FixableBeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)],["args",vaultTransactionCreateArgsBeet]],"VaultTransactionCreateInstructionArgs"),vaultTransactionCreateInstructionDiscriminator=[48,250,78,168,208,226,218,211];function createVaultTransactionCreateInstruction(n,e,t=new PublicKey$4("SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf")){const[r]=vaultTransactionCreateStruct.serialize({instructionDiscriminator:vaultTransactionCreateInstructionDiscriminator,...e}),o=[{pubkey:n.multisig,isWritable:!0,isSigner:!1},{pubkey:n.transaction,isWritable:!0,isSigner:!1},{pubkey:n.creator,isWritable:!1,isSigner:!0},{pubkey:n.rentPayer,isWritable:!0,isSigner:!0},{pubkey:n.systemProgram??SystemProgram$4.programId,isWritable:!1,isSigner:!1}];if(n.anchorRemainingAccounts!=null)for(const c of n.anchorRemainingAccounts)o.push(c);return new TransactionInstruction$4({programId:t,keys:o,data:r})}new beet.BeetArgsStruct([["instructionDiscriminator",beet.uniformFixedSizeArray(beet.u8,8)]],"VaultTransactionExecuteInstructionArgs");var Vote;(function(n){n[n.Approve=0]="Approve",n[n.Reject=1]="Reject",n[n.Cancel=2]="Cancel"})(Vote||(Vote={}));beet.fixedScalarEnum(Vote);const PROGRAM_ADDRESS="SQDS4ep65T869zMMBKyuUq6aD6EgTu8psMjkvj52pCf",PROGRAM_ID=new PublicKey$4(PROGRAM_ADDRESS);var cusper={},resolveError={},parseError={};Object.defineProperty(parseError,"__esModule",{value:!0});parseError.errorCodeFromLogs=void 0;const errorLineRx=/Custom program error: (0x[a-f0-9]+)/i;function errorCodeFromLogs(n){for(const e of n){const t=e.match(errorLineRx);if(t==null)continue;const r=t[1];try{return parseInt(r)}catch{}}return null}parseError.errorCodeFromLogs=errorCodeFromLogs;var anchor$1={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.LangErrorMessage=n.LangErrorCode=void 0,n.LangErrorCode={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,StateInvalidAddress:4e3,Deprecated:5e3},n.LangErrorMessage=new Map([[n.LangErrorCode.InstructionMissing,"8 byte instruction identifier not provided"],[n.LangErrorCode.InstructionFallbackNotFound,"Fallback functions are not supported"],[n.LangErrorCode.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[n.LangErrorCode.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[n.LangErrorCode.IdlInstructionStub,"The program was compiled without idl instructions"],[n.LangErrorCode.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[n.LangErrorCode.ConstraintMut,"A mut constraint was violated"],[n.LangErrorCode.ConstraintHasOne,"A has_one constraint was violated"],[n.LangErrorCode.ConstraintSigner,"A signer constraint was violated"],[n.LangErrorCode.ConstraintRaw,"A raw constraint was violated"],[n.LangErrorCode.ConstraintOwner,"An owner constraint was violated"],[n.LangErrorCode.ConstraintRentExempt,"A rent exempt constraint was violated"],[n.LangErrorCode.ConstraintSeeds,"A seeds constraint was violated"],[n.LangErrorCode.ConstraintExecutable,"An executable constraint was violated"],[n.LangErrorCode.ConstraintState,"A state constraint was violated"],[n.LangErrorCode.ConstraintAssociated,"An associated constraint was violated"],[n.LangErrorCode.ConstraintAssociatedInit,"An associated init constraint was violated"],[n.LangErrorCode.ConstraintClose,"A close constraint was violated"],[n.LangErrorCode.ConstraintAddress,"An address constraint was violated"],[n.LangErrorCode.ConstraintZero,"Expected zero account discriminant"],[n.LangErrorCode.ConstraintTokenMint,"A token mint constraint was violated"],[n.LangErrorCode.ConstraintTokenOwner,"A token owner constraint was violated"],[n.LangErrorCode.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[n.LangErrorCode.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[n.LangErrorCode.ConstraintMintDecimals,"A mint decimals constraint was violated"],[n.LangErrorCode.ConstraintSpace,"A space constraint was violated"],[n.LangErrorCode.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[n.LangErrorCode.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[n.LangErrorCode.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[n.LangErrorCode.AccountDidNotDeserialize,"Failed to deserialize the account"],[n.LangErrorCode.AccountDidNotSerialize,"Failed to serialize the account"],[n.LangErrorCode.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[n.LangErrorCode.AccountNotMutable,"The given account is not mutable"],[n.LangErrorCode.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[n.LangErrorCode.InvalidProgramId,"Program ID was not as expected"],[n.LangErrorCode.InvalidProgramExecutable,"Program account is not executable"],[n.LangErrorCode.AccountNotSigner,"The given account did not sign"],[n.LangErrorCode.AccountNotSystemOwned,"The given account is not owned by the system program"],[n.LangErrorCode.AccountNotInitialized,"The program expected this account to be already initialized"],[n.LangErrorCode.AccountNotProgramData,"The given account is not a program data account"],[n.LangErrorCode.StateInvalidAddress,"The given state account does not have the correct address"],[n.LangErrorCode.Deprecated,"The API being used is deprecated and should no longer be used"]])})(anchor$1);var tokenLending={};Object.defineProperty(tokenLending,"__esModule",{value:!0});tokenLending.tokenLendingErrors=void 0;tokenLending.tokenLendingErrors=new Map([[0,{code:0,message:'Failed to unpack instruction data"',name:"InstructionUnpackError"}],[1,{code:1,message:'Account is already initialized"',name:"AlreadyInitialized"}],[2,{code:2,message:'Lamport balance below rent-exempt threshold"',name:"NotRentExempt"}],[3,{code:3,message:'Market authority is invalid"',name:"InvalidMarketAuthority"}],[4,{code:4,message:'Market owner is invalid"',name:"InvalidMarketOwner"}],[5,{code:5,message:'Input account owner is not the program address"',name:"InvalidAccountOwner"}],[6,{code:6,message:'Input token account is not owned by the correct token program id"',name:"InvalidTokenOwner"}],[7,{code:7,message:'Input token account is not valid"',name:"InvalidTokenAccount"}],[8,{code:8,message:'Input token mint account is not valid"',name:"InvalidTokenMint"}],[9,{code:9,message:'Input token program account is not valid"',name:"InvalidTokenProgram"}],[10,{code:10,message:'Input amount is invalid"',name:"InvalidAmount"}],[11,{code:11,message:'Input config value is invalid"',name:"InvalidConfig"}],[12,{code:12,message:'Input account must be a signer"',name:"InvalidSigner"}],[13,{code:13,message:'Invalid account input"',name:"InvalidAccountInput"}],[14,{code:14,message:'Math operation overflow"',name:"MathOverflow"}],[15,{code:15,message:'Token initialize mint failed"',name:"TokenInitializeMintFailed"}],[16,{code:16,message:'Token initialize account failed"',name:"TokenInitializeAccountFailed"}],[17,{code:17,message:'Token transfer failed"',name:"TokenTransferFailed"}],[18,{code:18,message:'Token mint to failed"',name:"TokenMintToFailed"}],[19,{code:19,message:'Token burn failed"',name:"TokenBurnFailed"}],[20,{code:20,message:'Insufficient liquidity available"',name:"InsufficientLiquidity"}],[21,{code:21,message:'Input reserve has collateral disabled"',name:"ReserveCollateralDisabled"}],[22,{code:22,message:'Reserve state needs to be refreshed"',name:"ReserveStale"}],[23,{code:23,message:'Withdraw amount too small"',name:"WithdrawTooSmall"}],[24,{code:24,message:'Withdraw amount too large"',name:"WithdrawTooLarge"}],[25,{code:25,message:'Borrow amount too small to receive liquidity after fees"',name:"BorrowTooSmall"}],[26,{code:26,message:'Borrow amount too large for deposited collateral"',name:"BorrowTooLarge"}],[27,{code:27,message:'Repay amount too small to transfer liquidity"',name:"RepayTooSmall"}],[28,{code:28,message:'Liquidation amount too small to receive collateral"',name:"LiquidationTooSmall"}],[29,{code:29,message:'Cannot liquidate healthy obligations"',name:"ObligationHealthy"}],[30,{code:30,message:'Obligation state needs to be refreshed"',name:"ObligationStale"}],[31,{code:31,message:'Obligation reserve limit exceeded"',name:"ObligationReserveLimit"}],[32,{code:32,message:'Obligation owner is invalid"',name:"InvalidObligationOwner"}],[33,{code:33,message:'Obligation deposits are empty"',name:"ObligationDepositsEmpty"}],[34,{code:34,message:'Obligation borrows are empty"',name:"ObligationBorrowsEmpty"}],[35,{code:35,message:'Obligation deposits have zero value"',name:"ObligationDepositsZero"}],[36,{code:36,message:'Obligation borrows have zero value"',name:"ObligationBorrowsZero"}],[37,{code:37,message:'Invalid obligation collateral"',name:"InvalidObligationCollateral"}],[38,{code:38,message:'Invalid obligation liquidity"',name:"InvalidObligationLiquidity"}],[39,{code:39,message:'Obligation collateral is empty"',name:"ObligationCollateralEmpty"}],[40,{code:40,message:'Obligation liquidity is empty"',name:"ObligationLiquidityEmpty"}],[41,{code:41,message:'Interest rate is negative"',name:"NegativeInterestRate"}],[42,{code:42,message:'Input oracle config is invalid"',name:"InvalidOracleConfig"}],[43,{code:43,message:'Input flash loan receiver program account is not valid"',name:"InvalidFlashLoanReceiverProgram"}],[44,{code:44,message:'Not enough liquidity after flash loan"',name:"NotEnoughLiquidityAfterFlashLoan"}]]);var __createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t),Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[t]}})}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&__createBinding$2(e,n,t);return __setModuleDefault$2(e,n),e};Object.defineProperty(resolveError,"__esModule",{value:!0});resolveError.TokenLendingError=resolveError.AnchorError=resolveError.CustomProgramError=resolveError.CusperUnknownError=resolveError.initCusper=resolveError.ErrorResolver=void 0;const parse_error_1=parseError,anchor=__importStar$2(anchor$1),token_lending_1=tokenLending;class ErrorResolver{constructor(e){this.resolveErrorFromCode=e}errorFromCode(e,t,r=!0){let o=this.resolveErrorFromCode!=null?this.resolveErrorFromCode(e):null;if(o!=null)return this.passPreparedError(o,t??this.errorFromCode);if(o=AnchorError.fromCode(e),o!=null)return this.passPreparedError(o,t??this.errorFromCode);if(o=TokenLendingError.fromCode(e),o!=null)return this.passPreparedError(o,t??this.errorFromCode);if(r)return o=new CusperUnknownError(e,"CusperUnknownError","cusper does not know this error"),this.passPreparedError(o,t??this.errorFromCode)}errorFromProgramLogs(e,t=!0){const r=(0,parse_error_1.errorCodeFromLogs)(e);return r==null?null:this.errorFromCode(r,this.errorFromProgramLogs,t)}throwError(e){const t=e.logs!=null&&this.errorFromProgramLogs(e.logs,!0)||new CusperUnknownError(-1,"Error created without logs and thus without error code");throw this.passPreparedError(t,this.throwError)}passPreparedError(e,t){return e==null?null:(typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(e,t),e)}}resolveError.ErrorResolver=ErrorResolver;function initCusper(n){return new ErrorResolver(n)}resolveError.initCusper=initCusper;class CusperUnknownError extends Error{constructor(e,...t){super(...t),this.code=e,this.name="CusperUnknownError"}}resolveError.CusperUnknownError=CusperUnknownError;class CustomProgramError extends Error{constructor(e,t,...r){super(...r),this.code=e,this.name=`CustomProgramError#${t}`}}resolveError.CustomProgramError=CustomProgramError;class AnchorError extends Error{constructor(e,t,...r){super(...r),this.code=e,this.name=`AnchorError#${t}`}static fromCode(e){const t=AnchorError.errorMap.get(e);return t!=null?new AnchorError(t.code,t.name,t.message):null}toString(){return`${this.name}: ${this.message}`}}resolveError.AnchorError=AnchorError;AnchorError.errorMap=Object.entries(anchor.LangErrorCode).reduce((n,[e,t])=>(n.set(t,{code:t,name:e,message:anchor.LangErrorMessage.get(t)}),n),new Map);class TokenLendingError extends Error{constructor(e,t,...r){super(...r),this.code=e,this.name=`TokenLendingError#${t}`}static fromCode(e){const t=TokenLendingError.errorMap.get(e);return t!=null?new TokenLendingError(t.code,t.name,t.message):null}toString(){return`${this.name}: ${this.message}`}}resolveError.TokenLendingError=TokenLendingError;TokenLendingError.errorMap=token_lending_1.tokenLendingErrors;var types$3={};Object.defineProperty(types$3,"__esModule",{value:!0});(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a),Object.defineProperty(r,c,{enumerable:!0,get:function(){return o[a]}})}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(resolveError,n),t(types$3,n)})(cusper);cusper.initCusper(errorFromCode);var invariant$1=function(n,e,t,r,o,a,c,u){if(!n){var en;if(e===void 0)en=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var tn=[t,r,o,a,c,u],nn=0;en=new Error(e.replace(/%s/g,function(){return tn[nn++]})),en.name="Invariant Violation"}throw en.framesToPop=1,en}},browser$3=invariant$1;function fixedSizeSmallArray(n,e,t){const r=e.length,o=r===0?"<EMPTY>":e[0].description;return{write:function(a,c,u){browser$3(u.length===r,`array length ${u.length} should match len ${r}`),n.write(a,c,r);let en=c+n.byteSize;for(let tn=0;tn<r;tn++){const nn=e[tn];nn.write(a,en,u[tn]),en+=nn.byteSize}},read:function(a,c){const u=n.read(a,c);browser$3(u===r,"invalid byte size");let en=c+n.byteSize;const tn=new Array(r);for(let nn=0;nn<r;nn++){const sn=e[nn];tn[nn]=sn.read(a,en),en+=sn.byteSize}return tn},byteSize:n.byteSize+t,length:r,description:`Array<${o}>(${r})[ ${n.byteSize} + ${t} ]`}}function smallArray(n,e){return{toFixedFromData(t,r){const o=n.read(t,r),a=r+n.byteSize;let c=a;const u=new Array(o);for(let en=0;en<o;en++){const tn=beet.fixBeetFromData(e,t,c);u[en]=tn,c+=tn.byteSize}return fixedSizeSmallArray(n,u,c-a)},toFixedFromValue(t){browser$3(Array.isArray(t),`${t} should be an array`);let r=0;const o=new Array(t.length);for(let a=0;a<t.length;a++){const c=beet.fixBeetFromValue(e,t[a]);o[a]=c,r+=c.byteSize}return fixedSizeSmallArray(n,o,r)},description:"smallArray"}}const compiledMsInstructionBeet=new beet.FixableBeetArgsStruct([["programIdIndex",beet.u8],["accountIndexes",smallArray(beet.u8,beet.u8)],["data",smallArray(beet.u16,beet.u8)]],"CompiledMsInstruction"),messageAddressTableLookupBeet=new beet.FixableBeetArgsStruct([["accountKey",beetSolana.publicKey],["writableIndexes",smallArray(beet.u8,beet.u8)],["readonlyIndexes",smallArray(beet.u8,beet.u8)]],"MessageAddressTableLookup"),transactionMessageBeet=new beet.FixableBeetArgsStruct([["numSigners",beet.u8],["numWritableSigners",beet.u8],["numWritableNonSigners",beet.u8],["accountKeys",smallArray(beet.u8,beetSolana.publicKey)],["instructions",smallArray(beet.u8,compiledMsInstructionBeet)],["addressTableLookups",smallArray(beet.u8,messageAddressTableLookupBeet)]],"TransactionMessage");class CompiledKeys$3{payer;keyMetaMap;constructor(e,t){this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,o=c=>{const u=c.toBase58();let en=r.get(u);return en===void 0&&(en={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,en)),en},a=o(t);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!1;for(const u of c.keys){const en=o(u.pubkey);en.isSigner||=u.isSigner,en.isWritable||=u.isWritable}}return new CompiledKeys$3(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$9(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,en])=>en.isSigner&&en.isWritable),r=e.filter(([,en])=>en.isSigner&&!en.isWritable),o=e.filter(([,en])=>!en.isSigner&&en.isWritable),a=e.filter(([,en])=>!en.isSigner&&!en.isWritable),c={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};{assert$9(t.length>0,"Expected at least one writable signer key");const[en]=t[0];assert$9(en===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([en])=>new PublicKey$4(en)),...r.map(([en])=>new PublicKey$4(en)),...o.map(([en])=>new PublicKey$4(en)),...a.map(([en])=>new PublicKey$4(en))];return[c,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:a}]}drainKeysFoundInLookupTable(e,t){const r=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(t(c)){const u=new PublicKey$4(a),en=e.findIndex(tn=>tn.equals(u));en>=0&&(assert$9(en<256,"Max lookup table index exceeded"),r.push(en),o.push(u),this.keyMetaMap.delete(a))}return[r,o]}}function compileToWrappedMessageV0({payerKey:n,recentBlockhash:e,instructions:t,addressLookupTableAccounts:r}){const o=CompiledKeys$3.compile(t,n),a=new Array,c={writable:[],readonly:[]},u=r||[];for(const fn of u){const dn=o.extractTableLookup(fn);if(dn!==void 0){const[hn,{writable:ln,readonly:pn}]=dn;a.push(hn),c.writable.push(...ln),c.readonly.push(...pn)}}const[en,tn]=o.getMessageComponents(),sn=new MessageAccountKeys$4(tn,c).compileInstructions(t);return new MessageV0$3({header:en,staticAccountKeys:tn,recentBlockhash:e,compiledInstructions:sn,addressTableLookups:a})}function toUtfBytes(n){return new TextEncoder().encode(n)}function toU8Bytes(n){const e=bufferPolyfill.Buffer.alloc(1);return beet.u8.write(e,0,n),e}function toU64Bytes(n){const e=bufferPolyfill.Buffer.alloc(8);return beet.u64.write(e,0,n),e}function transactionMessageToMultisigTransactionMessageBytes({message:n,addressLookupTableAccounts:e,vaultPda:t}){const r=compileToWrappedMessageV0({payerKey:n.payerKey,recentBlockhash:n.recentBlockhash,instructions:n.instructions,addressLookupTableAccounts:e}),[o]=transactionMessageBeet.serialize({numSigners:r.header.numRequiredSignatures,numWritableSigners:r.header.numRequiredSignatures-r.header.numReadonlySignedAccounts,numWritableNonSigners:r.staticAccountKeys.length-r.header.numRequiredSignatures-r.header.numReadonlyUnsignedAccounts,accountKeys:r.staticAccountKeys,instructions:r.compiledInstructions.map(a=>({programIdIndex:a.programIdIndex,accountIndexes:a.accountKeyIndexes,data:Array.from(a.data)})),addressTableLookups:r.addressTableLookups});return o}const SEED_PREFIX=toUtfBytes("multisig");toUtfBytes("program_config");toUtfBytes("multisig");const SEED_VAULT=toUtfBytes("vault"),SEED_TRANSACTION=toUtfBytes("transaction");toUtfBytes("proposal");toUtfBytes("batch_transaction");toUtfBytes("ephemeral_signer");toUtfBytes("spending_limit");function getVaultPda({multisigPda:n,index:e,programId:t=PROGRAM_ID}){return browser$3(e>=0&&e<256,"Invalid vault index"),PublicKey$4.findProgramAddressSync([SEED_PREFIX,n.toBytes(),SEED_VAULT,toU8Bytes(e)],t)}function getTransactionPda({multisigPda:n,index:e,programId:t=PROGRAM_ID}){return PublicKey$4.findProgramAddressSync([SEED_PREFIX,n.toBytes(),SEED_TRANSACTION,toU64Bytes(e)],t)}const useSquadsStore=defineStore("squadsStore",{state:()=>({useSquads:useLocalStorage("useSquads",!1),store:useLocalStorage("store",[]),storeSelected:useLocalStorage("storeSelected",{}),multisigPDA:useLocalStorage("multisigPDA",""),vaultPDA:useLocalStorage("vaultPDA",""),multisigInfo:{}}),getters:{getLink(n){return n.multisigPDA.length==0?"https://app.squads.so":`https://app.squads.so/squads/${n.vaultPDA}/`},getVaultPDA(n){if(!n.multisigPDA)return"";try{const[e,t]=getVaultPda({multisigPda:new PublicKey$7(n.multisigPDA),index:0});return n.vaultPDA=e.toString(),e}catch(e){console.error(e)}},getNewTransactionIndex(n){const e=Number(n.multisigInfo.transactionIndex);return BigInt(e+1)}},actions:{addToStore(n,e){try{if(this.store.find(t=>t.value.includes(e)))return;e&&this.store.push({label:n,value:e});return}catch{this.store=[],this.store.push({label:n,value:e})}},removeFromStore(){try{this.store=this.store.filter(n=>{var e,t;return!(n.label==((e=this.storeSelected)==null?void 0:e.label)&&n.value==((t=this.storeSelected)==null?void 0:t.value))})}catch{}},async loadMultisigInfo(){this.multisigInfo=await Multisig.fromAccountAddress(useRPCStore().connection,new PublicKey$7(this.multisigPDA))}}});function getSigner(){return useSquadsStore().useSquads?new PublicKey$7(useSquadsStore().vaultPDA):useWallet().publicKey.value??new PublicKey$7("")}const useAccountStore=defineStore("accountStore",{state:()=>({accounts:[]}),getters:{getAccountByMintPublicKey:n=>e=>n.accounts.find(t=>t.mint===e.toString()),getAccountsBalanceNotZero(n){return n.accounts.filter(e=>e.uiAmount>0)}},actions:{async updateStore(){if(!useWallet().publicKey.value)return;const n=await useRPCStore().connection.getParsedTokenAccountsByOwner(getSigner(),{programId:TOKEN_PROGRAM_ID$1});this.accounts=[],n.value.forEach(e=>{this.accounts.push({pubkey:e.pubkey.toString(),mint:e.account.data.parsed.info.mint.toString(),account:e.account,uiAmount:e.account.data.parsed.info.tokenAmount.uiAmount,decimals:e.account.data.parsed.info.tokenAmount.decimals,info:useTokenListStore().tokenList.find(t=>t.address===e.account.data.parsed.info.mint.toString())})}),console.log("[Updated] AccountStore")}}}),useWhitelistStore=defineStore("whitelistStore",{state:()=>({whitelists:[],whitelistEntries:[],whitelistSelected:{}}),getters:{check_wallet_whitelisted(n){return n.whitelistEntries.some(e=>{var t;return e.account.whitelisted.toString()===((t=useWallet().publicKey.value)==null?void 0:t.toString())})}},actions:{async updateStore(){if(useWorkspaceAdapter())try{const n=useWorkspaceAdapter().pg_whitelist.value;this.whitelists=await n.account.whitelist.all(),this.whitelistEntries=await(n==null?void 0:n.account.whitelistEntry.all()),console.log("[Updated] WhitelistStore")}catch(n){console.error(n)}}}});async function retryFunction(n,e=3,t=1e3){let r=0;for(;r<e;)try{return await n()}catch(o){if(r++,r>=e)throw new Error(`Function ${n.name} failed after ${r} attempts: ${o}`);console.log(`Retry ${n.name}() | ${r}/${e} failed. Retrying in ${t}ms...`),await new Promise(a=>setTimeout(a,t))}throw new Error("This line should never be reached.")}const useSizeDefaults={xs:18,sm:24,md:32,lg:38,xl:46},useSizeProps={size:String};function useSize(n,e=useSizeDefaults){return computed$1(()=>n.size!==void 0?{fontSize:n.size in e?`${e[n.size]}px`:n.size}:null)}const createComponent=n=>markRaw(defineComponent(n)),createDirective=n=>markRaw(n);function hSlot(n,e){return n!==void 0&&n()||e}function hUniqueSlot(n,e){if(n!==void 0){const t=n();if(t!=null)return t.slice()}return e}function hMergeSlot(n,e){return n!==void 0?e.concat(n()):e}function hMergeSlotSafely(n,e){return n===void 0?e:e!==void 0?e.concat(n()):n()}function hDir(n,e,t,r,o,a){e.key=r+o;const c=h$1(n,e,t);return o===!0?withDirectives(c,a()):c}const defaultViewBox="0 0 24 24",sameFn=n=>n,ionFn=n=>`ionicons ${n}`,libMap={"mdi-":n=>`mdi ${n}`,"icon-":sameFn,"bt-":n=>`bt ${n}`,"eva-":n=>`eva ${n}`,"ion-md":ionFn,"ion-ios":ionFn,"ion-logo":ionFn,"iconfont ":sameFn,"ti-":n=>`themify-icon ${n}`,"bi-":n=>`bootstrap-icons ${n}`},matMap={o_:"-outlined",r_:"-round",s_:"-sharp"},symMap={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},libRE=new RegExp("^("+Object.keys(libMap).join("|")+")"),matRE=new RegExp("^("+Object.keys(matMap).join("|")+")"),symRE=new RegExp("^("+Object.keys(symMap).join("|")+")"),mRE=/^[Mm]\s?[-+]?\.?\d/,imgRE=/^img:/,svgUseRE=/^svguse:/,ionRE=/^ion-/,faRE=/^(fa-(sharp|solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /;var QIcon=createComponent({name:"QIcon",props:{...useSizeProps,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(n,{slots:e}){const{proxy:{$q:t}}=getCurrentInstance(),r=useSize(n),o=computed$1(()=>"q-icon"+(n.left===!0?" on-left":"")+(n.right===!0?" on-right":"")+(n.color!==void 0?` text-${n.color}`:"")),a=computed$1(()=>{let c,u=n.name;if(u==="none"||!u)return{none:!0};if(t.iconMapFn!==null){const nn=t.iconMapFn(u);if(nn!==void 0)if(nn.icon!==void 0){if(u=nn.icon,u==="none"||!u)return{none:!0}}else return{cls:nn.cls,content:nn.content!==void 0?nn.content:" "}}if(mRE.test(u)===!0){const[nn,sn=defaultViewBox]=u.split("|");return{svg:!0,viewBox:sn,nodes:nn.split("&&").map(fn=>{const[dn,hn,ln]=fn.split("@@");return h$1("path",{style:hn,d:dn,transform:ln})})}}if(imgRE.test(u)===!0)return{img:!0,src:u.substring(4)};if(svgUseRE.test(u)===!0){const[nn,sn=defaultViewBox]=u.split("|");return{svguse:!0,src:nn.substring(7),viewBox:sn}}let en=" ";const tn=u.match(libRE);if(tn!==null)c=libMap[tn[1]](u);else if(faRE.test(u)===!0)c=u;else if(ionRE.test(u)===!0)c=`ionicons ion-${t.platform.is.ios===!0?"ios":"md"}${u.substring(3)}`;else if(symRE.test(u)===!0){c="notranslate material-symbols";const nn=u.match(symRE);nn!==null&&(u=u.substring(6),c+=symMap[nn[1]]),en=u}else{c="notranslate material-icons";const nn=u.match(matRE);nn!==null&&(u=u.substring(2),c+=matMap[nn[1]]),en=u}return{cls:c,content:en}});return()=>{const c={class:o.value,style:r.value,"aria-hidden":"true",role:"presentation"};return a.value.none===!0?h$1(n.tag,c,hSlot(e.default)):a.value.img===!0?h$1("span",c,hMergeSlot(e.default,[h$1("img",{src:a.value.src})])):a.value.svg===!0?h$1("span",c,hMergeSlot(e.default,[h$1("svg",{viewBox:a.value.viewBox||"0 0 24 24"},a.value.nodes)])):a.value.svguse===!0?h$1("span",c,hMergeSlot(e.default,[h$1("svg",{viewBox:a.value.viewBox},[h$1("use",{"xlink:href":a.value.src})])])):(a.value.cls!==void 0&&(c.class+=" "+a.value.cls),h$1(n.tag,c,hMergeSlot(e.default,[a.value.content])))}}}),QAvatar=createComponent({name:"QAvatar",props:{...useSizeProps,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(n,{slots:e}){const t=useSize(n),r=computed$1(()=>"q-avatar"+(n.color?` bg-${n.color}`:"")+(n.textColor?` text-${n.textColor} q-chip--colored`:"")+(n.square===!0?" q-avatar--square":n.rounded===!0?" rounded-borders":"")),o=computed$1(()=>n.fontSize?{fontSize:n.fontSize}:null);return()=>{const a=n.icon!==void 0?[h$1(QIcon,{name:n.icon})]:void 0;return h$1("div",{class:r.value,style:t.value},[h$1("div",{class:"q-avatar__content row flex-center overflow-hidden",style:o.value},hMergeSlotSafely(e.default,a))])}}});const useSpinnerProps={size:{type:[Number,String],default:"1em"},color:String};function useSpinner(n){return{cSize:computed$1(()=>n.size in useSizeDefaults?`${useSizeDefaults[n.size]}px`:n.size),classes:computed$1(()=>"q-spinner"+(n.color?` text-${n.color}`:""))}}var QSpinner=createComponent({name:"QSpinner",props:{...useSpinnerProps,thickness:{type:Number,default:5}},setup(n){const{cSize:e,classes:t}=useSpinner(n);return()=>h$1("svg",{class:t.value+" q-spinner-mat",width:e.value,height:e.value,viewBox:"25 25 50 50"},[h$1("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":n.thickness,"stroke-miterlimit":"10"})])}});function css(n,e){const t=n.style;for(const r in e)t[r]=e[r]}function getElement(n){if(n==null)return;if(typeof n=="string")try{return document.querySelector(n)||void 0}catch{return}const e=unref(n);if(e)return e.$el||e}function childHasFocus(n,e){if(n==null||n.contains(e)===!0)return!0;for(let t=n.nextElementSibling;t!==null;t=t.nextElementSibling)if(t.contains(e))return!0;return!1}function throttle(n,e=250){let t=!1,r;return function(){return t===!1&&(t=!0,setTimeout(()=>{t=!1},e),r=n.apply(this,arguments)),r}}function showRipple(n,e,t,r){t.modifiers.stop===!0&&stop(n);const o=t.modifiers.color;let a=t.modifiers.center;a=a===!0||r===!0;const c=document.createElement("span"),u=document.createElement("span"),en=position(n),{left:tn,top:nn,width:sn,height:fn}=e.getBoundingClientRect(),dn=Math.sqrt(sn*sn+fn*fn),hn=dn/2,ln=`${(sn-dn)/2}px`,pn=a?ln:`${en.left-tn-hn}px`,$n=`${(fn-dn)/2}px`,Sn=a?$n:`${en.top-nn-hn}px`;u.className="q-ripple__inner",css(u,{height:`${dn}px`,width:`${dn}px`,transform:`translate3d(${pn},${Sn},0) scale3d(.2,.2,1)`,opacity:0}),c.className=`q-ripple${o?" text-"+o:""}`,c.setAttribute("dir","ltr"),c.appendChild(u),e.appendChild(c);const yn=()=>{c.remove(),clearTimeout(In)};t.abort.push(yn);let In=setTimeout(()=>{u.classList.add("q-ripple__inner--enter"),u.style.transform=`translate3d(${ln},${$n},0) scale3d(1,1,1)`,u.style.opacity=.2,In=setTimeout(()=>{u.classList.remove("q-ripple__inner--enter"),u.classList.add("q-ripple__inner--leave"),u.style.opacity=0,In=setTimeout(()=>{c.remove(),t.abort.splice(t.abort.indexOf(yn),1)},275)},250)},50)}function updateModifiers(n,{modifiers:e,value:t,arg:r}){const o=Object.assign({},n.cfg.ripple,e,t);n.modifiers={early:o.early===!0,stop:o.stop===!0,center:o.center===!0,color:o.color||r,keyCodes:[].concat(o.keyCodes||13)}}var Ripple=createDirective({name:"ripple",beforeMount(n,e){const t=e.instance.$.appContext.config.globalProperties.$q.config||{};if(t.ripple===!1)return;const r={cfg:t,enabled:e.value!==!1,modifiers:{},abort:[],start(o){r.enabled===!0&&o.qSkipRipple!==!0&&o.type===(r.modifiers.early===!0?"pointerdown":"click")&&showRipple(o,n,r,o.qKeyEvent===!0)},keystart:throttle(o=>{r.enabled===!0&&o.qSkipRipple!==!0&&isKeyCode(o,r.modifiers.keyCodes)===!0&&o.type===`key${r.modifiers.early===!0?"down":"up"}`&&showRipple(o,n,r,!0)},300)};updateModifiers(r,e),n.__qripple=r,addEvt(r,"main",[[n,"pointerdown","start","passive"],[n,"click","start","passive"],[n,"keydown","keystart","passive"],[n,"keyup","keystart","passive"]])},updated(n,e){if(e.oldValue!==e.value){const t=n.__qripple;t!==void 0&&(t.enabled=e.value!==!1,t.enabled===!0&&Object(e.value)===e.value&&updateModifiers(t,e))}},beforeUnmount(n){const e=n.__qripple;e!==void 0&&(e.abort.forEach(t=>{t()}),cleanEvt(e,"main"),delete n._qripple)}});const alignMap={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},alignValues=Object.keys(alignMap),useAlignProps={align:{type:String,validator:n=>alignValues.includes(n)}};function useAlign(n){return computed$1(()=>{const e=n.align===void 0?n.vertical===!0?"stretch":"left":n.align;return`${n.vertical===!0?"items":"justify"}-${alignMap[e]}`})}function getParentProxy(n){if(Object(n.$parent)===n.$parent)return n.$parent;let{parent:e}=n.$;for(;Object(e)===e;){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function fillNormalizedVNodes(n,e){typeof e.type=="symbol"?Array.isArray(e.children)===!0&&e.children.forEach(t=>{fillNormalizedVNodes(n,t)}):n.add(e)}function getNormalizedVNodes(n){const e=new Set;return n.forEach(t=>{fillNormalizedVNodes(e,t)}),Array.from(e)}function vmHasRouter(n){return n.appContext.config.globalProperties.$router!==void 0}function vmIsDestroyed(n){return n.isUnmounted===!0||n.isDeactivated===!0}function getOriginalPath$1(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}function isSameRouteRecord$1(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function includesParams$1(n,e){for(const t in e){const r=e[t],o=n[t];if(typeof r=="string"){if(r!==o)return!1}else if(Array.isArray(o)===!1||o.length!==r.length||r.some((a,c)=>a!==o[c]))return!1}return!0}function isEquivalentArray$1(n,e){return Array.isArray(e)===!0?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function isSameRouteLocationParamsValue$1(n,e){return Array.isArray(n)===!0?isEquivalentArray$1(n,e):Array.isArray(e)===!0?isEquivalentArray$1(e,n):n===e}function isSameRouteLocationParams$1(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(isSameRouteLocationParamsValue$1(n[t],e[t])===!1)return!1;return!0}const useRouterLinkProps={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function useRouterLink({fallbackTag:n,useDisableForRouterLinkProps:e=!0}={}){const t=getCurrentInstance(),{props:r,proxy:o,emit:a}=t,c=vmHasRouter(t),u=computed$1(()=>r.disable!==!0&&r.href!==void 0),en=computed$1(e===!0?()=>c===!0&&r.disable!==!0&&u.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!=="":()=>c===!0&&u.value!==!0&&r.to!==void 0&&r.to!==null&&r.to!==""),tn=computed$1(()=>en.value===!0?Sn(r.to):null),nn=computed$1(()=>tn.value!==null),sn=computed$1(()=>u.value===!0||nn.value===!0),fn=computed$1(()=>r.type==="a"||sn.value===!0?"a":r.tag||n||"div"),dn=computed$1(()=>u.value===!0?{href:r.href,target:r.target}:nn.value===!0?{href:tn.value.href,target:r.target}:{}),hn=computed$1(()=>{if(nn.value===!1)return-1;const{matched:An}=tn.value,{length:Tn}=An,kn=An[Tn-1];if(kn===void 0)return-1;const Pn=o.$route.matched;if(Pn.length===0)return-1;const Dn=Pn.findIndex(isSameRouteRecord$1.bind(null,kn));if(Dn>-1)return Dn;const Kn=getOriginalPath$1(An[Tn-2]);return Tn>1&&getOriginalPath$1(kn)===Kn&&Pn[Pn.length-1].path!==Kn?Pn.findIndex(isSameRouteRecord$1.bind(null,An[Tn-2])):Dn}),ln=computed$1(()=>nn.value===!0&&hn.value!==-1&&includesParams$1(o.$route.params,tn.value.params)),pn=computed$1(()=>ln.value===!0&&hn.value===o.$route.matched.length-1&&isSameRouteLocationParams$1(o.$route.params,tn.value.params)),$n=computed$1(()=>nn.value===!0?pn.value===!0?` ${r.exactActiveClass} ${r.activeClass}`:r.exact===!0?"":ln.value===!0?` ${r.activeClass}`:"":"");function Sn(An){try{return o.$router.resolve(An)}catch{}return null}function yn(An,{returnRouterError:Tn,to:kn=r.to,replace:Pn=r.replace}={}){if(r.disable===!0)return An.preventDefault(),Promise.resolve(!1);if(An.metaKey||An.altKey||An.ctrlKey||An.shiftKey||An.button!==void 0&&An.button!==0||r.target==="_blank")return Promise.resolve(!1);An.preventDefault();const Dn=o.$router[Pn===!0?"replace":"push"](kn);return Tn===!0?Dn:Dn.then(()=>{}).catch(()=>{})}function In(An){if(nn.value===!0){const Tn=kn=>yn(An,kn);a("click",An,Tn),An.defaultPrevented!==!0&&Tn()}else a("click",An)}return{hasRouterLink:nn,hasHrefLink:u,hasLink:sn,linkTag:fn,resolvedLink:tn,linkIsActive:ln,linkIsExactActive:pn,linkClass:$n,linkAttrs:dn,getLink:Sn,navigateToRouterLink:yn,navigateOnClick:In}}const btnPadding={none:0,xs:4,sm:8,md:16,lg:24,xl:32},defaultSizes={xs:8,sm:10,md:14,lg:20,xl:24},formTypes=["button","submit","reset"],mediaTypeRE=/[^\s]\/[^\s]/,btnDesignOptions=["flat","outline","push","unelevated"],getBtnDesign=(n,e)=>n.flat===!0?"flat":n.outline===!0?"outline":n.push===!0?"push":n.unelevated===!0?"unelevated":e,getBtnDesignAttr=n=>{const e=getBtnDesign(n);return e!==void 0?{[e]:!0}:{}},useBtnProps={...useSizeProps,...useRouterLinkProps,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,...btnDesignOptions.reduce((n,e)=>(n[e]=Boolean)&&n,{}),square:Boolean,round:Boolean,rounded:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...useAlignProps.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function useBtn(n){const e=useSize(n,defaultSizes),t=useAlign(n),{hasRouterLink:r,hasLink:o,linkTag:a,linkAttrs:c,navigateOnClick:u}=useRouterLink({fallbackTag:"button"}),en=computed$1(()=>{const pn=n.fab===!1&&n.fabMini===!1?e.value:{};return n.padding!==void 0?Object.assign({},pn,{padding:n.padding.split(/\s+/).map($n=>$n in btnPadding?btnPadding[$n]+"px":$n).join(" "),minWidth:"0",minHeight:"0"}):pn}),tn=computed$1(()=>n.rounded===!0||n.fab===!0||n.fabMini===!0),nn=computed$1(()=>n.disable!==!0&&n.loading!==!0),sn=computed$1(()=>nn.value===!0?n.tabindex||0:-1),fn=computed$1(()=>getBtnDesign(n,"standard")),dn=computed$1(()=>{const pn={tabindex:sn.value};return o.value===!0?Object.assign(pn,c.value):formTypes.includes(n.type)===!0&&(pn.type=n.type),a.value==="a"?(n.disable===!0?pn["aria-disabled"]="true":pn.href===void 0&&(pn.role="button"),r.value!==!0&&mediaTypeRE.test(n.type)===!0&&(pn.type=n.type)):n.disable===!0&&(pn.disabled="",pn["aria-disabled"]="true"),n.loading===!0&&n.percentage!==void 0&&Object.assign(pn,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":n.percentage}),pn}),hn=computed$1(()=>{let pn;n.color!==void 0?n.flat===!0||n.outline===!0?pn=`text-${n.textColor||n.color}`:pn=`bg-${n.color} text-${n.textColor||"white"}`:n.textColor&&(pn=`text-${n.textColor}`);const $n=n.round===!0?"round":`rectangle${tn.value===!0?" q-btn--rounded":n.square===!0?" q-btn--square":""}`;return`q-btn--${fn.value} q-btn--${$n}`+(pn!==void 0?" "+pn:"")+(nn.value===!0?" q-btn--actionable q-focusable q-hoverable":n.disable===!0?" disabled":"")+(n.fab===!0?" q-btn--fab":n.fabMini===!0?" q-btn--fab-mini":"")+(n.noCaps===!0?" q-btn--no-uppercase":"")+(n.dense===!0?" q-btn--dense":"")+(n.stretch===!0?" no-border-radius self-stretch":"")+(n.glossy===!0?" glossy":"")+(n.square?" q-btn--square":"")}),ln=computed$1(()=>t.value+(n.stack===!0?" column":" row")+(n.noWrap===!0?" no-wrap text-no-wrap":"")+(n.loading===!0?" q-btn__content--hidden":""));return{classes:hn,style:en,innerClasses:ln,attributes:dn,hasLink:o,linkTag:a,navigateOnClick:u,isActionable:nn}}const{passiveCapture}=listenOpts;let touchTarget=null,keyboardTarget=null,mouseTarget=null;var QBtn=createComponent({name:"QBtn",props:{...useBtnProps,percentage:Number,darkPercentage:Boolean,onTouchstart:[Function,Array]},emits:["click","keydown","mousedown","keyup"],setup(n,{slots:e,emit:t}){const{proxy:r}=getCurrentInstance(),{classes:o,style:a,innerClasses:c,attributes:u,hasLink:en,linkTag:tn,navigateOnClick:nn,isActionable:sn}=useBtn(n),fn=ref(null),dn=ref(null);let hn=null,ln,pn=null;const $n=computed$1(()=>n.label!==void 0&&n.label!==null&&n.label!==""),Sn=computed$1(()=>n.disable===!0||n.ripple===!1?!1:{keyCodes:en.value===!0?[13,32]:[13],...n.ripple===!0?{}:n.ripple}),yn=computed$1(()=>({center:n.round})),In=computed$1(()=>{const mn=Math.max(0,Math.min(100,n.percentage));return mn>0?{transition:"transform 0.6s",transform:`translateX(${mn-100}%)`}:{}}),An=computed$1(()=>{if(n.loading===!0)return{onMousedown:Cn,onTouchstart:Cn,onClick:Cn,onKeydown:Cn,onKeyup:Cn};if(sn.value===!0){const mn={onClick:kn,onKeydown:Pn,onMousedown:Kn};if(r.$q.platform.has.touch===!0){const _n=n.onTouchstart!==void 0?"":"Passive";mn[`onTouchstart${_n}`]=Dn}return mn}return{onClick:stopAndPrevent}}),Tn=computed$1(()=>({ref:fn,class:"q-btn q-btn-item non-selectable no-outline "+o.value,style:a.value,...u.value,...An.value}));function kn(mn){if(fn.value!==null){if(mn!==void 0){if(mn.defaultPrevented===!0)return;const _n=document.activeElement;if(n.type==="submit"&&_n!==document.body&&fn.value.contains(_n)===!1&&_n.contains(fn.value)===!1){fn.value.focus();const vn=()=>{document.removeEventListener("keydown",stopAndPrevent,!0),document.removeEventListener("keyup",vn,passiveCapture),fn.value!==null&&fn.value.removeEventListener("blur",vn,passiveCapture)};document.addEventListener("keydown",stopAndPrevent,!0),document.addEventListener("keyup",vn,passiveCapture),fn.value.addEventListener("blur",vn,passiveCapture)}}nn(mn)}}function Pn(mn){fn.value!==null&&(t("keydown",mn),isKeyCode(mn,[13,32])===!0&&keyboardTarget!==fn.value&&(keyboardTarget!==null&&jn(),mn.defaultPrevented!==!0&&(fn.value.focus(),keyboardTarget=fn.value,fn.value.classList.add("q-btn--active"),document.addEventListener("keyup",Hn,!0),fn.value.addEventListener("blur",Hn,passiveCapture)),stopAndPrevent(mn)))}function Dn(mn){fn.value!==null&&(t("touchstart",mn),mn.defaultPrevented!==!0&&(touchTarget!==fn.value&&(touchTarget!==null&&jn(),touchTarget=fn.value,hn=mn.target,hn.addEventListener("touchcancel",Hn,passiveCapture),hn.addEventListener("touchend",Hn,passiveCapture)),ln=!0,pn!==null&&clearTimeout(pn),pn=setTimeout(()=>{pn=null,ln=!1},200)))}function Kn(mn){fn.value!==null&&(mn.qSkipRipple=ln===!0,t("mousedown",mn),mn.defaultPrevented!==!0&&mouseTarget!==fn.value&&(mouseTarget!==null&&jn(),mouseTarget=fn.value,fn.value.classList.add("q-btn--active"),document.addEventListener("mouseup",Hn,passiveCapture)))}function Hn(mn){if(fn.value!==null&&!(mn!==void 0&&mn.type==="blur"&&document.activeElement===fn.value)){if(mn!==void 0&&mn.type==="keyup"){if(keyboardTarget===fn.value&&isKeyCode(mn,[13,32])===!0){const _n=new MouseEvent("click",mn);_n.qKeyEvent=!0,mn.defaultPrevented===!0&&prevent(_n),mn.cancelBubble===!0&&stop(_n),fn.value.dispatchEvent(_n),stopAndPrevent(mn),mn.qKeyEvent=!0}t("keyup",mn)}jn()}}function jn(mn){const _n=dn.value;mn!==!0&&(touchTarget===fn.value||mouseTarget===fn.value)&&_n!==null&&_n!==document.activeElement&&(_n.setAttribute("tabindex",-1),_n.focus()),touchTarget===fn.value&&(hn!==null&&(hn.removeEventListener("touchcancel",Hn,passiveCapture),hn.removeEventListener("touchend",Hn,passiveCapture)),touchTarget=hn=null),mouseTarget===fn.value&&(document.removeEventListener("mouseup",Hn,passiveCapture),mouseTarget=null),keyboardTarget===fn.value&&(document.removeEventListener("keyup",Hn,!0),fn.value!==null&&fn.value.removeEventListener("blur",Hn,passiveCapture),keyboardTarget=null),fn.value!==null&&fn.value.classList.remove("q-btn--active")}function Cn(mn){stopAndPrevent(mn),mn.qSkipRipple=!0}return onBeforeUnmount(()=>{jn(!0)}),Object.assign(r,{click:kn}),()=>{let mn=[];n.icon!==void 0&&mn.push(h$1(QIcon,{name:n.icon,left:n.stack===!1&&$n.value===!0,role:"img","aria-hidden":"true"})),$n.value===!0&&mn.push(h$1("span",{class:"block"},[n.label])),mn=hMergeSlot(e.default,mn),n.iconRight!==void 0&&n.round===!1&&mn.push(h$1(QIcon,{name:n.iconRight,right:n.stack===!1&&$n.value===!0,role:"img","aria-hidden":"true"}));const _n=[h$1("span",{class:"q-focus-helper",ref:dn})];return n.loading===!0&&n.percentage!==void 0&&_n.push(h$1("span",{class:"q-btn__progress absolute-full overflow-hidden"+(n.darkPercentage===!0?" q-btn__progress--dark":"")},[h$1("span",{class:"q-btn__progress-indicator fit block",style:In.value})])),_n.push(h$1("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+c.value},mn)),n.loading!==null&&_n.push(h$1(Transition,{name:"q-transition--fade"},()=>n.loading===!0?[h$1("span",{key:"loading",class:"absolute-full flex flex-center"},e.loading!==void 0?e.loading():[h$1(QSpinner)])]:null)),withDirectives(h$1(tn.value,Tn.value,_n),[[Ripple,Sn.value,void 0,yn.value]])}}});let portalIndex=1,target=document.body;function createGlobalNode(n,e){const t=document.createElement("div");if(t.id=e!==void 0?`q-portal--${e}--${portalIndex++}`:n,globalConfig.globalNodes!==void 0){const r=globalConfig.globalNodes.class;r!==void 0&&(t.className=r)}return target.appendChild(t),t}function removeGlobalNode(n){n.remove()}let uid=0;const defaults={},groups={},notificationsList={},positionClass={},emptyRE=/^\s*$/,notifRefs=[],positionList=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],badgePositions=["top-left","top-right","bottom-left","bottom-right"],notifTypes={positive:{icon:n=>n.iconSet.type.positive,color:"positive"},negative:{icon:n=>n.iconSet.type.negative,color:"negative"},warning:{icon:n=>n.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:n=>n.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function addNotification(n,e,t){if(!n)return logError("parameter required");let r;const o={textColor:"white"};if(n.ignoreDefaults!==!0&&Object.assign(o,defaults),isObject$c(n)===!1&&(o.type&&Object.assign(o,notifTypes[o.type]),n={message:n}),Object.assign(o,notifTypes[n.type||o.type],n),typeof o.icon=="function"&&(o.icon=o.icon(e)),o.spinner?(o.spinner===!0&&(o.spinner=QSpinner),o.spinner=markRaw(o.spinner)):o.spinner=!1,o.meta={hasMedia:Boolean(o.spinner!==!1||o.icon||o.avatar),hasText:hasContent(o.message)||hasContent(o.caption)},o.position){if(positionList.includes(o.position)===!1)return logError("wrong position",n)}else o.position="bottom";if(o.timeout===void 0)o.timeout=5e3;else{const en=parseInt(o.timeout,10);if(isNaN(en)||en<0)return logError("wrong timeout",n);o.timeout=en}o.timeout===0?o.progress=!1:o.progress===!0&&(o.meta.progressClass="q-notification__progress"+(o.progressClass?` ${o.progressClass}`:""),o.meta.progressStyle={animationDuration:`${o.timeout+1e3}ms`});const a=(Array.isArray(n.actions)===!0?n.actions:[]).concat(n.ignoreDefaults!==!0&&Array.isArray(defaults.actions)===!0?defaults.actions:[]).concat(notifTypes[n.type]!==void 0&&Array.isArray(notifTypes[n.type].actions)===!0?notifTypes[n.type].actions:[]),{closeBtn:c}=o;if(c&&a.push({label:typeof c=="string"?c:e.lang.label.close}),o.actions=a.map(({handler:en,noDismiss:tn,...nn})=>({flat:!0,...nn,onClick:typeof en=="function"?()=>{en(),tn!==!0&&u()}:()=>{u()}})),o.multiLine===void 0&&(o.multiLine=o.actions.length>1),Object.assign(o.meta,{class:`q-notification row items-stretch q-notification--${o.multiLine===!0?"multi-line":"standard"}`+(o.color!==void 0?` bg-${o.color}`:"")+(o.textColor!==void 0?` text-${o.textColor}`:"")+(o.classes!==void 0?` ${o.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(o.multiLine===!0?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(o.multiLine===!0?"":" col"),leftClass:o.meta.hasText===!0?"additional":"single",attrs:{role:"alert",...o.attrs}}),o.group===!1?(o.group=void 0,o.meta.group=void 0):((o.group===void 0||o.group===!0)&&(o.group=[o.message,o.caption,o.multiline].concat(o.actions.map(en=>`${en.label}*${en.icon}`)).join("|")),o.meta.group=o.group+"|"+o.position),o.actions.length===0?o.actions=void 0:o.meta.actionsClass="q-notification__actions row items-center "+(o.multiLine===!0?"justify-end":"col-auto")+(o.meta.hasMedia===!0?" q-notification__actions--with-media":""),t!==void 0){t.notif.meta.timer&&(clearTimeout(t.notif.meta.timer),t.notif.meta.timer=void 0),o.meta.uid=t.notif.meta.uid;const en=notificationsList[o.position].value.indexOf(t.notif);notificationsList[o.position].value[en]=o}else{const en=groups[o.meta.group];if(en===void 0){if(o.meta.uid=uid++,o.meta.badge=1,["left","right","center"].indexOf(o.position)!==-1)notificationsList[o.position].value.splice(Math.floor(notificationsList[o.position].value.length/2),0,o);else{const tn=o.position.indexOf("top")>-1?"unshift":"push";notificationsList[o.position].value[tn](o)}o.group!==void 0&&(groups[o.meta.group]=o)}else{if(en.meta.timer&&(clearTimeout(en.meta.timer),en.meta.timer=void 0),o.badgePosition!==void 0){if(badgePositions.includes(o.badgePosition)===!1)return logError("wrong badgePosition",n)}else o.badgePosition=`top-${o.position.indexOf("left")>-1?"right":"left"}`;o.meta.uid=en.meta.uid,o.meta.badge=en.meta.badge+1,o.meta.badgeClass=`q-notification__badge q-notification__badge--${o.badgePosition}`+(o.badgeColor!==void 0?` bg-${o.badgeColor}`:"")+(o.badgeTextColor!==void 0?` text-${o.badgeTextColor}`:"")+(o.badgeClass?` ${o.badgeClass}`:"");const tn=notificationsList[o.position].value.indexOf(en);notificationsList[o.position].value[tn]=groups[o.meta.group]=o}}const u=()=>{removeNotification(o),r=void 0};if(o.timeout>0&&(o.meta.timer=setTimeout(()=>{o.meta.timer=void 0,u()},o.timeout+1e3)),o.group!==void 0)return en=>{en!==void 0?logError("trying to update a grouped one which is forbidden",n):u()};if(r={dismiss:u,config:n,notif:o},t!==void 0){Object.assign(t,r);return}return en=>{if(r!==void 0)if(en===void 0)r.dismiss();else{const tn=Object.assign({},r.config,en,{group:!1,position:o.position});addNotification(tn,e,r)}}}function removeNotification(n){n.meta.timer&&(clearTimeout(n.meta.timer),n.meta.timer=void 0);const e=notificationsList[n.position].value.indexOf(n);if(e!==-1){n.group!==void 0&&delete groups[n.meta.group];const t=notifRefs[""+n.meta.uid];if(t){const{width:r,height:o}=getComputedStyle(t);t.style.left=`${t.offsetLeft}px`,t.style.width=r,t.style.height=o}notificationsList[n.position].value.splice(e,1),typeof n.onDismiss=="function"&&n.onDismiss()}}function hasContent(n){return n!=null&&emptyRE.test(n)!==!0}function logError(n,e){return console.error(`Notify: ${n}`,e),!1}function getComponent(){return createComponent({name:"QNotifications",devtools:{hide:!0},setup(){return()=>h$1("div",{class:"q-notifications"},positionList.map(n=>h$1(TransitionGroup,{key:n,class:positionClass[n],tag:"div",name:`q-notification--${n}`},()=>notificationsList[n].value.map(e=>{const t=e.meta,r=[];if(t.hasMedia===!0&&(e.spinner!==!1?r.push(h$1(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+t.leftClass,color:e.spinnerColor,size:e.spinnerSize})):e.icon?r.push(h$1(QIcon,{class:"q-notification__icon q-notification__icon--"+t.leftClass,name:e.icon,color:e.iconColor,size:e.iconSize,role:"img"})):e.avatar&&r.push(h$1(QAvatar,{class:"q-notification__avatar q-notification__avatar--"+t.leftClass},()=>h$1("img",{src:e.avatar,"aria-hidden":"true"})))),t.hasText===!0){let a;const c={class:"q-notification__message col"};if(e.html===!0)c.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const u=[e.message];a=e.caption?[h$1("div",u),h$1("div",{class:"q-notification__caption"},[e.caption])]:u}r.push(h$1("div",c,a))}const o=[h$1("div",{class:t.contentClass},r)];return e.progress===!0&&o.push(h$1("div",{key:`${t.uid}|p|${t.badge}`,class:t.progressClass,style:t.progressStyle})),e.actions!==void 0&&o.push(h$1("div",{class:t.actionsClass},e.actions.map(a=>h$1(QBtn,a)))),t.badge>1&&o.push(h$1("div",{key:`${t.uid}|${t.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[t.badge])),h$1("div",{ref:a=>{notifRefs[""+t.uid]=a},key:t.uid,class:t.class,...t.attrs},[h$1("div",{class:t.wrapperClass},o)])}))))}})}var Notify={setDefaults(n){isObject$c(n)===!0&&Object.assign(defaults,n)},registerType(n,e){isObject$c(e)===!0&&(notifTypes[n]=e)},install({$q:n,parentApp:e}){if(n.notify=this.create=t=>addNotification(t,n),n.notify.setDefaults=this.setDefaults,n.notify.registerType=this.registerType,n.config.notify!==void 0&&this.setDefaults(n.config.notify),this.__installed!==!0){positionList.forEach(r=>{notificationsList[r]=ref([]);const o=["left","center","right"].includes(r)===!0?"center":r.indexOf("top")>-1?"top":"bottom",a=r.indexOf("left")>-1?"start":r.indexOf("right")>-1?"end":"center",c=["left","right"].includes(r)?`items-${r==="left"?"start":"end"} justify-center`:r==="center"?"flex-center":`items-${a}`;positionClass[r]=`q-notifications__list q-notifications__list--${o} fixed column no-wrap ${c}`});const t=createGlobalNode("q-notify");createChildApp(getComponent(),e).mount(t)}}};function calcAmountToTransfer(n,e){return new BN(n*10**e)}var dist={},atlasStaking={},instruction_builders$1={},baseParams={};Object.defineProperty(baseParams,"__esModule",{value:!0});var cancelUnstake={},utils$1={},getStakingProgram$1={};class StructError$1 extends TypeError{constructor(e,t){let r;const{message:o,...a}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var en;return(en=r)!=null?en:r=[e,...t()]}}}function isIterable$1(n){return isObject$3(n)&&typeof n[Symbol.iterator]=="function"}function isObject$3(n){return typeof n=="object"&&n!=null}function print$1(n){return typeof n=="string"?JSON.stringify(n):""+n}function shiftIterator$1(n){const{done:e,value:t}=n.next();return e?void 0:t}function toFailure$1(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:a}=e,{type:c}=t,{refinement:u,message:en="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+print$1(r)+"`"}=n;return{value:r,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...n,message:en}}function*toFailures$1(n,e,t,r){isIterable$1(n)||(n=[n]);for(const o of n){const a=toFailure$1(o,e,t,r);a&&(yield a)}}function*run$2(n,e,t={}){const{path:r=[],branch:o=[n],coerce:a=!1,mask:c=!1}=t,u={path:r,branch:o};if(a&&(n=e.coercer(n,u),c&&e.type!=="type"&&isObject$3(e.schema)&&isObject$3(n)&&!Array.isArray(n)))for(const tn in n)e.schema[tn]===void 0&&delete n[tn];let en=!0;for(const tn of e.validator(n,u))en=!1,yield[tn,void 0];for(let[tn,nn,sn]of e.entries(n,u)){const fn=run$2(nn,sn,{path:tn===void 0?r:[...r,tn],branch:tn===void 0?o:[...o,nn],coerce:a,mask:c});for(const dn of fn)dn[0]?(en=!1,yield[dn[0],void 0]):a&&(nn=dn[1],tn===void 0?n=nn:n instanceof Map?n.set(tn,nn):n instanceof Set?n.add(nn):isObject$3(n)&&(n[tn]=nn))}if(en)for(const tn of e.refiner(n,u))en=!1,yield[tn,void 0];en&&(yield[void 0,n])}class Struct$4{constructor(e){const{type:t,schema:r,validator:o,refiner:a,coercer:c=en=>en,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,o?this.validator=(en,tn)=>{const nn=o(en,tn);return toFailures$1(nn,tn,this,en)}:this.validator=()=>[],a?this.refiner=(en,tn)=>{const nn=a(en,tn);return toFailures$1(nn,tn,this,en)}:this.refiner=()=>[]}assert(e){return assert$5(e,this)}create(e){return create$1(e,this)}is(e){return is$1(e,this)}mask(e){return mask$1(e,this)}validate(e,t={}){return validate$1(e,this,t)}}function assert$5(n,e){const t=validate$1(n,e);if(t[0])throw t[0]}function create$1(n,e){const t=validate$1(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function mask$1(n,e){const t=validate$1(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function is$1(n,e){return!validate$1(n,e)[0]}function validate$1(n,e,t={}){const r=run$2(n,e,t),o=shiftIterator$1(r);if(o[0])return[new StructError$1(o[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define$1(n,e){return new Struct$4({type:n,schema:null,validator:e})}function any$1(){return define$1("any",()=>!0)}function array$1(n){return new Struct$4({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print$1(e)}})}function boolean$1(){return define$1("boolean",n=>typeof n=="boolean")}function instance$1(n){return define$1("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+print$1(e))}function literal$1(n){const e=print$1(n),t=typeof n;return new Struct$4({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+print$1(r)}})}function never$1(){return define$1("never",()=>!1)}function nullable$1(n){return new Struct$4({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function number$1(){return define$1("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+print$1(n))}function optional$1(n){return new Struct$4({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function record$1(n,e){return new Struct$4({type:"record",schema:null,*entries(t){if(isObject$3(t))for(const r in t){const o=t[r];yield[r,r,n],yield[r,o,e]}},validator(t){return isObject$3(t)||"Expected an object, but received: "+print$1(t)}})}function string$1(){return define$1("string",n=>typeof n=="string"||"Expected a string, but received: "+print$1(n))}function tuple$1(n){const e=never$1();return new Struct$4({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let o=0;o<r;o++)yield[o,t[o],n[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+print$1(t)}})}function type$1(n){const e=Object.keys(n);return new Struct$4({type:"type",schema:n,*entries(t){if(isObject$3(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return isObject$3(t)||"Expected an object, but received: "+print$1(t)}})}function union$1(n){const e=n.map(t=>t.type).join(" | ");return new Struct$4({type:"union",schema:null,validator(t,r){const o=[];for(const a of n){const[...c]=run$2(t,a,r),[u]=c;if(u[0])for(const[en]of c)en&&o.push(en);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print$1(t),...o]}})}function unknown$1(){return define$1("unknown",()=>!0)}function coerce$1(n,e,t){return new Struct$4({...n,coercer:(r,o)=>is$1(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}const uuid$3=require$$0$5.v4,generateRequest$3=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const a={method:n};if(o===2&&(a.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");a.params=e}if(typeof t>"u"){const c=typeof r.generator=="function"?r.generator:function(){return uuid$3()};a.id=c(a,r)}else o===2&&t===null?r.notificationIdNull&&(a.id=null):a.id=t;return a};var generateRequest_1$1=generateRequest$3;const uuid$2=require$$0$5.v4,generateRequest$2=generateRequest_1$1,ClientBrowser$1=function(n,e){if(!(this instanceof ClientBrowser$1))return new ClientBrowser$1(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid$2()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var browser$2=ClientBrowser$1;ClientBrowser$1.prototype.request=function(n,e,t,r){const o=this;let a=null;const c=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&n&&typeof n=="object"&&typeof e=="function")r=e,a=n;else{typeof t=="function"&&(r=t,t=void 0);const tn=typeof r=="function";try{a=generateRequest$2(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(nn){if(tn)return r(nn);throw nn}if(!tn)return a}let en;try{en=JSON.stringify(a,this.options.replacer)}catch(tn){return r(tn)}return this.callServer(en,function(tn,nn){o._parseResponse(tn,nn,r)}),a};ClientBrowser$1.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(r)){const o=function(c){return typeof c.error<"u"},a=function(c){return!o(c)};return t(null,r.filter(o),r.filter(a))}else return t(null,r.error,r.result);t(null,r)};var client$1={};(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(regenerator),r=e(asyncToGenerator.exports),o=e(_typeof$5.exports),a=e(classCallCheck.exports),c=e(createClass.exports),u=e(inherits$2.exports),en=e(possibleConstructorReturn.exports),tn=e(getPrototypeOf$1.exports),nn=eventemitter3.exports;function sn(ln){var pn=fn();return function(){var Sn=(0,tn.default)(ln),yn;if(pn){var In=(0,tn.default)(this).constructor;yn=Reflect.construct(Sn,arguments,In)}else yn=Sn.apply(this,arguments);return(0,en.default)(this,yn)}}function fn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var dn=function(ln,pn){var $n={};for(var Sn in ln)Object.prototype.hasOwnProperty.call(ln,Sn)&&pn.indexOf(Sn)<0&&($n[Sn]=ln[Sn]);if(ln!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yn=0,Sn=Object.getOwnPropertySymbols(ln);yn<Sn.length;yn++)pn.indexOf(Sn[yn])<0&&Object.prototype.propertyIsEnumerable.call(ln,Sn[yn])&&($n[Sn[yn]]=ln[Sn[yn]]);return $n},hn=function(ln){(0,u.default)($n,ln);var pn=sn($n);function $n(Sn){var yn,In=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",An=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Tn=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,$n);var kn=An.autoconnect,Pn=kn===void 0?!0:kn,Dn=An.reconnect,Kn=Dn===void 0?!0:Dn,Hn=An.reconnect_interval,jn=Hn===void 0?1e3:Hn,Cn=An.max_reconnects,mn=Cn===void 0?5:Cn,_n=dn(An,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return yn=pn.call(this),yn.webSocketFactory=Sn,yn.queue={},yn.rpc_id=0,yn.address=In,yn.autoconnect=Pn,yn.ready=!1,yn.reconnect=Kn,yn.reconnect_timer_id=void 0,yn.reconnect_interval=jn,yn.max_reconnects=mn,yn.rest_options=_n,yn.current_reconnects=0,yn.generate_request_id=Tn||function(){return++yn.rpc_id},yn.autoconnect&&yn._connect(yn.address,Object.assign({autoconnect:yn.autoconnect,reconnect:yn.reconnect,reconnect_interval:yn.reconnect_interval,max_reconnects:yn.max_reconnects},yn.rest_options)),yn}return(0,c.default)($n,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(yn,In,An,Tn){var kn=this;return!Tn&&(0,o.default)(An)==="object"&&(Tn=An,An=null),new Promise(function(Pn,Dn){if(!kn.ready)return Dn(new Error("socket not ready"));var Kn=kn.generate_request_id(yn,In),Hn={jsonrpc:"2.0",method:yn,params:In||null,id:Kn};kn.socket.send(JSON.stringify(Hn),Tn,function(jn){if(jn)return Dn(jn);kn.queue[Kn]={promise:[Pn,Dn]},An&&(kn.queue[Kn].timeout=setTimeout(function(){delete kn.queue[Kn],Dn(new Error("reply timeout"))},An))})})}},{key:"login",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.next=2,this.call("rpc.login",An);case 2:if(Tn=Pn.sent,Tn){Pn.next=5;break}throw new Error("authentication failed");case 5:return Pn.abrupt("return",Tn);case 6:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"listMethods",value:function(){var Sn=(0,r.default)(t.default.mark(function In(){return t.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:return Tn.next=2,this.call("__listMethods");case 2:return Tn.abrupt("return",Tn.sent);case 3:case"end":return Tn.stop()}},In,this)}));function yn(){return Sn.apply(this,arguments)}return yn}()},{key:"notify",value:function(yn,In){var An=this;return new Promise(function(Tn,kn){if(!An.ready)return kn(new Error("socket not ready"));var Pn={jsonrpc:"2.0",method:yn,params:In||null};An.socket.send(JSON.stringify(Pn),function(Dn){if(Dn)return kn(Dn);Tn()})})}},{key:"subscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.on",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed subscribing to an event '"+An+"' with: "+Tn[An]);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"unsubscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.off",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Tn);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"close",value:function(yn,In){this.socket.close(yn||1e3,In)}},{key:"_connect",value:function(yn,In){var An=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(yn,In),this.socket.addEventListener("open",function(){An.ready=!0,An.emit("open"),An.current_reconnects=0}),this.socket.addEventListener("message",function(Tn){var kn=Tn.data;kn instanceof ArrayBuffer&&(kn=dist$3.Buffer.from(kn).toString());try{kn=JSON.parse(kn)}catch{return}if(kn.notification&&An.listeners(kn.notification).length){if(!Object.keys(kn.params).length)return An.emit(kn.notification);var Pn=[kn.notification];if(kn.params.constructor===Object)Pn.push(kn.params);else for(var Dn=0;Dn<kn.params.length;Dn++)Pn.push(kn.params[Dn]);return Promise.resolve().then(function(){An.emit.apply(An,Pn)})}if(!An.queue[kn.id])return kn.method&&kn.params?Promise.resolve().then(function(){An.emit(kn.method,kn.params)}):void 0;"error"in kn=="result"in kn&&An.queue[kn.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),An.queue[kn.id].timeout&&clearTimeout(An.queue[kn.id].timeout),kn.error?An.queue[kn.id].promise[1](kn.error):An.queue[kn.id].promise[0](kn.result),delete An.queue[kn.id]}),this.socket.addEventListener("error",function(Tn){return An.emit("error",Tn)}),this.socket.addEventListener("close",function(Tn){var kn=Tn.code,Pn=Tn.reason;An.ready&&setTimeout(function(){return An.emit("close",kn,Pn)},0),An.ready=!1,An.socket=void 0,kn!==1e3&&(An.current_reconnects++,An.reconnect&&(An.max_reconnects>An.current_reconnects||An.max_reconnects===0)&&(An.reconnect_timer_id=setTimeout(function(){return An._connect(yn,In)},An.reconnect_interval)))})}}]),$n}(nn.EventEmitter);n.default=hn})(client$1);var RpcWebSocketCommonClient$1=getDefaultExportFromCjs$5(client$1),websocket_browser$1={};(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=sn;var t=e(classCallCheck.exports),r=e(createClass.exports),o=e(inherits$2.exports),a=e(possibleConstructorReturn.exports),c=e(getPrototypeOf$1.exports),u=eventemitter3.exports;function en(fn){var dn=tn();return function(){var ln=(0,c.default)(fn),pn;if(dn){var $n=(0,c.default)(this).constructor;pn=Reflect.construct(ln,arguments,$n)}else pn=ln.apply(this,arguments);return(0,a.default)(this,pn)}}function tn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var nn=function(fn){(0,o.default)(hn,fn);var dn=en(hn);function hn(ln,pn,$n){var Sn;return(0,t.default)(this,hn),Sn=dn.call(this),Sn.socket=new window.WebSocket(ln,$n),Sn.socket.onopen=function(){return Sn.emit("open")},Sn.socket.onmessage=function(yn){return Sn.emit("message",yn.data)},Sn.socket.onerror=function(yn){return Sn.emit("error",yn)},Sn.socket.onclose=function(yn){Sn.emit("close",yn.code,yn.reason)},Sn}return(0,r.default)(hn,[{key:"send",value:function(pn,$n,Sn){var yn=Sn||$n;try{this.socket.send(pn),yn()}catch(In){yn(In)}}},{key:"close",value:function(pn,$n){this.socket.close(pn,$n)}},{key:"addEventListener",value:function(pn,$n,Sn){this.socket.addEventListener(pn,$n,Sn)}}]),hn}(u.EventEmitter);function sn(fn,dn){return new nn(fn,dn)}})(websocket_browser$1);var createRpc$1=getDefaultExportFromCjs$5(websocket_browser$1);const generatePrivateKey$1=ed25519$1.utils.randomPrivateKey,generateKeypair$2=()=>{const n=ed25519$1.utils.randomPrivateKey(),e=getPublicKey$2(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},getPublicKey$2=ed25519$1.getPublicKey;function isOnCurve$2(n){try{return ed25519$1.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sign$2=(n,e)=>ed25519$1.sign(n,e.slice(0,32)),verify$2=ed25519$1.verify,toBuffer$2=n=>bufferPolyfill.Buffer.isBuffer(n)?n:n instanceof Uint8Array?bufferPolyfill.Buffer.from(n.buffer,n.byteOffset,n.byteLength):bufferPolyfill.Buffer.from(n);class Struct$3{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$2,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$2,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$2,this,e)}}class Enum$1 extends Struct$3{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const SOLANA_SCHEMA$2=new Map;var _class$2;let _Symbol$toStringTag$4;const MAX_SEED_LENGTH$2=32,PUBLIC_KEY_LENGTH$2=32;function isPublicKeyData$2(n){return n._bn!==void 0}let uniquePublicKeyCounter$2=1;_Symbol$toStringTag$4=Symbol.toStringTag;class PublicKey$2 extends Struct$3{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$2(e))this._bn=e._bn;else{if(typeof e=="string"){const t=bs58$3.decode(e);if(t.length!=PUBLIC_KEY_LENGTH$2)throw new Error("Invalid public key input");this._bn=new BN(t)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$2)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$2(uniquePublicKeyCounter$2);return uniquePublicKeyCounter$2+=1,new PublicKey$2(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$2)return e;const t=bufferPolyfill.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[_Symbol$toStringTag$4](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(t),r.toBuffer()]),a=sha256$2(o);return new PublicKey$2(a)}static createProgramAddressSync(e,t){let r=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$2)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,toBuffer$2(a)])}),r=bufferPolyfill.Buffer.concat([r,t.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$2(r);if(isOnCurve$2(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$2(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([r]));o=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new PublicKey$2(e);return isOnCurve$2(t.toBytes())}}_class$2=PublicKey$2;PublicKey$2.default=new _class$2("11111111111111111111111111111111");SOLANA_SCHEMA$2.set(PublicKey$2,{kind:"struct",fields:[["_bn","u256"]]});class Account$1{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=toBuffer$2(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=toBuffer$2(generatePrivateKey$1()),this._publicKey=toBuffer$2(getPublicKey$2(this._secretKey))}get publicKey(){return new PublicKey$2(this._publicKey)}get secretKey(){return bufferPolyfill.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID$1=new PublicKey$2("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE$2=1280-40-8,VERSION_PREFIX_MASK$2=127,SIGNATURE_LENGTH_IN_BYTES$2=64;class TransactionExpiredBlockheightExceededError$1 extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError$1.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError$1 extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError$1.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError$1 extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError$1.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys$2{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((a,c)=>{r.set(a.toBase58(),c)});const o=a=>{const c=r.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$3=(n="publicKey")=>blob$2(32,n),signature$1=(n="signature")=>blob$2(64,n),rustString$2=(n="string")=>{const e=struct$3([u32$3("length"),u32$3("lengthPadding"),blob$2(offset$1(u32$3(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(a,c)=>t(a,c).chars.toString(),o.encode=(a,c,u)=>{const en={chars:bufferPolyfill.Buffer.from(a,"utf8")};return r(en,c,u)},o.alloc=a=>u32$3().span+u32$3().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$2=(n="authorized")=>struct$3([publicKey$3("staker"),publicKey$3("withdrawer")],n),lockup$2=(n="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$3("custodian")],n),voteInit$2=(n="voteInit")=>struct$3([publicKey$3("nodePubkey"),publicKey$3("authorizedVoter"),publicKey$3("authorizedWithdrawer"),u8$2("commission")],n),voteAuthorizeWithSeedArgs$2=(n="voteAuthorizeWithSeedArgs")=>struct$3([u32$3("voteAuthorizationType"),publicKey$3("currentAuthorityDerivedKeyOwnerPubkey"),rustString$2("currentAuthorityDerivedKeySeed"),publicKey$3("newAuthorized")],n);function getAlloc$2(n,e){const t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*t(o.elementLayout)}else if("fields"in o)return getAlloc$2({layout:o},e[o.property]);return 0};let r=0;return n.layout.fields.forEach(o=>{r+=t(o)}),r}function decodeLength$2(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function encodeLength$2(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function assert$4(n,e){if(!n)throw new Error(e||"Assertion failed")}class CompiledKeys$2{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,o=c=>{const u=c.toBase58();let en=r.get(u);return en===void 0&&(en={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,en)),en},a=o(t);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const en=o(u.pubkey);en.isSigner||=u.isSigner,en.isWritable||=u.isWritable}}return new CompiledKeys$2(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$4(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,en])=>en.isSigner&&en.isWritable),r=e.filter(([,en])=>en.isSigner&&!en.isWritable),o=e.filter(([,en])=>!en.isSigner&&en.isWritable),a=e.filter(([,en])=>!en.isSigner&&!en.isWritable),c={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};{assert$4(t.length>0,"Expected at least one writable signer key");const[en]=t[0];assert$4(en===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([en])=>new PublicKey$2(en)),...r.map(([en])=>new PublicKey$2(en)),...o.map(([en])=>new PublicKey$2(en)),...a.map(([en])=>new PublicKey$2(en))];return[c,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:a}]}drainKeysFoundInLookupTable(e,t){const r=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(t(c)){const u=new PublicKey$2(a),en=e.findIndex(tn=>tn.equals(u));en>=0&&(assert$4(en<256,"Max lookup table index exceeded"),r.push(en),o.push(u),this.keyMetaMap.delete(a))}return[r,o]}}class Message$2{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new PublicKey$2(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys$2(this.staticAccountKeys)}static compile(e){const t=CompiledKeys$2.compile(e.instructions,e.payerKey),[r,o]=t.getMessageComponents(),c=new MessageAccountKeys$2(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message$2({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<a}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];encodeLength$2(t,e);const r=this.instructions.map(sn=>{const{accounts:fn,programIdIndex:dn}=sn,hn=Array.from(bs58$3.decode(sn.data));let ln=[];encodeLength$2(ln,fn.length);let pn=[];return encodeLength$2(pn,hn.length),{programIdIndex:dn,keyIndicesCount:bufferPolyfill.Buffer.from(ln),keyIndices:fn,dataLength:bufferPolyfill.Buffer.from(pn),data:hn}});let o=[];encodeLength$2(o,r.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE$2);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;r.forEach(sn=>{c+=struct$3([u8$2("programIdIndex"),blob$2(sn.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),sn.keyIndices.length,"keyIndices"),blob$2(sn.dataLength.length,"dataLength"),seq(u8$2("userdatum"),sn.data.length,"data")]).encode(sn,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(t.length,"keyCount"),seq(publicKey$3("key"),e,"keys"),publicKey$3("recentBlockhash")]),en={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(t),keys:this.accountKeys.map(sn=>toBuffer$2(sn.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let tn=bufferPolyfill.Buffer.alloc(2048);const nn=u.encode(en,tn);return a.copy(tn,nn),tn.slice(0,nn+a.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&VERSION_PREFIX_MASK$2))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=t.shift(),a=t.shift(),c=decodeLength$2(t);let u=[];for(let fn=0;fn<c;fn++){const dn=t.slice(0,PUBLIC_KEY_LENGTH$2);t=t.slice(PUBLIC_KEY_LENGTH$2),u.push(new PublicKey$2(bufferPolyfill.Buffer.from(dn)))}const en=t.slice(0,PUBLIC_KEY_LENGTH$2);t=t.slice(PUBLIC_KEY_LENGTH$2);const tn=decodeLength$2(t);let nn=[];for(let fn=0;fn<tn;fn++){const dn=t.shift(),hn=decodeLength$2(t),ln=t.slice(0,hn);t=t.slice(hn);const pn=decodeLength$2(t),$n=t.slice(0,pn),Sn=bs58$3.encode(bufferPolyfill.Buffer.from($n));t=t.slice(pn),nn.push({programIdIndex:dn,accounts:ln,data:Sn})}const sn={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(en)),accountKeys:u,instructions:nn};return new Message$2(sn)}}class MessageV0$1{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys$2(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const o=e-r,a=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<a}else if(e>=this.header.numRequiredSignatures){const o=e-t,c=r-t-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=e.find(a=>a.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const a of r.writableIndexes)if(a<o.state.addresses.length)t.writable.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`);for(const a of r.readonlyIndexes)if(a<o.state.addresses.length)t.readonly.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=CompiledKeys$2.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const nn of a){const sn=t.extractTableLookup(nn);if(sn!==void 0){const[fn,{writable:dn,readonly:hn}]=sn;r.push(fn),o.writable.push(...dn),o.readonly.push(...hn)}}const[c,u]=t.getMessageComponents(),tn=new MessageAccountKeys$2(u,o).compileInstructions(e.instructions);return new MessageV0$1({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:tn,addressTableLookups:r})}serialize(){const e=Array();encodeLength$2(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();encodeLength$2(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),a=Array();encodeLength$2(a,this.addressTableLookups.length);const c=struct$3([u8$2("prefix"),struct$3([u8$2("numRequiredSignatures"),u8$2("numReadonlySignedAccounts"),u8$2("numReadonlyUnsignedAccounts")],"header"),blob$2(e.length,"staticAccountKeysLength"),seq(publicKey$3(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$3("recentBlockhash"),blob$2(r.length,"instructionsLength"),blob$2(t.length,"serializedInstructions"),blob$2(a.length,"addressTableLookupsLength"),blob$2(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(PACKET_DATA_SIZE$2),en=1<<7,tn=c.encode({prefix:en,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(nn=>nn.toBytes()),recentBlockhash:bs58$3.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:o},u);return u.slice(0,tn)}serializeInstructions(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$2);for(const r of this.compiledInstructions){const o=Array();encodeLength$2(o,r.accountKeyIndexes.length);const a=Array();encodeLength$2(a,r.data.length),e+=struct$3([u8$2("programIdIndex"),blob$2(o.length,"encodedAccountKeyIndexesLength"),seq(u8$2(),r.accountKeyIndexes.length,"accountKeyIndexes"),blob$2(a.length,"encodedDataLength"),blob$2(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$2);for(const r of this.addressTableLookups){const o=Array();encodeLength$2(o,r.writableIndexes.length);const a=Array();encodeLength$2(a,r.readonlyIndexes.length),e+=struct$3([publicKey$3("accountKey"),blob$2(o.length,"encodedWritableIndexesLength"),seq(u8$2(),r.writableIndexes.length,"writableIndexes"),blob$2(a.length,"encodedReadonlyIndexesLength"),seq(u8$2(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),o=r&VERSION_PREFIX_MASK$2;assert$4(r!==o,"Expected versioned message but received legacy message");const a=o;assert$4(a===0,`Expected versioned message with version 0 but found version ${a}`);const c={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},u=[],en=decodeLength$2(t);for(let hn=0;hn<en;hn++)u.push(new PublicKey$2(t.splice(0,PUBLIC_KEY_LENGTH$2)));const tn=bs58$3.encode(t.splice(0,PUBLIC_KEY_LENGTH$2)),nn=decodeLength$2(t),sn=[];for(let hn=0;hn<nn;hn++){const ln=t.shift(),pn=decodeLength$2(t),$n=t.splice(0,pn),Sn=decodeLength$2(t),yn=new Uint8Array(t.splice(0,Sn));sn.push({programIdIndex:ln,accountKeyIndexes:$n,data:yn})}const fn=decodeLength$2(t),dn=[];for(let hn=0;hn<fn;hn++){const ln=new PublicKey$2(t.splice(0,PUBLIC_KEY_LENGTH$2)),pn=decodeLength$2(t),$n=t.splice(0,pn),Sn=decodeLength$2(t),yn=t.splice(0,Sn);dn.push({accountKey:ln,writableIndexes:$n,readonlyIndexes:yn})}return new MessageV0$1({header:c,staticAccountKeys:u,recentBlockhash:tn,compiledInstructions:sn,addressTableLookups:dn})}}const VersionedMessage$1={deserializeMessageVersion(n){const e=n[0],t=e&VERSION_PREFIX_MASK$2;return t===e?"legacy":t},deserialize:n=>{const e=VersionedMessage$1.deserializeMessageVersion(n);if(e==="legacy")return Message$2.from(n);if(e===0)return MessageV0$1.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus$1=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const DEFAULT_SIGNATURE$2=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$2).fill(0);class TransactionInstruction$2{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$2{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction$2(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let ln=0;ln<t.length;ln++)if(t[ln].programId===void 0)throw new Error(`Transaction instruction index ${ln} has undefined program id`);const o=[],a=[];t.forEach(ln=>{ln.keys.forEach($n=>{a.push({...$n})});const pn=ln.programId.toString();o.includes(pn)||o.push(pn)}),o.forEach(ln=>{a.push({pubkey:new PublicKey$2(ln),isSigner:!1,isWritable:!1})});const c=[];a.forEach(ln=>{const pn=ln.pubkey.toString(),$n=c.findIndex(Sn=>Sn.pubkey.toString()===pn);$n>-1?(c[$n].isWritable=c[$n].isWritable||ln.isWritable,c[$n].isSigner=c[$n].isSigner||ln.isSigner):c.push(ln)}),c.sort(function(ln,pn){if(ln.isSigner!==pn.isSigner)return ln.isSigner?-1:1;if(ln.isWritable!==pn.isWritable)return ln.isWritable?-1:1;const $n={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return ln.pubkey.toBase58().localeCompare(pn.pubkey.toBase58(),"en",$n)});const u=c.findIndex(ln=>ln.pubkey.equals(r));if(u>-1){const[ln]=c.splice(u,1);ln.isSigner=!0,ln.isWritable=!0,c.unshift(ln)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const ln of this.signatures){const pn=c.findIndex($n=>$n.pubkey.equals(ln.publicKey));if(pn>-1)c[pn].isSigner||(c[pn].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${ln.publicKey.toString()}`)}let en=0,tn=0,nn=0;const sn=[],fn=[];c.forEach(({pubkey:ln,isSigner:pn,isWritable:$n})=>{pn?(sn.push(ln.toString()),en+=1,$n||(tn+=1)):(fn.push(ln.toString()),$n||(nn+=1))});const dn=sn.concat(fn),hn=t.map(ln=>{const{data:pn,programId:$n}=ln;return{programIdIndex:dn.indexOf($n.toString()),accounts:ln.keys.map(Sn=>dn.indexOf(Sn.pubkey.toString())),data:bs58$3.encode(pn)}});return hn.forEach(ln=>{assert$4(ln.programIdIndex>=0),ln.accounts.forEach(pn=>assert$4(pn>=0))}),new Message$2({header:{numRequiredSignatures:en,numReadonlySignedAccounts:tn,numReadonlyUnsignedAccounts:nn},accountKeys:dn,recentBlockhash:e,instructions:hn})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,a)=>t[a].equals(o.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const o=r.toString();return t.has(o)?!1:(t.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}this.signatures=r.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(o=>{const a=sign$2(r,o.secretKey);this._addSignature(o.publicKey,toBuffer$2(a))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){assert$4(t.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bufferPolyfill.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:o}of this.signatures)if(r===null){if(t)return!1}else if(!verify$2(r,e,o.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:t}=this,r=[];encodeLength$2(r,t.length);const o=r.length+t.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$4(t.length<256),bufferPolyfill.Buffer.from(r).copy(a,0),t.forEach(({signature:c},u)=>{c!==null&&(assert$4(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,r.length+u*64))}),e.copy(a,r.length+t.length*64),assert$4(a.length<=PACKET_DATA_SIZE$2,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE$2}`),a}get keys(){return assert$4(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$4(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$4(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=decodeLength$2(t);let o=[];for(let a=0;a<r;a++){const c=t.slice(0,SIGNATURE_LENGTH_IN_BYTES$2);t=t.slice(SIGNATURE_LENGTH_IN_BYTES$2),o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction$2.populate(Message$2.from(t),o)}static populate(e,t=[]){const r=new Transaction$2;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE$2)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};r.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:r.signatures.some(en=>en.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});r.instructions.push(new TransactionInstruction$2({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}class TransactionMessage$1{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:o,recentBlockhash:a}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:en}=r,tn=c-u;assert$4(tn>0,"Message header is invalid");const nn=e.staticAccountKeys.length-c-en;assert$4(nn>=0,"Message header is invalid");const sn=e.getAccountKeys(t),fn=sn.get(0);if(fn===void 0)throw new Error("Failed to decompile message because no account keys were found");const dn=[];for(const hn of o){const ln=[];for(const $n of hn.accountKeyIndexes){const Sn=sn.get($n);if(Sn===void 0)throw new Error(`Failed to find key for account key index ${$n}`);const yn=$n<c;let In;yn?In=$n<tn:$n<sn.staticAccountKeys.length?In=$n-c<nn:In=$n-sn.staticAccountKeys.length<sn.accountKeysFromLookups.writable.length,ln.push({pubkey:Sn,isSigner:$n<r.numRequiredSignatures,isWritable:In})}const pn=sn.get(hn.programIdIndex);if(pn===void 0)throw new Error(`Failed to find program id for program id index ${hn.programIdIndex}`);dn.push(new TransactionInstruction$2({programId:pn,data:toBuffer$2(hn.data),keys:ln}))}return new TransactionMessage$1({payerKey:fn,instructions:dn,recentBlockhash:a})}compileToLegacyMessage(){return Message$2.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0$1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction$1{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)assert$4(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES$2));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();encodeLength$2(t,this.signatures.length);const r=struct$3([blob$2(t.length,"encodedSignaturesLength"),seq(signature$1(),this.signatures.length,"signatures"),blob$2(e.length,"serializedMessage")]),o=new Uint8Array(2048),a=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,a)}static deserialize(e){let t=[...e];const r=[],o=decodeLength$2(t);for(let c=0;c<o;c++)r.push(new Uint8Array(t.splice(0,SIGNATURE_LENGTH_IN_BYTES$2)));const a=VersionedMessage$1.deserialize(new Uint8Array(t));return new VersionedTransaction$1(a,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const a=r.findIndex(c=>c.equals(o.publicKey));assert$4(a>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[a]=sign$2(t,o.secretKey)}}addSignature(e,t){assert$4(t.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));assert$4(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}}const NUM_TICKS_PER_SECOND$1=160,DEFAULT_TICKS_PER_SLOT$1=64,NUM_SLOTS_PER_SECOND$1=NUM_TICKS_PER_SECOND$1/DEFAULT_TICKS_PER_SLOT$1,MS_PER_SLOT$1=1e3/NUM_SLOTS_PER_SECOND$1,SYSVAR_CLOCK_PUBKEY$1=new PublicKey$2("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY$1=new PublicKey$2("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY$1=new PublicKey$2("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY$2=new PublicKey$2("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY$2=new PublicKey$2("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY$1=new PublicKey$2("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY$1=new PublicKey$2("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY$1=new PublicKey$2("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY$1=new PublicKey$2("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$4(n,e,t,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},a=await n.sendTransaction(e,t,o);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,en=u.keys[0].pubkey;c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:en,nonceValue:e.nonceInfo.nonce,signature:a},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await n.confirmTransaction(a,r&&r.commitment)).value;if(c.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(c)})`);return a}function sleep$1(n){return new Promise(e=>setTimeout(e,n))}function encodeData$2(n,e){const t=n.layout.span>=0?n.layout.span:getAlloc$2(n,e),r=bufferPolyfill.Buffer.alloc(t),o=Object.assign({instruction:n.index},e);return n.layout.encode(o,r),r}function decodeData$1$1(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const FeeCalculatorLayout$2=nu64$1("lamportsPerSignature"),NonceAccountLayout$2=struct$3([u32$3("version"),u32$3("state"),publicKey$3("authorizedPubkey"),publicKey$3("nonce"),struct$3([FeeCalculatorLayout$2],"feeCalculator")]),NONCE_ACCOUNT_LENGTH$2=NonceAccountLayout$2.span;class NonceAccount$1{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=NonceAccountLayout$2.decode(toBuffer$2(e),0);return new NonceAccount$1({authorizedPubkey:new PublicKey$2(t.authorizedPubkey),nonce:new PublicKey$2(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const encodeDecode$2=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bigInt$2=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode$2(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferLE_1(c,n);return r(tn,u,en)},a},u64$3=bigInt$2(8);class SystemInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS$2))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:o}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new PublicKey$2(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:o}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new PublicKey$2(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:o,programId:a}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$2(t),seed:r,space:o,programId:new PublicKey$2(a)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey$2(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:o}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$2(t),seed:r,programId:new PublicKey$2(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:o,space:a,programId:c}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey$2(t),seed:r,lamports:o,space:a,programId:new PublicKey$2(c)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey$2(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=decodeData$1$1(SYSTEM_INSTRUCTION_LAYOUTS$2.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey$2(t)}}static checkProgramId(e){if(!e.equals(SystemProgram$2.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const SYSTEM_INSTRUCTION_LAYOUTS$2=Object.freeze({Create:{index:0,layout:struct$3([u32$3("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$3("programId")])},Assign:{index:1,layout:struct$3([u32$3("instruction"),publicKey$3("programId")])},Transfer:{index:2,layout:struct$3([u32$3("instruction"),u64$3("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$3("instruction"),publicKey$3("base"),rustString$2("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$3("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$3("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$3("instruction"),publicKey$3("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$3("instruction"),publicKey$3("authorized")])},Allocate:{index:8,layout:struct$3([u32$3("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$3("instruction"),publicKey$3("base"),rustString$2("seed"),ns64$1("space"),publicKey$3("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$3("instruction"),publicKey$3("base"),rustString$2("seed"),publicKey$3("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$3("instruction"),u64$3("lamports"),rustString$2("seed"),publicKey$3("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$3("instruction")])}});class SystemProgram$2{constructor(){}static createAccount(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$2.Create,r=encodeData$2(t,{lamports:e.lamports,space:e.space,programId:toBuffer$2(e.programId.toBuffer())});return new TransactionInstruction$2({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$2.TransferWithSeed;t=encodeData$2(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$2(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$2.Transfer;t=encodeData$2(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction$2({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$2.AssignWithSeed;t=encodeData$2(o,{base:toBuffer$2(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$2(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$2.Assign;t=encodeData$2(o,{programId:toBuffer$2(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$2({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$2.CreateWithSeed,r=encodeData$2(t,{base:toBuffer$2(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$2(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction$2({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Transaction$2;"basePubkey"in e&&"seed"in e?t.add(SystemProgram$2.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$2,programId:this.programId})):t.add(SystemProgram$2.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$2,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$2.InitializeNonceAccount,r=encodeData$2(t,{authorized:toBuffer$2(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$2,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$2(o)}static nonceAdvance(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$2.AdvanceNonceAccount,r=encodeData$2(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$2(o)}static nonceWithdraw(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$2.WithdrawNonceAccount,r=encodeData$2(t,{lamports:e.lamports});return new TransactionInstruction$2({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$2.AuthorizeNonceAccount,r=encodeData$2(t,{authorized:toBuffer$2(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction$2({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$2.AllocateWithSeed;t=encodeData$2(o,{base:toBuffer$2(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$2(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$2.Allocate;t=encodeData$2(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$2({keys:r,programId:this.programId,data:t})}}SystemProgram$2.programId=new PublicKey$2("11111111111111111111111111111111");const CHUNK_SIZE$1=PACKET_DATA_SIZE$2-300;class Loader$1{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader$1.chunkSize)+1+1)}static async load(e,t,r,o,a){{const sn=await e.getMinimumBalanceForRentExemption(a.length),fn=await e.getAccountInfo(r.publicKey,"confirmed");let dn=null;if(fn!==null){if(fn.executable)return console.error("Program load failed, account is already executable"),!1;fn.data.length!==a.length&&(dn=dn||new Transaction$2,dn.add(SystemProgram$2.allocate({accountPubkey:r.publicKey,space:a.length}))),fn.owner.equals(o)||(dn=dn||new Transaction$2,dn.add(SystemProgram$2.assign({accountPubkey:r.publicKey,programId:o}))),fn.lamports<sn&&(dn=dn||new Transaction$2,dn.add(SystemProgram$2.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:sn-fn.lamports})))}else dn=new Transaction$2().add(SystemProgram$2.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:sn>0?sn:1,space:a.length,programId:o}));dn!==null&&await sendAndConfirmTransaction$4(e,dn,[t,r],{commitment:"confirmed"})}const c=struct$3([u32$3("instruction"),u32$3("offset"),u32$3("bytesLength"),u32$3("bytesLengthPadding"),seq(u8$2("byte"),offset$1(u32$3(),-8),"bytes")]),u=Loader$1.chunkSize;let en=0,tn=a,nn=[];for(;tn.length>0;){const sn=tn.slice(0,u),fn=bufferPolyfill.Buffer.alloc(u+16);c.encode({instruction:0,offset:en,bytes:sn,bytesLength:0,bytesLengthPadding:0},fn);const dn=new Transaction$2().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:fn});nn.push(sendAndConfirmTransaction$4(e,dn,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep$1(1e3/4),en+=u,tn=tn.slice(u)}await Promise.all(nn);{const sn=struct$3([u32$3("instruction")]),fn=bufferPolyfill.Buffer.alloc(sn.span);sn.encode({instruction:1},fn);const dn=new Transaction$2().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$2,isSigner:!1,isWritable:!1}],programId:o,data:fn}),hn="processed",ln=await e.sendTransaction(dn,[t,r],{preflightCommitment:hn}),{context:pn,value:$n}=await e.confirmTransaction({signature:ln,lastValidBlockHeight:dn.lastValidBlockHeight,blockhash:dn.recentBlockhash},hn);if($n.err)throw new Error(`Transaction ${ln} failed (${JSON.stringify($n)})`);for(;;){try{if(await e.getSlot({commitment:hn})>pn.slot)break}catch{}await new Promise(Sn=>setTimeout(Sn,Math.round(MS_PER_SLOT$1/2)))}}return!0}}Loader$1.chunkSize=CHUNK_SIZE$1;const BPF_LOADER_PROGRAM_ID$1=new PublicKey$2("BPFLoader2111111111111111111111111111111111");class BpfLoader$1{static getMinNumSignatures(e){return Loader$1.getMinNumSignatures(e)}static load(e,t,r,o,a){return Loader$1.load(e,t,r,a,o)}}function getDefaultExportFromCjs$1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var objToString$1=Object.prototype.toString,objKeys$1=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function stringify$1(n,e){var t,r,o,a,c,u,en;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return stringify$1(n.toJSON(),e);if(en=objToString$1.call(n),en==="[object Array]"){for(o="[",r=n.length-1,t=0;t<r;t++)o+=stringify$1(n[t],!0)+",";return r>-1&&(o+=stringify$1(n[t],!0)),o+"]"}else if(en==="[object Object]"){for(a=objKeys$1(n).sort(),r=a.length,o="",t=0;t<r;)c=a[t],u=stringify$1(n[c],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),t++;return"{"+o+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var fastStableStringify$2=function(n){var e=stringify$1(n,!1);if(e!==void 0)return""+e},fastStableStringify$1$1=getDefaultExportFromCjs$1(fastStableStringify$2);const MINIMUM_SLOT_PER_EPOCH$1=32;function trailingZeros$1(n){let e=0;for(;n>1;)n/=2,e++;return e}function nextPowerOfTwo$1(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class EpochSchedule$1{constructor(e,t,r,o,a){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=a}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=trailingZeros$1(nextPowerOfTwo$1(e+MINIMUM_SLOT_PER_EPOCH$1+1))-trailingZeros$1(MINIMUM_SLOT_PER_EPOCH$1)-1,r=this.getSlotsInEpoch(t),o=e-(r-MINIMUM_SLOT_PER_EPOCH$1);return[t,o]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),o=this.firstNormalEpoch+r,a=t%this.slotsPerEpoch;return[o,a]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH$1:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros$1(MINIMUM_SLOT_PER_EPOCH$1)):this.slotsPerEpoch}}class SendTransactionError$1 extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const SolanaJSONRPCErrorCode$1={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError$1 extends Error{constructor({code:e,message:t,data:r},o){super(o!=null?`${o}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var fetchImpl$1=globalThis.fetch;class RpcWebSocketClient$1 extends RpcWebSocketCommonClient$1{constructor(e,t,r){const o=a=>{const c=createRpc$1(a,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(o,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function decodeData$2(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const LOOKUP_TABLE_META_SIZE$1=56;class AddressLookupTableAccount$1{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=decodeData$2(LookupTableMetaLayout$1,e),r=e.length-LOOKUP_TABLE_META_SIZE$1;assert$4(r>=0,"lookup table is invalid"),assert$4(r%32===0,"lookup table is invalid");const o=r/32,{addresses:a}=struct$3([seq(publicKey$3(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE$1));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new PublicKey$2(t.authority[0]):void 0,addresses:a.map(c=>new PublicKey$2(c))}}}const LookupTableMetaLayout$1={index:1,layout:struct$3([u32$3("typeIndex"),u64$3("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$3(),offset$1(u8$2(),-1),"authority")])},URL_RE$1=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl$1(n){const e=n.match(URL_RE$1);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,o,a]=e,c=n.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),en=u==null?"":`:${u+1}`;return`${c}//${r}${en}${a}`}const PublicKeyFromString$2=coerce$1(instance$1(PublicKey$2),string$1(),n=>new PublicKey$2(n)),RawAccountDataResult$2=tuple$1([string$1(),literal$1("base64")]),BufferFromRawAccountData$2=coerce$1(instance$1(bufferPolyfill.Buffer),RawAccountDataResult$2,n=>bufferPolyfill.Buffer.from(n[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS$1=30*1e3;function assertEndpointUrl$1(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function extractCommitmentFromConfig$1(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...o}=n;e=r,t=o}return{commitment:e,config:t}}function createRpcResult$2(n){return union$1([type$1({jsonrpc:literal$1("2.0"),id:string$1(),result:n}),type$1({jsonrpc:literal$1("2.0"),id:string$1(),error:type$1({code:unknown$1(),message:string$1(),data:optional$1(any$1())})})])}const UnknownRpcResult$2=createRpcResult$2(unknown$1());function jsonRpcResult$2(n){return coerce$1(createRpcResult$2(n),UnknownRpcResult$2,e=>"error"in e?e:{...e,result:create$1(e.result,n)})}function jsonRpcResultAndContext$2(n){return jsonRpcResult$2(type$1({context:type$1({slot:number$1()}),value:n}))}function notificationResultAndContext$2(n){return type$1({context:type$1({slot:number$1()}),value:n})}function versionedMessageFromResponse$1(n,e){return n===0?new MessageV0$1({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new PublicKey$2(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:bs58$3.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Message$2(e)}const GetInflationGovernorResult$2=type$1({foundation:number$1(),foundationTerm:number$1(),initial:number$1(),taper:number$1(),terminal:number$1()}),GetInflationRewardResult$1=jsonRpcResult$2(array$1(nullable$1(type$1({epoch:number$1(),effectiveSlot:number$1(),amount:number$1(),postBalance:number$1(),commission:optional$1(nullable$1(number$1()))})))),GetRecentPrioritizationFeesResult$2=array$1(type$1({slot:number$1(),prioritizationFee:number$1()})),GetInflationRateResult$2=type$1({total:number$1(),validator:number$1(),foundation:number$1(),epoch:number$1()}),GetEpochInfoResult$2=type$1({epoch:number$1(),slotIndex:number$1(),slotsInEpoch:number$1(),absoluteSlot:number$1(),blockHeight:optional$1(number$1()),transactionCount:optional$1(number$1())}),GetEpochScheduleResult$2=type$1({slotsPerEpoch:number$1(),leaderScheduleSlotOffset:number$1(),warmup:boolean$1(),firstNormalEpoch:number$1(),firstNormalSlot:number$1()}),GetLeaderScheduleResult$2=record$1(string$1(),array$1(number$1())),TransactionErrorResult$2=nullable$1(union$1([type$1({}),string$1()])),SignatureStatusResult$2=type$1({err:TransactionErrorResult$2}),SignatureReceivedResult$2=literal$1("receivedSignature"),VersionResult$1=type$1({"solana-core":string$1(),"feature-set":optional$1(number$1())}),SimulatedTransactionResponseStruct$1=jsonRpcResultAndContext$2(type$1({err:nullable$1(union$1([type$1({}),string$1()])),logs:nullable$1(array$1(string$1())),accounts:optional$1(nullable$1(array$1(nullable$1(type$1({executable:boolean$1(),owner:string$1(),lamports:number$1(),data:array$1(string$1()),rentEpoch:optional$1(number$1())}))))),unitsConsumed:optional$1(number$1()),returnData:optional$1(nullable$1(type$1({programId:string$1(),data:tuple$1([string$1(),literal$1("base64")])})))})),BlockProductionResponseStruct$1=jsonRpcResultAndContext$2(type$1({byIdentity:record$1(string$1(),array$1(number$1())),range:type$1({firstSlot:number$1(),lastSlot:number$1()})}));function createRpcClient$1(n,e,t,r,o,a){const c=t||fetchImpl$1;let u;a!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let en;return r&&(en=async(nn,sn)=>{const fn=await new Promise((dn,hn)=>{try{r(nn,sn,(ln,pn)=>dn([ln,pn]))}catch(ln){hn(ln)}});return await c(...fn)}),new browser$2(async(nn,sn)=>{const fn={method:"POST",body:nn,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS$1)};try{let dn=5,hn,ln=500;for(;en?hn=await en(n,fn):hn=await c(n,fn),!(hn.status!==429||o===!0||(dn-=1,dn===0));)console.log(`Server responded with ${hn.status} ${hn.statusText}.  Retrying after ${ln}ms delay...`),await sleep$1(ln),ln*=2;const pn=await hn.text();hn.ok?sn(null,pn):sn(new Error(`${hn.status} ${hn.statusText}: ${pn}`))}catch(dn){dn instanceof Error&&sn(dn)}},{})}function createRpcRequest$1(n){return(e,t)=>new Promise((r,o)=>{n.request(e,t,(a,c)=>{if(a){o(a);return}r(c)})})}function createRpcBatchRequest$1(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const o=e.map(a=>n.request(a.methodName,a.args));n.request(o,(a,c)=>{if(a){r(a);return}t(c)})})}const GetInflationGovernorRpcResult$1=jsonRpcResult$2(GetInflationGovernorResult$2),GetInflationRateRpcResult$1=jsonRpcResult$2(GetInflationRateResult$2),GetRecentPrioritizationFeesRpcResult$1=jsonRpcResult$2(GetRecentPrioritizationFeesResult$2),GetEpochInfoRpcResult$1=jsonRpcResult$2(GetEpochInfoResult$2),GetEpochScheduleRpcResult$1=jsonRpcResult$2(GetEpochScheduleResult$2),GetLeaderScheduleRpcResult$1=jsonRpcResult$2(GetLeaderScheduleResult$2),SlotRpcResult$1=jsonRpcResult$2(number$1()),GetSupplyRpcResult$1=jsonRpcResultAndContext$2(type$1({total:number$1(),circulating:number$1(),nonCirculating:number$1(),nonCirculatingAccounts:array$1(PublicKeyFromString$2)})),TokenAmountResult$2=type$1({amount:string$1(),uiAmount:nullable$1(number$1()),decimals:number$1(),uiAmountString:optional$1(string$1())}),GetTokenLargestAccountsResult$1=jsonRpcResultAndContext$2(array$1(type$1({address:PublicKeyFromString$2,amount:string$1(),uiAmount:nullable$1(number$1()),decimals:number$1(),uiAmountString:optional$1(string$1())}))),GetTokenAccountsByOwner$1=jsonRpcResultAndContext$2(array$1(type$1({pubkey:PublicKeyFromString$2,account:type$1({executable:boolean$1(),owner:PublicKeyFromString$2,lamports:number$1(),data:BufferFromRawAccountData$2,rentEpoch:number$1()})}))),ParsedAccountDataResult$2=type$1({program:string$1(),parsed:unknown$1(),space:number$1()}),GetParsedTokenAccountsByOwner$1=jsonRpcResultAndContext$2(array$1(type$1({pubkey:PublicKeyFromString$2,account:type$1({executable:boolean$1(),owner:PublicKeyFromString$2,lamports:number$1(),data:ParsedAccountDataResult$2,rentEpoch:number$1()})}))),GetLargestAccountsRpcResult$1=jsonRpcResultAndContext$2(array$1(type$1({lamports:number$1(),address:PublicKeyFromString$2}))),AccountInfoResult$2=type$1({executable:boolean$1(),owner:PublicKeyFromString$2,lamports:number$1(),data:BufferFromRawAccountData$2,rentEpoch:number$1()}),KeyedAccountInfoResult$1=type$1({pubkey:PublicKeyFromString$2,account:AccountInfoResult$2}),ParsedOrRawAccountData$2=coerce$1(union$1([instance$1(bufferPolyfill.Buffer),ParsedAccountDataResult$2]),union$1([RawAccountDataResult$2,ParsedAccountDataResult$2]),n=>Array.isArray(n)?create$1(n,BufferFromRawAccountData$2):n),ParsedAccountInfoResult$2=type$1({executable:boolean$1(),owner:PublicKeyFromString$2,lamports:number$1(),data:ParsedOrRawAccountData$2,rentEpoch:number$1()}),KeyedParsedAccountInfoResult$1=type$1({pubkey:PublicKeyFromString$2,account:ParsedAccountInfoResult$2}),StakeActivationResult$1=type$1({state:union$1([literal$1("active"),literal$1("inactive"),literal$1("activating"),literal$1("deactivating")]),active:number$1(),inactive:number$1()}),GetConfirmedSignaturesForAddress2RpcResult$1=jsonRpcResult$2(array$1(type$1({signature:string$1(),slot:number$1(),err:TransactionErrorResult$2,memo:nullable$1(string$1()),blockTime:optional$1(nullable$1(number$1()))}))),GetSignaturesForAddressRpcResult$1=jsonRpcResult$2(array$1(type$1({signature:string$1(),slot:number$1(),err:TransactionErrorResult$2,memo:nullable$1(string$1()),blockTime:optional$1(nullable$1(number$1()))}))),AccountNotificationResult$1=type$1({subscription:number$1(),result:notificationResultAndContext$2(AccountInfoResult$2)}),ProgramAccountInfoResult$2=type$1({pubkey:PublicKeyFromString$2,account:AccountInfoResult$2}),ProgramAccountNotificationResult$1=type$1({subscription:number$1(),result:notificationResultAndContext$2(ProgramAccountInfoResult$2)}),SlotInfoResult$2=type$1({parent:number$1(),slot:number$1(),root:number$1()}),SlotNotificationResult$1=type$1({subscription:number$1(),result:SlotInfoResult$2}),SlotUpdateResult$2=union$1([type$1({type:union$1([literal$1("firstShredReceived"),literal$1("completed"),literal$1("optimisticConfirmation"),literal$1("root")]),slot:number$1(),timestamp:number$1()}),type$1({type:literal$1("createdBank"),parent:number$1(),slot:number$1(),timestamp:number$1()}),type$1({type:literal$1("frozen"),slot:number$1(),timestamp:number$1(),stats:type$1({numTransactionEntries:number$1(),numSuccessfulTransactions:number$1(),numFailedTransactions:number$1(),maxTransactionsPerEntry:number$1()})}),type$1({type:literal$1("dead"),slot:number$1(),timestamp:number$1(),err:string$1()})]),SlotUpdateNotificationResult$1=type$1({subscription:number$1(),result:SlotUpdateResult$2}),SignatureNotificationResult$1=type$1({subscription:number$1(),result:notificationResultAndContext$2(union$1([SignatureStatusResult$2,SignatureReceivedResult$2]))}),RootNotificationResult$1=type$1({subscription:number$1(),result:number$1()}),ContactInfoResult$1=type$1({pubkey:string$1(),gossip:nullable$1(string$1()),tpu:nullable$1(string$1()),rpc:nullable$1(string$1()),version:nullable$1(string$1())}),VoteAccountInfoResult$2=type$1({votePubkey:string$1(),nodePubkey:string$1(),activatedStake:number$1(),epochVoteAccount:boolean$1(),epochCredits:array$1(tuple$1([number$1(),number$1(),number$1()])),commission:number$1(),lastVote:number$1(),rootSlot:nullable$1(number$1())}),GetVoteAccounts$1=jsonRpcResult$2(type$1({current:array$1(VoteAccountInfoResult$2),delinquent:array$1(VoteAccountInfoResult$2)})),ConfirmationStatus$2=union$1([literal$1("processed"),literal$1("confirmed"),literal$1("finalized")]),SignatureStatusResponse$2=type$1({slot:number$1(),confirmations:nullable$1(number$1()),err:TransactionErrorResult$2,confirmationStatus:optional$1(ConfirmationStatus$2)}),GetSignatureStatusesRpcResult$1=jsonRpcResultAndContext$2(array$1(nullable$1(SignatureStatusResponse$2))),GetMinimumBalanceForRentExemptionRpcResult$1=jsonRpcResult$2(number$1()),AddressTableLookupStruct$2=type$1({accountKey:PublicKeyFromString$2,writableIndexes:array$1(number$1()),readonlyIndexes:array$1(number$1())}),ConfirmedTransactionResult$2=type$1({signatures:array$1(string$1()),message:type$1({accountKeys:array$1(string$1()),header:type$1({numRequiredSignatures:number$1(),numReadonlySignedAccounts:number$1(),numReadonlyUnsignedAccounts:number$1()}),instructions:array$1(type$1({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()})),recentBlockhash:string$1(),addressTableLookups:optional$1(array$1(AddressTableLookupStruct$2))})}),AnnotatedAccountKey$2=type$1({pubkey:PublicKeyFromString$2,signer:boolean$1(),writable:boolean$1(),source:optional$1(union$1([literal$1("transaction"),literal$1("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$2=type$1({accountKeys:array$1(AnnotatedAccountKey$2),signatures:array$1(string$1())}),ParsedInstructionResult$2=type$1({parsed:unknown$1(),program:string$1(),programId:PublicKeyFromString$2}),RawInstructionResult$2=type$1({accounts:array$1(PublicKeyFromString$2),data:string$1(),programId:PublicKeyFromString$2}),InstructionResult$2=union$1([RawInstructionResult$2,ParsedInstructionResult$2]),UnknownInstructionResult$2=union$1([type$1({parsed:unknown$1(),program:string$1(),programId:string$1()}),type$1({accounts:array$1(string$1()),data:string$1(),programId:string$1()})]),ParsedOrRawInstruction$2=coerce$1(InstructionResult$2,UnknownInstructionResult$2,n=>"accounts"in n?create$1(n,RawInstructionResult$2):create$1(n,ParsedInstructionResult$2)),ParsedConfirmedTransactionResult$2=type$1({signatures:array$1(string$1()),message:type$1({accountKeys:array$1(AnnotatedAccountKey$2),instructions:array$1(ParsedOrRawInstruction$2),recentBlockhash:string$1(),addressTableLookups:optional$1(nullable$1(array$1(AddressTableLookupStruct$2)))})}),TokenBalanceResult$2=type$1({accountIndex:number$1(),mint:string$1(),owner:optional$1(string$1()),uiTokenAmount:TokenAmountResult$2}),LoadedAddressesResult$2=type$1({writable:array$1(PublicKeyFromString$2),readonly:array$1(PublicKeyFromString$2)}),ConfirmedTransactionMetaResult$2=type$1({err:TransactionErrorResult$2,fee:number$1(),innerInstructions:optional$1(nullable$1(array$1(type$1({index:number$1(),instructions:array$1(type$1({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()}))})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional$1(nullable$1(array$1(string$1()))),preTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult$2))),postTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult$2))),loadedAddresses:optional$1(LoadedAddressesResult$2),computeUnitsConsumed:optional$1(number$1())}),ParsedConfirmedTransactionMetaResult$2=type$1({err:TransactionErrorResult$2,fee:number$1(),innerInstructions:optional$1(nullable$1(array$1(type$1({index:number$1(),instructions:array$1(ParsedOrRawInstruction$2)})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional$1(nullable$1(array$1(string$1()))),preTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult$2))),postTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult$2))),loadedAddresses:optional$1(LoadedAddressesResult$2),computeUnitsConsumed:optional$1(number$1())}),TransactionVersionStruct$2=union$1([literal$1(0),literal$1("legacy")]),RewardsResult$2=type$1({pubkey:string$1(),lamports:number$1(),postBalance:nullable$1(number$1()),rewardType:nullable$1(string$1()),commission:optional$1(nullable$1(number$1()))}),GetBlockRpcResult$1=jsonRpcResult$2(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$1({transaction:ConfirmedTransactionResult$2,meta:nullable$1(ConfirmedTransactionMetaResult$2),version:optional$1(TransactionVersionStruct$2)})),rewards:optional$1(array$1(RewardsResult$2)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetNoneModeBlockRpcResult$1=jsonRpcResult$2(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),rewards:optional$1(array$1(RewardsResult$2)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetAccountsModeBlockRpcResult$1=jsonRpcResult$2(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$1({transaction:ConfirmedTransactionAccountsModeResult$2,meta:nullable$1(ConfirmedTransactionMetaResult$2),version:optional$1(TransactionVersionStruct$2)})),rewards:optional$1(array$1(RewardsResult$2)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetParsedBlockRpcResult$1=jsonRpcResult$2(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$1({transaction:ParsedConfirmedTransactionResult$2,meta:nullable$1(ParsedConfirmedTransactionMetaResult$2),version:optional$1(TransactionVersionStruct$2)})),rewards:optional$1(array$1(RewardsResult$2)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetParsedAccountsModeBlockRpcResult$1=jsonRpcResult$2(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$1({transaction:ConfirmedTransactionAccountsModeResult$2,meta:nullable$1(ParsedConfirmedTransactionMetaResult$2),version:optional$1(TransactionVersionStruct$2)})),rewards:optional$1(array$1(RewardsResult$2)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetParsedNoneModeBlockRpcResult$1=jsonRpcResult$2(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),rewards:optional$1(array$1(RewardsResult$2)),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetConfirmedBlockRpcResult$1=jsonRpcResult$2(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$1({transaction:ConfirmedTransactionResult$2,meta:nullable$1(ConfirmedTransactionMetaResult$2)})),rewards:optional$1(array$1(RewardsResult$2)),blockTime:nullable$1(number$1())}))),GetBlockSignaturesRpcResult$1=jsonRpcResult$2(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),signatures:array$1(string$1()),blockTime:nullable$1(number$1())}))),GetTransactionRpcResult$1=jsonRpcResult$2(nullable$1(type$1({slot:number$1(),meta:ConfirmedTransactionMetaResult$2,blockTime:optional$1(nullable$1(number$1())),transaction:ConfirmedTransactionResult$2,version:optional$1(TransactionVersionStruct$2)}))),GetParsedTransactionRpcResult$1=jsonRpcResult$2(nullable$1(type$1({slot:number$1(),transaction:ParsedConfirmedTransactionResult$2,meta:nullable$1(ParsedConfirmedTransactionMetaResult$2),blockTime:optional$1(nullable$1(number$1())),version:optional$1(TransactionVersionStruct$2)}))),GetRecentBlockhashAndContextRpcResult$1=jsonRpcResultAndContext$2(type$1({blockhash:string$1(),feeCalculator:type$1({lamportsPerSignature:number$1()})})),GetLatestBlockhashRpcResult$1=jsonRpcResultAndContext$2(type$1({blockhash:string$1(),lastValidBlockHeight:number$1()})),IsBlockhashValidRpcResult$1=jsonRpcResultAndContext$2(boolean$1()),PerfSampleResult$2=type$1({slot:number$1(),numTransactions:number$1(),numSlots:number$1(),samplePeriodSecs:number$1()}),GetRecentPerformanceSamplesRpcResult$1=jsonRpcResult$2(array$1(PerfSampleResult$2)),GetFeeCalculatorRpcResult$1=jsonRpcResultAndContext$2(nullable$1(type$1({feeCalculator:type$1({lamportsPerSignature:number$1()})}))),RequestAirdropRpcResult$1=jsonRpcResult$2(string$1()),SendTransactionRpcResult$1=jsonRpcResult$2(string$1()),LogsResult$2=type$1({err:TransactionErrorResult$2,logs:array$1(string$1()),signature:string$1()}),LogsNotificationResult$1=type$1({result:notificationResultAndContext$2(LogsResult$2),subscription:number$1()}),COMMON_HTTP_HEADERS$1={"solana-client":"js/0.0.0-development"};class Connection$1{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const tn={};return async nn=>{const{commitment:sn,config:fn}=extractCommitmentFromConfig$1(nn),dn=this._buildArgs([],sn,void 0,fn),hn=fastStableStringify$1$1(dn);return tn[hn]=tn[hn]??(async()=>{try{const ln=await this._rpcRequest("getBlockHeight",dn),pn=create$1(ln,jsonRpcResult$2(number$1()));if("error"in pn)throw new SolanaJSONRPCError$1(pn.error,"failed to get block height information");return pn.result}finally{delete tn[hn]}})(),await tn[hn]}})();let r,o,a,c,u,en;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,o=t.httpHeaders,a=t.fetch,c=t.fetchMiddleware,u=t.disableRetryOnRateLimit,en=t.httpAgent),this._rpcEndpoint=assertEndpointUrl$1(e),this._rpcWsEndpoint=r||makeWebsocketUrl$1(e),this._rpcClient=createRpcClient$1(e,o,a,c,u,en),this._rpcRequest=createRpcRequest$1(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest$1(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient$1(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=this._buildArgs([e.toBase58()],r,void 0,o),c=await this._rpcRequest("getBalance",a),u=create$1(c,jsonRpcResultAndContext$2(number$1()));if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=create$1(t,jsonRpcResult$2(nullable$1(number$1())));if("error"in r)throw new SolanaJSONRPCError$1(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=create$1(e,jsonRpcResult$2(number$1()));if("error"in t)throw new SolanaJSONRPCError$1(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=create$1(e,SlotRpcResult$1);if("error"in t)throw new SolanaJSONRPCError$1(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),o=create$1(r,GetSupplyRpcResult$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,"failed to get supply");return o.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenSupply",r),a=create$1(o,jsonRpcResultAndContext$2(TokenAmountResult$2));if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get token supply");return a.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenAccountBalance",r),a=create$1(o,jsonRpcResultAndContext$2(TokenAmountResult$2));if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get token account balance");return a.result}async getTokenAccountsByOwner(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$1(r);let c=[e.toBase58()];"mint"in t?c.push({mint:t.mint.toBase58()}):c.push({programId:t.programId.toBase58()});const u=this._buildArgs(c,o,"base64",a),en=await this._rpcRequest("getTokenAccountsByOwner",u),tn=create$1(en,GetTokenAccountsByOwner$1);if("error"in tn)throw new SolanaJSONRPCError$1(tn.error,`failed to get token accounts owned by account ${e.toBase58()}`);return tn.result}async getParsedTokenAccountsByOwner(e,t,r){let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,r,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=create$1(c,GetParsedTokenAccountsByOwner$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],o=await this._rpcRequest("getLargestAccounts",r),a=create$1(o,GetLargestAccountsRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get largest accounts");return a.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenLargestAccounts",r),a=create$1(o,GetTokenLargestAccountsResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get token largest accounts");return a.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=this._buildArgs([e.toBase58()],r,"base64",o),c=await this._rpcRequest("getAccountInfo",a),u=create$1(c,jsonRpcResultAndContext$2(nullable$1(AccountInfoResult$2)));if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",a),u=create$1(c,jsonRpcResultAndContext$2(nullable$1(ParsedAccountInfoResult$2)));if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"jsonParsed",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create$1(u,jsonRpcResultAndContext$2(array$1(nullable$1(ParsedAccountInfoResult$2))));if("error"in en)throw new SolanaJSONRPCError$1(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create$1(u,jsonRpcResultAndContext$2(array$1(nullable$1(AccountInfoResult$2))));if("error"in en)throw new SolanaJSONRPCError$1(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$1(t),c=this._buildArgs([e.toBase58()],o,void 0,{...a,epoch:r??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getStakeActivation",c),en=create$1(u,jsonRpcResult$2(StakeActivationResult$1));if("error"in en)throw new SolanaJSONRPCError$1(en.error,`failed to get Stake Activation ${e.toBase58()}`);return en.result}async getProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),{encoding:a,...c}=o||{},u=this._buildArgs([e.toBase58()],r,a||"base64",c),en=await this._rpcRequest("getProgramAccounts",u),tn=array$1(KeyedAccountInfoResult$1),nn=c.withContext===!0?create$1(en,jsonRpcResultAndContext$2(tn)):create$1(en,jsonRpcResult$2(tn));if("error"in nn)throw new SolanaJSONRPCError$1(nn.error,`failed to get accounts owned by program ${e.toBase58()}`);return nn.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",a),u=create$1(c,jsonRpcResult$2(array$1(KeyedParsedAccountInfoResult$1)));if("error"in u)throw new SolanaJSONRPCError$1(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){var a;let r;if(typeof e=="string")r=e;else{const c=e;if((a=c.abortSignal)!=null&&a.aborted)return Promise.reject(c.abortSignal.reason);r=c.signature}let o;try{o=bs58$3.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return assert$4(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,o,a=!1;const c=new Promise((en,tn)=>{try{r=this.onSignature(t,(sn,fn)=>{r=void 0;const dn={context:fn,value:sn};en({__type:TransactionStatus$1.PROCESSED,response:dn})},e);const nn=new Promise(sn=>{r==null?sn():o=this._onSubscriptionStateChange(r,fn=>{fn==="subscribed"&&sn()})});(async()=>{if(await nn,a)return;const sn=await this.getSignatureStatus(t);if(a||sn==null)return;const{context:fn,value:dn}=sn;if(dn!=null)if(dn!=null&&dn.err)tn(dn.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(dn.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(dn.confirmationStatus==="processed"||dn.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}a=!0,en({__type:TransactionStatus$1.PROCESSED,response:{context:fn,value:dn}})}})()}catch(nn){tn(nn)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:o}}){let a=!1;const c=new Promise(sn=>{const fn=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let dn=await fn();if(!a){for(;dn<=r;)if(await sleep$1(1e3),a||(dn=await fn(),a))return;sn({__type:TransactionStatus$1.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:en}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),tn=this.getCancellationPromise(t);let nn;try{const sn=await Promise.race([tn,en,c]);if(sn.__type===TransactionStatus$1.PROCESSED)nn=sn.response;else throw new TransactionExpiredBlockheightExceededError$1(o)}finally{a=!0,u()}return nn}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:o,nonceValue:a,signature:c}}){let u=!1;const en=new Promise(dn=>{let hn=a,ln=null;const pn=async()=>{try{const{context:$n,value:Sn}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:r});return ln=$n.slot,Sn==null?void 0:Sn.nonce}catch{return hn}};(async()=>{if(hn=await pn(),!u)for(;;){if(a!==hn){dn({__type:TransactionStatus$1.NONCE_INVALID,slotInWhichNonceDidAdvance:ln});return}if(await sleep$1(2e3),u||(hn=await pn(),u))return}})()}),{abortConfirmation:tn,confirmationPromise:nn}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),sn=this.getCancellationPromise(t);let fn;try{const dn=await Promise.race([sn,nn,en]);if(dn.__type===TransactionStatus$1.PROCESSED)fn=dn.response;else{let hn;for(;;){const ln=await this.getSignatureStatus(c);if(ln==null)break;if(ln.context.slot<(dn.slotInWhichNonceDidAdvance??r)){await sleep$1(400);continue}hn=ln;break}if(hn!=null&&hn.value){const ln=e||"finalized",{confirmationStatus:pn}=hn.value;switch(ln){case"processed":case"recent":if(pn!=="processed"&&pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError$1(c);break;case"confirmed":case"single":case"singleGossip":if(pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError$1(c);break;case"finalized":case"max":case"root":if(pn!=="finalized")throw new TransactionExpiredNonceInvalidError$1(c);break;default:($n=>{})(ln)}fn={context:hn.context,value:{err:hn.value.err}}}else throw new TransactionExpiredNonceInvalidError$1(c)}}finally{u=!0,tn()}return fn}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const o=new Promise(en=>{let tn=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{tn=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>en({__type:TransactionStatus$1.TIMED_OUT,timeoutMs:tn}),tn)}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let u;try{const en=await Promise.race([c,o]);if(en.__type===TransactionStatus$1.PROCESSED)u=en.response;else throw new TransactionExpiredTimeoutError$1(t,en.timeoutMs/1e3)}finally{clearTimeout(r),a()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=create$1(e,jsonRpcResult$2(array$1(ContactInfoResult$1)));if("error"in t)throw new SolanaJSONRPCError$1(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),o=create$1(r,GetVoteAccounts$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:t,config:r}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlot",o),c=create$1(a,jsonRpcResult$2(number$1()));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:t,config:r}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlotLeader",o),c=create$1(a,jsonRpcResult$2(string$1()));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,t){const r=[e,t],o=await this._rpcRequest("getSlotLeaders",r),a=create$1(o,jsonRpcResult$2(array$1(PublicKeyFromString$2)));if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get slot leaders");return a.result}async getSignatureStatus(e,t){const{context:r,value:o}=await this.getSignatureStatuses([e],t);assert$4(o.length===1);const a=o[0];return{context:r,value:a}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const o=await this._rpcRequest("getSignatureStatuses",r),a=create$1(o,GetSignatureStatusesRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get signature status");return a.result}async getTransactionCount(e){const{commitment:t,config:r}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getTransactionCount",o),c=create$1(a,jsonRpcResult$2(number$1()));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),o=create$1(r,GetInflationGovernorRpcResult$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,"failed to get inflation");return o.result}async getInflationReward(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig$1(r),c=this._buildArgs([e.map(tn=>tn.toBase58())],o,void 0,{...a,epoch:t??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getInflationReward",c),en=create$1(u,GetInflationRewardResult$1);if("error"in en)throw new SolanaJSONRPCError$1(en.error,"failed to get inflation reward");return en.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=create$1(e,GetInflationRateRpcResult$1);if("error"in t)throw new SolanaJSONRPCError$1(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getEpochInfo",o),c=create$1(a,GetEpochInfoRpcResult$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=create$1(e,GetEpochScheduleRpcResult$1);if("error"in t)throw new SolanaJSONRPCError$1(t.error,"failed to get epoch schedule");const r=t.result;return new EpochSchedule$1(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=create$1(e,GetLeaderScheduleRpcResult$1);if("error"in t)throw new SolanaJSONRPCError$1(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),a=create$1(o,GetMinimumBalanceForRentExemptionRpcResult$1);return"error"in a?(console.warn("Unable to fetch minimum balance for rent exemption"),0):a.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),o=create$1(r,GetRecentBlockhashAndContextRpcResult$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=create$1(t,GetRecentPerformanceSamplesRpcResult$1);if("error"in r)throw new SolanaJSONRPCError$1(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),a=create$1(o,GetFeeCalculatorRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get fee calculator");const{context:c,value:u}=a.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const r=toBuffer$2(e.serialize()).toString("base64"),o=this._buildArgs([r],t),a=await this._rpcRequest("getFeeForMessage",o),c=create$1(a,jsonRpcResultAndContext$2(nullable$1(number$1())));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){var c;const t=(c=e==null?void 0:e.lockedWritableAccounts)==null?void 0:c.map(u=>u.toBase58()),r=t!=null&&t.length?[t]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),a=create$1(o,GetRecentPrioritizationFeesRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get recent prioritization fees");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getLatestBlockhash",o),c=create$1(a,GetLatestBlockhashRpcResult$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=this._buildArgs([e],r,void 0,o),c=await this._rpcRequest("isBlockhashValid",a),u=create$1(c,IsBlockhashValidRpcResult$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=create$1(e,jsonRpcResult$2(VersionResult$1));if("error"in t)throw new SolanaJSONRPCError$1(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=create$1(e,jsonRpcResult$2(string$1()));if("error"in t)throw new SolanaJSONRPCError$1(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$1(c,GetAccountsModeBlockRpcResult$1);if("error"in u)throw u.error;return u.result}case"none":{const u=create$1(c,GetNoneModeBlockRpcResult$1);if("error"in u)throw u.error;return u.result}default:{const u=create$1(c,GetBlockRpcResult$1);if("error"in u)throw u.error;const{result:en}=u;return en?{...en,transactions:en.transactions.map(({transaction:tn,meta:nn,version:sn})=>({meta:nn,transaction:{...tn,message:versionedMessageFromResponse$1(sn,tn.message)},version:sn}))}:null}}}catch(u){throw new SolanaJSONRPCError$1(u,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create$1(c,GetParsedAccountsModeBlockRpcResult$1);if("error"in u)throw u.error;return u.result}case"none":{const u=create$1(c,GetParsedNoneModeBlockRpcResult$1);if("error"in u)throw u.error;return u.result}default:{const u=create$1(c,GetParsedBlockRpcResult$1);if("error"in u)throw u.error;return u.result}}}catch(u){throw new SolanaJSONRPCError$1(u,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:u,...en}=e;r=u,t=en}const o=this._buildArgs([],r,"base64",t),a=await this._rpcRequest("getBlockProduction",o),c=create$1(a,BlockProductionResponseStruct$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get block production information");return c.result}async getTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getTransaction",a),u=create$1(c,GetTransactionRpcResult$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,"failed to get transaction");const en=u.result;return en&&{...en,transaction:{...en.transaction,message:versionedMessageFromResponse$1(en.version,en.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getTransaction",a),u=create$1(c,GetParsedTransactionRpcResult$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,"jsonParsed",o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create$1(en,GetParsedTransactionRpcResult$1);if("error"in tn)throw new SolanaJSONRPCError$1(tn.error,"failed to get transactions");return tn.result})}async getTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig$1(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,void 0,o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create$1(en,GetTransactionRpcResult$1);if("error"in tn)throw new SolanaJSONRPCError$1(tn.error,"failed to get transactions");const nn=tn.result;return nn&&{...nn,transaction:{...nn.transaction,message:versionedMessageFromResponse$1(nn.version,nn.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedBlock",r),a=create$1(o,GetConfirmedBlockRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:en,meta:tn})=>{const nn=new Message$2(en.message);return{meta:tn,transaction:{...en,message:nn}}})};return{...u,transactions:u.transactions.map(({transaction:en,meta:tn})=>({meta:tn,transaction:Transaction$2.populate(en.message,en.signatures)}))}}async getBlocks(e,t,r){const o=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),a=await this._rpcRequest("getBlocks",o),c=create$1(a,jsonRpcResult$2(array$1(number$1())));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),a=create$1(o,GetBlockSignaturesRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get block");const c=a.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",r),a=create$1(o,GetBlockSignaturesRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedTransaction",r),a=create$1(o,GetTransactionRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get transaction");const c=a.result;if(!c)return c;const u=new Message$2(c.transaction.message),en=c.transaction.signatures;return{...c,transaction:Transaction$2.populate(u,en)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",r),a=create$1(o,GetParsedTransactionRpcResult$1);if("error"in a)throw new SolanaJSONRPCError$1(a.error,"failed to get confirmed transaction");return a.result}async getParsedConfirmedTransactions(e,t){const r=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(r)).map(c=>{const u=create$1(c,GetParsedTransactionRpcResult$1);if("error"in u)throw new SolanaJSONRPCError$1(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,r){let o={},a=await this.getFirstAvailableBlock();for(;!("until"in o)&&(t--,!(t<=0||t<a));)try{const en=await this.getConfirmedBlockSignatures(t,"finalized");en.signatures.length>0&&(o.until=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}let c=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>c));)try{const en=await this.getConfirmedBlockSignatures(r);en.signatures.length>0&&(o.before=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(en=>en.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=create$1(a,GetConfirmedSignaturesForAddress2RpcResult$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getSignaturesForAddress",o),c=create$1(a,GetSignaturesForAddressRpcResult$1);if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=new AddressLookupTableAccount$1({key:e,state:AddressLookupTableAccount$1.deserialize(o.data)})),{context:r,value:a}}async getNonceAndContext(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=NonceAccount$1.fromAccountData(o.data)),{context:r,value:a}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),o=create$1(r,RequestAirdropRpcResult$1);if("error"in o)throw new SolanaJSONRPCError$1(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep$1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS$1;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let o=0;o<50;o++){const a=await this.getLatestBlockhash("finalized");if(r!==a.blockhash)return this._blockhashInfo={latestBlockhash:a,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},a;await sleep$1(MS_PER_SLOT$1/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=extractCommitmentFromConfig$1(e),o=this._buildArgs([],t,"base64",r),a=await this._rpcRequest("getStakeMinimumDelegation",o),c=create$1(a,jsonRpcResultAndContext$2(number$1()));if("error"in c)throw new SolanaJSONRPCError$1(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,t,r){if("message"in e){const ln=e.serialize(),pn=bufferPolyfill.Buffer.from(ln).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const $n=t||{};$n.encoding="base64","commitment"in $n||($n.commitment=this.commitment);const Sn=[pn,$n],yn=await this._rpcRequest("simulateTransaction",Sn),In=create$1(yn,SimulatedTransactionResponseStruct$1);if("error"in In)throw new Error("failed to simulate transaction: "+In.error.message);return In.result}let o;if(e instanceof Transaction$2){let hn=e;o=new Transaction$2,o.feePayer=hn.feePayer,o.instructions=e.instructions,o.nonceInfo=hn.nonceInfo,o.signatures=hn.signatures}else o=Transaction$2.populate(e),o._message=o._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const a=t;if(o.nonceInfo&&a)o.sign(...a);else{let hn=this._disableBlockhashCaching;for(;;){const ln=await this._blockhashWithExpiryBlockHeight(hn);if(o.lastValidBlockHeight=ln.lastValidBlockHeight,o.recentBlockhash=ln.blockhash,!a)break;if(o.sign(...a),!o.signature)throw new Error("!signature");const pn=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(pn)&&!this._blockhashInfo.transactionSignatures.includes(pn)){this._blockhashInfo.simulatedSignatures.push(pn);break}else hn=!0}}const c=o._compile(),u=c.serialize(),tn=o._serialize(u).toString("base64"),nn={encoding:"base64",commitment:this.commitment};if(r){const hn=(Array.isArray(r)?r:c.nonProgramIds()).map(ln=>ln.toBase58());nn.accounts={encoding:"base64",addresses:hn}}a&&(nn.sigVerify=!0);const sn=[tn,nn],fn=await this._rpcRequest("simulateTransaction",sn),dn=create$1(fn,SimulatedTransactionResponseStruct$1);if("error"in dn){let hn;if("data"in dn.error&&(hn=dn.error.data.logs,hn&&Array.isArray(hn))){const ln=`
    `,pn=ln+hn.join(ln);console.error(dn.error.message,pn)}throw new SendTransactionError$1("failed to simulate transaction: "+dn.error.message,hn)}return dn.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(e.nonceInfo)e.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const en=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(en))c=!0;else{this._blockhashInfo.transactionSignatures.push(en);break}}}const a=e.serialize();return await this.sendRawTransaction(a,r)}async sendRawTransaction(e,t){const r=toBuffer$2(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},o=t&&t.skipPreflight,a=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),o&&(r.skipPreflight=o),a&&(r.preflightCommitment=a);const c=[e,r],u=await this._rpcRequest("sendTransaction",c),en=create$1(u,SendTransactionRpcResult$1);if("error"in en){let tn;throw"data"in en.error&&(tn=en.error.data.logs),new SendTransactionError$1("failed to send transaction: "+en.error.message,tn)}return en.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var o;const r=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(c=>{try{c(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return o.add(t),()=>{o.delete(t),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:a,method:c}=o;try{this._setSubscription(r,{...o,state:"subscribing"});const u=await this._rpcWebSocket.call(c,a);this._setSubscription(r,{...o,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,a,u.message),!t())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:a,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(a))this._subscriptionsAutoDisposedByRpc.delete(a);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[a])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!t())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(o=>{try{o(...t)}catch(a){console.error(a)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=create$1(e,AccountNotificationResult$1);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,o=fastStableStringify$1$1([e.method,t],!0),a=this._subscriptionsByHash[o];return a===void 0?this._subscriptionsByHash[o]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:a.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const c=this._subscriptionsByHash[o];assert$4(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=create$1(e,ProgramAccountNotificationResult$1);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,o){const a=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=create$1(e,LogsNotificationResult$1);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=create$1(e,SlotNotificationResult$1);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=create$1(e,SlotUpdateNotificationResult$1);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,o){const a=t||this._commitment;if(a||r||o){let c={};r&&(c.encoding=r),a&&(c.commitment=a),o&&(c=Object.assign(c,o)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,t,r,o){const a=t||this._commitment;if(a&&!["confirmed","finalized"].includes(a))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,o)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=create$1(e,SignatureNotificationResult$1);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const o=this._buildArgs([e],r||this._commitment||"finalized"),a=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){t(c.result,u);try{this.removeSignatureListener(a)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}onSignatureWithOptions(e,t,r){const{commitment:o,...a}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},c=this._buildArgs([e],o,void 0,a),u=this._makeSubscription({callback:(en,tn)=>{t(en,tn);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=create$1(e,RootNotificationResult$1);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair$2{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair$2()}static generate(){return new Keypair$2(generateKeypair$2())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const o=e.slice(0,32),a=getPublicKey$2(o);for(let c=0;c<32;c++)if(r[c]!==a[c])throw new Error("provided secretKey is invalid")}return new Keypair$2({publicKey:r,secretKey:e})}static fromSeed(e){const t=getPublicKey$2(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Keypair$2({publicKey:t,secretKey:r})}get publicKey(){return new PublicKey$2(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1=Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$3("instruction"),u64$3("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$3("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$3("instruction"),u64$3(),seq(publicKey$3(),offset$1(u32$3(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$3("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$3("instruction")])}});class AddressLookupTableInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1))if(c.index==r){o=a;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=decodeData$1$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=decodeData$1$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new PublicKey$2(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram$1.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class AddressLookupTableProgram$1{constructor(){}static createLookupTable(e){const[t,r]=PublicKey$2.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),o=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.CreateLookupTable,a=encodeData$2(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$2.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction$2({programId:this.programId,keys:c,data:a}),t]}static freezeLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.FreezeLookupTable,r=encodeData$2(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$2({programId:this.programId,keys:o,data:r})}static extendLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.ExtendLookupTable,r=encodeData$2(t,{addresses:e.addresses.map(a=>a.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$2.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction$2({programId:this.programId,keys:o,data:r})}static deactivateLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.DeactivateLookupTable,r=encodeData$2(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$2({programId:this.programId,keys:o,data:r})}static closeLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1.CloseLookupTable,r=encodeData$2(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction$2({programId:this.programId,keys:o,data:r})}}AddressLookupTableProgram$1.programId=new PublicKey$2("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u8$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=decodeData$1$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=decodeData$1$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=decodeData$1$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=decodeData$1$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram$1.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1=Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$3("units"),u32$3("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$3("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$3("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$3("microLamports")])}});class ComputeBudgetProgram$1{constructor(){}static requestUnits(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.RequestUnits,r=encodeData$2(t,e);return new TransactionInstruction$2({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.RequestHeapFrame,r=encodeData$2(t,e);return new TransactionInstruction$2({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.SetComputeUnitLimit,r=encodeData$2(t,e);return new TransactionInstruction$2({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1.SetComputeUnitPrice,r=encodeData$2(t,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction$2({keys:[],programId:this.programId,data:r})}}ComputeBudgetProgram$1.programId=new PublicKey$2("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1$1=64,PUBLIC_KEY_BYTES$1$1=32,SIGNATURE_BYTES$1=64,ED25519_INSTRUCTION_LAYOUT$1=struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program$1{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,instructionIndex:a}=e;assert$4(t.length===PUBLIC_KEY_BYTES$1$1,`Public Key must be ${PUBLIC_KEY_BYTES$1$1} bytes but received ${t.length} bytes`),assert$4(o.length===SIGNATURE_BYTES$1,`Signature must be ${SIGNATURE_BYTES$1} bytes but received ${o.length} bytes`);const c=ED25519_INSTRUCTION_LAYOUT$1.span,u=c+t.length,en=u+o.length,tn=1,nn=bufferPolyfill.Buffer.alloc(en+r.length),sn=a??65535;return ED25519_INSTRUCTION_LAYOUT$1.encode({numSignatures:tn,padding:0,signatureOffset:u,signatureInstructionIndex:sn,publicKeyOffset:c,publicKeyInstructionIndex:sn,messageDataOffset:en,messageDataSize:r.length,messageInstructionIndex:sn},nn),nn.fill(t,c),nn.fill(o,u),nn.fill(r,en),new TransactionInstruction$2({keys:[],programId:Ed25519Program$1.programId,data:nn})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;assert$4(t.length===PRIVATE_KEY_BYTES$1$1,`Private key must be ${PRIVATE_KEY_BYTES$1$1} bytes but received ${t.length} bytes`);try{const a=Keypair$2.fromSecretKey(t),c=a.publicKey.toBytes(),u=sign$2(r,a.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:u,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Ed25519Program$1.programId=new PublicKey$2("Ed25519SigVerify111111111111111111111111111");const ecdsaSign$1=(n,e)=>{const t=secp256k1$1.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};secp256k1$1.utils.isValidPrivateKey;const publicKeyCreate$1=secp256k1$1.getPublicKey,PRIVATE_KEY_BYTES$2=32,ETHEREUM_ADDRESS_BYTES$1=20,PUBLIC_KEY_BYTES$2=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE$1=11,SECP256K1_INSTRUCTION_LAYOUT$1=struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);class Secp256k1Program$1{constructor(){}static publicKeyToEthAddress(e){assert$4(e.length===PUBLIC_KEY_BYTES$2,`Public key must be ${PUBLIC_KEY_BYTES$2} bytes but received ${e.length} bytes`);try{return bufferPolyfill.Buffer.from(keccak_256(toBuffer$2(e))).slice(-ETHEREUM_ADDRESS_BYTES$1)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,recoveryId:a,instructionIndex:c}=e;return Secp256k1Program$1.createInstructionWithEthAddress({ethAddress:Secp256k1Program$1.publicKeyToEthAddress(t),message:r,signature:o,recoveryId:a,instructionIndex:c})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:o,recoveryId:a,instructionIndex:c=0}=e;let u;typeof t=="string"?t.startsWith("0x")?u=bufferPolyfill.Buffer.from(t.substr(2),"hex"):u=bufferPolyfill.Buffer.from(t,"hex"):u=t,assert$4(u.length===ETHEREUM_ADDRESS_BYTES$1,`Address must be ${ETHEREUM_ADDRESS_BYTES$1} bytes but received ${u.length} bytes`);const en=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE$1,tn=en,nn=en+u.length,sn=nn+o.length+1,fn=1,dn=bufferPolyfill.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT$1.span+r.length);return SECP256K1_INSTRUCTION_LAYOUT$1.encode({numSignatures:fn,signatureOffset:nn,signatureInstructionIndex:c,ethAddressOffset:tn,ethAddressInstructionIndex:c,messageDataOffset:sn,messageDataSize:r.length,messageInstructionIndex:c,signature:toBuffer$2(o),ethAddress:toBuffer$2(u),recoveryId:a},dn),dn.fill(toBuffer$2(r),SECP256K1_INSTRUCTION_LAYOUT$1.span),new TransactionInstruction$2({keys:[],programId:Secp256k1Program$1.programId,data:dn})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;assert$4(t.length===PRIVATE_KEY_BYTES$2,`Private key must be ${PRIVATE_KEY_BYTES$2} bytes but received ${t.length} bytes`);try{const a=toBuffer$2(t),c=publicKeyCreate$1(a,!1).slice(1),u=bufferPolyfill.Buffer.from(keccak_256(toBuffer$2(r))),[en,tn]=ecdsaSign$1(u,a);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:en,recoveryId:tn,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Secp256k1Program$1.programId=new PublicKey$2("KeccakSecp256k11111111111111111111111111111");var _class2$2;const STAKE_CONFIG_ID$1=new PublicKey$2("StakeConfig11111111111111111111111111111111");class Authorized$1{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Lockup$2{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_class2$2=Lockup$2;Lockup$2.default=new _class2$2(0,0,PublicKey$2.default);class StakeInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(STAKE_INSTRUCTION_LAYOUTS$1))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized$1(new PublicKey$2(t.staker),new PublicKey$2(t.withdrawer)),lockup:new Lockup$2(r.unixTimestamp,r.epoch,new PublicKey$2(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$2(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:o,authorityOwner:a}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.AuthorizeWithSeed,e.data),c={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new PublicKey$2(a),newAuthorizedPubkey:new PublicKey$2(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1$1(STAKE_INSTRUCTION_LAYOUTS$1.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram$1.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const STAKE_INSTRUCTION_LAYOUTS$1=Object.freeze({Initialize:{index:0,layout:struct$3([u32$3("instruction"),authorized$2(),lockup$2()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$3("newAuthorized"),u32$3("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$3("instruction")])},Split:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$3("instruction")])},Merge:{index:7,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$3("instruction"),publicKey$3("newAuthorized"),u32$3("stakeAuthorizationType"),rustString$2("authoritySeed"),publicKey$3("authorityOwner")])}}),StakeAuthorizationLayout$1=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram$1{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:o}=e,a=o||Lockup$2.default,c=STAKE_INSTRUCTION_LAYOUTS$1.Initialize,u=encodeData$2(c,{authorized:{staker:toBuffer$2(r.staker.toBuffer()),withdrawer:toBuffer$2(r.withdrawer.toBuffer())},lockup:{unixTimestamp:a.unixTimestamp,epoch:a.epoch,custodian:toBuffer$2(a.custodian.toBuffer())}}),en={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$2,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new TransactionInstruction$2(en)}static createAccountWithSeed(e){const t=new Transaction$2;t.add(SystemProgram$2.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:a}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:a}))}static createAccount(e){const t=new Transaction$2;t.add(SystemProgram$2.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:a}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:a}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS$1.Delegate,c=encodeData$2(a);return new Transaction$2().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID$1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS$1.Authorize,en=encodeData$2(u,{newAuthorized:toBuffer$2(o.toBuffer()),stakeAuthorizationType:a.index}),tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&tn.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$2().add({keys:tn,programId:this.programId,data:en})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:o,authorityOwner:a,newAuthorizedPubkey:c,stakeAuthorizationType:u,custodianPubkey:en}=e,tn=STAKE_INSTRUCTION_LAYOUTS$1.AuthorizeWithSeed,nn=encodeData$2(tn,{newAuthorized:toBuffer$2(c.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:o,authorityOwner:toBuffer$2(a.toBuffer())}),sn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1}];return en&&sn.push({pubkey:en,isSigner:!1,isWritable:!1}),new Transaction$2().add({keys:sn,programId:this.programId,data:nn})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:a}=e,c=STAKE_INSTRUCTION_LAYOUTS$1.Split,u=encodeData$2(c,{lamports:a});return new TransactionInstruction$2({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){const t=new Transaction$2;return t.add(SystemProgram$2.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,basePubkey:a,seed:c,lamports:u}=e,en=new Transaction$2;return en.add(SystemProgram$2.allocate({accountPubkey:o,basePubkey:a,seed:c,space:this.space,programId:this.programId})),en.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:u}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS$1.Merge,c=encodeData$2(a);return new Transaction$2().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:o,lamports:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS$1.Withdraw,en=encodeData$2(u,{lamports:a}),tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&tn.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$2().add({keys:tn,programId:this.programId,data:en})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,o=STAKE_INSTRUCTION_LAYOUTS$1.Deactivate,a=encodeData$2(o);return new Transaction$2().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}}StakeProgram$1.programId=new PublicKey$2("Stake11111111111111111111111111111111111111");StakeProgram$1.space=200;class VoteInit$1{constructor(e,t,r,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=o}}class VoteInstruction$1{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(VOTE_INSTRUCTION_LAYOUTS$1))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=decodeData$1$1(VOTE_INSTRUCTION_LAYOUTS$1.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit$1(new PublicKey$2(t.nodePubkey),new PublicKey$2(t.authorizedVoter),new PublicKey$2(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=decodeData$1$1(VOTE_INSTRUCTION_LAYOUTS$1.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$2(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:o,voteAuthorizationType:a}}=decodeData$1$1(VOTE_INSTRUCTION_LAYOUTS$1.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey$2(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new PublicKey$2(o),voteAuthorizationType:{index:a},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=decodeData$1$1(VOTE_INSTRUCTION_LAYOUTS$1.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram$1.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const VOTE_INSTRUCTION_LAYOUTS$1=Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$3("instruction"),voteInit$2()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$3("newAuthorized"),u32$3("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$3("instruction"),voteAuthorizeWithSeedArgs$2()])}}),VoteAuthorizationLayout$1=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram$1{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:o}=e,a=VOTE_INSTRUCTION_LAYOUTS$1.InitializeAccount,c=encodeData$2(a,{voteInit:{nodePubkey:toBuffer$2(o.nodePubkey.toBuffer()),authorizedVoter:toBuffer$2(o.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer$2(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$2,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new TransactionInstruction$2(u)}static createAccount(e){const t=new Transaction$2;return t.add(SystemProgram$2.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,voteAuthorizationType:a}=e,c=VOTE_INSTRUCTION_LAYOUTS$1.Authorize,u=encodeData$2(c,{newAuthorized:toBuffer$2(o.toBuffer()),voteAuthorizationType:a.index}),en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$2().add({keys:en,programId:this.programId,data:u})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:a,voteAuthorizationType:c,votePubkey:u}=e,en=VOTE_INSTRUCTION_LAYOUTS$1.AuthorizeWithSeed,tn=encodeData$2(en,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer$2(r.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:toBuffer$2(a.toBuffer()),voteAuthorizationType:c.index}}),nn=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Transaction$2().add({keys:nn,programId:this.programId,data:tn})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:o,toPubkey:a}=e,c=VOTE_INSTRUCTION_LAYOUTS$1.Withdraw,u=encodeData$2(c,{lamports:o}),en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$2().add({keys:en,programId:this.programId,data:u})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram$1.withdraw(e)}}VoteProgram$1.programId=new PublicKey$2("Vote111111111111111111111111111111111111111");VoteProgram$1.space=3731;const VALIDATOR_INFO_KEY$1=new PublicKey$2("Va1idator1nfo111111111111111111111111111111"),InfoString$1=type$1({name:string$1(),website:optional$1(string$1()),details:optional$1(string$1()),keybaseUsername:optional$1(string$1())});class ValidatorInfo$1{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(decodeLength$2(t)!==2)return null;const o=[];for(let a=0;a<2;a++){const c=new PublicKey$2(t.slice(0,PUBLIC_KEY_LENGTH$2));t=t.slice(PUBLIC_KEY_LENGTH$2);const u=t.slice(0,1)[0]===1;t=t.slice(1),o.push({publicKey:c,isSigner:u})}if(o[0].publicKey.equals(VALIDATOR_INFO_KEY$1)&&o[1].isSigner){const a=rustString$2().decode(bufferPolyfill.Buffer.from(t)),c=JSON.parse(a);return assert$5(c,InfoString$1),new ValidatorInfo$1(o[1].publicKey,c)}return null}}const VOTE_PROGRAM_ID$1=new PublicKey$2("Vote111111111111111111111111111111111111111"),VoteAccountLayout$1=struct$3([publicKey$3("nodePubkey"),publicKey$3("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$3("confirmationCount")]),offset$1(u32$3(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$3("authorizedVoter")]),offset$1(u32$3(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$3("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$3(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount$1{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=VoteAccountLayout$1.decode(toBuffer$2(e),4);let o=r.rootSlot;return r.rootSlotValid||(o=null),new VoteAccount$1({nodePubkey:new PublicKey$2(r.nodePubkey),authorizedWithdrawer:new PublicKey$2(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:o,authorizedVoters:r.authorizedVoters.map(parseAuthorizedVoter$1),priorVoters:getPriorVoters$1(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function parseAuthorizedVoter$1({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey$2(n)}}function parsePriorVoters$1({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new PublicKey$2(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function getPriorVoters$1({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(parsePriorVoters$1),...n.slice(0,e).map(parsePriorVoters$1)]}const endpoint$1={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl$1(n,e){const t=e===!1?"http":"https";if(!n)return endpoint$1[t].devnet;const r=endpoint$1[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function sendAndConfirmRawTransaction$1(n,e,t,r){let o,a;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(o=t,a=r):a=t;const c=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},u=await n.sendRawTransaction(e,c),en=a&&a.commitment,nn=(await(o?n.confirmTransaction(o,en):n.confirmTransaction(u,en))).value;if(nn.err)throw new Error(`Raw transaction ${u} failed (${JSON.stringify(nn)})`);return u}const LAMPORTS_PER_SOL$1=1e9;var index_browser_esm$2=Object.freeze(Object.defineProperty({__proto__:null,Account:Account$1,AddressLookupTableAccount:AddressLookupTableAccount$1,AddressLookupTableInstruction:AddressLookupTableInstruction$1,AddressLookupTableProgram:AddressLookupTableProgram$1,Authorized:Authorized$1,BLOCKHASH_CACHE_TIMEOUT_MS:BLOCKHASH_CACHE_TIMEOUT_MS$1,BPF_LOADER_DEPRECATED_PROGRAM_ID:BPF_LOADER_DEPRECATED_PROGRAM_ID$1,BPF_LOADER_PROGRAM_ID:BPF_LOADER_PROGRAM_ID$1,BpfLoader:BpfLoader$1,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:COMPUTE_BUDGET_INSTRUCTION_LAYOUTS$1,ComputeBudgetInstruction:ComputeBudgetInstruction$1,ComputeBudgetProgram:ComputeBudgetProgram$1,Connection:Connection$1,Ed25519Program:Ed25519Program$1,Enum:Enum$1,EpochSchedule:EpochSchedule$1,FeeCalculatorLayout:FeeCalculatorLayout$2,Keypair:Keypair$2,LAMPORTS_PER_SOL:LAMPORTS_PER_SOL$1,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:LOOKUP_TABLE_INSTRUCTION_LAYOUTS$1,Loader:Loader$1,Lockup:Lockup$2,MAX_SEED_LENGTH:MAX_SEED_LENGTH$2,Message:Message$2,MessageAccountKeys:MessageAccountKeys$2,MessageV0:MessageV0$1,NONCE_ACCOUNT_LENGTH:NONCE_ACCOUNT_LENGTH$2,NonceAccount:NonceAccount$1,PACKET_DATA_SIZE:PACKET_DATA_SIZE$2,PUBLIC_KEY_LENGTH:PUBLIC_KEY_LENGTH$2,PublicKey:PublicKey$2,SIGNATURE_LENGTH_IN_BYTES:SIGNATURE_LENGTH_IN_BYTES$2,SOLANA_SCHEMA:SOLANA_SCHEMA$2,STAKE_CONFIG_ID:STAKE_CONFIG_ID$1,STAKE_INSTRUCTION_LAYOUTS:STAKE_INSTRUCTION_LAYOUTS$1,SYSTEM_INSTRUCTION_LAYOUTS:SYSTEM_INSTRUCTION_LAYOUTS$2,SYSVAR_CLOCK_PUBKEY:SYSVAR_CLOCK_PUBKEY$1,SYSVAR_EPOCH_SCHEDULE_PUBKEY:SYSVAR_EPOCH_SCHEDULE_PUBKEY$1,SYSVAR_INSTRUCTIONS_PUBKEY:SYSVAR_INSTRUCTIONS_PUBKEY$1,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$2,SYSVAR_RENT_PUBKEY:SYSVAR_RENT_PUBKEY$2,SYSVAR_REWARDS_PUBKEY:SYSVAR_REWARDS_PUBKEY$1,SYSVAR_SLOT_HASHES_PUBKEY:SYSVAR_SLOT_HASHES_PUBKEY$1,SYSVAR_SLOT_HISTORY_PUBKEY:SYSVAR_SLOT_HISTORY_PUBKEY$1,SYSVAR_STAKE_HISTORY_PUBKEY:SYSVAR_STAKE_HISTORY_PUBKEY$1,Secp256k1Program:Secp256k1Program$1,SendTransactionError:SendTransactionError$1,SolanaJSONRPCError:SolanaJSONRPCError$1,SolanaJSONRPCErrorCode:SolanaJSONRPCErrorCode$1,StakeAuthorizationLayout:StakeAuthorizationLayout$1,StakeInstruction:StakeInstruction$1,StakeProgram:StakeProgram$1,Struct:Struct$3,SystemInstruction:SystemInstruction$1,SystemProgram:SystemProgram$2,Transaction:Transaction$2,TransactionExpiredBlockheightExceededError:TransactionExpiredBlockheightExceededError$1,TransactionExpiredNonceInvalidError:TransactionExpiredNonceInvalidError$1,TransactionExpiredTimeoutError:TransactionExpiredTimeoutError$1,TransactionInstruction:TransactionInstruction$2,TransactionMessage:TransactionMessage$1,TransactionStatus:TransactionStatus$1,VALIDATOR_INFO_KEY:VALIDATOR_INFO_KEY$1,VERSION_PREFIX_MASK:VERSION_PREFIX_MASK$2,VOTE_PROGRAM_ID:VOTE_PROGRAM_ID$1,ValidatorInfo:ValidatorInfo$1,VersionedMessage:VersionedMessage$1,VersionedTransaction:VersionedTransaction$1,VoteAccount:VoteAccount$1,VoteAuthorizationLayout:VoteAuthorizationLayout$1,VoteInit:VoteInit$1,VoteInstruction:VoteInstruction$1,VoteProgram:VoteProgram$1,clusterApiUrl:clusterApiUrl$1,sendAndConfirmRawTransaction:sendAndConfirmRawTransaction$1,sendAndConfirmTransaction:sendAndConfirmTransaction$4},Symbol.toStringTag,{value:"Module"})),camelcase={exports:{}};const preserveCamelCase=n=>{let e=!1,t=!1,r=!1;for(let o=0;o<n.length;o++){const a=n[o];e&&/[a-zA-Z]/.test(a)&&a.toUpperCase()===a?(n=n.slice(0,o)+"-"+n.slice(o),e=!1,r=t,t=!0,o++):t&&r&&/[a-zA-Z]/.test(a)&&a.toLowerCase()===a?(n=n.slice(0,o-1)+"-"+n.slice(o-1),r=t,t=!1,e=!0):(e=a.toLowerCase()===a&&a.toUpperCase()!==a,r=t,t=a.toUpperCase()===a&&a.toLowerCase()!==a)}return n},camelCase=(n,e)=>{if(!(typeof n=="string"||Array.isArray(n)))throw new TypeError("Expected the input to be `string | string[]`");e=Object.assign({pascalCase:!1},e);const t=o=>e.pascalCase?o.charAt(0).toUpperCase()+o.slice(1):o;return Array.isArray(n)?n=n.map(o=>o.trim()).filter(o=>o.length).join("-"):n=n.trim(),n.length===0?"":n.length===1?e.pascalCase?n.toUpperCase():n.toLowerCase():(n!==n.toLowerCase()&&(n=preserveCamelCase(n)),n=n.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(o,a)=>a.toUpperCase()).replace(/\d+(\w|$)/g,o=>o.toUpperCase()),t(n))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var l=camelcase.exports,sha256={exports:{}};(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof dist$3.process=="object"&&dist$3.process.versions&&dist$3.process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(n){return typeof n=="object"&&n.buffer&&n.buffer.constructor===ArrayBuffer});var createOutputMethod=function(n,e){return function(t){return new Sha256(e,!0).update(t)[n]()}},createMethod=function(n){var e=createOutputMethod("hex",n);NODE_JS&&(e=nodeWrap(e,n)),e.create=function(){return new Sha256(n)},e.update=function(o){return e.create().update(o)};for(var t=0;t<OUTPUT_TYPES.length;++t){var r=OUTPUT_TYPES[t];e[r]=createOutputMethod(r,n)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(n){if(typeof n=="string")return crypto.createHash(algorithm).update(n,"utf8").digest("hex");if(n==null)throw new Error(ERROR);return n.constructor===ArrayBuffer&&(n=new Uint8Array(n)),Array.isArray(n)||ArrayBuffer.isView(n)||n.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(n)).digest("hex"):method(n)};return nodeMethod},createHmacOutputMethod=function(n,e){return function(t,r){return new HmacSha256(t,e,!0).update(r)[n]()}},createHmacMethod=function(n){var e=createHmacOutputMethod("hex",n);e.create=function(o){return new HmacSha256(o,n)},e.update=function(o,a){return e.create(o).update(a)};for(var t=0;t<OUTPUT_TYPES.length;++t){var r=OUTPUT_TYPES[t];e[r]=createHmacOutputMethod(r,n)}return e};function Sha256(n,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=n}Sha256.prototype.update=function(n){if(!this.finalized){var e,t=typeof n;if(t!=="string"){if(t==="object"){if(n===null)throw new Error(ERROR);if(ARRAY_BUFFER&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(n)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var r,o=0,a,c=n.length,u=this.blocks;o<c;){if(this.hashed&&(this.hashed=!1,u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),e)for(a=this.start;o<c&&a<64;++o)u[a>>2]|=n[o]<<SHIFT[a++&3];else for(a=this.start;o<c&&a<64;++o)r=n.charCodeAt(o),r<128?u[a>>2]|=r<<SHIFT[a++&3]:r<2048?(u[a>>2]|=(192|r>>6)<<SHIFT[a++&3],u[a>>2]|=(128|r&63)<<SHIFT[a++&3]):r<55296||r>=57344?(u[a>>2]|=(224|r>>12)<<SHIFT[a++&3],u[a>>2]|=(128|r>>6&63)<<SHIFT[a++&3],u[a>>2]|=(128|r&63)<<SHIFT[a++&3]):(r=65536+((r&1023)<<10|n.charCodeAt(++o)&1023),u[a>>2]|=(240|r>>18)<<SHIFT[a++&3],u[a>>2]|=(128|r>>12&63)<<SHIFT[a++&3],u[a>>2]|=(128|r>>6&63)<<SHIFT[a++&3],u[a>>2]|=(128|r&63)<<SHIFT[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.block=u[16],this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var n=this.blocks,e=this.lastByteIndex;n[16]=this.block,n[e>>2]|=EXTRA[e&3],this.block=n[16],e>=56&&(this.hashed||this.hash(),n[0]=this.block,n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),n[14]=this.hBytes<<3|this.bytes>>>29,n[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var n=this.h0,e=this.h1,t=this.h2,r=this.h3,o=this.h4,a=this.h5,c=this.h6,u=this.h7,en=this.blocks,tn,nn,sn,fn,dn,hn,ln,pn,$n,Sn,yn;for(tn=16;tn<64;++tn)dn=en[tn-15],nn=(dn>>>7|dn<<25)^(dn>>>18|dn<<14)^dn>>>3,dn=en[tn-2],sn=(dn>>>17|dn<<15)^(dn>>>19|dn<<13)^dn>>>10,en[tn]=en[tn-16]+nn+en[tn-7]+sn<<0;for(yn=e&t,tn=0;tn<64;tn+=4)this.first?(this.is224?(pn=300032,dn=en[0]-1413257819,u=dn-150054599<<0,r=dn+24177077<<0):(pn=704751109,dn=en[0]-210244248,u=dn-1521486534<<0,r=dn+143694565<<0),this.first=!1):(nn=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),sn=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),pn=n&e,fn=pn^n&t^yn,ln=o&a^~o&c,dn=u+sn+ln+K[tn]+en[tn],hn=nn+fn,u=r+dn<<0,r=dn+hn<<0),nn=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),sn=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),$n=r&n,fn=$n^r&e^pn,ln=u&o^~u&a,dn=c+sn+ln+K[tn+1]+en[tn+1],hn=nn+fn,c=t+dn<<0,t=dn+hn<<0,nn=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),sn=(c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7),Sn=t&r,fn=Sn^t&n^$n,ln=c&u^~c&o,dn=a+sn+ln+K[tn+2]+en[tn+2],hn=nn+fn,a=e+dn<<0,e=dn+hn<<0,nn=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),sn=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),yn=e&t,fn=yn^e&r^Sn,ln=a&c^~a&u,dn=o+sn+ln+K[tn+3]+en[tn+3],hn=nn+fn,o=n+dn<<0,n=dn+hn<<0;this.h0=this.h0+n<<0,this.h1=this.h1+e<<0,this.h2=this.h2+t<<0,this.h3=this.h3+r<<0,this.h4=this.h4+o<<0,this.h5=this.h5+a<<0,this.h6=this.h6+c<<0,this.h7=this.h7+u<<0},Sha256.prototype.hex=function(){this.finalize();var n=this.h0,e=this.h1,t=this.h2,r=this.h3,o=this.h4,a=this.h5,c=this.h6,u=this.h7,en=HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[c&15];return this.is224||(en+=HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]),en},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var n=this.h0,e=this.h1,t=this.h2,r=this.h3,o=this.h4,a=this.h5,c=this.h6,u=this.h7,en=[n>>24&255,n>>16&255,n>>8&255,n&255,e>>24&255,e>>16&255,e>>8&255,e&255,t>>24&255,t>>16&255,t>>8&255,t&255,r>>24&255,r>>16&255,r>>8&255,r&255,o>>24&255,o>>16&255,o>>8&255,o&255,a>>24&255,a>>16&255,a>>8&255,a&255,c>>24&255,c>>16&255,c>>8&255,c&255];return this.is224||en.push(u>>24&255,u>>16&255,u>>8&255,u&255),en},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var n=new ArrayBuffer(this.is224?28:32),e=new DataView(n);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),n};function HmacSha256(n,e,t){var r,o=typeof n;if(o==="string"){var a=[],c=n.length,u=0,en;for(r=0;r<c;++r)en=n.charCodeAt(r),en<128?a[u++]=en:en<2048?(a[u++]=192|en>>6,a[u++]=128|en&63):en<55296||en>=57344?(a[u++]=224|en>>12,a[u++]=128|en>>6&63,a[u++]=128|en&63):(en=65536+((en&1023)<<10|n.charCodeAt(++r)&1023),a[u++]=240|en>>18,a[u++]=128|en>>12&63,a[u++]=128|en>>6&63,a[u++]=128|en&63);n=a}else if(o==="object"){if(n===null)throw new Error(ERROR);if(ARRAY_BUFFER&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(n)))throw new Error(ERROR)}else throw new Error(ERROR);n.length>64&&(n=new Sha256(e,!0).update(n).array());var tn=[],nn=[];for(r=0;r<64;++r){var sn=n[r]||0;tn[r]=92^sn,nn[r]=54^sn}Sha256.call(this,e,t),this.update(nn),this.oKeyPad=tn,this.inner=!0,this.sharedMemory=t}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var n=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(n),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var lib={},require$$0$2=getAugmentedNamespace(index_browser_esm$2);(function(n){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(Kn){return Kn&&Kn.__esModule?Kn:{default:Kn}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=Layout$2,r=require$$0$2,o=e(bn.exports);var a=Layout$2;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return a.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return a.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return a.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return a.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return a.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return a.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return a.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return a.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return a.struct}});class c extends t.Layout{constructor(Hn,jn,Cn){super(Hn,Cn),this.blob=t.blob(Hn),this.signed=jn}decode(Hn,jn=0){const Cn=new o.default(this.blob.decode(Hn,jn),10,"le");return this.signed?Cn.fromTwos(this.span*8).clone():Cn}encode(Hn,jn,Cn=0){return this.signed&&(Hn=Hn.toTwos(this.span*8)),this.blob.encode(Hn.toArrayLike(dist$3.Buffer,"le",this.span),jn,Cn)}}function u(Kn){return new c(8,!1,Kn)}n.u64=u;function en(Kn){return new c(8,!0,Kn)}n.i64=en;function tn(Kn){return new c(16,!1,Kn)}n.u128=tn;function nn(Kn){return new c(16,!0,Kn)}n.i128=nn;class sn extends t.Layout{constructor(Hn,jn,Cn,mn){super(Hn.span,mn),this.layout=Hn,this.decoder=jn,this.encoder=Cn}decode(Hn,jn){return this.decoder(this.layout.decode(Hn,jn))}encode(Hn,jn,Cn){return this.layout.encode(this.encoder(Hn),jn,Cn)}getSpan(Hn,jn){return this.layout.getSpan(Hn,jn)}}function fn(Kn){return new sn(t.blob(32),Hn=>new r.PublicKey(Hn),Hn=>Hn.toBuffer(),Kn)}n.publicKey=fn;class dn extends t.Layout{constructor(Hn,jn){super(-1,jn),this.layout=Hn,this.discriminator=t.u8()}encode(Hn,jn,Cn=0){return Hn==null?this.discriminator.encode(0,jn,Cn):(this.discriminator.encode(1,jn,Cn),this.layout.encode(Hn,jn,Cn+1)+1)}decode(Hn,jn=0){const Cn=this.discriminator.decode(Hn,jn);if(Cn===0)return null;if(Cn===1)return this.layout.decode(Hn,jn+1);throw new Error("Invalid option "+this.property)}getSpan(Hn,jn=0){const Cn=this.discriminator.decode(Hn,jn);if(Cn===0)return 1;if(Cn===1)return this.layout.getSpan(Hn,jn+1)+1;throw new Error("Invalid option "+this.property)}}function hn(Kn,Hn){return new dn(Kn,Hn)}n.option=hn;function ln(Kn){return new sn(t.u8(),pn,$n,Kn)}n.bool=ln;function pn(Kn){if(Kn===0)return!1;if(Kn===1)return!0;throw new Error("Invalid bool: "+Kn)}function $n(Kn){return Kn?1:0}function Sn(Kn,Hn){const jn=t.u32("length"),Cn=t.struct([jn,t.seq(Kn,t.offset(jn,-jn.span),"values")]);return new sn(Cn,({values:mn})=>mn,mn=>({values:mn}),Hn)}n.vec=Sn;function yn(Kn,Hn,jn){const Cn=t.struct([u("tag"),Hn.replicate("data")]);function mn({tag:_n,data:vn}){if(!_n.eq(Kn))throw new Error("Invalid tag, expected: "+Kn.toString("hex")+", got: "+_n.toString("hex"));return vn}return new sn(Cn,mn,_n=>({tag:Kn,data:_n}),jn)}n.tagged=yn;function In(Kn){const Hn=t.u32("length"),jn=t.struct([Hn,t.blob(t.offset(Hn,-Hn.span),"data")]);return new sn(jn,({data:Cn})=>Cn,Cn=>({data:Cn}),Kn)}n.vecU8=In;function An(Kn){return new sn(In(),Hn=>Hn.toString("utf-8"),Hn=>dist$3.Buffer.from(Hn,"utf-8"),Kn)}n.str=An;function Tn(Kn,Hn,jn){const Cn=t.union(jn??t.u8(),Hn);return Kn.forEach((mn,_n)=>Cn.addVariant(_n,mn,mn.property)),Cn}n.rustEnum=Tn;function kn(Kn,Hn,jn){const Cn=t.struct([t.seq(Kn,Hn,"values")]);return new sn(Cn,({values:mn})=>mn,mn=>({values:mn}),jn)}n.array=kn;class Pn extends t.Layout{constructor(Hn,jn,Cn){super(Hn.span+jn.span,Cn),this.keyLayout=Hn,this.valueLayout=jn}decode(Hn,jn){jn=jn||0;const Cn=this.keyLayout.decode(Hn,jn),mn=this.valueLayout.decode(Hn,jn+this.keyLayout.getSpan(Hn,jn));return[Cn,mn]}encode(Hn,jn,Cn){Cn=Cn||0;const mn=this.keyLayout.encode(Hn[0],jn,Cn),_n=this.valueLayout.encode(Hn[1],jn,Cn+mn);return mn+_n}getSpan(Hn,jn){return this.keyLayout.getSpan(Hn,jn)+this.valueLayout.getSpan(Hn,jn)}}function Dn(Kn,Hn,jn){const Cn=t.u32("length"),mn=t.struct([Cn,t.seq(new Pn(Kn,Hn),t.offset(Cn,-Cn.span),"values")]);return new sn(mn,({values:_n})=>new Map(_n),_n=>({values:Array.from(_n.entries())}),jn)}n.map=Dn})(lib);var g=Object.freeze({__proto__:null,encode:function(n){return n.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"0x")},decode:function(n){n.indexOf("0x")===0&&(n=n.substr(2)),n.length%2==1&&(n="0"+n);let e=n.match(/.{2}/g);return e===null?bufferPolyfill.Buffer.from([]):bufferPolyfill.Buffer.from(e.map(t=>parseInt(t,16)))}});function w(n){return new TextDecoder("utf-8").decode(n)}function v(n){return new TextEncoder().encode(n)}var b=Object.freeze({__proto__:null,decode:w,encode:v});function A(n){return bs58$3.encode(n)}var _=Object.freeze({__proto__:null,encode:A,decode:function(n){return bs58$3.decode(n)}});function E(n){return bufferPolyfill.Buffer.from(toByteArray_1(n))}var S=Object.freeze({__proto__:null,encode:function(n){return fromByteArray_1(n)},decode:E}),I=Object.freeze({__proto__:null,hex:g,utf8:b,bs58:_,base64:S});function k(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let o=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,o)}),e}function x(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(o=>{t[o.name]=e[r],r+=1}),t}function M(n,e={}){n.forEach(t=>{if("accounts"in t)M(t.accounts,e[t.name]);else if(e[t.name]===void 0)throw new Error(`Invalid arguments: ${t.name} not provided.`)})}function P(n){return n instanceof PublicKey$2?n:new PublicKey$2(n)}class T extends TypeError{constructor(e,t){let r;const{message:o,...a}=e,{path:c}=e;super(c.length===0?o:"At path: "+c.join(".")+" -- "+o),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var u;return(u=r)!=null?u:r=[e,...t()]}}}function C(n){return typeof n=="object"&&n!=null}function L(n){return typeof n=="string"?JSON.stringify(n):""+n}function O(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:a}=e,{type:c}=t,{refinement:u,message:en="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+L(r)+"`"}=n;return{value:r,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...n,message:en}}function*B(n,e,t,r){var o;C(o=n)&&typeof o[Symbol.iterator]=="function"||(n=[n]);for(const a of n){const c=O(a,e,t,r);c&&(yield c)}}function*D(n,e,t={}){const{path:r=[],branch:o=[n],coerce:a=!1,mask:c=!1}=t,u={path:r,branch:o};if(a&&(n=e.coercer(n,u),c&&e.type!=="type"&&C(e.schema)&&C(n)&&!Array.isArray(n)))for(const tn in n)e.schema[tn]===void 0&&delete n[tn];let en=!0;for(const tn of e.validator(n,u))en=!1,yield[tn,void 0];for(let[tn,nn,sn]of e.entries(n,u)){const fn=D(nn,sn,{path:tn===void 0?r:[...r,tn],branch:tn===void 0?o:[...o,nn],coerce:a,mask:c});for(const dn of fn)dn[0]?(en=!1,yield[dn[0],void 0]):a&&(nn=dn[1],tn===void 0?n=nn:n instanceof Map?n.set(tn,nn):n instanceof Set?n.add(nn):C(n)&&(n[tn]=nn))}if(en)for(const tn of e.refiner(n,u))en=!1,yield[tn,void 0];en&&(yield[void 0,n])}class z{constructor(e){const{type:t,schema:r,validator:o,refiner:a,coercer:c=en=>en,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,this.validator=o?(en,tn)=>B(o(en,tn),tn,this,en):()=>[],this.refiner=a?(en,tn)=>B(a(en,tn),tn,this,en):()=>[]}assert(e){return function(t,r){const o=R(t,r);if(o[0])throw o[0]}(e,this)}create(e){return N(e,this)}is(e){return j(e,this)}mask(e){return function(t,r){const o=R(t,r,{coerce:!0,mask:!0});if(o[0])throw o[0];return o[1]}(e,this)}validate(e,t={}){return R(e,this,t)}}function N(n,e){const t=R(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function j(n,e){return!R(n,e)[0]}function R(n,e,t={}){const r=D(n,e,t),o=function(a){const{done:c,value:u}=a.next();return c?void 0:u}(r);return o[0]?[new T(o[0],function*(){for(const a of r)a[0]&&(yield a[0])}),void 0]:[void 0,o[1]]}function U(n,e){return new z({type:n,schema:null,validator:e})}function V(n){return new z({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+L(e)})}function $(n){const e=L(n),t=typeof n;return new z({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator:r=>r===n||"Expected the literal `"+e+"`, but received: "+L(r)})}function q(n){return new z({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function K(){return U("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+L(n))}function F(n){return new z({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function W(){return U("string",n=>typeof n=="string"||"Expected a string, but received: "+L(n))}function G(n){const e=Object.keys(n);return new z({type:"type",schema:n,*entries(t){if(C(t))for(const r of e)yield[r,t[r],n[r]]},validator:t=>C(t)||"Expected an object, but received: "+L(t)})}function H(n){const e=n.map(t=>t.type).join(" | ");return new z({type:"union",schema:null,validator(t,r){const o=[];for(const a of n){const[...c]=D(t,a,r),[u]=c;if(!u[0])return[];for(const[en]of c)en&&o.push(en)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+L(t),...o]}})}function J(){return U("unknown",()=>!0)}async function Z(n,e,t){if(e.length<=99)return await Q(n,e,t);{const r=function(o,a){return Array.apply(0,new Array(Math.ceil(o.length/a))).map((c,u)=>o.slice(u*a,(u+1)*a))}(e,99);return(await Promise.all(r.map(o=>Q(n,o,t)))).flat()}}async function Q(n,e,t){const r=t??n.commitment;return(await n.getMultipleAccountsInfo(e,r)).map((o,a)=>o===null?null:{publicKey:e[a],account:o})}async function X(n,e,t,r,o){t&&t.length>0&&e.sign(...t);const a=e._compile(),c=a.serialize(),u=e._serialize(c).toString("base64"),en={encoding:"base64",commitment:r??n.commitment};if(o){const sn=(Array.isArray(o)?o:a.nonProgramIds()).map(fn=>fn.toBase58());en.accounts={encoding:"base64",addresses:sn}}t&&(en.sigVerify=!0);const tn=[u,en],nn=N(await n._rpcRequest("simulateTransaction",tn),rt);if("error"in nn){let sn;if("data"in nn.error&&(sn=nn.error.data.logs,sn&&Array.isArray(sn))){const fn=`
    `,dn=fn+sn.join(fn);console.error(nn.error.message,dn)}throw new SendTransactionError$1("failed to simulate transaction: "+nn.error.message,sn)}return nn.result}function Y(n){return function(e,t,r){return new z({...e,coercer:(o,a)=>j(o,t)?e.coercer(r(o,a),a):e.coercer(o,a)})}(et(n),tt,e=>"error"in e?e:{...e,result:N(e.result,n)})}const tt=et(J());function et(n){return H([G({jsonrpc:$("2.0"),id:W(),result:n}),G({jsonrpc:$("2.0"),id:W(),error:G({code:J(),message:W(),data:F(U("any",()=>!0))})})])}const rt=(nt=G({err:q(H([G({}),W()])),logs:q(V(W())),accounts:F(q(V(q(G({executable:U("boolean",n=>typeof n=="boolean"),owner:W(),lamports:K(),data:V(W()),rentEpoch:F(K())}))))),unitsConsumed:F(K())}),Y(G({context:G({slot:K()}),value:nt})));var nt,it=Object.freeze({__proto__:null,invoke:async function(n,e,t,r){n=P(n),r||(r=dt());const o=new Transaction$2;if(o.add(new TransactionInstruction$2({programId:n,keys:e??[],data:t})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(o,[])},getMultipleAccounts:Z,simulateTransaction:X});class ot{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var o;r===void 0&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(t??[]).forEach(c=>{e.partialSign(c)});const a=e.serialize();try{return await at(this.connection,a,r)}catch(c){if(c instanceof ct){const u=await this.connection.getTransaction(A(e.signature),{commitment:"confirmed"});if(u){const en=(o=u.meta)===null||o===void 0?void 0:o.logMessages;throw en?new SendTransactionError$1(c.message,en):c}throw c}throw c}}async sendAll(e,t){t===void 0&&(t=this.opts);const r=await this.connection.getRecentBlockhash(t.preflightCommitment);let o=e.map(u=>{var en;let tn=u.tx,nn=(en=u.signers)!==null&&en!==void 0?en:[];return tn.feePayer=this.wallet.publicKey,tn.recentBlockhash=r.blockhash,nn.forEach(sn=>{tn.partialSign(sn)}),tn});const a=await this.wallet.signAllTransactions(o),c=[];for(let u=0;u<o.length;u+=1){const en=a[u].serialize();c.push(await at(this.connection,en,t))}return c}async simulate(e,t,r,o){e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const a=await X(this.connection,e,t,r,o);if(a.value.err)throw new st(a.value);return a.value}}class st extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function at(n,e,t){const r=t&&{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment},o=await n.sendRawTransaction(e,r),a=(await n.confirmTransaction(o,t&&t.commitment)).value;if(a.err)throw new ct(`Raw transaction ${o} failed (${JSON.stringify(a)})`);return o}class ct extends Error{constructor(e){super(e)}}function ut(n){lt=n}function dt(){return lt===null?ot.local():lt}let lt=null;const ht=new Set(["anchor-deprecated-state","debug-logs"]),ft=new Map;function pt(n){return ft.get(n)!==void 0}var mt=Object.freeze({__proto__:null,set:function(n){if(!ht.has(n))throw new Error("Invalid feature");ft.set(n,!0)},isSet:pt});class yt extends Error{constructor(e){super(e),this.name="IdlError"}}class gt{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,o=/^Program \w* success/,a=[];for(let c=0;c<e.length;c++){if(o.exec(e[c])){a.pop();continue}const u=(t=r.exec(e[c]))===null||t===void 0?void 0:t[1];u&&a.push(new PublicKey$2(u))}return new gt(a)}}class wt extends Error{constructor(e,t,r,o,a,c){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=o,this.error={errorCode:e,errorMessage:t,comparedValues:c,origin:a},this._programErrorStack=gt.parse(o)}static parse(e){if(!e)return null;const t=e.findIndex(tn=>tn.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],o=[r];let a;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const tn=/^Program log: (.*)$/,nn=tn.exec(e[t+2])[1],sn=tn.exec(e[t+4])[1];a=[new PublicKey$2(nn),new PublicKey$2(sn)],o.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const tn=/^Program log: (Left|Right): (.*)$/,nn=tn.exec(e[t+1])[2],sn=tn.exec(e[t+2])[2];o.push(...e.slice(t+1,t+3)),a=[nn,sn]}}const c=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),u=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),en=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(c){const[tn,nn,sn]=c.slice(1,4),fn={code:tn,number:parseInt(nn)};return new wt(fn,sn,o,e,void 0,a)}if(u){const[tn,nn,sn,fn,dn]=u.slice(1,6),hn={code:sn,number:parseInt(fn)},ln={file:tn,line:parseInt(nn)};return new wt(hn,dn,o,e,ln,a)}if(en){const[tn,nn,sn,fn]=en.slice(1,5),dn=tn,hn={code:nn,number:parseInt(sn)};return new wt(hn,fn,o,e,dn,a)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class vt extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=gt.parse(r))}static parse(e,t){const r=e.toString();let o,a;if(r.includes("custom program error:")){let u=r.split("custom program error: ");if(u.length!==2)return null;o=u[1]}else{const u=r.match(/"Custom":([0-9]+)}/g);if(!u||u.length>1)return null;o=u[0].match(/([0-9]+)/g)[0]}try{a=parseInt(o)}catch{return null}let c=t.get(a);return c!==void 0?new vt(a,c,e.logs):(c=_t.get(a),c!==void 0?new vt(a,c,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function bt(n,e){pt("debug-logs")&&console.log("Translating error:",n);const t=wt.parse(n.logs);if(t)return t;const r=vt.parse(n,e);if(r)return r;if(n.logs){const o={get:function(a,c){return c==="programErrorStack"?a.programErrorStack.stack:c==="program"?a.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=gt.parse(n.logs),new Proxy(n,o)}return n}const At={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},_t=new Map([[At.InstructionMissing,"8 byte instruction identifier not provided"],[At.InstructionFallbackNotFound,"Fallback functions are not supported"],[At.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[At.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[At.IdlInstructionStub,"The program was compiled without idl instructions"],[At.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[At.ConstraintMut,"A mut constraint was violated"],[At.ConstraintHasOne,"A has_one constraint was violated"],[At.ConstraintSigner,"A signer constraint was violated"],[At.ConstraintRaw,"A raw constraint was violated"],[At.ConstraintOwner,"An owner constraint was violated"],[At.ConstraintRentExempt,"A rent exemption constraint was violated"],[At.ConstraintSeeds,"A seeds constraint was violated"],[At.ConstraintExecutable,"An executable constraint was violated"],[At.ConstraintState,"A state constraint was violated"],[At.ConstraintAssociated,"An associated constraint was violated"],[At.ConstraintAssociatedInit,"An associated init constraint was violated"],[At.ConstraintClose,"A close constraint was violated"],[At.ConstraintAddress,"An address constraint was violated"],[At.ConstraintZero,"Expected zero account discriminant"],[At.ConstraintTokenMint,"A token mint constraint was violated"],[At.ConstraintTokenOwner,"A token owner constraint was violated"],[At.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[At.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[At.ConstraintMintDecimals,"A mint decimals constraint was violated"],[At.ConstraintSpace,"A space constraint was violated"],[At.RequireViolated,"A require expression was violated"],[At.RequireEqViolated,"A require_eq expression was violated"],[At.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[At.RequireNeqViolated,"A require_neq expression was violated"],[At.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[At.RequireGtViolated,"A require_gt expression was violated"],[At.RequireGteViolated,"A require_gte expression was violated"],[At.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[At.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[At.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[At.AccountDidNotDeserialize,"Failed to deserialize the account"],[At.AccountDidNotSerialize,"Failed to serialize the account"],[At.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[At.AccountNotMutable,"The given account is not mutable"],[At.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[At.InvalidProgramId,"Program ID was not as expected"],[At.InvalidProgramExecutable,"Program account is not executable"],[At.AccountNotSigner,"The given account did not sign"],[At.AccountNotSystemOwned,"The given account is not owned by the system program"],[At.AccountNotInitialized,"The program expected this account to be already initialized"],[At.AccountNotProgramData,"The given account is not a program data account"],[At.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[At.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[At.StateInvalidAddress,"The given state account does not have the correct address"],[At.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[At.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Et=function(){return Et=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},Et.apply(this,arguments)};function St(n){return n.toLowerCase()}var It=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],kt=/[^A-Z0-9]+/gi;function xt(n,e,t){return e instanceof RegExp?n.replace(e,t):e.reduce(function(r,o){return r.replace(o,t)},n)}function Mt(n,e){return e===void 0&&(e={}),function(t,r){r===void 0&&(r={});for(var o=r.splitRegexp,a=o===void 0?It:o,c=r.stripRegexp,u=c===void 0?kt:c,en=r.transform,tn=en===void 0?St:en,nn=r.delimiter,sn=nn===void 0?" ":nn,fn=xt(xt(t,a,"$1\0$2"),u,"\0"),dn=0,hn=fn.length;fn.charAt(dn)==="\0";)dn++;for(;fn.charAt(hn-1)==="\0";)hn--;return fn.slice(dn,hn).split("\0").map(tn).join(sn)}(n,Et({delimiter:"."},e))}class Pt{static fieldLayout(e,t){const r=e.name!==void 0?l(e.name):void 0;switch(e.type){case"bool":return lib.bool(r);case"u8":return lib.u8(r);case"i8":return lib.i8(r);case"u16":return lib.u16(r);case"i16":return lib.i16(r);case"u32":return lib.u32(r);case"i32":return lib.i32(r);case"f32":return lib.f32(r);case"u64":return lib.u64(r);case"i64":return lib.i64(r);case"f64":return lib.f64(r);case"u128":return lib.u128(r);case"i128":return lib.i128(r);case"bytes":return lib.vecU8(r);case"string":return lib.str(r);case"publicKey":return lib.publicKey(r);default:if("vec"in e.type)return lib.vec(Pt.fieldLayout({name:void 0,type:e.type.vec},t),r);if("option"in e.type)return lib.option(Pt.fieldLayout({name:void 0,type:e.type.option},t),r);if("defined"in e.type){const o=e.type.defined;if(t===void 0)throw new yt("User defined types not provided");const a=t.filter(c=>c.name===o);if(a.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Pt.typeDefLayout(a[0],t,r)}if("array"in e.type){let o=e.type.array[0],a=e.type.array[1],c=Pt.fieldLayout({name:void 0,type:o},t);return lib.array(c,a,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],r){if(e.type.kind==="struct"){const o=e.type.fields.map(a=>Pt.fieldLayout(a,t));return lib.struct(o,r)}if(e.type.kind==="enum"){let o=e.type.variants.map(a=>{const c=l(a.name);if(a.fields===void 0)return lib.struct([],c);const u=a.fields.map(en=>{if(!en.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Pt.fieldLayout(en,t)});return lib.struct(u,c)});return r!==void 0?lib.rustEnum(o).replicate(r):lib.rustEnum(o,r)}throw new Error(`Unknown type kint: ${e}`)}}class Tt{constructor(e){this.idl=e,this.ixLayout=Tt.parseIxLayout(e);const t=new Map;e.instructions.forEach(r=>{const o=Lt("global",r.name);t.set(bs58$3.encode(o),{layout:this.ixLayout.get(r.name),name:r.name})}),e.state&&e.state.methods.map(r=>{const o=Lt("state",r.name);t.set(bs58$3.encode(o),{layout:this.ixLayout.get(r.name),name:r.name})}),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,r){const o=bufferPolyfill.Buffer.alloc(1e3),a=l(t),c=this.ixLayout.get(a);if(!c)throw new Error(`Unknown method: ${a}`);const u=c.encode(r,o),en=o.slice(0,u);return bufferPolyfill.Buffer.concat([Lt(e,t),en])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map(r=>{let o=r.args.map(c=>{var u,en;return Pt.fieldLayout(c,Array.from([...(u=e.accounts)!==null&&u!==void 0?u:[],...(en=e.types)!==null&&en!==void 0?en:[]]))});const a=l(r.name);return[a,lib.struct(o,a)]}).concat(e.instructions.map(r=>{let o=r.args.map(c=>{var u,en;return Pt.fieldLayout(c,Array.from([...(u=e.accounts)!==null&&u!==void 0?u:[],...(en=e.types)!==null&&en!==void 0?en:[]]))});const a=l(r.name);return[a,lib.struct(o,a)]}));return new Map(t)}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?bufferPolyfill.Buffer.from(e,"hex"):bs58$3.decode(e));let r=bs58$3.encode(e.slice(0,8)),o=e.slice(8);const a=this.sighashLayouts.get(r);return a?{data:a.layout.decode(o),name:a.name}:null}format(e,t){return Ct.format(e,t,this.idl)}}class Ct{static format(e,t,r){const o=r.instructions.filter(u=>e.name===u.name)[0];if(o===void 0)return console.error("Invalid instruction given"),null;const a=o.args.map(u=>({name:u.name,type:Ct.formatIdlType(u.type),data:Ct.formatIdlData(u,e.data[u.name],r.types)})),c=Ct.flattenIdlAccounts(o.accounts);return{args:a,accounts:t.map((u,en)=>en<c.length?{name:c[en].name,...u}:{name:void 0,...u})}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map(o=>this.formatIdlData({name:"",type:e.type.vec},o)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if(e.type.hasOwnProperty("defined")){if(r===void 0)throw new Error("User defined types not provided");const o=r.filter(a=>a.name===e.type.defined);if(o.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Ct.formatIdlDataDefined(o[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if(e.type.kind==="struct"){const o=e.type;return"{ "+Object.keys(t).map(a=>{const c=o.fields.filter(u=>u.name===a)[0];if(c===void 0)throw new Error("Unable to find type");return a+": "+Ct.formatIdlData(c,t[a],r)}).join(", ")+" }"}if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const o=e.type.variants,a=Object.keys(t)[0],c=t[a],u=Object.keys(c).map(tn=>{var nn;const sn=c[tn],fn=(nn=o[a])===null||nn===void 0?void 0:nn.filter(dn=>dn.name===tn)[0];if(fn===void 0)throw new Error("Unable to find variant");return tn+": "+Ct.formatIdlData(fn,sn,r)}).join(", "),en=l(a,{pascalCase:!0});return u.length===0?en:`${en} { ${u} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map(r=>{const o=function(a){const c=a.replace(/([A-Z])/g," $1");return c.charAt(0).toUpperCase()+c.slice(1)}(r.name);if(r.hasOwnProperty("accounts")){const a=t?`${t} > ${o}`:o;return Ct.flattenIdlAccounts(r.accounts,a)}return{...r,name:t?`${t} > ${o}`:o}}).flat()}}function Lt(n,e){var t;let r=`${n}:${t===void 0&&(t={}),Mt(e,Et({delimiter:"_"},t))}`;return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(r)).slice(0,8)}function Ot(n,e){if(e.type.kind==="enum"){let t=e.type.variants.map(r=>r.fields===void 0?0:r.fields.map(o=>{if(typeof o!="object"||!("name"in o))throw new Error("Tuple enum variants not yet implemented.");return Bt(n,o.type)}).reduce((o,a)=>o+a));return Math.max(...t)+1}return e.type.fields===void 0?0:e.type.fields.map(t=>Bt(n,t.type)).reduce((t,r)=>t+r,0)}function Bt(n,e){var t,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Bt(n,e.option);if("coption"in e)return 4+Bt(n,e.coption);if("defined"in e){const o=(r=(t=n.types)===null||t===void 0?void 0:t.filter(a=>a.name===e.defined))!==null&&r!==void 0?r:[];if(o.length!==1)throw new yt(`Type not found: ${JSON.stringify(e)}`);return Ot(n,o[0])}if("array"in e){let o=e.array[0],a=e.array[1];return Bt(n,o)*a}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const Dt=8;class zt{constructor(e){if(e.accounts===void 0)return void(this.accountLayouts=new Map);const t=e.accounts.map(r=>[r.name,Pt.typeDefLayout(r,e.types)]);this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const r=bufferPolyfill.Buffer.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const a=o.encode(t,r);let c=r.slice(0,a),u=zt.accountDiscriminator(e);return bufferPolyfill.Buffer.concat([u,c])}decode(e,t){if(zt.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const r=t.slice(8),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);return o.decode(r)}memcmp(e,t){const r=zt.accountDiscriminator(e);return{offset:0,bytes:bs58$3.encode(t?bufferPolyfill.Buffer.concat([r,t]):r)}}size(e){var t;return 8+((t=Ot(this.idl,e))!==null&&t!==void 0?t:0)}static accountDiscriminator(e){return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(`account:${l(e,{pascalCase:!0})}`)).slice(0,8)}}class Nt{constructor(e){if(e.events===void 0)return void(this.layouts=new Map);const t=e.events.map(r=>{let o={name:r.name,type:{kind:"struct",fields:r.fields.map(a=>({name:a.name,type:a.type}))}};return[r.name,Pt.typeDefLayout(o,e.types)]});this.layouts=new Map(t),this.discriminators=new Map(e.events===void 0?[]:e.events.map(r=>[fromByteArray_1(jt(r.name)),r.name]))}decode(e){let t;try{t=bufferPolyfill.Buffer.from(toByteArray_1(e))}catch{return null}const r=fromByteArray_1(t.slice(0,8)),o=this.discriminators.get(r);if(o===void 0)return null;const a=this.layouts.get(o);if(!a)throw new Error(`Unknown event: ${o}`);return{data:a.decode(t.slice(8)),name:o}}}function jt(n){return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(`event:${n}`)).slice(0,8)}class Rt{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=Pt.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=bufferPolyfill.Buffer.alloc(1e3),o=this.layout.encode(t,r),a=await Ut(e),c=r.slice(0,o);return bufferPolyfill.Buffer.concat([a,c])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function Ut(n){let e=pt("anchor-deprecated-state")?"account":"state";return bufferPolyfill.Buffer.from(sha256.exports.sha256.digest(`${e}:${n}`)).slice(0,8)}class Vt{constructor(e){this.instruction=new Tt(e),this.accounts=new zt(e),this.events=new Nt(e),e.state&&(this.state=new Rt(e))}}var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:{};function qt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}class Kt{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var Ft=Kt;class Wt extends Kt{isCount(){throw new Error("ExternalLayout is abstract")}}class Gt extends Wt{constructor(e,t,r){if(!(e instanceof Kt))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Ht||this.layout instanceof Jt}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class Ht extends Kt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class Jt extends Kt{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const Zt=Math.pow(2,32);class Qt extends Kt{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t);return function(o,a){return o*Zt+a}(e.readUInt32LE(t+4),r)}encode(e,t,r){r===void 0&&(r=0);const o=function(a){const c=Math.floor(a/Zt);return{hi32:c,lo32:a-c*Zt}}(e);return t.writeUInt32LE(o.lo32,r),t.writeUInt32LE(o.hi32,r+4),8}}class Xt extends Kt{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce((a,c)=>a&&c instanceof Kt,!0))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((a,c)=>a+c.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((o,a)=>{const c=a.getSpan(e,t);return t+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const o=r;let a=0,c=0;for(const u of this.fields){let en=u.span;if(c=0<en?en:0,u.property!==void 0){const tn=e[u.property];tn!==void 0&&(c=u.encode(tn,t,r),0>en&&(en=u.getSpan(t,r)))}a=r,r+=en}return a+c-o}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class Yt{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class te extends Yt{constructor(e,t){if(!(e instanceof Wt&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class ee extends Kt{constructor(e,t,r){const o=e instanceof Ht||e instanceof Jt;if(o)e=new te(new Gt(e));else if(e instanceof Wt&&e.isCount())e=new te(e);else if(!(e instanceof Yt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Kt))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let a=-1;t&&(a=t.span,0<=a&&o&&(a+=e.layout.span)),super(a,r),this.discriminator=e,this.usesPrefixDiscriminator=o,this.defaultLayout=t,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;t===void 0&&(t=0);const o=this.discriminator,a=o.decode(e,t);let c=this.registry[a];if(c===void 0){let u=0;c=this.defaultLayout,this.usesPrefixDiscriminator&&(u=o.layout.span),r=this.makeDestinationObject(),r[o.property]=a,r[c.property]=this.defaultLayout.decode(e,t+u)}else r=c.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const o=this.getSourceVariant(e);if(o===void 0){const a=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=a.layout.span),a.encode(e[a.property],t,r),u+c.encode(e[c.property],t,r+u)}return o.encode(e,t,r)}addVariant(e,t,r){const o=new re(this,e,t,r);return this.registry[e]=o,o}getVariant(e,t){let r=e;return dist$3.Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class re extends Kt{constructor(e,t,r,o){if(!(e instanceof ee))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&o===void 0&&(o=r,r=null),r){if(!(r instanceof Kt))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let a=e.span;0>e.span&&(a=r?r.span:0,0<=a&&e.usesPrefixDiscriminator&&(a+=e.discriminator.layout.span)),super(a,o),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+o):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let a=o;if(this.layout&&(this.layout.encode(e[this.property],t,r+o),a+=this.layout.getSpan(t,r+o),0<=this.union.span&&a>this.union.span))throw new Error("encoded variant overruns containing union");return a}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class ne extends Kt{constructor(e,t){if(!(e instanceof Wt&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Wt||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof Wt&&(o=e.length),!dist$3.Buffer.isBuffer(e)||o!==e.length)throw new TypeError((a="Blob.encode",((c=this).property?a+"["+c.property+"]":a)+" requires (length "+o+") Buffer as src"));var a,c;if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,o,"hex"),this.length instanceof Wt&&this.length.encode(o,t,r),o}}var ie=n=>new Ht(1,n),oe=n=>new Qt(n),se=(n,e,t)=>new Xt(n,e,t),ae=(n,e)=>new ne(n,e);class ce{constructor(e){}encode(e,t){switch(l(e)){case"initializeMint":return function({decimals:r,mintAuthority:o,freezeAuthority:a}){return pe({initializeMint:{decimals:r,mintAuthority:o.toBuffer(),freezeAuthorityOption:!!a,freezeAuthority:(a||PublicKey$2.default).toBuffer()}})}(t);case"initializeAccount":return pe({initializeAccount:{}});case"initializeMultisig":return function({m:r}){return pe({initializeMultisig:{m:r}})}(t);case"transfer":return function({amount:r}){return pe({transfer:{amount:r}})}(t);case"approve":return function({amount:r}){return pe({approve:{amount:r}})}(t);case"revoke":return pe({revoke:{}});case"setAuthority":return function({authorityType:r,newAuthority:o}){return pe({setAuthority:{authorityType:r,newAuthority:o}})}(t);case"mintTo":return function({amount:r}){return pe({mintTo:{amount:r}})}(t);case"burn":return function({amount:r}){return pe({burn:{amount:r}})}(t);case"closeAccount":return pe({closeAccount:{}});case"freezeAccount":return pe({freezeAccount:{}});case"thawAccount":return pe({thawAccount:{}});case"transferChecked":return function({amount:r,decimals:o}){return pe({transferChecked:{amount:r,decimals:o}})}(t);case"approvedChecked":return function({amount:r,decimals:o}){return pe({approveChecked:{amount:r,decimals:o}})}(t);case"mintToChecked":return function({amount:r,decimals:o}){return pe({mintToChecked:{amount:r,decimals:o}})}(t);case"burnChecked":return function({amount:r,decimals:o}){return pe({burnChecked:{amount:r,decimals:o}})}(t);case"intializeAccount2":return function({authority:r}){return pe({initilaizeAccount2:{authority:r}})}(t);case"syncNative":return pe({syncNative:{}});case"initializeAccount3":return function({authority:r}){return pe({initializeAccount3:{authority:r}})}(t);case"initializeMultisig2":return function({m:r}){return pe({initializeMultisig2:{m:r}})}(t);case"initializeMint2":return function({decimals:r,mintAuthority:o,freezeAuthority:a}){return pe({encodeInitializeMint2:{decimals:r,mintAuthority:o,freezeAuthority:a}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const ue=(de=ie("instruction"),new ee(de,le,he));var de,le,he;function fe(n){return ae(32,n)}function pe(n){let e=dist$3.Buffer.alloc(me),t=ue.encode(n,e);return e.slice(0,t)}ue.addVariant(0,se([ie("decimals"),ae(32,"mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint"),ue.addVariant(1,se([]),"initializeAccount"),ue.addVariant(2,se([ie("m")]),"initializeMultisig"),ue.addVariant(3,se([oe("amount")]),"transfer"),ue.addVariant(4,se([oe("amount")]),"approve"),ue.addVariant(5,se([]),"revoke"),ue.addVariant(6,se([ie("authorityType"),ie("newAuthorityOption"),fe("newAuthority")]),"setAuthority"),ue.addVariant(7,se([oe("amount")]),"mintTo"),ue.addVariant(8,se([oe("amount")]),"burn"),ue.addVariant(9,se([]),"closeAccount"),ue.addVariant(10,se([]),"freezeAccount"),ue.addVariant(11,se([]),"thawAccount"),ue.addVariant(12,se([oe("amount"),ie("decimals")]),"transferChecked"),ue.addVariant(13,se([oe("amount"),ie("decimals")]),"approvedChecked"),ue.addVariant(14,se([oe("amount"),ie("decimals")]),"mintToChecked"),ue.addVariant(15,se([oe("amount"),ie("decimals")]),"burnedChecked"),ue.addVariant(16,se([fe("authority")]),"InitializeAccount2"),ue.addVariant(17,se([]),"syncNative"),ue.addVariant(18,se([fe("authority")]),"initializeAccount3"),ue.addVariant(19,se([ie("m")]),"initializeMultisig2"),ue.addVariant(20,se([ie("decimals"),fe("mintAuthority"),ie("freezeAuthorityOption"),fe("freezeAuthority")]),"initializeMint2");const me=Math.max(...Object.values(ue.registry).map(n=>n.span));class ye{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function ge(n){return new be(ae(8),e=>Se.fromBuffer(e),e=>e.toBuffer(),n)}function we(n){return new be(ae(32),e=>new PublicKey$2(e),e=>e.toBuffer(),n)}function ve(n,e){return new Ae(n,e)}class be extends Ft{constructor(e,t,r,o){super(e.span,o),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class Ae extends Ft{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=(r=>new Ht(4,r))()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}function _e(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function Ee(n){return n?1:0}class Se extends BN{toBuffer(){const e=super.toArray().reverse(),t=dist$3.Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=dist$3.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new Se([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}class Ie{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const r=dist$3.Buffer.alloc(165),o=xe.encode(t,r);return r.slice(0,o)}case"mint":{const r=dist$3.Buffer.alloc(82),o=ke.encode(t,r);return r.slice(0,o)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(r){return xe.decode(r)}(t);case"mint":return function(r){return ke.decode(r)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return(t=Ot(this.idl,e))!==null&&t!==void 0?t:0}}const ke=se([ve(we(),"mintAuthority"),ge("supply"),ie("decimals"),function(n){return new be(ie(),_e,Ee,n)}("isInitialized"),ve(we(),"freezeAuthority")]),xe=se([we("mint"),we("authority"),ge("amount"),ve(we(),"delegate"),ie("state"),ve(ge(),"isNative"),ge("delegatedAmount"),ve(we(),"closeAuthority")]);class Me{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Pe{constructor(e){this.instruction=new ce(e),this.accounts=new Ie(e),this.events=new Me(e),this.state=new ye(e)}}var Te=Object.freeze({__proto__:null,hash:function(n){return sha256.exports.sha256(n)}});function Ce(n,e,t){const r=bufferPolyfill.Buffer.concat([n.toBuffer(),bufferPolyfill.Buffer.from(e),t.toBuffer()]),o=sha256.exports.sha256.digest(r);return new PublicKey$2(bufferPolyfill.Buffer.from(o))}function Le(n,e){let t=bufferPolyfill.Buffer.alloc(0);n.forEach(function(a){if(a.length>32)throw new TypeError("Max seed length exceeded");t=bufferPolyfill.Buffer.concat([t,Be(a)])}),t=bufferPolyfill.Buffer.concat([t,e.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);let r=sha256.exports.sha256(new Uint8Array(t)),o=new BN(r,16).toArray(void 0,32);if(PublicKey$2.isOnCurve(new Uint8Array(o)))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$2(o)}function Oe(n,e){let t,r=255;for(;r!=0;){try{t=Le(n.concat(bufferPolyfill.Buffer.from([r])),e)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[t,r]}throw new Error("Unable to find a viable program address nonce")}const Be=n=>n instanceof bufferPolyfill.Buffer?n:n instanceof Uint8Array?bufferPolyfill.Buffer.from(n.buffer,n.byteOffset,n.byteLength):bufferPolyfill.Buffer.from(n);async function De(n,...e){let t=[bufferPolyfill.Buffer.from([97,110,99,104,111,114])];e.forEach(o=>{t.push(o instanceof bufferPolyfill.Buffer?o:P(o).toBuffer())});const[r]=await PublicKey$2.findProgramAddress(t,P(n));return r}var ze=Object.freeze({__proto__:null,createWithSeedSync:Ce,createProgramAddressSync:Le,findProgramAddressSync:Oe,associated:De});const Ne=new PublicKey$2("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),je=new PublicKey$2("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Re=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:Ne,ASSOCIATED_PROGRAM_ID:je,associatedAddress:async function({mint:n,owner:e}){return(await PublicKey$2.findProgramAddress([e.toBuffer(),Ne.toBuffer(),n.toBuffer()],je))[0]}}),Ue={exports:{}};(function(n,e){var t=typeof self<"u"?self:$t,r=function(){function a(){this.fetch=!1,this.DOMException=t.DOMException}return a.prototype=t,new a}();(function(a){(function(c){var u="URLSearchParams"in a,en="Symbol"in a&&"iterator"in Symbol,tn="FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),nn="FormData"in a,sn="ArrayBuffer"in a;if(sn)var fn=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],dn=ArrayBuffer.isView||function(Cn){return Cn&&fn.indexOf(Object.prototype.toString.call(Cn))>-1};function hn(Cn){if(typeof Cn!="string"&&(Cn=String(Cn)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(Cn))throw new TypeError("Invalid character in header field name");return Cn.toLowerCase()}function ln(Cn){return typeof Cn!="string"&&(Cn=String(Cn)),Cn}function pn(Cn){var mn={next:function(){var _n=Cn.shift();return{done:_n===void 0,value:_n}}};return en&&(mn[Symbol.iterator]=function(){return mn}),mn}function $n(Cn){this.map={},Cn instanceof $n?Cn.forEach(function(mn,_n){this.append(_n,mn)},this):Array.isArray(Cn)?Cn.forEach(function(mn){this.append(mn[0],mn[1])},this):Cn&&Object.getOwnPropertyNames(Cn).forEach(function(mn){this.append(mn,Cn[mn])},this)}function Sn(Cn){if(Cn.bodyUsed)return Promise.reject(new TypeError("Already read"));Cn.bodyUsed=!0}function yn(Cn){return new Promise(function(mn,_n){Cn.onload=function(){mn(Cn.result)},Cn.onerror=function(){_n(Cn.error)}})}function In(Cn){var mn=new FileReader,_n=yn(mn);return mn.readAsArrayBuffer(Cn),_n}function An(Cn){if(Cn.slice)return Cn.slice(0);var mn=new Uint8Array(Cn.byteLength);return mn.set(new Uint8Array(Cn)),mn.buffer}function Tn(){return this.bodyUsed=!1,this._initBody=function(Cn){var mn;this._bodyInit=Cn,Cn?typeof Cn=="string"?this._bodyText=Cn:tn&&Blob.prototype.isPrototypeOf(Cn)?this._bodyBlob=Cn:nn&&FormData.prototype.isPrototypeOf(Cn)?this._bodyFormData=Cn:u&&URLSearchParams.prototype.isPrototypeOf(Cn)?this._bodyText=Cn.toString():sn&&tn&&(mn=Cn)&&DataView.prototype.isPrototypeOf(mn)?(this._bodyArrayBuffer=An(Cn.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):sn&&(ArrayBuffer.prototype.isPrototypeOf(Cn)||dn(Cn))?this._bodyArrayBuffer=An(Cn):this._bodyText=Cn=Object.prototype.toString.call(Cn):this._bodyText="",this.headers.get("content-type")||(typeof Cn=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(Cn)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},tn&&(this.blob=function(){var Cn=Sn(this);if(Cn)return Cn;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Sn(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(In)}),this.text=function(){var Cn=Sn(this);if(Cn)return Cn;if(this._bodyBlob)return function(mn){var _n=new FileReader,vn=yn(_n);return _n.readAsText(mn),vn}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(mn){for(var _n=new Uint8Array(mn),vn=new Array(_n.length),On=0;On<_n.length;On++)vn[On]=String.fromCharCode(_n[On]);return vn.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},nn&&(this.formData=function(){return this.text().then(Dn)}),this.json=function(){return this.text().then(JSON.parse)},this}$n.prototype.append=function(Cn,mn){Cn=hn(Cn),mn=ln(mn);var _n=this.map[Cn];this.map[Cn]=_n?_n+", "+mn:mn},$n.prototype.delete=function(Cn){delete this.map[hn(Cn)]},$n.prototype.get=function(Cn){return Cn=hn(Cn),this.has(Cn)?this.map[Cn]:null},$n.prototype.has=function(Cn){return this.map.hasOwnProperty(hn(Cn))},$n.prototype.set=function(Cn,mn){this.map[hn(Cn)]=ln(mn)},$n.prototype.forEach=function(Cn,mn){for(var _n in this.map)this.map.hasOwnProperty(_n)&&Cn.call(mn,this.map[_n],_n,this)},$n.prototype.keys=function(){var Cn=[];return this.forEach(function(mn,_n){Cn.push(_n)}),pn(Cn)},$n.prototype.values=function(){var Cn=[];return this.forEach(function(mn){Cn.push(mn)}),pn(Cn)},$n.prototype.entries=function(){var Cn=[];return this.forEach(function(mn,_n){Cn.push([_n,mn])}),pn(Cn)},en&&($n.prototype[Symbol.iterator]=$n.prototype.entries);var kn=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Pn(Cn,mn){var _n,vn,On=(mn=mn||{}).body;if(Cn instanceof Pn){if(Cn.bodyUsed)throw new TypeError("Already read");this.url=Cn.url,this.credentials=Cn.credentials,mn.headers||(this.headers=new $n(Cn.headers)),this.method=Cn.method,this.mode=Cn.mode,this.signal=Cn.signal,On||Cn._bodyInit==null||(On=Cn._bodyInit,Cn.bodyUsed=!0)}else this.url=String(Cn);if(this.credentials=mn.credentials||this.credentials||"same-origin",!mn.headers&&this.headers||(this.headers=new $n(mn.headers)),this.method=(_n=mn.method||this.method||"GET",vn=_n.toUpperCase(),kn.indexOf(vn)>-1?vn:_n),this.mode=mn.mode||this.mode||null,this.signal=mn.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&On)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(On)}function Dn(Cn){var mn=new FormData;return Cn.trim().split("&").forEach(function(_n){if(_n){var vn=_n.split("="),On=vn.shift().replace(/\+/g," "),Nn=vn.join("=").replace(/\+/g," ");mn.append(decodeURIComponent(On),decodeURIComponent(Nn))}}),mn}function Kn(Cn,mn){mn||(mn={}),this.type="default",this.status=mn.status===void 0?200:mn.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in mn?mn.statusText:"OK",this.headers=new $n(mn.headers),this.url=mn.url||"",this._initBody(Cn)}Pn.prototype.clone=function(){return new Pn(this,{body:this._bodyInit})},Tn.call(Pn.prototype),Tn.call(Kn.prototype),Kn.prototype.clone=function(){return new Kn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new $n(this.headers),url:this.url})},Kn.error=function(){var Cn=new Kn(null,{status:0,statusText:""});return Cn.type="error",Cn};var Hn=[301,302,303,307,308];Kn.redirect=function(Cn,mn){if(Hn.indexOf(mn)===-1)throw new RangeError("Invalid status code");return new Kn(null,{status:mn,headers:{location:Cn}})},c.DOMException=a.DOMException;try{new c.DOMException}catch{c.DOMException=function(mn,_n){this.message=mn,this.name=_n;var vn=Error(mn);this.stack=vn.stack},c.DOMException.prototype=Object.create(Error.prototype),c.DOMException.prototype.constructor=c.DOMException}function jn(Cn,mn){return new Promise(function(_n,vn){var On=new Pn(Cn,mn);if(On.signal&&On.signal.aborted)return vn(new c.DOMException("Aborted","AbortError"));var Nn=new XMLHttpRequest;function Un(){Nn.abort()}Nn.onload=function(){var zn,Bn,En={status:Nn.status,statusText:Nn.statusText,headers:(zn=Nn.getAllResponseHeaders()||"",Bn=new $n,zn.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Zn){var Sr=Zn.split(":"),$r=Sr.shift().trim();if($r){var Xn=Sr.join(":").trim();Bn.append($r,Xn)}}),Bn)};En.url="responseURL"in Nn?Nn.responseURL:En.headers.get("X-Request-URL");var Mn="response"in Nn?Nn.response:Nn.responseText;_n(new Kn(Mn,En))},Nn.onerror=function(){vn(new TypeError("Network request failed"))},Nn.ontimeout=function(){vn(new TypeError("Network request failed"))},Nn.onabort=function(){vn(new c.DOMException("Aborted","AbortError"))},Nn.open(On.method,On.url,!0),On.credentials==="include"?Nn.withCredentials=!0:On.credentials==="omit"&&(Nn.withCredentials=!1),"responseType"in Nn&&tn&&(Nn.responseType="blob"),On.headers.forEach(function(zn,Bn){Nn.setRequestHeader(Bn,zn)}),On.signal&&(On.signal.addEventListener("abort",Un),Nn.onreadystatechange=function(){Nn.readyState===4&&On.signal.removeEventListener("abort",Un)}),Nn.send(On._bodyInit===void 0?null:On._bodyInit)})}jn.polyfill=!0,a.fetch||(a.fetch=jn,a.Headers=$n,a.Request=Pn,a.Response=Kn),c.Headers=$n,c.Request=Pn,c.Response=Kn,c.fetch=jn,Object.defineProperty(c,"__esModule",{value:!0})})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,n.exports=e})(Ue,Ue.exports);var Ve=qt(Ue.exports);async function $e(n,e){const t=await n.getAccountInfo(e);if(t===null)throw new Error("program account not found");const{program:r}=Ke(t.data),o=await n.getAccountInfo(r.programdataAddress);if(o===null)throw new Error("program data account not found");const{programData:a}=Ke(o.data);return a}const qe=lib.rustEnum([lib.struct([],"uninitialized"),lib.struct([lib.option(lib.publicKey(),"authorityAddress")],"buffer"),lib.struct([lib.publicKey("programdataAddress")],"program"),lib.struct([lib.u64("slot"),lib.option(lib.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib.u32());function Ke(n){return qe.decode(n)}var Fe=Object.freeze({__proto__:null,verifiedBuild:async function(n,e,t=5){const r=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${t}`,[o,a]=await Promise.all([$e(n,e),Ve(r)]),c=(await a.json()).filter(en=>!en.aborted&&en.state==="Built"&&en.verified==="Verified");if(c.length===0)return null;const u=c[0];return o.slot.toNumber()!==u.verified_slot?null:u},fetchData:$e,decodeUpgradeableLoaderState:Ke}),We=Object.freeze({__proto__:null,sha256:Te,rpc:it,publicKey:ze,bytes:I,token:Re,features:mt,registry:Fe});const Ge=lib.struct([lib.publicKey("authority"),lib.vecU8("data")]);function He(n,e){var t,r;let o={};const a=n.args?n.args.length:0;if(e.length>a){if(e.length!==a+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(c=>c.name))!==null&&r!==void 0?r:[]}`);o=e.pop()}return[e,o]}class Je{static build(e,t,r){if(e.name==="_inner")throw new yt("the _inner name is reserved");const o=(...a)=>{const[c,u]=He(e,[...a]);M(e.accounts,u.accounts);const en=o.accounts(u.accounts);return u.remainingAccounts!==void 0&&en.push(...u.remainingAccounts),pt("debug-logs")&&console.log("Outgoing account metas:",en),new TransactionInstruction$2({keys:en,programId:r,data:t(e.name,x(e,...c))})};return o.accounts=a=>Je.accountsArray(a,e.accounts,e.name),o}static accountsArray(e,t,r){return e?t.map(o=>{if(("accounts"in o?o.accounts:void 0)!==void 0){const a=e[o.name];return Je.accountsArray(a,o.accounts,r).flat()}{const a=o;let c;try{c=P(e[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${r!==void 0?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:c,isWritable:a.isMut,isSigner:a.isSigner}}}).flat():[]}}class Ze{static build(e,t,r,o){return async(...a)=>{var c;const u=t(...a),[,en]=He(e,[...a]);if(o.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await o.sendAndConfirm(u,(c=en.signers)!==null&&c!==void 0?c:[],en.options)}catch(tn){throw bt(tn,r)}}}}class Qe{static build(e,t){return(...r)=>{var o,a,c;const[,u]=He(e,[...r]),en=new Transaction$2;if(u.preInstructions&&u.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=u.preInstructions)===null||o===void 0||o.forEach(tn=>en.add(tn)),(a=u.instructions)===null||a===void 0||a.forEach(tn=>en.add(tn)),en.add(t(...r)),(c=u.postInstructions)===null||c===void 0||c.forEach(tn=>en.add(tn)),en}}}class Xe{constructor(e,t,r=dt(),o=new Vt(e)){this.provider=r,this.coder=o,this._idl=e,this._programId=t,this._address=Ye(t),this._sub=null;const[a,c,u]=(()=>{var en;let tn={},nn={},sn={};return(en=e.state)===null||en===void 0||en.methods.forEach(fn=>{const dn=Je.build(fn,($n,Sn)=>o.instruction.encodeState($n,Sn),t);dn.accounts=$n=>function(yn,In,An,Tn){if(An.name==="new"){const[kn]=Oe([],yn);if(In.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:In.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Ye(yn),isWritable:!0,isSigner:!1},{pubkey:kn,isWritable:!1,isSigner:!1},{pubkey:SystemProgram$2.programId,isWritable:!1,isSigner:!1},{pubkey:yn,isWritable:!1,isSigner:!1}]}return M(An.accounts,Tn),[{pubkey:Ye(yn),isWritable:!0,isSigner:!1}]}(t,r,fn,$n).concat(Je.accountsArray($n,fn.accounts,fn.name));const hn=Qe.build(fn,dn),ln=Ze.build(fn,hn,k(e),r),pn=l(fn.name);tn[pn]=dn,nn[pn]=hn,sn[pn]=ln}),[tn,nn,sn]})();this.instruction=a,this.transaction=c,this.rpc=u}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(t===null)throw new Error(`Account does not exist ${e.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await Ut(r.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const t=new EventEmitter,r=this.provider.connection.onAccountChange(this.address(),o=>{const a=this.coder.state.decode(o.data);t.emit("change",a)},e);return this._sub={ee:t,listener:r},t}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function Ye(n){let[e]=Oe([],n);return Ce(e,"unversioned",n)}class tr{constructor(e,t,r,o,a){this._idlAccount=t,this._programId=r,this._provider=o??dt(),this._coder=a??new Vt(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const r=await this.getAccountInfo(e,t);return r===null?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(e,t){const r=await this.fetchNullable(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return r}async fetchMultiple(e,t){return(await Z(this._provider.connection,e.map(r=>P(r)),t)).map(r=>r==null?null:this._coder.accounts.decode(this._idlAccount.name,r==null?void 0:r.account.data))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof dist$3.Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map(({pubkey:t,account:r})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}))}subscribe(e,t){const r=er.get(e.toString());if(r)return r.ee;const o=new EventEmitter;e=P(e);const a=this._provider.connection.onAccountChange(e,c=>{const u=this._coder.accounts.decode(this._idlAccount.name,c.data);o.emit("change",u)},t);return er.set(e.toString(),{ee:o,listener:a}),o}async unsubscribe(e){let t=er.get(e.toString());t?er&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{er.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return SystemProgram$2.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await De(this._programId,...e)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(P(e),t)}}const er=new Map,rr=13,nr=14;class ir{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new or(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let o=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(o)),this._eventCallbacks.set(o,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(a,c)=>{a.err||this._eventParser.parseLogs(a.logs,u=>{const en=this._eventListeners.get(u.name);en&&en.forEach(tn=>{const nn=this._eventCallbacks.get(tn);if(nn){const[,sn]=nn;sn(u.data,c.slot)}})})})),o}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let o=this._eventListeners.get(r);if(!o)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),o=o.filter(a=>a!==e),o.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size==0&&(assert$b.exports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class or{constructor(e,t){this.coder=t,this.programId=e}parseLogs(e,t){const r=new ar(e),o=new sr;let a=r.next();for(;a!==null;){let[c,u,en]=this.handleLog(o,a);c&&t(c),u&&o.push(u),en&&o.pop(),a=r.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const t=e.startsWith("Program log: ")?e.slice(rr):e.slice(nr);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class sr{constructor(){this.stack=[]}program(){return assert$b.exports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){assert$b.exports.ok(this.stack.length>0),this.stack.pop()}}class ar{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const cr=new PublicKey$2("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function ur(){return new Pe(dr)}const dr={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class lr{constructor(e,t,r,o,a,c){this._args=e,this._accounts=t,this._provider=r,this._programId=o,this._idlIx=a,this._accountStore=new hr(r,c)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=l(t.name);if(t.pda&&t.pda.seeds.length>0&&!this._accounts[r])await this.autoPopulatePda(t);else if(!t.isSigner||this._accounts[r])Reflect.has(lr.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=lr.CONST_ACCOUNTS[r]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[r]=this._provider.wallet.publicKey}}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map(a=>this.toBuffer(a))),r=await this.parseProgramId(e),[o]=await PublicKey$2.findProgramAddress(t,r);this._accounts[l(e.name)]=o}async parseProgramId(e){var t;if(!(!((t=e.pda)===null||t===void 0)&&t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new PublicKey$2(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=l(e.path.split(".")[0]),r=this._idlIx.args.findIndex(o=>o.name===t);if(r===-1)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[r]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),r=t[0],o=this._accounts[l(r)];if(t.length===1)return o;const a=await this._accountStore.fetchAccount(e.account,o);return this.parseAccountValue(a,t.slice(1))}parseAccountValue(e,t){let r;for(;t.length>0;)r=e[l(t[0])],t=t.slice(1);return r}toBufferValue(e,t){switch(e){case"u8":return dist$3.Buffer.from([t]);case"u16":let r=dist$3.Buffer.alloc(2);return r.writeUInt16LE(t),r;case"u32":let o=dist$3.Buffer.alloc(4);return o.writeUInt32LE(t),o;case"u64":let a=dist$3.Buffer.alloc(8);return a.writeBigUInt64LE(BigInt(t)),a;case"string":return dist$3.Buffer.from(v(t));case"publicKey":return t.toBuffer();default:if(e.array)return dist$3.Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}lr.CONST_ACCOUNTS={systemProgram:SystemProgram$2.programId,tokenProgram:Ne,associatedTokenProgram:je,rent:SYSVAR_RENT_PUBKEY$2};class hr{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const r=t.toString();if(!this._cache.has(r))if(e==="TokenAccount"){const o=await this._provider.connection.getAccountInfo(t);if(o===null)throw new Error(`invalid account info for ${r}`);const a=ur().accounts.decode("token",o.data);this._cache.set(r,a)}else{const o=this._accounts[l(e)].fetch(t);this._cache.set(r,o)}return this._cache.get(r)}}class fr{static build(e,t,r,o,a,c,u,en,tn){return(...nn)=>new pr(nn,o,a,c,u,en,e,t,r,tn)}}class pr{constructor(e,t,r,o,a,c,u,en,tn,nn){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=o,this._simulateFn=a,this._viewFn=c,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new lr(e,this._accounts,u,en,tn,nn)}async pubkeys(){return await this._accountsResolver.resolve(),this._accounts}accounts(e){return Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class mr{constructor(e,t,r,o){t=P(t),r||(r=dt()),this._idl=e,this._provider=r,this._programId=t,this._coder=o??new Vt(e),this._events=new ir(this._programId,r,this._coder);const[a,c,u,en,tn,nn,sn,fn]=class{static build(dn,hn,ln,pn){const $n={},Sn={},yn={},In={},An={},Tn={},kn=k(dn),Pn=dn.accounts?class{static build(Kn,Hn,jn,Cn){var mn;const _n={};return(mn=Kn.accounts)===null||mn===void 0||mn.forEach(vn=>{const On=l(vn.name);_n[On]=new tr(Kn,vn,jn,Cn,Hn)}),_n}}.build(dn,hn,ln,pn):{},Dn=class{static build(Kn,Hn,jn,Cn){if(Kn.state!==void 0)return new Xe(Kn,jn,Cn,Hn)}}.build(dn,hn,ln,pn);return dn.instructions.forEach(Kn=>{const Hn=Je.build(Kn,(Nn,Un)=>hn.instruction.encode(Nn,Un),ln),jn=Qe.build(Kn,Hn),Cn=Ze.build(Kn,jn,kn,pn),mn=class{static build(Nn,Un,zn,Bn,En,Mn,Zn){return async(...Sr)=>{var $r;const Xn=Un(...Sr),[,br]=He(Nn,[...Sr]);let _r;if(Bn.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{_r=await Bn.simulate(Xn,br.signers,($r=br.options)===null||$r===void 0?void 0:$r.commitment)}catch(qn){throw bt(qn,zn)}if(_r===void 0)throw new Error("Unable to simulate transaction");const kr=_r.logs;if(!kr)throw new Error("Simulated logs not found");const Cr=[];return Zn.events&&new or(Mn,En).parseLogs(kr,qn=>{Cr.push(qn)}),{events:Cr,raw:kr}}}}.build(Kn,jn,kn,pn,hn,ln,dn),_n=class{static build(Nn,Un,zn,Bn){const En=Un.accounts.find(Zn=>Zn.isMut),Mn=!!Un.returns;if(!En&&Mn)return async(...Zn)=>{var Sr,$r;let Xn=await zn(...Zn);const br=`Program return: ${Nn} `;let _r=Xn.raw.find(qn=>qn.startsWith(br));if(!_r)throw new Error("View expected return log");let kr=E(_r.slice(br.length)),Cr=Un.returns;if(!Cr)throw new Error("View expected return type");return Pt.fieldLayout({type:Cr},Array.from([...(Sr=Bn.accounts)!==null&&Sr!==void 0?Sr:[],...($r=Bn.types)!==null&&$r!==void 0?$r:[]])).decode(kr)}}}.build(ln,Kn,mn,dn),vn=fr.build(pn,ln,Kn,Hn,jn,Cn,mn,_n,Pn),On=l(Kn.name);Sn[On]=Hn,yn[On]=jn,$n[On]=Cn,In[On]=mn,An[On]=vn,_n&&(Tn[On]=_n)}),[$n,Sn,yn,Pn,In,An,Dn,Tn]}}.build(e,this._coder,t,r);this.rpc=a,this.instruction=c,this.transaction=u,this.account=en,this.simulate=tn,this.methods=nn,this.state=sn,this.views=fn}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=P(e),o=await mr.fetchIdl(r,t);if(!o)throw new Error(`IDL not found for program: ${e.toString()}`);return new mr(o,r,t)}static async fetchIdl(e,t){t=t??dt();const r=P(e),o=await async function(tn){const nn=(await PublicKey$2.findProgramAddress([],tn))[0];return await PublicKey$2.createWithSeed(nn,"anchor:idl",tn)}(r),a=await t.connection.getAccountInfo(o);if(!a)return null;let c=(u=a.data.slice(8),Ge.decode(u));var u;const en=inflate_1(c.data);return JSON.parse(w(en))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class yr{static token(e){return function(t){return new mr(dr,cr,t,ur())}(e)}}var browser$1=Object.freeze(Object.defineProperty({__proto__:null,web3:index_browser_esm$2,ACCOUNT_DISCRIMINATOR_SIZE:Dt,AccountClient:tr,AnchorError:wt,AnchorProvider:ot,BorshAccountsCoder:zt,BorshCoder:Vt,BorshEventCoder:Nt,BorshInstructionCoder:Tt,BorshStateCoder:Rt,EventManager:ir,EventParser:or,IdlError:yt,LangErrorCode:At,LangErrorMessage:_t,MethodsBuilderFactory:fr,Program:mr,ProgramError:vt,ProgramErrorStack:gt,Spl:yr,SplTokenCoder:Pe,StateClient:Xe,eventDiscriminator:jt,getProvider:dt,parseIdlErrors:k,setProvider:ut,splitArgsAndCtx:He,stateDiscriminator:Ut,toInstruction:x,translateAddress:P,translateError:bt,utils:We,validateAccounts:M,BN},Symbol.toStringTag,{value:"Module"})),require$$0$1=getAugmentedNamespace(browser$1),stakingIdl={};Object.defineProperty(stakingIdl,"__esModule",{value:!0});stakingIdl.stakingIdl=void 0;stakingIdl.stakingIdl={version:"0.1.0",name:"atlas_staking",instructions:[{name:"cancelUnstake",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[]},{name:"createStakingAccount",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"harvest",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeStaking",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerStake",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"stakingVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-vars"}]}},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"Mint",path:"stake_mint"},{kind:"account",type:"publicKey",account:"Mint",path:"reward_mint"}]}},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"}]},{name:"settle",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}}],args:[{name:"updatedStakingPeriod",type:"u16"}]},{name:"stakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"stakeAmount",type:"u64"}]},{name:"unstakeTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"userRewardAccount",isMut:!0,isSigner:!1},{name:"rewardAta",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCooldownPeriod",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"cooldownPeriod",type:"u64"}]},{name:"updateRewardMultiplier",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"registeredStake",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",path:"authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}}],args:[{name:"rewardMultiplier",type:"u64"},{name:"newStakingPeriod",type:"u16"}]},{name:"withdrawTokens",accounts:[{name:"user",isMut:!0,isSigner:!0},{name:"stakeMint",isMut:!1,isSigner:!1},{name:"tokenSource",isMut:!0,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-stake"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.authority"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.stake_mint"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake.reward_mint"}]}},{name:"stakingAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"staking-account"},{kind:"account",type:"publicKey",account:"StakingAccount",path:"staking_account.owner"},{kind:"account",type:"publicKey",account:"RegisteredStake",path:"registered_stake"}]}},{name:"tokenEscrow",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"RegisteredStake",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"rewardMint",type:"publicKey"},{name:"currentPeriod",type:"u16"},{name:"rewardMultiplier",type:"u64"},{name:"cooldownPeriod",type:"u64"},{name:"bump",type:"u8"}]}},{name:"StakingAccount",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"registeredStake",type:"publicKey"},{name:"stakeMint",type:"publicKey"},{name:"totalStake",type:"u64"},{name:"activeStake",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"paidRewards",type:"u64"},{name:"currentPeriod",type:"u16"},{name:"stakedAtTs",type:"i64"},{name:"lastPendingRewardCalcTs",type:"i64"},{name:"lastHarvestTs",type:"i64"},{name:"unstakedTs",type:"i64"},{name:"bump",type:"u8"}]}},{name:"StakingVars",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"bump",type:"u8"}]}}],errors:[{code:6e3,name:"InvalidMint",msg:"Invalid Token Mint"},{code:6001,name:"InvalidOwner",msg:"Account now owned by user"},{code:6002,name:"InsufficientFunds",msg:"Insufficient token balance"},{code:6003,name:"InvalidAuthority",msg:"Invalid authority for this account"},{code:6004,name:"InvalidDepositQty",msg:"Invalid deposit quantity"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"StakeOnCooldown",msg:"Cannot stake while account is on cooldown"},{code:6007,name:"InvalidEscrowAuth",msg:"Invalid escrow authority"},{code:6008,name:"WithdrawOnCooldown",msg:"Cannot withdraw before cooldown period has elapsed"},{code:6009,name:"InvalidPeriod",msg:"Staking account must be in the same period as the Registered Stake"},{code:6010,name:"NotOnCooldown",msg:"Staking account is not on cooldown"}],metadata:{}};Object.defineProperty(getStakingProgram$1,"__esModule",{value:!0});getStakingProgram$1.getStakingProgram=getStakingProgram$1.getStakingIdl=void 0;const anchor_1$o=require$$0$1,stakingIdl_1=stakingIdl;function getStakingIdl(n){const e=stakingIdl_1.stakingIdl;return e.metadata.address=n.toBase58(),e}getStakingProgram$1.getStakingIdl=getStakingIdl;function getStakingProgram({connection:n,programId:e}){const t=getStakingIdl(e),r=new anchor_1$o.AnchorProvider(n,null,null);return new anchor_1$o.Program(t,e,r)}getStakingProgram$1.getStakingProgram=getStakingProgram;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(getStakingProgram$1,n)})(utils$1);var __awaiter$y=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(cancelUnstake,"__esModule",{value:!0});cancelUnstake.cancelUnstakeInstruction=void 0;const utils_1$n=utils$1;function cancelUnstakeInstruction({connection:n,user:e,registeredStake:t,programId:r}){return __awaiter$y(this,void 0,void 0,function*(){const o=(0,utils_1$n.getStakingProgram)({connection:n,programId:r}),a={instructions:[],signers:[]},c=yield o.methods.cancelUnstake().accounts({user:e,registeredStake:t}).instruction();return a.instructions.push(c),a})}cancelUnstake.cancelUnstakeInstruction=cancelUnstakeInstruction;var createStakeAccount={},__awaiter$x=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(createStakeAccount,"__esModule",{value:!0});createStakeAccount.createStakingAccountInstruction=void 0;const utils_1$m=utils$1;function createStakingAccountInstruction({connection:n,user:e,registeredStake:t,programId:r}){return __awaiter$x(this,void 0,void 0,function*(){const o=(0,utils_1$m.getStakingProgram)({connection:n,programId:r}),a={instructions:[],signers:[]},c=yield o.methods.createStakingAccount().accounts({user:e,registeredStake:t}).instruction();return a.instructions.push(c),a})}createStakeAccount.createStakingAccountInstruction=createStakingAccountInstruction;var harvestRewards={},token$1={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.associatedAddress=n.ASSOCIATED_PROGRAM_ID=n.TOKEN_PROGRAM_ID=void 0;const e=require$$0$2;n.TOKEN_PROGRAM_ID=new e.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.ASSOCIATED_PROGRAM_ID=new e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function t({mint:r,owner:o}){return(await e.PublicKey.findProgramAddress([o.toBuffer(),n.TOKEN_PROGRAM_ID.toBuffer(),r.toBuffer()],n.ASSOCIATED_PROGRAM_ID))[0]}n.associatedAddress=t})(token$1);var util={},helpers$1={};class StructError extends TypeError{constructor(e,t){let r;const{message:o,...a}=e,{path:c}=e,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>{var en;return(en=r)!=null?en:r=[e,...t()]}}}function isIterable(n){return isObject$2(n)&&typeof n[Symbol.iterator]=="function"}function isObject$2(n){return typeof n=="object"&&n!=null}function print(n){return typeof n=="string"?JSON.stringify(n):""+n}function shiftIterator(n){const{done:e,value:t}=n.next();return e?void 0:t}function toFailure(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:o,branch:a}=e,{type:c}=t,{refinement:u,message:en="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+print(r)+"`"}=n;return{value:r,type:c,refinement:u,key:o[o.length-1],path:o,branch:a,...n,message:en}}function*toFailures(n,e,t,r){isIterable(n)||(n=[n]);for(const o of n){const a=toFailure(o,e,t,r);a&&(yield a)}}function*run$1(n,e,t={}){const{path:r=[],branch:o=[n],coerce:a=!1,mask:c=!1}=t,u={path:r,branch:o};if(a&&(n=e.coercer(n,u),c&&e.type!=="type"&&isObject$2(e.schema)&&isObject$2(n)&&!Array.isArray(n)))for(const tn in n)e.schema[tn]===void 0&&delete n[tn];let en=!0;for(const tn of e.validator(n,u))en=!1,yield[tn,void 0];for(let[tn,nn,sn]of e.entries(n,u)){const fn=run$1(nn,sn,{path:tn===void 0?r:[...r,tn],branch:tn===void 0?o:[...o,nn],coerce:a,mask:c});for(const dn of fn)dn[0]?(en=!1,yield[dn[0],void 0]):a&&(nn=dn[1],tn===void 0?n=nn:n instanceof Map?n.set(tn,nn):n instanceof Set?n.add(nn):isObject$2(n)&&(n[tn]=nn))}if(en)for(const tn of e.refiner(n,u))en=!1,yield[tn,void 0];en&&(yield[void 0,n])}class Struct$2{constructor(e){const{type:t,schema:r,validator:o,refiner:a,coercer:c=en=>en,entries:u=function*(){}}=e;this.type=t,this.schema=r,this.entries=u,this.coercer=c,o?this.validator=(en,tn)=>{const nn=o(en,tn);return toFailures(nn,tn,this,en)}:this.validator=()=>[],a?this.refiner=(en,tn)=>{const nn=a(en,tn);return toFailures(nn,tn,this,en)}:this.refiner=()=>[]}assert(e){return assert$3(e,this)}create(e){return create(e,this)}is(e){return is(e,this)}mask(e){return mask(e,this)}validate(e,t={}){return validate(e,this,t)}}function assert$3(n,e){const t=validate(n,e);if(t[0])throw t[0]}function create(n,e){const t=validate(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function mask(n,e){const t=validate(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function is(n,e){return!validate(n,e)[0]}function validate(n,e,t={}){const r=run$1(n,e,t),o=shiftIterator(r);if(o[0])return[new StructError(o[0],function*(){for(const c of r)c[0]&&(yield c[0])}),void 0];{const a=o[1];return[void 0,a]}}function define(n,e){return new Struct$2({type:n,schema:null,validator:e})}function any(){return define("any",()=>!0)}function array(n){return new Struct$2({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+print(e)}})}function boolean(){return define("boolean",n=>typeof n=="boolean")}function instance(n){return define("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+print(e))}function literal(n){const e=print(n),t=typeof n;return new Struct$2({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+print(r)}})}function never(){return define("never",()=>!1)}function nullable(n){return new Struct$2({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function number(){return define("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+print(n))}function optional(n){return new Struct$2({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function record(n,e){return new Struct$2({type:"record",schema:null,*entries(t){if(isObject$2(t))for(const r in t){const o=t[r];yield[r,r,n],yield[r,o,e]}},validator(t){return isObject$2(t)||"Expected an object, but received: "+print(t)}})}function string(){return define("string",n=>typeof n=="string"||"Expected a string, but received: "+print(n))}function tuple(n){const e=never();return new Struct$2({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let o=0;o<r;o++)yield[o,t[o],n[o]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+print(t)}})}function type(n){const e=Object.keys(n);return new Struct$2({type:"type",schema:n,*entries(t){if(isObject$2(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return isObject$2(t)||"Expected an object, but received: "+print(t)}})}function union(n){const e=n.map(t=>t.type).join(" | ");return new Struct$2({type:"union",schema:null,validator(t,r){const o=[];for(const a of n){const[...c]=run$1(t,a,r),[u]=c;if(u[0])for(const[en]of c)en&&o.push(en);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+print(t),...o]}})}function unknown(){return define("unknown",()=>!0)}function coerce(n,e,t){return new Struct$2({...n,coercer:(r,o)=>is(r,e)?n.coercer(t(r,o),o):n.coercer(r,o)})}const uuid$1=require$$0$5.v4,generateRequest$1=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const o=typeof r.version=="number"?r.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const a={method:n};if(o===2&&(a.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");a.params=e}if(typeof t>"u"){const c=typeof r.generator=="function"?r.generator:function(){return uuid$1()};a.id=c(a,r)}else o===2&&t===null?r.notificationIdNull&&(a.id=null):a.id=t;return a};var generateRequest_1=generateRequest$1;const uuid=require$$0$5.v4,generateRequest=generateRequest_1,ClientBrowser=function(n,e){if(!(this instanceof ClientBrowser))return new ClientBrowser(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return uuid()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var browser=ClientBrowser;ClientBrowser.prototype.request=function(n,e,t,r){const o=this;let a=null;const c=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&n&&typeof n=="object"&&typeof e=="function")r=e,a=n;else{typeof t=="function"&&(r=t,t=void 0);const tn=typeof r=="function";try{a=generateRequest(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(nn){if(tn)return r(nn);throw nn}if(!tn)return a}let en;try{en=JSON.stringify(a,this.options.replacer)}catch(tn){return r(tn)}return this.callServer(en,function(tn,nn){o._parseResponse(tn,nn,r)}),a};ClientBrowser.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(o){return t(o)}if(t.length===3)if(Array.isArray(r)){const o=function(c){return typeof c.error<"u"},a=function(c){return!o(c)};return t(null,r.filter(o),r.filter(a))}else return t(null,r.error,r.result);t(null,r)};var client={};(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(regenerator),r=e(asyncToGenerator.exports),o=e(_typeof$5.exports),a=e(classCallCheck.exports),c=e(createClass.exports),u=e(inherits$2.exports),en=e(possibleConstructorReturn.exports),tn=e(getPrototypeOf$1.exports),nn=eventemitter3.exports;function sn(ln){var pn=fn();return function(){var Sn=(0,tn.default)(ln),yn;if(pn){var In=(0,tn.default)(this).constructor;yn=Reflect.construct(Sn,arguments,In)}else yn=Sn.apply(this,arguments);return(0,en.default)(this,yn)}}function fn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var dn=function(ln,pn){var $n={};for(var Sn in ln)Object.prototype.hasOwnProperty.call(ln,Sn)&&pn.indexOf(Sn)<0&&($n[Sn]=ln[Sn]);if(ln!=null&&typeof Object.getOwnPropertySymbols=="function")for(var yn=0,Sn=Object.getOwnPropertySymbols(ln);yn<Sn.length;yn++)pn.indexOf(Sn[yn])<0&&Object.prototype.propertyIsEnumerable.call(ln,Sn[yn])&&($n[Sn[yn]]=ln[Sn[yn]]);return $n},hn=function(ln){(0,u.default)($n,ln);var pn=sn($n);function $n(Sn){var yn,In=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",An=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Tn=arguments.length>3?arguments[3]:void 0;(0,a.default)(this,$n);var kn=An.autoconnect,Pn=kn===void 0?!0:kn,Dn=An.reconnect,Kn=Dn===void 0?!0:Dn,Hn=An.reconnect_interval,jn=Hn===void 0?1e3:Hn,Cn=An.max_reconnects,mn=Cn===void 0?5:Cn,_n=dn(An,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return yn=pn.call(this),yn.webSocketFactory=Sn,yn.queue={},yn.rpc_id=0,yn.address=In,yn.autoconnect=Pn,yn.ready=!1,yn.reconnect=Kn,yn.reconnect_timer_id=void 0,yn.reconnect_interval=jn,yn.max_reconnects=mn,yn.rest_options=_n,yn.current_reconnects=0,yn.generate_request_id=Tn||function(){return++yn.rpc_id},yn.autoconnect&&yn._connect(yn.address,Object.assign({autoconnect:yn.autoconnect,reconnect:yn.reconnect,reconnect_interval:yn.reconnect_interval,max_reconnects:yn.max_reconnects},yn.rest_options)),yn}return(0,c.default)($n,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(yn,In,An,Tn){var kn=this;return!Tn&&(0,o.default)(An)==="object"&&(Tn=An,An=null),new Promise(function(Pn,Dn){if(!kn.ready)return Dn(new Error("socket not ready"));var Kn=kn.generate_request_id(yn,In),Hn={jsonrpc:"2.0",method:yn,params:In||null,id:Kn};kn.socket.send(JSON.stringify(Hn),Tn,function(jn){if(jn)return Dn(jn);kn.queue[Kn]={promise:[Pn,Dn]},An&&(kn.queue[Kn].timeout=setTimeout(function(){delete kn.queue[Kn],Dn(new Error("reply timeout"))},An))})})}},{key:"login",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return Pn.next=2,this.call("rpc.login",An);case 2:if(Tn=Pn.sent,Tn){Pn.next=5;break}throw new Error("authentication failed");case 5:return Pn.abrupt("return",Tn);case 6:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"listMethods",value:function(){var Sn=(0,r.default)(t.default.mark(function In(){return t.default.wrap(function(Tn){for(;;)switch(Tn.prev=Tn.next){case 0:return Tn.next=2,this.call("__listMethods");case 2:return Tn.abrupt("return",Tn.sent);case 3:case"end":return Tn.stop()}},In,this)}));function yn(){return Sn.apply(this,arguments)}return yn}()},{key:"notify",value:function(yn,In){var An=this;return new Promise(function(Tn,kn){if(!An.ready)return kn(new Error("socket not ready"));var Pn={jsonrpc:"2.0",method:yn,params:In||null};An.socket.send(JSON.stringify(Pn),function(Dn){if(Dn)return kn(Dn);Tn()})})}},{key:"subscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.on",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed subscribing to an event '"+An+"' with: "+Tn[An]);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"unsubscribe",value:function(){var Sn=(0,r.default)(t.default.mark(function In(An){var Tn;return t.default.wrap(function(Pn){for(;;)switch(Pn.prev=Pn.next){case 0:return typeof An=="string"&&(An=[An]),Pn.next=3,this.call("rpc.off",An);case 3:if(Tn=Pn.sent,!(typeof An=="string"&&Tn[An]!=="ok")){Pn.next=6;break}throw new Error("Failed unsubscribing from an event with: "+Tn);case 6:return Pn.abrupt("return",Tn);case 7:case"end":return Pn.stop()}},In,this)}));function yn(In){return Sn.apply(this,arguments)}return yn}()},{key:"close",value:function(yn,In){this.socket.close(yn||1e3,In)}},{key:"_connect",value:function(yn,In){var An=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(yn,In),this.socket.addEventListener("open",function(){An.ready=!0,An.emit("open"),An.current_reconnects=0}),this.socket.addEventListener("message",function(Tn){var kn=Tn.data;kn instanceof ArrayBuffer&&(kn=dist$3.Buffer.from(kn).toString());try{kn=JSON.parse(kn)}catch{return}if(kn.notification&&An.listeners(kn.notification).length){if(!Object.keys(kn.params).length)return An.emit(kn.notification);var Pn=[kn.notification];if(kn.params.constructor===Object)Pn.push(kn.params);else for(var Dn=0;Dn<kn.params.length;Dn++)Pn.push(kn.params[Dn]);return Promise.resolve().then(function(){An.emit.apply(An,Pn)})}if(!An.queue[kn.id])return kn.method&&kn.params?Promise.resolve().then(function(){An.emit(kn.method,kn.params)}):void 0;"error"in kn=="result"in kn&&An.queue[kn.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),An.queue[kn.id].timeout&&clearTimeout(An.queue[kn.id].timeout),kn.error?An.queue[kn.id].promise[1](kn.error):An.queue[kn.id].promise[0](kn.result),delete An.queue[kn.id]}),this.socket.addEventListener("error",function(Tn){return An.emit("error",Tn)}),this.socket.addEventListener("close",function(Tn){var kn=Tn.code,Pn=Tn.reason;An.ready&&setTimeout(function(){return An.emit("close",kn,Pn)},0),An.ready=!1,An.socket=void 0,kn!==1e3&&(An.current_reconnects++,An.reconnect&&(An.max_reconnects>An.current_reconnects||An.max_reconnects===0)&&(An.reconnect_timer_id=setTimeout(function(){return An._connect(yn,In)},An.reconnect_interval)))})}}]),$n}(nn.EventEmitter);n.default=hn})(client);var RpcWebSocketCommonClient=getDefaultExportFromCjs$5(client),websocket_browser={};(function(n){var e=interopRequireDefault.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=sn;var t=e(classCallCheck.exports),r=e(createClass.exports),o=e(inherits$2.exports),a=e(possibleConstructorReturn.exports),c=e(getPrototypeOf$1.exports),u=eventemitter3.exports;function en(fn){var dn=tn();return function(){var ln=(0,c.default)(fn),pn;if(dn){var $n=(0,c.default)(this).constructor;pn=Reflect.construct(ln,arguments,$n)}else pn=ln.apply(this,arguments);return(0,a.default)(this,pn)}}function tn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var nn=function(fn){(0,o.default)(hn,fn);var dn=en(hn);function hn(ln,pn,$n){var Sn;return(0,t.default)(this,hn),Sn=dn.call(this),Sn.socket=new window.WebSocket(ln,$n),Sn.socket.onopen=function(){return Sn.emit("open")},Sn.socket.onmessage=function(yn){return Sn.emit("message",yn.data)},Sn.socket.onerror=function(yn){return Sn.emit("error",yn)},Sn.socket.onclose=function(yn){Sn.emit("close",yn.code,yn.reason)},Sn}return(0,r.default)(hn,[{key:"send",value:function(pn,$n,Sn){var yn=Sn||$n;try{this.socket.send(pn),yn()}catch(In){yn(In)}}},{key:"close",value:function(pn,$n){this.socket.close(pn,$n)}},{key:"addEventListener",value:function(pn,$n,Sn){this.socket.addEventListener(pn,$n,Sn)}}]),hn}(u.EventEmitter);function sn(fn,dn){return new nn(fn,dn)}})(websocket_browser);var createRpc=getDefaultExportFromCjs$5(websocket_browser);const generatePrivateKey=ed25519$1.utils.randomPrivateKey,generateKeypair$1=()=>{const n=ed25519$1.utils.randomPrivateKey(),e=getPublicKey$1(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},getPublicKey$1=ed25519$1.getPublicKey;function isOnCurve$1(n){try{return ed25519$1.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sign$1=(n,e)=>ed25519$1.sign(n,e.slice(0,32)),verify$1=ed25519$1.verify,toBuffer$1=n=>bufferPolyfill.Buffer.isBuffer(n)?n:n instanceof Uint8Array?bufferPolyfill.Buffer.from(n.buffer,n.byteOffset,n.byteLength):bufferPolyfill.Buffer.from(n);class Struct$1{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA$1,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA$1,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA$1,this,e)}}class Enum extends Struct$1{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const SOLANA_SCHEMA$1=new Map;var _class$1;let _Symbol$toStringTag$3;const MAX_SEED_LENGTH$1=32,PUBLIC_KEY_LENGTH$1=32;function isPublicKeyData$1(n){return n._bn!==void 0}let uniquePublicKeyCounter$1=1;_Symbol$toStringTag$3=Symbol.toStringTag;class PublicKey$1 extends Struct$1{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData$1(e))this._bn=e._bn;else{if(typeof e=="string"){const t=bs58$3.decode(e);if(t.length!=PUBLIC_KEY_LENGTH$1)throw new Error("Invalid public key input");this._bn=new BN(t)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH$1)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey$1(uniquePublicKeyCounter$1);return uniquePublicKeyCounter$1+=1,new PublicKey$1(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH$1)return e;const t=bufferPolyfill.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[_Symbol$toStringTag$3](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(t),r.toBuffer()]),a=sha256$2(o);return new PublicKey$1(a)}static createProgramAddressSync(e,t){let r=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH$1)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,toBuffer$1(a)])}),r=bufferPolyfill.Buffer.concat([r,t.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$2(r);if(isOnCurve$1(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey$1(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([r]));o=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new PublicKey$1(e);return isOnCurve$1(t.toBytes())}}_class$1=PublicKey$1;PublicKey$1.default=new _class$1("11111111111111111111111111111111");SOLANA_SCHEMA$1.set(PublicKey$1,{kind:"struct",fields:[["_bn","u256"]]});class Account{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=toBuffer$1(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=toBuffer$1(generatePrivateKey()),this._publicKey=toBuffer$1(getPublicKey$1(this._secretKey))}get publicKey(){return new PublicKey$1(this._publicKey)}get secretKey(){return bufferPolyfill.Buffer.concat([this._secretKey,this._publicKey],64)}}const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey$1("BPFLoader1111111111111111111111111111111111"),PACKET_DATA_SIZE$1=1280-40-8,VERSION_PREFIX_MASK$1=127,SIGNATURE_LENGTH_IN_BYTES$1=64;class TransactionExpiredBlockheightExceededError extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});class TransactionExpiredNonceInvalidError extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(TransactionExpiredNonceInvalidError.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MessageAccountKeys$1{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((a,c)=>{r.set(a.toBase58(),c)});const o=a=>{const c=r.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$2=(n="publicKey")=>blob$2(32,n),signature=(n="signature")=>blob$2(64,n),rustString$1=(n="string")=>{const e=struct$3([u32$3("length"),u32$3("lengthPadding"),blob$2(offset$1(u32$3(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(a,c)=>t(a,c).chars.toString(),o.encode=(a,c,u)=>{const en={chars:bufferPolyfill.Buffer.from(a,"utf8")};return r(en,c,u)},o.alloc=a=>u32$3().span+u32$3().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized$1=(n="authorized")=>struct$3([publicKey$2("staker"),publicKey$2("withdrawer")],n),lockup$1=(n="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$2("custodian")],n),voteInit$1=(n="voteInit")=>struct$3([publicKey$2("nodePubkey"),publicKey$2("authorizedVoter"),publicKey$2("authorizedWithdrawer"),u8$2("commission")],n),voteAuthorizeWithSeedArgs$1=(n="voteAuthorizeWithSeedArgs")=>struct$3([u32$3("voteAuthorizationType"),publicKey$2("currentAuthorityDerivedKeyOwnerPubkey"),rustString$1("currentAuthorityDerivedKeySeed"),publicKey$2("newAuthorized")],n);function getAlloc$1(n,e){const t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*t(o.elementLayout)}else if("fields"in o)return getAlloc$1({layout:o},e[o.property]);return 0};let r=0;return n.layout.fields.forEach(o=>{r+=t(o)}),r}function decodeLength$1(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function encodeLength$1(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function assert$2(n,e){if(!n)throw new Error(e||"Assertion failed")}class CompiledKeys$1{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,o=c=>{const u=c.toBase58();let en=r.get(u);return en===void 0&&(en={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,en)),en},a=o(t);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const en=o(u.pubkey);en.isSigner||=u.isSigner,en.isWritable||=u.isWritable}}return new CompiledKeys$1(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$2(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,en])=>en.isSigner&&en.isWritable),r=e.filter(([,en])=>en.isSigner&&!en.isWritable),o=e.filter(([,en])=>!en.isSigner&&en.isWritable),a=e.filter(([,en])=>!en.isSigner&&!en.isWritable),c={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};{assert$2(t.length>0,"Expected at least one writable signer key");const[en]=t[0];assert$2(en===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([en])=>new PublicKey$1(en)),...r.map(([en])=>new PublicKey$1(en)),...o.map(([en])=>new PublicKey$1(en)),...a.map(([en])=>new PublicKey$1(en))];return[c,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:a}]}drainKeysFoundInLookupTable(e,t){const r=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(t(c)){const u=new PublicKey$1(a),en=e.findIndex(tn=>tn.equals(u));en>=0&&(assert$2(en<256,"Max lookup table index exceeded"),r.push(en),o.push(u),this.keyMetaMap.delete(a))}return[r,o]}}class Message$1{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new PublicKey$1(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys$1(this.staticAccountKeys)}static compile(e){const t=CompiledKeys$1.compile(e.instructions,e.payerKey),[r,o]=t.getMessageComponents(),c=new MessageAccountKeys$1(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message$1({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<a}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];encodeLength$1(t,e);const r=this.instructions.map(sn=>{const{accounts:fn,programIdIndex:dn}=sn,hn=Array.from(bs58$3.decode(sn.data));let ln=[];encodeLength$1(ln,fn.length);let pn=[];return encodeLength$1(pn,hn.length),{programIdIndex:dn,keyIndicesCount:bufferPolyfill.Buffer.from(ln),keyIndices:fn,dataLength:bufferPolyfill.Buffer.from(pn),data:hn}});let o=[];encodeLength$1(o,r.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE$1);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;r.forEach(sn=>{c+=struct$3([u8$2("programIdIndex"),blob$2(sn.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),sn.keyIndices.length,"keyIndices"),blob$2(sn.dataLength.length,"dataLength"),seq(u8$2("userdatum"),sn.data.length,"data")]).encode(sn,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(t.length,"keyCount"),seq(publicKey$2("key"),e,"keys"),publicKey$2("recentBlockhash")]),en={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(t),keys:this.accountKeys.map(sn=>toBuffer$1(sn.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let tn=bufferPolyfill.Buffer.alloc(2048);const nn=u.encode(en,tn);return a.copy(tn,nn),tn.slice(0,nn+a.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&VERSION_PREFIX_MASK$1))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=t.shift(),a=t.shift(),c=decodeLength$1(t);let u=[];for(let fn=0;fn<c;fn++){const dn=t.slice(0,PUBLIC_KEY_LENGTH$1);t=t.slice(PUBLIC_KEY_LENGTH$1),u.push(new PublicKey$1(bufferPolyfill.Buffer.from(dn)))}const en=t.slice(0,PUBLIC_KEY_LENGTH$1);t=t.slice(PUBLIC_KEY_LENGTH$1);const tn=decodeLength$1(t);let nn=[];for(let fn=0;fn<tn;fn++){const dn=t.shift(),hn=decodeLength$1(t),ln=t.slice(0,hn);t=t.slice(hn);const pn=decodeLength$1(t),$n=t.slice(0,pn),Sn=bs58$3.encode(bufferPolyfill.Buffer.from($n));t=t.slice(pn),nn.push({programIdIndex:dn,accounts:ln,data:Sn})}const sn={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(en)),accountKeys:u,instructions:nn};return new Message$1(sn)}}class MessageV0{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MessageAccountKeys$1(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const o=e-r,a=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<a}else if(e>=this.header.numRequiredSignatures){const o=e-t,c=r-t-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=t-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const o=e.find(a=>a.key.equals(r.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const a of r.writableIndexes)if(a<o.state.addresses.length)t.writable.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`);for(const a of r.readonlyIndexes)if(a<o.state.addresses.length)t.readonly.push(o.state.addresses[a]);else throw new Error(`Failed to find address for index ${a} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=CompiledKeys$1.compile(e.instructions,e.payerKey),r=new Array,o={writable:new Array,readonly:new Array},a=e.addressLookupTableAccounts||[];for(const nn of a){const sn=t.extractTableLookup(nn);if(sn!==void 0){const[fn,{writable:dn,readonly:hn}]=sn;r.push(fn),o.writable.push(...dn),o.readonly.push(...hn)}}const[c,u]=t.getMessageComponents(),tn=new MessageAccountKeys$1(u,o).compileInstructions(e.instructions);return new MessageV0({header:c,staticAccountKeys:u,recentBlockhash:e.recentBlockhash,compiledInstructions:tn,addressTableLookups:r})}serialize(){const e=Array();encodeLength$1(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();encodeLength$1(r,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),a=Array();encodeLength$1(a,this.addressTableLookups.length);const c=struct$3([u8$2("prefix"),struct$3([u8$2("numRequiredSignatures"),u8$2("numReadonlySignedAccounts"),u8$2("numReadonlyUnsignedAccounts")],"header"),blob$2(e.length,"staticAccountKeysLength"),seq(publicKey$2(),this.staticAccountKeys.length,"staticAccountKeys"),publicKey$2("recentBlockhash"),blob$2(r.length,"instructionsLength"),blob$2(t.length,"serializedInstructions"),blob$2(a.length,"addressTableLookupsLength"),blob$2(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(PACKET_DATA_SIZE$1),en=1<<7,tn=c.encode({prefix:en,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(nn=>nn.toBytes()),recentBlockhash:bs58$3.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(a),serializedAddressTableLookups:o},u);return u.slice(0,tn)}serializeInstructions(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$1);for(const r of this.compiledInstructions){const o=Array();encodeLength$1(o,r.accountKeyIndexes.length);const a=Array();encodeLength$1(a,r.data.length),e+=struct$3([u8$2("programIdIndex"),blob$2(o.length,"encodedAccountKeyIndexesLength"),seq(u8$2(),r.accountKeyIndexes.length,"accountKeyIndexes"),blob$2(a.length,"encodedDataLength"),blob$2(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(a),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(PACKET_DATA_SIZE$1);for(const r of this.addressTableLookups){const o=Array();encodeLength$1(o,r.writableIndexes.length);const a=Array();encodeLength$1(a,r.readonlyIndexes.length),e+=struct$3([publicKey$2("accountKey"),blob$2(o.length,"encodedWritableIndexesLength"),seq(u8$2(),r.writableIndexes.length,"writableIndexes"),blob$2(a.length,"encodedReadonlyIndexesLength"),seq(u8$2(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(a),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),o=r&VERSION_PREFIX_MASK$1;assert$2(r!==o,"Expected versioned message but received legacy message");const a=o;assert$2(a===0,`Expected versioned message with version 0 but found version ${a}`);const c={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},u=[],en=decodeLength$1(t);for(let hn=0;hn<en;hn++)u.push(new PublicKey$1(t.splice(0,PUBLIC_KEY_LENGTH$1)));const tn=bs58$3.encode(t.splice(0,PUBLIC_KEY_LENGTH$1)),nn=decodeLength$1(t),sn=[];for(let hn=0;hn<nn;hn++){const ln=t.shift(),pn=decodeLength$1(t),$n=t.splice(0,pn),Sn=decodeLength$1(t),yn=new Uint8Array(t.splice(0,Sn));sn.push({programIdIndex:ln,accountKeyIndexes:$n,data:yn})}const fn=decodeLength$1(t),dn=[];for(let hn=0;hn<fn;hn++){const ln=new PublicKey$1(t.splice(0,PUBLIC_KEY_LENGTH$1)),pn=decodeLength$1(t),$n=t.splice(0,pn),Sn=decodeLength$1(t),yn=t.splice(0,Sn);dn.push({accountKey:ln,writableIndexes:$n,readonlyIndexes:yn})}return new MessageV0({header:c,staticAccountKeys:u,recentBlockhash:tn,compiledInstructions:sn,addressTableLookups:dn})}}const VersionedMessage={deserializeMessageVersion(n){const e=n[0],t=e&VERSION_PREFIX_MASK$1;return t===e?"legacy":t},deserialize:n=>{const e=VersionedMessage.deserializeMessageVersion(n);if(e==="legacy")return Message$1.from(n);if(e===0)return MessageV0.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let TransactionStatus=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const DEFAULT_SIGNATURE$1=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES$1).fill(0);class TransactionInstruction$1{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction$1{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction$1(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let ln=0;ln<t.length;ln++)if(t[ln].programId===void 0)throw new Error(`Transaction instruction index ${ln} has undefined program id`);const o=[],a=[];t.forEach(ln=>{ln.keys.forEach($n=>{a.push({...$n})});const pn=ln.programId.toString();o.includes(pn)||o.push(pn)}),o.forEach(ln=>{a.push({pubkey:new PublicKey$1(ln),isSigner:!1,isWritable:!1})});const c=[];a.forEach(ln=>{const pn=ln.pubkey.toString(),$n=c.findIndex(Sn=>Sn.pubkey.toString()===pn);$n>-1?(c[$n].isWritable=c[$n].isWritable||ln.isWritable,c[$n].isSigner=c[$n].isSigner||ln.isSigner):c.push(ln)}),c.sort(function(ln,pn){if(ln.isSigner!==pn.isSigner)return ln.isSigner?-1:1;if(ln.isWritable!==pn.isWritable)return ln.isWritable?-1:1;const $n={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return ln.pubkey.toBase58().localeCompare(pn.pubkey.toBase58(),"en",$n)});const u=c.findIndex(ln=>ln.pubkey.equals(r));if(u>-1){const[ln]=c.splice(u,1);ln.isSigner=!0,ln.isWritable=!0,c.unshift(ln)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const ln of this.signatures){const pn=c.findIndex($n=>$n.pubkey.equals(ln.publicKey));if(pn>-1)c[pn].isSigner||(c[pn].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${ln.publicKey.toString()}`)}let en=0,tn=0,nn=0;const sn=[],fn=[];c.forEach(({pubkey:ln,isSigner:pn,isWritable:$n})=>{pn?(sn.push(ln.toString()),en+=1,$n||(tn+=1)):(fn.push(ln.toString()),$n||(nn+=1))});const dn=sn.concat(fn),hn=t.map(ln=>{const{data:pn,programId:$n}=ln;return{programIdIndex:dn.indexOf($n.toString()),accounts:ln.keys.map(Sn=>dn.indexOf(Sn.pubkey.toString())),data:bs58$3.encode(pn)}});return hn.forEach(ln=>{assert$2(ln.programIdIndex>=0),ln.accounts.forEach(pn=>assert$2(pn>=0))}),new Message$1({header:{numRequiredSignatures:en,numReadonlySignedAccounts:tn,numReadonlyUnsignedAccounts:nn},accountKeys:dn,recentBlockhash:e,instructions:hn})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,a)=>t[a].equals(o.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const o=r.toString();return t.has(o)?!1:(t.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}this.signatures=r.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(o=>{const a=sign$1(r,o.secretKey);this._addSignature(o.publicKey,toBuffer$1(a))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){assert$2(t.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bufferPolyfill.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:o}of this.signatures)if(r===null){if(t)return!1}else if(!verify$1(r,e,o.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:t}=this,r=[];encodeLength$1(r,t.length);const o=r.length+t.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$2(t.length<256),bufferPolyfill.Buffer.from(r).copy(a,0),t.forEach(({signature:c},u)=>{c!==null&&(assert$2(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,r.length+u*64))}),e.copy(a,r.length+t.length*64),assert$2(a.length<=PACKET_DATA_SIZE$1,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE$1}`),a}get keys(){return assert$2(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$2(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$2(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=decodeLength$1(t);let o=[];for(let a=0;a<r;a++){const c=t.slice(0,SIGNATURE_LENGTH_IN_BYTES$1);t=t.slice(SIGNATURE_LENGTH_IN_BYTES$1),o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction$1.populate(Message$1.from(t),o)}static populate(e,t=[]){const r=new Transaction$1;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE$1)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};r.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:r.signatures.some(en=>en.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});r.instructions.push(new TransactionInstruction$1({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}class TransactionMessage{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:o,recentBlockhash:a}=e,{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:en}=r,tn=c-u;assert$2(tn>0,"Message header is invalid");const nn=e.staticAccountKeys.length-c-en;assert$2(nn>=0,"Message header is invalid");const sn=e.getAccountKeys(t),fn=sn.get(0);if(fn===void 0)throw new Error("Failed to decompile message because no account keys were found");const dn=[];for(const hn of o){const ln=[];for(const $n of hn.accountKeyIndexes){const Sn=sn.get($n);if(Sn===void 0)throw new Error(`Failed to find key for account key index ${$n}`);const yn=$n<c;let In;yn?In=$n<tn:$n<sn.staticAccountKeys.length?In=$n-c<nn:In=$n-sn.staticAccountKeys.length<sn.accountKeysFromLookups.writable.length,ln.push({pubkey:Sn,isSigner:$n<r.numRequiredSignatures,isWritable:In})}const pn=sn.get(hn.programIdIndex);if(pn===void 0)throw new Error(`Failed to find program id for program id index ${hn.programIdIndex}`);dn.push(new TransactionInstruction$1({programId:pn,data:toBuffer$1(hn.data),keys:ln}))}return new TransactionMessage({payerKey:fn,instructions:dn,recentBlockhash:a})}compileToLegacyMessage(){return Message$1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return MessageV0.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class VersionedTransaction{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)assert$2(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let o=0;o<e.header.numRequiredSignatures;o++)r.push(new Uint8Array(SIGNATURE_LENGTH_IN_BYTES$1));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();encodeLength$1(t,this.signatures.length);const r=struct$3([blob$2(t.length,"encodedSignaturesLength"),seq(signature(),this.signatures.length,"signatures"),blob$2(e.length,"serializedMessage")]),o=new Uint8Array(2048),a=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,a)}static deserialize(e){let t=[...e];const r=[],o=decodeLength$1(t);for(let c=0;c<o;c++)r.push(new Uint8Array(t.splice(0,SIGNATURE_LENGTH_IN_BYTES$1)));const a=VersionedMessage.deserialize(new Uint8Array(t));return new VersionedTransaction(a,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of e){const a=r.findIndex(c=>c.equals(o.publicKey));assert$2(a>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[a]=sign$1(t,o.secretKey)}}addSignature(e,t){assert$2(t.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(a=>a.equals(e));assert$2(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=t}}const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND,SYSVAR_CLOCK_PUBKEY=new PublicKey$1("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey$1("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey$1("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1=new PublicKey$1("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY$1=new PublicKey$1("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey$1("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey$1("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey$1("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey$1("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$3(n,e,t,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},a=await n.sendTransaction(e,t,o);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,en=u.keys[0].pubkey;c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:en,nonceValue:e.nonceInfo.nonce,signature:a},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await n.confirmTransaction(a,r&&r.commitment)).value;if(c.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(c)})`);return a}function sleep(n){return new Promise(e=>setTimeout(e,n))}function encodeData$1(n,e){const t=n.layout.span>=0?n.layout.span:getAlloc$1(n,e),r=bufferPolyfill.Buffer.alloc(t),o=Object.assign({instruction:n.index},e);return n.layout.encode(o,r),r}function decodeData$1(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const FeeCalculatorLayout$1=nu64$1("lamportsPerSignature"),NonceAccountLayout$1=struct$3([u32$3("version"),u32$3("state"),publicKey$2("authorizedPubkey"),publicKey$2("nonce"),struct$3([FeeCalculatorLayout$1],"feeCalculator")]),NONCE_ACCOUNT_LENGTH$1=NonceAccountLayout$1.span;class NonceAccount{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=NonceAccountLayout$1.decode(toBuffer$1(e),0);return new NonceAccount({authorizedPubkey:new PublicKey$1(t.authorizedPubkey),nonce:new PublicKey$1(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const encodeDecode$1=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bigInt$1=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode$1(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferLE_1(c,n);return r(tn,u,en)},a},u64$2=bigInt$1(8);class SystemInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS$1))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new PublicKey$1(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new PublicKey$1(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:o,programId:a}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$1(t),seed:r,space:o,programId:new PublicKey$1(a)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new PublicKey$1(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:o}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new PublicKey$1(t),seed:r,programId:new PublicKey$1(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:o,space:a,programId:c}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new PublicKey$1(t),seed:r,lamports:o,space:a,programId:new PublicKey$1(c)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new PublicKey$1(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=decodeData$1(SYSTEM_INSTRUCTION_LAYOUTS$1.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new PublicKey$1(t)}}static checkProgramId(e){if(!e.equals(SystemProgram$1.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const SYSTEM_INSTRUCTION_LAYOUTS$1=Object.freeze({Create:{index:0,layout:struct$3([u32$3("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$2("programId")])},Assign:{index:1,layout:struct$3([u32$3("instruction"),publicKey$2("programId")])},Transfer:{index:2,layout:struct$3([u32$3("instruction"),u64$2("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$3("instruction"),publicKey$2("base"),rustString$1("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$2("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$3("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$3("instruction"),publicKey$2("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$3("instruction"),publicKey$2("authorized")])},Allocate:{index:8,layout:struct$3([u32$3("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$3("instruction"),publicKey$2("base"),rustString$1("seed"),ns64$1("space"),publicKey$2("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$3("instruction"),publicKey$2("base"),rustString$1("seed"),publicKey$2("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$3("instruction"),u64$2("lamports"),rustString$1("seed"),publicKey$2("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$3("instruction")])}});class SystemProgram$1{constructor(){}static createAccount(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$1.Create,r=encodeData$1(t,{lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});return new TransactionInstruction$1({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$1.TransferWithSeed;t=encodeData$1(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$1.Transfer;t=encodeData$1(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction$1({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$1.AssignWithSeed;t=encodeData$1(o,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer$1(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$1.Assign;t=encodeData$1(o,{programId:toBuffer$1(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$1({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$1.CreateWithSeed,r=encodeData$1(t,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer$1(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction$1({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Transaction$1;"basePubkey"in e&&"seed"in e?t.add(SystemProgram$1.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$1,programId:this.programId})):t.add(SystemProgram$1.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH$1,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$1.InitializeNonceAccount,r=encodeData$1(t,{authorized:toBuffer$1(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$1(o)}static nonceAdvance(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$1.AdvanceNonceAccount,r=encodeData$1(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction$1(o)}static nonceWithdraw(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$1.WithdrawNonceAccount,r=encodeData$1(t,{lamports:e.lamports});return new TransactionInstruction$1({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS$1.AuthorizeNonceAccount,r=encodeData$1(t,{authorized:toBuffer$1(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction$1({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS$1.AllocateWithSeed;t=encodeData$1(o,{base:toBuffer$1(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer$1(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS$1.Allocate;t=encodeData$1(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction$1({keys:r,programId:this.programId,data:t})}}SystemProgram$1.programId=new PublicKey$1("11111111111111111111111111111111");const CHUNK_SIZE=PACKET_DATA_SIZE$1-300;class Loader{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Loader.chunkSize)+1+1)}static async load(e,t,r,o,a){{const sn=await e.getMinimumBalanceForRentExemption(a.length),fn=await e.getAccountInfo(r.publicKey,"confirmed");let dn=null;if(fn!==null){if(fn.executable)return console.error("Program load failed, account is already executable"),!1;fn.data.length!==a.length&&(dn=dn||new Transaction$1,dn.add(SystemProgram$1.allocate({accountPubkey:r.publicKey,space:a.length}))),fn.owner.equals(o)||(dn=dn||new Transaction$1,dn.add(SystemProgram$1.assign({accountPubkey:r.publicKey,programId:o}))),fn.lamports<sn&&(dn=dn||new Transaction$1,dn.add(SystemProgram$1.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:sn-fn.lamports})))}else dn=new Transaction$1().add(SystemProgram$1.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:sn>0?sn:1,space:a.length,programId:o}));dn!==null&&await sendAndConfirmTransaction$3(e,dn,[t,r],{commitment:"confirmed"})}const c=struct$3([u32$3("instruction"),u32$3("offset"),u32$3("bytesLength"),u32$3("bytesLengthPadding"),seq(u8$2("byte"),offset$1(u32$3(),-8),"bytes")]),u=Loader.chunkSize;let en=0,tn=a,nn=[];for(;tn.length>0;){const sn=tn.slice(0,u),fn=bufferPolyfill.Buffer.alloc(u+16);c.encode({instruction:0,offset:en,bytes:sn,bytesLength:0,bytesLengthPadding:0},fn);const dn=new Transaction$1().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:fn});nn.push(sendAndConfirmTransaction$3(e,dn,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),en+=u,tn=tn.slice(u)}await Promise.all(nn);{const sn=struct$3([u32$3("instruction")]),fn=bufferPolyfill.Buffer.alloc(sn.span);sn.encode({instruction:1},fn);const dn=new Transaction$1().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1}],programId:o,data:fn}),hn="processed",ln=await e.sendTransaction(dn,[t,r],{preflightCommitment:hn}),{context:pn,value:$n}=await e.confirmTransaction({signature:ln,lastValidBlockHeight:dn.lastValidBlockHeight,blockhash:dn.recentBlockhash},hn);if($n.err)throw new Error(`Transaction ${ln} failed (${JSON.stringify($n)})`);for(;;){try{if(await e.getSlot({commitment:hn})>pn.slot)break}catch{}await new Promise(Sn=>setTimeout(Sn,Math.round(MS_PER_SLOT/2)))}}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey$1("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(e){return Loader.getMinNumSignatures(e)}static load(e,t,r,o,a){return Loader.load(e,t,r,a,o)}}function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var objToString=Object.prototype.toString,objKeys=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function stringify(n,e){var t,r,o,a,c,u,en;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return stringify(n.toJSON(),e);if(en=objToString.call(n),en==="[object Array]"){for(o="[",r=n.length-1,t=0;t<r;t++)o+=stringify(n[t],!0)+",";return r>-1&&(o+=stringify(n[t],!0)),o+"]"}else if(en==="[object Object]"){for(a=objKeys(n).sort(),r=a.length,o="",t=0;t<r;)c=a[t],u=stringify(n[c],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),t++;return"{"+o+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var fastStableStringify=function(n){var e=stringify(n,!1);if(e!==void 0)return""+e},fastStableStringify$1=getDefaultExportFromCjs(fastStableStringify);const MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(n){let e=0;for(;n>1;)n/=2,e++;return e}function nextPowerOfTwo(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class EpochSchedule{constructor(e,t,r,o,a){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=o,this.firstNormalSlot=a}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=trailingZeros(nextPowerOfTwo(e+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,r=this.getSlotsInEpoch(t),o=e-(r-MINIMUM_SLOT_PER_EPOCH);return[t,o]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),o=this.firstNormalEpoch+r,a=t%this.slotsPerEpoch;return[o,a]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MINIMUM_SLOT_PER_EPOCH:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:e,message:t,data:r},o){super(o!=null?`${o}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;class RpcWebSocketClient extends RpcWebSocketCommonClient{constructor(e,t,r){const o=a=>{const c=createRpc(a,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(o,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function decodeData(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const LOOKUP_TABLE_META_SIZE=56;class AddressLookupTableAccount{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=decodeData(LookupTableMetaLayout,e),r=e.length-LOOKUP_TABLE_META_SIZE;assert$2(r>=0,"lookup table is invalid"),assert$2(r%32===0,"lookup table is invalid");const o=r/32,{addresses:a}=struct$3([seq(publicKey$2(),o,"addresses")]).decode(e.slice(LOOKUP_TABLE_META_SIZE));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new PublicKey$1(t.authority[0]):void 0,addresses:a.map(c=>new PublicKey$1(c))}}}const LookupTableMetaLayout={index:1,layout:struct$3([u32$3("typeIndex"),u64$2("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$2(),offset$1(u8$2(),-1),"authority")])},URL_RE=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function makeWebsocketUrl(n){const e=n.match(URL_RE);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,o,a]=e,c=n.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),en=u==null?"":`:${u+1}`;return`${c}//${r}${en}${a}`}const PublicKeyFromString$1=coerce(instance(PublicKey$1),string(),n=>new PublicKey$1(n)),RawAccountDataResult$1=tuple([string(),literal("base64")]),BufferFromRawAccountData$1=coerce(instance(bufferPolyfill.Buffer),RawAccountDataResult$1,n=>bufferPolyfill.Buffer.from(n[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function assertEndpointUrl(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function extractCommitmentFromConfig(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...o}=n;e=r,t=o}return{commitment:e,config:t}}function createRpcResult$1(n){return union([type({jsonrpc:literal("2.0"),id:string(),result:n}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult$1=createRpcResult$1(unknown());function jsonRpcResult$1(n){return coerce(createRpcResult$1(n),UnknownRpcResult$1,e=>"error"in e?e:{...e,result:create(e.result,n)})}function jsonRpcResultAndContext$1(n){return jsonRpcResult$1(type({context:type({slot:number()}),value:n}))}function notificationResultAndContext$1(n){return type({context:type({slot:number()}),value:n})}function versionedMessageFromResponse(n,e){return n===0?new MessageV0({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new PublicKey$1(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:bs58$3.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Message$1(e)}const GetInflationGovernorResult$1=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()}),GetInflationRewardResult=jsonRpcResult$1(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number(),commission:optional(nullable(number()))})))),GetRecentPrioritizationFeesResult$1=array(type({slot:number(),prioritizationFee:number()})),GetInflationRateResult$1=type({total:number(),validator:number(),foundation:number(),epoch:number()}),GetEpochInfoResult$1=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult$1=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult$1=record(string(),array(number())),TransactionErrorResult$1=nullable(union([type({}),string()])),SignatureStatusResult$1=type({err:TransactionErrorResult$1}),SignatureReceivedResult$1=literal("receivedSignature"),VersionResult=type({"solana-core":string(),"feature-set":optional(number())}),SimulatedTransactionResponseStruct=jsonRpcResultAndContext$1(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext$1(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));function createRpcClient(n,e,t,r,o,a){const c=t||fetchImpl;let u;a!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let en;return r&&(en=async(nn,sn)=>{const fn=await new Promise((dn,hn)=>{try{r(nn,sn,(ln,pn)=>dn([ln,pn]))}catch(ln){hn(ln)}});return await c(...fn)}),new browser(async(nn,sn)=>{const fn={method:"POST",body:nn,agent:u,headers:Object.assign({"Content-Type":"application/json"},e||{},COMMON_HTTP_HEADERS)};try{let dn=5,hn,ln=500;for(;en?hn=await en(n,fn):hn=await c(n,fn),!(hn.status!==429||o===!0||(dn-=1,dn===0));)console.log(`Server responded with ${hn.status} ${hn.statusText}.  Retrying after ${ln}ms delay...`),await sleep(ln),ln*=2;const pn=await hn.text();hn.ok?sn(null,pn):sn(new Error(`${hn.status} ${hn.statusText}: ${pn}`))}catch(dn){dn instanceof Error&&sn(dn)}},{})}function createRpcRequest(n){return(e,t)=>new Promise((r,o)=>{n.request(e,t,(a,c)=>{if(a){o(a);return}r(c)})})}function createRpcBatchRequest(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const o=e.map(a=>n.request(a.methodName,a.args));n.request(o,(a,c)=>{if(a){r(a);return}t(c)})})}const GetInflationGovernorRpcResult=jsonRpcResult$1(GetInflationGovernorResult$1),GetInflationRateRpcResult=jsonRpcResult$1(GetInflationRateResult$1),GetRecentPrioritizationFeesRpcResult=jsonRpcResult$1(GetRecentPrioritizationFeesResult$1),GetEpochInfoRpcResult=jsonRpcResult$1(GetEpochInfoResult$1),GetEpochScheduleRpcResult=jsonRpcResult$1(GetEpochScheduleResult$1),GetLeaderScheduleRpcResult=jsonRpcResult$1(GetLeaderScheduleResult$1),SlotRpcResult=jsonRpcResult$1(number()),GetSupplyRpcResult=jsonRpcResultAndContext$1(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString$1)})),TokenAmountResult$1=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext$1(array(type({address:PublicKeyFromString$1,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext$1(array(type({pubkey:PublicKeyFromString$1,account:type({executable:boolean(),owner:PublicKeyFromString$1,lamports:number(),data:BufferFromRawAccountData$1,rentEpoch:number()})}))),ParsedAccountDataResult$1=type({program:string(),parsed:unknown(),space:number()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext$1(array(type({pubkey:PublicKeyFromString$1,account:type({executable:boolean(),owner:PublicKeyFromString$1,lamports:number(),data:ParsedAccountDataResult$1,rentEpoch:number()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext$1(array(type({lamports:number(),address:PublicKeyFromString$1}))),AccountInfoResult$1=type({executable:boolean(),owner:PublicKeyFromString$1,lamports:number(),data:BufferFromRawAccountData$1,rentEpoch:number()}),KeyedAccountInfoResult=type({pubkey:PublicKeyFromString$1,account:AccountInfoResult$1}),ParsedOrRawAccountData$1=coerce(union([instance(bufferPolyfill.Buffer),ParsedAccountDataResult$1]),union([RawAccountDataResult$1,ParsedAccountDataResult$1]),n=>Array.isArray(n)?create(n,BufferFromRawAccountData$1):n),ParsedAccountInfoResult$1=type({executable:boolean(),owner:PublicKeyFromString$1,lamports:number(),data:ParsedOrRawAccountData$1,rentEpoch:number()}),KeyedParsedAccountInfoResult=type({pubkey:PublicKeyFromString$1,account:ParsedAccountInfoResult$1}),StakeActivationResult=type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult$1(array(type({signature:string(),slot:number(),err:TransactionErrorResult$1,memo:nullable(string()),blockTime:optional(nullable(number()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult$1(array(type({signature:string(),slot:number(),err:TransactionErrorResult$1,memo:nullable(string()),blockTime:optional(nullable(number()))}))),AccountNotificationResult=type({subscription:number(),result:notificationResultAndContext$1(AccountInfoResult$1)}),ProgramAccountInfoResult$1=type({pubkey:PublicKeyFromString$1,account:AccountInfoResult$1}),ProgramAccountNotificationResult=type({subscription:number(),result:notificationResultAndContext$1(ProgramAccountInfoResult$1)}),SlotInfoResult$1=type({parent:number(),slot:number(),root:number()}),SlotNotificationResult=type({subscription:number(),result:SlotInfoResult$1}),SlotUpdateResult$1=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]),SlotUpdateNotificationResult=type({subscription:number(),result:SlotUpdateResult$1}),SignatureNotificationResult=type({subscription:number(),result:notificationResultAndContext$1(union([SignatureStatusResult$1,SignatureReceivedResult$1]))}),RootNotificationResult=type({subscription:number(),result:number()}),ContactInfoResult=type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())}),VoteAccountInfoResult$1=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())}),GetVoteAccounts=jsonRpcResult$1(type({current:array(VoteAccountInfoResult$1),delinquent:array(VoteAccountInfoResult$1)})),ConfirmationStatus$1=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse$1=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult$1,confirmationStatus:optional(ConfirmationStatus$1)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext$1(array(nullable(SignatureStatusResponse$1))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult$1(number()),AddressTableLookupStruct$1=type({accountKey:PublicKeyFromString$1,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult$1=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct$1))})}),AnnotatedAccountKey$1=type({pubkey:PublicKeyFromString$1,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),ConfirmedTransactionAccountsModeResult$1=type({accountKeys:array(AnnotatedAccountKey$1),signatures:array(string())}),ParsedInstructionResult$1=type({parsed:unknown(),program:string(),programId:PublicKeyFromString$1}),RawInstructionResult$1=type({accounts:array(PublicKeyFromString$1),data:string(),programId:PublicKeyFromString$1}),InstructionResult$1=union([RawInstructionResult$1,ParsedInstructionResult$1]),UnknownInstructionResult$1=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction$1=coerce(InstructionResult$1,UnknownInstructionResult$1,n=>"accounts"in n?create(n,RawInstructionResult$1):create(n,ParsedInstructionResult$1)),ParsedConfirmedTransactionResult$1=type({signatures:array(string()),message:type({accountKeys:array(AnnotatedAccountKey$1),instructions:array(ParsedOrRawInstruction$1),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct$1)))})}),TokenBalanceResult$1=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult$1}),LoadedAddressesResult$1=type({writable:array(PublicKeyFromString$1),readonly:array(PublicKeyFromString$1)}),ConfirmedTransactionMetaResult$1=type({err:TransactionErrorResult$1,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult$1))),postTokenBalances:optional(nullable(array(TokenBalanceResult$1))),loadedAddresses:optional(LoadedAddressesResult$1),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult$1=type({err:TransactionErrorResult$1,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction$1)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult$1))),postTokenBalances:optional(nullable(array(TokenBalanceResult$1))),loadedAddresses:optional(LoadedAddressesResult$1),computeUnitsConsumed:optional(number())}),TransactionVersionStruct$1=union([literal(0),literal("legacy")]),RewardsResult$1=type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string()),commission:optional(nullable(number()))}),GetBlockRpcResult=jsonRpcResult$1(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult$1,meta:nullable(ConfirmedTransactionMetaResult$1),version:optional(TransactionVersionStruct$1)})),rewards:optional(array(RewardsResult$1)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetNoneModeBlockRpcResult=jsonRpcResult$1(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult$1)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetAccountsModeBlockRpcResult=jsonRpcResult$1(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult$1,meta:nullable(ConfirmedTransactionMetaResult$1),version:optional(TransactionVersionStruct$1)})),rewards:optional(array(RewardsResult$1)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedBlockRpcResult=jsonRpcResult$1(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ParsedConfirmedTransactionResult$1,meta:nullable(ParsedConfirmedTransactionMetaResult$1),version:optional(TransactionVersionStruct$1)})),rewards:optional(array(RewardsResult$1)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedAccountsModeBlockRpcResult=jsonRpcResult$1(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult$1,meta:nullable(ParsedConfirmedTransactionMetaResult$1),version:optional(TransactionVersionStruct$1)})),rewards:optional(array(RewardsResult$1)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetParsedNoneModeBlockRpcResult=jsonRpcResult$1(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult$1)),blockTime:nullable(number()),blockHeight:nullable(number())}))),GetConfirmedBlockRpcResult=jsonRpcResult$1(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult$1,meta:nullable(ConfirmedTransactionMetaResult$1)})),rewards:optional(array(RewardsResult$1)),blockTime:nullable(number())}))),GetBlockSignaturesRpcResult=jsonRpcResult$1(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())}))),GetTransactionRpcResult=jsonRpcResult$1(nullable(type({slot:number(),meta:nullable(ConfirmedTransactionMetaResult$1),blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult$1,version:optional(TransactionVersionStruct$1)}))),GetParsedTransactionRpcResult=jsonRpcResult$1(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult$1,meta:nullable(ParsedConfirmedTransactionMetaResult$1),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct$1)}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext$1(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext$1(type({blockhash:string(),lastValidBlockHeight:number()})),IsBlockhashValidRpcResult=jsonRpcResultAndContext$1(boolean()),PerfSampleResult$1=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult$1(array(PerfSampleResult$1)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext$1(nullable(type({feeCalculator:type({lamportsPerSignature:number()})}))),RequestAirdropRpcResult=jsonRpcResult$1(string()),SendTransactionRpcResult=jsonRpcResult$1(string()),LogsResult$1=type({err:TransactionErrorResult$1,logs:array(string()),signature:string()}),LogsNotificationResult=type({result:notificationResultAndContext$1(LogsResult$1),subscription:number()}),COMMON_HTTP_HEADERS={"solana-client":"js/0.0.0-development"};class Connection{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const tn={};return async nn=>{const{commitment:sn,config:fn}=extractCommitmentFromConfig(nn),dn=this._buildArgs([],sn,void 0,fn),hn=fastStableStringify$1(dn);return tn[hn]=tn[hn]??(async()=>{try{const ln=await this._rpcRequest("getBlockHeight",dn),pn=create(ln,jsonRpcResult$1(number()));if("error"in pn)throw new SolanaJSONRPCError(pn.error,"failed to get block height information");return pn.result}finally{delete tn[hn]}})(),await tn[hn]}})();let r,o,a,c,u,en;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,o=t.httpHeaders,a=t.fetch,c=t.fetchMiddleware,u=t.disableRetryOnRateLimit,en=t.httpAgent),this._rpcEndpoint=assertEndpointUrl(e),this._rpcWsEndpoint=r||makeWebsocketUrl(e),this._rpcClient=createRpcClient(e,o,a,c,u,en),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new RpcWebSocketClient(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=this._buildArgs([e.toBase58()],r,void 0,o),c=await this._rpcRequest("getBalance",a),u=create(c,jsonRpcResultAndContext$1(number()));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get balance for ${e.toBase58()}`);return u.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=create(t,jsonRpcResult$1(nullable(number())));if("error"in r)throw new SolanaJSONRPCError(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=create(e,jsonRpcResult$1(number()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=create(e,SlotRpcResult);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),o=create(r,GetSupplyRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get supply");return o.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenSupply",r),a=create(o,jsonRpcResultAndContext$1(TokenAmountResult$1));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get token supply");return a.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenAccountBalance",r),a=create(o,jsonRpcResultAndContext$1(TokenAmountResult$1));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get token account balance");return a.result}async getTokenAccountsByOwner(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig(r);let c=[e.toBase58()];"mint"in t?c.push({mint:t.mint.toBase58()}):c.push({programId:t.programId.toBase58()});const u=this._buildArgs(c,o,"base64",a),en=await this._rpcRequest("getTokenAccountsByOwner",u),tn=create(en,GetTokenAccountsByOwner);if("error"in tn)throw new SolanaJSONRPCError(tn.error,`failed to get token accounts owned by account ${e.toBase58()}`);return tn.result}async getParsedTokenAccountsByOwner(e,t,r){let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,r,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=create(c,GetParsedTokenAccountsByOwner);if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],o=await this._rpcRequest("getLargestAccounts",r),a=create(o,GetLargestAccountsRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get largest accounts");return a.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),o=await this._rpcRequest("getTokenLargestAccounts",r),a=create(o,GetTokenLargestAccountsResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get token largest accounts");return a.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=this._buildArgs([e.toBase58()],r,"base64",o),c=await this._rpcRequest("getAccountInfo",a),u=create(c,jsonRpcResultAndContext$1(nullable(AccountInfoResult$1)));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getParsedAccountInfo(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",a),u=create(c,jsonRpcResultAndContext$1(nullable(ParsedAccountInfoResult$1)));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get info about account ${e.toBase58()}`);return u.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"jsonParsed",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create(u,jsonRpcResultAndContext$1(array(nullable(ParsedAccountInfoResult$1))));if("error"in en)throw new SolanaJSONRPCError(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=e.map(tn=>tn.toBase58()),c=this._buildArgs([a],r,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),en=create(u,jsonRpcResultAndContext$1(array(nullable(AccountInfoResult$1))));if("error"in en)throw new SolanaJSONRPCError(en.error,`failed to get info for accounts ${a}`);return en.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig(t),c=this._buildArgs([e.toBase58()],o,void 0,{...a,epoch:r??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getStakeActivation",c),en=create(u,jsonRpcResult$1(StakeActivationResult));if("error"in en)throw new SolanaJSONRPCError(en.error,`failed to get Stake Activation ${e.toBase58()}`);return en.result}async getProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),{encoding:a,...c}=o||{},u=this._buildArgs([e.toBase58()],r,a||"base64",c),en=await this._rpcRequest("getProgramAccounts",u),tn=array(KeyedAccountInfoResult),nn=c.withContext===!0?create(en,jsonRpcResultAndContext$1(tn)):create(en,jsonRpcResult$1(tn));if("error"in nn)throw new SolanaJSONRPCError(nn.error,`failed to get accounts owned by program ${e.toBase58()}`);return nn.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=this._buildArgs([e.toBase58()],r,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",a),u=create(c,jsonRpcResult$1(array(KeyedParsedAccountInfoResult)));if("error"in u)throw new SolanaJSONRPCError(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async confirmTransaction(e,t){var a;let r;if(typeof e=="string")r=e;else{const c=e;if((a=c.abortSignal)!=null&&a.aborted)return Promise.reject(c.abortSignal.reason);r=c.signature}let o;try{o=bs58$3.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return assert$2(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,o,a=!1;const c=new Promise((en,tn)=>{try{r=this.onSignature(t,(sn,fn)=>{r=void 0;const dn={context:fn,value:sn};en({__type:TransactionStatus.PROCESSED,response:dn})},e);const nn=new Promise(sn=>{r==null?sn():o=this._onSubscriptionStateChange(r,fn=>{fn==="subscribed"&&sn()})});(async()=>{if(await nn,a)return;const sn=await this.getSignatureStatus(t);if(a||sn==null)return;const{context:fn,value:dn}=sn;if(dn!=null)if(dn!=null&&dn.err)tn(dn.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(dn.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(dn.confirmationStatus==="processed"||dn.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}a=!0,en({__type:TransactionStatus.PROCESSED,response:{context:fn,value:dn}})}})()}catch(nn){tn(nn)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:o}}){let a=!1;const c=new Promise(sn=>{const fn=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let dn=await fn();if(!a){for(;dn<=r;)if(await sleep(1e3),a||(dn=await fn(),a))return;sn({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:en}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),tn=this.getCancellationPromise(t);let nn;try{const sn=await Promise.race([tn,en,c]);if(sn.__type===TransactionStatus.PROCESSED)nn=sn.response;else throw new TransactionExpiredBlockheightExceededError(o)}finally{a=!0,u()}return nn}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:o,nonceValue:a,signature:c}}){let u=!1;const en=new Promise(dn=>{let hn=a,ln=null;const pn=async()=>{try{const{context:$n,value:Sn}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:r});return ln=$n.slot,Sn==null?void 0:Sn.nonce}catch{return hn}};(async()=>{if(hn=await pn(),!u)for(;;){if(a!==hn){dn({__type:TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:ln});return}if(await sleep(2e3),u||(hn=await pn(),u))return}})()}),{abortConfirmation:tn,confirmationPromise:nn}=this.getTransactionConfirmationPromise({commitment:e,signature:c}),sn=this.getCancellationPromise(t);let fn;try{const dn=await Promise.race([sn,nn,en]);if(dn.__type===TransactionStatus.PROCESSED)fn=dn.response;else{let hn;for(;;){const ln=await this.getSignatureStatus(c);if(ln==null)break;if(ln.context.slot<(dn.slotInWhichNonceDidAdvance??r)){await sleep(400);continue}hn=ln;break}if(hn!=null&&hn.value){const ln=e||"finalized",{confirmationStatus:pn}=hn.value;switch(ln){case"processed":case"recent":if(pn!=="processed"&&pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError(c);break;case"confirmed":case"single":case"singleGossip":if(pn!=="confirmed"&&pn!=="finalized")throw new TransactionExpiredNonceInvalidError(c);break;case"finalized":case"max":case"root":if(pn!=="finalized")throw new TransactionExpiredNonceInvalidError(c);break;default:($n=>{})(ln)}fn={context:hn.context,value:{err:hn.value.err}}}else throw new TransactionExpiredNonceInvalidError(c)}}finally{u=!0,tn()}return fn}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const o=new Promise(en=>{let tn=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{tn=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>en({__type:TransactionStatus.TIMED_OUT,timeoutMs:tn}),tn)}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let u;try{const en=await Promise.race([c,o]);if(en.__type===TransactionStatus.PROCESSED)u=en.response;else throw new TransactionExpiredTimeoutError(t,en.timeoutMs/1e3)}finally{clearTimeout(r),a()}return u}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=create(e,jsonRpcResult$1(array(ContactInfoResult)));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),o=create(r,GetVoteAccounts);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get vote accounts");return o.result}async getSlot(e){const{commitment:t,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlot",o),c=create(a,jsonRpcResult$1(number()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get slot");return c.result}async getSlotLeader(e){const{commitment:t,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getSlotLeader",o),c=create(a,jsonRpcResult$1(string()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(e,t){const r=[e,t],o=await this._rpcRequest("getSlotLeaders",r),a=create(o,jsonRpcResult$1(array(PublicKeyFromString$1)));if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get slot leaders");return a.result}async getSignatureStatus(e,t){const{context:r,value:o}=await this.getSignatureStatuses([e],t);assert$2(o.length===1);const a=o[0];return{context:r,value:a}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const o=await this._rpcRequest("getSignatureStatuses",r),a=create(o,GetSignatureStatusesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get signature status");return a.result}async getTransactionCount(e){const{commitment:t,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getTransactionCount",o),c=create(a,jsonRpcResult$1(number()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get transaction count");return c.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),o=create(r,GetInflationGovernorRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get inflation");return o.result}async getInflationReward(e,t,r){const{commitment:o,config:a}=extractCommitmentFromConfig(r),c=this._buildArgs([e.map(tn=>tn.toBase58())],o,void 0,{...a,epoch:t??(a==null?void 0:a.epoch)}),u=await this._rpcRequest("getInflationReward",c),en=create(u,GetInflationRewardResult);if("error"in en)throw new SolanaJSONRPCError(en.error,"failed to get inflation reward");return en.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=create(e,GetInflationRateRpcResult);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getEpochInfo",o),c=create(a,GetEpochInfoRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=create(e,GetEpochScheduleRpcResult);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get epoch schedule");const r=t.result;return new EpochSchedule(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=create(e,GetLeaderScheduleRpcResult);if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getMinimumBalanceForRentExemption",r),a=create(o,GetMinimumBalanceForRentExemptionRpcResult);return"error"in a?(console.warn("Unable to fetch minimum balance for rent exemption"),0):a.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),o=create(r,GetRecentBlockhashAndContextRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=create(t,GetRecentPerformanceSamplesRpcResult);if("error"in r)throw new SolanaJSONRPCError(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),o=await this._rpcRequest("getFeeCalculatorForBlockhash",r),a=create(o,GetFeeCalculatorRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get fee calculator");const{context:c,value:u}=a.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(e,t){const r=toBuffer$1(e.serialize()).toString("base64"),o=this._buildArgs([r],t),a=await this._rpcRequest("getFeeForMessage",o),c=create(a,jsonRpcResultAndContext$1(nullable(number())));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(e){var c;const t=(c=e==null?void 0:e.lockedWritableAccounts)==null?void 0:c.map(u=>u.toBase58()),r=t!=null&&t.length?[t]:[],o=await this._rpcRequest("getRecentPrioritizationFees",r),a=create(o,GetRecentPrioritizationFeesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get recent prioritization fees");return a.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],t,void 0,r),a=await this._rpcRequest("getLatestBlockhash",o),c=create(a,GetLatestBlockhashRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=this._buildArgs([e],r,void 0,o),c=await this._rpcRequest("isBlockhashValid",a),u=create(c,IsBlockhashValidRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to determine if the blockhash `"+e+"`is valid");return u.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=create(e,jsonRpcResult$1(VersionResult));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=create(e,jsonRpcResult$1(string()));if("error"in t)throw new SolanaJSONRPCError(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create(c,GetAccountsModeBlockRpcResult);if("error"in u)throw u.error;return u.result}case"none":{const u=create(c,GetNoneModeBlockRpcResult);if("error"in u)throw u.error;return u.result}default:{const u=create(c,GetBlockRpcResult);if("error"in u)throw u.error;const{result:en}=u;return en?{...en,transactions:en.transactions.map(({transaction:tn,meta:nn,version:sn})=>({meta:nn,transaction:{...tn,message:versionedMessageFromResponse(sn,tn.message)},version:sn}))}:null}}}catch(u){throw new SolanaJSONRPCError(u,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getBlock",a);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=create(c,GetParsedAccountsModeBlockRpcResult);if("error"in u)throw u.error;return u.result}case"none":{const u=create(c,GetParsedNoneModeBlockRpcResult);if("error"in u)throw u.error;return u.result}default:{const u=create(c,GetParsedBlockRpcResult);if("error"in u)throw u.error;return u.result}}}catch(u){throw new SolanaJSONRPCError(u,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:u,...en}=e;r=u,t=en}const o=this._buildArgs([],r,"base64",t),a=await this._rpcRequest("getBlockProduction",o),c=create(a,BlockProductionResponseStruct);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get block production information");return c.result}async getTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=this._buildArgsAtLeastConfirmed([e],r,void 0,o),c=await this._rpcRequest("getTransaction",a),u=create(c,GetTransactionRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get transaction");const en=u.result;return en&&{...en,transaction:{...en.transaction,message:versionedMessageFromResponse(en.version,en.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",o),c=await this._rpcRequest("getTransaction",a),u=create(c,GetParsedTransactionRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get transaction");return u.result}async getParsedTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,"jsonParsed",o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create(en,GetParsedTransactionRpcResult);if("error"in tn)throw new SolanaJSONRPCError(tn.error,"failed to get transactions");return tn.result})}async getTransactions(e,t){const{commitment:r,config:o}=extractCommitmentFromConfig(t),a=e.map(en=>{const tn=this._buildArgsAtLeastConfirmed([en],r,void 0,o);return{methodName:"getTransaction",args:tn}});return(await this._rpcBatchRequest(a)).map(en=>{const tn=create(en,GetTransactionRpcResult);if("error"in tn)throw new SolanaJSONRPCError(tn.error,"failed to get transactions");const nn=tn.result;return nn&&{...nn,transaction:{...nn.transaction,message:versionedMessageFromResponse(nn.version,nn.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedBlock",r),a=create(o,GetConfirmedBlockRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");const u={...c,transactions:c.transactions.map(({transaction:en,meta:tn})=>{const nn=new Message$1(en.message);return{meta:tn,transaction:{...en,message:nn}}})};return{...u,transactions:u.transactions.map(({transaction:en,meta:tn})=>({meta:tn,transaction:Transaction$1.populate(en.message,en.signatures)}))}}async getBlocks(e,t,r){const o=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),a=await this._rpcRequest("getBlocks",o),c=create(a,jsonRpcResult$1(array(number())));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get blocks");return c.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",r),a=create(o,GetBlockSignaturesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get block");const c=a.result;if(!c)throw new Error("Block "+e+" not found");return c}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",r),a=create(o,GetBlockSignaturesRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed block");const c=a.result;if(!c)throw new Error("Confirmed block "+e+" not found");return c}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),o=await this._rpcRequest("getConfirmedTransaction",r),a=create(o,GetTransactionRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get transaction");const c=a.result;if(!c)return c;const u=new Message$1(c.transaction.message),en=c.transaction.signatures;return{...c,transaction:Transaction$1.populate(u,en)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",r),a=create(o,GetParsedTransactionRpcResult);if("error"in a)throw new SolanaJSONRPCError(a.error,"failed to get confirmed transaction");return a.result}async getParsedConfirmedTransactions(e,t){const r=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:u}});return(await this._rpcBatchRequest(r)).map(c=>{const u=create(c,GetParsedTransactionRpcResult);if("error"in u)throw new SolanaJSONRPCError(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(e,t,r){let o={},a=await this.getFirstAvailableBlock();for(;!("until"in o)&&(t--,!(t<=0||t<a));)try{const en=await this.getConfirmedBlockSignatures(t,"finalized");en.signatures.length>0&&(o.until=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}let c=await this.getSlot("finalized");for(;!("before"in o)&&(r++,!(r>c));)try{const en=await this.getConfirmedBlockSignatures(r);en.signatures.length>0&&(o.before=en.signatures[en.signatures.length-1].toString())}catch(en){if(en instanceof Error&&en.message.includes("skipped"))continue;throw en}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(en=>en.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=create(a,GetConfirmedSignaturesForAddress2RpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(e,t,r){const o=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),a=await this._rpcRequest("getSignaturesForAddress",o),c=create(a,GetSignaturesForAddressRpcResult);if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=new AddressLookupTableAccount({key:e,state:AddressLookupTableAccount.deserialize(o.data)})),{context:r,value:a}}async getNonceAndContext(e,t){const{context:r,value:o}=await this.getAccountInfoAndContext(e,t);let a=null;return o!==null&&(a=NonceAccount.fromAccountData(o.data)),{context:r,value:a}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),o=create(r,RequestAirdropRpcResult);if("error"in o)throw new SolanaJSONRPCError(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await sleep(100);const r=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let o=0;o<50;o++){const a=await this.getLatestBlockhash("finalized");if(r!==a.blockhash)return this._blockhashInfo={latestBlockhash:a,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},a;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=extractCommitmentFromConfig(e),o=this._buildArgs([],t,"base64",r),a=await this._rpcRequest("getStakeMinimumDelegation",o),c=create(a,jsonRpcResultAndContext$1(number()));if("error"in c)throw new SolanaJSONRPCError(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(e,t,r){if("message"in e){const ln=e.serialize(),pn=bufferPolyfill.Buffer.from(ln).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const $n=t||{};$n.encoding="base64","commitment"in $n||($n.commitment=this.commitment);const Sn=[pn,$n],yn=await this._rpcRequest("simulateTransaction",Sn),In=create(yn,SimulatedTransactionResponseStruct);if("error"in In)throw new Error("failed to simulate transaction: "+In.error.message);return In.result}let o;if(e instanceof Transaction$1){let hn=e;o=new Transaction$1,o.feePayer=hn.feePayer,o.instructions=e.instructions,o.nonceInfo=hn.nonceInfo,o.signatures=hn.signatures}else o=Transaction$1.populate(e),o._message=o._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const a=t;if(o.nonceInfo&&a)o.sign(...a);else{let hn=this._disableBlockhashCaching;for(;;){const ln=await this._blockhashWithExpiryBlockHeight(hn);if(o.lastValidBlockHeight=ln.lastValidBlockHeight,o.recentBlockhash=ln.blockhash,!a)break;if(o.sign(...a),!o.signature)throw new Error("!signature");const pn=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(pn)&&!this._blockhashInfo.transactionSignatures.includes(pn)){this._blockhashInfo.simulatedSignatures.push(pn);break}else hn=!0}}const c=o._compile(),u=c.serialize(),tn=o._serialize(u).toString("base64"),nn={encoding:"base64",commitment:this.commitment};if(r){const hn=(Array.isArray(r)?r:c.nonProgramIds()).map(ln=>ln.toBase58());nn.accounts={encoding:"base64",addresses:hn}}a&&(nn.sigVerify=!0);const sn=[tn,nn],fn=await this._rpcRequest("simulateTransaction",sn),dn=create(fn,SimulatedTransactionResponseStruct);if("error"in dn){let hn;if("data"in dn.error&&(hn=dn.error.data.logs,hn&&Array.isArray(hn))){const ln=`
    `,pn=ln+hn.join(ln);console.error(dn.error.message,pn)}throw new SendTransactionError("failed to simulate transaction: "+dn.error.message,hn)}return dn.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const c=e.serialize();return await this.sendRawTransaction(c,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const o=t;if(e.nonceInfo)e.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(e.lastValidBlockHeight=u.lastValidBlockHeight,e.recentBlockhash=u.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");const en=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(en))c=!0;else{this._blockhashInfo.transactionSignatures.push(en);break}}}const a=e.serialize();return await this.sendRawTransaction(a,r)}async sendRawTransaction(e,t){const r=toBuffer$1(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},o=t&&t.skipPreflight,a=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),o&&(r.skipPreflight=o),a&&(r.preflightCommitment=a);const c=[e,r],u=await this._rpcRequest("sendTransaction",c),en=create(u,SendTransactionRpcResult);if("error"in en){let tn;throw"data"in en.error&&(tn=en.error.data.logs),new SendTransactionError("failed to send transaction: "+en.error.message,tn)}return en.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var o;const r=(o=this._subscriptionsByHash[e])==null?void 0:o.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const a=this._subscriptionStateChangeCallbacksByHash[e];a&&a.forEach(c=>{try{c(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const o=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return o.add(t),()=>{o.delete(t),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const o=this._subscriptionsByHash[r];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[r],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:a,method:c}=o;try{this._setSubscription(r,{...o,state:"subscribing"});const u=await this._rpcWebSocket.call(c,a);this._setSubscription(r,{...o,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,a,u.message),!t())return;this._setSubscription(r,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:a,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(a))this._subscriptionsAutoDisposedByRpc.delete(a);else{this._setSubscription(r,{...o,state:"unsubscribing"}),this._setSubscription(r,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[a])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!t())return;this._setSubscription(r,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(o=>{try{o(...t)}catch(a){console.error(a)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=create(e,AccountNotificationResult);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,o=fastStableStringify$1([e.method,t],!0),a=this._subscriptionsByHash[o];return a===void 0?this._subscriptionsByHash[o]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:a.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const c=this._subscriptionsByHash[o];assert$2(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),c.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=create(e,ProgramAccountNotificationResult);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,o){const a=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=create(e,LogsNotificationResult);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=create(e,SlotNotificationResult);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=create(e,SlotUpdateNotificationResult);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,o){const a=t||this._commitment;if(a||r||o){let c={};r&&(c.encoding=r),a&&(c.commitment=a),o&&(c=Object.assign(c,o)),e.push(c)}return e}_buildArgsAtLeastConfirmed(e,t,r,o){const a=t||this._commitment;if(a&&!["confirmed","finalized"].includes(a))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,o)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=create(e,SignatureNotificationResult);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const o=this._buildArgs([e],r||this._commitment||"finalized"),a=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){t(c.result,u);try{this.removeSignatureListener(a)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}onSignatureWithOptions(e,t,r){const{commitment:o,...a}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},c=this._buildArgs([e],o,void 0,a),u=this._makeSubscription({callback:(en,tn)=>{t(en,tn);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=create(e,RootNotificationResult);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Keypair$1{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair$1()}static generate(){return new Keypair$1(generateKeypair$1())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const o=e.slice(0,32),a=getPublicKey$1(o);for(let c=0;c<32;c++)if(r[c]!==a[c])throw new Error("provided secretKey is invalid")}return new Keypair$1({publicKey:r,secretKey:e})}static fromSeed(e){const t=getPublicKey$1(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Keypair$1({publicKey:t,secretKey:r})}get publicKey(){return new PublicKey$1(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$3("instruction"),u64$2("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$3("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$3("instruction"),u64$2(),seq(publicKey$2(),offset$1(u32$3(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$3("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$3("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(c.index==r){o=a;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=decodeData$1(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new PublicKey$1(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(e){const[t,r]=PublicKey$1.findProgramAddressSync([e.authority.toBuffer(),toBufferLE_1(BigInt(e.recentSlot),8)],this.programId),o=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,a=encodeData$1(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$1.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction$1({programId:this.programId,keys:c,data:a}),t]}static freezeLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,r=encodeData$1(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$1({programId:this.programId,keys:o,data:r})}static extendLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,r=encodeData$1(t,{addresses:e.addresses.map(a=>a.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram$1.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction$1({programId:this.programId,keys:o,data:r})}static deactivateLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,r=encodeData$1(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction$1({programId:this.programId,keys:o,data:r})}static closeLookupTable(e){const t=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,r=encodeData$1(t),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction$1({programId:this.programId,keys:o,data:r})}}AddressLookupTableProgram.programId=new PublicKey$1("AddressLookupTab1e1111111111111111111111111");class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u8$2("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=decodeData$1(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$3("units"),u32$3("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$3("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$3("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$2("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,r=encodeData$1(t,e);return new TransactionInstruction$1({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,r=encodeData$1(t,e);return new TransactionInstruction$1({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,r=encodeData$1(t,e);return new TransactionInstruction$1({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,r=encodeData$1(t,{microLamports:BigInt(e.microLamports)});return new TransactionInstruction$1({keys:[],programId:this.programId,data:r})}}ComputeBudgetProgram.programId=new PublicKey$1("ComputeBudget111111111111111111111111111111");const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,instructionIndex:a}=e;assert$2(t.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${t.length} bytes`),assert$2(o.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${o.length} bytes`);const c=ED25519_INSTRUCTION_LAYOUT.span,u=c+t.length,en=u+o.length,tn=1,nn=bufferPolyfill.Buffer.alloc(en+r.length),sn=a??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:tn,padding:0,signatureOffset:u,signatureInstructionIndex:sn,publicKeyOffset:c,publicKeyInstructionIndex:sn,messageDataOffset:en,messageDataSize:r.length,messageInstructionIndex:sn},nn),nn.fill(t,c),nn.fill(o,u),nn.fill(r,en),new TransactionInstruction$1({keys:[],programId:Ed25519Program.programId,data:nn})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;assert$2(t.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${t.length} bytes`);try{const a=Keypair$1.fromSecretKey(t),c=a.publicKey.toBytes(),u=sign$1(r,a.secretKey);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:u,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Ed25519Program.programId=new PublicKey$1("Ed25519SigVerify111111111111111111111111111");const ecdsaSign=(n,e)=>{const t=secp256k1$1.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};secp256k1$1.utils.isValidPrivateKey;const publicKeyCreate=secp256k1$1.getPublicKey,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(e){assert$2(e.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${e.length} bytes`);try{return bufferPolyfill.Buffer.from(keccak_256(toBuffer$1(e))).slice(-ETHEREUM_ADDRESS_BYTES)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:o,recoveryId:a,instructionIndex:c}=e;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(t),message:r,signature:o,recoveryId:a,instructionIndex:c})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:o,recoveryId:a,instructionIndex:c=0}=e;let u;typeof t=="string"?t.startsWith("0x")?u=bufferPolyfill.Buffer.from(t.substr(2),"hex"):u=bufferPolyfill.Buffer.from(t,"hex"):u=t,assert$2(u.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${u.length} bytes`);const en=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,tn=en,nn=en+u.length,sn=nn+o.length+1,fn=1,dn=bufferPolyfill.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+r.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:fn,signatureOffset:nn,signatureInstructionIndex:c,ethAddressOffset:tn,ethAddressInstructionIndex:c,messageDataOffset:sn,messageDataSize:r.length,messageInstructionIndex:c,signature:toBuffer$1(o),ethAddress:toBuffer$1(u),recoveryId:a},dn),dn.fill(toBuffer$1(r),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction$1({keys:[],programId:Secp256k1Program.programId,data:dn})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:o}=e;assert$2(t.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${t.length} bytes`);try{const a=toBuffer$1(t),c=publicKeyCreate(a,!1).slice(1),u=bufferPolyfill.Buffer.from(keccak_256(toBuffer$1(r))),[en,tn]=ecdsaSign(u,a);return this.createInstructionWithPublicKey({publicKey:c,message:r,signature:en,recoveryId:tn,instructionIndex:o})}catch(a){throw new Error(`Error creating instruction; ${a}`)}}}Secp256k1Program.programId=new PublicKey$1("KeccakSecp256k11111111111111111111111111111");var _class2$1;const STAKE_CONFIG_ID=new PublicKey$1("StakeConfig11111111111111111111111111111111");class Authorized{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Lockup$1{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_class2$1=Lockup$1;Lockup$1.default=new _class2$1(0,0,PublicKey$1.default);class StakeInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Authorized(new PublicKey$1(t.staker),new PublicKey$1(t.withdrawer)),lockup:new Lockup$1(r.unixTimestamp,r.epoch,new PublicKey$1(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$1(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:o,authorityOwner:a}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data),c={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new PublicKey$1(a),newAuthorizedPubkey:new PublicKey$1(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(c.custodianPubkey=e.keys[3].pubkey),c}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),decodeData$1(STAKE_INSTRUCTION_LAYOUTS.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$3([u32$3("instruction"),authorized$1(),lockup$1()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$2("newAuthorized"),u32$3("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$3("instruction")])},Split:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$3("instruction")])},Merge:{index:7,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$3("instruction"),publicKey$2("newAuthorized"),u32$3("stakeAuthorizationType"),rustString$1("authoritySeed"),publicKey$2("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:o}=e,a=o||Lockup$1.default,c=STAKE_INSTRUCTION_LAYOUTS.Initialize,u=encodeData$1(c,{authorized:{staker:toBuffer$1(r.staker.toBuffer()),withdrawer:toBuffer$1(r.withdrawer.toBuffer())},lockup:{unixTimestamp:a.unixTimestamp,epoch:a.epoch,custodian:toBuffer$1(a.custodian.toBuffer())}}),en={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1}],programId:this.programId,data:u};return new TransactionInstruction$1(en)}static createAccountWithSeed(e){const t=new Transaction$1;t.add(SystemProgram$1.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:a}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:a}))}static createAccount(e){const t=new Transaction$1;t.add(SystemProgram$1.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:o,lockup:a}=e;return t.add(this.initialize({stakePubkey:r,authorized:o,lockup:a}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS.Delegate,c=encodeData$1(a);return new Transaction$1().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS.Authorize,en=encodeData$1(u,{newAuthorized:toBuffer$1(o.toBuffer()),stakeAuthorizationType:a.index}),tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&tn.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$1().add({keys:tn,programId:this.programId,data:en})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:o,authorityOwner:a,newAuthorizedPubkey:c,stakeAuthorizationType:u,custodianPubkey:en}=e,tn=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,nn=encodeData$1(tn,{newAuthorized:toBuffer$1(c.toBuffer()),stakeAuthorizationType:u.index,authoritySeed:o,authorityOwner:toBuffer$1(a.toBuffer())}),sn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return en&&sn.push({pubkey:en,isSigner:!1,isWritable:!1}),new Transaction$1().add({keys:sn,programId:this.programId,data:nn})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:a}=e,c=STAKE_INSTRUCTION_LAYOUTS.Split,u=encodeData$1(c,{lamports:a});return new TransactionInstruction$1({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:u})}static split(e){const t=new Transaction$1;return t.add(SystemProgram$1.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,basePubkey:a,seed:c,lamports:u}=e,en=new Transaction$1;return en.add(SystemProgram$1.allocate({accountPubkey:o,basePubkey:a,seed:c,space:this.space,programId:this.programId})),en.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:o,lamports:u}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:o}=e,a=STAKE_INSTRUCTION_LAYOUTS.Merge,c=encodeData$1(a);return new Transaction$1().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:o,lamports:a,custodianPubkey:c}=e,u=STAKE_INSTRUCTION_LAYOUTS.Withdraw,en=encodeData$1(u,{lamports:a}),tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return c&&tn.push({pubkey:c,isSigner:!1,isWritable:!1}),new Transaction$1().add({keys:tn,programId:this.programId,data:en})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,o=STAKE_INSTRUCTION_LAYOUTS.Deactivate,a=encodeData$1(o);return new Transaction$1().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}}StakeProgram.programId=new PublicKey$1("Stake11111111111111111111111111111111111111");StakeProgram.space=200;class VoteInit{constructor(e,t,r,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=o}}class VoteInstruction{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=u32$3("instruction").decode(e.data);let o;for(const[a,c]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(c.index==r){o=a;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new VoteInit(new PublicKey$1(t.nodePubkey),new PublicKey$1(t.authorizedVoter),new PublicKey$1(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new PublicKey$1(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:o,voteAuthorizationType:a}}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new PublicKey$1(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new PublicKey$1(o),voteAuthorizationType:{index:a},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=decodeData$1(VOTE_INSTRUCTION_LAYOUTS.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$3("instruction"),voteInit$1()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$2("newAuthorized"),u32$3("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$3("instruction"),voteAuthorizeWithSeedArgs$1()])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:o}=e,a=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,c=encodeData$1(a,{voteInit:{nodePubkey:toBuffer$1(o.nodePubkey.toBuffer()),authorizedVoter:toBuffer$1(o.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer$1(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),u={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY$1,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:c};return new TransactionInstruction$1(u)}static createAccount(e){const t=new Transaction$1;return t.add(SystemProgram$1.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:o,voteAuthorizationType:a}=e,c=VOTE_INSTRUCTION_LAYOUTS.Authorize,u=encodeData$1(c,{newAuthorized:toBuffer$1(o.toBuffer()),voteAuthorizationType:a.index}),en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$1().add({keys:en,programId:this.programId,data:u})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:a,voteAuthorizationType:c,votePubkey:u}=e,en=VOTE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,tn=encodeData$1(en,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:toBuffer$1(r.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:toBuffer$1(a.toBuffer()),voteAuthorizationType:c.index}}),nn=[{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Transaction$1().add({keys:nn,programId:this.programId,data:tn})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:o,toPubkey:a}=e,c=VOTE_INSTRUCTION_LAYOUTS.Withdraw,u=encodeData$1(c,{lamports:o}),en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Transaction$1().add({keys:en,programId:this.programId,data:u})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return VoteProgram.withdraw(e)}}VoteProgram.programId=new PublicKey$1("Vote111111111111111111111111111111111111111");VoteProgram.space=3731;const VALIDATOR_INFO_KEY=new PublicKey$1("Va1idator1nfo111111111111111111111111111111"),InfoString=type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});class ValidatorInfo{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(decodeLength$1(t)!==2)return null;const o=[];for(let a=0;a<2;a++){const c=new PublicKey$1(t.slice(0,PUBLIC_KEY_LENGTH$1));t=t.slice(PUBLIC_KEY_LENGTH$1);const u=t.slice(0,1)[0]===1;t=t.slice(1),o.push({publicKey:c,isSigner:u})}if(o[0].publicKey.equals(VALIDATOR_INFO_KEY)&&o[1].isSigner){const a=rustString$1().decode(bufferPolyfill.Buffer.from(t)),c=JSON.parse(a);return assert$3(c,InfoString),new ValidatorInfo(o[1].publicKey,c)}return null}}const VOTE_PROGRAM_ID=new PublicKey$1("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$3([publicKey$2("nodePubkey"),publicKey$2("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$3("confirmationCount")]),offset$1(u32$3(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$2("authorizedVoter")]),offset$1(u32$3(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$2("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$3(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=VoteAccountLayout.decode(toBuffer$1(e),4);let o=r.rootSlot;return r.rootSlotValid||(o=null),new VoteAccount({nodePubkey:new PublicKey$1(r.nodePubkey),authorizedWithdrawer:new PublicKey$1(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:o,authorizedVoters:r.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new PublicKey$1(n)}}function parsePriorVoters({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new PublicKey$1(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function getPriorVoters({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(parsePriorVoters),...n.slice(0,e).map(parsePriorVoters)]}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(n,e){const t=e===!1?"http":"https";if(!n)return endpoint[t].devnet;const r=endpoint[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function sendAndConfirmRawTransaction(n,e,t,r){let o,a;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(o=t,a=r):a=t;const c=a&&{skipPreflight:a.skipPreflight,preflightCommitment:a.preflightCommitment||a.commitment,minContextSlot:a.minContextSlot},u=await n.sendRawTransaction(e,c),en=a&&a.commitment,nn=(await(o?n.confirmTransaction(o,en):n.confirmTransaction(u,en))).value;if(nn.err)throw new Error(`Raw transaction ${u} failed (${JSON.stringify(nn)})`);return u}const LAMPORTS_PER_SOL=1e9;var index_browser_esm$1=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableAccount,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout:FeeCalculatorLayout$1,Keypair:Keypair$1,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup:Lockup$1,MAX_SEED_LENGTH:MAX_SEED_LENGTH$1,Message:Message$1,MessageAccountKeys:MessageAccountKeys$1,MessageV0,NONCE_ACCOUNT_LENGTH:NONCE_ACCOUNT_LENGTH$1,NonceAccount,PACKET_DATA_SIZE:PACKET_DATA_SIZE$1,PUBLIC_KEY_LENGTH:PUBLIC_KEY_LENGTH$1,PublicKey:PublicKey$1,SIGNATURE_LENGTH_IN_BYTES:SIGNATURE_LENGTH_IN_BYTES$1,SOLANA_SCHEMA:SOLANA_SCHEMA$1,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS:SYSTEM_INSTRUCTION_LAYOUTS$1,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:SYSVAR_RECENT_BLOCKHASHES_PUBKEY$1,SYSVAR_RENT_PUBKEY:SYSVAR_RENT_PUBKEY$1,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct:Struct$1,SystemInstruction,SystemProgram:SystemProgram$1,Transaction:Transaction$1,TransactionExpiredBlockheightExceededError,TransactionExpiredNonceInvalidError,TransactionExpiredTimeoutError,TransactionInstruction:TransactionInstruction$1,TransactionMessage,TransactionStatus,VALIDATOR_INFO_KEY,VERSION_PREFIX_MASK:VERSION_PREFIX_MASK$1,VOTE_PROGRAM_ID,ValidatorInfo,VersionedMessage,VersionedTransaction,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction,sendAndConfirmTransaction:sendAndConfirmTransaction$3},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(index_browser_esm$1);function _typeof(n){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(n)}function _toPrimitive$1(n,e){if(_typeof(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(_typeof(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _toPropertyKey$1(n){var e=_toPrimitive$1(n,"string");return _typeof(e)==="symbol"?e:String(e)}function _defineProperty(n,e,t){return e=_toPropertyKey$1(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}ed25519$1.utils.randomPrivateKey;const generateKeypair=()=>{const n=ed25519$1.utils.randomPrivateKey(),e=getPublicKey(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},getPublicKey=ed25519$1.getPublicKey;function isOnCurve(n){try{return ed25519$1.ExtendedPoint.fromHex(n),!0}catch{return!1}}const sign=(n,e)=>ed25519$1.sign(n,e.slice(0,32)),verify=ed25519$1.verify,toBuffer=n=>bufferPolyfill.Buffer.isBuffer(n)?n:n instanceof Uint8Array?bufferPolyfill.Buffer.from(n.buffer,n.byteOffset,n.byteLength):bufferPolyfill.Buffer.from(n);class Struct{constructor(e){Object.assign(this,e)}encode(){return bufferPolyfill.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(e){return deserialize_1(SOLANA_SCHEMA,this,e)}static decodeUnchecked(e){return deserializeUnchecked_1(SOLANA_SCHEMA,this,e)}}const SOLANA_SCHEMA=new Map;var _class;let _Symbol$toStringTag$2;const MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(n){return n._bn!==void 0}let uniquePublicKeyCounter=1;_Symbol$toStringTag$2=Symbol.toStringTag;class PublicKey extends Struct{constructor(e){if(super({}),this._bn=void 0,isPublicKeyData(e))this._bn=e._bn;else{if(typeof e=="string"){const t=bs58$3.decode(e);if(t.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(t)}else this._bn=new BN(e);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){const e=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return bs58$3.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(bufferPolyfill.Buffer);if(e.length===PUBLIC_KEY_LENGTH)return e;const t=bufferPolyfill.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[_Symbol$toStringTag$2](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const o=bufferPolyfill.Buffer.concat([e.toBuffer(),bufferPolyfill.Buffer.from(t),r.toBuffer()]),a=sha256$2(o);return new PublicKey(a)}static createProgramAddressSync(e,t){let r=bufferPolyfill.Buffer.alloc(0);e.forEach(function(a){if(a.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");r=bufferPolyfill.Buffer.concat([r,toBuffer(a)])}),r=bufferPolyfill.Buffer.concat([r,t.toBuffer(),bufferPolyfill.Buffer.from("ProgramDerivedAddress")]);const o=sha256$2(r);if(isOnCurve(o))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,o;for(;r!=0;){try{const a=e.concat(bufferPolyfill.Buffer.from([r]));o=this.createProgramAddressSync(a,t)}catch(a){if(a instanceof TypeError)throw a;r--;continue}return[o,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new PublicKey(e);return isOnCurve(t.toBytes())}}_class=PublicKey;PublicKey.default=new _class("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey("BPFLoader1111111111111111111111111111111111");const PACKET_DATA_SIZE=1280-40-8,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class MessageAccountKeys{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((a,c)=>{r.set(a.toBase58(),c)});const o=a=>{const c=r.get(a.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return e.map(a=>({programIdIndex:o(a.programId),accountKeyIndexes:a.keys.map(c=>o(c.pubkey)),data:a.data}))}}const publicKey$1=(n="publicKey")=>blob$2(32,n),rustString=(n="string")=>{const e=struct$3([u32$3("length"),u32$3("lengthPadding"),blob$2(offset$1(u32$3(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),o=e;return o.decode=(a,c)=>t(a,c).chars.toString(),o.encode=(a,c,u)=>{const en={chars:bufferPolyfill.Buffer.from(a,"utf8")};return r(en,c,u)},o.alloc=a=>u32$3().span+u32$3().span+bufferPolyfill.Buffer.from(a,"utf8").length,o},authorized=(n="authorized")=>struct$3([publicKey$1("staker"),publicKey$1("withdrawer")],n),lockup=(n="lockup")=>struct$3([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$1("custodian")],n),voteInit=(n="voteInit")=>struct$3([publicKey$1("nodePubkey"),publicKey$1("authorizedVoter"),publicKey$1("authorizedWithdrawer"),u8$2("commission")],n),voteAuthorizeWithSeedArgs=(n="voteAuthorizeWithSeedArgs")=>struct$3([u32$3("voteAuthorizationType"),publicKey$1("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey$1("newAuthorized")],n);function getAlloc(n,e){const t=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){const a=e[o.property];if(Array.isArray(a))return a.length*t(o.elementLayout)}else if("fields"in o)return getAlloc({layout:o},e[o.property]);return 0};let r=0;return n.layout.fields.forEach(o=>{r+=t(o)}),r}function decodeLength(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function encodeLength(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function assert$1(n,e){if(!n)throw new Error(e||"Assertion failed")}class CompiledKeys{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,o=c=>{const u=c.toBase58();let en=r.get(u);return en===void 0&&(en={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(u,en)),en},a=o(t);a.isSigner=!0,a.isWritable=!0;for(const c of e){o(c.programId).isInvoked=!0;for(const u of c.keys){const en=o(u.pubkey);en.isSigner||=u.isSigner,en.isWritable||=u.isWritable}}return new CompiledKeys(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];assert$1(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,en])=>en.isSigner&&en.isWritable),r=e.filter(([,en])=>en.isSigner&&!en.isWritable),o=e.filter(([,en])=>!en.isSigner&&en.isWritable),a=e.filter(([,en])=>!en.isSigner&&!en.isWritable),c={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:a.length};{assert$1(t.length>0,"Expected at least one writable signer key");const[en]=t[0];assert$1(en===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...t.map(([en])=>new PublicKey(en)),...r.map(([en])=>new PublicKey(en)),...o.map(([en])=>new PublicKey(en)),...a.map(([en])=>new PublicKey(en))];return[c,u]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,a]=this.drainKeysFoundInLookupTable(e.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(t.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:o},{writable:r,readonly:a}]}drainKeysFoundInLookupTable(e,t){const r=new Array,o=new Array;for(const[a,c]of this.keyMetaMap.entries())if(t(c)){const u=new PublicKey(a),en=e.findIndex(tn=>tn.equals(u));en>=0&&(assert$1(en<256,"Max lookup table index exceeded"),r.push(en),o.push(u),this.keyMetaMap.delete(a))}return[r,o]}}class Message{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new PublicKey(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:bs58$3.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(e){const t=CompiledKeys.compile(e.instructions,e.payerKey),[r,o]=t.getMessageComponents(),c=new MessageAccountKeys(o).compileInstructions(e.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:bs58$3.encode(u.data)}));return new Message({header:r,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:c})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,a=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<a}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];encodeLength(t,e);const r=this.instructions.map(sn=>{const{accounts:fn,programIdIndex:dn}=sn,hn=Array.from(bs58$3.decode(sn.data));let ln=[];encodeLength(ln,fn.length);let pn=[];return encodeLength(pn,hn.length),{programIdIndex:dn,keyIndicesCount:bufferPolyfill.Buffer.from(ln),keyIndices:fn,dataLength:bufferPolyfill.Buffer.from(pn),data:hn}});let o=[];encodeLength(o,r.length);let a=bufferPolyfill.Buffer.alloc(PACKET_DATA_SIZE);bufferPolyfill.Buffer.from(o).copy(a);let c=o.length;r.forEach(sn=>{c+=struct$3([u8$2("programIdIndex"),blob$2(sn.keyIndicesCount.length,"keyIndicesCount"),seq(u8$2("keyIndex"),sn.keyIndices.length,"keyIndices"),blob$2(sn.dataLength.length,"dataLength"),seq(u8$2("userdatum"),sn.data.length,"data")]).encode(sn,a,c)}),a=a.slice(0,c);const u=struct$3([blob$2(1,"numRequiredSignatures"),blob$2(1,"numReadonlySignedAccounts"),blob$2(1,"numReadonlyUnsignedAccounts"),blob$2(t.length,"keyCount"),seq(publicKey$1("key"),e,"keys"),publicKey$1("recentBlockhash")]),en={numRequiredSignatures:bufferPolyfill.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:bufferPolyfill.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:bufferPolyfill.Buffer.from(t),keys:this.accountKeys.map(sn=>toBuffer(sn.toBytes())),recentBlockhash:bs58$3.decode(this.recentBlockhash)};let tn=bufferPolyfill.Buffer.alloc(2048);const nn=u.encode(en,tn);return a.copy(tn,nn),tn.slice(0,nn+a.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=t.shift(),a=t.shift(),c=decodeLength(t);let u=[];for(let fn=0;fn<c;fn++){const dn=t.slice(0,PUBLIC_KEY_LENGTH);t=t.slice(PUBLIC_KEY_LENGTH),u.push(new PublicKey(bufferPolyfill.Buffer.from(dn)))}const en=t.slice(0,PUBLIC_KEY_LENGTH);t=t.slice(PUBLIC_KEY_LENGTH);const tn=decodeLength(t);let nn=[];for(let fn=0;fn<tn;fn++){const dn=t.shift(),hn=decodeLength(t),ln=t.slice(0,hn);t=t.slice(hn);const pn=decodeLength(t),$n=t.slice(0,pn),Sn=bs58$3.encode(bufferPolyfill.Buffer.from($n));t=t.slice(pn),nn.push({programIdIndex:dn,accounts:ln,data:Sn})}const sn={header:{numRequiredSignatures:r,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a},recentBlockhash:bs58$3.encode(bufferPolyfill.Buffer.from(en)),accountKeys:u,instructions:nn};return new Message(sn)}}const DEFAULT_SIGNATURE=bufferPolyfill.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(e){this.keys=void 0,this.programId=void 0,this.data=bufferPolyfill.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new TransactionInstruction(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let ln=0;ln<t.length;ln++)if(t[ln].programId===void 0)throw new Error(`Transaction instruction index ${ln} has undefined program id`);const o=[],a=[];t.forEach(ln=>{ln.keys.forEach($n=>{a.push({...$n})});const pn=ln.programId.toString();o.includes(pn)||o.push(pn)}),o.forEach(ln=>{a.push({pubkey:new PublicKey(ln),isSigner:!1,isWritable:!1})});const c=[];a.forEach(ln=>{const pn=ln.pubkey.toString(),$n=c.findIndex(Sn=>Sn.pubkey.toString()===pn);$n>-1?(c[$n].isWritable=c[$n].isWritable||ln.isWritable,c[$n].isSigner=c[$n].isSigner||ln.isSigner):c.push(ln)}),c.sort(function(ln,pn){if(ln.isSigner!==pn.isSigner)return ln.isSigner?-1:1;if(ln.isWritable!==pn.isWritable)return ln.isWritable?-1:1;const $n={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return ln.pubkey.toBase58().localeCompare(pn.pubkey.toBase58(),"en",$n)});const u=c.findIndex(ln=>ln.pubkey.equals(r));if(u>-1){const[ln]=c.splice(u,1);ln.isSigner=!0,ln.isWritable=!0,c.unshift(ln)}else c.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const ln of this.signatures){const pn=c.findIndex($n=>$n.pubkey.equals(ln.publicKey));if(pn>-1)c[pn].isSigner||(c[pn].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${ln.publicKey.toString()}`)}let en=0,tn=0,nn=0;const sn=[],fn=[];c.forEach(({pubkey:ln,isSigner:pn,isWritable:$n})=>{pn?(sn.push(ln.toString()),en+=1,$n||(tn+=1)):(fn.push(ln.toString()),$n||(nn+=1))});const dn=sn.concat(fn),hn=t.map(ln=>{const{data:pn,programId:$n}=ln;return{programIdIndex:dn.indexOf($n.toString()),accounts:ln.keys.map(Sn=>dn.indexOf(Sn.pubkey.toString())),data:bs58$3.encode(pn)}});return hn.forEach(ln=>{assert$1(ln.programIdIndex>=0),ln.accounts.forEach(pn=>assert$1(pn>=0))}),new Message({header:{numRequiredSignatures:en,numReadonlySignedAccounts:tn,numReadonlyUnsignedAccounts:nn},accountKeys:dn,recentBlockhash:e,instructions:hn})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((o,a)=>t[a].equals(o.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const o=r.toString();return t.has(o)?!1:(t.add(o),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}this.signatures=r.map(a=>({signature:null,publicKey:a.publicKey}));const o=this._compile();this._partialSign(o,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const a of e){const c=a.publicKey.toString();t.has(c)||(t.add(c),r.push(a))}const o=this._compile();this._partialSign(o,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(o=>{const a=sign(r,o.secretKey);this._addSignature(o.publicKey,toBuffer(a))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){assert$1(t.length===64);const r=this.signatures.findIndex(o=>e.equals(o.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=bufferPolyfill.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:o}of this.signatures)if(r===null){if(t)return!1}else if(!verify(r,e,o.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(r&&!this._verifySignatures(o,t))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){const{signatures:t}=this,r=[];encodeLength(r,t.length);const o=r.length+t.length*64+e.length,a=bufferPolyfill.Buffer.alloc(o);return assert$1(t.length<256),bufferPolyfill.Buffer.from(r).copy(a,0),t.forEach(({signature:c},u)=>{c!==null&&(assert$1(c.length===64,"signature has invalid length"),bufferPolyfill.Buffer.from(c).copy(a,r.length+u*64))}),e.copy(a,r.length+t.length*64),assert$1(a.length<=PACKET_DATA_SIZE,`Transaction too large: ${a.length} > ${PACKET_DATA_SIZE}`),a}get keys(){return assert$1(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return assert$1(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$1(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=decodeLength(t);let o=[];for(let a=0;a<r;a++){const c=t.slice(0,SIGNATURE_LENGTH_IN_BYTES);t=t.slice(SIGNATURE_LENGTH_IN_BYTES),o.push(bs58$3.encode(bufferPolyfill.Buffer.from(c)))}return Transaction.populate(Message.from(t),o)}static populate(e,t=[]){const r=new Transaction;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((o,a)=>{const c={signature:o==bs58$3.encode(DEFAULT_SIGNATURE)?null:bs58$3.decode(o),publicKey:e.accountKeys[a]};r.signatures.push(c)}),e.instructions.forEach(o=>{const a=o.accounts.map(c=>{const u=e.accountKeys[c];return{pubkey:u,isSigner:r.signatures.some(en=>en.publicKey.toString()===u.toString())||e.isAccountSigner(c),isWritable:e.isAccountWritable(c)}});r.instructions.push(new TransactionInstruction({keys:a,programId:e.accountKeys[o.programIdIndex],data:bs58$3.decode(o.data)}))}),r._message=e,r._json=r.toJSON(),r}}new PublicKey("SysvarC1ock11111111111111111111111111111111");new PublicKey("SysvarEpochSchedu1e111111111111111111111111");new PublicKey("Sysvar1nstructions1111111111111111111111111");const SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111");new PublicKey("SysvarRewards111111111111111111111111111111");new PublicKey("SysvarS1otHashes111111111111111111111111111");new PublicKey("SysvarS1otHistory11111111111111111111111111");new PublicKey("SysvarStakeHistory1111111111111111111111111");async function sendAndConfirmTransaction$2(n,e,t,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},a=await n.sendTransaction(e,t,o);let c;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:a,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:u}=e.nonceInfo,en=u.keys[0].pubkey;c=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:en,nonceValue:e.nonceInfo.nonce,signature:a},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),c=(await n.confirmTransaction(a,r&&r.commitment)).value;if(c.err)throw new Error(`Transaction ${a} failed (${JSON.stringify(c)})`);return a}function encodeData(n,e){const t=n.layout.span>=0?n.layout.span:getAlloc(n,e),r=bufferPolyfill.Buffer.alloc(t),o=Object.assign({instruction:n.index},e);return n.layout.encode(o,r),r}const FeeCalculatorLayout=nu64$1("lamportsPerSignature"),NonceAccountLayout=struct$3([u32$3("version"),u32$3("state"),publicKey$1("authorizedPubkey"),publicKey$1("nonce"),struct$3([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span,encodeDecode=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},bigInt=n=>e=>{const t=blob$2(n,e),{encode:r,decode:o}=encodeDecode(t),a=t;return a.decode=(c,u)=>{const en=o(c,u);return toBigIntLE_1(bufferPolyfill.Buffer.from(en))},a.encode=(c,u,en)=>{const tn=toBufferLE_1(c,n);return r(tn,u,en)},a},u64$1=bigInt(8),SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$3([u32$3("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$1("programId")])},Assign:{index:1,layout:struct$3([u32$3("instruction"),publicKey$1("programId")])},Transfer:{index:2,layout:struct$3([u32$3("instruction"),u64$1("lamports")])},CreateWithSeed:{index:3,layout:struct$3([u32$3("instruction"),publicKey$1("base"),rustString("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$1("programId")])},AdvanceNonceAccount:{index:4,layout:struct$3([u32$3("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$3([u32$3("instruction"),publicKey$1("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$3([u32$3("instruction"),publicKey$1("authorized")])},Allocate:{index:8,layout:struct$3([u32$3("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$3([u32$3("instruction"),publicKey$1("base"),rustString("seed"),ns64$1("space"),publicKey$1("programId")])},AssignWithSeed:{index:10,layout:struct$3([u32$3("instruction"),publicKey$1("base"),rustString("seed"),publicKey$1("programId")])},TransferWithSeed:{index:11,layout:struct$3([u32$3("instruction"),u64$1("lamports"),rustString("seed"),publicKey$1("programId")])},UpgradeNonceAccount:{index:12,layout:struct$3([u32$3("instruction")])}});class SystemProgram{constructor(){}static createAccount(e){const t=SYSTEM_INSTRUCTION_LAYOUTS.Create,r=encodeData(t,{lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;t=encodeData(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;t=encodeData(o,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;t=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,programId:toBuffer(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Assign;t=encodeData(o,{programId:toBuffer(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,r=encodeData(t,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:toBuffer(e.programId.toBuffer())});let o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:o,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Transaction;"basePubkey"in e&&"seed"in e?t.add(SystemProgram.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):t.add(SystemProgram.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,r=encodeData(t,{authorized:toBuffer(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(o)}static nonceAdvance(e){const t=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,r=encodeData(t),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new TransactionInstruction(o)}static nonceWithdraw(e){const t=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,r=encodeData(t,{lamports:e.lamports});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,r=encodeData(t,{authorized:toBuffer(e.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const o=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;t=encodeData(o,{base:toBuffer(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:toBuffer(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const o=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;t=encodeData(o,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:r,programId:this.programId,data:t})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");new PublicKey("BPFLoader2111111111111111111111111111111111");struct$3([u32$3("typeIndex"),u64$1("deactivationSlot"),nu64$1("lastExtendedSlot"),u8$2("lastExtendedStartIndex"),u8$2(),seq(publicKey$1(),offset$1(u8$2(),-1),"authority")]);const PublicKeyFromString=coerce(instance(PublicKey),string(),n=>new PublicKey(n)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(bufferPolyfill.Buffer),RawAccountDataResult,n=>bufferPolyfill.Buffer.from(n[0],"base64"));function createRpcResult(n){return union([type({jsonrpc:literal("2.0"),id:string(),result:n}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(n){return coerce(createRpcResult(n),UnknownRpcResult,e=>"error"in e?e:{...e,result:create(e.result,n)})}function jsonRpcResultAndContext(n){return jsonRpcResult(type({context:type({slot:number()}),value:n}))}function notificationResultAndContext(n){return type({context:type({slot:number()}),value:n})}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()});jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number(),commission:optional(nullable(number()))}))));const GetRecentPrioritizationFeesResult=array(type({slot:number(),prioritizationFee:number()})),GetInflationRateResult=type({total:number(),validator:number(),foundation:number(),epoch:number()}),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature");type({"solana-core":string(),"feature-set":optional(number())});jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])})))}));jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));jsonRpcResult(GetInflationGovernorResult);jsonRpcResult(GetInflationRateResult);jsonRpcResult(GetRecentPrioritizationFeesResult);jsonRpcResult(GetEpochInfoResult);jsonRpcResult(GetEpochScheduleResult);jsonRpcResult(GetLeaderScheduleResult);jsonRpcResult(number());jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)}));const TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())});jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())})));jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})})));const ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()});jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})})));jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString})));const AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()});type({pubkey:PublicKeyFromString,account:AccountInfoResult});const ParsedOrRawAccountData=coerce(union([instance(bufferPolyfill.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),n=>Array.isArray(n)?create(n,BufferFromRawAccountData):n),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()});type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult});type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()});jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))})));jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))})));type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)});const ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult});type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)});const SlotInfoResult=type({parent:number(),slot:number(),root:number()});type({subscription:number(),result:SlotInfoResult});const SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]);type({subscription:number(),result:SlotUpdateResult});type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))});type({subscription:number(),result:number()});type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())});const VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())});jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)}));const ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)});jsonRpcResultAndContext(array(nullable(SignatureStatusResponse)));jsonRpcResult(number());const AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),AnnotatedAccountKey=type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),ConfirmedTransactionAccountsModeResult=type({accountKeys:array(AnnotatedAccountKey),signatures:array(string())}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,n=>"accounts"in n?create(n,RawInstructionResult):create(n,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(AnnotatedAccountKey),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),RewardsResult=type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string()),commission:optional(nullable(number()))});jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())})));jsonRpcResult(nullable(type({slot:number(),meta:ConfirmedTransactionMetaResult,blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)})));jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)})));jsonRpcResultAndContext(type({blockhash:string(),feeCalculator:type({lamportsPerSignature:number()})}));jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()}));jsonRpcResultAndContext(boolean());const PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()});jsonRpcResult(array(PerfSampleResult));jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})})));jsonRpcResult(string());jsonRpcResult(string());const LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()});type({result:notificationResultAndContext(LogsResult),subscription:number()});class Keypair{constructor(e){this._keypair=void 0,this._keypair=e??generateKeypair()}static generate(){return new Keypair(generateKeypair())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const o=e.slice(0,32),a=getPublicKey(o);for(let c=0;c<32;c++)if(r[c]!==a[c])throw new Error("provided secretKey is invalid")}return new Keypair({publicKey:r,secretKey:e})}static fromSeed(e){const t=getPublicKey(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Keypair({publicKey:t,secretKey:r})}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}Object.freeze({CreateLookupTable:{index:0,layout:struct$3([u32$3("instruction"),u64$1("recentSlot"),u8$2("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$3([u32$3("instruction")])},ExtendLookupTable:{index:2,layout:struct$3([u32$3("instruction"),u64$1(),seq(publicKey$1(),offset$1(u32$3(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$3([u32$3("instruction")])},CloseLookupTable:{index:4,layout:struct$3([u32$3("instruction")])}});new PublicKey("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:struct$3([u8$2("instruction"),u32$3("units"),u32$3("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$3([u8$2("instruction"),u32$3("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$3([u8$2("instruction"),u32$3("units")])},SetComputeUnitPrice:{index:3,layout:struct$3([u8$2("instruction"),u64$1("microLamports")])}});new PublicKey("ComputeBudget111111111111111111111111111111");struct$3([u8$2("numSignatures"),u8$2("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);new PublicKey("Ed25519SigVerify111111111111111111111111111");secp256k1$1.utils.isValidPrivateKey;secp256k1$1.getPublicKey;struct$3([u8$2("numSignatures"),u16("signatureOffset"),u8$2("signatureInstructionIndex"),u16("ethAddressOffset"),u8$2("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$2("messageInstructionIndex"),blob$2(20,"ethAddress"),blob$2(64,"signature"),u8$2("recoveryId")]);new PublicKey("KeccakSecp256k11111111111111111111111111111");var _class2;new PublicKey("StakeConfig11111111111111111111111111111111");class Lockup{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}_class2=Lockup;Lockup.default=new _class2(0,0,PublicKey.default);Object.freeze({Initialize:{index:0,layout:struct$3([u32$3("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$1("newAuthorized"),u32$3("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$3([u32$3("instruction")])},Split:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$3([u32$3("instruction")])},Merge:{index:7,layout:struct$3([u32$3("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$3([u32$3("instruction"),publicKey$1("newAuthorized"),u32$3("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$1("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});new PublicKey("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:struct$3([u32$3("instruction"),voteInit()])},Authorize:{index:1,layout:struct$3([u32$3("instruction"),publicKey$1("newAuthorized"),u32$3("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$3([u32$3("instruction"),ns64$1("lamports")])},AuthorizeWithSeed:{index:10,layout:struct$3([u32$3("instruction"),voteAuthorizeWithSeedArgs()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});new PublicKey("Vote111111111111111111111111111111111111111");new PublicKey("Va1idator1nfo111111111111111111111111111111");type({name:string(),website:optional(string()),details:optional(string()),keybaseUsername:optional(string())});new PublicKey("Vote111111111111111111111111111111111111111");struct$3([publicKey$1("nodePubkey"),publicKey$1("authorizedWithdrawer"),u8$2("commission"),nu64$1(),seq(struct$3([nu64$1("slot"),u32$3("confirmationCount")]),offset$1(u32$3(),-8),"votes"),u8$2("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$3([nu64$1("epoch"),publicKey$1("authorizedVoter")]),offset$1(u32$3(),-8),"authorizedVoters"),struct$3([seq(struct$3([publicKey$1("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$2("isEmpty")],"priorVoters"),nu64$1(),seq(struct$3([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$1(u32$3(),-8),"epochCredits"),struct$3([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);var buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function byteLength(n){var e=getLens(n),t=e[0],r=e[1];return(t+r)*3/4-r}function _byteLength(n,e,t){return(e+t)*3/4-t}function toByteArray(n){var e,t=getLens(n),r=t[0],o=t[1],a=new Arr(_byteLength(n,r,o)),c=0,u=o>0?r-4:r,en;for(en=0;en<u;en+=4)e=revLookup[n.charCodeAt(en)]<<18|revLookup[n.charCodeAt(en+1)]<<12|revLookup[n.charCodeAt(en+2)]<<6|revLookup[n.charCodeAt(en+3)],a[c++]=e>>16&255,a[c++]=e>>8&255,a[c++]=e&255;return o===2&&(e=revLookup[n.charCodeAt(en)]<<2|revLookup[n.charCodeAt(en+1)]>>4,a[c++]=e&255),o===1&&(e=revLookup[n.charCodeAt(en)]<<10|revLookup[n.charCodeAt(en+1)]<<4|revLookup[n.charCodeAt(en+2)]>>2,a[c++]=e>>8&255,a[c++]=e&255),a}function tripletToBase64(n){return lookup[n>>18&63]+lookup[n>>12&63]+lookup[n>>6&63]+lookup[n&63]}function encodeChunk(n,e,t){for(var r,o=[],a=e;a<t;a+=3)r=(n[a]<<16&16711680)+(n[a+1]<<8&65280)+(n[a+2]&255),o.push(tripletToBase64(r));return o.join("")}function fromByteArray(n){for(var e,t=n.length,r=t%3,o=[],a=16383,c=0,u=t-r;c<u;c+=a)o.push(encodeChunk(n,c,c+a>u?u:c+a));return r===1?(e=n[t-1],o.push(lookup[e>>2]+lookup[e<<4&63]+"==")):r===2&&(e=(n[t-2]<<8)+n[t-1],o.push(lookup[e>>10]+lookup[e>>4&63]+lookup[e<<2&63]+"=")),o.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(n,e,t,r,o){var a,c,u=o*8-r-1,en=(1<<u)-1,tn=en>>1,nn=-7,sn=t?o-1:0,fn=t?-1:1,dn=n[e+sn];for(sn+=fn,a=dn&(1<<-nn)-1,dn>>=-nn,nn+=u;nn>0;a=a*256+n[e+sn],sn+=fn,nn-=8);for(c=a&(1<<-nn)-1,a>>=-nn,nn+=r;nn>0;c=c*256+n[e+sn],sn+=fn,nn-=8);if(a===0)a=1-tn;else{if(a===en)return c?NaN:(dn?-1:1)*(1/0);c=c+Math.pow(2,r),a=a-tn}return(dn?-1:1)*c*Math.pow(2,a-r)};ieee754.write=function(n,e,t,r,o,a){var c,u,en,tn=a*8-o-1,nn=(1<<tn)-1,sn=nn>>1,fn=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,dn=r?0:a-1,hn=r?1:-1,ln=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(u=isNaN(e)?1:0,c=nn):(c=Math.floor(Math.log(e)/Math.LN2),e*(en=Math.pow(2,-c))<1&&(c--,en*=2),c+sn>=1?e+=fn/en:e+=fn*Math.pow(2,1-sn),e*en>=2&&(c++,en/=2),c+sn>=nn?(u=0,c=nn):c+sn>=1?(u=(e*en-1)*Math.pow(2,o),c=c+sn):(u=e*Math.pow(2,sn-1)*Math.pow(2,o),c=0));o>=8;n[t+dn]=u&255,dn+=hn,u/=256,o-=8);for(c=c<<o|u,tn+=o;tn>0;n[t+dn]=c&255,dn+=hn,c/=256,tn-=8);n[t+dn-hn]|=ln*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=base64Js,t=ieee754,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=u,n.SlowBuffer=Sn,n.INSPECT_MAX_BYTES=50;const o=2147483647;n.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=a(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const gn=new Uint8Array(1),an={foo:function(){return 42}};return Object.setPrototypeOf(an,Uint8Array.prototype),Object.setPrototypeOf(gn,an),gn.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(gn){if(gn>o)throw new RangeError('The value "'+gn+'" is invalid for option "size"');const an=new Uint8Array(gn);return Object.setPrototypeOf(an,u.prototype),an}function u(gn,an,cn){if(typeof gn=="number"){if(typeof an=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return sn(gn)}return en(gn,an,cn)}u.poolSize=8192;function en(gn,an,cn){if(typeof gn=="string")return fn(gn,an);if(ArrayBuffer.isView(gn))return hn(gn);if(gn==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof gn);if(Hr(gn,ArrayBuffer)||gn&&Hr(gn.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Hr(gn,SharedArrayBuffer)||gn&&Hr(gn.buffer,SharedArrayBuffer)))return ln(gn,an,cn);if(typeof gn=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Rn=gn.valueOf&&gn.valueOf();if(Rn!=null&&Rn!==gn)return u.from(Rn,an,cn);const Ln=pn(gn);if(Ln)return Ln;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof gn[Symbol.toPrimitive]=="function")return u.from(gn[Symbol.toPrimitive]("string"),an,cn);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof gn)}u.from=function(gn,an,cn){return en(gn,an,cn)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function tn(gn){if(typeof gn!="number")throw new TypeError('"size" argument must be of type number');if(gn<0)throw new RangeError('The value "'+gn+'" is invalid for option "size"')}function nn(gn,an,cn){return tn(gn),gn<=0?c(gn):an!==void 0?typeof cn=="string"?c(gn).fill(an,cn):c(gn).fill(an):c(gn)}u.alloc=function(gn,an,cn){return nn(gn,an,cn)};function sn(gn){return tn(gn),c(gn<0?0:$n(gn)|0)}u.allocUnsafe=function(gn){return sn(gn)},u.allocUnsafeSlow=function(gn){return sn(gn)};function fn(gn,an){if((typeof an!="string"||an==="")&&(an="utf8"),!u.isEncoding(an))throw new TypeError("Unknown encoding: "+an);const cn=yn(gn,an)|0;let Rn=c(cn);const Ln=Rn.write(gn,an);return Ln!==cn&&(Rn=Rn.slice(0,Ln)),Rn}function dn(gn){const an=gn.length<0?0:$n(gn.length)|0,cn=c(an);for(let Rn=0;Rn<an;Rn+=1)cn[Rn]=gn[Rn]&255;return cn}function hn(gn){if(Hr(gn,Uint8Array)){const an=new Uint8Array(gn);return ln(an.buffer,an.byteOffset,an.byteLength)}return dn(gn)}function ln(gn,an,cn){if(an<0||gn.byteLength<an)throw new RangeError('"offset" is outside of buffer bounds');if(gn.byteLength<an+(cn||0))throw new RangeError('"length" is outside of buffer bounds');let Rn;return an===void 0&&cn===void 0?Rn=new Uint8Array(gn):cn===void 0?Rn=new Uint8Array(gn,an):Rn=new Uint8Array(gn,an,cn),Object.setPrototypeOf(Rn,u.prototype),Rn}function pn(gn){if(u.isBuffer(gn)){const an=$n(gn.length)|0,cn=c(an);return cn.length===0||gn.copy(cn,0,0,an),cn}if(gn.length!==void 0)return typeof gn.length!="number"||Dr(gn.length)?c(0):dn(gn);if(gn.type==="Buffer"&&Array.isArray(gn.data))return dn(gn.data)}function $n(gn){if(gn>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return gn|0}function Sn(gn){return+gn!=gn&&(gn=0),u.alloc(+gn)}u.isBuffer=function(an){return an!=null&&an._isBuffer===!0&&an!==u.prototype},u.compare=function(an,cn){if(Hr(an,Uint8Array)&&(an=u.from(an,an.offset,an.byteLength)),Hr(cn,Uint8Array)&&(cn=u.from(cn,cn.offset,cn.byteLength)),!u.isBuffer(an)||!u.isBuffer(cn))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(an===cn)return 0;let Rn=an.length,Ln=cn.length;for(let Fn=0,Vn=Math.min(Rn,Ln);Fn<Vn;++Fn)if(an[Fn]!==cn[Fn]){Rn=an[Fn],Ln=cn[Fn];break}return Rn<Ln?-1:Ln<Rn?1:0},u.isEncoding=function(an){switch(String(an).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(an,cn){if(!Array.isArray(an))throw new TypeError('"list" argument must be an Array of Buffers');if(an.length===0)return u.alloc(0);let Rn;if(cn===void 0)for(cn=0,Rn=0;Rn<an.length;++Rn)cn+=an[Rn].length;const Ln=u.allocUnsafe(cn);let Fn=0;for(Rn=0;Rn<an.length;++Rn){let Vn=an[Rn];if(Hr(Vn,Uint8Array))Fn+Vn.length>Ln.length?(u.isBuffer(Vn)||(Vn=u.from(Vn)),Vn.copy(Ln,Fn)):Uint8Array.prototype.set.call(Ln,Vn,Fn);else if(u.isBuffer(Vn))Vn.copy(Ln,Fn);else throw new TypeError('"list" argument must be an Array of Buffers');Fn+=Vn.length}return Ln};function yn(gn,an){if(u.isBuffer(gn))return gn.length;if(ArrayBuffer.isView(gn)||Hr(gn,ArrayBuffer))return gn.byteLength;if(typeof gn!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof gn);const cn=gn.length,Rn=arguments.length>2&&arguments[2]===!0;if(!Rn&&cn===0)return 0;let Ln=!1;for(;;)switch(an){case"ascii":case"latin1":case"binary":return cn;case"utf8":case"utf-8":return Ir(gn).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cn*2;case"hex":return cn>>>1;case"base64":return Nr(gn).length;default:if(Ln)return Rn?-1:Ir(gn).length;an=(""+an).toLowerCase(),Ln=!0}}u.byteLength=yn;function In(gn,an,cn){let Rn=!1;if((an===void 0||an<0)&&(an=0),an>this.length||((cn===void 0||cn>this.length)&&(cn=this.length),cn<=0)||(cn>>>=0,an>>>=0,cn<=an))return"";for(gn||(gn="utf8");;)switch(gn){case"hex":return Un(this,an,cn);case"utf8":case"utf-8":return mn(this,an,cn);case"ascii":return On(this,an,cn);case"latin1":case"binary":return Nn(this,an,cn);case"base64":return Cn(this,an,cn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return zn(this,an,cn);default:if(Rn)throw new TypeError("Unknown encoding: "+gn);gn=(gn+"").toLowerCase(),Rn=!0}}u.prototype._isBuffer=!0;function An(gn,an,cn){const Rn=gn[an];gn[an]=gn[cn],gn[cn]=Rn}u.prototype.swap16=function(){const an=this.length;if(an%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let cn=0;cn<an;cn+=2)An(this,cn,cn+1);return this},u.prototype.swap32=function(){const an=this.length;if(an%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let cn=0;cn<an;cn+=4)An(this,cn,cn+3),An(this,cn+1,cn+2);return this},u.prototype.swap64=function(){const an=this.length;if(an%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let cn=0;cn<an;cn+=8)An(this,cn,cn+7),An(this,cn+1,cn+6),An(this,cn+2,cn+5),An(this,cn+3,cn+4);return this},u.prototype.toString=function(){const an=this.length;return an===0?"":arguments.length===0?mn(this,0,an):In.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(an){if(!u.isBuffer(an))throw new TypeError("Argument must be a Buffer");return this===an?!0:u.compare(this,an)===0},u.prototype.inspect=function(){let an="";const cn=n.INSPECT_MAX_BYTES;return an=this.toString("hex",0,cn).replace(/(.{2})/g,"$1 ").trim(),this.length>cn&&(an+=" ... "),"<Buffer "+an+">"},r&&(u.prototype[r]=u.prototype.inspect),u.prototype.compare=function(an,cn,Rn,Ln,Fn){if(Hr(an,Uint8Array)&&(an=u.from(an,an.offset,an.byteLength)),!u.isBuffer(an))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof an);if(cn===void 0&&(cn=0),Rn===void 0&&(Rn=an?an.length:0),Ln===void 0&&(Ln=0),Fn===void 0&&(Fn=this.length),cn<0||Rn>an.length||Ln<0||Fn>this.length)throw new RangeError("out of range index");if(Ln>=Fn&&cn>=Rn)return 0;if(Ln>=Fn)return-1;if(cn>=Rn)return 1;if(cn>>>=0,Rn>>>=0,Ln>>>=0,Fn>>>=0,this===an)return 0;let Vn=Fn-Ln,xr=Rn-cn;const Fr=Math.min(Vn,xr),Ur=this.slice(Ln,Fn),Gr=an.slice(cn,Rn);for(let zr=0;zr<Fr;++zr)if(Ur[zr]!==Gr[zr]){Vn=Ur[zr],xr=Gr[zr];break}return Vn<xr?-1:xr<Vn?1:0};function Tn(gn,an,cn,Rn,Ln){if(gn.length===0)return-1;if(typeof cn=="string"?(Rn=cn,cn=0):cn>2147483647?cn=2147483647:cn<-2147483648&&(cn=-2147483648),cn=+cn,Dr(cn)&&(cn=Ln?0:gn.length-1),cn<0&&(cn=gn.length+cn),cn>=gn.length){if(Ln)return-1;cn=gn.length-1}else if(cn<0)if(Ln)cn=0;else return-1;if(typeof an=="string"&&(an=u.from(an,Rn)),u.isBuffer(an))return an.length===0?-1:kn(gn,an,cn,Rn,Ln);if(typeof an=="number")return an=an&255,typeof Uint8Array.prototype.indexOf=="function"?Ln?Uint8Array.prototype.indexOf.call(gn,an,cn):Uint8Array.prototype.lastIndexOf.call(gn,an,cn):kn(gn,[an],cn,Rn,Ln);throw new TypeError("val must be string, number or Buffer")}function kn(gn,an,cn,Rn,Ln){let Fn=1,Vn=gn.length,xr=an.length;if(Rn!==void 0&&(Rn=String(Rn).toLowerCase(),Rn==="ucs2"||Rn==="ucs-2"||Rn==="utf16le"||Rn==="utf-16le")){if(gn.length<2||an.length<2)return-1;Fn=2,Vn/=2,xr/=2,cn/=2}function Fr(Gr,zr){return Fn===1?Gr[zr]:Gr.readUInt16BE(zr*Fn)}let Ur;if(Ln){let Gr=-1;for(Ur=cn;Ur<Vn;Ur++)if(Fr(gn,Ur)===Fr(an,Gr===-1?0:Ur-Gr)){if(Gr===-1&&(Gr=Ur),Ur-Gr+1===xr)return Gr*Fn}else Gr!==-1&&(Ur-=Ur-Gr),Gr=-1}else for(cn+xr>Vn&&(cn=Vn-xr),Ur=cn;Ur>=0;Ur--){let Gr=!0;for(let zr=0;zr<xr;zr++)if(Fr(gn,Ur+zr)!==Fr(an,zr)){Gr=!1;break}if(Gr)return Ur}return-1}u.prototype.includes=function(an,cn,Rn){return this.indexOf(an,cn,Rn)!==-1},u.prototype.indexOf=function(an,cn,Rn){return Tn(this,an,cn,Rn,!0)},u.prototype.lastIndexOf=function(an,cn,Rn){return Tn(this,an,cn,Rn,!1)};function Pn(gn,an,cn,Rn){cn=Number(cn)||0;const Ln=gn.length-cn;Rn?(Rn=Number(Rn),Rn>Ln&&(Rn=Ln)):Rn=Ln;const Fn=an.length;Rn>Fn/2&&(Rn=Fn/2);let Vn;for(Vn=0;Vn<Rn;++Vn){const xr=parseInt(an.substr(Vn*2,2),16);if(Dr(xr))return Vn;gn[cn+Vn]=xr}return Vn}function Dn(gn,an,cn,Rn){return vr(Ir(an,gn.length-cn),gn,cn,Rn)}function Kn(gn,an,cn,Rn){return vr(Kr(an),gn,cn,Rn)}function Hn(gn,an,cn,Rn){return vr(Nr(an),gn,cn,Rn)}function jn(gn,an,cn,Rn){return vr(Ar(an,gn.length-cn),gn,cn,Rn)}u.prototype.write=function(an,cn,Rn,Ln){if(cn===void 0)Ln="utf8",Rn=this.length,cn=0;else if(Rn===void 0&&typeof cn=="string")Ln=cn,Rn=this.length,cn=0;else if(isFinite(cn))cn=cn>>>0,isFinite(Rn)?(Rn=Rn>>>0,Ln===void 0&&(Ln="utf8")):(Ln=Rn,Rn=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Fn=this.length-cn;if((Rn===void 0||Rn>Fn)&&(Rn=Fn),an.length>0&&(Rn<0||cn<0)||cn>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ln||(Ln="utf8");let Vn=!1;for(;;)switch(Ln){case"hex":return Pn(this,an,cn,Rn);case"utf8":case"utf-8":return Dn(this,an,cn,Rn);case"ascii":case"latin1":case"binary":return Kn(this,an,cn,Rn);case"base64":return Hn(this,an,cn,Rn);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jn(this,an,cn,Rn);default:if(Vn)throw new TypeError("Unknown encoding: "+Ln);Ln=(""+Ln).toLowerCase(),Vn=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Cn(gn,an,cn){return an===0&&cn===gn.length?e.fromByteArray(gn):e.fromByteArray(gn.slice(an,cn))}function mn(gn,an,cn){cn=Math.min(gn.length,cn);const Rn=[];let Ln=an;for(;Ln<cn;){const Fn=gn[Ln];let Vn=null,xr=Fn>239?4:Fn>223?3:Fn>191?2:1;if(Ln+xr<=cn){let Fr,Ur,Gr,zr;switch(xr){case 1:Fn<128&&(Vn=Fn);break;case 2:Fr=gn[Ln+1],(Fr&192)===128&&(zr=(Fn&31)<<6|Fr&63,zr>127&&(Vn=zr));break;case 3:Fr=gn[Ln+1],Ur=gn[Ln+2],(Fr&192)===128&&(Ur&192)===128&&(zr=(Fn&15)<<12|(Fr&63)<<6|Ur&63,zr>2047&&(zr<55296||zr>57343)&&(Vn=zr));break;case 4:Fr=gn[Ln+1],Ur=gn[Ln+2],Gr=gn[Ln+3],(Fr&192)===128&&(Ur&192)===128&&(Gr&192)===128&&(zr=(Fn&15)<<18|(Fr&63)<<12|(Ur&63)<<6|Gr&63,zr>65535&&zr<1114112&&(Vn=zr))}}Vn===null?(Vn=65533,xr=1):Vn>65535&&(Vn-=65536,Rn.push(Vn>>>10&1023|55296),Vn=56320|Vn&1023),Rn.push(Vn),Ln+=xr}return vn(Rn)}const _n=4096;function vn(gn){const an=gn.length;if(an<=_n)return String.fromCharCode.apply(String,gn);let cn="",Rn=0;for(;Rn<an;)cn+=String.fromCharCode.apply(String,gn.slice(Rn,Rn+=_n));return cn}function On(gn,an,cn){let Rn="";cn=Math.min(gn.length,cn);for(let Ln=an;Ln<cn;++Ln)Rn+=String.fromCharCode(gn[Ln]&127);return Rn}function Nn(gn,an,cn){let Rn="";cn=Math.min(gn.length,cn);for(let Ln=an;Ln<cn;++Ln)Rn+=String.fromCharCode(gn[Ln]);return Rn}function Un(gn,an,cn){const Rn=gn.length;(!an||an<0)&&(an=0),(!cn||cn<0||cn>Rn)&&(cn=Rn);let Ln="";for(let Fn=an;Fn<cn;++Fn)Ln+=jr[gn[Fn]];return Ln}function zn(gn,an,cn){const Rn=gn.slice(an,cn);let Ln="";for(let Fn=0;Fn<Rn.length-1;Fn+=2)Ln+=String.fromCharCode(Rn[Fn]+Rn[Fn+1]*256);return Ln}u.prototype.slice=function(an,cn){const Rn=this.length;an=~~an,cn=cn===void 0?Rn:~~cn,an<0?(an+=Rn,an<0&&(an=0)):an>Rn&&(an=Rn),cn<0?(cn+=Rn,cn<0&&(cn=0)):cn>Rn&&(cn=Rn),cn<an&&(cn=an);const Ln=this.subarray(an,cn);return Object.setPrototypeOf(Ln,u.prototype),Ln};function Bn(gn,an,cn){if(gn%1!==0||gn<0)throw new RangeError("offset is not uint");if(gn+an>cn)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=this[an],Fn=1,Vn=0;for(;++Vn<cn&&(Fn*=256);)Ln+=this[an+Vn]*Fn;return Ln},u.prototype.readUintBE=u.prototype.readUIntBE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=this[an+--cn],Fn=1;for(;cn>0&&(Fn*=256);)Ln+=this[an+--cn]*Fn;return Ln},u.prototype.readUint8=u.prototype.readUInt8=function(an,cn){return an=an>>>0,cn||Bn(an,1,this.length),this[an]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(an,cn){return an=an>>>0,cn||Bn(an,2,this.length),this[an]|this[an+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(an,cn){return an=an>>>0,cn||Bn(an,2,this.length),this[an]<<8|this[an+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),(this[an]|this[an+1]<<8|this[an+2]<<16)+this[an+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),this[an]*16777216+(this[an+1]<<16|this[an+2]<<8|this[an+3])},u.prototype.readBigUInt64LE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=cn+this[++an]*2**8+this[++an]*2**16+this[++an]*2**24,Fn=this[++an]+this[++an]*2**8+this[++an]*2**16+Rn*2**24;return BigInt(Ln)+(BigInt(Fn)<<BigInt(32))}),u.prototype.readBigUInt64BE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=cn*2**24+this[++an]*2**16+this[++an]*2**8+this[++an],Fn=this[++an]*2**24+this[++an]*2**16+this[++an]*2**8+Rn;return(BigInt(Ln)<<BigInt(32))+BigInt(Fn)}),u.prototype.readIntLE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=this[an],Fn=1,Vn=0;for(;++Vn<cn&&(Fn*=256);)Ln+=this[an+Vn]*Fn;return Fn*=128,Ln>=Fn&&(Ln-=Math.pow(2,8*cn)),Ln},u.prototype.readIntBE=function(an,cn,Rn){an=an>>>0,cn=cn>>>0,Rn||Bn(an,cn,this.length);let Ln=cn,Fn=1,Vn=this[an+--Ln];for(;Ln>0&&(Fn*=256);)Vn+=this[an+--Ln]*Fn;return Fn*=128,Vn>=Fn&&(Vn-=Math.pow(2,8*cn)),Vn},u.prototype.readInt8=function(an,cn){return an=an>>>0,cn||Bn(an,1,this.length),this[an]&128?(255-this[an]+1)*-1:this[an]},u.prototype.readInt16LE=function(an,cn){an=an>>>0,cn||Bn(an,2,this.length);const Rn=this[an]|this[an+1]<<8;return Rn&32768?Rn|4294901760:Rn},u.prototype.readInt16BE=function(an,cn){an=an>>>0,cn||Bn(an,2,this.length);const Rn=this[an+1]|this[an]<<8;return Rn&32768?Rn|4294901760:Rn},u.prototype.readInt32LE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),this[an]|this[an+1]<<8|this[an+2]<<16|this[an+3]<<24},u.prototype.readInt32BE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),this[an]<<24|this[an+1]<<16|this[an+2]<<8|this[an+3]},u.prototype.readBigInt64LE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=this[an+4]+this[an+5]*2**8+this[an+6]*2**16+(Rn<<24);return(BigInt(Ln)<<BigInt(32))+BigInt(cn+this[++an]*2**8+this[++an]*2**16+this[++an]*2**24)}),u.prototype.readBigInt64BE=Vr(function(an){an=an>>>0,Jn(an,"offset");const cn=this[an],Rn=this[an+7];(cn===void 0||Rn===void 0)&&Qn(an,this.length-8);const Ln=(cn<<24)+this[++an]*2**16+this[++an]*2**8+this[++an];return(BigInt(Ln)<<BigInt(32))+BigInt(this[++an]*2**24+this[++an]*2**16+this[++an]*2**8+Rn)}),u.prototype.readFloatLE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),t.read(this,an,!0,23,4)},u.prototype.readFloatBE=function(an,cn){return an=an>>>0,cn||Bn(an,4,this.length),t.read(this,an,!1,23,4)},u.prototype.readDoubleLE=function(an,cn){return an=an>>>0,cn||Bn(an,8,this.length),t.read(this,an,!0,52,8)},u.prototype.readDoubleBE=function(an,cn){return an=an>>>0,cn||Bn(an,8,this.length),t.read(this,an,!1,52,8)};function En(gn,an,cn,Rn,Ln,Fn){if(!u.isBuffer(gn))throw new TypeError('"buffer" argument must be a Buffer instance');if(an>Ln||an<Fn)throw new RangeError('"value" argument is out of bounds');if(cn+Rn>gn.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,Rn=Rn>>>0,!Ln){const xr=Math.pow(2,8*Rn)-1;En(this,an,cn,Rn,xr,0)}let Fn=1,Vn=0;for(this[cn]=an&255;++Vn<Rn&&(Fn*=256);)this[cn+Vn]=an/Fn&255;return cn+Rn},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,Rn=Rn>>>0,!Ln){const xr=Math.pow(2,8*Rn)-1;En(this,an,cn,Rn,xr,0)}let Fn=Rn-1,Vn=1;for(this[cn+Fn]=an&255;--Fn>=0&&(Vn*=256);)this[cn+Fn]=an/Vn&255;return cn+Rn},u.prototype.writeUint8=u.prototype.writeUInt8=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,1,255,0),this[cn]=an&255,cn+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,65535,0),this[cn]=an&255,this[cn+1]=an>>>8,cn+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,65535,0),this[cn]=an>>>8,this[cn+1]=an&255,cn+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,4294967295,0),this[cn+3]=an>>>24,this[cn+2]=an>>>16,this[cn+1]=an>>>8,this[cn]=an&255,cn+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,4294967295,0),this[cn]=an>>>24,this[cn+1]=an>>>16,this[cn+2]=an>>>8,this[cn+3]=an&255,cn+4};function Mn(gn,an,cn,Rn,Ln){qn(an,Rn,Ln,gn,cn,7);let Fn=Number(an&BigInt(4294967295));gn[cn++]=Fn,Fn=Fn>>8,gn[cn++]=Fn,Fn=Fn>>8,gn[cn++]=Fn,Fn=Fn>>8,gn[cn++]=Fn;let Vn=Number(an>>BigInt(32)&BigInt(4294967295));return gn[cn++]=Vn,Vn=Vn>>8,gn[cn++]=Vn,Vn=Vn>>8,gn[cn++]=Vn,Vn=Vn>>8,gn[cn++]=Vn,cn}function Zn(gn,an,cn,Rn,Ln){qn(an,Rn,Ln,gn,cn,7);let Fn=Number(an&BigInt(4294967295));gn[cn+7]=Fn,Fn=Fn>>8,gn[cn+6]=Fn,Fn=Fn>>8,gn[cn+5]=Fn,Fn=Fn>>8,gn[cn+4]=Fn;let Vn=Number(an>>BigInt(32)&BigInt(4294967295));return gn[cn+3]=Vn,Vn=Vn>>8,gn[cn+2]=Vn,Vn=Vn>>8,gn[cn+1]=Vn,Vn=Vn>>8,gn[cn]=Vn,cn+8}u.prototype.writeBigUInt64LE=Vr(function(an,cn=0){return Mn(this,an,cn,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Vr(function(an,cn=0){return Zn(this,an,cn,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,!Ln){const Fr=Math.pow(2,8*Rn-1);En(this,an,cn,Rn,Fr-1,-Fr)}let Fn=0,Vn=1,xr=0;for(this[cn]=an&255;++Fn<Rn&&(Vn*=256);)an<0&&xr===0&&this[cn+Fn-1]!==0&&(xr=1),this[cn+Fn]=(an/Vn>>0)-xr&255;return cn+Rn},u.prototype.writeIntBE=function(an,cn,Rn,Ln){if(an=+an,cn=cn>>>0,!Ln){const Fr=Math.pow(2,8*Rn-1);En(this,an,cn,Rn,Fr-1,-Fr)}let Fn=Rn-1,Vn=1,xr=0;for(this[cn+Fn]=an&255;--Fn>=0&&(Vn*=256);)an<0&&xr===0&&this[cn+Fn+1]!==0&&(xr=1),this[cn+Fn]=(an/Vn>>0)-xr&255;return cn+Rn},u.prototype.writeInt8=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,1,127,-128),an<0&&(an=255+an+1),this[cn]=an&255,cn+1},u.prototype.writeInt16LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,32767,-32768),this[cn]=an&255,this[cn+1]=an>>>8,cn+2},u.prototype.writeInt16BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,2,32767,-32768),this[cn]=an>>>8,this[cn+1]=an&255,cn+2},u.prototype.writeInt32LE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,2147483647,-2147483648),this[cn]=an&255,this[cn+1]=an>>>8,this[cn+2]=an>>>16,this[cn+3]=an>>>24,cn+4},u.prototype.writeInt32BE=function(an,cn,Rn){return an=+an,cn=cn>>>0,Rn||En(this,an,cn,4,2147483647,-2147483648),an<0&&(an=4294967295+an+1),this[cn]=an>>>24,this[cn+1]=an>>>16,this[cn+2]=an>>>8,this[cn+3]=an&255,cn+4},u.prototype.writeBigInt64LE=Vr(function(an,cn=0){return Mn(this,an,cn,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Vr(function(an,cn=0){return Zn(this,an,cn,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Sr(gn,an,cn,Rn,Ln,Fn){if(cn+Rn>gn.length)throw new RangeError("Index out of range");if(cn<0)throw new RangeError("Index out of range")}function $r(gn,an,cn,Rn,Ln){return an=+an,cn=cn>>>0,Ln||Sr(gn,an,cn,4),t.write(gn,an,cn,Rn,23,4),cn+4}u.prototype.writeFloatLE=function(an,cn,Rn){return $r(this,an,cn,!0,Rn)},u.prototype.writeFloatBE=function(an,cn,Rn){return $r(this,an,cn,!1,Rn)};function Xn(gn,an,cn,Rn,Ln){return an=+an,cn=cn>>>0,Ln||Sr(gn,an,cn,8),t.write(gn,an,cn,Rn,52,8),cn+8}u.prototype.writeDoubleLE=function(an,cn,Rn){return Xn(this,an,cn,!0,Rn)},u.prototype.writeDoubleBE=function(an,cn,Rn){return Xn(this,an,cn,!1,Rn)},u.prototype.copy=function(an,cn,Rn,Ln){if(!u.isBuffer(an))throw new TypeError("argument should be a Buffer");if(Rn||(Rn=0),!Ln&&Ln!==0&&(Ln=this.length),cn>=an.length&&(cn=an.length),cn||(cn=0),Ln>0&&Ln<Rn&&(Ln=Rn),Ln===Rn||an.length===0||this.length===0)return 0;if(cn<0)throw new RangeError("targetStart out of bounds");if(Rn<0||Rn>=this.length)throw new RangeError("Index out of range");if(Ln<0)throw new RangeError("sourceEnd out of bounds");Ln>this.length&&(Ln=this.length),an.length-cn<Ln-Rn&&(Ln=an.length-cn+Rn);const Fn=Ln-Rn;return this===an&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(cn,Rn,Ln):Uint8Array.prototype.set.call(an,this.subarray(Rn,Ln),cn),Fn},u.prototype.fill=function(an,cn,Rn,Ln){if(typeof an=="string"){if(typeof cn=="string"?(Ln=cn,cn=0,Rn=this.length):typeof Rn=="string"&&(Ln=Rn,Rn=this.length),Ln!==void 0&&typeof Ln!="string")throw new TypeError("encoding must be a string");if(typeof Ln=="string"&&!u.isEncoding(Ln))throw new TypeError("Unknown encoding: "+Ln);if(an.length===1){const Vn=an.charCodeAt(0);(Ln==="utf8"&&Vn<128||Ln==="latin1")&&(an=Vn)}}else typeof an=="number"?an=an&255:typeof an=="boolean"&&(an=Number(an));if(cn<0||this.length<cn||this.length<Rn)throw new RangeError("Out of range index");if(Rn<=cn)return this;cn=cn>>>0,Rn=Rn===void 0?this.length:Rn>>>0,an||(an=0);let Fn;if(typeof an=="number")for(Fn=cn;Fn<Rn;++Fn)this[Fn]=an;else{const Vn=u.isBuffer(an)?an:u.from(an,Ln),xr=Vn.length;if(xr===0)throw new TypeError('The value "'+an+'" is invalid for argument "value"');for(Fn=0;Fn<Rn-cn;++Fn)this[Fn+cn]=Vn[Fn%xr]}return this};const br={};function _r(gn,an,cn){br[gn]=class extends cn{constructor(){super(),Object.defineProperty(this,"message",{value:an.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${gn}]`,this.stack,delete this.name}get code(){return gn}set code(Ln){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ln,writable:!0})}toString(){return`${this.name} [${gn}]: ${this.message}`}}}_r("ERR_BUFFER_OUT_OF_BOUNDS",function(gn){return gn?`${gn} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),_r("ERR_INVALID_ARG_TYPE",function(gn,an){return`The "${gn}" argument must be of type number. Received type ${typeof an}`},TypeError),_r("ERR_OUT_OF_RANGE",function(gn,an,cn){let Rn=`The value of "${gn}" is out of range.`,Ln=cn;return Number.isInteger(cn)&&Math.abs(cn)>2**32?Ln=kr(String(cn)):typeof cn=="bigint"&&(Ln=String(cn),(cn>BigInt(2)**BigInt(32)||cn<-(BigInt(2)**BigInt(32)))&&(Ln=kr(Ln)),Ln+="n"),Rn+=` It must be ${an}. Received ${Ln}`,Rn},RangeError);function kr(gn){let an="",cn=gn.length;const Rn=gn[0]==="-"?1:0;for(;cn>=Rn+4;cn-=3)an=`_${gn.slice(cn-3,cn)}${an}`;return`${gn.slice(0,cn)}${an}`}function Cr(gn,an,cn){Jn(an,"offset"),(gn[an]===void 0||gn[an+cn]===void 0)&&Qn(an,gn.length-(cn+1))}function qn(gn,an,cn,Rn,Ln,Fn){if(gn>cn||gn<an){const Vn=typeof an=="bigint"?"n":"";let xr;throw Fn>3?an===0||an===BigInt(0)?xr=`>= 0${Vn} and < 2${Vn} ** ${(Fn+1)*8}${Vn}`:xr=`>= -(2${Vn} ** ${(Fn+1)*8-1}${Vn}) and < 2 ** ${(Fn+1)*8-1}${Vn}`:xr=`>= ${an}${Vn} and <= ${cn}${Vn}`,new br.ERR_OUT_OF_RANGE("value",xr,gn)}Cr(Rn,Ln,Fn)}function Jn(gn,an){if(typeof gn!="number")throw new br.ERR_INVALID_ARG_TYPE(an,"number",gn)}function Qn(gn,an,cn){throw Math.floor(gn)!==gn?(Jn(gn,cn),new br.ERR_OUT_OF_RANGE(cn||"offset","an integer",gn)):an<0?new br.ERR_BUFFER_OUT_OF_BOUNDS:new br.ERR_OUT_OF_RANGE(cn||"offset",`>= ${cn?1:0} and <= ${an}`,gn)}const Tr=/[^+/0-9A-Za-z-_]/g;function Or(gn){if(gn=gn.split("=")[0],gn=gn.trim().replace(Tr,""),gn.length<2)return"";for(;gn.length%4!==0;)gn=gn+"=";return gn}function Ir(gn,an){an=an||1/0;let cn;const Rn=gn.length;let Ln=null;const Fn=[];for(let Vn=0;Vn<Rn;++Vn){if(cn=gn.charCodeAt(Vn),cn>55295&&cn<57344){if(!Ln){if(cn>56319){(an-=3)>-1&&Fn.push(239,191,189);continue}else if(Vn+1===Rn){(an-=3)>-1&&Fn.push(239,191,189);continue}Ln=cn;continue}if(cn<56320){(an-=3)>-1&&Fn.push(239,191,189),Ln=cn;continue}cn=(Ln-55296<<10|cn-56320)+65536}else Ln&&(an-=3)>-1&&Fn.push(239,191,189);if(Ln=null,cn<128){if((an-=1)<0)break;Fn.push(cn)}else if(cn<2048){if((an-=2)<0)break;Fn.push(cn>>6|192,cn&63|128)}else if(cn<65536){if((an-=3)<0)break;Fn.push(cn>>12|224,cn>>6&63|128,cn&63|128)}else if(cn<1114112){if((an-=4)<0)break;Fn.push(cn>>18|240,cn>>12&63|128,cn>>6&63|128,cn&63|128)}else throw new Error("Invalid code point")}return Fn}function Kr(gn){const an=[];for(let cn=0;cn<gn.length;++cn)an.push(gn.charCodeAt(cn)&255);return an}function Ar(gn,an){let cn,Rn,Ln;const Fn=[];for(let Vn=0;Vn<gn.length&&!((an-=2)<0);++Vn)cn=gn.charCodeAt(Vn),Rn=cn>>8,Ln=cn%256,Fn.push(Ln),Fn.push(Rn);return Fn}function Nr(gn){return e.toByteArray(Or(gn))}function vr(gn,an,cn,Rn){let Ln;for(Ln=0;Ln<Rn&&!(Ln+cn>=an.length||Ln>=gn.length);++Ln)an[Ln+cn]=gn[Ln];return Ln}function Hr(gn,an){return gn instanceof an||gn!=null&&gn.constructor!=null&&gn.constructor.name!=null&&gn.constructor.name===an.name}function Dr(gn){return gn!==gn}const jr=function(){const gn="0123456789abcdef",an=new Array(256);for(let cn=0;cn<16;++cn){const Rn=cn*16;for(let Ln=0;Ln<16;++Ln)an[Rn+Ln]=gn[cn]+gn[Ln]}return an}();function Vr(gn){return typeof BigInt>"u"?Yr:gn}function Yr(){throw new Error("BigInt not supported")}})(buffer);var global$1=typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:typeof window<"u"?window:{},inherits;typeof Object.create=="function"?inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:inherits=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var inherits$1=inherits;function inspect$1(n,e){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(e)?t.showHidden=e:e&&_extend(t,e),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,n,t.depth)}inspect$1.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect$1.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(n,e){var t=inspect$1.styles[e];return t?"\x1B["+inspect$1.colors[t][0]+"m"+n+"\x1B["+inspect$1.colors[t][1]+"m":n}function stylizeNoColor(n,e){return n}function arrayToHash(n){var e={};return n.forEach(function(t,r){e[t]=!0}),e}function formatValue(n,e,t){if(n.customInspect&&e&&isFunction$1(e.inspect)&&e.inspect!==inspect$1&&!(e.constructor&&e.constructor.prototype===e)){var r=e.inspect(t,n);return isString(r)||(r=formatValue(n,r,t)),r}var o=formatPrimitive(n,e);if(o)return o;var a=Object.keys(e),c=arrayToHash(a);if(n.showHidden&&(a=Object.getOwnPropertyNames(e)),isError(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return formatError(e);if(a.length===0){if(isFunction$1(e)){var u=e.name?": "+e.name:"";return n.stylize("[Function"+u+"]","special")}if(isRegExp(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(isDate(e))return n.stylize(Date.prototype.toString.call(e),"date");if(isError(e))return formatError(e)}var en="",tn=!1,nn=["{","}"];if(isArray$1(e)&&(tn=!0,nn=["[","]"]),isFunction$1(e)){var sn=e.name?": "+e.name:"";en=" [Function"+sn+"]"}if(isRegExp(e)&&(en=" "+RegExp.prototype.toString.call(e)),isDate(e)&&(en=" "+Date.prototype.toUTCString.call(e)),isError(e)&&(en=" "+formatError(e)),a.length===0&&(!tn||e.length==0))return nn[0]+en+nn[1];if(t<0)return isRegExp(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special");n.seen.push(e);var fn;return tn?fn=formatArray(n,e,t,c,a):fn=a.map(function(dn){return formatProperty(n,e,t,c,dn,tn)}),n.seen.pop(),reduceToSingleString(fn,en,nn)}function formatPrimitive(n,e){if(isUndefined(e))return n.stylize("undefined","undefined");if(isString(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(t,"string")}if(isNumber(e))return n.stylize(""+e,"number");if(isBoolean(e))return n.stylize(""+e,"boolean");if(isNull(e))return n.stylize("null","null")}function formatError(n){return"["+Error.prototype.toString.call(n)+"]"}function formatArray(n,e,t,r,o){for(var a=[],c=0,u=e.length;c<u;++c)hasOwnProperty(e,String(c))?a.push(formatProperty(n,e,t,r,String(c),!0)):a.push("");return o.forEach(function(en){en.match(/^\d+$/)||a.push(formatProperty(n,e,t,r,en,!0))}),a}function formatProperty(n,e,t,r,o,a){var c,u,en;if(en=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},en.get?en.set?u=n.stylize("[Getter/Setter]","special"):u=n.stylize("[Getter]","special"):en.set&&(u=n.stylize("[Setter]","special")),hasOwnProperty(r,o)||(c="["+o+"]"),u||(n.seen.indexOf(en.value)<0?(isNull(t)?u=formatValue(n,en.value,null):u=formatValue(n,en.value,t-1),u.indexOf(`
`)>-1&&(a?u=u.split(`
`).map(function(tn){return"  "+tn}).join(`
`).substr(2):u=`
`+u.split(`
`).map(function(tn){return"   "+tn}).join(`
`))):u=n.stylize("[Circular]","special")),isUndefined(c)){if(a&&o.match(/^\d+$/))return u;c=JSON.stringify(""+o),c.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(c=c.substr(1,c.length-2),c=n.stylize(c,"name")):(c=c.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),c=n.stylize(c,"string"))}return c+": "+u}function reduceToSingleString(n,e,t){var r=n.reduce(function(o,a){return a.indexOf(`
`)>=0,o+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?t[0]+(e===""?"":e+`
 `)+" "+n.join(`,
  `)+" "+t[1]:t[0]+e+" "+n.join(", ")+" "+t[1]}function isArray$1(n){return Array.isArray(n)}function isBoolean(n){return typeof n=="boolean"}function isNull(n){return n===null}function isNumber(n){return typeof n=="number"}function isString(n){return typeof n=="string"}function isUndefined(n){return n===void 0}function isRegExp(n){return isObject$1(n)&&objectToString(n)==="[object RegExp]"}function isObject$1(n){return typeof n=="object"&&n!==null}function isDate(n){return isObject$1(n)&&objectToString(n)==="[object Date]"}function isError(n){return isObject$1(n)&&(objectToString(n)==="[object Error]"||n instanceof Error)}function isFunction$1(n){return typeof n=="function"}function isPrimitive(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n>"u"}function objectToString(n){return Object.prototype.toString.call(n)}function _extend(n,e){if(!e||!isObject$1(e))return n;for(var t=Object.keys(e),r=t.length;r--;)n[t[r]]=e[t[r]];return n}function hasOwnProperty(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function compare(n,e){if(n===e)return 0;for(var t=n.length,r=e.length,o=0,a=Math.min(t,r);o<a;++o)if(n[o]!==e[o]){t=n[o],r=e[o];break}return t<r?-1:r<t?1:0}var hasOwn=Object.prototype.hasOwnProperty,objectKeys=Object.keys||function(n){var e=[];for(var t in n)hasOwn.call(n,t)&&e.push(t);return e},pSlice=Array.prototype.slice,_functionsHaveNames;function functionsHaveNames(){return typeof _functionsHaveNames<"u"?_functionsHaveNames:_functionsHaveNames=function(){return function(){}.name==="foo"}()}function pToString(n){return Object.prototype.toString.call(n)}function isView(n){return buffer.isBuffer(n)||typeof global$1.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n?!!(n instanceof DataView||n.buffer&&n.buffer instanceof ArrayBuffer):!1}function assert(n,e){n||fail$1(n,!0,e,"==",ok)}var regex=/\s*function\s+([^\(\s]*)\s*/;function getName(n){if(!!isFunction$1(n)){if(functionsHaveNames())return n.name;var e=n.toString(),t=e.match(regex);return t&&t[1]}}assert.AssertionError=AssertionError;function AssertionError(n){this.name="AssertionError",this.actual=n.actual,this.expected=n.expected,this.operator=n.operator,n.message?(this.message=n.message,this.generatedMessage=!1):(this.message=getMessage(this),this.generatedMessage=!0);var e=n.stackStartFunction||fail$1;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var t=new Error;if(t.stack){var r=t.stack,o=getName(e),a=r.indexOf(`
`+o);if(a>=0){var c=r.indexOf(`
`,a+1);r=r.substring(c+1)}this.stack=r}}}inherits$1(AssertionError,Error);function truncate(n,e){return typeof n=="string"?n.length<e?n:n.slice(0,e):n}function inspect(n){if(functionsHaveNames()||!isFunction$1(n))return inspect$1(n);var e=getName(n),t=e?": "+e:"";return"[Function"+t+"]"}function getMessage(n){return truncate(inspect(n.actual),128)+" "+n.operator+" "+truncate(inspect(n.expected),128)}function fail$1(n,e,t,r,o){throw new AssertionError({message:t,actual:n,expected:e,operator:r,stackStartFunction:o})}assert.fail=fail$1;function ok(n,e){n||fail$1(n,!0,e,"==",ok)}assert.ok=ok;assert.equal=equal;function equal(n,e,t){n!=e&&fail$1(n,e,t,"==",equal)}assert.notEqual=notEqual;function notEqual(n,e,t){n==e&&fail$1(n,e,t,"!=",notEqual)}assert.deepEqual=deepEqual$1;function deepEqual$1(n,e,t){_deepEqual(n,e,!1)||fail$1(n,e,t,"deepEqual",deepEqual$1)}assert.deepStrictEqual=deepStrictEqual;function deepStrictEqual(n,e,t){_deepEqual(n,e,!0)||fail$1(n,e,t,"deepStrictEqual",deepStrictEqual)}function _deepEqual(n,e,t,r){if(n===e)return!0;if(buffer.isBuffer(n)&&buffer.isBuffer(e))return compare(n,e)===0;if(isDate(n)&&isDate(e))return n.getTime()===e.getTime();if(isRegExp(n)&&isRegExp(e))return n.source===e.source&&n.global===e.global&&n.multiline===e.multiline&&n.lastIndex===e.lastIndex&&n.ignoreCase===e.ignoreCase;if((n===null||typeof n!="object")&&(e===null||typeof e!="object"))return t?n===e:n==e;if(isView(n)&&isView(e)&&pToString(n)===pToString(e)&&!(n instanceof Float32Array||n instanceof Float64Array))return compare(new Uint8Array(n.buffer),new Uint8Array(e.buffer))===0;if(buffer.isBuffer(n)!==buffer.isBuffer(e))return!1;r=r||{actual:[],expected:[]};var o=r.actual.indexOf(n);return o!==-1&&o===r.expected.indexOf(e)?!0:(r.actual.push(n),r.expected.push(e),objEquiv(n,e,t,r))}function isArguments(n){return Object.prototype.toString.call(n)=="[object Arguments]"}function objEquiv(n,e,t,r){if(n==null||e===null||e===void 0)return!1;if(isPrimitive(n)||isPrimitive(e))return n===e;if(t&&Object.getPrototypeOf(n)!==Object.getPrototypeOf(e))return!1;var o=isArguments(n),a=isArguments(e);if(o&&!a||!o&&a)return!1;if(o)return n=pSlice.call(n),e=pSlice.call(e),_deepEqual(n,e,t);var c=objectKeys(n),u=objectKeys(e),en,tn;if(c.length!==u.length)return!1;for(c.sort(),u.sort(),tn=c.length-1;tn>=0;tn--)if(c[tn]!==u[tn])return!1;for(tn=c.length-1;tn>=0;tn--)if(en=c[tn],!_deepEqual(n[en],e[en],t,r))return!1;return!0}assert.notDeepEqual=notDeepEqual;function notDeepEqual(n,e,t){_deepEqual(n,e,!1)&&fail$1(n,e,t,"notDeepEqual",notDeepEqual)}assert.notDeepStrictEqual=notDeepStrictEqual;function notDeepStrictEqual(n,e,t){_deepEqual(n,e,!0)&&fail$1(n,e,t,"notDeepStrictEqual",notDeepStrictEqual)}assert.strictEqual=strictEqual;function strictEqual(n,e,t){n!==e&&fail$1(n,e,t,"===",strictEqual)}assert.notStrictEqual=notStrictEqual;function notStrictEqual(n,e,t){n===e&&fail$1(n,e,t,"!==",notStrictEqual)}function expectedException(n,e){if(!n||!e)return!1;if(Object.prototype.toString.call(e)=="[object RegExp]")return e.test(n);try{if(n instanceof e)return!0}catch{}return Error.isPrototypeOf(e)?!1:e.call({},n)===!0}function _tryBlock(n){var e;try{n()}catch(t){e=t}return e}function _throws(n,e,t,r){var o;if(typeof e!="function")throw new TypeError('"block" argument must be a function');typeof t=="string"&&(r=t,t=null),o=_tryBlock(e),r=(t&&t.name?" ("+t.name+").":".")+(r?" "+r:"."),n&&!o&&fail$1(o,t,"Missing expected exception"+r);var a=typeof r=="string",c=!n&&isError(o),u=!n&&o&&!t;if((c&&a&&expectedException(o,t)||u)&&fail$1(o,t,"Got unwanted exception"+r),n&&o&&t&&!expectedException(o,t)||!n&&o)throw o}assert.throws=throws;function throws(n,e,t){_throws(!0,n,e,t)}assert.doesNotThrow=doesNotThrow;function doesNotThrow(n,e,t){_throws(!1,n,e,t)}assert.ifError=ifError;function ifError(n){if(n)throw n}class Layout{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function nameWithProperty(n,e){return e.property?n+"["+e.property+"]":n}class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class UInt extends Layout{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class Structure extends Layout{constructor(e,t,r){if(!(Array.isArray(e)&&e.reduce((a,c)=>a&&c instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const a of e)if(0>a.span&&a.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((a,c)=>a+c.getSpan(),0)}catch{}super(o,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((o,a)=>{const c=a.getSpan(e,t);return t+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const o=r;let a=0,c=0;for(const u of this.fields){let en=u.span;if(c=0<en?en:0,u.property!==void 0){const tn=e[u.property];tn!==void 0&&(c=u.encode(tn,t,r),0>en&&(en=u.getSpan(t,r)))}a=r,r+=en}return a+c-o}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class Blob$1 extends Layout{constructor(e,t){if(!(e instanceof ExternalLayout&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof ExternalLayout||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let o=this.length;if(this.length instanceof ExternalLayout&&(o=e.length),!(buffer.Buffer.isBuffer(e)&&o===e.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+o+") Buffer as src");if(r+o>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,o,"hex"),this.length instanceof ExternalLayout&&this.length.encode(o,t,r),o}}var u8=n=>new UInt(1,n),u32=n=>new UInt(4,n),struct=(n,e,t)=>new Structure(n,e,t),blob=(n,e)=>new Blob$1(n,e);const publicKey=(n="publicKey")=>blob(32,n),uint64=(n="uint64")=>blob(8,n);function sendAndConfirmTransaction$1(n,e,t,...r){return sendAndConfirmTransaction$2(e,t,r,{skipPreflight:!1})}const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_TOKEN_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),FAILED_TO_FIND_ACCOUNT="Failed to find account",INVALID_ACCOUNT_OWNER="Invalid account owner";function pubkeyToBuffer(n){return buffer.Buffer.from(n.toBuffer())}class u64 extends BN{toBuffer(){const e=super.toArray().reverse(),t=buffer.Buffer.from(e);if(t.length===8)return t;assert(t.length<8,"u64 too large");const r=buffer.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){return assert(e.length===8,`Invalid buffer length: ${e.length}`),new u64([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}function isAccount(n){return"publicKey"in n}const AuthorityTypeCodes={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},NATIVE_MINT=new PublicKey("So11111111111111111111111111111111111111112"),MintLayout=struct([u32("mintAuthorityOption"),publicKey("mintAuthority"),uint64("supply"),u8("decimals"),u8("isInitialized"),u32("freezeAuthorityOption"),publicKey("freezeAuthority")]),AccountLayout=struct([publicKey("mint"),publicKey("owner"),uint64("amount"),u32("delegateOption"),publicKey("delegate"),u8("state"),u32("isNativeOption"),uint64("isNative"),uint64("delegatedAmount"),u32("closeAuthorityOption"),publicKey("closeAuthority")]),MultisigLayout=struct([u8("m"),u8("n"),u8("is_initialized"),publicKey("signer1"),publicKey("signer2"),publicKey("signer3"),publicKey("signer4"),publicKey("signer5"),publicKey("signer6"),publicKey("signer7"),publicKey("signer8"),publicKey("signer9"),publicKey("signer10"),publicKey("signer11")]);class Token{constructor(e,t,r,o){_defineProperty(this,"connection",void 0),_defineProperty(this,"publicKey",void 0),_defineProperty(this,"programId",void 0),_defineProperty(this,"associatedProgramId",void 0),_defineProperty(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:t,programId:r,payer:o,associatedProgramId:ASSOCIATED_TOKEN_PROGRAM_ID})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(MintLayout.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(AccountLayout.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(MultisigLayout.span)}static async createMint(e,t,r,o,a,c){const u=Keypair.generate(),en=new Token(e,u.publicKey,c,t),tn=await Token.getMinBalanceRentForExemptMint(e),nn=new Transaction;return nn.add(SystemProgram.createAccount({fromPubkey:t.publicKey,newAccountPubkey:u.publicKey,lamports:tn,space:MintLayout.span,programId:c})),nn.add(Token.createInitMintInstruction(c,u.publicKey,a,r,o)),await sendAndConfirmTransaction$1("createAccount and InitializeMint",e,nn,t,u),en}async createAccount(e){const t=await Token.getMinBalanceRentForExemptAccount(this.connection),r=Keypair.generate(),o=new Transaction;o.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:t,space:AccountLayout.span,programId:this.programId}));const a=this.publicKey;return o.add(Token.createInitAccountInstruction(this.programId,a,r.publicKey,e)),await sendAndConfirmTransaction$1("createAccount and InitializeAccount",this.connection,o,this.payer,r),r.publicKey}async createAssociatedTokenAccount(e){const t=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,t)}async createAssociatedTokenAccountInternal(e,t){return await sendAndConfirmTransaction$1("CreateAssociatedTokenAccount",this.connection,new Transaction().add(Token.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,t,e,this.payer.publicKey)),this.payer),t}async getOrCreateAssociatedAccountInfo(e){const t=await Token.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(t)}catch(r){if(r.message===FAILED_TO_FIND_ACCOUNT||r.message===INVALID_ACCOUNT_OWNER){try{await this.createAssociatedTokenAccountInternal(e,t)}catch{}return await this.getAccountInfo(t)}else throw r}}static async createWrappedNativeAccount(e,t,r,o,a){const c=await Token.getMinBalanceRentForExemptAccount(e),u=Keypair.generate(),en=new Transaction;return en.add(SystemProgram.createAccount({fromPubkey:o.publicKey,newAccountPubkey:u.publicKey,lamports:c,space:AccountLayout.span,programId:t})),en.add(SystemProgram.transfer({fromPubkey:o.publicKey,toPubkey:u.publicKey,lamports:a})),en.add(Token.createInitAccountInstruction(t,NATIVE_MINT,u.publicKey,r)),await sendAndConfirmTransaction$1("createAccount, transfer, and initializeAccount",e,en,o,u),u.publicKey}async createMultisig(e,t){const r=Keypair.generate(),o=await Token.getMinBalanceRentForExemptMultisig(this.connection),a=new Transaction;a.add(SystemProgram.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:o,space:MultisigLayout.span,programId:this.programId}));let c=[{pubkey:r.publicKey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];t.forEach(tn=>c.push({pubkey:tn,isSigner:!1,isWritable:!1}));const u=struct([u8("instruction"),u8("m")]),en=buffer.Buffer.alloc(u.span);return u.encode({instruction:2,m:e},en),a.add({keys:c,programId:this.programId,data:en}),await sendAndConfirmTransaction$1("createAccount and InitializeMultisig",this.connection,a,this.payer,r),r.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(e===null)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=MintLayout.span)throw new Error("Invalid mint size");const t=buffer.Buffer.from(e.data),r=MintLayout.decode(t);return r.mintAuthorityOption===0?r.mintAuthority=null:r.mintAuthority=new PublicKey(r.mintAuthority),r.supply=u64.fromBuffer(r.supply),r.isInitialized=r.isInitialized!=0,r.freezeAuthorityOption===0?r.freezeAuthority=null:r.freezeAuthority=new PublicKey(r.freezeAuthority),r}async getAccountInfo(e,t){const r=await this.connection.getAccountInfo(e,t);if(r===null)throw new Error(FAILED_TO_FIND_ACCOUNT);if(!r.owner.equals(this.programId))throw new Error(INVALID_ACCOUNT_OWNER);if(r.data.length!=AccountLayout.span)throw new Error("Invalid account size");const o=buffer.Buffer.from(r.data),a=AccountLayout.decode(o);if(a.address=e,a.mint=new PublicKey(a.mint),a.owner=new PublicKey(a.owner),a.amount=u64.fromBuffer(a.amount),a.delegateOption===0?(a.delegate=null,a.delegatedAmount=new u64):(a.delegate=new PublicKey(a.delegate),a.delegatedAmount=u64.fromBuffer(a.delegatedAmount)),a.isInitialized=a.state!==0,a.isFrozen=a.state===2,a.isNativeOption===1?(a.rentExemptReserve=u64.fromBuffer(a.isNative),a.isNative=!0):(a.rentExemptReserve=null,a.isNative=!1),a.closeAuthorityOption===0?a.closeAuthority=null:a.closeAuthority=new PublicKey(a.closeAuthority),!a.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(a.mint)} !== ${JSON.stringify(this.publicKey)}`);return a}async getMultisigInfo(e){const t=await this.connection.getAccountInfo(e);if(t===null)throw new Error("Failed to find multisig");if(!t.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(t.data.length!=MultisigLayout.span)throw new Error("Invalid multisig size");const r=buffer.Buffer.from(t.data),o=MultisigLayout.decode(r);return o.signer1=new PublicKey(o.signer1),o.signer2=new PublicKey(o.signer2),o.signer3=new PublicKey(o.signer3),o.signer4=new PublicKey(o.signer4),o.signer5=new PublicKey(o.signer5),o.signer6=new PublicKey(o.signer6),o.signer7=new PublicKey(o.signer7),o.signer8=new PublicKey(o.signer8),o.signer9=new PublicKey(o.signer9),o.signer10=new PublicKey(o.signer10),o.signer11=new PublicKey(o.signer11),o}async transfer(e,t,r,o,a){let c,u;return isAccount(r)?(c=r.publicKey,u=[r]):(c=r,u=o),await sendAndConfirmTransaction$1("Transfer",this.connection,new Transaction().add(Token.createTransferInstruction(this.programId,e,t,c,o,a)),this.payer,...u)}async approve(e,t,r,o,a){let c,u;isAccount(r)?(c=r.publicKey,u=[r]):(c=r,u=o),await sendAndConfirmTransaction$1("Approve",this.connection,new Transaction().add(Token.createApproveInstruction(this.programId,e,t,c,o,a)),this.payer,...u)}async revoke(e,t,r){let o,a;isAccount(t)?(o=t.publicKey,a=[t]):(o=t,a=r),await sendAndConfirmTransaction$1("Revoke",this.connection,new Transaction().add(Token.createRevokeInstruction(this.programId,e,o,r)),this.payer,...a)}async setAuthority(e,t,r,o,a){let c,u;isAccount(o)?(c=o.publicKey,u=[o]):(c=o,u=a),await sendAndConfirmTransaction$1("SetAuthority",this.connection,new Transaction().add(Token.createSetAuthorityInstruction(this.programId,e,t,r,c,a)),this.payer,...u)}async mintTo(e,t,r,o){let a,c;isAccount(t)?(a=t.publicKey,c=[t]):(a=t,c=r),await sendAndConfirmTransaction$1("MintTo",this.connection,new Transaction().add(Token.createMintToInstruction(this.programId,this.publicKey,e,a,r,o)),this.payer,...c)}async burn(e,t,r,o){let a,c;isAccount(t)?(a=t.publicKey,c=[t]):(a=t,c=r),await sendAndConfirmTransaction$1("Burn",this.connection,new Transaction().add(Token.createBurnInstruction(this.programId,this.publicKey,e,a,r,o)),this.payer,...c)}async closeAccount(e,t,r,o){let a,c;isAccount(r)?(a=r.publicKey,c=[r]):(a=r,c=o),await sendAndConfirmTransaction$1("CloseAccount",this.connection,new Transaction().add(Token.createCloseAccountInstruction(this.programId,e,t,a,o)),this.payer,...c)}async freezeAccount(e,t,r){let o,a;isAccount(t)?(o=t.publicKey,a=[t]):(o=t,a=r),await sendAndConfirmTransaction$1("FreezeAccount",this.connection,new Transaction().add(Token.createFreezeAccountInstruction(this.programId,e,this.publicKey,o,r)),this.payer,...a)}async thawAccount(e,t,r){let o,a;isAccount(t)?(o=t.publicKey,a=[t]):(o=t,a=r),await sendAndConfirmTransaction$1("ThawAccount",this.connection,new Transaction().add(Token.createThawAccountInstruction(this.programId,e,this.publicKey,o,r)),this.payer,...a)}async transferChecked(e,t,r,o,a,c){let u,en;return isAccount(r)?(u=r.publicKey,en=[r]):(u=r,en=o),await sendAndConfirmTransaction$1("TransferChecked",this.connection,new Transaction().add(Token.createTransferCheckedInstruction(this.programId,e,this.publicKey,t,u,o,a,c)),this.payer,...en)}async approveChecked(e,t,r,o,a,c){let u,en;isAccount(r)?(u=r.publicKey,en=[r]):(u=r,en=o),await sendAndConfirmTransaction$1("ApproveChecked",this.connection,new Transaction().add(Token.createApproveCheckedInstruction(this.programId,e,this.publicKey,t,u,o,a,c)),this.payer,...en)}async mintToChecked(e,t,r,o,a){let c,u;isAccount(t)?(c=t.publicKey,u=[t]):(c=t,u=r),await sendAndConfirmTransaction$1("MintToChecked",this.connection,new Transaction().add(Token.createMintToCheckedInstruction(this.programId,this.publicKey,e,c,r,o,a)),this.payer,...u)}async burnChecked(e,t,r,o,a){let c,u;isAccount(t)?(c=t.publicKey,u=[t]):(c=t,u=r),await sendAndConfirmTransaction$1("BurnChecked",this.connection,new Transaction().add(Token.createBurnCheckedInstruction(this.programId,this.publicKey,e,c,r,o,a)),this.payer,...u)}async syncNative(e){await sendAndConfirmTransaction$1("SyncNative",this.connection,new Transaction().add(Token.createSyncNativeInstruction(this.programId,e)),this.payer)}static createInitMintInstruction(e,t,r,o,a){let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];const u=struct([u8("instruction"),u8("decimals"),publicKey("mintAuthority"),u8("option"),publicKey("freezeAuthority")]);let en=buffer.Buffer.alloc(1024);{const tn=u.encode({instruction:0,decimals:r,mintAuthority:pubkeyToBuffer(o),option:a===null?0:1,freezeAuthority:pubkeyToBuffer(a||new PublicKey(0))},en);en=en.slice(0,tn)}return new TransactionInstruction({keys:c,programId:e,data:en})}static createInitAccountInstruction(e,t,r,o){const a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],c=struct([u8("instruction")]),u=buffer.Buffer.alloc(c.span);return c.encode({instruction:1},u),new TransactionInstruction({keys:a,programId:e,data:u})}static createTransferInstruction(e,t,r,o,a,c){const u=struct([u8("instruction"),uint64("amount")]),en=buffer.Buffer.alloc(u.span);u.encode({instruction:3,amount:new u64(c).toBuffer()},en);let tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return a.length===0?tn.push({pubkey:o,isSigner:!0,isWritable:!1}):(tn.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(nn=>tn.push({pubkey:nn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:tn,programId:e,data:en})}static createApproveInstruction(e,t,r,o,a,c){const u=struct([u8("instruction"),uint64("amount")]),en=buffer.Buffer.alloc(u.span);u.encode({instruction:4,amount:new u64(c).toBuffer()},en);let tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return a.length===0?tn.push({pubkey:o,isSigner:!0,isWritable:!1}):(tn.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(nn=>tn.push({pubkey:nn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:tn,programId:e,data:en})}static createRevokeInstruction(e,t,r,o){const a=struct([u8("instruction")]),c=buffer.Buffer.alloc(a.span);a.encode({instruction:5},c);let u=[{pubkey:t,isSigner:!1,isWritable:!0}];return o.length===0?u.push({pubkey:r,isSigner:!0,isWritable:!1}):(u.push({pubkey:r,isSigner:!1,isWritable:!1}),o.forEach(en=>u.push({pubkey:en.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:u,programId:e,data:c})}static createSetAuthorityInstruction(e,t,r,o,a,c){const u=struct([u8("instruction"),u8("authorityType"),u8("option"),publicKey("newAuthority")]);let en=buffer.Buffer.alloc(1024);{const nn=u.encode({instruction:6,authorityType:AuthorityTypeCodes[o],option:r===null?0:1,newAuthority:pubkeyToBuffer(r||new PublicKey(0))},en);en=en.slice(0,nn)}let tn=[{pubkey:t,isSigner:!1,isWritable:!0}];return c.length===0?tn.push({pubkey:a,isSigner:!0,isWritable:!1}):(tn.push({pubkey:a,isSigner:!1,isWritable:!1}),c.forEach(nn=>tn.push({pubkey:nn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:tn,programId:e,data:en})}static createMintToInstruction(e,t,r,o,a,c){const u=struct([u8("instruction"),uint64("amount")]),en=buffer.Buffer.alloc(u.span);u.encode({instruction:7,amount:new u64(c).toBuffer()},en);let tn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return a.length===0?tn.push({pubkey:o,isSigner:!0,isWritable:!1}):(tn.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(nn=>tn.push({pubkey:nn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:tn,programId:e,data:en})}static createBurnInstruction(e,t,r,o,a,c){const u=struct([u8("instruction"),uint64("amount")]),en=buffer.Buffer.alloc(u.span);u.encode({instruction:8,amount:new u64(c).toBuffer()},en);let tn=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return a.length===0?tn.push({pubkey:o,isSigner:!0,isWritable:!1}):(tn.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(nn=>tn.push({pubkey:nn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:tn,programId:e,data:en})}static createCloseAccountInstruction(e,t,r,o,a){const c=struct([u8("instruction")]),u=buffer.Buffer.alloc(c.span);c.encode({instruction:9},u);let en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return a.length===0?en.push({pubkey:o,isSigner:!0,isWritable:!1}):(en.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(tn=>en.push({pubkey:tn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:en,programId:e,data:u})}static createFreezeAccountInstruction(e,t,r,o,a){const c=struct([u8("instruction")]),u=buffer.Buffer.alloc(c.span);c.encode({instruction:10},u);let en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return a.length===0?en.push({pubkey:o,isSigner:!0,isWritable:!1}):(en.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(tn=>en.push({pubkey:tn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:en,programId:e,data:u})}static createThawAccountInstruction(e,t,r,o,a){const c=struct([u8("instruction")]),u=buffer.Buffer.alloc(c.span);c.encode({instruction:11},u);let en=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return a.length===0?en.push({pubkey:o,isSigner:!0,isWritable:!1}):(en.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(tn=>en.push({pubkey:tn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:en,programId:e,data:u})}static createTransferCheckedInstruction(e,t,r,o,a,c,u,en){const tn=struct([u8("instruction"),uint64("amount"),u8("decimals")]),nn=buffer.Buffer.alloc(tn.span);tn.encode({instruction:12,amount:new u64(u).toBuffer(),decimals:en},nn);let sn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!0}];return c.length===0?sn.push({pubkey:a,isSigner:!0,isWritable:!1}):(sn.push({pubkey:a,isSigner:!1,isWritable:!1}),c.forEach(fn=>sn.push({pubkey:fn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:sn,programId:e,data:nn})}static createApproveCheckedInstruction(e,t,r,o,a,c,u,en){const tn=struct([u8("instruction"),uint64("amount"),u8("decimals")]),nn=buffer.Buffer.alloc(tn.span);tn.encode({instruction:13,amount:new u64(u).toBuffer(),decimals:en},nn);let sn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!1,isWritable:!1}];return c.length===0?sn.push({pubkey:a,isSigner:!0,isWritable:!1}):(sn.push({pubkey:a,isSigner:!1,isWritable:!1}),c.forEach(fn=>sn.push({pubkey:fn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:sn,programId:e,data:nn})}static createMintToCheckedInstruction(e,t,r,o,a,c,u){const en=struct([u8("instruction"),uint64("amount"),u8("decimals")]),tn=buffer.Buffer.alloc(en.span);en.encode({instruction:14,amount:new u64(c).toBuffer(),decimals:u},tn);let nn=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return a.length===0?nn.push({pubkey:o,isSigner:!0,isWritable:!1}):(nn.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(sn=>nn.push({pubkey:sn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:nn,programId:e,data:tn})}static createBurnCheckedInstruction(e,t,r,o,a,c,u){const en=struct([u8("instruction"),uint64("amount"),u8("decimals")]),tn=buffer.Buffer.alloc(en.span);en.encode({instruction:15,amount:new u64(c).toBuffer(),decimals:u},tn);let nn=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return a.length===0?nn.push({pubkey:o,isSigner:!0,isWritable:!1}):(nn.push({pubkey:o,isSigner:!1,isWritable:!1}),a.forEach(sn=>nn.push({pubkey:sn.publicKey,isSigner:!0,isWritable:!1}))),new TransactionInstruction({keys:nn,programId:e,data:tn})}static createSyncNativeInstruction(e,t){const r=struct([u8("instruction")]),o=buffer.Buffer.alloc(r.span);r.encode({instruction:17},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0}];return new TransactionInstruction({keys:a,programId:e,data:o})}static async getAssociatedTokenAddress(e,t,r,o,a=!1){if(!a&&!PublicKey.isOnCurve(o.toBuffer()))throw new Error(`Owner cannot sign: ${o.toString()}`);return(await PublicKey.findProgramAddress([o.toBuffer(),t.toBuffer(),r.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,t,r,o,a,c){const u=buffer.Buffer.alloc(0);let en=[{pubkey:c,isSigner:!0,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new TransactionInstruction({keys:en,programId:e,data:u})}}var index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,ASSOCIATED_TOKEN_PROGRAM_ID,AccountLayout,MintLayout,NATIVE_MINT,TOKEN_PROGRAM_ID,Token,u64},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(index_browser_esm),__awaiter$w=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(helpers$1,"__esModule",{value:!0});helpers$1.getAccountInfo=helpers$1.getTokenAccount=helpers$1.getAssociatedTokenAddress=helpers$1.convertFactionStringToNum=helpers$1.longToByteArray=helpers$1.byteArrayToLong=helpers$1.stringToByteArray=helpers$1.byteArrayToString=void 0;const __1=dist,anchor_1$n=require$$0$1,web3_js_1$8=require$$2,spl_token_1$3=require$$1$1;function byteArrayToString(n){return String.fromCharCode(...n)}helpers$1.byteArrayToString=byteArrayToString;function stringToByteArray(n,e){if(n.length>e)return null;let t=[];for(let r=0;r<e;r+=1){let o=32;r<n.length&&(o=n.charCodeAt(r)),t=t.concat([o])}return t}helpers$1.stringToByteArray=stringToByteArray;function byteArrayToLong(n){let e=0;for(let t=n.length-1;t>=0;t-=1)e=e*256+n[t];return e}helpers$1.byteArrayToLong=byteArrayToLong;function longToByteArray(n){const e=[0,0,0,0,0,0,0,0];for(let t=0;t<e.length;t+=1){const r=n&255;e[t]=r,n=(n-r)/256}return e}helpers$1.longToByteArray=longToByteArray;function convertFactionStringToNum(n){return __awaiter$w(this,void 0,void 0,function*(){switch(n.toLowerCase()){case"mud":return __1.FactionType.MUD;case"oni":return __1.FactionType.ONI;case"ustur":return __1.FactionType.Ustur;default:return __1.FactionType.Unenlisted}})}helpers$1.convertFactionStringToNum=convertFactionStringToNum;function getAssociatedTokenAddress(n,e){return __awaiter$w(this,void 0,void 0,function*(){const[t]=yield web3_js_1$8.PublicKey.findProgramAddress([n.toBuffer(),spl_token_1$3.TOKEN_PROGRAM_ID.toBuffer(),e.toBuffer()],spl_token_1$3.ASSOCIATED_TOKEN_PROGRAM_ID);return t})}helpers$1.getAssociatedTokenAddress=getAssociatedTokenAddress;function getTokenAccount(n,e,t,r=e,o){return __awaiter$w(this,void 0,void 0,function*(){const{value:a}=yield n.getParsedTokenAccountsByOwner(e,{mint:t});let c=null;if(o===void 0){let u=null;for(const en of a)if(en.account.data.parsed.type==="account"){const tn=en.account.data.parsed,nn=new anchor_1$n.BN(tn.info.tokenAmount.amount);(u===null||nn.gt(u))&&(c=en.pubkey,u=nn)}}else{let u=null;for(const en of a)if(en.account.data.parsed.type==="account"){const tn=en.account.data.parsed,nn=new anchor_1$n.BN(tn.info.tokenAmount.amount);nn.gt(new anchor_1$n.BN(o))&&(u===null||nn.lt(u))&&(c=en.pubkey,u=nn)}}if(c===null){const u=yield getAssociatedTokenAddress(e,t),{value:en}=yield n.getParsedAccountInfo(u,"confirmed");if(en===null||en.owner.equals(web3_js_1$8.SystemProgram.programId))return{tokenAccount:u,createInstruction:[spl_token_1$3.Token.createAssociatedTokenAccountInstruction(spl_token_1$3.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1$3.TOKEN_PROGRAM_ID,t,u,e,r)]};if("program"in en.data&&en.data.parsed.type==="account"&&new web3_js_1$8.PublicKey(en.data.parsed.info.owner).equals(e))return{tokenAccount:u};{const tn=anchor_1$n.web3.Keypair.generate();return{tokenAccount:tn,createInstruction:[web3_js_1$8.SystemProgram.createAccount({fromPubkey:r,newAccountPubkey:tn.publicKey,lamports:yield spl_token_1$3.Token.getMinBalanceRentForExemptAccount(n),space:spl_token_1$3.AccountLayout.span,programId:spl_token_1$3.TOKEN_PROGRAM_ID}),spl_token_1$3.Token.createInitAccountInstruction(spl_token_1$3.TOKEN_PROGRAM_ID,t,tn.publicKey,e)]}}}else return{tokenAccount:c}})}helpers$1.getTokenAccount=getTokenAccount;function getAccountInfo(n,e){return __awaiter$w(this,void 0,void 0,function*(){const{value:t}=yield n.getParsedAccountInfo(e);return t.data})}helpers$1.getAccountInfo=getAccountInfo;var wallet={},__awaiter$v=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(wallet,"__esModule",{value:!0});wallet.sendAndConfirmTransaction=void 0;const web3_js_1$7=require$$2;function sendAndConfirmTransaction(n,e,...t){return __awaiter$v(this,void 0,void 0,function*(){let r="";try{r=yield(0,web3_js_1$7.sendAndConfirmTransaction)(n,e,t,{skipPreflight:!0,commitment:"singleGossip",preflightCommitment:null})}catch(o){console.log(o)}return r})}wallet.sendAndConfirmTransaction=sendAndConfirmTransaction;var gmHelper$1={},marketplace={},instruction_builders={},BaseParams={};Object.defineProperty(BaseParams,"__esModule",{value:!0});var cancelOrder={},pda_getters$3={},order_getters={},getMarketplaceProgram$1={},gmIdl={};Object.defineProperty(gmIdl,"__esModule",{value:!0});gmIdl.baseIdl=void 0;gmIdl.baseIdl={version:"0.1.0",name:"marketplace",instructions:[{name:"addRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"deleteRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"}]},{name:"deregisterCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMarketplace",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"registerCurrency",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateCurrencyVault",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"saCurrencyVault",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]},{name:"updateCurrencyRoyalty",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"royalty",type:"u64"}]},{name:"updateRoyaltyTier",accounts:[{name:"updateAuthorityAccount",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"registeredCurrency",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"RegisteredCurrency",path:"registered_currency.token_mint"}]}}],args:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]},{name:"addFeeExemption",accounts:[{name:"updateAuthorityMaster",isMut:!1,isSigner:!0},{name:"funder",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1},{name:"feeExemptTarget",isMut:!1,isSigner:!1},{name:"feeExemptAccount",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"discount",type:"u64"}]},{name:"removeFeeExemption",accounts:[{name:"updateAuthorityMaster",isMut:!1,isSigner:!0},{name:"funder",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1},{name:"feeExemptAccount",isMut:!0,isSigner:!1}],args:[]},{name:"processInitializeBuy",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processInitializeSell",accounts:[{name:"orderInitializer",isMut:!0,isSigner:!0},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"receiveMint",isMut:!1,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!1,isSigner:!1},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"receive_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"price",type:"u64"},{name:"originationQty",type:"u64"}]},{name:"processExchange",accounts:[{name:"orderTaker",isMut:!0,isSigner:!0},{name:"orderTakerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderTakerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"currencyMint",isMut:!1,isSigner:!1},{name:"assetMint",isMut:!1,isSigner:!1},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"initializerReceiveTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",account:"OrderAccount",path:"order_account.order_initializer_pubkey"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"saVault",isMut:!0,isSigner:!1},{name:"registeredCurrency",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"registered-currency"},{kind:"account",type:"publicKey",account:"Mint",path:"currency_mint"}]}},{name:"openOrdersCounter",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"atlasStaking",isMut:!1,isSigner:!1},{name:"registeredStake",isMut:!1,isSigner:!1},{name:"stakingAccount",isMut:!1,isSigner:!1},{name:"feeReduction",isMut:!1,isSigner:!1}],args:[{name:"purchaseQuantity",type:"u64"},{name:"expectedPrice",type:"u64"},{name:"seller",type:"publicKey"}]},{name:"processCancel",accounts:[{name:"signer",isMut:!0,isSigner:!0},{name:"orderInitializer",isMut:!0,isSigner:!1},{name:"marketVarsAccount",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"market-vars"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"initializerDepositTokenAccount",isMut:!0,isSigner:!1},{name:"orderVaultAccount",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-account"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"orderVaultAuthority",isMut:!1,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"order-vault-auth"},{kind:"account",type:"publicKey",path:"order_initializer"}]}},{name:"orderAccount",isMut:!0,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"order_initializer"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"initializeOpenOrdersCounter",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"user",isMut:!1,isSigner:!1},{name:"openOrdersCounter",isMut:!0,isSigner:!1,pda:{seeds:[{kind:"const",type:"string",value:"open-orders-counter"},{kind:"account",type:"publicKey",path:"user"},{kind:"account",type:"publicKey",account:"Mint",path:"deposit_mint"}]}},{name:"depositMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[]}],accounts:[{name:"FeeReduction",type:{kind:"struct",fields:[{name:"account",type:"publicKey"},{name:"bump",type:"u8"},{name:"discount",type:"u64"}]}},{name:"MarketVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"bump",type:"u8"}]}},{name:"OpenOrdersCounter",type:{kind:"struct",fields:[{name:"openOrderCount",type:"u64"},{name:"bump",type:"u8"}]}},{name:"OrderAccount",type:{kind:"struct",fields:[{name:"orderInitializerPubkey",type:"publicKey"},{name:"currencyMint",type:"publicKey"},{name:"assetMint",type:"publicKey"},{name:"initializerCurrencyTokenAccount",type:"publicKey"},{name:"initializerAssetTokenAccount",type:"publicKey"},{name:"orderSide",type:{defined:"OrderSide"}},{name:"price",type:"u64"},{name:"orderOriginationQty",type:"u64"},{name:"orderRemainingQty",type:"u64"},{name:"createdAtTimestamp",type:"i64"}]}},{name:"RegisteredCurrency",type:{kind:"struct",fields:[{name:"tokenMint",type:"publicKey"},{name:"saCurrencyVault",type:"publicKey"},{name:"royalty",type:"u64"},{name:"bump",type:"u8"},{name:"royaltyTiers",type:{vec:{defined:"RoyaltyTier"}}}]}}],types:[{name:"RoyaltyTier",type:{kind:"struct",fields:[{name:"stakeAmount",type:"u64"},{name:"discount",type:"u64"}]}},{name:"OrderSide",type:{kind:"enum",variants:[{name:"Buy"},{name:"Sell"}]}},{name:"TokenType",type:{kind:"enum",variants:[{name:"Asset"},{name:"Currency"}]}}],errors:[{code:6e3,name:"InvalidDestinationAccount",msg:"Invalid Destination Token Account"},{code:6001,name:"InvalidInstruction",msg:"Invalid instruction."},{code:6002,name:"InvalidMint",msg:"Invalid SPL Token mint"},{code:6003,name:"InvalidOfferAccountOwner",msg:"Invalid Offer Account Owner"},{code:6004,name:"InvalidTokenAccount",msg:"Invalid SPL Token account"},{code:6005,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:6006,name:"InvalidUpdateAuthorityAccount",msg:"Invalid Update Authority account"},{code:6007,name:"InvalidOrderVaultAuthorityAccount",msg:"Invalid Order Vault Authority account"},{code:6008,name:"UninitializedTokenAccount",msg:"Uninitialized Token Account"},{code:6009,name:"InsufficientBalance",msg:"Insufficient Balance"},{code:6010,name:"InvalidOrderDuration",msg:"Invalid Order Duration"},{code:6011,name:"InvalidOriginationQty",msg:"Origination quantity must be greater than 0"},{code:6012,name:"InsufficientOrderQty",msg:"Insufficient Order Quantity Remaining"},{code:6013,name:"InvalidRoyalty",msg:"Invalid Royalty Value"},{code:6014,name:"InvalidCounter",msg:"Invalid Open Order Counter"},{code:6015,name:"MintDecimalError",msg:"Mint must be zero decimal"},{code:6016,name:"InvalidOrderAccountError",msg:"Order Account does not match provided account"},{code:6017,name:"InvalidRoyaltyTier",msg:"No royalty tier exists with provided stake amount"},{code:6018,name:"RoyaltyTierLength",msg:"Royalty Tier vector cannot hold any additional tiers"},{code:6019,name:"InvalidOrderPrice",msg:"Order price did not match expected price"},{code:6020,name:"DuplicateRoyaltyTier",msg:"Royalty tier already exists"},{code:6021,name:"InvalidSeller",msg:"Order seller did not match expected seller"}],metadata:{}};var gmLogsIdl$1={};Object.defineProperty(gmLogsIdl$1,"__esModule",{value:!0});gmLogsIdl$1.baseIdl=void 0;gmLogsIdl$1.baseIdl={version:"0.1.0",name:"gm_logs",instructions:[],events:[{name:"RegisterCurrencyMemo",fields:[{name:"updateAuthorityAccount",type:"publicKey",index:!1},{name:"registeredCurrency",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"saCurrencyVault",type:"publicKey",index:!1},{name:"royalty",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"InitializeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"ExchangeMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"CancelOrderMemo",fields:[{name:"orderInitializerPubkey",type:"publicKey",index:!1},{name:"currencyMint",type:"publicKey",index:!1},{name:"assetMint",type:"publicKey",index:!1},{name:"initializerCurrencyTokenAccount",type:"publicKey",index:!1},{name:"initializerAssetTokenAccount",type:"publicKey",index:!1},{name:"orderSide",type:"u8",index:!1},{name:"price",type:"u64",index:!1},{name:"orderOriginationQty",type:"u64",index:!1},{name:"orderRemainingQty",type:"u64",index:!1},{name:"createdAtTimestamp",type:"i64",index:!1},{name:"orderId",type:"publicKey",index:!1}]},{name:"StakeMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"stakeAmount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"TransferMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"transferAmount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"WithdrawMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"withdrawAmount",type:"u64",index:!1},{name:"timestamp",type:"i64",index:!1}]},{name:"SettleMemo",fields:[{name:"user",type:"publicKey",index:!1},{name:"registeredStake",type:"publicKey",index:!1},{name:"stakingAccount",type:"publicKey",index:!1},{name:"timestamp",type:"i64",index:!1}]}],metadata:{}};var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,o)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&__createBinding$1(e,n,t);return __setModuleDefault$1(e,n),e};Object.defineProperty(getMarketplaceProgram$1,"__esModule",{value:!0});getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram$1.getGmLogsIDL=getMarketplaceProgram$1.getGmIDL=void 0;const anchor_1$m=require$$0$1,gmIdl_1=gmIdl,gmLogsIdl=__importStar$1(gmLogsIdl$1);function getGmIDL(n){const e=gmIdl_1.baseIdl;return e.metadata.address=n.toBase58(),e}getMarketplaceProgram$1.getGmIDL=getGmIDL;function getGmLogsIDL(n){const e=gmLogsIdl.baseIdl;return e.metadata.address=n.toBase58(),e}getMarketplaceProgram$1.getGmLogsIDL=getGmLogsIDL;function getMarketplaceProgram({connection:n,programId:e}){const t=getGmIDL(e),r=new anchor_1$m.AnchorProvider(n,null,null);return new anchor_1$m.Program(t,e,r)}getMarketplaceProgram$1.getMarketplaceProgram=getMarketplaceProgram;var __awaiter$u=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(order_getters,"__esModule",{value:!0});order_getters.getSingleOrder=order_getters.getOpenOrdersForPlayerAndAsset=order_getters.getOpenOrdersForPlayerAndCurrency=order_getters.getOpenOrdersForAsset=order_getters.getOpenOrdersForCurrency=order_getters.getOpenOrdersForPlayer=order_getters.getAllOpenOrders=void 0;const anchor_1$l=require$$0$1,getMarketplaceProgram_1$2=getMarketplaceProgram$1;function getAllOpenOrders(n,e){return __awaiter$u(this,void 0,void 0,function*(){const t=new anchor_1$l.AnchorProvider(n,null,null),r=(0,getMarketplaceProgram_1$2.getGmIDL)(e),o=new anchor_1$l.Program(r,e,t),a=[{dataSize:201}];return yield o.account.orderAccount.all(a)})}order_getters.getAllOpenOrders=getAllOpenOrders;function getOpenOrdersForPlayer(n,e,t){return __awaiter$u(this,void 0,void 0,function*(){const r=new anchor_1$l.AnchorProvider(n,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(t),a=new anchor_1$l.Program(o,t,r),c=[{dataSize:201},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForPlayer=getOpenOrdersForPlayer;function getOpenOrdersForCurrency(n,e,t){return __awaiter$u(this,void 0,void 0,function*(){const r=new anchor_1$l.AnchorProvider(n,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(t),a=new anchor_1$l.Program(o,t,r),c=[{dataSize:201},{memcmp:{offset:40,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForCurrency=getOpenOrdersForCurrency;function getOpenOrdersForAsset(n,e,t){return __awaiter$u(this,void 0,void 0,function*(){const r=new anchor_1$l.AnchorProvider(n,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(t),a=new anchor_1$l.Program(o,t,r),c=[{dataSize:201},{memcmp:{offset:72,bytes:e.toBase58()}}];return yield a.account.orderAccount.all(c)})}order_getters.getOpenOrdersForAsset=getOpenOrdersForAsset;function getOpenOrdersForPlayerAndCurrency(n,e,t,r){return __awaiter$u(this,void 0,void 0,function*(){const o=new anchor_1$l.AnchorProvider(n,null,null),a=(0,getMarketplaceProgram_1$2.getGmIDL)(r),c=new anchor_1$l.Program(a,r,o),u=[{dataSize:201},{memcmp:{offset:40,bytes:t.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield c.account.orderAccount.all(u)})}order_getters.getOpenOrdersForPlayerAndCurrency=getOpenOrdersForPlayerAndCurrency;function getOpenOrdersForPlayerAndAsset(n,e,t,r){return __awaiter$u(this,void 0,void 0,function*(){const o=new anchor_1$l.AnchorProvider(n,null,null),a=(0,getMarketplaceProgram_1$2.getGmIDL)(r),c=new anchor_1$l.Program(a,r,o),u=[{dataSize:201},{memcmp:{offset:72,bytes:t.toBase58()}},{memcmp:{offset:8,bytes:e.toBase58()}}];return yield c.account.orderAccount.all(u)})}order_getters.getOpenOrdersForPlayerAndAsset=getOpenOrdersForPlayerAndAsset;function getSingleOrder(n,e,t){return __awaiter$u(this,void 0,void 0,function*(){const r=new anchor_1$l.AnchorProvider(n,null,null),o=(0,getMarketplaceProgram_1$2.getGmIDL)(t);return yield new anchor_1$l.Program(o,t,r).account.orderAccount.fetch(e)})}order_getters.getSingleOrder=getSingleOrder;var pda_getters$2={},seeds$1={};Object.defineProperty(seeds$1,"__esModule",{value:!0});seeds$1.FEE_EXEMPT_SEED=seeds$1.OPEN_ORDERS_COUNTER=seeds$1.REGISTERED_CURRENCY_SEED=seeds$1.ORDER_VAULT_AUTH_SEED=seeds$1.ORDER_VAULT_SEED=seeds$1.MARKET_VARS_SEED=void 0;seeds$1.MARKET_VARS_SEED=dist$3.Buffer.from("market-vars");seeds$1.ORDER_VAULT_SEED=dist$3.Buffer.from("order-vault-account");seeds$1.ORDER_VAULT_AUTH_SEED=dist$3.Buffer.from("order-vault-auth");seeds$1.REGISTERED_CURRENCY_SEED=dist$3.Buffer.from("registered-currency");seeds$1.OPEN_ORDERS_COUNTER=dist$3.Buffer.from("open-orders-counter");seeds$1.FEE_EXEMPT_SEED=dist$3.Buffer.from("fee_exempt");var __createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,o)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&__createBinding(e,n,t);return __setModuleDefault(e,n),e},__awaiter$t=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(pda_getters$2,"__esModule",{value:!0});pda_getters$2.getAllFeeExemptAccounts=pda_getters$2.getFeeExemptAccount=pda_getters$2.getOpenOrdersCounter=pda_getters$2.getAllRegisteredCurrencies=pda_getters$2.getRegisteredCurrencyAccount=pda_getters$2.getOrderVaultAuth=pda_getters$2.getOrderVault=pda_getters$2.getMarketVarsAccount=void 0;const anchor_1$k=require$$0$1,web3_js_1$6=require$$2,Seeds=__importStar(seeds$1),getMarketplaceProgram_1$1=getMarketplaceProgram$1;function getMarketVarsAccount(n){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.MARKET_VARS_SEED],n)})}pda_getters$2.getMarketVarsAccount=getMarketVarsAccount;function getOrderVault(n,e,t){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_SEED,n.toBuffer(),e.toBuffer()],t)})}pda_getters$2.getOrderVault=getOrderVault;function getOrderVaultAuth(n,e){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.ORDER_VAULT_AUTH_SEED,n.toBuffer()],e)})}pda_getters$2.getOrderVaultAuth=getOrderVaultAuth;function getRegisteredCurrencyAccount(n,e){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.REGISTERED_CURRENCY_SEED,e.toBuffer()],n)})}pda_getters$2.getRegisteredCurrencyAccount=getRegisteredCurrencyAccount;function getAllRegisteredCurrencies(n,e){return __awaiter$t(this,void 0,void 0,function*(){const t=new anchor_1$k.AnchorProvider(n,null,null),r=(0,getMarketplaceProgram_1$1.getGmIDL)(e),o=new anchor_1$k.Program(r,e,t),a=[{dataSize:1686}],c=yield o.account.registeredCurrency.all(a),u=[];for(const en of c){const tn={mint:en.account.tokenMint,royalty:en.account.royalty,saVault:en.account.saCurrencyVault};u.push(tn)}return u})}pda_getters$2.getAllRegisteredCurrencies=getAllRegisteredCurrencies;function getOpenOrdersCounter(n,e,t){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.OPEN_ORDERS_COUNTER,n.toBuffer(),e.toBuffer()],t)})}pda_getters$2.getOpenOrdersCounter=getOpenOrdersCounter;function getFeeExemptAccount(n,e){return __awaiter$t(this,void 0,void 0,function*(){return web3_js_1$6.PublicKey.findProgramAddress([Seeds.FEE_EXEMPT_SEED,n.toBuffer()],e)})}pda_getters$2.getFeeExemptAccount=getFeeExemptAccount;function getAllFeeExemptAccounts(n,e){return __awaiter$t(this,void 0,void 0,function*(){const t=new anchor_1$k.AnchorProvider(n,null,null),r=(0,getMarketplaceProgram_1$1.getGmIDL)(e);return yield new anchor_1$k.Program(r,e,t).account.feeReduction.all()})}pda_getters$2.getAllFeeExemptAccounts=getAllFeeExemptAccounts;var pda_info_getters$1={},__awaiter$s=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(pda_info_getters$1,"__esModule",{value:!0});pda_info_getters$1.getRoyaltyReductionForStakingAccount=pda_info_getters$1.getRoyaltyReductionForUserAndMint=pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=pda_info_getters$1.getRegisteredCurrencyAccountInfo=pda_info_getters$1.getFeeExemptAccountInfo=pda_info_getters$1.getMarketVarsAccountInfo=void 0;const anchor_1$j=require$$0$1,pda_getters_1$8=pda_getters$2,getMarketplaceProgram_1=getMarketplaceProgram$1,atlas_staking_1$1=atlasStaking;function getMarketVarsAccountInfo(n,e){return __awaiter$s(this,void 0,void 0,function*(){const t=(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:n,programId:e}),[r]=yield(0,pda_getters_1$8.getMarketVarsAccount)(e);return yield t.account.marketVars.fetch(r)})}pda_info_getters$1.getMarketVarsAccountInfo=getMarketVarsAccountInfo;function getFeeExemptAccountInfo(n,e,t){return __awaiter$s(this,void 0,void 0,function*(){const r=(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:n,programId:t}),[o]=yield(0,pda_getters_1$8.getFeeExemptAccount)(e,t);return yield r.account.feeExempt.fetch(o)})}pda_info_getters$1.getFeeExemptAccountInfo=getFeeExemptAccountInfo;function getRegisteredCurrencyAccountInfo(n,e,t){return __awaiter$s(this,void 0,void 0,function*(){const r=(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:n,programId:e}),[o]=yield(0,pda_getters_1$8.getRegisteredCurrencyAccount)(e,t);return yield r.account.registeredCurrency.fetch(o)})}pda_info_getters$1.getRegisteredCurrencyAccountInfo=getRegisteredCurrencyAccountInfo;function getRegisteredCurrencyInfoFromPubkey(n,e,t){return __awaiter$s(this,void 0,void 0,function*(){return yield(0,getMarketplaceProgram_1.getMarketplaceProgram)({connection:n,programId:e}).account.registeredCurrency.fetch(t)})}pda_info_getters$1.getRegisteredCurrencyInfoFromPubkey=getRegisteredCurrencyInfoFromPubkey;function getRoyaltyReductionForUserAndMint(n,e,t,r,o,a){return __awaiter$s(this,void 0,void 0,function*(){let c=0;const u=yield getRegisteredCurrencyInfoFromPubkey(n,e,o),[en]=yield(0,atlas_staking_1$1.getStakingAccount)(t,r,a),tn=yield(0,atlas_staking_1$1.getStakingAccountInfo)(n,en,t);if(tn.unstakedTs.eq(new anchor_1$j.BN(0))){const nn=u.royaltyTiers;let sn=new anchor_1$j.BN(0);for(const fn of nn)tn.totalStake.gte(fn.stakeAmount)&&(sn=fn.discount);c=sn.toNumber()/1e4}return c})}pda_info_getters$1.getRoyaltyReductionForUserAndMint=getRoyaltyReductionForUserAndMint;function getRoyaltyReductionForStakingAccount(n,e,t,r,o){return __awaiter$s(this,void 0,void 0,function*(){let a=0;const c=yield getRegisteredCurrencyInfoFromPubkey(n,e,o),u=yield(0,atlas_staking_1$1.getStakingAccountInfo)(n,r,t);if(u.unstakedTs.eq(new anchor_1$j.BN(0))){const en=c.royaltyTiers;let tn=new anchor_1$j.BN(0);for(const nn of en)u.totalStake.gte(nn.stakeAmount)&&(tn=nn.discount);a=tn.toNumber()/1e4}return a})}pda_info_getters$1.getRoyaltyReductionForStakingAccount=getRoyaltyReductionForStakingAccount;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(order_getters,n),t(pda_getters$2,n),t(pda_info_getters$1,n),t(seeds$1,n)})(pda_getters$3);var createOrderCounter={},utils={},gmHelper={},__awaiter$r=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(gmHelper,"__esModule",{value:!0});gmHelper.convertDecimalPriceToBn=gmHelper.initializeAtaForMint=gmHelper.getOrderSide=void 0;const anchor_1$i=require$$0$1,token_1$5=token$1,spl_token_1$2=require$$1$1,getOrderSide=n=>JSON.stringify(n.orderSide)===JSON.stringify({buy:{}})?"BuySide":"SellSide";gmHelper.getOrderSide=getOrderSide;function initializeAtaForMint({mint:n,owner:e,connection:t}){return __awaiter$r(this,void 0,void 0,function*(){const r=[],o=yield(0,token_1$5.associatedAddress)({mint:n,owner:e});return(yield t.getAccountInfo(o))===null&&r.push(spl_token_1$2.Token.createAssociatedTokenAccountInstruction(spl_token_1$2.ASSOCIATED_TOKEN_PROGRAM_ID,spl_token_1$2.TOKEN_PROGRAM_ID,n,o,e,e)),{account:o,instructions:r}})}gmHelper.initializeAtaForMint=initializeAtaForMint;const convertDecimalPriceToBn=(n,e)=>new anchor_1$i.BN(n*Math.pow(10,e));gmHelper.convertDecimalPriceToBn=convertDecimalPriceToBn;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(getMarketplaceProgram$1,n),t(gmHelper,n)})(utils);var __awaiter$q=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(createOrderCounter,"__esModule",{value:!0});createOrderCounter.createOrderCounterInstruction=void 0;const utils_1$l=utils;function createOrderCounterInstruction({connection:n,payer:e,initializerMainAccount:t,depositMint:r,programId:o}){return __awaiter$q(this,void 0,void 0,function*(){return yield(0,utils_1$l.getMarketplaceProgram)({connection:n,programId:o}).methods.initializeOpenOrdersCounter().accounts({payer:e,user:t,depositMint:r}).instruction()})}createOrderCounter.createOrderCounterInstruction=createOrderCounterInstruction;var __awaiter$p=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(cancelOrder,"__esModule",{value:!0});cancelOrder.createCancelOrderInstruction=void 0;const anchor_1$h=require$$0$1,pda_getters_1$7=pda_getters$3,createOrderCounter_1$1=createOrderCounter,utils_1$k=utils,util_1$7=util;function createCancelOrderInstruction({connection:n,orderInitializer:e,orderAccount:t,programId:r,payer:o=e}){return __awaiter$p(this,void 0,void 0,function*(){const a=(0,utils_1$k.getMarketplaceProgram)({connection:n,programId:r}),c={signers:[],instructions:[]},u=yield a.account.orderAccount.fetch(t),tn=(0,utils_1$k.getOrderSide)(u)==="SellSide"?u.assetMint:u.currencyMint;let nn=null,sn=null;const fn=yield(0,util_1$7.getTokenAccount)(n,e,tn);nn=fn.tokenAccount,"createInstruction"in fn&&c.instructions.push(...fn.createInstruction),nn instanceof anchor_1$h.web3.Keypair?(sn=nn.publicKey,c.signers.push(nn)):sn=nn;const[dn]=yield(0,pda_getters_1$7.getOpenOrdersCounter)(e,tn,r);if((yield n.getAccountInfo(dn))===null){const pn=yield(0,createOrderCounter_1$1.createOrderCounterInstruction)({connection:n,payer:o,initializerMainAccount:e,depositMint:tn,programId:r});c.instructions.push(pn)}const ln=yield a.methods.processCancel().accounts({signer:o,depositMint:tn,orderInitializer:e,initializerDepositTokenAccount:sn,orderAccount:t}).instruction();return c.instructions.push(ln),c})}cancelOrder.createCancelOrderInstruction=createCancelOrderInstruction;var createOrder={},__awaiter$o=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(createOrder,"__esModule",{value:!0});createOrder.createInitializeSellOrderInstruction=createOrder.createInitializeBuyOrderInstruction=void 0;const anchor_1$g=require$$0$1,utils_1$j=utils,util_1$6=util,pda_getters_1$6=pda_getters$3,createOrderCounter_1=createOrderCounter,util_2=util;function createInitializeBuyOrderInstruction({connection:n,initializerMainAccount:e,initializerDepositTokenAccount:t,price:r,originationQty:o,depositMint:a,receiveMint:c,programId:u}){return __awaiter$o(this,void 0,void 0,function*(){const en=(0,utils_1$j.getMarketplaceProgram)({connection:n,programId:u}),tn={signers:[],instructions:[]};let nn=null,sn=null;const fn=yield(0,util_1$6.getTokenAccount)(n,e,c);nn=fn.tokenAccount,"createInstruction"in fn&&tn.instructions.push(...fn.createInstruction),nn instanceof anchor_1$g.web3.Keypair?(sn=nn.publicKey,tn.signers.push(nn)):sn=nn;const[dn]=yield(0,pda_getters_1$6.getOpenOrdersCounter)(e,a,u);if((yield n.getAccountInfo(dn))===null){const Sn=yield(0,createOrderCounter_1.createOrderCounterInstruction)({connection:n,payer:e,initializerMainAccount:e,depositMint:a,programId:u});tn.instructions.push(Sn)}const ln=anchor_1$g.web3.Keypair.generate();tn.signers.push(ln);const pn=yield(0,util_2.createAccountInstruction)(n,e,ln,u);tn.instructions.push(pn);const $n=yield en.methods.processInitializeBuy(r,new anchor_1$g.BN(o)).accounts({orderInitializer:e,initializerDepositTokenAccount:t,initializerReceiveTokenAccount:sn,orderAccount:ln.publicKey,depositMint:a,receiveMint:c}).signers([ln]).instruction();return tn.instructions.push($n),{orderAccount:ln.publicKey,ixSet:tn}})}createOrder.createInitializeBuyOrderInstruction=createInitializeBuyOrderInstruction;function createInitializeSellOrderInstruction({connection:n,initializerMainAccount:e,initializerDepositTokenAccount:t,price:r,originationQty:o,depositMint:a,receiveMint:c,programId:u}){return __awaiter$o(this,void 0,void 0,function*(){const en=(0,utils_1$j.getMarketplaceProgram)({connection:n,programId:u}),tn={signers:[],instructions:[]};let nn=null,sn=null;const fn=yield(0,util_1$6.getTokenAccount)(n,e,c);nn=fn.tokenAccount,"createInstruction"in fn&&tn.instructions.push(...fn.createInstruction),nn instanceof anchor_1$g.web3.Keypair?(sn=nn.publicKey,tn.signers.push(nn)):sn=nn;const[dn]=yield(0,pda_getters_1$6.getOpenOrdersCounter)(e,a,u);if((yield n.getAccountInfo(dn))===null){const Sn=yield(0,createOrderCounter_1.createOrderCounterInstruction)({connection:n,payer:e,initializerMainAccount:e,depositMint:a,programId:u});tn.instructions.push(Sn)}const ln=anchor_1$g.web3.Keypair.generate();tn.signers.push(ln);const pn=yield(0,util_2.createAccountInstruction)(n,e,ln,u);tn.instructions.push(pn);const $n=yield en.methods.processInitializeSell(r,new anchor_1$g.BN(o)).accounts({orderInitializer:e,initializerDepositTokenAccount:t,initializerReceiveTokenAccount:sn,orderAccount:ln.publicKey,depositMint:a,receiveMint:c}).signers([ln]).instruction();return tn.instructions.push($n),{orderAccount:ln.publicKey,ixSet:tn}})}createOrder.createInitializeSellOrderInstruction=createInitializeSellOrderInstruction;var deregisterCurrency={},__awaiter$n=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(deregisterCurrency,"__esModule",{value:!0});deregisterCurrency.createDeregisterCurrencyInstruction=void 0;const utils_1$i=utils;function createDeregisterCurrencyInstruction({connection:n,updateAuthorityAccount:e,currencyMint:t,programId:r}){return __awaiter$n(this,void 0,void 0,function*(){const a=[yield(0,utils_1$i.getMarketplaceProgram)({connection:n,programId:r}).methods.deregisterCurrency().accounts({updateAuthorityAccount:e,currencyMint:t}).instruction()];return{accounts:[],instructions:a}})}deregisterCurrency.createDeregisterCurrencyInstruction=createDeregisterCurrencyInstruction;var exchangeOrder={},models={},Order={},big={exports:{}};(function(n){(function(e){var t,r=20,o=1,a=1e6,c=1e6,u=-7,en=21,tn=!1,nn="[big.js] ",sn=nn+"Invalid ",fn=sn+"decimal places",dn=sn+"rounding mode",hn=nn+"Division by zero",ln={},pn=void 0,$n=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Sn(){function Tn(kn){var Pn=this;if(!(Pn instanceof Tn))return kn===pn?Sn():new Tn(kn);if(kn instanceof Tn)Pn.s=kn.s,Pn.e=kn.e,Pn.c=kn.c.slice();else{if(typeof kn!="string"){if(Tn.strict===!0&&typeof kn!="bigint")throw TypeError(sn+"value");kn=kn===0&&1/kn<0?"-0":String(kn)}yn(Pn,kn)}Pn.constructor=Tn}return Tn.prototype=ln,Tn.DP=r,Tn.RM=o,Tn.NE=u,Tn.PE=en,Tn.strict=tn,Tn.roundDown=0,Tn.roundHalfUp=1,Tn.roundHalfEven=2,Tn.roundUp=3,Tn}function yn(Tn,kn){var Pn,Dn,Kn;if(!$n.test(kn))throw Error(sn+"number");for(Tn.s=kn.charAt(0)=="-"?(kn=kn.slice(1),-1):1,(Pn=kn.indexOf("."))>-1&&(kn=kn.replace(".","")),(Dn=kn.search(/e/i))>0?(Pn<0&&(Pn=Dn),Pn+=+kn.slice(Dn+1),kn=kn.substring(0,Dn)):Pn<0&&(Pn=kn.length),Kn=kn.length,Dn=0;Dn<Kn&&kn.charAt(Dn)=="0";)++Dn;if(Dn==Kn)Tn.c=[Tn.e=0];else{for(;Kn>0&&kn.charAt(--Kn)=="0";);for(Tn.e=Pn-Dn-1,Tn.c=[],Pn=0;Dn<=Kn;)Tn.c[Pn++]=+kn.charAt(Dn++)}return Tn}function In(Tn,kn,Pn,Dn){var Kn=Tn.c;if(Pn===pn&&(Pn=Tn.constructor.RM),Pn!==0&&Pn!==1&&Pn!==2&&Pn!==3)throw Error(dn);if(kn<1)Dn=Pn===3&&(Dn||!!Kn[0])||kn===0&&(Pn===1&&Kn[0]>=5||Pn===2&&(Kn[0]>5||Kn[0]===5&&(Dn||Kn[1]!==pn))),Kn.length=1,Dn?(Tn.e=Tn.e-kn+1,Kn[0]=1):Kn[0]=Tn.e=0;else if(kn<Kn.length){if(Dn=Pn===1&&Kn[kn]>=5||Pn===2&&(Kn[kn]>5||Kn[kn]===5&&(Dn||Kn[kn+1]!==pn||Kn[kn-1]&1))||Pn===3&&(Dn||!!Kn[0]),Kn.length=kn,Dn){for(;++Kn[--kn]>9;)if(Kn[kn]=0,kn===0){++Tn.e,Kn.unshift(1);break}}for(kn=Kn.length;!Kn[--kn];)Kn.pop()}return Tn}function An(Tn,kn,Pn){var Dn=Tn.e,Kn=Tn.c.join(""),Hn=Kn.length;if(kn)Kn=Kn.charAt(0)+(Hn>1?"."+Kn.slice(1):"")+(Dn<0?"e":"e+")+Dn;else if(Dn<0){for(;++Dn;)Kn="0"+Kn;Kn="0."+Kn}else if(Dn>0)if(++Dn>Hn)for(Dn-=Hn;Dn--;)Kn+="0";else Dn<Hn&&(Kn=Kn.slice(0,Dn)+"."+Kn.slice(Dn));else Hn>1&&(Kn=Kn.charAt(0)+"."+Kn.slice(1));return Tn.s<0&&Pn?"-"+Kn:Kn}ln.abs=function(){var Tn=new this.constructor(this);return Tn.s=1,Tn},ln.cmp=function(Tn){var kn,Pn=this,Dn=Pn.c,Kn=(Tn=new Pn.constructor(Tn)).c,Hn=Pn.s,jn=Tn.s,Cn=Pn.e,mn=Tn.e;if(!Dn[0]||!Kn[0])return Dn[0]?Hn:Kn[0]?-jn:0;if(Hn!=jn)return Hn;if(kn=Hn<0,Cn!=mn)return Cn>mn^kn?1:-1;for(jn=(Cn=Dn.length)<(mn=Kn.length)?Cn:mn,Hn=-1;++Hn<jn;)if(Dn[Hn]!=Kn[Hn])return Dn[Hn]>Kn[Hn]^kn?1:-1;return Cn==mn?0:Cn>mn^kn?1:-1},ln.div=function(Tn){var kn=this,Pn=kn.constructor,Dn=kn.c,Kn=(Tn=new Pn(Tn)).c,Hn=kn.s==Tn.s?1:-1,jn=Pn.DP;if(jn!==~~jn||jn<0||jn>a)throw Error(fn);if(!Kn[0])throw Error(hn);if(!Dn[0])return Tn.s=Hn,Tn.c=[Tn.e=0],Tn;var Cn,mn,_n,vn,On,Nn=Kn.slice(),Un=Cn=Kn.length,zn=Dn.length,Bn=Dn.slice(0,Cn),En=Bn.length,Mn=Tn,Zn=Mn.c=[],Sr=0,$r=jn+(Mn.e=kn.e-Tn.e)+1;for(Mn.s=Hn,Hn=$r<0?0:$r,Nn.unshift(0);En++<Cn;)Bn.push(0);do{for(_n=0;_n<10;_n++){if(Cn!=(En=Bn.length))vn=Cn>En?1:-1;else for(On=-1,vn=0;++On<Cn;)if(Kn[On]!=Bn[On]){vn=Kn[On]>Bn[On]?1:-1;break}if(vn<0){for(mn=En==Cn?Kn:Nn;En;){if(Bn[--En]<mn[En]){for(On=En;On&&!Bn[--On];)Bn[On]=9;--Bn[On],Bn[En]+=10}Bn[En]-=mn[En]}for(;!Bn[0];)Bn.shift()}else break}Zn[Sr++]=vn?_n:++_n,Bn[0]&&vn?Bn[En]=Dn[Un]||0:Bn=[Dn[Un]]}while((Un++<zn||Bn[0]!==pn)&&Hn--);return!Zn[0]&&Sr!=1&&(Zn.shift(),Mn.e--,$r--),Sr>$r&&In(Mn,$r,Pn.RM,Bn[0]!==pn),Mn},ln.eq=function(Tn){return this.cmp(Tn)===0},ln.gt=function(Tn){return this.cmp(Tn)>0},ln.gte=function(Tn){return this.cmp(Tn)>-1},ln.lt=function(Tn){return this.cmp(Tn)<0},ln.lte=function(Tn){return this.cmp(Tn)<1},ln.minus=ln.sub=function(Tn){var kn,Pn,Dn,Kn,Hn=this,jn=Hn.constructor,Cn=Hn.s,mn=(Tn=new jn(Tn)).s;if(Cn!=mn)return Tn.s=-mn,Hn.plus(Tn);var _n=Hn.c.slice(),vn=Hn.e,On=Tn.c,Nn=Tn.e;if(!_n[0]||!On[0])return On[0]?Tn.s=-mn:_n[0]?Tn=new jn(Hn):Tn.s=1,Tn;if(Cn=vn-Nn){for((Kn=Cn<0)?(Cn=-Cn,Dn=_n):(Nn=vn,Dn=On),Dn.reverse(),mn=Cn;mn--;)Dn.push(0);Dn.reverse()}else for(Pn=((Kn=_n.length<On.length)?_n:On).length,Cn=mn=0;mn<Pn;mn++)if(_n[mn]!=On[mn]){Kn=_n[mn]<On[mn];break}if(Kn&&(Dn=_n,_n=On,On=Dn,Tn.s=-Tn.s),(mn=(Pn=On.length)-(kn=_n.length))>0)for(;mn--;)_n[kn++]=0;for(mn=kn;Pn>Cn;){if(_n[--Pn]<On[Pn]){for(kn=Pn;kn&&!_n[--kn];)_n[kn]=9;--_n[kn],_n[Pn]+=10}_n[Pn]-=On[Pn]}for(;_n[--mn]===0;)_n.pop();for(;_n[0]===0;)_n.shift(),--Nn;return _n[0]||(Tn.s=1,_n=[Nn=0]),Tn.c=_n,Tn.e=Nn,Tn},ln.mod=function(Tn){var kn,Pn=this,Dn=Pn.constructor,Kn=Pn.s,Hn=(Tn=new Dn(Tn)).s;if(!Tn.c[0])throw Error(hn);return Pn.s=Tn.s=1,kn=Tn.cmp(Pn)==1,Pn.s=Kn,Tn.s=Hn,kn?new Dn(Pn):(Kn=Dn.DP,Hn=Dn.RM,Dn.DP=Dn.RM=0,Pn=Pn.div(Tn),Dn.DP=Kn,Dn.RM=Hn,this.minus(Pn.times(Tn)))},ln.neg=function(){var Tn=new this.constructor(this);return Tn.s=-Tn.s,Tn},ln.plus=ln.add=function(Tn){var kn,Pn,Dn,Kn=this,Hn=Kn.constructor;if(Tn=new Hn(Tn),Kn.s!=Tn.s)return Tn.s=-Tn.s,Kn.minus(Tn);var jn=Kn.e,Cn=Kn.c,mn=Tn.e,_n=Tn.c;if(!Cn[0]||!_n[0])return _n[0]||(Cn[0]?Tn=new Hn(Kn):Tn.s=Kn.s),Tn;if(Cn=Cn.slice(),kn=jn-mn){for(kn>0?(mn=jn,Dn=_n):(kn=-kn,Dn=Cn),Dn.reverse();kn--;)Dn.push(0);Dn.reverse()}for(Cn.length-_n.length<0&&(Dn=_n,_n=Cn,Cn=Dn),kn=_n.length,Pn=0;kn;Cn[kn]%=10)Pn=(Cn[--kn]=Cn[kn]+_n[kn]+Pn)/10|0;for(Pn&&(Cn.unshift(Pn),++mn),kn=Cn.length;Cn[--kn]===0;)Cn.pop();return Tn.c=Cn,Tn.e=mn,Tn},ln.pow=function(Tn){var kn=this,Pn=new kn.constructor("1"),Dn=Pn,Kn=Tn<0;if(Tn!==~~Tn||Tn<-c||Tn>c)throw Error(sn+"exponent");for(Kn&&(Tn=-Tn);Tn&1&&(Dn=Dn.times(kn)),Tn>>=1,!!Tn;)kn=kn.times(kn);return Kn?Pn.div(Dn):Dn},ln.prec=function(Tn,kn){if(Tn!==~~Tn||Tn<1||Tn>a)throw Error(sn+"precision");return In(new this.constructor(this),Tn,kn)},ln.round=function(Tn,kn){if(Tn===pn)Tn=0;else if(Tn!==~~Tn||Tn<-a||Tn>a)throw Error(fn);return In(new this.constructor(this),Tn+this.e+1,kn)},ln.sqrt=function(){var Tn,kn,Pn,Dn=this,Kn=Dn.constructor,Hn=Dn.s,jn=Dn.e,Cn=new Kn("0.5");if(!Dn.c[0])return new Kn(Dn);if(Hn<0)throw Error(nn+"No square root");Hn=Math.sqrt(Dn+""),Hn===0||Hn===1/0?(kn=Dn.c.join(""),kn.length+jn&1||(kn+="0"),Hn=Math.sqrt(kn),jn=((jn+1)/2|0)-(jn<0||jn&1),Tn=new Kn((Hn==1/0?"5e":(Hn=Hn.toExponential()).slice(0,Hn.indexOf("e")+1))+jn)):Tn=new Kn(Hn+""),jn=Tn.e+(Kn.DP+=4);do Pn=Tn,Tn=Cn.times(Pn.plus(Dn.div(Pn)));while(Pn.c.slice(0,jn).join("")!==Tn.c.slice(0,jn).join(""));return In(Tn,(Kn.DP-=4)+Tn.e+1,Kn.RM)},ln.times=ln.mul=function(Tn){var kn,Pn=this,Dn=Pn.constructor,Kn=Pn.c,Hn=(Tn=new Dn(Tn)).c,jn=Kn.length,Cn=Hn.length,mn=Pn.e,_n=Tn.e;if(Tn.s=Pn.s==Tn.s?1:-1,!Kn[0]||!Hn[0])return Tn.c=[Tn.e=0],Tn;for(Tn.e=mn+_n,jn<Cn&&(kn=Kn,Kn=Hn,Hn=kn,_n=jn,jn=Cn,Cn=_n),kn=new Array(_n=jn+Cn);_n--;)kn[_n]=0;for(mn=Cn;mn--;){for(Cn=0,_n=jn+mn;_n>mn;)Cn=kn[_n]+Hn[mn]*Kn[_n-mn-1]+Cn,kn[_n--]=Cn%10,Cn=Cn/10|0;kn[_n]=Cn}for(Cn?++Tn.e:kn.shift(),mn=kn.length;!kn[--mn];)kn.pop();return Tn.c=kn,Tn},ln.toExponential=function(Tn,kn){var Pn=this,Dn=Pn.c[0];if(Tn!==pn){if(Tn!==~~Tn||Tn<0||Tn>a)throw Error(fn);for(Pn=In(new Pn.constructor(Pn),++Tn,kn);Pn.c.length<Tn;)Pn.c.push(0)}return An(Pn,!0,!!Dn)},ln.toFixed=function(Tn,kn){var Pn=this,Dn=Pn.c[0];if(Tn!==pn){if(Tn!==~~Tn||Tn<0||Tn>a)throw Error(fn);for(Pn=In(new Pn.constructor(Pn),Tn+Pn.e+1,kn),Tn=Tn+Pn.e+1;Pn.c.length<Tn;)Pn.c.push(0)}return An(Pn,!1,!!Dn)},ln.toJSON=ln.toString=function(){var Tn=this,kn=Tn.constructor;return An(Tn,Tn.e<=kn.NE||Tn.e>=kn.PE,!!Tn.c[0])},ln.toNumber=function(){var Tn=Number(An(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(Tn.toString()))throw Error(nn+"Imprecise conversion");return Tn},ln.toPrecision=function(Tn,kn){var Pn=this,Dn=Pn.constructor,Kn=Pn.c[0];if(Tn!==pn){if(Tn!==~~Tn||Tn<1||Tn>a)throw Error(sn+"precision");for(Pn=In(new Dn(Pn),Tn,kn);Pn.c.length<Tn;)Pn.c.push(0)}return An(Pn,Tn<=Pn.e||Pn.e<=Dn.NE||Pn.e>=Dn.PE,!!Kn)},ln.valueOf=function(){var Tn=this,kn=Tn.constructor;if(kn.strict===!0)throw Error(nn+"valueOf disallowed");return An(Tn,Tn.e<=kn.NE||Tn.e>=kn.PE,!0)},t=Sn(),t.default=t.Big=t,n.exports?n.exports=t:e.Big=t})(commonjsGlobal)})(big);function die(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];throw new Error(typeof n=="number"?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var mockGlobal={};function getGlobal(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof dist$3.global<"u"?dist$3.global:typeof self<"u"?self:mockGlobal}var assign$1=Object.assign,getDescriptor=Object.getOwnPropertyDescriptor,defineProperty=Object.defineProperty,objectPrototype=Object.prototype,EMPTY_ARRAY=[];Object.freeze(EMPTY_ARRAY);var EMPTY_OBJECT={};Object.freeze(EMPTY_OBJECT);var hasProxy=typeof Proxy<"u",plainObjectString=Object.toString();function assertProxies(){hasProxy||die("Proxy not available")}function once(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var noop$1=function n(){};function isFunction(n){return typeof n=="function"}function isStringish(n){var e=typeof n;switch(e){case"string":case"symbol":case"number":return!0}return!1}function isObject(n){return n!==null&&typeof n=="object"}function isPlainObject(n){if(!isObject(n))return!1;var e=Object.getPrototypeOf(n);if(e==null)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t.toString()===plainObjectString}function isGenerator(n){var e=n==null?void 0:n.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function addHiddenProp$1(n,e,t){defineProperty(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function addHiddenFinalProp(n,e,t){defineProperty(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function createInstanceofPredicate(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(r){return isObject(r)&&r[t]===!0}}function isES6Map(n){return n instanceof Map}function isES6Set(n){return n instanceof Set}var hasGetOwnPropertySymbols=typeof Object.getOwnPropertySymbols<"u";function getPlainObjectKeys(n){var e=Object.keys(n);if(!hasGetOwnPropertySymbols)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(r){return objectPrototype.propertyIsEnumerable.call(n,r)})):e}var ownKeys=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:hasGetOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function toPrimitive(n){return n===null?null:typeof n=="object"?""+n:n}function hasProp(n,e){return objectPrototype.hasOwnProperty.call(n,e)}var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function n(e){var t={};return ownKeys(e).forEach(function(r){t[r]=getDescriptor(e,r)}),t};function _defineProperties(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,_toPropertyKey(r.key),r)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function _extends(){return _extends=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},_extends.apply(this,arguments)}function _inheritsLoose(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,_setPrototypeOf(n,e)}function _setPrototypeOf(n,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},_setPrototypeOf(n,e)}function _assertThisInitialized(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _unsupportedIterableToArray(n,e){if(!!n){if(typeof n=="string")return _arrayLikeToArray(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _arrayLikeToArray(n,e)}}function _arrayLikeToArray(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function _createForOfIteratorHelperLoose(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=_unsupportedIterableToArray(n))||e&&n&&typeof n.length=="number"){t&&(n=t);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _toPropertyKey(n){var e=_toPrimitive(n,"string");return typeof e=="symbol"?e:String(e)}var storedAnnotationsSymbol=Symbol("mobx-stored-annotations");function createDecoratorAnnotation(n){function e(t,r){if(is20223Decorator(r))return n.decorate_20223_(t,r);storeAnnotation(t,r,n)}return Object.assign(e,n)}function storeAnnotation(n,e,t){hasProp(n,storedAnnotationsSymbol)||addHiddenProp$1(n,storedAnnotationsSymbol,_extends({},n[storedAnnotationsSymbol])),isOverride(t)||(n[storedAnnotationsSymbol][e]=t)}function collectStoredAnnotations(n){return hasProp(n,storedAnnotationsSymbol)||addHiddenProp$1(n,storedAnnotationsSymbol,_extends({},n[storedAnnotationsSymbol])),n[storedAnnotationsSymbol]}function is20223Decorator(n){return typeof n=="object"&&typeof n.kind=="string"}var $mobx=Symbol("mobx administration"),Atom=function(){function n(t){t===void 0&&(t="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.batchId_=void 0,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t,this.batchId_=globalState.inBatch?globalState.batchId:NaN}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return reportObserved(this)},e.reportChanged=function(){(!globalState.inBatch||this.batchId_!==globalState.batchId)&&(globalState.stateVersion=globalState.stateVersion<Number.MAX_SAFE_INTEGER?globalState.stateVersion+1:Number.MIN_SAFE_INTEGER,this.batchId_=NaN),startBatch(),propagateChanged(this),endBatch()},e.toString=function(){return this.name_},n}(),isAtom=createInstanceofPredicate("Atom",Atom);function createAtom(n,e,t){e===void 0&&(e=noop$1),t===void 0&&(t=noop$1);var r=new Atom(n);return e!==noop$1&&onBecomeObserved(r,e),t!==noop$1&&onBecomeUnobserved(r,t),r}function identityComparer(n,e){return n===e}function structuralComparer(n,e){return deepEqual(n,e)}function shallowComparer(n,e){return deepEqual(n,e,1)}function defaultComparer(n,e){return Object.is?Object.is(n,e):n===e?n!==0||1/n===1/e:n!==n&&e!==e}var comparer={identity:identityComparer,structural:structuralComparer,default:defaultComparer,shallow:shallowComparer};function deepEnhancer(n,e,t){return isObservable(n)?n:Array.isArray(n)?observable.array(n,{name:t}):isPlainObject(n)?observable.object(n,void 0,{name:t}):isES6Map(n)?observable.map(n,{name:t}):isES6Set(n)?observable.set(n,{name:t}):typeof n=="function"&&!isAction(n)&&!isFlow(n)?isGenerator(n)?flow(n):autoAction(t,n):n}function shallowEnhancer(n,e,t){if(n==null||isObservableObject(n)||isObservableArray(n)||isObservableMap(n)||isObservableSet(n))return n;if(Array.isArray(n))return observable.array(n,{name:t,deep:!1});if(isPlainObject(n))return observable.object(n,void 0,{name:t,deep:!1});if(isES6Map(n))return observable.map(n,{name:t,deep:!1});if(isES6Set(n))return observable.set(n,{name:t,deep:!1})}function referenceEnhancer(n){return n}function refStructEnhancer(n,e){return deepEqual(n,e)?e:n}var OVERRIDE="override",override=createDecoratorAnnotation({annotationType_:OVERRIDE,make_,extend_,decorate_20223_});function isOverride(n){return n.annotationType_===OVERRIDE}function make_(n,e){return 0}function extend_(n,e,t,r){die("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function decorate_20223_(n,e){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function createActionAnnotation(n,e){return{annotationType_:n,options_:e,make_:make_$1,extend_:extend_$1,decorate_20223_:decorate_20223_$1}}function make_$1(n,e,t,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(n,e,t,!1)===null?0:1;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if(isAction(t.value))return 1;var a=createActionDescriptor(n,this,e,t,!1);return defineProperty(r,e,a),2}function extend_$1(n,e,t,r){var o=createActionDescriptor(n,this,e,t);return n.defineProperty_(e,o,r)}function decorate_20223_$1(n,e){var t=e.kind,r=e.name,o=e.addInitializer,a=this,c=function(tn){var nn,sn,fn,dn;return createAction((nn=(sn=a.options_)==null?void 0:sn.name)!=null?nn:r.toString(),tn,(fn=(dn=a.options_)==null?void 0:dn.autoAction)!=null?fn:!1)};if(t=="field"){o(function(){storeAnnotation(this,r,a)});return}if(t=="method"){var u;return isAction(n)||(n=c(n)),(u=this.options_)!=null&&u.bound&&o(function(){var en=this,tn=en[r].bind(en);tn.isMobxAction=!0,en[r]=tn}),n}die("Cannot apply '"+a.annotationType_+"' to '"+String(r)+"' (kind: "+t+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function assertActionDescriptor(n,e,t,r){e.annotationType_,r.value}function createActionDescriptor(n,e,t,r,o){var a,c,u,en,tn,nn,sn;o===void 0&&(o=globalState.safeDescriptors),assertActionDescriptor(n,e,t,r);var fn=r.value;if((a=e.options_)!=null&&a.bound){var dn;fn=fn.bind((dn=n.proxy_)!=null?dn:n.target_)}return{value:createAction((c=(u=e.options_)==null?void 0:u.name)!=null?c:t.toString(),fn,(en=(tn=e.options_)==null?void 0:tn.autoAction)!=null?en:!1,(nn=e.options_)!=null&&nn.bound?(sn=n.proxy_)!=null?sn:n.target_:void 0),configurable:o?n.isPlainObject_:!0,enumerable:!1,writable:!o}}function createFlowAnnotation(n,e){return{annotationType_:n,options_:e,make_:make_$2,extend_:extend_$2,decorate_20223_:decorate_20223_$2}}function make_$2(n,e,t,r){var o;if(r===n.target_)return this.extend_(n,e,t,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!hasProp(n.target_,e)||!isFlow(n.target_[e]))&&this.extend_(n,e,t,!1)===null)return 0;if(isFlow(t.value))return 1;var a=createFlowDescriptor(n,this,e,t,!1,!1);return defineProperty(r,e,a),2}function extend_$2(n,e,t,r){var o,a=createFlowDescriptor(n,this,e,t,(o=this.options_)==null?void 0:o.bound);return n.defineProperty_(e,a,r)}function decorate_20223_$2(n,e){var t,r=e.name,o=e.addInitializer;return isFlow(n)||(n=flow(n)),(t=this.options_)!=null&&t.bound&&o(function(){var a=this,c=a[r].bind(a);c.isMobXFlow=!0,a[r]=c}),n}function assertFlowDescriptor(n,e,t,r){e.annotationType_,r.value}function createFlowDescriptor(n,e,t,r,o,a){a===void 0&&(a=globalState.safeDescriptors),assertFlowDescriptor(n,e,t,r);var c=r.value;if(isFlow(c)||(c=flow(c)),o){var u;c=c.bind((u=n.proxy_)!=null?u:n.target_),c.isMobXFlow=!0}return{value:c,configurable:a?n.isPlainObject_:!0,enumerable:!1,writable:!a}}function createComputedAnnotation(n,e){return{annotationType_:n,options_:e,make_:make_$3,extend_:extend_$3,decorate_20223_:decorate_20223_$3}}function make_$3(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function extend_$3(n,e,t,r){return assertComputedDescriptor(n,this,e,t),n.defineComputedProperty_(e,_extends({},this.options_,{get:t.get,set:t.set}),r)}function decorate_20223_$3(n,e){var t=this,r=e.name,o=e.addInitializer;return o(function(){var a=asObservableObject(this)[$mobx],c=_extends({},t.options_,{get:n,context:this});c.name||(c.name="ObservableObject."+r.toString()),a.values_.set(r,new ComputedValue(c))}),function(){return this[$mobx].getObservablePropValue_(r)}}function assertComputedDescriptor(n,e,t,r){e.annotationType_,r.get}function createObservableAnnotation(n,e){return{annotationType_:n,options_:e,make_:make_$4,extend_:extend_$4,decorate_20223_:decorate_20223_$4}}function make_$4(n,e,t){return this.extend_(n,e,t,!1)===null?0:1}function extend_$4(n,e,t,r){var o,a;return assertObservableDescriptor(n,this),n.defineObservableProperty_(e,t.value,(o=(a=this.options_)==null?void 0:a.enhancer)!=null?o:deepEnhancer,r)}function decorate_20223_$4(n,e){var t=this,r=e.kind,o=e.name,a=new WeakSet;function c(u,en){var tn,nn,sn=asObservableObject(u)[$mobx],fn=new ObservableValue(en,(tn=(nn=t.options_)==null?void 0:nn.enhancer)!=null?tn:deepEnhancer,"ObservableObject."+o.toString(),!1);sn.values_.set(o,fn),a.add(u)}if(r=="accessor")return{get:function(){return a.has(this)||c(this,n.get.call(this)),this[$mobx].getObservablePropValue_(o)},set:function(en){return a.has(this)||c(this,en),this[$mobx].setObservablePropValue_(o,en)},init:function(en){return a.has(this)||c(this,en),en}}}function assertObservableDescriptor(n,e,t,r){e.annotationType_}var AUTO="true",autoAnnotation=createAutoAnnotation();function createAutoAnnotation(n){return{annotationType_:AUTO,options_:n,make_:make_$5,extend_:extend_$5,decorate_20223_:decorate_20223_$5}}function make_$5(n,e,t,r){var o,a;if(t.get)return computed.make_(n,e,t,r);if(t.set){var c=createAction(e.toString(),t.set);return r===n.target_?n.defineProperty_(e,{configurable:globalState.safeDescriptors?n.isPlainObject_:!0,set:c})===null?0:2:(defineProperty(r,e,{configurable:!0,set:c}),2)}if(r!==n.target_&&typeof t.value=="function"){var u;if(isGenerator(t.value)){var en,tn=(en=this.options_)!=null&&en.autoBind?flow.bound:flow;return tn.make_(n,e,t,r)}var nn=(u=this.options_)!=null&&u.autoBind?autoAction.bound:autoAction;return nn.make_(n,e,t,r)}var sn=((o=this.options_)==null?void 0:o.deep)===!1?observable.ref:observable;if(typeof t.value=="function"&&(a=this.options_)!=null&&a.autoBind){var fn;t.value=t.value.bind((fn=n.proxy_)!=null?fn:n.target_)}return sn.make_(n,e,t,r)}function extend_$5(n,e,t,r){var o,a;if(t.get)return computed.extend_(n,e,t,r);if(t.set)return n.defineProperty_(e,{configurable:globalState.safeDescriptors?n.isPlainObject_:!0,set:createAction(e.toString(),t.set)},r);if(typeof t.value=="function"&&(o=this.options_)!=null&&o.autoBind){var c;t.value=t.value.bind((c=n.proxy_)!=null?c:n.target_)}var u=((a=this.options_)==null?void 0:a.deep)===!1?observable.ref:observable;return u.extend_(n,e,t,r)}function decorate_20223_$5(n,e){die("'"+this.annotationType_+"' cannot be used as a decorator")}var OBSERVABLE="observable",OBSERVABLE_REF="observable.ref",OBSERVABLE_SHALLOW="observable.shallow",OBSERVABLE_STRUCT="observable.struct",defaultCreateObservableOptions={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(defaultCreateObservableOptions);function asCreateObservableOptions(n){return n||defaultCreateObservableOptions}var observableAnnotation=createObservableAnnotation(OBSERVABLE),observableRefAnnotation=createObservableAnnotation(OBSERVABLE_REF,{enhancer:referenceEnhancer}),observableShallowAnnotation=createObservableAnnotation(OBSERVABLE_SHALLOW,{enhancer:shallowEnhancer}),observableStructAnnotation=createObservableAnnotation(OBSERVABLE_STRUCT,{enhancer:refStructEnhancer}),observableDecoratorAnnotation=createDecoratorAnnotation(observableAnnotation);function getEnhancerFromOptions(n){return n.deep===!0?deepEnhancer:n.deep===!1?referenceEnhancer:getEnhancerFromAnnotation(n.defaultDecorator)}function getAnnotationFromOptions(n){var e;return n?(e=n.defaultDecorator)!=null?e:createAutoAnnotation(n):void 0}function getEnhancerFromAnnotation(n){var e,t;return n&&(e=(t=n.options_)==null?void 0:t.enhancer)!=null?e:deepEnhancer}function createObservable(n,e,t){if(is20223Decorator(e))return observableAnnotation.decorate_20223_(n,e);if(isStringish(e)){storeAnnotation(n,e,observableAnnotation);return}return isObservable(n)?n:isPlainObject(n)?observable.object(n,e,t):Array.isArray(n)?observable.array(n,e):isES6Map(n)?observable.map(n,e):isES6Set(n)?observable.set(n,e):typeof n=="object"&&n!==null?n:observable.box(n,e)}assign$1(createObservable,observableDecoratorAnnotation);var observableFactories={box:function n(e,t){var r=asCreateObservableOptions(t);return new ObservableValue(e,getEnhancerFromOptions(r),r.name,!0,r.equals)},array:function n(e,t){var r=asCreateObservableOptions(t);return(globalState.useProxies===!1||r.proxy===!1?createLegacyArray:createObservableArray)(e,getEnhancerFromOptions(r),r.name)},map:function n(e,t){var r=asCreateObservableOptions(t);return new ObservableMap(e,getEnhancerFromOptions(r),r.name)},set:function n(e,t){var r=asCreateObservableOptions(t);return new ObservableSet(e,getEnhancerFromOptions(r),r.name)},object:function n(e,t,r){return initObservable(function(){return extendObservable(globalState.useProxies===!1||(r==null?void 0:r.proxy)===!1?asObservableObject({},r):asDynamicObservableObject({},r),e,t)})},ref:createDecoratorAnnotation(observableRefAnnotation),shallow:createDecoratorAnnotation(observableShallowAnnotation),deep:observableDecoratorAnnotation,struct:createDecoratorAnnotation(observableStructAnnotation)},observable=assign$1(createObservable,observableFactories),COMPUTED="computed",COMPUTED_STRUCT="computed.struct",computedAnnotation=createComputedAnnotation(COMPUTED),computedStructAnnotation=createComputedAnnotation(COMPUTED_STRUCT,{equals:comparer.structural}),computed=function n(e,t){if(is20223Decorator(t))return computedAnnotation.decorate_20223_(e,t);if(isStringish(t))return storeAnnotation(e,t,computedAnnotation);if(isPlainObject(e))return createDecoratorAnnotation(createComputedAnnotation(COMPUTED,e));var r=isPlainObject(t)?t:{};return r.get=e,r.name||(r.name=e.name||""),new ComputedValue(r)};Object.assign(computed,computedAnnotation);computed.struct=createDecoratorAnnotation(computedStructAnnotation);var _getDescriptor$config,_getDescriptor,currentActionId=0,nextActionId=1,isFunctionNameConfigurable=(_getDescriptor$config=(_getDescriptor=getDescriptor(function(){},"name"))==null?void 0:_getDescriptor.configurable)!=null?_getDescriptor$config:!1,tmpNameDescriptor={value:"action",configurable:!0,writable:!1,enumerable:!1};function createAction(n,e,t,r){t===void 0&&(t=!1);function o(){return executeAction(n,t,e,r||this,arguments)}return o.isMobxAction=!0,isFunctionNameConfigurable&&(tmpNameDescriptor.value=n,defineProperty(o,"name",tmpNameDescriptor)),o}function executeAction(n,e,t,r,o){var a=_startAction(n,e);try{return t.apply(r,o)}catch(c){throw a.error_=c,c}finally{_endAction(a)}}function _startAction(n,e,t,r){var o=!1,a=0,c=globalState.trackingDerivation,u=!e||!c;startBatch();var en=globalState.allowStateChanges;u&&(untrackedStart(),en=allowStateChangesStart(!0));var tn=allowStateReadsStart(!0),nn={runAsAction_:u,prevDerivation_:c,prevAllowStateChanges_:en,prevAllowStateReads_:tn,notifySpy_:o,startTime_:a,actionId_:nextActionId++,parentActionId_:currentActionId};return currentActionId=nn.actionId_,nn}function _endAction(n){currentActionId!==n.actionId_&&die(30),currentActionId=n.parentActionId_,n.error_!==void 0&&(globalState.suppressReactionErrors=!0),allowStateChangesEnd(n.prevAllowStateChanges_),allowStateReadsEnd(n.prevAllowStateReads_),endBatch(),n.runAsAction_&&untrackedEnd(n.prevDerivation_),globalState.suppressReactionErrors=!1}function allowStateChanges(n,e){var t=allowStateChangesStart(n);try{return e()}finally{allowStateChangesEnd(t)}}function allowStateChangesStart(n){var e=globalState.allowStateChanges;return globalState.allowStateChanges=n,e}function allowStateChangesEnd(n){globalState.allowStateChanges=n}var _Symbol$toPrimitive;_Symbol$toPrimitive=Symbol.toPrimitive;var ObservableValue=function(n){_inheritsLoose(e,n);function e(r,o,a,c,u){var en;return a===void 0&&(a="ObservableValue"),u===void 0&&(u=comparer.default),en=n.call(this,a)||this,en.enhancer=void 0,en.name_=void 0,en.equals=void 0,en.hasUnreportedChange_=!1,en.interceptors_=void 0,en.changeListeners_=void 0,en.value_=void 0,en.dehancer=void 0,en.enhancer=o,en.name_=a,en.equals=u,en.value_=o(r,void 0,a),en}var t=e.prototype;return t.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},t.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==globalState.UNCHANGED&&this.setNewValue_(o)},t.prepareNewValue_=function(o){if(hasInterceptors(this)){var a=interceptChange(this,{object:this,type:UPDATE,newValue:o});if(!a)return globalState.UNCHANGED;o=a.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?globalState.UNCHANGED:o},t.setNewValue_=function(o){var a=this.value_;this.value_=o,this.reportChanged(),hasListeners(this)&&notifyListeners(this,{type:UPDATE,object:this,newValue:o,oldValue:a})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(o){return registerInterceptor(this,o)},t.observe_=function(o,a){return a&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:UPDATE,newValue:this.value_,oldValue:void 0}),registerListener(this,o)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return toPrimitive(this.get())},t[_Symbol$toPrimitive]=function(){return this.valueOf()},e}(Atom),isObservableValue=createInstanceofPredicate("ObservableValue",ObservableValue),_Symbol$toPrimitive$1;_Symbol$toPrimitive$1=Symbol.toPrimitive;var ComputedValue=function(){function n(t){this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=IDerivationState_.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new CaughtException(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=TraceMode.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||die(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=createAction("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?comparer.structural:comparer.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){propagateMaybeChanged(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing_&&die(32,this.name_,this.derivation),globalState.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)shouldCompute(this)&&(this.warnAboutUntrackedRead_(),startBatch(),this.value_=this.computeValue_(!1),endBatch());else if(reportObserved(this),shouldCompute(this)){var r=globalState.trackingContext;this.keepAlive_&&!r&&(globalState.trackingContext=this),this.trackAndCompute()&&propagateChangeConfirmed(this),globalState.trackingContext=r}var o=this.value_;if(isCaughtException(o))throw o.cause;return o},e.set=function(r){if(this.setter_){this.isRunningSetter_&&die(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter_=!1}}else die(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===IDerivationState_.NOT_TRACKING_,a=this.computeValue_(!0),c=o||isCaughtException(r)||isCaughtException(a)||!this.equals_(r,a);return c&&(this.value_=a),c},e.computeValue_=function(r){this.isComputing_=!0;var o=allowStateChangesStart(!1),a;if(r)a=trackDerivedFunction(this,this.derivation,this.scope_);else if(globalState.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(c){a=new CaughtException(c)}return allowStateChangesEnd(o),this.isComputing_=!1,a},e.suspend_=function(){this.keepAlive_||(clearObserving(this),this.value_=void 0)},e.observe_=function(r,o){var a=this,c=!0,u=void 0;return autorun(function(){var en=a.get();if(!c||o){var tn=untrackedStart();r({observableKind:"computed",debugObjectName:a.name_,type:UPDATE,object:a,newValue:en,oldValue:u}),untrackedEnd(tn)}c=!1,u=en})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return toPrimitive(this.get())},e[_Symbol$toPrimitive$1]=function(){return this.valueOf()},n}(),isComputedValue=createInstanceofPredicate("ComputedValue",ComputedValue),IDerivationState_;(function(n){n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_"})(IDerivationState_||(IDerivationState_={}));var TraceMode;(function(n){n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK"})(TraceMode||(TraceMode={}));var CaughtException=function n(e){this.cause=void 0,this.cause=e};function isCaughtException(n){return n instanceof CaughtException}function shouldCompute(n){switch(n.dependenciesState_){case IDerivationState_.UP_TO_DATE_:return!1;case IDerivationState_.NOT_TRACKING_:case IDerivationState_.STALE_:return!0;case IDerivationState_.POSSIBLY_STALE_:{for(var e=allowStateReadsStart(!0),t=untrackedStart(),r=n.observing_,o=r.length,a=0;a<o;a++){var c=r[a];if(isComputedValue(c)){if(globalState.disableErrorBoundaries)c.get();else try{c.get()}catch{return untrackedEnd(t),allowStateReadsEnd(e),!0}if(n.dependenciesState_===IDerivationState_.STALE_)return untrackedEnd(t),allowStateReadsEnd(e),!0}}return changeDependenciesStateTo0(n),untrackedEnd(t),allowStateReadsEnd(e),!1}}}function isComputingDerivation(){return globalState.trackingDerivation!==null}function checkIfStateModificationsAreAllowed(n){}function trackDerivedFunction(n,e,t){var r=allowStateReadsStart(!0);changeDependenciesStateTo0(n),n.newObserving_=new Array(n.observing_.length+100),n.unboundDepsCount_=0,n.runId_=++globalState.runId;var o=globalState.trackingDerivation;globalState.trackingDerivation=n,globalState.inBatch++;var a;if(globalState.disableErrorBoundaries===!0)a=e.call(t);else try{a=e.call(t)}catch(c){a=new CaughtException(c)}return globalState.inBatch--,globalState.trackingDerivation=o,bindDependencies(n),allowStateReadsEnd(r),a}function bindDependencies(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,r=IDerivationState_.UP_TO_DATE_,o=0,a=n.unboundDepsCount_,c=0;c<a;c++){var u=t[c];u.diffValue_===0&&(u.diffValue_=1,o!==c&&(t[o]=u),o++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(t.length=o,n.newObserving_=null,a=e.length;a--;){var en=e[a];en.diffValue_===0&&removeObserver(en,n),en.diffValue_=0}for(;o--;){var tn=t[o];tn.diffValue_===1&&(tn.diffValue_=0,addObserver(tn,n))}r!==IDerivationState_.UP_TO_DATE_&&(n.dependenciesState_=r,n.onBecomeStale_())}function clearObserving(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)removeObserver(e[t],n);n.dependenciesState_=IDerivationState_.NOT_TRACKING_}function untracked(n){var e=untrackedStart();try{return n()}finally{untrackedEnd(e)}}function untrackedStart(){var n=globalState.trackingDerivation;return globalState.trackingDerivation=null,n}function untrackedEnd(n){globalState.trackingDerivation=n}function allowStateReadsStart(n){var e=globalState.allowStateReads;return globalState.allowStateReads=n,e}function allowStateReadsEnd(n){globalState.allowStateReads=n}function changeDependenciesStateTo0(n){if(n.dependenciesState_!==IDerivationState_.UP_TO_DATE_){n.dependenciesState_=IDerivationState_.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=IDerivationState_.UP_TO_DATE_}}var persistentKeys=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],MobXGlobals=function n(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.batchId=Number.MIN_SAFE_INTEGER,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},canMergeGlobalState=!0,isolateCalled=!1,globalState=function(){var n=getGlobal();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&(canMergeGlobalState=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==new MobXGlobals().version&&(canMergeGlobalState=!1),canMergeGlobalState?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new MobXGlobals):(setTimeout(function(){isolateCalled||die(35)},1),new MobXGlobals)}();function isolateGlobalState(){if((globalState.pendingReactions.length||globalState.inBatch||globalState.isRunningReactions)&&die(36),isolateCalled=!0,canMergeGlobalState){var n=getGlobal();--n.__mobxInstanceCount===0&&(n.__mobxGlobals=void 0),globalState=new MobXGlobals}}function getGlobalState(){return globalState}function resetGlobalState(){var n=new MobXGlobals;for(var e in n)persistentKeys.indexOf(e)===-1&&(globalState[e]=n[e]);globalState.allowStateChanges=!globalState.enforceActions}function hasObservers(n){return n.observers_&&n.observers_.size>0}function getObservers(n){return n.observers_}function addObserver(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function removeObserver(n,e){n.observers_.delete(e),n.observers_.size===0&&queueForUnobservation(n)}function queueForUnobservation(n){n.isPendingUnobservation_===!1&&(n.isPendingUnobservation_=!0,globalState.pendingUnobservations.push(n))}function startBatch(){globalState.inBatch===0&&(globalState.batchId=globalState.batchId<Number.MAX_SAFE_INTEGER?globalState.batchId+1:Number.MIN_SAFE_INTEGER),globalState.inBatch++}function endBatch(){if(--globalState.inBatch===0){runReactions();for(var n=globalState.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation_=!1,t.observers_.size===0&&(t.isBeingObserved_&&(t.isBeingObserved_=!1,t.onBUO()),t instanceof ComputedValue&&t.suspend_())}globalState.pendingUnobservations=[]}}function reportObserved(n){var e=globalState.trackingDerivation;return e!==null?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved_&&globalState.trackingContext&&(n.isBeingObserved_=!0,n.onBO())),n.isBeingObserved_):(n.observers_.size===0&&globalState.inBatch>0&&queueForUnobservation(n),!1)}function propagateChanged(n){n.lowestObserverState_!==IDerivationState_.STALE_&&(n.lowestObserverState_=IDerivationState_.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=IDerivationState_.STALE_}))}function propagateChangeConfirmed(n){n.lowestObserverState_!==IDerivationState_.STALE_&&(n.lowestObserverState_=IDerivationState_.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.POSSIBLY_STALE_?e.dependenciesState_=IDerivationState_.STALE_:e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(n.lowestObserverState_=IDerivationState_.UP_TO_DATE_)}))}function propagateMaybeChanged(n){n.lowestObserverState_===IDerivationState_.UP_TO_DATE_&&(n.lowestObserverState_=IDerivationState_.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===IDerivationState_.UP_TO_DATE_&&(e.dependenciesState_=IDerivationState_.POSSIBLY_STALE_,e.onBecomeStale_())}))}var Reaction=function(){function n(t,r,o,a){t===void 0&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=IDerivationState_.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=TraceMode.NONE,this.name_=t,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=a}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,globalState.pendingReactions.push(this),runReactions())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){startBatch(),this.isScheduled_=!1;var r=globalState.trackingContext;if(globalState.trackingContext=this,shouldCompute(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}globalState.trackingContext=r,endBatch()}},e.track=function(r){if(!this.isDisposed_){startBatch(),this.isRunning_=!0;var o=globalState.trackingContext;globalState.trackingContext=this;var a=trackDerivedFunction(this,r,void 0);globalState.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&clearObserving(this),isCaughtException(a)&&this.reportExceptionInDerivation_(a.cause),endBatch()}},e.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(globalState.disableErrorBoundaries)throw r;var a="[mobx] uncaught error in '"+this+"'";globalState.suppressReactionErrors||console.error(a,r),globalState.globalReactionErrorHandlers.forEach(function(c){return c(r,o)})},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(startBatch(),clearObserving(this),endBatch()))},e.getDisposer_=function(r){var o=this,a=function c(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",c)};return r==null||r.addEventListener==null||r.addEventListener("abort",a),a[$mobx]=this,a},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){},n}();function onReactionError(n){return globalState.globalReactionErrorHandlers.push(n),function(){var e=globalState.globalReactionErrorHandlers.indexOf(n);e>=0&&globalState.globalReactionErrorHandlers.splice(e,1)}}var MAX_REACTION_ITERATIONS=100,reactionScheduler=function n(e){return e()};function runReactions(){globalState.inBatch>0||globalState.isRunningReactions||reactionScheduler(runReactionsHelper)}function runReactionsHelper(){globalState.isRunningReactions=!0;for(var n=globalState.pendingReactions,e=0;n.length>0;){++e===MAX_REACTION_ITERATIONS&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),r=0,o=t.length;r<o;r++)t[r].runReaction_()}globalState.isRunningReactions=!1}var isReaction=createInstanceofPredicate("Reaction",Reaction);function setReactionScheduler(n){var e=reactionScheduler;reactionScheduler=function(r){return n(function(){return e(r)})}}function isSpyEnabled(){return!1}function spyReport(n){}function spyReportStart(n){}function spyReportEnd(n){}function spy(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var ACTION="action",ACTION_BOUND="action.bound",AUTOACTION="autoAction",AUTOACTION_BOUND="autoAction.bound",DEFAULT_ACTION_NAME="<unnamed action>",actionAnnotation=createActionAnnotation(ACTION),actionBoundAnnotation=createActionAnnotation(ACTION_BOUND,{bound:!0}),autoActionAnnotation=createActionAnnotation(AUTOACTION,{autoAction:!0}),autoActionBoundAnnotation=createActionAnnotation(AUTOACTION_BOUND,{autoAction:!0,bound:!0});function createActionFactory(n){var e=function(r,o){if(isFunction(r))return createAction(r.name||DEFAULT_ACTION_NAME,r,n);if(isFunction(o))return createAction(r,o,n);if(is20223Decorator(o))return(n?autoActionAnnotation:actionAnnotation).decorate_20223_(r,o);if(isStringish(o))return storeAnnotation(r,o,n?autoActionAnnotation:actionAnnotation);if(isStringish(r))return createDecoratorAnnotation(createActionAnnotation(n?AUTOACTION:ACTION,{name:r,autoAction:n}))};return e}var action=createActionFactory(!1);Object.assign(action,actionAnnotation);var autoAction=createActionFactory(!0);Object.assign(autoAction,autoActionAnnotation);action.bound=createDecoratorAnnotation(actionBoundAnnotation);autoAction.bound=createDecoratorAnnotation(autoActionBoundAnnotation);function runInAction(n){return executeAction(n.name||DEFAULT_ACTION_NAME,!1,n,this,void 0)}function isAction(n){return isFunction(n)&&n.isMobxAction===!0}function autorun(n,e){var t,r,o,a,c;e===void 0&&(e=EMPTY_OBJECT);var u=(t=(r=e)==null?void 0:r.name)!=null?t:"Autorun",en=!e.scheduler&&!e.delay,tn;if(en)tn=new Reaction(u,function(){this.track(fn)},e.onError,e.requiresObservable);else{var nn=createSchedulerFromOptions(e),sn=!1;tn=new Reaction(u,function(){sn||(sn=!0,nn(function(){sn=!1,tn.isDisposed_||tn.track(fn)}))},e.onError,e.requiresObservable)}function fn(){n(tn)}return(o=e)!=null&&(a=o.signal)!=null&&a.aborted||tn.schedule_(),tn.getDisposer_((c=e)==null?void 0:c.signal)}var run=function n(e){return e()};function createSchedulerFromOptions(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:run}function reaction(n,e,t){var r,o,a,c;t===void 0&&(t=EMPTY_OBJECT);var u=(r=t.name)!=null?r:"Reaction",en=action(u,t.onError?wrapErrorHandler(t.onError,e):e),tn=!t.scheduler&&!t.delay,nn=createSchedulerFromOptions(t),sn=!0,fn=!1,dn,hn,ln=t.compareStructural?comparer.structural:t.equals||comparer.default,pn=new Reaction(u,function(){sn||tn?$n():fn||(fn=!0,nn($n))},t.onError,t.requiresObservable);function $n(){if(fn=!1,!pn.isDisposed_){var Sn=!1;pn.track(function(){var yn=allowStateChanges(!1,function(){return n(pn)});Sn=sn||!ln(dn,yn),hn=dn,dn=yn}),(sn&&t.fireImmediately||!sn&&Sn)&&en(dn,hn,pn),sn=!1}}return(o=t)!=null&&(a=o.signal)!=null&&a.aborted||pn.schedule_(),pn.getDisposer_((c=t)==null?void 0:c.signal)}function wrapErrorHandler(n,e){return function(){try{return e.apply(this,arguments)}catch(t){n.call(this,t)}}}var ON_BECOME_OBSERVED="onBO",ON_BECOME_UNOBSERVED="onBUO";function onBecomeObserved(n,e,t){return interceptHook(ON_BECOME_OBSERVED,n,e,t)}function onBecomeUnobserved(n,e,t){return interceptHook(ON_BECOME_UNOBSERVED,n,e,t)}function interceptHook(n,e,t,r){var o=typeof r=="function"?getAtom(e,t):getAtom(e),a=isFunction(r)?r:t,c=n+"L";return o[c]?o[c].add(a):o[c]=new Set([a]),function(){var u=o[c];u&&(u.delete(a),u.size===0&&delete o[c])}}var NEVER="never",ALWAYS="always",OBSERVED="observed";function configure(n){n.isolateGlobalState===!0&&isolateGlobalState();var e=n.useProxies,t=n.enforceActions;if(e!==void 0&&(globalState.useProxies=e===ALWAYS?!0:e===NEVER?!1:typeof Proxy<"u"),e==="ifavailable"&&(globalState.verifyProxies=!0),t!==void 0){var r=t===ALWAYS?ALWAYS:t===OBSERVED;globalState.enforceActions=r,globalState.allowStateChanges=!(r===!0||r===ALWAYS)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in n&&(globalState[o]=!!n[o])}),globalState.allowStateReads=!globalState.observableRequiresReaction,n.reactionScheduler&&setReactionScheduler(n.reactionScheduler)}function extendObservable(n,e,t,r){var o=getOwnPropertyDescriptors(e);return initObservable(function(){var a=asObservableObject(n,r)[$mobx];ownKeys(o).forEach(function(c){a.extend_(c,o[c],t&&c in t?t[c]:!0)})}),n}function getDependencyTree(n,e){return nodeToDependencyTree(getAtom(n,e))}function nodeToDependencyTree(n){var e={name:n.name_};return n.observing_&&n.observing_.length>0&&(e.dependencies=unique(n.observing_).map(nodeToDependencyTree)),e}function getObserverTree(n,e){return nodeToObserverTree(getAtom(n,e))}function nodeToObserverTree(n){var e={name:n.name_};return hasObservers(n)&&(e.observers=Array.from(getObservers(n)).map(nodeToObserverTree)),e}function unique(n){return Array.from(new Set(n))}var generatorId=0;function FlowCancellationError(){this.message="FLOW_CANCELLED"}FlowCancellationError.prototype=Object.create(Error.prototype);function isFlowCancellationError(n){return n instanceof FlowCancellationError}var flowAnnotation=createFlowAnnotation("flow"),flowBoundAnnotation=createFlowAnnotation("flow.bound",{bound:!0}),flow=Object.assign(function n(e,t){if(is20223Decorator(t))return flowAnnotation.decorate_20223_(e,t);if(isStringish(t))return storeAnnotation(e,t,flowAnnotation);var r=e,o=r.name||"<unnamed flow>",a=function(){var u=this,en=arguments,tn=++generatorId,nn=action(o+" - runid: "+tn+" - init",r).apply(u,en),sn,fn=void 0,dn=new Promise(function(hn,ln){var pn=0;sn=ln;function $n(In){fn=void 0;var An;try{An=action(o+" - runid: "+tn+" - yield "+pn++,nn.next).call(nn,In)}catch(Tn){return ln(Tn)}yn(An)}function Sn(In){fn=void 0;var An;try{An=action(o+" - runid: "+tn+" - yield "+pn++,nn.throw).call(nn,In)}catch(Tn){return ln(Tn)}yn(An)}function yn(In){if(isFunction(In==null?void 0:In.then)){In.then(yn,ln);return}return In.done?hn(In.value):(fn=Promise.resolve(In.value),fn.then($n,Sn))}$n(void 0)});return dn.cancel=action(o+" - runid: "+tn+" - cancel",function(){try{fn&&cancelPromise(fn);var hn=nn.return(void 0),ln=Promise.resolve(hn.value);ln.then(noop$1,noop$1),cancelPromise(ln),sn(new FlowCancellationError)}catch(pn){sn(pn)}}),dn};return a.isMobXFlow=!0,a},flowAnnotation);flow.bound=createDecoratorAnnotation(flowBoundAnnotation);function cancelPromise(n){isFunction(n.cancel)&&n.cancel()}function flowResult(n){return n}function isFlow(n){return(n==null?void 0:n.isMobXFlow)===!0}function interceptReads(n,e,t){var r;return isObservableMap(n)||isObservableArray(n)||isObservableValue(n)?r=getAdministration(n):isObservableObject(n)&&(r=getAdministration(n,e)),r.dehancer=typeof e=="function"?e:t,function(){r.dehancer=void 0}}function intercept(n,e,t){return isFunction(t)?interceptProperty(n,e,t):interceptInterceptable(n,e)}function interceptInterceptable(n,e){return getAdministration(n).intercept_(e)}function interceptProperty(n,e,t){return getAdministration(n,e).intercept_(t)}function _isComputed(n,e){if(e===void 0)return isComputedValue(n);if(isObservableObject(n)===!1||!n[$mobx].values_.has(e))return!1;var t=getAtom(n,e);return isComputedValue(t)}function isComputed(n){return _isComputed(n)}function isComputedProp(n,e){return _isComputed(n,e)}function _isObservable(n,e){return n?e!==void 0?isObservableObject(n)?n[$mobx].values_.has(e):!1:isObservableObject(n)||!!n[$mobx]||isAtom(n)||isReaction(n)||isComputedValue(n):!1}function isObservable(n){return _isObservable(n)}function isObservableProp(n,e){return _isObservable(n,e)}function keys(n){if(isObservableObject(n))return n[$mobx].keys_();if(isObservableMap(n)||isObservableSet(n))return Array.from(n.keys());if(isObservableArray(n))return n.map(function(e,t){return t});die(5)}function values(n){if(isObservableObject(n))return keys(n).map(function(e){return n[e]});if(isObservableMap(n))return keys(n).map(function(e){return n.get(e)});if(isObservableSet(n))return Array.from(n.values());if(isObservableArray(n))return n.slice();die(6)}function entries(n){if(isObservableObject(n))return keys(n).map(function(e){return[e,n[e]]});if(isObservableMap(n))return keys(n).map(function(e){return[e,n.get(e)]});if(isObservableSet(n))return Array.from(n.entries());if(isObservableArray(n))return n.map(function(e,t){return[t,e]});die(7)}function set(n,e,t){if(arguments.length===2&&!isObservableSet(n)){startBatch();var r=e;try{for(var o in r)set(n,o,r[o])}finally{endBatch()}return}isObservableObject(n)?n[$mobx].set_(e,t):isObservableMap(n)?n.set(e,t):isObservableSet(n)?n.add(e):isObservableArray(n)?(typeof e!="number"&&(e=parseInt(e,10)),e<0&&die("Invalid index: '"+e+"'"),startBatch(),e>=n.length&&(n.length=e+1),n[e]=t,endBatch()):die(8)}function remove(n,e){isObservableObject(n)?n[$mobx].delete_(e):isObservableMap(n)||isObservableSet(n)?n.delete(e):isObservableArray(n)?(typeof e!="number"&&(e=parseInt(e,10)),n.splice(e,1)):die(9)}function has(n,e){if(isObservableObject(n))return n[$mobx].has_(e);if(isObservableMap(n))return n.has(e);if(isObservableSet(n))return n.has(e);if(isObservableArray(n))return e>=0&&e<n.length;die(10)}function get(n,e){if(!!has(n,e)){if(isObservableObject(n))return n[$mobx].get_(e);if(isObservableMap(n))return n.get(e);if(isObservableArray(n))return n[e];die(11)}}function apiDefineProperty(n,e,t){if(isObservableObject(n))return n[$mobx].defineProperty_(e,t);die(39)}function apiOwnKeys(n){if(isObservableObject(n))return n[$mobx].ownKeys_();die(38)}function observe(n,e,t,r){return isFunction(t)?observeObservableProperty(n,e,t,r):observeObservable(n,e,t)}function observeObservable(n,e,t){return getAdministration(n).observe_(e,t)}function observeObservableProperty(n,e,t,r){return getAdministration(n,e).observe_(t,r)}function cache(n,e,t){return n.set(e,t),t}function toJSHelper(n,e){if(n==null||typeof n!="object"||n instanceof Date||!isObservable(n))return n;if(isObservableValue(n)||isComputedValue(n))return toJSHelper(n.get(),e);if(e.has(n))return e.get(n);if(isObservableArray(n)){var t=cache(e,n,new Array(n.length));return n.forEach(function(c,u){t[u]=toJSHelper(c,e)}),t}if(isObservableSet(n)){var r=cache(e,n,new Set);return n.forEach(function(c){r.add(toJSHelper(c,e))}),r}if(isObservableMap(n)){var o=cache(e,n,new Map);return n.forEach(function(c,u){o.set(u,toJSHelper(c,e))}),o}else{var a=cache(e,n,{});return apiOwnKeys(n).forEach(function(c){objectPrototype.propertyIsEnumerable.call(n,c)&&(a[c]=toJSHelper(n[c],e))}),a}}function toJS(n,e){return toJSHelper(n,new Map)}function trace(){}function transaction(n,e){e===void 0&&(e=void 0),startBatch();try{return n.apply(e)}finally{endBatch()}}function when(n,e,t){return arguments.length===1||e&&typeof e=="object"?whenPromise(n,e):_when(n,e,t||{})}function _when(n,e,t){var r;if(typeof t.timeout=="number"){var o=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!c[$mobx].isDisposed_)if(c(),t.onError)t.onError(o);else throw o},t.timeout)}t.name="When";var a=createAction("When-effect",e),c=autorun(function(u){var en=allowStateChanges(!1,n);en&&(u.dispose(),r&&clearTimeout(r),a())},t);return c}function whenPromise(n,e){var t;if(e!=null&&(t=e.signal)!=null&&t.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var r,o,a=new Promise(function(c,u){var en,tn=_when(n,c,_extends({},e,{onError:u}));r=function(){tn(),u(new Error("WHEN_CANCELLED"))},o=function(){tn(),u(new Error("WHEN_ABORTED"))},e==null||(en=e.signal)==null||en.addEventListener==null||en.addEventListener("abort",o)}).finally(function(){var c;return e==null||(c=e.signal)==null||c.removeEventListener==null?void 0:c.removeEventListener("abort",o)});return a.cancel=r,a}function getAdm(n){return n[$mobx]}var objectProxyTraps={has:function n(e,t){return getAdm(e).has_(t)},get:function n(e,t){return getAdm(e).get_(t)},set:function n(e,t,r){var o;return isStringish(t)?(o=getAdm(e).set_(t,r,!0))!=null?o:!0:!1},deleteProperty:function n(e,t){var r;return isStringish(t)?(r=getAdm(e).delete_(t,!0))!=null?r:!0:!1},defineProperty:function n(e,t,r){var o;return(o=getAdm(e).defineProperty_(t,r))!=null?o:!0},ownKeys:function n(e){return getAdm(e).ownKeys_()},preventExtensions:function n(e){die(13)}};function asDynamicObservableObject(n,e){var t,r;return assertProxies(),n=asObservableObject(n,e),(r=(t=n[$mobx]).proxy_)!=null?r:t.proxy_=new Proxy(n,objectProxyTraps)}function hasInterceptors(n){return n.interceptors_!==void 0&&n.interceptors_.length>0}function registerInterceptor(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),once(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function interceptChange(n,e){var t=untrackedStart();try{for(var r=[].concat(n.interceptors_||[]),o=0,a=r.length;o<a&&(e=r[o](e),e&&!e.type&&die(14),!!e);o++);return e}finally{untrackedEnd(t)}}function hasListeners(n){return n.changeListeners_!==void 0&&n.changeListeners_.length>0}function registerListener(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),once(function(){var r=t.indexOf(e);r!==-1&&t.splice(r,1)})}function notifyListeners(n,e){var t=untrackedStart(),r=n.changeListeners_;if(!!r){r=r.slice();for(var o=0,a=r.length;o<a;o++)r[o](e);untrackedEnd(t)}}function makeObservable(n,e,t){return initObservable(function(){var r,o=asObservableObject(n,t)[$mobx];(r=e)!=null||(e=collectStoredAnnotations(n)),ownKeys(e).forEach(function(a){return o.make_(a,e[a])})}),n}var keysSymbol=Symbol("mobx-keys");function makeAutoObservable(n,e,t){return isPlainObject(n)?extendObservable(n,n,e,t):(initObservable(function(){var r=asObservableObject(n,t)[$mobx];if(!n[keysSymbol]){var o=Object.getPrototypeOf(n),a=new Set([].concat(ownKeys(n),ownKeys(o)));a.delete("constructor"),a.delete($mobx),addHiddenProp$1(o,keysSymbol,a)}n[keysSymbol].forEach(function(c){return r.make_(c,e&&c in e?e[c]:!0)})}),n)}var SPLICE="splice",UPDATE="update",MAX_SPLICE_SIZE=1e4,arrayTraps={get:function n(e,t){var r=e[$mobx];return t===$mobx?r:t==="length"?r.getArrayLength_():typeof t=="string"&&!isNaN(t)?r.get_(parseInt(t)):hasProp(arrayExtensions,t)?arrayExtensions[t]:e[t]},set:function n(e,t,r){var o=e[$mobx];return t==="length"&&o.setArrayLength_(r),typeof t=="symbol"||isNaN(t)?e[t]=r:o.set_(parseInt(t),r),!0},preventExtensions:function n(){die(15)}},ObservableArrayAdministration=function(){function n(t,r,o,a){t===void 0&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=a,this.atom_=new Atom(t),this.enhancer_=function(c,u){return r(c,u,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return registerInterceptor(this,r)},e.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),registerListener(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&die("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var a=new Array(r-o),c=0;c<r-o;c++)a[c]=void 0;this.spliceWithArray_(o,0,a)}else this.spliceWithArray_(r,o-r)},e.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&die(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&reserveArrayBuffer(r+o+1)},e.spliceWithArray_=function(r,o,a){var c=this;this.atom_;var u=this.values_.length;if(r===void 0?r=0:r>u?r=u:r<0&&(r=Math.max(0,u+r)),arguments.length===1?o=u-r:o==null?o=0:o=Math.max(0,Math.min(o,u-r)),a===void 0&&(a=EMPTY_ARRAY),hasInterceptors(this)){var en=interceptChange(this,{object:this.proxy_,type:SPLICE,index:r,removedCount:o,added:a});if(!en)return EMPTY_ARRAY;o=en.removedCount,a=en.added}if(a=a.length===0?a:a.map(function(sn){return c.enhancer_(sn,void 0)}),this.legacyMode_){var tn=a.length-o;this.updateArrayLength_(u,tn)}var nn=this.spliceItemsIntoValues_(r,o,a);return(o!==0||a.length!==0)&&this.notifyArraySplice_(r,a,nn),this.dehanceValues_(nn)},e.spliceItemsIntoValues_=function(r,o,a){if(a.length<MAX_SPLICE_SIZE){var c;return(c=this.values_).splice.apply(c,[r,o].concat(a))}else{var u=this.values_.slice(r,r+o),en=this.values_.slice(r+o);this.values_.length+=a.length-o;for(var tn=0;tn<a.length;tn++)this.values_[r+tn]=a[tn];for(var nn=0;nn<en.length;nn++)this.values_[r+a.length+nn]=en[nn];return u}},e.notifyArrayChildUpdate_=function(r,o,a){var c=!this.owned_&&isSpyEnabled(),u=hasListeners(this),en=u||c?{observableKind:"array",object:this.proxy_,type:UPDATE,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:a}:null;this.atom_.reportChanged(),u&&notifyListeners(this,en)},e.notifyArraySplice_=function(r,o,a){var c=!this.owned_&&isSpyEnabled(),u=hasListeners(this),en=u||c?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:SPLICE,index:r,removed:a,added:o,removedCount:a.length,addedCount:o.length}:null;this.atom_.reportChanged(),u&&notifyListeners(this,en)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,o){var a=this.values_;if(this.legacyMode_&&r>a.length&&die(17,r,a.length),r<a.length){this.atom_;var c=a[r];if(hasInterceptors(this)){var u=interceptChange(this,{type:UPDATE,object:this.proxy_,index:r,newValue:o});if(!u)return;o=u.newValue}o=this.enhancer_(o,c);var en=o!==c;en&&(a[r]=o,this.notifyArrayChildUpdate_(r,o,c))}else{for(var tn=new Array(r+1-a.length),nn=0;nn<tn.length-1;nn++)tn[nn]=void 0;tn[tn.length-1]=o,this.spliceWithArray_(a.length,0,tn)}},n}();function createObservableArray(n,e,t,r){return t===void 0&&(t="ObservableArray"),r===void 0&&(r=!1),assertProxies(),initObservable(function(){var o=new ObservableArrayAdministration(t,e,r,!1);addHiddenFinalProp(o.values_,$mobx,o);var a=new Proxy(o.values_,arrayTraps);return o.proxy_=a,n&&n.length&&o.spliceWithArray_(0,0,n),a})}var arrayExtensions={clear:function n(){return this.splice(0)},replace:function n(e){var t=this[$mobx];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function n(){return this.slice()},splice:function n(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];var c=this[$mobx];switch(arguments.length){case 0:return[];case 1:return c.spliceWithArray_(e);case 2:return c.spliceWithArray_(e,t)}return c.spliceWithArray_(e,t,o)},spliceWithArray:function n(e,t,r){return this[$mobx].spliceWithArray_(e,t,r)},push:function n(){for(var e=this[$mobx],t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function n(){return this.splice(Math.max(this[$mobx].values_.length-1,0),1)[0]},shift:function n(){return this.splice(0,1)[0]},unshift:function n(){for(var e=this[$mobx],t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function n(){return globalState.trackingDerivation&&die(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function n(){globalState.trackingDerivation&&die(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function n(e){var t=this[$mobx],r=t.dehanceValues_(t.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};addArrayExtension("concat",simpleFunc);addArrayExtension("flat",simpleFunc);addArrayExtension("includes",simpleFunc);addArrayExtension("indexOf",simpleFunc);addArrayExtension("join",simpleFunc);addArrayExtension("lastIndexOf",simpleFunc);addArrayExtension("slice",simpleFunc);addArrayExtension("toString",simpleFunc);addArrayExtension("toLocaleString",simpleFunc);addArrayExtension("every",mapLikeFunc);addArrayExtension("filter",mapLikeFunc);addArrayExtension("find",mapLikeFunc);addArrayExtension("findIndex",mapLikeFunc);addArrayExtension("flatMap",mapLikeFunc);addArrayExtension("forEach",mapLikeFunc);addArrayExtension("map",mapLikeFunc);addArrayExtension("some",mapLikeFunc);addArrayExtension("reduce",reduceLikeFunc);addArrayExtension("reduceRight",reduceLikeFunc);function addArrayExtension(n,e){typeof Array.prototype[n]=="function"&&(arrayExtensions[n]=e(n))}function simpleFunc(n){return function(){var e=this[$mobx];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function mapLikeFunc(n){return function(e,t){var r=this,o=this[$mobx];o.atom_.reportObserved();var a=o.dehanceValues_(o.values_);return a[n](function(c,u){return e.call(t,c,u,r)})}}function reduceLikeFunc(n){return function(){var e=this,t=this[$mobx];t.atom_.reportObserved();var r=t.dehanceValues_(t.values_),o=arguments[0];return arguments[0]=function(a,c,u){return o(a,c,u,e)},r[n].apply(r,arguments)}}var isObservableArrayAdministration=createInstanceofPredicate("ObservableArrayAdministration",ObservableArrayAdministration);function isObservableArray(n){return isObject(n)&&isObservableArrayAdministration(n[$mobx])}var _Symbol$iterator,_Symbol$toStringTag,ObservableMapMarker={},ADD="add",DELETE="delete";_Symbol$iterator=Symbol.iterator;_Symbol$toStringTag=Symbol.toStringTag;var ObservableMap=function(){function n(t,r,o){var a=this;r===void 0&&(r=deepEnhancer),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[$mobx]=ObservableMapMarker,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,isFunction(Map)||die(18),initObservable(function(){a.keysAtom_=createAtom("ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,t&&a.merge(t)})}var e=n.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var o=this;if(!globalState.trackingDerivation)return this.has_(r);var a=this.hasMap_.get(r);if(!a){var c=a=new ObservableValue(this.has_(r),referenceEnhancer,"ObservableMap.key?",!1);this.hasMap_.set(r,c),onBecomeUnobserved(c,function(){return o.hasMap_.delete(r)})}return a.get()},e.set=function(r,o){var a=this.has_(r);if(hasInterceptors(this)){var c=interceptChange(this,{type:a?UPDATE:ADD,object:this,newValue:o,name:r});if(!c)return this;o=c.newValue}return a?this.updateValue_(r,o):this.addValue_(r,o),this},e.delete=function(r){var o=this;if(this.keysAtom_,hasInterceptors(this)){var a=interceptChange(this,{type:DELETE,object:this,name:r});if(!a)return!1}if(this.has_(r)){var c=isSpyEnabled(),u=hasListeners(this),en=u||c?{observableKind:"map",debugObjectName:this.name_,type:DELETE,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return transaction(function(){var tn;o.keysAtom_.reportChanged(),(tn=o.hasMap_.get(r))==null||tn.setNewValue_(!1);var nn=o.data_.get(r);nn.setNewValue_(void 0),o.data_.delete(r)}),u&&notifyListeners(this,en),!0}return!1},e.updateValue_=function(r,o){var a=this.data_.get(r);if(o=a.prepareNewValue_(o),o!==globalState.UNCHANGED){var c=isSpyEnabled(),u=hasListeners(this),en=u||c?{observableKind:"map",debugObjectName:this.name_,type:UPDATE,object:this,oldValue:a.value_,name:r,newValue:o}:null;a.setNewValue_(o),u&&notifyListeners(this,en)}},e.addValue_=function(r,o){var a=this;this.keysAtom_,transaction(function(){var tn,nn=new ObservableValue(o,a.enhancer_,"ObservableMap.key",!1);a.data_.set(r,nn),o=nn.value_,(tn=a.hasMap_.get(r))==null||tn.setNewValue_(!0),a.keysAtom_.reportChanged()});var c=isSpyEnabled(),u=hasListeners(this),en=u||c?{observableKind:"map",debugObjectName:this.name_,type:ADD,object:this,name:r,newValue:o}:null;u&&notifyListeners(this,en)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,o=this.keys();return makeIterable({next:function(){var c=o.next(),u=c.done,en=c.value;return{done:u,value:u?void 0:r.get(en)}}})},e.entries=function(){var r=this,o=this.keys();return makeIterable({next:function(){var c=o.next(),u=c.done,en=c.value;return{done:u,value:u?void 0:[en,r.get(en)]}}})},e[_Symbol$iterator]=function(){return this.entries()},e.forEach=function(r,o){for(var a=_createForOfIteratorHelperLoose(this),c;!(c=a()).done;){var u=c.value,en=u[0],tn=u[1];r.call(o,tn,en,this)}},e.merge=function(r){var o=this;return isObservableMap(r)&&(r=new Map(r)),transaction(function(){isPlainObject(r)?getPlainObjectKeys(r).forEach(function(a){return o.set(a,r[a])}):Array.isArray(r)?r.forEach(function(a){var c=a[0],u=a[1];return o.set(c,u)}):isES6Map(r)?(r.constructor!==Map&&die(19,r),r.forEach(function(a,c){return o.set(c,a)})):r!=null&&die(20,r)}),this},e.clear=function(){var r=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(r.keys()),a;!(a=o()).done;){var c=a.value;r.delete(c)}})})},e.replace=function(r){var o=this;return transaction(function(){for(var a=convertToMap(r),c=new Map,u=!1,en=_createForOfIteratorHelperLoose(o.data_.keys()),tn;!(tn=en()).done;){var nn=tn.value;if(!a.has(nn)){var sn=o.delete(nn);if(sn)u=!0;else{var fn=o.data_.get(nn);c.set(nn,fn)}}}for(var dn=_createForOfIteratorHelperLoose(a.entries()),hn;!(hn=dn()).done;){var ln=hn.value,pn=ln[0],$n=ln[1],Sn=o.data_.has(pn);if(o.set(pn,$n),o.data_.has(pn)){var yn=o.data_.get(pn);c.set(pn,yn),Sn||(u=!0)}}if(!u)if(o.data_.size!==c.size)o.keysAtom_.reportChanged();else for(var In=o.data_.keys(),An=c.keys(),Tn=In.next(),kn=An.next();!Tn.done;){if(Tn.value!==kn.value){o.keysAtom_.reportChanged();break}Tn=In.next(),kn=An.next()}o.data_=c}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,o){return registerListener(this,r)},e.intercept_=function(r){return registerInterceptor(this,r)},_createClass(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag,get:function(){return"Map"}}]),n}(),isObservableMap=createInstanceofPredicate("ObservableMap",ObservableMap);function convertToMap(n){if(isES6Map(n)||isObservableMap(n))return n;if(Array.isArray(n))return new Map(n);if(isPlainObject(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}else return die(21,n)}var _Symbol$iterator$1,_Symbol$toStringTag$1,ObservableSetMarker={};_Symbol$iterator$1=Symbol.iterator;_Symbol$toStringTag$1=Symbol.toStringTag;var ObservableSet=function(){function n(t,r,o){var a=this;r===void 0&&(r=deepEnhancer),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[$mobx]=ObservableSetMarker,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,isFunction(Set)||die(22),this.enhancer_=function(c,u){return r(c,u,o)},initObservable(function(){a.atom_=createAtom(a.name_),t&&a.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;transaction(function(){untracked(function(){for(var o=_createForOfIteratorHelperLoose(r.data_.values()),a;!(a=o()).done;){var c=a.value;r.delete(c)}})})},e.forEach=function(r,o){for(var a=_createForOfIteratorHelperLoose(this),c;!(c=a()).done;){var u=c.value;r.call(o,u,u,this)}},e.add=function(r){var o=this;if(this.atom_,hasInterceptors(this)){var a=interceptChange(this,{type:ADD,object:this,newValue:r});if(!a)return this}if(!this.has(r)){transaction(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var c=!1,u=hasListeners(this),en=u||c?{observableKind:"set",debugObjectName:this.name_,type:ADD,object:this,newValue:r}:null;u&&notifyListeners(this,en)}return this},e.delete=function(r){var o=this;if(hasInterceptors(this)){var a=interceptChange(this,{type:DELETE,object:this,oldValue:r});if(!a)return!1}if(this.has(r)){var c=!1,u=hasListeners(this),en=u||c?{observableKind:"set",debugObjectName:this.name_,type:DELETE,object:this,oldValue:r}:null;return transaction(function(){o.atom_.reportChanged(),o.data_.delete(r)}),u&&notifyListeners(this,en),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,o=Array.from(this.keys()),a=Array.from(this.values());return makeIterable({next:function(){var u=r;return r+=1,u<a.length?{value:[o[u],a[u]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,o=0,a=Array.from(this.data_.values());return makeIterable({next:function(){return o<a.length?{value:r.dehanceValue_(a[o++]),done:!1}:{done:!0}}})},e.replace=function(r){var o=this;return isObservableSet(r)&&(r=new Set(r)),transaction(function(){Array.isArray(r)?(o.clear(),r.forEach(function(a){return o.add(a)})):isES6Set(r)?(o.clear(),r.forEach(function(a){return o.add(a)})):r!=null&&die("Cannot initialize set from "+r)}),this},e.observe_=function(r,o){return registerListener(this,r)},e.intercept_=function(r){return registerInterceptor(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[_Symbol$iterator$1]=function(){return this.values()},_createClass(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:_Symbol$toStringTag$1,get:function(){return"Set"}}]),n}(),isObservableSet=createInstanceofPredicate("ObservableSet",ObservableSet),descriptorCache=Object.create(null),REMOVE="remove",ObservableObjectAdministration=function(){function n(t,r,o,a){r===void 0&&(r=new Map),a===void 0&&(a=autoAnnotation),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=r,this.name_=o,this.defaultAnnotation_=a,this.keysAtom_=new Atom("ObservableObject.keys"),this.isPlainObject_=isPlainObject(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,o){var a=this.values_.get(r);if(a instanceof ComputedValue)return a.set(o),!0;if(hasInterceptors(this)){var c=interceptChange(this,{type:UPDATE,object:this.proxy_||this.target_,name:r,newValue:o});if(!c)return null;o=c.newValue}if(o=a.prepareNewValue_(o),o!==globalState.UNCHANGED){var u=hasListeners(this),en=!1,tn=u||en?{type:UPDATE,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:r,newValue:o}:null;a.setNewValue_(o),u&&notifyListeners(this,tn)}return!0},e.get_=function(r){return globalState.trackingDerivation&&!hasProp(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,o,a){return a===void 0&&(a=!1),hasProp(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):a?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},e.has_=function(r){if(!globalState.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new ObservableValue(r in this.target_,referenceEnhancer,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},e.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var a;if((a=this.target_[storedAnnotationsSymbol])!=null&&a[r])return;die(1,o.annotationType_,this.name_+"."+r.toString())}for(var c=this.target_;c&&c!==objectPrototype;){var u=getDescriptor(c,r);if(u){var en=o.make_(this,r,u,c);if(en===0)return;if(en===1)break}c=Object.getPrototypeOf(c)}recordAnnotationApplied(this,o,r)}},e.extend_=function(r,o,a,c){if(c===void 0&&(c=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(r,o,c);var u=a.extend_(this,r,o,c);return u&&recordAnnotationApplied(this,a,r),u},e.defineProperty_=function(r,o,a){a===void 0&&(a=!1),this.keysAtom_;try{startBatch();var c=this.delete_(r);if(!c)return c;if(hasInterceptors(this)){var u=interceptChange(this,{object:this.proxy_||this.target_,name:r,type:ADD,newValue:o.value});if(!u)return null;var en=u.newValue;o.value!==en&&(o=_extends({},o,{value:en}))}if(a){if(!Reflect.defineProperty(this.target_,r,o))return!1}else defineProperty(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{endBatch()}return!0},e.defineObservableProperty_=function(r,o,a,c){c===void 0&&(c=!1),this.keysAtom_;try{startBatch();var u=this.delete_(r);if(!u)return u;if(hasInterceptors(this)){var en=interceptChange(this,{object:this.proxy_||this.target_,name:r,type:ADD,newValue:o});if(!en)return null;o=en.newValue}var tn=getCachedObservablePropDescriptor(r),nn={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:tn.get,set:tn.set};if(c){if(!Reflect.defineProperty(this.target_,r,nn))return!1}else defineProperty(this.target_,r,nn);var sn=new ObservableValue(o,a,"ObservableObject.key",!1);this.values_.set(r,sn),this.notifyPropertyAddition_(r,sn.value_)}finally{endBatch()}return!0},e.defineComputedProperty_=function(r,o,a){a===void 0&&(a=!1),this.keysAtom_;try{startBatch();var c=this.delete_(r);if(!c)return c;if(hasInterceptors(this)){var u=interceptChange(this,{object:this.proxy_||this.target_,name:r,type:ADD,newValue:void 0});if(!u)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var en=getCachedObservablePropDescriptor(r),tn={configurable:globalState.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:en.get,set:en.set};if(a){if(!Reflect.defineProperty(this.target_,r,tn))return!1}else defineProperty(this.target_,r,tn);this.values_.set(r,new ComputedValue(o)),this.notifyPropertyAddition_(r,void 0)}finally{endBatch()}return!0},e.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!hasProp(this.target_,r))return!0;if(hasInterceptors(this)){var a=interceptChange(this,{object:this.proxy_||this.target_,name:r,type:REMOVE});if(!a)return null}try{var c,u;startBatch();var en=hasListeners(this),tn=!1,nn=this.values_.get(r),sn=void 0;if(!nn&&(en||tn)){var fn;sn=(fn=getDescriptor(this.target_,r))==null?void 0:fn.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(nn&&(this.values_.delete(r),nn instanceof ObservableValue&&(sn=nn.value_),propagateChanged(nn)),this.keysAtom_.reportChanged(),(c=this.pendingKeys_)==null||(u=c.get(r))==null||u.set(r in this.target_),en||tn){var dn={type:REMOVE,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:sn,name:r};en&&notifyListeners(this,dn)}}finally{endBatch()}return!0},e.observe_=function(r,o){return registerListener(this,r)},e.intercept_=function(r){return registerInterceptor(this,r)},e.notifyPropertyAddition_=function(r,o){var a,c,u=hasListeners(this),en=!1;if(u||en){var tn=u||en?{type:ADD,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;u&&notifyListeners(this,tn)}(a=this.pendingKeys_)==null||(c=a.get(r))==null||c.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),ownKeys(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function asObservableObject(n,e){var t;if(hasProp(n,$mobx))return n;var r=(t=e==null?void 0:e.name)!=null?t:"ObservableObject",o=new ObservableObjectAdministration(n,new Map,String(r),getAnnotationFromOptions(e));return addHiddenProp$1(n,$mobx,o),n}var isObservableObjectAdministration=createInstanceofPredicate("ObservableObjectAdministration",ObservableObjectAdministration);function getCachedObservablePropDescriptor(n){return descriptorCache[n]||(descriptorCache[n]={get:function(){return this[$mobx].getObservablePropValue_(n)},set:function(t){return this[$mobx].setObservablePropValue_(n,t)}})}function isObservableObject(n){return isObject(n)?isObservableObjectAdministration(n[$mobx]):!1}function recordAnnotationApplied(n,e,t){var r;(r=n.target_[storedAnnotationsSymbol])==null||delete r[t]}var ENTRY_0=createArrayEntryDescriptor(0),safariPrototypeSetterInheritanceBug=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,n===!1}(),OBSERVABLE_ARRAY_BUFFER_SIZE=0,StubArray=function n(){};function inherit(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):n.prototype.__proto__!==void 0?n.prototype.__proto__=e:n.prototype=e}inherit(StubArray,Array.prototype);var LegacyObservableArray=function(n,e,t){_inheritsLoose(r,n);function r(a,c,u,en){var tn;return u===void 0&&(u="ObservableArray"),en===void 0&&(en=!1),tn=n.call(this)||this,initObservable(function(){var nn=new ObservableArrayAdministration(u,c,en,!0);nn.proxy_=_assertThisInitialized(tn),addHiddenFinalProp(_assertThisInitialized(tn),$mobx,nn),a&&a.length&&tn.spliceWithArray(0,0,a),safariPrototypeSetterInheritanceBug&&Object.defineProperty(_assertThisInitialized(tn),"0",ENTRY_0)}),tn}var o=r.prototype;return o.concat=function(){this[$mobx].atom_.reportObserved();for(var c=arguments.length,u=new Array(c),en=0;en<c;en++)u[en]=arguments[en];return Array.prototype.concat.apply(this.slice(),u.map(function(tn){return isObservableArray(tn)?tn.slice():tn}))},o[t]=function(){var a=this,c=0;return makeIterable({next:function(){return c<a.length?{value:a[c++],done:!1}:{done:!0,value:void 0}}})},_createClass(r,[{key:"length",get:function(){return this[$mobx].getArrayLength_()},set:function(c){this[$mobx].setArrayLength_(c)}},{key:e,get:function(){return"Array"}}]),r}(StubArray,Symbol.toStringTag,Symbol.iterator);Object.entries(arrayExtensions).forEach(function(n){var e=n[0],t=n[1];e!=="concat"&&addHiddenProp$1(LegacyObservableArray.prototype,e,t)});function createArrayEntryDescriptor(n){return{enumerable:!1,configurable:!0,get:function(){return this[$mobx].get_(n)},set:function(t){this[$mobx].set_(n,t)}}}function createArrayBufferItem(n){defineProperty(LegacyObservableArray.prototype,""+n,createArrayEntryDescriptor(n))}function reserveArrayBuffer(n){if(n>OBSERVABLE_ARRAY_BUFFER_SIZE){for(var e=OBSERVABLE_ARRAY_BUFFER_SIZE;e<n+100;e++)createArrayBufferItem(e);OBSERVABLE_ARRAY_BUFFER_SIZE=n}}reserveArrayBuffer(1e3);function createLegacyArray(n,e,t){return new LegacyObservableArray(n,e,t)}function getAtom(n,e){if(typeof n=="object"&&n!==null){if(isObservableArray(n))return e!==void 0&&die(23),n[$mobx].atom_;if(isObservableSet(n))return n.atom_;if(isObservableMap(n)){if(e===void 0)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||die(25,e,getDebugName(n)),t}if(isObservableObject(n)){if(!e)return die(26);var r=n[$mobx].values_.get(e);return r||die(27,e,getDebugName(n)),r}if(isAtom(n)||isComputedValue(n)||isReaction(n))return n}else if(isFunction(n)&&isReaction(n[$mobx]))return n[$mobx];die(28)}function getAdministration(n,e){if(n||die(29),e!==void 0)return getAdministration(getAtom(n,e));if(isAtom(n)||isComputedValue(n)||isReaction(n)||isObservableMap(n)||isObservableSet(n))return n;if(n[$mobx])return n[$mobx];die(24,n)}function getDebugName(n,e){var t;if(e!==void 0)t=getAtom(n,e);else{if(isAction(n))return n.name;isObservableObject(n)||isObservableMap(n)||isObservableSet(n)?t=getAdministration(n):t=getAtom(n)}return t.name_}function initObservable(n){var e=untrackedStart(),t=allowStateChangesStart(!0);startBatch();try{return n()}finally{endBatch(),allowStateChangesEnd(t),untrackedEnd(e)}}var toString=objectPrototype.toString;function deepEqual(n,e,t){return t===void 0&&(t=-1),eq(n,e,t)}function eq(n,e,t,r,o){if(n===e)return n!==0||1/n===1/e;if(n==null||e==null)return!1;if(n!==n)return e!==e;var a=typeof n;if(a!=="function"&&a!=="object"&&typeof e!="object")return!1;var c=toString.call(n);if(c!==toString.call(e))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:+n==0?1/+n===1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++;break}n=unwrap(n),e=unwrap(e);var u=c==="[object Array]";if(!u){if(typeof n!="object"||typeof e!="object")return!1;var en=n.constructor,tn=e.constructor;if(en!==tn&&!(isFunction(en)&&en instanceof en&&isFunction(tn)&&tn instanceof tn)&&"constructor"in n&&"constructor"in e)return!1}if(t===0)return!1;t<0&&(t=-1),r=r||[],o=o||[];for(var nn=r.length;nn--;)if(r[nn]===n)return o[nn]===e;if(r.push(n),o.push(e),u){if(nn=n.length,nn!==e.length)return!1;for(;nn--;)if(!eq(n[nn],e[nn],t-1,r,o))return!1}else{var sn=Object.keys(n),fn;if(nn=sn.length,Object.keys(e).length!==nn)return!1;for(;nn--;)if(fn=sn[nn],!(hasProp(e,fn)&&eq(n[fn],e[fn],t-1,r,o)))return!1}return r.pop(),o.pop(),!0}function unwrap(n){return isObservableArray(n)?n.slice():isES6Map(n)||isObservableMap(n)||isES6Set(n)||isObservableSet(n)?Array.from(n.entries()):n}function makeIterable(n){return n[Symbol.iterator]=getSelf,n}function getSelf(){return this}["Symbol","Map","Set"].forEach(function(n){var e=getGlobal();typeof e[n]>"u"&&die("MobX requires global '"+n+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy,extras:{getDebugName},$mobx});var mobx_esm=Object.freeze(Object.defineProperty({__proto__:null,$mobx,FlowCancellationError,ObservableMap,ObservableSet,Reaction,_allowStateChanges:allowStateChanges,_allowStateChangesInsideComputed:runInAction,_allowStateReadsEnd:allowStateReadsEnd,_allowStateReadsStart:allowStateReadsStart,_autoAction:autoAction,_endAction,_getAdministration:getAdministration,_getGlobalState:getGlobalState,_interceptReads:interceptReads,_isComputingDerivation:isComputingDerivation,_resetGlobalState:resetGlobalState,_startAction,action,autorun,comparer,computed,configure,createAtom,defineProperty:apiDefineProperty,entries,extendObservable,flow,flowResult,get,getAtom,getDebugName,getDependencyTree,getObserverTree,has,intercept,isAction,isBoxedObservable:isObservableValue,isComputed,isComputedProp,isFlow,isFlowCancellationError,isObservable,isObservableArray,isObservableMap,isObservableObject,isObservableProp,isObservableSet,keys,makeAutoObservable,makeObservable,observable,observe,onBecomeObserved,onBecomeUnobserved,onReactionError,override,ownKeys:apiOwnKeys,reaction,remove,runInAction,set,spy,toJS,trace,transaction,untracked,values,when},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(mobx_esm);(function(n){var e=commonjsGlobal&&commonjsGlobal.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(n,"__esModule",{value:!0}),n.Order=n.OrderSide=void 0;const t=require$$0$1,r=e(big.exports),o=require$$1;var a;(function(u){u.Buy="buy",u.Sell="sell"})(a=n.OrderSide||(n.OrderSide={}));class c{constructor(en){this.id="",this.orderType=a.Buy,this.orderMint="",this.currencyMint="",this.currencyDecimals=0,this.price=new t.BN(0),this.orderQtyRemaining=0,this.orderOriginationQty=0,this.owner="",this.ownerAssetTokenAccount="",this.ownerCurrencyTokenAccount="",this.createdAt=0,this.slotContext=0,en&&(this.id=en.id,this.orderType=en.orderType,this.orderMint=en.orderMint,this.currencyMint=en.currencyMint,this.currencyDecimals=en.currencyDecimals,this.price=en.price,this.orderQtyRemaining=en.orderQtyRemaining,this.orderOriginationQty=en.orderOriginationQty,this.owner=en.owner,this.ownerAssetTokenAccount=en.ownerAssetTokenAccount,this.ownerCurrencyTokenAccount=en.ownerCurrencyTokenAccount,this.createdAt=en.createdAt,this.slotContext=en.slotContext),(0,o.makeObservable)(this,{orderQtyRemaining:o.observable})}get decimalDivisor(){return new r.default(10).pow(this.currencyDecimals)}get bigNumberPrice(){return new r.default(this.price.toString())}get uiPrice(){return this.bigNumberPrice.div(this.decimalDivisor).toNumber()}priceForQuantity(en=1){return this.bigNumberPrice.mul(en).div(this.decimalDivisor).toNumber()}}n.Order=c})(Order);(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(Order,n)})(models);var __awaiter$m=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(exchangeOrder,"__esModule",{value:!0});exchangeOrder.createExchangeInstruction=void 0;const anchor_1$f=require$$0$1,web3_js_1$5=require$$2,utils_1$h=utils,pda_getters_1$5=pda_getters$3,pda_getters_2=pda_getters$3,util_1$5=util,models_1$1=models;function createExchangeInstruction({connection:n,orderAccount:e,purchaseQty:t,orderTaker:r,orderTakerDepositTokenAccount:o,programId:a,expectedPrice:c,orderType:u,assetMint:en,currencyMint:tn,orderInitializer:nn,saVault:sn,stakingProgramId:fn,registeredStake:dn,stakingAccount:hn,extraAccounts:ln=[]}){return __awaiter$m(this,void 0,void 0,function*(){const pn=(0,utils_1$h.getMarketplaceProgram)({connection:n,programId:a}),$n={signers:[],instructions:[]},Sn=u===models_1$1.OrderSide.Sell?new web3_js_1$5.PublicKey(en):new web3_js_1$5.PublicKey(tn),yn=u===models_1$1.OrderSide.Sell?new web3_js_1$5.PublicKey(tn):new web3_js_1$5.PublicKey(en);let In=null,An=null,Tn=null,kn=yield(0,util_1$5.getTokenAccount)(n,nn,Sn,r);"createInstruction"in kn?($n.instructions.push(...kn.createInstruction),kn.tokenAccount instanceof anchor_1$f.web3.Keypair?(In=kn.tokenAccount.publicKey,$n.signers.push(kn.tokenAccount)):In=kn.tokenAccount):In=kn.tokenAccount,kn=yield(0,util_1$5.getTokenAccount)(n,nn,yn,r),"createInstruction"in kn?($n.instructions.push(...kn.createInstruction),kn.tokenAccount instanceof anchor_1$f.web3.Keypair?(An=kn.tokenAccount.publicKey,$n.signers.push(kn.tokenAccount)):An=kn.tokenAccount):An=kn.tokenAccount;const[Pn]=yield(0,pda_getters_1$5.getOrderVault)(nn,Sn,a),[Dn]=yield(0,pda_getters_2.getOpenOrdersCounter)(nn,Sn,a);kn=yield(0,util_1$5.getTokenAccount)(n,r,Sn),"createInstruction"in kn?($n.instructions.push(...kn.createInstruction),kn.tokenAccount instanceof anchor_1$f.web3.Keypair?(Tn=kn.tokenAccount.publicKey,$n.signers.push(kn.tokenAccount)):Tn=kn.tokenAccount):Tn=kn.tokenAccount;const Kn=u===models_1$1.OrderSide.Buy?r:nn,[Hn]=yield(0,pda_getters_1$5.getFeeExemptAccount)(Kn,a),jn=yield pn.methods.processExchange(new anchor_1$f.BN(t),c,Kn).accounts({orderTaker:r,orderTakerDepositTokenAccount:o,orderTakerReceiveTokenAccount:Tn,currencyMint:tn,assetMint:en,orderInitializer:nn,initializerDepositTokenAccount:In,initializerReceiveTokenAccount:An,orderVaultAccount:Pn,orderAccount:e,openOrdersCounter:Dn,saVault:sn,atlasStaking:fn,registeredStake:dn,stakingAccount:hn,feeReduction:Hn}).remainingAccounts(ln).instruction();return $n.instructions.push(jn),$n})}exchangeOrder.createExchangeInstruction=createExchangeInstruction;var initializeMarketplace={},__awaiter$l=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(initializeMarketplace,"__esModule",{value:!0});initializeMarketplace.createInitializeMarketInstruction=void 0;const utils_1$g=utils;function createInitializeMarketInstruction({connection:n,updateAuthorityAccount:e,programId:t}){return __awaiter$l(this,void 0,void 0,function*(){const o=[yield(0,utils_1$g.getMarketplaceProgram)({connection:n,programId:t}).methods.initializeMarketplace().accounts({updateAuthorityAccount:e}).instruction()];return{accounts:[],instructions:o}})}initializeMarketplace.createInitializeMarketInstruction=createInitializeMarketInstruction;var registerCurrency={},__awaiter$k=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(registerCurrency,"__esModule",{value:!0});registerCurrency.createRegisterCurrencyInstruction=void 0;const anchor_1$e=require$$0$1,utils_1$f=utils;function createRegisterCurrencyInstruction({connection:n,updateAuthorityAccount:e,royalty:t,saCurrencyVault:r,currencyMint:o,programId:a}){return __awaiter$k(this,void 0,void 0,function*(){const u=[yield(0,utils_1$f.getMarketplaceProgram)({connection:n,programId:a}).methods.registerCurrency(new anchor_1$e.BN(t)).accounts({updateAuthorityAccount:e,saCurrencyVault:r,currencyMint:o}).instruction()];return{accounts:[],instructions:u}})}registerCurrency.createRegisterCurrencyInstruction=createRegisterCurrencyInstruction;var royaltyTiers={},__awaiter$j=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(royaltyTiers,"__esModule",{value:!0});royaltyTiers.updateRoyaltyTier=royaltyTiers.deleteRoyaltyTier=royaltyTiers.addRoyaltyTier=void 0;const anchor_1$d=require$$0$1,utils_1$e=utils;function addRoyaltyTier({connection:n,updateAuthorityAccount:e,registeredCurrency:t,stakeAmount:r,discount:o,programId:a}){return __awaiter$j(this,void 0,void 0,function*(){const c=(0,utils_1$e.getMarketplaceProgram)({connection:n,programId:a}),u={signers:[],instructions:[]},en=yield c.methods.addRoyaltyTier(new anchor_1$d.BN(r),new anchor_1$d.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:t}).instruction();return u.instructions.push(en),u})}royaltyTiers.addRoyaltyTier=addRoyaltyTier;function deleteRoyaltyTier({connection:n,updateAuthorityAccount:e,registeredCurrency:t,stakeAmount:r,programId:o}){return __awaiter$j(this,void 0,void 0,function*(){const a=(0,utils_1$e.getMarketplaceProgram)({connection:n,programId:o}),c={signers:[],instructions:[]},u=yield a.methods.deleteRoyaltyTier(new anchor_1$d.BN(r)).accounts({updateAuthorityAccount:e,registeredCurrency:t}).instruction();return c.instructions.push(u),c})}royaltyTiers.deleteRoyaltyTier=deleteRoyaltyTier;function updateRoyaltyTier({connection:n,updateAuthorityAccount:e,registeredCurrency:t,stakeAmount:r,discount:o,programId:a}){return __awaiter$j(this,void 0,void 0,function*(){const c=(0,utils_1$e.getMarketplaceProgram)({connection:n,programId:a}),u={signers:[],instructions:[]},en=yield c.methods.updateRoyaltyTier(new anchor_1$d.BN(r),new anchor_1$d.BN(o)).accounts({updateAuthorityAccount:e,registeredCurrency:t}).instruction();return u.instructions.push(en),u})}royaltyTiers.updateRoyaltyTier=updateRoyaltyTier;var updateCurrency={},__awaiter$i=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(updateCurrency,"__esModule",{value:!0});updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=void 0;const anchor_1$c=require$$0$1,utils_1$d=utils;function createUpdateRegisteredCurrencyRoyaltyInstruction({connection:n,updateAuthorityAccount:e,royalty:t,currencyMint:r,programId:o}){return __awaiter$i(this,void 0,void 0,function*(){return[yield(0,utils_1$d.getMarketplaceProgram)({connection:n,programId:o}).methods.updateCurrencyRoyalty(new anchor_1$c.BN(t)).accounts({updateAuthorityAccount:e,currencyMint:r}).instruction()]})}updateCurrency.createUpdateRegisteredCurrencyRoyaltyInstruction=createUpdateRegisteredCurrencyRoyaltyInstruction;function createUpdateRegisteredCurrencyVaultInstruction({connection:n,updateAuthorityAccount:e,saCurrencyVault:t,currencyMint:r,programId:o}){return __awaiter$i(this,void 0,void 0,function*(){return[yield(0,utils_1$d.getMarketplaceProgram)({connection:n,programId:o}).methods.updateCurrencyVault().accounts({updateAuthorityAccount:e,saCurrencyVault:t,currencyMint:r}).instruction()]})}updateCurrency.createUpdateRegisteredCurrencyVaultInstruction=createUpdateRegisteredCurrencyVaultInstruction;var feeExempt={},__awaiter$h=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(feeExempt,"__esModule",{value:!0});feeExempt.createRemoveFeeExemptionInstruction=feeExempt.createAddFeeExemptionInstruction=void 0;const anchor_1$b=require$$0$1,utils_1$c=utils,pda_getters_1$4=pda_getters$3;function createAddFeeExemptionInstruction({connection:n,updateAuthorityAccount:e,funder:t,feeExemptTarget:r,programId:o}){return __awaiter$h(this,void 0,void 0,function*(){const a=(0,utils_1$c.getMarketplaceProgram)({connection:n,programId:o}),c={signers:[],instructions:[]},u=1e6,[en]=yield(0,pda_getters_1$4.getFeeExemptAccount)(r,o),[tn]=yield(0,pda_getters_1$4.getMarketVarsAccount)(o),nn=[yield a.methods.addFeeExemption(new anchor_1$b.BN(u)).accounts({updateAuthorityMaster:e,funder:t,feeExemptTarget:r,feeExemptAccount:en,marketVarsAccount:tn}).instruction()];return c.instructions.push(...nn),c})}feeExempt.createAddFeeExemptionInstruction=createAddFeeExemptionInstruction;function createRemoveFeeExemptionInstruction({connection:n,updateAuthorityAccount:e,funder:t,feeExemptTarget:r,programId:o}){return __awaiter$h(this,void 0,void 0,function*(){const a=(0,utils_1$c.getMarketplaceProgram)({connection:n,programId:o}),c={signers:[],instructions:[]},[u]=yield(0,pda_getters_1$4.getFeeExemptAccount)(r,o),[en]=yield(0,pda_getters_1$4.getMarketVarsAccount)(o),tn=[yield a.methods.removeFeeExemption().accounts({updateAuthorityMaster:e,funder:t,feeExemptAccount:u,feeExemptTarget:r,marketVarsAccount:en}).instruction()];return c.instructions.push(...tn),c})}feeExempt.createRemoveFeeExemptionInstruction=createRemoveFeeExemptionInstruction;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(BaseParams,n),t(cancelOrder,n),t(createOrder,n),t(deregisterCurrency,n),t(exchangeOrder,n),t(initializeMarketplace,n),t(registerCurrency,n),t(royaltyTiers,n),t(updateCurrency,n),t(feeExempt,n)})(instruction_builders);var types$2={},marketplace_accounts={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.GmLogs=void 0,function(e){e.CancelOrderMemo="CancelOrderMemo",e.ExchangeMemo="ExchangeMemo",e.InitializeMemo="InitializeMemo",e.RegisterCurrencyMemo="RegisterCurrencyMemo"}(n.GmLogs||(n.GmLogs={}))})(marketplace_accounts);var services$1={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.GmEventType=void 0,function(e){e[e.orderAdded=0]="orderAdded",e[e.orderRemoved=1]="orderRemoved",e[e.orderModified=2]="orderModified"}(n.GmEventType||(n.GmEventType={}))})(services$1);(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(gmIdl,n),t(marketplace_accounts,n),t(services$1,n)})(types$2);var services={},GmOrderbookService$1={},NOOP=function(){},IDENTITY=function(n){return n};function fail(n){throw new Error("[mobx-utils] "+n)}function invariant(n,e){e===void 0&&(e="Illegal state"),n||fail(e)}function addHiddenProp(n,e,t){Object.defineProperty(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}var deepFields=function(n){return n&&n!==Object.prototype&&Object.getOwnPropertyNames(n).concat(deepFields(Object.getPrototypeOf(n))||[])},distinctDeepFields=function(n){var e=deepFields(n),t=e.filter(function(r,o){return e.indexOf(r)===o});return t},getAllMethodsAndProperties=function(n){return distinctDeepFields(n).filter(function(e){return e!=="constructor"&&!~e.indexOf("__")})},PENDING="pending",FULFILLED="fulfilled",REJECTED="rejected";function caseImpl(n){switch(this.state){case PENDING:return n.pending&&n.pending(this.value);case REJECTED:return n.rejected&&n.rejected(this.value);case FULFILLED:return n.fulfilled?n.fulfilled(this.value):this.value}}function fromPromise(n,e){if(invariant(arguments.length<=2,"fromPromise expects up to two arguments"),invariant(typeof n=="function"||typeof n=="object"&&n&&typeof n.then=="function","Please pass a promise or function to fromPromise"),n.isPromiseBasedObservable===!0)return n;typeof n=="function"&&(n=new Promise(n));var t=n;n.then(action("observableFromPromise-resolve",function(o){t.value=o,t.state=FULFILLED}),action("observableFromPromise-reject",function(o){t.value=o,t.state=REJECTED})),t.isPromiseBasedObservable=!0,t.case=caseImpl;var r=e&&(e.state===FULFILLED||e.state===PENDING)?e.value:void 0;return extendObservable(t,{value:r,state:PENDING},{},{deep:!1}),t}(function(n){n.reject=action("fromPromise.reject",function(t){var r=n(Promise.reject(t));return r.state=REJECTED,r.value=t,r});function e(t){t===void 0&&(t=void 0);var r=n(Promise.resolve(t));return r.state=FULFILLED,r.value=t,r}n.resolve=action("fromPromise.resolve",e)})(fromPromise||(fromPromise={}));function isPromiseBasedObservable(n){return n&&n.isPromiseBasedObservable===!0}var __spreadArrays=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,o++)r[o]=a[c];return r};function moveItem(n,e,t){if(checkIndex(n,e),checkIndex(n,t),e!==t){var r=n.slice(),o;return e<t?o=__spreadArrays(r.slice(0,e),r.slice(e+1,t+1),[r[e]],r.slice(t+1)):o=__spreadArrays(r.slice(0,t),[r[e]],r.slice(t,e),r.slice(e+1)),n.replace(o),n}}function checkIndex(n,e){if(e<0)throw new Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=n.length;if(e>=t)throw new Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}function lazyObservable(n,e){e===void 0&&(e=void 0);var t=!1,r=observable.box(e,{deep:!1}),o=observable.box(!1),a=function(){return t||(t=!0,allowStateChanges(!0,function(){o.set(!0)}),n(function(u){allowStateChanges(!0,function(){r.set(u),o.set(!1)})})),r.get()},c=action("lazyObservable-reset",function(){return t=!1,r.set(e),r.get()});return{current:a,refresh:function(){return t?(t=!1,a()):r.get()},reset:function(){return c()},get pending(){return o.get()}}}function fromResource(n,e,t){e===void 0&&(e=NOOP),t===void 0&&(t=void 0);var r=!1,o=!1,a=t,c=function(){r&&(r=!1,e())},u=createAtom("ResourceBasedObservable",function(){invariant(!r&&!o),r=!0,n(function(en){allowStateChanges(!0,function(){a=en,u.reportChanged()})})},c);return{current:function(){invariant(!o,"subscribingObservable has already been disposed");var en=u.reportObserved();return!en&&!r&&console.warn("Called `get` of a subscribingObservable outside a reaction. Current value will be returned but no new subscription has started"),a},dispose:function(){o=!0,c()},isAlive:function(){return r}}}var __decorate=function(n,e,t,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(a=(o<3?c(a):o>3?c(e,t,a):c(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a};function observableSymbol(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}function toStream(n,e){var t;e===void 0&&(e=!1);var r=computed(n);return t={subscribe:function(o){return typeof o=="function"?{unsubscribe:observe(r,function(a){var c=a.newValue;return o(c)},e)}:o&&typeof o=="object"&&o.next?{unsubscribe:observe(r,function(a){var c=a.newValue;return o.next(c)},e)}:{unsubscribe:function(){}}}},t[observableSymbol()]=function(){return this},t}var StreamListener=function(){function n(e,t){var r=this;Object.defineProperty(this,"current",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscription",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),makeObservable(this),runInAction(function(){r.current=t,r.subscription=e.subscribe(r)})}return Object.defineProperty(n.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.subscription&&this.subscription.unsubscribe()}}),Object.defineProperty(n.prototype,"next",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e}}),Object.defineProperty(n.prototype,"complete",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.dispose()}}),Object.defineProperty(n.prototype,"error",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.current=e,this.dispose()}}),__decorate([observable.ref],n.prototype,"current",void 0),__decorate([action.bound],n.prototype,"next",null),__decorate([action.bound],n.prototype,"complete",null),__decorate([action.bound],n.prototype,"error",null),n}();function fromStream(n,e){return e===void 0&&(e=void 0),new StreamListener(n,e)}var __assign=function(){return __assign=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},__assign.apply(this,arguments)},__decorate$1=function(n,e,t,r){var o=arguments.length,a=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(n,e,t,r);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(a=(o<3?c(a):o>3?c(e,t,a):c(e,t))||a);return o>3&&a&&Object.defineProperty(e,t,a),a},RESERVED_NAMES=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"],ViewModel=function(){function n(e){var t=this;Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"localValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"localComputedValues",{enumerable:!0,configurable:!0,writable:!0,value:observable.map({})}),Object.defineProperty(this,"isPropertyDirty",{enumerable:!0,configurable:!0,writable:!0,value:function(o){return t.localValues.has(o)}}),makeObservable(this),invariant(isObservableObject(e),"createViewModel expects an observable object");var r=getAllMethodsAndProperties(this);getAllMethodsAndProperties(e).forEach(function(o){var a;if(!r.includes(o)&&!(o===$mobx||o==="__mobxDidRunLazyInitializers")){if(invariant(RESERVED_NAMES.indexOf(o)===-1,"The propertyname "+o+" is reserved and cannot be used with viewModels"),isComputedProp(e,o)){var c=getAdministration(e,o),u=c.derivation.bind(t),en=(a=c.setter_)===null||a===void 0?void 0:a.bind(t);t.localComputedValues.set(o,computed(u,{set:en}))}var tn=Object.getOwnPropertyDescriptor(e,o),nn=tn?{enumerable:tn.enumerable}:{};Object.defineProperty(t,o,__assign(__assign({},nn),{configurable:!0,get:function(){return isComputedProp(e,o)?t.localComputedValues.get(o).get():t.isPropertyDirty(o)?t.localValues.get(o):t.model[o]},set:action(function(sn){isComputedProp(e,o)?t.localComputedValues.get(o).set(sn):sn!==t.model[o]?t.localValues.set(o,sn):t.localValues.delete(o)})}))}})}return Object.defineProperty(n.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"changedValues",{get:function(){return new Map(this.localValues)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"submit",{enumerable:!1,configurable:!0,writable:!0,value:function(){var e=this;keys(this.localValues).forEach(function(t){var r=e.localValues.get(t),o=e.model[t];isObservableArray(o)?o.replace(r):isObservableMap(o)?(o.clear(),o.merge(r)):isComputed(r)||(e.model[t]=r)}),this.localValues.clear()}}),Object.defineProperty(n.prototype,"reset",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.localValues.clear()}}),Object.defineProperty(n.prototype,"resetProperty",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.localValues.delete(e)}}),__decorate$1([computed],n.prototype,"isDirty",null),__decorate$1([computed],n.prototype,"changedValues",null),__decorate$1([action.bound],n.prototype,"submit",null),__decorate$1([action.bound],n.prototype,"reset",null),__decorate$1([action.bound],n.prototype,"resetProperty",null),n}();function createViewModel(n){return new ViewModel(n)}function keepAlive(n,e){var t=getAtom(n,e);if(!t)throw new Error("No computed provided, please provide an object created with `computed(() => expr)` or an object + property name");return observe(t,function(){})}function queueProcessor(n,e,t){if(t===void 0&&(t=0),!isObservableArray(n))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("queueProcessor",e));var r=function(){var o=n.slice(0);runInAction(function(){return n.splice(0)}),o.forEach(e)};return t>0?autorun(r,{delay:t}):autorun(r)}function chunkProcessor(n,e,t,r){if(t===void 0&&(t=0),r===void 0&&(r=0),!isObservableArray(n))throw new Error("Expected observable array as first argument");isAction(e)||(e=action("chunkProcessor",e));var o=function(){for(var a=function(){var c=r===0?n.length:Math.min(n.length,r),u=n.slice(0,c);runInAction(function(){return n.splice(0,c)}),e(u)};n.length>0;)a()};return t>0?autorun(o,{delay:t}):autorun(o)}var tickers={};function resetNowInternalState(){for(var n=0,e=Object.getOwnPropertyNames(tickers);n<e.length;n++){var t=e[n];tickers[t].dispose(),delete tickers[t]}}function now(n){return n===void 0&&(n=1e3),isComputingDerivation()?(tickers[n]||(typeof n=="number"?tickers[n]=createIntervalTicker(n):tickers[n]=createAnimationFrameTicker()),tickers[n].current()):Date.now()}function createIntervalTicker(n){var e;return fromResource(function(t){t(Date.now()),e=setInterval(function(){return t(Date.now())},n)},function(){clearInterval(e)},Date.now())}function createAnimationFrameTicker(){var n=fromResource(function(e){e(Date.now());function t(){window.requestAnimationFrame(function(){e(Date.now()),n.isAlive()&&t()})}t()},function(){},Date.now());return n}function expr(n){return isComputingDerivation()||console.warn("'expr' should only be used inside other reactive functions."),computed(n).get()}var __assign$1=function(){return __assign$1=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},__assign$1.apply(this,arguments)},memoizationId=0;function createTransformer(n,e){invariant(typeof n=="function"&&n.length<2,"createTransformer expects a function that accepts one argument");var t={},r=void 0,o=!1,a=void 0;typeof e=="object"?(r=e.onCleanup,o=e.keepAlive!==void 0?e.keepAlive:!1,a=e.debugNameGenerator):typeof e=="function"&&(r=e);function c(en,tn){var nn,sn={};typeof e=="object"?(r=e.onCleanup,a=e.debugNameGenerator,sn=e):typeof e=="function"?r=e:(r=void 0,a=void 0);var fn=a?a(tn):"Transformer-"+n.name+"-"+en,dn=computed(function(){return nn=n(tn)},__assign$1(__assign$1({},sn),{name:fn}));if(!o)var hn=onBecomeUnobserved(dn,function(){delete t[en],hn(),r&&r(nn,tn)});return dn}var u=!1;return function(en){var tn=getMemoizationId(en),nn=t[tn];if(nn)return nn.get();if(!o&&!isComputingDerivation()){u||(console.warn("invoking a transformer from outside a reactive context won't memorized and is cleaned up immediately, unless keepAlive is set"),u=!0);var sn=n(en);return r&&r(sn,en),sn}return nn=t[tn]=c(tn,en),nn.get()}}function getMemoizationId(n){var e=typeof n;if(e==="string")return"string:"+n;if(e==="number")return"number:"+n;if(n===null||e!=="object"&&e!=="function")throw new Error("[mobx-utils] transform expected an object, function, string or number, got: "+String(n));var t=n.$transformId;return t===void 0&&(t="memoizationId:"+ ++memoizationId,addHiddenProp(n,"$transformId",t)),t}function buildPath(n){if(!n)return"ROOT";for(var e=[];n.parent;)e.push(n.path),n=n.parent;return e.reverse().join("/")}function isRecursivelyObservable(n){return isObservableObject(n)||isObservableArray(n)||isObservableMap(n)}function deepObserve(n,e){var t=new WeakMap;function r(u){var en=t.get(u.object);o(u,en),e(u,buildPath(en),n)}function o(u,en){switch(u.type){case"add":a(u.newValue,en,u.name);break;case"update":c(u.oldValue),a(u.newValue,en,u.name||""+u.index);break;case"remove":case"delete":c(u.oldValue);break;case"splice":u.removed.map(c),u.added.forEach(function(sn,fn){return a(sn,en,""+(u.index+fn))});for(var tn=u.index+u.addedCount;tn<u.object.length;tn++)if(isRecursivelyObservable(u.object[tn])){var nn=t.get(u.object[tn]);nn&&(nn.path=""+tn)}break}}function a(u,en,tn){if(isRecursivelyObservable(u)){var nn=t.get(u);if(nn){if(nn.parent!==en||nn.path!==tn)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+buildPath(en)+"/"+tn+"',")+(" but it already exists at '"+buildPath(nn.parent)+"/"+nn.path+"'"))}else{var sn={parent:en,path:tn,dispose:observe(u,r)};t.set(u,sn),entries(u).forEach(function(fn){var dn=fn[0],hn=fn[1];return a(hn,sn,dn)})}}}function c(u){if(isRecursivelyObservable(u)){var en=t.get(u);if(!en)return;t.delete(u),en.dispose(),values(u).forEach(c)}}return a(n,void 0,""),function(){c(n)}}var __extends=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(e,t)};return function(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),ObservableGroupMap=function(n){__extends(e,n);function e(t,r,o){var a=o===void 0?{}:o,c=a.name,u=c===void 0?"ogm"+(Math.random()*1e3|0):c,en=a.keyToName,tn=en===void 0?function(fn){return""+fn}:en,nn=n.call(this)||this;Object.defineProperty(nn,"_base",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(nn,"_ogmInfoKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(nn,"_groupBy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(nn,"_keyToName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(nn,"_disposeBaseObserver",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),nn._keyToName=tn,nn._groupBy=r,nn._ogmInfoKey=Symbol("ogmInfo"+u),nn._base=t;for(var sn=0;sn<t.length;sn++)nn._addItem(t[sn]);return nn._disposeBaseObserver=observe(nn._base,function(fn){if(fn.type==="splice")transaction(function(){for(var dn=0,hn=fn.removed;dn<hn.length;dn++){var ln=hn[dn];nn._removeItem(ln)}for(var pn=0,$n=fn.added;pn<$n.length;pn++){var Sn=$n[pn];nn._addItem(Sn)}});else if(fn.type==="update")transaction(function(){nn._removeItem(fn.oldValue),nn._addItem(fn.newValue)});else throw new Error("illegal state")}),nn}return Object.defineProperty(e.prototype,"clear",{enumerable:!1,configurable:!0,writable:!0,value:function(){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(t){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){throw new Error("not supported")}}),Object.defineProperty(e.prototype,"dispose",{enumerable:!1,configurable:!0,writable:!0,value:function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var r=this._base[t],o=r[this._ogmInfoKey];o.reaction(),delete r[this._ogmInfoKey]}}}),Object.defineProperty(e.prototype,"_getGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=n.prototype.get.call(this,t);return r===void 0&&(r=observable([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),n.prototype.set.call(this,t,r)),r}}),Object.defineProperty(e.prototype,"_removeFromGroupArr",{enumerable:!1,configurable:!0,writable:!0,value:function(t,r){var o=n.prototype.get.call(this,t);o.length===1?n.prototype.delete.call(this,t):(r===o.length-1||(o[r]=o[o.length-1],o[r][this._ogmInfoKey].groupArrIndex=r),o.length--)}}),Object.defineProperty(e.prototype,"_addItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=this,o=this._groupBy(t),a=this._getGroupArr(o),c={groupByValue:o,groupArrIndex:a.length,reaction:reaction(function(){return r._groupBy(t)},function(u,en){var tn=t[r._ogmInfoKey];r._removeFromGroupArr(tn.groupByValue,tn.groupArrIndex);var nn=r._getGroupArr(u),sn=nn.length;nn.push(t),tn.groupByValue=u,tn.groupArrIndex=sn})};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:c}),a.push(t)}}),Object.defineProperty(e.prototype,"_removeItem",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var r=t[this._ogmInfoKey];this._removeFromGroupArr(r.groupByValue,r.groupArrIndex),r.reaction(),delete t[this._ogmInfoKey]}}),e}(ObservableMap),DeepMapEntry=function(){function n(e,t){Object.defineProperty(this,"base",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"closestIdx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1});for(var r=this.closest=this.root=e,o=0;o<this.args.length-1&&(r=r.get(t[o]),r);o++)this.closest=r;this.closestIdx=o}return Object.defineProperty(n.prototype,"exists",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.assertNotDisposed();var e=this.args.length;return this.closestIdx>=e-1&&this.closest.has(this.args[e-1])}}),Object.defineProperty(n.prototype,"get",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])}}),Object.defineProperty(n.prototype,"set",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.assertNotDisposed();for(var t=this.args.length,r=this.closest,o=this.closestIdx;o<t-1;o++){var a=new Map;r.set(this.args[o],a),r=a}this.closestIdx=t-1,this.closest=r,r.set(this.args[t-1],e)}}),Object.defineProperty(n.prototype,"delete",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var e=this.args.length;this.closest.delete(this.args[e-1]);for(var t=this.root,r=[t],o=0;o<e-1;o++)t=t.get(this.args[o]),r.push(t);for(var o=r.length-1;o>0;o--)r[o].size===0&&r[o-1].delete(this.args[o-1]);this.isDisposed=!0}}),Object.defineProperty(n.prototype,"assertNotDisposed",{enumerable:!1,configurable:!0,writable:!0,value:function(){if(this.isDisposed)throw new Error("Concurrent modification exception")}}),n}(),DeepMap=function(){function n(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"argsLength",{enumerable:!0,configurable:!0,writable:!0,value:-1}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}return Object.defineProperty(n.prototype,"entry",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(this.argsLength===-1)this.argsLength=e.length;else if(this.argsLength!==e.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+e.length);return this.last&&(this.last.isDisposed=!0),this.last=new DeepMapEntry(this.store,e)}}),n}(),__assign$2=function(){return __assign$2=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},__assign$2.apply(this,arguments)},__spreadArrays$1=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),o=0,e=0;e<t;e++)for(var a=arguments[e],c=0,u=a.length;c<u;c++,o++)r[o]=a[c];return r};function computedFn(n,e){if(e===void 0&&(e=!1),isAction(n))throw new Error("computedFn shouldn't be used on actions");var t=!1,r=0,o=typeof e=="boolean"?{keepAlive:e}:e,a=new DeepMap;return function(){for(var c=this,u=[],en=0;en<arguments.length;en++)u[en]=arguments[en];var tn=a.entry(u);if(tn.exists())return tn.get().get();if(!o.keepAlive&&!isComputingDerivation())return!t&&getGlobalState().computedRequiresReaction&&(console.warn("invoking a computedFn from outside an reactive context won't be memoized, unless keepAlive is set"),t=!0),n.apply(this,u);var nn,sn=computed(function(){return nn=n.apply(c,u)},__assign$2(__assign$2({},o),{name:"computedFn("+(o.name||n.name)+"#"+ ++r+")"}));return tn.set(sn),o.keepAlive||onBecomeUnobserved(sn,function(){a.entry(u).delete(),o.onCleanup&&o.onCleanup.apply(o,__spreadArrays$1([nn],u)),nn=void 0}),sn.get()}}var mobxUtils_module=Object.freeze(Object.defineProperty({__proto__:null,FULFILLED,IDENTITY,NOOP,ObservableGroupMap,PENDING,REJECTED,ViewModel,addHiddenProp,chunkProcessor,computedFn,createTransformer,createViewModel,deepObserve,expr,fail,get fromPromise(){return fromPromise},fromResource,fromStream,getAllMethodsAndProperties,invariant,isPromiseBasedObservable,keepAlive,lazyObservable,moveItem,now,queueProcessor,resetNowInternalState,toStream},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(mobxUtils_module),lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(n,e){(function(){var t,r="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",en="__lodash_hash_undefined__",tn=500,nn="__lodash_placeholder__",sn=1,fn=2,dn=4,hn=1,ln=2,pn=1,$n=2,Sn=4,yn=8,In=16,An=32,Tn=64,kn=128,Pn=256,Dn=512,Kn=30,Hn="...",jn=800,Cn=16,mn=1,_n=2,vn=3,On=1/0,Nn=9007199254740991,Un=17976931348623157e292,zn=0/0,Bn=4294967295,En=Bn-1,Mn=Bn>>>1,Zn=[["ary",kn],["bind",pn],["bindKey",$n],["curry",yn],["curryRight",In],["flip",Dn],["partial",An],["partialRight",Tn],["rearg",Pn]],Sr="[object Arguments]",$r="[object Array]",Xn="[object AsyncFunction]",br="[object Boolean]",_r="[object Date]",kr="[object DOMException]",Cr="[object Error]",qn="[object Function]",Jn="[object GeneratorFunction]",Qn="[object Map]",Tr="[object Number]",Or="[object Null]",Ir="[object Object]",Kr="[object Promise]",Ar="[object Proxy]",Nr="[object RegExp]",vr="[object Set]",Hr="[object String]",Dr="[object Symbol]",jr="[object Undefined]",Vr="[object WeakMap]",Yr="[object WeakSet]",gn="[object ArrayBuffer]",an="[object DataView]",cn="[object Float32Array]",Rn="[object Float64Array]",Ln="[object Int8Array]",Fn="[object Int16Array]",Vn="[object Int32Array]",xr="[object Uint8Array]",Fr="[object Uint8ClampedArray]",Ur="[object Uint16Array]",Gr="[object Uint32Array]",zr=/\b__p \+= '';/g,Eo=/\b(__p \+=) '' \+/g,zi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_o=/&(?:amp|lt|gt|quot|#39);/g,$o=/[&<>"']/g,Hi=RegExp(_o.source),To=RegExp($o.source),Ro=/<%-([\s\S]+?)%>/g,Wi=/<%([\s\S]+?)%>/g,So=/<%=([\s\S]+?)%>/g,ko=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ji=/^\w*$/,vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,go=/[\\^$.*+?()[\]{}|]/g,Vi=RegExp(go.source),yo=/^\s+/,Io=/\s/,Gi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Po=/\{\n\/\* \[wrapped with (.+)\] \*/,Co=/,? & /,qi=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Oo=/[()=,{}\[\]\/\s]/,xo=/\\(\\)?/g,Yi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,wo=/\w*$/,Bo=/^[-+]0x[0-9a-f]+$/i,pi=/^0b[01]+$/i,mi=/^\[object .+?Constructor\]$/,gi=/^0o[0-7]+$/i,yi=/^(?:0|[1-9]\d*)$/,bi=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ps=/($^)/,_i=/['\n\r\u2028\u2029\\]/g,Cs="\\ud800-\\udfff",$i="\\u0300-\\u036f",Si="\\ufe20-\\ufe2f",wi="\\u20d0-\\u20ff",Zs=$i+Si+wi,Js="\\u2700-\\u27bf",Xs="a-z\\xdf-\\xf6\\xf8-\\xff",Ai="\\xac\\xb1\\xd7\\xf7",Ei="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ti="\\u2000-\\u206f",Ri=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qs="A-Z\\xc0-\\xd6\\xd8-\\xde",Gc="\\ufe0e\\ufe0f",qc=Ai+Ei+Ti+Ri,Ma="['\u2019]",pd="["+Cs+"]",Yc="["+qc+"]",Zi="["+Zs+"]",Zc="\\d+",md="["+Js+"]",Jc="["+Xs+"]",Xc="[^"+Cs+qc+Zc+Js+Xs+Qs+"]",Ua="\\ud83c[\\udffb-\\udfff]",gd="(?:"+Zi+"|"+Ua+")",Qc="[^"+Cs+"]",Ka="(?:\\ud83c[\\udde6-\\uddff]){2}",Da="[\\ud800-\\udbff][\\udc00-\\udfff]",ei="["+Qs+"]",eu="\\u200d",tu="(?:"+Jc+"|"+Xc+")",yd="(?:"+ei+"|"+Xc+")",nu="(?:"+Ma+"(?:d|ll|m|re|s|t|ve))?",ru="(?:"+Ma+"(?:D|LL|M|RE|S|T|VE))?",ou=gd+"?",su="["+Gc+"]?",bd="(?:"+eu+"(?:"+[Qc,Ka,Da].join("|")+")"+su+ou+")*",_d="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$d="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",iu=su+ou+bd,Sd="(?:"+[md,Ka,Da].join("|")+")"+iu,wd="(?:"+[Qc+Zi+"?",Zi,Ka,Da,pd].join("|")+")",Ad=RegExp(Ma,"g"),Ed=RegExp(Zi,"g"),Fa=RegExp(Ua+"(?="+Ua+")|"+wd+iu,"g"),Td=RegExp([ei+"?"+Jc+"+"+nu+"(?="+[Yc,ei,"$"].join("|")+")",yd+"+"+ru+"(?="+[Yc,ei+tu,"$"].join("|")+")",ei+"?"+tu+"+"+nu,ei+"+"+ru,$d,_d,Zc,Sd].join("|"),"g"),Rd=RegExp("["+eu+Cs+Zs+Gc+"]"),kd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Id=-1,mo={};mo[cn]=mo[Rn]=mo[Ln]=mo[Fn]=mo[Vn]=mo[xr]=mo[Fr]=mo[Ur]=mo[Gr]=!0,mo[Sr]=mo[$r]=mo[gn]=mo[br]=mo[an]=mo[_r]=mo[Cr]=mo[qn]=mo[Qn]=mo[Tr]=mo[Ir]=mo[Nr]=mo[vr]=mo[Hr]=mo[Vr]=!1;var po={};po[Sr]=po[$r]=po[gn]=po[an]=po[br]=po[_r]=po[cn]=po[Rn]=po[Ln]=po[Fn]=po[Vn]=po[Qn]=po[Tr]=po[Ir]=po[Nr]=po[vr]=po[Hr]=po[Dr]=po[xr]=po[Fr]=po[Ur]=po[Gr]=!0,po[Cr]=po[qn]=po[Vr]=!1;var Pd={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Cd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Od={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xd={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bd=parseFloat,Nd=parseInt,au=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,Ld=typeof self=="object"&&self&&self.Object===Object&&self,Fo=au||Ld||Function("return this")(),za=e&&!e.nodeType&&e,Fs=za&&!0&&n&&!n.nodeType&&n,cu=Fs&&Fs.exports===za,Ha=cu&&au.process,os=function(){try{var Er=Fs&&Fs.require&&Fs.require("util").types;return Er||Ha&&Ha.binding&&Ha.binding("util")}catch{}}(),uu=os&&os.isArrayBuffer,lu=os&&os.isDate,du=os&&os.isMap,fu=os&&os.isRegExp,hu=os&&os.isSet,pu=os&&os.isTypedArray;function Xo(Er,Br,Pr){switch(Pr.length){case 0:return Er.call(Br);case 1:return Er.call(Br,Pr[0]);case 2:return Er.call(Br,Pr[0],Pr[1]);case 3:return Er.call(Br,Pr[0],Pr[1],Pr[2])}return Er.apply(Br,Pr)}function Md(Er,Br,Pr,Zr){for(var to=-1,uo=Er==null?0:Er.length;++to<uo;){var Uo=Er[to];Br(Zr,Uo,Pr(Uo),Er)}return Zr}function ss(Er,Br){for(var Pr=-1,Zr=Er==null?0:Er.length;++Pr<Zr&&Br(Er[Pr],Pr,Er)!==!1;);return Er}function Ud(Er,Br){for(var Pr=Er==null?0:Er.length;Pr--&&Br(Er[Pr],Pr,Er)!==!1;);return Er}function mu(Er,Br){for(var Pr=-1,Zr=Er==null?0:Er.length;++Pr<Zr;)if(!Br(Er[Pr],Pr,Er))return!1;return!0}function Os(Er,Br){for(var Pr=-1,Zr=Er==null?0:Er.length,to=0,uo=[];++Pr<Zr;){var Uo=Er[Pr];Br(Uo,Pr,Er)&&(uo[to++]=Uo)}return uo}function Ji(Er,Br){var Pr=Er==null?0:Er.length;return!!Pr&&ti(Er,Br,0)>-1}function Wa(Er,Br,Pr){for(var Zr=-1,to=Er==null?0:Er.length;++Zr<to;)if(Pr(Br,Er[Zr]))return!0;return!1}function bo(Er,Br){for(var Pr=-1,Zr=Er==null?0:Er.length,to=Array(Zr);++Pr<Zr;)to[Pr]=Br(Er[Pr],Pr,Er);return to}function xs(Er,Br){for(var Pr=-1,Zr=Br.length,to=Er.length;++Pr<Zr;)Er[to+Pr]=Br[Pr];return Er}function ja(Er,Br,Pr,Zr){var to=-1,uo=Er==null?0:Er.length;for(Zr&&uo&&(Pr=Er[++to]);++to<uo;)Pr=Br(Pr,Er[to],to,Er);return Pr}function Kd(Er,Br,Pr,Zr){var to=Er==null?0:Er.length;for(Zr&&to&&(Pr=Er[--to]);to--;)Pr=Br(Pr,Er[to],to,Er);return Pr}function Va(Er,Br){for(var Pr=-1,Zr=Er==null?0:Er.length;++Pr<Zr;)if(Br(Er[Pr],Pr,Er))return!0;return!1}var Dd=Ga("length");function Fd(Er){return Er.split("")}function zd(Er){return Er.match(qi)||[]}function gu(Er,Br,Pr){var Zr;return Pr(Er,function(to,uo,Uo){if(Br(to,uo,Uo))return Zr=uo,!1}),Zr}function Xi(Er,Br,Pr,Zr){for(var to=Er.length,uo=Pr+(Zr?1:-1);Zr?uo--:++uo<to;)if(Br(Er[uo],uo,Er))return uo;return-1}function ti(Er,Br,Pr){return Br===Br?ef(Er,Br,Pr):Xi(Er,yu,Pr)}function Hd(Er,Br,Pr,Zr){for(var to=Pr-1,uo=Er.length;++to<uo;)if(Zr(Er[to],Br))return to;return-1}function yu(Er){return Er!==Er}function bu(Er,Br){var Pr=Er==null?0:Er.length;return Pr?Ya(Er,Br)/Pr:zn}function Ga(Er){return function(Br){return Br==null?t:Br[Er]}}function qa(Er){return function(Br){return Er==null?t:Er[Br]}}function _u(Er,Br,Pr,Zr,to){return to(Er,function(uo,Uo,ho){Pr=Zr?(Zr=!1,uo):Br(Pr,uo,Uo,ho)}),Pr}function Wd(Er,Br){var Pr=Er.length;for(Er.sort(Br);Pr--;)Er[Pr]=Er[Pr].value;return Er}function Ya(Er,Br){for(var Pr,Zr=-1,to=Er.length;++Zr<to;){var uo=Br(Er[Zr]);uo!==t&&(Pr=Pr===t?uo:Pr+uo)}return Pr}function Za(Er,Br){for(var Pr=-1,Zr=Array(Er);++Pr<Er;)Zr[Pr]=Br(Pr);return Zr}function jd(Er,Br){return bo(Br,function(Pr){return[Pr,Er[Pr]]})}function $u(Er){return Er&&Er.slice(0,Eu(Er)+1).replace(yo,"")}function Qo(Er){return function(Br){return Er(Br)}}function Ja(Er,Br){return bo(Br,function(Pr){return Er[Pr]})}function ki(Er,Br){return Er.has(Br)}function Su(Er,Br){for(var Pr=-1,Zr=Er.length;++Pr<Zr&&ti(Br,Er[Pr],0)>-1;);return Pr}function wu(Er,Br){for(var Pr=Er.length;Pr--&&ti(Br,Er[Pr],0)>-1;);return Pr}function Vd(Er,Br){for(var Pr=Er.length,Zr=0;Pr--;)Er[Pr]===Br&&++Zr;return Zr}var Gd=qa(Pd),qd=qa(Cd);function Yd(Er){return"\\"+xd[Er]}function Zd(Er,Br){return Er==null?t:Er[Br]}function ni(Er){return Rd.test(Er)}function Jd(Er){return kd.test(Er)}function Xd(Er){for(var Br,Pr=[];!(Br=Er.next()).done;)Pr.push(Br.value);return Pr}function Xa(Er){var Br=-1,Pr=Array(Er.size);return Er.forEach(function(Zr,to){Pr[++Br]=[to,Zr]}),Pr}function Au(Er,Br){return function(Pr){return Er(Br(Pr))}}function Bs(Er,Br){for(var Pr=-1,Zr=Er.length,to=0,uo=[];++Pr<Zr;){var Uo=Er[Pr];(Uo===Br||Uo===nn)&&(Er[Pr]=nn,uo[to++]=Pr)}return uo}function Qi(Er){var Br=-1,Pr=Array(Er.size);return Er.forEach(function(Zr){Pr[++Br]=Zr}),Pr}function Qd(Er){var Br=-1,Pr=Array(Er.size);return Er.forEach(function(Zr){Pr[++Br]=[Zr,Zr]}),Pr}function ef(Er,Br,Pr){for(var Zr=Pr-1,to=Er.length;++Zr<to;)if(Er[Zr]===Br)return Zr;return-1}function tf(Er,Br,Pr){for(var Zr=Pr+1;Zr--;)if(Er[Zr]===Br)return Zr;return Zr}function ri(Er){return ni(Er)?rf(Er):Dd(Er)}function hs(Er){return ni(Er)?of(Er):Fd(Er)}function Eu(Er){for(var Br=Er.length;Br--&&Io.test(Er.charAt(Br)););return Br}var nf=qa(Od);function rf(Er){for(var Br=Fa.lastIndex=0;Fa.test(Er);)++Br;return Br}function of(Er){return Er.match(Fa)||[]}function sf(Er){return Er.match(Td)||[]}var af=function Er(Br){Br=Br==null?Fo:oi.defaults(Fo.Object(),Br,oi.pick(Fo,vd));var Pr=Br.Array,Zr=Br.Date,to=Br.Error,uo=Br.Function,Uo=Br.Math,ho=Br.Object,Qa=Br.RegExp,cf=Br.String,as=Br.TypeError,ea=Pr.prototype,uf=uo.prototype,si=ho.prototype,ta=Br["__core-js_shared__"],na=uf.toString,fo=si.hasOwnProperty,lf=0,Tu=function(){var rn=/[^.]+$/.exec(ta&&ta.keys&&ta.keys.IE_PROTO||"");return rn?"Symbol(src)_1."+rn:""}(),ra=si.toString,df=na.call(ho),ff=Fo._,hf=Qa("^"+na.call(fo).replace(go,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oa=cu?Br.Buffer:t,Ns=Br.Symbol,sa=Br.Uint8Array,Ru=oa?oa.allocUnsafe:t,ia=Au(ho.getPrototypeOf,ho),ku=ho.create,vu=si.propertyIsEnumerable,aa=ea.splice,Iu=Ns?Ns.isConcatSpreadable:t,vi=Ns?Ns.iterator:t,zs=Ns?Ns.toStringTag:t,ca=function(){try{var rn=Gs(ho,"defineProperty");return rn({},"",{}),rn}catch{}}(),pf=Br.clearTimeout!==Fo.clearTimeout&&Br.clearTimeout,mf=Zr&&Zr.now!==Fo.Date.now&&Zr.now,gf=Br.setTimeout!==Fo.setTimeout&&Br.setTimeout,ua=Uo.ceil,la=Uo.floor,ec=ho.getOwnPropertySymbols,yf=oa?oa.isBuffer:t,Pu=Br.isFinite,bf=ea.join,_f=Au(ho.keys,ho),Ko=Uo.max,Ho=Uo.min,$f=Zr.now,Sf=Br.parseInt,Cu=Uo.random,wf=ea.reverse,tc=Gs(Br,"DataView"),Ii=Gs(Br,"Map"),nc=Gs(Br,"Promise"),ii=Gs(Br,"Set"),Pi=Gs(Br,"WeakMap"),Ci=Gs(ho,"create"),da=Pi&&new Pi,ai={},Af=qs(tc),Ef=qs(Ii),Tf=qs(nc),Rf=qs(ii),kf=qs(Pi),fa=Ns?Ns.prototype:t,Oi=fa?fa.valueOf:t,Ou=fa?fa.toString:t;function Gn(rn){if(No(rn)&&!no(rn)&&!(rn instanceof ao)){if(rn instanceof cs)return rn;if(fo.call(rn,"__wrapped__"))return xl(rn)}return new cs(rn)}var ci=function(){function rn(){}return function(un){if(!Ao(un))return{};if(ku)return ku(un);rn.prototype=un;var wn=new rn;return rn.prototype=t,wn}}();function ha(){}function cs(rn,un){this.__wrapped__=rn,this.__actions__=[],this.__chain__=!!un,this.__index__=0,this.__values__=t}Gn.templateSettings={escape:Ro,evaluate:Wi,interpolate:So,variable:"",imports:{_:Gn}},Gn.prototype=ha.prototype,Gn.prototype.constructor=Gn,cs.prototype=ci(ha.prototype),cs.prototype.constructor=cs;function ao(rn){this.__wrapped__=rn,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Bn,this.__views__=[]}function vf(){var rn=new ao(this.__wrapped__);return rn.__actions__=qo(this.__actions__),rn.__dir__=this.__dir__,rn.__filtered__=this.__filtered__,rn.__iteratees__=qo(this.__iteratees__),rn.__takeCount__=this.__takeCount__,rn.__views__=qo(this.__views__),rn}function If(){if(this.__filtered__){var rn=new ao(this);rn.__dir__=-1,rn.__filtered__=!0}else rn=this.clone(),rn.__dir__*=-1;return rn}function Pf(){var rn=this.__wrapped__.value(),un=this.__dir__,wn=no(rn),xn=un<0,Wn=wn?rn.length:0,Yn=zh(0,Wn,this.__views__),gr=Yn.start,wr=Yn.end,Rr=wr-gr,Lr=xn?wr:gr-1,Mr=this.__iteratees__,Wr=Mr.length,qr=0,Jr=Ho(Rr,this.__takeCount__);if(!wn||!xn&&Wn==Rr&&Jr==Rr)return nl(rn,this.__actions__);var Qr=[];e:for(;Rr--&&qr<Jr;){Lr+=un;for(var oo=-1,eo=rn[Lr];++oo<Wr;){var io=Mr[oo],co=io.iteratee,ns=io.type,Go=co(eo);if(ns==_n)eo=Go;else if(!Go){if(ns==mn)continue e;break e}}Qr[qr++]=eo}return Qr}ao.prototype=ci(ha.prototype),ao.prototype.constructor=ao;function Hs(rn){var un=-1,wn=rn==null?0:rn.length;for(this.clear();++un<wn;){var xn=rn[un];this.set(xn[0],xn[1])}}function Cf(){this.__data__=Ci?Ci(null):{},this.size=0}function Of(rn){var un=this.has(rn)&&delete this.__data__[rn];return this.size-=un?1:0,un}function xf(rn){var un=this.__data__;if(Ci){var wn=un[rn];return wn===en?t:wn}return fo.call(un,rn)?un[rn]:t}function Bf(rn){var un=this.__data__;return Ci?un[rn]!==t:fo.call(un,rn)}function Nf(rn,un){var wn=this.__data__;return this.size+=this.has(rn)?0:1,wn[rn]=Ci&&un===t?en:un,this}Hs.prototype.clear=Cf,Hs.prototype.delete=Of,Hs.prototype.get=xf,Hs.prototype.has=Bf,Hs.prototype.set=Nf;function Ss(rn){var un=-1,wn=rn==null?0:rn.length;for(this.clear();++un<wn;){var xn=rn[un];this.set(xn[0],xn[1])}}function Lf(){this.__data__=[],this.size=0}function Mf(rn){var un=this.__data__,wn=pa(un,rn);if(wn<0)return!1;var xn=un.length-1;return wn==xn?un.pop():aa.call(un,wn,1),--this.size,!0}function Uf(rn){var un=this.__data__,wn=pa(un,rn);return wn<0?t:un[wn][1]}function Kf(rn){return pa(this.__data__,rn)>-1}function Df(rn,un){var wn=this.__data__,xn=pa(wn,rn);return xn<0?(++this.size,wn.push([rn,un])):wn[xn][1]=un,this}Ss.prototype.clear=Lf,Ss.prototype.delete=Mf,Ss.prototype.get=Uf,Ss.prototype.has=Kf,Ss.prototype.set=Df;function ws(rn){var un=-1,wn=rn==null?0:rn.length;for(this.clear();++un<wn;){var xn=rn[un];this.set(xn[0],xn[1])}}function Ff(){this.size=0,this.__data__={hash:new Hs,map:new(Ii||Ss),string:new Hs}}function zf(rn){var un=ka(this,rn).delete(rn);return this.size-=un?1:0,un}function Hf(rn){return ka(this,rn).get(rn)}function Wf(rn){return ka(this,rn).has(rn)}function jf(rn,un){var wn=ka(this,rn),xn=wn.size;return wn.set(rn,un),this.size+=wn.size==xn?0:1,this}ws.prototype.clear=Ff,ws.prototype.delete=zf,ws.prototype.get=Hf,ws.prototype.has=Wf,ws.prototype.set=jf;function Ws(rn){var un=-1,wn=rn==null?0:rn.length;for(this.__data__=new ws;++un<wn;)this.add(rn[un])}function Vf(rn){return this.__data__.set(rn,en),this}function Gf(rn){return this.__data__.has(rn)}Ws.prototype.add=Ws.prototype.push=Vf,Ws.prototype.has=Gf;function ps(rn){var un=this.__data__=new Ss(rn);this.size=un.size}function qf(){this.__data__=new Ss,this.size=0}function Yf(rn){var un=this.__data__,wn=un.delete(rn);return this.size=un.size,wn}function Zf(rn){return this.__data__.get(rn)}function Jf(rn){return this.__data__.has(rn)}function Xf(rn,un){var wn=this.__data__;if(wn instanceof Ss){var xn=wn.__data__;if(!Ii||xn.length<o-1)return xn.push([rn,un]),this.size=++wn.size,this;wn=this.__data__=new ws(xn)}return wn.set(rn,un),this.size=wn.size,this}ps.prototype.clear=qf,ps.prototype.delete=Yf,ps.prototype.get=Zf,ps.prototype.has=Jf,ps.prototype.set=Xf;function xu(rn,un){var wn=no(rn),xn=!wn&&Ys(rn),Wn=!wn&&!xn&&Ds(rn),Yn=!wn&&!xn&&!Wn&&fi(rn),gr=wn||xn||Wn||Yn,wr=gr?Za(rn.length,cf):[],Rr=wr.length;for(var Lr in rn)(un||fo.call(rn,Lr))&&!(gr&&(Lr=="length"||Wn&&(Lr=="offset"||Lr=="parent")||Yn&&(Lr=="buffer"||Lr=="byteLength"||Lr=="byteOffset")||Rs(Lr,Rr)))&&wr.push(Lr);return wr}function Bu(rn){var un=rn.length;return un?rn[hc(0,un-1)]:t}function Qf(rn,un){return va(qo(rn),js(un,0,rn.length))}function eh(rn){return va(qo(rn))}function rc(rn,un,wn){(wn!==t&&!gs(rn[un],wn)||wn===t&&!(un in rn))&&As(rn,un,wn)}function xi(rn,un,wn){var xn=rn[un];(!(fo.call(rn,un)&&gs(xn,wn))||wn===t&&!(un in rn))&&As(rn,un,wn)}function pa(rn,un){for(var wn=rn.length;wn--;)if(gs(rn[wn][0],un))return wn;return-1}function th(rn,un,wn,xn){return Ls(rn,function(Wn,Yn,gr){un(xn,Wn,wn(Wn),gr)}),xn}function Nu(rn,un){return rn&&_s(un,Do(un),rn)}function nh(rn,un){return rn&&_s(un,Zo(un),rn)}function As(rn,un,wn){un=="__proto__"&&ca?ca(rn,un,{configurable:!0,enumerable:!0,value:wn,writable:!0}):rn[un]=wn}function oc(rn,un){for(var wn=-1,xn=un.length,Wn=Pr(xn),Yn=rn==null;++wn<xn;)Wn[wn]=Yn?t:Uc(rn,un[wn]);return Wn}function js(rn,un,wn){return rn===rn&&(wn!==t&&(rn=rn<=wn?rn:wn),un!==t&&(rn=rn>=un?rn:un)),rn}function us(rn,un,wn,xn,Wn,Yn){var gr,wr=un&sn,Rr=un&fn,Lr=un&dn;if(wn&&(gr=Wn?wn(rn,xn,Wn,Yn):wn(rn)),gr!==t)return gr;if(!Ao(rn))return rn;var Mr=no(rn);if(Mr){if(gr=Wh(rn),!wr)return qo(rn,gr)}else{var Wr=Wo(rn),qr=Wr==qn||Wr==Jn;if(Ds(rn))return sl(rn,wr);if(Wr==Ir||Wr==Sr||qr&&!Wn){if(gr=Rr||qr?{}:El(rn),!wr)return Rr?xh(rn,nh(gr,rn)):Oh(rn,Nu(gr,rn))}else{if(!po[Wr])return Wn?rn:{};gr=jh(rn,Wr,wr)}}Yn||(Yn=new ps);var Jr=Yn.get(rn);if(Jr)return Jr;Yn.set(rn,gr),Ql(rn)?rn.forEach(function(eo){gr.add(us(eo,un,wn,eo,rn,Yn))}):Jl(rn)&&rn.forEach(function(eo,io){gr.set(io,us(eo,un,wn,io,rn,Yn))});var Qr=Lr?Rr?Ec:Ac:Rr?Zo:Do,oo=Mr?t:Qr(rn);return ss(oo||rn,function(eo,io){oo&&(io=eo,eo=rn[io]),xi(gr,io,us(eo,un,wn,io,rn,Yn))}),gr}function rh(rn){var un=Do(rn);return function(wn){return Lu(wn,rn,un)}}function Lu(rn,un,wn){var xn=wn.length;if(rn==null)return!xn;for(rn=ho(rn);xn--;){var Wn=wn[xn],Yn=un[Wn],gr=rn[Wn];if(gr===t&&!(Wn in rn)||!Yn(gr))return!1}return!0}function Mu(rn,un,wn){if(typeof rn!="function")throw new as(c);return Di(function(){rn.apply(t,wn)},un)}function Bi(rn,un,wn,xn){var Wn=-1,Yn=Ji,gr=!0,wr=rn.length,Rr=[],Lr=un.length;if(!wr)return Rr;wn&&(un=bo(un,Qo(wn))),xn?(Yn=Wa,gr=!1):un.length>=o&&(Yn=ki,gr=!1,un=new Ws(un));e:for(;++Wn<wr;){var Mr=rn[Wn],Wr=wn==null?Mr:wn(Mr);if(Mr=xn||Mr!==0?Mr:0,gr&&Wr===Wr){for(var qr=Lr;qr--;)if(un[qr]===Wr)continue e;Rr.push(Mr)}else Yn(un,Wr,xn)||Rr.push(Mr)}return Rr}var Ls=ll(bs),Uu=ll(ic,!0);function oh(rn,un){var wn=!0;return Ls(rn,function(xn,Wn,Yn){return wn=!!un(xn,Wn,Yn),wn}),wn}function ma(rn,un,wn){for(var xn=-1,Wn=rn.length;++xn<Wn;){var Yn=rn[xn],gr=un(Yn);if(gr!=null&&(wr===t?gr===gr&&!ts(gr):wn(gr,wr)))var wr=gr,Rr=Yn}return Rr}function sh(rn,un,wn,xn){var Wn=rn.length;for(wn=ro(wn),wn<0&&(wn=-wn>Wn?0:Wn+wn),xn=xn===t||xn>Wn?Wn:ro(xn),xn<0&&(xn+=Wn),xn=wn>xn?0:td(xn);wn<xn;)rn[wn++]=un;return rn}function Ku(rn,un){var wn=[];return Ls(rn,function(xn,Wn,Yn){un(xn,Wn,Yn)&&wn.push(xn)}),wn}function zo(rn,un,wn,xn,Wn){var Yn=-1,gr=rn.length;for(wn||(wn=Gh),Wn||(Wn=[]);++Yn<gr;){var wr=rn[Yn];un>0&&wn(wr)?un>1?zo(wr,un-1,wn,xn,Wn):xs(Wn,wr):xn||(Wn[Wn.length]=wr)}return Wn}var sc=dl(),Du=dl(!0);function bs(rn,un){return rn&&sc(rn,un,Do)}function ic(rn,un){return rn&&Du(rn,un,Do)}function ga(rn,un){return Os(un,function(wn){return ks(rn[wn])})}function Vs(rn,un){un=Us(un,rn);for(var wn=0,xn=un.length;rn!=null&&wn<xn;)rn=rn[$s(un[wn++])];return wn&&wn==xn?rn:t}function Fu(rn,un,wn){var xn=un(rn);return no(rn)?xn:xs(xn,wn(rn))}function jo(rn){return rn==null?rn===t?jr:Or:zs&&zs in ho(rn)?Fh(rn):ep(rn)}function ac(rn,un){return rn>un}function ih(rn,un){return rn!=null&&fo.call(rn,un)}function ah(rn,un){return rn!=null&&un in ho(rn)}function ch(rn,un,wn){return rn>=Ho(un,wn)&&rn<Ko(un,wn)}function cc(rn,un,wn){for(var xn=wn?Wa:Ji,Wn=rn[0].length,Yn=rn.length,gr=Yn,wr=Pr(Yn),Rr=1/0,Lr=[];gr--;){var Mr=rn[gr];gr&&un&&(Mr=bo(Mr,Qo(un))),Rr=Ho(Mr.length,Rr),wr[gr]=!wn&&(un||Wn>=120&&Mr.length>=120)?new Ws(gr&&Mr):t}Mr=rn[0];var Wr=-1,qr=wr[0];e:for(;++Wr<Wn&&Lr.length<Rr;){var Jr=Mr[Wr],Qr=un?un(Jr):Jr;if(Jr=wn||Jr!==0?Jr:0,!(qr?ki(qr,Qr):xn(Lr,Qr,wn))){for(gr=Yn;--gr;){var oo=wr[gr];if(!(oo?ki(oo,Qr):xn(rn[gr],Qr,wn)))continue e}qr&&qr.push(Qr),Lr.push(Jr)}}return Lr}function uh(rn,un,wn,xn){return bs(rn,function(Wn,Yn,gr){un(xn,wn(Wn),Yn,gr)}),xn}function Ni(rn,un,wn){un=Us(un,rn),rn=vl(rn,un);var xn=rn==null?rn:rn[$s(ds(un))];return xn==null?t:Xo(xn,rn,wn)}function zu(rn){return No(rn)&&jo(rn)==Sr}function lh(rn){return No(rn)&&jo(rn)==gn}function dh(rn){return No(rn)&&jo(rn)==_r}function Li(rn,un,wn,xn,Wn){return rn===un?!0:rn==null||un==null||!No(rn)&&!No(un)?rn!==rn&&un!==un:fh(rn,un,wn,xn,Li,Wn)}function fh(rn,un,wn,xn,Wn,Yn){var gr=no(rn),wr=no(un),Rr=gr?$r:Wo(rn),Lr=wr?$r:Wo(un);Rr=Rr==Sr?Ir:Rr,Lr=Lr==Sr?Ir:Lr;var Mr=Rr==Ir,Wr=Lr==Ir,qr=Rr==Lr;if(qr&&Ds(rn)){if(!Ds(un))return!1;gr=!0,Mr=!1}if(qr&&!Mr)return Yn||(Yn=new ps),gr||fi(rn)?Sl(rn,un,wn,xn,Wn,Yn):Kh(rn,un,Rr,wn,xn,Wn,Yn);if(!(wn&hn)){var Jr=Mr&&fo.call(rn,"__wrapped__"),Qr=Wr&&fo.call(un,"__wrapped__");if(Jr||Qr){var oo=Jr?rn.value():rn,eo=Qr?un.value():un;return Yn||(Yn=new ps),Wn(oo,eo,wn,xn,Yn)}}return qr?(Yn||(Yn=new ps),Dh(rn,un,wn,xn,Wn,Yn)):!1}function hh(rn){return No(rn)&&Wo(rn)==Qn}function uc(rn,un,wn,xn){var Wn=wn.length,Yn=Wn,gr=!xn;if(rn==null)return!Yn;for(rn=ho(rn);Wn--;){var wr=wn[Wn];if(gr&&wr[2]?wr[1]!==rn[wr[0]]:!(wr[0]in rn))return!1}for(;++Wn<Yn;){wr=wn[Wn];var Rr=wr[0],Lr=rn[Rr],Mr=wr[1];if(gr&&wr[2]){if(Lr===t&&!(Rr in rn))return!1}else{var Wr=new ps;if(xn)var qr=xn(Lr,Mr,Rr,rn,un,Wr);if(!(qr===t?Li(Mr,Lr,hn|ln,xn,Wr):qr))return!1}}return!0}function Hu(rn){if(!Ao(rn)||Yh(rn))return!1;var un=ks(rn)?hf:mi;return un.test(qs(rn))}function ph(rn){return No(rn)&&jo(rn)==Nr}function mh(rn){return No(rn)&&Wo(rn)==vr}function gh(rn){return No(rn)&&Ba(rn.length)&&!!mo[jo(rn)]}function Wu(rn){return typeof rn=="function"?rn:rn==null?Jo:typeof rn=="object"?no(rn)?Gu(rn[0],rn[1]):Vu(rn):fd(rn)}function lc(rn){if(!Ki(rn))return _f(rn);var un=[];for(var wn in ho(rn))fo.call(rn,wn)&&wn!="constructor"&&un.push(wn);return un}function yh(rn){if(!Ao(rn))return Qh(rn);var un=Ki(rn),wn=[];for(var xn in rn)xn=="constructor"&&(un||!fo.call(rn,xn))||wn.push(xn);return wn}function dc(rn,un){return rn<un}function ju(rn,un){var wn=-1,xn=Yo(rn)?Pr(rn.length):[];return Ls(rn,function(Wn,Yn,gr){xn[++wn]=un(Wn,Yn,gr)}),xn}function Vu(rn){var un=Rc(rn);return un.length==1&&un[0][2]?Rl(un[0][0],un[0][1]):function(wn){return wn===rn||uc(wn,rn,un)}}function Gu(rn,un){return vc(rn)&&Tl(un)?Rl($s(rn),un):function(wn){var xn=Uc(wn,rn);return xn===t&&xn===un?Kc(wn,rn):Li(un,xn,hn|ln)}}function ya(rn,un,wn,xn,Wn){rn!==un&&sc(un,function(Yn,gr){if(Wn||(Wn=new ps),Ao(Yn))bh(rn,un,gr,wn,ya,xn,Wn);else{var wr=xn?xn(Pc(rn,gr),Yn,gr+"",rn,un,Wn):t;wr===t&&(wr=Yn),rc(rn,gr,wr)}},Zo)}function bh(rn,un,wn,xn,Wn,Yn,gr){var wr=Pc(rn,wn),Rr=Pc(un,wn),Lr=gr.get(Rr);if(Lr){rc(rn,wn,Lr);return}var Mr=Yn?Yn(wr,Rr,wn+"",rn,un,gr):t,Wr=Mr===t;if(Wr){var qr=no(Rr),Jr=!qr&&Ds(Rr),Qr=!qr&&!Jr&&fi(Rr);Mr=Rr,qr||Jr||Qr?no(wr)?Mr=wr:Lo(wr)?Mr=qo(wr):Jr?(Wr=!1,Mr=sl(Rr,!0)):Qr?(Wr=!1,Mr=il(Rr,!0)):Mr=[]:Fi(Rr)||Ys(Rr)?(Mr=wr,Ys(wr)?Mr=nd(wr):(!Ao(wr)||ks(wr))&&(Mr=El(Rr))):Wr=!1}Wr&&(gr.set(Rr,Mr),Wn(Mr,Rr,xn,Yn,gr),gr.delete(Rr)),rc(rn,wn,Mr)}function qu(rn,un){var wn=rn.length;if(!!wn)return un+=un<0?wn:0,Rs(un,wn)?rn[un]:t}function Yu(rn,un,wn){un.length?un=bo(un,function(Yn){return no(Yn)?function(gr){return Vs(gr,Yn.length===1?Yn[0]:Yn)}:Yn}):un=[Jo];var xn=-1;un=bo(un,Qo(Xr()));var Wn=ju(rn,function(Yn,gr,wr){var Rr=bo(un,function(Lr){return Lr(Yn)});return{criteria:Rr,index:++xn,value:Yn}});return Wd(Wn,function(Yn,gr){return Ch(Yn,gr,wn)})}function _h(rn,un){return Zu(rn,un,function(wn,xn){return Kc(rn,xn)})}function Zu(rn,un,wn){for(var xn=-1,Wn=un.length,Yn={};++xn<Wn;){var gr=un[xn],wr=Vs(rn,gr);wn(wr,gr)&&Mi(Yn,Us(gr,rn),wr)}return Yn}function $h(rn){return function(un){return Vs(un,rn)}}function fc(rn,un,wn,xn){var Wn=xn?Hd:ti,Yn=-1,gr=un.length,wr=rn;for(rn===un&&(un=qo(un)),wn&&(wr=bo(rn,Qo(wn)));++Yn<gr;)for(var Rr=0,Lr=un[Yn],Mr=wn?wn(Lr):Lr;(Rr=Wn(wr,Mr,Rr,xn))>-1;)wr!==rn&&aa.call(wr,Rr,1),aa.call(rn,Rr,1);return rn}function Ju(rn,un){for(var wn=rn?un.length:0,xn=wn-1;wn--;){var Wn=un[wn];if(wn==xn||Wn!==Yn){var Yn=Wn;Rs(Wn)?aa.call(rn,Wn,1):gc(rn,Wn)}}return rn}function hc(rn,un){return rn+la(Cu()*(un-rn+1))}function Sh(rn,un,wn,xn){for(var Wn=-1,Yn=Ko(ua((un-rn)/(wn||1)),0),gr=Pr(Yn);Yn--;)gr[xn?Yn:++Wn]=rn,rn+=wn;return gr}function pc(rn,un){var wn="";if(!rn||un<1||un>Nn)return wn;do un%2&&(wn+=rn),un=la(un/2),un&&(rn+=rn);while(un);return wn}function so(rn,un){return Cc(kl(rn,un,Jo),rn+"")}function wh(rn){return Bu(hi(rn))}function Ah(rn,un){var wn=hi(rn);return va(wn,js(un,0,wn.length))}function Mi(rn,un,wn,xn){if(!Ao(rn))return rn;un=Us(un,rn);for(var Wn=-1,Yn=un.length,gr=Yn-1,wr=rn;wr!=null&&++Wn<Yn;){var Rr=$s(un[Wn]),Lr=wn;if(Rr==="__proto__"||Rr==="constructor"||Rr==="prototype")return rn;if(Wn!=gr){var Mr=wr[Rr];Lr=xn?xn(Mr,Rr,wr):t,Lr===t&&(Lr=Ao(Mr)?Mr:Rs(un[Wn+1])?[]:{})}xi(wr,Rr,Lr),wr=wr[Rr]}return rn}var Xu=da?function(rn,un){return da.set(rn,un),rn}:Jo,Eh=ca?function(rn,un){return ca(rn,"toString",{configurable:!0,enumerable:!1,value:Fc(un),writable:!0})}:Jo;function Th(rn){return va(hi(rn))}function ls(rn,un,wn){var xn=-1,Wn=rn.length;un<0&&(un=-un>Wn?0:Wn+un),wn=wn>Wn?Wn:wn,wn<0&&(wn+=Wn),Wn=un>wn?0:wn-un>>>0,un>>>=0;for(var Yn=Pr(Wn);++xn<Wn;)Yn[xn]=rn[xn+un];return Yn}function Rh(rn,un){var wn;return Ls(rn,function(xn,Wn,Yn){return wn=un(xn,Wn,Yn),!wn}),!!wn}function ba(rn,un,wn){var xn=0,Wn=rn==null?xn:rn.length;if(typeof un=="number"&&un===un&&Wn<=Mn){for(;xn<Wn;){var Yn=xn+Wn>>>1,gr=rn[Yn];gr!==null&&!ts(gr)&&(wn?gr<=un:gr<un)?xn=Yn+1:Wn=Yn}return Wn}return mc(rn,un,Jo,wn)}function mc(rn,un,wn,xn){var Wn=0,Yn=rn==null?0:rn.length;if(Yn===0)return 0;un=wn(un);for(var gr=un!==un,wr=un===null,Rr=ts(un),Lr=un===t;Wn<Yn;){var Mr=la((Wn+Yn)/2),Wr=wn(rn[Mr]),qr=Wr!==t,Jr=Wr===null,Qr=Wr===Wr,oo=ts(Wr);if(gr)var eo=xn||Qr;else Lr?eo=Qr&&(xn||qr):wr?eo=Qr&&qr&&(xn||!Jr):Rr?eo=Qr&&qr&&!Jr&&(xn||!oo):Jr||oo?eo=!1:eo=xn?Wr<=un:Wr<un;eo?Wn=Mr+1:Yn=Mr}return Ho(Yn,En)}function Qu(rn,un){for(var wn=-1,xn=rn.length,Wn=0,Yn=[];++wn<xn;){var gr=rn[wn],wr=un?un(gr):gr;if(!wn||!gs(wr,Rr)){var Rr=wr;Yn[Wn++]=gr===0?0:gr}}return Yn}function el(rn){return typeof rn=="number"?rn:ts(rn)?zn:+rn}function es(rn){if(typeof rn=="string")return rn;if(no(rn))return bo(rn,es)+"";if(ts(rn))return Ou?Ou.call(rn):"";var un=rn+"";return un=="0"&&1/rn==-On?"-0":un}function Ms(rn,un,wn){var xn=-1,Wn=Ji,Yn=rn.length,gr=!0,wr=[],Rr=wr;if(wn)gr=!1,Wn=Wa;else if(Yn>=o){var Lr=un?null:Mh(rn);if(Lr)return Qi(Lr);gr=!1,Wn=ki,Rr=new Ws}else Rr=un?[]:wr;e:for(;++xn<Yn;){var Mr=rn[xn],Wr=un?un(Mr):Mr;if(Mr=wn||Mr!==0?Mr:0,gr&&Wr===Wr){for(var qr=Rr.length;qr--;)if(Rr[qr]===Wr)continue e;un&&Rr.push(Wr),wr.push(Mr)}else Wn(Rr,Wr,wn)||(Rr!==wr&&Rr.push(Wr),wr.push(Mr))}return wr}function gc(rn,un){return un=Us(un,rn),rn=vl(rn,un),rn==null||delete rn[$s(ds(un))]}function tl(rn,un,wn,xn){return Mi(rn,un,wn(Vs(rn,un)),xn)}function $a(rn,un,wn,xn){for(var Wn=rn.length,Yn=xn?Wn:-1;(xn?Yn--:++Yn<Wn)&&un(rn[Yn],Yn,rn););return wn?ls(rn,xn?0:Yn,xn?Yn+1:Wn):ls(rn,xn?Yn+1:0,xn?Wn:Yn)}function nl(rn,un){var wn=rn;return wn instanceof ao&&(wn=wn.value()),ja(un,function(xn,Wn){return Wn.func.apply(Wn.thisArg,xs([xn],Wn.args))},wn)}function yc(rn,un,wn){var xn=rn.length;if(xn<2)return xn?Ms(rn[0]):[];for(var Wn=-1,Yn=Pr(xn);++Wn<xn;)for(var gr=rn[Wn],wr=-1;++wr<xn;)wr!=Wn&&(Yn[Wn]=Bi(Yn[Wn]||gr,rn[wr],un,wn));return Ms(zo(Yn,1),un,wn)}function rl(rn,un,wn){for(var xn=-1,Wn=rn.length,Yn=un.length,gr={};++xn<Wn;){var wr=xn<Yn?un[xn]:t;wn(gr,rn[xn],wr)}return gr}function bc(rn){return Lo(rn)?rn:[]}function _c(rn){return typeof rn=="function"?rn:Jo}function Us(rn,un){return no(rn)?rn:vc(rn,un)?[rn]:Ol(lo(rn))}var kh=so;function Ks(rn,un,wn){var xn=rn.length;return wn=wn===t?xn:wn,!un&&wn>=xn?rn:ls(rn,un,wn)}var ol=pf||function(rn){return Fo.clearTimeout(rn)};function sl(rn,un){if(un)return rn.slice();var wn=rn.length,xn=Ru?Ru(wn):new rn.constructor(wn);return rn.copy(xn),xn}function $c(rn){var un=new rn.constructor(rn.byteLength);return new sa(un).set(new sa(rn)),un}function vh(rn,un){var wn=un?$c(rn.buffer):rn.buffer;return new rn.constructor(wn,rn.byteOffset,rn.byteLength)}function Ih(rn){var un=new rn.constructor(rn.source,wo.exec(rn));return un.lastIndex=rn.lastIndex,un}function Ph(rn){return Oi?ho(Oi.call(rn)):{}}function il(rn,un){var wn=un?$c(rn.buffer):rn.buffer;return new rn.constructor(wn,rn.byteOffset,rn.length)}function al(rn,un){if(rn!==un){var wn=rn!==t,xn=rn===null,Wn=rn===rn,Yn=ts(rn),gr=un!==t,wr=un===null,Rr=un===un,Lr=ts(un);if(!wr&&!Lr&&!Yn&&rn>un||Yn&&gr&&Rr&&!wr&&!Lr||xn&&gr&&Rr||!wn&&Rr||!Wn)return 1;if(!xn&&!Yn&&!Lr&&rn<un||Lr&&wn&&Wn&&!xn&&!Yn||wr&&wn&&Wn||!gr&&Wn||!Rr)return-1}return 0}function Ch(rn,un,wn){for(var xn=-1,Wn=rn.criteria,Yn=un.criteria,gr=Wn.length,wr=wn.length;++xn<gr;){var Rr=al(Wn[xn],Yn[xn]);if(Rr){if(xn>=wr)return Rr;var Lr=wn[xn];return Rr*(Lr=="desc"?-1:1)}}return rn.index-un.index}function cl(rn,un,wn,xn){for(var Wn=-1,Yn=rn.length,gr=wn.length,wr=-1,Rr=un.length,Lr=Ko(Yn-gr,0),Mr=Pr(Rr+Lr),Wr=!xn;++wr<Rr;)Mr[wr]=un[wr];for(;++Wn<gr;)(Wr||Wn<Yn)&&(Mr[wn[Wn]]=rn[Wn]);for(;Lr--;)Mr[wr++]=rn[Wn++];return Mr}function ul(rn,un,wn,xn){for(var Wn=-1,Yn=rn.length,gr=-1,wr=wn.length,Rr=-1,Lr=un.length,Mr=Ko(Yn-wr,0),Wr=Pr(Mr+Lr),qr=!xn;++Wn<Mr;)Wr[Wn]=rn[Wn];for(var Jr=Wn;++Rr<Lr;)Wr[Jr+Rr]=un[Rr];for(;++gr<wr;)(qr||Wn<Yn)&&(Wr[Jr+wn[gr]]=rn[Wn++]);return Wr}function qo(rn,un){var wn=-1,xn=rn.length;for(un||(un=Pr(xn));++wn<xn;)un[wn]=rn[wn];return un}function _s(rn,un,wn,xn){var Wn=!wn;wn||(wn={});for(var Yn=-1,gr=un.length;++Yn<gr;){var wr=un[Yn],Rr=xn?xn(wn[wr],rn[wr],wr,wn,rn):t;Rr===t&&(Rr=rn[wr]),Wn?As(wn,wr,Rr):xi(wn,wr,Rr)}return wn}function Oh(rn,un){return _s(rn,kc(rn),un)}function xh(rn,un){return _s(rn,wl(rn),un)}function Sa(rn,un){return function(wn,xn){var Wn=no(wn)?Md:th,Yn=un?un():{};return Wn(wn,rn,Xr(xn,2),Yn)}}function ui(rn){return so(function(un,wn){var xn=-1,Wn=wn.length,Yn=Wn>1?wn[Wn-1]:t,gr=Wn>2?wn[2]:t;for(Yn=rn.length>3&&typeof Yn=="function"?(Wn--,Yn):t,gr&&Vo(wn[0],wn[1],gr)&&(Yn=Wn<3?t:Yn,Wn=1),un=ho(un);++xn<Wn;){var wr=wn[xn];wr&&rn(un,wr,xn,Yn)}return un})}function ll(rn,un){return function(wn,xn){if(wn==null)return wn;if(!Yo(wn))return rn(wn,xn);for(var Wn=wn.length,Yn=un?Wn:-1,gr=ho(wn);(un?Yn--:++Yn<Wn)&&xn(gr[Yn],Yn,gr)!==!1;);return wn}}function dl(rn){return function(un,wn,xn){for(var Wn=-1,Yn=ho(un),gr=xn(un),wr=gr.length;wr--;){var Rr=gr[rn?wr:++Wn];if(wn(Yn[Rr],Rr,Yn)===!1)break}return un}}function Bh(rn,un,wn){var xn=un&pn,Wn=Ui(rn);function Yn(){var gr=this&&this!==Fo&&this instanceof Yn?Wn:rn;return gr.apply(xn?wn:this,arguments)}return Yn}function fl(rn){return function(un){un=lo(un);var wn=ni(un)?hs(un):t,xn=wn?wn[0]:un.charAt(0),Wn=wn?Ks(wn,1).join(""):un.slice(1);return xn[rn]()+Wn}}function li(rn){return function(un){return ja(ld(ud(un).replace(Ad,"")),rn,"")}}function Ui(rn){return function(){var un=arguments;switch(un.length){case 0:return new rn;case 1:return new rn(un[0]);case 2:return new rn(un[0],un[1]);case 3:return new rn(un[0],un[1],un[2]);case 4:return new rn(un[0],un[1],un[2],un[3]);case 5:return new rn(un[0],un[1],un[2],un[3],un[4]);case 6:return new rn(un[0],un[1],un[2],un[3],un[4],un[5]);case 7:return new rn(un[0],un[1],un[2],un[3],un[4],un[5],un[6])}var wn=ci(rn.prototype),xn=rn.apply(wn,un);return Ao(xn)?xn:wn}}function Nh(rn,un,wn){var xn=Ui(rn);function Wn(){for(var Yn=arguments.length,gr=Pr(Yn),wr=Yn,Rr=di(Wn);wr--;)gr[wr]=arguments[wr];var Lr=Yn<3&&gr[0]!==Rr&&gr[Yn-1]!==Rr?[]:Bs(gr,Rr);if(Yn-=Lr.length,Yn<wn)return yl(rn,un,wa,Wn.placeholder,t,gr,Lr,t,t,wn-Yn);var Mr=this&&this!==Fo&&this instanceof Wn?xn:rn;return Xo(Mr,this,gr)}return Wn}function hl(rn){return function(un,wn,xn){var Wn=ho(un);if(!Yo(un)){var Yn=Xr(wn,3);un=Do(un),wn=function(wr){return Yn(Wn[wr],wr,Wn)}}var gr=rn(un,wn,xn);return gr>-1?Wn[Yn?un[gr]:gr]:t}}function pl(rn){return Ts(function(un){var wn=un.length,xn=wn,Wn=cs.prototype.thru;for(rn&&un.reverse();xn--;){var Yn=un[xn];if(typeof Yn!="function")throw new as(c);if(Wn&&!gr&&Ra(Yn)=="wrapper")var gr=new cs([],!0)}for(xn=gr?xn:wn;++xn<wn;){Yn=un[xn];var wr=Ra(Yn),Rr=wr=="wrapper"?Tc(Yn):t;Rr&&Ic(Rr[0])&&Rr[1]==(kn|yn|An|Pn)&&!Rr[4].length&&Rr[9]==1?gr=gr[Ra(Rr[0])].apply(gr,Rr[3]):gr=Yn.length==1&&Ic(Yn)?gr[wr]():gr.thru(Yn)}return function(){var Lr=arguments,Mr=Lr[0];if(gr&&Lr.length==1&&no(Mr))return gr.plant(Mr).value();for(var Wr=0,qr=wn?un[Wr].apply(this,Lr):Mr;++Wr<wn;)qr=un[Wr].call(this,qr);return qr}})}function wa(rn,un,wn,xn,Wn,Yn,gr,wr,Rr,Lr){var Mr=un&kn,Wr=un&pn,qr=un&$n,Jr=un&(yn|In),Qr=un&Dn,oo=qr?t:Ui(rn);function eo(){for(var io=arguments.length,co=Pr(io),ns=io;ns--;)co[ns]=arguments[ns];if(Jr)var Go=di(eo),rs=Vd(co,Go);if(xn&&(co=cl(co,xn,Wn,Jr)),Yn&&(co=ul(co,Yn,gr,Jr)),io-=rs,Jr&&io<Lr){var Mo=Bs(co,Go);return yl(rn,un,wa,eo.placeholder,wn,co,Mo,wr,Rr,Lr-io)}var ys=Wr?wn:this,Is=qr?ys[rn]:rn;return io=co.length,wr?co=tp(co,wr):Qr&&io>1&&co.reverse(),Mr&&Rr<io&&(co.length=Rr),this&&this!==Fo&&this instanceof eo&&(Is=oo||Ui(Is)),Is.apply(ys,co)}return eo}function ml(rn,un){return function(wn,xn){return uh(wn,rn,un(xn),{})}}function Aa(rn,un){return function(wn,xn){var Wn;if(wn===t&&xn===t)return un;if(wn!==t&&(Wn=wn),xn!==t){if(Wn===t)return xn;typeof wn=="string"||typeof xn=="string"?(wn=es(wn),xn=es(xn)):(wn=el(wn),xn=el(xn)),Wn=rn(wn,xn)}return Wn}}function Sc(rn){return Ts(function(un){return un=bo(un,Qo(Xr())),so(function(wn){var xn=this;return rn(un,function(Wn){return Xo(Wn,xn,wn)})})})}function Ea(rn,un){un=un===t?" ":es(un);var wn=un.length;if(wn<2)return wn?pc(un,rn):un;var xn=pc(un,ua(rn/ri(un)));return ni(un)?Ks(hs(xn),0,rn).join(""):xn.slice(0,rn)}function Lh(rn,un,wn,xn){var Wn=un&pn,Yn=Ui(rn);function gr(){for(var wr=-1,Rr=arguments.length,Lr=-1,Mr=xn.length,Wr=Pr(Mr+Rr),qr=this&&this!==Fo&&this instanceof gr?Yn:rn;++Lr<Mr;)Wr[Lr]=xn[Lr];for(;Rr--;)Wr[Lr++]=arguments[++wr];return Xo(qr,Wn?wn:this,Wr)}return gr}function gl(rn){return function(un,wn,xn){return xn&&typeof xn!="number"&&Vo(un,wn,xn)&&(wn=xn=t),un=vs(un),wn===t?(wn=un,un=0):wn=vs(wn),xn=xn===t?un<wn?1:-1:vs(xn),Sh(un,wn,xn,rn)}}function Ta(rn){return function(un,wn){return typeof un=="string"&&typeof wn=="string"||(un=fs(un),wn=fs(wn)),rn(un,wn)}}function yl(rn,un,wn,xn,Wn,Yn,gr,wr,Rr,Lr){var Mr=un&yn,Wr=Mr?gr:t,qr=Mr?t:gr,Jr=Mr?Yn:t,Qr=Mr?t:Yn;un|=Mr?An:Tn,un&=~(Mr?Tn:An),un&Sn||(un&=~(pn|$n));var oo=[rn,un,Wn,Jr,Wr,Qr,qr,wr,Rr,Lr],eo=wn.apply(t,oo);return Ic(rn)&&Il(eo,oo),eo.placeholder=xn,Pl(eo,rn,un)}function wc(rn){var un=Uo[rn];return function(wn,xn){if(wn=fs(wn),xn=xn==null?0:Ho(ro(xn),292),xn&&Pu(wn)){var Wn=(lo(wn)+"e").split("e"),Yn=un(Wn[0]+"e"+(+Wn[1]+xn));return Wn=(lo(Yn)+"e").split("e"),+(Wn[0]+"e"+(+Wn[1]-xn))}return un(wn)}}var Mh=ii&&1/Qi(new ii([,-0]))[1]==On?function(rn){return new ii(rn)}:Wc;function bl(rn){return function(un){var wn=Wo(un);return wn==Qn?Xa(un):wn==vr?Qd(un):jd(un,rn(un))}}function Es(rn,un,wn,xn,Wn,Yn,gr,wr){var Rr=un&$n;if(!Rr&&typeof rn!="function")throw new as(c);var Lr=xn?xn.length:0;if(Lr||(un&=~(An|Tn),xn=Wn=t),gr=gr===t?gr:Ko(ro(gr),0),wr=wr===t?wr:ro(wr),Lr-=Wn?Wn.length:0,un&Tn){var Mr=xn,Wr=Wn;xn=Wn=t}var qr=Rr?t:Tc(rn),Jr=[rn,un,wn,xn,Wn,Mr,Wr,Yn,gr,wr];if(qr&&Xh(Jr,qr),rn=Jr[0],un=Jr[1],wn=Jr[2],xn=Jr[3],Wn=Jr[4],wr=Jr[9]=Jr[9]===t?Rr?0:rn.length:Ko(Jr[9]-Lr,0),!wr&&un&(yn|In)&&(un&=~(yn|In)),!un||un==pn)var Qr=Bh(rn,un,wn);else un==yn||un==In?Qr=Nh(rn,un,wr):(un==An||un==(pn|An))&&!Wn.length?Qr=Lh(rn,un,wn,xn):Qr=wa.apply(t,Jr);var oo=qr?Xu:Il;return Pl(oo(Qr,Jr),rn,un)}function _l(rn,un,wn,xn){return rn===t||gs(rn,si[wn])&&!fo.call(xn,wn)?un:rn}function $l(rn,un,wn,xn,Wn,Yn){return Ao(rn)&&Ao(un)&&(Yn.set(un,rn),ya(rn,un,t,$l,Yn),Yn.delete(un)),rn}function Uh(rn){return Fi(rn)?t:rn}function Sl(rn,un,wn,xn,Wn,Yn){var gr=wn&hn,wr=rn.length,Rr=un.length;if(wr!=Rr&&!(gr&&Rr>wr))return!1;var Lr=Yn.get(rn),Mr=Yn.get(un);if(Lr&&Mr)return Lr==un&&Mr==rn;var Wr=-1,qr=!0,Jr=wn&ln?new Ws:t;for(Yn.set(rn,un),Yn.set(un,rn);++Wr<wr;){var Qr=rn[Wr],oo=un[Wr];if(xn)var eo=gr?xn(oo,Qr,Wr,un,rn,Yn):xn(Qr,oo,Wr,rn,un,Yn);if(eo!==t){if(eo)continue;qr=!1;break}if(Jr){if(!Va(un,function(io,co){if(!ki(Jr,co)&&(Qr===io||Wn(Qr,io,wn,xn,Yn)))return Jr.push(co)})){qr=!1;break}}else if(!(Qr===oo||Wn(Qr,oo,wn,xn,Yn))){qr=!1;break}}return Yn.delete(rn),Yn.delete(un),qr}function Kh(rn,un,wn,xn,Wn,Yn,gr){switch(wn){case an:if(rn.byteLength!=un.byteLength||rn.byteOffset!=un.byteOffset)return!1;rn=rn.buffer,un=un.buffer;case gn:return!(rn.byteLength!=un.byteLength||!Yn(new sa(rn),new sa(un)));case br:case _r:case Tr:return gs(+rn,+un);case Cr:return rn.name==un.name&&rn.message==un.message;case Nr:case Hr:return rn==un+"";case Qn:var wr=Xa;case vr:var Rr=xn&hn;if(wr||(wr=Qi),rn.size!=un.size&&!Rr)return!1;var Lr=gr.get(rn);if(Lr)return Lr==un;xn|=ln,gr.set(rn,un);var Mr=Sl(wr(rn),wr(un),xn,Wn,Yn,gr);return gr.delete(rn),Mr;case Dr:if(Oi)return Oi.call(rn)==Oi.call(un)}return!1}function Dh(rn,un,wn,xn,Wn,Yn){var gr=wn&hn,wr=Ac(rn),Rr=wr.length,Lr=Ac(un),Mr=Lr.length;if(Rr!=Mr&&!gr)return!1;for(var Wr=Rr;Wr--;){var qr=wr[Wr];if(!(gr?qr in un:fo.call(un,qr)))return!1}var Jr=Yn.get(rn),Qr=Yn.get(un);if(Jr&&Qr)return Jr==un&&Qr==rn;var oo=!0;Yn.set(rn,un),Yn.set(un,rn);for(var eo=gr;++Wr<Rr;){qr=wr[Wr];var io=rn[qr],co=un[qr];if(xn)var ns=gr?xn(co,io,qr,un,rn,Yn):xn(io,co,qr,rn,un,Yn);if(!(ns===t?io===co||Wn(io,co,wn,xn,Yn):ns)){oo=!1;break}eo||(eo=qr=="constructor")}if(oo&&!eo){var Go=rn.constructor,rs=un.constructor;Go!=rs&&"constructor"in rn&&"constructor"in un&&!(typeof Go=="function"&&Go instanceof Go&&typeof rs=="function"&&rs instanceof rs)&&(oo=!1)}return Yn.delete(rn),Yn.delete(un),oo}function Ts(rn){return Cc(kl(rn,t,Ll),rn+"")}function Ac(rn){return Fu(rn,Do,kc)}function Ec(rn){return Fu(rn,Zo,wl)}var Tc=da?function(rn){return da.get(rn)}:Wc;function Ra(rn){for(var un=rn.name+"",wn=ai[un],xn=fo.call(ai,un)?wn.length:0;xn--;){var Wn=wn[xn],Yn=Wn.func;if(Yn==null||Yn==rn)return Wn.name}return un}function di(rn){var un=fo.call(Gn,"placeholder")?Gn:rn;return un.placeholder}function Xr(){var rn=Gn.iteratee||zc;return rn=rn===zc?Wu:rn,arguments.length?rn(arguments[0],arguments[1]):rn}function ka(rn,un){var wn=rn.__data__;return qh(un)?wn[typeof un=="string"?"string":"hash"]:wn.map}function Rc(rn){for(var un=Do(rn),wn=un.length;wn--;){var xn=un[wn],Wn=rn[xn];un[wn]=[xn,Wn,Tl(Wn)]}return un}function Gs(rn,un){var wn=Zd(rn,un);return Hu(wn)?wn:t}function Fh(rn){var un=fo.call(rn,zs),wn=rn[zs];try{rn[zs]=t;var xn=!0}catch{}var Wn=ra.call(rn);return xn&&(un?rn[zs]=wn:delete rn[zs]),Wn}var kc=ec?function(rn){return rn==null?[]:(rn=ho(rn),Os(ec(rn),function(un){return vu.call(rn,un)}))}:jc,wl=ec?function(rn){for(var un=[];rn;)xs(un,kc(rn)),rn=ia(rn);return un}:jc,Wo=jo;(tc&&Wo(new tc(new ArrayBuffer(1)))!=an||Ii&&Wo(new Ii)!=Qn||nc&&Wo(nc.resolve())!=Kr||ii&&Wo(new ii)!=vr||Pi&&Wo(new Pi)!=Vr)&&(Wo=function(rn){var un=jo(rn),wn=un==Ir?rn.constructor:t,xn=wn?qs(wn):"";if(xn)switch(xn){case Af:return an;case Ef:return Qn;case Tf:return Kr;case Rf:return vr;case kf:return Vr}return un});function zh(rn,un,wn){for(var xn=-1,Wn=wn.length;++xn<Wn;){var Yn=wn[xn],gr=Yn.size;switch(Yn.type){case"drop":rn+=gr;break;case"dropRight":un-=gr;break;case"take":un=Ho(un,rn+gr);break;case"takeRight":rn=Ko(rn,un-gr);break}}return{start:rn,end:un}}function Hh(rn){var un=rn.match(Po);return un?un[1].split(Co):[]}function Al(rn,un,wn){un=Us(un,rn);for(var xn=-1,Wn=un.length,Yn=!1;++xn<Wn;){var gr=$s(un[xn]);if(!(Yn=rn!=null&&wn(rn,gr)))break;rn=rn[gr]}return Yn||++xn!=Wn?Yn:(Wn=rn==null?0:rn.length,!!Wn&&Ba(Wn)&&Rs(gr,Wn)&&(no(rn)||Ys(rn)))}function Wh(rn){var un=rn.length,wn=new rn.constructor(un);return un&&typeof rn[0]=="string"&&fo.call(rn,"index")&&(wn.index=rn.index,wn.input=rn.input),wn}function El(rn){return typeof rn.constructor=="function"&&!Ki(rn)?ci(ia(rn)):{}}function jh(rn,un,wn){var xn=rn.constructor;switch(un){case gn:return $c(rn);case br:case _r:return new xn(+rn);case an:return vh(rn,wn);case cn:case Rn:case Ln:case Fn:case Vn:case xr:case Fr:case Ur:case Gr:return il(rn,wn);case Qn:return new xn;case Tr:case Hr:return new xn(rn);case Nr:return Ih(rn);case vr:return new xn;case Dr:return Ph(rn)}}function Vh(rn,un){var wn=un.length;if(!wn)return rn;var xn=wn-1;return un[xn]=(wn>1?"& ":"")+un[xn],un=un.join(wn>2?", ":" "),rn.replace(Gi,`{
/* [wrapped with `+un+`] */
`)}function Gh(rn){return no(rn)||Ys(rn)||!!(Iu&&rn&&rn[Iu])}function Rs(rn,un){var wn=typeof rn;return un=un??Nn,!!un&&(wn=="number"||wn!="symbol"&&yi.test(rn))&&rn>-1&&rn%1==0&&rn<un}function Vo(rn,un,wn){if(!Ao(wn))return!1;var xn=typeof un;return(xn=="number"?Yo(wn)&&Rs(un,wn.length):xn=="string"&&un in wn)?gs(wn[un],rn):!1}function vc(rn,un){if(no(rn))return!1;var wn=typeof rn;return wn=="number"||wn=="symbol"||wn=="boolean"||rn==null||ts(rn)?!0:ji.test(rn)||!ko.test(rn)||un!=null&&rn in ho(un)}function qh(rn){var un=typeof rn;return un=="string"||un=="number"||un=="symbol"||un=="boolean"?rn!=="__proto__":rn===null}function Ic(rn){var un=Ra(rn),wn=Gn[un];if(typeof wn!="function"||!(un in ao.prototype))return!1;if(rn===wn)return!0;var xn=Tc(wn);return!!xn&&rn===xn[0]}function Yh(rn){return!!Tu&&Tu in rn}var Zh=ta?ks:Vc;function Ki(rn){var un=rn&&rn.constructor,wn=typeof un=="function"&&un.prototype||si;return rn===wn}function Tl(rn){return rn===rn&&!Ao(rn)}function Rl(rn,un){return function(wn){return wn==null?!1:wn[rn]===un&&(un!==t||rn in ho(wn))}}function Jh(rn){var un=Oa(rn,function(xn){return wn.size===tn&&wn.clear(),xn}),wn=un.cache;return un}function Xh(rn,un){var wn=rn[1],xn=un[1],Wn=wn|xn,Yn=Wn<(pn|$n|kn),gr=xn==kn&&wn==yn||xn==kn&&wn==Pn&&rn[7].length<=un[8]||xn==(kn|Pn)&&un[7].length<=un[8]&&wn==yn;if(!(Yn||gr))return rn;xn&pn&&(rn[2]=un[2],Wn|=wn&pn?0:Sn);var wr=un[3];if(wr){var Rr=rn[3];rn[3]=Rr?cl(Rr,wr,un[4]):wr,rn[4]=Rr?Bs(rn[3],nn):un[4]}return wr=un[5],wr&&(Rr=rn[5],rn[5]=Rr?ul(Rr,wr,un[6]):wr,rn[6]=Rr?Bs(rn[5],nn):un[6]),wr=un[7],wr&&(rn[7]=wr),xn&kn&&(rn[8]=rn[8]==null?un[8]:Ho(rn[8],un[8])),rn[9]==null&&(rn[9]=un[9]),rn[0]=un[0],rn[1]=Wn,rn}function Qh(rn){var un=[];if(rn!=null)for(var wn in ho(rn))un.push(wn);return un}function ep(rn){return ra.call(rn)}function kl(rn,un,wn){return un=Ko(un===t?rn.length-1:un,0),function(){for(var xn=arguments,Wn=-1,Yn=Ko(xn.length-un,0),gr=Pr(Yn);++Wn<Yn;)gr[Wn]=xn[un+Wn];Wn=-1;for(var wr=Pr(un+1);++Wn<un;)wr[Wn]=xn[Wn];return wr[un]=wn(gr),Xo(rn,this,wr)}}function vl(rn,un){return un.length<2?rn:Vs(rn,ls(un,0,-1))}function tp(rn,un){for(var wn=rn.length,xn=Ho(un.length,wn),Wn=qo(rn);xn--;){var Yn=un[xn];rn[xn]=Rs(Yn,wn)?Wn[Yn]:t}return rn}function Pc(rn,un){if(!(un==="constructor"&&typeof rn[un]=="function")&&un!="__proto__")return rn[un]}var Il=Cl(Xu),Di=gf||function(rn,un){return Fo.setTimeout(rn,un)},Cc=Cl(Eh);function Pl(rn,un,wn){var xn=un+"";return Cc(rn,Vh(xn,np(Hh(xn),wn)))}function Cl(rn){var un=0,wn=0;return function(){var xn=$f(),Wn=Cn-(xn-wn);if(wn=xn,Wn>0){if(++un>=jn)return arguments[0]}else un=0;return rn.apply(t,arguments)}}function va(rn,un){var wn=-1,xn=rn.length,Wn=xn-1;for(un=un===t?xn:un;++wn<un;){var Yn=hc(wn,Wn),gr=rn[Yn];rn[Yn]=rn[wn],rn[wn]=gr}return rn.length=un,rn}var Ol=Jh(function(rn){var un=[];return rn.charCodeAt(0)===46&&un.push(""),rn.replace(vo,function(wn,xn,Wn,Yn){un.push(Wn?Yn.replace(xo,"$1"):xn||wn)}),un});function $s(rn){if(typeof rn=="string"||ts(rn))return rn;var un=rn+"";return un=="0"&&1/rn==-On?"-0":un}function qs(rn){if(rn!=null){try{return na.call(rn)}catch{}try{return rn+""}catch{}}return""}function np(rn,un){return ss(Zn,function(wn){var xn="_."+wn[0];un&wn[1]&&!Ji(rn,xn)&&rn.push(xn)}),rn.sort()}function xl(rn){if(rn instanceof ao)return rn.clone();var un=new cs(rn.__wrapped__,rn.__chain__);return un.__actions__=qo(rn.__actions__),un.__index__=rn.__index__,un.__values__=rn.__values__,un}function rp(rn,un,wn){(wn?Vo(rn,un,wn):un===t)?un=1:un=Ko(ro(un),0);var xn=rn==null?0:rn.length;if(!xn||un<1)return[];for(var Wn=0,Yn=0,gr=Pr(ua(xn/un));Wn<xn;)gr[Yn++]=ls(rn,Wn,Wn+=un);return gr}function op(rn){for(var un=-1,wn=rn==null?0:rn.length,xn=0,Wn=[];++un<wn;){var Yn=rn[un];Yn&&(Wn[xn++]=Yn)}return Wn}function sp(){var rn=arguments.length;if(!rn)return[];for(var un=Pr(rn-1),wn=arguments[0],xn=rn;xn--;)un[xn-1]=arguments[xn];return xs(no(wn)?qo(wn):[wn],zo(un,1))}var ip=so(function(rn,un){return Lo(rn)?Bi(rn,zo(un,1,Lo,!0)):[]}),ap=so(function(rn,un){var wn=ds(un);return Lo(wn)&&(wn=t),Lo(rn)?Bi(rn,zo(un,1,Lo,!0),Xr(wn,2)):[]}),cp=so(function(rn,un){var wn=ds(un);return Lo(wn)&&(wn=t),Lo(rn)?Bi(rn,zo(un,1,Lo,!0),t,wn):[]});function up(rn,un,wn){var xn=rn==null?0:rn.length;return xn?(un=wn||un===t?1:ro(un),ls(rn,un<0?0:un,xn)):[]}function lp(rn,un,wn){var xn=rn==null?0:rn.length;return xn?(un=wn||un===t?1:ro(un),un=xn-un,ls(rn,0,un<0?0:un)):[]}function dp(rn,un){return rn&&rn.length?$a(rn,Xr(un,3),!0,!0):[]}function fp(rn,un){return rn&&rn.length?$a(rn,Xr(un,3),!0):[]}function hp(rn,un,wn,xn){var Wn=rn==null?0:rn.length;return Wn?(wn&&typeof wn!="number"&&Vo(rn,un,wn)&&(wn=0,xn=Wn),sh(rn,un,wn,xn)):[]}function Bl(rn,un,wn){var xn=rn==null?0:rn.length;if(!xn)return-1;var Wn=wn==null?0:ro(wn);return Wn<0&&(Wn=Ko(xn+Wn,0)),Xi(rn,Xr(un,3),Wn)}function Nl(rn,un,wn){var xn=rn==null?0:rn.length;if(!xn)return-1;var Wn=xn-1;return wn!==t&&(Wn=ro(wn),Wn=wn<0?Ko(xn+Wn,0):Ho(Wn,xn-1)),Xi(rn,Xr(un,3),Wn,!0)}function Ll(rn){var un=rn==null?0:rn.length;return un?zo(rn,1):[]}function pp(rn){var un=rn==null?0:rn.length;return un?zo(rn,On):[]}function mp(rn,un){var wn=rn==null?0:rn.length;return wn?(un=un===t?1:ro(un),zo(rn,un)):[]}function gp(rn){for(var un=-1,wn=rn==null?0:rn.length,xn={};++un<wn;){var Wn=rn[un];xn[Wn[0]]=Wn[1]}return xn}function Ml(rn){return rn&&rn.length?rn[0]:t}function yp(rn,un,wn){var xn=rn==null?0:rn.length;if(!xn)return-1;var Wn=wn==null?0:ro(wn);return Wn<0&&(Wn=Ko(xn+Wn,0)),ti(rn,un,Wn)}function bp(rn){var un=rn==null?0:rn.length;return un?ls(rn,0,-1):[]}var _p=so(function(rn){var un=bo(rn,bc);return un.length&&un[0]===rn[0]?cc(un):[]}),$p=so(function(rn){var un=ds(rn),wn=bo(rn,bc);return un===ds(wn)?un=t:wn.pop(),wn.length&&wn[0]===rn[0]?cc(wn,Xr(un,2)):[]}),Sp=so(function(rn){var un=ds(rn),wn=bo(rn,bc);return un=typeof un=="function"?un:t,un&&wn.pop(),wn.length&&wn[0]===rn[0]?cc(wn,t,un):[]});function wp(rn,un){return rn==null?"":bf.call(rn,un)}function ds(rn){var un=rn==null?0:rn.length;return un?rn[un-1]:t}function Ap(rn,un,wn){var xn=rn==null?0:rn.length;if(!xn)return-1;var Wn=xn;return wn!==t&&(Wn=ro(wn),Wn=Wn<0?Ko(xn+Wn,0):Ho(Wn,xn-1)),un===un?tf(rn,un,Wn):Xi(rn,yu,Wn,!0)}function Ep(rn,un){return rn&&rn.length?qu(rn,ro(un)):t}var Tp=so(Ul);function Ul(rn,un){return rn&&rn.length&&un&&un.length?fc(rn,un):rn}function Rp(rn,un,wn){return rn&&rn.length&&un&&un.length?fc(rn,un,Xr(wn,2)):rn}function kp(rn,un,wn){return rn&&rn.length&&un&&un.length?fc(rn,un,t,wn):rn}var vp=Ts(function(rn,un){var wn=rn==null?0:rn.length,xn=oc(rn,un);return Ju(rn,bo(un,function(Wn){return Rs(Wn,wn)?+Wn:Wn}).sort(al)),xn});function Ip(rn,un){var wn=[];if(!(rn&&rn.length))return wn;var xn=-1,Wn=[],Yn=rn.length;for(un=Xr(un,3);++xn<Yn;){var gr=rn[xn];un(gr,xn,rn)&&(wn.push(gr),Wn.push(xn))}return Ju(rn,Wn),wn}function Oc(rn){return rn==null?rn:wf.call(rn)}function Pp(rn,un,wn){var xn=rn==null?0:rn.length;return xn?(wn&&typeof wn!="number"&&Vo(rn,un,wn)?(un=0,wn=xn):(un=un==null?0:ro(un),wn=wn===t?xn:ro(wn)),ls(rn,un,wn)):[]}function Cp(rn,un){return ba(rn,un)}function Op(rn,un,wn){return mc(rn,un,Xr(wn,2))}function xp(rn,un){var wn=rn==null?0:rn.length;if(wn){var xn=ba(rn,un);if(xn<wn&&gs(rn[xn],un))return xn}return-1}function Bp(rn,un){return ba(rn,un,!0)}function Np(rn,un,wn){return mc(rn,un,Xr(wn,2),!0)}function Lp(rn,un){var wn=rn==null?0:rn.length;if(wn){var xn=ba(rn,un,!0)-1;if(gs(rn[xn],un))return xn}return-1}function Mp(rn){return rn&&rn.length?Qu(rn):[]}function Up(rn,un){return rn&&rn.length?Qu(rn,Xr(un,2)):[]}function Kp(rn){var un=rn==null?0:rn.length;return un?ls(rn,1,un):[]}function Dp(rn,un,wn){return rn&&rn.length?(un=wn||un===t?1:ro(un),ls(rn,0,un<0?0:un)):[]}function zp(rn,un,wn){var xn=rn==null?0:rn.length;return xn?(un=wn||un===t?1:ro(un),un=xn-un,ls(rn,un<0?0:un,xn)):[]}function Hp(rn,un){return rn&&rn.length?$a(rn,Xr(un,3),!1,!0):[]}function Wp(rn,un){return rn&&rn.length?$a(rn,Xr(un,3)):[]}var jp=so(function(rn){return Ms(zo(rn,1,Lo,!0))}),Vp=so(function(rn){var un=ds(rn);return Lo(un)&&(un=t),Ms(zo(rn,1,Lo,!0),Xr(un,2))}),Gp=so(function(rn){var un=ds(rn);return un=typeof un=="function"?un:t,Ms(zo(rn,1,Lo,!0),t,un)});function qp(rn){return rn&&rn.length?Ms(rn):[]}function Yp(rn,un){return rn&&rn.length?Ms(rn,Xr(un,2)):[]}function Zp(rn,un){return un=typeof un=="function"?un:t,rn&&rn.length?Ms(rn,t,un):[]}function xc(rn){if(!(rn&&rn.length))return[];var un=0;return rn=Os(rn,function(wn){if(Lo(wn))return un=Ko(wn.length,un),!0}),Za(un,function(wn){return bo(rn,Ga(wn))})}function Kl(rn,un){if(!(rn&&rn.length))return[];var wn=xc(rn);return un==null?wn:bo(wn,function(xn){return Xo(un,t,xn)})}var Jp=so(function(rn,un){return Lo(rn)?Bi(rn,un):[]}),Xp=so(function(rn){return yc(Os(rn,Lo))}),Qp=so(function(rn){var un=ds(rn);return Lo(un)&&(un=t),yc(Os(rn,Lo),Xr(un,2))}),em=so(function(rn){var un=ds(rn);return un=typeof un=="function"?un:t,yc(Os(rn,Lo),t,un)}),tm=so(xc);function nm(rn,un){return rl(rn||[],un||[],xi)}function rm(rn,un){return rl(rn||[],un||[],Mi)}var om=so(function(rn){var un=rn.length,wn=un>1?rn[un-1]:t;return wn=typeof wn=="function"?(rn.pop(),wn):t,Kl(rn,wn)});function Dl(rn){var un=Gn(rn);return un.__chain__=!0,un}function sm(rn,un){return un(rn),rn}function Ia(rn,un){return un(rn)}var im=Ts(function(rn){var un=rn.length,wn=un?rn[0]:0,xn=this.__wrapped__,Wn=function(Yn){return oc(Yn,rn)};return un>1||this.__actions__.length||!(xn instanceof ao)||!Rs(wn)?this.thru(Wn):(xn=xn.slice(wn,+wn+(un?1:0)),xn.__actions__.push({func:Ia,args:[Wn],thisArg:t}),new cs(xn,this.__chain__).thru(function(Yn){return un&&!Yn.length&&Yn.push(t),Yn}))});function am(){return Dl(this)}function cm(){return new cs(this.value(),this.__chain__)}function um(){this.__values__===t&&(this.__values__=ed(this.value()));var rn=this.__index__>=this.__values__.length,un=rn?t:this.__values__[this.__index__++];return{done:rn,value:un}}function lm(){return this}function dm(rn){for(var un,wn=this;wn instanceof ha;){var xn=xl(wn);xn.__index__=0,xn.__values__=t,un?Wn.__wrapped__=xn:un=xn;var Wn=xn;wn=wn.__wrapped__}return Wn.__wrapped__=rn,un}function fm(){var rn=this.__wrapped__;if(rn instanceof ao){var un=rn;return this.__actions__.length&&(un=new ao(this)),un=un.reverse(),un.__actions__.push({func:Ia,args:[Oc],thisArg:t}),new cs(un,this.__chain__)}return this.thru(Oc)}function hm(){return nl(this.__wrapped__,this.__actions__)}var pm=Sa(function(rn,un,wn){fo.call(rn,wn)?++rn[wn]:As(rn,wn,1)});function mm(rn,un,wn){var xn=no(rn)?mu:oh;return wn&&Vo(rn,un,wn)&&(un=t),xn(rn,Xr(un,3))}function gm(rn,un){var wn=no(rn)?Os:Ku;return wn(rn,Xr(un,3))}var ym=hl(Bl),bm=hl(Nl);function _m(rn,un){return zo(Pa(rn,un),1)}function $m(rn,un){return zo(Pa(rn,un),On)}function Sm(rn,un,wn){return wn=wn===t?1:ro(wn),zo(Pa(rn,un),wn)}function Fl(rn,un){var wn=no(rn)?ss:Ls;return wn(rn,Xr(un,3))}function zl(rn,un){var wn=no(rn)?Ud:Uu;return wn(rn,Xr(un,3))}var wm=Sa(function(rn,un,wn){fo.call(rn,wn)?rn[wn].push(un):As(rn,wn,[un])});function Am(rn,un,wn,xn){rn=Yo(rn)?rn:hi(rn),wn=wn&&!xn?ro(wn):0;var Wn=rn.length;return wn<0&&(wn=Ko(Wn+wn,0)),Na(rn)?wn<=Wn&&rn.indexOf(un,wn)>-1:!!Wn&&ti(rn,un,wn)>-1}var Em=so(function(rn,un,wn){var xn=-1,Wn=typeof un=="function",Yn=Yo(rn)?Pr(rn.length):[];return Ls(rn,function(gr){Yn[++xn]=Wn?Xo(un,gr,wn):Ni(gr,un,wn)}),Yn}),Tm=Sa(function(rn,un,wn){As(rn,wn,un)});function Pa(rn,un){var wn=no(rn)?bo:ju;return wn(rn,Xr(un,3))}function Rm(rn,un,wn,xn){return rn==null?[]:(no(un)||(un=un==null?[]:[un]),wn=xn?t:wn,no(wn)||(wn=wn==null?[]:[wn]),Yu(rn,un,wn))}var km=Sa(function(rn,un,wn){rn[wn?0:1].push(un)},function(){return[[],[]]});function vm(rn,un,wn){var xn=no(rn)?ja:_u,Wn=arguments.length<3;return xn(rn,Xr(un,4),wn,Wn,Ls)}function Im(rn,un,wn){var xn=no(rn)?Kd:_u,Wn=arguments.length<3;return xn(rn,Xr(un,4),wn,Wn,Uu)}function Pm(rn,un){var wn=no(rn)?Os:Ku;return wn(rn,xa(Xr(un,3)))}function Cm(rn){var un=no(rn)?Bu:wh;return un(rn)}function Om(rn,un,wn){(wn?Vo(rn,un,wn):un===t)?un=1:un=ro(un);var xn=no(rn)?Qf:Ah;return xn(rn,un)}function xm(rn){var un=no(rn)?eh:Th;return un(rn)}function Bm(rn){if(rn==null)return 0;if(Yo(rn))return Na(rn)?ri(rn):rn.length;var un=Wo(rn);return un==Qn||un==vr?rn.size:lc(rn).length}function Nm(rn,un,wn){var xn=no(rn)?Va:Rh;return wn&&Vo(rn,un,wn)&&(un=t),xn(rn,Xr(un,3))}var Lm=so(function(rn,un){if(rn==null)return[];var wn=un.length;return wn>1&&Vo(rn,un[0],un[1])?un=[]:wn>2&&Vo(un[0],un[1],un[2])&&(un=[un[0]]),Yu(rn,zo(un,1),[])}),Ca=mf||function(){return Fo.Date.now()};function Mm(rn,un){if(typeof un!="function")throw new as(c);return rn=ro(rn),function(){if(--rn<1)return un.apply(this,arguments)}}function Hl(rn,un,wn){return un=wn?t:un,un=rn&&un==null?rn.length:un,Es(rn,kn,t,t,t,t,un)}function Wl(rn,un){var wn;if(typeof un!="function")throw new as(c);return rn=ro(rn),function(){return--rn>0&&(wn=un.apply(this,arguments)),rn<=1&&(un=t),wn}}var Bc=so(function(rn,un,wn){var xn=pn;if(wn.length){var Wn=Bs(wn,di(Bc));xn|=An}return Es(rn,xn,un,wn,Wn)}),jl=so(function(rn,un,wn){var xn=pn|$n;if(wn.length){var Wn=Bs(wn,di(jl));xn|=An}return Es(un,xn,rn,wn,Wn)});function Vl(rn,un,wn){un=wn?t:un;var xn=Es(rn,yn,t,t,t,t,t,un);return xn.placeholder=Vl.placeholder,xn}function Gl(rn,un,wn){un=wn?t:un;var xn=Es(rn,In,t,t,t,t,t,un);return xn.placeholder=Gl.placeholder,xn}function ql(rn,un,wn){var xn,Wn,Yn,gr,wr,Rr,Lr=0,Mr=!1,Wr=!1,qr=!0;if(typeof rn!="function")throw new as(c);un=fs(un)||0,Ao(wn)&&(Mr=!!wn.leading,Wr="maxWait"in wn,Yn=Wr?Ko(fs(wn.maxWait)||0,un):Yn,qr="trailing"in wn?!!wn.trailing:qr);function Jr(Mo){var ys=xn,Is=Wn;return xn=Wn=t,Lr=Mo,gr=rn.apply(Is,ys),gr}function Qr(Mo){return Lr=Mo,wr=Di(io,un),Mr?Jr(Mo):gr}function oo(Mo){var ys=Mo-Rr,Is=Mo-Lr,hd=un-ys;return Wr?Ho(hd,Yn-Is):hd}function eo(Mo){var ys=Mo-Rr,Is=Mo-Lr;return Rr===t||ys>=un||ys<0||Wr&&Is>=Yn}function io(){var Mo=Ca();if(eo(Mo))return co(Mo);wr=Di(io,oo(Mo))}function co(Mo){return wr=t,qr&&xn?Jr(Mo):(xn=Wn=t,gr)}function ns(){wr!==t&&ol(wr),Lr=0,xn=Rr=Wn=wr=t}function Go(){return wr===t?gr:co(Ca())}function rs(){var Mo=Ca(),ys=eo(Mo);if(xn=arguments,Wn=this,Rr=Mo,ys){if(wr===t)return Qr(Rr);if(Wr)return ol(wr),wr=Di(io,un),Jr(Rr)}return wr===t&&(wr=Di(io,un)),gr}return rs.cancel=ns,rs.flush=Go,rs}var Um=so(function(rn,un){return Mu(rn,1,un)}),Km=so(function(rn,un,wn){return Mu(rn,fs(un)||0,wn)});function Dm(rn){return Es(rn,Dn)}function Oa(rn,un){if(typeof rn!="function"||un!=null&&typeof un!="function")throw new as(c);var wn=function(){var xn=arguments,Wn=un?un.apply(this,xn):xn[0],Yn=wn.cache;if(Yn.has(Wn))return Yn.get(Wn);var gr=rn.apply(this,xn);return wn.cache=Yn.set(Wn,gr)||Yn,gr};return wn.cache=new(Oa.Cache||ws),wn}Oa.Cache=ws;function xa(rn){if(typeof rn!="function")throw new as(c);return function(){var un=arguments;switch(un.length){case 0:return!rn.call(this);case 1:return!rn.call(this,un[0]);case 2:return!rn.call(this,un[0],un[1]);case 3:return!rn.call(this,un[0],un[1],un[2])}return!rn.apply(this,un)}}function Fm(rn){return Wl(2,rn)}var zm=kh(function(rn,un){un=un.length==1&&no(un[0])?bo(un[0],Qo(Xr())):bo(zo(un,1),Qo(Xr()));var wn=un.length;return so(function(xn){for(var Wn=-1,Yn=Ho(xn.length,wn);++Wn<Yn;)xn[Wn]=un[Wn].call(this,xn[Wn]);return Xo(rn,this,xn)})}),Nc=so(function(rn,un){var wn=Bs(un,di(Nc));return Es(rn,An,t,un,wn)}),Yl=so(function(rn,un){var wn=Bs(un,di(Yl));return Es(rn,Tn,t,un,wn)}),Hm=Ts(function(rn,un){return Es(rn,Pn,t,t,t,un)});function Wm(rn,un){if(typeof rn!="function")throw new as(c);return un=un===t?un:ro(un),so(rn,un)}function jm(rn,un){if(typeof rn!="function")throw new as(c);return un=un==null?0:Ko(ro(un),0),so(function(wn){var xn=wn[un],Wn=Ks(wn,0,un);return xn&&xs(Wn,xn),Xo(rn,this,Wn)})}function Vm(rn,un,wn){var xn=!0,Wn=!0;if(typeof rn!="function")throw new as(c);return Ao(wn)&&(xn="leading"in wn?!!wn.leading:xn,Wn="trailing"in wn?!!wn.trailing:Wn),ql(rn,un,{leading:xn,maxWait:un,trailing:Wn})}function Gm(rn){return Hl(rn,1)}function qm(rn,un){return Nc(_c(un),rn)}function Ym(){if(!arguments.length)return[];var rn=arguments[0];return no(rn)?rn:[rn]}function Zm(rn){return us(rn,dn)}function Jm(rn,un){return un=typeof un=="function"?un:t,us(rn,dn,un)}function Xm(rn){return us(rn,sn|dn)}function Qm(rn,un){return un=typeof un=="function"?un:t,us(rn,sn|dn,un)}function eg(rn,un){return un==null||Lu(rn,un,Do(un))}function gs(rn,un){return rn===un||rn!==rn&&un!==un}var tg=Ta(ac),ng=Ta(function(rn,un){return rn>=un}),Ys=zu(function(){return arguments}())?zu:function(rn){return No(rn)&&fo.call(rn,"callee")&&!vu.call(rn,"callee")},no=Pr.isArray,rg=uu?Qo(uu):lh;function Yo(rn){return rn!=null&&Ba(rn.length)&&!ks(rn)}function Lo(rn){return No(rn)&&Yo(rn)}function og(rn){return rn===!0||rn===!1||No(rn)&&jo(rn)==br}var Ds=yf||Vc,sg=lu?Qo(lu):dh;function ig(rn){return No(rn)&&rn.nodeType===1&&!Fi(rn)}function ag(rn){if(rn==null)return!0;if(Yo(rn)&&(no(rn)||typeof rn=="string"||typeof rn.splice=="function"||Ds(rn)||fi(rn)||Ys(rn)))return!rn.length;var un=Wo(rn);if(un==Qn||un==vr)return!rn.size;if(Ki(rn))return!lc(rn).length;for(var wn in rn)if(fo.call(rn,wn))return!1;return!0}function cg(rn,un){return Li(rn,un)}function ug(rn,un,wn){wn=typeof wn=="function"?wn:t;var xn=wn?wn(rn,un):t;return xn===t?Li(rn,un,t,wn):!!xn}function Lc(rn){if(!No(rn))return!1;var un=jo(rn);return un==Cr||un==kr||typeof rn.message=="string"&&typeof rn.name=="string"&&!Fi(rn)}function lg(rn){return typeof rn=="number"&&Pu(rn)}function ks(rn){if(!Ao(rn))return!1;var un=jo(rn);return un==qn||un==Jn||un==Xn||un==Ar}function Zl(rn){return typeof rn=="number"&&rn==ro(rn)}function Ba(rn){return typeof rn=="number"&&rn>-1&&rn%1==0&&rn<=Nn}function Ao(rn){var un=typeof rn;return rn!=null&&(un=="object"||un=="function")}function No(rn){return rn!=null&&typeof rn=="object"}var Jl=du?Qo(du):hh;function dg(rn,un){return rn===un||uc(rn,un,Rc(un))}function fg(rn,un,wn){return wn=typeof wn=="function"?wn:t,uc(rn,un,Rc(un),wn)}function hg(rn){return Xl(rn)&&rn!=+rn}function pg(rn){if(Zh(rn))throw new to(a);return Hu(rn)}function mg(rn){return rn===null}function gg(rn){return rn==null}function Xl(rn){return typeof rn=="number"||No(rn)&&jo(rn)==Tr}function Fi(rn){if(!No(rn)||jo(rn)!=Ir)return!1;var un=ia(rn);if(un===null)return!0;var wn=fo.call(un,"constructor")&&un.constructor;return typeof wn=="function"&&wn instanceof wn&&na.call(wn)==df}var Mc=fu?Qo(fu):ph;function yg(rn){return Zl(rn)&&rn>=-Nn&&rn<=Nn}var Ql=hu?Qo(hu):mh;function Na(rn){return typeof rn=="string"||!no(rn)&&No(rn)&&jo(rn)==Hr}function ts(rn){return typeof rn=="symbol"||No(rn)&&jo(rn)==Dr}var fi=pu?Qo(pu):gh;function bg(rn){return rn===t}function _g(rn){return No(rn)&&Wo(rn)==Vr}function $g(rn){return No(rn)&&jo(rn)==Yr}var Sg=Ta(dc),wg=Ta(function(rn,un){return rn<=un});function ed(rn){if(!rn)return[];if(Yo(rn))return Na(rn)?hs(rn):qo(rn);if(vi&&rn[vi])return Xd(rn[vi]());var un=Wo(rn),wn=un==Qn?Xa:un==vr?Qi:hi;return wn(rn)}function vs(rn){if(!rn)return rn===0?rn:0;if(rn=fs(rn),rn===On||rn===-On){var un=rn<0?-1:1;return un*Un}return rn===rn?rn:0}function ro(rn){var un=vs(rn),wn=un%1;return un===un?wn?un-wn:un:0}function td(rn){return rn?js(ro(rn),0,Bn):0}function fs(rn){if(typeof rn=="number")return rn;if(ts(rn))return zn;if(Ao(rn)){var un=typeof rn.valueOf=="function"?rn.valueOf():rn;rn=Ao(un)?un+"":un}if(typeof rn!="string")return rn===0?rn:+rn;rn=$u(rn);var wn=pi.test(rn);return wn||gi.test(rn)?Nd(rn.slice(2),wn?2:8):Bo.test(rn)?zn:+rn}function nd(rn){return _s(rn,Zo(rn))}function Ag(rn){return rn?js(ro(rn),-Nn,Nn):rn===0?rn:0}function lo(rn){return rn==null?"":es(rn)}var Eg=ui(function(rn,un){if(Ki(un)||Yo(un)){_s(un,Do(un),rn);return}for(var wn in un)fo.call(un,wn)&&xi(rn,wn,un[wn])}),rd=ui(function(rn,un){_s(un,Zo(un),rn)}),La=ui(function(rn,un,wn,xn){_s(un,Zo(un),rn,xn)}),Tg=ui(function(rn,un,wn,xn){_s(un,Do(un),rn,xn)}),Rg=Ts(oc);function kg(rn,un){var wn=ci(rn);return un==null?wn:Nu(wn,un)}var vg=so(function(rn,un){rn=ho(rn);var wn=-1,xn=un.length,Wn=xn>2?un[2]:t;for(Wn&&Vo(un[0],un[1],Wn)&&(xn=1);++wn<xn;)for(var Yn=un[wn],gr=Zo(Yn),wr=-1,Rr=gr.length;++wr<Rr;){var Lr=gr[wr],Mr=rn[Lr];(Mr===t||gs(Mr,si[Lr])&&!fo.call(rn,Lr))&&(rn[Lr]=Yn[Lr])}return rn}),Ig=so(function(rn){return rn.push(t,$l),Xo(od,t,rn)});function Pg(rn,un){return gu(rn,Xr(un,3),bs)}function Cg(rn,un){return gu(rn,Xr(un,3),ic)}function Og(rn,un){return rn==null?rn:sc(rn,Xr(un,3),Zo)}function xg(rn,un){return rn==null?rn:Du(rn,Xr(un,3),Zo)}function Bg(rn,un){return rn&&bs(rn,Xr(un,3))}function Ng(rn,un){return rn&&ic(rn,Xr(un,3))}function Lg(rn){return rn==null?[]:ga(rn,Do(rn))}function Mg(rn){return rn==null?[]:ga(rn,Zo(rn))}function Uc(rn,un,wn){var xn=rn==null?t:Vs(rn,un);return xn===t?wn:xn}function Ug(rn,un){return rn!=null&&Al(rn,un,ih)}function Kc(rn,un){return rn!=null&&Al(rn,un,ah)}var Kg=ml(function(rn,un,wn){un!=null&&typeof un.toString!="function"&&(un=ra.call(un)),rn[un]=wn},Fc(Jo)),Dg=ml(function(rn,un,wn){un!=null&&typeof un.toString!="function"&&(un=ra.call(un)),fo.call(rn,un)?rn[un].push(wn):rn[un]=[wn]},Xr),Fg=so(Ni);function Do(rn){return Yo(rn)?xu(rn):lc(rn)}function Zo(rn){return Yo(rn)?xu(rn,!0):yh(rn)}function zg(rn,un){var wn={};return un=Xr(un,3),bs(rn,function(xn,Wn,Yn){As(wn,un(xn,Wn,Yn),xn)}),wn}function Hg(rn,un){var wn={};return un=Xr(un,3),bs(rn,function(xn,Wn,Yn){As(wn,Wn,un(xn,Wn,Yn))}),wn}var Wg=ui(function(rn,un,wn){ya(rn,un,wn)}),od=ui(function(rn,un,wn,xn){ya(rn,un,wn,xn)}),jg=Ts(function(rn,un){var wn={};if(rn==null)return wn;var xn=!1;un=bo(un,function(Yn){return Yn=Us(Yn,rn),xn||(xn=Yn.length>1),Yn}),_s(rn,Ec(rn),wn),xn&&(wn=us(wn,sn|fn|dn,Uh));for(var Wn=un.length;Wn--;)gc(wn,un[Wn]);return wn});function Vg(rn,un){return sd(rn,xa(Xr(un)))}var Gg=Ts(function(rn,un){return rn==null?{}:_h(rn,un)});function sd(rn,un){if(rn==null)return{};var wn=bo(Ec(rn),function(xn){return[xn]});return un=Xr(un),Zu(rn,wn,function(xn,Wn){return un(xn,Wn[0])})}function qg(rn,un,wn){un=Us(un,rn);var xn=-1,Wn=un.length;for(Wn||(Wn=1,rn=t);++xn<Wn;){var Yn=rn==null?t:rn[$s(un[xn])];Yn===t&&(xn=Wn,Yn=wn),rn=ks(Yn)?Yn.call(rn):Yn}return rn}function Yg(rn,un,wn){return rn==null?rn:Mi(rn,un,wn)}function Zg(rn,un,wn,xn){return xn=typeof xn=="function"?xn:t,rn==null?rn:Mi(rn,un,wn,xn)}var id=bl(Do),ad=bl(Zo);function Jg(rn,un,wn){var xn=no(rn),Wn=xn||Ds(rn)||fi(rn);if(un=Xr(un,4),wn==null){var Yn=rn&&rn.constructor;Wn?wn=xn?new Yn:[]:Ao(rn)?wn=ks(Yn)?ci(ia(rn)):{}:wn={}}return(Wn?ss:bs)(rn,function(gr,wr,Rr){return un(wn,gr,wr,Rr)}),wn}function Xg(rn,un){return rn==null?!0:gc(rn,un)}function Qg(rn,un,wn){return rn==null?rn:tl(rn,un,_c(wn))}function ey(rn,un,wn,xn){return xn=typeof xn=="function"?xn:t,rn==null?rn:tl(rn,un,_c(wn),xn)}function hi(rn){return rn==null?[]:Ja(rn,Do(rn))}function ty(rn){return rn==null?[]:Ja(rn,Zo(rn))}function ny(rn,un,wn){return wn===t&&(wn=un,un=t),wn!==t&&(wn=fs(wn),wn=wn===wn?wn:0),un!==t&&(un=fs(un),un=un===un?un:0),js(fs(rn),un,wn)}function ry(rn,un,wn){return un=vs(un),wn===t?(wn=un,un=0):wn=vs(wn),rn=fs(rn),ch(rn,un,wn)}function oy(rn,un,wn){if(wn&&typeof wn!="boolean"&&Vo(rn,un,wn)&&(un=wn=t),wn===t&&(typeof un=="boolean"?(wn=un,un=t):typeof rn=="boolean"&&(wn=rn,rn=t)),rn===t&&un===t?(rn=0,un=1):(rn=vs(rn),un===t?(un=rn,rn=0):un=vs(un)),rn>un){var xn=rn;rn=un,un=xn}if(wn||rn%1||un%1){var Wn=Cu();return Ho(rn+Wn*(un-rn+Bd("1e-"+((Wn+"").length-1))),un)}return hc(rn,un)}var sy=li(function(rn,un,wn){return un=un.toLowerCase(),rn+(wn?cd(un):un)});function cd(rn){return Dc(lo(rn).toLowerCase())}function ud(rn){return rn=lo(rn),rn&&rn.replace(bi,Gd).replace(Ed,"")}function iy(rn,un,wn){rn=lo(rn),un=es(un);var xn=rn.length;wn=wn===t?xn:js(ro(wn),0,xn);var Wn=wn;return wn-=un.length,wn>=0&&rn.slice(wn,Wn)==un}function ay(rn){return rn=lo(rn),rn&&To.test(rn)?rn.replace($o,qd):rn}function cy(rn){return rn=lo(rn),rn&&Vi.test(rn)?rn.replace(go,"\\$&"):rn}var uy=li(function(rn,un,wn){return rn+(wn?"-":"")+un.toLowerCase()}),ly=li(function(rn,un,wn){return rn+(wn?" ":"")+un.toLowerCase()}),dy=fl("toLowerCase");function fy(rn,un,wn){rn=lo(rn),un=ro(un);var xn=un?ri(rn):0;if(!un||xn>=un)return rn;var Wn=(un-xn)/2;return Ea(la(Wn),wn)+rn+Ea(ua(Wn),wn)}function hy(rn,un,wn){rn=lo(rn),un=ro(un);var xn=un?ri(rn):0;return un&&xn<un?rn+Ea(un-xn,wn):rn}function py(rn,un,wn){rn=lo(rn),un=ro(un);var xn=un?ri(rn):0;return un&&xn<un?Ea(un-xn,wn)+rn:rn}function my(rn,un,wn){return wn||un==null?un=0:un&&(un=+un),Sf(lo(rn).replace(yo,""),un||0)}function gy(rn,un,wn){return(wn?Vo(rn,un,wn):un===t)?un=1:un=ro(un),pc(lo(rn),un)}function yy(){var rn=arguments,un=lo(rn[0]);return rn.length<3?un:un.replace(rn[1],rn[2])}var by=li(function(rn,un,wn){return rn+(wn?"_":"")+un.toLowerCase()});function _y(rn,un,wn){return wn&&typeof wn!="number"&&Vo(rn,un,wn)&&(un=wn=t),wn=wn===t?Bn:wn>>>0,wn?(rn=lo(rn),rn&&(typeof un=="string"||un!=null&&!Mc(un))&&(un=es(un),!un&&ni(rn))?Ks(hs(rn),0,wn):rn.split(un,wn)):[]}var $y=li(function(rn,un,wn){return rn+(wn?" ":"")+Dc(un)});function Sy(rn,un,wn){return rn=lo(rn),wn=wn==null?0:js(ro(wn),0,rn.length),un=es(un),rn.slice(wn,wn+un.length)==un}function wy(rn,un,wn){var xn=Gn.templateSettings;wn&&Vo(rn,un,wn)&&(un=t),rn=lo(rn),un=La({},un,xn,_l);var Wn=La({},un.imports,xn.imports,_l),Yn=Do(Wn),gr=Ja(Wn,Yn),wr,Rr,Lr=0,Mr=un.interpolate||Ps,Wr="__p += '",qr=Qa((un.escape||Ps).source+"|"+Mr.source+"|"+(Mr===So?Yi:Ps).source+"|"+(un.evaluate||Ps).source+"|$","g"),Jr="//# sourceURL="+(fo.call(un,"sourceURL")?(un.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Id+"]")+`
`;rn.replace(qr,function(eo,io,co,ns,Go,rs){return co||(co=ns),Wr+=rn.slice(Lr,rs).replace(_i,Yd),io&&(wr=!0,Wr+=`' +
__e(`+io+`) +
'`),Go&&(Rr=!0,Wr+=`';
`+Go+`;
__p += '`),co&&(Wr+=`' +
((__t = (`+co+`)) == null ? '' : __t) +
'`),Lr=rs+eo.length,eo}),Wr+=`';
`;var Qr=fo.call(un,"variable")&&un.variable;if(!Qr)Wr=`with (obj) {
`+Wr+`
}
`;else if(Oo.test(Qr))throw new to(u);Wr=(Rr?Wr.replace(zr,""):Wr).replace(Eo,"$1").replace(zi,"$1;"),Wr="function("+(Qr||"obj")+`) {
`+(Qr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(wr?", __e = _.escape":"")+(Rr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Wr+`return __p
}`;var oo=dd(function(){return uo(Yn,Jr+"return "+Wr).apply(t,gr)});if(oo.source=Wr,Lc(oo))throw oo;return oo}function Ay(rn){return lo(rn).toLowerCase()}function Ey(rn){return lo(rn).toUpperCase()}function Ty(rn,un,wn){if(rn=lo(rn),rn&&(wn||un===t))return $u(rn);if(!rn||!(un=es(un)))return rn;var xn=hs(rn),Wn=hs(un),Yn=Su(xn,Wn),gr=wu(xn,Wn)+1;return Ks(xn,Yn,gr).join("")}function Ry(rn,un,wn){if(rn=lo(rn),rn&&(wn||un===t))return rn.slice(0,Eu(rn)+1);if(!rn||!(un=es(un)))return rn;var xn=hs(rn),Wn=wu(xn,hs(un))+1;return Ks(xn,0,Wn).join("")}function ky(rn,un,wn){if(rn=lo(rn),rn&&(wn||un===t))return rn.replace(yo,"");if(!rn||!(un=es(un)))return rn;var xn=hs(rn),Wn=Su(xn,hs(un));return Ks(xn,Wn).join("")}function vy(rn,un){var wn=Kn,xn=Hn;if(Ao(un)){var Wn="separator"in un?un.separator:Wn;wn="length"in un?ro(un.length):wn,xn="omission"in un?es(un.omission):xn}rn=lo(rn);var Yn=rn.length;if(ni(rn)){var gr=hs(rn);Yn=gr.length}if(wn>=Yn)return rn;var wr=wn-ri(xn);if(wr<1)return xn;var Rr=gr?Ks(gr,0,wr).join(""):rn.slice(0,wr);if(Wn===t)return Rr+xn;if(gr&&(wr+=Rr.length-wr),Mc(Wn)){if(rn.slice(wr).search(Wn)){var Lr,Mr=Rr;for(Wn.global||(Wn=Qa(Wn.source,lo(wo.exec(Wn))+"g")),Wn.lastIndex=0;Lr=Wn.exec(Mr);)var Wr=Lr.index;Rr=Rr.slice(0,Wr===t?wr:Wr)}}else if(rn.indexOf(es(Wn),wr)!=wr){var qr=Rr.lastIndexOf(Wn);qr>-1&&(Rr=Rr.slice(0,qr))}return Rr+xn}function Iy(rn){return rn=lo(rn),rn&&Hi.test(rn)?rn.replace(_o,nf):rn}var Py=li(function(rn,un,wn){return rn+(wn?" ":"")+un.toUpperCase()}),Dc=fl("toUpperCase");function ld(rn,un,wn){return rn=lo(rn),un=wn?t:un,un===t?Jd(rn)?sf(rn):zd(rn):rn.match(un)||[]}var dd=so(function(rn,un){try{return Xo(rn,t,un)}catch(wn){return Lc(wn)?wn:new to(wn)}}),Cy=Ts(function(rn,un){return ss(un,function(wn){wn=$s(wn),As(rn,wn,Bc(rn[wn],rn))}),rn});function Oy(rn){var un=rn==null?0:rn.length,wn=Xr();return rn=un?bo(rn,function(xn){if(typeof xn[1]!="function")throw new as(c);return[wn(xn[0]),xn[1]]}):[],so(function(xn){for(var Wn=-1;++Wn<un;){var Yn=rn[Wn];if(Xo(Yn[0],this,xn))return Xo(Yn[1],this,xn)}})}function xy(rn){return rh(us(rn,sn))}function Fc(rn){return function(){return rn}}function By(rn,un){return rn==null||rn!==rn?un:rn}var Ny=pl(),Ly=pl(!0);function Jo(rn){return rn}function zc(rn){return Wu(typeof rn=="function"?rn:us(rn,sn))}function My(rn){return Vu(us(rn,sn))}function Uy(rn,un){return Gu(rn,us(un,sn))}var Ky=so(function(rn,un){return function(wn){return Ni(wn,rn,un)}}),Dy=so(function(rn,un){return function(wn){return Ni(rn,wn,un)}});function Hc(rn,un,wn){var xn=Do(un),Wn=ga(un,xn);wn==null&&!(Ao(un)&&(Wn.length||!xn.length))&&(wn=un,un=rn,rn=this,Wn=ga(un,Do(un)));var Yn=!(Ao(wn)&&"chain"in wn)||!!wn.chain,gr=ks(rn);return ss(Wn,function(wr){var Rr=un[wr];rn[wr]=Rr,gr&&(rn.prototype[wr]=function(){var Lr=this.__chain__;if(Yn||Lr){var Mr=rn(this.__wrapped__),Wr=Mr.__actions__=qo(this.__actions__);return Wr.push({func:Rr,args:arguments,thisArg:rn}),Mr.__chain__=Lr,Mr}return Rr.apply(rn,xs([this.value()],arguments))})}),rn}function Fy(){return Fo._===this&&(Fo._=ff),this}function Wc(){}function zy(rn){return rn=ro(rn),so(function(un){return qu(un,rn)})}var Hy=Sc(bo),Wy=Sc(mu),jy=Sc(Va);function fd(rn){return vc(rn)?Ga($s(rn)):$h(rn)}function Vy(rn){return function(un){return rn==null?t:Vs(rn,un)}}var Gy=gl(),qy=gl(!0);function jc(){return[]}function Vc(){return!1}function Yy(){return{}}function Zy(){return""}function Jy(){return!0}function Xy(rn,un){if(rn=ro(rn),rn<1||rn>Nn)return[];var wn=Bn,xn=Ho(rn,Bn);un=Xr(un),rn-=Bn;for(var Wn=Za(xn,un);++wn<rn;)un(wn);return Wn}function Qy(rn){return no(rn)?bo(rn,$s):ts(rn)?[rn]:qo(Ol(lo(rn)))}function eb(rn){var un=++lf;return lo(rn)+un}var tb=Aa(function(rn,un){return rn+un},0),nb=wc("ceil"),rb=Aa(function(rn,un){return rn/un},1),ob=wc("floor");function sb(rn){return rn&&rn.length?ma(rn,Jo,ac):t}function ib(rn,un){return rn&&rn.length?ma(rn,Xr(un,2),ac):t}function ab(rn){return bu(rn,Jo)}function cb(rn,un){return bu(rn,Xr(un,2))}function ub(rn){return rn&&rn.length?ma(rn,Jo,dc):t}function lb(rn,un){return rn&&rn.length?ma(rn,Xr(un,2),dc):t}var db=Aa(function(rn,un){return rn*un},1),fb=wc("round"),hb=Aa(function(rn,un){return rn-un},0);function pb(rn){return rn&&rn.length?Ya(rn,Jo):0}function mb(rn,un){return rn&&rn.length?Ya(rn,Xr(un,2)):0}return Gn.after=Mm,Gn.ary=Hl,Gn.assign=Eg,Gn.assignIn=rd,Gn.assignInWith=La,Gn.assignWith=Tg,Gn.at=Rg,Gn.before=Wl,Gn.bind=Bc,Gn.bindAll=Cy,Gn.bindKey=jl,Gn.castArray=Ym,Gn.chain=Dl,Gn.chunk=rp,Gn.compact=op,Gn.concat=sp,Gn.cond=Oy,Gn.conforms=xy,Gn.constant=Fc,Gn.countBy=pm,Gn.create=kg,Gn.curry=Vl,Gn.curryRight=Gl,Gn.debounce=ql,Gn.defaults=vg,Gn.defaultsDeep=Ig,Gn.defer=Um,Gn.delay=Km,Gn.difference=ip,Gn.differenceBy=ap,Gn.differenceWith=cp,Gn.drop=up,Gn.dropRight=lp,Gn.dropRightWhile=dp,Gn.dropWhile=fp,Gn.fill=hp,Gn.filter=gm,Gn.flatMap=_m,Gn.flatMapDeep=$m,Gn.flatMapDepth=Sm,Gn.flatten=Ll,Gn.flattenDeep=pp,Gn.flattenDepth=mp,Gn.flip=Dm,Gn.flow=Ny,Gn.flowRight=Ly,Gn.fromPairs=gp,Gn.functions=Lg,Gn.functionsIn=Mg,Gn.groupBy=wm,Gn.initial=bp,Gn.intersection=_p,Gn.intersectionBy=$p,Gn.intersectionWith=Sp,Gn.invert=Kg,Gn.invertBy=Dg,Gn.invokeMap=Em,Gn.iteratee=zc,Gn.keyBy=Tm,Gn.keys=Do,Gn.keysIn=Zo,Gn.map=Pa,Gn.mapKeys=zg,Gn.mapValues=Hg,Gn.matches=My,Gn.matchesProperty=Uy,Gn.memoize=Oa,Gn.merge=Wg,Gn.mergeWith=od,Gn.method=Ky,Gn.methodOf=Dy,Gn.mixin=Hc,Gn.negate=xa,Gn.nthArg=zy,Gn.omit=jg,Gn.omitBy=Vg,Gn.once=Fm,Gn.orderBy=Rm,Gn.over=Hy,Gn.overArgs=zm,Gn.overEvery=Wy,Gn.overSome=jy,Gn.partial=Nc,Gn.partialRight=Yl,Gn.partition=km,Gn.pick=Gg,Gn.pickBy=sd,Gn.property=fd,Gn.propertyOf=Vy,Gn.pull=Tp,Gn.pullAll=Ul,Gn.pullAllBy=Rp,Gn.pullAllWith=kp,Gn.pullAt=vp,Gn.range=Gy,Gn.rangeRight=qy,Gn.rearg=Hm,Gn.reject=Pm,Gn.remove=Ip,Gn.rest=Wm,Gn.reverse=Oc,Gn.sampleSize=Om,Gn.set=Yg,Gn.setWith=Zg,Gn.shuffle=xm,Gn.slice=Pp,Gn.sortBy=Lm,Gn.sortedUniq=Mp,Gn.sortedUniqBy=Up,Gn.split=_y,Gn.spread=jm,Gn.tail=Kp,Gn.take=Dp,Gn.takeRight=zp,Gn.takeRightWhile=Hp,Gn.takeWhile=Wp,Gn.tap=sm,Gn.throttle=Vm,Gn.thru=Ia,Gn.toArray=ed,Gn.toPairs=id,Gn.toPairsIn=ad,Gn.toPath=Qy,Gn.toPlainObject=nd,Gn.transform=Jg,Gn.unary=Gm,Gn.union=jp,Gn.unionBy=Vp,Gn.unionWith=Gp,Gn.uniq=qp,Gn.uniqBy=Yp,Gn.uniqWith=Zp,Gn.unset=Xg,Gn.unzip=xc,Gn.unzipWith=Kl,Gn.update=Qg,Gn.updateWith=ey,Gn.values=hi,Gn.valuesIn=ty,Gn.without=Jp,Gn.words=ld,Gn.wrap=qm,Gn.xor=Xp,Gn.xorBy=Qp,Gn.xorWith=em,Gn.zip=tm,Gn.zipObject=nm,Gn.zipObjectDeep=rm,Gn.zipWith=om,Gn.entries=id,Gn.entriesIn=ad,Gn.extend=rd,Gn.extendWith=La,Hc(Gn,Gn),Gn.add=tb,Gn.attempt=dd,Gn.camelCase=sy,Gn.capitalize=cd,Gn.ceil=nb,Gn.clamp=ny,Gn.clone=Zm,Gn.cloneDeep=Xm,Gn.cloneDeepWith=Qm,Gn.cloneWith=Jm,Gn.conformsTo=eg,Gn.deburr=ud,Gn.defaultTo=By,Gn.divide=rb,Gn.endsWith=iy,Gn.eq=gs,Gn.escape=ay,Gn.escapeRegExp=cy,Gn.every=mm,Gn.find=ym,Gn.findIndex=Bl,Gn.findKey=Pg,Gn.findLast=bm,Gn.findLastIndex=Nl,Gn.findLastKey=Cg,Gn.floor=ob,Gn.forEach=Fl,Gn.forEachRight=zl,Gn.forIn=Og,Gn.forInRight=xg,Gn.forOwn=Bg,Gn.forOwnRight=Ng,Gn.get=Uc,Gn.gt=tg,Gn.gte=ng,Gn.has=Ug,Gn.hasIn=Kc,Gn.head=Ml,Gn.identity=Jo,Gn.includes=Am,Gn.indexOf=yp,Gn.inRange=ry,Gn.invoke=Fg,Gn.isArguments=Ys,Gn.isArray=no,Gn.isArrayBuffer=rg,Gn.isArrayLike=Yo,Gn.isArrayLikeObject=Lo,Gn.isBoolean=og,Gn.isBuffer=Ds,Gn.isDate=sg,Gn.isElement=ig,Gn.isEmpty=ag,Gn.isEqual=cg,Gn.isEqualWith=ug,Gn.isError=Lc,Gn.isFinite=lg,Gn.isFunction=ks,Gn.isInteger=Zl,Gn.isLength=Ba,Gn.isMap=Jl,Gn.isMatch=dg,Gn.isMatchWith=fg,Gn.isNaN=hg,Gn.isNative=pg,Gn.isNil=gg,Gn.isNull=mg,Gn.isNumber=Xl,Gn.isObject=Ao,Gn.isObjectLike=No,Gn.isPlainObject=Fi,Gn.isRegExp=Mc,Gn.isSafeInteger=yg,Gn.isSet=Ql,Gn.isString=Na,Gn.isSymbol=ts,Gn.isTypedArray=fi,Gn.isUndefined=bg,Gn.isWeakMap=_g,Gn.isWeakSet=$g,Gn.join=wp,Gn.kebabCase=uy,Gn.last=ds,Gn.lastIndexOf=Ap,Gn.lowerCase=ly,Gn.lowerFirst=dy,Gn.lt=Sg,Gn.lte=wg,Gn.max=sb,Gn.maxBy=ib,Gn.mean=ab,Gn.meanBy=cb,Gn.min=ub,Gn.minBy=lb,Gn.stubArray=jc,Gn.stubFalse=Vc,Gn.stubObject=Yy,Gn.stubString=Zy,Gn.stubTrue=Jy,Gn.multiply=db,Gn.nth=Ep,Gn.noConflict=Fy,Gn.noop=Wc,Gn.now=Ca,Gn.pad=fy,Gn.padEnd=hy,Gn.padStart=py,Gn.parseInt=my,Gn.random=oy,Gn.reduce=vm,Gn.reduceRight=Im,Gn.repeat=gy,Gn.replace=yy,Gn.result=qg,Gn.round=fb,Gn.runInContext=Er,Gn.sample=Cm,Gn.size=Bm,Gn.snakeCase=by,Gn.some=Nm,Gn.sortedIndex=Cp,Gn.sortedIndexBy=Op,Gn.sortedIndexOf=xp,Gn.sortedLastIndex=Bp,Gn.sortedLastIndexBy=Np,Gn.sortedLastIndexOf=Lp,Gn.startCase=$y,Gn.startsWith=Sy,Gn.subtract=hb,Gn.sum=pb,Gn.sumBy=mb,Gn.template=wy,Gn.times=Xy,Gn.toFinite=vs,Gn.toInteger=ro,Gn.toLength=td,Gn.toLower=Ay,Gn.toNumber=fs,Gn.toSafeInteger=Ag,Gn.toString=lo,Gn.toUpper=Ey,Gn.trim=Ty,Gn.trimEnd=Ry,Gn.trimStart=ky,Gn.truncate=vy,Gn.unescape=Iy,Gn.uniqueId=eb,Gn.upperCase=Py,Gn.upperFirst=Dc,Gn.each=Fl,Gn.eachRight=zl,Gn.first=Ml,Hc(Gn,function(){var rn={};return bs(Gn,function(un,wn){fo.call(Gn.prototype,wn)||(rn[wn]=un)}),rn}(),{chain:!1}),Gn.VERSION=r,ss(["bind","bindKey","curry","curryRight","partial","partialRight"],function(rn){Gn[rn].placeholder=Gn}),ss(["drop","take"],function(rn,un){ao.prototype[rn]=function(wn){wn=wn===t?1:Ko(ro(wn),0);var xn=this.__filtered__&&!un?new ao(this):this.clone();return xn.__filtered__?xn.__takeCount__=Ho(wn,xn.__takeCount__):xn.__views__.push({size:Ho(wn,Bn),type:rn+(xn.__dir__<0?"Right":"")}),xn},ao.prototype[rn+"Right"]=function(wn){return this.reverse()[rn](wn).reverse()}}),ss(["filter","map","takeWhile"],function(rn,un){var wn=un+1,xn=wn==mn||wn==vn;ao.prototype[rn]=function(Wn){var Yn=this.clone();return Yn.__iteratees__.push({iteratee:Xr(Wn,3),type:wn}),Yn.__filtered__=Yn.__filtered__||xn,Yn}}),ss(["head","last"],function(rn,un){var wn="take"+(un?"Right":"");ao.prototype[rn]=function(){return this[wn](1).value()[0]}}),ss(["initial","tail"],function(rn,un){var wn="drop"+(un?"":"Right");ao.prototype[rn]=function(){return this.__filtered__?new ao(this):this[wn](1)}}),ao.prototype.compact=function(){return this.filter(Jo)},ao.prototype.find=function(rn){return this.filter(rn).head()},ao.prototype.findLast=function(rn){return this.reverse().find(rn)},ao.prototype.invokeMap=so(function(rn,un){return typeof rn=="function"?new ao(this):this.map(function(wn){return Ni(wn,rn,un)})}),ao.prototype.reject=function(rn){return this.filter(xa(Xr(rn)))},ao.prototype.slice=function(rn,un){rn=ro(rn);var wn=this;return wn.__filtered__&&(rn>0||un<0)?new ao(wn):(rn<0?wn=wn.takeRight(-rn):rn&&(wn=wn.drop(rn)),un!==t&&(un=ro(un),wn=un<0?wn.dropRight(-un):wn.take(un-rn)),wn)},ao.prototype.takeRightWhile=function(rn){return this.reverse().takeWhile(rn).reverse()},ao.prototype.toArray=function(){return this.take(Bn)},bs(ao.prototype,function(rn,un){var wn=/^(?:filter|find|map|reject)|While$/.test(un),xn=/^(?:head|last)$/.test(un),Wn=Gn[xn?"take"+(un=="last"?"Right":""):un],Yn=xn||/^find/.test(un);!Wn||(Gn.prototype[un]=function(){var gr=this.__wrapped__,wr=xn?[1]:arguments,Rr=gr instanceof ao,Lr=wr[0],Mr=Rr||no(gr),Wr=function(io){var co=Wn.apply(Gn,xs([io],wr));return xn&&qr?co[0]:co};Mr&&wn&&typeof Lr=="function"&&Lr.length!=1&&(Rr=Mr=!1);var qr=this.__chain__,Jr=!!this.__actions__.length,Qr=Yn&&!qr,oo=Rr&&!Jr;if(!Yn&&Mr){gr=oo?gr:new ao(this);var eo=rn.apply(gr,wr);return eo.__actions__.push({func:Ia,args:[Wr],thisArg:t}),new cs(eo,qr)}return Qr&&oo?rn.apply(this,wr):(eo=this.thru(Wr),Qr?xn?eo.value()[0]:eo.value():eo)})}),ss(["pop","push","shift","sort","splice","unshift"],function(rn){var un=ea[rn],wn=/^(?:push|sort|unshift)$/.test(rn)?"tap":"thru",xn=/^(?:pop|shift)$/.test(rn);Gn.prototype[rn]=function(){var Wn=arguments;if(xn&&!this.__chain__){var Yn=this.value();return un.apply(no(Yn)?Yn:[],Wn)}return this[wn](function(gr){return un.apply(no(gr)?gr:[],Wn)})}}),bs(ao.prototype,function(rn,un){var wn=Gn[un];if(wn){var xn=wn.name+"";fo.call(ai,xn)||(ai[xn]=[]),ai[xn].push({name:un,func:wn})}}),ai[wa(t,$n).name]=[{name:"wrapper",func:t}],ao.prototype.clone=vf,ao.prototype.reverse=If,ao.prototype.value=Pf,Gn.prototype.at=im,Gn.prototype.chain=am,Gn.prototype.commit=cm,Gn.prototype.next=um,Gn.prototype.plant=dm,Gn.prototype.reverse=fm,Gn.prototype.toJSON=Gn.prototype.valueOf=Gn.prototype.value=hm,Gn.prototype.first=Gn.prototype.head,vi&&(Gn.prototype[vi]=lm),Gn},oi=af();Fs?((Fs.exports=oi)._=oi,za._=oi):Fo._=oi}).call(commonjsGlobal)})(lodash,lodash.exports);var OrderCacheService$1={};Object.defineProperty(OrderCacheService$1,"__esModule",{value:!0});OrderCacheService$1.OrderCacheService=void 0;const lodash_1$1=lodash.exports,mobx_1=require$$1,Order_1$1=Order,types_1$2=types$2;class OrderCacheService{constructor(){this.endTriggered=!1,this.observableData={buyOrdersCache:new Map,sellOrdersCache:new Map},this.orderChanges=(0,mobx_1.observable)([]),this.observableData=(0,mobx_1.makeAutoObservable)(this.observableData),(0,mobx_1.makeObservable)(this,{buyOrdersCache:mobx_1.computed,sellOrdersCache:mobx_1.computed,allOrdersCache:mobx_1.computed})}get buyOrdersCache(){return this.observableData.buyOrdersCache}get sellOrdersCache(){return this.observableData.sellOrdersCache}get allOrdersCache(){const e=new Map;return this.buyOrdersCache.forEach(t=>{t.forEach((r,o)=>{e.set(o,r)})}),this.sellOrdersCache.forEach(t=>{t.forEach((r,o)=>{e.set(o,r)})}),e}get mints(){return(0,lodash_1$1.union)(Array.from(this.buyOrdersCache.keys()),Array.from(this.sellOrdersCache.keys()))}get orders(){return this.allOrdersCache}get buyOrders(){const e=new Map;return this.buyOrdersCache.forEach(t=>{t.forEach(r=>{e.set(r.id,r)})}),e}get sellOrders(){const e=new Map;return this.sellOrdersCache.forEach(t=>{t.forEach(r=>{e.set(r.id,r)})}),e}clearOrders(){const{allOrdersCache:e}=this;e.forEach(t=>{(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderRemoved,order:t})})}),this.buyOrdersCache.clear(),this.sellOrdersCache.clear()}getAllOrdersCache(){return this.allOrdersCache}getOrderCacheByType(e){return e===Order_1$1.OrderSide.Buy?this.getBuyOrderCache():this.getSellOrderCache()}getBuyOrderCache(){return new Map(this.buyOrdersCache)}getSellOrderCache(){return new Map(this.sellOrdersCache)}getOrderById(e){return this.allOrdersCache.get(e)}addOrder(e){const t=this.getOrdersForType(e.orderType);t.get(e.orderMint)||t.set(e.orderMint,new Map);const r=t.get(e.orderMint),o=r.get(e.id);return o&&o.slotContext>e.slotContext?o:(r.set(e.id,e),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderAdded,order:e})}),e)}updateOrder(e){const r=this.getOrdersForType(e.orderType).get(e.orderMint),o=r.get(e.id);if(!!o){if(o.orderQtyRemaining!==e.orderQtyRemaining&&e.slotContext>o.slotContext){const a=(0,lodash_1$1.clone)(o);a.orderQtyRemaining=e.orderQtyRemaining,r.set(e.id,a),(0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderModified,order:e})})}return e}}cancelOrder(e){return this.getOrdersForType(e.orderType).get(e.orderMint).delete(e.id)?((0,mobx_1.runInAction)(()=>{this.orderChanges.push({eventType:types_1$2.GmEventType.orderRemoved,order:e})}),!0):!1}getOrdersForType(e){return e===Order_1$1.OrderSide.Buy?this.buyOrdersCache:this.sellOrdersCache}}OrderCacheService$1.OrderCacheService=OrderCacheService;var GmClientService$1={},helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.createTransactionFromInstructions=void 0;const web3_js_1$4=require$$2,createTransactionFromInstructions=n=>{const e=new web3_js_1$4.Transaction;return e.add(...n),e};helpers.createTransactionFromInstructions=createTransactionFromInstructions;var constants={};Object.defineProperty(constants,"__esModule",{value:!0});constants.TEN_THOUSAND=constants.ONE_MILLION=void 0;constants.ONE_MILLION=1e6;constants.TEN_THOUSAND=1e4;var __awaiter$g=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(GmClientService$1,"__esModule",{value:!0});GmClientService$1.GmClientService=void 0;const web3_js_1$3=require$$2,instruction_builders_1=instruction_builders,pda_getters_1$3=pda_getters$3,helpers_1=helpers,util_1$4=util,Order_1=Order,constants_1=constants,utils_1$b=utils,atlas_staking_1=atlasStaking;class GmClientService{constructor(){this.currencyInfo=[]}getRegisteredCurrencies(e,t,r=!1){var o;return __awaiter$g(this,void 0,void 0,function*(){if(((o=this.currencyInfo)===null||o===void 0?void 0:o.length)&&!r)return this.currencyInfo;const a=[],c=yield(0,pda_getters_1$3.getAllRegisteredCurrencies)(e,t);for(const u of c){const{mint:en,royalty:tn,saVault:nn}=u,sn=yield e.getTokenSupply(en,"recent"),{decimals:fn}=sn.value;a.push({decimals:fn,mint:en.toString(),royaltyPercentageAsDecimal:tn.toNumber()/constants_1.ONE_MILLION,saVault:nn.toString()})}return this.currencyInfo=a,this.currencyInfo})}getAllOpenOrders(e,t){return __awaiter$g(this,void 0,void 0,function*(){const r=yield(0,pda_getters_1$3.getAllOpenOrders)(e,t),o=yield e.getSlot();return this.accountItemsToOrders(e,t,r,o)})}getOpenOrdersForPlayer(e,t,r){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getOpenOrdersForPlayer)(e,t,r),a=yield e.getSlot();return this.accountItemsToOrders(e,r,o,a)})}getOpenOrdersForCurrency(e,t,r){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getOpenOrdersForCurrency)(e,t,r),a=yield e.getSlot();return this.accountItemsToOrders(e,r,o,a)})}getOpenOrdersForAsset(e,t,r){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getOpenOrdersForAsset)(e,t,r),a=yield e.getSlot();return this.accountItemsToOrders(e,r,o,a)})}getOpenOrdersForPlayerAndCurrency(e,t,r,o){return __awaiter$g(this,void 0,void 0,function*(){const a=yield(0,pda_getters_1$3.getOpenOrdersForPlayerAndCurrency)(e,t,r,o),c=yield e.getSlot();return this.accountItemsToOrders(e,o,a,c)})}getOpenOrdersForPlayerAndAsset(e,t,r,o){return __awaiter$g(this,void 0,void 0,function*(){const a=yield(0,pda_getters_1$3.getOpenOrdersForPlayerAndAsset)(e,t,r,o),c=yield e.getSlot();return this.accountItemsToOrders(e,o,a,c)})}getOpenOrder(e,t,r){return __awaiter$g(this,void 0,void 0,function*(){const o=yield(0,pda_getters_1$3.getSingleOrder)(e,t,r),a={publicKey:t,account:o},c=yield e.getSlot(),[u]=yield this.accountItemsToOrders(e,r,[a],c);return u})}getInitializeOrderTransaction(e,t,r,o,a,c,u,en){return __awaiter$g(this,void 0,void 0,function*(){let tn=instruction_builders_1.createInitializeSellOrderInstruction,nn=r,sn=o;en===Order_1.OrderSide.Buy&&(tn=instruction_builders_1.createInitializeBuyOrderInstruction,nn=o,sn=r);const fn=yield(0,util_1$4.getAssociatedTokenAddress)(t,nn),{ixSet:dn}=yield tn({connection:e,depositMint:nn,initializerDepositTokenAccount:fn,initializerMainAccount:t,originationQty:a,price:c,programId:u,receiveMint:sn}),{signers:hn,instructions:ln}=dn;return{transaction:(0,helpers_1.createTransactionFromInstructions)(ln),signers:hn}})}getBnPriceForCurrency(e,t,r,o){return __awaiter$g(this,void 0,void 0,function*(){const a=yield this.getRegisteredCurrencies(e,o),{decimals:c}=a.find(u=>u.mint.toString()===r.toString());return(0,utils_1$b.convertDecimalPriceToBn)(t,c)})}getCancelOrderTransaction(e,t,r,o){return __awaiter$g(this,void 0,void 0,function*(){const{instructions:a,signers:c}=yield(0,instruction_builders_1.createCancelOrderInstruction)({connection:e,orderAccount:t,orderInitializer:r,programId:o});return{transaction:(0,helpers_1.createTransactionFromInstructions)(a),signers:c}})}getCreateExchangeTransaction(e,t,r,o,a,c=new web3_js_1$3.PublicKey("ATLocKpzDbTokxgvnLew3d7drZkEzLzDpzwgrgWKDbmc"),u=new web3_js_1$3.PublicKey("J5GhV1WKcEU98c1kZt36ixjaErrrPNWbZhg3JQDg114E")){return __awaiter$g(this,void 0,void 0,function*(){const en=new web3_js_1$3.PublicKey(t.id),tn=new web3_js_1$3.PublicKey(t.orderMint),nn=new web3_js_1$3.PublicKey(t.currencyMint),sn=new web3_js_1$3.PublicKey(t.owner),fn=t.orderType===Order_1.OrderSide.Buy?r:new web3_js_1$3.PublicKey(t.owner),dn=yield(0,util_1$4.getAssociatedTokenAddress)(r,t.orderType===Order_1.OrderSide.Buy?tn:nn),hn=yield this.getRegisteredCurrencies(e,a),{saVault:ln}=hn.find(In=>In.mint===t.currencyMint),[pn]=yield(0,atlas_staking_1.getStakingAccount)(c,fn,u),{instructions:$n,signers:Sn}=yield(0,instruction_builders_1.createExchangeInstruction)({connection:e,orderAccount:en,purchaseQty:o,orderTaker:r,orderTakerDepositTokenAccount:dn,programId:a,expectedPrice:t.price,orderType:t.orderType,assetMint:tn,currencyMint:nn,orderInitializer:sn,saVault:new web3_js_1$3.PublicKey(ln),stakingProgramId:c,registeredStake:u,stakingAccount:pn});return{transaction:(0,helpers_1.createTransactionFromInstructions)($n),signers:Sn}})}accountItemsToOrders(e,t,r,o){return __awaiter$g(this,void 0,void 0,function*(){if(!r.length)return[];const a=yield this.getRegisteredCurrencies(e,t);return r.map(c=>{const u=c.publicKey.toString(),en=Object.keys(c.account.orderSide)[0]==="buy"?Order_1.OrderSide.Buy:Order_1.OrderSide.Sell,tn=c.account.assetMint.toString(),nn=c.account.currencyMint.toString(),sn=c.account.price,fn=c.account.orderRemainingQty.toNumber(),dn=c.account.orderOriginationQty.toNumber(),hn=c.account.orderInitializerPubkey.toString(),ln=c.account.initializerAssetTokenAccount.toString(),pn=c.account.initializerCurrencyTokenAccount.toString(),$n=c.account.createdAtTimestamp.toNumber(),{decimals:Sn}=a.find(yn=>yn.mint.toString()===nn);return new Order_1.Order({id:u,orderType:en,orderMint:tn,currencyMint:nn,currencyDecimals:Sn,price:sn,orderQtyRemaining:fn,orderOriginationQty:dn,owner:hn,ownerAssetTokenAccount:ln,ownerCurrencyTokenAccount:pn,createdAt:$n,slotContext:o})})})}getAllFeeExemptions(e,t){return __awaiter$g(this,void 0,void 0,function*(){const r=[],o=yield(0,pda_getters_1$3.getAllFeeExemptAccounts)(e,t);for(const a of o)r.push({publicKey:a.account.account.toString(),feeReductionPercentageAsDecimal:a.account.discount.toNumber()/constants_1.TEN_THOUSAND});return r})}}GmClientService$1.GmClientService=GmClientService;var GmEventService$1={},__awaiter$f=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(GmEventService$1,"__esModule",{value:!0});GmEventService$1.GmEventService=void 0;const anchor_1$a=require$$0$1,models_1=models,types_1$1=types$2,GmClientService_1$1=GmClientService$1,utils_1$a=utils,types_2=types$2;class GmEventService{constructor(e,t,r){this.registeredCurrencyInfo={},this.eventListeners=[],this.queuedEvents=[],this.connection=e,this.programId=t,this.commitment=r||e.commitment,this.handleOrderCreated=this.handleOrderCreated.bind(this),this.handleOrderExchanged=this.handleOrderExchanged.bind(this),this.handleOrderCanceled=this.handleOrderCanceled.bind(this),this.setCurrencyInfo=this.setCurrencyInfo.bind(this),this.handleCurrencyRegistered=this.handleCurrencyRegistered.bind(this)}initialize(){return __awaiter$f(this,void 0,void 0,function*(){this.idl=(0,utils_1$a.getGmLogsIDL)(this.programId),this.provider=new anchor_1$a.AnchorProvider(this.connection,null,{commitment:this.commitment}),this.program=new anchor_1$a.Program(this.idl,this.programId,this.provider,{instruction:new anchor_1$a.BorshInstructionCoder(this.idl),accounts:new anchor_1$a.BorshAccountsCoder(this.idl),state:null,events:new anchor_1$a.BorshEventCoder(this.idl)}),yield this.setCurrencyInfo();const e=this.program.addEventListener(types_2.GmLogs.InitializeMemo,this.handleOrderCreated),t=this.program.addEventListener(types_2.GmLogs.ExchangeMemo,this.handleOrderExchanged),r=this.program.addEventListener(types_2.GmLogs.CancelOrderMemo,this.handleOrderCanceled),o=this.program.addEventListener(types_2.GmLogs.RegisterCurrencyMemo,this.handleCurrencyRegistered);this.eventListeners.push(e,t,r,o)})}end(){return __awaiter$f(this,void 0,void 0,function*(){for(const e of this.eventListeners)yield this.program.removeEventListener(e);this.eventListeners=[],this.onEvent=null})}setEventHandler(e){this.onEvent=e;for(const t of this.queuedEvents)this.onEvent(t.eventType,t.order,t.slotContext)}setCurrencyInfo(){return __awaiter$f(this,void 0,void 0,function*(){const t=yield new GmClientService_1$1.GmClientService().getRegisteredCurrencies(this.connection,this.programId,!0);for(const r of t)this.registeredCurrencyInfo[r.mint]=r})}getParsedOrderFromEvent(e,t){const r=this.registeredCurrencyInfo[e.currencyMint.toString()];if(!r)return null;const{decimals:o}=r;return new models_1.Order({id:e.orderId.toString(),orderType:e.orderSide===0?models_1.OrderSide.Buy:models_1.OrderSide.Sell,orderMint:e.assetMint.toString(),currencyMint:e.currencyMint.toString(),currencyDecimals:o,price:e.price,orderQtyRemaining:e.orderRemainingQty.toNumber(),orderOriginationQty:e.orderOriginationQty.toNumber(),owner:e.orderInitializerPubkey.toString(),ownerAssetTokenAccount:e.initializerAssetTokenAccount.toString(),ownerCurrencyTokenAccount:e.initializerCurrencyTokenAccount.toString(),createdAt:e.createdAtTimestamp.toNumber(),slotContext:t})}handleOrderCreated(e,t){this.processEvent(types_1$1.GmEventType.orderAdded,this.getParsedOrderFromEvent(e,t),t)}handleOrderExchanged(e,t){this.processEvent(types_1$1.GmEventType.orderModified,this.getParsedOrderFromEvent(e,t),t)}handleOrderCanceled(e,t){this.processEvent(types_1$1.GmEventType.orderRemoved,this.getParsedOrderFromEvent(e,t),t)}processEvent(e,t,r){if(!this.onEvent){this.queuedEvents.push({eventType:e,order:t,slotContext:r});return}this.onEvent(e,t,r)}handleCurrencyRegistered(){return __awaiter$f(this,void 0,void 0,function*(){yield this.setCurrencyInfo()})}}GmEventService$1.GmEventService=GmEventService;var __awaiter$e=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(GmOrderbookService$1,"__esModule",{value:!0});GmOrderbookService$1.GmOrderbookService=void 0;const mobx_utils_1=require$$0,lodash_1=lodash.exports,OrderCacheService_1=OrderCacheService$1,types_1=types$2,GmClientService_1=GmClientService$1,GmEventService_1=GmEventService$1;class GmOrderbookService{constructor(e,t,r=60){this.gmClientService=new GmClientService_1.GmClientService,this.eventCallBacks=[],this.changeObserverDisposer=null,this.lastEventTimestamp=this.getNow(),this.isReloading=!1,this.connection=e,this.marketplaceProgramId=t,this.healthcheckThreshold=r,this.orderCacheService=new OrderCacheService_1.OrderCacheService,this.gmClientService=new GmClientService_1.GmClientService,this.gmEventService=new GmEventService_1.GmEventService(this.connection,this.marketplaceProgramId),this.handleMarketplaceEvent=this.handleMarketplaceEvent.bind(this)}initialize(){return __awaiter$e(this,void 0,void 0,function*(){return yield this.gmEventService.initialize(),this.changeObserverDisposer=(0,mobx_utils_1.queueProcessor)(this.orderCacheService.orderChanges,e=>{this.eventCallBacks.forEach(t=>t.onEvent(e))},250),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.loadInitialOrders(),this.healthcheckTimer=setInterval(()=>{!this.getIsServiceHealthy()&&!this.isReloading&&this.resetOrdersData()},GmOrderbookService.HEALTH_CHECK_RATE),this.orderCacheService.mints.length})}end(){return __awaiter$e(this,void 0,void 0,function*(){return yield this.gmEventService.end(),this.eventCallBacks=[],this.changeObserverDisposer=null,!0})}getIsServiceHealthy(){return this.getNow()-this.lastEventTimestamp<=this.healthcheckThreshold}resetOrdersData(){return __awaiter$e(this,void 0,void 0,function*(){this.isReloading||(this.isReloading=!0,yield this.resetEventService(),yield this.refetchOrderData(),this.lastEventTimestamp=this.getNow(),this.isReloading=!1)})}resetEventService(){return __awaiter$e(this,void 0,void 0,function*(){yield this.gmEventService.end(),this.gmEventService=new GmEventService_1.GmEventService(this.connection,this.marketplaceProgramId),this.gmEventService.setEventHandler(this.handleMarketplaceEvent),yield this.gmEventService.initialize()})}refetchOrderData(){return __awaiter$e(this,void 0,void 0,function*(){const e=this.orderCacheService.getAllOrdersCache();try{const t=yield this.connection.getSlot("confirmed"),r=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId),o=new Map;for(const a of r){o.set(a.id,a);const c=e.get(a.id);c?c&&c.orderQtyRemaining!==a.orderQtyRemaining&&this.updateOrderInCache(a):this.addOrderToCache(a)}for(const a of Array.from(e.values()))a.slotContext<t&&!o.get(a.id)&&this.removeOrderFromCache(a)}catch(t){console.log("There was an error refreshing all marketplace data",t)}})}addOnEventHandler(e){this.eventCallBacks.push(e)}removeOnEventHandler(e){(0,lodash_1.pull)(this.eventCallBacks,e)}loadInitialOrders(){return __awaiter$e(this,void 0,void 0,function*(){try{const e=yield this.gmClientService.getAllOpenOrders(this.connection,this.marketplaceProgramId);for(const t of e)this.addOrderToCache(t)}catch(e){console.log(e)}return this.orderCacheService.getAllOrdersCache().size})}addOrderToCache(e){return this.orderCacheService.addOrder(e)}removeOrderFromCache(e){return this.orderCacheService.cancelOrder(e)}updateOrderInCache(e){return this.orderCacheService.updateOrder(e)}getBuyOrders(){return this.orderCacheService.buyOrdersCache}getBuyOrdersForMint(e){return this.orderCacheService.buyOrdersCache.get(e)}getSellOrders(){return this.orderCacheService.sellOrdersCache}getSellOrdersForMint(e){return this.orderCacheService.sellOrdersCache.get(e)}getOrdersByType(e){return e==="buy"?this.getBuyOrders():this.getSellOrders()}getBuyOrdersByCurrencyAndItem(e,t){const r=this.getBuyOrdersForMint(t);if(!r)return[];const o=[...r.values()];return o.length?this.filterOrdersByCurrency(e,o):[]}getSellOrdersByCurrencyAndItem(e,t){const r=this.getSellOrdersForMint(t);if(!r)return[];const o=[...r.values()];return o.length?this.filterOrdersByCurrency(e,o):[]}filterOrdersByCurrency(e,t){return t.length?t.filter(r=>r.currencyMint===e):[]}getOrderById(e){return this.orderCacheService.getOrderById(e)}getAllOrdersByItemMint(e){const t=new Map,r=this.getSellOrdersForMint(e),o=this.getBuyOrdersForMint(e);if(r)for(const a of r.values())t.set(a.id,a);if(o)for(const a of o.values())t.set(a.id,a);return t}getAllMints(){return this.orderCacheService.mints}getAllOrdersForUserAddress(e){const t=this.orderCacheService.getAllOrdersCache();return Array.from(t.values()).filter(a=>a.owner===e)}handleOrderAddedEvent(e){this.addOrderToCache(e)}handleOrderModifiedEvent(e){if(e.orderQtyRemaining===0){this.removeOrderFromCache(e);return}this.updateOrderInCache(e)}handleOrderCanceledEvent(e){this.removeOrderFromCache(e)}handleMarketplaceEvent(e,t){if(!!t)switch(this.lastEventTimestamp=this.getNow(),e){case types_1.GmEventType.orderAdded:this.handleOrderAddedEvent(t);break;case types_1.GmEventType.orderModified:this.handleOrderModifiedEvent(t);break;case types_1.GmEventType.orderRemoved:this.handleOrderCanceledEvent(t);break}}getNow(){return new Date().getTime()/1e3}}GmOrderbookService$1.GmOrderbookService=GmOrderbookService;GmOrderbookService.HEALTH_CHECK_RATE=5e3;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(GmOrderbookService$1,n),t(GmClientService$1,n),t(GmEventService$1,n)})(services);(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(instruction_builders,n),t(pda_getters$3,n),t(types$2,n),t(utils,n),t(models,n),t(services,n)})(marketplace);var __awaiter$d=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(gmHelper$1,"__esModule",{value:!0});gmHelper$1.createAccountTransaction=gmHelper$1.createAccountInstruction=void 0;const anchor_1$9=require$$0$1,web3_js_1$2=require$$2,marketplace_1=marketplace;function createAccountInstruction(n,e,t,r){return __awaiter$d(this,void 0,void 0,function*(){const o=(0,marketplace_1.getGmIDL)(r),a=new anchor_1$9.AnchorProvider(n,null,null),c=new anchor_1$9.Program(o,r,a);return web3_js_1$2.SystemProgram.createAccount({fromPubkey:e,newAccountPubkey:t.publicKey,space:c.account.orderAccount.size,lamports:yield n.getMinimumBalanceForRentExemption(c.account.orderAccount.size),programId:r})})}gmHelper$1.createAccountInstruction=createAccountInstruction;function createAccountTransaction(n,e,t,r){return __awaiter$d(this,void 0,void 0,function*(){const o=(0,marketplace_1.getGmIDL)(r),a=new anchor_1$9.AnchorProvider(n,null,null),c=new anchor_1$9.Program(o,r,a),u=new web3_js_1$2.Transaction({recentBlockhash:(yield n.getLatestBlockhash()).blockhash,feePayer:e});return u.add(web3_js_1$2.SystemProgram.createAccount({fromPubkey:e,newAccountPubkey:t.publicKey,space:c.account.orderAccount.size,lamports:yield n.getMinimumBalanceForRentExemption(c.account.orderAccount.size),programId:r})),u})}gmHelper$1.createAccountTransaction=createAccountTransaction;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(helpers$1,n),t(wallet,n),t(gmHelper$1,n)})(util);var __awaiter$c=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(harvestRewards,"__esModule",{value:!0});harvestRewards.harvestRewardsInstruction=void 0;const anchor_1$8=require$$0$1,token_1$4=token$1,util_1$3=util,utils_1$9=utils$1;function harvestRewardsInstruction({connection:n,user:e,rewardMint:t,registeredStake:r,stakingAccount:o,programId:a}){return __awaiter$c(this,void 0,void 0,function*(){const c=(0,utils_1$9.getStakingProgram)({connection:n,programId:a}),u={signers:[],instructions:[]};let en=null,tn=null;const nn=yield(0,util_1$3.getTokenAccount)(n,e,t);en=nn.tokenAccount,"createInstruction"in nn&&u.instructions.push(...nn.createInstruction),en instanceof anchor_1$8.web3.Keypair?(tn=en.publicKey,u.signers.push(en)):tn=en;const sn=yield(0,token_1$4.associatedAddress)({owner:r,mint:t}),fn=yield c.methods.harvest().accounts({user:e,rewardMint:t,registeredStake:r,stakingAccount:o,userRewardAccount:tn,rewardAta:sn}).instruction();return u.instructions.push(fn),u})}harvestRewards.harvestRewardsInstruction=harvestRewardsInstruction;var initializeStaking={},__awaiter$b=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(initializeStaking,"__esModule",{value:!0});initializeStaking.createInitializeStakingInstruction=void 0;const utils_1$8=utils$1;function createInitializeStakingInstruction({connection:n,updateAuthorityAccount:e,programId:t}){return __awaiter$b(this,void 0,void 0,function*(){const r=(0,utils_1$8.getStakingProgram)({connection:n,programId:t}),o={signers:[],instructions:[]},a=yield r.methods.initializeStaking().accounts({updateAuthorityAccount:e}).instruction();return o.instructions.push(a),o})}initializeStaking.createInitializeStakingInstruction=createInitializeStakingInstruction;var registerStake={},pda_getters$1={},pda_getters={},seeds={};Object.defineProperty(seeds,"__esModule",{value:!0});seeds.ESCROW_AUTH=seeds.STAKING_VARS=seeds.STAKING_ESCROW=seeds.STAKING_ACCOUNT=seeds.REWARD_AUTH=seeds.REWARD_ACCOUNT=seeds.REGISTERED_STAKE=void 0;seeds.REGISTERED_STAKE=dist$3.Buffer.from("registered-stake");seeds.REWARD_ACCOUNT=dist$3.Buffer.from("reward-account");seeds.REWARD_AUTH=dist$3.Buffer.from("reward-vault-authority");seeds.STAKING_ACCOUNT=dist$3.Buffer.from("staking-account");seeds.STAKING_ESCROW=dist$3.Buffer.from("staking-escrow");seeds.STAKING_VARS=dist$3.Buffer.from("staking-vars");seeds.ESCROW_AUTH=dist$3.Buffer.from("escrow-auth");var __awaiter$a=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(pda_getters,"__esModule",{value:!0});pda_getters.getRewardAuth=pda_getters.getTokenEscrow=pda_getters.getStakingVarsAccount=pda_getters.getStakingAccountsForRegisteredStake=pda_getters.getStakingAccount=pda_getters.getRegisteredStake=void 0;const anchor_1$7=require$$0$1,web3_js_1$1=require$$2,utils_1$7=utils$1,seeds_1=seeds;function getRegisteredStake(n,e,t,r){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.REGISTERED_STAKE,e.toBuffer(),t.toBuffer(),r.toBuffer()],n)})}pda_getters.getRegisteredStake=getRegisteredStake;function getStakingAccount(n,e,t){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.STAKING_ACCOUNT,e.toBuffer(),t.toBuffer()],n)})}pda_getters.getStakingAccount=getStakingAccount;function getStakingAccountsForRegisteredStake(n,e,t){return __awaiter$a(this,void 0,void 0,function*(){const r=new anchor_1$7.AnchorProvider(n,null,null),o=(0,utils_1$7.getStakingIdl)(e),a=new anchor_1$7.Program(o,e,r),c=[{dataSize:171},{memcmp:{offset:40,bytes:t.toBase58()}}];return yield a.account.stakingAccount.all(c)})}pda_getters.getStakingAccountsForRegisteredStake=getStakingAccountsForRegisteredStake;function getStakingVarsAccount(n){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.STAKING_VARS],n)})}pda_getters.getStakingVarsAccount=getStakingVarsAccount;function getTokenEscrow(n,e,t){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.STAKING_ESCROW,e.toBuffer(),t.toBuffer()],n)})}pda_getters.getTokenEscrow=getTokenEscrow;function getRewardAuth(n,e){return __awaiter$a(this,void 0,void 0,function*(){return web3_js_1$1.PublicKey.findProgramAddress([seeds_1.REWARD_AUTH,e.toBuffer()],n)})}pda_getters.getRewardAuth=getRewardAuth;var pda_info_getters={},__awaiter$9=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(pda_info_getters,"__esModule",{value:!0});pda_info_getters.getStakingVarsAccountInfo=pda_info_getters.getStakingAccountInfo=pda_info_getters.getRegisteredStakeAccountInfo=void 0;const getStakingProgram_1=getStakingProgram$1,pda_getters_1$2=pda_getters;function getRegisteredStakeAccountInfo(n,e,t){return __awaiter$9(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:n,programId:t}).account.registeredStake.fetch(e)})}pda_info_getters.getRegisteredStakeAccountInfo=getRegisteredStakeAccountInfo;function getStakingAccountInfo(n,e,t){return __awaiter$9(this,void 0,void 0,function*(){return yield(0,getStakingProgram_1.getStakingProgram)({connection:n,programId:t}).account.stakingAccount.fetch(e)})}pda_info_getters.getStakingAccountInfo=getStakingAccountInfo;function getStakingVarsAccountInfo(n,e){return __awaiter$9(this,void 0,void 0,function*(){const t=(0,getStakingProgram_1.getStakingProgram)({connection:n,programId:e}),[r]=yield(0,pda_getters_1$2.getStakingVarsAccount)(e);return yield t.account.stakingVars.fetch(r)})}pda_info_getters.getStakingVarsAccountInfo=getStakingVarsAccountInfo;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(pda_getters,n),t(pda_info_getters,n),t(seeds,n)})(pda_getters$1);var __awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(registerStake,"__esModule",{value:!0});registerStake.registerStakeInstruction=void 0;const anchor_1$6=require$$0$1,token_1$3=token$1,pda_getters_1$1=pda_getters$1,utils_1$6=utils$1;function registerStakeInstruction({connection:n,authority:e,rewardMultiplier:t,stakeMint:r,rewardMint:o,cooldownPeriod:a,programId:c}){return __awaiter$8(this,void 0,void 0,function*(){const u=(0,utils_1$6.getStakingProgram)({connection:n,programId:c}),en={instructions:[],signers:[]},[tn]=yield(0,pda_getters_1$1.getRegisteredStake)(c,e,r,o),nn=yield(0,token_1$3.associatedAddress)({owner:tn,mint:o}),sn=yield u.methods.registerStake(new anchor_1$6.BN(t),new anchor_1$6.BN(a)).accounts({authority:e,stakeMint:r,rewardMint:o,rewardAta:nn}).instruction();return en.instructions.push(sn),en})}registerStake.registerStakeInstruction=registerStakeInstruction;var settle={},__awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(settle,"__esModule",{value:!0});settle.createSettleStakingAccountInstruction=void 0;const utils_1$5=utils$1;function createSettleStakingAccountInstruction({connection:n,authority:e,registeredStake:t,stakingAccount:r,updatedStakingPeriod:o,programId:a}){return __awaiter$7(this,void 0,void 0,function*(){const c=(0,utils_1$5.getStakingProgram)({connection:n,programId:a}),u={instructions:[],signers:[]},en=yield c.methods.settle(o).accounts({authority:e,registeredStake:t,stakingAccount:r}).instruction();return u.instructions.push(en),u})}settle.createSettleStakingAccountInstruction=createSettleStakingAccountInstruction;var stakeTokens={},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(stakeTokens,"__esModule",{value:!0});stakeTokens.stakeTokensInstruction=void 0;const token_1$2=token$1,utils_1$4=utils$1;function stakeTokensInstruction({connection:n,user:e,stakeMint:t,tokenSource:r,stakeQuantity:o,registeredStake:a,stakingAccount:c,programId:u}){return __awaiter$6(this,void 0,void 0,function*(){const en=(0,utils_1$4.getStakingProgram)({connection:n,programId:u}),tn=yield(0,token_1$2.associatedAddress)({owner:c,mint:t}),nn={instructions:[],signers:[]},sn=yield en.methods.stakeTokens(o).accounts({user:e,stakeMint:t,tokenSource:r,registeredStake:a,tokenEscrow:tn}).instruction();return nn.instructions.push(sn),nn})}stakeTokens.stakeTokensInstruction=stakeTokensInstruction;var unstakeTokens={},__awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(unstakeTokens,"__esModule",{value:!0});unstakeTokens.unstakeTokensInstruction=void 0;const anchor_1$5=require$$0$1,token_1$1=token$1,util_1$2=util,pda_getters_1=pda_getters$1,utils_1$3=utils$1;function unstakeTokensInstruction({connection:n,user:e,registeredStake:t,stakingAccount:r,programId:o}){return __awaiter$5(this,void 0,void 0,function*(){const a=(0,utils_1$3.getStakingProgram)({connection:n,programId:o}),c={signers:[],instructions:[]},en=(yield(0,pda_getters_1.getRegisteredStakeAccountInfo)(n,t,o)).rewardMint;let tn=null,nn=null;const sn=yield(0,util_1$2.getTokenAccount)(n,e,en);tn=sn.tokenAccount,"createInstruction"in sn&&c.instructions.push(...sn.createInstruction),tn instanceof anchor_1$5.web3.Keypair?(nn=tn.publicKey,c.signers.push(tn)):nn=tn;const fn=yield(0,token_1$1.associatedAddress)({owner:t,mint:en}),dn=yield a.methods.unstakeTokens().accounts({user:e,rewardMint:en,registeredStake:t,stakingAccount:r,userRewardAccount:nn,rewardAta:fn}).instruction();return c.instructions.push(dn),c})}unstakeTokens.unstakeTokensInstruction=unstakeTokensInstruction;var updateCooldownPeriod={},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(updateCooldownPeriod,"__esModule",{value:!0});updateCooldownPeriod.updateCooldownPeriodInstruction=void 0;const anchor_1$4=require$$0$1,utils_1$2=utils$1;function updateCooldownPeriodInstruction({connection:n,authority:e,registeredStake:t,cooldownPeriod:r,programId:o}){return __awaiter$4(this,void 0,void 0,function*(){const a=(0,utils_1$2.getStakingProgram)({connection:n,programId:o}),c={instructions:[],signers:[]},u=yield a.methods.updateCooldownPeriod(new anchor_1$4.BN(r)).accounts({authority:e,registeredStake:t}).instruction();return c.instructions.push(u),c})}updateCooldownPeriod.updateCooldownPeriodInstruction=updateCooldownPeriodInstruction;var updateRewardMultiplier={},__awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(updateRewardMultiplier,"__esModule",{value:!0});updateRewardMultiplier.updateRewardMultiplierInstruction=void 0;const anchor_1$3=require$$0$1,utils_1$1=utils$1;function updateRewardMultiplierInstruction({connection:n,authority:e,rewardMultiplier:t,registeredStake:r,newStakingPeriod:o,programId:a}){return __awaiter$3(this,void 0,void 0,function*(){const c=(0,utils_1$1.getStakingProgram)({connection:n,programId:a}),u={instructions:[],signers:[]},en=yield c.methods.updateRewardMultiplier(new anchor_1$3.BN(t),o).accounts({authority:e,registeredStake:r}).instruction();return u.instructions.push(en),u})}updateRewardMultiplier.updateRewardMultiplierInstruction=updateRewardMultiplierInstruction;var withdrawTokens={},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(withdrawTokens,"__esModule",{value:!0});withdrawTokens.withdrawTokensInstruction=void 0;const anchor_1$2=require$$0$1,token_1=token$1,utils_1=utils$1,util_1$1=util;function withdrawTokensInstruction({connection:n,authority:e,user:t,stakeMint:r,registeredStake:o,stakingAccount:a,programId:c}){return __awaiter$2(this,void 0,void 0,function*(){const u=(0,utils_1.getStakingProgram)({connection:n,programId:c}),en=yield(0,token_1.associatedAddress)({owner:a,mint:r}),tn={signers:[],instructions:[]};let nn=null,sn=null;const fn=yield(0,util_1$1.getTokenAccount)(n,t,r);nn=fn.tokenAccount,"createInstruction"in fn&&tn.instructions.push(...fn.createInstruction),nn instanceof anchor_1$2.web3.Keypair?(sn=nn.publicKey,tn.signers.push(nn)):sn=nn;const dn=yield u.methods.withdrawTokens().accounts({user:t,authority:e,stakeMint:r,tokenSource:sn,registeredStake:o,stakingAccount:a,tokenEscrow:en}).instruction();return tn.instructions.push(dn),tn})}withdrawTokens.withdrawTokensInstruction=withdrawTokensInstruction;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(baseParams,n),t(cancelUnstake,n),t(createStakeAccount,n),t(harvestRewards,n),t(initializeStaking,n),t(registerStake,n),t(settle,n),t(stakeTokens,n),t(unstakeTokens,n),t(updateCooldownPeriod,n),t(updateRewardMultiplier,n),t(withdrawTokens,n)})(instruction_builders$1);var types$1={},stakingProgramAccounts={};Object.defineProperty(stakingProgramAccounts,"__esModule",{value:!0});(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(stakingIdl,n),t(stakingProgramAccounts,n)})(types$1);(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(instruction_builders$1,n),t(pda_getters$1,n),t(types$1,n),t(utils$1,n)})(atlasStaking);var factions={};(function(n){var e=commonjsGlobal&&commonjsGlobal.__awaiter||function(sn,fn,dn,hn){function ln(pn){return pn instanceof dn?pn:new dn(function($n){$n(pn)})}return new(dn||(dn=Promise))(function(pn,$n){function Sn(An){try{In(hn.next(An))}catch(Tn){$n(Tn)}}function yn(An){try{In(hn.throw(An))}catch(Tn){$n(Tn)}}function In(An){An.done?pn(An.value):ln(An.value).then(Sn,yn)}In((hn=hn.apply(sn,fn||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getPlayersOfFaction=n.getAllPlayers=n.getPlayer=n.enlistToFaction=n.getPlayerFactionPDA=n.getIDL=n.FactionType=void 0;const t=require$$0$1,r={version:"0.0.0",name:"enlist_to_faction",instructions:[{name:"processEnlistPlayer",accounts:[{name:"playerFactionAccount",isMut:!0,isSigner:!1},{name:"playerAccount",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"factionId",type:"u8"}]}],accounts:[{name:"PlayerFactionData",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"enlistedAtTimestamp",type:"i64"},{name:"factionId",type:"u8"},{name:"bump",type:"u8"},{name:"padding",type:{array:["u64",5]}}]}}],errors:[{code:300,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."}],metadata:{}},o="FACTION_ENLISTMENT";(function(sn){sn[sn.Unenlisted=-1]="Unenlisted",sn[sn.MUD=0]="MUD",sn[sn.ONI=1]="ONI",sn[sn.Ustur=2]="Ustur"})(n.FactionType||(n.FactionType={}));function a(sn){const fn=r;return fn.metadata.address=sn.toBase58(),fn}n.getIDL=a;function c(sn,fn){return e(this,void 0,void 0,function*(){return t.web3.PublicKey.findProgramAddress([dist$3.Buffer.from(o,"utf8"),sn.toBuffer()],fn)})}n.getPlayerFactionPDA=c;function u(sn,fn,dn,hn){return e(this,void 0,void 0,function*(){const[ln,pn]=yield c(dn,hn),$n=a(hn),Sn=new t.AnchorProvider(sn,null,null);return yield new t.Program($n,hn,Sn).instruction.processEnlistPlayer(pn,fn,{accounts:{playerFactionAccount:ln,playerAccount:dn,systemProgram:t.web3.SystemProgram.programId,clock:t.web3.SYSVAR_CLOCK_PUBKEY}})})}n.enlistToFaction=u;function en(sn,fn,dn){return e(this,void 0,void 0,function*(){const hn=new t.AnchorProvider(sn,null,null),ln=a(dn),pn=new t.Program(ln,dn,hn),[$n]=yield c(fn,dn);return yield pn.account.playerFactionData.fetch($n)})}n.getPlayer=en;function tn(sn,fn){return e(this,void 0,void 0,function*(){const dn=new t.AnchorProvider(sn,null,null),hn=a(fn);return(yield new t.Program(hn,fn,dn).account.playerFactionData.all()).map(Sn=>Sn.account)})}n.getAllPlayers=tn;function nn(sn,fn,dn){return e(this,void 0,void 0,function*(){const hn=new t.AnchorProvider(sn,null,null),ln=a(dn);return(yield new t.Program(ln,dn,hn).account.playerFactionData.all()).map(yn=>yn.account).filter(yn=>yn.factionId==fn)})}n.getPlayersOfFaction=nn})(factions);var gumdrop={},gumdropIdl={};Object.defineProperty(gumdropIdl,"__esModule",{value:!0});gumdropIdl.gumDropIdl=void 0;gumdropIdl.gumDropIdl={version:"0.0.0",name:"merkle_distributor",instructions:[{name:"newDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]},{name:"closeDistributor",accounts:[{name:"base",isMut:!1,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"receiver",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"walletBump",type:"u8"}]},{name:"claim",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"claimStatus",isMut:!0,isSigner:!1},{name:"from",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]},{name:"claimCandy",accounts:[{name:"distributor",isMut:!0,isSigner:!1},{name:"distributorWallet",isMut:!0,isSigner:!1},{name:"claimCount",isMut:!0,isSigner:!1},{name:"temporal",isMut:!1,isSigner:!0},{name:"payer",isMut:!1,isSigner:!0},{name:"candyMachineConfig",isMut:!1,isSigner:!1},{name:"candyMachine",isMut:!0,isSigner:!1},{name:"candyMachineWallet",isMut:!0,isSigner:!1},{name:"candyMachineMint",isMut:!0,isSigner:!1},{name:"candyMachineMetadata",isMut:!0,isSigner:!1},{name:"candyMachineMasterEdition",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"tokenMetadataProgram",isMut:!1,isSigner:!1},{name:"candyMachineProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"walletBump",type:"u8"},{name:"claimBump",type:"u8"},{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"claimantSecret",type:"publicKey"},{name:"proof",type:{vec:{array:["u8",32]}}}]}],accounts:[{name:"MerkleDistributor",type:{kind:"struct",fields:[{name:"base",type:"publicKey"},{name:"bump",type:"u8"},{name:"root",type:{array:["u8",32]}},{name:"temporal",type:"publicKey"}]}},{name:"ClaimStatus",type:{kind:"struct",fields:[{name:"isClaimed",type:"bool"},{name:"claimant",type:"publicKey"},{name:"claimedAt",type:"i64"},{name:"amount",type:"u64"}]}},{name:"ClaimCount",type:{kind:"struct",fields:[{name:"count",type:"u64"},{name:"claimant",type:"publicKey"}]}},{name:"CandyMachine",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"wallet",type:"publicKey"},{name:"tokenMint",type:{option:"publicKey"}},{name:"config",type:"publicKey"},{name:"data",type:{defined:"CandyMachineData"}},{name:"itemsRedeemed",type:"u64"},{name:"bump",type:"u8"}]}}],types:[{name:"CandyMachineData",type:{kind:"struct",fields:[{name:"uuid",type:"string"},{name:"price",type:"u64"},{name:"itemsAvailable",type:"u64"},{name:"goLiveDate",type:{option:"i64"}}]}}],events:[{name:"ClaimedEvent",fields:[{name:"index",type:"u64",index:!1},{name:"claimant",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:300,name:"InvalidProof",msg:"Invalid Merkle proof."},{code:301,name:"DropAlreadyClaimed",msg:"Drop already claimed."},{code:302,name:"Unauthorized",msg:"Account is not authorized to execute this instruction"},{code:303,name:"OwnerMismatch",msg:"Token account owner did not match intended owner"},{code:304,name:"TemporalMismatch",msg:"Temporal signer did not match distributor"}]};(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(ln,pn,$n,Sn){Sn===void 0&&(Sn=$n);var yn=Object.getOwnPropertyDescriptor(pn,$n);(!yn||("get"in yn?!pn.__esModule:yn.writable||yn.configurable))&&(yn={enumerable:!0,get:function(){return pn[$n]}}),Object.defineProperty(ln,Sn,yn)}:function(ln,pn,$n,Sn){Sn===void 0&&(Sn=$n),ln[Sn]=pn[$n]}),t=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(ln,pn){Object.defineProperty(ln,"default",{enumerable:!0,value:pn})}:function(ln,pn){ln.default=pn}),r=commonjsGlobal&&commonjsGlobal.__importStar||function(ln){if(ln&&ln.__esModule)return ln;var pn={};if(ln!=null)for(var $n in ln)$n!=="default"&&Object.prototype.hasOwnProperty.call(ln,$n)&&e(pn,ln,$n);return t(pn,ln),pn},o=commonjsGlobal&&commonjsGlobal.__awaiter||function(ln,pn,$n,Sn){function yn(In){return In instanceof $n?In:new $n(function(An){An(In)})}return new($n||($n=Promise))(function(In,An){function Tn(Dn){try{Pn(Sn.next(Dn))}catch(Kn){An(Kn)}}function kn(Dn){try{Pn(Sn.throw(Dn))}catch(Kn){An(Kn)}}function Pn(Dn){Dn.done?In(Dn.value):yn(Dn.value).then(Tn,kn)}Pn((Sn=Sn.apply(ln,pn||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.claimTokenInstructions=n.getMultipleClaimStatusAccounts=n.getClaimStatusAccount=n.getClaimStatusKey=void 0;const a=require$$0$1,c=require$$1$1,u=r(bs58$3),en=helpers$1,tn=gumdropIdl,nn=new a.web3.PublicKey("gdrpGjVffourzkdDRrQmySw4aTHr8a3xmQzzxSwFD1a"),sn=(ln,pn,$n=nn)=>o(void 0,void 0,void 0,function*(){return yield a.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("ClaimStatus"),ln.toArrayLike(dist$3.Buffer,"le",8),pn.toBuffer()],$n)});n.getClaimStatusKey=sn;const fn=(ln,pn,$n,Sn=nn)=>o(void 0,void 0,void 0,function*(){const yn=new a.AnchorProvider(ln,null,null),In=new a.Program(tn.gumDropIdl,Sn,yn),An=yield(0,n.getClaimStatusKey)(pn,$n,Sn);try{return yield In.account.claimStatus.fetch(An[0])}catch{return null}});n.getClaimStatusAccount=fn;const dn=(ln,pn,$n,Sn=nn)=>o(void 0,void 0,void 0,function*(){const yn=new a.AnchorProvider(ln,null,null),In=new a.Program(tn.gumDropIdl,Sn,yn),An=pn.map(Pn=>(0,n.getClaimStatusKey)(Pn,$n,Sn)),Tn=(yield Promise.all(An)).map(Pn=>Pn[0]);return yield In.account.claimStatus.fetchMultiple(Tn)});n.getMultipleClaimStatusAccounts=dn;const hn=ln=>o(void 0,void 0,void 0,function*(){const{connection:pn,claimUrl:$n,playerPublicKey:Sn,programId:yn}=ln,In=new URLSearchParams($n.split("?")[1]),An=In.get("distributor"),Tn=In.get("handle"),kn=In.get("amount"),Pn=In.get("index"),Dn=In.get("proof"),Kn=In.get("tokenAcc");if(!An||!Tn||!kn||!Pn||!Dn||!Kn)throw new Error("Invalid claim");const Hn=Dn===""?[]:Dn.split(",").map(Xn=>{const br=dist$3.Buffer.from(u.decode(Xn));if(br.length!==32)throw new Error("Invalid proof hash length");return br}),jn=new a.web3.PublicKey(An),Cn=new a.web3.PublicKey(Kn),mn=yield pn.getAccountInfo(Cn);if(mn===null)throw new Error("Could not fetch distributor token account");const _n=c.AccountLayout.decode(mn.data),vn=new a.web3.PublicKey(_n.mint),On=new a.web3.PublicKey(Tn),Nn=yield(0,en.getAssociatedTokenAddress)(On,vn),Un=yield pn.getParsedTokenAccountsByOwner(On,{mint:vn}),zn=new a.BN(Pn),Bn=new a.BN(kn),[En,Mn]=yield(0,n.getClaimStatusKey)(zn,jn,yn),Zn=new a.AnchorProvider(pn,null,null),Sr=new a.Program(tn.gumDropIdl,yn,Zn),$r=[];return Un.value.length===0&&$r.push(c.Token.createAssociatedTokenAccountInstruction(c.ASSOCIATED_TOKEN_PROGRAM_ID,c.TOKEN_PROGRAM_ID,vn,Nn,On,Sn)),$r.push(Sr.instruction.claim(Mn,zn,Bn,Sn,Hn,{accounts:{distributor:jn,claimStatus:En,from:Cn,to:Nn,temporal:Sn,payer:Sn,tokenProgram:c.TOKEN_PROGRAM_ID,systemProgram:a.web3.SystemProgram.programId}})),$r});n.claimTokenInstructions=hn})(gumdrop);var score={},scoreIdl={};Object.defineProperty(scoreIdl,"__esModule",{value:!0});scoreIdl.baseIdl=void 0;scoreIdl.baseIdl={version:"0.0.0",name:"score",instructions:[{name:"processInitialize",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"atlasMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!1,isSigner:!1}],args:[{name:"bump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processRegisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"scorevarsShipBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]},{name:"processDeregisterShip",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processUpdateRewardRate",accounts:[{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!0,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"newRewardRatePerSecond",type:"u64"}]},{name:"processInitialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerFactionAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processPartialDeposit",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"shipTokenAccountSource",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"shipQuantity",type:"u64"}]},{name:"processRefuel",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"fuelTokenAccountSource",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"fuelQuantity",type:"u64"}]},{name:"processRefeed",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"foodTokenAccountSource",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"foodQuantity",type:"u64"}]},{name:"processRearm",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"armsTokenAccountSource",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"armsQuantity",type:"u64"}]},{name:"processRepair",accounts:[{name:"tokenOwnerAccount",isMut:!1,isSigner:!0},{name:"playerAccount",isMut:!1,isSigner:!1},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"toolkitQuantity",type:"u64"}]},{name:"processSettle",accounts:[{name:"playerAccount",isMut:!1,isSigner:!1},{name:"updateAuthorityAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"}]},{name:"processHarvest",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"treasuryBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"}]},{name:"processWithdrawFuel",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountReturn",isMut:!0,isSigner:!1},{name:"fuelMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawFood",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountReturn",isMut:!0,isSigner:!1},{name:"foodMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawArms",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountReturn",isMut:!0,isSigner:!1},{name:"armsMint",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"}]},{name:"processWithdrawShips",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"scoreVarsShipAccount",isMut:!1,isSigner:!1},{name:"playerAtlasTokenAccount",isMut:!0,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"shipTokenAccountReturn",isMut:!0,isSigner:!1},{name:"toolkitTokenAccountSource",isMut:!0,isSigner:!1},{name:"treasuryTokenAccount",isMut:!0,isSigner:!1},{name:"treasuryAuthorityAccount",isMut:!1,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"toolkitMint",isMut:!0,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"scorevarsShipBump",type:"u8"},{name:"escrowAuthBump",type:"u8"},{name:"escrowBump",type:"u8"},{name:"treasuryAuthBump",type:"u8"},{name:"treasuryBump",type:"u8"}]},{name:"processCloseAccounts",accounts:[{name:"playerAccount",isMut:!1,isSigner:!0},{name:"shipStakingAccount",isMut:!0,isSigner:!1},{name:"scoreVarsAccount",isMut:!1,isSigner:!1},{name:"shipTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"fuelTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"foodTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"armsTokenAccountEscrow",isMut:!0,isSigner:!1},{name:"escrowAuthority",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"shipMint",isMut:!1,isSigner:!1},{name:"fuelMint",isMut:!1,isSigner:!1},{name:"foodMint",isMut:!1,isSigner:!1},{name:"armsMint",isMut:!1,isSigner:!1},{name:"clock",isMut:!1,isSigner:!1}],args:[{name:"stakingBump",type:"u8"},{name:"scorevarsBump",type:"u8"},{name:"shipBump",type:"u8"},{name:"fuelBump",type:"u8"},{name:"foodBump",type:"u8"},{name:"armsBump",type:"u8"},{name:"escrowAuthBump",type:"u8"}]}],accounts:[{name:"ScoreVars",type:{kind:"struct",fields:[{name:"updateAuthorityMaster",type:"publicKey"},{name:"fuelMint",type:"publicKey"},{name:"foodMint",type:"publicKey"},{name:"armsMint",type:"publicKey"},{name:"toolkitMint",type:"publicKey"}]}},{name:"ScoreVarsShip",type:{kind:"struct",fields:[{name:"shipMint",type:"publicKey"},{name:"rewardRatePerSecond",type:"u64"},{name:"fuelMaxReserve",type:"u32"},{name:"foodMaxReserve",type:"u32"},{name:"armsMaxReserve",type:"u32"},{name:"toolkitMaxReserve",type:"u32"},{name:"millisecondsToBurnOneFuel",type:"u32"},{name:"millisecondsToBurnOneFood",type:"u32"},{name:"millisecondsToBurnOneArms",type:"u32"},{name:"millisecondsToBurnOneToolkit",type:"u32"}]}},{name:"ShipStaking",type:{kind:"struct",fields:[{name:"owner",type:"publicKey"},{name:"factionId",type:"u8"},{name:"shipMint",type:"publicKey"},{name:"shipQuantityInEscrow",type:"u64"},{name:"fuelQuantityInEscrow",type:"u64"},{name:"foodQuantityInEscrow",type:"u64"},{name:"armsQuantityInEscrow",type:"u64"},{name:"fuelCurrentCapacity",type:"u64"},{name:"foodCurrentCapacity",type:"u64"},{name:"armsCurrentCapacity",type:"u64"},{name:"healthCurrentCapacity",type:"u64"},{name:"stakedAtTimestamp",type:"i64"},{name:"fueledAtTimestamp",type:"i64"},{name:"fedAtTimestamp",type:"i64"},{name:"armedAtTimestamp",type:"i64"},{name:"repairedAtTimestamp",type:"i64"},{name:"currentCapacityTimestamp",type:"i64"},{name:"totalTimeStaked",type:"u64"},{name:"stakedTimePaid",type:"u64"},{name:"pendingRewards",type:"u64"},{name:"totalRewardsPaid",type:"u64"}]}}],types:[{name:"Resource",type:{kind:"enum",variants:[{name:"Arms"},{name:"Fuel"},{name:"Food"},{name:"Toolkits"}]}}],errors:[{code:300,name:"ScorevarsNotInitialized",msg:"Scorevars auth is not initialized"},{code:301,name:"ScorevarsAuthInvalid",msg:"Scorevars auth invalid"},{code:302,name:"FactionTypeError",msg:"Faction ID must be 0, 1, or 2."},{code:303,name:"InvalidShipError",msg:"Invalid Ship Mint"},{code:304,name:"InvalidResourceError",msg:"Invalid Resource Mint"},{code:305,name:"ZeroResourceError",msg:"Resource Quantity must be >0."},{code:306,name:"ZeroShipError",msg:"Ship Quantity must be >0."},{code:307,name:"NumericalOverflowError",msg:"Numerical overflow error"},{code:308,name:"ResourceAmountTooSmall",msg:"Resource Amount Too Small, would add 0 seconds to capacity"},{code:309,name:"InvalidScoreVarsAccount",msg:"Invalid ScoreVars account for ship Staking Account given"},{code:310,name:"InvalidResourceWithdraw",msg:"Invalid Resource Withdraw, nothing to withdraw"},{code:311,name:"InvalidShipStakingOwner",msg:"Invalid Ship Staking Owner"},{code:312,name:"InvalidShipWithdraw",msg:"Invalid Ship Withdraw"},{code:313,name:"NotEnoughToolkits",msg:"Not enough toolkits for Ship Withdraw"},{code:314,name:"EscrowAccountNotZero",msg:"Escrow account must be 0 to close accounts"},{code:315,name:"IncorrectTokenAccountOwner",msg:"Token account does not have correct owner!"},{code:316,name:"UninitializedTokenAccount",msg:"Token or Mint Account is not initialized!"},{code:317,name:"IncorrectTokenAccountMint",msg:"Token or Mint Account mint is not correct!"}],metadata:{}};var scoreLogIdl={};Object.defineProperty(scoreLogIdl,"__esModule",{value:!0});scoreLogIdl.scoreLogBaseIdl=void 0;scoreLogIdl.scoreLogBaseIdl={version:"0.0.0",name:"score_logs",instructions:[],events:[{name:"ProcessInitialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"factionId",type:"u8",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessPartialDepositMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"previousShipQuantity",type:"u64",index:!1},{name:"addedShipQuantity",type:"u64",index:!1},{name:"newShipQuantity",type:"u64",index:!1},{name:"partialDepositTimestamp",type:"i64",index:!1}]},{name:"ProcessRearmMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityToDeposit",type:"u64",index:!1},{name:"armedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefeedMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityToDeposit",type:"u64",index:!1},{name:"fedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRefuelMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityToDeposit",type:"u64",index:!1},{name:"fueledAtTimestamp",type:"i64",index:!1}]},{name:"ProcessRepairMemo",fields:[{name:"tokenOwnerAccount",type:"publicKey",index:!1},{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"toolkitQuantityToDeposit",type:"u64",index:!1},{name:"repairedAtTimestamp",type:"i64",index:!1}]},{name:"ProcessHarvestMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"rewardPayout",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"harvestTimestamp",type:"i64",index:!1}]},{name:"ProcessSettleMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"settleTimestamp",type:"i64",index:!1}]},{name:"ProcessArmsWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"armsQuantityWithdrawn",type:"u64",index:!1},{name:"armsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFoodWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"foodQuantityWithdrawn",type:"u64",index:!1},{name:"foodWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessFuelWithdrawMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"fuelQuantityWithdrawn",type:"u64",index:!1},{name:"fuelWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessWithdrawShipsMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"shipQuantity",type:"u64",index:!1},{name:"stakedTimePaid",type:"u64",index:!1},{name:"totalRewardsPaid",type:"u64",index:!1},{name:"shipsWithdrawTimestamp",type:"i64",index:!1}]},{name:"ProcessCloseAccountMemo",fields:[{name:"playerAccount",type:"publicKey",index:!1},{name:"shipMint",type:"publicKey",index:!1},{name:"accountClosedTimestamp",type:"i64",index:!1}]}]};var __awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})};Object.defineProperty(score,"__esModule",{value:!0});score.closeAccountsInstruction=score.createWithdrawShipsInstruction=score.createWithdrawArmsInstruction=score.createWithdrawFoodInstruction=score.createWithdrawFuelInstruction=score.createHarvestInstruction=score.createSettleInstruction=score.createRepairInstruction=score.createRefuelInstruction=score.createRefeedInstruction=score.createRearmInstruction=score.createPartialDepositInstruction=score.createInitialDepositInstruction=score.createUpdateRewardRateInstruction=score.createDeregisterShipInstruction=score.createRegisterShipInstruction=score.createScoreVarsInitializeInstruction=score.getAllFleetsForUserPublicKey=score.getAllFleets=score.getAllRegisteredShips=score.getScoreTreasuryAuthAccount=score.getScoreTreasuryTokenAccount=score.getScoreVarsShipInfo=score.decodeEvent=score.getShipStakingAccountInfo=score.getScoreVarsInfo=score.getShipStakingAccount=score.getScoreEscrowAuthAccount=score.getScoreEscrowAccount=score.getScoreVarsShipAccount=score.getScoreVarsAccount=score.getScoreIDL=void 0;const anchor_1$1=require$$0$1,spl_token_1$1=require$$1$1,web3_js_1=require$$2,_1$1=dist,scoreIdl_1=scoreIdl,scoreLogIdl_1=scoreLogIdl,util_1=util;function getScoreIDL(n){const e=scoreIdl_1.baseIdl;return e.metadata.address=n.toBase58(),e}score.getScoreIDL=getScoreIDL;function getScoreVarsAccount(n){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCOREVARS")],n)})}score.getScoreVarsAccount=getScoreVarsAccount;function getScoreVarsShipAccount(n,e){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCOREVARS_SHIP"),e.toBuffer()],n)})}score.getScoreVarsShipAccount=getScoreVarsShipAccount;function getScoreEscrowAccount(n,e,t,r){return __awaiter$1(this,void 0,void 0,function*(){const o=[dist$3.Buffer.from("SCORE_ESCROW"),r.toBuffer(),e.toBuffer()];return t!==null&&o.push(t.toBuffer()),anchor_1$1.web3.PublicKey.findProgramAddress(o,n)})}score.getScoreEscrowAccount=getScoreEscrowAccount;function getScoreEscrowAuthAccount(n,e,t){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCORE_ESCROW_AUTHORITY"),t.toBuffer(),e.toBuffer()],n)})}score.getScoreEscrowAuthAccount=getScoreEscrowAuthAccount;function getShipStakingAccount(n,e,t){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCORE_INFO"),t.toBuffer(),e.toBuffer()],n)})}score.getShipStakingAccount=getShipStakingAccount;function getScoreVarsInfo(n,e){return __awaiter$1(this,void 0,void 0,function*(){const t=new anchor_1$1.AnchorProvider(n,null,null),r=getScoreIDL(e),o=new anchor_1$1.Program(r,e,t),[a]=yield getScoreVarsAccount(e);return yield o.account.scoreVars.fetch(a)})}score.getScoreVarsInfo=getScoreVarsInfo;function getShipStakingAccountInfo(n,e,t,r){return __awaiter$1(this,void 0,void 0,function*(){const o=new anchor_1$1.AnchorProvider(n,null,null),a=getScoreIDL(e),c=new anchor_1$1.Program(a,e,o),[u]=yield getShipStakingAccount(e,t,r);return yield c.account.shipStaking.fetch(u)})}score.getShipStakingAccountInfo=getShipStakingAccountInfo;function decodeEvent(n,e,t){return __awaiter$1(this,void 0,void 0,function*(){const r=new anchor_1$1.AnchorProvider(n,null,null);return new anchor_1$1.Program(scoreLogIdl_1.scoreLogBaseIdl,e,r).coder.events.decode(t)})}score.decodeEvent=decodeEvent;function getScoreVarsShipInfo(n,e,t){return __awaiter$1(this,void 0,void 0,function*(){const r=new anchor_1$1.AnchorProvider(n,null,null),o=getScoreIDL(e),a=new anchor_1$1.Program(o,e,r),[c]=yield getScoreVarsShipAccount(e,t);return yield a.account.scoreVarsShip.fetch(c)})}score.getScoreVarsShipInfo=getScoreVarsShipInfo;function getScoreTreasuryTokenAccount(n){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCORE_TREASURY")],n)})}score.getScoreTreasuryTokenAccount=getScoreTreasuryTokenAccount;function getScoreTreasuryAuthAccount(n){return __awaiter$1(this,void 0,void 0,function*(){return anchor_1$1.web3.PublicKey.findProgramAddress([dist$3.Buffer.from("SCORE_TREASURY_AUTHORITY")],n)})}score.getScoreTreasuryAuthAccount=getScoreTreasuryAuthAccount;function getAllRegisteredShips(n,e){return __awaiter$1(this,void 0,void 0,function*(){const t=getScoreIDL(e),r=new anchor_1$1.AnchorProvider(n,null,null),a=yield new anchor_1$1.Program(t,e,r).account.scoreVarsShip.all(),c=[];for(const u of a)c.push(u.account);return c})}score.getAllRegisteredShips=getAllRegisteredShips;function getAllFleets(n,e){return __awaiter$1(this,void 0,void 0,function*(){const t=getScoreIDL(e),r=new anchor_1$1.AnchorProvider(n,null,null),a=yield new anchor_1$1.Program(t,e,r).account.shipStaking.all(),c=[];for(const u of a)c.push(u.account);return c})}score.getAllFleets=getAllFleets;function getAllFleetsForUserPublicKey(n,e,t){return __awaiter$1(this,void 0,void 0,function*(){const r=getScoreIDL(t),o=new anchor_1$1.AnchorProvider(n,null,null),a=new anchor_1$1.Program(r,t,o),c=yield a.account.scoreVarsShip.all(),u=[];for(const nn of c){const[sn]=yield getShipStakingAccount(t,nn.account.shipMint,e);u.push(sn)}return(yield a.account.shipStaking.fetchMultiple(u)).filter(nn=>nn!==null).map(nn=>nn)})}score.getAllFleetsForUserPublicKey=getAllFleetsForUserPublicKey;function createScoreVarsInitializeInstruction(n,e,t,r,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const en=getScoreIDL(u),tn=new anchor_1$1.AnchorProvider(n,null,null),nn=new anchor_1$1.Program(en,u,tn),[sn,fn]=yield getScoreTreasuryTokenAccount(u),[dn,hn]=yield getScoreTreasuryAuthAccount(u),[ln,pn]=yield getScoreVarsAccount(u);return yield nn.instruction.processInitialize(pn,fn,hn,{accounts:{updateAuthorityAccount:e,scoreVarsAccount:ln,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:web3_js_1.SystemProgram.programId,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,treasuryTokenAccount:sn,treasuryAuthorityAccount:dn,atlasMint:t,fuelMint:r,foodMint:o,armsMint:a,toolkitMint:c},signers:[]})})}score.createScoreVarsInitializeInstruction=createScoreVarsInitializeInstruction;function createRegisterShipInstruction(n,e,t,r,o,a,c,u,en,tn,nn,sn,fn){return __awaiter$1(this,void 0,void 0,function*(){const dn=getScoreIDL(fn),hn=new anchor_1$1.AnchorProvider(n,null,null),ln=new anchor_1$1.Program(dn,fn,hn),[pn,$n]=yield getScoreVarsShipAccount(fn,t),[Sn,yn]=yield getScoreVarsAccount(fn);return yield ln.instruction.processRegisterShip(yn,$n,new anchor_1$1.BN(sn),r,o,a,c,u,en,tn,nn,{accounts:{updateAuthorityAccount:e,scoreVarsAccount:Sn,scoreVarsShipAccount:pn,shipMint:t,systemProgram:web3_js_1.SystemProgram.programId},signers:[]})})}score.createRegisterShipInstruction=createRegisterShipInstruction;function createDeregisterShipInstruction(n,e,t,r){return __awaiter$1(this,void 0,void 0,function*(){const o=getScoreIDL(r),a=new anchor_1$1.AnchorProvider(n,null,null),c=new anchor_1$1.Program(o,r,a),[u,en]=yield getScoreVarsShipAccount(r,t),[tn,nn]=yield getScoreVarsAccount(r);return yield c.instruction.processDeregisterShip(nn,en,{accounts:{updateAuthorityAccount:e,scoreVarsAccount:tn,scoreVarsShipAccount:u,shipMint:t},signers:[]})})}score.createDeregisterShipInstruction=createDeregisterShipInstruction;function createUpdateRewardRateInstruction(n,e,t,r,o){return __awaiter$1(this,void 0,void 0,function*(){const a=getScoreIDL(o),c=new anchor_1$1.AnchorProvider(n,null,null),u=new anchor_1$1.Program(a,o,c),[en,tn]=yield getScoreVarsShipAccount(o,t),[nn,sn]=yield getScoreVarsAccount(o);return yield u.instruction.processUpdateRewardRate(sn,tn,new anchor_1$1.BN(r),{accounts:{updateAuthorityAccount:e,scoreVarsAccount:nn,scoreVarsShipAccount:en,shipMint:t},signers:[]})})}score.createUpdateRewardRateInstruction=createUpdateRewardRateInstruction;function createInitialDepositInstruction(n,e,t,r,o,a,c=new anchor_1$1.web3.PublicKey("FACTNmq2FhA2QNTnGM2aWJH3i7zT3cND5CgvjYTjyVYe")){return __awaiter$1(this,void 0,void 0,function*(){const[u,en]=yield getScoreEscrowAuthAccount(a,r,e),[tn,nn]=yield getScoreEscrowAccount(a,r,null,e),[sn,fn]=yield getShipStakingAccount(a,r,e),[dn,hn]=yield getScoreVarsShipAccount(a,r),[ln]=yield(0,_1$1.getPlayerFactionPDA)(e,c),pn=getScoreIDL(a),$n=new anchor_1$1.AnchorProvider(n,null,null);return yield new anchor_1$1.Program(pn,a,$n).instruction.processInitialDeposit(fn,hn,en,nn,new anchor_1$1.BN(t),{accounts:{playerAccount:e,shipStakingAccount:sn,scoreVarsShipAccount:dn,playerFactionAccount:ln,escrowAuthority:u,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:r,shipTokenAccountSource:o,shipTokenAccountEscrow:tn}})})}score.createInitialDepositInstruction=createInitialDepositInstruction;function createPartialDepositInstruction(n,e,t,r,o,a){return __awaiter$1(this,void 0,void 0,function*(){const[c,u]=yield getScoreEscrowAuthAccount(a,r,e),[en,tn]=yield getScoreEscrowAccount(a,r,null,e),[nn,sn]=yield getShipStakingAccount(a,r,e),[fn,dn]=yield getScoreVarsShipAccount(a,r),hn=getScoreIDL(a),ln=new anchor_1$1.AnchorProvider(n,null,null);return yield new anchor_1$1.Program(hn,a,ln).instruction.processPartialDeposit(sn,dn,u,tn,new anchor_1$1.BN(t),{accounts:{playerAccount:e,shipStakingAccount:nn,scoreVarsShipAccount:fn,escrowAuthority:c,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:r,shipTokenAccountSource:o,shipTokenAccountEscrow:en}})})}score.createPartialDepositInstruction=createPartialDepositInstruction;function createRearmInstruction(n,e,t,r,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const[en,tn]=yield getScoreEscrowAuthAccount(u,o,t),[nn,sn]=yield getScoreEscrowAccount(u,o,a,t),[fn,dn]=yield getShipStakingAccount(u,o,t),[hn,ln]=yield getScoreVarsShipAccount(u,o),[pn,$n]=yield getScoreVarsAccount(u),Sn=getScoreIDL(u),yn=new anchor_1$1.AnchorProvider(n,null,null);return yield new anchor_1$1.Program(Sn,u,yn).instruction.processRearm(dn,$n,ln,tn,sn,new anchor_1$1.BN(r),{accounts:{tokenOwnerAccount:e,playerAccount:t,shipStakingAccount:fn,scoreVarsAccount:pn,scoreVarsShipAccount:hn,escrowAuthority:en,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,armsMint:a,armsTokenAccountSource:c,armsTokenAccountEscrow:nn}})})}score.createRearmInstruction=createRearmInstruction;function createRefeedInstruction(n,e,t,r,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const[en,tn]=yield getScoreEscrowAuthAccount(u,o,t),[nn,sn]=yield getScoreEscrowAccount(u,o,a,t),[fn,dn]=yield getShipStakingAccount(u,o,t),[hn,ln]=yield getScoreVarsShipAccount(u,o),[pn,$n]=yield getScoreVarsAccount(u),Sn=getScoreIDL(u),yn=new anchor_1$1.AnchorProvider(n,null,null);return yield new anchor_1$1.Program(Sn,u,yn).instruction.processRefeed(dn,$n,ln,tn,sn,new anchor_1$1.BN(r),{accounts:{tokenOwnerAccount:e,playerAccount:t,shipStakingAccount:fn,scoreVarsAccount:pn,scoreVarsShipAccount:hn,escrowAuthority:en,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,foodMint:a,foodTokenAccountSource:c,foodTokenAccountEscrow:nn}})})}score.createRefeedInstruction=createRefeedInstruction;function createRefuelInstruction(n,e,t,r,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const[en,tn]=yield getScoreEscrowAuthAccount(u,o,t),[nn,sn]=yield getScoreEscrowAccount(u,o,a,t),[fn,dn]=yield getShipStakingAccount(u,o,t),[hn,ln]=yield getScoreVarsShipAccount(u,o),[pn,$n]=yield getScoreVarsAccount(u),Sn=getScoreIDL(u),yn=new anchor_1$1.AnchorProvider(n,null,null);return yield new anchor_1$1.Program(Sn,u,yn).instruction.processRefuel(dn,$n,ln,tn,sn,new anchor_1$1.BN(r),{accounts:{tokenOwnerAccount:e,playerAccount:t,shipStakingAccount:fn,scoreVarsAccount:pn,scoreVarsShipAccount:hn,escrowAuthority:en,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,fuelMint:a,fuelTokenAccountSource:c,fuelTokenAccountEscrow:nn}})})}score.createRefuelInstruction=createRefuelInstruction;function createRepairInstruction(n,e,t,r,o,a,c,u){return __awaiter$1(this,void 0,void 0,function*(){const[en,tn]=yield getShipStakingAccount(u,o,t),[nn,sn]=yield getScoreVarsShipAccount(u,o),[fn,dn]=yield getScoreVarsAccount(u),hn=getScoreIDL(u),ln=new anchor_1$1.AnchorProvider(n,null,null);return yield new anchor_1$1.Program(hn,u,ln).instruction.processRepair(tn,dn,sn,new anchor_1$1.BN(r),{accounts:{tokenOwnerAccount:e,playerAccount:t,shipStakingAccount:en,scoreVarsAccount:fn,scoreVarsShipAccount:nn,systemProgram:anchor_1$1.web3.SystemProgram.programId,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,rent:anchor_1$1.web3.SYSVAR_RENT_PUBKEY,shipMint:o,toolkitMint:a,toolkitTokenAccountSource:c}})})}score.createRepairInstruction=createRepairInstruction;function createSettleInstruction(n,e,t,r,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getShipStakingAccount(o,r,e),[u,en]=yield getScoreVarsShipAccount(o,r),[tn,nn]=yield getScoreVarsAccount(o),sn=getScoreIDL(o),fn=new anchor_1$1.AnchorProvider(n,null,null);return yield new anchor_1$1.Program(sn,o,fn).instruction.processSettle(c,nn,en,{accounts:{playerAccount:e,updateAuthorityAccount:t,shipStakingAccount:a,scoreVarsShipAccount:u,scoreVarsAccount:tn,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:r}})})}score.createSettleInstruction=createSettleInstruction;function createHarvestInstruction(n,e,t,r,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getShipStakingAccount(o,r,e),[u,en]=yield getScoreVarsShipAccount(o,r),[tn,nn]=yield getScoreTreasuryTokenAccount(o),[sn,fn]=yield getScoreTreasuryAuthAccount(o),dn=getScoreIDL(o),hn=new anchor_1$1.AnchorProvider(n,null,null),ln=new anchor_1$1.Program(dn,o,hn),pn={signers:[],instructions:[]};let $n;const Sn=yield(0,util_1.getTokenAccount)(n,e,t),yn=Sn.tokenAccount;"createInstruction"in Sn&&pn.instructions.push(...Sn.createInstruction),yn instanceof anchor_1$1.web3.Keypair?($n=yn.publicKey,pn.signers.push(yn)):$n=yn;const In=yield ln.instruction.processHarvest(c,en,nn,fn,{accounts:{playerAccount:e,shipStakingAccount:a,scoreVarsShipAccount:u,playerAtlasTokenAccount:$n,treasuryTokenAccount:tn,treasuryAuthorityAccount:sn,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:r}});return pn.instructions.push(In),pn})}score.createHarvestInstruction=createHarvestInstruction;function createWithdrawFuelInstruction(n,e,t,r,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getScoreEscrowAuthAccount(o,r,e),[u,en]=yield getScoreEscrowAccount(o,r,t,e),[tn,nn]=yield getShipStakingAccount(o,r,e),[sn,fn]=yield getScoreVarsShipAccount(o,r),[dn,hn]=yield getScoreVarsAccount(o),ln=getScoreIDL(o),pn=new anchor_1$1.AnchorProvider(n,null,null),$n=new anchor_1$1.Program(ln,o,pn),Sn={signers:[],instructions:[]};let yn;const In=yield(0,util_1.getTokenAccount)(n,e,t),An=In.tokenAccount;"createInstruction"in In&&Sn.instructions.push(...In.createInstruction),An instanceof anchor_1$1.web3.Keypair?(yn=An.publicKey,Sn.signers.push(An)):yn=An;const Tn=yield $n.instruction.processWithdrawFuel(nn,hn,fn,c,en,{accounts:{playerAccount:e,shipStakingAccount:tn,scoreVarsAccount:dn,scoreVarsShipAccount:sn,fuelTokenAccountEscrow:u,fuelTokenAccountReturn:yn,fuelMint:t,escrowAuthority:a,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:r}});return Sn.instructions.push(Tn),Sn})}score.createWithdrawFuelInstruction=createWithdrawFuelInstruction;function createWithdrawFoodInstruction(n,e,t,r,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getScoreEscrowAuthAccount(o,r,e),[u,en]=yield getScoreEscrowAccount(o,r,t,e),[tn,nn]=yield getShipStakingAccount(o,r,e),[sn,fn]=yield getScoreVarsShipAccount(o,r),[dn,hn]=yield getScoreVarsAccount(o),ln=getScoreIDL(o),pn=new anchor_1$1.AnchorProvider(n,null,null),$n=new anchor_1$1.Program(ln,o,pn),Sn={signers:[],instructions:[]};let yn;const In=yield(0,util_1.getTokenAccount)(n,e,t),An=In.tokenAccount;"createInstruction"in In&&Sn.instructions.push(...In.createInstruction),An instanceof anchor_1$1.web3.Keypair?(yn=An.publicKey,Sn.signers.push(An)):yn=An;const Tn=yield $n.instruction.processWithdrawFood(nn,hn,fn,c,en,{accounts:{playerAccount:e,shipStakingAccount:tn,scoreVarsAccount:dn,scoreVarsShipAccount:sn,foodTokenAccountEscrow:u,foodTokenAccountReturn:yn,foodMint:t,escrowAuthority:a,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:r}});return Sn.instructions.push(Tn),Sn})}score.createWithdrawFoodInstruction=createWithdrawFoodInstruction;function createWithdrawArmsInstruction(n,e,t,r,o){return __awaiter$1(this,void 0,void 0,function*(){const[a,c]=yield getScoreEscrowAuthAccount(o,r,e),[u,en]=yield getScoreEscrowAccount(o,r,t,e),[tn,nn]=yield getShipStakingAccount(o,r,e),[sn,fn]=yield getScoreVarsShipAccount(o,r),[dn,hn]=yield getScoreVarsAccount(o),ln=getScoreIDL(o),pn=new anchor_1$1.AnchorProvider(n,null,null),$n=new anchor_1$1.Program(ln,o,pn),Sn={signers:[],instructions:[]};let yn;const In=yield(0,util_1.getTokenAccount)(n,e,t),An=In.tokenAccount;"createInstruction"in In&&Sn.instructions.push(...In.createInstruction),An instanceof anchor_1$1.web3.Keypair?(yn=An.publicKey,Sn.signers.push(An)):yn=An;const Tn=yield $n.instruction.processWithdrawArms(nn,hn,fn,c,en,{accounts:{playerAccount:e,shipStakingAccount:tn,scoreVarsAccount:dn,scoreVarsShipAccount:sn,armsTokenAccountEscrow:u,armsTokenAccountReturn:yn,armsMint:t,escrowAuthority:a,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:r}});return Sn.instructions.push(Tn),Sn})}score.createWithdrawArmsInstruction=createWithdrawArmsInstruction;function createWithdrawShipsInstruction(n,e,t,r,o,a){return __awaiter$1(this,void 0,void 0,function*(){const[c,u]=yield getScoreEscrowAuthAccount(a,t,e),[en,tn]=yield getScoreEscrowAccount(a,t,null,e),[nn,sn]=yield getShipStakingAccount(a,t,e),[fn,dn]=yield getScoreVarsShipAccount(a,t),[hn,ln]=yield getScoreVarsAccount(a),[pn,$n]=yield getScoreTreasuryTokenAccount(a),[Sn,yn]=yield getScoreTreasuryAuthAccount(a),In={signers:[],instructions:[]},An=getScoreIDL(a),Tn=new anchor_1$1.AnchorProvider(n,null,null),kn=new anchor_1$1.Program(An,a,Tn);let Pn;const Dn=yield(0,util_1.getTokenAccount)(n,e,r),Kn=Dn.tokenAccount;"createInstruction"in Dn&&In.instructions.push(...Dn.createInstruction),Kn instanceof anchor_1$1.web3.Keypair?(Pn=Kn.publicKey,In.signers.push(Kn)):Pn=Kn;let Hn;const jn=yield(0,util_1.getTokenAccount)(n,e,t),Cn=jn.tokenAccount;"createInstruction"in jn&&In.instructions.push(...jn.createInstruction),Cn instanceof anchor_1$1.web3.Keypair?(Hn=Cn.publicKey,In.signers.push(Cn)):Hn=Cn;let mn;const _n=yield(0,util_1.getTokenAccount)(n,e,o),vn=_n.tokenAccount;"createInstruction"in _n&&In.instructions.push(..._n.createInstruction),vn instanceof anchor_1$1.web3.Keypair?(mn=vn.publicKey,In.signers.push(vn)):mn=vn;const On=yield kn.instruction.processWithdrawShips(sn,ln,dn,u,tn,yn,$n,{accounts:{playerAccount:e,shipStakingAccount:nn,scoreVarsAccount:hn,scoreVarsShipAccount:fn,playerAtlasTokenAccount:Pn,shipTokenAccountEscrow:en,shipTokenAccountReturn:Hn,toolkitTokenAccountSource:mn,treasuryTokenAccount:pn,treasuryAuthorityAccount:Sn,escrowAuthority:c,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:anchor_1$1.web3.SystemProgram.programId,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY,shipMint:t,toolkitMint:o}});return In.instructions.push(On),In})}score.createWithdrawShipsInstruction=createWithdrawShipsInstruction;function closeAccountsInstruction(n,e,t,r,o,a,c){return __awaiter$1(this,void 0,void 0,function*(){const[u,en]=yield getScoreEscrowAuthAccount(c,t,e),[tn,nn]=yield getScoreEscrowAccount(c,t,null,e),[sn,fn]=yield getScoreEscrowAccount(c,t,r,e),[dn,hn]=yield getScoreEscrowAccount(c,t,o,e),[ln,pn]=yield getScoreEscrowAccount(c,t,a,e),[$n,Sn]=yield getScoreVarsAccount(c),[yn,In]=yield getShipStakingAccount(c,t,e),An=getScoreIDL(c),Tn=new anchor_1$1.AnchorProvider(n,null,null);return yield new anchor_1$1.Program(An,c,Tn).instruction.processCloseAccounts(In,Sn,nn,fn,hn,pn,en,{accounts:{playerAccount:e,shipStakingAccount:yn,scoreVarsAccount:$n,shipTokenAccountEscrow:tn,fuelTokenAccountEscrow:sn,foodTokenAccountEscrow:dn,armsTokenAccountEscrow:ln,escrowAuthority:u,tokenProgram:spl_token_1$1.TOKEN_PROGRAM_ID,systemProgram:anchor_1$1.web3.SystemProgram.programId,shipMint:t,fuelMint:r,foodMint:o,armsMint:a,clock:anchor_1$1.web3.SYSVAR_CLOCK_PUBKEY}})})}score.closeAccountsInstruction=closeAccountsInstruction;var types={};Object.defineProperty(types,"__esModule",{value:!0});var scoreHelpers={},__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,e,t,r){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function u(nn){try{tn(r.next(nn))}catch(sn){c(sn)}}function en(nn){try{tn(r.throw(nn))}catch(sn){c(sn)}}function tn(nn){nn.done?a(nn.value):o(nn.value).then(u,en)}tn((r=r.apply(n,e||[])).next())})},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(scoreHelpers,"__esModule",{value:!0});scoreHelpers.sendTokens=scoreHelpers.confirmTokenBalance=scoreHelpers.createMint=scoreHelpers.mintTokens=scoreHelpers.createAssociatedTokenAccountInstruction=scoreHelpers.createRequestUnitsInstruction=scoreHelpers.Numberu32=scoreHelpers.createATokenAccount=scoreHelpers.getAtaForMint=void 0;const anchor_1=require$$0$1,spl_token_1=require$$1$1,_1=util,assert_1=assert$b.exports,bn_js_1=__importDefault(bn.exports);function getAtaForMint(n,e){return __awaiter(this,void 0,void 0,function*(){return anchor_1.web3.PublicKey.findProgramAddress([e.toBuffer(),spl_token_1.TOKEN_PROGRAM_ID.toBuffer(),n.toBuffer()],spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID)})}scoreHelpers.getAtaForMint=getAtaForMint;function createATokenAccount(n,e,t,r){return __awaiter(this,void 0,void 0,function*(){t=t||n.wallet.publicKey,r=r||n.wallet.publicKey;const[o]=yield getAtaForMint(e,r),a=new anchor_1.web3.Transaction,c=yield createAssociatedTokenAccountInstruction(o,t,r,e);return a.add(c),yield n.sendAndConfirm(a),o})}scoreHelpers.createATokenAccount=createATokenAccount;class Numberu32 extends bn_js_1.default{toBuffer(){const e=super.toArray().reverse(),t=dist$3.Buffer.from(e);if(t.length===4)return t;const r=dist$3.Buffer.alloc(4);return t.copy(r),r}static fromBuffer(e){return new bn_js_1.default([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}scoreHelpers.Numberu32=Numberu32;function createRequestUnitsInstruction(n){return __awaiter(this,void 0,void 0,function*(){const e=new Numberu32(1e6),t=dist$3.Buffer.from([0]),r=e.toBuffer();return new anchor_1.web3.TransactionInstruction({keys:[{pubkey:n,isSigner:!0,isWritable:!0}],programId:new anchor_1.web3.PublicKey("ComputeBudget111111111111111111111111111111"),data:dist$3.Buffer.concat([t,r])})})}scoreHelpers.createRequestUnitsInstruction=createRequestUnitsInstruction;function createAssociatedTokenAccountInstruction(n,e,t,r){return __awaiter(this,void 0,void 0,function*(){const o=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:anchor_1.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:spl_token_1.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:anchor_1.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new anchor_1.web3.TransactionInstruction({keys:o,programId:spl_token_1.ASSOCIATED_TOKEN_PROGRAM_ID,data:dist$3.Buffer.from([])})})}scoreHelpers.createAssociatedTokenAccountInstruction=createAssociatedTokenAccountInstruction;function mintTokens(n,e,t,r,o){return __awaiter(this,void 0,void 0,function*(){const a=new anchor_1.web3.Transaction;return o=o||n.wallet.publicKey,a.add(spl_token_1.Token.createMintToInstruction(spl_token_1.TOKEN_PROGRAM_ID,e,t,o,[],r)),yield n.sendAndConfirm(a)})}scoreHelpers.mintTokens=mintTokens;function createMint(n,e,t,r){return __awaiter(this,void 0,void 0,function*(){const o=anchor_1.web3.Keypair.generate(),a=new anchor_1.web3.Transaction,c=yield n.connection.getMinimumBalanceForRentExemption(spl_token_1.MintLayout.span);t=t||n.wallet.publicKey,r=r||n.wallet.publicKey;const u=anchor_1.web3.SystemProgram.createAccount({fromPubkey:n.wallet.publicKey,newAccountPubkey:o.publicKey,lamports:c,space:spl_token_1.MintLayout.span,programId:spl_token_1.TOKEN_PROGRAM_ID});a.add(u);const en=spl_token_1.Token.createInitMintInstruction(spl_token_1.TOKEN_PROGRAM_ID,o.publicKey,e,t,r);return a.add(en),yield n.sendAndConfirm(a,[o]),o.publicKey})}scoreHelpers.createMint=createMint;function confirmTokenBalance(n,e,t,r){return __awaiter(this,void 0,void 0,function*(){const o=yield n.connection.getAccountInfo(e,"recent");if(r===!0&&(0,assert_1.strict)(o===null),o!==null){const a=(0,_1.byteArrayToLong)(o.data.slice(64,72));(0,assert_1.strict)(a==t,`On-chain Token amount of ${a} does not match expected amount ${t}`)}else console.log("Token account %s does not exist",e.toString())})}scoreHelpers.confirmTokenBalance=confirmTokenBalance;function sendTokens(n,e,t,r){return __awaiter(this,void 0,void 0,function*(){const o=new anchor_1.web3.Transaction;return o.add(spl_token_1.Token.createTransferInstruction(spl_token_1.TOKEN_PROGRAM_ID,e,t,n.wallet.publicKey,[],r)),yield n.sendAndConfirm(o)})}scoreHelpers.sendTokens=sendTokens;(function(n){var e=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(r,o,a,c){c===void 0&&(c=a);var u=Object.getOwnPropertyDescriptor(o,a);(!u||("get"in u?!o.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(r,c,u)}:function(r,o,a,c){c===void 0&&(c=a),r[c]=o[a]}),t=commonjsGlobal&&commonjsGlobal.__exportStar||function(r,o){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&e(o,r,a)};Object.defineProperty(n,"__esModule",{value:!0}),t(atlasStaking,n),t(factions,n),t(gumdrop,n),t(marketplace,n),t(score,n),t(types,n),t(scoreHelpers,n),t(gmHelper$1,n),t(util,n)})(dist);const ATLAS=new PublicKey$7("ATLASXmbPQxBUYbxPsV97usA3fPQYEqzQBUHgiFCUsXx"),ATLAS_DECIMALS=8,POLIS$1=new PublicKey$7("poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk"),ATLAS_LOCKER_PROGRAM_AUTH=new PublicKey$7("ATLkZsBofSKG845dNFpNoUyMciGpeH29BCbMqYFUoxzU"),ATLAS_LOCKER=new PublicKey$7("ATLocKpzDbTokxgvnLew3d7drZkEzLzDpzwgrgWKDbmc");var token={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.associatedAddress=n.ASSOCIATED_PROGRAM_ID=n.TOKEN_PROGRAM_ID=void 0;const e=require$$0$4;n.TOKEN_PROGRAM_ID=new e.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),n.ASSOCIATED_PROGRAM_ID=new e.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function t({mint:r,owner:o}){return e.PublicKey.findProgramAddressSync([o.toBuffer(),n.TOKEN_PROGRAM_ID.toBuffer(),r.toBuffer()],n.ASSOCIATED_PROGRAM_ID)[0]}n.associatedAddress=t})(token);async function findRegisteredStakeAtlas(){return await dist.getRegisteredStake(ATLAS_LOCKER,ATLAS_LOCKER_PROGRAM_AUTH,ATLAS,POLIS$1)}async function findStakingAccount(n){return await dist.getStakingAccount((n=="ATLAS",ATLAS_LOCKER),getSigner(),(await findRegisteredStakeAtlas())[0])}function findATA$1(n,e){const[t,r]=PublicKey$6.findProgramAddressSync([n.toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),e.toBuffer()],token.ASSOCIATED_PROGRAM_ID);return t}const SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID=new PublicKey$7("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),POLIS=new PublicKey$7("poLisWXnNRwC6oBu1vHiuKQzFjGL4XDSu4g9qjz9qVk"),POLIS_DECIMALS=8,LOCKER=new PublicKey$7("5WmM9c9WE71y78Ah8Bp8vgyoStscM1ZZyaaFqRf8b2Qa"),REGISTERED_LOCKER=new PublicKey$7("EAgUhz4LG8fqtrShFo1NDrvEiNPxEi7kHe96D76NzkAj"),TREASURY_TOKEN_ACCOUNT=new PublicKey$7("8tYu2cXu3esX43qWTd21rwkpMDDfT1fdZxFtugnRUnAr"),NAME$1="AtlasLocker",useAtlasLockerStore=defineStore("atlasLockerStore",{state:()=>({balanceWallet:"0",balanceSquads:"0",balanceLocker:"0",registeredStakeAtlasAddress:{},registeredStakeAtlasAddressInfo:{},stakingAccountAtlasAddress:{},stakingAccountAtlasInfo:{}}),getters:{},actions:{async createStakingAccount(){try{const n=new Transaction$6;return(await dist.createStakingAccountInstruction({connection:useRPCStore().connection,user:getSigner(),registeredStake:(await findRegisteredStakeAtlas())[0],programId:ATLAS_LOCKER})).instructions.forEach(e=>n.add(e)),console.log(`[${NAME$1}] createStakingAccount!`),n}catch(n){console.error(n),Notify.create({message:n.message,type:"negative",position:"bottom-right"})}},async stakeTokens(n){try{const e=new Transaction$6;return(await dist.stakeTokensInstruction({connection:useRPCStore().connection,user:getSigner(),stakeMint:ATLAS,tokenSource:findATA$1(getSigner(),ATLAS),stakingAccount:this.stakingAccountAtlasAddress,stakeQuantity:calcAmountToTransfer(n,ATLAS_DECIMALS),registeredStake:(await findRegisteredStakeAtlas())[0],programId:ATLAS_LOCKER})).instructions.forEach(t=>e.add(t)),console.log(`[${NAME$1}] stakeTokens!`),e}catch(e){console.error(e),Notify.create({message:e.message,type:"negative",position:"bottom-right"})}},async claimTokens(n,e){try{const t=new Transaction$6;(await dist.harvestRewardsInstruction({connection:useRPCStore().connection,user:getSigner(),rewardMint:POLIS$1,registeredStake:(await findRegisteredStakeAtlas())[0],stakingAccount:this.stakingAccountAtlasAddress,programId:ATLAS_LOCKER})).instructions.forEach(o=>t.add(o));const r=new PublicKey$7(n);return r.toString()!=getSigner().toString()&&t.add(createTransferInstruction(findATA$1(getSigner(),POLIS$1),findATA$1(r,POLIS$1),getSigner(),new BN(e*Math.pow(10,POLIS_DECIMALS)))),console.log(`[${NAME$1}] claimTokens!`),t}catch(t){console.error(t),Notify.create({message:t.message,type:"negative",position:"bottom-right"})}},async unstakeTokens(){try{const n=new Transaction$6;return(await dist.unstakeTokensInstruction({connection:useRPCStore().connection,user:getSigner(),registeredStake:(await findRegisteredStakeAtlas())[0],stakingAccount:this.stakingAccountAtlasAddress,programId:ATLAS_LOCKER})).instructions.forEach(e=>n.add(e)),console.log(`[${NAME$1}] claimTokens!`),n}catch(n){console.error(n),Notify.create({message:n.message,type:"negative",position:"bottom-right"})}},async cancelUnstake(){try{const n=new Transaction$6;return(await dist.cancelUnstakeInstruction({connection:useRPCStore().connection,user:getSigner(),registeredStake:(await findRegisteredStakeAtlas())[0],programId:ATLAS_LOCKER})).instructions.forEach(e=>n.add(e)),console.log(`[${NAME$1}] cancelUnstake!`),n}catch(n){console.error(n),Notify.create({message:n.message,type:"negative",position:"bottom-right"})}},async withdrawTokens(n,e){try{const t=new Transaction$6;(await dist.withdrawTokensInstruction({connection:useRPCStore().connection,user:getSigner(),authority:getSigner(),stakeMint:ATLAS,registeredStake:(await findRegisteredStakeAtlas())[0],stakingAccount:this.stakingAccountAtlasAddress,programId:ATLAS_LOCKER})).instructions.forEach(o=>t.add(o));const r=new PublicKey$7(n);return r.toString()!=getSigner().toString()&&t.add(createTransferInstruction(findATA$1(getSigner(),ATLAS),findATA$1(r,ATLAS),getSigner(),new BN(e*Math.pow(10,ATLAS_DECIMALS)))),console.log(`[${NAME$1}] withdrawTokens!`),t}catch(t){console.error(t),Notify.create({message:t.message,type:"negative",position:"bottom-right"})}},async updateStore(){if(useWorkspaceAdapter()){this.stakingAccountAtlasInfo=void 0;try{this.registeredStakeAtlasAddress=(await findRegisteredStakeAtlas())[0],this.stakingAccountAtlasAddress=(await findStakingAccount("ATLAS"))[0],this.registeredStakeAtlasAddressInfo=await dist.getRegisteredStakeAccountInfo(useRPCStore().connection,this.registeredStakeAtlasAddress,ATLAS_LOCKER),this.stakingAccountAtlasInfo=await dist.getStakingAccountInfo(useRPCStore().connection,this.stakingAccountAtlasAddress,ATLAS_LOCKER)}catch{}try{this.balanceWallet=(await useRPCStore().connection.getTokenAccountBalance(findATA$1(useWallet().publicKey.value,ATLAS))).value.uiAmountString??"0"}catch{this.balanceWallet="-"}try{this.balanceSquads=(await useRPCStore().connection.getTokenAccountBalance(findATA$1(new PublicKey$7(useSquadsStore().vaultPDA.toString()),ATLAS))).value.uiAmountString??"0"}catch{this.balanceSquads="-"}try{this.balanceLocker=(await useRPCStore().connection.getTokenAccountBalance(findATA$1(this.stakingAccountAtlasAddress,ATLAS))).value.uiAmountString??"0"}catch{this.balanceLocker="-"}console.log(`[${NAME$1}] updated!`)}}}}),LOCKED_VOTER_ID=new PublicKey$7(lockedVoterIDL.address);function findEscrow(){return PublicKey$6.findProgramAddressSync([encode$2("Escrow"),LOCKER.toBuffer(),findProxy()[0].toBuffer()],LOCKED_VOTER_ID)}function findEscrowATA(){return PublicKey$6.findProgramAddressSync([findEscrow()[0].toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),POLIS$1.toBuffer()],SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID)}async function instruction_newEscrow(){var e;const n=(e=useWorkspaceAdapter())==null?void 0:e.pg_lockedVoter.value;return n==null?void 0:n.methods.newEscrow(findEscrow()[1]).accountsPartial({locker:LOCKER,escrow:findEscrow()[0],escrowOwner:findProxy()[0],payer:getSigner(),systemProgram:SystemProgram$6.programId}).transaction()}const MPL_TOKEN_METADATA_PROGRAM_ID=new PublicKey$7("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),ID=new PublicKey$7(wrapperIDL.address);function findWrapperAddress(n,e){return PublicKey$7.findProgramAddressSync([encode$2("wrapper"),n.toBytes(),e.toBytes()],ID)[0]}function findMintWrappedAddress(n,e){return PublicKey$7.findProgramAddressSync([encode$2("wrapper_token"),n.toBytes(),e.toArrayLike(dist$3.Buffer).reverse()],ID)[0]}function findVaultAddress(n,e){const[t,r]=PublicKey$7.findProgramAddressSync([encode$2("wrapper_vault"),n.toBytes(),e.toBytes()],ID);return t}function findMetadataAddress(n){const[e,t]=PublicKey$7.findProgramAddressSync([dist$3.Buffer.from("metadata"),MPL_TOKEN_METADATA_PROGRAM_ID.toBuffer(),n.toBytes()],MPL_TOKEN_METADATA_PROGRAM_ID);return e}function findATA(n,e){const[t,r]=PublicKey$6.findProgramAddressSync([new PublicKey$7(n).toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),new PublicKey$7(e).toBuffer()],token.ASSOCIATED_PROGRAM_ID);return t}const SNAPSHOTS_ID=new PublicKey$7(snapshotsIDL.address);function findEscrowHistory(n){const e=dist$3.Buffer.alloc(2);return e.writeUInt16LE(n),PublicKey$6.findProgramAddressSync([encode$2("EscrowHistory"),findEscrow()[0].toBuffer(),e],SNAPSHOTS_ID)}function duration_2_ERAs(n){const t=n/60/60/24/255,r=[];for(let o=0;o<t;o++)r.push(3+o);return r}async function instruction_createEscrowHistory(n){var t;const e=(t=useWorkspaceAdapter())==null?void 0:t.pg_snapshots.value;return e==null?void 0:e.methods.createEscrowHistory(n).accountsPartial({escrow:findEscrow()[0],escrowHistory:findEscrowHistory(n)[0],payer:getSigner(),systemProgram:SystemProgram$6.programId}).transaction()}async function instruction_sync(n){var r;const e=(r=useWorkspaceAdapter())==null?void 0:r.pg_snapshots.value,t=(await e.account.lockerHistory.all()).find(o=>o.account.era==n).publicKey;return e==null?void 0:e.methods.sync().accountsPartial({locker:LOCKER,escrow:findEscrow()[0],lockerHistory:t,escrowHistory:findEscrowHistory(n)[0]}).transaction()}const PROXY_REWARDER_ID=new PublicKey$7(proxyRewarderIDL.address);function findProxyEscrow(){return PublicKey$6.findProgramAddressSync([encode$2("ProxyEscrow"),getSigner().toBuffer()],PROXY_REWARDER_ID)}function findProxy(){return PublicKey$6.findProgramAddressSync([encode$2("Proxy"),findProxyEscrow()[0].toBuffer(),getSigner().toBuffer()],PROXY_REWARDER_ID)}function findProxyATA(){return PublicKey$6.findProgramAddressSync([findProxy()[0].toBuffer(),TOKEN_PROGRAM_ID$1.toBuffer(),POLIS.toBuffer()],SPL_ASSOCIATED_TOKEN_ACCOUNT_PROGRAM_ID)}async function instruction_newProxyEscrow(){var e;const n=(e=useWorkspaceAdapter())==null?void 0:e.pg_proxyRewarder.value;return n==null?void 0:n.methods.newProxyEscrow(findProxyEscrow()[1]).accountsPartial({escrowOwner:getSigner(),proxyEscrow:findProxyEscrow()[0],payer:getSigner(),systemProgram:SystemProgram$6.programId}).transaction()}async function instruction_newProxy(){var e;const n=(e=useWorkspaceAdapter())==null?void 0:e.pg_proxyRewarder.value;return n==null?void 0:n.methods.newProxy(findProxy()[1]).accountsPartial({proxyEscrow:findProxyEscrow()[0],proxy:findProxy()[0],tokenMint:POLIS,proxyOwner:getSigner(),systemProgram:SystemProgram$6.programId}).transaction()}async function instruction_proxyLock(n,e){var r;const t=(r=useWorkspaceAdapter())==null?void 0:r.pg_proxyRewarder.value;return t==null?void 0:t.methods.proxyLock(n,e).accountsPartial({locker:LOCKER,escrow:findEscrow()[0],userTokenAccount:findATA(getSigner().toString(),POLIS.toString()),proxyTokenAccount:findProxyATA()[0],escrowTokenAccount:findEscrowATA()[0],proxy:findProxy()[0],payer:getSigner(),lockedVoterProgram:LOCKED_VOTER_ID,tokenProgram:TOKEN_PROGRAM_ID$1,registeredLocker:REGISTERED_LOCKER}).transaction()}async function instruction_claimRewards(n){var a,c;const e=(a=useWorkspaceAdapter())==null?void 0:a.pg_proxyRewarder.value,r=(await((c=useWorkspaceAdapter())==null?void 0:c.pg_snapshots.value).account.lockerHistory.all()).find(u=>u.account.era==n).publicKey,o=(await e.account.treasuryAuthority.all()).find(u=>u.account.locker.toString()==LOCKER.toString()).publicKey;return e==null?void 0:e.methods.claimRewards().accountsPartial({escrow:findEscrow()[0],locker:LOCKER,proxy:findProxy()[0],proxyEscrow:findProxyEscrow()[0],escrowHistory:findEscrowHistory(n)[0],lockerHistory:r,treasuryTokenAccount:TREASURY_TOKEN_ACCOUNT,registeredLocker:REGISTERED_LOCKER,treasuryAuthority:o,userTokenAccount:findATA(getSigner().toString(),POLIS.toString()),escrowOwner:getSigner(),tokenProgram:TOKEN_PROGRAM_ID$1}).transaction()}async function instruction_proxyExit(){var e;const n=(e=useWorkspaceAdapter())==null?void 0:e.pg_proxyRewarder.value;return n==null?void 0:n.methods.proxyExit().accountsPartial({locker:LOCKER,escrow:findEscrow()[0],proxy:findProxy()[0],escrowTokenAccount:findEscrowATA()[0],proxyTokenAccount:findProxyATA()[0],userTokenAccount:findATA(getSigner().toString(),POLIS.toString()),payer:getSigner(),lockedVoterProgram:LOCKED_VOTER_ID,tokenProgram:TOKEN_PROGRAM_ID$1,registeredLocker:REGISTERED_LOCKER}).transaction()}const NAME="PolisLocker",usePolisLockerStore=defineStore("polisLockerStore",{state:()=>({balanceWallet:"0",balanceSquads:"0",balanceLocker:"0",proxy:{},proxyEscrow:{},escrow:{}}),getters:{},actions:{async createTokenAccounts(){try{const n=new Transaction$6;return n.add(createAssociatedTokenAccountInstruction$1(getSigner(),findProxyATA()[0],findProxy()[0],POLIS$1)),n.add(createAssociatedTokenAccountInstruction$1(getSigner(),findEscrowATA()[0],findEscrow()[0],POLIS$1)),console.log(`[${NAME}] create tokenAccounts!`),n}catch(n){console.error(n),Notify.create({message:n.message,type:"negative",position:"bottom-right"})}},async createLocker(n,e){var t,r;try{const o=new Transaction$6;let a;const c=calcAmountToTransfer(n,POLIS_DECIMALS);(t=await useRPCStore().connection.getAccountInfo(findProxyEscrow()[0]))!=null&&t.data||(a=await instruction_newProxyEscrow(),a&&o.add(a)),(r=await useRPCStore().connection.getAccountInfo(findProxy()[0]))!=null&&r.data||(a=await instruction_newProxy(),a&&o.add(a)),a=await instruction_newEscrow(),a&&o.add(a);for(const u of duration_2_ERAs(e))a=await instruction_createEscrowHistory(u),a&&o.add(a);return a=await instruction_proxyLock(new BN(c),new BN(e)),a&&o.add(a),console.log(`[${NAME}] create locker!`),o}catch(o){console.error(o),Notify.create({message:o.message,type:"negative",position:"bottom-right"})}},async syncLocker(){try{const n=new Transaction$6;let e;const t=parseInt(this.escrow.escrowEndsAt.toString())-parseInt(this.escrow.escrowStartedAt.toString());for(const r of duration_2_ERAs(t))e=await instruction_sync(r),e&&n.add(e);return console.log(`[${NAME}] sync locker!`),n}catch(n){console.error(n),Notify.create({message:n.message,type:"negative",position:"bottom-right"})}},async addTokensToLocker(n,e,t=!1){try{const r=new Transaction$6;let o,a=e;t==!1&&(a=parseInt(this.escrow.escrowEndsAt.toString())-Math.floor(new Date().getTime()/1e3));const c=calcAmountToTransfer(n,POLIS_DECIMALS);return o=await instruction_proxyLock(new BN(c),new BN(a)),o&&r.add(o),console.log(`[${NAME}] add tokens to locker!`),r}catch(r){console.error(r),Notify.create({message:r.message,type:"negative",position:"bottom-right"})}},async claimLocker(n,e){try{const t=parseInt(this.escrow.escrowEndsAt.toString())-parseInt(this.escrow.escrowStartedAt.toString());console.log(t);const r=new Transaction$6;let o;for(const c of duration_2_ERAs(t))o=await instruction_claimRewards(c),o&&r.add(o);const a=new PublicKey$7(n);return a.toString()!==getSigner().toString()&&(console.log("--differ"),r.add(createTransferInstruction(findATA$1(getSigner(),POLIS$1),findATA$1(a,POLIS$1),getSigner(),new BN(e*Math.pow(10,POLIS_DECIMALS))))),console.log(`[${NAME}] claim form locker!`),r}catch(t){console.error(t),Notify.create({message:t.message,type:"negative",position:"bottom-right"})}},async closeLocker(n,e){try{const t=parseInt(this.escrow.escrowEndsAt.toString())-parseInt(this.escrow.escrowStartedAt.toString());console.log(t);const r=new Transaction$6;let o;o=await instruction_proxyExit(),o&&r.add(o);const a=new PublicKey$7(n);return a.toString()!==getSigner().toString()&&(console.log("--differ"),r.add(createTransferInstruction(findATA$1(getSigner(),POLIS$1),findATA$1(a,POLIS$1),getSigner(),new BN(e*Math.pow(10,POLIS_DECIMALS))))),console.log(`[${NAME}] close Locker!`),r}catch(t){console.error(t),Notify.create({message:t.message,type:"negative",position:"bottom-right"})}},async updateStore(){var n,e;if(useWorkspaceAdapter()){const t=(n=useWorkspaceAdapter())==null?void 0:n.pg_lockedVoter.value,r=(e=useWorkspaceAdapter())==null?void 0:e.pg_proxyRewarder.value;try{this.proxy=await(r==null?void 0:r.account.proxy.fetch(findProxy()[0]))}catch{this.proxy=void 0}try{this.proxyEscrow=await(r==null?void 0:r.account.proxyEscrow.fetch(findProxyEscrow()[0]))}catch{this.proxyEscrow=void 0}try{this.escrow=await(t==null?void 0:t.account.escrow.fetch(findEscrow()[0]))}catch{this.escrow=void 0}try{this.balanceWallet=(await useRPCStore().connection.getTokenAccountBalance(findATA$1(useWallet().publicKey.value,POLIS$1))).value.uiAmountString??"0"}catch{this.balanceWallet="-"}try{this.balanceSquads=(await useRPCStore().connection.getTokenAccountBalance(findATA$1(new PublicKey$7(useSquadsStore().vaultPDA.toString()),POLIS$1))).value.uiAmountString??"0"}catch{this.balanceSquads="-"}this.balanceLocker="-",console.log(`[${NAME}] updated!`)}}}}),_sfc_main=defineComponent({__name:"App",setup(n){const e=ref(!1);useTokenListStore(),useGlobalStore(),useRPCStore(),useWhitelistStore(),useAccountStore(),useAtlasLockerStore(),usePolisLockerStore(),useRPCStore().update_connection(),useQuasar().dark.set(!0);const t=useQuasar();onMounted(async()=>{initWorkspaceAdapter(),await r(),await retryFunction(useAccountStore().updateStore),await useWhitelistStore().updateStore(),e.value=!0}),watch(()=>useSquadsStore().useSquads,()=>{useAccountStore().updateStore()}),watch(()=>useWallet().publicKey.value,async()=>{e.value&&await useAccountStore().updateStore()});async function r(){try{if(await useRPCStore().connection.getBlockHeight())return;t.notify({message:"Error connecting to rpc...",type:"negative",position:"bottom-right"})}catch(o){t.notify({message:o.message,type:"negative",position:"bottom-right"})}}return(o,a)=>{const c=resolveComponent("router-view");return openBlock(),createBlock(c)}}});function boot(n){return n}function route(n){return n}function store(n){return n}var createStore=()=>createPinia();/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(n){return n.__esModule||n[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(n,e){const t={};for(const r in e){const o=e[r];t[r]=isArray(o)?o.map(n):n(o)}return t}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=n=>n.replace(TRAILING_SLASH_RE,"");function parseURL(n,e,t="/"){let r,o={},a="",c="";const u=e.indexOf("#");let en=e.indexOf("?");return u<en&&u>=0&&(en=-1),en>-1&&(r=e.slice(0,en),a=e.slice(en+1,u>-1?u:e.length),o=n(a)),u>-1&&(r=r||e.slice(0,u),c=e.slice(u,e.length)),r=resolveRelativePath(r??e,t),{fullPath:r+(a&&"?")+a+c,path:r,query:o,hash:c}}function stringifyURL(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function stripBase(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function isSameRouteLocation(n,e,t){const r=e.matched.length-1,o=t.matched.length-1;return r>-1&&r===o&&isSameRouteRecord(e.matched[r],t.matched[o])&&isSameRouteLocationParams(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function isSameRouteRecord(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function isSameRouteLocationParams(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!isSameRouteLocationParamsValue(n[t],e[t]))return!1;return!0}function isSameRouteLocationParamsValue(n,e){return isArray(n)?isEquivalentArray(n,e):isArray(e)?isEquivalentArray(e,n):n===e}function isEquivalentArray(n,e){return isArray(e)?n.length===e.length&&n.every((t,r)=>t===e[r]):n.length===1&&n[0]===e}function resolveRelativePath(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),r=n.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let a=t.length-1,c,u;for(c=0;c<r.length;c++)if(u=r[c],u!==".")if(u==="..")a>1&&a--;else break;return t.slice(0,a).join("/")+"/"+r.slice(c-(c===r.length?1:0)).join("/")}var NavigationType;(function(n){n.pop="pop",n.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(n){n.back="back",n.forward="forward",n.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(n){if(!n)if(isBrowser){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),removeTrailingSlash(n)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(n,e){return n.replace(BEFORE_HASH_RE,"#")+e}function getElementPosition(n,e){const t=document.documentElement.getBoundingClientRect(),r=n.getBoundingClientRect();return{behavior:e.behavior,left:r.left-t.left-(e.left||0),top:r.top-t.top-(e.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(n){let e;if("el"in n){const t=n.el,r=typeof t=="string"&&t.startsWith("#"),o=typeof t=="string"?r?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!o)return;e=getElementPosition(o,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function getScrollKey(n,e){return(history.state?history.state.position-e:-1)+n}const scrollPositions=new Map;function saveScrollPosition(n,e){scrollPositions.set(n,e)}function getSavedScrollPosition(n){const e=scrollPositions.get(n);return scrollPositions.delete(n),e}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(n,e){const{pathname:t,search:r,hash:o}=e,a=n.indexOf("#");if(a>-1){let u=o.includes(n.slice(a))?n.slice(a).length:1,en=o.slice(u);return en[0]!=="/"&&(en="/"+en),stripBase(en,"")}return stripBase(t,n)+r+o}function useHistoryListeners(n,e,t,r){let o=[],a=[],c=null;const u=({state:fn})=>{const dn=createCurrentLocation(n,location),hn=t.value,ln=e.value;let pn=0;if(fn){if(t.value=dn,e.value=fn,c&&c===hn){c=null;return}pn=ln?fn.position-ln.position:0}else r(dn);o.forEach($n=>{$n(t.value,hn,{delta:pn,type:NavigationType.pop,direction:pn?pn>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function en(){c=t.value}function tn(fn){o.push(fn);const dn=()=>{const hn=o.indexOf(fn);hn>-1&&o.splice(hn,1)};return a.push(dn),dn}function nn(){const{history:fn}=window;!fn.state||fn.replaceState(assign({},fn.state,{scroll:computeScrollPosition()}),"")}function sn(){for(const fn of a)fn();a=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",nn)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",nn,{passive:!0}),{pauseListeners:en,listen:tn,destroy:sn}}function buildState(n,e,t,r=!1,o=!1){return{back:n,current:e,forward:t,replaced:r,position:window.history.length,scroll:o?computeScrollPosition():null}}function useHistoryStateNavigation(n){const{history:e,location:t}=window,r={value:createCurrentLocation(n,t)},o={value:e.state};o.value||a(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(en,tn,nn){const sn=n.indexOf("#"),fn=sn>-1?(t.host&&document.querySelector("base")?n:n.slice(sn))+en:createBaseLocation()+n+en;try{e[nn?"replaceState":"pushState"](tn,"",fn),o.value=tn}catch(dn){console.error(dn),t[nn?"replace":"assign"](fn)}}function c(en,tn){const nn=assign({},e.state,buildState(o.value.back,en,o.value.forward,!0),tn,{position:o.value.position});a(en,nn,!0),r.value=en}function u(en,tn){const nn=assign({},o.value,e.state,{forward:en,scroll:computeScrollPosition()});a(nn.current,nn,!0);const sn=assign({},buildState(r.value,en,null),{position:nn.position+1},tn);a(en,sn,!1),r.value=en}return{location:r,state:o,push:u,replace:c}}function createWebHistory(n){n=normalizeBase(n);const e=useHistoryStateNavigation(n),t=useHistoryListeners(n,e.state,e.location,e.replace);function r(a,c=!0){c||t.pauseListeners(),history.go(a)}const o=assign({location:"",base:n,go:r,createHref:createHref.bind(null,n)},e,t);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function createWebHashHistory(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),createWebHistory(n)}function isRouteLocation(n){return typeof n=="string"||n&&typeof n=="object"}function isRouteName(n){return typeof n=="string"||typeof n=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(n,e){return assign(new Error,{type:n,[NavigationFailureSymbol]:!0},e)}function isNavigationFailure(n,e){return n instanceof Error&&NavigationFailureSymbol in n&&(e==null||!!(n.type&e))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(n,e){const t=assign({},BASE_PATH_PARSER_OPTIONS,e),r=[];let o=t.start?"^":"";const a=[];for(const tn of n){const nn=tn.length?[]:[90];t.strict&&!tn.length&&(o+="/");for(let sn=0;sn<tn.length;sn++){const fn=tn[sn];let dn=40+(t.sensitive?.25:0);if(fn.type===0)sn||(o+="/"),o+=fn.value.replace(REGEX_CHARS_RE,"\\$&"),dn+=40;else if(fn.type===1){const{value:hn,repeatable:ln,optional:pn,regexp:$n}=fn;a.push({name:hn,repeatable:ln,optional:pn});const Sn=$n||BASE_PARAM_PATTERN;if(Sn!==BASE_PARAM_PATTERN){dn+=10;try{new RegExp(`(${Sn})`)}catch(In){throw new Error(`Invalid custom RegExp for param "${hn}" (${Sn}): `+In.message)}}let yn=ln?`((?:${Sn})(?:/(?:${Sn}))*)`:`(${Sn})`;sn||(yn=pn&&tn.length<2?`(?:/${yn})`:"/"+yn),pn&&(yn+="?"),o+=yn,dn+=20,pn&&(dn+=-8),ln&&(dn+=-20),Sn===".*"&&(dn+=-50)}nn.push(dn)}r.push(nn)}if(t.strict&&t.end){const tn=r.length-1;r[tn][r[tn].length-1]+=.7000000000000001}t.strict||(o+="/?"),t.end?o+="$":t.strict&&(o+="(?:/|$)");const c=new RegExp(o,t.sensitive?"":"i");function u(tn){const nn=tn.match(c),sn={};if(!nn)return null;for(let fn=1;fn<nn.length;fn++){const dn=nn[fn]||"",hn=a[fn-1];sn[hn.name]=dn&&hn.repeatable?dn.split("/"):dn}return sn}function en(tn){let nn="",sn=!1;for(const fn of n){(!sn||!nn.endsWith("/"))&&(nn+="/"),sn=!1;for(const dn of fn)if(dn.type===0)nn+=dn.value;else if(dn.type===1){const{value:hn,repeatable:ln,optional:pn}=dn,$n=hn in tn?tn[hn]:"";if(isArray($n)&&!ln)throw new Error(`Provided param "${hn}" is an array but it is not repeatable (* or + modifiers)`);const Sn=isArray($n)?$n.join("/"):$n;if(!Sn)if(pn)fn.length<2&&(nn.endsWith("/")?nn=nn.slice(0,-1):sn=!0);else throw new Error(`Missing required param "${hn}"`);nn+=Sn}}return nn||"/"}return{re:c,score:r,keys:a,parse:u,stringify:en}}function compareScoreArray(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=e[t]-n[t];if(r)return r;t++}return n.length<e.length?n.length===1&&n[0]===40+40?-1:1:n.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function comparePathParserScore(n,e){let t=0;const r=n.score,o=e.score;for(;t<r.length&&t<o.length;){const a=compareScoreArray(r[t],o[t]);if(a)return a;t++}if(Math.abs(o.length-r.length)===1){if(isLastScoreNegative(r))return 1;if(isLastScoreNegative(o))return-1}return o.length-r.length}function isLastScoreNegative(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(n){if(!n)return[[]];if(n==="/")return[[ROOT_TOKEN]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(dn){throw new Error(`ERR (${t})/"${tn}": ${dn}`)}let t=0,r=t;const o=[];let a;function c(){a&&o.push(a),a=[]}let u=0,en,tn="",nn="";function sn(){!tn||(t===0?a.push({type:0,value:tn}):t===1||t===2||t===3?(a.length>1&&(en==="*"||en==="+")&&e(`A repeatable param (${tn}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:tn,regexp:nn,repeatable:en==="*"||en==="+",optional:en==="*"||en==="?"})):e("Invalid state to consume buffer"),tn="")}function fn(){tn+=en}for(;u<n.length;){if(en=n[u++],en==="\\"&&t!==2){r=t,t=4;continue}switch(t){case 0:en==="/"?(tn&&sn(),c()):en===":"?(sn(),t=1):fn();break;case 4:fn(),t=r;break;case 1:en==="("?t=2:VALID_PARAM_RE.test(en)?fn():(sn(),t=0,en!=="*"&&en!=="?"&&en!=="+"&&u--);break;case 2:en===")"?nn[nn.length-1]=="\\"?nn=nn.slice(0,-1)+en:t=3:nn+=en;break;case 3:sn(),t=0,en!=="*"&&en!=="?"&&en!=="+"&&u--,nn="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${tn}"`),sn(),c(),o}function createRouteRecordMatcher(n,e,t){const r=tokensToParser(tokenizePath(n.path),t),o=assign(r,{record:n,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function createRouterMatcher(n,e){const t=[],r=new Map;e=mergeOptions({strict:!1,end:!0,sensitive:!1},e);function o(nn){return r.get(nn)}function a(nn,sn,fn){const dn=!fn,hn=normalizeRouteRecord(nn);hn.aliasOf=fn&&fn.record;const ln=mergeOptions(e,nn),pn=[hn];if("alias"in nn){const yn=typeof nn.alias=="string"?[nn.alias]:nn.alias;for(const In of yn)pn.push(assign({},hn,{components:fn?fn.record.components:hn.components,path:In,aliasOf:fn?fn.record:hn}))}let $n,Sn;for(const yn of pn){const{path:In}=yn;if(sn&&In[0]!=="/"){const An=sn.record.path,Tn=An[An.length-1]==="/"?"":"/";yn.path=sn.record.path+(In&&Tn+In)}if($n=createRouteRecordMatcher(yn,sn,ln),fn?fn.alias.push($n):(Sn=Sn||$n,Sn!==$n&&Sn.alias.push($n),dn&&nn.name&&!isAliasRecord($n)&&c(nn.name)),hn.children){const An=hn.children;for(let Tn=0;Tn<An.length;Tn++)a(An[Tn],$n,fn&&fn.children[Tn])}fn=fn||$n,($n.record.components&&Object.keys($n.record.components).length||$n.record.name||$n.record.redirect)&&en($n)}return Sn?()=>{c(Sn)}:noop}function c(nn){if(isRouteName(nn)){const sn=r.get(nn);sn&&(r.delete(nn),t.splice(t.indexOf(sn),1),sn.children.forEach(c),sn.alias.forEach(c))}else{const sn=t.indexOf(nn);sn>-1&&(t.splice(sn,1),nn.record.name&&r.delete(nn.record.name),nn.children.forEach(c),nn.alias.forEach(c))}}function u(){return t}function en(nn){let sn=0;for(;sn<t.length&&comparePathParserScore(nn,t[sn])>=0&&(nn.record.path!==t[sn].record.path||!isRecordChildOf(nn,t[sn]));)sn++;t.splice(sn,0,nn),nn.record.name&&!isAliasRecord(nn)&&r.set(nn.record.name,nn)}function tn(nn,sn){let fn,dn={},hn,ln;if("name"in nn&&nn.name){if(fn=r.get(nn.name),!fn)throw createRouterError(1,{location:nn});ln=fn.record.name,dn=assign(paramsFromLocation(sn.params,fn.keys.filter(Sn=>!Sn.optional).map(Sn=>Sn.name)),nn.params&&paramsFromLocation(nn.params,fn.keys.map(Sn=>Sn.name))),hn=fn.stringify(dn)}else if("path"in nn)hn=nn.path,fn=t.find(Sn=>Sn.re.test(hn)),fn&&(dn=fn.parse(hn),ln=fn.record.name);else{if(fn=sn.name?r.get(sn.name):t.find(Sn=>Sn.re.test(sn.path)),!fn)throw createRouterError(1,{location:nn,currentLocation:sn});ln=fn.record.name,dn=assign({},sn.params,nn.params),hn=fn.stringify(dn)}const pn=[];let $n=fn;for(;$n;)pn.unshift($n.record),$n=$n.parent;return{name:ln,path:hn,params:dn,matched:pn,meta:mergeMetaFields(pn)}}return n.forEach(nn=>a(nn)),{addRoute:a,resolve:tn,removeRoute:c,getRoutes:u,getRecordMatcher:o}}function paramsFromLocation(n,e){const t={};for(const r of e)r in n&&(t[r]=n[r]);return t}function normalizeRouteRecord(n){return{path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:void 0,beforeEnter:n.beforeEnter,props:normalizeRecordProps(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}}}function normalizeRecordProps(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const r in n.components)e[r]=typeof t=="object"?t[r]:t;return e}function isAliasRecord(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function mergeMetaFields(n){return n.reduce((e,t)=>assign(e,t.meta),{})}function mergeOptions(n,e){const t={};for(const r in n)t[r]=r in e?e[r]:n[r];return t}function isRecordChildOf(n,e){return e.children.some(t=>t===n||isRecordChildOf(n,t))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(n){return encodeURI(""+n).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(n){return commonEncode(n).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(n){return commonEncode(n).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(n){return encodeQueryValue(n).replace(EQUAL_RE,"%3D")}function encodePath(n){return commonEncode(n).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(n){return n==null?"":encodePath(n).replace(SLASH_RE,"%2F")}function decode(n){try{return decodeURIComponent(""+n)}catch{}return""+n}function parseQuery(n){const e={};if(n===""||n==="?")return e;const r=(n[0]==="?"?n.slice(1):n).split("&");for(let o=0;o<r.length;++o){const a=r[o].replace(PLUS_RE," "),c=a.indexOf("="),u=decode(c<0?a:a.slice(0,c)),en=c<0?null:decode(a.slice(c+1));if(u in e){let tn=e[u];isArray(tn)||(tn=e[u]=[tn]),tn.push(en)}else e[u]=en}return e}function stringifyQuery(n){let e="";for(let t in n){const r=n[t];if(t=encodeQueryKey(t),r==null){r!==void 0&&(e+=(e.length?"&":"")+t);continue}(isArray(r)?r.map(a=>a&&encodeQueryValue(a)):[r&&encodeQueryValue(r)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+t,a!=null&&(e+="="+a))})}return e}function normalizeQuery(n){const e={};for(const t in n){const r=n[t];r!==void 0&&(e[t]=isArray(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return e}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let n=[];function e(r){return n.push(r),()=>{const o=n.indexOf(r);o>-1&&n.splice(o,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function guardToPromiseFn(n,e,t,r,o){const a=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((c,u)=>{const en=sn=>{sn===!1?u(createRouterError(4,{from:t,to:e})):sn instanceof Error?u(sn):isRouteLocation(sn)?u(createRouterError(2,{from:e,to:sn})):(a&&r.enterCallbacks[o]===a&&typeof sn=="function"&&a.push(sn),c())},tn=n.call(r&&r.instances[o],e,t,en);let nn=Promise.resolve(tn);n.length<3&&(nn=nn.then(en)),nn.catch(sn=>u(sn))})}function extractComponentsGuards(n,e,t,r){const o=[];for(const a of n)for(const c in a.components){let u=a.components[c];if(!(e!=="beforeRouteEnter"&&!a.instances[c]))if(isRouteComponent(u)){const tn=(u.__vccOpts||u)[e];tn&&o.push(guardToPromiseFn(tn,t,r,a,c))}else{let en=u();o.push(()=>en.then(tn=>{if(!tn)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${a.path}"`));const nn=isESModule(tn)?tn.default:tn;a.components[c]=nn;const fn=(nn.__vccOpts||nn)[e];return fn&&guardToPromiseFn(fn,t,r,a,c)()}))}}return o}function isRouteComponent(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function useLink(n){const e=inject(routerKey),t=inject(routeLocationKey),r=computed$1(()=>e.resolve(unref(n.to))),o=computed$1(()=>{const{matched:en}=r.value,{length:tn}=en,nn=en[tn-1],sn=t.matched;if(!nn||!sn.length)return-1;const fn=sn.findIndex(isSameRouteRecord.bind(null,nn));if(fn>-1)return fn;const dn=getOriginalPath(en[tn-2]);return tn>1&&getOriginalPath(nn)===dn&&sn[sn.length-1].path!==dn?sn.findIndex(isSameRouteRecord.bind(null,en[tn-2])):fn}),a=computed$1(()=>o.value>-1&&includesParams(t.params,r.value.params)),c=computed$1(()=>o.value>-1&&o.value===t.matched.length-1&&isSameRouteLocationParams(t.params,r.value.params));function u(en={}){return guardEvent(en)?e[unref(n.replace)?"replace":"push"](unref(n.to)).catch(noop):Promise.resolve()}return{route:r,href:computed$1(()=>r.value.href),isActive:a,isExactActive:c,navigate:u}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(n,{slots:e}){const t=reactive(useLink(n)),{options:r}=inject(routerKey),o=computed$1(()=>({[getLinkClass(n.activeClass,r.linkActiveClass,"router-link-active")]:t.isActive,[getLinkClass(n.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const a=e.default&&e.default(t);return n.custom?a:h$1("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:o.value},a)}}}),RouterLink=RouterLinkImpl;function guardEvent(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function includesParams(n,e){for(const t in e){const r=e[t],o=n[t];if(typeof r=="string"){if(r!==o)return!1}else if(!isArray(o)||o.length!==r.length||r.some((a,c)=>a!==o[c]))return!1}return!0}function getOriginalPath(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const getLinkClass=(n,e,t)=>n??e??t,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const r=inject(routerViewLocationKey),o=computed$1(()=>n.route||r.value),a=inject(viewDepthKey,0),c=computed$1(()=>{let tn=unref(a);const{matched:nn}=o.value;let sn;for(;(sn=nn[tn])&&!sn.components;)tn++;return tn}),u=computed$1(()=>o.value.matched[c.value]);provide(viewDepthKey,computed$1(()=>c.value+1)),provide(matchedRouteKey,u),provide(routerViewLocationKey,o);const en=ref();return watch(()=>[en.value,u.value,n.name],([tn,nn,sn],[fn,dn,hn])=>{nn&&(nn.instances[sn]=tn,dn&&dn!==nn&&tn&&tn===fn&&(nn.leaveGuards.size||(nn.leaveGuards=dn.leaveGuards),nn.updateGuards.size||(nn.updateGuards=dn.updateGuards))),tn&&nn&&(!dn||!isSameRouteRecord(nn,dn)||!fn)&&(nn.enterCallbacks[sn]||[]).forEach(ln=>ln(tn))},{flush:"post"}),()=>{const tn=o.value,nn=n.name,sn=u.value,fn=sn&&sn.components[nn];if(!fn)return normalizeSlot(t.default,{Component:fn,route:tn});const dn=sn.props[nn],hn=dn?dn===!0?tn.params:typeof dn=="function"?dn(tn):dn:null,pn=h$1(fn,assign({},hn,e,{onVnodeUnmounted:$n=>{$n.component.isUnmounted&&(sn.instances[nn]=null)},ref:en}));return normalizeSlot(t.default,{Component:pn,route:tn})||pn}}});function normalizeSlot(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const RouterView=RouterViewImpl;function createRouter$1(n){const e=createRouterMatcher(n.routes,n),t=n.parseQuery||parseQuery,r=n.stringifyQuery||stringifyQuery,o=n.history,a=useCallbacks(),c=useCallbacks(),u=useCallbacks(),en=shallowRef(START_LOCATION_NORMALIZED);let tn=START_LOCATION_NORMALIZED;isBrowser&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const nn=applyToParams.bind(null,Xn=>""+Xn),sn=applyToParams.bind(null,encodeParam),fn=applyToParams.bind(null,decode);function dn(Xn,br){let _r,kr;return isRouteName(Xn)?(_r=e.getRecordMatcher(Xn),kr=br):kr=Xn,e.addRoute(kr,_r)}function hn(Xn){const br=e.getRecordMatcher(Xn);br&&e.removeRoute(br)}function ln(){return e.getRoutes().map(Xn=>Xn.record)}function pn(Xn){return!!e.getRecordMatcher(Xn)}function $n(Xn,br){if(br=assign({},br||en.value),typeof Xn=="string"){const Qn=parseURL(t,Xn,br.path),Tr=e.resolve({path:Qn.path},br),Or=o.createHref(Qn.fullPath);return assign(Qn,Tr,{params:fn(Tr.params),hash:decode(Qn.hash),redirectedFrom:void 0,href:Or})}let _r;if("path"in Xn)_r=assign({},Xn,{path:parseURL(t,Xn.path,br.path).path});else{const Qn=assign({},Xn.params);for(const Tr in Qn)Qn[Tr]==null&&delete Qn[Tr];_r=assign({},Xn,{params:sn(Qn)}),br.params=sn(br.params)}const kr=e.resolve(_r,br),Cr=Xn.hash||"";kr.params=nn(fn(kr.params));const qn=stringifyURL(r,assign({},Xn,{hash:encodeHash(Cr),path:kr.path})),Jn=o.createHref(qn);return assign({fullPath:qn,hash:Cr,query:r===stringifyQuery?normalizeQuery(Xn.query):Xn.query||{}},kr,{redirectedFrom:void 0,href:Jn})}function Sn(Xn){return typeof Xn=="string"?parseURL(t,Xn,en.value.path):assign({},Xn)}function yn(Xn,br){if(tn!==Xn)return createRouterError(8,{from:br,to:Xn})}function In(Xn){return kn(Xn)}function An(Xn){return In(assign(Sn(Xn),{replace:!0}))}function Tn(Xn){const br=Xn.matched[Xn.matched.length-1];if(br&&br.redirect){const{redirect:_r}=br;let kr=typeof _r=="function"?_r(Xn):_r;return typeof kr=="string"&&(kr=kr.includes("?")||kr.includes("#")?kr=Sn(kr):{path:kr},kr.params={}),assign({query:Xn.query,hash:Xn.hash,params:"path"in kr?{}:Xn.params},kr)}}function kn(Xn,br){const _r=tn=$n(Xn),kr=en.value,Cr=Xn.state,qn=Xn.force,Jn=Xn.replace===!0,Qn=Tn(_r);if(Qn)return kn(assign(Sn(Qn),{state:typeof Qn=="object"?assign({},Cr,Qn.state):Cr,force:qn,replace:Jn}),br||_r);const Tr=_r;Tr.redirectedFrom=br;let Or;return!qn&&isSameRouteLocation(r,kr,_r)&&(Or=createRouterError(16,{to:Tr,from:kr}),Bn(kr,kr,!0,!1)),(Or?Promise.resolve(Or):Kn(Tr,kr)).catch(Ir=>isNavigationFailure(Ir)?isNavigationFailure(Ir,2)?Ir:zn(Ir):Nn(Ir,Tr,kr)).then(Ir=>{if(Ir){if(isNavigationFailure(Ir,2))return kn(assign({replace:Jn},Sn(Ir.to),{state:typeof Ir.to=="object"?assign({},Cr,Ir.to.state):Cr,force:qn}),br||Tr)}else Ir=jn(Tr,kr,!0,Jn,Cr);return Hn(Tr,kr,Ir),Ir})}function Pn(Xn,br){const _r=yn(Xn,br);return _r?Promise.reject(_r):Promise.resolve()}function Dn(Xn){const br=Zn.values().next().value;return br&&typeof br.runWithContext=="function"?br.runWithContext(Xn):Xn()}function Kn(Xn,br){let _r;const[kr,Cr,qn]=extractChangingRecords(Xn,br);_r=extractComponentsGuards(kr.reverse(),"beforeRouteLeave",Xn,br);for(const Qn of kr)Qn.leaveGuards.forEach(Tr=>{_r.push(guardToPromiseFn(Tr,Xn,br))});const Jn=Pn.bind(null,Xn,br);return _r.push(Jn),$r(_r).then(()=>{_r=[];for(const Qn of a.list())_r.push(guardToPromiseFn(Qn,Xn,br));return _r.push(Jn),$r(_r)}).then(()=>{_r=extractComponentsGuards(Cr,"beforeRouteUpdate",Xn,br);for(const Qn of Cr)Qn.updateGuards.forEach(Tr=>{_r.push(guardToPromiseFn(Tr,Xn,br))});return _r.push(Jn),$r(_r)}).then(()=>{_r=[];for(const Qn of qn)if(Qn.beforeEnter)if(isArray(Qn.beforeEnter))for(const Tr of Qn.beforeEnter)_r.push(guardToPromiseFn(Tr,Xn,br));else _r.push(guardToPromiseFn(Qn.beforeEnter,Xn,br));return _r.push(Jn),$r(_r)}).then(()=>(Xn.matched.forEach(Qn=>Qn.enterCallbacks={}),_r=extractComponentsGuards(qn,"beforeRouteEnter",Xn,br),_r.push(Jn),$r(_r))).then(()=>{_r=[];for(const Qn of c.list())_r.push(guardToPromiseFn(Qn,Xn,br));return _r.push(Jn),$r(_r)}).catch(Qn=>isNavigationFailure(Qn,8)?Qn:Promise.reject(Qn))}function Hn(Xn,br,_r){u.list().forEach(kr=>Dn(()=>kr(Xn,br,_r)))}function jn(Xn,br,_r,kr,Cr){const qn=yn(Xn,br);if(qn)return qn;const Jn=br===START_LOCATION_NORMALIZED,Qn=isBrowser?history.state:{};_r&&(kr||Jn?o.replace(Xn.fullPath,assign({scroll:Jn&&Qn&&Qn.scroll},Cr)):o.push(Xn.fullPath,Cr)),en.value=Xn,Bn(Xn,br,_r,Jn),zn()}let Cn;function mn(){Cn||(Cn=o.listen((Xn,br,_r)=>{if(!Sr.listening)return;const kr=$n(Xn),Cr=Tn(kr);if(Cr){kn(assign(Cr,{replace:!0}),kr).catch(noop);return}tn=kr;const qn=en.value;isBrowser&&saveScrollPosition(getScrollKey(qn.fullPath,_r.delta),computeScrollPosition()),Kn(kr,qn).catch(Jn=>isNavigationFailure(Jn,12)?Jn:isNavigationFailure(Jn,2)?(kn(Jn.to,kr).then(Qn=>{isNavigationFailure(Qn,20)&&!_r.delta&&_r.type===NavigationType.pop&&o.go(-1,!1)}).catch(noop),Promise.reject()):(_r.delta&&o.go(-_r.delta,!1),Nn(Jn,kr,qn))).then(Jn=>{Jn=Jn||jn(kr,qn,!1),Jn&&(_r.delta&&!isNavigationFailure(Jn,8)?o.go(-_r.delta,!1):_r.type===NavigationType.pop&&isNavigationFailure(Jn,20)&&o.go(-1,!1)),Hn(kr,qn,Jn)}).catch(noop)}))}let _n=useCallbacks(),vn=useCallbacks(),On;function Nn(Xn,br,_r){zn(Xn);const kr=vn.list();return kr.length?kr.forEach(Cr=>Cr(Xn,br,_r)):console.error(Xn),Promise.reject(Xn)}function Un(){return On&&en.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Xn,br)=>{_n.add([Xn,br])})}function zn(Xn){return On||(On=!Xn,mn(),_n.list().forEach(([br,_r])=>Xn?_r(Xn):br()),_n.reset()),Xn}function Bn(Xn,br,_r,kr){const{scrollBehavior:Cr}=n;if(!isBrowser||!Cr)return Promise.resolve();const qn=!_r&&getSavedScrollPosition(getScrollKey(Xn.fullPath,0))||(kr||!_r)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Cr(Xn,br,qn)).then(Jn=>Jn&&scrollToPosition(Jn)).catch(Jn=>Nn(Jn,Xn,br))}const En=Xn=>o.go(Xn);let Mn;const Zn=new Set,Sr={currentRoute:en,listening:!0,addRoute:dn,removeRoute:hn,hasRoute:pn,getRoutes:ln,resolve:$n,options:n,push:In,replace:An,go:En,back:()=>En(-1),forward:()=>En(1),beforeEach:a.add,beforeResolve:c.add,afterEach:u.add,onError:vn.add,isReady:Un,install(Xn){const br=this;Xn.component("RouterLink",RouterLink),Xn.component("RouterView",RouterView),Xn.config.globalProperties.$router=br,Object.defineProperty(Xn.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(en)}),isBrowser&&!Mn&&en.value===START_LOCATION_NORMALIZED&&(Mn=!0,In(o.location).catch(Cr=>{}));const _r={};for(const Cr in START_LOCATION_NORMALIZED)Object.defineProperty(_r,Cr,{get:()=>en.value[Cr],enumerable:!0});Xn.provide(routerKey,br),Xn.provide(routeLocationKey,shallowReactive(_r)),Xn.provide(routerViewLocationKey,en);const kr=Xn.unmount;Zn.add(Xn),Xn.unmount=function(){Zn.delete(Xn),Zn.size<1&&(tn=START_LOCATION_NORMALIZED,Cn&&Cn(),Cn=null,en.value=START_LOCATION_NORMALIZED,Mn=!1,On=!1),kr()}}};function $r(Xn){return Xn.reduce((br,_r)=>br.then(()=>Dn(_r)),Promise.resolve())}return Sr}function extractChangingRecords(n,e){const t=[],r=[],o=[],a=Math.max(e.matched.length,n.matched.length);for(let c=0;c<a;c++){const u=e.matched[c];u&&(n.matched.find(tn=>isSameRouteRecord(tn,u))?r.push(u):t.push(u));const en=n.matched[c];en&&(e.matched.find(tn=>isSameRouteRecord(tn,en))||o.push(en))}return[t,r,o]}const routes=[{path:"/",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./IndexPage.c7a3599f.js"),["assets/IndexPage.c7a3599f.js","assets/QSpace.6362bbff.js","assets/QPage.703dc782.js"])}]},{path:"/cut",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./CutPage.05b52a00.js"),["assets/CutPage.05b52a00.js","assets/QInput.18b9bf9b.js","assets/use-key-composition.6b731c9b.js","assets/QSeparator.60b670ec.js","assets/QPage.703dc782.js","assets/handleTransaction.6c5cbb27.js","assets/format_address.6bedd543.js","assets/FormatNumber.832a7f63.js","assets/transferChecked.ba9e74aa.js"])}]},{path:"/squads",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./SquadsPage.219310d9.js"),["assets/SquadsPage.219310d9.js","assets/QInput.18b9bf9b.js","assets/use-key-composition.6b731c9b.js","assets/QSeparator.60b670ec.js","assets/QSelect.92eb77f2.js","assets/rtl.b82e140b.js","assets/QPage.703dc782.js"])}]},{path:"/whitelist",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./WhitelistPage.4b0916c6.js"),["assets/WhitelistPage.4b0916c6.js","assets/QInput.18b9bf9b.js","assets/use-key-composition.6b731c9b.js","assets/QSeparator.60b670ec.js","assets/QTabs.9ee9f42d.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QTabPanels.341aff14.js","assets/touch.3df10340.js","assets/QPage.703dc782.js","assets/QList.d64eefeb.js","assets/ClosePopup.65d081d8.js","assets/QCheckbox.1276e27d.js","assets/use-checkbox.58994f43.js","assets/QSlideTransition.345ae3d9.js"])}]},{path:"/raffle",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./RafflePage.80095d42.js"),["assets/RafflePage.80095d42.js","assets/RafflePage.97108122.css","assets/QTabs.9ee9f42d.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QSpace.6362bbff.js","assets/QPage.703dc782.js","assets/WhitelistInterface.1ca73614.js","assets/QSeparator.60b670ec.js","assets/QList.d64eefeb.js","assets/QSelect.92eb77f2.js","assets/QCheckbox.1276e27d.js","assets/use-checkbox.58994f43.js","assets/QImg.0fda6ae4.js","assets/QInput.18b9bf9b.js","assets/QExpansionItem.7c5a1996.js","assets/QSlideTransition.345ae3d9.js","assets/QCardActions.38b7093a.js","assets/handleTransaction.6c5cbb27.js","assets/TokenSelectDropdown.31fc83a7.js","assets/format_address.6bedd543.js","assets/FormatNumber.832a7f63.js","assets/ClosePopup.65d081d8.js","assets/QBadge.f802d725.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/locker",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./StarAtlasLocker.070b508a.js"),["assets/StarAtlasLocker.070b508a.js","assets/QTabs.9ee9f42d.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QSeparator.60b670ec.js","assets/QTabPanels.341aff14.js","assets/touch.3df10340.js","assets/QPage.703dc782.js","assets/QInput.18b9bf9b.js","assets/FormatNumber.832a7f63.js","assets/QSelect.92eb77f2.js","assets/handleTransaction.6c5cbb27.js","assets/QImg.0fda6ae4.js","assets/QList.d64eefeb.js","assets/QExpansionItem.7c5a1996.js","assets/QSlideTransition.345ae3d9.js"])}]},{path:"/token",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./TokenPage.88a60d68.js"),["assets/TokenPage.88a60d68.js","assets/QInput.18b9bf9b.js","assets/use-key-composition.6b731c9b.js","assets/QSeparator.60b670ec.js","assets/QPage.703dc782.js","assets/TokenCreate.6f2b03a1.js","assets/handleTransaction.6c5cbb27.js","assets/mpl-token-metadata.5b4575c7.js"])}]},{path:"/wrapper",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./WrapperPage.01bd46aa.js"),["assets/WrapperPage.01bd46aa.js","assets/WrapperPage.d2ad4b26.css","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js","assets/use-key-composition.6b731c9b.js","assets/QInput.18b9bf9b.js","assets/QSeparator.60b670ec.js","assets/QTabs.9ee9f42d.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QTabPanels.341aff14.js","assets/touch.3df10340.js","assets/QPage.703dc782.js","assets/QCheckbox.1276e27d.js","assets/handleTransaction.6c5cbb27.js","assets/QSelect.92eb77f2.js","assets/QExpansionItem.7c5a1996.js","assets/QSlideTransition.345ae3d9.js","assets/QList.d64eefeb.js","assets/TokenSelectDropdown.31fc83a7.js","assets/QImg.0fda6ae4.js","assets/FormatNumber.832a7f63.js","assets/transferChecked.ba9e74aa.js","assets/mpl-token-metadata.5b4575c7.js","assets/QCardActions.38b7093a.js","assets/WhitelistInterface.1ca73614.js","assets/format_address.6bedd543.js","assets/constants.e2ffd8e4.js"])}]},{path:"/coinflip",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./CoinflipPage.a5fbfb1e.js"),["assets/CoinflipPage.a5fbfb1e.js","assets/QPage.703dc782.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/token",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./TokenManagePage.08aca315.js").then(function(n){return n.T}),["assets/TokenManagePage.08aca315.js","assets/QTabs.9ee9f42d.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QSeparator.60b670ec.js","assets/QTabPanels.341aff14.js","assets/touch.3df10340.js","assets/QInput.18b9bf9b.js","assets/QPage.703dc782.js","assets/TokenCreate.6f2b03a1.js","assets/handleTransaction.6c5cbb27.js","assets/mpl-token-metadata.5b4575c7.js","assets/QSpace.6362bbff.js","assets/QImg.0fda6ae4.js","assets/QCardActions.38b7093a.js","assets/TokenSelectDropdown.31fc83a7.js","assets/QSelect.92eb77f2.js","assets/transferChecked.ba9e74aa.js"])}]},{path:"/burner",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./BurnPage.c593f775.js"),["assets/BurnPage.c593f775.js","assets/QPage.703dc782.js","assets/plugin-vue_export-helper.21dcd24c.js"])}]},{path:"/jobs",component:()=>__vitePreload(()=>import("./MainLayout.852b39d2.js"),["assets/MainLayout.852b39d2.js","assets/MainLayout.7d42421e.css","assets/QImg.0fda6ae4.js","assets/QSpace.6362bbff.js","assets/QSeparator.60b670ec.js","assets/use-key-composition.6b731c9b.js","assets/QResizeObserver.de49dba6.js","assets/rtl.b82e140b.js","assets/QList.d64eefeb.js","assets/touch.3df10340.js","assets/QSelect.92eb77f2.js","assets/QBadge.f802d725.js","assets/ClosePopup.65d081d8.js","assets/QToggle.06bf272f.js","assets/use-checkbox.58994f43.js"]),children:[{path:"",component:()=>__vitePreload(()=>import("./JobsPage.55d992dc.js"),["assets/JobsPage.55d992dc.js","assets/QSpace.6362bbff.js","assets/QBadge.f802d725.js","assets/use-key-composition.6b731c9b.js","assets/QInput.18b9bf9b.js","assets/rtl.b82e140b.js","assets/QPage.703dc782.js","assets/axios.ce8f9c7f.js","assets/constants.e2ffd8e4.js","assets/QSelect.92eb77f2.js","assets/QCardActions.38b7093a.js","assets/ClosePopup.65d081d8.js","assets/QTabs.9ee9f42d.js","assets/QResizeObserver.de49dba6.js"])}]},{path:"/:catchAll(.*)*",component:()=>__vitePreload(()=>import("./ErrorNotFound.b187e0b2.js"),["assets/ErrorNotFound.b187e0b2.js","assets/plugin-vue_export-helper.21dcd24c.js"])}];var createRouter=function(){return createRouter$1({scrollBehavior:()=>({left:0,top:0}),routes,history:createWebHashHistory("/")})};async function createQuasarApp(n,e){const t=n(_sfc_main);t.use(Quasar,e);const r=typeof createStore=="function"?await createStore({}):createStore;t.use(r);const o=markRaw(typeof createRouter=="function"?await createRouter({store:r}):createRouter);return r.use(({store:a})=>{a.router=o}),{app:t,store:r,router:o}}var quasarUserOptions={config:{},plugins:{Notify}};const publicPath="/";async function start({app:n,router:e,store:t},r){let o=!1;const a=en=>{try{return e.resolve(en).href}catch{}return Object(en)===en?null:en},c=en=>{if(o=!0,typeof en=="string"&&/^https?:\/\//.test(en)){window.location.href=en;return}const tn=a(en);tn!==null&&(window.location.href=tn,window.location.reload())},u=window.location.href.replace(window.location.origin,"");for(let en=0;o===!1&&en<r.length;en++)try{await r[en]({app:n,router:e,store:t,ssrContext:null,redirect:c,urlPath:u,publicPath})}catch(tn){if(tn&&tn.url){c(tn.url);return}console.error("[Quasar] boot error:",tn);return}o!==!0&&(n.use(e),n.mount("#q-app"))}createQuasarApp(createApp,quasarUserOptions).then(n=>{const[e,t]=Promise.allSettled!==void 0?["allSettled",r=>r.map(o=>{if(o.status==="rejected"){console.error("[Quasar] boot error:",o.reason);return}return o.value.default})]:["all",r=>r.map(o=>o.default)];return Promise[e]([__vitePreload(()=>import("./rpc.96700a37.js"),["assets/rpc.96700a37.js","assets/wallet_connect.851ab61a.css"]),__vitePreload(()=>import("./axios.ce8f9c7f.js"),["assets/axios.ce8f9c7f.js","assets/constants.e2ffd8e4.js"]),__vitePreload(()=>import("./wallet.221b2d60.js").then(function(r){return r.w}),["assets/wallet.221b2d60.js","assets/wallet_connect.851ab61a.css"]),__vitePreload(()=>import("./canvas.c4ea0284.js"),["assets/canvas.c4ea0284.js","assets/wallet_connect.851ab61a.css"])]).then(r=>{const o=t(r).filter(a=>typeof a=="function");start(n,o)})});export{normalizeProps as $,isRef as A,BaseMessageSignerWalletAdapter as B,isShallow as C,markRaw as D,EffectScope as E,onScopeDispose as F,proxyRefs as G,reactive as H,readonly as I,ref as J,shallowReactive as K,shallowReadonly as L,shallowRef as M,stop$1 as N,toRaw as O,PublicKey$7 as P,toRef as Q,ReactiveEffect as R,toRefs as S,toValue$1 as T,triggerRef as U,unref as V,WalletReadyState as W,camelize as X,capitalize as Y,normalizeClass as Z,__vitePreload as _,axios$1 as a,onUnmounted as a$,normalizeStyle as a0,toDisplayString as a1,toHandlerKey as a2,BaseTransition as a3,BaseTransitionPropsValidators as a4,Comment as a5,Fragment as a6,KeepAlive as a7,Static as a8,Suspense as a9,defineSlots as aA,devtools as aB,getCurrentInstance as aC,getTransitionRawChildren as aD,guardReactiveProps as aE,h$1 as aF,handleError as aG,hasInjectionContext as aH,initCustomFormatter as aI,inject as aJ,isMemoSame as aK,isRuntimeOnly as aL,isVNode as aM,mergeDefaults as aN,mergeModels as aO,mergeProps as aP,nextTick as aQ,onActivated as aR,onBeforeMount as aS,onBeforeUnmount as aT,onBeforeUpdate as aU,onDeactivated as aV,onErrorCaptured as aW,onMounted as aX,onRenderTracked as aY,onRenderTriggered as aZ,onServerPrefetch as a_,Teleport as aa,Text as ab,assertNumber as ac,callWithAsyncErrorHandling as ad,callWithErrorHandling as ae,cloneVNode as af,compatUtils as ag,computed$1 as ah,createBlock as ai,createCommentVNode as aj,createElementBlock as ak,createBaseVNode as al,createHydrationRenderer as am,createPropsRestProxy as an,createRenderer as ao,createSlots as ap,createStaticVNode as aq,createTextVNode as ar,createVNode as as,defineAsyncComponent as at,defineComponent as au,defineEmits as av,defineExpose as aw,defineModel as ax,defineOptions as ay,defineProps as az,boot as b,emptyRenderFn as b$,onUpdated as b0,openBlock as b1,popScopeId as b2,provide as b3,pushScopeId as b4,queuePostFlushCb as b5,registerRuntimeCompiler as b6,renderList as b7,renderSlot as b8,resolveComponent as b9,withMemo as bA,withScopeId as bB,Transition as bC,TransitionGroup as bD,VueElement as bE,createApp as bF,createSSRApp as bG,defineCustomElement as bH,defineSSRCustomElement as bI,hydrate as bJ,initDirectivesForSSR as bK,render as bL,useCssModule as bM,useCssVars as bN,vModelCheckbox as bO,vModelDynamic as bP,vModelRadio as bQ,vModelSelect as bR,vModelText as bS,vShow as bT,withKeys as bU,withModifiers as bV,getAugmentedNamespace as bW,commonjsGlobal as bX,getDefaultExportFromCjs$5 as bY,createComponent as bZ,hSlot as b_,resolveDirective as ba,resolveDynamicComponent as bb,resolveFilter as bc,resolveTransitionHooks as bd,setBlockTracking as be,setDevtoolsHook as bf,setTransitionHooks as bg,ssrContextKey as bh,ssrUtils as bi,toHandlers as bj,transformVNodeArgs as bk,useAttrs as bl,useModel as bm,useSSRContext as bn,useSlots as bo,useTransitionState as bp,version$1 as bq,warn as br,watch as bs,watchEffect as bt,watchPostEffect as bu,watchSyncEffect as bv,withAsyncContext as bw,withCtx as bx,withDefaults as by,withDirectives as bz,WalletDisconnectedError as c,createVaultTransactionCreateInstruction as c$,layoutKey as c0,hUniqueSlot as c1,noop$6 as c2,listenOpts as c3,createDirective as c4,client$5 as c5,leftClick as c6,addEvt as c7,preventDraggable as c8,prevent as c9,css as cA,Platform as cB,vmHasRouter as cC,getParentProxy as cD,createGlobalNode as cE,removeGlobalNode as cF,vmIsDestroyed as cG,childHasFocus as cH,useSizeProps as cI,useSize as cJ,hMergeSlotSafely as cK,History as cL,getEventPath as cM,isDeepEqual$2 as cN,shouldIgnoreKey as cO,Transaction$6 as cP,useTokenListStore as cQ,findATA as cR,getSigner as cS,calcAmountToTransfer$1 as cT,Notify as cU,useWallet as cV,QAvatar as cW,useAccountStore as cX,getVaultPda as cY,getTransactionPda as cZ,transactionMessageToMultisigTransactionMessageBytes as c_,stop as ca,position as cb,cleanEvt as cc,stopAndPrevent as cd,debounce as ce,hMergeSlot as cf,hDir as cg,pageContainerKey as ch,isRuntimeSsrPreHydration as ci,useSquadsStore as cj,useWhitelistStore as ck,useQuasar as cl,QBtn as cm,WalletMultiButton as cn,QIcon as co,useRPCStore as cp,RPC_NETWORKS as cq,useGlobalStore as cr,Ripple as cs,QSpinner as ct,formKey as cu,injectProp as cv,useRouterLinkProps as cw,useRouterLink as cx,isKeyCode as cy,getElement as cz,WalletPublicKeyError as d,u192be as d$,PROGRAM_ID as d0,TransactionMessage$4 as d1,struct$3 as d2,u8$2 as d3,u64$9 as d4,addSigners as d5,dist$3 as d6,TokenInstruction as d7,TransactionInstruction$6 as d8,TOKEN_PROGRAM_ID$1 as d9,isObject$c as dA,injectMultipleProps as dB,whitelistIDL as dC,useAlignProps as dD,useAlign as dE,useAtlasLockerStore as dF,usePolisLockerStore as dG,ATLAS_DECIMALS as dH,findProxy as dI,findEscrow as dJ,findProxyEscrow as dK,findEscrowATA as dL,findProxyATA as dM,POLIS_DECIMALS as dN,Layout_2$1 as dO,publicKey$6 as dP,SYSVAR_RENT_PUBKEY$6 as dQ,Keypair$5 as dR,MINT_SIZE as dS,getMinimumBalanceForRentExemptMint as dT,u128 as dU,encodeDecode$6 as dV,bigInt$6 as dW,bigIntBE as dX,u64be as dY,u128be as dZ,u192 as d_,TokenInvalidInstructionProgramError as da,TokenInvalidInstructionDataError as db,TokenInvalidInstructionTypeError as dc,TokenInvalidInstructionKeysError as dd,PublicKey$6 as de,encode$2 as df,SystemProgram$6 as dg,useWorkspaceAdapter as dh,useBtnProps as di,getBtnDesignAttr as dj,tabsKey as dk,getNormalizedVNodes as dl,useSpinnerProps as dm,useSpinner as dn,defineStore as dp,BN as dq,SYSVAR_RECENT_BLOCKHASHES_PUBKEY$6 as dr,raffleIDL as ds,getAssociatedTokenAddress$1 as dt,token as du,createAssociatedTokenAccountInstruction$1 as dv,retryFunction as dw,calcAmountToTransfer as dx,isNumber$2 as dy,isDate$3 as dz,WalletNotReadyError as e,fixEncoderSize as e$,u256 as e0,u256be as e1,bool as e2,require$$0$5 as e3,regenerator as e4,asyncToGenerator as e5,_typeof$5 as e6,classCallCheck as e7,createClass as e8,inherits$2 as e9,useLocalStorage as eA,findWrapperAddress as eB,findVaultAddress as eC,findMintWrappedAddress as eD,findMetadataAddress as eE,watchDeep as eF,ASSOCIATED_TOKEN_PROGRAM_ID$1 as eG,initWorkspaceAdapter as eH,sendAndConfirmTransaction$7 as eI,TOKEN_2022_PROGRAM_ID as eJ,programSupportsExtensions as eK,TokenUnsupportedInstructionError as eL,SolanaError as eM,SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH as eN,SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH as eO,SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH as eP,SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH as eQ,SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE as eR,getUnitEncoder as eS,getBooleanEncoder as eT,getConstantEncoder as eU,getUnionEncoder as eV,getTupleEncoder as eW,getStructEncoder as eX,getU64Encoder as eY,transformEncoder$1 as eZ,getBytesEncoder as e_,possibleConstructorReturn as ea,getPrototypeOf$1 as eb,interopRequireDefault as ec,eventemitter3 as ed,bufferPolyfill as ee,nu64$1 as ef,u32$3 as eg,ns64$1 as eh,seq as ei,offset$1 as ej,u16 as ek,secp256k1$1 as el,blob$2 as em,serialize_1 as en,deserialize_1 as eo,deserializeUnchecked_1 as ep,bs58$3 as eq,sha256$2 as er,toBufferLE_1 as es,keccak_256 as et,ed25519$1 as eu,toBigIntLE_1 as ev,beet as ew,beetSolana as ex,Layout$4 as ey,cusper as ez,WalletConnectionError as f,isAccountExtension as f$,TOKEN_GROUP_SIZE as f0,TOKEN_GROUP_MEMBER_SIZE as f1,getExtensionData as f2,ExtensionType as f3,unpackTokenGroup as f4,unpackTokenGroupMember as f5,getExtraAccountMetaAddress as f6,getExtraAccountMetas as f7,resolveExtraAccountMeta as f8,getMint as f9,getU32Encoder as fA,fixCodecSize as fB,getBytesCodec as fC,getArrayCodec as fD,getNewAccountLenForExtensionLen as fE,unpackMint as fF,decodeTransferInstruction as fG,TokenError as fH,TokenInvalidAccountError as fI,TokenInvalidAccountDataError as fJ,TokenInvalidAccountSizeError as fK,TokenOwnerOffCurveError as fL,TokenTransferHookAccountNotFound as fM,TokenTransferHookInvalidSeed as fN,TokenTransferHookAccountDataNotFound as fO,AccountType as fP,ACCOUNT_TYPE_SIZE as fQ,CpiGuardLayout as fR,CPI_GUARD_SIZE as fS,getCpiGuard as fT,DefaultAccountStateLayout as fU,DEFAULT_ACCOUNT_STATE_SIZE as fV,getDefaultAccountState as fW,TYPE_SIZE as fX,LENGTH_SIZE as fY,getTypeLen as fZ,isMintExtension as f_,getTransferHook as fa,getAssociatedTokenAddressSync as fb,getAccountLenForMint as fc,createAssociatedTokenAccountIdempotentInstruction as fd,getMinimumBalanceForRentExemptMultisig as fe,MULTISIG_SIZE as ff,NATIVE_MINT_2022 as fg,getMinimumBalanceForRentExemptAccount as fh,ACCOUNT_SIZE as fi,NATIVE_MINT$1 as fj,getAccount as fk,TokenAccountNotFoundError as fl,TokenInvalidAccountOwnerError as fm,TokenInvalidMintError as fn,TokenInvalidOwnerError as fo,createRecoverNestedInstruction as fp,createTransferInstruction as fq,s16 as fr,getMintLen as fs,getUnitCodec as ft,getStructCodec as fu,getTupleCodec as fv,addCodecSizePrefix as fw,getU32Codec as fx,getDataEnumCodec as fy,addEncoderSizePrefix as fz,WalletAccountError as g,MultisigLayout$1 as g$,getAccountTypeOfMintType as g0,getAccountLen as g1,getExtensionTypes as g2,GroupMemberPointerLayout as g3,GROUP_MEMBER_POINTER_SIZE as g4,getGroupMemberPointerState as g5,GroupPointerLayout as g6,GROUP_POINTER_SIZE as g7,getGroupPointerState as g8,ImmutableOwnerLayout as g9,calculateEpochFee as gA,TransferFeeAmountLayout as gB,TRANSFER_FEE_AMOUNT_SIZE as gC,getTransferFeeConfig as gD,getTransferFeeAmount as gE,PermanentDelegateLayout as gF,PERMANENT_DELEGATE_SIZE as gG,getPermanentDelegate as gH,unpackSeeds as gI,TransferHookLayout as gJ,TRANSFER_HOOK_SIZE as gK,TransferHookAccountLayout as gL,TRANSFER_HOOK_ACCOUNT_SIZE as gM,getTransferHookAccount as gN,ExtraAccountMetaLayout as gO,ExtraAccountMetaListLayout as gP,ExtraAccountMetaAccountDataLayout as gQ,createAssociatedTokenAccountIdempotentInstructionWithDerivation as gR,transferInstructionData as gS,decodeTransferInstructionUnchecked as gT,AccountState as gU,AccountLayout$1 as gV,getMultipleAccounts as gW,getMinimumBalanceForRentExemptAccountWithExtensions as gX,unpackAccount as gY,MintLayout$1 as gZ,getMinimumBalanceForRentExemptMintWithExtensions as g_,IMMUTABLE_OWNER_SIZE as ga,getImmutableOwner as gb,InterestBearingMintConfigStateLayout as gc,INTEREST_BEARING_MINT_CONFIG_STATE_SIZE as gd,getInterestBearingMintConfigState as ge,MemoTransferLayout as gf,MEMO_TRANSFER_SIZE as gg,getMemoTransfer as gh,MetadataPointerLayout as gi,METADATA_POINTER_SIZE as gj,getMetadataPointerState as gk,MintCloseAuthorityLayout as gl,MINT_CLOSE_AUTHORITY_SIZE as gm,getMintCloseAuthority as gn,NonTransferableLayout as go,NON_TRANSFERABLE_SIZE as gp,NON_TRANSFERABLE_ACCOUNT_SIZE as gq,getNonTransferable as gr,getNonTransferableAccount as gs,MAX_FEE_BASIS_POINTS as gt,ONE_IN_BASIS_POINTS as gu,transferFeeLayout as gv,calculateFee as gw,TransferFeeConfigLayout as gx,TRANSFER_FEE_CONFIG_SIZE as gy,getEpochFee as gz,WalletDisconnectionError as h,getMultisig as h0,unpackMultisig as h1,safeBuffer$1 as h2,util$3 as h3,inherits_browser as h4,bn as h5,assert$b as h6,_defineProperty as h7,EventEmitter as h8,browser$5 as h9,ansicolors as ha,VersionedTransaction$4 as hb,base64Js$2 as hc,commonjsRequire as hd,require$$2$1 as he,sha256 as hf,isIosAndRedirectable as i,WalletNotConnectedError as j,isVersionedTransaction$3 as k,WalletError as l,WalletSendTransactionError as m,WalletSignTransactionError as n,WalletSignMessageError as o,WalletLoadError as p,WalletConfigError as q,index as r,scopePollingDetectionStrategy as s,customRef as t,effect as u,effectScope as v,getCurrentScope as w,isProxy as x,isReactive as y,isReadonly as z};
