import{Q as h,a as B}from"./QTabs.8c35320a.js";import{Q as N}from"./QImg.c232724e.js";import{au as O,J as u,bs as _,cQ as v,cX as C,b1 as c,ak as k,al as r,a1 as d,as as a,bx as l,a6 as x,b7 as I,ai as Q,cW as P,V as F,ar as g,$ as q,aP as A,aj as U}from"./index.33e04671.js";import{a as y,Q as $}from"./QItem.16a75dbe.js";import{Q as V}from"./rtl.6d3259e1.js";import{Q as D}from"./QSelect.511978a1.js";const J={class:"row items-center"},j={class:"col text-h6"},z={class:"row items-center"},E=r("div",{class:"col text-right q-mr-md text-subtitle2"},"Filter:",-1),K={class:"row q-gutter-x-md items-center"},H=O({__name:"TokenSelectDropdown",props:["label","textboxLabel"],emits:["token_account_selected"],setup(f,{emit:w}){const L=w,s=u(),S=u(["list","address"]),i=u("list"),p=u(b());_(()=>s.value,()=>{console.log(s.value),L("token_account_selected",s.value)}),_(()=>i.value,()=>p.value=b());function b(){var n;return i.value=="list"?v().tokenList.map(t=>({name:t.name,symbol:t.symbol,mint:t.address})):(n=C().getAccountsBalanceNotZero)==null?void 0:n.map(t=>{var e,o;return{name:(e=t.info)==null?void 0:e.name,symbol:(o=t.info)==null?void 0:o.symbol,mint:t.mint}})}function T(n,t,e){t(()=>{const o=n.toLowerCase();p.value=b().filter(m=>JSON.stringify(m).toLowerCase().indexOf(o)>-1)})}return(n,t)=>(c(),k(x,null,[r("div",J,[r("div",j,d(f.label),1),r("div",z,[E,a(h,{dense:"",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),class:"text-teal"},{default:l(()=>[(c(!0),k(x,null,I(S.value,e=>(c(),Q(B,{name:e,label:e,key:e},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])])]),r("div",K,[a(D,{filled:"",square:"",class:"col","use-input":"","hide-selected":"","fill-input":"",onFilter:T,options:p.value,"option-label":e=>e.name?`[${e.symbol}] ${e.name}`:e.mint,modelValue:s.value,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value=e),label:f.textboxLabel},{option:l(e=>[e.opt.group?U("",!0):(c(),Q($,q(A({key:0},e.itemProps)),{default:l(()=>[a(y,{avatar:""},{default:l(()=>[a(P,null,{default:l(()=>{var o,m;return[a(N,{src:(m=F(v)().getTokenByMintPublicKey((o=e.opt)==null?void 0:o.mint.toString()))==null?void 0:m.logoURI},null,8,["src"])]}),_:2},1024)]),_:2},1024),a(y,null,{default:l(()=>[a(V,null,{default:l(()=>[g("["+d(e.opt.symbol)+"] "+d(e.opt.name),1)]),_:2},1024),a(V,{caption:""},{default:l(()=>[g(d(e.opt.mint),1)]),_:2},1024)]),_:2},1024)]),_:2},1040))]),_:1},8,["options","option-label","modelValue","label"])])],64))}});export{H as _};
