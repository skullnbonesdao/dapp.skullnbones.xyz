import{dD as V,dE as Ae,d2 as F,dF as U,dG as _e,d3 as te,dH as we,dI as Vt,dJ as Oe,dK as ie,dL as om,dM as am,dN as cm,dO as Ie,dn as Co,dP as nc,dQ as um,dR as Bb,dS as zb,dT as $b,dU as U0e,d5 as Xe,dV as V0e,bY as q0e,bW as Td,bX as K,dW as UDe,dX as yue,dY as SV,dZ as jS,d_ as j0e,d$ as Fo,e0 as H0e,e1 as YD,e2 as VDe,e3 as qDe,e4 as Cx,P as jDe,e5 as HDe,e6 as q,e7 as Z,e8 as GDe,e9 as G0e,ea as YDe,dm as Y0e,df as M2,cV as ZDe,cP as JDe,cS as Av,cp as fD,eb as XDe,au as PH,b1 as wv,ak as pue,b7 as bue,ai as ZD,bx as lf,as as yl,al as tl,a1 as X0,a6 as Sue,V as Eg,J as QDe,cm as eOe,aX as tOe,bs as rOe,co as nOe,ar as e$}from"./index.4f56f7cf.js";import{Q as hD}from"./QCardSection.860ea516.js";import{Q as sOe}from"./QSeparator.1fa519a1.js";import{Q as Z0e}from"./use-form.e1c26c86.js";import{Q as iOe}from"./QPage.196ca255.js";import{r as sl}from"./index.c23ded6c.js";import{h as oOe}from"./handleTransaction.6f4768ed.js";import{Q as aOe}from"./QToggle.c9d934d4.js";import{Q as cOe,a as uOe}from"./QItem.d985a485.js";import{Q as lOe}from"./QList.00ccf6bc.js";import"./transferChecked.f6e1a5b4.js";import"./use-checkbox.71ee443c.js";var Jd={};function JD(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function dOe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function EB(n,...e){if(!dOe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function fOe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");JD(n.outputLen),JD(n.blockLen)}function kA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function J0e(n,e){EB(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const $5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hOe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),D5=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Bd=(n,e)=>n<<32-e|n>>>e,kue=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,gOe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function vue(n){for(let e=0;e<n.length;e++)n[e]=gOe(n[e])}function mOe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function d4(n){return typeof n=="string"&&(n=mOe(n)),EB(n),n}function yOe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];EB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class _H{clone(){return this._cloneInto()}}function EH(n){const e=r=>n().update(d4(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function X0e(n=32){if($5&&typeof $5.getRandomValues=="function")return $5.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function pOe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const bOe=(n,e,t)=>n&e^~n&t,SOe=(n,e,t)=>n&e^n&t^e&t;class Q0e extends _H{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=D5(this.buffer)}update(e){kA(this);const{view:t,buffer:r,blockLen:s}=this;e=d4(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=D5(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){kA(this),J0e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;pOe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=D5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const t$=BigInt(2**32-1),kV=BigInt(32);function e1e(n,e=!1){return e?{h:Number(n&t$),l:Number(n>>kV&t$)}:{h:Number(n>>kV&t$)|0,l:Number(n&t$)|0}}function t1e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=e1e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const kOe=(n,e)=>BigInt(n>>>0)<<kV|BigInt(e>>>0),vOe=(n,e,t)=>n>>>t,AOe=(n,e,t)=>n<<32-t|e>>>t,wOe=(n,e,t)=>n>>>t|e<<32-t,IOe=(n,e,t)=>n<<32-t|e>>>t,POe=(n,e,t)=>n<<64-t|e>>>t-32,_Oe=(n,e,t)=>n>>>t-32|e<<64-t,EOe=(n,e)=>e,xOe=(n,e)=>n,r1e=(n,e,t)=>n<<t|e>>>32-t,n1e=(n,e,t)=>e<<t|n>>>32-t,s1e=(n,e,t)=>e<<t-32|n>>>64-t,i1e=(n,e,t)=>n<<t-32|e>>>64-t;function TOe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const ROe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),COe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,MOe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),BOe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,zOe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),$Oe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Rr={fromBig:e1e,split:t1e,toBig:kOe,shrSH:vOe,shrSL:AOe,rotrSH:wOe,rotrSL:IOe,rotrBH:POe,rotrBL:_Oe,rotr32H:EOe,rotr32L:xOe,rotlSH:r1e,rotlSL:n1e,rotlBH:s1e,rotlBL:i1e,add:TOe,add3L:ROe,add3H:COe,add4L:MOe,add4H:BOe,add5H:$Oe,add5L:zOe},[DOe,OOe]=(()=>Rr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),km=new Uint32Array(80),vm=new Uint32Array(80);class KOe extends Q0e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)km[p]=e.getUint32(t),vm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=km[p-15]|0,w=vm[p-15]|0,A=Rr.rotrSH(I,w,1)^Rr.rotrSH(I,w,8)^Rr.shrSH(I,w,7),_=Rr.rotrSL(I,w,1)^Rr.rotrSL(I,w,8)^Rr.shrSL(I,w,7),E=km[p-2]|0,M=vm[p-2]|0,P=Rr.rotrSH(E,M,19)^Rr.rotrBH(E,M,61)^Rr.shrSH(E,M,6),R=Rr.rotrSL(E,M,19)^Rr.rotrBL(E,M,61)^Rr.shrSL(E,M,6),$=Rr.add4L(_,R,vm[p-7],vm[p-16]),z=Rr.add4H($,A,P,km[p-7],km[p-16]);km[p]=z|0,vm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Rr.rotrSH(d,y,14)^Rr.rotrSH(d,y,18)^Rr.rotrBH(d,y,41),w=Rr.rotrSL(d,y,14)^Rr.rotrSL(d,y,18)^Rr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Rr.add5L(S,w,_,OOe[p],vm[p]),M=Rr.add5H(E,b,I,A,DOe[p],km[p]),P=E|0,R=Rr.rotrSH(r,s,28)^Rr.rotrBH(r,s,34)^Rr.rotrBH(r,s,39),$=Rr.rotrSL(r,s,28)^Rr.rotrBL(r,s,34)^Rr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Rr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Rr.add3L(P,$,T);r=Rr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Rr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Rr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Rr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Rr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Rr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Rr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Rr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Rr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){km.fill(0),vm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const LOe=EH(()=>new KOe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xH=BigInt(0),f4=BigInt(1),WOe=BigInt(2);function Z1(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function xB(n){if(!Z1(n))throw new Error("Uint8Array expected")}function qg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const NOe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function J1(n){xB(n);let e="";for(let t=0;t<n.length;t++)e+=NOe[n[t]];return e}function o1e(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function TH(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const wh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Aue(n){if(n>=wh._0&&n<=wh._9)return n-wh._0;if(n>=wh._A&&n<=wh._F)return n-(wh._A-10);if(n>=wh._a&&n<=wh._f)return n-(wh._a-10)}function vA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Aue(n.charCodeAt(i)),a=Aue(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function N1(n){return TH(J1(n))}function Fv(n){return xB(n),TH(J1(Uint8Array.from(n).reverse()))}function AA(n,e){return vA(n.toString(16).padStart(e*2,"0"))}function Q2(n,e){return AA(n,e).reverse()}function FOe(n){return vA(o1e(n))}function Jo(n,e,t){let r;if(typeof e=="string")try{r=vA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Z1(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function X1(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];xB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function UOe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function VOe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const O5=n=>typeof n=="bigint"&&xH<=n;function h4(n,e,t){return O5(n)&&O5(e)&&O5(t)&&e<=n&&n<t}function bl(n,e,t,r){if(!h4(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function qOe(n){let e;for(e=0;n>xH;n>>=f4,e+=1);return e}function jOe(n,e){return n>>BigInt(e)&f4}function HOe(n,e,t){return n|(t?f4:xH)<<BigInt(e)}const RH=n=>(WOe<<BigInt(n-1))-f4,K5=n=>new Uint8Array(n),wue=n=>Uint8Array.from(n);function a1e(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=K5(n),s=K5(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=K5())=>{s=a(wue([0]),d),r=a(),d.length!==0&&(s=a(wue([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return X1(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const GOe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||Z1(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Mx(n,e,t={}){const r=(s,i,o)=>{const a=GOe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const YOe=()=>{throw new Error("not implemented")};function eM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var ZOe=Object.freeze(Object.defineProperty({__proto__:null,isBytes:Z1,abytes:xB,abool:qg,bytesToHex:J1,numberToHexUnpadded:o1e,hexToNumber:TH,hexToBytes:vA,bytesToNumberBE:N1,bytesToNumberLE:Fv,numberToBytesBE:AA,numberToBytesLE:Q2,numberToVarBytesBE:FOe,ensureBytes:Jo,concatBytes:X1,equalBytes:UOe,utf8ToBytes:VOe,inRange:h4,aInRange:bl,bitLen:qOe,bitGet:jOe,bitSet:HOe,bitMask:RH,createHmacDrbg:a1e,validateObject:Mx,notImplemented:YOe,memoized:eM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ja=BigInt(0),Mi=BigInt(1),Q0=BigInt(2),JOe=BigInt(3),vV=BigInt(4),Iue=BigInt(5),Pue=BigInt(8);BigInt(9);BigInt(16);function di(n,e){const t=n%e;return t>=ja?t:e+t}function XOe(n,e,t){if(t<=ja||e<ja)throw new Error("Expected power/modulo > 0");if(t===Mi)return ja;let r=Mi;for(;e>ja;)e&Mi&&(r=r*n%t),n=n*n%t,e>>=Mi;return r}function Zi(n,e,t){let r=n;for(;e-- >ja;)r*=r,r%=t;return r}function AV(n,e){if(n===ja||e<=ja)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=di(n,e),r=e,s=ja,i=Mi;for(;t!==ja;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Mi)throw new Error("invert: does not exist");return di(s,e)}function QOe(n){const e=(n-Mi)/Q0;let t,r,s;for(t=n-Mi,r=0;t%Q0===ja;t/=Q0,r++);for(s=Q0;s<n&&XOe(s,e,n)!==n-Mi;s++);if(r===1){const o=(n+Mi)/vV;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Mi)/Q0;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Mi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function e4e(n){if(n%vV===JOe){const e=(n+Mi)/vV;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Pue===Iue){const e=(n-Iue)/Pue;return function(r,s){const i=r.mul(s,Q0),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,Q0),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return QOe(n)}const t4e=(n,e)=>(di(n,e)&Mi)===Mi,r4e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function n4e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=r4e.reduce((r,s)=>(r[s]="function",r),e);return Mx(n,t)}function s4e(n,e,t){if(t<ja)throw new Error("Expected power > 0");if(t===ja)return n.ONE;if(t===Mi)return e;let r=n.ONE,s=e;for(;t>ja;)t&Mi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Mi;return r}function i4e(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function c1e(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function u1e(n,e,t=!1,r={}){if(n<=ja)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=c1e(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=e4e(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:RH(s),ZERO:ja,ONE:Mi,create:c=>di(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ja<=c&&c<n},is0:c=>c===ja,isOdd:c=>(c&Mi)===Mi,neg:c=>di(-c,n),eql:(c,u)=>c===u,sqr:c=>di(c*c,n),add:(c,u)=>di(c+u,n),sub:(c,u)=>di(c-u,n),mul:(c,u)=>di(c*u,n),pow:(c,u)=>s4e(a,c,u),div:(c,u)=>di(c*AV(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>AV(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>i4e(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?Q2(c,i):AA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Fv(c):N1(c)}});return Object.freeze(a)}function l1e(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function d1e(n){const e=l1e(n);return e+Math.ceil(e/2)}function o4e(n,e,t=!1){const r=n.length,s=l1e(e),i=d1e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?N1(n):Fv(n),a=di(o,e-Mi)+Mi;return t?Q2(a,s):AA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const a4e=BigInt(0),L5=BigInt(1),W5=new WeakMap,_ue=new WeakMap;function f1e(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>a4e;)o&L5&&(a=a.add(c)),c=c.double(),o>>=L5;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=L5);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=_ue.get(i)||1;let u=W5.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&W5.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),_ue.set(i,o),W5.delete(i)}}}function CH(n){return n4e(n.Fp),Mx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...c1e(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bl=BigInt(0),Kc=BigInt(1),r$=BigInt(2),c4e=BigInt(8),u4e={zip215:!0};function l4e(n){const e=CH(n);return Mx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function d4e(n){const e=l4e(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=r$<<BigInt(a*8)-Kc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Bl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(qg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){bl("coordinate "+v,k,Bl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=eM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?c4e:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Bl,y:Kc};if(L!==Kc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=eM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Kc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(r$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Bl)return this.double();const Ue=l(D*r$*J),Wt=l(W*r$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;bl("scalar",x,Kc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return bl("scalar",x,Bl,r),x===Bl?I:this.equals(I)||x===Kc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Kc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=Jo("pointHex",k,O),qg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=Fv(D),N=x?u:t.ORDER;bl("pointHex.y",L,Bl,N);const H=l(L*L),J=l(H-Kc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Kc)===Kc,se=(W&128)!==0;if(!x&&X===Bl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=Q2(x,t.BYTES);return C[C.length-1]|=k&Kc?128:0,C}toHex(){return J1(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Kc,l(e.Gx*e.Gy)),S.ZERO=new S(Bl,Kc,Kc,Bl);const{BASE:p,ZERO:I}=S,w=f1e(S,a*8);function A(v){return di(v,r)}function _(v){return A(Fv(v))}function E(v){const k=a;v=Jo("private key",v,k);const x=Jo("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=X1(...k);return _(i(h(x,Jo("context",v),!!s)))}function R(v,k,x={}){v=Jo("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);bl("signature.s",N,Bl,r);const H=X1(W,Q2(N,t.BYTES));return Jo("result",H,a*2)}const $=u4e;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=Jo("signature",v,2*D),k=Jo("message",k),O!==void 0&&qg("zip215",O),s&&(k=s(k));const W=Fv(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MH=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Eue=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const f4e=BigInt(1),xue=BigInt(2);BigInt(3);const h4e=BigInt(5),g4e=BigInt(8);function m4e(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=MH,a=n*n%i*n%i,c=Zi(a,xue,i)*a%i,u=Zi(c,f4e,i)*n%i,l=Zi(u,h4e,i)*u%i,d=Zi(l,e,i)*l%i,y=Zi(d,t,i)*d%i,h=Zi(y,r,i)*y%i,m=Zi(h,s,i)*h%i,f=Zi(m,s,i)*h%i,g=Zi(f,e,i)*l%i;return{pow_p_5_8:Zi(g,xue,i)*n%i,b2:a}}function y4e(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function p4e(n,e){const t=MH,r=di(e*e*e,t),s=di(r*r*e,t),i=m4e(n*s).pow_p_5_8;let o=di(n*r*i,t);const a=di(e*o*o,t),c=o,u=di(o*Eue,t),l=a===n,d=a===di(-n,t),y=a===di(-n*Eue,t);return l&&(o=c),(d||y)&&(o=u),t4e(o,t)&&(o=di(-o,t)),{isValid:l||d,value:o}}const b4e=(()=>u1e(MH,void 0,!0))(),S4e=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:b4e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:g4e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:LOe,randomBytes:X0e,adjustScalarBytes:y4e,uvRatio:p4e}))(),Bx=(()=>d4e(S4e))(),k4e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Am=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wm=new Uint32Array(64);class v4e extends Q0e{constructor(){super(64,32,8,!1),this.A=Am[0]|0,this.B=Am[1]|0,this.C=Am[2]|0,this.D=Am[3]|0,this.E=Am[4]|0,this.F=Am[5]|0,this.G=Am[6]|0,this.H=Am[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)wm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=wm[d-15],h=wm[d-2],m=Bd(y,7)^Bd(y,18)^y>>>3,f=Bd(h,17)^Bd(h,19)^h>>>10;wm[d]=f+wm[d-7]+m+wm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Bd(a,6)^Bd(a,11)^Bd(a,25),h=l+y+bOe(a,c,u)+k4e[d]+wm[d]|0,f=(Bd(r,2)^Bd(r,13)^Bd(r,22))+SOe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){wm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const wV=EH(()=>new v4e);class A4e extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function w4e(n){return TB(n)&&typeof n[Symbol.iterator]=="function"}function TB(n){return typeof n=="object"&&n!=null}function XD(n){return TB(n)&&!Array.isArray(n)}function dd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function I4e(n){const{done:e,value:t}=n.next();return e?void 0:t}function P4e(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${dd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Tue(n,e,t,r){w4e(n)||(n=[n]);for(const s of n){const i=P4e(s,e,t,r);i&&(yield i)}}function*BH(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=BH(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):TB(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class ch{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Tue(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Tue(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return h1e(e,this,t)}create(e,t){return dt(e,this,t)}is(e){return g1e(e,this)}mask(e,t){return _4e(e,this,t)}validate(e,t={}){return RB(e,this,t)}}function h1e(n,e,t){const r=RB(n,e,{message:t});if(r[0])throw r[0]}function dt(n,e,t){const r=RB(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function _4e(n,e,t){const r=RB(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function g1e(n,e){return!RB(n,e)[0]}function RB(n,e,t={}){const r=BH(n,e,t),s=I4e(r);if(s[0])return[new A4e(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function HS(n,e){return new ch({type:n,schema:null,validator:e})}function E4e(){return HS("any",()=>!0)}function kt(n){return new ch({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${dd(e)}`}})}function Jf(){return HS("boolean",n=>typeof n=="boolean")}function zH(n){return HS("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${dd(e)}`)}function wi(n){const e=dd(n),t=typeof n;return new ch({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${dd(r)}`}})}function x4e(){return HS("never",()=>!1)}function xt(n){return new ch({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function fe(){return HS("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${dd(n)}`)}function ur(n){return new ch({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function m1e(n,e){return new ch({type:"record",schema:null,*entries(t){if(TB(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return XD(t)||`Expected an object, but received: ${dd(t)}`},coercer(t){return XD(t)?{...t}:t}})}function Ve(){return HS("string",n=>typeof n=="string"||`Expected a string, but received: ${dd(n)}`)}function $H(n){const e=x4e();return new ch({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${dd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function xe(n){const e=Object.keys(n);return new ch({type:"type",schema:n,*entries(t){if(TB(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return XD(t)||`Expected an object, but received: ${dd(t)}`},coercer(t){return XD(t)?{...t}:t}})}function Tc(n){const e=n.map(t=>t.type).join(" | ");return new ch({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=BH(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${dd(t)}`,...s]}})}function zx(){return HS("unknown",()=>!0)}function CB(n,e,t){return new ch({...n,coercer:(r,s)=>g1e(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const y1e=[],p1e=[],b1e=[],T4e=BigInt(0),yR=BigInt(1),R4e=BigInt(2),C4e=BigInt(7),M4e=BigInt(256),B4e=BigInt(113);for(let n=0,e=yR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],y1e.push(2*(5*r+t)),p1e.push((n+1)*(n+2)/2%64);let s=T4e;for(let i=0;i<7;i++)e=(e<<yR^(e>>C4e)*B4e)%M4e,e&R4e&&(s^=yR<<(yR<<BigInt(i))-yR);b1e.push(s)}const[z4e,$4e]=t1e(b1e,!0),Rue=(n,e,t)=>t>32?s1e(n,e,t):r1e(n,e,t),Cue=(n,e,t)=>t>32?i1e(n,e,t):n1e(n,e,t);function D4e(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Rue(u,l,1)^t[a],y=Cue(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=p1e[o],c=Rue(s,i,a),u=Cue(s,i,a),l=y1e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=z4e[r],n[1]^=$4e[r]}t.fill(0)}class DH extends _H{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,JD(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=hOe(this.state)}keccak(){kue||vue(this.state32),D4e(this.state32,this.rounds),kue||vue(this.state32),this.posOut=0,this.pos=0}update(e){kA(this);const{blockLen:t,state:r}=this;e=d4(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){kA(this,!1),EB(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return JD(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(J0e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new DH(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const O4e=(n,e,t)=>EH(()=>new DH(e,n,t)),Mue=O4e(1,136,256/8);class S1e extends _H{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,fOe(e);const r=d4(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return kA(this),this.iHash.update(e),this}digestInto(e){kA(this),EB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const k1e=(n,e,t)=>new S1e(n,e).update(t).digest();k1e.create=(n,e)=>new S1e(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bue(n){n.lowS!==void 0&&qg("lowS",n.lowS),n.prehash!==void 0&&qg("prehash",n.prehash)}function K4e(n){const e=CH(n);Mx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:L4e,hexToBytes:W4e}=ZOe,v1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=v1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:L4e(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=v1,t=typeof n=="string"?W4e(n):n;xB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=v1._parseInt(t.subarray(2)),{d:o,l:a}=v1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Py=BigInt(0),la=BigInt(1);BigInt(2);const zue=BigInt(3);BigInt(4);function N4e(n){const e=K4e(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return X1(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return h4(m,la,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(Z1(m)&&(m=J1(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:N1(Jo("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=di(p,S)),bl("private key",p,la,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=eM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=eM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Jo("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,zue),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,zue);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){bl("scalar",f,Py,e.n);const g=d.ZERO;if(f===Py)return g;if(f===la)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Py||w>Py;)p&la&&(A=A.add(E)),w&la&&(_=_.add(E)),E=E.double(),p>>=la,w>>=la;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;bl("scalar",f,la,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Py||A===la||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===la)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===la?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return qg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return qg("isCompressed",f),J1(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=f1e(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function F4e(n){const e=CH(n);return Mx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function U4e(n){const e=F4e(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return di(T,r)}function a(T){return AV(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=N4e({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=X1;return qg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=N1(x);if(!h4(C,la,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&la)===la;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>J1(AA(T,e.nByteLength));function h(T){const v=r>>la;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>N1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Jo("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=v1.toSig(Jo("DER",v));return new g(k,x)}assertValidity(){bl("r",this.r,la,r),bl("s",this.s,la,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(Jo("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return vA(this.toDERHex())}toDERHex(){return v1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return vA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=d1e(e.n);return o4e(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=Z1(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=N1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=RH(e.nBitLength);function E(T){return bl(`num < 2^${e.nBitLength}`,T,Py,_),AA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=Jo("msgHash",T),Bue(k),O&&(T=Jo("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(Jo("extraEntropy",Y))}const H=X1(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Py)return;const ne=o(re*o(J+ee*L));if(ne===Py)return;let ve=(se.x===ee?0:2)|Number(se.y&la),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return a1e(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=Jo("msgHash",v),k=Jo("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Bue(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||Z1(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof v1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function V4e(n){return{hash:n,hmac:(e,...t)=>k1e(n,e,yOe(...t)),randomBytes:X0e}}function q4e(n,e){const t=r=>U4e({...n,...V4e(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v1e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),$ue=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),j4e=BigInt(1),IV=BigInt(2),Due=(n,e)=>(n+e/IV)/e;function H4e(n){const e=v1e,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Zi(l,t,e)*l%e,y=Zi(d,t,e)*l%e,h=Zi(y,IV,e)*u%e,m=Zi(h,s,e)*h%e,f=Zi(m,i,e)*m%e,g=Zi(f,a,e)*f%e,b=Zi(g,c,e)*g%e,S=Zi(b,a,e)*f%e,p=Zi(S,t,e)*l%e,I=Zi(p,o,e)*m%e,w=Zi(I,r,e)*u%e,A=Zi(w,IV,e);if(!PV.eql(PV.sqr(A),n))throw new Error("Cannot find square root");return A}const PV=u1e(v1e,void 0,void 0,{sqrt:H4e}),g4=q4e({a:BigInt(0),b:BigInt(7),Fp:PV,n:$ue,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=$ue,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-j4e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Due(i*n,e),c=Due(-r*n,e);let u=di(n-a*t-c*s,e),l=di(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},wV);BigInt(0);g4.ProjectivePoint;const G4e=Bx.utils.randomPrivateKey,Oue=()=>{const n=Bx.utils.randomPrivateKey(),e=QD(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},QD=Bx.getPublicKey;function Kue(n){try{return Bx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const OH=(n,e)=>Bx.sign(n,e.slice(0,32)),Y4e=Bx.verify,Zr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class KH{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(om(B2,this))}static decode(e){return am(B2,this,e)}static decodeUnchecked(e){return cm(B2,this,e)}}class Z4e extends KH{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const B2=new Map;var A1e;const w1e=32,Wf=32;function J4e(n){return n._bn!==void 0}let Lue=1;class Ee extends KH{constructor(e){if(super({}),this._bn=void 0,J4e(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Wf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Wf)throw new Error("Invalid public key input")}}static unique(){const e=new Ee(Lue);return Lue+=1,new Ee(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Wf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=wV(s);return new Ee(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>w1e)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Zr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=wV(r);if(Kue(s))throw new Error("Invalid seeds, address must fall off the curve");return new Ee(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new Ee(e);return Kue(t.toBytes())}}A1e=Ee;Ee.default=new A1e("11111111111111111111111111111111");B2.set(Ee,{kind:"struct",fields:[["_bn","u256"]]});class X4e{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Zr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Zr(G4e()),this._publicKey=Zr(QD(this._secretKey))}get publicKey(){return new Ee(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Q4e=new Ee("BPFLoader1111111111111111111111111111111111"),Ny=1280-40-8,m4=127,tM=64;class LH extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(LH.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class WH extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(WH.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Iv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Iv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class rM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const mn=(n="publicKey")=>ie(32,n),eKe=(n="signature")=>ie(64,n),A1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},tKe=(n="authorized")=>F([mn("staker"),mn("withdrawer")],n),rKe=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),mn("custodian")],n),nKe=(n="voteInit")=>F([mn("nodePubkey"),mn("authorizedVoter"),mn("authorizedWithdrawer"),te("commission")],n),sKe=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),mn("currentAuthorityDerivedKeyOwnerPubkey"),A1("currentAuthorityDerivedKeySeed"),mn("newAuthorized")],n);function I1e(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return I1e({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function Qc(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function $u(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function On(n,e){if(!n)throw new Error(e||"Assertion failed")}class y4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new y4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];On(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{On(t.length>0,"Expected at least one writable signer key");const[c]=t[0];On(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new Ee(c)),...r.map(([c])=>new Ee(c)),...s.map(([c])=>new Ee(c)),...i.map(([c])=>new Ee(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new Ee(i),c=e.findIndex(u=>u.equals(a));c>=0&&(On(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const P1e="Reached end of buffer unexpectedly";function df(n){if(n.length===0)throw new Error(P1e);return n.shift()}function eu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(P1e);return n.splice(...e)}class fd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new Ee(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new rM(this.staticAccountKeys)}static compile(e){const t=y4.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new rM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new fd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];$u(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];$u(f,y.length);let g=[];return $u(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];$u(s,r.length);let i=V.Buffer.alloc(Ny);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(mn("key"),e,"keys"),mn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Zr(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=df(t);if(r!==(r&m4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=df(t),i=df(t),o=Qc(t);let a=[];for(let y=0;y<o;y++){const h=eu(t,0,Wf);a.push(new Ee(V.Buffer.from(h)))}const c=eu(t,0,Wf),u=Qc(t);let l=[];for(let y=0;y<u;y++){const h=df(t),m=Qc(t),f=eu(t,0,m),g=Qc(t),b=eu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new fd(d)}}class Q1{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new rM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=y4.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new rM(a,s).compileInstructions(e.instructions);return new Q1({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();$u(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();$u(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();$u(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(mn(),this.staticAccountKeys.length,"staticAccountKeys"),mn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Ny),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Ny);for(const r of this.compiledInstructions){const s=Array();$u(s,r.accountKeyIndexes.length);const i=Array();$u(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Ny);for(const r of this.addressTableLookups){const s=Array();$u(s,r.writableIndexes.length);const i=Array();$u(i,r.readonlyIndexes.length),e+=F([mn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=df(t),s=r&m4;On(r!==s,"Expected versioned message but received legacy message");const i=s;On(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:df(t),numReadonlySignedAccounts:df(t),numReadonlyUnsignedAccounts:df(t)},a=[],c=Qc(t);for(let m=0;m<c;m++)a.push(new Ee(eu(t,0,Wf)));const u=Ie.encode(eu(t,0,Wf)),l=Qc(t),d=[];for(let m=0;m<l;m++){const f=df(t),g=Qc(t),b=eu(t,0,g),S=Qc(t),p=new Uint8Array(eu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=Qc(t),h=[];for(let m=0;m<y;m++){const f=new Ee(eu(t,0,Wf)),g=Qc(t),b=eu(t,0,g),S=Qc(t),p=eu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new Q1({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const NH={deserializeMessageVersion(n){const e=n[0],t=e&m4;return t===e?"legacy":t},deserialize:n=>{const e=NH.deserializeMessageVersion(n);if(e==="legacy")return fd.from(n);if(e===0)return Q1.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let mg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const iKe=V.Buffer.alloc(tM).fill(0);class us{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Dn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new us(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new Ee(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{On(f.programIdIndex>=0),f.accounts.forEach(g=>On(g>=0))}),new fd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=OH(r,s.secretKey);this._addSignature(s.publicKey,Zr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){On(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):Y4e(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];$u(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return On(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(On(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),On(i.length<=Ny,`Transaction too large: ${i.length} > ${Ny}`),i}get keys(){return On(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return On(this.instructions.length===1),this.instructions[0].programId}get data(){return On(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=Qc(t);let s=[];for(let i=0;i<r;i++){const o=eu(t,0,tM);s.push(Ie.encode(V.Buffer.from(o)))}return Dn.populate(fd.from(t),s)}static populate(e,t=[]){const r=new Dn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(iKe)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new us({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class FH{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;On(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;On(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new us({programId:g,data:Zr(m.data),keys:f}))}return new FH({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return fd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return Q1.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class UH{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)On(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(tM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();$u(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(eKe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=Qc(t);for(let o=0;o<s;o++)r.push(new Uint8Array(eu(t,0,tM)));const i=NH.deserialize(new Uint8Array(t));return new UH(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));On(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=OH(t,s.secretKey)}}addSignature(e,t){On(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));On(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const oKe=160,aKe=64,cKe=oKe/aKe,_1e=1e3/cKe,Xd=new Ee("SysvarC1ock11111111111111111111111111111111"),uKe=new Ee("SysvarEpochSchedu1e111111111111111111111111"),lKe=new Ee("Sysvar1nstructions1111111111111111111111111"),gD=new Ee("SysvarRecentB1ockHashes11111111111111111111"),eS=new Ee("SysvarRent111111111111111111111111111111111"),dKe=new Ee("SysvarRewards111111111111111111111111111111"),fKe=new Ee("SysvarS1otHashes111111111111111111111111111"),hKe=new Ee("SysvarS1otHistory11111111111111111111111111"),mD=new Ee("SysvarStakeHistory1111111111111111111111111");class Up extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const gKe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class jt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function _V(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new Up({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function e1(n){return new Promise(e=>setTimeout(e,n))}function En(n,e){const t=n.layout.span>=0?n.layout.span:I1e(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function Qn(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const E1e=Ae("lamportsPerSignature"),x1e=F([U("version"),U("state"),mn("authorizedPubkey"),mn("nonce"),F([E1e],"feeCalculator")]),nM=x1e.span;class p4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=x1e.decode(Zr(e),0);return new p4({authorizedPubkey:new Ee(t.authorizedPubkey),nonce:new Ee(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const mKe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},yKe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=mKe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return um(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},wA=yKe(8);class pKe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Bs))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=Qn(Bs.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Ee(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=Qn(Bs.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=Qn(Bs.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Ee(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=Qn(Bs.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=Qn(Bs.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ee(t),seed:r,space:s,programId:new Ee(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=Qn(Bs.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ee(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=Qn(Bs.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ee(t),seed:r,programId:new Ee(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=Qn(Bs.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ee(t),seed:r,lamports:s,space:i,programId:new Ee(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=Qn(Bs.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ee(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qn(Bs.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qn(Bs.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=Qn(Bs.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ee(t)}}static checkProgramId(e){if(!e.equals($o.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Bs=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),mn("programId")])},Assign:{index:1,layout:F([U("instruction"),mn("programId")])},Transfer:{index:2,layout:F([U("instruction"),wA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),mn("base"),A1("seed"),_e("lamports"),_e("space"),mn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),mn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),mn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),mn("base"),A1("seed"),_e("space"),mn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),mn("base"),A1("seed"),mn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),wA("lamports"),A1("seed"),mn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class $o{constructor(){}static createAccount(e){const t=Bs.Create,r=En(t,{lamports:e.lamports,space:e.space,programId:Zr(e.programId.toBuffer())});return new us({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Bs.TransferWithSeed;t=En(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Bs.Transfer;t=En(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Bs.AssignWithSeed;t=En(s,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Bs.Assign;t=En(s,{programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Bs.CreateWithSeed,r=En(t,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Zr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new us({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Dn;"basePubkey"in e&&"seed"in e?t.add($o.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:nM,programId:this.programId})):t.add($o.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:nM,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Bs.InitializeNonceAccount,r=En(t,{authorized:Zr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gD,isSigner:!1,isWritable:!1},{pubkey:eS,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new us(s)}static nonceAdvance(e){const t=Bs.AdvanceNonceAccount,r=En(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new us(s)}static nonceWithdraw(e){const t=Bs.WithdrawNonceAccount,r=En(t,{lamports:e.lamports});return new us({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:gD,isSigner:!1,isWritable:!1},{pubkey:eS,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Bs.AuthorizeNonceAccount,r=En(t,{authorized:Zr(e.newAuthorizedPubkey.toBuffer())});return new us({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Bs.AllocateWithSeed;t=En(s,{base:Zr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Zr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Bs.Allocate;t=En(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new us({keys:r,programId:this.programId,data:t})}}$o.programId=new Ee("11111111111111111111111111111111");const bKe=Ny-300;class tS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/tS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Dn,h.add($o.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Dn,h.add($o.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Dn,h.add($o.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Dn().add($o.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await _V(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=tS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Dn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(_V(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await e1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Dn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:eS,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(_1e/2)))}}return!0}}tS.chunkSize=bKe;const SKe=new Ee("BPFLoader2111111111111111111111111111111111");class kKe{static getMinNumSignatures(e){return tS.getMinNumSignatures(e)}static load(e,t,r,s,i){return tS.load(e,t,r,i,s)}}function vKe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var N5,Wue;function AKe(){if(Wue)return N5;Wue=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return N5=function(r){var s=t(r,!1);if(s!==void 0)return""+s},N5}var wKe=AKe(),Nue=vKe(wKe);const pR=32;function F5(n){let e=0;for(;n>1;)n/=2,e++;return e}function IKe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class T1e{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=F5(IKe(e+pR+1))-F5(pR)-1,r=this.getSlotsInEpoch(t),s=e-(r-pR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*pR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+F5(pR)):this.slotsPerEpoch}}var PKe=globalThis.fetch;class _Ke extends Bb{constructor(e,t,r){const s=i=>{const o=$b(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function EKe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Fue=56;class EV{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=EKe(xKe,e),r=e.length-Fue;On(r>=0,"lookup table is invalid"),On(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(mn(),s,"addresses")]).decode(e.slice(Fue));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new Ee(t.authority[0]):void 0,addresses:i.map(o=>new Ee(o))}}}const xKe={index:1,layout:F([U("typeIndex"),wA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(mn(),Vt(te(),-1),"authority")])},TKe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function RKe(n){const e=n.match(TKe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Ni=CB(zH(Ee),Ve(),n=>new Ee(n)),R1e=$H([Ve(),wi("base64")]),VH=CB(zH(V.Buffer),R1e,n=>V.Buffer.from(n[0],"base64")),C1e=30*1e3;function CKe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ps(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Uue(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function M1e(n){return Tc([xe({jsonrpc:wi("2.0"),id:Ve(),result:n}),xe({jsonrpc:wi("2.0"),id:Ve(),error:xe({code:zx(),message:Ve(),data:ur(E4e())})})])}const MKe=M1e(zx());function Nr(n){return CB(M1e(n),MKe,e=>"error"in e?e:{...e,result:dt(e.result,n)})}function ao(n){return Nr(xe({context:xe({slot:fe()}),value:n}))}function b4(n){return xe({context:xe({slot:fe()}),value:n})}function U5(n,e){return n===0?new Q1({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new Ee(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new fd(e)}const BKe=xe({foundation:fe(),foundationTerm:fe(),initial:fe(),taper:fe(),terminal:fe()}),zKe=Nr(kt(xt(xe({epoch:fe(),effectiveSlot:fe(),amount:fe(),postBalance:fe(),commission:ur(xt(fe()))})))),$Ke=kt(xe({slot:fe(),prioritizationFee:fe()})),DKe=xe({total:fe(),validator:fe(),foundation:fe(),epoch:fe()}),OKe=xe({epoch:fe(),slotIndex:fe(),slotsInEpoch:fe(),absoluteSlot:fe(),blockHeight:ur(fe()),transactionCount:ur(fe())}),KKe=xe({slotsPerEpoch:fe(),leaderScheduleSlotOffset:fe(),warmup:Jf(),firstNormalEpoch:fe(),firstNormalSlot:fe()}),LKe=m1e(Ve(),kt(fe())),GS=xt(Tc([xe({}),Ve()])),WKe=xe({err:GS}),NKe=wi("receivedSignature"),FKe=xe({"solana-core":Ve(),"feature-set":ur(fe())}),UKe=xe({program:Ve(),programId:Ni,parsed:zx()}),VKe=xe({programId:Ni,accounts:kt(Ni),data:Ve()}),Vue=ao(xe({err:xt(Tc([xe({}),Ve()])),logs:xt(kt(Ve())),accounts:ur(xt(kt(xt(xe({executable:Jf(),owner:Ve(),lamports:fe(),data:kt(Ve()),rentEpoch:ur(fe())}))))),unitsConsumed:ur(fe()),returnData:ur(xt(xe({programId:Ve(),data:$H([Ve(),wi("base64")])}))),innerInstructions:ur(xt(kt(xe({index:fe(),instructions:kt(Tc([UKe,VKe]))}))))})),qKe=ao(xe({byIdentity:m1e(Ve(),kt(fe())),range:xe({firstSlot:fe(),lastSlot:fe()})}));function jKe(n,e,t,r,s,i){const o=t||PKe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new zb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},H6e)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await e1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function HKe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function GKe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const YKe=Nr(BKe),ZKe=Nr(DKe),JKe=Nr($Ke),XKe=Nr(OKe),QKe=Nr(KKe),e6e=Nr(LKe),t6e=Nr(fe()),r6e=ao(xe({total:fe(),circulating:fe(),nonCirculating:fe(),nonCirculatingAccounts:kt(Ni)})),xV=xe({amount:Ve(),uiAmount:xt(fe()),decimals:fe(),uiAmountString:ur(Ve())}),n6e=ao(kt(xe({address:Ni,amount:Ve(),uiAmount:xt(fe()),decimals:fe(),uiAmountString:ur(Ve())}))),s6e=ao(kt(xe({pubkey:Ni,account:xe({executable:Jf(),owner:Ni,lamports:fe(),data:VH,rentEpoch:fe()})}))),TV=xe({program:Ve(),parsed:zx(),space:fe()}),i6e=ao(kt(xe({pubkey:Ni,account:xe({executable:Jf(),owner:Ni,lamports:fe(),data:TV,rentEpoch:fe()})}))),o6e=ao(kt(xe({lamports:fe(),address:Ni}))),sM=xe({executable:Jf(),owner:Ni,lamports:fe(),data:VH,rentEpoch:fe()}),a6e=xe({pubkey:Ni,account:sM}),c6e=CB(Tc([zH(V.Buffer),TV]),Tc([R1e,TV]),n=>Array.isArray(n)?dt(n,VH):n),RV=xe({executable:Jf(),owner:Ni,lamports:fe(),data:c6e,rentEpoch:fe()}),u6e=xe({pubkey:Ni,account:RV}),l6e=xe({state:Tc([wi("active"),wi("inactive"),wi("activating"),wi("deactivating")]),active:fe(),inactive:fe()}),d6e=Nr(kt(xe({signature:Ve(),slot:fe(),err:GS,memo:xt(Ve()),blockTime:ur(xt(fe()))}))),f6e=Nr(kt(xe({signature:Ve(),slot:fe(),err:GS,memo:xt(Ve()),blockTime:ur(xt(fe()))}))),h6e=xe({subscription:fe(),result:b4(sM)}),g6e=xe({pubkey:Ni,account:sM}),m6e=xe({subscription:fe(),result:b4(g6e)}),y6e=xe({parent:fe(),slot:fe(),root:fe()}),p6e=xe({subscription:fe(),result:y6e}),b6e=Tc([xe({type:Tc([wi("firstShredReceived"),wi("completed"),wi("optimisticConfirmation"),wi("root")]),slot:fe(),timestamp:fe()}),xe({type:wi("createdBank"),parent:fe(),slot:fe(),timestamp:fe()}),xe({type:wi("frozen"),slot:fe(),timestamp:fe(),stats:xe({numTransactionEntries:fe(),numSuccessfulTransactions:fe(),numFailedTransactions:fe(),maxTransactionsPerEntry:fe()})}),xe({type:wi("dead"),slot:fe(),timestamp:fe(),err:Ve()})]),S6e=xe({subscription:fe(),result:b6e}),k6e=xe({subscription:fe(),result:b4(Tc([WKe,NKe]))}),v6e=xe({subscription:fe(),result:fe()}),A6e=xe({pubkey:Ve(),gossip:xt(Ve()),tpu:xt(Ve()),rpc:xt(Ve()),version:xt(Ve())}),que=xe({votePubkey:Ve(),nodePubkey:Ve(),activatedStake:fe(),epochVoteAccount:Jf(),epochCredits:kt($H([fe(),fe(),fe()])),commission:fe(),lastVote:fe(),rootSlot:xt(fe())}),w6e=Nr(xe({current:kt(que),delinquent:kt(que)})),I6e=Tc([wi("processed"),wi("confirmed"),wi("finalized")]),P6e=xe({slot:fe(),confirmations:xt(fe()),err:GS,confirmationStatus:ur(I6e)}),_6e=ao(kt(xt(P6e))),E6e=Nr(fe()),B1e=xe({accountKey:Ni,writableIndexes:kt(fe()),readonlyIndexes:kt(fe())}),qH=xe({signatures:kt(Ve()),message:xe({accountKeys:kt(Ve()),header:xe({numRequiredSignatures:fe(),numReadonlySignedAccounts:fe(),numReadonlyUnsignedAccounts:fe()}),instructions:kt(xe({accounts:kt(fe()),data:Ve(),programIdIndex:fe()})),recentBlockhash:Ve(),addressTableLookups:ur(kt(B1e))})}),z1e=xe({pubkey:Ni,signer:Jf(),writable:Jf(),source:ur(Tc([wi("transaction"),wi("lookupTable")]))}),$1e=xe({accountKeys:kt(z1e),signatures:kt(Ve())}),D1e=xe({parsed:zx(),program:Ve(),programId:Ni}),O1e=xe({accounts:kt(Ni),data:Ve(),programId:Ni}),x6e=Tc([O1e,D1e]),T6e=Tc([xe({parsed:zx(),program:Ve(),programId:Ve()}),xe({accounts:kt(Ve()),data:Ve(),programId:Ve()})]),K1e=CB(x6e,T6e,n=>"accounts"in n?dt(n,O1e):dt(n,D1e)),L1e=xe({signatures:kt(Ve()),message:xe({accountKeys:kt(z1e),instructions:kt(K1e),recentBlockhash:Ve(),addressTableLookups:ur(xt(kt(B1e)))})}),eO=xe({accountIndex:fe(),mint:Ve(),owner:ur(Ve()),programId:ur(Ve()),uiTokenAmount:xV}),W1e=xe({writable:kt(Ni),readonly:kt(Ni)}),S4=xe({err:GS,fee:fe(),innerInstructions:ur(xt(kt(xe({index:fe(),instructions:kt(xe({accounts:kt(fe()),data:Ve(),programIdIndex:fe()}))})))),preBalances:kt(fe()),postBalances:kt(fe()),logMessages:ur(xt(kt(Ve()))),preTokenBalances:ur(xt(kt(eO))),postTokenBalances:ur(xt(kt(eO))),loadedAddresses:ur(W1e),computeUnitsConsumed:ur(fe())}),jH=xe({err:GS,fee:fe(),innerInstructions:ur(xt(kt(xe({index:fe(),instructions:kt(K1e)})))),preBalances:kt(fe()),postBalances:kt(fe()),logMessages:ur(xt(kt(Ve()))),preTokenBalances:ur(xt(kt(eO))),postTokenBalances:ur(xt(kt(eO))),loadedAddresses:ur(W1e),computeUnitsConsumed:ur(fe())}),$x=Tc([wi(0),wi("legacy")]),YS=xe({pubkey:Ve(),lamports:fe(),postBalance:xt(fe()),rewardType:xt(Ve()),commission:ur(xt(fe()))}),R6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:qH,meta:xt(S4),version:ur($x)})),rewards:ur(kt(YS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),C6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),rewards:ur(kt(YS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),M6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:$1e,meta:xt(S4),version:ur($x)})),rewards:ur(kt(YS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),B6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:L1e,meta:xt(jH),version:ur($x)})),rewards:ur(kt(YS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),z6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:$1e,meta:xt(jH),version:ur($x)})),rewards:ur(kt(YS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),$6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),rewards:ur(kt(YS)),blockTime:xt(fe()),blockHeight:xt(fe())}))),D6e=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),transactions:kt(xe({transaction:qH,meta:xt(S4)})),rewards:ur(kt(YS)),blockTime:xt(fe())}))),jue=Nr(xt(xe({blockhash:Ve(),previousBlockhash:Ve(),parentSlot:fe(),signatures:kt(Ve()),blockTime:xt(fe())}))),V5=Nr(xt(xe({slot:fe(),meta:xt(S4),blockTime:ur(xt(fe())),transaction:qH,version:ur($x)}))),n$=Nr(xt(xe({slot:fe(),transaction:L1e,meta:xt(jH),blockTime:ur(xt(fe())),version:ur($x)}))),O6e=ao(xe({blockhash:Ve(),feeCalculator:xe({lamportsPerSignature:fe()})})),K6e=ao(xe({blockhash:Ve(),lastValidBlockHeight:fe()})),L6e=ao(Jf()),W6e=xe({slot:fe(),numTransactions:fe(),numSlots:fe(),samplePeriodSecs:fe()}),N6e=Nr(kt(W6e)),F6e=ao(xt(xe({feeCalculator:xe({lamportsPerSignature:fe()})}))),U6e=Nr(Ve()),V6e=Nr(Ve()),q6e=xe({err:GS,logs:kt(Ve()),signature:Ve()}),j6e=xe({result:b4(q6e),subscription:fe()}),H6e={"solana-client":"js/1.0.0-maintenance"};class G6e{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ps(l),h=this._buildArgs([],d,void 0,y),m=Nue(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=dt(f,Nr(fe()));if("error"in g)throw new jt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=CKe(e),this._rpcWsEndpoint=r||RKe(e),this._rpcClient=jKe(e,s,i,o,a,c),this._rpcRequest=HKe(this._rpcClient),this._rpcBatchRequest=GKe(this._rpcClient),this._rpcWebSocket=new _Ke(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=dt(o,ao(fe()));if("error"in a)throw new jt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=dt(t,Nr(xt(fe())));if("error"in r)throw new jt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=dt(e,Nr(fe()));if("error"in t)throw new jt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=dt(e,t6e);if("error"in t)throw new jt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=dt(r,r6e);if("error"in s)throw new jt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=dt(s,ao(xV));if("error"in i)throw new jt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=dt(s,ao(xV));if("error"in i)throw new jt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ps(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=dt(c,s6e);if("error"in u)throw new jt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=dt(o,i6e);if("error"in a)throw new jt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=dt(s,o6e);if("error"in i)throw new jt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=dt(s,n6e);if("error"in i)throw new jt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=dt(o,ao(xt(sM)));if("error"in a)throw new jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=dt(o,ao(xt(RV)));if("error"in a)throw new jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=dt(a,ao(kt(xt(RV))));if("error"in c)throw new jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=dt(a,ao(kt(xt(sM))));if("error"in c)throw new jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ps(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=dt(a,Nr(l6e));if("error"in c)throw new jt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ps(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Uue(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=kt(a6e),l=o.withContext===!0?dt(c,ao(u)):dt(c,Nr(u));if("error"in l)throw new jt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=dt(o,Nr(kt(u6e)));if("error"in a)throw new jt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return On(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:mg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:mg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await e1(1e3),i||(h=await y(),i))return;d({__type:mg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===mg.PROCESSED)l=d.response;else throw new LH(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:mg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await e1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===mg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await e1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Iv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Iv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Iv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Iv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:mg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===mg.PROCESSED)a=c.response;else throw new WH(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=dt(e,Nr(kt(A6e)));if("error"in t)throw new jt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=dt(r,w6e);if("error"in s)throw new jt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=dt(i,Nr(fe()));if("error"in o)throw new jt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=dt(i,Nr(Ve()));if("error"in o)throw new jt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=dt(s,Nr(kt(Ni)));if("error"in i)throw new jt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);On(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=dt(s,_6e);if("error"in i)throw new jt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=dt(i,Nr(fe()));if("error"in o)throw new jt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=dt(r,YKe);if("error"in s)throw new jt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ps(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=dt(a,zKe);if("error"in c)throw new jt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=dt(e,ZKe);if("error"in t)throw new jt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=dt(i,XKe);if("error"in o)throw new jt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=dt(e,QKe);if("error"in t)throw new jt(t.error,"failed to get epoch schedule");const r=t.result;return new T1e(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=dt(e,e6e);if("error"in t)throw new jt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=dt(s,E6e);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=dt(r,O6e);if("error"in s)throw new jt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=dt(t,N6e);if("error"in r)throw new jt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=dt(s,F6e);if("error"in i)throw new jt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Zr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=dt(i,ao(xt(fe())));if("error"in o)throw new jt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=dt(s,JKe);if("error"in i)throw new jt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=dt(i,K6e);if("error"in o)throw new jt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=dt(o,L6e);if("error"in a)throw new jt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=dt(e,Nr(FKe));if("error"in t)throw new jt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=dt(e,Nr(Ve()));if("error"in t)throw new jt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=dt(o,M6e);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(o,C6e);if("error"in a)throw a.error;return a.result}default:{const a=dt(o,R6e);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:U5(d,u.message)},version:d}))}:null}}}catch(a){throw new jt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=dt(o,z6e);if("error"in a)throw a.error;return a.result}case"none":{const a=dt(o,$6e);if("error"in a)throw a.error;return a.result}default:{const a=dt(o,B6e);if("error"in a)throw a.error;return a.result}}}catch(a){throw new jt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=dt(i,qKe);if("error"in o)throw new jt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=dt(o,V5);if("error"in a)throw new jt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:U5(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ps(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=dt(o,n$);if("error"in a)throw new jt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=dt(c,n$);if("error"in u)throw new jt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ps(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=dt(c,V5);if("error"in u)throw new jt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:U5(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=dt(s,D6e);if("error"in i)throw new jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new fd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Dn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=dt(i,Nr(kt(fe())));if("error"in o)throw new jt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=dt(s,jue);if("error"in i)throw new jt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=dt(s,jue);if("error"in i)throw new jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=dt(s,V5);if("error"in i)throw new jt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new fd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Dn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=dt(s,n$);if("error"in i)throw new jt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=dt(o,n$);if("error"in a)throw new jt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=dt(i,d6e);if("error"in o)throw new jt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=dt(i,f6e);if("error"in o)throw new jt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new EV({key:e,state:EV.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=p4.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=dt(r,U6e);if("error"in s)throw new jt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await e1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=C1e;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await e1(_1e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ps(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=dt(i,ao(fe()));if("error"in o)throw new jt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=dt(p,Vue);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Dn){let m=e;s=new Dn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Dn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=dt(y,Vue);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new Up({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Zr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=dt(a,V6e);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new Up({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=dt(e,h6e);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Nue([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];On(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ps(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=dt(e,m6e);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ps(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Uue(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=dt(e,j6e);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=dt(e,p6e);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=dt(e,S6e);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=dt(e,k6e);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=dt(e,v6e);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Uv{constructor(e){this._keypair=void 0,this._keypair=e??Oue()}static generate(){return new Uv(Oue())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=QD(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Uv({publicKey:r,secretKey:e})}static fromSeed(e){const t=QD(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Uv({publicKey:t,secretKey:r})}get publicKey(){return new Ee(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const xg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),wA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),wA(),we(mn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class Y6e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(xg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=Qn(xg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=Qn(xg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new Ee(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(HH.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class HH{constructor(){}static createLookupTable(e){const[t,r]=Ee.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=xg.CreateLookupTable,i=En(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:$o.programId,isSigner:!1,isWritable:!1}];return[new us({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=xg.FreezeLookupTable,r=En(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new us({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=xg.ExtendLookupTable,r=En(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:$o.programId,isSigner:!1,isWritable:!1}),new us({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=xg.DeactivateLookupTable,r=En(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new us({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=xg.CloseLookupTable,r=En(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new us({programId:this.programId,keys:s,data:r})}}HH.programId=new Ee("AddressLookupTab1e1111111111111111111111111");class Z6e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ff))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=Qn(ff.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=Qn(ff.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=Qn(ff.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=Qn(ff.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(GH.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const ff=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),wA("microLamports")])}});class GH{constructor(){}static requestUnits(e){const t=ff.RequestUnits,r=En(t,e);return new us({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=ff.RequestHeapFrame,r=En(t,e);return new us({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=ff.SetComputeUnitLimit,r=En(t,e);return new us({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=ff.SetComputeUnitPrice,r=En(t,{microLamports:BigInt(e.microLamports)});return new us({keys:[],programId:this.programId,data:r})}}GH.programId=new Ee("ComputeBudget111111111111111111111111111111");const Hue=64,Gue=32,Yue=64,Zue=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class k4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;On(t.length===Gue,`Public Key must be ${Gue} bytes but received ${t.length} bytes`),On(s.length===Yue,`Signature must be ${Yue} bytes but received ${s.length} bytes`);const o=Zue.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Zue.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new us({keys:[],programId:k4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;On(t.length===Hue,`Private key must be ${Hue} bytes but received ${t.length} bytes`);try{const i=Uv.fromSecretKey(t),o=i.publicKey.toBytes(),a=OH(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}k4.programId=new Ee("Ed25519SigVerify111111111111111111111111111");const J6e=(n,e)=>{const t=g4.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};g4.utils.isValidPrivateKey;const X6e=g4.getPublicKey,Jue=32,q5=20,Xue=64,Q6e=11,j5=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Vv{constructor(){}static publicKeyToEthAddress(e){On(e.length===Xue,`Public key must be ${Xue} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Mue(Zr(e))).slice(-q5)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Vv.createInstructionWithEthAddress({ethAddress:Vv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,On(a.length===q5,`Address must be ${q5} bytes but received ${a.length} bytes`);const c=1+Q6e,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(j5.span+r.length);return j5.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Zr(s),ethAddress:Zr(a),recoveryId:i},h),h.fill(Zr(r),j5.span),new us({keys:[],programId:Vv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;On(t.length===Jue,`Private key must be ${Jue} bytes but received ${t.length} bytes`);try{const i=Zr(t),o=X6e(i,!1).slice(1),a=V.Buffer.from(Mue(Zr(r))),[c,u]=J6e(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Vv.programId=new Ee("KeccakSecp256k11111111111111111111111111111");var N1e;const F1e=new Ee("StakeConfig11111111111111111111111111111111");class U1e{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class MB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}N1e=MB;MB.default=new N1e(0,0,Ee.default);class eLe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ba))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=Qn(ba.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new U1e(new Ee(t.staker),new Ee(t.withdrawer)),lockup:new MB(r.unixTimestamp,r.epoch,new Ee(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),Qn(ba.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=Qn(ba.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ee(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=Qn(ba.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new Ee(i),newAuthorizedPubkey:new Ee(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qn(ba.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qn(ba.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=Qn(ba.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),Qn(ba.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(v4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ba=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),tKe(),rKe()])},Authorize:{index:1,layout:F([U("instruction"),mn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),mn("newAuthorized"),U("stakeAuthorizationType"),A1("authoritySeed"),mn("authorityOwner")])}}),tLe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class v4{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||MB.default,o=ba.Initialize,a=En(o,{authorized:{staker:Zr(r.staker.toBuffer()),withdrawer:Zr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Zr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eS,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new us(c)}static createAccountWithSeed(e){const t=new Dn;t.add($o.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Dn;t.add($o.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=ba.Delegate,o=En(i);return new Dn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:mD,isSigner:!1,isWritable:!1},{pubkey:F1e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=ba.Authorize,c=En(a,{newAuthorized:Zr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Dn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=ba.AuthorizeWithSeed,l=En(u,{newAuthorized:Zr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Zr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Xd,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Dn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=ba.Split,a=En(o,{lamports:i});return new us({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Dn;return r.add($o.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Dn;return u.add($o.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add($o.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=ba.Merge,o=En(i);return new Dn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:mD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=ba.Withdraw,c=En(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:mD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Dn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=ba.Deactivate,i=En(s);return new Dn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}v4.programId=new Ee("Stake11111111111111111111111111111111111111");v4.space=200;class V1e{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class rLe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(hf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=Qn(hf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new V1e(new Ee(t.nodePubkey),new Ee(t.authorizedVoter),new Ee(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=Qn(hf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ee(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=Qn(hf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ee(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Ee(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=Qn(hf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Dx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const hf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),nKe()])},Authorize:{index:1,layout:F([U("instruction"),mn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),sKe()])}}),nLe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Dx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=hf.InitializeAccount,o=En(i,{voteInit:{nodePubkey:Zr(s.nodePubkey.toBuffer()),authorizedVoter:Zr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Zr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:eS,isSigner:!1,isWritable:!1},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new us(a)}static createAccount(e){const t=new Dn;return t.add($o.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=hf.Authorize,a=En(o,{newAuthorized:Zr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=hf.AuthorizeWithSeed,u=En(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Zr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Zr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Xd,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Dn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=hf.Withdraw,a=En(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Dx.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=hf.UpdateValidatorIdentity,o=En(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Dn().add({keys:a,programId:this.programId,data:o})}}Dx.programId=new Ee("Vote111111111111111111111111111111111111111");Dx.space=3762;const q1e=new Ee("Va1idator1nfo111111111111111111111111111111"),sLe=xe({name:Ve(),website:ur(Ve()),details:ur(Ve()),iconUrl:ur(Ve()),keybaseUsername:ur(Ve())});class YH{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(Qc(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new Ee(eu(t,0,Wf)),a=df(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(q1e)&&s[1].isSigner){const i=A1().decode(V.Buffer.from(t)),o=JSON.parse(i);return h1e(o,sLe),new YH(s[1].publicKey,o)}return null}}const iLe=new Ee("Vote111111111111111111111111111111111111111"),oLe=F([mn("nodePubkey"),mn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),mn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([mn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class ZH{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=oLe.decode(Zr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new ZH({nodePubkey:new Ee(r.nodePubkey),authorizedWithdrawer:new Ee(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(aLe),priorVoters:cLe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function aLe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new Ee(n)}}function Que({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new Ee(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function cLe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Que),...n.slice(0,e).map(Que)]}const ele={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function uLe(n,e){const t=e===!1?"http":"https";if(!n)return ele[t].devnet;const r=ele[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function lLe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new Up({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const dLe=1e9;var fLe=Object.freeze(Object.defineProperty({__proto__:null,Account:X4e,AddressLookupTableAccount:EV,AddressLookupTableInstruction:Y6e,AddressLookupTableProgram:HH,Authorized:U1e,BLOCKHASH_CACHE_TIMEOUT_MS:C1e,BPF_LOADER_DEPRECATED_PROGRAM_ID:Q4e,BPF_LOADER_PROGRAM_ID:SKe,BpfLoader:kKe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:ff,ComputeBudgetInstruction:Z6e,ComputeBudgetProgram:GH,Connection:G6e,Ed25519Program:k4,Enum:Z4e,EpochSchedule:T1e,FeeCalculatorLayout:E1e,Keypair:Uv,LAMPORTS_PER_SOL:dLe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:xg,Loader:tS,Lockup:MB,MAX_SEED_LENGTH:w1e,Message:fd,MessageAccountKeys:rM,MessageV0:Q1,NONCE_ACCOUNT_LENGTH:nM,NonceAccount:p4,PACKET_DATA_SIZE:Ny,PUBLIC_KEY_LENGTH:Wf,PublicKey:Ee,SIGNATURE_LENGTH_IN_BYTES:tM,SOLANA_SCHEMA:B2,STAKE_CONFIG_ID:F1e,STAKE_INSTRUCTION_LAYOUTS:ba,SYSTEM_INSTRUCTION_LAYOUTS:Bs,SYSVAR_CLOCK_PUBKEY:Xd,SYSVAR_EPOCH_SCHEDULE_PUBKEY:uKe,SYSVAR_INSTRUCTIONS_PUBKEY:lKe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:gD,SYSVAR_RENT_PUBKEY:eS,SYSVAR_REWARDS_PUBKEY:dKe,SYSVAR_SLOT_HASHES_PUBKEY:fKe,SYSVAR_SLOT_HISTORY_PUBKEY:hKe,SYSVAR_STAKE_HISTORY_PUBKEY:mD,Secp256k1Program:Vv,SendTransactionError:Up,SolanaJSONRPCError:jt,SolanaJSONRPCErrorCode:gKe,StakeAuthorizationLayout:tLe,StakeInstruction:eLe,StakeProgram:v4,Struct:KH,SystemInstruction:pKe,SystemProgram:$o,Transaction:Dn,TransactionExpiredBlockheightExceededError:LH,TransactionExpiredNonceInvalidError:Iv,TransactionExpiredTimeoutError:WH,TransactionInstruction:us,TransactionMessage:FH,TransactionStatus:mg,VALIDATOR_INFO_KEY:q1e,VERSION_PREFIX_MASK:m4,VOTE_PROGRAM_ID:iLe,ValidatorInfo:YH,VersionedMessage:NH,VersionedTransaction:UH,VoteAccount:ZH,VoteAuthorizationLayout:nLe,VoteInit:V1e,VoteInstruction:rLe,VoteProgram:Dx,clusterApiUrl:uLe,sendAndConfirmRawTransaction:lLe,sendAndConfirmTransaction:_V},Symbol.toStringTag,{value:"Module"})),xr={};function tO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function JH(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function hLe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");tO(n.outputLen),tO(n.blockLen)}function IA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function j1e(n,e){JH(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const H5=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H1e=n=>n instanceof Uint8Array,gLe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),G5=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),zd=(n,e)=>n<<32-e|n>>>e,mLe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mLe)throw new Error("Non little-endian hardware is not supported");function G1e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function A4(n){if(typeof n=="string"&&(n=G1e(n)),!H1e(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function Y1e(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!H1e(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class XH{clone(){return this._cloneInto()}}function QH(n){const e=r=>n().update(A4(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Z1e(n=32){if(H5&&typeof H5.getRandomValues=="function")return H5.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function yLe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}class J1e extends XH{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=G5(this.buffer)}update(e){IA(this);const{view:t,buffer:r,blockLen:s}=this;e=A4(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=G5(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){IA(this),j1e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;yLe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=G5(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const s$=BigInt(2**32-1),CV=BigInt(32);function X1e(n,e=!1){return e?{h:Number(n&s$),l:Number(n>>CV&s$)}:{h:Number(n>>CV&s$)|0,l:Number(n&s$)|0}}function Q1e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=X1e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const pLe=(n,e)=>BigInt(n>>>0)<<CV|BigInt(e>>>0),bLe=(n,e,t)=>n>>>t,SLe=(n,e,t)=>n<<32-t|e>>>t,kLe=(n,e,t)=>n>>>t|e<<32-t,vLe=(n,e,t)=>n<<32-t|e>>>t,ALe=(n,e,t)=>n<<64-t|e>>>t-32,wLe=(n,e,t)=>n>>>t-32|e<<64-t,ILe=(n,e)=>e,PLe=(n,e)=>n,eSe=(n,e,t)=>n<<t|e>>>32-t,tSe=(n,e,t)=>e<<t|n>>>32-t,rSe=(n,e,t)=>e<<t-32|n>>>64-t,nSe=(n,e,t)=>n<<t-32|e>>>64-t;function _Le(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const ELe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),xLe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,TLe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),RLe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,CLe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),MLe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,BLe={fromBig:X1e,split:Q1e,toBig:pLe,shrSH:bLe,shrSL:SLe,rotrSH:kLe,rotrSL:vLe,rotrBH:ALe,rotrBL:wLe,rotr32H:ILe,rotr32L:PLe,rotlSH:eSe,rotlSL:tSe,rotlBH:rSe,rotlBL:nSe,add:_Le,add3L:ELe,add3H:xLe,add4L:TLe,add4H:RLe,add5H:MLe,add5L:CLe};var Cr=BLe;const[zLe,$Le]=(()=>Cr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Im=new Uint32Array(80),Pm=new Uint32Array(80);class DLe extends J1e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Im[p]=e.getUint32(t),Pm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Im[p-15]|0,w=Pm[p-15]|0,A=Cr.rotrSH(I,w,1)^Cr.rotrSH(I,w,8)^Cr.shrSH(I,w,7),_=Cr.rotrSL(I,w,1)^Cr.rotrSL(I,w,8)^Cr.shrSL(I,w,7),E=Im[p-2]|0,M=Pm[p-2]|0,P=Cr.rotrSH(E,M,19)^Cr.rotrBH(E,M,61)^Cr.shrSH(E,M,6),R=Cr.rotrSL(E,M,19)^Cr.rotrBL(E,M,61)^Cr.shrSL(E,M,6),$=Cr.add4L(_,R,Pm[p-7],Pm[p-16]),z=Cr.add4H($,A,P,Im[p-7],Im[p-16]);Im[p]=z|0,Pm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Cr.rotrSH(d,y,14)^Cr.rotrSH(d,y,18)^Cr.rotrBH(d,y,41),w=Cr.rotrSL(d,y,14)^Cr.rotrSL(d,y,18)^Cr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Cr.add5L(S,w,_,$Le[p],Pm[p]),M=Cr.add5H(E,b,I,A,zLe[p],Im[p]),P=E|0,R=Cr.rotrSH(r,s,28)^Cr.rotrBH(r,s,34)^Cr.rotrBH(r,s,39),$=Cr.rotrSL(r,s,28)^Cr.rotrBL(r,s,34)^Cr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Cr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Cr.add3L(P,$,T);r=Cr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Cr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Cr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Cr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Cr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Cr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Cr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Cr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Cr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Im.fill(0),Pm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sSe=QH(()=>new DLe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iSe=BigInt(0),w4=BigInt(1),OLe=BigInt(2),I4=n=>n instanceof Uint8Array,KLe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function rS(n){if(!I4(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=KLe[n[t]];return e}function oSe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function eG(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function PA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const s=r*2,i=n.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function F1(n){return eG(rS(n))}function qv(n){if(!I4(n))throw new Error("Uint8Array expected");return eG(rS(Uint8Array.from(n).reverse()))}function _A(n,e){return PA(n.toString(16).padStart(e*2,"0"))}function iM(n,e){return _A(n,e).reverse()}function LLe(n){return PA(oSe(n))}function Xo(n,e,t){let r;if(typeof e=="string")try{r=PA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(I4(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function nS(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!I4(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function WLe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function NLe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function FLe(n){let e;for(e=0;n>iSe;n>>=w4,e+=1);return e}function ULe(n,e){return n>>BigInt(e)&w4}const VLe=(n,e,t)=>n|(t?w4:iSe)<<BigInt(e),tG=n=>(OLe<<BigInt(n-1))-w4,Y5=n=>new Uint8Array(n),tle=n=>Uint8Array.from(n);function aSe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=Y5(n),s=Y5(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=Y5())=>{s=a(tle([0]),d),r=a(),d.length!==0&&(s=a(tle([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return nS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const qLe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Ox(n,e,t={}){const r=(s,i,o)=>{const a=qLe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}var jLe=Object.freeze(Object.defineProperty({__proto__:null,bytesToHex:rS,numberToHexUnpadded:oSe,hexToNumber:eG,hexToBytes:PA,bytesToNumberBE:F1,bytesToNumberLE:qv,numberToBytesBE:_A,numberToBytesLE:iM,numberToVarBytesBE:LLe,ensureBytes:Xo,concatBytes:nS,equalBytes:WLe,utf8ToBytes:NLe,bitLen:FLe,bitGet:ULe,bitSet:VLe,bitMask:tG,createHmacDrbg:aSe,validateObject:Ox},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ha=BigInt(0),Bi=BigInt(1),t1=BigInt(2),HLe=BigInt(3),MV=BigInt(4),rle=BigInt(5),nle=BigInt(8);BigInt(9);BigInt(16);function fi(n,e){const t=n%e;return t>=Ha?t:e+t}function GLe(n,e,t){if(t<=Ha||e<Ha)throw new Error("Expected power/modulo > 0");if(t===Bi)return Ha;let r=Bi;for(;e>Ha;)e&Bi&&(r=r*n%t),n=n*n%t,e>>=Bi;return r}function Ji(n,e,t){let r=n;for(;e-- >Ha;)r*=r,r%=t;return r}function BV(n,e){if(n===Ha||e<=Ha)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=fi(n,e),r=e,s=Ha,i=Bi;for(;t!==Ha;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Bi)throw new Error("invert: does not exist");return fi(s,e)}function YLe(n){const e=(n-Bi)/t1;let t,r,s;for(t=n-Bi,r=0;t%t1===Ha;t/=t1,r++);for(s=t1;s<n&&GLe(s,e,n)!==n-Bi;s++);if(r===1){const o=(n+Bi)/MV;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Bi)/t1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Bi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function ZLe(n){if(n%MV===HLe){const e=(n+Bi)/MV;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%nle===rle){const e=(n-rle)/nle;return function(r,s){const i=r.mul(s,t1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,t1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return YLe(n)}const JLe=(n,e)=>(fi(n,e)&Bi)===Bi,XLe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function QLe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=XLe.reduce((r,s)=>(r[s]="function",r),e);return Ox(n,t)}function e5e(n,e,t){if(t<Ha)throw new Error("Expected power > 0");if(t===Ha)return n.ONE;if(t===Bi)return e;let r=n.ONE,s=e;for(;t>Ha;)t&Bi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Bi;return r}function t5e(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function cSe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function uSe(n,e,t=!1,r={}){if(n<=Ha)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=cSe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=ZLe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:tG(s),ZERO:Ha,ONE:Bi,create:c=>fi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ha<=c&&c<n},is0:c=>c===Ha,isOdd:c=>(c&Bi)===Bi,neg:c=>fi(-c,n),eql:(c,u)=>c===u,sqr:c=>fi(c*c,n),add:(c,u)=>fi(c+u,n),sub:(c,u)=>fi(c-u,n),mul:(c,u)=>fi(c*u,n),pow:(c,u)=>e5e(a,c,u),div:(c,u)=>fi(c*BV(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>BV(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>t5e(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?iM(c,i):_A(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?qv(c):F1(c)}});return Object.freeze(a)}function r5e(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function lSe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function dSe(n){const e=lSe(n);return e+Math.ceil(e/2)}function n5e(n,e,t=!1){const r=n.length,s=lSe(e),i=dSe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?F1(n):qv(n),a=fi(o,e-Bi)+Bi;return t?iM(a,s):_A(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s5e=BigInt(0),Z5=BigInt(1);function fSe(n,e){const t=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=n.ZERO,a=s;for(;i>s5e;)i&Z5&&(o=o.add(a)),a=a.double(),i>>=Z5;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),c=[];let u=s,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let y=1;y<a;y++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(s,i,o){const{windows:a,windowSize:c}=r(s);let u=n.ZERO,l=n.BASE;const d=BigInt(2**s-1),y=2**s,h=BigInt(s);for(let m=0;m<a;m++){const f=m*c;let g=Number(o&d);o>>=h,g>c&&(g-=y,o+=Z5);const b=f,S=f+Math.abs(g)-1,p=m%2!==0,I=g<0;g===0?l=l.add(t(p,i[b])):u=u.add(t(I,i[S]))}return{p:u,f:l}},wNAFCached(s,i,o,a){const c=s._WINDOW_SIZE||1;let u=i.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&i.set(s,a(u))),this.wNAF(c,u,o)}}}function rG(n){return QLe(n.Fp),Ox(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cSe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zl=BigInt(0),_u=BigInt(1),i$=BigInt(2),i5e=BigInt(8),o5e={zip215:!0};function a5e(n){const e=rG(n);return Ox(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function nG(n){const e=a5e(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=i$<<BigInt(a*8)-_u,l=t.create,d=e.uvRatio||((C,B)=>{try{return{isValid:!0,value:t.sqrt(C*t.inv(B))}}catch{return{isValid:!1,value:zl}}}),y=e.adjustScalarBytes||(C=>C),h=e.domain||((C,B,O)=>{if(B.length||O)throw new Error("Contexts/pre-hash are not supported");return C}),m=C=>typeof C=="bigint"&&zl<C,f=(C,B)=>m(C)&&m(B)&&C<B,g=C=>C===zl||f(C,u);function b(C,B){if(f(C,B))return C;throw new Error(`Expected valid scalar < ${B}, got ${typeof C} ${C}`)}function S(C){return C===zl?C:b(C,r)}const p=new Map;function I(C){if(!(C instanceof w))throw new Error("ExtendedPoint expected")}class w{constructor(B,O,D,W){if(this.ex=B,this.ey=O,this.ez=D,this.et=W,!g(B))throw new Error("x required");if(!g(O))throw new Error("y required");if(!g(D))throw new Error("z required");if(!g(W))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(B){if(B instanceof w)throw new Error("extended point not allowed");const{x:O,y:D}=B||{};if(!g(O)||!g(D))throw new Error("invalid affine point");return new w(O,D,_u,l(O*D))}static normalizeZ(B){const O=t.invertBatch(B.map(D=>D.ez));return B.map((D,W)=>D.toAffine(O[W])).map(w.fromAffine)}_setWindowSize(B){this._WINDOW_SIZE=B,p.delete(this)}assertValidity(){const{a:B,d:O}=e;if(this.is0())throw new Error("bad point: ZERO");const{ex:D,ey:W,ez:L,et:N}=this,H=l(D*D),J=l(W*W),Q=l(L*L),Y=l(Q*Q),X=l(H*B),re=l(Q*l(X+J)),se=l(Y+l(O*l(H*J)));if(re!==se)throw new Error("bad point: equation left != right (1)");const ee=l(D*W),ne=l(L*N);if(ee!==ne)throw new Error("bad point: equation left != right (2)")}equals(B){I(B);const{ex:O,ey:D,ez:W}=this,{ex:L,ey:N,ez:H}=B,J=l(O*H),Q=l(L*W),Y=l(D*H),X=l(N*W);return J===Q&&Y===X}is0(){return this.equals(w.ZERO)}negate(){return new w(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:B}=e,{ex:O,ey:D,ez:W}=this,L=l(O*O),N=l(D*D),H=l(i$*l(W*W)),J=l(B*L),Q=O+D,Y=l(l(Q*Q)-L-N),X=J+N,re=X-H,se=J-N,ee=l(Y*re),ne=l(X*se),ve=l(Y*se),Pe=l(re*X);return new w(ee,ne,Pe,ve)}add(B){I(B);const{a:O,d:D}=e,{ex:W,ey:L,ez:N,et:H}=this,{ex:J,ey:Q,ez:Y,et:X}=B;if(O===BigInt(-1)){const Ue=l((L-W)*(Q+J)),Wt=l((L+W)*(Q-J)),sr=l(Wt-Ue);if(sr===zl)return this.double();const rr=l(N*i$*X),pr=l(H*i$*Y),wr=pr+rr,ls=Wt+Ue,gn=pr-rr,ds=l(wr*sr),ol=l(ls*gn),Gb=l(wr*gn),z5=l(sr*ls);return new w(ds,ol,z5,Gb)}const re=l(W*J),se=l(L*Q),ee=l(H*D*X),ne=l(N*Y),ve=l((W+L)*(J+Q)-re-se),Pe=ne-ee,Le=ne+ee,We=l(se-O*re),Ft=l(ve*Pe),Lt=l(Le*We),Dt=l(ve*We),et=l(Pe*Le);return new w(Ft,Lt,et,Dt)}subtract(B){return this.add(B.negate())}wNAF(B){return E.wNAFCached(this,p,B,w.normalizeZ)}multiply(B){const{p:O,f:D}=this.wNAF(b(B,r));return w.normalizeZ([O,D])[0]}multiplyUnsafe(B){let O=S(B);return O===zl?_:this.equals(_)||O===_u?this:this.equals(A)?this.wNAF(O).p:E.unsafeLadder(this,O)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return E.unsafeLadder(this,r).is0()}toAffine(B){const{ex:O,ey:D,ez:W}=this,L=this.is0();B==null&&(B=L?i5e:t.inv(W));const N=l(O*B),H=l(D*B),J=l(W*B);if(L)return{x:zl,y:_u};if(J!==_u)throw new Error("invZ was invalid");return{x:N,y:H}}clearCofactor(){const{h:B}=e;return B===_u?this:this.multiplyUnsafe(B)}static fromHex(B,O=!1){const{d:D,a:W}=e,L=t.BYTES;B=Xo("pointHex",B,L);const N=B.slice(),H=B[L-1];N[L-1]=H&-129;const J=qv(N);J===zl||(O?b(J,u):b(J,t.ORDER));const Q=l(J*J),Y=l(Q-_u),X=l(D*Q-W);let{isValid:re,value:se}=d(Y,X);if(!re)throw new Error("Point.fromHex: invalid y coordinate");const ee=(se&_u)===_u,ne=(H&128)!==0;if(!O&&se===zl&&ne)throw new Error("Point.fromHex: x=0 and x_0=1");return ne!==ee&&(se=l(-se)),w.fromAffine({x:se,y:J})}static fromPrivateKey(B){return R(B).point}toRawBytes(){const{x:B,y:O}=this.toAffine(),D=iM(O,t.BYTES);return D[D.length-1]|=B&_u?128:0,D}toHex(){return rS(this.toRawBytes())}}w.BASE=new w(e.Gx,e.Gy,_u,l(e.Gx*e.Gy)),w.ZERO=new w(zl,_u,_u,zl);const{BASE:A,ZERO:_}=w,E=fSe(w,a*8);function M(C){return fi(C,r)}function P(C){return M(qv(C))}function R(C){const B=a;C=Xo("private key",C,B);const O=Xo("hashed private key",i(C),2*B),D=y(O.slice(0,B)),W=O.slice(B,2*B),L=P(D),N=A.multiply(L),H=N.toRawBytes();return{head:D,prefix:W,scalar:L,point:N,pointBytes:H}}function $(C){return R(C).pointBytes}function z(C=new Uint8Array,...B){const O=nS(...B);return P(i(h(O,Xo("context",C),!!s)))}function T(C,B,O={}){C=Xo("message",C),s&&(C=s(C));const{prefix:D,scalar:W,pointBytes:L}=R(B),N=z(O.context,D,C),H=A.multiply(N).toRawBytes(),J=z(O.context,H,L,C),Q=M(N+J*W);S(Q);const Y=nS(H,iM(Q,t.BYTES));return Xo("result",Y,a*2)}const v=o5e;function k(C,B,O,D=v){const{context:W,zip215:L}=D,N=t.BYTES;C=Xo("signature",C,2*N),B=Xo("message",B),s&&(B=s(B));const H=qv(C.slice(N,2*N));let J,Q,Y;try{J=w.fromHex(O,L),Q=w.fromHex(C.slice(0,N),L),Y=A.multiplyUnsafe(H)}catch{return!1}if(!L&&J.isSmallOrder())return!1;const X=z(W,Q.toRawBytes(),J.toRawBytes(),B);return Q.add(J.multiplyUnsafe(X)).subtract(Y).clearCofactor().equals(w.ZERO)}return A._setWindowSize(8),{CURVE:e,getPublicKey:$,sign:T,verify:k,ExtendedPoint:w,utils:{getExtendedPublicKey:R,randomPrivateKey:()=>o(t.BYTES),precompute(C=8,B=w.BASE){return B._setWindowSize(C),B.multiply(BigInt(3)),B}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sG=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),sle=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const c5e=BigInt(1),zV=BigInt(2),u5e=BigInt(5),ile=BigInt(10),l5e=BigInt(20),d5e=BigInt(40),ole=BigInt(80);function f5e(n){const e=sG,r=n*n%e*n%e,s=Ji(r,zV,e)*r%e,i=Ji(s,c5e,e)*n%e,o=Ji(i,u5e,e)*i%e,a=Ji(o,ile,e)*o%e,c=Ji(a,l5e,e)*a%e,u=Ji(c,d5e,e)*c%e,l=Ji(u,ole,e)*u%e,d=Ji(l,ole,e)*u%e,y=Ji(d,ile,e)*o%e;return{pow_p_5_8:Ji(y,zV,e)*n%e,b2:r}}function h5e(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function g5e(n,e){const t=sG,r=fi(e*e*e,t),s=fi(r*r*e,t),i=f5e(n*s).pow_p_5_8;let o=fi(n*r*i,t);const a=fi(e*o*o,t),c=o,u=fi(o*sle,t),l=a===n,d=a===fi(-n,t),y=a===fi(-n*sle,t);return l&&(o=c),(d||y)&&(o=u),JLe(o,t)&&(o=fi(-o,t)),{isValid:l||d,value:o}}const jg=uSe(sG,void 0,!0),iG={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:jg,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sSe,randomBytes:Z1e,adjustScalarBytes:h5e,uvRatio:g5e},Kx=nG(iG);function hSe(n,e,t){if(e.length>255)throw new Error("Context is too big");return Y1e(G1e("SigEd25519 no Ed25519 collisions"),new Uint8Array([t?1:0,e.length]),e,n)}({...iG});({...iG});const m5e=(jg.ORDER+BigInt(3))/BigInt(8);jg.pow(zV,m5e);jg.sqrt(jg.neg(jg.ONE));(jg.ORDER-BigInt(5))/BigInt(8);BigInt(486662);r5e(jg,jg.neg(BigInt(486664)));BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const y5e=(n,e,t)=>n&e^~n&t,p5e=(n,e,t)=>n&e^n&t^e&t,b5e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_m=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Em=new Uint32Array(64);class S5e extends J1e{constructor(){super(64,32,8,!1),this.A=_m[0]|0,this.B=_m[1]|0,this.C=_m[2]|0,this.D=_m[3]|0,this.E=_m[4]|0,this.F=_m[5]|0,this.G=_m[6]|0,this.H=_m[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Em[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Em[d-15],h=Em[d-2],m=zd(y,7)^zd(y,18)^y>>>3,f=zd(h,17)^zd(h,19)^h>>>10;Em[d]=f+Em[d-7]+m+Em[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=zd(a,6)^zd(a,11)^zd(a,25),h=l+y+y5e(a,c,u)+b5e[d]+Em[d]|0,f=(zd(r,2)^zd(r,13)^zd(r,22))+p5e(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Em.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const $V=QH(()=>new S5e);class k5e extends TypeError{constructor(e,t){let r;const{message:s,...i}=e,{path:o}=e,a=o.length===0?s:"At path: "+o.join(".")+" -- "+s;super(a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var c;return(c=r)!=null?c:r=[e,...t()]}}}function v5e(n){return Fy(n)&&typeof n[Symbol.iterator]=="function"}function Fy(n){return typeof n=="object"&&n!=null}function hd(n){return typeof n=="string"?JSON.stringify(n):""+n}function A5e(n){const{done:e,value:t}=n.next();return e?void 0:t}function w5e(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+hd(r)+"`"}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*ale(n,e,t,r){v5e(n)||(n=[n]);for(const s of n){const i=w5e(s,e,t,r);i&&(yield i)}}function*oG(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s};if(i&&(n=e.coercer(n,a),o&&e.type!=="type"&&Fy(e.schema)&&Fy(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=oG(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o});for(const h of y)h[0]?(c=!1,yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Fy(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}class uh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return ale(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return ale(l,u,this,c)}:this.refiner=()=>[]}assert(e){return gSe(e,this)}create(e){return ft(e,this)}is(e){return mSe(e,this)}mask(e){return I5e(e,this)}validate(e,t={}){return BB(e,this,t)}}function gSe(n,e){const t=BB(n,e);if(t[0])throw t[0]}function ft(n,e){const t=BB(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function I5e(n,e){const t=BB(n,e,{coerce:!0,mask:!0});if(t[0])throw t[0];return t[1]}function mSe(n,e){return!BB(n,e)[0]}function BB(n,e,t={}){const r=oG(n,e,t),s=A5e(r);if(s[0])return[new k5e(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function ZS(n,e){return new uh({type:n,schema:null,validator:e})}function P5e(){return ZS("any",()=>!0)}function Ot(n){return new uh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+hd(e)}})}function Xf(){return ZS("boolean",n=>typeof n=="boolean")}function aG(n){return ZS("instance",e=>e instanceof n||"Expected a `"+n.name+"` instance, but received: "+hd(e))}function Ii(n){const e=hd(n),t=typeof n;return new uh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||"Expected the literal `"+e+"`, but received: "+hd(r)}})}function _5e(){return ZS("never",()=>!1)}function Kt(n){return new uh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ke(){return ZS("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+hd(n))}function kr(n){return new uh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function ySe(n,e){return new uh({type:"record",schema:null,*entries(t){if(Fy(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return Fy(t)||"Expected an object, but received: "+hd(t)}})}function Qe(){return ZS("string",n=>typeof n=="string"||"Expected a string, but received: "+hd(n))}function cG(n){const e=_5e();return new uh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||"Expected an array, but received: "+hd(t)}})}function De(n){const e=Object.keys(n);return new uh({type:"type",schema:n,*entries(t){if(Fy(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return Fy(t)||"Expected an object, but received: "+hd(t)}})}function wu(n){const e=n.map(t=>t.type).join(" | ");return new uh({type:"union",schema:null,validator(t,r){const s=[];for(const i of n){const[...o]=oG(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+hd(t),...s]}})}function zB(){return ZS("unknown",()=>!0)}function $B(n,e,t){return new uh({...n,coercer:(r,s)=>mSe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const E5e=U0e.v4,x5e=function(n,e,t,r){if(typeof n!="string")throw new TypeError(n+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:n};if(s===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof t>"u"){const o=typeof r.generator=="function"?r.generator:function(){return E5e()};i.id=o(i,r)}else s===2&&t===null?r.notificationIdNull&&(i.id=null):i.id=t;return i};var T5e=x5e;const R5e=U0e.v4,C5e=T5e,oM=function(n,e){if(!(this instanceof oM))return new oM(n,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return R5e()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=n};var M5e=oM;oM.prototype.request=function(n,e,t,r){const s=this;let i=null;const o=Array.isArray(n)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&n&&typeof n=="object"&&typeof e=="function")r=e,i=n;else{typeof t=="function"&&(r=t,t=void 0);const u=typeof r=="function";try{i=C5e(n,e,t,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){s._parseResponse(u,l,r)}),i};oM.prototype._parseResponse=function(n,e,t){if(n){t(n);return}if(!e)return t();let r;try{r=JSON.parse(e,this.options.reviver)}catch(s){return t(s)}if(t.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return t(null,r.filter(s),r.filter(i))}else return t(null,r.error,r.result);t(null,r)};var pSe={},uG={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(uG);var bSe={exports:{}},Lx={exports:{}};(function(n){function e(t){return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Lx);(function(n){var e=Lx.exports.default;function t(){n.exports=t=function(){return s},n.exports.__esModule=!0,n.exports.default=n.exports;var r,s={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(B,O,D){B[O]=D.value},c=typeof Symbol=="function"?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function y(B,O,D){return Object.defineProperty(B,O,{value:D,enumerable:!0,configurable:!0,writable:!0}),B[O]}try{y({},"")}catch{y=function(D,W,L){return D[W]=L}}function h(B,O,D,W){var L=O&&O.prototype instanceof I?O:I,N=Object.create(L.prototype),H=new x(W||[]);return a(N,"_invoke",{value:z(B,D,H)}),N}function m(B,O,D){try{return{type:"normal",arg:B.call(O,D)}}catch(W){return{type:"throw",arg:W}}}s.wrap=h;var f="suspendedStart",g="suspendedYield",b="executing",S="completed",p={};function I(){}function w(){}function A(){}var _={};y(_,u,function(){return this});var E=Object.getPrototypeOf,M=E&&E(E(C([])));M&&M!==i&&o.call(M,u)&&(_=M);var P=A.prototype=I.prototype=Object.create(_);function R(B){["next","throw","return"].forEach(function(O){y(B,O,function(D){return this._invoke(O,D)})})}function $(B,O){function D(L,N,H,J){var Q=m(B[L],B,N);if(Q.type!=="throw"){var Y=Q.arg,X=Y.value;return X&&e(X)=="object"&&o.call(X,"__await")?O.resolve(X.__await).then(function(re){D("next",re,H,J)},function(re){D("throw",re,H,J)}):O.resolve(X).then(function(re){Y.value=re,H(Y)},function(re){return D("throw",re,H,J)})}J(Q.arg)}var W;a(this,"_invoke",{value:function(N,H){function J(){return new O(function(Q,Y){D(N,H,Q,Y)})}return W=W?W.then(J,J):J()}})}function z(B,O,D){var W=f;return function(L,N){if(W===b)throw new Error("Generator is already running");if(W===S){if(L==="throw")throw N;return{value:r,done:!0}}for(D.method=L,D.arg=N;;){var H=D.delegate;if(H){var J=T(H,D);if(J){if(J===p)continue;return J}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(W===f)throw W=S,D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);W=b;var Q=m(B,O,D);if(Q.type==="normal"){if(W=D.done?S:g,Q.arg===p)continue;return{value:Q.arg,done:D.done}}Q.type==="throw"&&(W=S,D.method="throw",D.arg=Q.arg)}}}function T(B,O){var D=O.method,W=B.iterator[D];if(W===r)return O.delegate=null,D==="throw"&&B.iterator.return&&(O.method="return",O.arg=r,T(B,O),O.method==="throw")||D!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+D+"' method")),p;var L=m(W,B.iterator,O.arg);if(L.type==="throw")return O.method="throw",O.arg=L.arg,O.delegate=null,p;var N=L.arg;return N?N.done?(O[B.resultName]=N.value,O.next=B.nextLoc,O.method!=="return"&&(O.method="next",O.arg=r),O.delegate=null,p):N:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,p)}function v(B){var O={tryLoc:B[0]};1 in B&&(O.catchLoc=B[1]),2 in B&&(O.finallyLoc=B[2],O.afterLoc=B[3]),this.tryEntries.push(O)}function k(B){var O=B.completion||{};O.type="normal",delete O.arg,B.completion=O}function x(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(v,this),this.reset(!0)}function C(B){if(B||B===""){var O=B[u];if(O)return O.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var D=-1,W=function L(){for(;++D<B.length;)if(o.call(B,D))return L.value=B[D],L.done=!1,L;return L.value=r,L.done=!0,L};return W.next=W}}throw new TypeError(e(B)+" is not iterable")}return w.prototype=A,a(P,"constructor",{value:A,configurable:!0}),a(A,"constructor",{value:w,configurable:!0}),w.displayName=y(A,d,"GeneratorFunction"),s.isGeneratorFunction=function(B){var O=typeof B=="function"&&B.constructor;return!!O&&(O===w||(O.displayName||O.name)==="GeneratorFunction")},s.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,A):(B.__proto__=A,y(B,d,"GeneratorFunction")),B.prototype=Object.create(P),B},s.awrap=function(B){return{__await:B}},R($.prototype),y($.prototype,l,function(){return this}),s.AsyncIterator=$,s.async=function(B,O,D,W,L){L===void 0&&(L=Promise);var N=new $(h(B,O,D,W),L);return s.isGeneratorFunction(O)?N:N.next().then(function(H){return H.done?H.value:N.next()})},R(P),y(P,d,"Generator"),y(P,u,function(){return this}),y(P,"toString",function(){return"[object Generator]"}),s.keys=function(B){var O=Object(B),D=[];for(var W in O)D.push(W);return D.reverse(),function L(){for(;D.length;){var N=D.pop();if(N in O)return L.value=N,L.done=!1,L}return L.done=!0,L}},s.values=C,x.prototype={constructor:x,reset:function(O){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(k),!O)for(var D in this)D.charAt(0)==="t"&&o.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=r)},stop:function(){this.done=!0;var O=this.tryEntries[0].completion;if(O.type==="throw")throw O.arg;return this.rval},dispatchException:function(O){if(this.done)throw O;var D=this;function W(Y,X){return H.type="throw",H.arg=O,D.next=Y,X&&(D.method="next",D.arg=r),!!X}for(var L=this.tryEntries.length-1;L>=0;--L){var N=this.tryEntries[L],H=N.completion;if(N.tryLoc==="root")return W("end");if(N.tryLoc<=this.prev){var J=o.call(N,"catchLoc"),Q=o.call(N,"finallyLoc");if(J&&Q){if(this.prev<N.catchLoc)return W(N.catchLoc,!0);if(this.prev<N.finallyLoc)return W(N.finallyLoc)}else if(J){if(this.prev<N.catchLoc)return W(N.catchLoc,!0)}else{if(!Q)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return W(N.finallyLoc)}}}},abrupt:function(O,D){for(var W=this.tryEntries.length-1;W>=0;--W){var L=this.tryEntries[W];if(L.tryLoc<=this.prev&&o.call(L,"finallyLoc")&&this.prev<L.finallyLoc){var N=L;break}}N&&(O==="break"||O==="continue")&&N.tryLoc<=D&&D<=N.finallyLoc&&(N=null);var H=N?N.completion:{};return H.type=O,H.arg=D,N?(this.method="next",this.next=N.finallyLoc,p):this.complete(H)},complete:function(O,D){if(O.type==="throw")throw O.arg;return O.type==="break"||O.type==="continue"?this.next=O.arg:O.type==="return"?(this.rval=this.arg=O.arg,this.method="return",this.next="end"):O.type==="normal"&&D&&(this.next=D),p},finish:function(O){for(var D=this.tryEntries.length-1;D>=0;--D){var W=this.tryEntries[D];if(W.finallyLoc===O)return this.complete(W.completion,W.afterLoc),k(W),p}},catch:function(O){for(var D=this.tryEntries.length-1;D>=0;--D){var W=this.tryEntries[D];if(W.tryLoc===O){var L=W.completion;if(L.type==="throw"){var N=L.arg;k(W)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(O,D,W){return this.delegate={iterator:C(O),resultName:D,nextLoc:W},this.method==="next"&&(this.arg=r),p}},s}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(bSe);var yD=bSe.exports(),B5e=yD;try{regeneratorRuntime=yD}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=yD:Function("r","regeneratorRuntime = r")(yD)}var SSe={exports:{}};(function(n){function e(r,s,i,o,a,c,u){try{var l=r[c](u),d=l.value}catch(y){i(y);return}l.done?s(d):Promise.resolve(d).then(o,a)}function t(r){return function(){var s=this,i=arguments;return new Promise(function(o,a){var c=r.apply(s,i);function u(d){e(c,o,a,u,l,"next",d)}function l(d){e(c,o,a,u,l,"throw",d)}u(void 0)})}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(SSe);var lG={exports:{}};(function(n){function e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(lG);var dG={exports:{}},kSe={exports:{}},vSe={exports:{}};(function(n){var e=Lx.exports.default;function t(r,s){if(e(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var o=i.call(r,s||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(vSe);(function(n){var e=Lx.exports.default,t=vSe.exports;function r(s){var i=t(s,"string");return e(i)==="symbol"?i:String(i)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(kSe);(function(n){var e=kSe.exports;function t(s,i){for(var o=0;o<i.length;o++){var a=i[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,e(a.key),a)}}function r(s,i,o){return i&&t(s.prototype,i),o&&t(s,o),Object.defineProperty(s,"prototype",{writable:!1}),s}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(dG);var fG={exports:{}},ASe={exports:{}};(function(n){function e(t,r){return n.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},n.exports.__esModule=!0,n.exports.default=n.exports,e(t,r)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(ASe);(function(n){var e=ASe.exports;function t(r,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(s&&s.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),s&&e(r,s)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(fG);var hG={exports:{}},wSe={exports:{}};(function(n){function e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(wSe);(function(n){var e=Lx.exports.default,t=wSe.exports;function r(s,i){if(i&&(e(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t(s)}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(hG);var gG={exports:{}};(function(n){function e(t){return n.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(gG);(function(n){var e=uG.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=e(B5e),r=e(SSe.exports),s=e(Lx.exports),i=e(lG.exports),o=e(dG.exports),a=e(fG.exports),c=e(hG.exports),u=e(gG.exports),l=V0e.exports;function d(f){var g=y();return function(){var S=(0,u.default)(f),p;if(g){var I=(0,u.default)(this).constructor;p=Reflect.construct(S,arguments,I)}else p=S.apply(this,arguments);return(0,c.default)(this,p)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var h=function(f,g){var b={};for(var S in f)Object.prototype.hasOwnProperty.call(f,S)&&g.indexOf(S)<0&&(b[S]=f[S]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,S=Object.getOwnPropertySymbols(f);p<S.length;p++)g.indexOf(S[p])<0&&Object.prototype.propertyIsEnumerable.call(f,S[p])&&(b[S[p]]=f[S[p]]);return b},m=function(f){(0,a.default)(b,f);var g=d(b);function b(S){var p,I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,b);var _=w.autoconnect,E=_===void 0?!0:_,M=w.reconnect,P=M===void 0?!0:M,R=w.reconnect_interval,$=R===void 0?1e3:R,z=w.max_reconnects,T=z===void 0?5:z,v=h(w,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return p=g.call(this),p.webSocketFactory=S,p.queue={},p.rpc_id=0,p.address=I,p.autoconnect=E,p.ready=!1,p.reconnect=P,p.reconnect_timer_id=void 0,p.reconnect_interval=$,p.max_reconnects=T,p.rest_options=v,p.current_reconnects=0,p.generate_request_id=A||function(){return++p.rpc_id},p.autoconnect&&p._connect(p.address,Object.assign({autoconnect:p.autoconnect,reconnect:p.reconnect,reconnect_interval:p.reconnect_interval,max_reconnects:p.max_reconnects},p.rest_options)),p}return(0,o.default)(b,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(p,I,w,A){var _=this;return!A&&(0,s.default)(w)==="object"&&(A=w,w=null),new Promise(function(E,M){if(!_.ready)return M(new Error("socket not ready"));var P=_.generate_request_id(p,I),R={jsonrpc:"2.0",method:p,params:I||null,id:P};_.socket.send(JSON.stringify(R),A,function($){if($)return M($);_.queue[P]={promise:[E,M]},w&&(_.queue[P].timeout=setTimeout(function(){delete _.queue[P],M(new Error("reply timeout"))},w))})})}},{key:"login",value:function(){var S=(0,r.default)(t.default.mark(function I(w){var A;return t.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,this.call("rpc.login",w);case 2:if(A=E.sent,A){E.next=5;break}throw new Error("authentication failed");case 5:return E.abrupt("return",A);case 6:case"end":return E.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"listMethods",value:function(){var S=(0,r.default)(t.default.mark(function I(){return t.default.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,this.call("__listMethods");case 2:return A.abrupt("return",A.sent);case 3:case"end":return A.stop()}},I,this)}));function p(){return S.apply(this,arguments)}return p}()},{key:"notify",value:function(p,I){var w=this;return new Promise(function(A,_){if(!w.ready)return _(new Error("socket not ready"));var E={jsonrpc:"2.0",method:p,params:I||null};w.socket.send(JSON.stringify(E),function(M){if(M)return _(M);A()})})}},{key:"subscribe",value:function(){var S=(0,r.default)(t.default.mark(function I(w){var A;return t.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return typeof w=="string"&&(w=[w]),E.next=3,this.call("rpc.on",w);case 3:if(A=E.sent,!(typeof w=="string"&&A[w]!=="ok")){E.next=6;break}throw new Error("Failed subscribing to an event '"+w+"' with: "+A[w]);case 6:return E.abrupt("return",A);case 7:case"end":return E.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"unsubscribe",value:function(){var S=(0,r.default)(t.default.mark(function I(w){var A;return t.default.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return typeof w=="string"&&(w=[w]),E.next=3,this.call("rpc.off",w);case 3:if(A=E.sent,!(typeof w=="string"&&A[w]!=="ok")){E.next=6;break}throw new Error("Failed unsubscribing from an event with: "+A);case 6:return E.abrupt("return",A);case 7:case"end":return E.stop()}},I,this)}));function p(I){return S.apply(this,arguments)}return p}()},{key:"close",value:function(p,I){this.socket.close(p||1e3,I)}},{key:"_connect",value:function(p,I){var w=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(p,I),this.socket.addEventListener("open",function(){w.ready=!0,w.emit("open"),w.current_reconnects=0}),this.socket.addEventListener("message",function(A){var _=A.data;_ instanceof ArrayBuffer&&(_=Xe.Buffer.from(_).toString());try{_=JSON.parse(_)}catch{return}if(_.notification&&w.listeners(_.notification).length){if(!Object.keys(_.params).length)return w.emit(_.notification);var E=[_.notification];if(_.params.constructor===Object)E.push(_.params);else for(var M=0;M<_.params.length;M++)E.push(_.params[M]);return Promise.resolve().then(function(){w.emit.apply(w,E)})}if(!w.queue[_.id])return _.method&&_.params?Promise.resolve().then(function(){w.emit(_.method,_.params)}):void 0;"error"in _=="result"in _&&w.queue[_.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),w.queue[_.id].timeout&&clearTimeout(w.queue[_.id].timeout),_.error?w.queue[_.id].promise[1](_.error):w.queue[_.id].promise[0](_.result),delete w.queue[_.id]}),this.socket.addEventListener("error",function(A){return w.emit("error",A)}),this.socket.addEventListener("close",function(A){var _=A.code,E=A.reason;w.ready&&setTimeout(function(){return w.emit("close",_,E)},0),w.ready=!1,w.socket=void 0,_!==1e3&&(w.current_reconnects++,w.reconnect&&(w.max_reconnects>w.current_reconnects||w.max_reconnects===0)&&(w.reconnect_timer_id=setTimeout(function(){return w._connect(p,I)},w.reconnect_interval)))})}}]),b}(l.EventEmitter);n.default=m})(pSe);var z5e=q0e(pSe),ISe={};(function(n){var e=uG.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var t=e(lG.exports),r=e(dG.exports),s=e(fG.exports),i=e(hG.exports),o=e(gG.exports),a=V0e.exports;function c(y){var h=u();return function(){var f=(0,o.default)(y),g;if(h){var b=(0,o.default)(this).constructor;g=Reflect.construct(f,arguments,b)}else g=f.apply(this,arguments);return(0,i.default)(this,g)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var l=function(y){(0,s.default)(m,y);var h=c(m);function m(f,g,b){var S;return(0,t.default)(this,m),S=h.call(this),S.socket=new window.WebSocket(f,b),S.socket.onopen=function(){return S.emit("open")},S.socket.onmessage=function(p){return S.emit("message",p.data)},S.socket.onerror=function(p){return S.emit("error",p)},S.socket.onclose=function(p){S.emit("close",p.code,p.reason)},S}return(0,r.default)(m,[{key:"send",value:function(g,b,S){var p=S||b;try{this.socket.send(g),p()}catch(I){p(I)}}},{key:"close",value:function(g,b){this.socket.close(g,b)}},{key:"addEventListener",value:function(g,b,S){this.socket.addEventListener(g,b,S)}}]),m}(a.EventEmitter);function d(y,h){return new l(y,h)}})(ISe);var $5e=q0e(ISe);const[PSe,_Se,ESe]=[[],[],[]],D5e=BigInt(0),bR=BigInt(1),O5e=BigInt(2),K5e=BigInt(7),L5e=BigInt(256),W5e=BigInt(113);for(let n=0,e=bR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],PSe.push(2*(5*r+t)),_Se.push((n+1)*(n+2)/2%64);let s=D5e;for(let i=0;i<7;i++)e=(e<<bR^(e>>K5e)*W5e)%L5e,e&O5e&&(s^=bR<<(bR<<BigInt(i))-bR);ESe.push(s)}const[N5e,F5e]=Q1e(ESe,!0),cle=(n,e,t)=>t>32?rSe(n,e,t):eSe(n,e,t),ule=(n,e,t)=>t>32?nSe(n,e,t):tSe(n,e,t);function U5e(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=cle(u,l,1)^t[a],y=ule(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=_Se[o],c=cle(s,i,a),u=ule(s,i,a),l=PSe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=N5e[r],n[1]^=F5e[r]}t.fill(0)}class mG extends XH{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,tO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=gLe(this.state)}keccak(){U5e(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){IA(this);const{blockLen:t,state:r}=this;e=A4(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){IA(this,!1),JH(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(j1e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new mG(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const V5e=(n,e,t)=>QH(()=>new mG(e,n,t)),lle=V5e(1,136,256/8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function q5e(n){const e=rG(n);Ox(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:j5e,hexToBytes:H5e}=jLe,w1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=w1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:j5e(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=w1,t=typeof n=="string"?H5e(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=w1._parseInt(t.subarray(2)),{d:o,l:a}=w1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Tg=BigInt(0),pl=BigInt(1);BigInt(2);const dle=BigInt(3);BigInt(4);function G5e(n){const e=q5e(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return nS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&Tg<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=rS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:F1(Xo("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=fi(p,S)),a(p),p}const u=new Map;function l(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required")}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Xo("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(c(f))}_setWindowSize(f){this._WINDOW_SIZE=f,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=this.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){l(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,dle),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){l(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,dle);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,u,f,g=>{const b=t.invertBatch(g.map(S=>S.pz));return g.map((S,p)=>S.toAffine(b[p])).map(d.fromAffine)})}multiplyUnsafe(f){const g=d.ZERO;if(f===Tg)return g;if(a(f),f===pl)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Tg||w>Tg;)p&pl&&(A=A.add(E)),w&pl&&(_=_.add(E)),E=E.double(),p>>=pl,w>>=pl;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){a(f);let g=f,b,S;const{endo:p}=e;if(p){const{k1neg:I,k1:w,k2neg:A,k2:_}=p.splitScalar(g);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,p.beta),P.py,P.pz),b=E.add(P),S=M.add(R)}else{const{p:I,f:w}=this.wNAF(g);b=I,S=w}return d.normalizeZ([b,S])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Tg||A===pl||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){const{px:g,py:b,pz:S}=this,p=this.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===pl)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===pl?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return this.assertValidity(),r(d,this,f)}toHex(f=!0){return rS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=fSe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:o}}function Y5e(n){const e=rG(n);return Ox(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Z5e(n){const e=Y5e(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(v){return Tg<v&&v<t.ORDER}function a(v){return fi(v,r)}function c(v){return BV(v,r)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:y}=G5e({...e,toBytes(v,k,x){const C=k.toAffine(),B=t.toBytes(C.x),O=nS;return x?O(Uint8Array.from([k.hasEvenY()?2:3]),B):O(Uint8Array.from([4]),B,t.toBytes(C.y))},fromBytes(v){const k=v.length,x=v[0],C=v.subarray(1);if(k===s&&(x===2||x===3)){const B=F1(C);if(!o(B))throw new Error("Point is not on curve");const O=d(B);let D=t.sqrt(O);const W=(D&pl)===pl;return(x&1)===1!==W&&(D=t.neg(D)),{x:B,y:D}}else if(k===i&&x===4){const B=t.fromBytes(C.subarray(0,t.BYTES)),O=t.fromBytes(C.subarray(t.BYTES,2*t.BYTES));return{x:B,y:O}}else throw new Error(`Point of length ${k} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),h=v=>rS(_A(v,e.nByteLength));function m(v){const k=r>>pl;return v>k}function f(v){return m(v)?a(-v):v}const g=(v,k,x)=>F1(v.slice(k,x));class b{constructor(k,x,C){this.r=k,this.s=x,this.recovery=C,this.assertValidity()}static fromCompact(k){const x=e.nByteLength;return k=Xo("compactSignature",k,x*2),new b(g(k,0,x),g(k,x,2*x))}static fromDER(k){const{r:x,s:C}=w1.toSig(Xo("DER",k));return new b(x,C)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new b(this.r,this.s,k)}recoverPublicKey(k){const{r:x,s:C,recovery:B}=this,O=_(Xo("msgHash",k));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const D=B===2||B===3?x+e.n:x;if(D>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=(B&1)===0?"02":"03",L=u.fromHex(W+h(D)),N=c(D),H=a(-O*N),J=a(C*N),Q=u.BASE.multiplyAndAddUnsafe(L,H,J);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new b(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return PA(this.toDERHex())}toDERHex(){return w1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return PA(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const S={isValidPrivateKey(v){try{return l(v),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const v=dSe(e.n);return n5e(e.randomBytes(v),e.n)},precompute(v=8,k=u.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}};function p(v,k=!0){return u.fromPrivateKey(v).toRawBytes(k)}function I(v){const k=v instanceof Uint8Array,x=typeof v=="string",C=(k||x)&&v.length;return k?C===s||C===i:x?C===2*s||C===2*i:v instanceof u}function w(v,k,x=!0){if(I(v))throw new Error("first arg must be private key");if(!I(k))throw new Error("second arg must be public key");return u.fromHex(k).multiply(l(v)).toRawBytes(x)}const A=e.bits2int||function(v){const k=F1(v),x=v.length*8-e.nBitLength;return x>0?k>>BigInt(x):k},_=e.bits2int_modN||function(v){return a(A(v))},E=tG(e.nBitLength);function M(v){if(typeof v!="bigint")throw new Error("bigint expected");if(!(Tg<=v&&v<E))throw new Error(`bigint expected < 2^${e.nBitLength}`);return _A(v,e.nByteLength)}function P(v,k,x=R){if(["recovered","canonical"].some(X=>X in x))throw new Error("sign() legacy options not supported");const{hash:C,randomBytes:B}=e;let{lowS:O,prehash:D,extraEntropy:W}=x;O==null&&(O=!0),v=Xo("msgHash",v),D&&(v=Xo("prehashed msgHash",C(v)));const L=_(v),N=l(k),H=[M(N),M(L)];if(W!=null){const X=W===!0?B(t.BYTES):W;H.push(Xo("extraEntropy",X))}const J=nS(...H),Q=L;function Y(X){const re=A(X);if(!y(re))return;const se=c(re),ee=u.BASE.multiply(re).toAffine(),ne=a(ee.x);if(ne===Tg)return;const ve=a(se*a(Q+ne*N));if(ve===Tg)return;let Pe=(ee.x===ne?0:2)|Number(ee.y&pl),Le=ve;return O&&m(ve)&&(Le=f(ve),Pe^=1),new b(ne,Le,Pe)}return{seed:J,k2sig:Y}}const R={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function z(v,k,x=R){const{seed:C,k2sig:B}=P(v,k,x),O=e;return aSe(O.hash.outputLen,O.nByteLength,O.hmac)(C,B)}u.BASE._setWindowSize(8);function T(v,k,x,C=$){var ee;const B=v;if(k=Xo("msgHash",k),x=Xo("publicKey",x),"strict"in C)throw new Error("options.strict was renamed to lowS");const{lowS:O,prehash:D}=C;let W,L;try{if(typeof B=="string"||B instanceof Uint8Array)try{W=b.fromDER(B)}catch(ne){if(!(ne instanceof w1.Err))throw ne;W=b.fromCompact(B)}else if(typeof B=="object"&&typeof B.r=="bigint"&&typeof B.s=="bigint"){const{r:ne,s:ve}=B;W=new b(ne,ve)}else throw new Error("PARSE");L=u.fromHex(x)}catch(ne){if(ne.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(O&&W.hasHighS())return!1;D&&(k=e.hash(k));const{r:N,s:H}=W,J=_(k),Q=c(H),Y=a(J*Q),X=a(N*Q),re=(ee=u.BASE.multiplyAndAddUnsafe(L,Y,X))==null?void 0:ee.toAffine();return re?a(re.x)===N:!1}return{CURVE:e,getPublicKey:p,getSharedSecret:w,sign:z,verify:T,ProjectivePoint:u,Signature:b,utils:S}}class xSe extends XH{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,hLe(e);const r=A4(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return IA(this),this.iHash.update(e),this}digestInto(e){IA(this),JH(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const TSe=(n,e,t)=>new xSe(n,e).update(t).digest();TSe.create=(n,e)=>new xSe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function J5e(n){return{hash:n,hmac:(e,...t)=>TSe(n,e,Y1e(...t)),randomBytes:Z1e}}function X5e(n,e){const t=r=>Z5e({...n,...J5e(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RSe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),fle=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Q5e=BigInt(1),DV=BigInt(2),hle=(n,e)=>(n+e/DV)/e;function eWe(n){const e=RSe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Ji(l,t,e)*l%e,y=Ji(d,t,e)*l%e,h=Ji(y,DV,e)*u%e,m=Ji(h,s,e)*h%e,f=Ji(m,i,e)*m%e,g=Ji(f,a,e)*f%e,b=Ji(g,c,e)*g%e,S=Ji(b,a,e)*f%e,p=Ji(S,t,e)*l%e,I=Ji(p,o,e)*m%e,w=Ji(I,r,e)*u%e,A=Ji(w,DV,e);if(!OV.eql(OV.sqr(A),n))throw new Error("Cannot find square root");return A}const OV=uSe(RSe,void 0,void 0,{sqrt:eWe}),P4=X5e({a:BigInt(0),b:BigInt(7),Fp:OV,n:fle,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=fle,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Q5e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=hle(i*n,e),c=hle(-r*n,e);let u=fi(n-a*t-c*s,e),l=fi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},$V);BigInt(0);P4.ProjectivePoint;const tWe=Kx.utils.randomPrivateKey,gle=()=>{const n=Kx.utils.randomPrivateKey(),e=rO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},rO=Kx.getPublicKey;function mle(n){try{return Kx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const yG=(n,e)=>Kx.sign(n,e.slice(0,32)),rWe=Kx.verify,Jr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class pG{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(om(z2,this))}static decode(e){return am(z2,this,e)}static decodeUnchecked(e){return cm(z2,this,e)}}class nWe extends pG{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const z2=new Map;var CSe;let MSe;const BSe=32,Qu=32;function sWe(n){return n._bn!==void 0}let yle=1;MSe=Symbol.toStringTag;class tt extends pG{constructor(e){if(super({}),this._bn=void 0,sWe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Qu)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Qu)throw new Error("Invalid public key input")}}static unique(){const e=new tt(yle);return yle+=1,new tt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Qu)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[MSe](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=$V(s);return new tt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>BSe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Jr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=$V(r);if(mle(s))throw new Error("Invalid seeds, address must fall off the curve");return new tt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new tt(e);return mle(t.toBytes())}}CSe=tt;tt.default=new CSe("11111111111111111111111111111111");z2.set(tt,{kind:"struct",fields:[["_bn","u256"]]});class iWe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Jr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Jr(tWe()),this._publicKey=Jr(rO(this._secretKey))}get publicKey(){return new tt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const oWe=new tt("BPFLoader1111111111111111111111111111111111"),Uy=1280-40-8,_4=127,EA=64;class bG extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(bG.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class SG extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(SG.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Pv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Pv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class aM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const yn=(n="publicKey")=>ie(32,n),aWe=(n="signature")=>ie(64,n),I1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},cWe=(n="authorized")=>F([yn("staker"),yn("withdrawer")],n),uWe=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),yn("custodian")],n),lWe=(n="voteInit")=>F([yn("nodePubkey"),yn("authorizedVoter"),yn("authorizedWithdrawer"),te("commission")],n),dWe=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),yn("currentAuthorityDerivedKeyOwnerPubkey"),I1("currentAuthorityDerivedKeySeed"),yn("newAuthorized")],n);function zSe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return zSe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function tu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Du(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Kn(n,e){if(!n)throw new Error(e||"Assertion failed")}class E4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new E4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Kn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Kn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Kn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new tt(c)),...r.map(([c])=>new tt(c)),...s.map(([c])=>new tt(c)),...i.map(([c])=>new tt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new tt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Kn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}class gd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new tt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new aM(this.staticAccountKeys)}static compile(e){const t=E4.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new aM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new gd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Du(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Du(f,y.length);let g=[];return Du(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Du(s,r.length);let i=V.Buffer.alloc(Uy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(yn("key"),e,"keys"),yn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Jr(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&_4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=t.shift(),i=t.shift(),o=tu(t);let a=[];for(let y=0;y<o;y++){const h=t.slice(0,Qu);t=t.slice(Qu),a.push(new tt(V.Buffer.from(h)))}const c=t.slice(0,Qu);t=t.slice(Qu);const u=tu(t);let l=[];for(let y=0;y<u;y++){const h=t.shift(),m=tu(t),f=t.slice(0,m);t=t.slice(m);const g=tu(t),b=t.slice(0,g),S=Ie.encode(V.Buffer.from(b));t=t.slice(g),l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new gd(d)}}class sS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new aM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=E4.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new aM(a,s).compileInstructions(e.instructions);return new sS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Du(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Du(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Du(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(yn(),this.staticAccountKeys.length,"staticAccountKeys"),yn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Uy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Uy);for(const r of this.compiledInstructions){const s=Array();Du(s,r.accountKeyIndexes.length);const i=Array();Du(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Uy);for(const r of this.addressTableLookups){const s=Array();Du(s,r.writableIndexes.length);const i=Array();Du(i,r.readonlyIndexes.length),e+=F([yn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),s=r&_4;Kn(r!==s,"Expected versioned message but received legacy message");const i=s;Kn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},a=[],c=tu(t);for(let m=0;m<c;m++)a.push(new tt(t.splice(0,Qu)));const u=Ie.encode(t.splice(0,Qu)),l=tu(t),d=[];for(let m=0;m<l;m++){const f=t.shift(),g=tu(t),b=t.splice(0,g),S=tu(t),p=new Uint8Array(t.splice(0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=tu(t),h=[];for(let m=0;m<y;m++){const f=new tt(t.splice(0,Qu)),g=tu(t),b=t.splice(0,g),S=tu(t),p=t.splice(0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new sS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const kG={deserializeMessageVersion(n){const e=n[0],t=e&_4;return t===e?"legacy":t},deserialize:n=>{const e=kG.deserializeMessageVersion(n);if(e==="legacy")return gd.from(n);if(e===0)return sS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let yg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const fWe=V.Buffer.alloc(EA).fill(0);class ps{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class cs{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ps(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new tt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Kn(f.programIdIndex>=0),f.accounts.forEach(g=>Kn(g>=0))}),new gd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=yG(r,s.secretKey);this._addSignature(s.publicKey,Jr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Kn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,t){for(const{signature:r,publicKey:s}of this.signatures)if(r===null){if(t)return!1}else if(!rWe(r,e,s.toBytes()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r&&!this._verifySignatures(s,t))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Du(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Kn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Kn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Kn(i.length<=Uy,`Transaction too large: ${i.length} > ${Uy}`),i}get keys(){return Kn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Kn(this.instructions.length===1),this.instructions[0].programId}get data(){return Kn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=tu(t);let s=[];for(let i=0;i<r;i++){const o=t.slice(0,EA);t=t.slice(EA),s.push(Ie.encode(V.Buffer.from(o)))}return cs.populate(gd.from(t),s)}static populate(e,t=[]){const r=new cs;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(fWe)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ps({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class vG{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Kn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Kn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new ps({programId:g,data:Jr(m.data),keys:f}))}return new vG({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return gd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return sS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class AG{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Kn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(EA));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Du(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(aWe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=tu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(t.splice(0,EA)));const i=kG.deserialize(new Uint8Array(t));return new AG(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Kn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=yG(t,s.secretKey)}}addSignature(e,t){Kn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Kn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const hWe=160,gWe=64,mWe=hWe/gWe,$Se=1e3/mWe,Qd=new tt("SysvarC1ock11111111111111111111111111111111"),yWe=new tt("SysvarEpochSchedu1e111111111111111111111111"),pWe=new tt("Sysvar1nstructions1111111111111111111111111"),pD=new tt("SysvarRecentB1ockHashes11111111111111111111"),xA=new tt("SysvarRent111111111111111111111111111111111"),bWe=new tt("SysvarRewards111111111111111111111111111111"),SWe=new tt("SysvarS1otHashes111111111111111111111111111"),kWe=new tt("SysvarS1otHistory11111111111111111111111111"),bD=new tt("SysvarStakeHistory1111111111111111111111111");async function KV(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function r1(n){return new Promise(e=>setTimeout(e,n))}function $n(n,e){const t=n.layout.span>=0?n.layout.span:zSe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function es(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const DSe=Ae("lamportsPerSignature"),OSe=F([U("version"),U("state"),yn("authorizedPubkey"),yn("nonce"),F([DSe],"feeCalculator")]),LV=OSe.span;class x4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=OSe.decode(Jr(e),0);return new x4({authorizedPubkey:new tt(t.authorizedPubkey),nonce:new tt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const vWe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},AWe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=vWe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return um(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},TA=AWe(8);class wWe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(zs))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=es(zs.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new tt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=es(zs.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=es(zs.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new tt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=es(zs.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=es(zs.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new tt(t),seed:r,space:s,programId:new tt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=es(zs.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new tt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=es(zs.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new tt(t),seed:r,programId:new tt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=es(zs.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new tt(t),seed:r,lamports:s,space:i,programId:new tt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=es(zs.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new tt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),es(zs.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=es(zs.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=es(zs.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new tt(t)}}static checkProgramId(e){if(!e.equals(ac.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const zs=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),yn("programId")])},Assign:{index:1,layout:F([U("instruction"),yn("programId")])},Transfer:{index:2,layout:F([U("instruction"),TA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),yn("base"),I1("seed"),_e("lamports"),_e("space"),yn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),yn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),yn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),yn("base"),I1("seed"),_e("space"),yn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),yn("base"),I1("seed"),yn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),TA("lamports"),I1("seed"),yn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class ac{constructor(){}static createAccount(e){const t=zs.Create,r=$n(t,{lamports:e.lamports,space:e.space,programId:Jr(e.programId.toBuffer())});return new ps({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=zs.TransferWithSeed;t=$n(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=zs.Transfer;t=$n(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ps({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=zs.AssignWithSeed;t=$n(s,{base:Jr(e.basePubkey.toBuffer()),seed:e.seed,programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=zs.Assign;t=$n(s,{programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ps({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=zs.CreateWithSeed,r=$n(t,{base:Jr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Jr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ps({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new cs;"basePubkey"in e&&"seed"in e?t.add(ac.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:LV,programId:this.programId})):t.add(ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:LV,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=zs.InitializeNonceAccount,r=$n(t,{authorized:Jr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pD,isSigner:!1,isWritable:!1},{pubkey:xA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ps(s)}static nonceAdvance(e){const t=zs.AdvanceNonceAccount,r=$n(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ps(s)}static nonceWithdraw(e){const t=zs.WithdrawNonceAccount,r=$n(t,{lamports:e.lamports});return new ps({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:pD,isSigner:!1,isWritable:!1},{pubkey:xA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=zs.AuthorizeNonceAccount,r=$n(t,{authorized:Jr(e.newAuthorizedPubkey.toBuffer())});return new ps({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=zs.AllocateWithSeed;t=$n(s,{base:Jr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Jr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=zs.Allocate;t=$n(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ps({keys:r,programId:this.programId,data:t})}}ac.programId=new tt("11111111111111111111111111111111");const IWe=Uy-300;class iS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/iS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new cs,h.add(ac.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new cs,h.add(ac.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new cs,h.add(ac.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new cs().add(ac.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await KV(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=iS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new cs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(KV(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await r1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new cs().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:xA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round($Se/2)))}}return!0}}iS.chunkSize=IWe;const PWe=new tt("BPFLoader2111111111111111111111111111111111");class _We{static getMinNumSignatures(e){return iS.getMinNumSignatures(e)}static load(e,t,r,s,i){return iS.load(e,t,r,i,s)}}function EWe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xWe=Object.prototype.toString,TWe=Object.keys||function(n){var e=[];for(var t in n)e.push(t);return e};function _2(n,e){var t,r,s,i,o,a,c;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return _2(n.toJSON(),e);if(c=xWe.call(n),c==="[object Array]"){for(s="[",r=n.length-1,t=0;t<r;t++)s+=_2(n[t],!0)+",";return r>-1&&(s+=_2(n[t],!0)),s+"]"}else if(c==="[object Object]"){for(i=TWe(n).sort(),r=i.length,s="",t=0;t<r;)o=i[t],a=_2(n[o],!1),a!==void 0&&(s&&(s+=","),s+=JSON.stringify(o)+":"+a),t++;return"{"+s+"}"}else return JSON.stringify(n);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}var RWe=function(n){var e=_2(n,!1);if(e!==void 0)return""+e},ple=EWe(RWe);const SR=32;function J5(n){let e=0;for(;n>1;)n/=2,e++;return e}function CWe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class KSe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=J5(CWe(e+SR+1))-J5(SR)-1,r=this.getSlotsInEpoch(t),s=e-(r-SR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*SR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+J5(SR)):this.slotsPerEpoch}}class WV extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const MWe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Ht extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}var BWe=globalThis.fetch;class zWe extends z5e{constructor(e,t,r){const s=i=>{const o=$5e(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function $We(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const ble=56;class NV{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=$We(DWe,e),r=e.length-ble;Kn(r>=0,"lookup table is invalid"),Kn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(yn(),s,"addresses")]).decode(e.slice(ble));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new tt(t.authority[0]):void 0,addresses:i.map(o=>new tt(o))}}}const DWe={index:1,layout:F([U("typeIndex"),TA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(yn(),Vt(te(),-1),"authority")])},OWe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function KWe(n){const e=n.match(OWe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Uo=$B(aG(tt),Qe(),n=>new tt(n)),LSe=cG([Qe(),Ii("base64")]),wG=$B(aG(V.Buffer),LSe,n=>V.Buffer.from(n[0],"base64")),WSe=30*1e3;function LWe(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ys(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function NSe(n){return wu([De({jsonrpc:Ii("2.0"),id:Qe(),result:n}),De({jsonrpc:Ii("2.0"),id:Qe(),error:De({code:zB(),message:Qe(),data:kr(P5e())})})])}const WWe=NSe(zB());function Fr(n){return $B(NSe(n),WWe,e=>"error"in e?e:{...e,result:ft(e.result,n)})}function co(n){return Fr(De({context:De({slot:ke()}),value:n}))}function T4(n){return De({context:De({slot:ke()}),value:n})}function X5(n,e){return n===0?new sS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new tt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new gd(e)}const NWe=De({foundation:ke(),foundationTerm:ke(),initial:ke(),taper:ke(),terminal:ke()}),FWe=Fr(Ot(Kt(De({epoch:ke(),effectiveSlot:ke(),amount:ke(),postBalance:ke(),commission:kr(Kt(ke()))})))),UWe=Ot(De({slot:ke(),prioritizationFee:ke()})),VWe=De({total:ke(),validator:ke(),foundation:ke(),epoch:ke()}),qWe=De({epoch:ke(),slotIndex:ke(),slotsInEpoch:ke(),absoluteSlot:ke(),blockHeight:kr(ke()),transactionCount:kr(ke())}),jWe=De({slotsPerEpoch:ke(),leaderScheduleSlotOffset:ke(),warmup:Xf(),firstNormalEpoch:ke(),firstNormalSlot:ke()}),HWe=ySe(Qe(),Ot(ke())),JS=Kt(wu([De({}),Qe()])),GWe=De({err:JS}),YWe=Ii("receivedSignature"),ZWe=De({"solana-core":Qe(),"feature-set":kr(ke())}),Sle=co(De({err:Kt(wu([De({}),Qe()])),logs:Kt(Ot(Qe())),accounts:kr(Kt(Ot(Kt(De({executable:Xf(),owner:Qe(),lamports:ke(),data:Ot(Qe()),rentEpoch:kr(ke())}))))),unitsConsumed:kr(ke()),returnData:kr(Kt(De({programId:Qe(),data:cG([Qe(),Ii("base64")])})))})),JWe=co(De({byIdentity:ySe(Qe(),Ot(ke())),range:De({firstSlot:ke(),lastSlot:ke()})}));function XWe(n,e,t,r,s,i){const o=t||BWe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new M5e(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},QNe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.log(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await r1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function QWe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function eNe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const tNe=Fr(NWe),rNe=Fr(VWe),nNe=Fr(UWe),sNe=Fr(qWe),iNe=Fr(jWe),oNe=Fr(HWe),aNe=Fr(ke()),cNe=co(De({total:ke(),circulating:ke(),nonCirculating:ke(),nonCirculatingAccounts:Ot(Uo)})),FV=De({amount:Qe(),uiAmount:Kt(ke()),decimals:ke(),uiAmountString:kr(Qe())}),uNe=co(Ot(De({address:Uo,amount:Qe(),uiAmount:Kt(ke()),decimals:ke(),uiAmountString:kr(Qe())}))),lNe=co(Ot(De({pubkey:Uo,account:De({executable:Xf(),owner:Uo,lamports:ke(),data:wG,rentEpoch:ke()})}))),UV=De({program:Qe(),parsed:zB(),space:ke()}),dNe=co(Ot(De({pubkey:Uo,account:De({executable:Xf(),owner:Uo,lamports:ke(),data:UV,rentEpoch:ke()})}))),fNe=co(Ot(De({lamports:ke(),address:Uo}))),cM=De({executable:Xf(),owner:Uo,lamports:ke(),data:wG,rentEpoch:ke()}),hNe=De({pubkey:Uo,account:cM}),gNe=$B(wu([aG(V.Buffer),UV]),wu([LSe,UV]),n=>Array.isArray(n)?ft(n,wG):n),VV=De({executable:Xf(),owner:Uo,lamports:ke(),data:gNe,rentEpoch:ke()}),mNe=De({pubkey:Uo,account:VV}),yNe=De({state:wu([Ii("active"),Ii("inactive"),Ii("activating"),Ii("deactivating")]),active:ke(),inactive:ke()}),pNe=Fr(Ot(De({signature:Qe(),slot:ke(),err:JS,memo:Kt(Qe()),blockTime:kr(Kt(ke()))}))),bNe=Fr(Ot(De({signature:Qe(),slot:ke(),err:JS,memo:Kt(Qe()),blockTime:kr(Kt(ke()))}))),SNe=De({subscription:ke(),result:T4(cM)}),kNe=De({pubkey:Uo,account:cM}),vNe=De({subscription:ke(),result:T4(kNe)}),ANe=De({parent:ke(),slot:ke(),root:ke()}),wNe=De({subscription:ke(),result:ANe}),INe=wu([De({type:wu([Ii("firstShredReceived"),Ii("completed"),Ii("optimisticConfirmation"),Ii("root")]),slot:ke(),timestamp:ke()}),De({type:Ii("createdBank"),parent:ke(),slot:ke(),timestamp:ke()}),De({type:Ii("frozen"),slot:ke(),timestamp:ke(),stats:De({numTransactionEntries:ke(),numSuccessfulTransactions:ke(),numFailedTransactions:ke(),maxTransactionsPerEntry:ke()})}),De({type:Ii("dead"),slot:ke(),timestamp:ke(),err:Qe()})]),PNe=De({subscription:ke(),result:INe}),_Ne=De({subscription:ke(),result:T4(wu([GWe,YWe]))}),ENe=De({subscription:ke(),result:ke()}),xNe=De({pubkey:Qe(),gossip:Kt(Qe()),tpu:Kt(Qe()),rpc:Kt(Qe()),version:Kt(Qe())}),kle=De({votePubkey:Qe(),nodePubkey:Qe(),activatedStake:ke(),epochVoteAccount:Xf(),epochCredits:Ot(cG([ke(),ke(),ke()])),commission:ke(),lastVote:ke(),rootSlot:Kt(ke())}),TNe=Fr(De({current:Ot(kle),delinquent:Ot(kle)})),RNe=wu([Ii("processed"),Ii("confirmed"),Ii("finalized")]),CNe=De({slot:ke(),confirmations:Kt(ke()),err:JS,confirmationStatus:kr(RNe)}),MNe=co(Ot(Kt(CNe))),BNe=Fr(ke()),FSe=De({accountKey:Uo,writableIndexes:Ot(ke()),readonlyIndexes:Ot(ke())}),IG=De({signatures:Ot(Qe()),message:De({accountKeys:Ot(Qe()),header:De({numRequiredSignatures:ke(),numReadonlySignedAccounts:ke(),numReadonlyUnsignedAccounts:ke()}),instructions:Ot(De({accounts:Ot(ke()),data:Qe(),programIdIndex:ke()})),recentBlockhash:Qe(),addressTableLookups:kr(Ot(FSe))})}),USe=De({pubkey:Uo,signer:Xf(),writable:Xf(),source:kr(wu([Ii("transaction"),Ii("lookupTable")]))}),VSe=De({accountKeys:Ot(USe),signatures:Ot(Qe())}),qSe=De({parsed:zB(),program:Qe(),programId:Uo}),jSe=De({accounts:Ot(Uo),data:Qe(),programId:Uo}),zNe=wu([jSe,qSe]),$Ne=wu([De({parsed:zB(),program:Qe(),programId:Qe()}),De({accounts:Ot(Qe()),data:Qe(),programId:Qe()})]),HSe=$B(zNe,$Ne,n=>"accounts"in n?ft(n,jSe):ft(n,qSe)),GSe=De({signatures:Ot(Qe()),message:De({accountKeys:Ot(USe),instructions:Ot(HSe),recentBlockhash:Qe(),addressTableLookups:kr(Kt(Ot(FSe)))})}),nO=De({accountIndex:ke(),mint:Qe(),owner:kr(Qe()),uiTokenAmount:FV}),YSe=De({writable:Ot(Uo),readonly:Ot(Uo)}),R4=De({err:JS,fee:ke(),innerInstructions:kr(Kt(Ot(De({index:ke(),instructions:Ot(De({accounts:Ot(ke()),data:Qe(),programIdIndex:ke()}))})))),preBalances:Ot(ke()),postBalances:Ot(ke()),logMessages:kr(Kt(Ot(Qe()))),preTokenBalances:kr(Kt(Ot(nO))),postTokenBalances:kr(Kt(Ot(nO))),loadedAddresses:kr(YSe),computeUnitsConsumed:kr(ke())}),PG=De({err:JS,fee:ke(),innerInstructions:kr(Kt(Ot(De({index:ke(),instructions:Ot(HSe)})))),preBalances:Ot(ke()),postBalances:Ot(ke()),logMessages:kr(Kt(Ot(Qe()))),preTokenBalances:kr(Kt(Ot(nO))),postTokenBalances:kr(Kt(Ot(nO))),loadedAddresses:kr(YSe),computeUnitsConsumed:kr(ke())}),Wx=wu([Ii(0),Ii("legacy")]),XS=De({pubkey:Qe(),lamports:ke(),postBalance:Kt(ke()),rewardType:Kt(Qe()),commission:kr(Kt(ke()))}),DNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:IG,meta:Kt(R4),version:kr(Wx)})),rewards:kr(Ot(XS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),ONe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),rewards:kr(Ot(XS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),KNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:VSe,meta:Kt(R4),version:kr(Wx)})),rewards:kr(Ot(XS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),LNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:GSe,meta:Kt(PG),version:kr(Wx)})),rewards:kr(Ot(XS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),WNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:VSe,meta:Kt(PG),version:kr(Wx)})),rewards:kr(Ot(XS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),NNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),rewards:kr(Ot(XS)),blockTime:Kt(ke()),blockHeight:Kt(ke())}))),FNe=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),transactions:Ot(De({transaction:IG,meta:Kt(R4)})),rewards:kr(Ot(XS)),blockTime:Kt(ke())}))),vle=Fr(Kt(De({blockhash:Qe(),previousBlockhash:Qe(),parentSlot:ke(),signatures:Ot(Qe()),blockTime:Kt(ke())}))),Q5=Fr(Kt(De({slot:ke(),meta:R4,blockTime:kr(Kt(ke())),transaction:IG,version:kr(Wx)}))),o$=Fr(Kt(De({slot:ke(),transaction:GSe,meta:Kt(PG),blockTime:kr(Kt(ke())),version:kr(Wx)}))),UNe=co(De({blockhash:Qe(),feeCalculator:De({lamportsPerSignature:ke()})})),VNe=co(De({blockhash:Qe(),lastValidBlockHeight:ke()})),qNe=co(Xf()),jNe=De({slot:ke(),numTransactions:ke(),numSlots:ke(),samplePeriodSecs:ke()}),HNe=Fr(Ot(jNe)),GNe=co(Kt(De({feeCalculator:De({lamportsPerSignature:ke()})}))),YNe=Fr(Qe()),ZNe=Fr(Qe()),JNe=De({err:JS,logs:Ot(Qe()),signature:Qe()}),XNe=De({result:T4(JNe),subscription:ke()}),QNe={"solana-client":"js/0.0.0-development"};class eFe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ys(l),h=this._buildArgs([],d,void 0,y),m=ple(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=ft(f,Fr(ke()));if("error"in g)throw new Ht(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=LWe(e),this._rpcWsEndpoint=r||KWe(e),this._rpcClient=XWe(e,s,i,o,a,c),this._rpcRequest=QWe(this._rpcClient),this._rpcBatchRequest=eNe(this._rpcClient),this._rpcWebSocket=new zWe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=ft(o,co(ke()));if("error"in a)throw new Ht(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=ft(t,Fr(Kt(ke())));if("error"in r)throw new Ht(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=ft(e,Fr(ke()));if("error"in t)throw new Ht(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=ft(e,aNe);if("error"in t)throw new Ht(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=ft(r,cNe);if("error"in s)throw new Ht(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=ft(s,co(FV));if("error"in i)throw new Ht(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=ft(s,co(FV));if("error"in i)throw new Ht(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ys(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=ft(c,lNe);if("error"in u)throw new Ht(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=ft(o,dNe);if("error"in a)throw new Ht(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=ft(s,fNe);if("error"in i)throw new Ht(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=ft(s,uNe);if("error"in i)throw new Ht(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=ft(o,co(Kt(cM)));if("error"in a)throw new Ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=ft(o,co(Kt(VV)));if("error"in a)throw new Ht(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ft(a,co(Ot(Kt(VV))));if("error"in c)throw new Ht(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ft(a,co(Ot(Kt(cM))));if("error"in c)throw new Ht(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ys(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=ft(a,Fr(yNe));if("error"in c)throw new Ht(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ys(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",o),c=await this._rpcRequest("getProgramAccounts",a),u=Ot(hNe),l=o.withContext===!0?ft(c,co(u)):ft(c,Fr(u));if("error"in l)throw new Ht(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=ft(o,Fr(Ot(mNe)));if("error"in a)throw new Ht(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Kn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:yg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:yg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await r1(1e3),i||(h=await y(),i))return;d({__type:yg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===yg.PROCESSED)l=d.response;else throw new bG(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:yg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await r1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===yg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await r1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Pv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Pv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Pv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Pv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:yg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===yg.PROCESSED)a=c.response;else throw new SG(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=ft(e,Fr(Ot(xNe)));if("error"in t)throw new Ht(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=ft(r,TNe);if("error"in s)throw new Ht(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=ft(i,Fr(ke()));if("error"in o)throw new Ht(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=ft(i,Fr(Qe()));if("error"in o)throw new Ht(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=ft(s,Fr(Ot(Uo)));if("error"in i)throw new Ht(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Kn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=ft(s,MNe);if("error"in i)throw new Ht(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=ft(i,Fr(ke()));if("error"in o)throw new Ht(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=ft(r,tNe);if("error"in s)throw new Ht(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ys(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=ft(a,FWe);if("error"in c)throw new Ht(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=ft(e,rNe);if("error"in t)throw new Ht(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=ft(i,sNe);if("error"in o)throw new Ht(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=ft(e,iNe);if("error"in t)throw new Ht(t.error,"failed to get epoch schedule");const r=t.result;return new KSe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=ft(e,oNe);if("error"in t)throw new Ht(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ft(s,BNe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=ft(r,UNe);if("error"in s)throw new Ht(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ft(t,HNe);if("error"in r)throw new Ht(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ft(s,GNe);if("error"in i)throw new Ht(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Jr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=ft(i,co(Kt(ke())));if("error"in o)throw new Ht(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=ft(s,nNe);if("error"in i)throw new Ht(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=ft(i,VNe);if("error"in o)throw new Ht(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=ft(o,qNe);if("error"in a)throw new Ht(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=ft(e,Fr(ZWe));if("error"in t)throw new Ht(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=ft(e,Fr(Qe()));if("error"in t)throw new Ht(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ft(o,KNe);if("error"in a)throw a.error;return a.result}case"none":{const a=ft(o,ONe);if("error"in a)throw a.error;return a.result}default:{const a=ft(o,DNe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:X5(d,u.message)},version:d}))}:null}}}catch(a){throw new Ht(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ft(o,WNe);if("error"in a)throw a.error;return a.result}case"none":{const a=ft(o,NNe);if("error"in a)throw a.error;return a.result}default:{const a=ft(o,LNe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ht(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=ft(i,JWe);if("error"in o)throw new Ht(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=ft(o,Q5);if("error"in a)throw new Ht(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:X5(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ys(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=ft(o,o$);if("error"in a)throw new Ht(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ft(c,o$);if("error"in u)throw new Ht(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ys(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ft(c,Q5);if("error"in u)throw new Ht(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:X5(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=ft(s,FNe);if("error"in i)throw new Ht(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new gd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:cs.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=ft(i,Fr(Ot(ke())));if("error"in o)throw new Ht(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ft(s,vle);if("error"in i)throw new Ht(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=ft(s,vle);if("error"in i)throw new Ht(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=ft(s,Q5);if("error"in i)throw new Ht(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new gd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:cs.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=ft(s,o$);if("error"in i)throw new Ht(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=ft(o,o$);if("error"in a)throw new Ht(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=ft(i,pNe);if("error"in o)throw new Ht(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=ft(i,bNe);if("error"in o)throw new Ht(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new NV({key:e,state:NV.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=x4.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=ft(r,YNe);if("error"in s)throw new Ht(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await r1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=WSe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await r1($Se/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ys(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=ft(i,co(ke()));if("error"in o)throw new Ht(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=ft(p,Sle);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof cs){let m=e;s=new cs,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=cs.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=ft(y,Sle);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new WV("failed to simulate transaction: "+h.error.message,m)}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Jr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=ft(a,ZNe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new WV("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${o} error for argument`,i,a.message),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=ft(e,SNe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=ple([e.method,t],!0),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Kn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const s=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},s)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=ft(e,vNe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",s?{filters:s}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=ft(e,XNe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=ft(e,wNe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=ft(e,PNe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=ft(e,_Ne);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=ft(e,ENe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class jv{constructor(e){this._keypair=void 0,this._keypair=e??gle()}static generate(){return new jv(gle())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=rO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new jv({publicKey:r,secretKey:e})}static fromSeed(e){const t=rO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new jv({publicKey:t,secretKey:r})}get publicKey(){return new tt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Rg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),TA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),TA(),we(yn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class tFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Rg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=es(Rg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=es(Rg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new tt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(_G.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class _G{constructor(){}static createLookupTable(e){const[t,r]=tt.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Rg.CreateLookupTable,i=$n(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ac.programId,isSigner:!1,isWritable:!1}];return[new ps({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Rg.FreezeLookupTable,r=$n(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ps({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Rg.ExtendLookupTable,r=$n(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:ac.programId,isSigner:!1,isWritable:!1}),new ps({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Rg.DeactivateLookupTable,r=$n(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ps({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Rg.CloseLookupTable,r=$n(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ps({programId:this.programId,keys:s,data:r})}}_G.programId=new tt("AddressLookupTab1e1111111111111111111111111");class rFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(gf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=es(gf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=es(gf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=es(gf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=es(gf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(EG.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const gf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),TA("microLamports")])}});class EG{constructor(){}static requestUnits(e){const t=gf.RequestUnits,r=$n(t,e);return new ps({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=gf.RequestHeapFrame,r=$n(t,e);return new ps({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=gf.SetComputeUnitLimit,r=$n(t,e);return new ps({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=gf.SetComputeUnitPrice,r=$n(t,{microLamports:BigInt(e.microLamports)});return new ps({keys:[],programId:this.programId,data:r})}}EG.programId=new tt("ComputeBudget111111111111111111111111111111");const Ale=64,wle=32,Ile=64,Ple=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class C4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Kn(t.length===wle,`Public Key must be ${wle} bytes but received ${t.length} bytes`),Kn(s.length===Ile,`Signature must be ${Ile} bytes but received ${s.length} bytes`);const o=Ple.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Ple.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new ps({keys:[],programId:C4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Kn(t.length===Ale,`Private key must be ${Ale} bytes but received ${t.length} bytes`);try{const i=jv.fromSecretKey(t),o=i.publicKey.toBytes(),a=yG(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}C4.programId=new tt("Ed25519SigVerify111111111111111111111111111");const nFe=(n,e)=>{const t=P4.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};P4.utils.isValidPrivateKey;const sFe=P4.getPublicKey,_le=32,eW=20,Ele=64,iFe=11,tW=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Hv{constructor(){}static publicKeyToEthAddress(e){Kn(e.length===Ele,`Public key must be ${Ele} bytes but received ${e.length} bytes`);try{return V.Buffer.from(lle(Jr(e))).slice(-eW)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Hv.createInstructionWithEthAddress({ethAddress:Hv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Kn(a.length===eW,`Address must be ${eW} bytes but received ${a.length} bytes`);const c=1+iFe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(tW.span+r.length);return tW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Jr(s),ethAddress:Jr(a),recoveryId:i},h),h.fill(Jr(r),tW.span),new ps({keys:[],programId:Hv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Kn(t.length===_le,`Private key must be ${_le} bytes but received ${t.length} bytes`);try{const i=Jr(t),o=sFe(i,!1).slice(1),a=V.Buffer.from(lle(Jr(r))),[c,u]=nFe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Hv.programId=new tt("KeccakSecp256k11111111111111111111111111111");var ZSe;const JSe=new tt("StakeConfig11111111111111111111111111111111");class XSe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class DB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}ZSe=DB;DB.default=new ZSe(0,0,tt.default);class oFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Sa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=es(Sa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new XSe(new tt(t.staker),new tt(t.withdrawer)),lockup:new DB(r.unixTimestamp,r.epoch,new tt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),es(Sa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=es(Sa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new tt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=es(Sa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new tt(i),newAuthorizedPubkey:new tt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=es(Sa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),es(Sa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=es(Sa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),es(Sa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(M4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Sa=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),cWe(),uWe()])},Authorize:{index:1,layout:F([U("instruction"),yn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),yn("newAuthorized"),U("stakeAuthorizationType"),I1("authoritySeed"),yn("authorityOwner")])}}),aFe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class M4{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||DB.default,o=Sa.Initialize,a=$n(o,{authorized:{staker:Jr(r.staker.toBuffer()),withdrawer:Jr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Jr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:xA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ps(c)}static createAccountWithSeed(e){const t=new cs;t.add(ac.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new cs;t.add(ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Sa.Delegate,o=$n(i);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:bD,isSigner:!1,isWritable:!1},{pubkey:JSe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Sa.Authorize,c=$n(a,{newAuthorized:Jr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!1,isWritable:!1}),new cs().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Sa.AuthorizeWithSeed,l=$n(u,{newAuthorized:Jr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Jr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Qd,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!1,isWritable:!1}),new cs().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Sa.Split,a=$n(o,{lamports:i});return new ps({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){const t=new cs;return t.add(ac.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,basePubkey:i,seed:o,lamports:a}=e,c=new cs;return c.add(ac.allocate({accountPubkey:s,basePubkey:i,seed:o,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Sa.Merge,o=$n(i);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:bD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Sa.Withdraw,c=$n(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:bD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!1,isWritable:!1}),new cs().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Sa.Deactivate,i=$n(s);return new cs().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}M4.programId=new tt("Stake11111111111111111111111111111111111111");M4.space=200;class QSe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class cFe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Cg))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=es(Cg.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new QSe(new tt(t.nodePubkey),new tt(t.authorizedVoter),new tt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=es(Cg.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new tt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=es(Cg.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new tt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new tt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=es(Cg.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Nx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Cg=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),lWe()])},Authorize:{index:1,layout:F([U("instruction"),yn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),dWe()])}}),uFe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Nx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Cg.InitializeAccount,o=$n(i,{voteInit:{nodePubkey:Jr(s.nodePubkey.toBuffer()),authorizedVoter:Jr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Jr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:xA,isSigner:!1,isWritable:!1},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ps(a)}static createAccount(e){const t=new cs;return t.add(ac.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Cg.Authorize,a=$n(o,{newAuthorized:Jr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new cs().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Cg.AuthorizeWithSeed,u=$n(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Jr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Jr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Qd,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new cs().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Cg.Withdraw,a=$n(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new cs().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return Nx.withdraw(e)}}Nx.programId=new tt("Vote111111111111111111111111111111111111111");Nx.space=3731;const eke=new tt("Va1idator1nfo111111111111111111111111111111"),lFe=De({name:Qe(),website:kr(Qe()),details:kr(Qe()),keybaseUsername:kr(Qe())});class xG{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(tu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new tt(t.slice(0,Qu));t=t.slice(Qu);const a=t.slice(0,1)[0]===1;t=t.slice(1),s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(eke)&&s[1].isSigner){const i=I1().decode(V.Buffer.from(t)),o=JSON.parse(i);return gSe(o,lFe),new xG(s[1].publicKey,o)}return null}}const dFe=new tt("Vote111111111111111111111111111111111111111"),fFe=F([yn("nodePubkey"),yn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),yn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([yn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class TG{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=fFe.decode(Jr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new TG({nodePubkey:new tt(r.nodePubkey),authorizedWithdrawer:new tt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(hFe),priorVoters:gFe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function hFe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new tt(n)}}function xle({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new tt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function gFe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(xle),...n.slice(0,e).map(xle)]}const Tle={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function mFe(n,e){const t=e===!1?"http":"https";if(!n)return Tle[t].devnet;const r=Tle[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function yFe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const pFe=1e9;var bFe=Object.freeze(Object.defineProperty({__proto__:null,Account:iWe,AddressLookupTableAccount:NV,AddressLookupTableInstruction:tFe,AddressLookupTableProgram:_G,Authorized:XSe,BLOCKHASH_CACHE_TIMEOUT_MS:WSe,BPF_LOADER_DEPRECATED_PROGRAM_ID:oWe,BPF_LOADER_PROGRAM_ID:PWe,BpfLoader:_We,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:gf,ComputeBudgetInstruction:rFe,ComputeBudgetProgram:EG,Connection:eFe,Ed25519Program:C4,Enum:nWe,EpochSchedule:KSe,FeeCalculatorLayout:DSe,Keypair:jv,LAMPORTS_PER_SOL:pFe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Rg,Loader:iS,Lockup:DB,MAX_SEED_LENGTH:BSe,Message:gd,MessageAccountKeys:aM,MessageV0:sS,NONCE_ACCOUNT_LENGTH:LV,NonceAccount:x4,PACKET_DATA_SIZE:Uy,PUBLIC_KEY_LENGTH:Qu,PublicKey:tt,SIGNATURE_LENGTH_IN_BYTES:EA,SOLANA_SCHEMA:z2,STAKE_CONFIG_ID:JSe,STAKE_INSTRUCTION_LAYOUTS:Sa,SYSTEM_INSTRUCTION_LAYOUTS:zs,SYSVAR_CLOCK_PUBKEY:Qd,SYSVAR_EPOCH_SCHEDULE_PUBKEY:yWe,SYSVAR_INSTRUCTIONS_PUBKEY:pWe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:pD,SYSVAR_RENT_PUBKEY:xA,SYSVAR_REWARDS_PUBKEY:bWe,SYSVAR_SLOT_HASHES_PUBKEY:SWe,SYSVAR_SLOT_HISTORY_PUBKEY:kWe,SYSVAR_STAKE_HISTORY_PUBKEY:bD,Secp256k1Program:Hv,SendTransactionError:WV,SolanaJSONRPCError:Ht,SolanaJSONRPCErrorCode:MWe,StakeAuthorizationLayout:aFe,StakeInstruction:oFe,StakeProgram:M4,Struct:pG,SystemInstruction:wWe,SystemProgram:ac,Transaction:cs,TransactionExpiredBlockheightExceededError:bG,TransactionExpiredNonceInvalidError:Pv,TransactionExpiredTimeoutError:SG,TransactionInstruction:ps,TransactionMessage:vG,TransactionStatus:yg,VALIDATOR_INFO_KEY:eke,VERSION_PREFIX_MASK:_4,VOTE_PROGRAM_ID:dFe,ValidatorInfo:xG,VersionedMessage:kG,VersionedTransaction:AG,VoteAccount:TG,VoteAuthorizationLayout:uFe,VoteInit:QSe,VoteInstruction:cFe,VoteProgram:Nx,clusterApiUrl:mFe,sendAndConfirmRawTransaction:yFe,sendAndConfirmTransaction:KV},Symbol.toStringTag,{value:"Module"})),SFe=Td(bFe);(function(n){var e=K&&K.__importDefault||function(P){return P&&P.__esModule?P:{default:P}};Object.defineProperty(n,"__esModule",{value:!0}),n.map=n.array=n.rustEnum=n.str=n.vecU8=n.tagged=n.vec=n.bool=n.option=n.publicKey=n.i128=n.u128=n.i64=n.u64=n.struct=n.f64=n.f32=n.i32=n.u32=n.i16=n.u16=n.i8=n.u8=void 0;const t=yue,r=SFe,s=e(UDe.exports);var i=yue;Object.defineProperty(n,"u8",{enumerable:!0,get:function(){return i.u8}}),Object.defineProperty(n,"i8",{enumerable:!0,get:function(){return i.s8}}),Object.defineProperty(n,"u16",{enumerable:!0,get:function(){return i.u16}}),Object.defineProperty(n,"i16",{enumerable:!0,get:function(){return i.s16}}),Object.defineProperty(n,"u32",{enumerable:!0,get:function(){return i.u32}}),Object.defineProperty(n,"i32",{enumerable:!0,get:function(){return i.s32}}),Object.defineProperty(n,"f32",{enumerable:!0,get:function(){return i.f32}}),Object.defineProperty(n,"f64",{enumerable:!0,get:function(){return i.f64}}),Object.defineProperty(n,"struct",{enumerable:!0,get:function(){return i.struct}});class o extends t.Layout{constructor(R,$,z){super(R,z),this.blob=t.blob(R),this.signed=$}decode(R,$=0){const z=new s.default(this.blob.decode(R,$),10,"le");return this.signed?z.fromTwos(this.span*8).clone():z}encode(R,$,z=0){return this.signed&&(R=R.toTwos(this.span*8)),this.blob.encode(R.toArrayLike(Xe.Buffer,"le",this.span),$,z)}}function a(P){return new o(8,!1,P)}n.u64=a;function c(P){return new o(8,!0,P)}n.i64=c;function u(P){return new o(16,!1,P)}n.u128=u;function l(P){return new o(16,!0,P)}n.i128=l;class d extends t.Layout{constructor(R,$,z,T){super(R.span,T),this.layout=R,this.decoder=$,this.encoder=z}decode(R,$){return this.decoder(this.layout.decode(R,$))}encode(R,$,z){return this.layout.encode(this.encoder(R),$,z)}getSpan(R,$){return this.layout.getSpan(R,$)}}function y(P){return new d(t.blob(32),R=>new r.PublicKey(R),R=>R.toBuffer(),P)}n.publicKey=y;class h extends t.Layout{constructor(R,$){super(-1,$),this.layout=R,this.discriminator=t.u8()}encode(R,$,z=0){return R==null?this.discriminator.encode(0,$,z):(this.discriminator.encode(1,$,z),this.layout.encode(R,$,z+1)+1)}decode(R,$=0){const z=this.discriminator.decode(R,$);if(z===0)return null;if(z===1)return this.layout.decode(R,$+1);throw new Error("Invalid option "+this.property)}getSpan(R,$=0){const z=this.discriminator.decode(R,$);if(z===0)return 1;if(z===1)return this.layout.getSpan(R,$+1)+1;throw new Error("Invalid option "+this.property)}}function m(P,R){return new h(P,R)}n.option=m;function f(P){return new d(t.u8(),g,b,P)}n.bool=f;function g(P){if(P===0)return!1;if(P===1)return!0;throw new Error("Invalid bool: "+P)}function b(P){return P?1:0}function S(P,R){const $=t.u32("length"),z=t.struct([$,t.seq(P,t.offset($,-$.span),"values")]);return new d(z,({values:T})=>T,T=>({values:T}),R)}n.vec=S;function p(P,R,$){const z=t.struct([a("tag"),R.replicate("data")]);function T({tag:v,data:k}){if(!v.eq(P))throw new Error("Invalid tag, expected: "+P.toString("hex")+", got: "+v.toString("hex"));return k}return new d(z,T,v=>({tag:P,data:v}),$)}n.tagged=p;function I(P){const R=t.u32("length"),$=t.struct([R,t.blob(t.offset(R,-R.span),"data")]);return new d($,({data:z})=>z,z=>({data:z}),P)}n.vecU8=I;function w(P){return new d(I(),R=>R.toString("utf-8"),R=>Xe.Buffer.from(R,"utf-8"),P)}n.str=w;function A(P,R,$){const z=t.union($??t.u8(),R);return P.forEach((T,v)=>z.addVariant(v,T,T.property)),z}n.rustEnum=A;function _(P,R,$){const z=t.struct([t.seq(P,R,"values")]);return new d(z,({values:T})=>T,T=>({values:T}),$)}n.array=_;class E extends t.Layout{constructor(R,$,z){super(R.span+$.span,z),this.keyLayout=R,this.valueLayout=$}decode(R,$){$=$||0;const z=this.keyLayout.decode(R,$),T=this.valueLayout.decode(R,$+this.keyLayout.getSpan(R,$));return[z,T]}encode(R,$,z){z=z||0;const T=this.keyLayout.encode(R[0],$,z),v=this.valueLayout.encode(R[1],$,z+T);return T+v}getSpan(R,$){return this.keyLayout.getSpan(R,$)+this.valueLayout.getSpan(R,$)}}function M(P,R,$){const z=t.u32("length"),T=t.struct([z,t.seq(new E(P,R),t.offset(z,-z.span),"values")]);return new d(T,({values:v})=>new Map(v),v=>({values:Array.from(v.entries())}),$)}n.map=M})(xr);const kR=n=>"version"in n;var kFe=Object.freeze({__proto__:null,encode:function(n){return n.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),"0x")},decode:function(n){n.indexOf("0x")===0&&(n=n.substr(2)),n.length%2==1&&(n="0"+n);let e=n.match(/.{2}/g);return e===null?V.Buffer.from([]):V.Buffer.from(e.map(t=>parseInt(t,16)))}});function tke(n){return new TextDecoder("utf-8").decode(n)}function rke(n){return new TextEncoder().encode(n)}var vFe=Object.freeze({__proto__:null,decode:tke,encode:rke});function qV(n){return Ie.encode(n)}var AFe=Object.freeze({__proto__:null,encode:qV,decode:function(n){return Ie.decode(n)}});function nke(n){return V.Buffer.from(j0e(n))}var wFe=Object.freeze({__proto__:null,encode:function(n){return SV(n)},decode:nke}),IFe=Object.freeze({__proto__:null,hex:kFe,utf8:vFe,bs58:AFe,base64:wFe});function RG(n){const e=new Map;return n.errors&&n.errors.forEach(t=>{var r;let s=(r=t.msg)!==null&&r!==void 0?r:t.name;e.set(t.code,s)}),e}function ske(n,...e){if(n.args.length!=e.length)throw new Error("Invalid argument length");const t={};let r=0;return n.args.forEach(s=>{t[s.name]=e[r],r+=1}),t}function B4(n,e={}){n.forEach(t=>{if("accounts"in t)B4(t.accounts,e[t.name]);else if(e[t.name]===void 0)throw new Error(`Invalid arguments: ${t.name} not provided.`)})}function cd(n){return n instanceof Ee?n:new Ee(n)}class PFe extends TypeError{constructor(e,t){let r;const{message:s,...i}=e,{path:o}=e;super(o.length===0?s:"At path: "+o.join(".")+" -- "+s),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var a;return(a=r)!=null?a:r=[e,...t()]}}}function Gv(n){return typeof n=="object"&&n!=null}function Vp(n){return typeof n=="string"?JSON.stringify(n):""+n}function _Fe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c="Expected a value of type `"+o+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Vp(r)+"`"}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Rle(n,e,t,r){var s;Gv(s=n)&&typeof s[Symbol.iterator]=="function"||(n=[n]);for(const i of n){const o=_Fe(i,e,t,r);o&&(yield o)}}function*CG(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s};if(i&&(n=e.coercer(n,a),o&&e.type!=="type"&&Gv(e.schema)&&Gv(n)&&!Array.isArray(n)))for(const u in n)e.schema[u]===void 0&&delete n[u];let c=!0;for(const u of e.validator(n,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=CG(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o});for(const h of y)h[0]?(c=!1,yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Gv(n)&&(n[u]=l))}if(c)for(const u of e.refiner(n,a))c=!1,yield[u,void 0];c&&(yield[void 0,n])}class Db{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,this.validator=s?(c,u)=>Rle(s(c,u),u,this,c):()=>[],this.refiner=i?(c,u)=>Rle(i(c,u),u,this,c):()=>[]}assert(e){return function(t,r){const s=$2(t,r);if(s[0])throw s[0]}(e,this)}create(e){return MG(e,this)}is(e){return ike(e,this)}mask(e){return function(t,r){const s=$2(t,r,{coerce:!0,mask:!0});if(s[0])throw s[0];return s[1]}(e,this)}validate(e,t={}){return $2(e,this,t)}}function MG(n,e){const t=$2(n,e,{coerce:!0});if(t[0])throw t[0];return t[1]}function ike(n,e){return!$2(n,e)[0]}function $2(n,e,t={}){const r=CG(n,e,t),s=function(i){const{done:o,value:a}=i.next();return o?void 0:a}(r);return s[0]?[new PFe(s[0],function*(){for(const i of r)i[0]&&(yield i[0])}),void 0]:[void 0,s[1]]}function OB(n,e){return new Db({type:n,schema:null,validator:e})}function rW(n){return new Db({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+Vp(e)})}function Cle(n){const e=Vp(n),t=typeof n;return new Db({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator:r=>r===n||"Expected the literal `"+e+"`, but received: "+Vp(r)})}function a$(n){return new Db({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function c$(){return OB("number",n=>typeof n=="number"&&!isNaN(n)||"Expected a number, but received: "+Vp(n))}function SD(n){return new Db({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function P1(){return OB("string",n=>typeof n=="string"||"Expected a string, but received: "+Vp(n))}function _y(n){const e=Object.keys(n);return new Db({type:"type",schema:n,*entries(t){if(Gv(t))for(const r of e)yield[r,t[r],n[r]]},validator:t=>Gv(t)||"Expected an object, but received: "+Vp(t)})}function oke(n){const e=n.map(t=>t.type).join(" | ");return new Db({type:"union",schema:null,coercer:(t,r)=>(n.find(s=>{const[i]=s.validate(t,{coerce:!0});return!i})||BG()).coercer(t,r),validator(t,r){const s=[];for(const i of n){const[...o]=CG(t,i,r),[a]=o;if(!a[0])return[];for(const[c]of o)c&&s.push(c)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Vp(t),...s]}})}function BG(){return OB("unknown",()=>!0)}async function ake(n,e,t){if(e.length<=99)return await Mle(n,e,t);{const r=function(s,i){return Array.apply(0,new Array(Math.ceil(s.length/i))).map((o,a)=>s.slice(a*i,(a+1)*i))}(e,99);return(await Promise.all(r.map(s=>Mle(n,s,t)))).flat()}}async function Mle(n,e,t){const r=t??n.commitment;return(await n.getMultipleAccountsInfo(e,r)).map((s,i)=>s===null?null:{publicKey:e[i],account:s})}async function cke(n,e,t,r,s){t&&t.length>0&&e.sign(...t);const i=e._compile(),o=i.serialize(),a=e._serialize(o).toString("base64"),c={encoding:"base64",commitment:r??n.commitment};if(s){const d=(Array.isArray(s)?s:i.nonProgramIds()).map(y=>y.toBase58());c.accounts={encoding:"base64",addresses:d}}t&&(c.sigVerify=!0);const u=[a,c],l=MG(await n._rpcRequest("simulateTransaction",u),TFe);if("error"in l){let d;if("data"in l.error&&(d=l.error.data.logs,d&&Array.isArray(d))){const y=`
    `,h=y+d.join(y);console.error(l.error.message,h)}throw new Up("failed to simulate transaction: "+l.error.message,d)}return l.result}function EFe(n){return function(e,t,r){return new Db({...e,coercer:(s,i)=>ike(s,t)?e.coercer(r(s,i),i):e.coercer(s,i)})}(uke(n),xFe,e=>"error"in e?e:{...e,result:MG(e.result,n)})}const xFe=uke(BG());function uke(n){return oke([_y({jsonrpc:Cle("2.0"),id:P1(),result:n}),_y({jsonrpc:Cle("2.0"),id:P1(),error:_y({code:BG(),message:P1(),data:SD(OB("any",()=>!0))})})])}const TFe=(Ble=_y({err:a$(oke([_y({}),P1()])),logs:a$(rW(P1())),accounts:SD(a$(rW(a$(_y({executable:OB("boolean",n=>typeof n=="boolean"),owner:P1(),lamports:c$(),data:rW(P1()),rentEpoch:SD(c$())}))))),unitsConsumed:SD(c$())}),EFe(_y({context:_y({slot:c$()}),value:Ble})));var Ble,RFe=Object.freeze({__proto__:null,invoke:async function(n,e,t,r){n=cd(n),r||(r=RA());const s=new Dn;if(s.add(new us({programId:n,keys:e??[],data:t})),r.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await r.sendAndConfirm(s,[])},getMultipleAccounts:ake,simulateTransaction:cke});class lke{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t==null?void 0:t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var s,i,o,a;if(r===void 0&&(r=this.opts),kR(e))t&&e.sign(t);else if(e.feePayer=(s=e.feePayer)!==null&&s!==void 0?s:this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(r.preflightCommitment)).blockhash,t)for(const u of t)e.partialSign(u);const c=(e=await this.wallet.signTransaction(e)).serialize();try{return await zle(this.connection,c,r)}catch(u){if(u instanceof jV){const l=qV(kR(e)?((i=e.signatures)===null||i===void 0?void 0:i[0])||new Uint8Array:(o=e.signature)!==null&&o!==void 0?o:new Uint8Array),d=await this.connection.getTransaction(l,{commitment:"confirmed"});if(d){const y=(a=d.meta)===null||a===void 0?void 0:a.logMessages;throw y?new Up(u.message,y):u}throw u}throw u}}async sendAll(e,t){var r,s,i;t===void 0&&(t=this.opts);const o=(await this.connection.getLatestBlockhash(t.preflightCommitment)).blockhash;let a=e.map(l=>{var d,y;if(kR(l.tx)){let h=l.tx;return l.signers&&h.sign(l.signers),h}{let h=l.tx,m=(d=l.signers)!==null&&d!==void 0?d:[];return h.feePayer=(y=h.feePayer)!==null&&y!==void 0?y:this.wallet.publicKey,h.recentBlockhash=o,m.forEach(f=>{h.partialSign(f)}),h}});const c=await this.wallet.signAllTransactions(a),u=[];for(let l=0;l<a.length;l+=1){const d=c[l],y=d.serialize();try{u.push(await zle(this.connection,y,t))}catch(h){if(h instanceof jV){const m=qV(kR(d)?((r=d.signatures)===null||r===void 0?void 0:r[0])||new Uint8Array:(s=d.signature)!==null&&s!==void 0?s:new Uint8Array),f=await this.connection.getTransaction(m,{commitment:"confirmed"});if(f){const g=(i=f.meta)===null||i===void 0?void 0:i.logMessages;throw g?new Up(h.message,g):h}throw h}throw h}}return u}async simulate(e,t,r,s){let i,o=(await this.connection.getLatestBlockhash(r??this.connection.commitment)).blockhash;if(kR(e)?(t&&(e.sign(t),e=await this.wallet.signTransaction(e)),i=await this.connection.simulateTransaction(e,{commitment:r})):(e.feePayer=e.feePayer||this.wallet.publicKey,e.recentBlockhash=o,t&&(e=await this.wallet.signTransaction(e)),i=await cke(this.connection,e,t,r,s)),i.value.err)throw new CFe(i.value);return i.value}}class CFe extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function zle(n,e,t){const r=t&&{skipPreflight:t.skipPreflight,preflightCommitment:t.preflightCommitment||t.commitment},s=await n.sendRawTransaction(e,r),i=(await n.confirmTransaction(s,t&&t.commitment)).value;if(i.err)throw new jV(`Raw transaction ${s} failed (${JSON.stringify(i)})`);return s}class jV extends Error{constructor(e){super(e)}}function MFe(n){HV=n}function RA(){return HV===null?lke.local():HV}let HV=null;const BFe=new Set(["anchor-deprecated-state","debug-logs"]),dke=new Map;function z4(n){return dke.get(n)!==void 0}var zFe=Object.freeze({__proto__:null,set:function(n){if(!BFe.has(n))throw new Error("Invalid feature");dke.set(n,!0)},isSet:z4});class uM extends Error{constructor(e){super(e),this.name="IdlError"}}class Fx{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,s=/^Program \w* success/,i=[];for(let o=0;o<e.length;o++){if(s.exec(e[o])){i.pop();continue}const a=(t=r.exec(e[o]))===null||t===void 0?void 0:t[1];a&&i.push(new Ee(a))}return new Fx(i)}}class Yv extends Error{constructor(e,t,r,s,i,o){super(r.join(`
`).replace("Program log: ","")),this.errorLogs=r,this.logs=s,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=Fx.parse(s)}static parse(e){if(!e)return null;const t=e.findIndex(u=>u.startsWith("Program log: AnchorError"));if(t===-1)return null;const r=e[t],s=[r];let i;if(t+1<e.length){if(e[t+1]==="Program log: Left:"){const u=/^Program log: (.*)$/,l=u.exec(e[t+2])[1],d=u.exec(e[t+4])[1];i=[new Ee(l),new Ee(d)],s.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const u=/^Program log: (Left|Right): (.*)$/,l=u.exec(e[t+1])[2],d=u.exec(e[t+2])[2];s.push(...e.slice(t+1,t+3)),i=[l,d]}}const o=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(o){const[u,l,d]=o.slice(1,4),y={code:u,number:parseInt(l)};return new Yv(y,d,s,e,void 0,i)}if(a){const[u,l,d,y,h]=a.slice(1,6),m={code:d,number:parseInt(y)},f={file:u,line:parseInt(l)};return new Yv(m,h,s,e,f,i)}if(c){const[u,l,d,y]=c.slice(1,5),h=u,m={code:l,number:parseInt(d)};return new Yv(m,y,s,e,h,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class lM extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=Fx.parse(r))}static parse(e,t){const r=e.toString();let s,i;if(r.includes("custom program error:")){let a=r.split("custom program error: ");if(a.length!==2)return null;s=a[1]}else{const a=r.match(/"Custom":([0-9]+)}/g);if(!a||a.length>1)return null;s=a[0].match(/([0-9]+)/g)[0]}try{i=parseInt(s)}catch{return null}let o=t.get(i);return o!==void 0?new lM(i,o,e.logs):(o=fke.get(i),o!==void 0?new lM(i,o,e.logs):null)}get program(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return(e=this._programErrorStack)===null||e===void 0?void 0:e.stack}toString(){return this.msg}}function zG(n,e){z4("debug-logs")&&console.log("Translating error:",n);const t=Yv.parse(n.logs);if(t)return t;const r=lM.parse(n,e);if(r)return r;if(n.logs){const s={get:function(i,o){return o==="programErrorStack"?i.programErrorStack.stack:o==="program"?i.programErrorStack.stack[n.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return n.programErrorStack=Fx.parse(n.logs),new Proxy(n,s)}return n}const nr={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},fke=new Map([[nr.InstructionMissing,"8 byte instruction identifier not provided"],[nr.InstructionFallbackNotFound,"Fallback functions are not supported"],[nr.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[nr.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[nr.IdlInstructionStub,"The program was compiled without idl instructions"],[nr.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[nr.ConstraintMut,"A mut constraint was violated"],[nr.ConstraintHasOne,"A has_one constraint was violated"],[nr.ConstraintSigner,"A signer constraint was violated"],[nr.ConstraintRaw,"A raw constraint was violated"],[nr.ConstraintOwner,"An owner constraint was violated"],[nr.ConstraintRentExempt,"A rent exemption constraint was violated"],[nr.ConstraintSeeds,"A seeds constraint was violated"],[nr.ConstraintExecutable,"An executable constraint was violated"],[nr.ConstraintState,"A state constraint was violated"],[nr.ConstraintAssociated,"An associated constraint was violated"],[nr.ConstraintAssociatedInit,"An associated init constraint was violated"],[nr.ConstraintClose,"A close constraint was violated"],[nr.ConstraintAddress,"An address constraint was violated"],[nr.ConstraintZero,"Expected zero account discriminant"],[nr.ConstraintTokenMint,"A token mint constraint was violated"],[nr.ConstraintTokenOwner,"A token owner constraint was violated"],[nr.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[nr.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[nr.ConstraintMintDecimals,"A mint decimals constraint was violated"],[nr.ConstraintSpace,"A space constraint was violated"],[nr.RequireViolated,"A require expression was violated"],[nr.RequireEqViolated,"A require_eq expression was violated"],[nr.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[nr.RequireNeqViolated,"A require_neq expression was violated"],[nr.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[nr.RequireGtViolated,"A require_gt expression was violated"],[nr.RequireGteViolated,"A require_gte expression was violated"],[nr.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[nr.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[nr.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[nr.AccountDidNotDeserialize,"Failed to deserialize the account"],[nr.AccountDidNotSerialize,"Failed to serialize the account"],[nr.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[nr.AccountNotMutable,"The given account is not mutable"],[nr.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[nr.InvalidProgramId,"Program ID was not as expected"],[nr.InvalidProgramExecutable,"Program account is not executable"],[nr.AccountNotSigner,"The given account did not sign"],[nr.AccountNotSystemOwned,"The given account is not owned by the system program"],[nr.AccountNotInitialized,"The program expected this account to be already initialized"],[nr.AccountNotProgramData,"The given account is not a program data account"],[nr.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[nr.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[nr.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[nr.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[nr.StateInvalidAddress,"The given state account does not have the correct address"],[nr.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[nr.Deprecated,"The API being used is deprecated and should no longer be used"]]);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sO=function(){return sO=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var s in e=arguments[t])Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=e[s]);return n},sO.apply(this,arguments)};function $Fe(n){return n.toLowerCase()}var DFe=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],OFe=/[^A-Z0-9]+/gi;function $le(n,e,t){return e instanceof RegExp?n.replace(e,t):e.reduce(function(r,s){return r.replace(s,t)},n)}function KFe(n,e){return e===void 0&&(e={}),function(t,r){r===void 0&&(r={});for(var s=r.splitRegexp,i=s===void 0?DFe:s,o=r.stripRegexp,a=o===void 0?OFe:o,c=r.transform,u=c===void 0?$Fe:c,l=r.delimiter,d=l===void 0?" ":l,y=$le($le(t,i,"$1\0$2"),a,"\0"),h=0,m=y.length;y.charAt(h)==="\0";)h++;for(;y.charAt(m-1)==="\0";)m--;return y.slice(h,m).split("\0").map(u).join(d)}(n,sO({delimiter:"."},e))}class yu{static fieldLayout(e,t){const r=e.name!==void 0?Fo(e.name):void 0;switch(e.type){case"bool":return xr.bool(r);case"u8":return xr.u8(r);case"i8":return xr.i8(r);case"u16":return xr.u16(r);case"i16":return xr.i16(r);case"u32":return xr.u32(r);case"i32":return xr.i32(r);case"f32":return xr.f32(r);case"u64":return xr.u64(r);case"i64":return xr.i64(r);case"f64":return xr.f64(r);case"u128":return xr.u128(r);case"i128":return xr.i128(r);case"bytes":return xr.vecU8(r);case"string":return xr.str(r);case"publicKey":return xr.publicKey(r);default:if("vec"in e.type)return xr.vec(yu.fieldLayout({name:void 0,type:e.type.vec},t),r);if("option"in e.type)return xr.option(yu.fieldLayout({name:void 0,type:e.type.option},t),r);if("defined"in e.type){const s=e.type.defined;if(t===void 0)throw new uM("User defined types not provided");const i=t.filter(o=>o.name===s);if(i.length!==1)throw new uM(`Type not found: ${JSON.stringify(e)}`);return yu.typeDefLayout(i[0],t,r)}if("array"in e.type){let s=e.type.array[0],i=e.type.array[1],o=yu.fieldLayout({name:void 0,type:s},t);return xr.array(o,i,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t=[],r){if(e.type.kind==="struct"){const s=e.type.fields.map(i=>yu.fieldLayout(i,t));return xr.struct(s,r)}if(e.type.kind==="enum"){let s=e.type.variants.map(i=>{const o=Fo(i.name);if(i.fields===void 0)return xr.struct([],o);const a=i.fields.map(c=>{if(!c.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return yu.fieldLayout(c,t)});return xr.struct(a,o)});return r!==void 0?xr.rustEnum(s).replicate(r):xr.rustEnum(s,r)}throw new Error(`Unknown type kint: ${e}`)}}class $4{constructor(e){this.idl=e,this.ixLayout=$4.parseIxLayout(e);const t=new Map;e.instructions.forEach(r=>{const s=nW("global",r.name);t.set(Ie.encode(s),{layout:this.ixLayout.get(r.name),name:r.name})}),e.state&&e.state.methods.map(r=>{const s=nW("state",r.name);t.set(Ie.encode(s),{layout:this.ixLayout.get(r.name),name:r.name})}),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,r){const s=V.Buffer.alloc(1e3),i=Fo(t),o=this.ixLayout.get(i);if(!o)throw new Error(`Unknown method: ${i}`);const a=o.encode(r,s),c=s.slice(0,a);return V.Buffer.concat([nW(e,t),c])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map(r=>{let s=r.args.map(o=>{var a,c;return yu.fieldLayout(o,Array.from([...(a=e.accounts)!==null&&a!==void 0?a:[],...(c=e.types)!==null&&c!==void 0?c:[]]))});const i=Fo(r.name);return[i,xr.struct(s,i)]}).concat(e.instructions.map(r=>{let s=r.args.map(o=>{var a,c;return yu.fieldLayout(o,Array.from([...(a=e.accounts)!==null&&a!==void 0?a:[],...(c=e.types)!==null&&c!==void 0?c:[]]))});const i=Fo(r.name);return[i,xr.struct(s,i)]}));return new Map(t)}decode(e,t="hex"){typeof e=="string"&&(e=t==="hex"?V.Buffer.from(e,"hex"):Ie.decode(e));let r=Ie.encode(e.slice(0,8)),s=e.slice(8);const i=this.sighashLayouts.get(r);return i?{data:i.layout.decode(s),name:i.name}:null}format(e,t){return Pg.format(e,t,this.idl)}}class Pg{static format(e,t,r){const s=r.instructions.filter(a=>e.name===a.name)[0];if(s===void 0)return console.error("Invalid instruction given"),null;const i=s.args.map(a=>({name:a.name,type:Pg.formatIdlType(a.type),data:Pg.formatIdlData(a,e.data[a.name],r.types)})),o=Pg.flattenIdlAccounts(s.accounts);return{args:i,accounts:t.map((a,c)=>c<o.length?{name:o[c].name,...a}:{name:void 0,...a})}}static formatIdlType(e){if(typeof e=="string")return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if(typeof e.type=="string")return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map(s=>this.formatIdlData({name:"",type:e.type.vec},s)).join(", ")+"]";if(e.type.hasOwnProperty("option"))return t===null?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if(e.type.hasOwnProperty("defined")){if(r===void 0)throw new Error("User defined types not provided");const s=r.filter(i=>i.name===e.type.defined);if(s.length!==1)throw new Error(`Type not found: ${e.type.defined}`);return Pg.formatIdlDataDefined(s[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if(e.type.kind==="struct"){const s=e.type;return"{ "+Object.keys(t).map(i=>{const o=s.fields.filter(a=>a.name===i)[0];if(o===void 0)throw new Error("Unable to find type");return i+": "+Pg.formatIdlData(o,t[i],r)}).join(", ")+" }"}if(e.type.variants.length===0)return"{}";if(e.type.variants[0].name){const s=e.type.variants,i=Object.keys(t)[0],o=t[i],a=Object.keys(o).map(u=>{var l;const d=o[u],y=(l=s[i])===null||l===void 0?void 0:l.filter(h=>h.name===u)[0];if(y===void 0)throw new Error("Unable to find variant");return u+": "+Pg.formatIdlData(y,d,r)}).join(", "),c=Fo(i,{pascalCase:!0});return a.length===0?c:`${c} { ${a} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map(r=>{const s=function(i){const o=i.replace(/([A-Z])/g," $1");return o.charAt(0).toUpperCase()+o.slice(1)}(r.name);if(r.hasOwnProperty("accounts")){const i=t?`${t} > ${s}`:s;return Pg.flattenIdlAccounts(r.accounts,i)}return{...r,name:t?`${t} > ${s}`:s}}).flat()}}function nW(n,e){var t;let r=`${n}:${t===void 0&&(t={}),KFe(e,sO({delimiter:"_"},t))}`;return V.Buffer.from(jS.exports.sha256.digest(r)).slice(0,8)}function KB(n,e){if(e.type.kind==="enum"){let t=e.type.variants.map(r=>r.fields===void 0?0:r.fields.map(s=>{if(typeof s!="object"||!("name"in s))throw new Error("Tuple enum variants not yet implemented.");return D2(n,s.type)}).reduce((s,i)=>s+i));return Math.max(...t)+1}return e.type.fields===void 0?0:e.type.fields.map(t=>D2(n,t.type)).reduce((t,r)=>t+r,0)}function D2(n,e){var t,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+D2(n,e.option);if("coption"in e)return 4+D2(n,e.coption);if("defined"in e){const s=(r=(t=n.types)===null||t===void 0?void 0:t.filter(i=>i.name===e.defined))!==null&&r!==void 0?r:[];if(s.length!==1)throw new uM(`Type not found: ${JSON.stringify(e)}`);return KB(n,s[0])}if("array"in e){let s=e.array[0],i=e.array[1];return D2(n,s)*i}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const LFe=8;class Zv{constructor(e){if(e.accounts===void 0)return void(this.accountLayouts=new Map);const t=e.accounts.map(r=>[r.name,yu.typeDefLayout(r,e.types)]);this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const r=V.Buffer.alloc(1e3),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);const i=s.encode(t,r);let o=r.slice(0,i),a=Zv.accountDiscriminator(e);return V.Buffer.concat([a,o])}decode(e,t){if(Zv.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const r=t.slice(8),s=this.accountLayouts.get(e);if(!s)throw new Error(`Unknown account: ${e}`);return s.decode(r)}memcmp(e,t){const r=Zv.accountDiscriminator(e);return{offset:0,bytes:Ie.encode(t?V.Buffer.concat([r,t]):r)}}size(e){var t;return 8+((t=KB(this.idl,e))!==null&&t!==void 0?t:0)}static accountDiscriminator(e){return V.Buffer.from(jS.exports.sha256.digest(`account:${Fo(e,{pascalCase:!0})}`)).slice(0,8)}}class hke{constructor(e){if(e.events===void 0)return void(this.layouts=new Map);const t=e.events.map(r=>{let s={name:r.name,type:{kind:"struct",fields:r.fields.map(i=>({name:i.name,type:i.type}))}};return[r.name,yu.typeDefLayout(s,e.types)]});this.layouts=new Map(t),this.discriminators=new Map(e.events===void 0?[]:e.events.map(r=>[SV(gke(r.name)),r.name]))}decode(e){let t;try{t=V.Buffer.from(j0e(e))}catch{return null}const r=SV(t.slice(0,8)),s=this.discriminators.get(r);if(s===void 0)return null;const i=this.layouts.get(s);if(!i)throw new Error(`Unknown event: ${s}`);return{data:i.decode(t.slice(8)),name:s}}}function gke(n){return V.Buffer.from(jS.exports.sha256.digest(`event:${n}`)).slice(0,8)}class mke{constructor(e){if(e.state===void 0)throw new Error("Idl state not defined.");this.layout=yu.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=V.Buffer.alloc(1e3),s=this.layout.encode(t,r),i=await $G(e),o=r.slice(0,s);return V.Buffer.concat([i,o])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function $G(n){let e=z4("anchor-deprecated-state")?"account":"state";return V.Buffer.from(jS.exports.sha256.digest(`${e}:${n}`)).slice(0,8)}class WFe{constructor(e){if(e.types===void 0)return void(this.typeLayouts=new Map);const t=e.types.map(r=>[r.name,yu.typeDefLayout(r,e.types)]);this.typeLayouts=new Map(t),this.idl=e}encode(e,t){const r=V.Buffer.alloc(1e3),s=this.typeLayouts.get(e);if(!s)throw new Error(`Unknown type: ${e}`);const i=s.encode(t,r);return r.slice(0,i)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class D4{constructor(e){this.instruction=new $4(e),this.accounts=new Zv(e),this.events=new hke(e),e.state&&(this.state=new mke(e)),this.types=new WFe(e)}}var NFe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Xe.global<"u"?Xe.global:typeof self<"u"?self:{};function FFe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}class Iu{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var O4=Iu;class _1 extends Iu{isCount(){throw new Error("ExternalLayout is abstract")}}class yke extends _1{constructor(e,t,r){if(!(e instanceof Iu))throw new TypeError("layout must be a Layout");if(t===void 0)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof K4||this.layout instanceof pke}decode(e,t){return t===void 0&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return r===void 0&&(r=0),this.layout.encode(e,t,r+this.offset)}}class K4 extends Iu{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class pke extends Iu{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return t===void 0&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return r===void 0&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const GV=Math.pow(2,32);function bke(n){const e=Math.floor(n/GV);return{hi32:e,lo32:n-e*GV}}function Ske(n,e){return n*GV+e}class UFe extends Iu{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t);return Ske(e.readUInt32LE(t+4),r)}encode(e,t,r){r===void 0&&(r=0);const s=bke(e);return t.writeUInt32LE(s.lo32,r),t.writeUInt32LE(s.hi32,r+4),8}}class VFe extends Iu{constructor(e){super(8,e)}decode(e,t){t===void 0&&(t=0);const r=e.readUInt32LE(t);return Ske(e.readInt32LE(t+4),r)}encode(e,t,r){r===void 0&&(r=0);const s=bke(e);return t.writeUInt32LE(s.lo32,r),t.writeInt32LE(s.hi32,r+4),8}}class qFe extends Iu{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce((i,o)=>i&&o instanceof Iu,!0))throw new TypeError("fields must be array of Layout instances");typeof t=="boolean"&&r===void 0&&(r=t,t=void 0);for(const i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=e.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(e,t);return t+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,t){t===void 0&&(t=0);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(e,t)),t+=s.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){r===void 0&&(r=0);const s=r;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=e[a.property];u!==void 0&&(o=a.encode(u,t,r),0>c&&(c=a.getSpan(t,r)))}i=r,r+=c}return i+o-s}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class kke{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class Dle extends kke{constructor(e,t){if(!(e instanceof _1&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class vke extends Iu{constructor(e,t,r){const s=e instanceof K4||e instanceof pke;if(s)e=new Dle(new yke(e));else if(e instanceof _1&&e.isCount())e=new Dle(e);else if(!(e instanceof kke))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t===void 0&&(t=null),!(t===null||t instanceof Iu))throw new TypeError("defaultLayout must be null or a Layout");if(t!==null){if(0>t.span)throw new Error("defaultLayout must have constant span");t.property===void 0&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&s&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=s,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;t===void 0&&(t=0);const s=this.discriminator,i=s.decode(e,t);let o=this.registry[i];if(o===void 0){let a=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(a=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[o.property]=this.defaultLayout.decode(e,t+a)}else r=o.decode(e,t);return r}encode(e,t,r){r===void 0&&(r=0);const s=this.getSourceVariant(e);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],t,r),a+o.encode(e[o.property],t,r+a)}return s.encode(e,t,r)}addVariant(e,t,r){const s=new jFe(this,e,t,r);return this.registry[e]=s,s}getVariant(e,t){let r=e;return Xe.Buffer.isBuffer(e)&&(t===void 0&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class jFe extends Iu{constructor(e,t,r,s){if(!(e instanceof vke))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof Iu))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,s),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;t===void 0&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(t===void 0&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){r===void 0&&(r=0);let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=s;if(this.layout&&(this.layout.encode(e[this.property],t,r+s),i+=this.layout.getSpan(t,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class HFe extends Iu{constructor(e,t){if(!(e instanceof _1&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof _1||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){t===void 0&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let s=this.length;if(this.length instanceof _1&&(s=e.length),!Xe.Buffer.isBuffer(e)||s!==e.length)throw new TypeError((i="Blob.encode",((o=this).property?i+"["+o.property+"]":i)+" requires (length "+s+") Buffer as src"));var i,o;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,s,"hex"),this.length instanceof _1&&this.length.encode(s,t,r),s}}var GFe=(n,e,t)=>new yke(n,e,t),mc=n=>new K4(1,n),Mg=n=>new K4(4,n),pg=n=>new UFe(n),Ih=n=>new VFe(n),hn=(n,e,t)=>new qFe(n,e,t),Ake=(n,e,t)=>new vke(n,e,t),QS=(n,e)=>new HFe(n,e);class YFe{constructor(e){}encode(e,t){switch(Fo(e)){case"initializeMint":return function({decimals:r,mintAuthority:s,freezeAuthority:i}){return Bo({initializeMint:{decimals:r,mintAuthority:s.toBuffer(),freezeAuthorityOption:!!i,freezeAuthority:(i||Ee.default).toBuffer()}})}(t);case"initializeAccount":return Bo({initializeAccount:{}});case"initializeMultisig":return function({m:r}){return Bo({initializeMultisig:{m:r}})}(t);case"transfer":return function({amount:r}){return Bo({transfer:{amount:r}})}(t);case"approve":return function({amount:r}){return Bo({approve:{amount:r}})}(t);case"revoke":return Bo({revoke:{}});case"setAuthority":return function({authorityType:r,newAuthority:s}){return Bo({setAuthority:{authorityType:r,newAuthority:s}})}(t);case"mintTo":return function({amount:r}){return Bo({mintTo:{amount:r}})}(t);case"burn":return function({amount:r}){return Bo({burn:{amount:r}})}(t);case"closeAccount":return Bo({closeAccount:{}});case"freezeAccount":return Bo({freezeAccount:{}});case"thawAccount":return Bo({thawAccount:{}});case"transferChecked":return function({amount:r,decimals:s}){return Bo({transferChecked:{amount:r,decimals:s}})}(t);case"approvedChecked":return function({amount:r,decimals:s}){return Bo({approveChecked:{amount:r,decimals:s}})}(t);case"mintToChecked":return function({amount:r,decimals:s}){return Bo({mintToChecked:{amount:r,decimals:s}})}(t);case"burnChecked":return function({amount:r,decimals:s}){return Bo({burnChecked:{amount:r,decimals:s}})}(t);case"intializeAccount2":return function({authority:r}){return Bo({initilaizeAccount2:{authority:r}})}(t);case"syncNative":return Bo({syncNative:{}});case"initializeAccount3":return function({authority:r}){return Bo({initializeAccount3:{authority:r}})}(t);case"initializeMultisig2":return function({m:r}){return Bo({initializeMultisig2:{m:r}})}(t);case"initializeMint2":return function({decimals:r,mintAuthority:s,freezeAuthority:i}){return Bo({encodeInitializeMint2:{decimals:r,mintAuthority:s,freezeAuthority:i}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const ki=Ake(mc("instruction"));function Ek(n){return QS(32,n)}function Bo(n){let e=Xe.Buffer.alloc(ZFe),t=ki.encode(n,e);return e.slice(0,t)}ki.addVariant(0,hn([mc("decimals"),QS(32,"mintAuthority"),mc("freezeAuthorityOption"),Ek("freezeAuthority")]),"initializeMint"),ki.addVariant(1,hn([]),"initializeAccount"),ki.addVariant(2,hn([mc("m")]),"initializeMultisig"),ki.addVariant(3,hn([pg("amount")]),"transfer"),ki.addVariant(4,hn([pg("amount")]),"approve"),ki.addVariant(5,hn([]),"revoke"),ki.addVariant(6,hn([mc("authorityType"),mc("newAuthorityOption"),Ek("newAuthority")]),"setAuthority"),ki.addVariant(7,hn([pg("amount")]),"mintTo"),ki.addVariant(8,hn([pg("amount")]),"burn"),ki.addVariant(9,hn([]),"closeAccount"),ki.addVariant(10,hn([]),"freezeAccount"),ki.addVariant(11,hn([]),"thawAccount"),ki.addVariant(12,hn([pg("amount"),mc("decimals")]),"transferChecked"),ki.addVariant(13,hn([pg("amount"),mc("decimals")]),"approvedChecked"),ki.addVariant(14,hn([pg("amount"),mc("decimals")]),"mintToChecked"),ki.addVariant(15,hn([pg("amount"),mc("decimals")]),"burnedChecked"),ki.addVariant(16,hn([Ek("authority")]),"InitializeAccount2"),ki.addVariant(17,hn([]),"syncNative"),ki.addVariant(18,hn([Ek("authority")]),"initializeAccount3"),ki.addVariant(19,hn([mc("m")]),"initializeMultisig2"),ki.addVariant(20,hn([mc("decimals"),Ek("mintAuthority"),mc("freezeAuthorityOption"),Ek("freezeAuthority")]),"initializeMint2");const ZFe=Math.max(...Object.values(ki.registry).map(n=>n.span));class JFe{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function kD(n){return new DG(QS(8),e=>OG.fromBuffer(e),e=>e.toBuffer(),n)}function _v(n){return new DG(QS(32),e=>new Ee(e),e=>e.toBuffer(),n)}function O2(n,e){return new XFe(n,e)}class DG extends O4{constructor(e,t,r,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class XFe extends O4{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=Mg()}encode(e,t,r=0){return e==null?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e,t=0){const r=this.discriminator.decode(e,t);if(r===0)return null;if(r===1)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e,t=0){return this.layout.getSpan(e,t+4)+4}}function QFe(n){if(n===0)return!1;if(n===1)return!0;throw new Error("Invalid bool: "+n)}function eUe(n){return n?1:0}class OG extends Co{toBuffer(){const e=super.toArray().reverse(),t=Xe.Buffer.from(e);if(t.length===8)return t;if(t.length>=8)throw new Error("u64 too large");const r=Xe.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){if(e.length!==8)throw new Error(`Invalid buffer length: ${e.length}`);return new OG([...e].reverse().map(t=>`00${t.toString(16)}`.slice(-2)).join(""),16)}}class tUe{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const r=Xe.Buffer.alloc(165),s=Lle.encode(t,r);return r.slice(0,s)}case"mint":{const r=Xe.Buffer.alloc(82),s=Ole.encode(t,r);return r.slice(0,s)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(r){return Lle.decode(r)}(t);case"mint":return function(r){return Ole.decode(r)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return(t=KB(this.idl,e))!==null&&t!==void 0?t:0}}const Ole=hn([O2(_v(),"mintAuthority"),kD("supply"),mc("decimals"),(Kle="isInitialized",new DG(mc(),QFe,eUe,Kle)),O2(_v(),"freezeAuthority")]);var Kle;const Lle=hn([_v("mint"),_v("authority"),kD("amount"),O2(_v(),"delegate"),mc("state"),O2(kD(),"isNative"),kD("delegatedAmount"),O2(_v(),"closeAuthority")]);class rUe{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class nUe{constructor(e){}encode(e,t){throw new Error("SPL token does not have user-defined types")}decode(e,t){throw new Error("SPL token does not have user-defined types")}}class wke{constructor(e){this.instruction=new YFe(e),this.accounts=new tUe(e),this.events=new rUe(e),this.state=new JFe(e),this.types=new nUe(e)}}class sUe{constructor(e){}encode(e,t){switch(Fo(e)){case"createAccount":return function({lamports:r,space:s,owner:i}){return cl({createAccount:{lamports:r,space:s,owner:i.toBuffer()}})}(t);case"assign":return function({owner:r}){return cl({assign:{owner:r.toBuffer()}})}(t);case"transfer":return function({lamports:r}){return cl({transfer:{lamports:r}})}(t);case"createAccountWithSeed":return function({base:r,seed:s,lamports:i,space:o,owner:a}){return cl({createAccountWithSeed:{base:r.toBuffer(),seed:s,lamports:i,space:o,owner:a.toBuffer()}},ua.getVariant(3).span+s.length)}(t);case"advanceNonceAccount":return function({authorized:r}){return cl({advanceNonceAccount:{authorized:r.toBuffer()}})}(t);case"withdrawNonceAccount":return function({lamports:r}){return cl({withdrawNonceAccount:{lamports:r}})}(t);case"initializeNonceAccount":return function({authorized:r}){return cl({initializeNonceAccount:{authorized:r.toBuffer()}})}(t);case"authorizeNonceAccount":return function({authorized:r}){return cl({authorizeNonceAccount:{authorized:r.toBuffer()}})}(t);case"allocate":return function({space:r}){return cl({allocate:{space:r}})}(t);case"allocateWithSeed":return function({base:r,seed:s,space:i,owner:o}){return cl({allocateWithSeed:{base:r.toBuffer(),seed:s,space:i,owner:o.toBuffer()}},ua.getVariant(9).span+s.length)}(t);case"assignWithSeed":return function({base:r,seed:s,owner:i}){return cl({assignWithSeed:{base:r.toBuffer(),seed:s,owner:i.toBuffer()}},ua.getVariant(10).span+s.length)}(t);case"transferWithSeed":return function({lamports:r,seed:s,owner:i}){return cl({transferWithSeed:{lamports:r,seed:s,owner:i.toBuffer()}},ua.getVariant(11).span+s.length)}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("System does not have state")}}class iUe extends O4{constructor(e){super(-1,e),this.property=e,this.layout=hn([Mg("length"),Mg("lengthPadding"),QS(GFe(Mg(),-8),"chars")],this.property)}encode(e,t,r=0){if(e==null)return this.layout.span;const s={chars:Xe.Buffer.from(e,"utf8")};return this.layout.encode(s,t,r)}decode(e,t=0){return this.layout.decode(e,t).chars.toString()}getSpan(e,t=0){return Mg().span+Mg().span+new Co(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function u$(n){return new iUe(n)}function al(n){return QS(32,n)}const ua=Ake(Mg("instruction"));function cl(n,e){const t=Xe.Buffer.alloc(e??oUe),r=ua.encode(n,t);return e===void 0?t.slice(0,r):t}ua.addVariant(0,hn([Ih("lamports"),Ih("space"),al("owner")]),"createAccount"),ua.addVariant(1,hn([al("owner")]),"assign"),ua.addVariant(2,hn([Ih("lamports")]),"transfer"),ua.addVariant(3,hn([al("base"),u$("seed"),Ih("lamports"),Ih("space"),al("owner")]),"createAccountWithSeed"),ua.addVariant(4,hn([al("authorized")]),"advanceNonceAccount"),ua.addVariant(5,hn([Ih("lamports")]),"withdrawNonceAccount"),ua.addVariant(6,hn([al("authorized")]),"initializeNonceAccount"),ua.addVariant(7,hn([al("authorized")]),"authorizeNonceAccount"),ua.addVariant(8,hn([Ih("space")]),"allocate"),ua.addVariant(9,hn([al("base"),u$("seed"),Ih("space"),al("owner")]),"allocateWithSeed"),ua.addVariant(10,hn([al("base"),u$("seed"),al("owner")]),"assignWithSeed"),ua.addVariant(11,hn([Ih("lamports"),u$("seed"),al("owner")]),"transferWithSeed");const oUe=Math.max(...Object.values(ua.registry).map(n=>n.span));class aUe{constructor(e){}encode(e,t){throw new Error("System does not have state")}decode(e){throw new Error("System does not have state")}}class cUe{constructor(e){this.idl=e}async encode(e,t){if(e==="nonce"){const r=Xe.Buffer.alloc(nM),s=Nle.encode(t,r);return r.slice(0,s)}throw new Error(`Invalid account name: ${e}`)}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){if(e==="nonce")return function(r){return Nle.decode(r)}(t);throw new Error(`Invalid account name: ${e}`)}memcmp(e,t){if(e==="nonce")return{dataSize:nM};throw new Error(`Invalid account name: ${e}`)}size(e){var t;return(t=KB(this.idl,e))!==null&&t!==void 0?t:0}}class uUe extends O4{constructor(e,t,r,s){super(e.span,s),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Wle(n){return new uUe(QS(32),e=>new Ee(e),e=>e.toBuffer(),n)}const Nle=hn([Mg("version"),Mg("state"),Wle("authorizedPubkey"),Wle("nonce"),hn([pg("lamportsPerSignature")],"feeCalculator")]);class lUe{constructor(e){}decode(e){throw new Error("System program does not have events")}}class dUe{constructor(e){}encode(e,t){throw new Error("System does not have user-defined types")}decode(e,t){throw new Error("System does not have user-defined types")}}class Ike{constructor(e){this.instruction=new sUe(e),this.accounts=new cUe(e),this.events=new lUe(e),this.state=new aUe(e),this.types=new dUe(e)}}var fUe=Object.freeze({__proto__:null,hash:function(n){return jS.exports.sha256(n)}});function Pke(n,e,t){const r=V.Buffer.concat([n.toBuffer(),V.Buffer.from(e),t.toBuffer()]),s=jS.exports.sha256.digest(r);return new Ee(V.Buffer.from(s))}function _ke(n,e){let t=V.Buffer.alloc(0);n.forEach(function(i){if(i.length>32)throw new TypeError("Max seed length exceeded");t=V.Buffer.concat([t,hUe(i)])}),t=V.Buffer.concat([t,e.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);let r=jS.exports.sha256(new Uint8Array(t)),s=new Co(r,16).toArray(void 0,32);if(Ee.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new Ee(s)}function KG(n,e){let t,r=255;for(;r!=0;){try{t=_ke(n.concat(V.Buffer.from([r])),e)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[t,r]}throw new Error("Unable to find a viable program address nonce")}const hUe=n=>n instanceof V.Buffer?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);async function Eke(n,...e){let t=[V.Buffer.from([97,110,99,104,111,114])];e.forEach(s=>{t.push(s instanceof V.Buffer?s:cd(s).toBuffer())});const[r]=await Ee.findProgramAddress(t,cd(n));return r}var gUe=Object.freeze({__proto__:null,createWithSeedSync:Pke,createProgramAddressSync:_ke,findProgramAddressSync:KG,associated:Eke});const YV=new Ee("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ZV=new Ee("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var mUe=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:YV,ASSOCIATED_PROGRAM_ID:ZV,associatedAddress:async function({mint:n,owner:e}){return(await Ee.findProgramAddress([e.toBuffer(),YV.toBuffer(),n.toBuffer()],ZV))[0]}}),JV={exports:{}};(function(n,e){var t=typeof self<"u"?self:NFe,r=function(){function i(){this.fetch=!1,this.DOMException=t.DOMException}return i.prototype=t,new i}();(function(i){(function(o){var a="URLSearchParams"in i,c="Symbol"in i&&"iterator"in Symbol,u="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),l="FormData"in i,d="ArrayBuffer"in i;if(d)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(z){return z&&y.indexOf(Object.prototype.toString.call(z))>-1};function m(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(z))throw new TypeError("Invalid character in header field name");return z.toLowerCase()}function f(z){return typeof z!="string"&&(z=String(z)),z}function g(z){var T={next:function(){var v=z.shift();return{done:v===void 0,value:v}}};return c&&(T[Symbol.iterator]=function(){return T}),T}function b(z){this.map={},z instanceof b?z.forEach(function(T,v){this.append(v,T)},this):Array.isArray(z)?z.forEach(function(T){this.append(T[0],T[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(T){this.append(T,z[T])},this)}function S(z){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}function p(z){return new Promise(function(T,v){z.onload=function(){T(z.result)},z.onerror=function(){v(z.error)}})}function I(z){var T=new FileReader,v=p(T);return T.readAsArrayBuffer(z),v}function w(z){if(z.slice)return z.slice(0);var T=new Uint8Array(z.byteLength);return T.set(new Uint8Array(z)),T.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(z){var T;this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:u&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:l&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:a&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():d&&u&&(T=z)&&DataView.prototype.isPrototypeOf(T)?(this._bodyArrayBuffer=w(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d&&(ArrayBuffer.prototype.isPrototypeOf(z)||h(z))?this._bodyArrayBuffer=w(z):this._bodyText=z=Object.prototype.toString.call(z):this._bodyText="",this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},u&&(this.blob=function(){var z=S(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?S(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(I)}),this.text=function(){var z=S(this);if(z)return z;if(this._bodyBlob)return function(T){var v=new FileReader,k=p(v);return v.readAsText(T),k}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(T){for(var v=new Uint8Array(T),k=new Array(v.length),x=0;x<v.length;x++)k[x]=String.fromCharCode(v[x]);return k.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l&&(this.formData=function(){return this.text().then(M)}),this.json=function(){return this.text().then(JSON.parse)},this}b.prototype.append=function(z,T){z=m(z),T=f(T);var v=this.map[z];this.map[z]=v?v+", "+T:T},b.prototype.delete=function(z){delete this.map[m(z)]},b.prototype.get=function(z){return z=m(z),this.has(z)?this.map[z]:null},b.prototype.has=function(z){return this.map.hasOwnProperty(m(z))},b.prototype.set=function(z,T){this.map[m(z)]=f(T)},b.prototype.forEach=function(z,T){for(var v in this.map)this.map.hasOwnProperty(v)&&z.call(T,this.map[v],v,this)},b.prototype.keys=function(){var z=[];return this.forEach(function(T,v){z.push(v)}),g(z)},b.prototype.values=function(){var z=[];return this.forEach(function(T){z.push(T)}),g(z)},b.prototype.entries=function(){var z=[];return this.forEach(function(T,v){z.push([v,T])}),g(z)},c&&(b.prototype[Symbol.iterator]=b.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function E(z,T){var v,k,x=(T=T||{}).body;if(z instanceof E){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,T.headers||(this.headers=new b(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,x||z._bodyInit==null||(x=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=T.credentials||this.credentials||"same-origin",!T.headers&&this.headers||(this.headers=new b(T.headers)),this.method=(v=T.method||this.method||"GET",k=v.toUpperCase(),_.indexOf(k)>-1?k:v),this.mode=T.mode||this.mode||null,this.signal=T.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(x)}function M(z){var T=new FormData;return z.trim().split("&").forEach(function(v){if(v){var k=v.split("="),x=k.shift().replace(/\+/g," "),C=k.join("=").replace(/\+/g," ");T.append(decodeURIComponent(x),decodeURIComponent(C))}}),T}function P(z,T){T||(T={}),this.type="default",this.status=T.status===void 0?200:T.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in T?T.statusText:"OK",this.headers=new b(T.headers),this.url=T.url||"",this._initBody(z)}E.prototype.clone=function(){return new E(this,{body:this._bodyInit})},A.call(E.prototype),A.call(P.prototype),P.prototype.clone=function(){return new P(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},P.error=function(){var z=new P(null,{status:0,statusText:""});return z.type="error",z};var R=[301,302,303,307,308];P.redirect=function(z,T){if(R.indexOf(T)===-1)throw new RangeError("Invalid status code");return new P(null,{status:T,headers:{location:z}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(T,v){this.message=T,this.name=v;var k=Error(T);this.stack=k.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function $(z,T){return new Promise(function(v,k){var x=new E(z,T);if(x.signal&&x.signal.aborted)return k(new o.DOMException("Aborted","AbortError"));var C=new XMLHttpRequest;function B(){C.abort()}C.onload=function(){var O,D,W={status:C.status,statusText:C.statusText,headers:(O=C.getAllResponseHeaders()||"",D=new b,O.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(N){var H=N.split(":"),J=H.shift().trim();if(J){var Q=H.join(":").trim();D.append(J,Q)}}),D)};W.url="responseURL"in C?C.responseURL:W.headers.get("X-Request-URL");var L="response"in C?C.response:C.responseText;v(new P(L,W))},C.onerror=function(){k(new TypeError("Network request failed"))},C.ontimeout=function(){k(new TypeError("Network request failed"))},C.onabort=function(){k(new o.DOMException("Aborted","AbortError"))},C.open(x.method,x.url,!0),x.credentials==="include"?C.withCredentials=!0:x.credentials==="omit"&&(C.withCredentials=!1),"responseType"in C&&u&&(C.responseType="blob"),x.headers.forEach(function(O,D){C.setRequestHeader(D,O)}),x.signal&&(x.signal.addEventListener("abort",B),C.onreadystatechange=function(){C.readyState===4&&x.signal.removeEventListener("abort",B)}),C.send(x._bodyInit===void 0?null:x._bodyInit)})}$.polyfill=!0,i.fetch||(i.fetch=$,i.Headers=b,i.Request=E,i.Response=P),o.Headers=b,o.Request=E,o.Response=P,o.fetch=$,Object.defineProperty(o,"__esModule",{value:!0})})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;(e=s.fetch).default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,n.exports=e})(JV,JV.exports);var yUe=FFe(JV.exports);async function Fle(n,e){const t=await n.getAccountInfo(e);if(t===null)throw new Error("program account not found");const{program:r}=XV(t.data),s=await n.getAccountInfo(r.programdataAddress);if(s===null)throw new Error("program data account not found");const{programData:i}=XV(s.data);return i}const pUe=xr.rustEnum([xr.struct([],"uninitialized"),xr.struct([xr.option(xr.publicKey(),"authorityAddress")],"buffer"),xr.struct([xr.publicKey("programdataAddress")],"program"),xr.struct([xr.u64("slot"),xr.option(xr.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,xr.u32());function XV(n){return pUe.decode(n)}var bUe=Object.freeze({__proto__:null,verifiedBuild:async function(n,e,t=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${t}`,[s,i]=await Promise.all([Fle(n,e),yUe(r)]),o=(await i.json()).filter(c=>!c.aborted&&c.state==="Built"&&c.verified==="Verified");if(o.length===0)return null;const a=o[0];return s.slot.toNumber()!==a.verified_slot?null:a},fetchData:Fle,decodeUpgradeableLoaderState:XV}),SUe=Object.freeze({__proto__:null,sha256:fUe,rpc:RFe,publicKey:gUe,bytes:IFe,token:mUe,features:zFe,registry:bUe});const kUe=xr.struct([xr.publicKey("authority"),xr.vecU8("data")]);function LB(n,e){var t,r;let s={};const i=n.args?n.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${n==null?void 0:n.name} expecting: ${(r=(t=n.args)===null||t===void 0?void 0:t.map(o=>o.name))!==null&&r!==void 0?r:[]}`);s=e.pop()}return[e,s]}class CA{static build(e,t,r){if(e.name==="_inner")throw new uM("the _inner name is reserved");const s=(...i)=>{const[o,a]=LB(e,[...i]);B4(e.accounts,a.accounts);const c=s.accounts(a.accounts);return a.remainingAccounts!==void 0&&c.push(...a.remainingAccounts),z4("debug-logs")&&console.log("Outgoing account metas:",c),new us({keys:c,programId:r,data:t(e.name,ske(e,...o))})};return s.accounts=i=>CA.accountsArray(i,e.accounts,e.name),s}static accountsArray(e,t,r){return e?t.map(s=>{if(("accounts"in s?s.accounts:void 0)!==void 0){const i=e[s.name];return CA.accountsArray(i,s.accounts,r).flat()}{const i=s;let o;try{o=cd(e[s.name])}catch{throw new Error(`Wrong input type for account "${s.name}" in the instruction accounts object${r!==void 0?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:o,isWritable:i.isMut,isSigner:i.isSigner}}}).flat():[]}}class xke{static build(e,t,r,s){return async(...i)=>{var o;const a=t(...i),[,c]=LB(e,[...i]);if(s.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await s.sendAndConfirm(a,(o=c.signers)!==null&&o!==void 0?o:[],c.options)}catch(u){throw zG(u,r)}}}}class Tke{static build(e,t){return(...r)=>{var s,i,o;const[,a]=LB(e,[...r]),c=new Dn;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return(s=a.preInstructions)===null||s===void 0||s.forEach(u=>c.add(u)),(i=a.instructions)===null||i===void 0||i.forEach(u=>c.add(u)),c.add(t(...r)),(o=a.postInstructions)===null||o===void 0||o.forEach(u=>c.add(u)),c}}}class Rke{constructor(e,t,r=RA(),s=new D4(e)){this.provider=r,this.coder=s,this._idl=e,this._programId=t,this._address=sW(t),this._sub=null;const[i,o,a]=(()=>{var c;let u={},l={},d={};return(c=e.state)===null||c===void 0||c.methods.forEach(y=>{const h=CA.build(y,(b,S)=>s.instruction.encodeState(b,S),t);h.accounts=b=>function(p,I,w,A){if(w.name==="new"){const[_]=KG([],p);if(I.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:I.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:sW(p),isWritable:!0,isSigner:!1},{pubkey:_,isWritable:!1,isSigner:!1},{pubkey:$o.programId,isWritable:!1,isSigner:!1},{pubkey:p,isWritable:!1,isSigner:!1}]}return B4(w.accounts,A),[{pubkey:sW(p),isWritable:!0,isSigner:!1}]}(t,r,y,b).concat(CA.accountsArray(b,y.accounts,y.name));const m=Tke.build(y,h),f=xke.build(y,m,RG(e),r),g=Fo(y.name);u[g]=h,l[g]=m,d[g]=f}),[u,l,d]})();this.instruction=i,this.transaction=o,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(t===null)throw new Error(`Account does not exist ${e.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await $G(r.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(this._sub!==null)return this._sub.ee;const t=new H0e,r=this.provider.connection.onAccountChange(this.address(),s=>{const i=this.coder.state.decode(s.data);t.emit("change",i)},e);return this._sub={ee:t,listener:r},t}unsubscribe(){this._sub!==null&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then(async()=>{this._sub=null}).catch(console.error)}}function sW(n){let[e]=KG([],n);return Pke(e,"unversioned",n)}class Cke{constructor(e,t,r,s,i){this._idlAccount=t,this._programId=r,this._provider=s??RA(),this._coder=i??new D4(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const r=await this.getAccountInfo(e,t);return r===null?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(e,t){const r=await this.fetchNullable(e,t);if(r===null)throw new Error(`Account does not exist ${e.toString()}`);return r}async fetchMultiple(e,t){return(await ake(this._provider.connection,e.map(r=>cd(r)),t)).map(r=>r==null?null:this._coder.accounts.decode(this._idlAccount.name,r==null?void 0:r.account.data))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof Xe.Buffer?e:void 0)},...Array.isArray(e)?e:[]]})).map(({pubkey:t,account:r})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}))}subscribe(e,t){const r=vR.get(e.toString());if(r)return r.ee;const s=new H0e;e=cd(e);const i=this._provider.connection.onAccountChange(e,o=>{const a=this._coder.accounts.decode(this._idlAccount.name,o.data);s.emit("change",a)},t);return vR.set(e.toString(),{ee:s,listener:i}),s}async unsubscribe(e){let t=vR.get(e.toString());t?vR&&await this._provider.connection.removeAccountChangeListener(t.listener).then(()=>{vR.delete(e.toString())}).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return $o.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:t??r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(t??r),programId:this._programId})}async associated(...e){const t=await this.associatedAddress(...e);return await this.fetch(t)}async associatedAddress(...e){return await Eke(this._programId,...e)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(cd(e),t)}}const vR=new Map,vUe=13,AUe=14;class Mke{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new LG(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let s=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,((r=this._eventListeners.get(e))!==null&&r!==void 0?r:[]).concat(s)),this._eventCallbacks.set(s,[e,t]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(i,o)=>{if(!i.err)for(const a of this._eventParser.parseLogs(i.logs)){const c=this._eventListeners.get(a.name);c&&c.forEach(u=>{const l=this._eventCallbacks.get(u);if(l){const[,d]=l;d(a.data,o.slot,i.signature)}})}})),s}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let s=this._eventListeners.get(r);if(!s)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),s=s.filter(i=>i!==e),s.length===0&&this._eventListeners.delete(r),this._eventCallbacks.size==0&&(YD.exports.ok(this._eventListeners.size===0),this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class LG{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e){const t=new IUe(e),r=new wUe;let s=t.next();for(;s!==null;){let[i,o,a]=this.handleLog(r,s);i&&(yield i),o&&r.push(o),a&&r.pop(),s=t.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const t=e.startsWith("Program log: ")?e.slice(vUe):e.slice(AUe);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return t.match(/^Program (.*) success/g)!==null?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class wUe{constructor(){this.stack=[]}program(){return YD.exports.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){YD.exports.ok(this.stack.length>0),this.stack.pop()}}class IUe{constructor(e){this.logs=e}next(){if(this.logs.length===0)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const PUe=new Ee("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Bke(){return new wke(zke)}const zke={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class dM{constructor(e,t,r,s,i,o){this._args=e,this._accounts=t,this._provider=r,this._programId=s,this._idlIx=i,this._accountStore=new _Ue(r,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=Fo(t.name);if(!t.isSigner||this._accounts[r])Reflect.has(dM.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=dM.CONST_ACCOUNTS[r]);else{if(this._provider.wallet===void 0)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[r]=this._provider.wallet.publicKey}}for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=Fo(t.name);t.pda&&t.pda.seeds.length>0&&!this._accounts[r]&&await this.autoPopulatePda(t)}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map(i=>this.toBuffer(i))),r=await this.parseProgramId(e),[s]=await Ee.findProgramAddress(t,r);this._accounts[Fo(e.name)]=s}async parseProgramId(e){var t;if(!(!((t=e.pda)===null||t===void 0)&&t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new Ee(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=Fo(e.path.split(".")[0]),r=this._idlIx.args.findIndex(s=>s.name===t);if(r===-1)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[r]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),r=t[0],s=this._accounts[Fo(r)];if(t.length===1)return s;const i=await this._accountStore.fetchAccount(e.account,s);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let r;for(;t.length>0;)r=e[Fo(t[0])],t=t.slice(1);return r}toBufferValue(e,t){switch(e){case"u8":return Xe.Buffer.from([t]);case"u16":let r=Xe.Buffer.alloc(2);return r.writeUInt16LE(t),r;case"u32":let s=Xe.Buffer.alloc(4);return s.writeUInt32LE(t),s;case"u64":let i=Xe.Buffer.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return Xe.Buffer.from(rke(t));case"publicKey":return t.toBuffer();default:if(e.array)return Xe.Buffer.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}dM.CONST_ACCOUNTS={associatedTokenProgram:ZV,rent:eS,systemProgram:$o.programId,tokenProgram:YV};class _Ue{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const r=t.toString();if(!this._cache.has(r))if(e==="TokenAccount"){const s=await this._provider.connection.getAccountInfo(t);if(s===null)throw new Error(`invalid account info for ${r}`);const i=Bke().accounts.decode("token",s.data);this._cache.set(r,i)}else{const s=this._accounts[Fo(e)].fetch(t);this._cache.set(r,s)}return this._cache.get(r)}}class $ke{static build(e,t,r,s,i,o,a,c,u){return(...l)=>new EUe(l,s,i,o,a,c,e,t,r,u)}}class EUe{constructor(e,t,r,s,i,o,a,c,u,l){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=s,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._accountsResolver=new dM(e,this._accounts,a,c,u,l)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,Object.assign(this._accounts,e),this}accountsStrict(e){return this._autoResolveAccounts=!1,Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class oS{constructor(e,t,r,s){t=cd(t),r||(r=RA()),this._idl=e,this._provider=r,this._programId=t,this._coder=s??new D4(e),this._events=new Mke(this._programId,r,this._coder);const[i,o,a,c,u,l,d,y]=class{static build(h,m,f,g){const b={},S={},p={},I={},w={},A={},_=RG(h),E=h.accounts?class{static build(P,R,$,z){var T;const v={};return(T=P.accounts)===null||T===void 0||T.forEach(k=>{const x=Fo(k.name);v[x]=new Cke(P,k,$,z,R)}),v}}.build(h,m,f,g):{},M=class{static build(P,R,$,z){if(P.state!==void 0)return new Rke(P,$,z,R)}}.build(h,m,f,g);return h.instructions.forEach(P=>{const R=CA.build(P,(C,B)=>m.instruction.encode(C,B),f),$=Tke.build(P,R),z=xke.build(P,$,_,g),T=class{static build(C,B,O,D,W,L,N){return async(...H)=>{var J;const Q=B(...H),[,Y]=LB(C,[...H]);let X;if(D.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{X=await D.simulate(Q,Y.signers,(J=Y.options)===null||J===void 0?void 0:J.commitment)}catch(ee){throw zG(ee,O)}if(X===void 0)throw new Error("Unable to simulate transaction");const re=X.logs;if(!re)throw new Error("Simulated logs not found");const se=[];if(N.events){let ee=new LG(L,W);for(const ne of ee.parseLogs(re))se.push(ne)}return{events:se,raw:re}}}}.build(P,$,_,g,m,f,h),v=class{static build(C,B,O,D){const W=B.accounts.find(N=>N.isMut),L=!!B.returns;if(!W&&L)return async(...N)=>{var H,J;let Q=await O(...N);const Y=`Program return: ${C} `;let X=Q.raw.find(ee=>ee.startsWith(Y));if(!X)throw new Error("View expected return log");let re=nke(X.slice(Y.length)),se=B.returns;if(!se)throw new Error("View expected return type");return yu.fieldLayout({type:se},Array.from([...(H=D.accounts)!==null&&H!==void 0?H:[],...(J=D.types)!==null&&J!==void 0?J:[]])).decode(re)}}}.build(f,P,T,h),k=$ke.build(g,f,P,R,$,z,T,v,E),x=Fo(P.name);S[x]=R,p[x]=$,b[x]=z,I[x]=T,w[x]=k,v&&(A[x]=v)}),[b,S,p,E,I,w,M,A]}}.build(e,this._coder,t,r);this.rpc=i,this.instruction=o,this.transaction=a,this.account=c,this.simulate=u,this.methods=l,this.state=d,this.views=y}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=cd(e),s=await oS.fetchIdl(r,t);if(!s)throw new Error(`IDL not found for program: ${e.toString()}`);return new oS(s,r,t)}static async fetchIdl(e,t){t=t??RA();const r=cd(e),s=await async function(u){const l=(await Ee.findProgramAddress([],u))[0];return await Ee.createWithSeed(l,"anchor:idl",u)}(r),i=await t.connection.getAccountInfo(s);if(!i)return null;let o=(a=i.data.slice(8),kUe.decode(a));var a;const c=VDe(o.data);return JSON.parse(tke(c))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class xUe{constructor(e){}encode(e,t){if(Fo(e)==="create")return Xe.Buffer.alloc(0);throw new Error(`Invalid instruction: ${e}`)}encodeState(e,t){throw new Error("SPL associated token does not have state")}}class TUe{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have state")}decode(e){throw new Error("SPL associated token does not have state")}}class RUe{constructor(e){this.idl=e}async encode(e,t){throw new Error(`Invalid account name: ${e}`)}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){throw new Error(`Invalid account name: ${e}`)}memcmp(e,t){throw new Error(`Invalid account name: ${e}`)}size(e){var t;return(t=KB(this.idl,e))!==null&&t!==void 0?t:0}}class CUe{constructor(e){}decode(e){throw new Error("SPL associated token program does not have events")}}class MUe{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have user-defined types")}decode(e,t){throw new Error("SPL associated token does not have user-defined types")}}class BUe{constructor(e){this.instruction=new xUe(e),this.accounts=new RUe(e),this.events=new CUe(e),this.state=new TUe(e),this.types=new MUe(e)}}const zUe=new Ee("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function $Ue(n){return new oS(Ule,zUe,n,new BUe(Ule))}const Ule={version:"0.1.0",name:"spl_associated_token",instructions:[{name:"create",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"associatedAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}]};class DUe{static token(e){return function(t){return new oS(zke,PUe,t,Bke())}(e)}static associatedToken(e){return $Ue(e)}}const OUe=new Ee("11111111111111111111111111111111");function KUe(n){return new oS(Vle,OUe,n,new Ike(Vle))}const Vle={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class LUe{static system(e){return KUe(e)}}var WUe=Object.freeze(Object.defineProperty({__proto__:null,web3:fLe,ACCOUNT_DISCRIMINATOR_SIZE:LFe,AccountClient:Cke,AnchorError:Yv,AnchorProvider:lke,BorshAccountsCoder:Zv,BorshCoder:D4,BorshEventCoder:hke,BorshInstructionCoder:$4,BorshStateCoder:mke,EventManager:Mke,EventParser:LG,IdlError:uM,LangErrorCode:nr,LangErrorMessage:fke,MethodsBuilderFactory:$ke,Native:LUe,Program:oS,ProgramError:lM,ProgramErrorStack:Fx,Spl:DUe,SplTokenCoder:wke,StateClient:Rke,SystemCoder:Ike,eventDiscriminator:gke,getProvider:RA,parseIdlErrors:RG,setProvider:MFe,splitArgsAndCtx:LB,stateDiscriminator:$G,toInstruction:ske,translateAddress:cd,translateError:zG,utils:SUe,validateAccounts:B4,BN:Co},Symbol.toStringTag,{value:"Module"})),cc=Td(WUe),tr={},L4={};Object.defineProperty(L4,"__esModule",{value:!0});L4.decodeAccount=NUe;L4.decodeAccountWithRemaining=FUe;const Dke=cc;function NUe(n,e,t){if(n.accountInfo.owner.equals(e.programId))if(n.accountInfo.data.subarray(0,8).equals(Dke.BorshAccountsCoder.accountDiscriminator(t.ACCOUNT_NAME)))try{const s=e.coder.accounts.decode(t.ACCOUNT_NAME,n.accountInfo.data);return{type:"ok",key:n.accountId,data:new t(s,n.accountId)}}catch(r){return{type:"error",key:n.accountId,error:r}}else return{type:"error",key:n.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:n.accountId,error:new Error("not owned by program")}}function FUe(n,e,t,r){if(n.accountInfo.owner.equals(e.programId))if(n.accountInfo.data.subarray(0,8).equals(Dke.BorshAccountsCoder.accountDiscriminator(t.ACCOUNT_NAME)))try{const i=e.coder.accounts.decode(t.ACCOUNT_NAME,n.accountInfo.data.subarray(0,t.MIN_DATA_SIZE));return{type:"ok",key:n.accountId,data:new t(i,n.accountId,r(n.accountInfo.data.subarray(t.MIN_DATA_SIZE),i))}}catch(s){return{type:"error",key:n.accountId,error:s}}else return{type:"error",key:n.accountId,error:new Error("discriminator mismatch")};else return{type:"error",key:n.accountId,error:new Error("not owned by program")}}var WB={};function iO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function UUe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function NB(n,...e){if(!UUe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function VUe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");iO(n.outputLen),iO(n.blockLen)}function MA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Oke(n,e){NB(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const iW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qUe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),oW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),$d=(n,e)=>n<<32-e|n>>>e,qle=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,jUe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function jle(n){for(let e=0;e<n.length;e++)n[e]=jUe(n[e])}function HUe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function W4(n){return typeof n=="string"&&(n=HUe(n)),NB(n),n}function GUe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];NB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class WG{clone(){return this._cloneInto()}}function NG(n){const e=r=>n().update(W4(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Kke(n=32){if(iW&&typeof iW.getRandomValues=="function")return iW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function YUe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const ZUe=(n,e,t)=>n&e^~n&t,JUe=(n,e,t)=>n&e^n&t^e&t;class Lke extends WG{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=oW(this.buffer)}update(e){MA(this);const{view:t,buffer:r,blockLen:s}=this;e=W4(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=oW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){MA(this),Oke(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;YUe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=oW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const l$=BigInt(2**32-1),QV=BigInt(32);function Wke(n,e=!1){return e?{h:Number(n&l$),l:Number(n>>QV&l$)}:{h:Number(n>>QV&l$)|0,l:Number(n&l$)|0}}function Nke(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Wke(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const XUe=(n,e)=>BigInt(n>>>0)<<QV|BigInt(e>>>0),QUe=(n,e,t)=>n>>>t,e7e=(n,e,t)=>n<<32-t|e>>>t,t7e=(n,e,t)=>n>>>t|e<<32-t,r7e=(n,e,t)=>n<<32-t|e>>>t,n7e=(n,e,t)=>n<<64-t|e>>>t-32,s7e=(n,e,t)=>n>>>t-32|e<<64-t,i7e=(n,e)=>e,o7e=(n,e)=>n,Fke=(n,e,t)=>n<<t|e>>>32-t,Uke=(n,e,t)=>e<<t|n>>>32-t,Vke=(n,e,t)=>e<<t-32|n>>>64-t,qke=(n,e,t)=>n<<t-32|e>>>64-t;function a7e(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const c7e=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),u7e=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,l7e=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),d7e=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,f7e=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),h7e=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,g7e={fromBig:Wke,split:Nke,toBig:XUe,shrSH:QUe,shrSL:e7e,rotrSH:t7e,rotrSL:r7e,rotrBH:n7e,rotrBL:s7e,rotr32H:i7e,rotr32L:o7e,rotlSH:Fke,rotlSL:Uke,rotlBH:Vke,rotlBL:qke,add:a7e,add3L:c7e,add3H:u7e,add4L:l7e,add4H:d7e,add5H:h7e,add5L:f7e};var Mr=g7e;const[m7e,y7e]=(()=>Mr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),xm=new Uint32Array(80),Tm=new Uint32Array(80);class p7e extends Lke{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)xm[p]=e.getUint32(t),Tm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=xm[p-15]|0,w=Tm[p-15]|0,A=Mr.rotrSH(I,w,1)^Mr.rotrSH(I,w,8)^Mr.shrSH(I,w,7),_=Mr.rotrSL(I,w,1)^Mr.rotrSL(I,w,8)^Mr.shrSL(I,w,7),E=xm[p-2]|0,M=Tm[p-2]|0,P=Mr.rotrSH(E,M,19)^Mr.rotrBH(E,M,61)^Mr.shrSH(E,M,6),R=Mr.rotrSL(E,M,19)^Mr.rotrBL(E,M,61)^Mr.shrSL(E,M,6),$=Mr.add4L(_,R,Tm[p-7],Tm[p-16]),z=Mr.add4H($,A,P,xm[p-7],xm[p-16]);xm[p]=z|0,Tm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Mr.rotrSH(d,y,14)^Mr.rotrSH(d,y,18)^Mr.rotrBH(d,y,41),w=Mr.rotrSL(d,y,14)^Mr.rotrSL(d,y,18)^Mr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Mr.add5L(S,w,_,y7e[p],Tm[p]),M=Mr.add5H(E,b,I,A,m7e[p],xm[p]),P=E|0,R=Mr.rotrSH(r,s,28)^Mr.rotrBH(r,s,34)^Mr.rotrBH(r,s,39),$=Mr.rotrSL(r,s,28)^Mr.rotrBL(r,s,34)^Mr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Mr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Mr.add3L(P,$,T);r=Mr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Mr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Mr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Mr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Mr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Mr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Mr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Mr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Mr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){xm.fill(0),Tm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const b7e=NG(()=>new p7e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const FG=BigInt(0),N4=BigInt(1),S7e=BigInt(2);function aS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function FB(n){if(!aS(n))throw new Error("Uint8Array expected")}function Hg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const k7e=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function cS(n){FB(n);let e="";for(let t=0;t<n.length;t++)e+=k7e[n[t]];return e}function jke(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function UG(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Ph={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Hle(n){if(n>=Ph._0&&n<=Ph._9)return n-Ph._0;if(n>=Ph._A&&n<=Ph._F)return n-(Ph._A-10);if(n>=Ph._a&&n<=Ph._f)return n-(Ph._a-10)}function BA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Hle(n.charCodeAt(i)),a=Hle(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function U1(n){return UG(cS(n))}function Jv(n){return FB(n),UG(cS(Uint8Array.from(n).reverse()))}function zA(n,e){return BA(n.toString(16).padStart(e*2,"0"))}function fM(n,e){return zA(n,e).reverse()}function v7e(n){return BA(jke(n))}function Qo(n,e,t){let r;if(typeof e=="string")try{r=BA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(aS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function uS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];FB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function A7e(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function w7e(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const aW=n=>typeof n=="bigint"&&FG<=n;function F4(n,e,t){return aW(n)&&aW(e)&&aW(t)&&e<=n&&n<t}function Sl(n,e,t,r){if(!F4(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function I7e(n){let e;for(e=0;n>FG;n>>=N4,e+=1);return e}function P7e(n,e){return n>>BigInt(e)&N4}function _7e(n,e,t){return n|(t?N4:FG)<<BigInt(e)}const VG=n=>(S7e<<BigInt(n-1))-N4,cW=n=>new Uint8Array(n),Gle=n=>Uint8Array.from(n);function Hke(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=cW(n),s=cW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=cW())=>{s=a(Gle([0]),d),r=a(),d.length!==0&&(s=a(Gle([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return uS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const E7e={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||aS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Ux(n,e,t={}){const r=(s,i,o)=>{const a=E7e[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const x7e=()=>{throw new Error("not implemented")};function hM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var T7e=Object.freeze(Object.defineProperty({__proto__:null,isBytes:aS,abytes:FB,abool:Hg,bytesToHex:cS,numberToHexUnpadded:jke,hexToNumber:UG,hexToBytes:BA,bytesToNumberBE:U1,bytesToNumberLE:Jv,numberToBytesBE:zA,numberToBytesLE:fM,numberToVarBytesBE:v7e,ensureBytes:Qo,concatBytes:uS,equalBytes:A7e,utf8ToBytes:w7e,inRange:F4,aInRange:Sl,bitLen:I7e,bitGet:P7e,bitSet:_7e,bitMask:VG,createHmacDrbg:Hke,validateObject:Ux,notImplemented:x7e,memoized:hM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ga=BigInt(0),zi=BigInt(1),n1=BigInt(2),R7e=BigInt(3),e9=BigInt(4),Yle=BigInt(5),Zle=BigInt(8);BigInt(9);BigInt(16);function hi(n,e){const t=n%e;return t>=Ga?t:e+t}function C7e(n,e,t){if(t<=Ga||e<Ga)throw new Error("Expected power/modulo > 0");if(t===zi)return Ga;let r=zi;for(;e>Ga;)e&zi&&(r=r*n%t),n=n*n%t,e>>=zi;return r}function Xi(n,e,t){let r=n;for(;e-- >Ga;)r*=r,r%=t;return r}function t9(n,e){if(n===Ga||e<=Ga)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=hi(n,e),r=e,s=Ga,i=zi;for(;t!==Ga;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==zi)throw new Error("invert: does not exist");return hi(s,e)}function M7e(n){const e=(n-zi)/n1;let t,r,s;for(t=n-zi,r=0;t%n1===Ga;t/=n1,r++);for(s=n1;s<n&&C7e(s,e,n)!==n-zi;s++);if(r===1){const o=(n+zi)/e9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+zi)/n1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,zi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function B7e(n){if(n%e9===R7e){const e=(n+zi)/e9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Zle===Yle){const e=(n-Yle)/Zle;return function(r,s){const i=r.mul(s,n1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,n1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return M7e(n)}const z7e=(n,e)=>(hi(n,e)&zi)===zi,$7e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function D7e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=$7e.reduce((r,s)=>(r[s]="function",r),e);return Ux(n,t)}function O7e(n,e,t){if(t<Ga)throw new Error("Expected power > 0");if(t===Ga)return n.ONE;if(t===zi)return e;let r=n.ONE,s=e;for(;t>Ga;)t&zi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=zi;return r}function K7e(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function Gke(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function Yke(n,e,t=!1,r={}){if(n<=Ga)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=Gke(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=B7e(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:VG(s),ZERO:Ga,ONE:zi,create:c=>hi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ga<=c&&c<n},is0:c=>c===Ga,isOdd:c=>(c&zi)===zi,neg:c=>hi(-c,n),eql:(c,u)=>c===u,sqr:c=>hi(c*c,n),add:(c,u)=>hi(c+u,n),sub:(c,u)=>hi(c-u,n),mul:(c,u)=>hi(c*u,n),pow:(c,u)=>O7e(a,c,u),div:(c,u)=>hi(c*t9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>t9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>K7e(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?fM(c,i):zA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?Jv(c):U1(c)}});return Object.freeze(a)}function Zke(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function Jke(n){const e=Zke(n);return e+Math.ceil(e/2)}function L7e(n,e,t=!1){const r=n.length,s=Zke(e),i=Jke(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?U1(n):Jv(n),a=hi(o,e-zi)+zi;return t?fM(a,s):zA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W7e=BigInt(0),uW=BigInt(1),lW=new WeakMap,Jle=new WeakMap;function Xke(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>W7e;)o&uW&&(a=a.add(c)),c=c.double(),o>>=uW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=uW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Jle.get(i)||1;let u=lW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&lW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Jle.set(i,o),lW.delete(i)}}}function qG(n){return D7e(n.Fp),Ux(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Gke(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $l=BigInt(0),Lc=BigInt(1),d$=BigInt(2),N7e=BigInt(8),F7e={zip215:!0};function U7e(n){const e=qG(n);return Ux(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function V7e(n){const e=U7e(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=d$<<BigInt(a*8)-Lc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:$l}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Hg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){Sl("coordinate "+v,k,$l,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=hM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?N7e:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:$l,y:Lc};if(L!==Lc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=hM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Lc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(d$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===$l)return this.double();const Ue=l(D*d$*J),Wt=l(W*d$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;Sl("scalar",x,Lc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return Sl("scalar",x,$l,r),x===$l?I:this.equals(I)||x===Lc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Lc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=Qo("pointHex",k,O),Hg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=Jv(D),N=x?u:t.ORDER;Sl("pointHex.y",L,$l,N);const H=l(L*L),J=l(H-Lc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Lc)===Lc,se=(W&128)!==0;if(!x&&X===$l&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=fM(x,t.BYTES);return C[C.length-1]|=k&Lc?128:0,C}toHex(){return cS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Lc,l(e.Gx*e.Gy)),S.ZERO=new S($l,Lc,Lc,$l);const{BASE:p,ZERO:I}=S,w=Xke(S,a*8);function A(v){return hi(v,r)}function _(v){return A(Jv(v))}function E(v){const k=a;v=Qo("private key",v,k);const x=Qo("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=uS(...k);return _(i(h(x,Qo("context",v),!!s)))}function R(v,k,x={}){v=Qo("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);Sl("signature.s",N,$l,r);const H=uS(W,fM(N,t.BYTES));return Qo("result",H,a*2)}const $=F7e;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=Qo("signature",v,2*D),k=Qo("message",k),O!==void 0&&Hg("zip215",O),s&&(k=s(k));const W=Jv(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jG=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Xle=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const q7e=BigInt(1),Qle=BigInt(2);BigInt(3);const j7e=BigInt(5),H7e=BigInt(8);function G7e(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=jG,a=n*n%i*n%i,c=Xi(a,Qle,i)*a%i,u=Xi(c,q7e,i)*n%i,l=Xi(u,j7e,i)*u%i,d=Xi(l,e,i)*l%i,y=Xi(d,t,i)*d%i,h=Xi(y,r,i)*y%i,m=Xi(h,s,i)*h%i,f=Xi(m,s,i)*h%i,g=Xi(f,e,i)*l%i;return{pow_p_5_8:Xi(g,Qle,i)*n%i,b2:a}}function Y7e(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function Z7e(n,e){const t=jG,r=hi(e*e*e,t),s=hi(r*r*e,t),i=G7e(n*s).pow_p_5_8;let o=hi(n*r*i,t);const a=hi(e*o*o,t),c=o,u=hi(o*Xle,t),l=a===n,d=a===hi(-n,t),y=a===hi(-n*Xle,t);return l&&(o=c),(d||y)&&(o=u),z7e(o,t)&&(o=hi(-o,t)),{isValid:l||d,value:o}}const J7e=(()=>Yke(jG,void 0,!0))(),X7e=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:J7e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:H7e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:b7e,randomBytes:Kke,adjustScalarBytes:Y7e,uvRatio:Z7e}))(),Vx=(()=>V7e(X7e))();var f$=qDe.exports.Buffer;function Q7e(n){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var r=0;r<n.length;r++){var s=n.charAt(r),i=s.charCodeAt(0);if(e[i]!==255)throw new TypeError(s+" is ambiguous");e[i]=r}var o=n.length,a=n.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=f$.from(h)),!f$.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var m=0,f=0,g=0,b=h.length;g!==b&&h[g]===0;)g++,m++;for(var S=(b-g)*u+1>>>0,p=new Uint8Array(S);g!==b;){for(var I=h[g],w=0,A=S-1;(I!==0||w<f)&&A!==-1;A--,w++)I+=256*p[A]>>>0,p[A]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");f=w,g++}for(var _=S-f;_!==S&&p[_]===0;)_++;for(var E=a.repeat(m);_<S;++_)E+=n.charAt(p[_]);return E}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return f$.alloc(0);for(var m=0,f=0,g=0;h[m]===a;)f++,m++;for(var b=(h.length-m)*c+1>>>0,S=new Uint8Array(b);h[m];){var p=e[h.charCodeAt(m)];if(p===255)return;for(var I=0,w=b-1;(p!==0||I<g)&&w!==-1;w--,I++)p+=o*S[w]>>>0,S[w]=p%256>>>0,p=p/256>>>0;if(p!==0)throw new Error("Non-zero carry");g=I,m++}for(var A=b-g;A!==b&&S[A]===0;)A++;var _=f$.allocUnsafe(f+(b-A));_.fill(0,0,f);for(var E=f;A!==b;)_[E++]=S[A++];return _}function y(h){var m=d(h);if(m)return m;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:y}}var eVe=Q7e,tVe=eVe,rVe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",oc=tVe(rVe);const nVe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cm=new Uint32Array(64);class sVe extends Lke{constructor(){super(64,32,8,!1),this.A=Rm[0]|0,this.B=Rm[1]|0,this.C=Rm[2]|0,this.D=Rm[3]|0,this.E=Rm[4]|0,this.F=Rm[5]|0,this.G=Rm[6]|0,this.H=Rm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Cm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Cm[d-15],h=Cm[d-2],m=$d(y,7)^$d(y,18)^y>>>3,f=$d(h,17)^$d(h,19)^h>>>10;Cm[d]=f+Cm[d-7]+m+Cm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=$d(a,6)^$d(a,11)^$d(a,25),h=l+y+ZUe(a,c,u)+nVe[d]+Cm[d]|0,f=($d(r,2)^$d(r,13)^$d(r,22))+JUe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Cm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const r9=NG(()=>new sVe);class iVe extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function oVe(n){return UB(n)&&typeof n[Symbol.iterator]=="function"}function UB(n){return typeof n=="object"&&n!=null}function oO(n){return UB(n)&&!Array.isArray(n)}function md(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function aVe(n){const{done:e,value:t}=n.next();return e?void 0:t}function cVe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${md(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*ede(n,e,t,r){oVe(n)||(n=[n]);for(const s of n){const i=cVe(s,e,t,r);i&&(yield i)}}function*HG(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=HG(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):UB(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class lh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return ede(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return ede(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return Qke(e,this,t)}create(e,t){return ht(e,this,t)}is(e){return eve(e,this)}mask(e,t){return uVe(e,this,t)}validate(e,t={}){return VB(e,this,t)}}function Qke(n,e,t){const r=VB(n,e,{message:t});if(r[0])throw r[0]}function ht(n,e,t){const r=VB(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function uVe(n,e,t){const r=VB(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function eve(n,e){return!VB(n,e)[0]}function VB(n,e,t={}){const r=HG(n,e,t),s=aVe(r);if(s[0])return[new iVe(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function ek(n,e){return new lh({type:n,schema:null,validator:e})}function lVe(){return ek("any",()=>!0)}function vt(n){return new lh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${md(e)}`}})}function Qf(){return ek("boolean",n=>typeof n=="boolean")}function GG(n){return ek("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${md(e)}`)}function Pi(n){const e=md(n),t=typeof n;return new lh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${md(r)}`}})}function dVe(){return ek("never",()=>!1)}function Tt(n){return new lh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function he(){return ek("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${md(n)}`)}function lr(n){return new lh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function tve(n,e){return new lh({type:"record",schema:null,*entries(t){if(UB(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return oO(t)||`Expected an object, but received: ${md(t)}`},coercer(t){return oO(t)?{...t}:t}})}function qe(){return ek("string",n=>typeof n=="string"||`Expected a string, but received: ${md(n)}`)}function YG(n){const e=dVe();return new lh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${md(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Te(n){const e=Object.keys(n);return new lh({type:"type",schema:n,*entries(t){if(UB(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return oO(t)||`Expected an object, but received: ${md(t)}`},coercer(t){return oO(t)?{...t}:t}})}function Rc(n){const e=n.map(t=>t.type).join(" | ");return new lh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=HG(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${md(t)}`,...s]}})}function qx(){return ek("unknown",()=>!0)}function qB(n,e,t){return new lh({...n,coercer:(r,s)=>eve(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const rve=[],nve=[],sve=[],fVe=BigInt(0),AR=BigInt(1),hVe=BigInt(2),gVe=BigInt(7),mVe=BigInt(256),yVe=BigInt(113);for(let n=0,e=AR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],rve.push(2*(5*r+t)),nve.push((n+1)*(n+2)/2%64);let s=fVe;for(let i=0;i<7;i++)e=(e<<AR^(e>>gVe)*yVe)%mVe,e&hVe&&(s^=AR<<(AR<<BigInt(i))-AR);sve.push(s)}const[pVe,bVe]=Nke(sve,!0),tde=(n,e,t)=>t>32?Vke(n,e,t):Fke(n,e,t),rde=(n,e,t)=>t>32?qke(n,e,t):Uke(n,e,t);function SVe(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=tde(u,l,1)^t[a],y=rde(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=nve[o],c=tde(s,i,a),u=rde(s,i,a),l=rve[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=pVe[r],n[1]^=bVe[r]}t.fill(0)}class ZG extends WG{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,iO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=qUe(this.state)}keccak(){qle||jle(this.state32),SVe(this.state32,this.rounds),qle||jle(this.state32),this.posOut=0,this.pos=0}update(e){MA(this);const{blockLen:t,state:r}=this;e=W4(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){MA(this,!1),NB(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return iO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Oke(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new ZG(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const kVe=(n,e,t)=>NG(()=>new ZG(e,n,t)),nde=kVe(1,136,256/8);class ive extends WG{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,VUe(e);const r=W4(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return MA(this),this.iHash.update(e),this}digestInto(e){MA(this),NB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const ove=(n,e,t)=>new ive(n,e).update(t).digest();ove.create=(n,e)=>new ive(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sde(n){n.lowS!==void 0&&Hg("lowS",n.lowS),n.prehash!==void 0&&Hg("prehash",n.prehash)}function vVe(n){const e=qG(n);Ux(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:AVe,hexToBytes:wVe}=T7e,E1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=E1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:AVe(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=E1,t=typeof n=="string"?wVe(n):n;FB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=E1._parseInt(t.subarray(2)),{d:o,l:a}=E1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ey=BigInt(0),da=BigInt(1);BigInt(2);const ide=BigInt(3);BigInt(4);function IVe(n){const e=vVe(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return uS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return F4(m,da,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(aS(m)&&(m=cS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:U1(Qo("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=hi(p,S)),Sl("private key",p,da,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=hM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=hM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(Qo("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,ide),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,ide);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){Sl("scalar",f,Ey,e.n);const g=d.ZERO;if(f===Ey)return g;if(f===da)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Ey||w>Ey;)p&da&&(A=A.add(E)),w&da&&(_=_.add(E)),E=E.double(),p>>=da,w>>=da;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;Sl("scalar",f,da,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Ey||A===da||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===da)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===da?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Hg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Hg("isCompressed",f),cS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=Xke(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function PVe(n){const e=qG(n);return Ux(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function _Ve(n){const e=PVe(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return hi(T,r)}function a(T){return t9(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=IVe({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=uS;return Hg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=U1(x);if(!F4(C,da,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&da)===da;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>cS(zA(T,e.nByteLength));function h(T){const v=r>>da;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>U1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=Qo("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=E1.toSig(Qo("DER",v));return new g(k,x)}assertValidity(){Sl("r",this.r,da,r),Sl("s",this.s,da,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(Qo("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return BA(this.toDERHex())}toDERHex(){return E1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return BA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=Jke(e.n);return L7e(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=aS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=U1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=VG(e.nBitLength);function E(T){return Sl(`num < 2^${e.nBitLength}`,T,Ey,_),zA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=Qo("msgHash",T),sde(k),O&&(T=Qo("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(Qo("extraEntropy",Y))}const H=uS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ey)return;const ne=o(re*o(J+ee*L));if(ne===Ey)return;let ve=(se.x===ee?0:2)|Number(se.y&da),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return Hke(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=Qo("msgHash",v),k=Qo("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");sde(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||aS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof E1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function EVe(n){return{hash:n,hmac:(e,...t)=>ove(n,e,GUe(...t)),randomBytes:Kke}}function xVe(n,e){const t=r=>_Ve({...n,...EVe(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ave=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ode=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),TVe=BigInt(1),n9=BigInt(2),ade=(n,e)=>(n+e/n9)/e;function RVe(n){const e=ave,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Xi(l,t,e)*l%e,y=Xi(d,t,e)*l%e,h=Xi(y,n9,e)*u%e,m=Xi(h,s,e)*h%e,f=Xi(m,i,e)*m%e,g=Xi(f,a,e)*f%e,b=Xi(g,c,e)*g%e,S=Xi(b,a,e)*f%e,p=Xi(S,t,e)*l%e,I=Xi(p,o,e)*m%e,w=Xi(I,r,e)*u%e,A=Xi(w,n9,e);if(!s9.eql(s9.sqr(A),n))throw new Error("Cannot find square root");return A}const s9=Yke(ave,void 0,void 0,{sqrt:RVe}),U4=xVe({a:BigInt(0),b:BigInt(7),Fp:s9,n:ode,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=ode,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-TVe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=ade(i*n,e),c=ade(-r*n,e);let u=hi(n-a*t-c*s,e),l=hi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},r9);BigInt(0);U4.ProjectivePoint;const CVe=Vx.utils.randomPrivateKey,cde=()=>{const n=Vx.utils.randomPrivateKey(),e=aO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},aO=Vx.getPublicKey;function ude(n){try{return Vx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const JG=(n,e)=>Vx.sign(n,e.slice(0,32)),MVe=Vx.verify,Xr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class XG{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(om(K2,this))}static decode(e){return am(K2,this,e)}static decodeUnchecked(e){return cm(K2,this,e)}}class BVe extends XG{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const K2=new Map;var cve;const uve=32,Nf=32;function zVe(n){return n._bn!==void 0}let lde=1;class rt extends XG{constructor(e){if(super({}),this._bn=void 0,zVe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=oc.decode(e);if(t.length!=Nf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Nf)throw new Error("Invalid public key input")}}static unique(){const e=new rt(lde);return lde+=1,new rt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return oc.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Nf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=r9(s);return new rt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>uve)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Xr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=r9(r);if(ude(s))throw new Error("Invalid seeds, address must fall off the curve");return new rt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new rt(e);return ude(t.toBytes())}}cve=rt;rt.default=new cve("11111111111111111111111111111111");K2.set(rt,{kind:"struct",fields:[["_bn","u256"]]});class $Ve{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Xr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Xr(CVe()),this._publicKey=Xr(aO(this._secretKey))}get publicKey(){return new rt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const DVe=new rt("BPFLoader1111111111111111111111111111111111"),Vy=1280-40-8,V4=127,gM=64;class QG extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(QG.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class eY extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(eY.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ev extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Ev.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class mM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const pn=(n="publicKey")=>ie(32,n),OVe=(n="signature")=>ie(64,n),x1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},KVe=(n="authorized")=>F([pn("staker"),pn("withdrawer")],n),LVe=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),pn("custodian")],n),WVe=(n="voteInit")=>F([pn("nodePubkey"),pn("authorizedVoter"),pn("authorizedWithdrawer"),te("commission")],n),NVe=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),pn("currentAuthorityDerivedKeyOwnerPubkey"),x1("currentAuthorityDerivedKeySeed"),pn("newAuthorized")],n);function lve(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return lve({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function ru(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Ou(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Ln(n,e){if(!n)throw new Error(e||"Assertion failed")}class q4{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new q4(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ln(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Ln(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Ln(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new rt(c)),...r.map(([c])=>new rt(c)),...s.map(([c])=>new rt(c)),...i.map(([c])=>new rt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new rt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Ln(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const dve="Reached end of buffer unexpectedly";function mf(n){if(n.length===0)throw new Error(dve);return n.shift()}function nu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(dve);return n.splice(...e)}class yd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new rt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:oc.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new mM(this.staticAccountKeys)}static compile(e){const t=q4.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new mM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:oc.encode(a.data)}));return new yd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Ou(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(oc.decode(d.data));let f=[];Ou(f,y.length);let g=[];return Ou(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Ou(s,r.length);let i=V.Buffer.alloc(Vy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(pn("key"),e,"keys"),pn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Xr(d.toBytes())),recentBlockhash:oc.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=mf(t);if(r!==(r&V4))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=mf(t),i=mf(t),o=ru(t);let a=[];for(let y=0;y<o;y++){const h=nu(t,0,Nf);a.push(new rt(V.Buffer.from(h)))}const c=nu(t,0,Nf),u=ru(t);let l=[];for(let y=0;y<u;y++){const h=mf(t),m=ru(t),f=nu(t,0,m),g=ru(t),b=nu(t,0,g),S=oc.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:oc.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new yd(d)}}class lS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new mM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=q4.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new mM(a,s).compileInstructions(e.instructions);return new lS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Ou(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Ou(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Ou(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(pn(),this.staticAccountKeys.length,"staticAccountKeys"),pn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Vy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:oc.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Vy);for(const r of this.compiledInstructions){const s=Array();Ou(s,r.accountKeyIndexes.length);const i=Array();Ou(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Vy);for(const r of this.addressTableLookups){const s=Array();Ou(s,r.writableIndexes.length);const i=Array();Ou(i,r.readonlyIndexes.length),e+=F([pn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=mf(t),s=r&V4;Ln(r!==s,"Expected versioned message but received legacy message");const i=s;Ln(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:mf(t),numReadonlySignedAccounts:mf(t),numReadonlyUnsignedAccounts:mf(t)},a=[],c=ru(t);for(let m=0;m<c;m++)a.push(new rt(nu(t,0,Nf)));const u=oc.encode(nu(t,0,Nf)),l=ru(t),d=[];for(let m=0;m<l;m++){const f=mf(t),g=ru(t),b=nu(t,0,g),S=ru(t),p=new Uint8Array(nu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=ru(t),h=[];for(let m=0;m<y;m++){const f=new rt(nu(t,0,Nf)),g=ru(t),b=nu(t,0,g),S=ru(t),p=nu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new lS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const tY={deserializeMessageVersion(n){const e=n[0],t=e&V4;return t===e?"legacy":t},deserialize:n=>{const e=tY.deserializeMessageVersion(n);if(e==="legacy")return yd.from(n);if(e===0)return lS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let bg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const FVe=V.Buffer.alloc(gM).fill(0);class bs{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class jn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new bs(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new rt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:oc.encode(g)}});return m.forEach(f=>{Ln(f.programIdIndex>=0),f.accounts.forEach(g=>Ln(g>=0))}),new yd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=JG(r,s.secretKey);this._addSignature(s.publicKey,Xr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ln(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):MVe(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Ou(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Ln(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Ln(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Ln(i.length<=Vy,`Transaction too large: ${i.length} > ${Vy}`),i}get keys(){return Ln(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Ln(this.instructions.length===1),this.instructions[0].programId}get data(){return Ln(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=ru(t);let s=[];for(let i=0;i<r;i++){const o=nu(t,0,gM);s.push(oc.encode(V.Buffer.from(o)))}return jn.populate(yd.from(t),s)}static populate(e,t=[]){const r=new jn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==oc.encode(FVe)?null:oc.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new bs({keys:i,programId:e.accountKeys[s.programIdIndex],data:oc.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class rY{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Ln(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Ln(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new bs({programId:g,data:Xr(m.data),keys:f}))}return new rY({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return yd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return lS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class nY{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Ln(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(gM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Ou(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(OVe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=ru(t);for(let o=0;o<s;o++)r.push(new Uint8Array(nu(t,0,gM)));const i=tY.deserialize(new Uint8Array(t));return new nY(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Ln(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=JG(t,s.secretKey)}}addSignature(e,t){Ln(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Ln(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const UVe=160,VVe=64,qVe=UVe/VVe,fve=1e3/qVe,ef=new rt("SysvarC1ock11111111111111111111111111111111"),jVe=new rt("SysvarEpochSchedu1e111111111111111111111111"),HVe=new rt("Sysvar1nstructions1111111111111111111111111"),vD=new rt("SysvarRecentB1ockHashes11111111111111111111"),$A=new rt("SysvarRent111111111111111111111111111111111"),GVe=new rt("SysvarRewards111111111111111111111111111111"),YVe=new rt("SysvarS1otHashes111111111111111111111111111"),ZVe=new rt("SysvarS1otHistory11111111111111111111111111"),AD=new rt("SysvarStakeHistory1111111111111111111111111");class yM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const JVe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Gt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function i9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new yM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function s1(n){return new Promise(e=>setTimeout(e,n))}function xn(n,e){const t=n.layout.span>=0?n.layout.span:lve(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ts(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const hve=Ae("lamportsPerSignature"),gve=F([U("version"),U("state"),pn("authorizedPubkey"),pn("nonce"),F([hve],"feeCalculator")]),o9=gve.span;class j4{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=gve.decode(Xr(e),0);return new j4({authorizedPubkey:new rt(t.authorizedPubkey),nonce:new rt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const XVe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},QVe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=XVe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return um(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},DA=QVe(8);class e9e{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries($s))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ts($s.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new rt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ts($s.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ts($s.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new rt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ts($s.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ts($s.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(t),seed:r,space:s,programId:new rt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ts($s.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new rt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ts($s.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new rt(t),seed:r,programId:new rt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ts($s.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new rt(t),seed:r,lamports:s,space:i,programId:new rt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ts($s.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new rt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ts($s.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ts($s.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ts($s.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new rt(t)}}static checkProgramId(e){if(!e.equals(La.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const $s=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),pn("programId")])},Assign:{index:1,layout:F([U("instruction"),pn("programId")])},Transfer:{index:2,layout:F([U("instruction"),DA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),pn("base"),x1("seed"),_e("lamports"),_e("space"),pn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),pn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),pn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),pn("base"),x1("seed"),_e("space"),pn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),pn("base"),x1("seed"),pn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),DA("lamports"),x1("seed"),pn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class La{constructor(){}static createAccount(e){const t=$s.Create,r=xn(t,{lamports:e.lamports,space:e.space,programId:Xr(e.programId.toBuffer())});return new bs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=$s.TransferWithSeed;t=xn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=$s.Transfer;t=xn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new bs({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=$s.AssignWithSeed;t=xn(s,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=$s.Assign;t=xn(s,{programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new bs({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=$s.CreateWithSeed,r=xn(t,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Xr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new bs({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new jn;"basePubkey"in e&&"seed"in e?t.add(La.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:o9,programId:this.programId})):t.add(La.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:o9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=$s.InitializeNonceAccount,r=xn(t,{authorized:Xr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vD,isSigner:!1,isWritable:!1},{pubkey:$A,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new bs(s)}static nonceAdvance(e){const t=$s.AdvanceNonceAccount,r=xn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new bs(s)}static nonceWithdraw(e){const t=$s.WithdrawNonceAccount,r=xn(t,{lamports:e.lamports});return new bs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:vD,isSigner:!1,isWritable:!1},{pubkey:$A,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=$s.AuthorizeNonceAccount,r=xn(t,{authorized:Xr(e.newAuthorizedPubkey.toBuffer())});return new bs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=$s.AllocateWithSeed;t=xn(s,{base:Xr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Xr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=$s.Allocate;t=xn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new bs({keys:r,programId:this.programId,data:t})}}La.programId=new rt("11111111111111111111111111111111");const t9e=Vy-300;class dS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/dS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new jn,h.add(La.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new jn,h.add(La.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new jn,h.add(La.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new jn().add(La.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await i9(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=dS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(i9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await s1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:$A,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(fve/2)))}}return!0}}dS.chunkSize=t9e;const r9e=new rt("BPFLoader2111111111111111111111111111111111");class n9e{static getMinNumSignatures(e){return dS.getMinNumSignatures(e)}static load(e,t,r,s,i){return dS.load(e,t,r,i,s)}}function s9e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var dW,dde;function i9e(){if(dde)return dW;dde=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return dW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},dW}var o9e=i9e(),fde=s9e(o9e);const wR=32;function fW(n){let e=0;for(;n>1;)n/=2,e++;return e}function a9e(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class mve{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=fW(a9e(e+wR+1))-fW(wR)-1,r=this.getSlotsInEpoch(t),s=e-(r-wR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*wR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+fW(wR)):this.slotsPerEpoch}}var c9e=globalThis.fetch;class u9e extends Bb{constructor(e,t,r){const s=i=>{const o=$b(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function l9e(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const hde=56;class a9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=l9e(d9e,e),r=e.length-hde;Ln(r>=0,"lookup table is invalid"),Ln(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(pn(),s,"addresses")]).decode(e.slice(hde));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new rt(t.authority[0]):void 0,addresses:i.map(o=>new rt(o))}}}const d9e={index:1,layout:F([U("typeIndex"),DA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(pn(),Vt(te(),-1),"authority")])},f9e=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function h9e(n){const e=n.match(f9e);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Fi=qB(GG(rt),qe(),n=>new rt(n)),yve=YG([qe(),Pi("base64")]),sY=qB(GG(V.Buffer),yve,n=>V.Buffer.from(n[0],"base64")),pve=30*1e3;function g9e(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function _s(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function gde(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function bve(n){return Rc([Te({jsonrpc:Pi("2.0"),id:qe(),result:n}),Te({jsonrpc:Pi("2.0"),id:qe(),error:Te({code:qx(),message:qe(),data:lr(lVe())})})])}const m9e=bve(qx());function Ur(n){return qB(bve(n),m9e,e=>"error"in e?e:{...e,result:ht(e.result,n)})}function uo(n){return Ur(Te({context:Te({slot:he()}),value:n}))}function H4(n){return Te({context:Te({slot:he()}),value:n})}function hW(n,e){return n===0?new lS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new rt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:oc.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new yd(e)}const y9e=Te({foundation:he(),foundationTerm:he(),initial:he(),taper:he(),terminal:he()}),p9e=Ur(vt(Tt(Te({epoch:he(),effectiveSlot:he(),amount:he(),postBalance:he(),commission:lr(Tt(he()))})))),b9e=vt(Te({slot:he(),prioritizationFee:he()})),S9e=Te({total:he(),validator:he(),foundation:he(),epoch:he()}),k9e=Te({epoch:he(),slotIndex:he(),slotsInEpoch:he(),absoluteSlot:he(),blockHeight:lr(he()),transactionCount:lr(he())}),v9e=Te({slotsPerEpoch:he(),leaderScheduleSlotOffset:he(),warmup:Qf(),firstNormalEpoch:he(),firstNormalSlot:he()}),A9e=tve(qe(),vt(he())),tk=Tt(Rc([Te({}),qe()])),w9e=Te({err:tk}),I9e=Pi("receivedSignature"),P9e=Te({"solana-core":qe(),"feature-set":lr(he())}),_9e=Te({program:qe(),programId:Fi,parsed:qx()}),E9e=Te({programId:Fi,accounts:vt(Fi),data:qe()}),mde=uo(Te({err:Tt(Rc([Te({}),qe()])),logs:Tt(vt(qe())),accounts:lr(Tt(vt(Tt(Te({executable:Qf(),owner:qe(),lamports:he(),data:vt(qe()),rentEpoch:lr(he())}))))),unitsConsumed:lr(he()),returnData:lr(Tt(Te({programId:qe(),data:YG([qe(),Pi("base64")])}))),innerInstructions:lr(Tt(vt(Te({index:he(),instructions:vt(Rc([_9e,E9e]))}))))})),x9e=uo(Te({byIdentity:tve(qe(),vt(he())),range:Te({firstSlot:he(),lastSlot:he()})}));function T9e(n,e,t,r,s,i){const o=t||c9e;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new zb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Rqe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await s1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function R9e(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function C9e(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const M9e=Ur(y9e),B9e=Ur(S9e),z9e=Ur(b9e),$9e=Ur(k9e),D9e=Ur(v9e),O9e=Ur(A9e),K9e=Ur(he()),L9e=uo(Te({total:he(),circulating:he(),nonCirculating:he(),nonCirculatingAccounts:vt(Fi)})),c9=Te({amount:qe(),uiAmount:Tt(he()),decimals:he(),uiAmountString:lr(qe())}),W9e=uo(vt(Te({address:Fi,amount:qe(),uiAmount:Tt(he()),decimals:he(),uiAmountString:lr(qe())}))),N9e=uo(vt(Te({pubkey:Fi,account:Te({executable:Qf(),owner:Fi,lamports:he(),data:sY,rentEpoch:he()})}))),u9=Te({program:qe(),parsed:qx(),space:he()}),F9e=uo(vt(Te({pubkey:Fi,account:Te({executable:Qf(),owner:Fi,lamports:he(),data:u9,rentEpoch:he()})}))),U9e=uo(vt(Te({lamports:he(),address:Fi}))),pM=Te({executable:Qf(),owner:Fi,lamports:he(),data:sY,rentEpoch:he()}),V9e=Te({pubkey:Fi,account:pM}),q9e=qB(Rc([GG(V.Buffer),u9]),Rc([yve,u9]),n=>Array.isArray(n)?ht(n,sY):n),l9=Te({executable:Qf(),owner:Fi,lamports:he(),data:q9e,rentEpoch:he()}),j9e=Te({pubkey:Fi,account:l9}),H9e=Te({state:Rc([Pi("active"),Pi("inactive"),Pi("activating"),Pi("deactivating")]),active:he(),inactive:he()}),G9e=Ur(vt(Te({signature:qe(),slot:he(),err:tk,memo:Tt(qe()),blockTime:lr(Tt(he()))}))),Y9e=Ur(vt(Te({signature:qe(),slot:he(),err:tk,memo:Tt(qe()),blockTime:lr(Tt(he()))}))),Z9e=Te({subscription:he(),result:H4(pM)}),J9e=Te({pubkey:Fi,account:pM}),X9e=Te({subscription:he(),result:H4(J9e)}),Q9e=Te({parent:he(),slot:he(),root:he()}),eqe=Te({subscription:he(),result:Q9e}),tqe=Rc([Te({type:Rc([Pi("firstShredReceived"),Pi("completed"),Pi("optimisticConfirmation"),Pi("root")]),slot:he(),timestamp:he()}),Te({type:Pi("createdBank"),parent:he(),slot:he(),timestamp:he()}),Te({type:Pi("frozen"),slot:he(),timestamp:he(),stats:Te({numTransactionEntries:he(),numSuccessfulTransactions:he(),numFailedTransactions:he(),maxTransactionsPerEntry:he()})}),Te({type:Pi("dead"),slot:he(),timestamp:he(),err:qe()})]),rqe=Te({subscription:he(),result:tqe}),nqe=Te({subscription:he(),result:H4(Rc([w9e,I9e]))}),sqe=Te({subscription:he(),result:he()}),iqe=Te({pubkey:qe(),gossip:Tt(qe()),tpu:Tt(qe()),rpc:Tt(qe()),version:Tt(qe())}),yde=Te({votePubkey:qe(),nodePubkey:qe(),activatedStake:he(),epochVoteAccount:Qf(),epochCredits:vt(YG([he(),he(),he()])),commission:he(),lastVote:he(),rootSlot:Tt(he())}),oqe=Ur(Te({current:vt(yde),delinquent:vt(yde)})),aqe=Rc([Pi("processed"),Pi("confirmed"),Pi("finalized")]),cqe=Te({slot:he(),confirmations:Tt(he()),err:tk,confirmationStatus:lr(aqe)}),uqe=uo(vt(Tt(cqe))),lqe=Ur(he()),Sve=Te({accountKey:Fi,writableIndexes:vt(he()),readonlyIndexes:vt(he())}),iY=Te({signatures:vt(qe()),message:Te({accountKeys:vt(qe()),header:Te({numRequiredSignatures:he(),numReadonlySignedAccounts:he(),numReadonlyUnsignedAccounts:he()}),instructions:vt(Te({accounts:vt(he()),data:qe(),programIdIndex:he()})),recentBlockhash:qe(),addressTableLookups:lr(vt(Sve))})}),kve=Te({pubkey:Fi,signer:Qf(),writable:Qf(),source:lr(Rc([Pi("transaction"),Pi("lookupTable")]))}),vve=Te({accountKeys:vt(kve),signatures:vt(qe())}),Ave=Te({parsed:qx(),program:qe(),programId:Fi}),wve=Te({accounts:vt(Fi),data:qe(),programId:Fi}),dqe=Rc([wve,Ave]),fqe=Rc([Te({parsed:qx(),program:qe(),programId:qe()}),Te({accounts:vt(qe()),data:qe(),programId:qe()})]),Ive=qB(dqe,fqe,n=>"accounts"in n?ht(n,wve):ht(n,Ave)),Pve=Te({signatures:vt(qe()),message:Te({accountKeys:vt(kve),instructions:vt(Ive),recentBlockhash:qe(),addressTableLookups:lr(Tt(vt(Sve)))})}),cO=Te({accountIndex:he(),mint:qe(),owner:lr(qe()),programId:lr(qe()),uiTokenAmount:c9}),_ve=Te({writable:vt(Fi),readonly:vt(Fi)}),G4=Te({err:tk,fee:he(),innerInstructions:lr(Tt(vt(Te({index:he(),instructions:vt(Te({accounts:vt(he()),data:qe(),programIdIndex:he()}))})))),preBalances:vt(he()),postBalances:vt(he()),logMessages:lr(Tt(vt(qe()))),preTokenBalances:lr(Tt(vt(cO))),postTokenBalances:lr(Tt(vt(cO))),loadedAddresses:lr(_ve),computeUnitsConsumed:lr(he())}),oY=Te({err:tk,fee:he(),innerInstructions:lr(Tt(vt(Te({index:he(),instructions:vt(Ive)})))),preBalances:vt(he()),postBalances:vt(he()),logMessages:lr(Tt(vt(qe()))),preTokenBalances:lr(Tt(vt(cO))),postTokenBalances:lr(Tt(vt(cO))),loadedAddresses:lr(_ve),computeUnitsConsumed:lr(he())}),jx=Rc([Pi(0),Pi("legacy")]),rk=Te({pubkey:qe(),lamports:he(),postBalance:Tt(he()),rewardType:Tt(qe()),commission:lr(Tt(he()))}),hqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:iY,meta:Tt(G4),version:lr(jx)})),rewards:lr(vt(rk)),blockTime:Tt(he()),blockHeight:Tt(he())}))),gqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),rewards:lr(vt(rk)),blockTime:Tt(he()),blockHeight:Tt(he())}))),mqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:vve,meta:Tt(G4),version:lr(jx)})),rewards:lr(vt(rk)),blockTime:Tt(he()),blockHeight:Tt(he())}))),yqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:Pve,meta:Tt(oY),version:lr(jx)})),rewards:lr(vt(rk)),blockTime:Tt(he()),blockHeight:Tt(he())}))),pqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:vve,meta:Tt(oY),version:lr(jx)})),rewards:lr(vt(rk)),blockTime:Tt(he()),blockHeight:Tt(he())}))),bqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),rewards:lr(vt(rk)),blockTime:Tt(he()),blockHeight:Tt(he())}))),Sqe=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),transactions:vt(Te({transaction:iY,meta:Tt(G4)})),rewards:lr(vt(rk)),blockTime:Tt(he())}))),pde=Ur(Tt(Te({blockhash:qe(),previousBlockhash:qe(),parentSlot:he(),signatures:vt(qe()),blockTime:Tt(he())}))),gW=Ur(Tt(Te({slot:he(),meta:Tt(G4),blockTime:lr(Tt(he())),transaction:iY,version:lr(jx)}))),h$=Ur(Tt(Te({slot:he(),transaction:Pve,meta:Tt(oY),blockTime:lr(Tt(he())),version:lr(jx)}))),kqe=uo(Te({blockhash:qe(),feeCalculator:Te({lamportsPerSignature:he()})})),vqe=uo(Te({blockhash:qe(),lastValidBlockHeight:he()})),Aqe=uo(Qf()),wqe=Te({slot:he(),numTransactions:he(),numSlots:he(),samplePeriodSecs:he()}),Iqe=Ur(vt(wqe)),Pqe=uo(Tt(Te({feeCalculator:Te({lamportsPerSignature:he()})}))),_qe=Ur(qe()),Eqe=Ur(qe()),xqe=Te({err:tk,logs:vt(qe()),signature:qe()}),Tqe=Te({result:H4(xqe),subscription:he()}),Rqe={"solana-client":"js/1.0.0-maintenance"};class Cqe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=_s(l),h=this._buildArgs([],d,void 0,y),m=fde(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=ht(f,Ur(he()));if("error"in g)throw new Gt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=g9e(e),this._rpcWsEndpoint=r||h9e(e),this._rpcClient=T9e(e,s,i,o,a,c),this._rpcRequest=R9e(this._rpcClient),this._rpcBatchRequest=C9e(this._rpcClient),this._rpcWebSocket=new u9e(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=ht(o,uo(he()));if("error"in a)throw new Gt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=ht(t,Ur(Tt(he())));if("error"in r)throw new Gt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=ht(e,Ur(he()));if("error"in t)throw new Gt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=ht(e,K9e);if("error"in t)throw new Gt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=ht(r,L9e);if("error"in s)throw new Gt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=ht(s,uo(c9));if("error"in i)throw new Gt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=ht(s,uo(c9));if("error"in i)throw new Gt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=_s(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=ht(c,N9e);if("error"in u)throw new Gt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=ht(o,F9e);if("error"in a)throw new Gt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=ht(s,U9e);if("error"in i)throw new Gt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=ht(s,W9e);if("error"in i)throw new Gt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=ht(o,uo(Tt(pM)));if("error"in a)throw new Gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=ht(o,uo(Tt(l9)));if("error"in a)throw new Gt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=_s(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ht(a,uo(vt(Tt(l9))));if("error"in c)throw new Gt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=_s(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ht(a,uo(vt(Tt(pM))));if("error"in c)throw new Gt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=_s(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=ht(a,Ur(H9e));if("error"in c)throw new Gt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=_s(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:gde(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=vt(V9e),l=o.withContext===!0?ht(c,uo(u)):ht(c,Ur(u));if("error"in l)throw new Gt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=ht(o,Ur(vt(j9e)));if("error"in a)throw new Gt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=oc.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Ln(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:bg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:bg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await s1(1e3),i||(h=await y(),i))return;d({__type:bg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===bg.PROCESSED)l=d.response;else throw new QG(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:bg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await s1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===bg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await s1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Ev(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Ev(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Ev(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Ev(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:bg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===bg.PROCESSED)a=c.response;else throw new eY(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=ht(e,Ur(vt(iqe)));if("error"in t)throw new Gt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=ht(r,oqe);if("error"in s)throw new Gt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=ht(i,Ur(he()));if("error"in o)throw new Gt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=ht(i,Ur(qe()));if("error"in o)throw new Gt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=ht(s,Ur(vt(Fi)));if("error"in i)throw new Gt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Ln(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=ht(s,uqe);if("error"in i)throw new Gt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=ht(i,Ur(he()));if("error"in o)throw new Gt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=ht(r,M9e);if("error"in s)throw new Gt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=_s(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=ht(a,p9e);if("error"in c)throw new Gt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=ht(e,B9e);if("error"in t)throw new Gt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=ht(i,$9e);if("error"in o)throw new Gt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=ht(e,D9e);if("error"in t)throw new Gt(t.error,"failed to get epoch schedule");const r=t.result;return new mve(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=ht(e,O9e);if("error"in t)throw new Gt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ht(s,lqe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=ht(r,kqe);if("error"in s)throw new Gt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=ht(t,Iqe);if("error"in r)throw new Gt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ht(s,Pqe);if("error"in i)throw new Gt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Xr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=ht(i,uo(Tt(he())));if("error"in o)throw new Gt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=ht(s,z9e);if("error"in i)throw new Gt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=ht(i,vqe);if("error"in o)throw new Gt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=ht(o,Aqe);if("error"in a)throw new Gt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=ht(e,Ur(P9e));if("error"in t)throw new Gt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=ht(e,Ur(qe()));if("error"in t)throw new Gt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ht(o,mqe);if("error"in a)throw a.error;return a.result}case"none":{const a=ht(o,gqe);if("error"in a)throw a.error;return a.result}default:{const a=ht(o,hqe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:hW(d,u.message)},version:d}))}:null}}}catch(a){throw new Gt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ht(o,pqe);if("error"in a)throw a.error;return a.result}case"none":{const a=ht(o,bqe);if("error"in a)throw a.error;return a.result}default:{const a=ht(o,yqe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Gt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=ht(i,x9e);if("error"in o)throw new Gt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=ht(o,gW);if("error"in a)throw new Gt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:hW(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=_s(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=ht(o,h$);if("error"in a)throw new Gt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=_s(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ht(c,h$);if("error"in u)throw new Gt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=_s(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=ht(c,gW);if("error"in u)throw new Gt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:hW(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=ht(s,Sqe);if("error"in i)throw new Gt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new yd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:jn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=ht(i,Ur(vt(he())));if("error"in o)throw new Gt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ht(s,pde);if("error"in i)throw new Gt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=ht(s,pde);if("error"in i)throw new Gt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=ht(s,gW);if("error"in i)throw new Gt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new yd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:jn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=ht(s,h$);if("error"in i)throw new Gt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=ht(o,h$);if("error"in a)throw new Gt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=ht(i,G9e);if("error"in o)throw new Gt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=ht(i,Y9e);if("error"in o)throw new Gt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new a9({key:e,state:a9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=j4.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=ht(r,_qe);if("error"in s)throw new Gt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await s1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=pve;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await s1(fve/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=_s(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=ht(i,uo(he()));if("error"in o)throw new Gt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=ht(p,mde);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof jn){let m=e;s=new jn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=jn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=ht(y,mde);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new yM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Xr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=ht(a,Eqe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new yM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=ht(e,Z9e);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=fde([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Ln(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=_s(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=ht(e,X9e);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=_s(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:gde(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=ht(e,Tqe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=ht(e,eqe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=ht(e,rqe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=ht(e,nqe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=ht(e,sqe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Xv{constructor(e){this._keypair=void 0,this._keypair=e??cde()}static generate(){return new Xv(cde())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=aO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new Xv({publicKey:r,secretKey:e})}static fromSeed(e){const t=aO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Xv({publicKey:t,secretKey:r})}get publicKey(){return new rt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Bg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),DA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),DA(),we(pn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class Mqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Bg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ts(Bg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ts(Bg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new rt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(aY.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class aY{constructor(){}static createLookupTable(e){const[t,r]=rt.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Bg.CreateLookupTable,i=xn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:La.programId,isSigner:!1,isWritable:!1}];return[new bs({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Bg.FreezeLookupTable,r=xn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new bs({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Bg.ExtendLookupTable,r=xn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:La.programId,isSigner:!1,isWritable:!1}),new bs({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Bg.DeactivateLookupTable,r=xn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new bs({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Bg.CloseLookupTable,r=xn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new bs({programId:this.programId,keys:s,data:r})}}aY.programId=new rt("AddressLookupTab1e1111111111111111111111111");class Bqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(yf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ts(yf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ts(yf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ts(yf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ts(yf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(cY.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const yf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),DA("microLamports")])}});class cY{constructor(){}static requestUnits(e){const t=yf.RequestUnits,r=xn(t,e);return new bs({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=yf.RequestHeapFrame,r=xn(t,e);return new bs({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=yf.SetComputeUnitLimit,r=xn(t,e);return new bs({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=yf.SetComputeUnitPrice,r=xn(t,{microLamports:BigInt(e.microLamports)});return new bs({keys:[],programId:this.programId,data:r})}}cY.programId=new rt("ComputeBudget111111111111111111111111111111");const bde=64,Sde=32,kde=64,vde=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class Y4{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Ln(t.length===Sde,`Public Key must be ${Sde} bytes but received ${t.length} bytes`),Ln(s.length===kde,`Signature must be ${kde} bytes but received ${s.length} bytes`);const o=vde.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return vde.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new bs({keys:[],programId:Y4.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Ln(t.length===bde,`Private key must be ${bde} bytes but received ${t.length} bytes`);try{const i=Xv.fromSecretKey(t),o=i.publicKey.toBytes(),a=JG(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Y4.programId=new rt("Ed25519SigVerify111111111111111111111111111");const zqe=(n,e)=>{const t=U4.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};U4.utils.isValidPrivateKey;const $qe=U4.getPublicKey,Ade=32,mW=20,wde=64,Dqe=11,yW=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class Qv{constructor(){}static publicKeyToEthAddress(e){Ln(e.length===wde,`Public key must be ${wde} bytes but received ${e.length} bytes`);try{return V.Buffer.from(nde(Xr(e))).slice(-mW)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return Qv.createInstructionWithEthAddress({ethAddress:Qv.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Ln(a.length===mW,`Address must be ${mW} bytes but received ${a.length} bytes`);const c=1+Dqe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(yW.span+r.length);return yW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Xr(s),ethAddress:Xr(a),recoveryId:i},h),h.fill(Xr(r),yW.span),new bs({keys:[],programId:Qv.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Ln(t.length===Ade,`Private key must be ${Ade} bytes but received ${t.length} bytes`);try{const i=Xr(t),o=$qe(i,!1).slice(1),a=V.Buffer.from(nde(Xr(r))),[c,u]=zqe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Qv.programId=new rt("KeccakSecp256k11111111111111111111111111111");var Eve;const xve=new rt("StakeConfig11111111111111111111111111111111");class Tve{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class jB{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Eve=jB;jB.default=new Eve(0,0,rt.default);class Oqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(ka))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ts(ka.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Tve(new rt(t.staker),new rt(t.withdrawer)),lockup:new jB(r.unixTimestamp,r.epoch,new rt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ts(ka.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ts(ka.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ts(ka.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new rt(i),newAuthorizedPubkey:new rt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ts(ka.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ts(ka.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ts(ka.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ts(ka.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Z4.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const ka=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),KVe(),LVe()])},Authorize:{index:1,layout:F([U("instruction"),pn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),pn("newAuthorized"),U("stakeAuthorizationType"),x1("authoritySeed"),pn("authorityOwner")])}}),Kqe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Z4{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||jB.default,o=ka.Initialize,a=xn(o,{authorized:{staker:Xr(r.staker.toBuffer()),withdrawer:Xr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Xr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$A,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new bs(c)}static createAccountWithSeed(e){const t=new jn;t.add(La.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new jn;t.add(La.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=ka.Delegate,o=xn(i);return new jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:ef,isSigner:!1,isWritable:!1},{pubkey:AD,isSigner:!1,isWritable:!1},{pubkey:xve,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=ka.Authorize,c=xn(a,{newAuthorized:Xr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ef,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new jn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=ka.AuthorizeWithSeed,l=xn(u,{newAuthorized:Xr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Xr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ef,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new jn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=ka.Split,a=xn(o,{lamports:i});return new bs({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new jn;return r.add(La.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new jn;return u.add(La.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(La.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=ka.Merge,o=xn(i);return new jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ef,isSigner:!1,isWritable:!1},{pubkey:AD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=ka.Withdraw,c=xn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:ef,isSigner:!1,isWritable:!1},{pubkey:AD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new jn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=ka.Deactivate,i=xn(s);return new jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ef,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}Z4.programId=new rt("Stake11111111111111111111111111111111111111");Z4.space=200;class Rve{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class Lqe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(pf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ts(pf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Rve(new rt(t.nodePubkey),new rt(t.authorizedVoter),new rt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ts(pf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new rt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ts(pf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new rt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new rt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ts(pf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Hx.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const pf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),WVe()])},Authorize:{index:1,layout:F([U("instruction"),pn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),NVe()])}}),Wqe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Hx{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=pf.InitializeAccount,o=xn(i,{voteInit:{nodePubkey:Xr(s.nodePubkey.toBuffer()),authorizedVoter:Xr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Xr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$A,isSigner:!1,isWritable:!1},{pubkey:ef,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new bs(a)}static createAccount(e){const t=new jn;return t.add(La.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=pf.Authorize,a=xn(o,{newAuthorized:Xr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ef,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new jn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=pf.AuthorizeWithSeed,u=xn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Xr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Xr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:ef,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new jn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=pf.Withdraw,a=xn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new jn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return Hx.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=pf.UpdateValidatorIdentity,o=xn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new jn().add({keys:a,programId:this.programId,data:o})}}Hx.programId=new rt("Vote111111111111111111111111111111111111111");Hx.space=3762;const Cve=new rt("Va1idator1nfo111111111111111111111111111111"),Nqe=Te({name:qe(),website:lr(qe()),details:lr(qe()),iconUrl:lr(qe()),keybaseUsername:lr(qe())});class uY{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(ru(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new rt(nu(t,0,Nf)),a=mf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(Cve)&&s[1].isSigner){const i=x1().decode(V.Buffer.from(t)),o=JSON.parse(i);return Qke(o,Nqe),new uY(s[1].publicKey,o)}return null}}const Fqe=new rt("Vote111111111111111111111111111111111111111"),Uqe=F([pn("nodePubkey"),pn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),pn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([pn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class lY{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Uqe.decode(Xr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new lY({nodePubkey:new rt(r.nodePubkey),authorizedWithdrawer:new rt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(Vqe),priorVoters:qqe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Vqe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new rt(n)}}function Ide({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new rt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function qqe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Ide),...n.slice(0,e).map(Ide)]}const Pde={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function jqe(n,e){const t=e===!1?"http":"https";if(!n)return Pde[t].devnet;const r=Pde[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Hqe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new yM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Gqe=1e9;var Yqe=Object.freeze(Object.defineProperty({__proto__:null,Account:$Ve,AddressLookupTableAccount:a9,AddressLookupTableInstruction:Mqe,AddressLookupTableProgram:aY,Authorized:Tve,BLOCKHASH_CACHE_TIMEOUT_MS:pve,BPF_LOADER_DEPRECATED_PROGRAM_ID:DVe,BPF_LOADER_PROGRAM_ID:r9e,BpfLoader:n9e,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:yf,ComputeBudgetInstruction:Bqe,ComputeBudgetProgram:cY,Connection:Cqe,Ed25519Program:Y4,Enum:BVe,EpochSchedule:mve,FeeCalculatorLayout:hve,Keypair:Xv,LAMPORTS_PER_SOL:Gqe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Bg,Loader:dS,Lockup:jB,MAX_SEED_LENGTH:uve,Message:yd,MessageAccountKeys:mM,MessageV0:lS,NONCE_ACCOUNT_LENGTH:o9,NonceAccount:j4,PACKET_DATA_SIZE:Vy,PUBLIC_KEY_LENGTH:Nf,PublicKey:rt,SIGNATURE_LENGTH_IN_BYTES:gM,SOLANA_SCHEMA:K2,STAKE_CONFIG_ID:xve,STAKE_INSTRUCTION_LAYOUTS:ka,SYSTEM_INSTRUCTION_LAYOUTS:$s,SYSVAR_CLOCK_PUBKEY:ef,SYSVAR_EPOCH_SCHEDULE_PUBKEY:jVe,SYSVAR_INSTRUCTIONS_PUBKEY:HVe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:vD,SYSVAR_RENT_PUBKEY:$A,SYSVAR_REWARDS_PUBKEY:GVe,SYSVAR_SLOT_HASHES_PUBKEY:YVe,SYSVAR_SLOT_HISTORY_PUBKEY:ZVe,SYSVAR_STAKE_HISTORY_PUBKEY:AD,Secp256k1Program:Qv,SendTransactionError:yM,SolanaJSONRPCError:Gt,SolanaJSONRPCErrorCode:JVe,StakeAuthorizationLayout:Kqe,StakeInstruction:Oqe,StakeProgram:Z4,Struct:XG,SystemInstruction:e9e,SystemProgram:La,Transaction:jn,TransactionExpiredBlockheightExceededError:QG,TransactionExpiredNonceInvalidError:Ev,TransactionExpiredTimeoutError:eY,TransactionInstruction:bs,TransactionMessage:rY,TransactionStatus:bg,VALIDATOR_INFO_KEY:Cve,VERSION_PREFIX_MASK:V4,VOTE_PROGRAM_ID:Fqe,ValidatorInfo:uY,VersionedMessage:tY,VersionedTransaction:nY,VoteAccount:lY,VoteAuthorizationLayout:Wqe,VoteInit:Rve,VoteInstruction:Lqe,VoteProgram:Hx,clusterApiUrl:jqe,sendAndConfirmRawTransaction:Hqe,sendAndConfirmTransaction:i9},Symbol.toStringTag,{value:"Module"})),Ob=Td(Yqe);const Zqe={withStackTrace:!1},Mve=(n,e,t=Zqe)=>{const r=e.isOk()?{type:"Ok",value:e.value}:{type:"Err",value:e.error},s=t.withStackTrace?new Error().stack:void 0;return{data:r,message:n,stack:s}};function xk(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function _de(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function tf(n){return this instanceof tf?(this.v=n,this):new tf(n)}function Ede(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(s[h]=function(f){return new Promise(function(g,b){i.push([h,f,g,b])>1||c(h,f)})},m&&(s[h]=m(s[h])))}function c(h,m){try{u(r[h](m))}catch(f){y(i[0][3],f)}}function u(h){h.value instanceof tf?Promise.resolve(h.value.v).then(l,d):y(i[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function y(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Jqe(n){var e,t;return e={},r("next"),r("throw",function(s){throw s}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(s,i){e[s]=n[s]?function(o){return(t=!t)?{value:tf(n[s](o)),done:!1}:i?i(o):o}:i}}function Xqe(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof _de=="function"?_de(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=n[i]&&function(o){return new Promise(function(a,c){o=n[i](o),s(a,c,o.done,o.value)})}}function s(i,o,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},o)}}class zo{constructor(e){this._promise=e}static fromSafePromise(e){const t=e.then(r=>new Jl(r));return new zo(t)}static fromPromise(e,t){const r=e.then(s=>new Jl(s)).catch(s=>new Xl(t(s)));return new zo(r)}static fromThrowable(e,t){return(...r)=>new zo((()=>xk(this,void 0,void 0,function*(){try{return new Jl(yield e(...r))}catch(s){return new Xl(t?t(s):s)}}))())}static combine(e){return nje(e)}static combineWithAllErrors(e){return sje(e)}map(e){return new zo(this._promise.then(t=>xk(this,void 0,void 0,function*(){return t.isErr()?new Xl(t.error):new Jl(yield e(t.value))})))}andThrough(e){return new zo(this._promise.then(t=>xk(this,void 0,void 0,function*(){if(t.isErr())return new Xl(t.error);const r=yield e(t.value);return r.isErr()?new Xl(r.error):new Jl(t.value)})))}andTee(e){return new zo(this._promise.then(t=>xk(this,void 0,void 0,function*(){if(t.isErr())return new Xl(t.error);try{yield e(t.value)}catch{}return new Jl(t.value)})))}mapErr(e){return new zo(this._promise.then(t=>xk(this,void 0,void 0,function*(){return t.isOk()?new Jl(t.value):new Xl(yield e(t.error))})))}andThen(e){return new zo(this._promise.then(t=>{if(t.isErr())return new Xl(t.error);const r=e(t.value);return r instanceof zo?r._promise:r}))}orElse(e){return new zo(this._promise.then(t=>xk(this,void 0,void 0,function*(){return t.isErr()?e(t.error):new Jl(t.value)})))}match(e,t){return this._promise.then(r=>r.match(e,t))}unwrapOr(e){return this._promise.then(t=>t.unwrapOr(e))}safeUnwrap(){return Ede(this,arguments,function*(){return yield tf(yield tf(yield*Jqe(Xqe(yield tf(this._promise.then(t=>t.safeUnwrap()))))))})}then(e,t){return this._promise.then(e,t)}[Symbol.asyncIterator](){return Ede(this,arguments,function*(){const t=yield tf(this._promise);return t.isErr()&&(yield yield tf(L2(t.error))),yield tf(t.value)})}}const Qqe=n=>new zo(Promise.resolve(new Jl(n))),L2=n=>new zo(Promise.resolve(new Xl(n))),eje=zo.fromPromise,tje=zo.fromSafePromise,rje=zo.fromThrowable,Bve=n=>{let e=Dy([]);for(const t of n)if(t.isErr()){e=rf(t.error);break}else e.map(r=>r.push(t.value));return e},nje=n=>zo.fromSafePromise(Promise.all(n)).andThen(Bve),zve=n=>{let e=Dy([]);for(const t of n)t.isErr()&&e.isErr()?e.error.push(t.error):t.isErr()&&e.isOk()?e=rf([t.error]):t.isOk()&&e.isOk()&&e.value.push(t.value);return e},sje=n=>zo.fromSafePromise(Promise.all(n)).andThen(zve);var uO;(function(n){function e(s,i){return(...o)=>{try{const a=s(...o);return Dy(a)}catch(a){return rf(i?i(a):a)}}}n.fromThrowable=e;function t(s){return Bve(s)}n.combine=t;function r(s){return zve(s)}n.combineWithAllErrors=r})(uO||(uO={}));const Dy=n=>new Jl(n);function rf(n){return new Xl(n)}function ije(n){const e=n().next();return e instanceof Promise?new zo(e.then(t=>t.value)):e.value}class Jl{constructor(e){this.value=e}isOk(){return!0}isErr(){return!this.isOk()}map(e){return Dy(e(this.value))}mapErr(e){return Dy(this.value)}andThen(e){return e(this.value)}andThrough(e){return e(this.value).map(t=>this.value)}andTee(e){try{e(this.value)}catch{}return Dy(this.value)}orElse(e){return Dy(this.value)}asyncAndThen(e){return e(this.value)}asyncAndThrough(e){return e(this.value).map(()=>this.value)}asyncMap(e){return zo.fromSafePromise(e(this.value))}unwrapOr(e){return this.value}match(e,t){return e(this.value)}safeUnwrap(){const e=this.value;return function*(){return e}()}_unsafeUnwrap(e){return this.value}_unsafeUnwrapErr(e){throw Mve("Called `_unsafeUnwrapErr` on an Ok",this,e)}*[Symbol.iterator](){return this.value}}class Xl{constructor(e){this.error=e}isOk(){return!1}isErr(){return!this.isOk()}map(e){return rf(this.error)}mapErr(e){return rf(e(this.error))}andThrough(e){return rf(this.error)}andTee(e){return rf(this.error)}andThen(e){return rf(this.error)}orElse(e){return e(this.error)}asyncAndThen(e){return L2(this.error)}asyncAndThrough(e){return L2(this.error)}asyncMap(e){return L2(this.error)}unwrapOr(e){return e}match(e,t){return t(this.error)}safeUnwrap(){const e=this.error;return function*(){throw yield rf(e),new Error("Do not use this generator out of `safeTry`")}()}_unsafeUnwrap(e){throw Mve("Called `_unsafeUnwrap` on an Err",this,e)}_unsafeUnwrapErr(e){return this.error}*[Symbol.iterator](){const e=this;return yield e,e}}const oje=uO.fromThrowable;var aje=Object.freeze(Object.defineProperty({__proto__:null,Err:Xl,Ok:Jl,get Result(){return uO},ResultAsync:zo,err:rf,errAsync:L2,fromAsyncThrowable:rje,fromPromise:eje,fromSafePromise:tje,fromThrowable:oje,ok:Dy,okAsync:Qqe,safeTry:ije},Symbol.toStringTag,{value:"Module"})),HB=Td(aje),dY={},qp={},Kb={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.EXEMPTION_THRESHOLD=n.LAMPORTS_PER_BYTE_YEAR=n.ACCOUNT_STORAGE_OVERHEAD=n.snakeCaseToTitleCase=n.getElementOrError=n.isNull=void 0,n.optionalToArray=t,n.remapObject=r,n.fixedSizeArray=s,n.fixedSizeArrayInit=i,n.fixedSizeArrayFromArray=o,n.arrayDeepEquals=a,n.stringToByteArray=c,n.byteArrayToString=u,n.assertNever=l,n.staticImplements=d,n.normalizeArray=m,n.calculateMinimumRent=g;const e=Cx.exports;function t(b){return b==null?[]:[b]}function r(b,S){return Object.entries(b).map(([p,I])=>({[p]:S(I,p)})).reduce((p,I)=>Object.assign(Object.assign({},p),I))}function s(b,S){return new Array(b).fill(S)}function i(b,S){return(0,e.range)(0,b).map(S)}function o(b,S){return S.length===b?S:null}function a(b,S,p){return b.length!==S.length?!1:b.reduce((I,w,A)=>{const _=S[A];return _==null?!1:I&&p(w,_)},!0)}function c(b,S){const p=new TextEncoder().encode(b);if(S===void 0)return Array.from(p);if(p.length>S)throw new Error("name too long");return Array.from(p).concat(new Array(S-p.length).fill(0))}function u(b){const S=b.findIndex(p=>p===0);return new TextDecoder().decode(Uint8Array.from(b).slice(0,S===-1?void 0:S))}function l(b){throw new Error("Unexpected object: "+b)}function d(){return b=>{}}const y=b=>Object.values(b).every(S=>S===null);n.isNull=y;const h=(b,S)=>{const p=b[S];if(p==null)throw new Error(`element at index ${S} doesn't exist in ${typeof b}`);return p};n.getElementOrError=h;function m(b){return Array.isArray(b)?b:[b]}const f=b=>{const S=b.replace(/([A-Z])/g," $1");return S.charAt(0).toUpperCase()+S.slice(1)};n.snakeCaseToTitleCase=f,n.ACCOUNT_STORAGE_OVERHEAD=128,n.LAMPORTS_PER_BYTE_YEAR=1e9/100*365/(1024*1024),n.EXEMPTION_THRESHOLD=2;function g(b){return(n.ACCOUNT_STORAGE_OVERHEAD+b)*n.LAMPORTS_PER_BYTE_YEAR*n.EXEMPTION_THRESHOLD}})(Kb);var fY={},J4={},Mo={},$ve={},Ea={},qy={},Rd={};Object.defineProperty(Rd,"__esModule",{value:!0});Rd.anumber=bM;Rd.number=bM;Rd.abytes=X4;Rd.bytes=X4;Rd.ahash=Dve;Rd.aexists=Ove;Rd.aoutput=Kve;function bM(n){if(!Number.isSafeInteger(n)||n<0)throw new Error("positive integer expected, got "+n)}function cje(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function X4(n,...e){if(!cje(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error("Uint8Array expected of length "+e+", got length="+n.length)}function Dve(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");bM(n.outputLen),bM(n.blockLen)}function Ove(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Kve(n,e){X4(n);const t=e.outputLen;if(n.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const uje={number:bM,bytes:X4,hash:Dve,exists:Ove,output:Kve};Rd.default=uje;var Q4={},eK={};Object.defineProperty(eK,"__esModule",{value:!0});eK.crypto=void 0;eK.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,"__esModule",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.byteSwap=n.isLE=n.rotl=n.rotr=n.createView=n.u32=n.u8=void 0,n.isBytes=r,n.byteSwap32=l,n.bytesToHex=y,n.hexToBytes=f,n.asyncLoop=b,n.utf8ToBytes=S,n.toBytes=p,n.concatBytes=I,n.checkOpts=A,n.wrapConstructor=_,n.wrapConstructorWithOpts=E,n.wrapXOFConstructorWithOpts=M,n.randomBytes=P;const e=eK,t=Rd;function r(R){return R instanceof Uint8Array||ArrayBuffer.isView(R)&&R.constructor.name==="Uint8Array"}const s=R=>new Uint8Array(R.buffer,R.byteOffset,R.byteLength);n.u8=s;const i=R=>new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4));n.u32=i;const o=R=>new DataView(R.buffer,R.byteOffset,R.byteLength);n.createView=o;const a=(R,$)=>R<<32-$|R>>>$;n.rotr=a;const c=(R,$)=>R<<$|R>>>32-$>>>0;n.rotl=c,n.isLE=(()=>new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68)();const u=R=>R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255;n.byteSwap=u,n.byteSwapIfBE=n.isLE?R=>R:R=>(0,n.byteSwap)(R);function l(R){for(let $=0;$<R.length;$++)R[$]=(0,n.byteSwap)(R[$])}const d=Array.from({length:256},(R,$)=>$.toString(16).padStart(2,"0"));function y(R){(0,t.abytes)(R);let $="";for(let z=0;z<R.length;z++)$+=d[R[z]];return $}const h={_0:48,_9:57,A:65,F:70,a:97,f:102};function m(R){if(R>=h._0&&R<=h._9)return R-h._0;if(R>=h.A&&R<=h.F)return R-(h.A-10);if(R>=h.a&&R<=h.f)return R-(h.a-10)}function f(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);const $=R.length,z=$/2;if($%2)throw new Error("padded hex string expected, got unpadded hex of length "+$);const T=new Uint8Array(z);for(let v=0,k=0;v<z;v++,k+=2){const x=m(R.charCodeAt(k)),C=m(R.charCodeAt(k+1));if(x===void 0||C===void 0){const B=R[k]+R[k+1];throw new Error('hex string expected, got non-hex character "'+B+'" at index '+k)}T[v]=x*16+C}return T}const g=async()=>{};n.nextTick=g;async function b(R,$,z){let T=Date.now();for(let v=0;v<R;v++){z(v);const k=Date.now()-T;k>=0&&k<$||(await(0,n.nextTick)(),T+=k)}}function S(R){if(typeof R!="string")throw new Error("utf8ToBytes expected string, got "+typeof R);return new Uint8Array(new TextEncoder().encode(R))}function p(R){return typeof R=="string"&&(R=S(R)),(0,t.abytes)(R),R}function I(...R){let $=0;for(let T=0;T<R.length;T++){const v=R[T];(0,t.abytes)(v),$+=v.length}const z=new Uint8Array($);for(let T=0,v=0;T<R.length;T++){const k=R[T];z.set(k,v),v+=k.length}return z}class w{clone(){return this._cloneInto()}}n.Hash=w;function A(R,$){if($!==void 0&&{}.toString.call($)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(R,$)}function _(R){const $=T=>R().update(p(T)).digest(),z=R();return $.outputLen=z.outputLen,$.blockLen=z.blockLen,$.create=()=>R(),$}function E(R){const $=(T,v)=>R(v).update(p(T)).digest(),z=R({});return $.outputLen=z.outputLen,$.blockLen=z.blockLen,$.create=T=>R(T),$}function M(R){const $=(T,v)=>R(v).update(p(T)).digest(),z=R({});return $.outputLen=z.outputLen,$.blockLen=z.blockLen,$.create=T=>R(T),$}function P(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(R);throw new Error("crypto.getRandomValues must be defined")}})(Q4);Object.defineProperty(qy,"__esModule",{value:!0});qy.HashMD=qy.Maj=qy.Chi=void 0;const pW=Rd,IR=Q4;function lje(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const dje=(n,e,t)=>n&e^~n&t;qy.Chi=dje;const fje=(n,e,t)=>n&e^n&t^e&t;qy.Maj=fje;class hje extends IR.Hash{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,IR.createView)(this.buffer)}update(e){(0,pW.aexists)(this);const{view:t,buffer:r,blockLen:s}=this;e=(0,IR.toBytes)(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=(0,IR.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,pW.aexists)(this),(0,pW.aoutput)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;lje(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=(0,IR.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}qy.HashMD=hje;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.add5L=Ir.add5H=Ir.add4H=Ir.add4L=Ir.add3H=Ir.add3L=Ir.rotlBL=Ir.rotlBH=Ir.rotlSL=Ir.rotlSH=Ir.rotr32L=Ir.rotr32H=Ir.rotrBL=Ir.rotrBH=Ir.rotrSL=Ir.rotrSH=Ir.shrSL=Ir.shrSH=Ir.toBig=void 0;Ir.fromBig=hY;Ir.split=Lve;Ir.add=Qve;const g$=BigInt(2**32-1),d9=BigInt(32);function hY(n,e=!1){return e?{h:Number(n&g$),l:Number(n>>d9&g$)}:{h:Number(n>>d9&g$)|0,l:Number(n&g$)|0}}function Lve(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=hY(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const Wve=(n,e)=>BigInt(n>>>0)<<d9|BigInt(e>>>0);Ir.toBig=Wve;const Nve=(n,e,t)=>n>>>t;Ir.shrSH=Nve;const Fve=(n,e,t)=>n<<32-t|e>>>t;Ir.shrSL=Fve;const Uve=(n,e,t)=>n>>>t|e<<32-t;Ir.rotrSH=Uve;const Vve=(n,e,t)=>n<<32-t|e>>>t;Ir.rotrSL=Vve;const qve=(n,e,t)=>n<<64-t|e>>>t-32;Ir.rotrBH=qve;const jve=(n,e,t)=>n>>>t-32|e<<64-t;Ir.rotrBL=jve;const Hve=(n,e)=>e;Ir.rotr32H=Hve;const Gve=(n,e)=>n;Ir.rotr32L=Gve;const Yve=(n,e,t)=>n<<t|e>>>32-t;Ir.rotlSH=Yve;const Zve=(n,e,t)=>e<<t|n>>>32-t;Ir.rotlSL=Zve;const Jve=(n,e,t)=>e<<t-32|n>>>64-t;Ir.rotlBH=Jve;const Xve=(n,e,t)=>n<<t-32|e>>>64-t;Ir.rotlBL=Xve;function Qve(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const eAe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0);Ir.add3L=eAe;const tAe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0;Ir.add3H=tAe;const rAe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0);Ir.add4L=rAe;const nAe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0;Ir.add4H=nAe;const sAe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0);Ir.add5L=sAe;const iAe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0;Ir.add5H=iAe;const gje={fromBig:hY,split:Lve,toBig:Wve,shrSH:Nve,shrSL:Fve,rotrSH:Uve,rotrSL:Vve,rotrBH:qve,rotrBL:jve,rotr32H:Hve,rotr32L:Gve,rotlSH:Yve,rotlSL:Zve,rotlBH:Jve,rotlBL:Xve,add:Qve,add3L:eAe,add3H:tAe,add4L:rAe,add4H:nAe,add5H:iAe,add5L:sAe};Ir.default=gje;Object.defineProperty(Ea,"__esModule",{value:!0});Ea.sha384=Ea.sha512_256=Ea.sha512_224=Ea.sha512=Ea.SHA384=Ea.SHA512_256=Ea.SHA512_224=Ea.SHA512=void 0;const mje=qy,Br=Ir,tK=Q4,[yje,pje]=(()=>Br.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Mm=new Uint32Array(80),Bm=new Uint32Array(80);class GB extends mje.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Mm[p]=e.getUint32(t),Bm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Mm[p-15]|0,w=Bm[p-15]|0,A=Br.default.rotrSH(I,w,1)^Br.default.rotrSH(I,w,8)^Br.default.shrSH(I,w,7),_=Br.default.rotrSL(I,w,1)^Br.default.rotrSL(I,w,8)^Br.default.shrSL(I,w,7),E=Mm[p-2]|0,M=Bm[p-2]|0,P=Br.default.rotrSH(E,M,19)^Br.default.rotrBH(E,M,61)^Br.default.shrSH(E,M,6),R=Br.default.rotrSL(E,M,19)^Br.default.rotrBL(E,M,61)^Br.default.shrSL(E,M,6),$=Br.default.add4L(_,R,Bm[p-7],Bm[p-16]),z=Br.default.add4H($,A,P,Mm[p-7],Mm[p-16]);Mm[p]=z|0,Bm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Br.default.rotrSH(d,y,14)^Br.default.rotrSH(d,y,18)^Br.default.rotrBH(d,y,41),w=Br.default.rotrSL(d,y,14)^Br.default.rotrSL(d,y,18)^Br.default.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Br.default.add5L(S,w,_,pje[p],Bm[p]),M=Br.default.add5H(E,b,I,A,yje[p],Mm[p]),P=E|0,R=Br.default.rotrSH(r,s,28)^Br.default.rotrBH(r,s,34)^Br.default.rotrBH(r,s,39),$=Br.default.rotrSL(r,s,28)^Br.default.rotrBL(r,s,34)^Br.default.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Br.default.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Br.default.add3L(P,$,T);r=Br.default.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Br.default.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Br.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Br.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Br.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Br.default.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Br.default.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Br.default.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Br.default.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Mm.fill(0),Bm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Ea.SHA512=GB;class oAe extends GB{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Ea.SHA512_224=oAe;class aAe extends GB{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Ea.SHA512_256=aAe;class cAe extends GB{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Ea.SHA384=cAe;Ea.sha512=(0,tK.wrapConstructor)(()=>new GB);Ea.sha512_224=(0,tK.wrapConstructor)(()=>new oAe);Ea.sha512_256=(0,tK.wrapConstructor)(()=>new aAe);Ea.sha384=(0,tK.wrapConstructor)(()=>new cAe);var gY={},Gx={},hs={},In={};Object.defineProperty(In,"__esModule",{value:!0});In.notImplemented=In.bitMask=void 0;In.isBytes=sK;In.abytes=iK;In.abool=Sje;In.bytesToHex=mY;In.numberToHexUnpadded=uAe;In.hexToNumber=yY;In.hexToBytes=oK;In.bytesToNumberBE=vje;In.bytesToNumberLE=Aje;In.numberToBytesBE=lAe;In.numberToBytesLE=wje;In.numberToVarBytesBE=Ije;In.ensureBytes=Pje;In.concatBytes=dAe;In.equalBytes=_je;In.utf8ToBytes=Eje;In.inRange=fAe;In.aInRange=xje;In.bitLen=Tje;In.bitGet=Rje;In.bitSet=Cje;In.createHmacDrbg=Bje;In.validateObject=$je;In.memoized=Oje;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rK=BigInt(0),nK=BigInt(1),bje=BigInt(2);function sK(n){return n instanceof Uint8Array||ArrayBuffer.isView(n)&&n.constructor.name==="Uint8Array"}function iK(n){if(!sK(n))throw new Error("Uint8Array expected")}function Sje(n,e){if(typeof e!="boolean")throw new Error(n+" boolean expected, got "+e)}const kje=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function mY(n){iK(n);let e="";for(let t=0;t<n.length;t++)e+=kje[n[t]];return e}function uAe(n){const e=n.toString(16);return e.length&1?"0"+e:e}function yY(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return n===""?rK:BigInt("0x"+n)}const _h={_0:48,_9:57,A:65,F:70,a:97,f:102};function xde(n){if(n>=_h._0&&n<=_h._9)return n-_h._0;if(n>=_h.A&&n<=_h.F)return n-(_h.A-10);if(n>=_h.a&&n<=_h.f)return n-(_h.a-10)}function oK(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=xde(n.charCodeAt(i)),a=xde(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function vje(n){return yY(mY(n))}function Aje(n){return iK(n),yY(mY(Uint8Array.from(n).reverse()))}function lAe(n,e){return oK(n.toString(16).padStart(e*2,"0"))}function wje(n,e){return lAe(n,e).reverse()}function Ije(n){return oK(uAe(n))}function Pje(n,e,t){let r;if(typeof e=="string")try{r=oK(e)}catch(i){throw new Error(n+" must be hex string or Uint8Array, cause: "+i)}else if(sK(e))r=Uint8Array.from(e);else throw new Error(n+" must be hex string or Uint8Array");const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(n+" of length "+t+" expected, got "+s);return r}function dAe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];iK(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function _je(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Eje(n){if(typeof n!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(n))}const bW=n=>typeof n=="bigint"&&rK<=n;function fAe(n,e,t){return bW(n)&&bW(e)&&bW(t)&&e<=n&&n<t}function xje(n,e,t,r){if(!fAe(e,t,r))throw new Error("expected valid "+n+": "+t+" <= n < "+r+", got "+e)}function Tje(n){let e;for(e=0;n>rK;n>>=nK,e+=1);return e}function Rje(n,e){return n>>BigInt(e)&nK}function Cje(n,e,t){return n|(t?nK:rK)<<BigInt(e)}const Mje=n=>(bje<<BigInt(n-1))-nK;In.bitMask=Mje;const SW=n=>new Uint8Array(n),Tde=n=>Uint8Array.from(n);function Bje(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=SW(n),s=SW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=SW())=>{s=a(Tde([0]),d),r=a(),d.length!==0&&(s=a(Tde([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return dAe(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const zje={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||sK(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function $je(n,e,t={}){const r=(s,i,o)=>{const a=zje[i];if(typeof a!="function")throw new Error("invalid validator function");const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Dje=()=>{throw new Error("not implemented")};In.notImplemented=Dje;function Oje(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}Object.defineProperty(hs,"__esModule",{value:!0});hs.isNegativeLE=void 0;hs.mod=Ku;hs.pow=hAe;hs.pow2=Lje;hs.invert=lO;hs.tonelliShanks=gAe;hs.FpSqrt=mAe;hs.validateField=Fje;hs.FpPow=yAe;hs.FpInvertBatch=pAe;hs.FpDiv=Uje;hs.FpLegendre=bAe;hs.FpIsSquare=Vje;hs.nLength=pY;hs.Field=qje;hs.FpSqrtOdd=jje;hs.FpSqrtEven=Hje;hs.hashToPrivateScalar=Gje;hs.getFieldBytesLength=bY;hs.getMinHashLength=SAe;hs.mapHashToField=Yje;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gu=In,Ya=BigInt(0),Fs=BigInt(1),xy=BigInt(2),Kje=BigInt(3),f9=BigInt(4),Rde=BigInt(5),Cde=BigInt(8);function Ku(n,e){const t=n%e;return t>=Ya?t:e+t}function hAe(n,e,t){if(e<Ya)throw new Error("invalid exponent, negatives unsupported");if(t<=Ya)throw new Error("invalid modulus");if(t===Fs)return Ya;let r=Fs;for(;e>Ya;)e&Fs&&(r=r*n%t),n=n*n%t,e>>=Fs;return r}function Lje(n,e,t){let r=n;for(;e-- >Ya;)r*=r,r%=t;return r}function lO(n,e){if(n===Ya)throw new Error("invert: expected non-zero number");if(e<=Ya)throw new Error("invert: expected positive modulus, got "+e);let t=Ku(n,e),r=e,s=Ya,i=Fs;for(;t!==Ya;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Fs)throw new Error("invert: does not exist");return Ku(s,e)}function gAe(n){const e=(n-Fs)/xy;let t,r,s;for(t=n-Fs,r=0;t%xy===Ya;t/=xy,r++);for(s=xy;s<n&&hAe(s,e,n)!==n-Fs;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(n+Fs)/f9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Fs)/xy;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Fs<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function mAe(n){if(n%f9===Kje){const e=(n+Fs)/f9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Cde===Rde){const e=(n-Rde)/Cde;return function(r,s){const i=r.mul(s,xy),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,xy),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return gAe(n)}const Wje=(n,e)=>(Ku(n,e)&Fs)===Fs;hs.isNegativeLE=Wje;const Nje=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Fje(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Nje.reduce((r,s)=>(r[s]="function",r),e);return(0,Gu.validateObject)(n,t)}function yAe(n,e,t){if(t<Ya)throw new Error("invalid exponent, negatives unsupported");if(t===Ya)return n.ONE;if(t===Fs)return e;let r=n.ONE,s=e;for(;t>Ya;)t&Fs&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Fs;return r}function pAe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function Uje(n,e,t){return n.mul(e,typeof t=="bigint"?lO(t,n.ORDER):n.inv(t))}function bAe(n){const e=(n-Fs)/xy;return(t,r)=>t.pow(r,e)}function Vje(n){const e=bAe(n.ORDER);return t=>{const r=e(n,t);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function pY(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function qje(n,e,t=!1,r={}){if(n<=Ya)throw new Error("invalid field: expected ORDER > 0, got "+n);const{nBitLength:s,nByteLength:i}=pY(n,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:(0,Gu.bitMask)(s),ZERO:Ya,ONE:Fs,create:c=>Ku(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ya<=c&&c<n},is0:c=>c===Ya,isOdd:c=>(c&Fs)===Fs,neg:c=>Ku(-c,n),eql:(c,u)=>c===u,sqr:c=>Ku(c*c,n),add:(c,u)=>Ku(c+u,n),sub:(c,u)=>Ku(c-u,n),mul:(c,u)=>Ku(c*u,n),pow:(c,u)=>yAe(a,c,u),div:(c,u)=>Ku(c*lO(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>lO(c,n),sqrt:r.sqrt||(c=>(o||(o=mAe(n)),o(a,c))),invertBatch:c=>pAe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?(0,Gu.numberToBytesLE)(c,i):(0,Gu.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return t?(0,Gu.bytesToNumberLE)(c):(0,Gu.bytesToNumberBE)(c)}});return Object.freeze(a)}function jje(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function Hje(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function Gje(n,e,t=!1){n=(0,Gu.ensureBytes)("privateHash",n);const r=n.length,s=pY(e).nByteLength+8;if(s<24||r<s||r>1024)throw new Error("hashToPrivateScalar: expected "+s+"-1024 bytes of input, got "+r);const i=t?(0,Gu.bytesToNumberLE)(n):(0,Gu.bytesToNumberBE)(n);return Ku(i,e-Fs)+Fs}function bY(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function SAe(n){const e=bY(n);return e+Math.ceil(e/2)}function Yje(n,e,t=!1){const r=n.length,s=bY(e),i=SAe(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=t?(0,Gu.bytesToNumberBE)(n):(0,Gu.bytesToNumberLE)(n),a=Ku(o,e-Fs)+Fs;return t?(0,Gu.numberToBytesLE)(a,s):(0,Gu.numberToBytesBE)(a,s)}Object.defineProperty(Gx,"__esModule",{value:!0});Gx.wNAF=Zje;Gx.pippenger=Jje;Gx.precomputeMSMUnsafe=Xje;Gx.validateBasic=Qje;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mde=hs,kAe=In,Bde=BigInt(0),m$=BigInt(1);function kW(n,e){const t=e.negate();return n?t:e}function SY(n,e){if(!Number.isSafeInteger(n)||n<=0||n>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+n)}function vW(n,e){SY(n,e);const t=Math.ceil(e/n)+1,r=2**(n-1);return{windows:t,windowSize:r}}function vAe(n,e){if(!Array.isArray(n))throw new Error("array expected");n.forEach((t,r)=>{if(!(t instanceof e))throw new Error("invalid point at index "+r)})}function AAe(n,e){if(!Array.isArray(n))throw new Error("array of scalars expected");n.forEach((t,r)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+r)})}const AW=new WeakMap,wAe=new WeakMap;function wW(n){return wAe.get(n)||1}function Zje(n,e){return{constTimeNegate:kW,hasPrecomputes(t){return wW(t)!==1},unsafeLadder(t,r,s=n.ZERO){let i=t;for(;r>Bde;)r&m$&&(s=s.add(i)),i=i.double(),r>>=m$;return s},precomputeWindow(t,r){const{windows:s,windowSize:i}=vW(r,e),o=[];let a=t,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,r,s){const{windows:i,windowSize:o}=vW(t,e);let a=n.ZERO,c=n.BASE;const u=BigInt(2**t-1),l=2**t,d=BigInt(t);for(let y=0;y<i;y++){const h=y*o;let m=Number(s&u);s>>=d,m>o&&(m-=l,s+=m$);const f=h,g=h+Math.abs(m)-1,b=y%2!==0,S=m<0;m===0?c=c.add(kW(b,r[f])):a=a.add(kW(S,r[g]))}return{p:a,f:c}},wNAFUnsafe(t,r,s,i=n.ZERO){const{windows:o,windowSize:a}=vW(t,e),c=BigInt(2**t-1),u=2**t,l=BigInt(t);for(let d=0;d<o;d++){const y=d*a;if(s===Bde)break;let h=Number(s&c);if(s>>=l,h>a&&(h-=u,s+=m$),h===0)continue;let m=r[y+Math.abs(h)-1];h<0&&(m=m.negate()),i=i.add(m)}return i},getPrecomputes(t,r,s){let i=AW.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&AW.set(r,s(i))),i},wNAFCached(t,r,s){const i=wW(t);return this.wNAF(i,this.getPrecomputes(i,t,s),r)},wNAFCachedUnsafe(t,r,s,i){const o=wW(t);return o===1?this.unsafeLadder(t,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,s),r,i)},setWindowSize(t,r){SY(r,e),wAe.set(t,r),AW.delete(t)}}}function Jje(n,e,t,r){if(vAe(t,n),AAe(r,e),t.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=n.ZERO,i=(0,kAe.bitLen)(BigInt(t.length)),o=i>12?i-3:i>4?i-2:i?2:1,a=(1<<o)-1,c=new Array(a+1).fill(s),u=Math.floor((e.BITS-1)/o)*o;let l=s;for(let d=u;d>=0;d-=o){c.fill(s);for(let h=0;h<r.length;h++){const m=r[h],f=Number(m>>BigInt(d)&BigInt(a));c[f]=c[f].add(t[h])}let y=s;for(let h=c.length-1,m=s;h>0;h--)m=m.add(c[h]),y=y.add(m);if(l=l.add(y),d!==0)for(let h=0;h<o;h++)l=l.double()}return l}function Xje(n,e,t,r){SY(r,e.BITS),vAe(t,n);const s=n.ZERO,i=2**r-1,o=Math.ceil(e.BITS/r),a=BigInt((1<<r)-1),c=t.map(u=>{const l=[];for(let d=0,y=u;d<i;d++)l.push(y),y=y.add(u);return l});return u=>{if(AAe(u,e),u.length>t.length)throw new Error("array of scalars must be smaller than array of points");let l=s;for(let d=0;d<o;d++){if(l!==s)for(let h=0;h<r;h++)l=l.double();const y=BigInt(o*r-(d+1)*r);for(let h=0;h<u.length;h++){const m=u[h],f=Number(m>>y&a);!f||(l=l.add(c[h][f-1]))}}return l}}function Qje(n){return(0,Mde.validateField)(n.Fp),(0,kAe.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Mde.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}Object.defineProperty(gY,"__esModule",{value:!0});gY.twistedEdwards=nHe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const h9=Gx,zde=hs,Zc=In,Wc=In,Dl=BigInt(0),Nc=BigInt(1),y$=BigInt(2),eHe=BigInt(8),tHe={zip215:!0};function rHe(n){const e=(0,h9.validateBasic)(n);return Zc.validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function nHe(n){const e=rHe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=y$<<BigInt(a*8)-Nc,l=t.create,d=(0,zde.Field)(e.n,e.nBitLength),y=e.uvRatio||((k,x)=>{try{return{isValid:!0,value:t.sqrt(k*t.inv(x))}}catch{return{isValid:!1,value:Dl}}}),h=e.adjustScalarBytes||(k=>k),m=e.domain||((k,x,C)=>{if((0,Wc.abool)("phflag",C),x.length||C)throw new Error("Contexts/pre-hash are not supported");return k});function f(k,x){Zc.aInRange("coordinate "+k,x,Dl,u)}function g(k){if(!(k instanceof p))throw new Error("ExtendedPoint expected")}const b=(0,Wc.memoized)((k,x)=>{const{ex:C,ey:B,ez:O}=k,D=k.is0();x==null&&(x=D?eHe:t.inv(O));const W=l(C*x),L=l(B*x),N=l(O*x);if(D)return{x:Dl,y:Nc};if(N!==Nc)throw new Error("invZ was invalid");return{x:W,y:L}}),S=(0,Wc.memoized)(k=>{const{a:x,d:C}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:B,ey:O,ez:D,et:W}=k,L=l(B*B),N=l(O*O),H=l(D*D),J=l(H*H),Q=l(L*x),Y=l(H*l(Q+N)),X=l(J+l(C*l(L*N)));if(Y!==X)throw new Error("bad point: equation left != right (1)");const re=l(B*O),se=l(D*W);if(re!==se)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(x,C,B,O){this.ex=x,this.ey=C,this.ez=B,this.et=O,f("x",x),f("y",C),f("z",B),f("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof p)throw new Error("extended point not allowed");const{x:C,y:B}=x||{};return f("x",C),f("y",B),new p(C,B,Nc,l(C*B))}static normalizeZ(x){const C=t.invertBatch(x.map(B=>B.ez));return x.map((B,O)=>B.toAffine(C[O])).map(p.fromAffine)}static msm(x,C){return(0,h9.pippenger)(p,d,x,C)}_setWindowSize(x){A.setWindowSize(this,x)}assertValidity(){S(this)}equals(x){g(x);const{ex:C,ey:B,ez:O}=this,{ex:D,ey:W,ez:L}=x,N=l(C*L),H=l(D*O),J=l(B*L),Q=l(W*O);return N===H&&J===Q}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:x}=e,{ex:C,ey:B,ez:O}=this,D=l(C*C),W=l(B*B),L=l(y$*l(O*O)),N=l(x*D),H=C+B,J=l(l(H*H)-D-W),Q=N+W,Y=Q-L,X=N-W,re=l(J*Y),se=l(Q*X),ee=l(J*X),ne=l(Y*Q);return new p(re,se,ne,ee)}add(x){g(x);const{a:C,d:B}=e,{ex:O,ey:D,ez:W,et:L}=this,{ex:N,ey:H,ez:J,et:Q}=x;if(C===BigInt(-1)){const Dt=l((D-O)*(H+N)),et=l((D+O)*(H-N)),Ue=l(et-Dt);if(Ue===Dl)return this.double();const Wt=l(W*y$*Q),sr=l(L*y$*J),rr=sr+Wt,pr=et+Dt,wr=sr-Wt,ls=l(rr*Ue),gn=l(pr*wr),ds=l(rr*wr),ol=l(Ue*pr);return new p(ls,gn,ol,ds)}const Y=l(O*N),X=l(D*H),re=l(L*B*Q),se=l(W*J),ee=l((O+D)*(N+H)-Y-X),ne=se-re,ve=se+re,Pe=l(X-C*Y),Le=l(ee*ne),We=l(ve*Pe),Ft=l(ee*Pe),Lt=l(ne*ve);return new p(Le,We,Lt,Ft)}subtract(x){return this.add(x.negate())}wNAF(x){return A.wNAFCached(this,x,p.normalizeZ)}multiply(x){const C=x;Zc.aInRange("scalar",C,Nc,r);const{p:B,f:O}=this.wNAF(C);return p.normalizeZ([B,O])[0]}multiplyUnsafe(x,C=p.ZERO){const B=x;return Zc.aInRange("scalar",B,Dl,r),B===Dl?w:this.is0()||B===Nc?this:A.wNAFCachedUnsafe(this,B,p.normalizeZ,C)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(x){return b(this,x)}clearCofactor(){const{h:x}=e;return x===Nc?this:this.multiplyUnsafe(x)}static fromHex(x,C=!1){const{d:B,a:O}=e,D=t.BYTES;x=(0,Wc.ensureBytes)("pointHex",x,D),(0,Wc.abool)("zip215",C);const W=x.slice(),L=x[D-1];W[D-1]=L&-129;const N=Zc.bytesToNumberLE(W),H=C?u:t.ORDER;Zc.aInRange("pointHex.y",N,Dl,H);const J=l(N*N),Q=l(J-Nc),Y=l(B*J-O);let{isValid:X,value:re}=y(Q,Y);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const se=(re&Nc)===Nc,ee=(L&128)!==0;if(!C&&re===Dl&&ee)throw new Error("Point.fromHex: x=0 and x_0=1");return ee!==se&&(re=l(-re)),p.fromAffine({x:re,y:N})}static fromPrivateKey(x){return M(x).point}toRawBytes(){const{x,y:C}=this.toAffine(),B=Zc.numberToBytesLE(C,t.BYTES);return B[B.length-1]|=x&Nc?128:0,B}toHex(){return Zc.bytesToHex(this.toRawBytes())}}p.BASE=new p(e.Gx,e.Gy,Nc,l(e.Gx*e.Gy)),p.ZERO=new p(Dl,Nc,Nc,Dl);const{BASE:I,ZERO:w}=p,A=(0,h9.wNAF)(p,a*8);function _(k){return(0,zde.mod)(k,r)}function E(k){return _(Zc.bytesToNumberLE(k))}function M(k){const x=t.BYTES;k=(0,Wc.ensureBytes)("private key",k,x);const C=(0,Wc.ensureBytes)("hashed private key",i(k),2*x),B=h(C.slice(0,x)),O=C.slice(x,2*x),D=E(B),W=I.multiply(D),L=W.toRawBytes();return{head:B,prefix:O,scalar:D,point:W,pointBytes:L}}function P(k){return M(k).pointBytes}function R(k=new Uint8Array,...x){const C=Zc.concatBytes(...x);return E(i(m(C,(0,Wc.ensureBytes)("context",k),!!s)))}function $(k,x,C={}){k=(0,Wc.ensureBytes)("message",k),s&&(k=s(k));const{prefix:B,scalar:O,pointBytes:D}=M(x),W=R(C.context,B,k),L=I.multiply(W).toRawBytes(),N=R(C.context,L,D,k),H=_(W+N*O);Zc.aInRange("signature.s",H,Dl,r);const J=Zc.concatBytes(L,Zc.numberToBytesLE(H,t.BYTES));return(0,Wc.ensureBytes)("result",J,t.BYTES*2)}const z=tHe;function T(k,x,C,B=z){const{context:O,zip215:D}=B,W=t.BYTES;k=(0,Wc.ensureBytes)("signature",k,2*W),x=(0,Wc.ensureBytes)("message",x),C=(0,Wc.ensureBytes)("publicKey",C,W),D!==void 0&&(0,Wc.abool)("zip215",D),s&&(x=s(x));const L=Zc.bytesToNumberLE(k.slice(W,2*W));let N,H,J;try{N=p.fromHex(C,D),H=p.fromHex(k.slice(0,W),D),J=I.multiplyUnsafe(L)}catch{return!1}if(!D&&N.isSmallOrder())return!1;const Q=R(O,H.toRawBytes(),N.toRawBytes(),x);return H.add(N.multiplyUnsafe(Q)).subtract(J).clearCofactor().equals(p.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:P,sign:$,verify:T,ExtendedPoint:p,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(t.BYTES),precompute(k=8,x=p.BASE){return x._setWindowSize(k),x.multiply(BigInt(3)),x}}}}var nk={};Object.defineProperty(nk,"__esModule",{value:!0});nk.expand_message_xmd=IAe;nk.expand_message_xof=PAe;nk.hash_to_field=g9;nk.isogenyMap=aHe;nk.createHasher=cHe;const sHe=hs,yc=In,iHe=yc.bytesToNumberBE;function vy(n,e){if(SM(n),SM(e),n<0||n>=1<<8*e)throw new Error("invalid I2OSP input: "+n);const t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function oHe(n,e){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function SM(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function IAe(n,e,t,r){(0,yc.abytes)(n),(0,yc.abytes)(e),SM(t),e.length>255&&(e=r((0,yc.concatBytes)((0,yc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(t/s);if(t>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,yc.concatBytes)(e,vy(e.length,1)),c=vy(0,i),u=vy(t,2),l=new Array(o),d=r((0,yc.concatBytes)(c,n,u,vy(0,1),a));l[0]=r((0,yc.concatBytes)(d,vy(1,1),a));for(let h=1;h<=o;h++){const m=[oHe(d,l[h-1]),vy(h+1,1),a];l[h]=r((0,yc.concatBytes)(...m))}return(0,yc.concatBytes)(...l).slice(0,t)}function PAe(n,e,t,r,s){if((0,yc.abytes)(n),(0,yc.abytes)(e),SM(t),e.length>255){const i=Math.ceil(2*r/8);e=s.create({dkLen:i}).update((0,yc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(n).update(vy(t,2)).update(e).update(vy(e.length,1)).digest()}function g9(n,e,t){(0,yc.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=t;(0,yc.abytes)(n),SM(e);const u=typeof c=="string"?(0,yc.utf8ToBytes)(c):c,l=r.toString(2).length,d=Math.ceil((l+s)/8),y=e*i*d;let h;if(a==="xmd")h=IAe(n,u,y,o);else if(a==="xof")h=PAe(n,u,y,s,o);else if(a==="_internal_pass")h=n;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(e);for(let f=0;f<e;f++){const g=new Array(i);for(let b=0;b<i;b++){const S=d*(b+f*i),p=h.subarray(S,S+d);g[b]=(0,sHe.mod)(iHe(p),r)}m[f]=g}return m}function aHe(n,e){const t=e.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=t.map(u=>u.reduce((l,d)=>n.add(n.mul(l,r),d)));return r=n.div(i,o),s=n.mul(s,n.div(a,c)),{x:r,y:s}}}function cHe(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const i=g9(r,2,{...t,DST:t.DST,...s}),o=n.fromAffine(e(i[0])),a=n.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const i=g9(r,1,{...t,DST:t.encodeDST,...s}),o=n.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const i of r)if(typeof i!="bigint")throw new Error("mapToCurve: expected array of bigints");const s=n.fromAffine(e(r)).clearCofactor();return s.assertValidity(),s}}}var kY={};Object.defineProperty(kY,"__esModule",{value:!0});kY.montgomery=lHe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $de=hs,gy=In,Tk=BigInt(0),IW=BigInt(1);function uHe(n){return(0,gy.validateObject)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function lHe(n){const e=uHe(n),{P:t}=e,r=S=>(0,$de.mod)(S,t),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>(0,$de.pow)(S,t-BigInt(2),t));function u(S,p,I){const w=r(S*(p-I));return p=r(p-w),I=r(I+w),[p,I]}const l=(e.a-BigInt(2))/BigInt(4);function d(S,p){(0,gy.aInRange)("u",S,Tk,t),(0,gy.aInRange)("scalar",p,Tk,t);const I=p,w=S;let A=IW,_=Tk,E=S,M=IW,P=Tk,R;for(let z=BigInt(s-1);z>=Tk;z--){const T=I>>z&IW;P^=T,R=u(P,A,E),A=R[0],E=R[1],R=u(P,_,M),_=R[0],M=R[1],P=T;const v=A+_,k=r(v*v),x=A-_,C=r(x*x),B=k-C,O=E+M,D=E-M,W=r(D*v),L=r(O*x),N=W+L,H=W-L;E=r(N*N),M=r(w*r(H*H)),A=r(k*C),_=r(B*(k+r(l*B)))}R=u(P,A,E),A=R[0],E=R[1],R=u(P,_,M),_=R[0],M=R[1];const $=c(_);return r(A*$)}function y(S){return(0,gy.numberToBytesLE)(r(S),i)}function h(S){const p=(0,gy.ensureBytes)("u coordinate",S,i);return o===32&&(p[31]&=127),(0,gy.bytesToNumberLE)(p)}function m(S){const p=(0,gy.ensureBytes)("scalar",S),I=p.length;if(I!==i&&I!==o){let w=""+i+" or "+o;throw new Error("invalid scalar, expected "+w+" bytes, got "+I)}return(0,gy.bytesToNumberLE)(a(p))}function f(S,p){const I=h(p),w=m(S),A=d(I,w);if(A===Tk)throw new Error("invalid private or public key received");return y(A)}const g=y(e.Gu);function b(S){return f(S,g)}return{scalarMult:f,scalarMultBase:b,getSharedSecret:(S,p)=>f(S,p),getPublicKey:S=>b(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.RistrettoPoint=n.encodeToCurve=n.hashToCurve=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=n.ED25519_TORSION_SUBGROUP=void 0,n.edwardsToMontgomeryPub=A,n.edwardsToMontgomeryPriv=_;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Ea,t=Q4,r=gY,s=nk,i=hs,o=kY,a=In,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=BigInt(0),d=BigInt(1),y=BigInt(2),h=BigInt(3),m=BigInt(5),f=BigInt(8);function g(Q){const Y=BigInt(10),X=BigInt(20),re=BigInt(40),se=BigInt(80),ee=c,ve=Q*Q%ee*Q%ee,Pe=(0,i.pow2)(ve,y,ee)*ve%ee,Le=(0,i.pow2)(Pe,d,ee)*Q%ee,We=(0,i.pow2)(Le,m,ee)*Le%ee,Ft=(0,i.pow2)(We,Y,ee)*We%ee,Lt=(0,i.pow2)(Ft,X,ee)*Ft%ee,Dt=(0,i.pow2)(Lt,re,ee)*Lt%ee,et=(0,i.pow2)(Dt,se,ee)*Dt%ee,Ue=(0,i.pow2)(et,se,ee)*Dt%ee,Wt=(0,i.pow2)(Ue,Y,ee)*We%ee;return{pow_p_5_8:(0,i.pow2)(Wt,y,ee)*Q%ee,b2:ve}}function b(Q){return Q[0]&=248,Q[31]&=127,Q[31]|=64,Q}function S(Q,Y){const X=c,re=(0,i.mod)(Y*Y*Y,X),se=(0,i.mod)(re*re*Y,X),ee=g(Q*se).pow_p_5_8;let ne=(0,i.mod)(Q*re*ee,X);const ve=(0,i.mod)(Y*ne*ne,X),Pe=ne,Le=(0,i.mod)(ne*u,X),We=ve===Q,Ft=ve===(0,i.mod)(-Q,X),Lt=ve===(0,i.mod)(-Q*u,X);return We&&(ne=Pe),(Ft||Lt)&&(ne=Le),(0,i.isNegativeLE)(ne,X)&&(ne=(0,i.mod)(-ne,X)),{isValid:We||Ft,value:ne}}n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const p=(()=>(0,i.Field)(c,void 0,!0))(),I=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:f,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:t.randomBytes,adjustScalarBytes:b,uvRatio:S}))();n.ed25519=(()=>(0,r.twistedEdwards)(I))();function w(Q,Y,X){if(Y.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([X?1:0,Y.length]),Y,Q)}n.ed25519ctx=(()=>(0,r.twistedEdwards)({...I,domain:w}))(),n.ed25519ph=(()=>(0,r.twistedEdwards)(Object.assign({},I,{domain:w,prehash:e.sha512})))(),n.x25519=(()=>(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Q=>{const Y=c,{pow_p_5_8:X,b2:re}=g(Q);return(0,i.mod)((0,i.pow2)(X,h,Y)*re,Y)},adjustScalarBytes:b,randomBytes:t.randomBytes}))();function A(Q){const{y:Y}=n.ed25519.ExtendedPoint.fromHex(Q),X=BigInt(1);return p.toBytes(p.create((X+Y)*p.inv(X-Y)))}n.edwardsToMontgomery=A;function _(Q){const Y=I.hash(Q.subarray(0,32));return I.adjustScalarBytes(Y).subarray(0,32)}const E=(()=>(p.ORDER+h)/f)(),M=(()=>p.pow(y,E))(),P=(()=>p.sqrt(p.neg(p.ONE)))();function R(Q){const Y=(p.ORDER-m)/f,X=BigInt(486662);let re=p.sqr(Q);re=p.mul(re,y);let se=p.add(re,p.ONE),ee=p.neg(X),ne=p.sqr(se),ve=p.mul(ne,se),Pe=p.mul(re,X);Pe=p.mul(Pe,ee),Pe=p.add(Pe,ne),Pe=p.mul(Pe,ee);let Le=p.sqr(ve);ne=p.sqr(Le),Le=p.mul(Le,ve),Le=p.mul(Le,Pe),ne=p.mul(ne,Le);let We=p.pow(ne,Y);We=p.mul(We,Le);let Ft=p.mul(We,P);ne=p.sqr(We),ne=p.mul(ne,ve);let Lt=p.eql(ne,Pe),Dt=p.cmov(Ft,We,Lt),et=p.mul(ee,re),Ue=p.mul(We,Q);Ue=p.mul(Ue,M);let Wt=p.mul(Ue,P),sr=p.mul(Pe,re);ne=p.sqr(Ue),ne=p.mul(ne,ve);let rr=p.eql(ne,sr),pr=p.cmov(Wt,Ue,rr);ne=p.sqr(Dt),ne=p.mul(ne,ve);let wr=p.eql(ne,Pe),ls=p.cmov(et,ee,wr),gn=p.cmov(pr,Dt,wr),ds=p.isOdd(gn);return gn=p.cmov(gn,p.neg(gn),wr!==ds),{xMn:ls,xMd:se,yMn:gn,yMd:d}}const $=(()=>(0,i.FpSqrtEven)(p,p.neg(BigInt(486664))))();function z(Q){const{xMn:Y,xMd:X,yMn:re,yMd:se}=R(Q);let ee=p.mul(Y,se);ee=p.mul(ee,$);let ne=p.mul(X,re),ve=p.sub(Y,X),Pe=p.add(Y,X),Le=p.mul(ne,Pe),We=p.eql(Le,p.ZERO);ee=p.cmov(ee,p.ZERO,We),ne=p.cmov(ne,p.ONE,We),ve=p.cmov(ve,p.ONE,We),Pe=p.cmov(Pe,p.ONE,We);const Ft=p.invertBatch([ne,Pe]);return{x:p.mul(ee,Ft[0]),y:p.mul(ve,Ft[1])}}const T=(()=>(0,s.createHasher)(n.ed25519.ExtendedPoint,Q=>z(Q[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512}))();n.hashToCurve=(()=>T.hashToCurve)(),n.encodeToCurve=(()=>T.encodeToCurve)();function v(Q){if(!(Q instanceof H))throw new Error("RistrettoPoint expected")}const k=u,x=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),C=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),O=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),D=Q=>S(d,Q),W=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=Q=>n.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Q)&W);function N(Q){const{d:Y}=n.ed25519.CURVE,X=n.ed25519.CURVE.Fp.ORDER,re=n.ed25519.CURVE.Fp.create,se=re(k*Q*Q),ee=re((se+d)*B);let ne=BigInt(-1);const ve=re((ne-Y*se)*re(se+Y));let{isValid:Pe,value:Le}=S(ee,ve),We=re(Le*Q);(0,i.isNegativeLE)(We,X)||(We=re(-We)),Pe||(Le=We),Pe||(ne=se);const Ft=re(ne*(se-d)*O-ve),Lt=Le*Le,Dt=re((Le+Le)*ve),et=re(Ft*x),Ue=re(d-Lt),Wt=re(d+Lt);return new n.ed25519.ExtendedPoint(re(Dt*Wt),re(Ue*et),re(et*Wt),re(Dt*Ue))}class H{constructor(Y){this.ep=Y}static fromAffine(Y){return new H(n.ed25519.ExtendedPoint.fromAffine(Y))}static hashToCurve(Y){Y=(0,a.ensureBytes)("ristrettoHash",Y,64);const X=L(Y.slice(0,32)),re=N(X),se=L(Y.slice(32,64)),ee=N(se);return new H(re.add(ee))}static fromHex(Y){Y=(0,a.ensureBytes)("ristrettoHex",Y,32);const{a:X,d:re}=n.ed25519.CURVE,se=n.ed25519.CURVE.Fp.ORDER,ee=n.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ve=L(Y);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(ve,32),Y)||(0,i.isNegativeLE)(ve,se))throw new Error(ne);const Pe=ee(ve*ve),Le=ee(d+X*Pe),We=ee(d-X*Pe),Ft=ee(Le*Le),Lt=ee(We*We),Dt=ee(X*re*Ft-Lt),{isValid:et,value:Ue}=D(ee(Dt*Lt)),Wt=ee(Ue*We),sr=ee(Ue*Wt*Dt);let rr=ee((ve+ve)*Wt);(0,i.isNegativeLE)(rr,se)&&(rr=ee(-rr));const pr=ee(Le*sr),wr=ee(rr*pr);if(!et||(0,i.isNegativeLE)(wr,se)||pr===l)throw new Error(ne);return new H(new n.ed25519.ExtendedPoint(rr,pr,d,wr))}toRawBytes(){let{ex:Y,ey:X,ez:re,et:se}=this.ep;const ee=n.ed25519.CURVE.Fp.ORDER,ne=n.ed25519.CURVE.Fp.create,ve=ne(ne(re+X)*ne(re-X)),Pe=ne(Y*X),Le=ne(Pe*Pe),{value:We}=D(ne(ve*Le)),Ft=ne(We*ve),Lt=ne(We*Pe),Dt=ne(Ft*Lt*se);let et;if((0,i.isNegativeLE)(se*Dt,ee)){let Wt=ne(X*k),sr=ne(Y*k);Y=Wt,X=sr,et=ne(Ft*C)}else et=Lt;(0,i.isNegativeLE)(Y*Dt,ee)&&(X=ne(-X));let Ue=ne((re-X)*et);return(0,i.isNegativeLE)(Ue,ee)&&(Ue=ne(-Ue)),(0,a.numberToBytesLE)(Ue,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Y){v(Y);const{ex:X,ey:re}=this.ep,{ex:se,ey:ee}=Y.ep,ne=n.ed25519.CURVE.Fp.create,ve=ne(X*ee)===ne(re*se),Pe=ne(re*ee)===ne(X*se);return ve||Pe}add(Y){return v(Y),new H(this.ep.add(Y.ep))}subtract(Y){return v(Y),new H(this.ep.subtract(Y.ep))}multiply(Y){return new H(this.ep.multiply(Y))}multiplyUnsafe(Y){return new H(this.ep.multiplyUnsafe(Y))}double(){return new H(this.ep.double())}negate(){return new H(this.ep.negate())}}n.RistrettoPoint=(()=>(H.BASE||(H.BASE=new H(n.ed25519.ExtendedPoint.BASE)),H.ZERO||(H.ZERO=new H(n.ed25519.ExtendedPoint.ZERO)),H))();const J=(Q,Y)=>{const X=Y.DST,re=typeof X=="string"?(0,t.utf8ToBytes)(X):X,se=(0,s.expand_message_xmd)(Q,re,64,e.sha512);return H.hashToCurve(se)};n.hashToRistretto255=J,n.hash_to_ristretto255=n.hashToRistretto255})($ve);var aK={},vY={};Object.defineProperty(vY,"__esModule",{value:!0});function dHe(n){if(n.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<n.length;u++){const l=n.charAt(u),d=l.charCodeAt(0);if(e[d]!==255)throw new TypeError(l+" is ambiguous");e[d]=u}const t=n.length,r=n.charAt(0),s=Math.log(t)/Math.log(256),i=Math.log(256)/Math.log(t);function o(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let l=0,d=0,y=0;const h=u.length;for(;y!==h&&u[y]===0;)y++,l++;const m=(h-y)*i+1>>>0,f=new Uint8Array(m);for(;y!==h;){let S=u[y],p=0;for(let I=m-1;(S!==0||p<d)&&I!==-1;I--,p++)S+=256*f[I]>>>0,f[I]=S%t>>>0,S=S/t>>>0;if(S!==0)throw new Error("Non-zero carry");d=p,y++}let g=m-d;for(;g!==m&&f[g]===0;)g++;let b=r.repeat(l);for(;g<m;++g)b+=n.charAt(f[g]);return b}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let l=0,d=0,y=0;for(;u[l]===r;)d++,l++;const h=(u.length-l)*s+1>>>0,m=new Uint8Array(h);for(;u[l];){let S=e[u.charCodeAt(l)];if(S===255)return;let p=0;for(let I=h-1;(S!==0||p<y)&&I!==-1;I--,p++)S+=t*m[I]>>>0,m[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");y=p,l++}let f=h-y;for(;f!==h&&m[f]===0;)f++;const g=new Uint8Array(d+(h-f));let b=d;for(;f!==h;)g[b++]=m[f++];return g}function c(u){const l=a(u);if(l)return l;throw new Error("Non-base"+t+" character")}return{encode:o,decodeUnsafe:a,decode:c}}vY.default=dHe;var fHe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(aK,"__esModule",{value:!0});var hHe=fHe(vY),gHe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";aK.default=(0,hHe.default)(gHe);var nl=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},_Ae=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mo,"__esModule",{value:!0});Mo.isVersionedTransaction=Yx;Mo.verifySignatures=EAe;Mo.getSignature=bHe;Mo.ixToIxReturn=SHe;Mo.ixReturnsToIxs=kHe;Mo.buildAndSignTransaction=xAe;Mo.buildAndSignTransactions=TAe;Mo.formatExplorerMessageLink=vHe;Mo.formatExplorerLink=RAe;Mo.convertBuildTransactionReturn=CAe;Mo.buildTransactionsFromIxWithSigners=MAe;Mo.signTransactionReturns=BAe;Mo.buildAndSignTransactionsFromIxWithSigners=zAe;Mo.sendAndConfirmTransaction=$Ae;Mo.sendTransaction=AHe;Mo.buildSendAndCheck=wHe;Mo.prettyTransaction=IHe;const mHe=$ve,Dde=Ob,yHe=_Ae(YD.exports),pHe=_Ae(aK),Ode=HB,kM=Kb;function Yx(n){return"version"in n}function EAe(n){if(Yx(n)){const e=n.message.serialize();for(const[t,r]of n.signatures.entries()){const s=n.message.staticAccountKeys[t];if(r.every(i=>i===0))throw new Error(`Missing required signature for key ${s} at index ${t}`);if(!mHe.ed25519.verify(r,e,s.toBytes()))throw new Error(`Signature ${t} failed to verify for key ${s}`)}}else n.serialize()}function bHe(n){const e=Yx(n)?n.signatures[0]:n.signature;return e?pHe.default.encode(e):void 0}function SHe(n,e=[]){return()=>nl(this,void 0,void 0,function*(){return{signers:e,instruction:n}})}function kHe(n,e){return nl(this,void 0,void 0,function*(){return(yield Promise.all((0,kM.normalizeArray)(n).map(r=>r(e)))).flat().map(r=>r.instruction)})}function xAe(n,e,t){return nl(this,arguments,void 0,function*(r,s,i,o=[]){const a=(yield TAe([{ixs:r,connectionOrRbh:i,lookupTables:o}],s))[0];if(a===void 0)throw new Error("Transaction was not built correctly");return a})}function TAe(n,e){return nl(this,void 0,void 0,function*(){return yield zAe(yield Promise.all(n.map(t=>nl(this,[t],void 0,function*({ixs:r,connectionOrRbh:s,lookupTables:i}){return{ixs:(0,kM.normalizeArray)(yield Promise.all((0,kM.normalizeArray)(r).map(o=>o(e)))).flat(),connectionOrRbh:s,lookupTables:i}}))),e)})}function vHe(n,e){const t=encodeURIComponent(e.rpcEndpoint);let r;return Yx(n)?r=Xe.Buffer.from(n.message.serialize()):r=n.serializeMessage(),`https://explorer.solana.com/tx/inspector?message=${encodeURIComponent(r.toString("base64"))}&cluster=custom&customUrl=${t}`}function RAe(n,e){const t=encodeURIComponent(e.rpcEndpoint);return`https://explorer.solana.com/tx/${n}?cluster=custom&customUrl=${t}`}function CAe(n){const e=Dde.MessageV0.compile(n.compileArgs),t=new Dde.VersionedTransaction(e);return Object.assign(Object.assign({},n),{transaction:t})}function MAe(n,e){return nl(this,void 0,void 0,function*(){const t=new Map;if("signer"in e){const s=e.signer.publicKey().toBase58(),i={signer:e.signer,transactions:new Set};for(let o=0;o<n.length;o++)i.transactions.add(o);t.set(s,i)}const r="signer"in e?e.signer.publicKey():e.key;return{tx:yield Promise.all(n.map((s,i)=>nl(this,[s,i],void 0,function*({ixs:o,connectionOrRbh:a,lookupTables:c},u){const l=(0,kM.normalizeArray)(o);for(const f of l.flatMap(g=>g.signers)){const g=f.publicKey().toBase58(),b=t.get(g);b===void 0?t.set(g,{signer:f,transactions:new Set([u])}):b.transactions.add(u)}let d,y;"connection"in a?(d=yield a.connection.getLatestBlockhash(a.commitment),y=a.commitment||a.connection.commitment||"processed"):(d=a.rbh,y=a.commitment);const h=l.map(f=>f.instruction);return{compileArgs:{addressLookupTableAccounts:c,instructions:[...h],payerKey:r,recentBlockhash:d.blockhash},commitment:y,rbh:d}}))),signers:t}})}function BAe(n,e){return nl(this,void 0,void 0,function*(){const t=r=>nl(this,[r],void 0,function*({signer:s,transactions:i}){const o=n.map((c,u)=>({tx:c,index:u})).filter(({index:c})=>i.has(c)),a=yield s.signAll(o.map(({tx:c})=>c.transaction));(0,yHe.default)(a.length===o.length);for(let c=0;c<o.length;c++)n[o[c].index].transaction=a[c]});for(const r of e.values())r.signer.requiresAsync()&&(yield t(r));for(const r of e.values())r.signer.requiresAsync()||(yield t(r));return n})}function zAe(n,e){return nl(this,void 0,void 0,function*(){const{tx:t,signers:r}=yield MAe(n,{signer:e}),s=t.map(i=>CAe(i));return BAe(s,r)})}function $Ae(n,e,t,r){return nl(this,void 0,void 0,function*(){const s=yield e.sendRawTransaction(n.transaction.serialize(),t);return{signature:s,signatureResult:(yield e.confirmTransaction(Object.assign(Object.assign({},n.rbh),{signature:s}),n.commitment)).value}})}function AHe(n,e,t){return nl(this,arguments,void 0,function*(r,s,i,o=3e3,a=10){const c=r.transaction.serialize();Yx(r.transaction)&&EAe(r.transaction);const u=(i==null?void 0:i.commitment)||"confirmed",l=yield s.sendRawTransaction(c,i==null?void 0:i.sendOptions);let d=0;const y=setInterval(()=>{d<a&&s.sendRawTransaction(c,Object.assign(Object.assign({},i==null?void 0:i.sendOptions),{skipPreflight:!0})),d++},o);let h;try{h=yield s.confirmTransaction(Object.assign({signature:l},r.rbh),u)}finally{clearInterval(y)}return h.value.err!==null?{context:h.context,value:(0,Ode.err)(h.value.err)}:{context:h.context,value:(0,Ode.ok)(l)}})}function wHe(n,e,t,r,s){return nl(this,void 0,void 0,function*(){var i,o;n=(0,kM.normalizeArray)(n);const a=(r==null?void 0:r.commitment)||"confirmed";let c=yield xAe(n,e,{connection:t,commitment:a},s);if(r!=null&&r.postTransactionHandler){const d=r.postTransactionHandler(c);d&&(c=d)}const{signature:u,signatureResult:l}=yield $Ae(c,t,Object.assign({skipPreflight:!1},r==null?void 0:r.sendOptions),r==null?void 0:r.serializeConfig);if(l.err!==null){if(!(r!=null&&r.suppressLogging)){console.error("Transaction signature: ",u);const d=yield t.getTransaction(u,{commitment:a,maxSupportedTransactionVersion:1});console.error("Transaction logs: ",(i=d==null?void 0:d.meta)===null||i===void 0?void 0:i.logMessages),console.error(`Explorer link: ${RAe(u,t)}`)}throw new Error("Transaction error: "+JSON.stringify(l.err,null,2))}else if(r!=null&&r.suppressLogging!=null&&!r.suppressLogging){console.info("Transaction signature: ",u);const d=yield t.getTransaction(u,{commitment:a,maxSupportedTransactionVersion:1});console.info("Transaction logs: ",(o=d==null?void 0:d.meta)===null||o===void 0?void 0:o.logMessages)}return u})}function IHe(n,e){var t;if(Yx(n)){const r=n.message.getAccountKeys(e);return{signatures:PHe(n.signatures,r),instructions:_He(n.message,r),feePayer:n.message.staticAccountKeys[0].toBase58(),recentBlockhash:n.message.recentBlockhash}}else return{signatures:n.signatures.map(r=>({publicKey:r.publicKey.toBase58(),signature:r.signature!==null})),instructions:n.instructions.map(r=>({keys:r.keys.map(s=>Object.assign(Object.assign({},s),{pubkey:s.pubkey.toBase58()})),programId:r.programId.toBase58()})),feePayer:(t=n.feePayer)===null||t===void 0?void 0:t.toBase58(),recentBlockhash:n.recentBlockhash}}function PHe(n,e){return n.map((t,r)=>{var s;return{publicKey:(s=e.get(r))===null||s===void 0?void 0:s.toBase58(),signature:t.every(i=>i!==0)}})}function _He(n,e){return n.compiledInstructions.map(t=>{var r;return{keys:t.accountKeyIndexes.map(s=>{const i=e.get(s);return{pubkey:i==null?void 0:i.toBase58(),isSigner:n.isAccountSigner(s),isWritable:n.isAccountWritable(s)}}),programId:(r=e.get(t.programIdIndex))===null||r===void 0?void 0:r.toBase58()}})}(function(n){var e=K&&K.__awaiter||function(b,S,p,I){function w(A){return A instanceof p?A:new p(function(_){_(A)})}return new(p||(p=Promise))(function(A,_){function E(R){try{P(I.next(R))}catch($){_($)}}function M(R){try{P(I.throw(R))}catch($){_($)}}function P(R){R.done?A(R.value):w(R.value).then(E,M)}P((I=I.apply(b,S||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.deepCopyInstructions=n.insert=n.MAX_UNIQUE_KEYS_COUNT=n.MAX_TRANSACTION_SIZE=void 0,n.containedInLUTCount=o,n.getTransactionSize=a,n.buildLookupTableSet=y,n.getNextFullTransaction=h,n.buildDynamicTransactionsNoSigning=m,n.buildDynamicTransactions=f;const t=Ob,r=HB,s=Kb,i=Mo;n.MAX_TRANSACTION_SIZE=1232,n.MAX_UNIQUE_KEYS_COUNT=128;function o(b,S){let p=0;const I=new Set;return b.forEach(w=>{S.has(w)?p++:I.add(w)}),[p,I]}function a(b,S,p=[]){const I=new Set,w=new Set,A=new Set;I.add(S.toBase58()),b.forEach(({instruction:z})=>{w.add(z.programId.toBase58()),z.keys.forEach(T=>{T.isSigner&&I.add(T.pubkey.toBase58()),A.add(T.pubkey.toBase58())})});for(const z of I)A.delete(z);for(const z of w)A.delete(z);const _=new Set([...I,...w]);let E=0;b.forEach(({instruction:z})=>{E+=1+g(z.keys.length)+z.keys.length+g(z.data.length)+z.data.length});const P={staticSize:g(I.size)+I.size*64+3+32+1+g(b.length)+E+1,staticAccounts:_.size},R=u(P,0,0,A.size),$=_.size+A.size;return R<=n.MAX_TRANSACTION_SIZE||p.length===0?{size:R,lookupTables:[],uniqueKeyCount:$}:$>n.MAX_UNIQUE_KEYS_COUNT?{size:R,lookupTables:[],uniqueKeyCount:$}:c(P,R,0,0,A,[],[...p])}function c(b,S,p,I,w,A,_){if(_.length===0)return{size:S,lookupTables:A,uniqueKeyCount:I+w.size};let E=w,M=S,P=I,R=0;for(const[z,T]of _.entries()){const[v,k]=o(w,T[0]),x=I+v,C=u(b,p+1,x,k.size);if(C<n.MAX_TRANSACTION_SIZE)return A.push(T[1]),{size:C,lookupTables:A,uniqueKeyCount:x+k.size};C<M&&(M=C,E=k,P=x,R=z)}if(S===M)return{size:S,lookupTables:A,uniqueKeyCount:I+w.size};const $=_.splice(R,1)[0];return A.push($[1]),c(b,M,p+1,P,E,A,_)}function u(b,S,p,I){const w=b.staticAccounts+I;return b.staticSize+34*S+p+g(w)+w*32}const l=(b,S,p)=>[...b.slice(0,S),p,...b.slice(S)];n.insert=l;const d=b=>({instructions:b.instructions.map(S=>Object.assign(Object.assign({},S),{instruction:new t.TransactionInstruction({keys:S.instruction.keys.map(p=>Object.assign({},p)),programId:S.instruction.programId,data:S.instruction.data?Xe.Buffer.from(S.instruction.data):void 0})})),lookupTables:b.lookupTables});n.deepCopyInstructions=d;function y(b){return b.map(S=>{const p=S.state.addresses.map(w=>w.toBase58());return[new Set(p),S]})}function h(b,S){return e(this,arguments,void 0,function*(p,I,w=[],A=[],_=[],E=64){const M=(yield Promise.all(p.map(C=>C(I)))).flat(),P=(yield Promise.all(w.map(C=>C(I)))).flat(),R=(yield Promise.all(A.map(C=>C(I)))).flat(),$=y(_);let z={instructions:[...P,...R],lookupTables:[]};const{size:T,lookupTables:v,uniqueKeyCount:k}=a(z.instructions,I.publicKey(),$);if(T>n.MAX_TRANSACTION_SIZE)return(0,r.err)("Before and after instructions alone are too big to fit in transaction");if(k>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)("Before and after instructions alone have too many unique keys to fit in transaction");z.lookupTables=v;let x=0;for(const C of M){const B=(0,n.insert)(z.instructions,z.instructions.length-R.length,C),{size:O,lookupTables:D,uniqueKeyCount:W}=a(B,I.publicKey(),$);if(O>n.MAX_TRANSACTION_SIZE||W>n.MAX_UNIQUE_KEYS_COUNT||B.length>E)return x===0?(0,r.err)("Only the before and after instructions fit"):(0,r.ok)([(0,n.deepCopyInstructions)(z),x]);x++,z={instructions:B,lookupTables:D}}return(0,r.ok)([(0,n.deepCopyInstructions)(z),x])})}function m(b,S){return e(this,arguments,void 0,function*(p,I,w=[],A=[],_=[],E=64){const M=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(p).map(C=>C(I)))).flat(),P=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(w).map(C=>C(I)))).flat(),R=(0,s.normalizeArray)(yield Promise.all((0,s.normalizeArray)(A).map(C=>C(I)))).flat(),$=[],z=y(_);let T={instructions:[...P,...R],lookupTables:[]};const{size:v,lookupTables:k,uniqueKeyCount:x}=a(T.instructions,I.publicKey(),z);if(v>n.MAX_TRANSACTION_SIZE)return(0,r.err)("Before and after instructions alone are too big to fit in transaction");if(x>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)("Before and after instructions alone have too many unique keys to fit in transaction");T.lookupTables=k;for(const C of M){const B=(0,n.insert)(T.instructions,T.instructions.length-R.length,C),{size:O,lookupTables:D,uniqueKeyCount:W}=a(B,I.publicKey(),z);if(O>n.MAX_TRANSACTION_SIZE||W>n.MAX_UNIQUE_KEYS_COUNT||B.length>E){$.push((0,n.deepCopyInstructions)(T));const L=[...P,C,...R],{size:N,lookupTables:H,uniqueKeyCount:J}=a(L,I.publicKey(),z);if(N>n.MAX_TRANSACTION_SIZE)return(0,r.err)(`Instruction too large to fit in transaction: ${C.instruction.programId.toBase58()}`);if(J>n.MAX_UNIQUE_KEYS_COUNT)return(0,r.err)(`Instruction has too many unique accounts to fit in transaction: ${C.instruction.programId.toBase58()}`);T={instructions:L,lookupTables:H}}else T={instructions:B,lookupTables:D}}return T.instructions.length>P.length+R.length&&$.push((0,n.deepCopyInstructions)(T)),(0,r.ok)($)})}function f(b,S,p){return e(this,arguments,void 0,function*(I,w,A,_=[],E=[],M=[],P=64){const R=yield m(I,w,_,E,M,P);if(R.isErr())return(0,r.err)(R.error);const $=R.value.map(z=>({ixs:z.instructions,connectionOrRbh:A,lookupTables:z.lookupTables}));return(0,r.ok)(yield(0,i.buildAndSignTransactionsFromIxWithSigners)($,w))})}function g(b){return b>127?2:1}})(J4);(function(n){var e=K&&K.__awaiter||function(h,m,f,g){function b(S){return S instanceof f?S:new f(function(p){p(S)})}return new(f||(f=Promise))(function(S,p){function I(_){try{A(g.next(_))}catch(E){p(E)}}function w(_){try{A(g.throw(_))}catch(E){p(E)}}function A(_){_.done?S(_.value):b(_.value).then(I,w)}A((g=g.apply(h,m||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.getSimulationUnits=n.DEFAULT_COMPUTE_UNIT_LIMIT=n.COMPUTE_TEST_INSTRUCTIONS=n.COMPUTE_TEST_INSTRUCTION_RETURNS=void 0,n.getWritableAccounts=a,n.buildSimulationTransaction=c,n.buildAndSignOptimalTransaction=l,n.buildOptimalDynamicTransactions=d,n.buildOptimalDynamicTransactionsNoSigning=y;const t=Ob,r=HB,s=Kb,i=J4,o=Mo;n.COMPUTE_TEST_INSTRUCTION_RETURNS=[(0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426})),(0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitLimit({units:14e5}))],n.COMPUTE_TEST_INSTRUCTIONS=[t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:426}),t.ComputeBudgetProgram.setComputeUnitLimit({units:14e5})],n.DEFAULT_COMPUTE_UNIT_LIMIT=5e5;function a(h){const m=h.map(g=>g.keys.filter(b=>b.isWritable).map(b=>b.pubkey)).flat(),f=new Set(m);return Array.from(f)}function c(h,m,f){return new t.VersionedTransaction(new t.TransactionMessage({instructions:h,payerKey:f,recentBlockhash:t.PublicKey.default.toString()}).compileToV0Message(m))}const u=(h,m)=>e(void 0,void 0,void 0,function*(){var f;try{const g=yield m.simulateTransaction(h,{sigVerify:!1,replaceRecentBlockhash:!0});return g.value.err?n.DEFAULT_COMPUTE_UNIT_LIMIT:(f=g.value)===null||f===void 0?void 0:f.unitsConsumed}catch(g){return console.debug(g),n.DEFAULT_COMPUTE_UNIT_LIMIT}});n.getSimulationUnits=u;function l(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,w=[]){var A;const _=(0,s.normalizeArray)(S),E=()=>e(this,void 0,void 0,function*(){if(I.getLimit===void 0)return;const z=c([...n.COMPUTE_TEST_INSTRUCTIONS,...yield(0,o.ixReturnsToIxs)(_,p)],w,p.publicKey());return I.getLimit(z,b)}),M=()=>e(this,void 0,void 0,function*(){if(I.getFee===void 0)return;const z=yield(0,o.ixReturnsToIxs)(_,p),T=a(z);return I.getFee(T,b)}),[P,R,$]=yield Promise.all([E(),M(),b.getLatestBlockhash()]);return P&&_.unshift((0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitLimit({units:P}))),R&&_.unshift((0,o.ixToIxReturn)(t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:R}))),(0,o.buildAndSignTransaction)(_,p,{rbh:$,commitment:(A=b.commitment)!==null&&A!==void 0?A:"confirmed"},w)})}function d(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,w=[],A,_,E=64){const[M,P]=yield Promise.all([y(b,S,p,I,w,A,_,E),b.getLatestBlockhash()]);return M.forEach(R=>{var $;R.connectionOrRbh={rbh:P,commitment:($=b.commitment)!==null&&$!==void 0?$:"confirmed"}}),(0,r.ok)(yield(0,o.buildAndSignTransactionsFromIxWithSigners)(M,p))})}function y(h,m,f,g){return e(this,arguments,void 0,function*(b,S,p,I,w=[],A,_,E=64){const M=[...n.COMPUTE_TEST_INSTRUCTION_RETURNS,...A??[]],P=yield(0,i.buildDynamicTransactionsNoSigning)(S,p,M,_,w,E);if(P.isErr())throw P.error;const R=P.value.map(T=>{const v=T.instructions.map(C=>C.instruction),k=I.getFee?a(v):[],x=c(v,T.lookupTables,p.publicKey());return T.instructions.splice(0,2),{simulationTransaction:x,writableKeys:k,instructionsWithSigners:T}});return(yield(()=>Promise.all(R.map(T=>e(this,[T],void 0,function*({writableKeys:v,simulationTransaction:k,instructionsWithSigners:x}){const[C,B]=yield Promise.all([I.getLimit?I.getLimit(k,b):void 0,I.getFee?I.getFee(v,b):void 0]);return{simulationUnits:C,fees:B,instructionsWithSigners:x}}))))()).map(T=>{const v=T.instructionsWithSigners;return T.fees!==void 0&&v.instructions.unshift({instruction:t.ComputeBudgetProgram.setComputeUnitPrice({microLamports:T.fees}),signers:[]}),T.simulationUnits!==void 0&&v.instructions.unshift({instruction:t.ComputeBudgetProgram.setComputeUnitLimit({units:T.simulationUnits}),signers:[]}),{connectionOrRbh:{connection:b},ixs:v.instructions,lookupTables:v.lookupTables}})})}})(fY);var xv=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},OA=K&&K.__await||function(n){return this instanceof OA?(this.v=n,this):new OA(n)},DAe=K&&K.__asyncGenerator||function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(s[h]=function(f){return new Promise(function(g,b){i.push([h,f,g,b])>1||c(h,f)})},m&&(s[h]=m(s[h])))}function c(h,m){try{u(r[h](m))}catch(f){y(i[0][3],f)}}function u(h){h.value instanceof OA?Promise.resolve(h.value.v).then(l,d):y(i[0][2],h)}function l(h){c("next",h)}function d(h){c("throw",h)}function y(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}};Object.defineProperty(qp,"__esModule",{value:!0});qp.TransactionBuilder=qp.TransactionBuilderCore=void 0;qp.checkTraceExceeded=OAe;qp.transactionReturnIterator=xHe;const Kde=Ob,Go=HB,EHe=Kb,zg=fY,PW=J4,m9=Mo;function OAe(n){const e=n.value.err;if(e&&typeof e=="object"&&"InstructionError"in e){const t=e.InstructionError;if(t&&typeof t=="object"&&"1"in t&&typeof t[1]=="string"&&t[1]==="MaxInstructionTraceLengthExceeded"&&"0"in t&&typeof t[0]=="number"){const s=[];return{traceExceeded:t[0],unitsConsumed:n.value.unitsConsumed,ixTraces:s}}}}class KAe{constructor(e){var t,r,s,i,o,a,c;this.instructions=[],this.lastBuilt=null,this.lastTransaction=null,this.lastTryIterations=0,this.isBuildingNext=!1,this.connection=e.connection,this.commitment=(r=(t=e.commitment)!==null&&t!==void 0?t:e.connection.commitment)!==null&&r!==void 0?r:"confirmed",this.feePayer=e.feePayer,this.lookupTables=(s=e.lookupTables)!==null&&s!==void 0?s:[],this.beforeIxs=(i=e.beforeIxs)!==null&&i!==void 0?i:[],this.afterIxs=(o=e.afterIxs)!==null&&o!==void 0?o:[],this.instructionCountConfig={max:(a=e.instructionCount)===null||a===void 0?void 0:a.max,maxOnFail:(c=e.instructionCount)===null||c===void 0?void 0:c.maxOnFail};const u=l=>l+Math.min(1e5,Math.max(1e4,l*.1));this.mapLimit=e.mapLimit||u,this.getFee=e.getFee}add(e,t){const r=(0,EHe.normalizeArray)(e);return r.length===0?this:(typeof r[0]=="function"?this.instructions.push(...r):this.instructions.push(...r.map(s=>{let i;if(t){const o=s.keys.filter(a=>a.isSigner).map(a=>a.pubkey);i=t.filter(a=>o.some(c=>c.equals(a.publicKey())))}return(0,m9.ixToIxReturn)(s,i)})),this)}getPopCount(e){return e.instructions.length-e.computeCount-e.beforeCount-e.afterCount}resetIterations(){this.lastTryIterations=0}computeBeforeIxs(){return[...zg.COMPUTE_TEST_INSTRUCTION_RETURNS,...this.beforeIxs]}resetDummyComputeInstructions(e){e.instructions.splice(0,e.computeCount),e.computeCount=2,e.instructions.unshift(...zg.COMPUTE_TEST_INSTRUCTIONS.map(t=>({instruction:t,signers:[]})))}getLatestBlockhash(){return this.connection.getLatestBlockhash({commitment:this.commitment})}parseSimulationResult(e){var t;if(!e.value.err)return(0,Go.ok)((t=e.value)===null||t===void 0?void 0:t.unitsConsumed);const s=OAe(e);return s?(0,Go.err)(s):(0,Go.err)(void 0)}simulateTransaction(e){return xv(this,void 0,void 0,function*(){const t=this.commitment==="processed"?"processed":"confirmed",r=yield this.connection.simulateTransaction(e,{commitment:t,replaceRecentBlockhash:!0});return this.parseSimulationResult(r)})}handlePriorityOptimization(e,t,r){return xv(this,arguments,void 0,function*(s,i,o,a=3){var c;if(o>a)return(0,Go.err)("Priority optimizer depth exceeded");const u=(0,zg.buildSimulationTransaction)(s.instructions.map(m=>m.instruction),s.lookupTables,this.feePayer.publicKey()),l=(0,zg.getWritableAccounts)(s.instructions.map(m=>m.instruction));this.lastTryIterations++;const[d,y]=yield Promise.all([this.simulateTransaction(u),this.getFee?yield this.getFee(l,this.connection):void 0]);let h;if(d.isOk()){const m=d.value;m!==void 0&&(h=this.mapLimit(m))}else{if(typeof d.error=="string")return(0,Go.err)(d.error);if(!i){const m=d.error;let f=!1;if(typeof m=="string")return(0,Go.err)(m);if(m!==void 0){const{traceExceeded:g,ixTraces:b,unitsConsumed:S}=m;if(s.afterCount===0)return s.instructions.splice(g-1),this.handlePriorityOptimization(s,!0,o+1);f=!0}else f=!0;if(f){const g=(c=this.instructionCountConfig.maxOnFail)!==null&&c!==void 0?c:14;if(s.instructions.length<=g)console.warn("TransactionBuilder: simulation failed; instructions count is less than max on fail. Ignoring error...");else{const b=this.getPopCount(s);let S=s.instructions.length-g;return S>b&&(console.warn(`TransactionBuilder: simulation failed; remove count is greater than max removable of ${b}. Removing ${b-1} instructions`),S=b-1),s.instructions.splice(s.beforeCount+s.computeCount,S),this.handlePriorityOptimization(s,!0,o+1)}}}}return(0,Go.ok)({limit:h,fee:y})})}replaceComputeInstructions(e,t){const{limit:r,fee:s}=t;e.instructions.splice(0,e.computeCount),e.computeCount=0,r!==void 0&&(e.instructions.unshift({instruction:Kde.ComputeBudgetProgram.setComputeUnitLimit({units:r}),signers:[]}),e.computeCount++),s!==void 0&&(e.instructions.unshift({instruction:Kde.ComputeBudgetProgram.setComputeUnitPrice({microLamports:s}),signers:[]}),e.computeCount++)}startBuildingNext(){if(this.isBuildingNext)throw new Error("Already building next optimal transaction");this.isBuildingNext=!0}buildNextOptimalTransactionNoSigning(){return xv(this,void 0,void 0,function*(){this.resetIterations();const e=this.computeBeforeIxs(),t=yield(0,PW.getNextFullTransaction)(this.instructions,this.feePayer,e,this.afterIxs.map(l=>l.ix),this.lookupTables,this.instructionCountConfig.max);if(t.isErr())return(0,Go.err)(t.error);const[r]=t.value,s=Object.assign(Object.assign({},r),{computeCount:zg.COMPUTE_TEST_INSTRUCTION_RETURNS.length,beforeCount:this.beforeIxs.length,afterCount:this.afterIxs.length}),[i,o]=yield Promise.all([this.handlePriorityOptimization(s,!1,0),this.getLatestBlockhash()]);if(i.isErr())return(0,Go.err)(i.error);const{fee:a,limit:c}=i.value;this.replaceComputeInstructions(s,{limit:c,fee:a});const u=Object.assign(Object.assign({},s),(0,PW.deepCopyInstructions)(s));return(0,Go.ok)({rbh:o,lastBuilt:u})})}rebuildLastNoSigning(e){return xv(this,void 0,void 0,function*(){if(this.resetIterations(),this.lastBuilt===null)return(0,Go.err)("No last built transaction to rebuild");const t=Object.assign(Object.assign({},this.lastBuilt),(0,PW.deepCopyInstructions)(this.lastBuilt));let r;if(e){this.resetDummyComputeInstructions(t);const s=this.getPopCount(t),[i,o]=yield Promise.all([this.handlePriorityOptimization(t,!1,0,1),this.getLatestBlockhash()]);if(r=o,i.isErr())return(0,Go.err)(i.error);const{fee:a,limit:c}=i.value,u=this.getPopCount(t);u!==s&&console.warn(`TransactionBuilder: pop count changed from ${s} to ${u} in rebuildLastBuilt`),this.replaceComputeInstructions(t,{limit:c,fee:a})}else r=yield this.getLatestBlockhash();return(0,Go.ok)({lastBuilt:t,rbh:r})})}handlePostBuild(e,t){if(this.getPopCount(t)<=0)throw new Error("TransactionBuilder: pop count is less than or equal to 0");this.instructions.splice(0,this.getPopCount(t)),this.lastBuilt=t,this.lastTransaction=e}clear(){return this.instructions.splice(0,this.instructions.length)}}qp.TransactionBuilderCore=KAe;function xHe(n){return DAe(this,arguments,function*(){if(n.isErr())yield yield OA((0,Go.err)(n.error));else for(const t of n.value)yield yield OA((0,Go.ok)(t))})}class THe extends KAe{constructor(e){super(e)}optimalTransactions(){return DAe(this,arguments,function*(){for(;this.instructions.length>0;)yield yield OA(this.buildNextOptimalTransaction())})}buildNextOptimalTransaction(){return xv(this,void 0,void 0,function*(){this.startBuildingNext();try{const e=yield this.buildNextOptimalTransactionNoSigning();if(e.isErr())return(0,Go.err)(e.error);const{rbh:t,lastBuilt:r}=e.value,s=(yield(0,m9.buildAndSignTransactionsFromIxWithSigners)([{ixs:r.instructions,lookupTables:r.lookupTables,connectionOrRbh:{rbh:t,commitment:this.commitment}}],this.feePayer))[0];return this.handlePostBuild(s,r),(0,Go.ok)(s)}finally{this.isBuildingNext=!1}})}rebuildLast(){return xv(this,arguments,void 0,function*(e=!0){const t=yield this.rebuildLastNoSigning(e);if(t.isErr())return(0,Go.err)(t.error);const{lastBuilt:r,rbh:s}=t.value,i=(yield(0,m9.buildAndSignTransactionsFromIxWithSigners)([{ixs:r.instructions,lookupTables:r.lookupTables,connectionOrRbh:{rbh:s,commitment:this.commitment}}],this.feePayer))[0];return(0,Go.ok)(i)})}buildDynamic(){return(0,zg.buildOptimalDynamicTransactions)(this.connection,this.instructions,this.feePayer,{getFee:this.getFee,getLimit:(...e)=>(0,zg.getSimulationUnits)(...e).then(t=>{if(t!==void 0)return this.mapLimit(t)})},this.lookupTables,this.beforeIxs,this.afterIxs.map(e=>e.ix),this.instructionCountConfig.max)}buildAndSignOptimal(){var e;const t=[...this.beforeIxs,...this.instructions,...this.afterIxs.map(s=>s.ix)],r={getLimit:(...s)=>(0,zg.getSimulationUnits)(...s).then(i=>{if(i!==void 0)return this.mapLimit(i)}),getFee:(e=this.getFee)!==null&&e!==void 0?e:void 0};return(0,zg.buildAndSignOptimalTransaction)(this.connection,t,this.feePayer,r,this.lookupTables)}}qp.TransactionBuilder=THe;var LAe={};Object.defineProperty(LAe,"__esModule",{value:!0});(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(qp,n),t(fY,n),t(J4,n),t(Mo,n),t(LAe,n)})(dY);var AY=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(WB,"__esModule",{value:!0});WB.createAddressLookupTable=NAe;WB.extendAddressLookupTable=FAe;WB.createAndExtendAddressLookupTable=CHe;const WAe=Ob,Tv=HB,dO=dY;function NAe(n,e,t,r,s){return AY(this,void 0,void 0,function*(){const[i,o]=WAe.AddressLookupTableProgram.createLookupTable({authority:e.publicKey(),payer:t.publicKey(),recentSlot:r??(yield n.getSlot("confirmed"))}),c=yield new dO.TransactionBuilder({connection:n,commitment:"confirmed",feePayer:t}).add(i,[e,t]).buildAndSignOptimal(),u=yield(0,dO.sendTransaction)(c,n,Object.assign(Object.assign({},s),{sendOptions:{skipPreflight:!0}}));return u.value.isErr()?(0,Tv.err)(`Failed to create address lookup table: ${u.value.error}`):(0,Tv.ok)(o)})}const RHe=400;function FAe(n,e,t,r,s,i){return AY(this,void 0,void 0,function*(){var o;if(s.length>256)return(0,Tv.err)("Transaction lookup table can only hold up to 256 addresses");const a=[...s],c=[];for(;a.length>0;){const h=a.splice(0,20),m=WAe.AddressLookupTableProgram.extendLookupTable({lookupTable:e,authority:t.publicKey(),payer:r.publicKey(),addresses:h});c.push(m)}const u=c.map(h=>m=>Promise.resolve({instruction:h,signers:[m,r,t]})),l=yield new dO.TransactionBuilder({connection:n,commitment:i==null?void 0:i.commitment,feePayer:r}).add(u).buildDynamic();if(l.isErr())return new Tv.Err(`Failed to build dynamic transactions: ${l.error}`);const d=yield Promise.all(l.value.map(h=>(0,dO.sendTransaction)(h,n,i))),y=d.find(h=>h.value.isErr());if(y)return(0,Tv.err)(`Failed to extend address lookup table: ${y.value}`);if(i!=null&&i.awaitNewSlot){const h=d.map(g=>g.context.slot),m=Math.max(...h),f=(o=i==null?void 0:i.commitment)!==null&&o!==void 0?o:"confirmed";for(;(yield n.getSlot(f))<=m;)yield new Promise(g=>setTimeout(g,RHe/2))}return(0,Tv.ok)(e)})}function CHe(n,e,t,r,s,i){return AY(this,void 0,void 0,function*(){const o=yield NAe(n,e,t,s,i);return o.isErr()?o:yield FAe(n,o.value,e,t,r,i)})}var UAe={};Object.defineProperty(UAe,"__esModule",{value:!0});var sk={};Object.defineProperty(sk,"__esModule",{value:!0});sk.isAsyncSigner=MHe;sk.keypairToAsyncSigner=BHe;sk.walletToAsyncSigner=zHe;sk.signerToAsyncSigner=$He;sk.createDummyAsyncSigner=DHe;function MHe(n){return"inner"in n&&"requiresAsync"in n&&"publicKey"in n&&"sign"in n&&"signAll"in n}function fO(n,e){"instructions"in n?n.partialSign(e):n.sign([e])}function BHe(n){return{inner:()=>n,requiresAsync(){return!1},publicKey(){return n.publicKey},sign:e=>(fO(e,n),Promise.resolve(e)),signAll:e=>{for(const t of e)fO(t,n);return Promise.resolve(e)}}}function zHe(n){return{inner(){return n},publicKey(){return n.publicKey},requiresAsync(){return!0},sign(e){return n.signTransaction(e)},signAll(e){return n.signAllTransactions(e)}}}function $He(n){return{inner:()=>n,publicKey:()=>n.publicKey,requiresAsync:()=>!1,sign:e=>(fO(e,n),Promise.resolve(e)),signAll:e=>{for(const t of e)fO(t,n);return Promise.resolve(e)}}}function DHe(n){return{requiresAsync(){return!1},publicKey(){return n},sign:e=>(e.addSignature(n,Xe.Buffer.alloc(64)),Promise.resolve(e)),signAll:e=>{for(const t of e)t.addSignature(n,Xe.Buffer.alloc(64));return Promise.resolve(e)}}}var VAe={};Object.defineProperty(VAe,"__esModule",{value:!0});var KA={};Object.defineProperty(KA,"__esModule",{value:!0});KA.getNumberFromEnum=KA.getAnchorEnum=void 0;const OHe=(n,e)=>{const t=Object.entries(n);for(let r=0;r<t.length;r++){const s=t[r];if(s&&e===s[1])return{[s[0].toUpperCase()===s[0]?s[0].toLowerCase():s[0].charAt(0).toLowerCase()+s[0].slice(1)]:{}}}throw new Error(`${e} is not found in the enum`)};KA.getAnchorEnum=OHe;const KHe=(n,e,t=1)=>{const r=Object.entries(n);for(let s=0;s<r.length;s++){const i=r[s];if(i&&e===i[1])return i[1]+t}throw new Error(`${e} is not found in the enum`)};KA.getNumberFromEnum=KHe;var cK={};Object.defineProperty(cK,"__esModule",{value:!0});cK.generateErrorMap=void 0;const LHe=n=>{var e,t;return(t=(e=n.errors)===null||e===void 0?void 0:e.reduce((r,s)=>Object.assign(Object.assign({},r),{[s.name]:s}),{}))!==null&&t!==void 0?t:{}};cK.generateErrorMap=LHe;var uK={};Object.defineProperty(uK,"__esModule",{value:!0});uK.ListenProgram=void 0;const WHe=cc,Lde=Kb;class NHe{constructor(e,t){this.program=e,this.parsers=t,this.accountClosedListener=null,this.accountDiscriminants=(0,Lde.remapObject)(t,r=>WHe.BorshAccountsCoder.accountDiscriminator(r.ACCOUNT_NAME)),this.listeners=(0,Lde.remapObject)(t,()=>null)}setAccountClosedListener(e){this.accountClosedListener=e}get programId(){return this.program.programId}accountDiscriminant(e){return this.accountDiscriminants[e]}discriminantToAccountId(e){for(const[t,r]of Object.entries(this.accountDiscriminants))if(e.subarray(0,r.length).equals(r))return{key:t,discriminantLength:r.length};return null}provideDecodedAccountEvent(e,t,r,s,i,o,a){const c=this.listeners[e];c&&c({account:t,slot:r,confirmationStatus:s,isStartup:i,accountInfo:o,writeVersion:a})}provideAccountEvent(e,t,r,s,i,o=a=>{console.error(`Unknown account \`${a.toBase58()}\` for program \`${this.programId.toBase58()}\``)}){const a=this.discriminantToAccountId(e.accountInfo.data);if(a===null){o(e.accountId);return}if(this.listeners[a.key]){const c=this.parsers[a.key].decodeData(e,this.program);if("error"in c)throw c.error;this.provideDecodedAccountEvent(a.key,c.data,t,r,s,e.accountInfo,i)}}setAccountListener(e,t,r){r?this.listeners[e]=s=>{s.account instanceof t?r(Object.assign(Object.assign({},s),{account:s.account})):console.error("Wrong account type passed, account: ",JSON.stringify(s.account))}:this.listeners[e]=null}discriminantToAccountIdNoSubarray(e){const t=Object.keys(this.accountDiscriminants);for(const r of t){const s=this.accountDiscriminants[r];if(e.equals(s))return{key:r,discriminantLength:s.length}}return null}provideAccountClosedEvent(e,t,r,s,i,o,a){const c=this.accountClosedListener;c&&c({accountInfo:a,slot:s,confirmationStatus:i,writeVersion:o,key:e,oldOwner:t,newOwner:r})}}uK.ListenProgram=NHe;var Ml={},kl=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},FHe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ml,"__esModule",{value:!0});Ml.getCurrentTimestampOnChain=void 0;Ml.buildRPCDataSource=HHe;Ml.readAllFromRPC=GHe;Ml.readFromRPC=wY;Ml.readFromRPCOrError=YHe;Ml.readFromRPCNullable=ZHe;Ml.accountRPCSubscribe=JHe;Ml.airdrop=XHe;Ml.readMultipleFromRPC=QHe;const qAe=Ob,UHe=cc,VHe=FHe(aK),qHe=Cx.exports,jHe=Kb;function HHe(n){const e={programs:[]},t=(r,s,i)=>(o,a)=>{r.provideAccountEvent(o,a.slot,s,i,0)};return{insertProgram(r,s){return kl(this,arguments,void 0,function*(i,o,a=!1){if(e.programs===null)throw new Error("Data source closed");if(o==="recent")throw new Error("RPC Data Source does not support recent");const c=(0,jHe.fixedSizeArrayFromArray)(3,[n.onProgramAccountChange(i.programId,t(i,"processed",!1),"processed"),n.onProgramAccountChange(i.programId,t(i,"confirmed",!1),"confirmed"),n.onProgramAccountChange(i.programId,t(i,"finalized",!1),"finalized")]);if(c===null)throw new Error("Could not create listener array");const u=e.programs.length,l=()=>kl(this,void 0,void 0,function*(){if(e.programs===null)return;const d=e.programs[u];if(!d)return;const{program:y}=d,{context:h,value:m}=yield n.getProgramAccounts(y.programId,{commitment:o,withContext:!0});for(const f of m)y.provideAccountEvent({accountId:f.pubkey,accountInfo:f.account},h.slot,o,!0,0)});return e.programs.push({program:i,listenerId:c,refresh:l}),a||(yield l()),{close:()=>kl(this,void 0,void 0,function*(){if(e.programs===null)return;const d=e.programs[u];if(!d)return;const{listenerId:y}=d;e.programs[u]=null,yield Promise.all([n.removeProgramAccountChangeListener(y[0]),n.removeProgramAccountChangeListener(y[1]),n.removeProgramAccountChangeListener(y[2])])}),refresh:l}})},closeDataSource(){return kl(this,void 0,void 0,function*(){if(e.programs===null)throw new Error("Data source already closed");const r=[];for(const s of e.programs.filter(i=>i!==null).flatMap(i=>i.listenerId))try{r.push(n.removeAccountChangeListener(s))}catch(i){console.error("Could not remove listener: ",i)}e.programs=null,yield Promise.all(r)})},refreshAll(){return kl(this,void 0,void 0,function*(){var r,s;yield Promise.all((s=(r=e.programs)===null||r===void 0?void 0:r.map(i=>i==null?void 0:i.refresh()))!==null&&s!==void 0?s:[])})}}}function GHe(n,e,t,r){return kl(this,arguments,void 0,function*(s,i,o,a,c=[]){return(yield s.getProgramAccounts(i.programId,Object.assign(Object.assign({},a?{commitment:a}:{}),{filters:[{memcmp:{offset:0,bytes:VHe.default.encode(UHe.BorshAccountsCoder.accountDiscriminator(o.ACCOUNT_NAME))}},...c]}))).map(l=>o.decodeData({accountInfo:l.account,accountId:l.pubkey},i))})}function wY(n,e,t,r,s){return kl(this,void 0,void 0,function*(){const i=yield n.getAccountInfo(t,s);return i===null?{type:"error",key:t,error:new Error("account does not exist")}:r.decodeData({accountInfo:i,accountId:t},e)})}function YHe(n,e,t,r,s){return kl(this,void 0,void 0,function*(){const i=yield wY(n,e,t,r,s);if("error"in i)throw i.error;return i.data})}function ZHe(n,e,t,r,s){return kl(this,void 0,void 0,function*(){const i=yield wY(n,e,t,r,s);return"error"in i?null:i.data})}function JHe(n,e,t,r,s,i){return n.onAccountChange(t,o=>{s(r.decodeData({accountInfo:o,accountId:t},e))},i)}function XHe(n,e){return kl(this,arguments,void 0,function*(t,r,s=qAe.LAMPORTS_PER_SOL,i){const o=yield t.requestAirdrop(r,s);return yield t.confirmTransaction(o,i),o})}function QHe(n,e,t,r,s){return kl(this,void 0,void 0,function*(){const i=(yield Promise.all((0,qHe.chunk)(n,100).map(a=>e.getMultipleAccountsInfo(a,s)))).flat(),o=[];for(let a=0;a<i.length;a++){const c=i[a],u=n[a];c&&o.push(r.decodeData({accountInfo:c,accountId:u},t))}return o})}const eGe=n=>kl(void 0,void 0,void 0,function*(){const e=yield n.getAccountInfo(qAe.SYSVAR_CLOCK_PUBKEY);if(e===null)throw"Failed to fetch Clock account info";return e.data.readBigInt64LE(8*4)});Ml.getCurrentTimestampOnChain=eGe;var lK={};Object.defineProperty(lK,"__esModule",{value:!0});lK.combineObjectArrays=jAe;lK.runForAll=tGe;function jAe(n,e){return n.map(t=>e.map(r=>Object.assign(Object.assign({},t),r))).flat()}function tGe(n,e){return Object.keys(n).map(r=>n[r].map(s=>({[r]:s}))).reduce((r,s)=>jAe(r,s),[{}]).map(r=>e(r))}var IY={};Object.defineProperty(IY,"__esModule",{value:!0});IY.transfer=nGe;const rGe=Ob;function nGe(n,e,t){return r=>{var s;return Promise.resolve({instruction:rGe.SystemProgram.transfer({fromPubkey:(s=n==null?void 0:n.publicKey())!==null&&s!==void 0?s:r.publicKey(),toPubkey:e,lamports:t}),signers:[n??r]})}}var il={},dh=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(il,"__esModule",{value:!0});il.getParsedTokenAccountsByOwner=void 0;il.createMint=iGe;il.createTokenAccount=oGe;il.mintToTokenAccount=aGe;il.setMintAuthority=cGe;il.setFreezeAuthority=uGe;il.setAccountAuthority=lGe;il.transferToTokenAccount=dGe;il.createAssociatedTokenAccount=fGe;il.createAssociatedTokenAccountIdempotent=hGe;const Vs=sl,HAe=Ob,GAe=tr,sGe=(n,e,...t)=>dh(void 0,[n,e,...t],void 0,function*(r,s,i=Vs.TOKEN_PROGRAM_ID){return(yield r.getTokenAccountsByOwner(s,{programId:i})).value.map(o=>(0,Vs.unpackAccount)(o.pubkey,o.account,i))});il.getParsedTokenAccountsByOwner=sGe;function iGe(n,e,t,r){return s=>dh(this,void 0,void 0,function*(){return[{instruction:HAe.SystemProgram.createAccount({fromPubkey:s.publicKey(),lamports:(0,GAe.calculateMinimumRent)(Vs.MINT_SIZE),newAccountPubkey:n.publicKey(),programId:Vs.TOKEN_PROGRAM_ID,space:Vs.MINT_SIZE}),signers:[n,s]},{instruction:(0,Vs.createInitializeMintInstruction)(n.publicKey(),e,t,r),signers:[]}]})}function oGe(n,e,t){return r=>dh(this,void 0,void 0,function*(){return[{instruction:HAe.SystemProgram.createAccount({fromPubkey:r.publicKey(),lamports:(0,GAe.calculateMinimumRent)(Vs.ACCOUNT_SIZE),newAccountPubkey:n.publicKey(),programId:Vs.TOKEN_PROGRAM_ID,space:Vs.ACCOUNT_SIZE}),signers:[n,r]},{instruction:(0,Vs.createInitializeAccountInstruction)(n.publicKey(),t,e),signers:[]}]})}function aGe(n,e,t,r){return()=>dh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createMintToInstruction)(e,t,n.publicKey(),r,[]),signers:[n]}})}function cGe(n,e,t){return()=>dh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createSetAuthorityInstruction)(n,e.publicKey(),Vs.AuthorityType.MintTokens,t),signers:[e]}})}function uGe(n,e,t){return()=>dh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createSetAuthorityInstruction)(n,e.publicKey(),Vs.AuthorityType.FreezeAccount,t),signers:[e]}})}function lGe(n,e,t){return()=>dh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createSetAuthorityInstruction)(n,e.publicKey(),Vs.AuthorityType.AccountOwner,t),signers:[e]}})}function dGe(n,e,t,r){return()=>dh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createTransferInstruction)(e,t,n.publicKey(),r,[]),signers:[n]}})}function fGe(n,e,t=!0,r=Vs.TOKEN_PROGRAM_ID,s=Vs.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,Vs.getAssociatedTokenAddressSync)(n,e,t,r,s);return{instructions:o=>dh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createAssociatedTokenAccountInstruction)(o.publicKey(),i,e,n,r,s),signers:[o]}}),address:i}}function hGe(n,e,t=!0,r=Vs.TOKEN_PROGRAM_ID,s=Vs.ASSOCIATED_TOKEN_PROGRAM_ID){const i=(0,Vs.getAssociatedTokenAddressSync)(n,e,t,r,s);return{instructions:o=>dh(this,void 0,void 0,function*(){return{instruction:(0,Vs.createAssociatedTokenAccountIdempotentInstruction)(o.publicKey(),i,e,n,r,s),signers:[o]}}),address:i}}(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(L4,n),t(WB,n),t(UAe,n),t(sk,n),t(VAe,n),t(KA,n),t(cK,n),t(uK,n),t(Ml,n),t(lK,n),t(IY,n),t(il,n),t(dY,n),t(Kb,n)})(tr);var vM={};Object.defineProperty(vM,"__esModule",{value:!0});vM.IDL=void 0;vM.IDL={version:"0.7.3",name:"player_profile",instructions:[{name:"acceptRoleInvitation",accounts:[{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addExistingMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for reallocation."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the member to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"addKeys",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::ADD_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to add to"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyAddIndex",type:"u16"},{name:"keyPermissionsIndex",type:"u16"},{name:"keysToAdd",type:{vec:{defined:"AddKeyInput"}}}]},{name:"adjustAuth",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the profile."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"authIndexes",type:{vec:"u16"}},{name:"newKeyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"removeRange",type:{array:["u16",2]}},{name:"newKeyThreshold",type:"u8"}]},{name:"createProfile",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"profile",isMut:!0,isSigner:!0,docs:["The profile to create"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyPermissions",type:{vec:{defined:"AddKeyInput"}}},{name:"keyThreshold",type:"u8"}]},{name:"createRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The [`Profile`] account that the role is being created for"]},{name:"newRoleAccount",isMut:!0,isSigner:!1,docs:["The role account being created"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"inviteMemberToRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"joinRole",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile."]},{name:"newMember",isMut:!1,isSigner:!1,docs:["The new member joining the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the new member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is joining"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"leaveRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation."]},{name:"member",isMut:!1,isSigner:!1,docs:["The member leaving the role"]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is leaving"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeKeys",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the profile."]},{name:"key",isMut:!1,isSigner:!0,docs:["Key with [`ProfilePermissions::REMOVE_KEYS`] permission to add keys."]},{name:"profile",isMut:!0,isSigner:!1,docs:["The profile to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keysToRemove",type:{array:["u16",2]}}]},{name:"removeMemberFromRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder to receive the rent allocation"]},{name:"member",isMut:!1,isSigner:!1,docs:["The profile of the user to be added to the role"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to."]},{name:"roleMembershipAccount",isMut:!0,isSigner:!1,docs:["The role membership account for the member"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role which the player is being removed from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"keyIndex",type:"u16"},{name:"keyIndexInRoleAccount",type:"u16"},{name:"keyIndexInMembershipAccount",type:"u16"}]},{name:"removeRole",accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The funder for the transaction"]},{name:"profile",isMut:!0,isSigner:!1,docs:["The Profile that the role is being removed from"]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role being removed"]},{name:"roleNameAccount",isMut:!0,isSigner:!1,docs:["The role name account (if it exists)"]}],args:[{name:"roleNameBump",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"setName",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized to change the name."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as accepting members."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleAuthorizer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to set the name for."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set the authorizer for."]},{name:"authorizer",isMut:!1,isSigner:!1,docs:["The authorizer account to set."]}],args:[{name:"keyIndex",type:"u16"}]},{name:"setRoleName",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the name size change."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which the role belongs to"]},{name:"role",isMut:!1,isSigner:!1,docs:["The role to set the name for."]},{name:"name",isMut:!0,isSigner:!1,docs:["The name account."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"name",type:"bytes"}]},{name:"setRoleNotAcceptingMembers",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The profile which owns the role being modified."]},{name:"roleAccount",isMut:!0,isSigner:!1,docs:["The role account to set as not accepting members."]}],args:[{name:"keyIndex",type:"u16"}]}],accounts:[{name:"playerName",docs:["Stores a player's name on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this name is for."],type:"publicKey"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}},{name:"profile",docs:["A player profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authKeyCount",docs:["The number of auth keys on the account"],type:"u16"},{name:"keyThreshold",docs:["The number of auth keys needed to update the profile."],type:"u8"},{name:"nextSeqId",docs:["The next sequence number for a new role."],type:"u64"},{name:"createdAt",docs:["When the profile was created."],type:"i64"}]}},{name:"profileRoleMembership",docs:["A player's roles for a given profile","Remaining data contains an unordered list of [`RoleMembership`](RoleMembership) structs"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The Profile this belongs to"],type:"publicKey"},{name:"member",docs:["The member's profile pubkey"],type:"publicKey"},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"role",docs:["A Role associated with a Profile. A Role contains an unordered list of Role Members in its","remaining data which lists all of the members who carry this role."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["Profile that this role belongs to"],type:"publicKey"},{name:"authorizer",docs:["Origin authority of the account"],type:"publicKey"},{name:"roleSeqId",docs:["Role's seq_id"],type:"u64"},{name:"acceptingNewMembers",docs:["Is role accepting new members"],type:"u8"},{name:"bump",docs:["The name of the rank","TODO: Add instruction to use `player-name` as the label","PDA bump"],type:"u8"}]}}],types:[{name:"AddKeyInput",docs:["Struct for adding a key"],type:{kind:"struct",fields:[{name:"scope",docs:["The block of permissions"],type:"publicKey"},{name:"expireTime",docs:["The expire time of the key to add"],type:"i64"},{name:"permissions",docs:["The permissions for the key"],type:{array:["u8",8]}}]}},{name:"MemberStatus",docs:["Represents potential membership statuses for a player with a role"],type:{kind:"enum",variants:[{name:"Inactive"},{name:"Active"}]}},{name:"ProfileKey",docs:["A key on a profile."],type:{kind:"struct",fields:[{name:"key",docs:["The key."],type:"publicKey"},{name:"scope",docs:["The key for the permissions."],type:"publicKey"},{name:"expireTime",docs:["The expire time for this key.","If `<0` does not expire."],type:"i64"},{name:"permissions",docs:["The permissions for the key."],type:{array:["u8",8]}}]}},{name:"RoleMembership",docs:["Represents a member's status in a role"],type:{kind:"struct",fields:[{name:"key",docs:["The member or role key associated with this membership"],type:"publicKey"},{name:"status",docs:["The member's role status"],type:"u8"}]}}],errors:[{code:6e3,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds"},{code:6001,name:"ProfileMismatch",msg:"Profile did not match profile key"},{code:6002,name:"KeyMismatch",msg:"Key did not match profile key"},{code:6003,name:"ScopeMismatch",msg:"Scope did not match profile scope"},{code:6004,name:"KeyExpired",msg:"Key expired"},{code:6005,name:"KeyMissingPermissions",msg:"Key is missing permissions"},{code:6006,name:"PermissionsMismatch",msg:"Permissions don't match available"},{code:6007,name:"AuthKeyCannotExpire",msg:"Auth keys cannot expire"},{code:6008,name:"AuthKeyMustSign",msg:"New auth keys must be signers"},{code:6009,name:"DuplicateAuthKey",msg:"Duplicate key when adjusting auth keys"},{code:6010,name:"RoleAuthorityAlreadySet",msg:"Role authority has already been set"},{code:6011,name:"RoleNotAcceptingMembers",msg:"Role is not accepting new members"},{code:6012,name:"RoleMembershipMismatch",msg:"Role membership is not as expected"},{code:6013,name:"RoleLimitExceeded",msg:"Role limit exceeded"},{code:6014,name:"RoleHasMembers",msg:"Cannot remove role with members"},{code:6015,name:"FeatureNotImplemented",msg:"This feature is not yet support"}]};var tm={};function hO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function gGe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function YB(n,...e){if(!gGe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function mGe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hO(n.outputLen),hO(n.blockLen)}function LA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function YAe(n,e){YB(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const _W=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yGe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),EW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Dd=(n,e)=>n<<32-e|n>>>e,Wde=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,pGe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function Nde(n){for(let e=0;e<n.length;e++)n[e]=pGe(n[e])}function bGe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function dK(n){return typeof n=="string"&&(n=bGe(n)),YB(n),n}function SGe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];YB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class PY{clone(){return this._cloneInto()}}function _Y(n){const e=r=>n().update(dK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function ZAe(n=32){if(_W&&typeof _W.getRandomValues=="function")return _W.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function kGe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const vGe=(n,e,t)=>n&e^~n&t,AGe=(n,e,t)=>n&e^n&t^e&t;class JAe extends PY{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=EW(this.buffer)}update(e){LA(this);const{view:t,buffer:r,blockLen:s}=this;e=dK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=EW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){LA(this),YAe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;kGe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=EW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const p$=BigInt(2**32-1),y9=BigInt(32);function XAe(n,e=!1){return e?{h:Number(n&p$),l:Number(n>>y9&p$)}:{h:Number(n>>y9&p$)|0,l:Number(n&p$)|0}}function QAe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=XAe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const wGe=(n,e)=>BigInt(n>>>0)<<y9|BigInt(e>>>0),IGe=(n,e,t)=>n>>>t,PGe=(n,e,t)=>n<<32-t|e>>>t,_Ge=(n,e,t)=>n>>>t|e<<32-t,EGe=(n,e,t)=>n<<32-t|e>>>t,xGe=(n,e,t)=>n<<64-t|e>>>t-32,TGe=(n,e,t)=>n>>>t-32|e<<64-t,RGe=(n,e)=>e,CGe=(n,e)=>n,ewe=(n,e,t)=>n<<t|e>>>32-t,twe=(n,e,t)=>e<<t|n>>>32-t,rwe=(n,e,t)=>e<<t-32|n>>>64-t,nwe=(n,e,t)=>n<<t-32|e>>>64-t;function MGe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const BGe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),zGe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,$Ge=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),DGe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,OGe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),KGe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,LGe={fromBig:XAe,split:QAe,toBig:wGe,shrSH:IGe,shrSL:PGe,rotrSH:_Ge,rotrSL:EGe,rotrBH:xGe,rotrBL:TGe,rotr32H:RGe,rotr32L:CGe,rotlSH:ewe,rotlSL:twe,rotlBH:rwe,rotlBL:nwe,add:MGe,add3L:BGe,add3H:zGe,add4L:$Ge,add4H:DGe,add5H:KGe,add5L:OGe};var zr=LGe;const[WGe,NGe]=(()=>zr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),zm=new Uint32Array(80),$m=new Uint32Array(80);class FGe extends JAe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)zm[p]=e.getUint32(t),$m[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=zm[p-15]|0,w=$m[p-15]|0,A=zr.rotrSH(I,w,1)^zr.rotrSH(I,w,8)^zr.shrSH(I,w,7),_=zr.rotrSL(I,w,1)^zr.rotrSL(I,w,8)^zr.shrSL(I,w,7),E=zm[p-2]|0,M=$m[p-2]|0,P=zr.rotrSH(E,M,19)^zr.rotrBH(E,M,61)^zr.shrSH(E,M,6),R=zr.rotrSL(E,M,19)^zr.rotrBL(E,M,61)^zr.shrSL(E,M,6),$=zr.add4L(_,R,$m[p-7],$m[p-16]),z=zr.add4H($,A,P,zm[p-7],zm[p-16]);zm[p]=z|0,$m[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=zr.rotrSH(d,y,14)^zr.rotrSH(d,y,18)^zr.rotrBH(d,y,41),w=zr.rotrSL(d,y,14)^zr.rotrSL(d,y,18)^zr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=zr.add5L(S,w,_,NGe[p],$m[p]),M=zr.add5H(E,b,I,A,WGe[p],zm[p]),P=E|0,R=zr.rotrSH(r,s,28)^zr.rotrBH(r,s,34)^zr.rotrBH(r,s,39),$=zr.rotrSL(r,s,28)^zr.rotrBL(r,s,34)^zr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=zr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=zr.add3L(P,$,T);r=zr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=zr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=zr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=zr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=zr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=zr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=zr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=zr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=zr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){zm.fill(0),$m.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const UGe=_Y(()=>new FGe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EY=BigInt(0),fK=BigInt(1),VGe=BigInt(2);function fS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function ZB(n){if(!fS(n))throw new Error("Uint8Array expected")}function Gg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const qGe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function hS(n){ZB(n);let e="";for(let t=0;t<n.length;t++)e+=qGe[n[t]];return e}function swe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function xY(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Eh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Fde(n){if(n>=Eh._0&&n<=Eh._9)return n-Eh._0;if(n>=Eh._A&&n<=Eh._F)return n-(Eh._A-10);if(n>=Eh._a&&n<=Eh._f)return n-(Eh._a-10)}function WA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Fde(n.charCodeAt(i)),a=Fde(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function V1(n){return xY(hS(n))}function eA(n){return ZB(n),xY(hS(Uint8Array.from(n).reverse()))}function NA(n,e){return WA(n.toString(16).padStart(e*2,"0"))}function AM(n,e){return NA(n,e).reverse()}function jGe(n){return WA(swe(n))}function ea(n,e,t){let r;if(typeof e=="string")try{r=WA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(fS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function gS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];ZB(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function HGe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function GGe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const xW=n=>typeof n=="bigint"&&EY<=n;function hK(n,e,t){return xW(n)&&xW(e)&&xW(t)&&e<=n&&n<t}function vl(n,e,t,r){if(!hK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function YGe(n){let e;for(e=0;n>EY;n>>=fK,e+=1);return e}function ZGe(n,e){return n>>BigInt(e)&fK}function JGe(n,e,t){return n|(t?fK:EY)<<BigInt(e)}const TY=n=>(VGe<<BigInt(n-1))-fK,TW=n=>new Uint8Array(n),Ude=n=>Uint8Array.from(n);function iwe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=TW(n),s=TW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=TW())=>{s=a(Ude([0]),d),r=a(),d.length!==0&&(s=a(Ude([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return gS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const XGe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||fS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function Zx(n,e,t={}){const r=(s,i,o)=>{const a=XGe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const QGe=()=>{throw new Error("not implemented")};function wM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var eYe=Object.freeze(Object.defineProperty({__proto__:null,isBytes:fS,abytes:ZB,abool:Gg,bytesToHex:hS,numberToHexUnpadded:swe,hexToNumber:xY,hexToBytes:WA,bytesToNumberBE:V1,bytesToNumberLE:eA,numberToBytesBE:NA,numberToBytesLE:AM,numberToVarBytesBE:jGe,ensureBytes:ea,concatBytes:gS,equalBytes:HGe,utf8ToBytes:GGe,inRange:hK,aInRange:vl,bitLen:YGe,bitGet:ZGe,bitSet:JGe,bitMask:TY,createHmacDrbg:iwe,validateObject:Zx,notImplemented:QGe,memoized:wM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Za=BigInt(0),$i=BigInt(1),i1=BigInt(2),tYe=BigInt(3),p9=BigInt(4),Vde=BigInt(5),qde=BigInt(8);BigInt(9);BigInt(16);function gi(n,e){const t=n%e;return t>=Za?t:e+t}function rYe(n,e,t){if(t<=Za||e<Za)throw new Error("Expected power/modulo > 0");if(t===$i)return Za;let r=$i;for(;e>Za;)e&$i&&(r=r*n%t),n=n*n%t,e>>=$i;return r}function Qi(n,e,t){let r=n;for(;e-- >Za;)r*=r,r%=t;return r}function b9(n,e){if(n===Za||e<=Za)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=gi(n,e),r=e,s=Za,i=$i;for(;t!==Za;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==$i)throw new Error("invert: does not exist");return gi(s,e)}function nYe(n){const e=(n-$i)/i1;let t,r,s;for(t=n-$i,r=0;t%i1===Za;t/=i1,r++);for(s=i1;s<n&&rYe(s,e,n)!==n-$i;s++);if(r===1){const o=(n+$i)/p9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+$i)/i1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,$i<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function sYe(n){if(n%p9===tYe){const e=(n+$i)/p9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%qde===Vde){const e=(n-Vde)/qde;return function(r,s){const i=r.mul(s,i1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,i1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return nYe(n)}const iYe=(n,e)=>(gi(n,e)&$i)===$i,oYe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function aYe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=oYe.reduce((r,s)=>(r[s]="function",r),e);return Zx(n,t)}function cYe(n,e,t){if(t<Za)throw new Error("Expected power > 0");if(t===Za)return n.ONE;if(t===$i)return e;let r=n.ONE,s=e;for(;t>Za;)t&$i&&(r=n.mul(r,s)),s=n.sqr(s),t>>=$i;return r}function uYe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function owe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function awe(n,e,t=!1,r={}){if(n<=Za)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=owe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=sYe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:TY(s),ZERO:Za,ONE:$i,create:c=>gi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Za<=c&&c<n},is0:c=>c===Za,isOdd:c=>(c&$i)===$i,neg:c=>gi(-c,n),eql:(c,u)=>c===u,sqr:c=>gi(c*c,n),add:(c,u)=>gi(c+u,n),sub:(c,u)=>gi(c-u,n),mul:(c,u)=>gi(c*u,n),pow:(c,u)=>cYe(a,c,u),div:(c,u)=>gi(c*b9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>b9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>uYe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?AM(c,i):NA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?eA(c):V1(c)}});return Object.freeze(a)}function cwe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function uwe(n){const e=cwe(n);return e+Math.ceil(e/2)}function lYe(n,e,t=!1){const r=n.length,s=cwe(e),i=uwe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?V1(n):eA(n),a=gi(o,e-$i)+$i;return t?AM(a,s):NA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dYe=BigInt(0),RW=BigInt(1),CW=new WeakMap,jde=new WeakMap;function lwe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>dYe;)o&RW&&(a=a.add(c)),c=c.double(),o>>=RW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=RW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=jde.get(i)||1;let u=CW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&CW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),jde.set(i,o),CW.delete(i)}}}function RY(n){return aYe(n.Fp),Zx(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...owe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ol=BigInt(0),Fc=BigInt(1),b$=BigInt(2),fYe=BigInt(8),hYe={zip215:!0};function gYe(n){const e=RY(n);return Zx(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function mYe(n){const e=gYe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=b$<<BigInt(a*8)-Fc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Ol}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Gg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){vl("coordinate "+v,k,Ol,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=wM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?fYe:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Ol,y:Fc};if(L!==Fc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=wM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Fc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(b$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Ol)return this.double();const Ue=l(D*b$*J),Wt=l(W*b$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;vl("scalar",x,Fc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return vl("scalar",x,Ol,r),x===Ol?I:this.equals(I)||x===Fc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Fc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=ea("pointHex",k,O),Gg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=eA(D),N=x?u:t.ORDER;vl("pointHex.y",L,Ol,N);const H=l(L*L),J=l(H-Fc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Fc)===Fc,se=(W&128)!==0;if(!x&&X===Ol&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=AM(x,t.BYTES);return C[C.length-1]|=k&Fc?128:0,C}toHex(){return hS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Fc,l(e.Gx*e.Gy)),S.ZERO=new S(Ol,Fc,Fc,Ol);const{BASE:p,ZERO:I}=S,w=lwe(S,a*8);function A(v){return gi(v,r)}function _(v){return A(eA(v))}function E(v){const k=a;v=ea("private key",v,k);const x=ea("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=gS(...k);return _(i(h(x,ea("context",v),!!s)))}function R(v,k,x={}){v=ea("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);vl("signature.s",N,Ol,r);const H=gS(W,AM(N,t.BYTES));return ea("result",H,a*2)}const $=hYe;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=ea("signature",v,2*D),k=ea("message",k),O!==void 0&&Gg("zip215",O),s&&(k=s(k));const W=eA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const CY=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Hde=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const yYe=BigInt(1),Gde=BigInt(2);BigInt(3);const pYe=BigInt(5),bYe=BigInt(8);function SYe(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=CY,a=n*n%i*n%i,c=Qi(a,Gde,i)*a%i,u=Qi(c,yYe,i)*n%i,l=Qi(u,pYe,i)*u%i,d=Qi(l,e,i)*l%i,y=Qi(d,t,i)*d%i,h=Qi(y,r,i)*y%i,m=Qi(h,s,i)*h%i,f=Qi(m,s,i)*h%i,g=Qi(f,e,i)*l%i;return{pow_p_5_8:Qi(g,Gde,i)*n%i,b2:a}}function kYe(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function vYe(n,e){const t=CY,r=gi(e*e*e,t),s=gi(r*r*e,t),i=SYe(n*s).pow_p_5_8;let o=gi(n*r*i,t);const a=gi(e*o*o,t),c=o,u=gi(o*Hde,t),l=a===n,d=a===gi(-n,t),y=a===gi(-n*Hde,t);return l&&(o=c),(d||y)&&(o=u),iYe(o,t)&&(o=gi(-o,t)),{isValid:l||d,value:o}}const AYe=(()=>awe(CY,void 0,!0))(),wYe=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:AYe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:bYe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:UGe,randomBytes:ZAe,adjustScalarBytes:kYe,uvRatio:vYe}))(),Jx=(()=>mYe(wYe))(),IYe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Om=new Uint32Array(64);class PYe extends JAe{constructor(){super(64,32,8,!1),this.A=Dm[0]|0,this.B=Dm[1]|0,this.C=Dm[2]|0,this.D=Dm[3]|0,this.E=Dm[4]|0,this.F=Dm[5]|0,this.G=Dm[6]|0,this.H=Dm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Om[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Om[d-15],h=Om[d-2],m=Dd(y,7)^Dd(y,18)^y>>>3,f=Dd(h,17)^Dd(h,19)^h>>>10;Om[d]=f+Om[d-7]+m+Om[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Dd(a,6)^Dd(a,11)^Dd(a,25),h=l+y+vGe(a,c,u)+IYe[d]+Om[d]|0,f=(Dd(r,2)^Dd(r,13)^Dd(r,22))+AGe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Om.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const S9=_Y(()=>new PYe);class _Ye extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function EYe(n){return JB(n)&&typeof n[Symbol.iterator]=="function"}function JB(n){return typeof n=="object"&&n!=null}function gO(n){return JB(n)&&!Array.isArray(n)}function pd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function xYe(n){const{done:e,value:t}=n.next();return e?void 0:t}function TYe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${pd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Yde(n,e,t,r){EYe(n)||(n=[n]);for(const s of n){const i=TYe(s,e,t,r);i&&(yield i)}}function*MY(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=MY(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):JB(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class fh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Yde(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Yde(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return dwe(e,this,t)}create(e,t){return gt(e,this,t)}is(e){return fwe(e,this)}mask(e,t){return RYe(e,this,t)}validate(e,t={}){return XB(e,this,t)}}function dwe(n,e,t){const r=XB(n,e,{message:t});if(r[0])throw r[0]}function gt(n,e,t){const r=XB(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function RYe(n,e,t){const r=XB(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function fwe(n,e){return!XB(n,e)[0]}function XB(n,e,t={}){const r=MY(n,e,t),s=xYe(r);if(s[0])return[new _Ye(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function ik(n,e){return new fh({type:n,schema:null,validator:e})}function CYe(){return ik("any",()=>!0)}function At(n){return new fh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${pd(e)}`}})}function eh(){return ik("boolean",n=>typeof n=="boolean")}function BY(n){return ik("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${pd(e)}`)}function _i(n){const e=pd(n),t=typeof n;return new fh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${pd(r)}`}})}function MYe(){return ik("never",()=>!1)}function Rt(n){return new fh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ge(){return ik("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${pd(n)}`)}function dr(n){return new fh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function hwe(n,e){return new fh({type:"record",schema:null,*entries(t){if(JB(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return gO(t)||`Expected an object, but received: ${pd(t)}`},coercer(t){return gO(t)?{...t}:t}})}function je(){return ik("string",n=>typeof n=="string"||`Expected a string, but received: ${pd(n)}`)}function zY(n){const e=MYe();return new fh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${pd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Re(n){const e=Object.keys(n);return new fh({type:"type",schema:n,*entries(t){if(JB(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return gO(t)||`Expected an object, but received: ${pd(t)}`},coercer(t){return gO(t)?{...t}:t}})}function Cc(n){const e=n.map(t=>t.type).join(" | ");return new fh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=MY(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${pd(t)}`,...s]}})}function Xx(){return ik("unknown",()=>!0)}function QB(n,e,t){return new fh({...n,coercer:(r,s)=>fwe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const gwe=[],mwe=[],ywe=[],BYe=BigInt(0),PR=BigInt(1),zYe=BigInt(2),$Ye=BigInt(7),DYe=BigInt(256),OYe=BigInt(113);for(let n=0,e=PR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],gwe.push(2*(5*r+t)),mwe.push((n+1)*(n+2)/2%64);let s=BYe;for(let i=0;i<7;i++)e=(e<<PR^(e>>$Ye)*OYe)%DYe,e&zYe&&(s^=PR<<(PR<<BigInt(i))-PR);ywe.push(s)}const[KYe,LYe]=QAe(ywe,!0),Zde=(n,e,t)=>t>32?rwe(n,e,t):ewe(n,e,t),Jde=(n,e,t)=>t>32?nwe(n,e,t):twe(n,e,t);function WYe(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Zde(u,l,1)^t[a],y=Jde(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=mwe[o],c=Zde(s,i,a),u=Jde(s,i,a),l=gwe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=KYe[r],n[1]^=LYe[r]}t.fill(0)}class $Y extends PY{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=yGe(this.state)}keccak(){Wde||Nde(this.state32),WYe(this.state32,this.rounds),Wde||Nde(this.state32),this.posOut=0,this.pos=0}update(e){LA(this);const{blockLen:t,state:r}=this;e=dK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){LA(this,!1),YB(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(YAe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new $Y(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const NYe=(n,e,t)=>_Y(()=>new $Y(e,n,t)),Xde=NYe(1,136,256/8);class pwe extends PY{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,mGe(e);const r=dK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return LA(this),this.iHash.update(e),this}digestInto(e){LA(this),YB(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const bwe=(n,e,t)=>new pwe(n,e).update(t).digest();bwe.create=(n,e)=>new pwe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qde(n){n.lowS!==void 0&&Gg("lowS",n.lowS),n.prehash!==void 0&&Gg("prehash",n.prehash)}function FYe(n){const e=RY(n);Zx(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:UYe,hexToBytes:VYe}=eYe,T1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=T1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:UYe(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=T1,t=typeof n=="string"?VYe(n):n;ZB(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=T1._parseInt(t.subarray(2)),{d:o,l:a}=T1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ty=BigInt(0),fa=BigInt(1);BigInt(2);const efe=BigInt(3);BigInt(4);function qYe(n){const e=FYe(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return gS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return hK(m,fa,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(fS(m)&&(m=hS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:V1(ea("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=gi(p,S)),vl("private key",p,fa,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=wM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=wM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ea("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,efe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,efe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){vl("scalar",f,Ty,e.n);const g=d.ZERO;if(f===Ty)return g;if(f===fa)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Ty||w>Ty;)p&fa&&(A=A.add(E)),w&fa&&(_=_.add(E)),E=E.double(),p>>=fa,w>>=fa;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;vl("scalar",f,fa,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Ty||A===fa||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===fa)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===fa?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Gg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Gg("isCompressed",f),hS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=lwe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function jYe(n){const e=RY(n);return Zx(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function HYe(n){const e=jYe(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return gi(T,r)}function a(T){return b9(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=qYe({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=gS;return Gg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=V1(x);if(!hK(C,fa,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&fa)===fa;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>hS(NA(T,e.nByteLength));function h(T){const v=r>>fa;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>V1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ea("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=T1.toSig(ea("DER",v));return new g(k,x)}assertValidity(){vl("r",this.r,fa,r),vl("s",this.s,fa,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(ea("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return WA(this.toDERHex())}toDERHex(){return T1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return WA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=uwe(e.n);return lYe(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=fS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=V1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=TY(e.nBitLength);function E(T){return vl(`num < 2^${e.nBitLength}`,T,Ty,_),NA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=ea("msgHash",T),Qde(k),O&&(T=ea("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(ea("extraEntropy",Y))}const H=gS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ty)return;const ne=o(re*o(J+ee*L));if(ne===Ty)return;let ve=(se.x===ee?0:2)|Number(se.y&fa),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return iwe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=ea("msgHash",v),k=ea("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Qde(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||fS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof T1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function GYe(n){return{hash:n,hmac:(e,...t)=>bwe(n,e,SGe(...t)),randomBytes:ZAe}}function YYe(n,e){const t=r=>HYe({...n,...GYe(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Swe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),tfe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ZYe=BigInt(1),k9=BigInt(2),rfe=(n,e)=>(n+e/k9)/e;function JYe(n){const e=Swe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=Qi(l,t,e)*l%e,y=Qi(d,t,e)*l%e,h=Qi(y,k9,e)*u%e,m=Qi(h,s,e)*h%e,f=Qi(m,i,e)*m%e,g=Qi(f,a,e)*f%e,b=Qi(g,c,e)*g%e,S=Qi(b,a,e)*f%e,p=Qi(S,t,e)*l%e,I=Qi(p,o,e)*m%e,w=Qi(I,r,e)*u%e,A=Qi(w,k9,e);if(!v9.eql(v9.sqr(A),n))throw new Error("Cannot find square root");return A}const v9=awe(Swe,void 0,void 0,{sqrt:JYe}),gK=YYe({a:BigInt(0),b:BigInt(7),Fp:v9,n:tfe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=tfe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ZYe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=rfe(i*n,e),c=rfe(-r*n,e);let u=gi(n-a*t-c*s,e),l=gi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},S9);BigInt(0);gK.ProjectivePoint;const XYe=Jx.utils.randomPrivateKey,nfe=()=>{const n=Jx.utils.randomPrivateKey(),e=mO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},mO=Jx.getPublicKey;function sfe(n){try{return Jx.ExtendedPoint.fromHex(n),!0}catch{return!1}}const DY=(n,e)=>Jx.sign(n,e.slice(0,32)),QYe=Jx.verify,Qr=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class OY{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(om(W2,this))}static decode(e){return am(W2,this,e)}static decodeUnchecked(e){return cm(W2,this,e)}}class eZe extends OY{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const W2=new Map;var kwe;const vwe=32,Ff=32;function tZe(n){return n._bn!==void 0}let ife=1;class nt extends OY{constructor(e){if(super({}),this._bn=void 0,tZe(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Ff)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Ff)throw new Error("Invalid public key input")}}static unique(){const e=new nt(ife);return ife+=1,new nt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Ff)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=S9(s);return new nt(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>vwe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,Qr(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=S9(r);if(sfe(s))throw new Error("Invalid seeds, address must fall off the curve");return new nt(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new nt(e);return sfe(t.toBytes())}}kwe=nt;nt.default=new kwe("11111111111111111111111111111111");W2.set(nt,{kind:"struct",fields:[["_bn","u256"]]});class rZe{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Qr(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Qr(XYe()),this._publicKey=Qr(mO(this._secretKey))}get publicKey(){return new nt(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const nZe=new nt("BPFLoader1111111111111111111111111111111111"),jy=1280-40-8,mK=127,IM=64;class KY extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(KY.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class LY extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(LY.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Rv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Rv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class PM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const bn=(n="publicKey")=>ie(32,n),sZe=(n="signature")=>ie(64,n),R1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},iZe=(n="authorized")=>F([bn("staker"),bn("withdrawer")],n),oZe=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),bn("custodian")],n),aZe=(n="voteInit")=>F([bn("nodePubkey"),bn("authorizedVoter"),bn("authorizedWithdrawer"),te("commission")],n),cZe=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),bn("currentAuthorityDerivedKeyOwnerPubkey"),R1("currentAuthorityDerivedKeySeed"),bn("newAuthorized")],n);function Awe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return Awe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function su(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Lu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Wn(n,e){if(!n)throw new Error(e||"Assertion failed")}class yK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new yK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Wn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Wn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Wn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new nt(c)),...r.map(([c])=>new nt(c)),...s.map(([c])=>new nt(c)),...i.map(([c])=>new nt(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new nt(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Wn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const wwe="Reached end of buffer unexpectedly";function bf(n){if(n.length===0)throw new Error(wwe);return n.shift()}function iu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(wwe);return n.splice(...e)}class bd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new nt(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new PM(this.staticAccountKeys)}static compile(e){const t=yK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new PM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new bd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Lu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Lu(f,y.length);let g=[];return Lu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Lu(s,r.length);let i=V.Buffer.alloc(jy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(bn("key"),e,"keys"),bn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>Qr(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=bf(t);if(r!==(r&mK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=bf(t),i=bf(t),o=su(t);let a=[];for(let y=0;y<o;y++){const h=iu(t,0,Ff);a.push(new nt(V.Buffer.from(h)))}const c=iu(t,0,Ff),u=su(t);let l=[];for(let y=0;y<u;y++){const h=bf(t),m=su(t),f=iu(t,0,m),g=su(t),b=iu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new bd(d)}}class mS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new PM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=yK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new PM(a,s).compileInstructions(e.instructions);return new mS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Lu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Lu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Lu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(bn(),this.staticAccountKeys.length,"staticAccountKeys"),bn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(jy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(jy);for(const r of this.compiledInstructions){const s=Array();Lu(s,r.accountKeyIndexes.length);const i=Array();Lu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(jy);for(const r of this.addressTableLookups){const s=Array();Lu(s,r.writableIndexes.length);const i=Array();Lu(i,r.readonlyIndexes.length),e+=F([bn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=bf(t),s=r&mK;Wn(r!==s,"Expected versioned message but received legacy message");const i=s;Wn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:bf(t),numReadonlySignedAccounts:bf(t),numReadonlyUnsignedAccounts:bf(t)},a=[],c=su(t);for(let m=0;m<c;m++)a.push(new nt(iu(t,0,Ff)));const u=Ie.encode(iu(t,0,Ff)),l=su(t),d=[];for(let m=0;m<l;m++){const f=bf(t),g=su(t),b=iu(t,0,g),S=su(t),p=new Uint8Array(iu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=su(t),h=[];for(let m=0;m<y;m++){const f=new nt(iu(t,0,Ff)),g=su(t),b=iu(t,0,g),S=su(t),p=iu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new mS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const WY={deserializeMessageVersion(n){const e=n[0],t=e&mK;return t===e?"legacy":t},deserialize:n=>{const e=WY.deserializeMessageVersion(n);if(e==="legacy")return bd.from(n);if(e===0)return mS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Sg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const uZe=V.Buffer.alloc(IM).fill(0);class Ss{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Hn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Ss(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new nt(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Wn(f.programIdIndex>=0),f.accounts.forEach(g=>Wn(g>=0))}),new bd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=DY(r,s.secretKey);this._addSignature(s.publicKey,Qr(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Wn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):QYe(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Lu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Wn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Wn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Wn(i.length<=jy,`Transaction too large: ${i.length} > ${jy}`),i}get keys(){return Wn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Wn(this.instructions.length===1),this.instructions[0].programId}get data(){return Wn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=su(t);let s=[];for(let i=0;i<r;i++){const o=iu(t,0,IM);s.push(Ie.encode(V.Buffer.from(o)))}return Hn.populate(bd.from(t),s)}static populate(e,t=[]){const r=new Hn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(uZe)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Ss({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class NY{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Wn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Wn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Ss({programId:g,data:Qr(m.data),keys:f}))}return new NY({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return bd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return mS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class FY{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Wn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(IM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Lu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(sZe(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=su(t);for(let o=0;o<s;o++)r.push(new Uint8Array(iu(t,0,IM)));const i=WY.deserialize(new Uint8Array(t));return new FY(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Wn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=DY(t,s.secretKey)}}addSignature(e,t){Wn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Wn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const lZe=160,dZe=64,fZe=lZe/dZe,Iwe=1e3/fZe,nf=new nt("SysvarC1ock11111111111111111111111111111111"),hZe=new nt("SysvarEpochSchedu1e111111111111111111111111"),gZe=new nt("Sysvar1nstructions1111111111111111111111111"),wD=new nt("SysvarRecentB1ockHashes11111111111111111111"),FA=new nt("SysvarRent111111111111111111111111111111111"),mZe=new nt("SysvarRewards111111111111111111111111111111"),yZe=new nt("SysvarS1otHashes111111111111111111111111111"),pZe=new nt("SysvarS1otHistory11111111111111111111111111"),ID=new nt("SysvarStakeHistory1111111111111111111111111");class _M extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const bZe={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Yt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function A9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new _M({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function o1(n){return new Promise(e=>setTimeout(e,n))}function Tn(n,e){const t=n.layout.span>=0?n.layout.span:Awe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function rs(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const Pwe=Ae("lamportsPerSignature"),_we=F([U("version"),U("state"),bn("authorizedPubkey"),bn("nonce"),F([Pwe],"feeCalculator")]),w9=_we.span;class pK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=_we.decode(Qr(e),0);return new pK({authorizedPubkey:new nt(t.authorizedPubkey),nonce:new nt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const SZe=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},kZe=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=SZe(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return um(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},UA=kZe(8);class vZe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ds))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=rs(Ds.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new nt(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=rs(Ds.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=rs(Ds.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new nt(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=rs(Ds.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=rs(Ds.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(t),seed:r,space:s,programId:new nt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=rs(Ds.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new nt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=rs(Ds.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new nt(t),seed:r,programId:new nt(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=rs(Ds.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new nt(t),seed:r,lamports:s,space:i,programId:new nt(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=rs(Ds.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new nt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(Ds.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=rs(Ds.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=rs(Ds.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new nt(t)}}static checkProgramId(e){if(!e.equals(Wa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ds=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),bn("programId")])},Assign:{index:1,layout:F([U("instruction"),bn("programId")])},Transfer:{index:2,layout:F([U("instruction"),UA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),bn("base"),R1("seed"),_e("lamports"),_e("space"),bn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),bn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),bn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),bn("base"),R1("seed"),_e("space"),bn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),bn("base"),R1("seed"),bn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),UA("lamports"),R1("seed"),bn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Wa{constructor(){}static createAccount(e){const t=Ds.Create,r=Tn(t,{lamports:e.lamports,space:e.space,programId:Qr(e.programId.toBuffer())});return new Ss({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ds.TransferWithSeed;t=Tn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ds.Transfer;t=Tn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ss({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ds.AssignWithSeed;t=Tn(s,{base:Qr(e.basePubkey.toBuffer()),seed:e.seed,programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ds.Assign;t=Tn(s,{programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ss({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ds.CreateWithSeed,r=Tn(t,{base:Qr(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Qr(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ss({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Hn;"basePubkey"in e&&"seed"in e?t.add(Wa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:w9,programId:this.programId})):t.add(Wa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:w9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ds.InitializeNonceAccount,r=Tn(t,{authorized:Qr(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wD,isSigner:!1,isWritable:!1},{pubkey:FA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Ss(s)}static nonceAdvance(e){const t=Ds.AdvanceNonceAccount,r=Tn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Ss(s)}static nonceWithdraw(e){const t=Ds.WithdrawNonceAccount,r=Tn(t,{lamports:e.lamports});return new Ss({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:wD,isSigner:!1,isWritable:!1},{pubkey:FA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ds.AuthorizeNonceAccount,r=Tn(t,{authorized:Qr(e.newAuthorizedPubkey.toBuffer())});return new Ss({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ds.AllocateWithSeed;t=Tn(s,{base:Qr(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Qr(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ds.Allocate;t=Tn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ss({keys:r,programId:this.programId,data:t})}}Wa.programId=new nt("11111111111111111111111111111111");const AZe=jy-300;class yS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/yS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Hn,h.add(Wa.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Hn,h.add(Wa.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Hn,h.add(Wa.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Hn().add(Wa.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await A9(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=yS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Hn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(A9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await o1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Hn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:FA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(Iwe/2)))}}return!0}}yS.chunkSize=AZe;const wZe=new nt("BPFLoader2111111111111111111111111111111111");class IZe{static getMinNumSignatures(e){return yS.getMinNumSignatures(e)}static load(e,t,r,s,i){return yS.load(e,t,r,i,s)}}function PZe(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var MW,ofe;function _Ze(){if(ofe)return MW;ofe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return MW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},MW}var EZe=_Ze(),afe=PZe(EZe);const _R=32;function BW(n){let e=0;for(;n>1;)n/=2,e++;return e}function xZe(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class Ewe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=BW(xZe(e+_R+1))-BW(_R)-1,r=this.getSlotsInEpoch(t),s=e-(r-_R);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*_R:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+BW(_R)):this.slotsPerEpoch}}var TZe=globalThis.fetch;class RZe extends Bb{constructor(e,t,r){const s=i=>{const o=$b(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function CZe(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const cfe=56;class I9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=CZe(MZe,e),r=e.length-cfe;Wn(r>=0,"lookup table is invalid"),Wn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(bn(),s,"addresses")]).decode(e.slice(cfe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new nt(t.authority[0]):void 0,addresses:i.map(o=>new nt(o))}}}const MZe={index:1,layout:F([U("typeIndex"),UA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(bn(),Vt(te(),-1),"authority")])},BZe=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function zZe(n){const e=n.match(BZe);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Ui=QB(BY(nt),je(),n=>new nt(n)),xwe=zY([je(),_i("base64")]),UY=QB(BY(V.Buffer),xwe,n=>V.Buffer.from(n[0],"base64")),Twe=30*1e3;function $Ze(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Es(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function ufe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function Rwe(n){return Cc([Re({jsonrpc:_i("2.0"),id:je(),result:n}),Re({jsonrpc:_i("2.0"),id:je(),error:Re({code:Xx(),message:je(),data:dr(CYe())})})])}const DZe=Rwe(Xx());function Vr(n){return QB(Rwe(n),DZe,e=>"error"in e?e:{...e,result:gt(e.result,n)})}function lo(n){return Vr(Re({context:Re({slot:ge()}),value:n}))}function bK(n){return Re({context:Re({slot:ge()}),value:n})}function zW(n,e){return n===0?new mS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new nt(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new bd(e)}const OZe=Re({foundation:ge(),foundationTerm:ge(),initial:ge(),taper:ge(),terminal:ge()}),KZe=Vr(At(Rt(Re({epoch:ge(),effectiveSlot:ge(),amount:ge(),postBalance:ge(),commission:dr(Rt(ge()))})))),LZe=At(Re({slot:ge(),prioritizationFee:ge()})),WZe=Re({total:ge(),validator:ge(),foundation:ge(),epoch:ge()}),NZe=Re({epoch:ge(),slotIndex:ge(),slotsInEpoch:ge(),absoluteSlot:ge(),blockHeight:dr(ge()),transactionCount:dr(ge())}),FZe=Re({slotsPerEpoch:ge(),leaderScheduleSlotOffset:ge(),warmup:eh(),firstNormalEpoch:ge(),firstNormalSlot:ge()}),UZe=hwe(je(),At(ge())),ok=Rt(Cc([Re({}),je()])),VZe=Re({err:ok}),qZe=_i("receivedSignature"),jZe=Re({"solana-core":je(),"feature-set":dr(ge())}),HZe=Re({program:je(),programId:Ui,parsed:Xx()}),GZe=Re({programId:Ui,accounts:At(Ui),data:je()}),lfe=lo(Re({err:Rt(Cc([Re({}),je()])),logs:Rt(At(je())),accounts:dr(Rt(At(Rt(Re({executable:eh(),owner:je(),lamports:ge(),data:At(je()),rentEpoch:dr(ge())}))))),unitsConsumed:dr(ge()),returnData:dr(Rt(Re({programId:je(),data:zY([je(),_i("base64")])}))),innerInstructions:dr(Rt(At(Re({index:ge(),instructions:At(Cc([HZe,GZe]))}))))})),YZe=lo(Re({byIdentity:hwe(je(),At(ge())),range:Re({firstSlot:ge(),lastSlot:ge()})}));function ZZe(n,e,t,r,s,i){const o=t||TZe;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new zb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},JJe)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await o1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function JZe(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function XZe(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const QZe=Vr(OZe),eJe=Vr(WZe),tJe=Vr(LZe),rJe=Vr(NZe),nJe=Vr(FZe),sJe=Vr(UZe),iJe=Vr(ge()),oJe=lo(Re({total:ge(),circulating:ge(),nonCirculating:ge(),nonCirculatingAccounts:At(Ui)})),P9=Re({amount:je(),uiAmount:Rt(ge()),decimals:ge(),uiAmountString:dr(je())}),aJe=lo(At(Re({address:Ui,amount:je(),uiAmount:Rt(ge()),decimals:ge(),uiAmountString:dr(je())}))),cJe=lo(At(Re({pubkey:Ui,account:Re({executable:eh(),owner:Ui,lamports:ge(),data:UY,rentEpoch:ge()})}))),_9=Re({program:je(),parsed:Xx(),space:ge()}),uJe=lo(At(Re({pubkey:Ui,account:Re({executable:eh(),owner:Ui,lamports:ge(),data:_9,rentEpoch:ge()})}))),lJe=lo(At(Re({lamports:ge(),address:Ui}))),EM=Re({executable:eh(),owner:Ui,lamports:ge(),data:UY,rentEpoch:ge()}),dJe=Re({pubkey:Ui,account:EM}),fJe=QB(Cc([BY(V.Buffer),_9]),Cc([xwe,_9]),n=>Array.isArray(n)?gt(n,UY):n),E9=Re({executable:eh(),owner:Ui,lamports:ge(),data:fJe,rentEpoch:ge()}),hJe=Re({pubkey:Ui,account:E9}),gJe=Re({state:Cc([_i("active"),_i("inactive"),_i("activating"),_i("deactivating")]),active:ge(),inactive:ge()}),mJe=Vr(At(Re({signature:je(),slot:ge(),err:ok,memo:Rt(je()),blockTime:dr(Rt(ge()))}))),yJe=Vr(At(Re({signature:je(),slot:ge(),err:ok,memo:Rt(je()),blockTime:dr(Rt(ge()))}))),pJe=Re({subscription:ge(),result:bK(EM)}),bJe=Re({pubkey:Ui,account:EM}),SJe=Re({subscription:ge(),result:bK(bJe)}),kJe=Re({parent:ge(),slot:ge(),root:ge()}),vJe=Re({subscription:ge(),result:kJe}),AJe=Cc([Re({type:Cc([_i("firstShredReceived"),_i("completed"),_i("optimisticConfirmation"),_i("root")]),slot:ge(),timestamp:ge()}),Re({type:_i("createdBank"),parent:ge(),slot:ge(),timestamp:ge()}),Re({type:_i("frozen"),slot:ge(),timestamp:ge(),stats:Re({numTransactionEntries:ge(),numSuccessfulTransactions:ge(),numFailedTransactions:ge(),maxTransactionsPerEntry:ge()})}),Re({type:_i("dead"),slot:ge(),timestamp:ge(),err:je()})]),wJe=Re({subscription:ge(),result:AJe}),IJe=Re({subscription:ge(),result:bK(Cc([VZe,qZe]))}),PJe=Re({subscription:ge(),result:ge()}),_Je=Re({pubkey:je(),gossip:Rt(je()),tpu:Rt(je()),rpc:Rt(je()),version:Rt(je())}),dfe=Re({votePubkey:je(),nodePubkey:je(),activatedStake:ge(),epochVoteAccount:eh(),epochCredits:At(zY([ge(),ge(),ge()])),commission:ge(),lastVote:ge(),rootSlot:Rt(ge())}),EJe=Vr(Re({current:At(dfe),delinquent:At(dfe)})),xJe=Cc([_i("processed"),_i("confirmed"),_i("finalized")]),TJe=Re({slot:ge(),confirmations:Rt(ge()),err:ok,confirmationStatus:dr(xJe)}),RJe=lo(At(Rt(TJe))),CJe=Vr(ge()),Cwe=Re({accountKey:Ui,writableIndexes:At(ge()),readonlyIndexes:At(ge())}),VY=Re({signatures:At(je()),message:Re({accountKeys:At(je()),header:Re({numRequiredSignatures:ge(),numReadonlySignedAccounts:ge(),numReadonlyUnsignedAccounts:ge()}),instructions:At(Re({accounts:At(ge()),data:je(),programIdIndex:ge()})),recentBlockhash:je(),addressTableLookups:dr(At(Cwe))})}),Mwe=Re({pubkey:Ui,signer:eh(),writable:eh(),source:dr(Cc([_i("transaction"),_i("lookupTable")]))}),Bwe=Re({accountKeys:At(Mwe),signatures:At(je())}),zwe=Re({parsed:Xx(),program:je(),programId:Ui}),$we=Re({accounts:At(Ui),data:je(),programId:Ui}),MJe=Cc([$we,zwe]),BJe=Cc([Re({parsed:Xx(),program:je(),programId:je()}),Re({accounts:At(je()),data:je(),programId:je()})]),Dwe=QB(MJe,BJe,n=>"accounts"in n?gt(n,$we):gt(n,zwe)),Owe=Re({signatures:At(je()),message:Re({accountKeys:At(Mwe),instructions:At(Dwe),recentBlockhash:je(),addressTableLookups:dr(Rt(At(Cwe)))})}),yO=Re({accountIndex:ge(),mint:je(),owner:dr(je()),programId:dr(je()),uiTokenAmount:P9}),Kwe=Re({writable:At(Ui),readonly:At(Ui)}),SK=Re({err:ok,fee:ge(),innerInstructions:dr(Rt(At(Re({index:ge(),instructions:At(Re({accounts:At(ge()),data:je(),programIdIndex:ge()}))})))),preBalances:At(ge()),postBalances:At(ge()),logMessages:dr(Rt(At(je()))),preTokenBalances:dr(Rt(At(yO))),postTokenBalances:dr(Rt(At(yO))),loadedAddresses:dr(Kwe),computeUnitsConsumed:dr(ge())}),qY=Re({err:ok,fee:ge(),innerInstructions:dr(Rt(At(Re({index:ge(),instructions:At(Dwe)})))),preBalances:At(ge()),postBalances:At(ge()),logMessages:dr(Rt(At(je()))),preTokenBalances:dr(Rt(At(yO))),postTokenBalances:dr(Rt(At(yO))),loadedAddresses:dr(Kwe),computeUnitsConsumed:dr(ge())}),Qx=Cc([_i(0),_i("legacy")]),ak=Re({pubkey:je(),lamports:ge(),postBalance:Rt(ge()),rewardType:Rt(je()),commission:dr(Rt(ge()))}),zJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:VY,meta:Rt(SK),version:dr(Qx)})),rewards:dr(At(ak)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),$Je=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),rewards:dr(At(ak)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),DJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:Bwe,meta:Rt(SK),version:dr(Qx)})),rewards:dr(At(ak)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),OJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:Owe,meta:Rt(qY),version:dr(Qx)})),rewards:dr(At(ak)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),KJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:Bwe,meta:Rt(qY),version:dr(Qx)})),rewards:dr(At(ak)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),LJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),rewards:dr(At(ak)),blockTime:Rt(ge()),blockHeight:Rt(ge())}))),WJe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),transactions:At(Re({transaction:VY,meta:Rt(SK)})),rewards:dr(At(ak)),blockTime:Rt(ge())}))),ffe=Vr(Rt(Re({blockhash:je(),previousBlockhash:je(),parentSlot:ge(),signatures:At(je()),blockTime:Rt(ge())}))),$W=Vr(Rt(Re({slot:ge(),meta:Rt(SK),blockTime:dr(Rt(ge())),transaction:VY,version:dr(Qx)}))),S$=Vr(Rt(Re({slot:ge(),transaction:Owe,meta:Rt(qY),blockTime:dr(Rt(ge())),version:dr(Qx)}))),NJe=lo(Re({blockhash:je(),feeCalculator:Re({lamportsPerSignature:ge()})})),FJe=lo(Re({blockhash:je(),lastValidBlockHeight:ge()})),UJe=lo(eh()),VJe=Re({slot:ge(),numTransactions:ge(),numSlots:ge(),samplePeriodSecs:ge()}),qJe=Vr(At(VJe)),jJe=lo(Rt(Re({feeCalculator:Re({lamportsPerSignature:ge()})}))),HJe=Vr(je()),GJe=Vr(je()),YJe=Re({err:ok,logs:At(je()),signature:je()}),ZJe=Re({result:bK(YJe),subscription:ge()}),JJe={"solana-client":"js/1.0.0-maintenance"};class XJe{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Es(l),h=this._buildArgs([],d,void 0,y),m=afe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=gt(f,Vr(ge()));if("error"in g)throw new Yt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=$Ze(e),this._rpcWsEndpoint=r||zZe(e),this._rpcClient=ZZe(e,s,i,o,a,c),this._rpcRequest=JZe(this._rpcClient),this._rpcBatchRequest=XZe(this._rpcClient),this._rpcWebSocket=new RZe(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=gt(o,lo(ge()));if("error"in a)throw new Yt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=gt(t,Vr(Rt(ge())));if("error"in r)throw new Yt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=gt(e,Vr(ge()));if("error"in t)throw new Yt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=gt(e,iJe);if("error"in t)throw new Yt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=gt(r,oJe);if("error"in s)throw new Yt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=gt(s,lo(P9));if("error"in i)throw new Yt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=gt(s,lo(P9));if("error"in i)throw new Yt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Es(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=gt(c,cJe);if("error"in u)throw new Yt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=gt(o,uJe);if("error"in a)throw new Yt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=gt(s,lJe);if("error"in i)throw new Yt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=gt(s,aJe);if("error"in i)throw new Yt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=gt(o,lo(Rt(EM)));if("error"in a)throw new Yt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=gt(o,lo(Rt(E9)));if("error"in a)throw new Yt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Es(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=gt(a,lo(At(Rt(E9))));if("error"in c)throw new Yt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Es(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=gt(a,lo(At(Rt(EM))));if("error"in c)throw new Yt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Es(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=gt(a,Vr(gJe));if("error"in c)throw new Yt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Es(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:ufe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=At(dJe),l=o.withContext===!0?gt(c,lo(u)):gt(c,Vr(u));if("error"in l)throw new Yt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=gt(o,Vr(At(hJe)));if("error"in a)throw new Yt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Wn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:Sg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Sg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await o1(1e3),i||(h=await y(),i))return;d({__type:Sg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Sg.PROCESSED)l=d.response;else throw new KY(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:Sg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await o1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===Sg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await o1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Rv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Rv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Rv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Rv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Sg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===Sg.PROCESSED)a=c.response;else throw new LY(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=gt(e,Vr(At(_Je)));if("error"in t)throw new Yt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=gt(r,EJe);if("error"in s)throw new Yt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=gt(i,Vr(ge()));if("error"in o)throw new Yt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=gt(i,Vr(je()));if("error"in o)throw new Yt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=gt(s,Vr(At(Ui)));if("error"in i)throw new Yt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Wn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=gt(s,RJe);if("error"in i)throw new Yt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=gt(i,Vr(ge()));if("error"in o)throw new Yt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=gt(r,QZe);if("error"in s)throw new Yt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Es(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=gt(a,KZe);if("error"in c)throw new Yt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=gt(e,eJe);if("error"in t)throw new Yt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=gt(i,rJe);if("error"in o)throw new Yt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=gt(e,nJe);if("error"in t)throw new Yt(t.error,"failed to get epoch schedule");const r=t.result;return new Ewe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=gt(e,sJe);if("error"in t)throw new Yt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=gt(s,CJe);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=gt(r,NJe);if("error"in s)throw new Yt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=gt(t,qJe);if("error"in r)throw new Yt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=gt(s,jJe);if("error"in i)throw new Yt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=Qr(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=gt(i,lo(Rt(ge())));if("error"in o)throw new Yt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=gt(s,tJe);if("error"in i)throw new Yt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=gt(i,FJe);if("error"in o)throw new Yt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=gt(o,UJe);if("error"in a)throw new Yt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=gt(e,Vr(jZe));if("error"in t)throw new Yt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=gt(e,Vr(je()));if("error"in t)throw new Yt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=gt(o,DJe);if("error"in a)throw a.error;return a.result}case"none":{const a=gt(o,$Je);if("error"in a)throw a.error;return a.result}default:{const a=gt(o,zJe);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:zW(d,u.message)},version:d}))}:null}}}catch(a){throw new Yt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=gt(o,KJe);if("error"in a)throw a.error;return a.result}case"none":{const a=gt(o,LJe);if("error"in a)throw a.error;return a.result}default:{const a=gt(o,OJe);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Yt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=gt(i,YZe);if("error"in o)throw new Yt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=gt(o,$W);if("error"in a)throw new Yt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:zW(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Es(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=gt(o,S$);if("error"in a)throw new Yt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Es(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=gt(c,S$);if("error"in u)throw new Yt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Es(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=gt(c,$W);if("error"in u)throw new Yt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:zW(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=gt(s,WJe);if("error"in i)throw new Yt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new bd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Hn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=gt(i,Vr(At(ge())));if("error"in o)throw new Yt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=gt(s,ffe);if("error"in i)throw new Yt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=gt(s,ffe);if("error"in i)throw new Yt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=gt(s,$W);if("error"in i)throw new Yt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new bd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Hn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=gt(s,S$);if("error"in i)throw new Yt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=gt(o,S$);if("error"in a)throw new Yt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=gt(i,mJe);if("error"in o)throw new Yt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=gt(i,yJe);if("error"in o)throw new Yt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new I9({key:e,state:I9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=pK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=gt(r,HJe);if("error"in s)throw new Yt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await o1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=Twe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await o1(Iwe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Es(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=gt(i,lo(ge()));if("error"in o)throw new Yt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=gt(p,lfe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Hn){let m=e;s=new Hn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Hn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=gt(y,lfe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new _M({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Qr(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=gt(a,GJe);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new _M({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=gt(e,pJe);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=afe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Wn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Es(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=gt(e,SJe);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Es(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:ufe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=gt(e,ZJe);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=gt(e,vJe);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=gt(e,wJe);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=gt(e,IJe);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=gt(e,PJe);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class tA{constructor(e){this._keypair=void 0,this._keypair=e??nfe()}static generate(){return new tA(nfe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=mO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new tA({publicKey:r,secretKey:e})}static fromSeed(e){const t=mO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new tA({publicKey:t,secretKey:r})}get publicKey(){return new nt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const $g=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),UA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),UA(),we(bn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class QJe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries($g))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=rs($g.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=rs($g.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new nt(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(jY.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class jY{constructor(){}static createLookupTable(e){const[t,r]=nt.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=$g.CreateLookupTable,i=Tn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Wa.programId,isSigner:!1,isWritable:!1}];return[new Ss({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=$g.FreezeLookupTable,r=Tn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ss({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=$g.ExtendLookupTable,r=Tn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Wa.programId,isSigner:!1,isWritable:!1}),new Ss({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=$g.DeactivateLookupTable,r=Tn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ss({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=$g.CloseLookupTable,r=Tn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ss({programId:this.programId,keys:s,data:r})}}jY.programId=new nt("AddressLookupTab1e1111111111111111111111111");class eXe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Sf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=rs(Sf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=rs(Sf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=rs(Sf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=rs(Sf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(HY.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Sf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),UA("microLamports")])}});class HY{constructor(){}static requestUnits(e){const t=Sf.RequestUnits,r=Tn(t,e);return new Ss({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Sf.RequestHeapFrame,r=Tn(t,e);return new Ss({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Sf.SetComputeUnitLimit,r=Tn(t,e);return new Ss({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Sf.SetComputeUnitPrice,r=Tn(t,{microLamports:BigInt(e.microLamports)});return new Ss({keys:[],programId:this.programId,data:r})}}HY.programId=new nt("ComputeBudget111111111111111111111111111111");const hfe=64,gfe=32,mfe=64,yfe=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class kK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Wn(t.length===gfe,`Public Key must be ${gfe} bytes but received ${t.length} bytes`),Wn(s.length===mfe,`Signature must be ${mfe} bytes but received ${s.length} bytes`);const o=yfe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return yfe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Ss({keys:[],programId:kK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Wn(t.length===hfe,`Private key must be ${hfe} bytes but received ${t.length} bytes`);try{const i=tA.fromSecretKey(t),o=i.publicKey.toBytes(),a=DY(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}kK.programId=new nt("Ed25519SigVerify111111111111111111111111111");const tXe=(n,e)=>{const t=gK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};gK.utils.isValidPrivateKey;const rXe=gK.getPublicKey,pfe=32,DW=20,bfe=64,nXe=11,OW=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class rA{constructor(){}static publicKeyToEthAddress(e){Wn(e.length===bfe,`Public key must be ${bfe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Xde(Qr(e))).slice(-DW)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return rA.createInstructionWithEthAddress({ethAddress:rA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Wn(a.length===DW,`Address must be ${DW} bytes but received ${a.length} bytes`);const c=1+nXe,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(OW.span+r.length);return OW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:Qr(s),ethAddress:Qr(a),recoveryId:i},h),h.fill(Qr(r),OW.span),new Ss({keys:[],programId:rA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Wn(t.length===pfe,`Private key must be ${pfe} bytes but received ${t.length} bytes`);try{const i=Qr(t),o=rXe(i,!1).slice(1),a=V.Buffer.from(Xde(Qr(r))),[c,u]=tXe(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}rA.programId=new nt("KeccakSecp256k11111111111111111111111111111");var Lwe;const Wwe=new nt("StakeConfig11111111111111111111111111111111");class Nwe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class ez{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Lwe=ez;ez.default=new Lwe(0,0,nt.default);class sXe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(va))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=rs(va.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Nwe(new nt(t.staker),new nt(t.withdrawer)),lockup:new ez(r.unixTimestamp,r.epoch,new nt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),rs(va.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=rs(va.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=rs(va.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new nt(i),newAuthorizedPubkey:new nt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=rs(va.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(va.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=rs(va.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),rs(va.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(vK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const va=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),iZe(),oZe()])},Authorize:{index:1,layout:F([U("instruction"),bn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),bn("newAuthorized"),U("stakeAuthorizationType"),R1("authoritySeed"),bn("authorityOwner")])}}),iXe=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class vK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||ez.default,o=va.Initialize,a=Tn(o,{authorized:{staker:Qr(r.staker.toBuffer()),withdrawer:Qr(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Qr(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:FA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Ss(c)}static createAccountWithSeed(e){const t=new Hn;t.add(Wa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Hn;t.add(Wa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=va.Delegate,o=Tn(i);return new Hn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:ID,isSigner:!1,isWritable:!1},{pubkey:Wwe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=va.Authorize,c=Tn(a,{newAuthorized:Qr(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Hn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=va.AuthorizeWithSeed,l=Tn(u,{newAuthorized:Qr(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:Qr(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:nf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Hn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=va.Split,a=Tn(o,{lamports:i});return new Ss({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Hn;return r.add(Wa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Hn;return u.add(Wa.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Wa.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=va.Merge,o=Tn(i);return new Hn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:ID,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=va.Withdraw,c=Tn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:ID,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Hn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=va.Deactivate,i=Tn(s);return new Hn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}vK.programId=new nt("Stake11111111111111111111111111111111111111");vK.space=200;class Fwe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class oXe{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(kf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=rs(kf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Fwe(new nt(t.nodePubkey),new nt(t.authorizedVoter),new nt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=rs(kf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new nt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=rs(kf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new nt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new nt(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=rs(kf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(eT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const kf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),aZe()])},Authorize:{index:1,layout:F([U("instruction"),bn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),cZe()])}}),aXe=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class eT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=kf.InitializeAccount,o=Tn(i,{voteInit:{nodePubkey:Qr(s.nodePubkey.toBuffer()),authorizedVoter:Qr(s.authorizedVoter.toBuffer()),authorizedWithdrawer:Qr(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:FA,isSigner:!1,isWritable:!1},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Ss(a)}static createAccount(e){const t=new Hn;return t.add(Wa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=kf.Authorize,a=Tn(o,{newAuthorized:Qr(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=kf.AuthorizeWithSeed,u=Tn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Qr(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:Qr(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:nf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Hn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=kf.Withdraw,a=Tn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return eT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=kf.UpdateValidatorIdentity,o=Tn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Hn().add({keys:a,programId:this.programId,data:o})}}eT.programId=new nt("Vote111111111111111111111111111111111111111");eT.space=3762;const Uwe=new nt("Va1idator1nfo111111111111111111111111111111"),cXe=Re({name:je(),website:dr(je()),details:dr(je()),iconUrl:dr(je()),keybaseUsername:dr(je())});class GY{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(su(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new nt(iu(t,0,Ff)),a=bf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(Uwe)&&s[1].isSigner){const i=R1().decode(V.Buffer.from(t)),o=JSON.parse(i);return dwe(o,cXe),new GY(s[1].publicKey,o)}return null}}const uXe=new nt("Vote111111111111111111111111111111111111111"),lXe=F([bn("nodePubkey"),bn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),bn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([bn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class YY{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=lXe.decode(Qr(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new YY({nodePubkey:new nt(r.nodePubkey),authorizedWithdrawer:new nt(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(dXe),priorVoters:fXe(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function dXe({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new nt(n)}}function Sfe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new nt(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function fXe({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Sfe),...n.slice(0,e).map(Sfe)]}const kfe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function hXe(n,e){const t=e===!1?"http":"https";if(!n)return kfe[t].devnet;const r=kfe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function gXe(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new _M({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const mXe=1e9;var yXe=Object.freeze(Object.defineProperty({__proto__:null,Account:rZe,AddressLookupTableAccount:I9,AddressLookupTableInstruction:QJe,AddressLookupTableProgram:jY,Authorized:Nwe,BLOCKHASH_CACHE_TIMEOUT_MS:Twe,BPF_LOADER_DEPRECATED_PROGRAM_ID:nZe,BPF_LOADER_PROGRAM_ID:wZe,BpfLoader:IZe,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Sf,ComputeBudgetInstruction:eXe,ComputeBudgetProgram:HY,Connection:XJe,Ed25519Program:kK,Enum:eZe,EpochSchedule:Ewe,FeeCalculatorLayout:Pwe,Keypair:tA,LAMPORTS_PER_SOL:mXe,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:$g,Loader:yS,Lockup:ez,MAX_SEED_LENGTH:vwe,Message:bd,MessageAccountKeys:PM,MessageV0:mS,NONCE_ACCOUNT_LENGTH:w9,NonceAccount:pK,PACKET_DATA_SIZE:jy,PUBLIC_KEY_LENGTH:Ff,PublicKey:nt,SIGNATURE_LENGTH_IN_BYTES:IM,SOLANA_SCHEMA:W2,STAKE_CONFIG_ID:Wwe,STAKE_INSTRUCTION_LAYOUTS:va,SYSTEM_INSTRUCTION_LAYOUTS:Ds,SYSVAR_CLOCK_PUBKEY:nf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:hZe,SYSVAR_INSTRUCTIONS_PUBKEY:gZe,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:wD,SYSVAR_RENT_PUBKEY:FA,SYSVAR_REWARDS_PUBKEY:mZe,SYSVAR_SLOT_HASHES_PUBKEY:yZe,SYSVAR_SLOT_HISTORY_PUBKEY:pZe,SYSVAR_STAKE_HISTORY_PUBKEY:ID,Secp256k1Program:rA,SendTransactionError:_M,SolanaJSONRPCError:Yt,SolanaJSONRPCErrorCode:bZe,StakeAuthorizationLayout:iXe,StakeInstruction:sXe,StakeProgram:vK,Struct:OY,SystemInstruction:vZe,SystemProgram:Wa,Transaction:Hn,TransactionExpiredBlockheightExceededError:KY,TransactionExpiredNonceInvalidError:Rv,TransactionExpiredTimeoutError:LY,TransactionInstruction:Ss,TransactionMessage:NY,TransactionStatus:Sg,VALIDATOR_INFO_KEY:Uwe,VERSION_PREFIX_MASK:mK,VOTE_PROGRAM_ID:uXe,ValidatorInfo:GY,VersionedMessage:WY,VersionedTransaction:FY,VoteAccount:YY,VoteAuthorizationLayout:aXe,VoteInit:Fwe,VoteInstruction:oXe,VoteProgram:eT,clusterApiUrl:hXe,sendAndConfirmRawTransaction:gXe,sendAndConfirmTransaction:A9},Symbol.toStringTag,{value:"Module"})),AK=Td(yXe),pXe=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},bXe=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},x9;Object.defineProperty(tm,"__esModule",{value:!0});tm.PlayerName=tm.playerNameDataEquals=void 0;const Vwe=AK,qwe=tr;function SXe(n,e){return n.version===e.version&&n.profile.equals(e.profile)}tm.playerNameDataEquals=SXe;let pO=tm.PlayerName=x9=class{constructor(e,t,r){this._data=e,this._key=t,this._name=r}get data(){return this._data}get key(){return this._key}get name(){return this._name}static findAddress(e,t){return Vwe.PublicKey.findProgramAddressSync([Xe.Buffer.from("player_name"),t.toBuffer()],e.programId)}static decodeData(e,t){return(0,qwe.decodeAccountWithRemaining)(e,t,x9,r=>new TextDecoder().decode(r))}};pO.ACCOUNT_NAME="playerName";pO.MIN_DATA_SIZE=8+1+32+1;tm.PlayerName=pO=x9=pXe([(0,qwe.staticImplements)(),bXe("design:paramtypes",[Object,Vwe.PublicKey,String])],pO);var bO={};(function(n){var e=K&&K.__decorate||function(S,p,I,w){var A=arguments.length,_=A<3?p:w===null?w=Object.getOwnPropertyDescriptor(p,I):w,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(S,p,I,w);else for(var M=S.length-1;M>=0;M--)(E=S[M])&&(_=(A<3?E(_):A>3?E(p,I,_):E(p,I))||_);return A>3&&_&&Object.defineProperty(p,I,_),_},t=K&&K.__metadata||function(S,p){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(S,p)},r=K&&K.__awaiter||function(S,p,I,w){function A(_){return _ instanceof I?_:new I(function(E){E(_)})}return new(I||(I=Promise))(function(_,E){function M($){try{R(w.next($))}catch(z){E(z)}}function P($){try{R(w.throw($))}catch(z){E(z)}}function R($){$.done?_($.value):A($.value).then(M,P)}R((w=w.apply(S,p||[])).next())})},s,i;Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerProfile=n.findKeyInProfile=n.profileKeyInputToFindKeyInput=n.getProfileKey=n.ProfilePermissions=n.PROFILE_KEY_MIN_DATA_SIZE=n.profileKeyEquals=n.profileDataEquals=void 0;const o=AK,a=cc,c=tr,u=Jd,l=tm;function d(S,p){return S.authKeyCount===p.authKeyCount&&S.keyThreshold===p.keyThreshold&&S.nextSeqId.eq(p.nextSeqId)&&S.createdAt.eq(p.createdAt)}n.profileDataEquals=d;function y(S,p){return S.key.equals(p.key)&&S.scope.equals(p.scope)&&S.expireTime.eq(p.expireTime)&&(0,c.arrayDeepEquals)(S.permissions,p.permissions,(I,w)=>I===w)}n.profileKeyEquals=y,n.PROFILE_KEY_MIN_DATA_SIZE=32+32+8+8;let h=n.ProfilePermissions=s=class{constructor(p,I,w,A,_,E,M,P,R,$,z,T){this.auth=p,this.addKeys=I,this.removeKeys=w,this.changeName=A,this.createRole=_,this.removeRole=E,this.setAuthorizer=M,this.joinRole=P,this.leaveRole=R,this.toggleAcceptingMembers=$,this.addMember=z,this.removeMember=T}static auth(){return new s(!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static addKeys(){return new s(!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static removeKeys(){return new s(!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static changeName(){return new s(!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1,!1)}static createRole(){return new s(!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1,!1)}static removeRole(){return new s(!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1,!1)}static setAuthorizer(){return new s(!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1,!1)}static joinRole(){return new s(!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1,!1)}static leaveRole(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1,!1)}static toggleAcceptingMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1,!1)}static addMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0,!1)}static removeMembers(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!0)}getPermissions(){const p=(0,c.fixedSizeArray)(8,0);return p[0]=(this.auth?1<<0:0)|(this.addKeys?1<<1:0)|(this.removeKeys?1<<2:0)|(this.changeName?1<<3:0)|(this.createRole?1<<4:0)|(this.removeRole?1<<5:0)|(this.setAuthorizer?1<<6:0)|(this.joinRole?1<<7:0),p[1]=(this.leaveRole?1<<0:0)|(this.toggleAcceptingMembers?1<<1:0)|(this.addMember?1<<2:0)|(this.removeMember?1<<3:0),p}static empty(){return new s(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new s(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static fromPermissions(p){return new s((p[0]&1<<0)!==0,(p[0]&1<<1)!==0,(p[0]&1<<2)!==0,(p[0]&1<<3)!==0,(p[0]&1<<4)!==0,(p[0]&1<<5)!==0,(p[0]&1<<6)!==0,(p[0]&1<<7)!==0,(p[1]&1<<0)!==0,(p[1]&1<<1)!==0,(p[1]&1<<2)!==0,(p[1]&1<<3)!==0)}and(p){return new s(this.auth&&p.auth,this.addKeys&&p.addKeys,this.removeKeys&&p.removeKeys,this.changeName&&p.changeName,this.createRole&&p.createRole,this.removeRole&&p.removeRole,this.setAuthorizer&&p.setAuthorizer,this.joinRole&&p.joinRole,this.leaveRole&&p.leaveRole,this.toggleAcceptingMembers&&p.toggleAcceptingMembers,this.addMember&&p.addMember,this.removeMember&&p.removeMember)}or(p){return new s(this.auth||p.auth,this.addKeys||p.addKeys,this.removeKeys&&p.removeKeys,this.changeName||p.changeName,this.createRole||p.createRole,this.removeRole||p.removeRole,this.setAuthorizer||p.setAuthorizer,this.joinRole||p.joinRole,this.leaveRole||p.leaveRole,this.toggleAcceptingMembers||p.toggleAcceptingMembers,this.addMember||p.addMember,this.removeMember||p.removeMember)}eq(p){return this.auth===p.auth&&this.addKeys===p.addKeys&&this.removeKeys==p.removeKeys&&this.changeName===p.changeName&&this.createRole===p.createRole&&this.removeRole===p.removeRole&&this.setAuthorizer===p.setAuthorizer&&this.joinRole===p.joinRole&&this.leaveRole===p.leaveRole&&this.toggleAcceptingMembers===p.toggleAcceptingMembers&&this.addMember===p.addMember&&this.removeMember===p.removeMember}contains(p){return(!p.auth||this.auth)&&(!p.addKeys||this.addKeys)&&(!p.removeKeys||this.removeKeys)&&(!p.changeName||this.changeName)&&(!p.createRole||this.createRole)&&(!p.removeRole||this.removeRole)&&(!p.setAuthorizer||this.setAuthorizer)&&(!p.joinRole||this.joinRole)&&(!p.leaveRole||this.leaveRole)&&(!p.toggleAcceptingMembers||this.toggleAcceptingMembers)&&(!p.addMember||this.addMember)&&(!p.removeMember||this.removeMember)}};n.ProfilePermissions=h=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],h);function m(S){return"profile"in S?S.profile.key:S.profileKey}n.getProfileKey=m;function f(S,p,I){return"keyIndex"in S?S:Object.assign(Object.assign({},S),{validScopes:p,requiredPermissions:I})}n.profileKeyInputToFindKeyInput=f;function g(S,p){if("keyIndex"in S)return S;{const{key:I,profile:w,validScopes:A,requiredPermissions:_}=S,M=w.profileKeys.findIndex(P=>{const R=P.key.equals(I.publicKey()),$=P.scope.equals(S.playerProfileProgram.programId)&&h.fromPermissions(P.permissions).contains(h.auth()),z=()=>{for(const v of A)if(v.equals(P.scope))return!0;return!1},T=()=>p.fromPermissions(P.permissions).contains(_);return R&&($||z()&&T())});return M===-1?{error:"cannot find key"}:{profileKey:w.key,key:I,keyIndex:M}}}n.findKeyInProfile=g;let b=n.PlayerProfile=i=class{constructor(p,I,w){this._data=p,this._key=I,this._profileKeys=w}get data(){return this._data}get key(){return this._key}get profileKeys(){return this._profileKeys}static createProfile(p,I,w,A){return _=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.createProfile(w.map(E=>{if(E.expireTime!==null&&E.expireTime.lt(new a.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return{scope:E.scope,expireTime:E.expireTime===null?new a.BN(-1):E.expireTime,permissions:E.permissions.getPermissions()}}),A).accountsStrict({funder:_.publicKey(),profile:I.publicKey(),systemProgram:o.SystemProgram.programId}).remainingAccounts(w.map(E=>(0,c.isAsyncSigner)(E.key)?{pubkey:E.key.publicKey(),isSigner:!0,isWritable:!1}:{pubkey:E.key,isSigner:!1,isWritable:!1})).instruction(),signers:[_,I,...w.map(E=>E.key).filter(c.isAsyncSigner)]}})}static createRole(p,I,w,A){const _=g(f(I,[p.programId],h.changeName()),h);if("error"in _)throw _.error;const{profileKey:E,key:M,keyIndex:P}=_;return{instructions:R=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.createRole(P).accountsStrict({funder:R.publicKey(),profile:E,systemProgram:o.SystemProgram.programId,newRoleAccount:w[0]}).remainingAccounts([{pubkey:M.publicKey(),isSigner:!0,isWritable:!1}].concat((0,u.getMetaAccountsFromProfilesOrRoles)(A))).instruction().then(z=>(0,u.addKeyIndexesToTransactionInstruction)(z,A)),signers:[R,M]}]}),role:w}}static removeRole(p,I,w,A){const _=g(f(I,[p.programId],h.changeName()),h);if("error"in _)throw _.error;const{profileKey:E,key:M,keyIndex:P}=_,[R,$]=l.PlayerName.findAddress(p,w);return z=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.removeRole($,P).accountsStrict({funder:z.publicKey(),profile:E,roleAccount:w,roleNameAccount:R}).remainingAccounts([{pubkey:M.publicKey(),isSigner:!0,isWritable:!1}].concat((0,u.getMetaAccountsFromProfilesOrRoles)(A))).instruction().then(T=>(0,u.addKeyIndexesToTransactionInstruction)(T,A)),signers:[z,M]}]})}static setName(p,I,w,A){const _=g(f(I,[p.programId],h.changeName()),h);if("error"in _)throw _.error;const{profileKey:E,key:M,keyIndex:P}=_,R=l.PlayerName.findAddress(p,E);return{instructions:$=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.setName(P,Xe.Buffer.from(new TextEncoder().encode(w))).accountsStrict({key:M.publicKey(),funder:$.publicKey(),profile:E,name:R[0],systemProgram:o.SystemProgram.programId}).remainingAccounts((0,u.getMetaAccountsFromProfilesOrRoles)(A)).instruction().then(z=>(0,u.addKeyIndexesToTransactionInstruction)(z,A)),signers:[$,M]}]}),name:R}}static addKeys(p,I,w,A,_,E,M){const P=E.reduce((z,T)=>z.or(T.permissions),A.empty()),{addKeyIndex:R,permissionsKeyIndex:$}=w.profileKeys.reduce((z,T,v)=>{if(z.addKeyIndex!==null&&z.permissionsKeyIndex!==null)return z;if(T.key.equals(I.publicKey())){if(T.scope.equals(p.programId)){const k=h.fromPermissions(T.permissions);if(k.auth)return{addKeyIndex:v,permissionsKeyIndex:v};k.addKeys&&(z.addKeyIndex=v)}_.equals(T.scope)&&P.and(A.fromPermissions(T.permissions)).eq(P)&&(z.permissionsKeyIndex=v)}return z},{addKeyIndex:null,permissionsKeyIndex:null});if(R===null||$===null)throw new Error("key does not have permissions to add given keys");return z=>r(this,void 0,void 0,function*(){return[{instruction:yield p.methods.addKeys(R,$,E.map(T=>({scope:_,expireTime:T.expireTime===null?new a.BN(-1):T.expireTime,permissions:T.permissions.getPermissions()}))).accountsStrict({funder:z.publicKey(),profile:w.key,key:I.publicKey(),systemProgram:o.SystemProgram.programId}).remainingAccounts(E.map(T=>({pubkey:T.key,isSigner:!1,isWritable:!1})).concat((0,u.getMetaAccountsFromProfilesOrRoles)(M))).instruction().then(T=>(0,u.addKeyIndexesToTransactionInstruction)(T,M)),signers:[z,I]}]})}static removeKeys(p,I,w,A,_){const E=g(f(I,[p.programId],h.removeKeys()),h);if("error"in E)throw E.error;const{profileKey:M,key:P,keyIndex:R}=E;return $=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.removeKeys(R,A).accountsStrict({funder:w==="funder"?$.publicKey():w,key:P.publicKey(),profile:M,systemProgram:o.SystemProgram.programId}).remainingAccounts((0,u.getMetaAccountsFromProfilesOrRoles)(_)).instruction().then(z=>(0,u.addKeyIndexesToTransactionInstruction)(z,_)),signers:[P]}})}static adjustAuth(p,I,w,A,_,E){if(I.length===0)throw new Error("no keys provided");const M=I.map(T=>g(f(T,[p.programId],h.auth()),h)),P=M.filter(T=>"error"in T);if(P.length>0)throw P[0].error;const R=M;let $=null;for(const T of R)if($===null)$=T.profileKey;else if(!$.equals(T.profileKey))throw new Error("keys are not from the same profile");if($===null)throw new Error("no keys provided after profile key");const z=w.map(T=>T(({key:v,expireTime:k,scope:x,permissions:C})=>{if(k!==null&&k.lt(new a.BN(0)))throw new Error("expire time will result in negation. Use explicitly null instead");return[{scope:x,expireTime:k===null?new a.BN(-1):k,permissions:C.getPermissions()},v]}));return T=>r(this,void 0,void 0,function*(){return{instruction:yield p.methods.adjustAuth(R.map(v=>v.keyIndex),z.map(([v])=>v),A,_).accountsStrict({funder:T.publicKey(),profile:$,systemProgram:o.SystemProgram.programId}).remainingAccounts([...R.map(v=>({pubkey:v.key.publicKey(),isSigner:!0,isWritable:!1})),...z.map(([v,k])=>({pubkey:k,isSigner:!1,isWritable:!1}))].concat((0,u.getMetaAccountsFromProfilesOrRoles)(E))).instruction().then(v=>(0,u.addKeyIndexesToTransactionInstruction)(v,E)),signers:[T,...R.map(v=>v.key)]}})}static decodeData(p,I){return(0,c.decodeAccountWithRemaining)(p,I,i,(w,A)=>{const _=w.readUint16LE();return w=w.subarray(2),Array(_).fill(0).map((E,M)=>I.coder.types.decode("ProfileKey",w.subarray(n.PROFILE_KEY_MIN_DATA_SIZE*M).subarray(0,n.PROFILE_KEY_MIN_DATA_SIZE)))})}};b.ACCOUNT_NAME="profile",b.MIN_DATA_SIZE=8+1+2+1+8+8,n.PlayerProfile=b=i=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],b)})(bO);var xM={};(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)},r;Object.defineProperty(n,"__esModule",{value:!0}),n.ProfileRoleMembership=n.roleMembershipEquals=n.ROLE_MEMBERSHIP_MIN_DATA_SIZE=n.MemberStatus=void 0;const s=AK,i=tr;var o;(function(u){u[u.Inactive=0]="Inactive",u[u.Active=1]="Active"})(o||(n.MemberStatus=o={})),n.ROLE_MEMBERSHIP_MIN_DATA_SIZE=32+1;function a(u,l){return u.key.equals(l.key)&&u.status===l.status}n.roleMembershipEquals=a;let c=n.ProfileRoleMembership=r=class{constructor(l,d,y){this._data=l,this._key=d,this._roleMemberships=y}get data(){return this._data}get key(){return this._key}get roleMemberships(){return this._roleMemberships}static findAddress(l,d,y){return s.PublicKey.findProgramAddressSync([Xe.Buffer.from("role-member"),d.toBuffer(),y.toBuffer()],l.programId)}static decodeData(l,d){return(0,i.decodeAccountWithRemaining)(l,d,r,(y,h)=>{const m=y.readUInt32LE();return y=y.subarray(4),Array(m).fill(0).map((f,g)=>d.coder.types.decode("RoleMembership",y.subarray(n.ROLE_MEMBERSHIP_MIN_DATA_SIZE*g).subarray(0,n.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};c.ACCOUNT_NAME="profileRoleMembership",c.MIN_DATA_SIZE=8+1+32+32+1,n.ProfileRoleMembership=c=r=e([(0,i.staticImplements)(),t("design:paramtypes",[Object,s.PublicKey,Array])],c)})(xM);var rm={},kXe=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},vXe=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Od=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},T9;Object.defineProperty(rm,"__esModule",{value:!0});rm.RoleAccount=rm.roleAccountEquals=void 0;const my=AK,jwe=tr,qt=Jd,Eu=xM;function AXe(n,e){return n.profile.equals(e.profile)&&n.authorizer.equals(e.authorizer)&&n.roleSeqId.eq(e.roleSeqId)&&n.acceptingNewMembers===e.acceptingNewMembers}rm.roleAccountEquals=AXe;let SO=rm.RoleAccount=T9=class{constructor(e,t,r){this._data=e,this._key=t,this._roleMembers=r}get data(){return this._data}get key(){return this._key}get roleMembers(){return this._roleMembers}static setName(e,t,r,s,i){const o=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId],qt.ProfilePermissions.changeName()),qt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o,l=qt.PlayerName.findAddress(e,r);return{instructions:d=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleName(u,Xe.Buffer.from(new TextEncoder().encode(s))).accountsStrict({funder:d.publicKey(),profile:a,name:l[0],systemProgram:my.SystemProgram.programId,role:r}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(y=>(0,qt.addKeyIndexesToTransactionInstruction)(y,i)),signers:[d,c]}]}),name:l}}static setAuthorizer(e,t,r,s,i){const o=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId],qt.ProfilePermissions.changeName()),qt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o;return l=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleAuthorizer(u).accountsStrict({profile:a,funder:l.publicKey(),roleAccount:r,authorizer:s}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(d=>(0,qt.addKeyIndexesToTransactionInstruction)(d,i)),signers:[l,c]}]})}static joinRole(e,t,r,s){const{ownerKey:i,keyIndex:o,key:a}=(0,qt.ownerToAccounts)([e.programId,r.data.profile],qt.ProfilePermissions.joinRole(),t),c=Eu.ProfileRoleMembership.findAddress(e,r.data.profile,i.key);return{instructions:u=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.joinRole(o).accountsStrict({funder:u.publicKey(),systemProgram:my.SystemProgram.programId,newMember:i.key,roleMembershipAccount:c[0],roleAccount:r.key}).remainingAccounts([...a===null?[]:[{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>{const d=i.signer;if(d){const y=l.keys.find(h=>h.pubkey.equals(d.publicKey()));y&&(y.isSigner=!0)}return(0,qt.addKeyIndexesToTransactionInstruction)(l,s)}),signers:[u,i.signer,a].filter(l=>!!l&&"publicKey"in l)}]}),roleMembership:c}}static leaveRole(e,t,r,s,i){const{ownerKey:o,keyIndex:a,key:c}=(0,qt.ownerToAccounts)([e.programId,r.data.profile],qt.ProfilePermissions.joinRole(),t),u=(0,qt.findRoleInRoleMemberships)(r.roleMembers,Eu.MemberStatus.Active,o.key);if("error"in u)throw u.error;const{keyIndex:l}=u,d=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Eu.MemberStatus.Active,r.key);if("error"in d)throw d.error;const{keyIndex:y}=d;return h=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.leaveRole(a,l,y).accountsStrict({funder:h.publicKey(),systemProgram:my.SystemProgram.programId,member:o.key,roleMembershipAccount:s.key,roleAccount:r.key}).remainingAccounts([...c===null?[]:[{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(m=>{const f=o.signer;if(f){const g=m.keys.find(b=>b.pubkey.equals(f.publicKey()));g&&(g.isSigner=!0)}return(0,qt.addKeyIndexesToTransactionInstruction)(m,i)}),signers:[h,o.signer,c].filter(m=>!!m&&"publicKey"in m)}]})}static setAcceptingNewMembers(e,t,r,s){const i=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return u=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleAcceptingMembers(c).accountsStrict({profile:o,roleAccount:r}).remainingAccounts([{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>(0,qt.addKeyIndexesToTransactionInstruction)(l,s)),signers:[u,a]}]})}static setNotAcceptingNewMembers(e,t,r,s){const i=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return u=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.setRoleNotAcceptingMembers(c).accountsStrict({profile:o,roleAccount:r}).remainingAccounts([{pubkey:a.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(s))).instruction().then(l=>(0,qt.addKeyIndexesToTransactionInstruction)(l,s)),signers:[u,a]}]})}static inviteToRole(e,t,r,s,i){const o=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in o)throw o.error;const{profileKey:a,key:c,keyIndex:u}=o,l=Eu.ProfileRoleMembership.findAddress(e,r.data.profile,s);return{instructions:d=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.inviteMemberToRole(u).accountsStrict({profile:a,roleAccount:r.key,funder:d.publicKey(),systemProgram:my.SystemProgram.programId,newMember:s,roleMembershipAccount:l[0]}).remainingAccounts([{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(y=>(0,qt.addKeyIndexesToTransactionInstruction)(y,i)),signers:[d,c]}]}),roleMembership:l}}static acceptInvite(e,t,r,s,i){const{ownerKey:o,keyIndex:a,key:c}=(0,qt.ownerToAccounts)([e.programId,r.data.profile],qt.ProfilePermissions.joinRole(),t),u=(0,qt.findRoleInRoleMemberships)(r.roleMembers,Eu.MemberStatus.Inactive,o.key);if("error"in u)throw u.error;const{keyIndex:l}=u,d=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Eu.MemberStatus.Inactive,r.key);if("error"in d)throw d.error;const{keyIndex:y}=d,h=Eu.ProfileRoleMembership.findAddress(e,r.data.profile,o.key);return{instructions:m=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.acceptRoleInvitation(a,l,y).accountsStrict({newMember:o.key,roleAccount:r.key,roleMembershipAccount:h[0]}).remainingAccounts([...c===null?[]:[{pubkey:c.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(i))).instruction().then(f=>{const g=o.signer;if(g){const b=f.keys.find(S=>S.pubkey.equals(g.publicKey()));b&&(b.isSigner=!0)}return(0,qt.addKeyIndexesToTransactionInstruction)(f,i)}),signers:[m,o.signer,c].filter(f=>!!f&&"publicKey"in f)}]}),roleMembership:h}}static addExistingMemberToRole(e,t,r,s,i,o){const a=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in a)throw a.error;const{profileKey:c,key:u,keyIndex:l}=a,d=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Eu.MemberStatus.Active);if("error"in d)throw d.error;const{keyIndex:y}=d,h=Eu.ProfileRoleMembership.findAddress(e,r.data.profile,i);return{instructions:m=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addExistingMemberToRole(l,y).accountsStrict({profile:c,newMember:i,roleAccount:r.key,roleMembershipAccount:s.key,funder:m.publicKey(),systemProgram:my.SystemProgram.programId}).remainingAccounts([...u===null?[]:[{pubkey:u.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(o))).instruction().then(g=>(0,qt.addKeyIndexesToTransactionInstruction)(g,o)),signers:[m,u]}]}),roleMembership:h}}static removeMemberFromRole(e,t,r,s,i,o){const a=(0,qt.findKeyInProfile)((0,qt.profileKeyInputToFindKeyInput)(t,[e.programId,r.key],qt.ProfilePermissions.toggleAcceptingMembers()),qt.ProfilePermissions);if("error"in a)throw a.error;const{profileKey:c,key:u,keyIndex:l}=a,d=(0,qt.findRoleInRoleMemberships)(r.roleMembers,Eu.MemberStatus.Active,i);if("error"in d)throw d.error;const{keyIndex:y}=d,h=(0,qt.findRoleInRoleMemberships)(s.roleMemberships,Eu.MemberStatus.Active,r.key);if("error"in h)throw h.error;const{keyIndex:m}=h;return f=>Od(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeMemberFromRole(l,y,m).accountsStrict({profile:c,member:i,roleAccount:r.key,roleMembershipAccount:s.key,funder:f.publicKey(),systemProgram:my.SystemProgram.programId}).remainingAccounts([...u===null?[]:[{pubkey:u.publicKey(),isSigner:!0,isWritable:!1}]].concat((0,qt.getMetaAccountsFromProfilesOrRoles)(o))).instruction().then(b=>(0,qt.addKeyIndexesToTransactionInstruction)(b,o)),signers:[f,u]}]})}static findAddress(e,t,r){return my.PublicKey.findProgramAddressSync([Xe.Buffer.from("profile-role"),t.toBuffer(),r.toArrayLike(Xe.Buffer,"le",8)],e.programId)}static decodeData(e,t){return(0,jwe.decodeAccountWithRemaining)(e,t,T9,(r,s)=>{const i=r.readUint32LE();return r=r.subarray(4),Array(i).fill(0).map((o,a)=>t.coder.types.decode("RoleMembership",r.subarray(Eu.ROLE_MEMBERSHIP_MIN_DATA_SIZE*a).subarray(0,Eu.ROLE_MEMBERSHIP_MIN_DATA_SIZE)))})}};SO.ACCOUNT_NAME="role";SO.MIN_DATA_SIZE=8+1+32+32+8+1+1;rm.RoleAccount=SO=T9=kXe([(0,jwe.staticImplements)(),vXe("design:paramtypes",[Object,my.PublicKey,Array])],SO);var Al={},wXe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(Al,"__esModule",{value:!0});Al.getMetaAccountsFromProfilesOrRoles=Al.addKeyIndexesToTransactionInstruction=Al.findRoleInRoleMemberships=Al.findAllRoles=Al.ownerToAccounts=void 0;const IXe=tr,KW=bO,PXe=xM,_Xe=rm;function EXe(n,e,t){if("profile"in t){const r=(0,KW.findKeyInProfile)((0,KW.profileKeyInputToFindKeyInput)(t.profile,n,e),KW.ProfilePermissions);if("error"in r)throw new Error(r.error);return{ownerKey:{key:r.profileKey},keyIndex:r.keyIndex,key:r.key}}else return{ownerKey:{key:t.key.publicKey(),signer:t.key},keyIndex:0,key:null}}Al.ownerToAccounts=EXe;function xXe(n,e,t){return wXe(this,void 0,void 0,function*(){const r=[];return(yield(0,IXe.readAllFromRPC)(e,t,_Xe.RoleAccount,"confirmed",[{memcmp:{offset:9,bytes:n.toBase58()}}])).forEach(i=>{i.type==="ok"&&r.push(i.data)}),r})}Al.findAllRoles=xXe;function TXe(n,e=PXe.MemberStatus.Active,t){const r=n.findIndex(s=>{const i=!t||s.key.equals(t),o=s.status===e;return i&&o});return r===-1?{error:"Role membership not found"}:{roleMembership:{key:n[r].key,status:e},keyIndex:r}}Al.findRoleInRoleMemberships=TXe;function RXe(n,e){const t=MXe(e);return n.data=Xe.Buffer.concat([n.data,t]),n}Al.addKeyIndexesToTransactionInstruction=RXe;function CXe(n){var e;return(e=n==null?void 0:n.map(t=>({pubkey:t.extraProfilesOrRoles,isSigner:!1,isWritable:!1})))!==null&&e!==void 0?e:[]}Al.getMetaAccountsFromProfilesOrRoles=CXe;function MXe(n){var e;const t=Xe.Buffer.alloc(2*((e=n==null?void 0:n.length)!==null&&e!==void 0?e:0));for(const[r,s]of(n??[]).entries())t.writeUint16LE(s.extraKeyIndexes,r*2);return t}(function(n){var e=K&&K.__createBinding||(Object.create?function(m,f,g,b){b===void 0&&(b=g);var S=Object.getOwnPropertyDescriptor(f,g);(!S||("get"in S?!f.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return f[g]}}),Object.defineProperty(m,b,S)}:function(m,f,g,b){b===void 0&&(b=g),m[b]=f[g]}),t=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var w=m.length-1;w>=0;w--)(I=m[w])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},r=K&&K.__exportStar||function(m,f){for(var g in m)g!=="default"&&!Object.prototype.hasOwnProperty.call(f,g)&&e(f,m,g)},s=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)};Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerProfileProgram=n.playerProfileErrorMap=n.PLAYER_PROFILE_IDL=void 0;const i=cc,o=tr,a=vM,c=tm,u=bO,l=xM,d=rm;var y=vM;Object.defineProperty(n,"PLAYER_PROFILE_IDL",{enumerable:!0,get:function(){return y.IDL}}),r(tm,n),r(bO,n),r(xM,n),r(rm,n),r(Al,n),n.playerProfileErrorMap=(0,o.generateErrorMap)(a.IDL);let h=n.PlayerProfileProgram=class extends o.ListenProgram{constructor(f){super(f,{profile:u.PlayerProfile,playerName:c.PlayerName,role:d.RoleAccount,roleMembership:l.ProfileRoleMembership})}static buildProgram(f,g,b){return new i.Program(a.IDL,f,g,b)}};n.PlayerProfileProgram=h=t([(0,o.staticImplements)(),s("design:paramtypes",[Object])],h)})(Jd);const vfe=new jDe(HDe.address);var ZY={},JY={},ud={};function kO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function BXe(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function tz(n,...e){if(!BXe(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function zXe(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kO(n.outputLen),kO(n.blockLen)}function VA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function Hwe(n,e){tz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const LW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $Xe=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),WW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Kd=(n,e)=>n<<32-e|n>>>e,Afe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,DXe=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function wfe(n){for(let e=0;e<n.length;e++)n[e]=DXe(n[e])}function OXe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function wK(n){return typeof n=="string"&&(n=OXe(n)),tz(n),n}function KXe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];tz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class XY{clone(){return this._cloneInto()}}function QY(n){const e=r=>n().update(wK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function Gwe(n=32){if(LW&&typeof LW.getRandomValues=="function")return LW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function LXe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const WXe=(n,e,t)=>n&e^~n&t,NXe=(n,e,t)=>n&e^n&t^e&t;class Ywe extends XY{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=WW(this.buffer)}update(e){VA(this);const{view:t,buffer:r,blockLen:s}=this;e=wK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=WW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){VA(this),Hwe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;LXe(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=WW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const k$=BigInt(2**32-1),R9=BigInt(32);function Zwe(n,e=!1){return e?{h:Number(n&k$),l:Number(n>>R9&k$)}:{h:Number(n>>R9&k$)|0,l:Number(n&k$)|0}}function Jwe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Zwe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const FXe=(n,e)=>BigInt(n>>>0)<<R9|BigInt(e>>>0),UXe=(n,e,t)=>n>>>t,VXe=(n,e,t)=>n<<32-t|e>>>t,qXe=(n,e,t)=>n>>>t|e<<32-t,jXe=(n,e,t)=>n<<32-t|e>>>t,HXe=(n,e,t)=>n<<64-t|e>>>t-32,GXe=(n,e,t)=>n>>>t-32|e<<64-t,YXe=(n,e)=>e,ZXe=(n,e)=>n,Xwe=(n,e,t)=>n<<t|e>>>32-t,Qwe=(n,e,t)=>e<<t|n>>>32-t,eIe=(n,e,t)=>e<<t-32|n>>>64-t,tIe=(n,e,t)=>n<<t-32|e>>>64-t;function JXe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const XXe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),QXe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,eQe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),tQe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,rQe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),nQe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,sQe={fromBig:Zwe,split:Jwe,toBig:FXe,shrSH:UXe,shrSL:VXe,rotrSH:qXe,rotrSL:jXe,rotrBH:HXe,rotrBL:GXe,rotr32H:YXe,rotr32L:ZXe,rotlSH:Xwe,rotlSL:Qwe,rotlBH:eIe,rotlBL:tIe,add:JXe,add3L:XXe,add3H:QXe,add4L:eQe,add4H:tQe,add5H:nQe,add5L:rQe};var $r=sQe;const[iQe,oQe]=(()=>$r.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Km=new Uint32Array(80),Lm=new Uint32Array(80);class aQe extends Ywe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Km[p]=e.getUint32(t),Lm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Km[p-15]|0,w=Lm[p-15]|0,A=$r.rotrSH(I,w,1)^$r.rotrSH(I,w,8)^$r.shrSH(I,w,7),_=$r.rotrSL(I,w,1)^$r.rotrSL(I,w,8)^$r.shrSL(I,w,7),E=Km[p-2]|0,M=Lm[p-2]|0,P=$r.rotrSH(E,M,19)^$r.rotrBH(E,M,61)^$r.shrSH(E,M,6),R=$r.rotrSL(E,M,19)^$r.rotrBL(E,M,61)^$r.shrSL(E,M,6),$=$r.add4L(_,R,Lm[p-7],Lm[p-16]),z=$r.add4H($,A,P,Km[p-7],Km[p-16]);Km[p]=z|0,Lm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=$r.rotrSH(d,y,14)^$r.rotrSH(d,y,18)^$r.rotrBH(d,y,41),w=$r.rotrSL(d,y,14)^$r.rotrSL(d,y,18)^$r.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=$r.add5L(S,w,_,oQe[p],Lm[p]),M=$r.add5H(E,b,I,A,iQe[p],Km[p]),P=E|0,R=$r.rotrSH(r,s,28)^$r.rotrBH(r,s,34)^$r.rotrBH(r,s,39),$=$r.rotrSL(r,s,28)^$r.rotrBL(r,s,34)^$r.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=$r.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=$r.add3L(P,$,T);r=$r.add3H(v,M,R,z),s=v|0}({h:r,l:s}=$r.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=$r.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=$r.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=$r.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=$r.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=$r.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=$r.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=$r.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Km.fill(0),Lm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const cQe=QY(()=>new aQe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eZ=BigInt(0),IK=BigInt(1),uQe=BigInt(2);function pS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function rz(n){if(!pS(n))throw new Error("Uint8Array expected")}function Yg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const lQe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function bS(n){rz(n);let e="";for(let t=0;t<n.length;t++)e+=lQe[n[t]];return e}function rIe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function tZ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const xh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Ife(n){if(n>=xh._0&&n<=xh._9)return n-xh._0;if(n>=xh._A&&n<=xh._F)return n-(xh._A-10);if(n>=xh._a&&n<=xh._f)return n-(xh._a-10)}function qA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Ife(n.charCodeAt(i)),a=Ife(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function q1(n){return tZ(bS(n))}function nA(n){return rz(n),tZ(bS(Uint8Array.from(n).reverse()))}function jA(n,e){return qA(n.toString(16).padStart(e*2,"0"))}function TM(n,e){return jA(n,e).reverse()}function dQe(n){return qA(rIe(n))}function ta(n,e,t){let r;if(typeof e=="string")try{r=qA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(pS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function SS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];rz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function fQe(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function hQe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const NW=n=>typeof n=="bigint"&&eZ<=n;function PK(n,e,t){return NW(n)&&NW(e)&&NW(t)&&e<=n&&n<t}function wl(n,e,t,r){if(!PK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function gQe(n){let e;for(e=0;n>eZ;n>>=IK,e+=1);return e}function mQe(n,e){return n>>BigInt(e)&IK}function yQe(n,e,t){return n|(t?IK:eZ)<<BigInt(e)}const rZ=n=>(uQe<<BigInt(n-1))-IK,FW=n=>new Uint8Array(n),Pfe=n=>Uint8Array.from(n);function nIe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=FW(n),s=FW(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=FW())=>{s=a(Pfe([0]),d),r=a(),d.length!==0&&(s=a(Pfe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return SS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const pQe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||pS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function tT(n,e,t={}){const r=(s,i,o)=>{const a=pQe[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const bQe=()=>{throw new Error("not implemented")};function RM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var SQe=Object.freeze(Object.defineProperty({__proto__:null,isBytes:pS,abytes:rz,abool:Yg,bytesToHex:bS,numberToHexUnpadded:rIe,hexToNumber:tZ,hexToBytes:qA,bytesToNumberBE:q1,bytesToNumberLE:nA,numberToBytesBE:jA,numberToBytesLE:TM,numberToVarBytesBE:dQe,ensureBytes:ta,concatBytes:SS,equalBytes:fQe,utf8ToBytes:hQe,inRange:PK,aInRange:wl,bitLen:gQe,bitGet:mQe,bitSet:yQe,bitMask:rZ,createHmacDrbg:nIe,validateObject:tT,notImplemented:bQe,memoized:RM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ja=BigInt(0),Di=BigInt(1),a1=BigInt(2),kQe=BigInt(3),C9=BigInt(4),_fe=BigInt(5),Efe=BigInt(8);BigInt(9);BigInt(16);function mi(n,e){const t=n%e;return t>=Ja?t:e+t}function vQe(n,e,t){if(t<=Ja||e<Ja)throw new Error("Expected power/modulo > 0");if(t===Di)return Ja;let r=Di;for(;e>Ja;)e&Di&&(r=r*n%t),n=n*n%t,e>>=Di;return r}function eo(n,e,t){let r=n;for(;e-- >Ja;)r*=r,r%=t;return r}function M9(n,e){if(n===Ja||e<=Ja)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=mi(n,e),r=e,s=Ja,i=Di;for(;t!==Ja;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Di)throw new Error("invert: does not exist");return mi(s,e)}function AQe(n){const e=(n-Di)/a1;let t,r,s;for(t=n-Di,r=0;t%a1===Ja;t/=a1,r++);for(s=a1;s<n&&vQe(s,e,n)!==n-Di;s++);if(r===1){const o=(n+Di)/C9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Di)/a1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Di<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function wQe(n){if(n%C9===kQe){const e=(n+Di)/C9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Efe===_fe){const e=(n-_fe)/Efe;return function(r,s){const i=r.mul(s,a1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,a1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return AQe(n)}const IQe=(n,e)=>(mi(n,e)&Di)===Di,PQe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function _Qe(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=PQe.reduce((r,s)=>(r[s]="function",r),e);return tT(n,t)}function EQe(n,e,t){if(t<Ja)throw new Error("Expected power > 0");if(t===Ja)return n.ONE;if(t===Di)return e;let r=n.ONE,s=e;for(;t>Ja;)t&Di&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Di;return r}function xQe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function sIe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function iIe(n,e,t=!1,r={}){if(n<=Ja)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=sIe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=wQe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:rZ(s),ZERO:Ja,ONE:Di,create:c=>mi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Ja<=c&&c<n},is0:c=>c===Ja,isOdd:c=>(c&Di)===Di,neg:c=>mi(-c,n),eql:(c,u)=>c===u,sqr:c=>mi(c*c,n),add:(c,u)=>mi(c+u,n),sub:(c,u)=>mi(c-u,n),mul:(c,u)=>mi(c*u,n),pow:(c,u)=>EQe(a,c,u),div:(c,u)=>mi(c*M9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>M9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>xQe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?TM(c,i):jA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?nA(c):q1(c)}});return Object.freeze(a)}function oIe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function aIe(n){const e=oIe(n);return e+Math.ceil(e/2)}function TQe(n,e,t=!1){const r=n.length,s=oIe(e),i=aIe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?q1(n):nA(n),a=mi(o,e-Di)+Di;return t?TM(a,s):jA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RQe=BigInt(0),UW=BigInt(1),VW=new WeakMap,xfe=new WeakMap;function cIe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>RQe;)o&UW&&(a=a.add(c)),c=c.double(),o>>=UW;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=UW);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=xfe.get(i)||1;let u=VW.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&VW.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),xfe.set(i,o),VW.delete(i)}}}function nZ(n){return _Qe(n.Fp),tT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...sIe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kl=BigInt(0),Uc=BigInt(1),v$=BigInt(2),CQe=BigInt(8),MQe={zip215:!0};function BQe(n){const e=nZ(n);return tT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function zQe(n){const e=BQe(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=v$<<BigInt(a*8)-Uc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Kl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Yg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){wl("coordinate "+v,k,Kl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=RM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?CQe:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Kl,y:Uc};if(L!==Uc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=RM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Uc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(v$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Kl)return this.double();const Ue=l(D*v$*J),Wt=l(W*v$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;wl("scalar",x,Uc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return wl("scalar",x,Kl,r),x===Kl?I:this.equals(I)||x===Uc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Uc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=ta("pointHex",k,O),Yg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=nA(D),N=x?u:t.ORDER;wl("pointHex.y",L,Kl,N);const H=l(L*L),J=l(H-Uc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Uc)===Uc,se=(W&128)!==0;if(!x&&X===Kl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=TM(x,t.BYTES);return C[C.length-1]|=k&Uc?128:0,C}toHex(){return bS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Uc,l(e.Gx*e.Gy)),S.ZERO=new S(Kl,Uc,Uc,Kl);const{BASE:p,ZERO:I}=S,w=cIe(S,a*8);function A(v){return mi(v,r)}function _(v){return A(nA(v))}function E(v){const k=a;v=ta("private key",v,k);const x=ta("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=SS(...k);return _(i(h(x,ta("context",v),!!s)))}function R(v,k,x={}){v=ta("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);wl("signature.s",N,Kl,r);const H=SS(W,TM(N,t.BYTES));return ta("result",H,a*2)}const $=MQe;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=ta("signature",v,2*D),k=ta("message",k),O!==void 0&&Yg("zip215",O),s&&(k=s(k));const W=nA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sZ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Tfe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const $Qe=BigInt(1),Rfe=BigInt(2);BigInt(3);const DQe=BigInt(5),OQe=BigInt(8);function KQe(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=sZ,a=n*n%i*n%i,c=eo(a,Rfe,i)*a%i,u=eo(c,$Qe,i)*n%i,l=eo(u,DQe,i)*u%i,d=eo(l,e,i)*l%i,y=eo(d,t,i)*d%i,h=eo(y,r,i)*y%i,m=eo(h,s,i)*h%i,f=eo(m,s,i)*h%i,g=eo(f,e,i)*l%i;return{pow_p_5_8:eo(g,Rfe,i)*n%i,b2:a}}function LQe(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function WQe(n,e){const t=sZ,r=mi(e*e*e,t),s=mi(r*r*e,t),i=KQe(n*s).pow_p_5_8;let o=mi(n*r*i,t);const a=mi(e*o*o,t),c=o,u=mi(o*Tfe,t),l=a===n,d=a===mi(-n,t),y=a===mi(-n*Tfe,t);return l&&(o=c),(d||y)&&(o=u),IQe(o,t)&&(o=mi(-o,t)),{isValid:l||d,value:o}}const NQe=(()=>iIe(sZ,void 0,!0))(),FQe=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:NQe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:OQe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:cQe,randomBytes:Gwe,adjustScalarBytes:LQe,uvRatio:WQe}))(),rT=(()=>zQe(FQe))(),UQe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Nm=new Uint32Array(64);class VQe extends Ywe{constructor(){super(64,32,8,!1),this.A=Wm[0]|0,this.B=Wm[1]|0,this.C=Wm[2]|0,this.D=Wm[3]|0,this.E=Wm[4]|0,this.F=Wm[5]|0,this.G=Wm[6]|0,this.H=Wm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Nm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Nm[d-15],h=Nm[d-2],m=Kd(y,7)^Kd(y,18)^y>>>3,f=Kd(h,17)^Kd(h,19)^h>>>10;Nm[d]=f+Nm[d-7]+m+Nm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Kd(a,6)^Kd(a,11)^Kd(a,25),h=l+y+WXe(a,c,u)+UQe[d]+Nm[d]|0,f=(Kd(r,2)^Kd(r,13)^Kd(r,22))+NXe(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Nm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const B9=QY(()=>new VQe);class qQe extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function jQe(n){return nz(n)&&typeof n[Symbol.iterator]=="function"}function nz(n){return typeof n=="object"&&n!=null}function vO(n){return nz(n)&&!Array.isArray(n)}function Sd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function HQe(n){const{done:e,value:t}=n.next();return e?void 0:t}function GQe(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Sd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Cfe(n,e,t,r){jQe(n)||(n=[n]);for(const s of n){const i=GQe(s,e,t,r);i&&(yield i)}}function*iZ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=iZ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):nz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class hh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Cfe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Cfe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return uIe(e,this,t)}create(e,t){return mt(e,this,t)}is(e){return lIe(e,this)}mask(e,t){return YQe(e,this,t)}validate(e,t={}){return sz(e,this,t)}}function uIe(n,e,t){const r=sz(n,e,{message:t});if(r[0])throw r[0]}function mt(n,e,t){const r=sz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function YQe(n,e,t){const r=sz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function lIe(n,e){return!sz(n,e)[0]}function sz(n,e,t={}){const r=iZ(n,e,t),s=HQe(r);if(s[0])return[new qQe(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function ck(n,e){return new hh({type:n,schema:null,validator:e})}function ZQe(){return ck("any",()=>!0)}function wt(n){return new hh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Sd(e)}`}})}function th(){return ck("boolean",n=>typeof n=="boolean")}function oZ(n){return ck("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Sd(e)}`)}function Ei(n){const e=Sd(n),t=typeof n;return new hh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Sd(r)}`}})}function JQe(){return ck("never",()=>!1)}function Ct(n){return new hh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function me(){return ck("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Sd(n)}`)}function fr(n){return new hh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function dIe(n,e){return new hh({type:"record",schema:null,*entries(t){if(nz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return vO(t)||`Expected an object, but received: ${Sd(t)}`},coercer(t){return vO(t)?{...t}:t}})}function He(){return ck("string",n=>typeof n=="string"||`Expected a string, but received: ${Sd(n)}`)}function aZ(n){const e=JQe();return new hh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Sd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Ce(n){const e=Object.keys(n);return new hh({type:"type",schema:n,*entries(t){if(nz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return vO(t)||`Expected an object, but received: ${Sd(t)}`},coercer(t){return vO(t)?{...t}:t}})}function Mc(n){const e=n.map(t=>t.type).join(" | ");return new hh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=iZ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Sd(t)}`,...s]}})}function nT(){return ck("unknown",()=>!0)}function iz(n,e,t){return new hh({...n,coercer:(r,s)=>lIe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const fIe=[],hIe=[],gIe=[],XQe=BigInt(0),ER=BigInt(1),QQe=BigInt(2),eet=BigInt(7),tet=BigInt(256),ret=BigInt(113);for(let n=0,e=ER,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],fIe.push(2*(5*r+t)),hIe.push((n+1)*(n+2)/2%64);let s=XQe;for(let i=0;i<7;i++)e=(e<<ER^(e>>eet)*ret)%tet,e&QQe&&(s^=ER<<(ER<<BigInt(i))-ER);gIe.push(s)}const[net,set]=Jwe(gIe,!0),Mfe=(n,e,t)=>t>32?eIe(n,e,t):Xwe(n,e,t),Bfe=(n,e,t)=>t>32?tIe(n,e,t):Qwe(n,e,t);function iet(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Mfe(u,l,1)^t[a],y=Bfe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=hIe[o],c=Mfe(s,i,a),u=Bfe(s,i,a),l=fIe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=net[r],n[1]^=set[r]}t.fill(0)}class cZ extends XY{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,kO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$Xe(this.state)}keccak(){Afe||wfe(this.state32),iet(this.state32,this.rounds),Afe||wfe(this.state32),this.posOut=0,this.pos=0}update(e){VA(this);const{blockLen:t,state:r}=this;e=wK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){VA(this,!1),tz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return kO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Hwe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new cZ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const oet=(n,e,t)=>QY(()=>new cZ(e,n,t)),zfe=oet(1,136,256/8);class mIe extends XY{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,zXe(e);const r=wK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return VA(this),this.iHash.update(e),this}digestInto(e){VA(this),tz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const yIe=(n,e,t)=>new mIe(n,e).update(t).digest();yIe.create=(n,e)=>new mIe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function $fe(n){n.lowS!==void 0&&Yg("lowS",n.lowS),n.prehash!==void 0&&Yg("prehash",n.prehash)}function aet(n){const e=nZ(n);tT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:cet,hexToBytes:uet}=SQe,C1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=C1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:cet(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=C1,t=typeof n=="string"?uet(n):n;rz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=C1._parseInt(t.subarray(2)),{d:o,l:a}=C1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Ry=BigInt(0),ha=BigInt(1);BigInt(2);const Dfe=BigInt(3);BigInt(4);function det(n){const e=aet(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return SS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return PK(m,ha,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(pS(m)&&(m=bS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:q1(ta("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=mi(p,S)),wl("private key",p,ha,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=RM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=RM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ta("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Dfe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,Dfe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){wl("scalar",f,Ry,e.n);const g=d.ZERO;if(f===Ry)return g;if(f===ha)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Ry||w>Ry;)p&ha&&(A=A.add(E)),w&ha&&(_=_.add(E)),E=E.double(),p>>=ha,w>>=ha;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;wl("scalar",f,ha,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Ry||A===ha||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ha)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ha?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Yg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Yg("isCompressed",f),bS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=cIe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function fet(n){const e=nZ(n);return tT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function het(n){const e=fet(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return mi(T,r)}function a(T){return M9(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=det({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=SS;return Yg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=q1(x);if(!PK(C,ha,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&ha)===ha;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>bS(jA(T,e.nByteLength));function h(T){const v=r>>ha;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>q1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ta("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=C1.toSig(ta("DER",v));return new g(k,x)}assertValidity(){wl("r",this.r,ha,r),wl("s",this.s,ha,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(ta("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return qA(this.toDERHex())}toDERHex(){return C1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return qA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=aIe(e.n);return TQe(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=pS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=q1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=rZ(e.nBitLength);function E(T){return wl(`num < 2^${e.nBitLength}`,T,Ry,_),jA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=ta("msgHash",T),$fe(k),O&&(T=ta("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(ta("extraEntropy",Y))}const H=SS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Ry)return;const ne=o(re*o(J+ee*L));if(ne===Ry)return;let ve=(se.x===ee?0:2)|Number(se.y&ha),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return nIe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=ta("msgHash",v),k=ta("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");$fe(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||pS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof C1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function get(n){return{hash:n,hmac:(e,...t)=>yIe(n,e,KXe(...t)),randomBytes:Gwe}}function met(n,e){const t=r=>het({...n,...get(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pIe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ofe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),yet=BigInt(1),z9=BigInt(2),Kfe=(n,e)=>(n+e/z9)/e;function pet(n){const e=pIe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=eo(l,t,e)*l%e,y=eo(d,t,e)*l%e,h=eo(y,z9,e)*u%e,m=eo(h,s,e)*h%e,f=eo(m,i,e)*m%e,g=eo(f,a,e)*f%e,b=eo(g,c,e)*g%e,S=eo(b,a,e)*f%e,p=eo(S,t,e)*l%e,I=eo(p,o,e)*m%e,w=eo(I,r,e)*u%e,A=eo(w,z9,e);if(!$9.eql($9.sqr(A),n))throw new Error("Cannot find square root");return A}const $9=iIe(pIe,void 0,void 0,{sqrt:pet}),_K=met({a:BigInt(0),b:BigInt(7),Fp:$9,n:Ofe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Ofe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-yet*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Kfe(i*n,e),c=Kfe(-r*n,e);let u=mi(n-a*t-c*s,e),l=mi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},B9);BigInt(0);_K.ProjectivePoint;const bet=rT.utils.randomPrivateKey,Lfe=()=>{const n=rT.utils.randomPrivateKey(),e=AO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},AO=rT.getPublicKey;function Wfe(n){try{return rT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const uZ=(n,e)=>rT.sign(n,e.slice(0,32)),ket=rT.verify,en=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class lZ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(om(N2,this))}static decode(e){return am(N2,this,e)}static decodeUnchecked(e){return cm(N2,this,e)}}class vet extends lZ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const N2=new Map;var bIe;const SIe=32,Uf=32;function Aet(n){return n._bn!==void 0}let Nfe=1;class st extends lZ{constructor(e){if(super({}),this._bn=void 0,Aet(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Uf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Uf)throw new Error("Invalid public key input")}}static unique(){const e=new st(Nfe);return Nfe+=1,new st(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Uf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=B9(s);return new st(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>SIe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,en(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=B9(r);if(Wfe(s))throw new Error("Invalid seeds, address must fall off the curve");return new st(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new st(e);return Wfe(t.toBytes())}}bIe=st;st.default=new bIe("11111111111111111111111111111111");N2.set(st,{kind:"struct",fields:[["_bn","u256"]]});class wet{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=en(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=en(bet()),this._publicKey=en(AO(this._secretKey))}get publicKey(){return new st(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Iet=new st("BPFLoader1111111111111111111111111111111111"),Hy=1280-40-8,EK=127,CM=64;class dZ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(dZ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class fZ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(fZ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Cv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Cv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class MM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Sn=(n="publicKey")=>ie(32,n),Pet=(n="signature")=>ie(64,n),M1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},_et=(n="authorized")=>F([Sn("staker"),Sn("withdrawer")],n),Eet=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),Sn("custodian")],n),xet=(n="voteInit")=>F([Sn("nodePubkey"),Sn("authorizedVoter"),Sn("authorizedWithdrawer"),te("commission")],n),Tet=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),Sn("currentAuthorityDerivedKeyOwnerPubkey"),M1("currentAuthorityDerivedKeySeed"),Sn("newAuthorized")],n);function kIe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return kIe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function ou(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Wu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Nn(n,e){if(!n)throw new Error(e||"Assertion failed")}class xK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new xK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Nn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Nn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Nn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new st(c)),...r.map(([c])=>new st(c)),...s.map(([c])=>new st(c)),...i.map(([c])=>new st(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new st(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Nn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const vIe="Reached end of buffer unexpectedly";function vf(n){if(n.length===0)throw new Error(vIe);return n.shift()}function au(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(vIe);return n.splice(...e)}class kd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new st(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MM(this.staticAccountKeys)}static compile(e){const t=xK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new MM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new kd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Wu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Wu(f,y.length);let g=[];return Wu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Wu(s,r.length);let i=V.Buffer.alloc(Hy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(Sn("key"),e,"keys"),Sn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>en(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=vf(t);if(r!==(r&EK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=vf(t),i=vf(t),o=ou(t);let a=[];for(let y=0;y<o;y++){const h=au(t,0,Uf);a.push(new st(V.Buffer.from(h)))}const c=au(t,0,Uf),u=ou(t);let l=[];for(let y=0;y<u;y++){const h=vf(t),m=ou(t),f=au(t,0,m),g=ou(t),b=au(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new kd(d)}}class kS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new MM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=xK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new MM(a,s).compileInstructions(e.instructions);return new kS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Wu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Wu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Wu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(Sn(),this.staticAccountKeys.length,"staticAccountKeys"),Sn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Hy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Hy);for(const r of this.compiledInstructions){const s=Array();Wu(s,r.accountKeyIndexes.length);const i=Array();Wu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Hy);for(const r of this.addressTableLookups){const s=Array();Wu(s,r.writableIndexes.length);const i=Array();Wu(i,r.readonlyIndexes.length),e+=F([Sn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=vf(t),s=r&EK;Nn(r!==s,"Expected versioned message but received legacy message");const i=s;Nn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:vf(t),numReadonlySignedAccounts:vf(t),numReadonlyUnsignedAccounts:vf(t)},a=[],c=ou(t);for(let m=0;m<c;m++)a.push(new st(au(t,0,Uf)));const u=Ie.encode(au(t,0,Uf)),l=ou(t),d=[];for(let m=0;m<l;m++){const f=vf(t),g=ou(t),b=au(t,0,g),S=ou(t),p=new Uint8Array(au(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=ou(t),h=[];for(let m=0;m<y;m++){const f=new st(au(t,0,Uf)),g=ou(t),b=au(t,0,g),S=ou(t),p=au(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new kS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const hZ={deserializeMessageVersion(n){const e=n[0],t=e&EK;return t===e?"legacy":t},deserialize:n=>{const e=hZ.deserializeMessageVersion(n);if(e==="legacy")return kd.from(n);if(e===0)return kS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let kg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Ret=V.Buffer.alloc(CM).fill(0);class ks{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Gn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ks(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new st(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Nn(f.programIdIndex>=0),f.accounts.forEach(g=>Nn(g>=0))}),new kd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=uZ(r,s.secretKey);this._addSignature(s.publicKey,en(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Nn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):ket(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Wu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Nn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Nn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Nn(i.length<=Hy,`Transaction too large: ${i.length} > ${Hy}`),i}get keys(){return Nn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Nn(this.instructions.length===1),this.instructions[0].programId}get data(){return Nn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=ou(t);let s=[];for(let i=0;i<r;i++){const o=au(t,0,CM);s.push(Ie.encode(V.Buffer.from(o)))}return Gn.populate(kd.from(t),s)}static populate(e,t=[]){const r=new Gn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(Ret)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ks({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class gZ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Nn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Nn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new ks({programId:g,data:en(m.data),keys:f}))}return new gZ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return kd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return kS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class mZ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Nn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(CM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Wu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(Pet(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=ou(t);for(let o=0;o<s;o++)r.push(new Uint8Array(au(t,0,CM)));const i=hZ.deserialize(new Uint8Array(t));return new mZ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Nn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=uZ(t,s.secretKey)}}addSignature(e,t){Nn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Nn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const Cet=160,Met=64,Bet=Cet/Met,AIe=1e3/Bet,sf=new st("SysvarC1ock11111111111111111111111111111111"),zet=new st("SysvarEpochSchedu1e111111111111111111111111"),$et=new st("Sysvar1nstructions1111111111111111111111111"),PD=new st("SysvarRecentB1ockHashes11111111111111111111"),HA=new st("SysvarRent111111111111111111111111111111111"),Det=new st("SysvarRewards111111111111111111111111111111"),Oet=new st("SysvarS1otHashes111111111111111111111111111"),Ket=new st("SysvarS1otHistory11111111111111111111111111"),_D=new st("SysvarStakeHistory1111111111111111111111111");class BM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Let={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Zt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function D9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new BM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function c1(n){return new Promise(e=>setTimeout(e,n))}function Rn(n,e){const t=n.layout.span>=0?n.layout.span:kIe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ns(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const wIe=Ae("lamportsPerSignature"),IIe=F([U("version"),U("state"),Sn("authorizedPubkey"),Sn("nonce"),F([wIe],"feeCalculator")]),O9=IIe.span;class TK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=IIe.decode(en(e),0);return new TK({authorizedPubkey:new st(t.authorizedPubkey),nonce:new st(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Wet=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Net=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Wet(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return um(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},GA=Net(8);class Fet{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Os))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ns(Os.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new st(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ns(Os.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ns(Os.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new st(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ns(Os.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ns(Os.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new st(t),seed:r,space:s,programId:new st(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ns(Os.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new st(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ns(Os.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new st(t),seed:r,programId:new st(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ns(Os.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new st(t),seed:r,lamports:s,space:i,programId:new st(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ns(Os.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new st(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ns(Os.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ns(Os.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ns(Os.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new st(t)}}static checkProgramId(e){if(!e.equals(Na.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Os=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),Sn("programId")])},Assign:{index:1,layout:F([U("instruction"),Sn("programId")])},Transfer:{index:2,layout:F([U("instruction"),GA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),Sn("base"),M1("seed"),_e("lamports"),_e("space"),Sn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),Sn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),Sn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),Sn("base"),M1("seed"),_e("space"),Sn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),Sn("base"),M1("seed"),Sn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),GA("lamports"),M1("seed"),Sn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Na{constructor(){}static createAccount(e){const t=Os.Create,r=Rn(t,{lamports:e.lamports,space:e.space,programId:en(e.programId.toBuffer())});return new ks({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Os.TransferWithSeed;t=Rn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:en(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Os.Transfer;t=Rn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ks({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Os.AssignWithSeed;t=Rn(s,{base:en(e.basePubkey.toBuffer()),seed:e.seed,programId:en(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Os.Assign;t=Rn(s,{programId:en(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ks({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Os.CreateWithSeed,r=Rn(t,{base:en(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:en(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ks({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Gn;"basePubkey"in e&&"seed"in e?t.add(Na.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:O9,programId:this.programId})):t.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:O9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Os.InitializeNonceAccount,r=Rn(t,{authorized:en(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:PD,isSigner:!1,isWritable:!1},{pubkey:HA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ks(s)}static nonceAdvance(e){const t=Os.AdvanceNonceAccount,r=Rn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:PD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ks(s)}static nonceWithdraw(e){const t=Os.WithdrawNonceAccount,r=Rn(t,{lamports:e.lamports});return new ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:PD,isSigner:!1,isWritable:!1},{pubkey:HA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Os.AuthorizeNonceAccount,r=Rn(t,{authorized:en(e.newAuthorizedPubkey.toBuffer())});return new ks({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Os.AllocateWithSeed;t=Rn(s,{base:en(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:en(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Os.Allocate;t=Rn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ks({keys:r,programId:this.programId,data:t})}}Na.programId=new st("11111111111111111111111111111111");const Uet=Hy-300;class vS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/vS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Gn,h.add(Na.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Gn,h.add(Na.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Gn,h.add(Na.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Gn().add(Na.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await D9(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=vS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Gn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(D9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await c1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Gn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:HA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(AIe/2)))}}return!0}}vS.chunkSize=Uet;const Vet=new st("BPFLoader2111111111111111111111111111111111");class qet{static getMinNumSignatures(e){return vS.getMinNumSignatures(e)}static load(e,t,r,s,i){return vS.load(e,t,r,i,s)}}function jet(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qW,Ffe;function Het(){if(Ffe)return qW;Ffe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return qW=function(r){var s=t(r,!1);if(s!==void 0)return""+s},qW}var Get=Het(),Ufe=jet(Get);const xR=32;function jW(n){let e=0;for(;n>1;)n/=2,e++;return e}function Yet(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class PIe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=jW(Yet(e+xR+1))-jW(xR)-1,r=this.getSlotsInEpoch(t),s=e-(r-xR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*xR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+jW(xR)):this.slotsPerEpoch}}var Zet=globalThis.fetch;class Jet extends Bb{constructor(e,t,r){const s=i=>{const o=$b(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Xet(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Vfe=56;class K9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Xet(Qet,e),r=e.length-Vfe;Nn(r>=0,"lookup table is invalid"),Nn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(Sn(),s,"addresses")]).decode(e.slice(Vfe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new st(t.authority[0]):void 0,addresses:i.map(o=>new st(o))}}}const Qet={index:1,layout:F([U("typeIndex"),GA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(Sn(),Vt(te(),-1),"authority")])},ett=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function ttt(n){const e=n.match(ett);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Vi=iz(oZ(st),He(),n=>new st(n)),_Ie=aZ([He(),Ei("base64")]),yZ=iz(oZ(V.Buffer),_Ie,n=>V.Buffer.from(n[0],"base64")),EIe=30*1e3;function rtt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function xs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function qfe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function xIe(n){return Mc([Ce({jsonrpc:Ei("2.0"),id:He(),result:n}),Ce({jsonrpc:Ei("2.0"),id:He(),error:Ce({code:nT(),message:He(),data:fr(ZQe())})})])}const ntt=xIe(nT());function qr(n){return iz(xIe(n),ntt,e=>"error"in e?e:{...e,result:mt(e.result,n)})}function fo(n){return qr(Ce({context:Ce({slot:me()}),value:n}))}function RK(n){return Ce({context:Ce({slot:me()}),value:n})}function HW(n,e){return n===0?new kS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new st(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new kd(e)}const stt=Ce({foundation:me(),foundationTerm:me(),initial:me(),taper:me(),terminal:me()}),itt=qr(wt(Ct(Ce({epoch:me(),effectiveSlot:me(),amount:me(),postBalance:me(),commission:fr(Ct(me()))})))),ott=wt(Ce({slot:me(),prioritizationFee:me()})),att=Ce({total:me(),validator:me(),foundation:me(),epoch:me()}),ctt=Ce({epoch:me(),slotIndex:me(),slotsInEpoch:me(),absoluteSlot:me(),blockHeight:fr(me()),transactionCount:fr(me())}),utt=Ce({slotsPerEpoch:me(),leaderScheduleSlotOffset:me(),warmup:th(),firstNormalEpoch:me(),firstNormalSlot:me()}),ltt=dIe(He(),wt(me())),uk=Ct(Mc([Ce({}),He()])),dtt=Ce({err:uk}),ftt=Ei("receivedSignature"),htt=Ce({"solana-core":He(),"feature-set":fr(me())}),gtt=Ce({program:He(),programId:Vi,parsed:nT()}),mtt=Ce({programId:Vi,accounts:wt(Vi),data:He()}),jfe=fo(Ce({err:Ct(Mc([Ce({}),He()])),logs:Ct(wt(He())),accounts:fr(Ct(wt(Ct(Ce({executable:th(),owner:He(),lamports:me(),data:wt(He()),rentEpoch:fr(me())}))))),unitsConsumed:fr(me()),returnData:fr(Ct(Ce({programId:He(),data:aZ([He(),Ei("base64")])}))),innerInstructions:fr(Ct(wt(Ce({index:me(),instructions:wt(Mc([gtt,mtt]))}))))})),ytt=fo(Ce({byIdentity:dIe(He(),wt(me())),range:Ce({firstSlot:me(),lastSlot:me()})}));function ptt(n,e,t,r,s,i){const o=t||Zet;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new zb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},brt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await c1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function btt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Stt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const ktt=qr(stt),vtt=qr(att),Att=qr(ott),wtt=qr(ctt),Itt=qr(utt),Ptt=qr(ltt),_tt=qr(me()),Ett=fo(Ce({total:me(),circulating:me(),nonCirculating:me(),nonCirculatingAccounts:wt(Vi)})),L9=Ce({amount:He(),uiAmount:Ct(me()),decimals:me(),uiAmountString:fr(He())}),xtt=fo(wt(Ce({address:Vi,amount:He(),uiAmount:Ct(me()),decimals:me(),uiAmountString:fr(He())}))),Ttt=fo(wt(Ce({pubkey:Vi,account:Ce({executable:th(),owner:Vi,lamports:me(),data:yZ,rentEpoch:me()})}))),W9=Ce({program:He(),parsed:nT(),space:me()}),Rtt=fo(wt(Ce({pubkey:Vi,account:Ce({executable:th(),owner:Vi,lamports:me(),data:W9,rentEpoch:me()})}))),Ctt=fo(wt(Ce({lamports:me(),address:Vi}))),zM=Ce({executable:th(),owner:Vi,lamports:me(),data:yZ,rentEpoch:me()}),Mtt=Ce({pubkey:Vi,account:zM}),Btt=iz(Mc([oZ(V.Buffer),W9]),Mc([_Ie,W9]),n=>Array.isArray(n)?mt(n,yZ):n),N9=Ce({executable:th(),owner:Vi,lamports:me(),data:Btt,rentEpoch:me()}),ztt=Ce({pubkey:Vi,account:N9}),$tt=Ce({state:Mc([Ei("active"),Ei("inactive"),Ei("activating"),Ei("deactivating")]),active:me(),inactive:me()}),Dtt=qr(wt(Ce({signature:He(),slot:me(),err:uk,memo:Ct(He()),blockTime:fr(Ct(me()))}))),Ott=qr(wt(Ce({signature:He(),slot:me(),err:uk,memo:Ct(He()),blockTime:fr(Ct(me()))}))),Ktt=Ce({subscription:me(),result:RK(zM)}),Ltt=Ce({pubkey:Vi,account:zM}),Wtt=Ce({subscription:me(),result:RK(Ltt)}),Ntt=Ce({parent:me(),slot:me(),root:me()}),Ftt=Ce({subscription:me(),result:Ntt}),Utt=Mc([Ce({type:Mc([Ei("firstShredReceived"),Ei("completed"),Ei("optimisticConfirmation"),Ei("root")]),slot:me(),timestamp:me()}),Ce({type:Ei("createdBank"),parent:me(),slot:me(),timestamp:me()}),Ce({type:Ei("frozen"),slot:me(),timestamp:me(),stats:Ce({numTransactionEntries:me(),numSuccessfulTransactions:me(),numFailedTransactions:me(),maxTransactionsPerEntry:me()})}),Ce({type:Ei("dead"),slot:me(),timestamp:me(),err:He()})]),Vtt=Ce({subscription:me(),result:Utt}),qtt=Ce({subscription:me(),result:RK(Mc([dtt,ftt]))}),jtt=Ce({subscription:me(),result:me()}),Htt=Ce({pubkey:He(),gossip:Ct(He()),tpu:Ct(He()),rpc:Ct(He()),version:Ct(He())}),Hfe=Ce({votePubkey:He(),nodePubkey:He(),activatedStake:me(),epochVoteAccount:th(),epochCredits:wt(aZ([me(),me(),me()])),commission:me(),lastVote:me(),rootSlot:Ct(me())}),Gtt=qr(Ce({current:wt(Hfe),delinquent:wt(Hfe)})),Ytt=Mc([Ei("processed"),Ei("confirmed"),Ei("finalized")]),Ztt=Ce({slot:me(),confirmations:Ct(me()),err:uk,confirmationStatus:fr(Ytt)}),Jtt=fo(wt(Ct(Ztt))),Xtt=qr(me()),TIe=Ce({accountKey:Vi,writableIndexes:wt(me()),readonlyIndexes:wt(me())}),pZ=Ce({signatures:wt(He()),message:Ce({accountKeys:wt(He()),header:Ce({numRequiredSignatures:me(),numReadonlySignedAccounts:me(),numReadonlyUnsignedAccounts:me()}),instructions:wt(Ce({accounts:wt(me()),data:He(),programIdIndex:me()})),recentBlockhash:He(),addressTableLookups:fr(wt(TIe))})}),RIe=Ce({pubkey:Vi,signer:th(),writable:th(),source:fr(Mc([Ei("transaction"),Ei("lookupTable")]))}),CIe=Ce({accountKeys:wt(RIe),signatures:wt(He())}),MIe=Ce({parsed:nT(),program:He(),programId:Vi}),BIe=Ce({accounts:wt(Vi),data:He(),programId:Vi}),Qtt=Mc([BIe,MIe]),ert=Mc([Ce({parsed:nT(),program:He(),programId:He()}),Ce({accounts:wt(He()),data:He(),programId:He()})]),zIe=iz(Qtt,ert,n=>"accounts"in n?mt(n,BIe):mt(n,MIe)),$Ie=Ce({signatures:wt(He()),message:Ce({accountKeys:wt(RIe),instructions:wt(zIe),recentBlockhash:He(),addressTableLookups:fr(Ct(wt(TIe)))})}),wO=Ce({accountIndex:me(),mint:He(),owner:fr(He()),programId:fr(He()),uiTokenAmount:L9}),DIe=Ce({writable:wt(Vi),readonly:wt(Vi)}),CK=Ce({err:uk,fee:me(),innerInstructions:fr(Ct(wt(Ce({index:me(),instructions:wt(Ce({accounts:wt(me()),data:He(),programIdIndex:me()}))})))),preBalances:wt(me()),postBalances:wt(me()),logMessages:fr(Ct(wt(He()))),preTokenBalances:fr(Ct(wt(wO))),postTokenBalances:fr(Ct(wt(wO))),loadedAddresses:fr(DIe),computeUnitsConsumed:fr(me())}),bZ=Ce({err:uk,fee:me(),innerInstructions:fr(Ct(wt(Ce({index:me(),instructions:wt(zIe)})))),preBalances:wt(me()),postBalances:wt(me()),logMessages:fr(Ct(wt(He()))),preTokenBalances:fr(Ct(wt(wO))),postTokenBalances:fr(Ct(wt(wO))),loadedAddresses:fr(DIe),computeUnitsConsumed:fr(me())}),sT=Mc([Ei(0),Ei("legacy")]),lk=Ce({pubkey:He(),lamports:me(),postBalance:Ct(me()),rewardType:Ct(He()),commission:fr(Ct(me()))}),trt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:pZ,meta:Ct(CK),version:fr(sT)})),rewards:fr(wt(lk)),blockTime:Ct(me()),blockHeight:Ct(me())}))),rrt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),rewards:fr(wt(lk)),blockTime:Ct(me()),blockHeight:Ct(me())}))),nrt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:CIe,meta:Ct(CK),version:fr(sT)})),rewards:fr(wt(lk)),blockTime:Ct(me()),blockHeight:Ct(me())}))),srt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:$Ie,meta:Ct(bZ),version:fr(sT)})),rewards:fr(wt(lk)),blockTime:Ct(me()),blockHeight:Ct(me())}))),irt=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:CIe,meta:Ct(bZ),version:fr(sT)})),rewards:fr(wt(lk)),blockTime:Ct(me()),blockHeight:Ct(me())}))),ort=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),rewards:fr(wt(lk)),blockTime:Ct(me()),blockHeight:Ct(me())}))),art=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),transactions:wt(Ce({transaction:pZ,meta:Ct(CK)})),rewards:fr(wt(lk)),blockTime:Ct(me())}))),Gfe=qr(Ct(Ce({blockhash:He(),previousBlockhash:He(),parentSlot:me(),signatures:wt(He()),blockTime:Ct(me())}))),GW=qr(Ct(Ce({slot:me(),meta:Ct(CK),blockTime:fr(Ct(me())),transaction:pZ,version:fr(sT)}))),A$=qr(Ct(Ce({slot:me(),transaction:$Ie,meta:Ct(bZ),blockTime:fr(Ct(me())),version:fr(sT)}))),crt=fo(Ce({blockhash:He(),feeCalculator:Ce({lamportsPerSignature:me()})})),urt=fo(Ce({blockhash:He(),lastValidBlockHeight:me()})),lrt=fo(th()),drt=Ce({slot:me(),numTransactions:me(),numSlots:me(),samplePeriodSecs:me()}),frt=qr(wt(drt)),hrt=fo(Ct(Ce({feeCalculator:Ce({lamportsPerSignature:me()})}))),grt=qr(He()),mrt=qr(He()),yrt=Ce({err:uk,logs:wt(He()),signature:He()}),prt=Ce({result:RK(yrt),subscription:me()}),brt={"solana-client":"js/1.0.0-maintenance"};class Srt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=xs(l),h=this._buildArgs([],d,void 0,y),m=Ufe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=mt(f,qr(me()));if("error"in g)throw new Zt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=rtt(e),this._rpcWsEndpoint=r||ttt(e),this._rpcClient=ptt(e,s,i,o,a,c),this._rpcRequest=btt(this._rpcClient),this._rpcBatchRequest=Stt(this._rpcClient),this._rpcWebSocket=new Jet(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=mt(o,fo(me()));if("error"in a)throw new Zt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=mt(t,qr(Ct(me())));if("error"in r)throw new Zt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=mt(e,qr(me()));if("error"in t)throw new Zt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=mt(e,_tt);if("error"in t)throw new Zt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=mt(r,Ett);if("error"in s)throw new Zt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=mt(s,fo(L9));if("error"in i)throw new Zt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=mt(s,fo(L9));if("error"in i)throw new Zt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=xs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=mt(c,Ttt);if("error"in u)throw new Zt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=mt(o,Rtt);if("error"in a)throw new Zt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=mt(s,Ctt);if("error"in i)throw new Zt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=mt(s,xtt);if("error"in i)throw new Zt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=mt(o,fo(Ct(zM)));if("error"in a)throw new Zt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=mt(o,fo(Ct(N9)));if("error"in a)throw new Zt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=xs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=mt(a,fo(wt(Ct(N9))));if("error"in c)throw new Zt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=xs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=mt(a,fo(wt(Ct(zM))));if("error"in c)throw new Zt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=xs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=mt(a,qr($tt));if("error"in c)throw new Zt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=xs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:qfe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=wt(Mtt),l=o.withContext===!0?mt(c,fo(u)):mt(c,qr(u));if("error"in l)throw new Zt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=mt(o,qr(wt(ztt)));if("error"in a)throw new Zt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Nn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:kg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:kg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await c1(1e3),i||(h=await y(),i))return;d({__type:kg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===kg.PROCESSED)l=d.response;else throw new dZ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:kg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await c1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===kg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await c1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Cv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Cv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Cv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Cv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:kg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===kg.PROCESSED)a=c.response;else throw new fZ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=mt(e,qr(wt(Htt)));if("error"in t)throw new Zt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=mt(r,Gtt);if("error"in s)throw new Zt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=mt(i,qr(me()));if("error"in o)throw new Zt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=mt(i,qr(He()));if("error"in o)throw new Zt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=mt(s,qr(wt(Vi)));if("error"in i)throw new Zt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Nn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=mt(s,Jtt);if("error"in i)throw new Zt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=mt(i,qr(me()));if("error"in o)throw new Zt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=mt(r,ktt);if("error"in s)throw new Zt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=xs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=mt(a,itt);if("error"in c)throw new Zt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=mt(e,vtt);if("error"in t)throw new Zt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=mt(i,wtt);if("error"in o)throw new Zt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=mt(e,Itt);if("error"in t)throw new Zt(t.error,"failed to get epoch schedule");const r=t.result;return new PIe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=mt(e,Ptt);if("error"in t)throw new Zt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=mt(s,Xtt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=mt(r,crt);if("error"in s)throw new Zt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=mt(t,frt);if("error"in r)throw new Zt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=mt(s,hrt);if("error"in i)throw new Zt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=en(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=mt(i,fo(Ct(me())));if("error"in o)throw new Zt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=mt(s,Att);if("error"in i)throw new Zt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=mt(i,urt);if("error"in o)throw new Zt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=mt(o,lrt);if("error"in a)throw new Zt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=mt(e,qr(htt));if("error"in t)throw new Zt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=mt(e,qr(He()));if("error"in t)throw new Zt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=mt(o,nrt);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(o,rrt);if("error"in a)throw a.error;return a.result}default:{const a=mt(o,trt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:HW(d,u.message)},version:d}))}:null}}}catch(a){throw new Zt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=mt(o,irt);if("error"in a)throw a.error;return a.result}case"none":{const a=mt(o,ort);if("error"in a)throw a.error;return a.result}default:{const a=mt(o,srt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Zt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=mt(i,ytt);if("error"in o)throw new Zt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=mt(o,GW);if("error"in a)throw new Zt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:HW(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=xs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=mt(o,A$);if("error"in a)throw new Zt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=xs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=mt(c,A$);if("error"in u)throw new Zt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=xs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=mt(c,GW);if("error"in u)throw new Zt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:HW(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=mt(s,art);if("error"in i)throw new Zt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new kd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Gn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=mt(i,qr(wt(me())));if("error"in o)throw new Zt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=mt(s,Gfe);if("error"in i)throw new Zt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=mt(s,Gfe);if("error"in i)throw new Zt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=mt(s,GW);if("error"in i)throw new Zt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new kd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Gn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=mt(s,A$);if("error"in i)throw new Zt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=mt(o,A$);if("error"in a)throw new Zt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=mt(i,Dtt);if("error"in o)throw new Zt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=mt(i,Ott);if("error"in o)throw new Zt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new K9({key:e,state:K9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=TK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=mt(r,grt);if("error"in s)throw new Zt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await c1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=EIe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await c1(AIe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=xs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=mt(i,fo(me()));if("error"in o)throw new Zt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=mt(p,jfe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Gn){let m=e;s=new Gn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Gn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=mt(y,jfe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new BM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=en(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=mt(a,mrt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new BM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=mt(e,Ktt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Ufe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Nn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=xs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=mt(e,Wtt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=xs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:qfe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=mt(e,prt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=mt(e,Ftt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=mt(e,Vtt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=mt(e,qtt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=mt(e,jtt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class sA{constructor(e){this._keypair=void 0,this._keypair=e??Lfe()}static generate(){return new sA(Lfe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=AO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new sA({publicKey:r,secretKey:e})}static fromSeed(e){const t=AO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new sA({publicKey:t,secretKey:r})}get publicKey(){return new st(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Dg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),GA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),GA(),we(Sn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class krt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Dg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ns(Dg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ns(Dg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new st(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(SZ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class SZ{constructor(){}static createLookupTable(e){const[t,r]=st.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Dg.CreateLookupTable,i=Rn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Na.programId,isSigner:!1,isWritable:!1}];return[new ks({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Dg.FreezeLookupTable,r=Rn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ks({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Dg.ExtendLookupTable,r=Rn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Na.programId,isSigner:!1,isWritable:!1}),new ks({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Dg.DeactivateLookupTable,r=Rn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ks({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Dg.CloseLookupTable,r=Rn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ks({programId:this.programId,keys:s,data:r})}}SZ.programId=new st("AddressLookupTab1e1111111111111111111111111");class vrt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Af))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ns(Af.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ns(Af.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ns(Af.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ns(Af.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(kZ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Af=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),GA("microLamports")])}});class kZ{constructor(){}static requestUnits(e){const t=Af.RequestUnits,r=Rn(t,e);return new ks({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Af.RequestHeapFrame,r=Rn(t,e);return new ks({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Af.SetComputeUnitLimit,r=Rn(t,e);return new ks({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Af.SetComputeUnitPrice,r=Rn(t,{microLamports:BigInt(e.microLamports)});return new ks({keys:[],programId:this.programId,data:r})}}kZ.programId=new st("ComputeBudget111111111111111111111111111111");const Yfe=64,Zfe=32,Jfe=64,Xfe=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class MK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Nn(t.length===Zfe,`Public Key must be ${Zfe} bytes but received ${t.length} bytes`),Nn(s.length===Jfe,`Signature must be ${Jfe} bytes but received ${s.length} bytes`);const o=Xfe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Xfe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new ks({keys:[],programId:MK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Nn(t.length===Yfe,`Private key must be ${Yfe} bytes but received ${t.length} bytes`);try{const i=sA.fromSecretKey(t),o=i.publicKey.toBytes(),a=uZ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}MK.programId=new st("Ed25519SigVerify111111111111111111111111111");const Art=(n,e)=>{const t=_K.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};_K.utils.isValidPrivateKey;const wrt=_K.getPublicKey,Qfe=32,YW=20,ehe=64,Irt=11,ZW=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class iA{constructor(){}static publicKeyToEthAddress(e){Nn(e.length===ehe,`Public key must be ${ehe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(zfe(en(e))).slice(-YW)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return iA.createInstructionWithEthAddress({ethAddress:iA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Nn(a.length===YW,`Address must be ${YW} bytes but received ${a.length} bytes`);const c=1+Irt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(ZW.span+r.length);return ZW.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:en(s),ethAddress:en(a),recoveryId:i},h),h.fill(en(r),ZW.span),new ks({keys:[],programId:iA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Nn(t.length===Qfe,`Private key must be ${Qfe} bytes but received ${t.length} bytes`);try{const i=en(t),o=wrt(i,!1).slice(1),a=V.Buffer.from(zfe(en(r))),[c,u]=Art(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}iA.programId=new st("KeccakSecp256k11111111111111111111111111111");var OIe;const KIe=new st("StakeConfig11111111111111111111111111111111");class LIe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class oz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}OIe=oz;oz.default=new OIe(0,0,st.default);class Prt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Aa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ns(Aa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new LIe(new st(t.staker),new st(t.withdrawer)),lockup:new oz(r.unixTimestamp,r.epoch,new st(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ns(Aa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ns(Aa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new st(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ns(Aa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new st(i),newAuthorizedPubkey:new st(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ns(Aa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ns(Aa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ns(Aa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ns(Aa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(BK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Aa=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),_et(),Eet()])},Authorize:{index:1,layout:F([U("instruction"),Sn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),Sn("newAuthorized"),U("stakeAuthorizationType"),M1("authoritySeed"),Sn("authorityOwner")])}}),_rt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class BK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||oz.default,o=Aa.Initialize,a=Rn(o,{authorized:{staker:en(r.staker.toBuffer()),withdrawer:en(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:en(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:HA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ks(c)}static createAccountWithSeed(e){const t=new Gn;t.add(Na.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Gn;t.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Aa.Delegate,o=Rn(i);return new Gn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:_D,isSigner:!1,isWritable:!1},{pubkey:KIe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Aa.Authorize,c=Rn(a,{newAuthorized:en(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Gn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Aa.AuthorizeWithSeed,l=Rn(u,{newAuthorized:en(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:en(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:sf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Gn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Aa.Split,a=Rn(o,{lamports:i});return new ks({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Gn;return r.add(Na.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Gn;return u.add(Na.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Na.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Aa.Merge,o=Rn(i);return new Gn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:_D,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Aa.Withdraw,c=Rn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:_D,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Gn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Aa.Deactivate,i=Rn(s);return new Gn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}BK.programId=new st("Stake11111111111111111111111111111111111111");BK.space=200;class WIe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class Ert{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(wf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ns(wf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new WIe(new st(t.nodePubkey),new st(t.authorizedVoter),new st(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ns(wf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new st(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ns(wf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new st(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new st(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ns(wf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(iT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const wf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),xet()])},Authorize:{index:1,layout:F([U("instruction"),Sn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),Tet()])}}),xrt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class iT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=wf.InitializeAccount,o=Rn(i,{voteInit:{nodePubkey:en(s.nodePubkey.toBuffer()),authorizedVoter:en(s.authorizedVoter.toBuffer()),authorizedWithdrawer:en(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:HA,isSigner:!1,isWritable:!1},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ks(a)}static createAccount(e){const t=new Gn;return t.add(Na.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=wf.Authorize,a=Rn(o,{newAuthorized:en(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=wf.AuthorizeWithSeed,u=Rn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:en(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:en(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:sf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Gn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=wf.Withdraw,a=Rn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return iT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=wf.UpdateValidatorIdentity,o=Rn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Gn().add({keys:a,programId:this.programId,data:o})}}iT.programId=new st("Vote111111111111111111111111111111111111111");iT.space=3762;const NIe=new st("Va1idator1nfo111111111111111111111111111111"),Trt=Ce({name:He(),website:fr(He()),details:fr(He()),iconUrl:fr(He()),keybaseUsername:fr(He())});class vZ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(ou(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new st(au(t,0,Uf)),a=vf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(NIe)&&s[1].isSigner){const i=M1().decode(V.Buffer.from(t)),o=JSON.parse(i);return uIe(o,Trt),new vZ(s[1].publicKey,o)}return null}}const Rrt=new st("Vote111111111111111111111111111111111111111"),Crt=F([Sn("nodePubkey"),Sn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),Sn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([Sn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class AZ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=Crt.decode(en(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new AZ({nodePubkey:new st(r.nodePubkey),authorizedWithdrawer:new st(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(Mrt),priorVoters:Brt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function Mrt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new st(n)}}function the({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new st(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function Brt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(the),...n.slice(0,e).map(the)]}const rhe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function zrt(n,e){const t=e===!1?"http":"https";if(!n)return rhe[t].devnet;const r=rhe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function $rt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new BM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Drt=1e9;var Ort=Object.freeze(Object.defineProperty({__proto__:null,Account:wet,AddressLookupTableAccount:K9,AddressLookupTableInstruction:krt,AddressLookupTableProgram:SZ,Authorized:LIe,BLOCKHASH_CACHE_TIMEOUT_MS:EIe,BPF_LOADER_DEPRECATED_PROGRAM_ID:Iet,BPF_LOADER_PROGRAM_ID:Vet,BpfLoader:qet,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Af,ComputeBudgetInstruction:vrt,ComputeBudgetProgram:kZ,Connection:Srt,Ed25519Program:MK,Enum:vet,EpochSchedule:PIe,FeeCalculatorLayout:wIe,Keypair:sA,LAMPORTS_PER_SOL:Drt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Dg,Loader:vS,Lockup:oz,MAX_SEED_LENGTH:SIe,Message:kd,MessageAccountKeys:MM,MessageV0:kS,NONCE_ACCOUNT_LENGTH:O9,NonceAccount:TK,PACKET_DATA_SIZE:Hy,PUBLIC_KEY_LENGTH:Uf,PublicKey:st,SIGNATURE_LENGTH_IN_BYTES:CM,SOLANA_SCHEMA:N2,STAKE_CONFIG_ID:KIe,STAKE_INSTRUCTION_LAYOUTS:Aa,SYSTEM_INSTRUCTION_LAYOUTS:Os,SYSVAR_CLOCK_PUBKEY:sf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:zet,SYSVAR_INSTRUCTIONS_PUBKEY:$et,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:PD,SYSVAR_RENT_PUBKEY:HA,SYSVAR_REWARDS_PUBKEY:Det,SYSVAR_SLOT_HASHES_PUBKEY:Oet,SYSVAR_SLOT_HISTORY_PUBKEY:Ket,SYSVAR_STAKE_HISTORY_PUBKEY:_D,Secp256k1Program:iA,SendTransactionError:BM,SolanaJSONRPCError:Zt,SolanaJSONRPCErrorCode:Let,StakeAuthorizationLayout:_rt,StakeInstruction:Prt,StakeProgram:BK,Struct:lZ,SystemInstruction:Fet,SystemProgram:Na,Transaction:Gn,TransactionExpiredBlockheightExceededError:dZ,TransactionExpiredNonceInvalidError:Cv,TransactionExpiredTimeoutError:fZ,TransactionInstruction:ks,TransactionMessage:gZ,TransactionStatus:kg,VALIDATOR_INFO_KEY:NIe,VERSION_PREFIX_MASK:EK,VOTE_PROGRAM_ID:Rrt,ValidatorInfo:vZ,VersionedMessage:hZ,VersionedTransaction:mZ,VoteAccount:AZ,VoteAuthorizationLayout:xrt,VoteInit:WIe,VoteInstruction:Ert,VoteProgram:iT,clusterApiUrl:zrt,sendAndConfirmRawTransaction:$rt,sendAndConfirmTransaction:D9},Symbol.toStringTag,{value:"Module"})),qs=Td(Ort),wZ={},FIe={};Object.defineProperty(FIe,"__esModule",{value:!0});var UIe={},jp={};function IO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function Krt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function az(n,...e){if(!Krt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function Lrt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");IO(n.outputLen),IO(n.blockLen)}function YA(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function VIe(n,e){az(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const JW=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Wrt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),XW=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Ld=(n,e)=>n<<32-e|n>>>e,nhe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Nrt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function she(n){for(let e=0;e<n.length;e++)n[e]=Nrt(n[e])}function Frt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function zK(n){return typeof n=="string"&&(n=Frt(n)),az(n),n}function Urt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];az(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class IZ{clone(){return this._cloneInto()}}function PZ(n){const e=r=>n().update(zK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function qIe(n=32){if(JW&&typeof JW.getRandomValues=="function")return JW.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function Vrt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const qrt=(n,e,t)=>n&e^~n&t,jrt=(n,e,t)=>n&e^n&t^e&t;class jIe extends IZ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=XW(this.buffer)}update(e){YA(this);const{view:t,buffer:r,blockLen:s}=this;e=zK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=XW(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){YA(this),VIe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;Vrt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=XW(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const w$=BigInt(2**32-1),F9=BigInt(32);function HIe(n,e=!1){return e?{h:Number(n&w$),l:Number(n>>F9&w$)}:{h:Number(n>>F9&w$)|0,l:Number(n&w$)|0}}function GIe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=HIe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const Hrt=(n,e)=>BigInt(n>>>0)<<F9|BigInt(e>>>0),Grt=(n,e,t)=>n>>>t,Yrt=(n,e,t)=>n<<32-t|e>>>t,Zrt=(n,e,t)=>n>>>t|e<<32-t,Jrt=(n,e,t)=>n<<32-t|e>>>t,Xrt=(n,e,t)=>n<<64-t|e>>>t-32,Qrt=(n,e,t)=>n>>>t-32|e<<64-t,ent=(n,e)=>e,tnt=(n,e)=>n,YIe=(n,e,t)=>n<<t|e>>>32-t,ZIe=(n,e,t)=>e<<t|n>>>32-t,JIe=(n,e,t)=>e<<t-32|n>>>64-t,XIe=(n,e,t)=>n<<t-32|e>>>64-t;function rnt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const nnt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),snt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,int=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),ont=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,ant=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),cnt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,unt={fromBig:HIe,split:GIe,toBig:Hrt,shrSH:Grt,shrSL:Yrt,rotrSH:Zrt,rotrSL:Jrt,rotrBH:Xrt,rotrBL:Qrt,rotr32H:ent,rotr32L:tnt,rotlSH:YIe,rotlSL:ZIe,rotlBH:JIe,rotlBL:XIe,add:rnt,add3L:nnt,add3H:snt,add4L:int,add4H:ont,add5H:cnt,add5L:ant};var Dr=unt;const[lnt,dnt]=(()=>Dr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Fm=new Uint32Array(80),Um=new Uint32Array(80);class fnt extends jIe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Fm[p]=e.getUint32(t),Um[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Fm[p-15]|0,w=Um[p-15]|0,A=Dr.rotrSH(I,w,1)^Dr.rotrSH(I,w,8)^Dr.shrSH(I,w,7),_=Dr.rotrSL(I,w,1)^Dr.rotrSL(I,w,8)^Dr.shrSL(I,w,7),E=Fm[p-2]|0,M=Um[p-2]|0,P=Dr.rotrSH(E,M,19)^Dr.rotrBH(E,M,61)^Dr.shrSH(E,M,6),R=Dr.rotrSL(E,M,19)^Dr.rotrBL(E,M,61)^Dr.shrSL(E,M,6),$=Dr.add4L(_,R,Um[p-7],Um[p-16]),z=Dr.add4H($,A,P,Fm[p-7],Fm[p-16]);Fm[p]=z|0,Um[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Dr.rotrSH(d,y,14)^Dr.rotrSH(d,y,18)^Dr.rotrBH(d,y,41),w=Dr.rotrSL(d,y,14)^Dr.rotrSL(d,y,18)^Dr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Dr.add5L(S,w,_,dnt[p],Um[p]),M=Dr.add5H(E,b,I,A,lnt[p],Fm[p]),P=E|0,R=Dr.rotrSH(r,s,28)^Dr.rotrBH(r,s,34)^Dr.rotrBH(r,s,39),$=Dr.rotrSL(r,s,28)^Dr.rotrBL(r,s,34)^Dr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Dr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Dr.add3L(P,$,T);r=Dr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Dr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Dr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Dr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Dr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Dr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Dr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Dr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Dr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Fm.fill(0),Um.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const hnt=PZ(()=>new fnt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _Z=BigInt(0),$K=BigInt(1),gnt=BigInt(2);function AS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function cz(n){if(!AS(n))throw new Error("Uint8Array expected")}function Zg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const mnt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function wS(n){cz(n);let e="";for(let t=0;t<n.length;t++)e+=mnt[n[t]];return e}function QIe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function EZ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Th={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ihe(n){if(n>=Th._0&&n<=Th._9)return n-Th._0;if(n>=Th._A&&n<=Th._F)return n-(Th._A-10);if(n>=Th._a&&n<=Th._f)return n-(Th._a-10)}function ZA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=ihe(n.charCodeAt(i)),a=ihe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function j1(n){return EZ(wS(n))}function oA(n){return cz(n),EZ(wS(Uint8Array.from(n).reverse()))}function JA(n,e){return ZA(n.toString(16).padStart(e*2,"0"))}function $M(n,e){return JA(n,e).reverse()}function ynt(n){return ZA(QIe(n))}function ra(n,e,t){let r;if(typeof e=="string")try{r=ZA(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(AS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function IS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];cz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function pnt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function bnt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const QW=n=>typeof n=="bigint"&&_Z<=n;function DK(n,e,t){return QW(n)&&QW(e)&&QW(t)&&e<=n&&n<t}function Il(n,e,t,r){if(!DK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function Snt(n){let e;for(e=0;n>_Z;n>>=$K,e+=1);return e}function knt(n,e){return n>>BigInt(e)&$K}function vnt(n,e,t){return n|(t?$K:_Z)<<BigInt(e)}const xZ=n=>(gnt<<BigInt(n-1))-$K,eN=n=>new Uint8Array(n),ohe=n=>Uint8Array.from(n);function ePe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=eN(n),s=eN(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=eN())=>{s=a(ohe([0]),d),r=a(),d.length!==0&&(s=a(ohe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return IS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Ant={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||AS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function oT(n,e,t={}){const r=(s,i,o)=>{const a=Ant[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const wnt=()=>{throw new Error("not implemented")};function DM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Int=Object.freeze(Object.defineProperty({__proto__:null,isBytes:AS,abytes:cz,abool:Zg,bytesToHex:wS,numberToHexUnpadded:QIe,hexToNumber:EZ,hexToBytes:ZA,bytesToNumberBE:j1,bytesToNumberLE:oA,numberToBytesBE:JA,numberToBytesLE:$M,numberToVarBytesBE:ynt,ensureBytes:ra,concatBytes:IS,equalBytes:pnt,utf8ToBytes:bnt,inRange:DK,aInRange:Il,bitLen:Snt,bitGet:knt,bitSet:vnt,bitMask:xZ,createHmacDrbg:ePe,validateObject:oT,notImplemented:wnt,memoized:DM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xa=BigInt(0),Oi=BigInt(1),u1=BigInt(2),Pnt=BigInt(3),U9=BigInt(4),ahe=BigInt(5),che=BigInt(8);BigInt(9);BigInt(16);function yi(n,e){const t=n%e;return t>=Xa?t:e+t}function _nt(n,e,t){if(t<=Xa||e<Xa)throw new Error("Expected power/modulo > 0");if(t===Oi)return Xa;let r=Oi;for(;e>Xa;)e&Oi&&(r=r*n%t),n=n*n%t,e>>=Oi;return r}function to(n,e,t){let r=n;for(;e-- >Xa;)r*=r,r%=t;return r}function V9(n,e){if(n===Xa||e<=Xa)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=yi(n,e),r=e,s=Xa,i=Oi;for(;t!==Xa;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Oi)throw new Error("invert: does not exist");return yi(s,e)}function Ent(n){const e=(n-Oi)/u1;let t,r,s;for(t=n-Oi,r=0;t%u1===Xa;t/=u1,r++);for(s=u1;s<n&&_nt(s,e,n)!==n-Oi;s++);if(r===1){const o=(n+Oi)/U9;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Oi)/u1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Oi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function xnt(n){if(n%U9===Pnt){const e=(n+Oi)/U9;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%che===ahe){const e=(n-ahe)/che;return function(r,s){const i=r.mul(s,u1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,u1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return Ent(n)}const Tnt=(n,e)=>(yi(n,e)&Oi)===Oi,Rnt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Cnt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=Rnt.reduce((r,s)=>(r[s]="function",r),e);return oT(n,t)}function Mnt(n,e,t){if(t<Xa)throw new Error("Expected power > 0");if(t===Xa)return n.ONE;if(t===Oi)return e;let r=n.ONE,s=e;for(;t>Xa;)t&Oi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Oi;return r}function Bnt(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function tPe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function rPe(n,e,t=!1,r={}){if(n<=Xa)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=tPe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=xnt(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:xZ(s),ZERO:Xa,ONE:Oi,create:c=>yi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Xa<=c&&c<n},is0:c=>c===Xa,isOdd:c=>(c&Oi)===Oi,neg:c=>yi(-c,n),eql:(c,u)=>c===u,sqr:c=>yi(c*c,n),add:(c,u)=>yi(c+u,n),sub:(c,u)=>yi(c-u,n),mul:(c,u)=>yi(c*u,n),pow:(c,u)=>Mnt(a,c,u),div:(c,u)=>yi(c*V9(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>V9(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>Bnt(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?$M(c,i):JA(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?oA(c):j1(c)}});return Object.freeze(a)}function nPe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function sPe(n){const e=nPe(n);return e+Math.ceil(e/2)}function znt(n,e,t=!1){const r=n.length,s=nPe(e),i=sPe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?j1(n):oA(n),a=yi(o,e-Oi)+Oi;return t?$M(a,s):JA(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $nt=BigInt(0),tN=BigInt(1),rN=new WeakMap,uhe=new WeakMap;function iPe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>$nt;)o&tN&&(a=a.add(c)),c=c.double(),o>>=tN;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=tN);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=uhe.get(i)||1;let u=rN.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&rN.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),uhe.set(i,o),rN.delete(i)}}}function TZ(n){return Cnt(n.Fp),oT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...tPe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ll=BigInt(0),Vc=BigInt(1),I$=BigInt(2),Dnt=BigInt(8),Ont={zip215:!0};function Knt(n){const e=TZ(n);return oT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Lnt(n){const e=Knt(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=I$<<BigInt(a*8)-Vc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Ll}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Zg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){Il("coordinate "+v,k,Ll,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=DM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?Dnt:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Ll,y:Vc};if(L!==Vc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=DM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Vc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(I$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Ll)return this.double();const Ue=l(D*I$*J),Wt=l(W*I$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;Il("scalar",x,Vc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return Il("scalar",x,Ll,r),x===Ll?I:this.equals(I)||x===Vc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Vc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=ra("pointHex",k,O),Zg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=oA(D),N=x?u:t.ORDER;Il("pointHex.y",L,Ll,N);const H=l(L*L),J=l(H-Vc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Vc)===Vc,se=(W&128)!==0;if(!x&&X===Ll&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=$M(x,t.BYTES);return C[C.length-1]|=k&Vc?128:0,C}toHex(){return wS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Vc,l(e.Gx*e.Gy)),S.ZERO=new S(Ll,Vc,Vc,Ll);const{BASE:p,ZERO:I}=S,w=iPe(S,a*8);function A(v){return yi(v,r)}function _(v){return A(oA(v))}function E(v){const k=a;v=ra("private key",v,k);const x=ra("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=IS(...k);return _(i(h(x,ra("context",v),!!s)))}function R(v,k,x={}){v=ra("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);Il("signature.s",N,Ll,r);const H=IS(W,$M(N,t.BYTES));return ra("result",H,a*2)}const $=Ont;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=ra("signature",v,2*D),k=ra("message",k),O!==void 0&&Zg("zip215",O),s&&(k=s(k));const W=oA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RZ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),lhe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Wnt=BigInt(1),dhe=BigInt(2);BigInt(3);const Nnt=BigInt(5),Fnt=BigInt(8);function Unt(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=RZ,a=n*n%i*n%i,c=to(a,dhe,i)*a%i,u=to(c,Wnt,i)*n%i,l=to(u,Nnt,i)*u%i,d=to(l,e,i)*l%i,y=to(d,t,i)*d%i,h=to(y,r,i)*y%i,m=to(h,s,i)*h%i,f=to(m,s,i)*h%i,g=to(f,e,i)*l%i;return{pow_p_5_8:to(g,dhe,i)*n%i,b2:a}}function Vnt(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function qnt(n,e){const t=RZ,r=yi(e*e*e,t),s=yi(r*r*e,t),i=Unt(n*s).pow_p_5_8;let o=yi(n*r*i,t);const a=yi(e*o*o,t),c=o,u=yi(o*lhe,t),l=a===n,d=a===yi(-n,t),y=a===yi(-n*lhe,t);return l&&(o=c),(d||y)&&(o=u),Tnt(o,t)&&(o=yi(-o,t)),{isValid:l||d,value:o}}const jnt=(()=>rPe(RZ,void 0,!0))(),Hnt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:jnt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Fnt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:hnt,randomBytes:qIe,adjustScalarBytes:Vnt,uvRatio:qnt}))(),aT=(()=>Lnt(Hnt))(),Gnt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qm=new Uint32Array(64);class Ynt extends jIe{constructor(){super(64,32,8,!1),this.A=Vm[0]|0,this.B=Vm[1]|0,this.C=Vm[2]|0,this.D=Vm[3]|0,this.E=Vm[4]|0,this.F=Vm[5]|0,this.G=Vm[6]|0,this.H=Vm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)qm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=qm[d-15],h=qm[d-2],m=Ld(y,7)^Ld(y,18)^y>>>3,f=Ld(h,17)^Ld(h,19)^h>>>10;qm[d]=f+qm[d-7]+m+qm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Ld(a,6)^Ld(a,11)^Ld(a,25),h=l+y+qrt(a,c,u)+Gnt[d]+qm[d]|0,f=(Ld(r,2)^Ld(r,13)^Ld(r,22))+jrt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){qm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const q9=PZ(()=>new Ynt);class Znt extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Jnt(n){return uz(n)&&typeof n[Symbol.iterator]=="function"}function uz(n){return typeof n=="object"&&n!=null}function PO(n){return uz(n)&&!Array.isArray(n)}function vd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Xnt(n){const{done:e,value:t}=n.next();return e?void 0:t}function Qnt(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${vd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*fhe(n,e,t,r){Jnt(n)||(n=[n]);for(const s of n){const i=Qnt(s,e,t,r);i&&(yield i)}}function*CZ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=CZ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):uz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class gh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return fhe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return fhe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return oPe(e,this,t)}create(e,t){return yt(e,this,t)}is(e){return aPe(e,this)}mask(e,t){return est(e,this,t)}validate(e,t={}){return lz(e,this,t)}}function oPe(n,e,t){const r=lz(n,e,{message:t});if(r[0])throw r[0]}function yt(n,e,t){const r=lz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function est(n,e,t){const r=lz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function aPe(n,e){return!lz(n,e)[0]}function lz(n,e,t={}){const r=CZ(n,e,t),s=Xnt(r);if(s[0])return[new Znt(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function dk(n,e){return new gh({type:n,schema:null,validator:e})}function tst(){return dk("any",()=>!0)}function It(n){return new gh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${vd(e)}`}})}function rh(){return dk("boolean",n=>typeof n=="boolean")}function MZ(n){return dk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${vd(e)}`)}function xi(n){const e=vd(n),t=typeof n;return new gh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${vd(r)}`}})}function rst(){return dk("never",()=>!1)}function Mt(n){return new gh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function ye(){return dk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${vd(n)}`)}function hr(n){return new gh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function cPe(n,e){return new gh({type:"record",schema:null,*entries(t){if(uz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return PO(t)||`Expected an object, but received: ${vd(t)}`},coercer(t){return PO(t)?{...t}:t}})}function Ge(){return dk("string",n=>typeof n=="string"||`Expected a string, but received: ${vd(n)}`)}function BZ(n){const e=rst();return new gh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${vd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Me(n){const e=Object.keys(n);return new gh({type:"type",schema:n,*entries(t){if(uz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return PO(t)||`Expected an object, but received: ${vd(t)}`},coercer(t){return PO(t)?{...t}:t}})}function Bc(n){const e=n.map(t=>t.type).join(" | ");return new gh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=CZ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${vd(t)}`,...s]}})}function cT(){return dk("unknown",()=>!0)}function dz(n,e,t){return new gh({...n,coercer:(r,s)=>aPe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const uPe=[],lPe=[],dPe=[],nst=BigInt(0),TR=BigInt(1),sst=BigInt(2),ist=BigInt(7),ost=BigInt(256),ast=BigInt(113);for(let n=0,e=TR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],uPe.push(2*(5*r+t)),lPe.push((n+1)*(n+2)/2%64);let s=nst;for(let i=0;i<7;i++)e=(e<<TR^(e>>ist)*ast)%ost,e&sst&&(s^=TR<<(TR<<BigInt(i))-TR);dPe.push(s)}const[cst,ust]=GIe(dPe,!0),hhe=(n,e,t)=>t>32?JIe(n,e,t):YIe(n,e,t),ghe=(n,e,t)=>t>32?XIe(n,e,t):ZIe(n,e,t);function lst(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=hhe(u,l,1)^t[a],y=ghe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=lPe[o],c=hhe(s,i,a),u=ghe(s,i,a),l=uPe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=cst[r],n[1]^=ust[r]}t.fill(0)}class zZ extends IZ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,IO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Wrt(this.state)}keccak(){nhe||she(this.state32),lst(this.state32,this.rounds),nhe||she(this.state32),this.posOut=0,this.pos=0}update(e){YA(this);const{blockLen:t,state:r}=this;e=zK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){YA(this,!1),az(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return IO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(VIe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new zZ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const dst=(n,e,t)=>PZ(()=>new zZ(e,n,t)),mhe=dst(1,136,256/8);class fPe extends IZ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Lrt(e);const r=zK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return YA(this),this.iHash.update(e),this}digestInto(e){YA(this),az(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hPe=(n,e,t)=>new fPe(n,e).update(t).digest();hPe.create=(n,e)=>new fPe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function yhe(n){n.lowS!==void 0&&Zg("lowS",n.lowS),n.prehash!==void 0&&Zg("prehash",n.prehash)}function fst(n){const e=TZ(n);oT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:hst,hexToBytes:gst}=Int,B1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=B1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:hst(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=B1,t=typeof n=="string"?gst(n):n;cz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=B1._parseInt(t.subarray(2)),{d:o,l:a}=B1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},Cy=BigInt(0),ga=BigInt(1);BigInt(2);const phe=BigInt(3);BigInt(4);function mst(n){const e=fst(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return IS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return DK(m,ga,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(AS(m)&&(m=wS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:j1(ra("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=yi(p,S)),Il("private key",p,ga,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=DM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=DM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ra("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,phe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,phe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){Il("scalar",f,Cy,e.n);const g=d.ZERO;if(f===Cy)return g;if(f===ga)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>Cy||w>Cy;)p&ga&&(A=A.add(E)),w&ga&&(_=_.add(E)),E=E.double(),p>>=ga,w>>=ga;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;Il("scalar",f,ga,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===Cy||A===ga||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ga)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ga?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Zg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Zg("isCompressed",f),wS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=iPe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function yst(n){const e=TZ(n);return oT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function pst(n){const e=yst(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return yi(T,r)}function a(T){return V9(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=mst({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=IS;return Zg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=j1(x);if(!DK(C,ga,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&ga)===ga;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>wS(JA(T,e.nByteLength));function h(T){const v=r>>ga;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>j1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ra("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=B1.toSig(ra("DER",v));return new g(k,x)}assertValidity(){Il("r",this.r,ga,r),Il("s",this.s,ga,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(ra("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ZA(this.toDERHex())}toDERHex(){return B1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ZA(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=sPe(e.n);return znt(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=AS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=j1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=xZ(e.nBitLength);function E(T){return Il(`num < 2^${e.nBitLength}`,T,Cy,_),JA(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=ra("msgHash",T),yhe(k),O&&(T=ra("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(ra("extraEntropy",Y))}const H=IS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===Cy)return;const ne=o(re*o(J+ee*L));if(ne===Cy)return;let ve=(se.x===ee?0:2)|Number(se.y&ga),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return ePe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=ra("msgHash",v),k=ra("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");yhe(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||AS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof B1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bst(n){return{hash:n,hmac:(e,...t)=>hPe(n,e,Urt(...t)),randomBytes:qIe}}function Sst(n,e){const t=r=>pst({...n,...bst(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gPe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),bhe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),kst=BigInt(1),j9=BigInt(2),She=(n,e)=>(n+e/j9)/e;function vst(n){const e=gPe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=to(l,t,e)*l%e,y=to(d,t,e)*l%e,h=to(y,j9,e)*u%e,m=to(h,s,e)*h%e,f=to(m,i,e)*m%e,g=to(f,a,e)*f%e,b=to(g,c,e)*g%e,S=to(b,a,e)*f%e,p=to(S,t,e)*l%e,I=to(p,o,e)*m%e,w=to(I,r,e)*u%e,A=to(w,j9,e);if(!H9.eql(H9.sqr(A),n))throw new Error("Cannot find square root");return A}const H9=rPe(gPe,void 0,void 0,{sqrt:vst}),OK=Sst({a:BigInt(0),b:BigInt(7),Fp:H9,n:bhe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=bhe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-kst*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=She(i*n,e),c=She(-r*n,e);let u=yi(n-a*t-c*s,e),l=yi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},q9);BigInt(0);OK.ProjectivePoint;const Ast=aT.utils.randomPrivateKey,khe=()=>{const n=aT.utils.randomPrivateKey(),e=_O(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},_O=aT.getPublicKey;function vhe(n){try{return aT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const $Z=(n,e)=>aT.sign(n,e.slice(0,32)),wst=aT.verify,tn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class DZ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(om(F2,this))}static decode(e){return am(F2,this,e)}static decodeUnchecked(e){return cm(F2,this,e)}}class Ist extends DZ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const F2=new Map;var mPe;const yPe=32,Vf=32;function Pst(n){return n._bn!==void 0}let Ahe=1;class it extends DZ{constructor(e){if(super({}),this._bn=void 0,Pst(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Vf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Vf)throw new Error("Invalid public key input")}}static unique(){const e=new it(Ahe);return Ahe+=1,new it(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Vf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=q9(s);return new it(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>yPe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,tn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=q9(r);if(vhe(s))throw new Error("Invalid seeds, address must fall off the curve");return new it(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new it(e);return vhe(t.toBytes())}}mPe=it;it.default=new mPe("11111111111111111111111111111111");F2.set(it,{kind:"struct",fields:[["_bn","u256"]]});class _st{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=tn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=tn(Ast()),this._publicKey=tn(_O(this._secretKey))}get publicKey(){return new it(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const Est=new it("BPFLoader1111111111111111111111111111111111"),Gy=1280-40-8,KK=127,OM=64;class OZ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(OZ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class KZ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(KZ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Mv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Mv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class KM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const kn=(n="publicKey")=>ie(32,n),xst=(n="signature")=>ie(64,n),z1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},Tst=(n="authorized")=>F([kn("staker"),kn("withdrawer")],n),Rst=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),kn("custodian")],n),Cst=(n="voteInit")=>F([kn("nodePubkey"),kn("authorizedVoter"),kn("authorizedWithdrawer"),te("commission")],n),Mst=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),kn("currentAuthorityDerivedKeyOwnerPubkey"),z1("currentAuthorityDerivedKeySeed"),kn("newAuthorized")],n);function pPe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return pPe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function cu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Nu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Fn(n,e){if(!n)throw new Error(e||"Assertion failed")}class LK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new LK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Fn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Fn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Fn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new it(c)),...r.map(([c])=>new it(c)),...s.map(([c])=>new it(c)),...i.map(([c])=>new it(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new it(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Fn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const bPe="Reached end of buffer unexpectedly";function If(n){if(n.length===0)throw new Error(bPe);return n.shift()}function uu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(bPe);return n.splice(...e)}class Ad{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new it(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new KM(this.staticAccountKeys)}static compile(e){const t=LK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new KM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new Ad({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Nu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Nu(f,y.length);let g=[];return Nu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Nu(s,r.length);let i=V.Buffer.alloc(Gy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(kn("key"),e,"keys"),kn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>tn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=If(t);if(r!==(r&KK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=If(t),i=If(t),o=cu(t);let a=[];for(let y=0;y<o;y++){const h=uu(t,0,Vf);a.push(new it(V.Buffer.from(h)))}const c=uu(t,0,Vf),u=cu(t);let l=[];for(let y=0;y<u;y++){const h=If(t),m=cu(t),f=uu(t,0,m),g=cu(t),b=uu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new Ad(d)}}class PS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new KM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=LK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new KM(a,s).compileInstructions(e.instructions);return new PS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Nu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Nu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Nu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(kn(),this.staticAccountKeys.length,"staticAccountKeys"),kn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Gy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Gy);for(const r of this.compiledInstructions){const s=Array();Nu(s,r.accountKeyIndexes.length);const i=Array();Nu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Gy);for(const r of this.addressTableLookups){const s=Array();Nu(s,r.writableIndexes.length);const i=Array();Nu(i,r.readonlyIndexes.length),e+=F([kn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=If(t),s=r&KK;Fn(r!==s,"Expected versioned message but received legacy message");const i=s;Fn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:If(t),numReadonlySignedAccounts:If(t),numReadonlyUnsignedAccounts:If(t)},a=[],c=cu(t);for(let m=0;m<c;m++)a.push(new it(uu(t,0,Vf)));const u=Ie.encode(uu(t,0,Vf)),l=cu(t),d=[];for(let m=0;m<l;m++){const f=If(t),g=cu(t),b=uu(t,0,g),S=cu(t),p=new Uint8Array(uu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=cu(t),h=[];for(let m=0;m<y;m++){const f=new it(uu(t,0,Vf)),g=cu(t),b=uu(t,0,g),S=cu(t),p=uu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new PS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const LZ={deserializeMessageVersion(n){const e=n[0],t=e&KK;return t===e?"legacy":t},deserialize:n=>{const e=LZ.deserializeMessageVersion(n);if(e==="legacy")return Ad.from(n);if(e===0)return PS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let vg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const Bst=V.Buffer.alloc(OM).fill(0);class vs{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Yn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new vs(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new it(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Fn(f.programIdIndex>=0),f.accounts.forEach(g=>Fn(g>=0))}),new Ad({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=$Z(r,s.secretKey);this._addSignature(s.publicKey,tn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Fn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):wst(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Nu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Fn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Fn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Fn(i.length<=Gy,`Transaction too large: ${i.length} > ${Gy}`),i}get keys(){return Fn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Fn(this.instructions.length===1),this.instructions[0].programId}get data(){return Fn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=cu(t);let s=[];for(let i=0;i<r;i++){const o=uu(t,0,OM);s.push(Ie.encode(V.Buffer.from(o)))}return Yn.populate(Ad.from(t),s)}static populate(e,t=[]){const r=new Yn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(Bst)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new vs({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class WZ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Fn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Fn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new vs({programId:g,data:tn(m.data),keys:f}))}return new WZ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return Ad.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return PS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class NZ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Fn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(OM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Nu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(xst(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=cu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(uu(t,0,OM)));const i=LZ.deserialize(new Uint8Array(t));return new NZ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Fn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=$Z(t,s.secretKey)}}addSignature(e,t){Fn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Fn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const zst=160,$st=64,Dst=zst/$st,SPe=1e3/Dst,of=new it("SysvarC1ock11111111111111111111111111111111"),Ost=new it("SysvarEpochSchedu1e111111111111111111111111"),Kst=new it("Sysvar1nstructions1111111111111111111111111"),ED=new it("SysvarRecentB1ockHashes11111111111111111111"),XA=new it("SysvarRent111111111111111111111111111111111"),Lst=new it("SysvarRewards111111111111111111111111111111"),Wst=new it("SysvarS1otHashes111111111111111111111111111"),Nst=new it("SysvarS1otHistory11111111111111111111111111"),xD=new it("SysvarStakeHistory1111111111111111111111111");class LM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const Fst={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Jt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function G9(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new LM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function l1(n){return new Promise(e=>setTimeout(e,n))}function Cn(n,e){const t=n.layout.span>=0?n.layout.span:pPe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function ss(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const kPe=Ae("lamportsPerSignature"),vPe=F([U("version"),U("state"),kn("authorizedPubkey"),kn("nonce"),F([kPe],"feeCalculator")]),Y9=vPe.span;class WK{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=vPe.decode(tn(e),0);return new WK({authorizedPubkey:new it(t.authorizedPubkey),nonce:new it(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Ust=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Vst=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Ust(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return um(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},QA=Vst(8);class qst{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ks))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=ss(Ks.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new it(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ss(Ks.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=ss(Ks.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new it(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ss(Ks.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=ss(Ks.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(t),seed:r,space:s,programId:new it(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ss(Ks.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new it(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=ss(Ks.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new it(t),seed:r,programId:new it(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=ss(Ks.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new it(t),seed:r,lamports:s,space:i,programId:new it(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ss(Ks.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new it(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ss(Ks.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ss(Ks.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ss(Ks.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new it(t)}}static checkProgramId(e){if(!e.equals(Fa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ks=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),kn("programId")])},Assign:{index:1,layout:F([U("instruction"),kn("programId")])},Transfer:{index:2,layout:F([U("instruction"),QA("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),kn("base"),z1("seed"),_e("lamports"),_e("space"),kn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),kn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),kn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),kn("base"),z1("seed"),_e("space"),kn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),kn("base"),z1("seed"),kn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),QA("lamports"),z1("seed"),kn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Fa{constructor(){}static createAccount(e){const t=Ks.Create,r=Cn(t,{lamports:e.lamports,space:e.space,programId:tn(e.programId.toBuffer())});return new vs({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ks.TransferWithSeed;t=Cn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ks.Transfer;t=Cn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new vs({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ks.AssignWithSeed;t=Cn(s,{base:tn(e.basePubkey.toBuffer()),seed:e.seed,programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ks.Assign;t=Cn(s,{programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vs({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ks.CreateWithSeed,r=Cn(t,{base:tn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:tn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new vs({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Yn;"basePubkey"in e&&"seed"in e?t.add(Fa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Y9,programId:this.programId})):t.add(Fa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Y9,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ks.InitializeNonceAccount,r=Cn(t,{authorized:tn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ED,isSigner:!1,isWritable:!1},{pubkey:XA,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new vs(s)}static nonceAdvance(e){const t=Ks.AdvanceNonceAccount,r=Cn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ED,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new vs(s)}static nonceWithdraw(e){const t=Ks.WithdrawNonceAccount,r=Cn(t,{lamports:e.lamports});return new vs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ED,isSigner:!1,isWritable:!1},{pubkey:XA,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ks.AuthorizeNonceAccount,r=Cn(t,{authorized:tn(e.newAuthorizedPubkey.toBuffer())});return new vs({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ks.AllocateWithSeed;t=Cn(s,{base:tn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:tn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ks.Allocate;t=Cn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new vs({keys:r,programId:this.programId,data:t})}}Fa.programId=new it("11111111111111111111111111111111");const jst=Gy-300;class _S{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/_S.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Yn,h.add(Fa.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Yn,h.add(Fa.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Yn,h.add(Fa.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Yn().add(Fa.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await G9(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=_S.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Yn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(G9(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await l1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Yn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:XA,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(SPe/2)))}}return!0}}_S.chunkSize=jst;const Hst=new it("BPFLoader2111111111111111111111111111111111");class Gst{static getMinNumSignatures(e){return _S.getMinNumSignatures(e)}static load(e,t,r,s,i){return _S.load(e,t,r,i,s)}}function Yst(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var nN,whe;function Zst(){if(whe)return nN;whe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return nN=function(r){var s=t(r,!1);if(s!==void 0)return""+s},nN}var Jst=Zst(),Ihe=Yst(Jst);const RR=32;function sN(n){let e=0;for(;n>1;)n/=2,e++;return e}function Xst(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class APe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=sN(Xst(e+RR+1))-sN(RR)-1,r=this.getSlotsInEpoch(t),s=e-(r-RR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*RR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+sN(RR)):this.slotsPerEpoch}}var Qst=globalThis.fetch;class eit extends Bb{constructor(e,t,r){const s=i=>{const o=$b(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function tit(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Phe=56;class Z9{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=tit(rit,e),r=e.length-Phe;Fn(r>=0,"lookup table is invalid"),Fn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(kn(),s,"addresses")]).decode(e.slice(Phe));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new it(t.authority[0]):void 0,addresses:i.map(o=>new it(o))}}}const rit={index:1,layout:F([U("typeIndex"),QA("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(kn(),Vt(te(),-1),"authority")])},nit=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function sit(n){const e=n.match(nit);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const qi=dz(MZ(it),Ge(),n=>new it(n)),wPe=BZ([Ge(),xi("base64")]),FZ=dz(MZ(V.Buffer),wPe,n=>V.Buffer.from(n[0],"base64")),IPe=30*1e3;function iit(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ts(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function _he(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function PPe(n){return Bc([Me({jsonrpc:xi("2.0"),id:Ge(),result:n}),Me({jsonrpc:xi("2.0"),id:Ge(),error:Me({code:cT(),message:Ge(),data:hr(tst())})})])}const oit=PPe(cT());function jr(n){return dz(PPe(n),oit,e=>"error"in e?e:{...e,result:yt(e.result,n)})}function ho(n){return jr(Me({context:Me({slot:ye()}),value:n}))}function NK(n){return Me({context:Me({slot:ye()}),value:n})}function iN(n,e){return n===0?new PS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new it(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Ad(e)}const ait=Me({foundation:ye(),foundationTerm:ye(),initial:ye(),taper:ye(),terminal:ye()}),cit=jr(It(Mt(Me({epoch:ye(),effectiveSlot:ye(),amount:ye(),postBalance:ye(),commission:hr(Mt(ye()))})))),uit=It(Me({slot:ye(),prioritizationFee:ye()})),lit=Me({total:ye(),validator:ye(),foundation:ye(),epoch:ye()}),dit=Me({epoch:ye(),slotIndex:ye(),slotsInEpoch:ye(),absoluteSlot:ye(),blockHeight:hr(ye()),transactionCount:hr(ye())}),fit=Me({slotsPerEpoch:ye(),leaderScheduleSlotOffset:ye(),warmup:rh(),firstNormalEpoch:ye(),firstNormalSlot:ye()}),hit=cPe(Ge(),It(ye())),fk=Mt(Bc([Me({}),Ge()])),git=Me({err:fk}),mit=xi("receivedSignature"),yit=Me({"solana-core":Ge(),"feature-set":hr(ye())}),pit=Me({program:Ge(),programId:qi,parsed:cT()}),bit=Me({programId:qi,accounts:It(qi),data:Ge()}),Ehe=ho(Me({err:Mt(Bc([Me({}),Ge()])),logs:Mt(It(Ge())),accounts:hr(Mt(It(Mt(Me({executable:rh(),owner:Ge(),lamports:ye(),data:It(Ge()),rentEpoch:hr(ye())}))))),unitsConsumed:hr(ye()),returnData:hr(Mt(Me({programId:Ge(),data:BZ([Ge(),xi("base64")])}))),innerInstructions:hr(Mt(It(Me({index:ye(),instructions:It(Bc([pit,bit]))}))))})),Sit=ho(Me({byIdentity:cPe(Ge(),It(ye())),range:Me({firstSlot:ye(),lastSlot:ye()})}));function kit(n,e,t,r,s,i){const o=t||Qst;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new zb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},vot)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await l1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function vit(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Ait(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const wit=jr(ait),Iit=jr(lit),Pit=jr(uit),_it=jr(dit),Eit=jr(fit),xit=jr(hit),Tit=jr(ye()),Rit=ho(Me({total:ye(),circulating:ye(),nonCirculating:ye(),nonCirculatingAccounts:It(qi)})),J9=Me({amount:Ge(),uiAmount:Mt(ye()),decimals:ye(),uiAmountString:hr(Ge())}),Cit=ho(It(Me({address:qi,amount:Ge(),uiAmount:Mt(ye()),decimals:ye(),uiAmountString:hr(Ge())}))),Mit=ho(It(Me({pubkey:qi,account:Me({executable:rh(),owner:qi,lamports:ye(),data:FZ,rentEpoch:ye()})}))),X9=Me({program:Ge(),parsed:cT(),space:ye()}),Bit=ho(It(Me({pubkey:qi,account:Me({executable:rh(),owner:qi,lamports:ye(),data:X9,rentEpoch:ye()})}))),zit=ho(It(Me({lamports:ye(),address:qi}))),WM=Me({executable:rh(),owner:qi,lamports:ye(),data:FZ,rentEpoch:ye()}),$it=Me({pubkey:qi,account:WM}),Dit=dz(Bc([MZ(V.Buffer),X9]),Bc([wPe,X9]),n=>Array.isArray(n)?yt(n,FZ):n),Q9=Me({executable:rh(),owner:qi,lamports:ye(),data:Dit,rentEpoch:ye()}),Oit=Me({pubkey:qi,account:Q9}),Kit=Me({state:Bc([xi("active"),xi("inactive"),xi("activating"),xi("deactivating")]),active:ye(),inactive:ye()}),Lit=jr(It(Me({signature:Ge(),slot:ye(),err:fk,memo:Mt(Ge()),blockTime:hr(Mt(ye()))}))),Wit=jr(It(Me({signature:Ge(),slot:ye(),err:fk,memo:Mt(Ge()),blockTime:hr(Mt(ye()))}))),Nit=Me({subscription:ye(),result:NK(WM)}),Fit=Me({pubkey:qi,account:WM}),Uit=Me({subscription:ye(),result:NK(Fit)}),Vit=Me({parent:ye(),slot:ye(),root:ye()}),qit=Me({subscription:ye(),result:Vit}),jit=Bc([Me({type:Bc([xi("firstShredReceived"),xi("completed"),xi("optimisticConfirmation"),xi("root")]),slot:ye(),timestamp:ye()}),Me({type:xi("createdBank"),parent:ye(),slot:ye(),timestamp:ye()}),Me({type:xi("frozen"),slot:ye(),timestamp:ye(),stats:Me({numTransactionEntries:ye(),numSuccessfulTransactions:ye(),numFailedTransactions:ye(),maxTransactionsPerEntry:ye()})}),Me({type:xi("dead"),slot:ye(),timestamp:ye(),err:Ge()})]),Hit=Me({subscription:ye(),result:jit}),Git=Me({subscription:ye(),result:NK(Bc([git,mit]))}),Yit=Me({subscription:ye(),result:ye()}),Zit=Me({pubkey:Ge(),gossip:Mt(Ge()),tpu:Mt(Ge()),rpc:Mt(Ge()),version:Mt(Ge())}),xhe=Me({votePubkey:Ge(),nodePubkey:Ge(),activatedStake:ye(),epochVoteAccount:rh(),epochCredits:It(BZ([ye(),ye(),ye()])),commission:ye(),lastVote:ye(),rootSlot:Mt(ye())}),Jit=jr(Me({current:It(xhe),delinquent:It(xhe)})),Xit=Bc([xi("processed"),xi("confirmed"),xi("finalized")]),Qit=Me({slot:ye(),confirmations:Mt(ye()),err:fk,confirmationStatus:hr(Xit)}),eot=ho(It(Mt(Qit))),tot=jr(ye()),_Pe=Me({accountKey:qi,writableIndexes:It(ye()),readonlyIndexes:It(ye())}),UZ=Me({signatures:It(Ge()),message:Me({accountKeys:It(Ge()),header:Me({numRequiredSignatures:ye(),numReadonlySignedAccounts:ye(),numReadonlyUnsignedAccounts:ye()}),instructions:It(Me({accounts:It(ye()),data:Ge(),programIdIndex:ye()})),recentBlockhash:Ge(),addressTableLookups:hr(It(_Pe))})}),EPe=Me({pubkey:qi,signer:rh(),writable:rh(),source:hr(Bc([xi("transaction"),xi("lookupTable")]))}),xPe=Me({accountKeys:It(EPe),signatures:It(Ge())}),TPe=Me({parsed:cT(),program:Ge(),programId:qi}),RPe=Me({accounts:It(qi),data:Ge(),programId:qi}),rot=Bc([RPe,TPe]),not=Bc([Me({parsed:cT(),program:Ge(),programId:Ge()}),Me({accounts:It(Ge()),data:Ge(),programId:Ge()})]),CPe=dz(rot,not,n=>"accounts"in n?yt(n,RPe):yt(n,TPe)),MPe=Me({signatures:It(Ge()),message:Me({accountKeys:It(EPe),instructions:It(CPe),recentBlockhash:Ge(),addressTableLookups:hr(Mt(It(_Pe)))})}),EO=Me({accountIndex:ye(),mint:Ge(),owner:hr(Ge()),programId:hr(Ge()),uiTokenAmount:J9}),BPe=Me({writable:It(qi),readonly:It(qi)}),FK=Me({err:fk,fee:ye(),innerInstructions:hr(Mt(It(Me({index:ye(),instructions:It(Me({accounts:It(ye()),data:Ge(),programIdIndex:ye()}))})))),preBalances:It(ye()),postBalances:It(ye()),logMessages:hr(Mt(It(Ge()))),preTokenBalances:hr(Mt(It(EO))),postTokenBalances:hr(Mt(It(EO))),loadedAddresses:hr(BPe),computeUnitsConsumed:hr(ye())}),VZ=Me({err:fk,fee:ye(),innerInstructions:hr(Mt(It(Me({index:ye(),instructions:It(CPe)})))),preBalances:It(ye()),postBalances:It(ye()),logMessages:hr(Mt(It(Ge()))),preTokenBalances:hr(Mt(It(EO))),postTokenBalances:hr(Mt(It(EO))),loadedAddresses:hr(BPe),computeUnitsConsumed:hr(ye())}),uT=Bc([xi(0),xi("legacy")]),hk=Me({pubkey:Ge(),lamports:ye(),postBalance:Mt(ye()),rewardType:Mt(Ge()),commission:hr(Mt(ye()))}),sot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:UZ,meta:Mt(FK),version:hr(uT)})),rewards:hr(It(hk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),iot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),rewards:hr(It(hk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),oot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:xPe,meta:Mt(FK),version:hr(uT)})),rewards:hr(It(hk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),aot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:MPe,meta:Mt(VZ),version:hr(uT)})),rewards:hr(It(hk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),cot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:xPe,meta:Mt(VZ),version:hr(uT)})),rewards:hr(It(hk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),uot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),rewards:hr(It(hk)),blockTime:Mt(ye()),blockHeight:Mt(ye())}))),lot=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),transactions:It(Me({transaction:UZ,meta:Mt(FK)})),rewards:hr(It(hk)),blockTime:Mt(ye())}))),The=jr(Mt(Me({blockhash:Ge(),previousBlockhash:Ge(),parentSlot:ye(),signatures:It(Ge()),blockTime:Mt(ye())}))),oN=jr(Mt(Me({slot:ye(),meta:Mt(FK),blockTime:hr(Mt(ye())),transaction:UZ,version:hr(uT)}))),P$=jr(Mt(Me({slot:ye(),transaction:MPe,meta:Mt(VZ),blockTime:hr(Mt(ye())),version:hr(uT)}))),dot=ho(Me({blockhash:Ge(),feeCalculator:Me({lamportsPerSignature:ye()})})),fot=ho(Me({blockhash:Ge(),lastValidBlockHeight:ye()})),hot=ho(rh()),got=Me({slot:ye(),numTransactions:ye(),numSlots:ye(),samplePeriodSecs:ye()}),mot=jr(It(got)),yot=ho(Mt(Me({feeCalculator:Me({lamportsPerSignature:ye()})}))),pot=jr(Ge()),bot=jr(Ge()),Sot=Me({err:fk,logs:It(Ge()),signature:Ge()}),kot=Me({result:NK(Sot),subscription:ye()}),vot={"solana-client":"js/1.0.0-maintenance"};class Aot{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ts(l),h=this._buildArgs([],d,void 0,y),m=Ihe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=yt(f,jr(ye()));if("error"in g)throw new Jt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=iit(e),this._rpcWsEndpoint=r||sit(e),this._rpcClient=kit(e,s,i,o,a,c),this._rpcRequest=vit(this._rpcClient),this._rpcBatchRequest=Ait(this._rpcClient),this._rpcWebSocket=new eit(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=yt(o,ho(ye()));if("error"in a)throw new Jt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=yt(t,jr(Mt(ye())));if("error"in r)throw new Jt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=yt(e,jr(ye()));if("error"in t)throw new Jt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=yt(e,Tit);if("error"in t)throw new Jt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=yt(r,Rit);if("error"in s)throw new Jt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=yt(s,ho(J9));if("error"in i)throw new Jt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=yt(s,ho(J9));if("error"in i)throw new Jt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ts(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=yt(c,Mit);if("error"in u)throw new Jt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=yt(o,Bit);if("error"in a)throw new Jt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=yt(s,zit);if("error"in i)throw new Jt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=yt(s,Cit);if("error"in i)throw new Jt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=yt(o,ho(Mt(WM)));if("error"in a)throw new Jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=yt(o,ho(Mt(Q9)));if("error"in a)throw new Jt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=yt(a,ho(It(Mt(Q9))));if("error"in c)throw new Jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=yt(a,ho(It(Mt(WM))));if("error"in c)throw new Jt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ts(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=yt(a,jr(Kit));if("error"in c)throw new Jt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ts(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:_he(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=It($it),l=o.withContext===!0?yt(c,ho(u)):yt(c,jr(u));if("error"in l)throw new Jt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=yt(o,jr(It(Oit)));if("error"in a)throw new Jt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Fn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:vg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:vg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await l1(1e3),i||(h=await y(),i))return;d({__type:vg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===vg.PROCESSED)l=d.response;else throw new OZ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:vg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await l1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===vg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await l1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Mv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Mv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Mv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Mv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:vg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===vg.PROCESSED)a=c.response;else throw new KZ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=yt(e,jr(It(Zit)));if("error"in t)throw new Jt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=yt(r,Jit);if("error"in s)throw new Jt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=yt(i,jr(ye()));if("error"in o)throw new Jt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=yt(i,jr(Ge()));if("error"in o)throw new Jt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=yt(s,jr(It(qi)));if("error"in i)throw new Jt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Fn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=yt(s,eot);if("error"in i)throw new Jt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=yt(i,jr(ye()));if("error"in o)throw new Jt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=yt(r,wit);if("error"in s)throw new Jt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ts(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=yt(a,cit);if("error"in c)throw new Jt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=yt(e,Iit);if("error"in t)throw new Jt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=yt(i,_it);if("error"in o)throw new Jt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=yt(e,Eit);if("error"in t)throw new Jt(t.error,"failed to get epoch schedule");const r=t.result;return new APe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=yt(e,xit);if("error"in t)throw new Jt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=yt(s,tot);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=yt(r,dot);if("error"in s)throw new Jt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=yt(t,mot);if("error"in r)throw new Jt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=yt(s,yot);if("error"in i)throw new Jt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=tn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=yt(i,ho(Mt(ye())));if("error"in o)throw new Jt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=yt(s,Pit);if("error"in i)throw new Jt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=yt(i,fot);if("error"in o)throw new Jt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=yt(o,hot);if("error"in a)throw new Jt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=yt(e,jr(yit));if("error"in t)throw new Jt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=yt(e,jr(Ge()));if("error"in t)throw new Jt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=yt(o,oot);if("error"in a)throw a.error;return a.result}case"none":{const a=yt(o,iot);if("error"in a)throw a.error;return a.result}default:{const a=yt(o,sot);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:iN(d,u.message)},version:d}))}:null}}}catch(a){throw new Jt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=yt(o,cot);if("error"in a)throw a.error;return a.result}case"none":{const a=yt(o,uot);if("error"in a)throw a.error;return a.result}default:{const a=yt(o,aot);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Jt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=yt(i,Sit);if("error"in o)throw new Jt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=yt(o,oN);if("error"in a)throw new Jt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:iN(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ts(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=yt(o,P$);if("error"in a)throw new Jt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=yt(c,P$);if("error"in u)throw new Jt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ts(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=yt(c,oN);if("error"in u)throw new Jt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:iN(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=yt(s,lot);if("error"in i)throw new Jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Ad(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Yn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=yt(i,jr(It(ye())));if("error"in o)throw new Jt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=yt(s,The);if("error"in i)throw new Jt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=yt(s,The);if("error"in i)throw new Jt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=yt(s,oN);if("error"in i)throw new Jt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Ad(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Yn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=yt(s,P$);if("error"in i)throw new Jt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=yt(o,P$);if("error"in a)throw new Jt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=yt(i,Lit);if("error"in o)throw new Jt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=yt(i,Wit);if("error"in o)throw new Jt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new Z9({key:e,state:Z9.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=WK.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=yt(r,pot);if("error"in s)throw new Jt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await l1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=IPe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await l1(SPe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ts(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=yt(i,ho(ye()));if("error"in o)throw new Jt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=yt(p,Ehe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Yn){let m=e;s=new Yn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Yn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=yt(y,Ehe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new LM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=tn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=yt(a,bot);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new LM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=yt(e,Nit);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Ihe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Fn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ts(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=yt(e,Uit);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ts(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:_he(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=yt(e,kot);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=yt(e,qit);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=yt(e,Hit);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=yt(e,Git);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=yt(e,Yit);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class aA{constructor(e){this._keypair=void 0,this._keypair=e??khe()}static generate(){return new aA(khe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=_O(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new aA({publicKey:r,secretKey:e})}static fromSeed(e){const t=_O(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new aA({publicKey:t,secretKey:r})}get publicKey(){return new it(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Og=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),QA("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),QA(),we(kn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class wot{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Og))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ss(Og.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=ss(Og.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new it(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(qZ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class qZ{constructor(){}static createLookupTable(e){const[t,r]=it.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Og.CreateLookupTable,i=Cn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Fa.programId,isSigner:!1,isWritable:!1}];return[new vs({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Og.FreezeLookupTable,r=Cn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new vs({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Og.ExtendLookupTable,r=Cn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Fa.programId,isSigner:!1,isWritable:!1}),new vs({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Og.DeactivateLookupTable,r=Cn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new vs({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Og.CloseLookupTable,r=Cn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new vs({programId:this.programId,keys:s,data:r})}}qZ.programId=new it("AddressLookupTab1e1111111111111111111111111");class Iot{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Pf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=ss(Pf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ss(Pf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ss(Pf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ss(Pf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(jZ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Pf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),QA("microLamports")])}});class jZ{constructor(){}static requestUnits(e){const t=Pf.RequestUnits,r=Cn(t,e);return new vs({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Pf.RequestHeapFrame,r=Cn(t,e);return new vs({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Pf.SetComputeUnitLimit,r=Cn(t,e);return new vs({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Pf.SetComputeUnitPrice,r=Cn(t,{microLamports:BigInt(e.microLamports)});return new vs({keys:[],programId:this.programId,data:r})}}jZ.programId=new it("ComputeBudget111111111111111111111111111111");const Rhe=64,Che=32,Mhe=64,Bhe=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class UK{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Fn(t.length===Che,`Public Key must be ${Che} bytes but received ${t.length} bytes`),Fn(s.length===Mhe,`Signature must be ${Mhe} bytes but received ${s.length} bytes`);const o=Bhe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return Bhe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new vs({keys:[],programId:UK.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Fn(t.length===Rhe,`Private key must be ${Rhe} bytes but received ${t.length} bytes`);try{const i=aA.fromSecretKey(t),o=i.publicKey.toBytes(),a=$Z(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}UK.programId=new it("Ed25519SigVerify111111111111111111111111111");const Pot=(n,e)=>{const t=OK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};OK.utils.isValidPrivateKey;const _ot=OK.getPublicKey,zhe=32,aN=20,$he=64,Eot=11,cN=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class cA{constructor(){}static publicKeyToEthAddress(e){Fn(e.length===$he,`Public key must be ${$he} bytes but received ${e.length} bytes`);try{return V.Buffer.from(mhe(tn(e))).slice(-aN)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return cA.createInstructionWithEthAddress({ethAddress:cA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Fn(a.length===aN,`Address must be ${aN} bytes but received ${a.length} bytes`);const c=1+Eot,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(cN.span+r.length);return cN.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:tn(s),ethAddress:tn(a),recoveryId:i},h),h.fill(tn(r),cN.span),new vs({keys:[],programId:cA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Fn(t.length===zhe,`Private key must be ${zhe} bytes but received ${t.length} bytes`);try{const i=tn(t),o=_ot(i,!1).slice(1),a=V.Buffer.from(mhe(tn(r))),[c,u]=Pot(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}cA.programId=new it("KeccakSecp256k11111111111111111111111111111");var zPe;const $Pe=new it("StakeConfig11111111111111111111111111111111");class DPe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class fz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}zPe=fz;fz.default=new zPe(0,0,it.default);class xot{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(wa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=ss(wa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new DPe(new it(t.staker),new it(t.withdrawer)),lockup:new fz(r.unixTimestamp,r.epoch,new it(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ss(wa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=ss(wa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=ss(wa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new it(i),newAuthorizedPubkey:new it(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ss(wa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ss(wa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ss(wa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ss(wa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(VK.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const wa=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),Tst(),Rst()])},Authorize:{index:1,layout:F([U("instruction"),kn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),kn("newAuthorized"),U("stakeAuthorizationType"),z1("authoritySeed"),kn("authorityOwner")])}}),Tot=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class VK{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||fz.default,o=wa.Initialize,a=Cn(o,{authorized:{staker:tn(r.staker.toBuffer()),withdrawer:tn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:tn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:XA,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new vs(c)}static createAccountWithSeed(e){const t=new Yn;t.add(Fa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Yn;t.add(Fa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=wa.Delegate,o=Cn(i);return new Yn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:xD,isSigner:!1,isWritable:!1},{pubkey:$Pe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=wa.Authorize,c=Cn(a,{newAuthorized:tn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Yn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=wa.AuthorizeWithSeed,l=Cn(u,{newAuthorized:tn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:tn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:of,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Yn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=wa.Split,a=Cn(o,{lamports:i});return new vs({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Yn;return r.add(Fa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Yn;return u.add(Fa.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Fa.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=wa.Merge,o=Cn(i);return new Yn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:xD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=wa.Withdraw,c=Cn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:xD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Yn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=wa.Deactivate,i=Cn(s);return new Yn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}VK.programId=new it("Stake11111111111111111111111111111111111111");VK.space=200;class OPe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class Rot{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(_f))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ss(_f.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new OPe(new it(t.nodePubkey),new it(t.authorizedVoter),new it(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=ss(_f.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new it(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=ss(_f.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new it(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new it(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ss(_f.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(lT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const _f=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),Cst()])},Authorize:{index:1,layout:F([U("instruction"),kn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),Mst()])}}),Cot=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class lT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=_f.InitializeAccount,o=Cn(i,{voteInit:{nodePubkey:tn(s.nodePubkey.toBuffer()),authorizedVoter:tn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:tn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:XA,isSigner:!1,isWritable:!1},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new vs(a)}static createAccount(e){const t=new Yn;return t.add(Fa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=_f.Authorize,a=Cn(o,{newAuthorized:tn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=_f.AuthorizeWithSeed,u=Cn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:tn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:tn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:of,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Yn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=_f.Withdraw,a=Cn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return lT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=_f.UpdateValidatorIdentity,o=Cn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Yn().add({keys:a,programId:this.programId,data:o})}}lT.programId=new it("Vote111111111111111111111111111111111111111");lT.space=3762;const KPe=new it("Va1idator1nfo111111111111111111111111111111"),Mot=Me({name:Ge(),website:hr(Ge()),details:hr(Ge()),iconUrl:hr(Ge()),keybaseUsername:hr(Ge())});class HZ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(cu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new it(uu(t,0,Vf)),a=If(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(KPe)&&s[1].isSigner){const i=z1().decode(V.Buffer.from(t)),o=JSON.parse(i);return oPe(o,Mot),new HZ(s[1].publicKey,o)}return null}}const Bot=new it("Vote111111111111111111111111111111111111111"),zot=F([kn("nodePubkey"),kn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),kn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([kn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class GZ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=zot.decode(tn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new GZ({nodePubkey:new it(r.nodePubkey),authorizedWithdrawer:new it(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map($ot),priorVoters:Dot(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function $ot({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new it(n)}}function Dhe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new it(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function Dot({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Dhe),...n.slice(0,e).map(Dhe)]}const Ohe={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Oot(n,e){const t=e===!1?"http":"https";if(!n)return Ohe[t].devnet;const r=Ohe[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Kot(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new LM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const Lot=1e9;var Wot=Object.freeze(Object.defineProperty({__proto__:null,Account:_st,AddressLookupTableAccount:Z9,AddressLookupTableInstruction:wot,AddressLookupTableProgram:qZ,Authorized:DPe,BLOCKHASH_CACHE_TIMEOUT_MS:IPe,BPF_LOADER_DEPRECATED_PROGRAM_ID:Est,BPF_LOADER_PROGRAM_ID:Hst,BpfLoader:Gst,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Pf,ComputeBudgetInstruction:Iot,ComputeBudgetProgram:jZ,Connection:Aot,Ed25519Program:UK,Enum:Ist,EpochSchedule:APe,FeeCalculatorLayout:kPe,Keypair:aA,LAMPORTS_PER_SOL:Lot,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Og,Loader:_S,Lockup:fz,MAX_SEED_LENGTH:yPe,Message:Ad,MessageAccountKeys:KM,MessageV0:PS,NONCE_ACCOUNT_LENGTH:Y9,NonceAccount:WK,PACKET_DATA_SIZE:Gy,PUBLIC_KEY_LENGTH:Vf,PublicKey:it,SIGNATURE_LENGTH_IN_BYTES:OM,SOLANA_SCHEMA:F2,STAKE_CONFIG_ID:$Pe,STAKE_INSTRUCTION_LAYOUTS:wa,SYSTEM_INSTRUCTION_LAYOUTS:Ks,SYSVAR_CLOCK_PUBKEY:of,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Ost,SYSVAR_INSTRUCTIONS_PUBKEY:Kst,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:ED,SYSVAR_RENT_PUBKEY:XA,SYSVAR_REWARDS_PUBKEY:Lst,SYSVAR_SLOT_HASHES_PUBKEY:Wst,SYSVAR_SLOT_HISTORY_PUBKEY:Nst,SYSVAR_STAKE_HISTORY_PUBKEY:xD,Secp256k1Program:cA,SendTransactionError:LM,SolanaJSONRPCError:Jt,SolanaJSONRPCErrorCode:Fst,StakeAuthorizationLayout:Tot,StakeInstruction:xot,StakeProgram:VK,Struct:DZ,SystemInstruction:qst,SystemProgram:Fa,Transaction:Yn,TransactionExpiredBlockheightExceededError:OZ,TransactionExpiredNonceInvalidError:Mv,TransactionExpiredTimeoutError:KZ,TransactionInstruction:vs,TransactionMessage:WZ,TransactionStatus:vg,VALIDATOR_INFO_KEY:KPe,VERSION_PREFIX_MASK:KK,VOTE_PROGRAM_ID:Bot,ValidatorInfo:HZ,VersionedMessage:LZ,VersionedTransaction:NZ,VoteAccount:GZ,VoteAuthorizationLayout:Cot,VoteInit:OPe,VoteInstruction:Rot,VoteProgram:lT,clusterApiUrl:Oot,sendAndConfirmRawTransaction:Kot,sendAndConfirmTransaction:G9},Symbol.toStringTag,{value:"Module"})),dT=Td(Wot),Not=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Fot=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Khe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},eq;Object.defineProperty(jp,"__esModule",{value:!0});jp.CraftableItem=jp.craftableItemDataEquals=void 0;const Lhe=sl,tq=dT,rq=tr,Uot=Cx.exports;function Vot(n,e){return n.version===e.version&&n.bump===e.bump&&(0,Uot.isEqual)(n.namespace,e.namespace)&&n.domain.equals(e.domain)&&n.mint.equals(e.mint)}jp.craftableItemDataEquals=Vot;let NM=eq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return tq.PublicKey.findProgramAddressSync([Xe.Buffer.from("CraftableItem"),t.toBuffer(),r.toBuffer()],e.programId)}static registerCraftableItem(e,t,r,s,i,o){return a=>Khe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerCraftableItem(o).accountsStrict({key:t.publicKey(),profile:r,funder:a.publicKey(),craftableItem:this.findAddress(e,s,i)[0],domain:s,mint:i,systemProgram:tq.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static fundCraftableItemBank(e,t,r,s,i){const o=(0,Lhe.getAssociatedTokenAddressSync)(t,e,!0);return(0,rq.transferToTokenAccount)(r,s,o,i)}static drainCraftableItemBank(e,t,r,s,i,o,a,c,u){return l=>Khe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainCraftableItemBank(u).accountsStrict({key:r.publicKey(),profile:s,fundsTo:i==="funder"?l.publicKey():i,craftableItem:t,domain:o,tokenFrom:a,tokenTo:c,tokenProgram:Lhe.TOKEN_PROGRAM_ID}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,rq.decodeAccount)(e,t,eq)}};jp.CraftableItem=NM;NM.ACCOUNT_NAME="craftableItem";NM.MIN_DATA_SIZE=8+1+32+32+32+32+1;jp.CraftableItem=NM=eq=Not([(0,rq.staticImplements)(),Fot("design:paramtypes",[Object,tq.PublicKey])],NM);var YZ={};(function(n){var e=K&&K.__decorate||function(l,d,y,h){var m=arguments.length,f=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,y):h,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,d,y,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(f=(m<3?g(f):m>3?g(d,y,f):g(d,y))||f);return m>3&&f&&Object.defineProperty(d,y,f),f},t=K&&K.__metadata||function(l,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,d)},r=K&&K.__awaiter||function(l,d,y,h){function m(f){return f instanceof y?f:new y(function(g){g(f)})}return new(y||(y=Promise))(function(f,g){function b(I){try{p(h.next(I))}catch(w){g(w)}}function S(I){try{p(h.throw(I))}catch(w){g(w)}}function p(I){I.done?f(I.value):m(I.value).then(b,S)}p((h=h.apply(l,d||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CraftingFacility=n.craftingFacilityDataEquals=n.CRAFTING_FACILITY_MIN_DATA_SIZE=n.CraftingFacilityLocationType=void 0;const i=dT,o=tr;var a;(function(l){l[l.Starbase=0]="Starbase"})(a||(n.CraftingFacilityLocationType=a={})),n.CRAFTING_FACILITY_MIN_DATA_SIZE=8+1+32+32+1+4+4+4+4;function c(l,d){return l.version===d.version&&l.locationType===d.locationType&&l.maxConcurrentProcesses===d.maxConcurrentProcesses&&l.numConcurrentProcesses===d.numConcurrentProcesses&&l.efficiency===d.efficiency&&l.numRecipeCategories===d.numRecipeCategories&&l.domain.equals(d.domain)&&l.location.equals(d.location)}n.craftingFacilityDataEquals=c;let u=s=class{constructor(d,y,h){this._data=d,this._key=y,this._recipeCategories=h}get data(){return this._data}get key(){return this._key}get recipeCategories(){return this._recipeCategories||[]}static registerCraftingFacility(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.registerCraftingFacility(Object.assign(Object.assign({},b),{locationType:(0,o.getAnchorEnum)(a,b.locationType)})).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y.publicKey(),domain:f,location:g,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S,y]}]})}static updateCraftingFacility(d,y,h,m,f,g){const b=Object.assign(Object.assign({},g),{efficiency:g.efficiency==null?null:g.efficiency,maxConcurrentProcesses:g.maxConcurrentProcesses==null?null:g.maxConcurrentProcesses});return()=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.updateCraftingFacility(b).accountsStrict({key:h.publicKey(),profile:m,craftingFacility:y,domain:f}).instruction(),signers:[h]}]})}static addCraftingFacilityRecipeCategory(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.addCraftingFacilityRecipeCategory(b).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y,recipeCategory:g,domain:f,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S]}]})}static removeCraftingFacilityRecipeCategory(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.removeCraftingFacilityRecipeCategory(b).accountsStrict({key:h.publicKey(),profile:m,funder:S.publicKey(),craftingFacility:y,recipeCategory:g,domain:f,systemProgram:i.SystemProgram.programId}).instruction(),signers:[h,S]}]})}static deregisterCraftingFacility(d,y,h,m,f,g,b){return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.deregisterCraftingFacility(b).accountsStrict({key:h.publicKey(),profile:m,fundsTo:f==="funder"?S.publicKey():f,craftingFacility:y,domain:g}).instruction(),signers:[h]}]})}static decodeData(d,y){return(0,o.decodeAccountWithRemaining)(d,y,s,(h,m)=>Array(m.numRecipeCategories).fill(0).map((f,g)=>y.coder.types.decode("WrappedRecipeCategory",h.subarray(32*g).subarray(0,32)).id))}};n.CraftingFacility=u,u.ACCOUNT_NAME="craftingFacility",u.MIN_DATA_SIZE=n.CRAFTING_FACILITY_MIN_DATA_SIZE,n.CraftingFacility=u=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],u)})(YZ);var qf={},qot=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},jot=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Wl=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},nq;Object.defineProperty(qf,"__esModule",{value:!0});qf.CraftingProcess=qf.craftingProcessDataEquals=qf.CraftingProcessStatus=void 0;const Rh=sl,TD=dT,xO=tr;var Whe;(function(n){n[n.Initialized=0]="Initialized",n[n.Started=1]="Started",n[n.Completed=2]="Completed"})(Whe||(qf.CraftingProcessStatus=Whe={}));function Hot(n,e){return n.version===e.version&&n.craftingId.eq(e.craftingId)&&n.authority.equals(e.authority)&&n.recipe.equals(e.recipe)&&n.craftingFacility.equals(e.craftingFacility)&&(0,xO.arrayDeepEquals)(n.inputsChecksum,e.inputsChecksum,(t,r)=>t===r)&&(0,xO.arrayDeepEquals)(n.outputsChecksum,e.outputsChecksum,(t,r)=>t===r)&&n.quantity.eq(e.quantity)&&n.status===e.status&&n.startTime.eq(e.startTime)&&n.endTime.eq(e.endTime)&&n.denyPermissionlessClaiming===e.denyPermissionlessClaiming&&n.useLocalTime===e.useLocalTime&&n.bump===e.bump}qf.craftingProcessDataEquals=Hot;let FM=nq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static getCargoPodSeeds(){return TD.Keypair.generate().publicKey.toBuffer()}static findAddress(e,t,r,s){return TD.PublicKey.findProgramAddressSync([Xe.Buffer.from("CraftingProcess"),t.toBuffer(),r.toBuffer(),s.toArrayLike(Xe.Buffer,"le",8)],e.programId)}static createCraftingProcess(e,t,r,s,i,o){const a=this.findAddress(e,s,i,o.craftingId)[0];return c=>Wl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.createCraftingProcess(o).accountsStrict({location:t.publicKey(),authority:r.publicKey(),funder:c.publicKey(),craftingProcess:a,recipe:i,craftingFacility:s,systemProgram:TD.SystemProgram.programId}).instruction(),signers:[t,r,c]}]})}static addRecipeIngredient(e,t,r,s,i,o,a,c,u){return()=>Wl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addRecipeIngredient(u).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenFrom:a,tokenTo:c,tokenProgram:Rh.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static legitimizeRecipeIngredient(e,t,r,s,i,o,a,c){return()=>Wl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.legitimizeRecipeIngredient(c).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenTo:a,tokenProgram:Rh.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static removeRecipeIngredient(e,t,r,s,i,o,a,c,u,l){return()=>Wl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeRecipeIngredient(l).accountsStrict({location:t.publicKey(),authority:r.publicKey(),craftingProcess:s,recipe:i,craftingFacility:o,tokenFrom:a,tokenTo:c,mint:u,tokenProgram:Rh.TOKEN_PROGRAM_ID}).instruction(),signers:[t,r]}]})}static startCraftingProcess(e,t,r,s,i,o,a,c,u,l){const d=[t],y=[];return a&&c&&u&&l&&(d.map(h=>h.publicKey().toBase58()).includes(c.publicKey().toBase58())||d.push(c),y.push({pubkey:a,isSigner:!1,isWritable:!1},{pubkey:c.publicKey(),isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:Rh.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>Wl(this,void 0,void 0,function*(){var h,m;return[{instruction:yield e.methods.startCraftingProcess({recipeDurationOverride:(h=o==null?void 0:o.recipeDurationOverride)!==null&&h!==void 0?h:null,localTime:(m=o==null?void 0:o.localTime)!==null&&m!==void 0?m:null}).accountsStrict({location:t.publicKey(),craftingProcess:r,recipe:s,craftingFacility:i}).remainingAccounts(y).instruction(),signers:d}]})}static stopCraftingProcess(e,t,r,s,i,o,a,c){const u=[t],l=[];return a&&c&&l.push({pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Rh.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),()=>Wl(this,void 0,void 0,function*(){var d;return[{instruction:yield e.methods.stopCraftingProcess({localTime:(d=o==null?void 0:o.localTime)!==null&&d!==void 0?d:null}).accountsStrict({location:t.publicKey(),craftingProcess:r,recipe:s,craftingFacility:i}).remainingAccounts(l).instruction(),signers:u}]})}static cancelCraftingProcess(e,t,r,s,i,o){return a=>Wl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.cancelCraftingProcess().accountsStrict({location:t.publicKey(),authority:r.publicKey(),fundsTo:s==="funder"?a.publicKey():s,craftingProcess:i,craftingFacility:o}).instruction(),signers:[t,r]}]})}static burnConsumableIngredient(e,t,r,s,i,o){return()=>Wl(this,void 0,void 0,function*(){var a;return[{instruction:yield e.methods.burnConsumableIngredient(Object.assign(Object.assign({},o),{localTime:(a=o.localTime)!==null&&a!==void 0?a:null})).accountsStrict({craftingProcess:t,recipe:r,tokenFrom:s,mint:i,tokenProgram:Rh.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimNonConsumableIngredient(e,t,r,s,i,o,a,c){return()=>Wl(this,void 0,void 0,function*(){var u;return[{instruction:yield e.methods.claimNonConsumableIngredient(Object.assign(Object.assign({},c),{localTime:(u=c.localTime)!==null&&u!==void 0?u:null})).accountsStrict({authority:r,craftingProcess:t,recipe:s,tokenFrom:i,tokenTo:o,mint:a,tokenProgram:Rh.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimRecipeOutput(e,t,r,s,i,o,a,c){return()=>Wl(this,void 0,void 0,function*(){var u;return[{instruction:yield e.methods.claimRecipeOutput(Object.assign(Object.assign({},c),{localTime:(u=c.localTime)!==null&&u!==void 0?u:null})).accountsStrict({authority:r,craftingProcess:t,recipe:s,tokenFrom:i,tokenTo:o,craftableItem:a,tokenProgram:Rh.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(e,t,r,s,i,o,a,c){const u=[];return a&&c&&u.push({pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:Rh.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),l=>Wl(this,void 0,void 0,function*(){return[{instruction:yield e.methods.closeCraftingProcess().accountsStrict({authority:t.publicKey(),fundsTo:r==="funder"?l.publicKey():r,craftingProcess:s,recipe:i,craftingFacility:o}).remainingAccounts(u).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,xO.decodeAccount)(e,t,nq)}};qf.CraftingProcess=FM;FM.ACCOUNT_NAME="craftingProcess";FM.MIN_DATA_SIZE=8+1+8+32+32+32+32+16+16+8+1+8+8+1;qf.CraftingProcess=FM=nq=qot([(0,xO.staticImplements)(),jot("design:paramtypes",[Object,TD.PublicKey])],FM);var Hp={},Got=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Yot=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Nhe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},sq;Object.defineProperty(Hp,"__esModule",{value:!0});Hp.CraftingDomain=Hp.craftingDomainDataEquals=void 0;const LPe=dT,WPe=tr,Zot=Cx.exports;function Jot(n,e){return n.version===e.version&&n.profile.equals(e.profile)&&(0,Zot.isEqual)(n.namespace,e.namespace)}Hp.craftingDomainDataEquals=Jot;let UM=sq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return(0,WPe.decodeAccount)(e,t,sq)}static initializeDomain(e,t,r,s,i){return o=>Nhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initializeDomain(i).accountsStrict({signer:r.publicKey(),domain:t.publicKey(),funder:o.publicKey(),profile:s,systemProgram:LPe.SystemProgram.programId}).instruction(),signers:[r,t,o]}]})}static updateDomain(e,t,r,s,i,o){return()=>Nhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateDomain(o).accountsStrict({key:r.publicKey(),domain:t,profile:s,newProfile:i}).instruction(),signers:[r]}]})}};Hp.CraftingDomain=UM;UM.ACCOUNT_NAME="domain";UM.MIN_DATA_SIZE=8+1+32+32+32;Hp.CraftingDomain=UM=sq=Got([(0,WPe.staticImplements)(),Yot("design:paramtypes",[Object,LPe.PublicKey])],UM);var VM={};Object.defineProperty(VM,"__esModule",{value:!0});VM.IDL=void 0;VM.IDL={version:"0.1.0",name:"crafting",instructions:[{name:"addConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Mint Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The [`RecipeCategory`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"addNonConsumableInputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addOutputToRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The Craftable Item that the output represents"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RecipeIngredients"}}]},{name:"addRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"AddRecipeIngredientInput"}}]},{name:"burnConsumableIngredient",accounts:[{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the consumable recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"BurnConsumableIngredientInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"claimNonConsumableIngredient",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account to receive the non-consumable ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimNonConsumableIngredientInput"}}]},{name:"claimRecipeOutput",accounts:[{name:"authority",isMut:!1,isSigner:!1,docs:["The owner/authority of crafting_process account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by `craftable_item`."]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The recipe ingredient token account."]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable_item (this is also the mint authority)"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"ClaimRecipeOutputInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The owner/authority for the new crafting_process account"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"CreateCraftingProcessInput"}}]},{name:"deregisterCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainCraftableItemBank",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [omain account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The craftable item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"initializeDomain",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] that handles the crafting program permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"domain",isMut:!0,isSigner:!0,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"namespace",type:{array:["u8",32]}}]},{name:"legitimizeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"LegitimizeRecipeIngredientInput"}}]},{name:"registerCraftableItem",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the Craftable Item to be registered"]},{name:"craftableItem",isMut:!0,isSigner:!1,docs:["The Craftable Item to be registered"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftableItemInput"}}]},{name:"registerCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"craftingFacility",isMut:!0,isSigner:!0,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"location",isMut:!1,isSigner:!1,docs:["The Location address"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterCraftingFacilityInput"}}]},{name:"registerRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!0,docs:["The [Recipe] account"]},{name:"recipeCategory",isMut:!0,isSigner:!1,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeInput"}}]},{name:"registerRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!0,isSigner:!0,docs:["The [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"RegisterRecipeCategoryInput"}}]},{name:"removeConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeCraftingFacilityRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipeCategory",isMut:!1,isSigner:!1,docs:["The recipe category to remove."]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveCraftingFacilityRecipeCategoryInput"}}]},{name:"removeNonConsumableInputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeOutputFromRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["The [Domain] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The System program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredients"}}]},{name:"removeRecipeIngredient",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The [`CraftingProcess`] authority"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!1,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The token account owned by the `crafting_process` which holds the ingredient in escrow"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The token account that receives the recipe ingredient."]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint of the recipe ingredient"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [`Token`] program"]}],args:[{name:"input",type:{defined:"RemoveRecipeIngredientInput"}}]},{name:"startCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[{name:"input",type:{defined:"StartCraftingProcessInput"}}]},{name:"stopCraftingProcess",accounts:[{name:"location",isMut:!1,isSigner:!0,docs:["The entity calling this instruction, this is the Crafting Facility's location","Having the location as the signer is an implicit check that this is the correct location"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [`Recipe`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`] account"]}],args:[{name:"input",type:{defined:"StopCraftingProcessInput"}}]},{name:"updateCraftingFacility",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The [`CraftingFacility`] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateCraftingFacilityInput"}}]},{name:"updateDomain",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"newProfile",isMut:!1,isSigner:!1,docs:["The new crafting permissions profile"]},{name:"domain",isMut:!0,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"updateRecipe",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"UpdateRecipeInput"}}]},{name:"updateRecipeCategory",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crafting permissions [`Profile`]"]},{name:"recipe",isMut:!0,isSigner:!1,docs:["The [Recipe] to update"]},{name:"recipeCategoryOld",isMut:!0,isSigner:!1,docs:["The old [RecipeCategory] account"]},{name:"recipeCategoryNew",isMut:!0,isSigner:!1,docs:["The new [RecipeCategory] account"]},{name:"domain",isMut:!1,isSigner:!1,docs:["the [Domain] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]}],accounts:[{name:"craftableItem",docs:["This PDA represents a token registered as an item that can be crafted"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"mint",docs:["the mint representing the items crafted"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"craftingFacility",docs:["Represents a crafting facility account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"numConcurrentProcesses",docs:["the current number of concurrent crafting processes"],type:"u32"},{name:"efficiency",docs:["the efficiency rate for this crafting_facility (as basis points)"],type:"u32"},{name:"numRecipeCategories",docs:["number of recipe categories"],type:"u32"}]}},{name:"craftingProcess",docs:["This account represents crafting in progress"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"craftingId",docs:["the crafting id"],type:"u64"},{name:"authority",docs:["the owner/authority of this crafting process"],type:"publicKey"},{name:"recipe",docs:["the recipe"],type:"publicKey"},{name:"craftingFacility",docs:["the crafting facility"],type:"publicKey"},{name:"inputsChecksum",docs:["used to check if expected inputs have been supplied"],type:{array:["u8",16]}},{name:"outputsChecksum",docs:["used to check if expected outputs have been claimed"],type:{array:["u8",16]}},{name:"quantity",docs:["Quantity of outputs to craft"],type:"u64"},{name:"status",docs:["The status of this crafting process"],type:"u8"},{name:"startTime",docs:["the start timestamp"],type:"i64"},{name:"endTime",docs:["the end timestamp"],type:"i64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"u8"},{name:"useLocalTime",docs:["Whether or not to local time supplied by the location.  True when > 0"],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"domain",docs:['This account allows for a crafting "domain" which allows an admin to set up',"craftable items, recipes and crafting facilities tied to a domain that the control"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The [`Profile`] that handles the crafting program permissions"],type:"publicKey"},{name:"namespace",docs:["the namespace"],type:{array:["u8",32]}}]}},{name:"recipe",docs:["The definition of a recipe."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"category",docs:["The Recipe Category"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"duration",docs:["The time required to craft this Recipe."],type:"i64"},{name:"minDuration",docs:["The minimum time required to craft this Recipe."],type:"i64"},{name:"namespace",docs:["The name of this recipe."],type:{array:["u8",32]}},{name:"status",docs:["The status of the recipe"],type:"u8"},{name:"feeAmount",docs:["The amount to charge when this recipe is used"],type:"u64"},{name:"feeRecipient",docs:["The token account that receives the `fee_amount`.  If [`None`] the recipe requires no fees when used."],type:{defined:"OptionalNonSystemPubkey"}},{name:"usageCount",docs:["The number of times that this recipe has been used"],type:"u64"},{name:"usageLimit",docs:["The maximum number of times that this recipe can be used"],type:"u64"},{name:"value",docs:['The value of this recipe e.g. might be "economic value"','The precise meaning of "value" is left to the person creating recipes to determine'],type:"u64"},{name:"consumablesCount",docs:["The number of consumable inputs in this recipe."],type:"u8"},{name:"nonConsumablesCount",docs:["The number of non-consumable inputs in this recipe."],type:"u8"},{name:"outputsCount",docs:["The number of outputs from this recipe."],type:"u8"},{name:"totalCount",docs:["The number of all inputs and outputs in this recipe."],type:"u16"}]}},{name:"recipeCategory",docs:["A Crafting Recipe Category account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"domain",docs:["the domain"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"recipeCount",docs:["The number of recipes in this category."],type:"u32"},{name:"namespace",docs:["the name of this account"],type:{array:["u8",32]}}]}}],types:[{name:"AddRecipeIngredientInput",docs:["Struct for data input to add an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"BurnConsumableIngredientInput",docs:["Struct for data input to burn a consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the consumable recipe ingredient"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"ClaimNonConsumableIngredientInput",docs:["Struct for data input to claim a non-consumable ingredient"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"ClaimRecipeOutputInput",docs:["Struct for data input to claim an output"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"CreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"denyPermissionlessClaiming",docs:["Whether or not to deny permission-less claiming.  True when > 0"],type:"bool"},{name:"useLocalTime",docs:["Whether or not to local time supplied by the location.  True when > 0"],type:"bool"}]}},{name:"KeyIndexInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"LegitimizeRecipeIngredientInput",docs:["Struct for data input to legitimize an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `CraftingFacility` might be found"],type:{kind:"enum",variants:[{name:"Starbase"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"ProcessStatus",docs:["The `CraftingProcess` `status`"],type:{kind:"enum",variants:[{name:"Initialized"},{name:"Started"},{name:"Completed"}]}},{name:"RecipeIngredients",docs:["A copy of the [`RecipeInputsOutputs`] struct --> to be used as inputs into the program, avoiding using Borsch Serialization with Zero Copy serialization"],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RecipeInputsOutputs",docs:["The [`RecipeInputsOutputs`] struct."],type:{kind:"struct",fields:[{name:"amount",docs:["Amount of Input/Output required/produced."],type:"u64"},{name:"mint",docs:["Mint pubkey of the Input/Output."],type:"publicKey"}]}},{name:"RecipeStatus",docs:["Represents the `Recipe` status"],type:{kind:"enum",variants:[{name:"Initializing"},{name:"Active"},{name:"Deactivated"}]}},{name:"RegisterCraftableItemInput",docs:["used as input struct when registering a `CraftableItem`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `CraftableItem` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterCraftingFacilityInput",docs:["Struct for data input to Register a `CraftingFacility`"],type:{kind:"struct",fields:[{name:"locationType",docs:["`CraftingFacility` location type"],type:{defined:"LocationType"}},{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:"u32"},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeCategoryInput",docs:["Struct for data input for `RegisterRecipeCategory`"],type:{kind:"struct",fields:[{name:"namespace",docs:["the `RecipeCategory` namespace"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RegisterRecipeInput",docs:["used as input struct when registering a Recipe"],type:{kind:"struct",fields:[{name:"duration",docs:["the recipe duration (seconds)"],type:"i64"},{name:"minDuration",docs:["the recipe minimum duration (seconds)"],type:"i64"},{name:"namespace",docs:["the recipe namespace"],type:{array:["u8",32]}},{name:"feeAmount",docs:["the recipe fee amount"],type:{option:"u64"}},{name:"usageLimit",docs:["the maximum number of times that this recipe can be used; if not provided a limit will not be set"],type:{option:"u64"}},{name:"value",docs:["the recipe's value"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveCraftingFacilityRecipeCategoryInput",docs:["Struct for data input for removing a [`CraftingFacility`] `RecipeCategory`"],type:{kind:"struct",fields:[{name:"recipeCategoryIndex",docs:["the index of the `RecipeCategory` in the [`CraftingFacility`]"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"RemoveRecipeIngredientInput",docs:["Struct for data input to remove an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw/remove"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"RemoveRecipeIngredients",docs:["used as input struct when removing recipe ingredients"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"}]}},{name:"StartCraftingProcessInput",docs:["Inputs for `StartCraftingProcess`"],type:{kind:"struct",fields:[{name:"recipeDurationOverride",docs:["recipe duration override"],type:{option:"u64"}},{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"StopCraftingProcessInput",docs:["Inputs for `StopCraftingProcess`"],type:{kind:"struct",fields:[{name:"localTime",docs:["the current time as supplied by the location; required if `use_local_time` is set on the `CraftingProcess`"],type:{option:"i64"}}]}},{name:"UpdateCraftingFacilityInput",docs:["Struct for data input to Update `CraftingFacility`"],type:{kind:"struct",fields:[{name:"efficiency",docs:["`CraftingFacility` efficiency"],type:{option:"u32"}},{name:"maxConcurrentProcesses",docs:["the max. number of concurrent crafting processes that can be handled by this facility","if 0 then there is no max"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"UpdateRecipeInput",docs:["Struct for data input to Update `Recipe`"],type:{kind:"struct",fields:[{name:"duration",docs:["`Recipe` duration"],type:{option:"i64"}},{name:"minDuration",docs:["`Recipe` minimum duration"],type:{option:"i64"}},{name:"feeAmount",docs:["`Recipe` fee amount"],type:{option:"u64"}},{name:"status",docs:["`Recipe` status"],type:{option:"u8"}},{name:"usageLimit",docs:["the maximum number of times that this recipe can be used"],type:{option:"u64"}},{name:"value",docs:["the recipe's value"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the crafting permissions profile"],type:"u16"}]}},{name:"WrappedRecipeCategory",docs:["Wrapped recipe category","We are wrapping this around Pubkey so that we can use Anchor's coder to decode it"],type:{kind:"struct",fields:[{name:"id",docs:["The recipe category public key"],type:"publicKey"}]}}],errors:[{code:6e3,name:"IncorrectProfileAddress",msg:"Incorrect profile address."},{code:6001,name:"IncorrectAuthority",msg:"The authority is incorrect."},{code:6002,name:"NumericOverflow",msg:"Numeric overflow"},{code:6003,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6004,name:"AdminNotMintAuthority",msg:"Admin wallet is not the mint authority of the entered token."},{code:6005,name:"IncorrectMintAddress",msg:"Incorrect mint address entered."},{code:6006,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6007,name:"IncorrectLocation",msg:"The location is incorrect."},{code:6008,name:"IncorrectDomain",msg:"The domain is incorrect."},{code:6009,name:"IncorrectRecipe",msg:"The recipe is incorrect."},{code:6010,name:"IncorrectRecipeCategory",msg:"The recipe category is incorrect."},{code:6011,name:"IncorrectCraftingFacility",msg:"The crafting facility is incorrect."},{code:6012,name:"OverCraftingFacilityCapacity",msg:"The crafting facility capacity has been exceeded."},{code:6013,name:"InsufficientAmount",msg:"The amount is insufficient."},{code:6014,name:"AmountRequired",msg:"An amount greater than 0 must be provided."},{code:6015,name:"AmountTooMuch",msg:"The amount is more than what is required."},{code:6016,name:"InputAlreadySupplied",msg:"The input has already been supplied."},{code:6017,name:"InputNotSupplied",msg:"The input has NOT been supplied."},{code:6018,name:"OutputAlreadyClaimed",msg:"The output has already been claimed."},{code:6019,name:"CraftingProcessAlreadyStarted",msg:"The crafting process has already started."},{code:6020,name:"CraftingProcessNotStarted",msg:"The crafting process has not started."},{code:6021,name:"CraftingProcessNotCompleted",msg:"The crafting process has not completed."},{code:6022,name:"CraftingProcessAlreadyCompleted",msg:"The crafting process has already completed."},{code:6023,name:"IngredientNotAnInput",msg:"The ingredient is not an input."},{code:6024,name:"IngredientNotAConsumableInput",msg:"The ingredient is not a consumable input."},{code:6025,name:"IngredientNotANonConsumableInput",msg:"The ingredient is not a non-consumable input."},{code:6026,name:"IngredientNotAnOutput",msg:"The ingredient is not an output."},{code:6027,name:"IncorrectInputsChecksum",msg:"The inputs checksum is incorrect."},{code:6028,name:"IncorrectOutputsChecksum",msg:"The outputs checksum is incorrect."},{code:6029,name:"RecipeCountNotZero",msg:"The recipe count is not zero."},{code:6030,name:"RecipeCategoryCountNotZero",msg:"The recipe category count is not zero."},{code:6031,name:"ConcurrentProcessCountNotZero",msg:"The concurrent process count is not zero."},{code:6032,name:"KeyIndexOutOfBounds",msg:"Key index out of bounds."},{code:6033,name:"InvalidDuration",msg:"Duration is invalid."},{code:6034,name:"MissingRequiredSignature",msg:"Missing required signature."},{code:6035,name:"AddressMismatchATA",msg:"ATA address does not match"},{code:6036,name:"CannotUpdateDeactivatedRecipe",msg:"Cannot Update Deactivated Recipe"},{code:6037,name:"InvalidRecipeStatus",msg:"Invalid Recipe Status"},{code:6038,name:"EfficiencyIsZero",msg:"Crafting Facility Efficiency Is Zero"},{code:6039,name:"AddressMismatch",msg:"Address Mismatch"},{code:6040,name:"RecipeLimitExceeded",msg:"Recipe Limit Exceeded"}]};var ZZ={};(function(n){var e=K&&K.__createBinding||(Object.create?function(f,g,b,S){S===void 0&&(S=b);var p=Object.getOwnPropertyDescriptor(g,b);(!p||("get"in p?!g.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(f,S,p)}:function(f,g,b,S){S===void 0&&(S=b),f[S]=g[b]}),t=K&&K.__setModuleDefault||(Object.create?function(f,g){Object.defineProperty(f,"default",{enumerable:!0,value:g})}:function(f,g){f.default=g}),r=K&&K.__decorate||function(f,g,b,S){var p=arguments.length,I=p<3?g:S===null?S=Object.getOwnPropertyDescriptor(g,b):S,w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(f,g,b,S);else for(var A=f.length-1;A>=0;A--)(w=f[A])&&(I=(p<3?w(I):p>3?w(g,b,I):w(g,b))||I);return p>3&&I&&Object.defineProperty(g,b,I),I},s=K&&K.__importStar||function(f){if(f&&f.__esModule)return f;var g={};if(f!=null)for(var b in f)b!=="default"&&Object.prototype.hasOwnProperty.call(f,b)&&e(g,f,b);return t(g,f),g},i=K&&K.__metadata||function(f,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(f,g)},o=K&&K.__awaiter||function(f,g,b,S){function p(I){return I instanceof b?I:new b(function(w){w(I)})}return new(b||(b=Promise))(function(I,w){function A(M){try{E(S.next(M))}catch(P){w(P)}}function _(M){try{E(S.throw(M))}catch(P){w(P)}}function E(M){M.done?I(M.value):p(M.value).then(A,_)}E((S=S.apply(f,g||[])).next())})},a;Object.defineProperty(n,"__esModule",{value:!0}),n.Recipe=n.recipeDataEquals=n.RECIPE_MIN_DATA_SIZE=n.RecipeStatus=void 0;const c=dT,u=s(cc),l=tr,d=Cx.exports;var y;(function(f){f[f.Initializing=1]="Initializing",f[f.Active=2]="Active",f[f.Deactivated=3]="Deactivated"})(y||(n.RecipeStatus=y={})),n.RECIPE_MIN_DATA_SIZE=8+1+32+32+32+8+8+32+1+1+1+1+8+8+8+8+32+2;function h(f,g){return f.version===g.version&&f.domain.equals(g.domain)&&f.category.equals(g.category)&&f.duration.eq(g.duration)&&f.minDuration.eq(g.minDuration)&&(0,d.isEqual)(f.namespace,g.namespace)&&f.consumablesCount===g.consumablesCount&&f.nonConsumablesCount===g.nonConsumablesCount&&f.outputsCount===g.outputsCount&&f.totalCount===g.totalCount&&f.feeAmount.eq(g.feeAmount)&&f.usageCount.eq(g.usageCount)&&f.usageLimit.eq(g.usageLimit)&&f.value.eq(g.value)&&f.feeRecipient.key.equals(g.feeRecipient.key)&&f.status===g.status}n.recipeDataEquals=h;let m=a=class{constructor(g,b,S){this._data=g,this._key=b,this._ingredientInputsOutputs=S}get data(){return this._data}get key(){return this._key}get ingredientInputsOutputs(){return this._ingredientInputsOutputs}static registerRecipe(g,b,S,p,I,w,A,_){if(A.feeAmount&&A.feeAmount.gt(new u.BN(0))&&!_||_&&(!A.feeAmount||A.feeAmount.lte(new u.BN(0))))throw"feeRecipient must be set if feeAmount is set";const E=_&&A.feeAmount&&A.feeAmount.gt(new u.BN(0))?[{pubkey:_,isSigner:!1,isWritable:!1}]:[];return M=>o(this,void 0,void 0,function*(){var P,R;return[{instruction:yield g.methods.registerRecipe(Object.assign(Object.assign({},A),{feeAmount:A.feeAmount&&A.feeAmount.gt(new u.BN(0))?A.feeAmount:null,usageLimit:(P=A.usageLimit)!==null&&P!==void 0?P:null,value:(R=A.value)!==null&&R!==void 0?R:null})).accountsStrict({key:S.publicKey(),profile:p,funder:M.publicKey(),recipe:b.publicKey(),recipeCategory:w,domain:I,systemProgram:c.SystemProgram.programId}).remainingAccounts(E).instruction(),signers:[S,M,b]}]})}static addConsumableInputToRecipe(g,b,S,p,I,w,A){return _=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addConsumableInputToRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:_.publicKey(),recipe:b,domain:I,mint:w,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,_]}]})}static addNonConsumableInputToRecipe(g,b,S,p,I,w,A){return _=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addNonConsumableInputToRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:_.publicKey(),recipe:b,domain:I,mint:w,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,_]}]})}static addOutputToRecipe(g,b,S,p,I,w,A){return _=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.addOutputToRecipe(A).accountsStrict({key:S.publicKey(),profile:p,funder:_.publicKey(),recipe:b,domain:I,craftableItem:w,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,_]}]})}static removeConsumableInputFromRecipe(g,b,S,p,I,w){return A=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeConsumableInputFromRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:A.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,A]}]})}static removeNonConsumableInputFromRecipe(g,b,S,p,I,w){return A=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeNonConsumableInputFromRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:A.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,A]}]})}static removeOutputFromRecipe(g,b,S,p,I,w){return A=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.removeOutputFromRecipe(w).accountsStrict({key:S.publicKey(),profile:p,funder:A.publicKey(),recipe:b,domain:I,systemProgram:c.SystemProgram.programId}).instruction(),signers:[S,A]}]})}static updateRecipeCategory(g,b,S,p,I,w,A,_){return()=>o(this,void 0,void 0,function*(){return[{instruction:yield g.methods.updateRecipeCategory(_).accountsStrict({key:S.publicKey(),profile:p,recipe:b,recipeCategoryOld:w,recipeCategoryNew:A,domain:I}).instruction(),signers:[S]}]})}static updateRecipe(g,b,S,p,I,w,A){if(w.feeAmount&&w.feeAmount.gt(new u.BN(0))&&!A||A&&(!w.feeAmount||w.feeAmount.lte(new u.BN(0))))throw"feeRecipient must be set if feeAmount is set";const _=A&&w.feeAmount&&w.feeAmount.gt(new u.BN(0))?[{pubkey:A,isSigner:!1,isWritable:!1}]:[];return()=>o(this,void 0,void 0,function*(){var E,M,P,R,$,z;return[{instruction:yield g.methods.updateRecipe({keyIndex:w.keyIndex,duration:(E=w.duration)!==null&&E!==void 0?E:null,minDuration:(M=w.minDuration)!==null&&M!==void 0?M:null,status:(P=w.status)!==null&&P!==void 0?P:null,usageLimit:(R=w.usageLimit)!==null&&R!==void 0?R:null,feeAmount:($=w.feeAmount)!==null&&$!==void 0?$:null,value:(z=w.value)!==null&&z!==void 0?z:null}).accountsStrict({key:S.publicKey(),profile:p,recipe:b,domain:I}).remainingAccounts(_).instruction(),signers:[S]}]})}static decodeData(g,b){return(0,l.decodeAccountWithRemaining)(g,b,a,(p,I)=>Array(I.totalCount).fill(0).map((w,A)=>b.coder.types.decode("RecipeInputsOutputs",p.subarray(A*40).subarray(0,40))))}};n.Recipe=m,m.ACCOUNT_NAME="recipe",m.MIN_DATA_SIZE=n.RECIPE_MIN_DATA_SIZE,n.Recipe=m=a=r([(0,l.staticImplements)(),i("design:paramtypes",[Object,c.PublicKey,Array])],m)})(ZZ);var Gp={},Xot=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Qot=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Fhe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},iq;Object.defineProperty(Gp,"__esModule",{value:!0});Gp.RecipeCategory=Gp.recipeCategoryDataEquals=void 0;const oq=dT,JZ=tr;function eat(n,e){return n.version===e.version&&n.domain.equals(e.domain)&&n.recipeCount===e.recipeCount&&(0,JZ.arrayDeepEquals)(n.namespace,e.namespace,(t,r)=>t===r)}Gp.recipeCategoryDataEquals=eat;let qM=iq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static registerRecipeCategory(e,t,r,s,i,o){return a=>Fhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerRecipeCategory(o).accountsStrict({key:r.publicKey(),profile:s,funder:a.publicKey(),recipeCategory:t.publicKey(),domain:i,systemProgram:oq.SystemProgram.programId}).instruction(),signers:[r,a,t]}]})}static deregisterRecipeCategory(e,t,r,s,i,o,a){return c=>Fhe(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterRecipeCategory(a).accountsStrict({key:r.publicKey(),profile:s,fundsTo:i==="funder"?c.publicKey():i,recipeCategory:t,domain:o,systemProgram:oq.SystemProgram.programId}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,JZ.decodeAccount)(e,t,iq)}};Gp.RecipeCategory=qM;qM.ACCOUNT_NAME="recipeCategory";qM.MIN_DATA_SIZE=8+1+32+32+4+32;Gp.RecipeCategory=qM=iq=Xot([(0,JZ.staticImplements)(),Qot("design:paramtypes",[Object,oq.PublicKey])],qM);(function(n){var e=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var w=m.length-1;w>=0;w--)(I=m[w])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},t=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)};Object.defineProperty(n,"__esModule",{value:!0}),n.CraftingProgram=n.craftingErrorMap=n.CRAFTING_IDL=void 0;const r=cc,s=tr,i=jp,o=YZ,a=qf,c=Hp,u=VM,l=ZZ,d=Gp;var y=VM;Object.defineProperty(n,"CRAFTING_IDL",{enumerable:!0,get:function(){return y.IDL}}),n.craftingErrorMap=(0,s.generateErrorMap)(u.IDL);let h=class extends s.ListenProgram{constructor(f){super(f,{craftableItem:i.CraftableItem,craftingFacility:o.CraftingFacility,craftingProcess:a.CraftingProcess,domain:c.CraftingDomain,recipe:l.Recipe,recipeCategory:d.RecipeCategory})}static buildProgram(f,g,b){return new r.Program(u.IDL,f,g,b)}};n.CraftingProgram=h,n.CraftingProgram=h=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],h)})(UIe);var hz={},tat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},rat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Yi;Object.defineProperty(hz,"__esModule",{value:!0});hz.CraftingPermissions=void 0;const NPe=tr;let aq=Yi=class{constructor(e,t,r,s,i,o,a,c){this.manageDomain=e,this.createCraftableItem=t,this.manageCraftableItem=r,this.manageCraftingFacility=s,this.createRecipeCategory=i,this.manageRecipeCategory=o,this.createRecipe=a,this.manageRecipe=c}getPermissions(){const e=(0,NPe.fixedSizeArray)(8,0);return e[0]=(this.manageDomain?1<<0:0)|(this.createCraftableItem?1<<1:0)|(this.manageCraftableItem?1<<2:0)|(this.manageCraftingFacility?1<<3:0)|(this.createRecipeCategory?1<<4:0)|(this.manageRecipeCategory?1<<5:0)|(this.createRecipe?1<<6:0)|(this.manageRecipe?1<<7:0),e}static empty(){return new Yi(!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new Yi(!0,!0,!0,!0,!0,!0,!0,!0)}static manageDomain(){return Yi.permissionsBuilder("manageDomain")}static createCraftableItem(){return Yi.permissionsBuilder("createCraftableItem")}static manageCraftableItem(){return Yi.permissionsBuilder("manageCraftableItem")}static manageCraftingFacility(){return Yi.permissionsBuilder("manageCraftingFacility")}static createRecipeCategory(){return Yi.permissionsBuilder("createRecipeCategory")}static manageRecipeCategory(){return Yi.permissionsBuilder("manageRecipeCategory")}static createRecipe(){return Yi.permissionsBuilder("createRecipe")}static manageRecipe(){return Yi.permissionsBuilder("manageRecipe")}static craftableItemPermissions(){return Yi.permissionsBuilder(["createCraftableItem","manageCraftableItem"])}static recipeCategoryPermissions(){return Yi.permissionsBuilder(["createRecipeCategory","manageRecipeCategory"])}static recipePermissions(){return Yi.permissionsBuilder(["createRecipe","manageRecipe"])}static fromPermissions(e){return new Yi((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0,(e[0]&1<<5)!==0,(e[0]&1<<6)!==0,(e[0]&1<<7)!==0)}and(e){return new Yi(this.manageDomain&&e.manageDomain,this.createCraftableItem&&e.createCraftableItem,this.manageCraftableItem&&e.manageCraftableItem,this.manageCraftingFacility&&e.manageCraftingFacility,this.createRecipeCategory&&e.createRecipeCategory,this.manageRecipeCategory&&e.manageRecipeCategory,this.createRecipe&&e.createRecipe,this.manageRecipe&&e.manageRecipe)}or(e){return new Yi(this.manageDomain||e.manageDomain,this.createCraftableItem||e.createCraftableItem,this.manageCraftableItem||e.manageCraftableItem,this.manageCraftingFacility||e.manageCraftingFacility,this.createRecipeCategory||e.createRecipeCategory,this.manageRecipeCategory||e.manageRecipeCategory,this.createRecipe||e.createRecipe,this.manageRecipe||e.manageRecipe)}eq(e){return this.manageDomain===e.manageDomain&&this.createCraftableItem===e.createCraftableItem&&this.manageCraftableItem===e.manageCraftableItem&&this.manageCraftingFacility===e.manageCraftingFacility&&this.createRecipeCategory===e.createRecipeCategory&&this.manageRecipeCategory===e.manageRecipeCategory&&this.createRecipe===e.createRecipe&&this.manageRecipe===e.manageRecipe}contains(e){return this.and(e).eq(e)}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(Yi.empty()).map(s=>t.includes(s));if(r.length!=Yi.length)throw console.log(r.length,Yi.length),"Incorrect permissions array";return new Yi(...r)}};hz.CraftingPermissions=aq;hz.CraftingPermissions=aq=Yi=tat([(0,NPe.staticImplements)(),rat("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],aq);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(FIe,n),t(UIe,n),t(jp,n),t(YZ,n),t(qf,n),t(Hp,n),t(hz,n),t(ZZ,n),t(Gp,n)})(wZ);var Au={},nat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},sat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},uN=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},yy;Object.defineProperty(Au,"__esModule",{value:!0});Au.ProgressionConfig=Au.progressionConfigDataEquals=Au.ProgressionItemType=void 0;const E2=qs,FPe=tr;var Uhe;(function(n){n[n.Subwarp=0]="Subwarp",n[n.Warp=1]="Warp",n[n.WarpLane=2]="WarpLane",n[n.AsteroidExit=3]="AsteroidExit",n[n.ScanUnsuccessful=4]="ScanUnsuccessful",n[n.ScanSuccessful=5]="ScanSuccessful",n[n.Mining=6]="Mining",n[n.Crafting=7]="Crafting",n[n.Upkeep=8]="Upkeep",n[n.Upgrade=9]="Upgrade"})(Uhe||(Au.ProgressionItemType=Uhe={}));function iat(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.dailyLpLimit.eq(e.dailyLpLimit)&&n.dailyCouncilRankXpLimit.eq(e.dailyCouncilRankXpLimit)&&n.dailyPilotXpLimit.eq(e.dailyPilotXpLimit)&&n.dailyDataRunningXpLimit.eq(e.dailyDataRunningXpLimit)&&n.dailyMiningXpLimit.eq(e.dailyMiningXpLimit)&&n.dailyCraftingXpLimit.eq(e.dailyCraftingXpLimit)&&n.numItems===e.numItems}Au.progressionConfigDataEquals=iat;let ew=yy=class{constructor(e,t,r){this._data=e,this._key=t,this._items=r}get data(){return this._data}get key(){return this._key}get items(){return this._items||[]}static findAddress(e,t){return E2.PublicKey.findProgramAddressSync([Xe.Buffer.from("ProgressionConfig"),t.toBuffer()],e.programId)}static registerProgressionConfig(e,t,r,s,i){const o=yy.findAddress(e,s);return{configKey:o,instructions:a=>uN(this,void 0,void 0,function*(){var c,u,l,d,y,h;return[{instruction:yield e.methods.registerProgressionConfig(Object.assign(Object.assign({},i),{dailyLpLimit:(c=i.dailyLpLimit)!==null&&c!==void 0?c:null,dailyCouncilRankXpLimit:(u=i.dailyCouncilRankXpLimit)!==null&&u!==void 0?u:null,dailyPilotXpLimit:(l=i.dailyPilotXpLimit)!==null&&l!==void 0?l:null,dailyDataRunningXpLimit:(d=i.dailyDataRunningXpLimit)!==null&&d!==void 0?d:null,dailyMiningXpLimit:(y=i.dailyMiningXpLimit)!==null&&y!==void 0?y:null,dailyCraftingXpLimit:(h=i.dailyCraftingXpLimit)!==null&&h!==void 0?h:null})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:a.publicKey(),progressionConfig:o[0],systemProgram:E2.SystemProgram.programId}).instruction(),signers:[t,a]}]})}}static updateProgressionConfig(e,t,r,s,i){return()=>uN(this,void 0,void 0,function*(){var o,a,c,u,l,d,y;return[{instruction:yield e.methods.updateProgressionConfig({keyIndex:i.keyIndex,items:(o=i.items)!==null&&o!==void 0?o:null,dailyLpLimit:(a=i.dailyLpLimit)!==null&&a!==void 0?a:null,dailyCouncilRankXpLimit:(c=i.dailyCouncilRankXpLimit)!==null&&c!==void 0?c:null,dailyPilotXpLimit:(u=i.dailyPilotXpLimit)!==null&&u!==void 0?u:null,dailyDataRunningXpLimit:(l=i.dailyDataRunningXpLimit)!==null&&l!==void 0?l:null,dailyMiningXpLimit:(d=i.dailyMiningXpLimit)!==null&&d!==void 0?d:null,dailyCraftingXpLimit:(y=i.dailyCraftingXpLimit)!==null&&y!==void 0?y:null}).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},progressionConfig:yy.findAddress(e,s)[0],systemProgram:E2.SystemProgram.programId}).instruction(),signers:[t]}]})}static deregisterProgressionConfig(e,t,r,s,i,o){return a=>uN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterProgressionConfig(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},fundsTo:s==="funder"?a.publicKey():s,progressionConfig:yy.findAddress(e,i)[0],systemProgram:E2.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static decodeData(e,t){return(0,FPe.decodeAccountWithRemaining)(e,t,yy,(r,s)=>Array(s.numItems).fill(0).map((i,o)=>t.coder.types.decode("ProgressionItem",r.subarray(yy.PROGRESSION_ITEM_DATA_SIZE*o).subarray(0,yy.PROGRESSION_ITEM_DATA_SIZE))))}};Au.ProgressionConfig=ew;ew.ACCOUNT_NAME="progressionConfig";ew.MIN_DATA_SIZE=8+1+32+8+8+8+8+8+8+2;ew.PROGRESSION_ITEM_DATA_SIZE=4;Au.ProgressionConfig=ew=yy=nat([(0,FPe.staticImplements)(),sat("design:paramtypes",[Object,E2.PublicKey,Array])],ew);var oat=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},aat=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Wd=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},cq;Object.defineProperty(ud,"__esModule",{value:!0});ud.CraftingInstance=ud.craftingInstanceDataEquals=ud.CraftingInstanceType=void 0;const jm=sl,uq=qs,Rk=cc,cat=wZ,UPe=tr,uat=Au;var Vhe;(function(n){n[n.StarbaseCrafting=1]="StarbaseCrafting",n[n.StarbaseUpgradeMaterial=2]="StarbaseUpgradeMaterial"})(Vhe||(ud.CraftingInstanceType=Vhe={}));function lat(n,e){return n.version===e.version&&n.seqId===e.seqId&&n.numCrew.eq(e.numCrew)&&n.authority.equals(e.authority)&&n.craftingProcess.equals(e.craftingProcess)&&n.instanceType===e.instanceType&&n.bump===e.bump}ud.craftingInstanceDataEquals=lat;let jM=cq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static calculateCraftingDuration(e,t,r,s=0,i=1){if(r.isZero())throw new Error("Invalid value for numCrew");const o=t.div(r),a=t.mod(r),c=o.add(Rk.BN.min(a,new Rk.BN(1))).mul(e),u=Number(c);if(s>=u)return new Rk.BN(u);{const l=Math.max(0,s),y=(u-l)/i;return new Rk.BN(l+y)}}static calculateUpgradeDuration(e,t,r){if(r.isZero())throw new Error("Invalid value for numCrew");const s=t.div(r),i=t.mod(r);return s.add(Rk.BN.min(i,new Rk.BN(1))).mul(e)}static findAddress(e,t,r){return uq.PublicKey.findProgramAddressSync([Xe.Buffer.from("CraftingInstance"),t.toBuffer(),r.toBuffer()],e.programId)}static createCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h){const m=cat.CraftingProcess.findAddress(t,l,d,h.craftingId)[0];return f=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.createCraftingProcess(h).accountsStrict({funder:f.publicKey(),starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:c,key:r.publicKey(),profile:s,profileFaction:i},gameState:u},craftingInstance:this.findAddress(e,o,m)[0],craftingProcess:m,craftingFacility:l,craftingRecipe:d,craftingDomain:y,craftingProgram:t.programId,systemProgram:uq.SystemProgram.programId}).instruction(),signers:[r,f]}]})}static depositCraftingIngredient(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.depositCraftingIngredient(I).accountsStrict({starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:S,key:s.publicKey(),profile:i,profileFaction:o},gameState:p},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingRecipe:y,cargoPodFrom:h,cargoType:m,cargoStatsDefinition:f,tokenFrom:g,tokenTo:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:jm.TOKEN_PROGRAM_ID}).instruction(),signers:[s]}]})}static withdrawCraftingIngredient(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.withdrawCraftingIngredient(w).accountsStrict({starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:p,key:s.publicKey(),profile:i,profileFaction:o},gameState:I},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingRecipe:y,cargoPodTo:h,cargoType:m,cargoStatsDefinition:f,tokenFrom:g,tokenTo:b,tokenMint:S,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:jm.TOKEN_PROGRAM_ID}).instruction(),signers:[s]}]})}static startCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){const p=[r],I=[];return f&&g&&b&&S&&(p.map(w=>w.publicKey().toBase58()).includes(g.publicKey().toBase58())||p.push(g),I.push({pubkey:f,isSigner:!1,isWritable:!1},{pubkey:g.publicKey(),isSigner:!0,isWritable:!0},{pubkey:b,isSigner:!1,isWritable:!0},{pubkey:S,isSigner:!1,isWritable:!0},{pubkey:jm.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1})),()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.startCraftingProcess(m).accountsStrict({starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},craftingInstance:c,craftingProcess:u,craftingRecipe:d,craftingFacility:l,gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingProgram:t.programId}).remainingAccounts(I).instruction(),signers:p}]})}static stopCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){const b=[];return f&&g&&b.push({pubkey:f,isSigner:!1,isWritable:!0},{pubkey:g,isSigner:!1,isWritable:!0},{pubkey:jm.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.stopCraftingProcess(m).accountsStrict({starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},craftingInstance:c,craftingProcess:u,craftingRecipe:d,craftingFacility:l,gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingProgram:t.programId}).remainingAccounts(b).instruction(),signers:[r]}]})}static cancelCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m){return f=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.cancelCraftingProcess(m).accountsStrict({fundsTo:o==="funder"?f.publicKey():o,starbaseAndStarbasePlayer:{starbase:c,starbasePlayer:a},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:y,key:r.publicKey(),profile:s,profileFaction:i},gameState:h},craftingInstance:u,craftingProcess:l,craftingFacility:d,craftingProgram:t.programId}).instruction(),signers:[r]}]})}static claimCraftingNonConsumables(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.claimCraftingNonConsumables(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:h,gameState:m},craftingInstance:o,craftingProcess:a,craftingFacility:c,craftingRecipe:u,cargoPodTo:l,cargoType:d,cargoStatsDefinition:y,tokenFrom:f,tokenTo:g,tokenMint:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:jm.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static burnCraftingConsumables(e,t,r,s,i,o,a,c,u,l,d,y,h){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.burnCraftingConsumables(h).accountsStrict({starbaseAndStarbasePlayer:{starbase:s,starbasePlayer:r},gameAccounts:{gameId:u,gameState:l},craftingInstance:i,craftingProcess:o,craftingFacility:a,craftingRecipe:c,tokenFrom:d,tokenMint:y,craftingProgram:t.programId,tokenProgram:jm.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static claimCraftingOutputs(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S){return()=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.claimCraftingOutputs(S).accountsStrict({starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:m,gameState:f},craftingInstance:o,craftingProcess:a,craftingFacility:c,craftingRecipe:u,craftableItem:l,cargoPodTo:d,cargoType:y,cargoStatsDefinition:h,tokenFrom:g,tokenTo:b,craftingProgram:r.programId,cargoProgram:t.programId,tokenProgram:jm.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeCraftingProcess(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w,A,_,E){const M=[];return _&&E&&M.push({pubkey:_,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:jm.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),P=>Wd(this,void 0,void 0,function*(){return[{instruction:yield e.methods.closeCraftingProcess(A).accountsStrict({fundsTo:a==="funder"?P.publicKey():a,starbaseAndStarbasePlayer:{starbase:u,starbasePlayer:c},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:I,key:s.publicKey(),profile:i,profileFaction:o},gameState:w},craftingInstance:l,craftingProcess:d,craftingRecipe:h,craftingFacility:y,craftingXpAccounts:{userPointsAccount:m,pointsCategory:f,pointsModifierAccount:g},councilRankXpAccounts:{userPointsAccount:b,pointsCategory:S,pointsModifierAccount:p},progressionConfig:uat.ProgressionConfig.findAddress(e,I)[0],pointsProgram:r.programId,craftingProgram:t.programId}).remainingAccounts(M).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,UPe.decodeAccount)(e,t,cq)}};ud.CraftingInstance=jM;jM.ACCOUNT_NAME="craftingInstance";jM.MIN_DATA_SIZE=8+1+2+8+32+32+1+1;ud.CraftingInstance=jM=cq=oat([(0,UPe.staticImplements)(),aat("design:paramtypes",[Object,uq.PublicKey])],jM);var qK={};(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)},r=K&&K.__awaiter||function(u,l,d,y){function h(m){return m instanceof d?m:new d(function(f){f(m)})}return new(d||(d=Promise))(function(m,f){function g(p){try{S(y.next(p))}catch(I){f(I)}}function b(p){try{S(y.throw(p))}catch(I){f(I)}}function S(p){p.done?m(p.value):h(p.value).then(g,b)}S((y=y.apply(u,l||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.DisbandedFleet=n.SHIP_COUNTS_SIZE=n.disbandedFleetDataEquals=void 0;const i=qs,o=tr;function a(u,l){return u.version===l.version&&u.bump===l.bump&&u.gameId.equals(l.gameId)&&u.ownerProfile.equals(l.ownerProfile)&&u.fleetShips.equals(l.fleetShips)&&u.starbase.equals(l.starbase)&&(0,o.arrayDeepEquals)(u.fleetLabel,l.fleetLabel,(d,y)=>d===y)}n.disbandedFleetDataEquals=a,n.SHIP_COUNTS_SIZE=9*2;let c=s=class{constructor(l,d){this._data=l,this._key=d}get data(){return this._data}get key(){return this._key}static findAddress(l,d,y,h){return i.PublicKey.findProgramAddressSync([Xe.Buffer.from("DisbandedFleet"),d.toBuffer(),y.toBuffer(),Xe.Buffer.from(h)],l.programId)}static disbandedFleetToEscrow(l,d,y,h,m,f,g,b,S,p,I,w){return A=>r(this,void 0,void 0,function*(){return[{instruction:yield l.methods.disbandedFleetToEscrow(w).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:d.publicKey(),profile:y,profileFaction:h,gameId:p},gameState:I},funder:A.publicKey(),disbandedFleet:m,fleetShips:f,ship:g,starbaseAndStarbasePlayer:{starbase:S,starbasePlayer:b},systemProgram:i.SystemProgram.programId}).instruction(),signers:[d,A]}]})}static closeDisbandedFleet(l,d,y,h,m,f,g){return b=>r(this,void 0,void 0,function*(){return[{instruction:yield l.methods.closeDisbandedFleet(g).accountsStrict({key:d.publicKey(),playerProfile:y,fundsTo:h==="funder"?b.publicKey():h,disbandedFleet:m,fleetShips:f}).instruction(),signers:[d]}]})}static decodeData(l,d){return(0,o.decodeAccount)(l,d,s)}};n.DisbandedFleet=c,c.ACCOUNT_NAME="disbandedFleet",c.MIN_DATA_SIZE=8+1+32+32+32+32+n.SHIP_COUNTS_SIZE+1,n.DisbandedFleet=c=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],c)})(qK);var jK={},HK={},XZ={};function TO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function dat(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function gz(n,...e){if(!dat(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function fat(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");TO(n.outputLen),TO(n.blockLen)}function tw(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function VPe(n,e){gz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const lN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hat=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),dN=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Nd=(n,e)=>n<<32-e|n>>>e,qhe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,gat=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function jhe(n){for(let e=0;e<n.length;e++)n[e]=gat(n[e])}function mat(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function GK(n){return typeof n=="string"&&(n=mat(n)),gz(n),n}function yat(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];gz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class QZ{clone(){return this._cloneInto()}}function eJ(n){const e=r=>n().update(GK(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function qPe(n=32){if(lN&&typeof lN.getRandomValues=="function")return lN.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function pat(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const bat=(n,e,t)=>n&e^~n&t,Sat=(n,e,t)=>n&e^n&t^e&t;class jPe extends QZ{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=dN(this.buffer)}update(e){tw(this);const{view:t,buffer:r,blockLen:s}=this;e=GK(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=dN(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){tw(this),VPe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;pat(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=dN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const _$=BigInt(2**32-1),lq=BigInt(32);function HPe(n,e=!1){return e?{h:Number(n&_$),l:Number(n>>lq&_$)}:{h:Number(n>>lq&_$)|0,l:Number(n&_$)|0}}function GPe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=HPe(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const kat=(n,e)=>BigInt(n>>>0)<<lq|BigInt(e>>>0),vat=(n,e,t)=>n>>>t,Aat=(n,e,t)=>n<<32-t|e>>>t,wat=(n,e,t)=>n>>>t|e<<32-t,Iat=(n,e,t)=>n<<32-t|e>>>t,Pat=(n,e,t)=>n<<64-t|e>>>t-32,_at=(n,e,t)=>n>>>t-32|e<<64-t,Eat=(n,e)=>e,xat=(n,e)=>n,YPe=(n,e,t)=>n<<t|e>>>32-t,ZPe=(n,e,t)=>e<<t|n>>>32-t,JPe=(n,e,t)=>e<<t-32|n>>>64-t,XPe=(n,e,t)=>n<<t-32|e>>>64-t;function Tat(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Rat=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Cat=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Mat=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Bat=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,zat=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),$at=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Dat={fromBig:HPe,split:GPe,toBig:kat,shrSH:vat,shrSL:Aat,rotrSH:wat,rotrSL:Iat,rotrBH:Pat,rotrBL:_at,rotr32H:Eat,rotr32L:xat,rotlSH:YPe,rotlSL:ZPe,rotlBH:JPe,rotlBL:XPe,add:Tat,add3L:Rat,add3H:Cat,add4L:Mat,add4H:Bat,add5H:$at,add5L:zat};var Or=Dat;const[Oat,Kat]=(()=>Or.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Hm=new Uint32Array(80),Gm=new Uint32Array(80);class Lat extends jPe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Hm[p]=e.getUint32(t),Gm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Hm[p-15]|0,w=Gm[p-15]|0,A=Or.rotrSH(I,w,1)^Or.rotrSH(I,w,8)^Or.shrSH(I,w,7),_=Or.rotrSL(I,w,1)^Or.rotrSL(I,w,8)^Or.shrSL(I,w,7),E=Hm[p-2]|0,M=Gm[p-2]|0,P=Or.rotrSH(E,M,19)^Or.rotrBH(E,M,61)^Or.shrSH(E,M,6),R=Or.rotrSL(E,M,19)^Or.rotrBL(E,M,61)^Or.shrSL(E,M,6),$=Or.add4L(_,R,Gm[p-7],Gm[p-16]),z=Or.add4H($,A,P,Hm[p-7],Hm[p-16]);Hm[p]=z|0,Gm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Or.rotrSH(d,y,14)^Or.rotrSH(d,y,18)^Or.rotrBH(d,y,41),w=Or.rotrSL(d,y,14)^Or.rotrSL(d,y,18)^Or.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Or.add5L(S,w,_,Kat[p],Gm[p]),M=Or.add5H(E,b,I,A,Oat[p],Hm[p]),P=E|0,R=Or.rotrSH(r,s,28)^Or.rotrBH(r,s,34)^Or.rotrBH(r,s,39),$=Or.rotrSL(r,s,28)^Or.rotrBL(r,s,34)^Or.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Or.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Or.add3L(P,$,T);r=Or.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Or.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Or.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Or.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Or.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Or.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Or.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Or.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Or.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Hm.fill(0),Gm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Wat=eJ(()=>new Lat);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tJ=BigInt(0),YK=BigInt(1),Nat=BigInt(2);function ES(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function mz(n){if(!ES(n))throw new Error("Uint8Array expected")}function Jg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Fat=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function xS(n){mz(n);let e="";for(let t=0;t<n.length;t++)e+=Fat[n[t]];return e}function QPe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function rJ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Ch={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Hhe(n){if(n>=Ch._0&&n<=Ch._9)return n-Ch._0;if(n>=Ch._A&&n<=Ch._F)return n-(Ch._A-10);if(n>=Ch._a&&n<=Ch._f)return n-(Ch._a-10)}function rw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Hhe(n.charCodeAt(i)),a=Hhe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function H1(n){return rJ(xS(n))}function uA(n){return mz(n),rJ(xS(Uint8Array.from(n).reverse()))}function nw(n,e){return rw(n.toString(16).padStart(e*2,"0"))}function HM(n,e){return nw(n,e).reverse()}function Uat(n){return rw(QPe(n))}function na(n,e,t){let r;if(typeof e=="string")try{r=rw(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(ES(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function TS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];mz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Vat(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function qat(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const fN=n=>typeof n=="bigint"&&tJ<=n;function ZK(n,e,t){return fN(n)&&fN(e)&&fN(t)&&e<=n&&n<t}function Pl(n,e,t,r){if(!ZK(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function jat(n){let e;for(e=0;n>tJ;n>>=YK,e+=1);return e}function Hat(n,e){return n>>BigInt(e)&YK}function Gat(n,e,t){return n|(t?YK:tJ)<<BigInt(e)}const nJ=n=>(Nat<<BigInt(n-1))-YK,hN=n=>new Uint8Array(n),Ghe=n=>Uint8Array.from(n);function e_e(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=hN(n),s=hN(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=hN())=>{s=a(Ghe([0]),d),r=a(),d.length!==0&&(s=a(Ghe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return TS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Yat={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||ES(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function fT(n,e,t={}){const r=(s,i,o)=>{const a=Yat[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Zat=()=>{throw new Error("not implemented")};function GM(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Jat=Object.freeze(Object.defineProperty({__proto__:null,isBytes:ES,abytes:mz,abool:Jg,bytesToHex:xS,numberToHexUnpadded:QPe,hexToNumber:rJ,hexToBytes:rw,bytesToNumberBE:H1,bytesToNumberLE:uA,numberToBytesBE:nw,numberToBytesLE:HM,numberToVarBytesBE:Uat,ensureBytes:na,concatBytes:TS,equalBytes:Vat,utf8ToBytes:qat,inRange:ZK,aInRange:Pl,bitLen:jat,bitGet:Hat,bitSet:Gat,bitMask:nJ,createHmacDrbg:e_e,validateObject:fT,notImplemented:Zat,memoized:GM},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qa=BigInt(0),Ki=BigInt(1),d1=BigInt(2),Xat=BigInt(3),dq=BigInt(4),Yhe=BigInt(5),Zhe=BigInt(8);BigInt(9);BigInt(16);function pi(n,e){const t=n%e;return t>=Qa?t:e+t}function Qat(n,e,t){if(t<=Qa||e<Qa)throw new Error("Expected power/modulo > 0");if(t===Ki)return Qa;let r=Ki;for(;e>Qa;)e&Ki&&(r=r*n%t),n=n*n%t,e>>=Ki;return r}function ro(n,e,t){let r=n;for(;e-- >Qa;)r*=r,r%=t;return r}function fq(n,e){if(n===Qa||e<=Qa)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=pi(n,e),r=e,s=Qa,i=Ki;for(;t!==Qa;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Ki)throw new Error("invert: does not exist");return pi(s,e)}function ect(n){const e=(n-Ki)/d1;let t,r,s;for(t=n-Ki,r=0;t%d1===Qa;t/=d1,r++);for(s=d1;s<n&&Qat(s,e,n)!==n-Ki;s++);if(r===1){const o=(n+Ki)/dq;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Ki)/d1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Ki<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function tct(n){if(n%dq===Xat){const e=(n+Ki)/dq;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Zhe===Yhe){const e=(n-Yhe)/Zhe;return function(r,s){const i=r.mul(s,d1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,d1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return ect(n)}const rct=(n,e)=>(pi(n,e)&Ki)===Ki,nct=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function sct(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=nct.reduce((r,s)=>(r[s]="function",r),e);return fT(n,t)}function ict(n,e,t){if(t<Qa)throw new Error("Expected power > 0");if(t===Qa)return n.ONE;if(t===Ki)return e;let r=n.ONE,s=e;for(;t>Qa;)t&Ki&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Ki;return r}function oct(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function t_e(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function r_e(n,e,t=!1,r={}){if(n<=Qa)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=t_e(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=tct(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:nJ(s),ZERO:Qa,ONE:Ki,create:c=>pi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Qa<=c&&c<n},is0:c=>c===Qa,isOdd:c=>(c&Ki)===Ki,neg:c=>pi(-c,n),eql:(c,u)=>c===u,sqr:c=>pi(c*c,n),add:(c,u)=>pi(c+u,n),sub:(c,u)=>pi(c-u,n),mul:(c,u)=>pi(c*u,n),pow:(c,u)=>ict(a,c,u),div:(c,u)=>pi(c*fq(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>fq(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>oct(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?HM(c,i):nw(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?uA(c):H1(c)}});return Object.freeze(a)}function n_e(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function s_e(n){const e=n_e(n);return e+Math.ceil(e/2)}function act(n,e,t=!1){const r=n.length,s=n_e(e),i=s_e(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?H1(n):uA(n),a=pi(o,e-Ki)+Ki;return t?HM(a,s):nw(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cct=BigInt(0),gN=BigInt(1),mN=new WeakMap,Jhe=new WeakMap;function i_e(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>cct;)o&gN&&(a=a.add(c)),c=c.double(),o>>=gN;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=gN);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Jhe.get(i)||1;let u=mN.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&mN.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Jhe.set(i,o),mN.delete(i)}}}function sJ(n){return sct(n.Fp),fT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...t_e(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nl=BigInt(0),qc=BigInt(1),E$=BigInt(2),uct=BigInt(8),lct={zip215:!0};function dct(n){const e=sJ(n);return fT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function fct(n){const e=dct(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=E$<<BigInt(a*8)-qc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Nl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Jg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){Pl("coordinate "+v,k,Nl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=GM((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?uct:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Nl,y:qc};if(L!==qc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=GM(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,qc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(E$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Nl)return this.double();const Ue=l(D*E$*J),Wt=l(W*E$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;Pl("scalar",x,qc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return Pl("scalar",x,Nl,r),x===Nl?I:this.equals(I)||x===qc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===qc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=na("pointHex",k,O),Jg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=uA(D),N=x?u:t.ORDER;Pl("pointHex.y",L,Nl,N);const H=l(L*L),J=l(H-qc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&qc)===qc,se=(W&128)!==0;if(!x&&X===Nl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=HM(x,t.BYTES);return C[C.length-1]|=k&qc?128:0,C}toHex(){return xS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,qc,l(e.Gx*e.Gy)),S.ZERO=new S(Nl,qc,qc,Nl);const{BASE:p,ZERO:I}=S,w=i_e(S,a*8);function A(v){return pi(v,r)}function _(v){return A(uA(v))}function E(v){const k=a;v=na("private key",v,k);const x=na("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=TS(...k);return _(i(h(x,na("context",v),!!s)))}function R(v,k,x={}){v=na("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);Pl("signature.s",N,Nl,r);const H=TS(W,HM(N,t.BYTES));return na("result",H,a*2)}const $=lct;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=na("signature",v,2*D),k=na("message",k),O!==void 0&&Jg("zip215",O),s&&(k=s(k));const W=uA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iJ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Xhe=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const hct=BigInt(1),Qhe=BigInt(2);BigInt(3);const gct=BigInt(5),mct=BigInt(8);function yct(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=iJ,a=n*n%i*n%i,c=ro(a,Qhe,i)*a%i,u=ro(c,hct,i)*n%i,l=ro(u,gct,i)*u%i,d=ro(l,e,i)*l%i,y=ro(d,t,i)*d%i,h=ro(y,r,i)*y%i,m=ro(h,s,i)*h%i,f=ro(m,s,i)*h%i,g=ro(f,e,i)*l%i;return{pow_p_5_8:ro(g,Qhe,i)*n%i,b2:a}}function pct(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function bct(n,e){const t=iJ,r=pi(e*e*e,t),s=pi(r*r*e,t),i=yct(n*s).pow_p_5_8;let o=pi(n*r*i,t);const a=pi(e*o*o,t),c=o,u=pi(o*Xhe,t),l=a===n,d=a===pi(-n,t),y=a===pi(-n*Xhe,t);return l&&(o=c),(d||y)&&(o=u),rct(o,t)&&(o=pi(-o,t)),{isValid:l||d,value:o}}const Sct=(()=>r_e(iJ,void 0,!0))(),kct=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Sct,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:mct,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Wat,randomBytes:qPe,adjustScalarBytes:pct,uvRatio:bct}))(),hT=(()=>fct(kct))(),vct=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ym=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zm=new Uint32Array(64);class Act extends jPe{constructor(){super(64,32,8,!1),this.A=Ym[0]|0,this.B=Ym[1]|0,this.C=Ym[2]|0,this.D=Ym[3]|0,this.E=Ym[4]|0,this.F=Ym[5]|0,this.G=Ym[6]|0,this.H=Ym[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)Zm[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=Zm[d-15],h=Zm[d-2],m=Nd(y,7)^Nd(y,18)^y>>>3,f=Nd(h,17)^Nd(h,19)^h>>>10;Zm[d]=f+Zm[d-7]+m+Zm[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Nd(a,6)^Nd(a,11)^Nd(a,25),h=l+y+bat(a,c,u)+vct[d]+Zm[d]|0,f=(Nd(r,2)^Nd(r,13)^Nd(r,22))+Sat(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Zm.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const hq=eJ(()=>new Act);class wct extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Ict(n){return yz(n)&&typeof n[Symbol.iterator]=="function"}function yz(n){return typeof n=="object"&&n!=null}function RO(n){return yz(n)&&!Array.isArray(n)}function wd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Pct(n){const{done:e,value:t}=n.next();return e?void 0:t}function _ct(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${wd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*ege(n,e,t,r){Ict(n)||(n=[n]);for(const s of n){const i=_ct(s,e,t,r);i&&(yield i)}}function*oJ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=oJ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):yz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class mh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return ege(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return ege(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return o_e(e,this,t)}create(e,t){return pt(e,this,t)}is(e){return a_e(e,this)}mask(e,t){return Ect(e,this,t)}validate(e,t={}){return pz(e,this,t)}}function o_e(n,e,t){const r=pz(n,e,{message:t});if(r[0])throw r[0]}function pt(n,e,t){const r=pz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function Ect(n,e,t){const r=pz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function a_e(n,e){return!pz(n,e)[0]}function pz(n,e,t={}){const r=oJ(n,e,t),s=Pct(r);if(s[0])return[new wct(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function gk(n,e){return new mh({type:n,schema:null,validator:e})}function xct(){return gk("any",()=>!0)}function Pt(n){return new mh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${wd(e)}`}})}function nh(){return gk("boolean",n=>typeof n=="boolean")}function aJ(n){return gk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${wd(e)}`)}function Ti(n){const e=wd(n),t=typeof n;return new mh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${wd(r)}`}})}function Tct(){return gk("never",()=>!1)}function Bt(n){return new mh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function pe(){return gk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${wd(n)}`)}function gr(n){return new mh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function c_e(n,e){return new mh({type:"record",schema:null,*entries(t){if(yz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return RO(t)||`Expected an object, but received: ${wd(t)}`},coercer(t){return RO(t)?{...t}:t}})}function Ye(){return gk("string",n=>typeof n=="string"||`Expected a string, but received: ${wd(n)}`)}function cJ(n){const e=Tct();return new mh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${wd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function Be(n){const e=Object.keys(n);return new mh({type:"type",schema:n,*entries(t){if(yz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return RO(t)||`Expected an object, but received: ${wd(t)}`},coercer(t){return RO(t)?{...t}:t}})}function zc(n){const e=n.map(t=>t.type).join(" | ");return new mh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=oJ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${wd(t)}`,...s]}})}function gT(){return gk("unknown",()=>!0)}function bz(n,e,t){return new mh({...n,coercer:(r,s)=>a_e(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const u_e=[],l_e=[],d_e=[],Rct=BigInt(0),CR=BigInt(1),Cct=BigInt(2),Mct=BigInt(7),Bct=BigInt(256),zct=BigInt(113);for(let n=0,e=CR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],u_e.push(2*(5*r+t)),l_e.push((n+1)*(n+2)/2%64);let s=Rct;for(let i=0;i<7;i++)e=(e<<CR^(e>>Mct)*zct)%Bct,e&Cct&&(s^=CR<<(CR<<BigInt(i))-CR);d_e.push(s)}const[$ct,Dct]=GPe(d_e,!0),tge=(n,e,t)=>t>32?JPe(n,e,t):YPe(n,e,t),rge=(n,e,t)=>t>32?XPe(n,e,t):ZPe(n,e,t);function Oct(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=tge(u,l,1)^t[a],y=rge(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=l_e[o],c=tge(s,i,a),u=rge(s,i,a),l=u_e[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=$ct[r],n[1]^=Dct[r]}t.fill(0)}class uJ extends QZ{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,TO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=hat(this.state)}keccak(){qhe||jhe(this.state32),Oct(this.state32,this.rounds),qhe||jhe(this.state32),this.posOut=0,this.pos=0}update(e){tw(this);const{blockLen:t,state:r}=this;e=GK(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){tw(this,!1),gz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return TO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(VPe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new uJ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Kct=(n,e,t)=>eJ(()=>new uJ(e,n,t)),nge=Kct(1,136,256/8);class f_e extends QZ{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,fat(e);const r=GK(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return tw(this),this.iHash.update(e),this}digestInto(e){tw(this),gz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const h_e=(n,e,t)=>new f_e(n,e).update(t).digest();h_e.create=(n,e)=>new f_e(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function sge(n){n.lowS!==void 0&&Jg("lowS",n.lowS),n.prehash!==void 0&&Jg("prehash",n.prehash)}function Lct(n){const e=sJ(n);fT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Wct,hexToBytes:Nct}=Jat,$1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=$1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Wct(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=$1,t=typeof n=="string"?Nct(n):n;mz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=$1._parseInt(t.subarray(2)),{d:o,l:a}=$1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},My=BigInt(0),ma=BigInt(1);BigInt(2);const ige=BigInt(3);BigInt(4);function Fct(n){const e=Lct(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return TS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return ZK(m,ma,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(ES(m)&&(m=xS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:H1(na("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=pi(p,S)),Pl("private key",p,ma,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=GM((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=GM(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(na("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,ige),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,ige);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){Pl("scalar",f,My,e.n);const g=d.ZERO;if(f===My)return g;if(f===ma)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>My||w>My;)p&ma&&(A=A.add(E)),w&ma&&(_=_.add(E)),E=E.double(),p>>=ma,w>>=ma;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;Pl("scalar",f,ma,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===My||A===ma||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ma)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ma?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Jg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Jg("isCompressed",f),xS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=i_e(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Uct(n){const e=sJ(n);return fT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Vct(n){const e=Uct(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return pi(T,r)}function a(T){return fq(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Fct({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=TS;return Jg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=H1(x);if(!ZK(C,ma,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&ma)===ma;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>xS(nw(T,e.nByteLength));function h(T){const v=r>>ma;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>H1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=na("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=$1.toSig(na("DER",v));return new g(k,x)}assertValidity(){Pl("r",this.r,ma,r),Pl("s",this.s,ma,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(na("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return rw(this.toDERHex())}toDERHex(){return $1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rw(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=s_e(e.n);return act(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=ES(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=H1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=nJ(e.nBitLength);function E(T){return Pl(`num < 2^${e.nBitLength}`,T,My,_),nw(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=na("msgHash",T),sge(k),O&&(T=na("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(na("extraEntropy",Y))}const H=TS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===My)return;const ne=o(re*o(J+ee*L));if(ne===My)return;let ve=(se.x===ee?0:2)|Number(se.y&ma),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return e_e(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=na("msgHash",v),k=na("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");sge(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||ES(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof $1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qct(n){return{hash:n,hmac:(e,...t)=>h_e(n,e,yat(...t)),randomBytes:qPe}}function jct(n,e){const t=r=>Vct({...n,...qct(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const g_e=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),oge=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Hct=BigInt(1),gq=BigInt(2),age=(n,e)=>(n+e/gq)/e;function Gct(n){const e=g_e,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=ro(l,t,e)*l%e,y=ro(d,t,e)*l%e,h=ro(y,gq,e)*u%e,m=ro(h,s,e)*h%e,f=ro(m,i,e)*m%e,g=ro(f,a,e)*f%e,b=ro(g,c,e)*g%e,S=ro(b,a,e)*f%e,p=ro(S,t,e)*l%e,I=ro(p,o,e)*m%e,w=ro(I,r,e)*u%e,A=ro(w,gq,e);if(!mq.eql(mq.sqr(A),n))throw new Error("Cannot find square root");return A}const mq=r_e(g_e,void 0,void 0,{sqrt:Gct}),JK=jct({a:BigInt(0),b:BigInt(7),Fp:mq,n:oge,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=oge,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Hct*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=age(i*n,e),c=age(-r*n,e);let u=pi(n-a*t-c*s,e),l=pi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},hq);BigInt(0);JK.ProjectivePoint;const Yct=hT.utils.randomPrivateKey,cge=()=>{const n=hT.utils.randomPrivateKey(),e=CO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},CO=hT.getPublicKey;function uge(n){try{return hT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const lJ=(n,e)=>hT.sign(n,e.slice(0,32)),Zct=hT.verify,rn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class dJ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(om(U2,this))}static decode(e){return am(U2,this,e)}static decodeUnchecked(e){return cm(U2,this,e)}}class Jct extends dJ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const U2=new Map;var m_e;const y_e=32,jf=32;function Xct(n){return n._bn!==void 0}let lge=1;class ot extends dJ{constructor(e){if(super({}),this._bn=void 0,Xct(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=jf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>jf)throw new Error("Invalid public key input")}}static unique(){const e=new ot(lge);return lge+=1,new ot(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===jf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=hq(s);return new ot(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>y_e)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,rn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=hq(r);if(uge(s))throw new Error("Invalid seeds, address must fall off the curve");return new ot(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ot(e);return uge(t.toBytes())}}m_e=ot;ot.default=new m_e("11111111111111111111111111111111");U2.set(ot,{kind:"struct",fields:[["_bn","u256"]]});class Qct{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=rn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=rn(Yct()),this._publicKey=rn(CO(this._secretKey))}get publicKey(){return new ot(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const eut=new ot("BPFLoader1111111111111111111111111111111111"),Yy=1280-40-8,XK=127,YM=64;class fJ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(fJ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class hJ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(hJ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Bv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Bv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ZM{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const vn=(n="publicKey")=>ie(32,n),tut=(n="signature")=>ie(64,n),D1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},rut=(n="authorized")=>F([vn("staker"),vn("withdrawer")],n),nut=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),vn("custodian")],n),sut=(n="voteInit")=>F([vn("nodePubkey"),vn("authorizedVoter"),vn("authorizedWithdrawer"),te("commission")],n),iut=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),vn("currentAuthorityDerivedKeyOwnerPubkey"),D1("currentAuthorityDerivedKeySeed"),vn("newAuthorized")],n);function p_e(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return p_e({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function lu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Fu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Un(n,e){if(!n)throw new Error(e||"Assertion failed")}class QK{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new QK(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Un(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Un(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Un(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ot(c)),...r.map(([c])=>new ot(c)),...s.map(([c])=>new ot(c)),...i.map(([c])=>new ot(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ot(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Un(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const b_e="Reached end of buffer unexpectedly";function Ef(n){if(n.length===0)throw new Error(b_e);return n.shift()}function du(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(b_e);return n.splice(...e)}class Id{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ot(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ZM(this.staticAccountKeys)}static compile(e){const t=QK.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new ZM(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new Id({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Fu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Fu(f,y.length);let g=[];return Fu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Fu(s,r.length);let i=V.Buffer.alloc(Yy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(vn("key"),e,"keys"),vn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>rn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Ef(t);if(r!==(r&XK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Ef(t),i=Ef(t),o=lu(t);let a=[];for(let y=0;y<o;y++){const h=du(t,0,jf);a.push(new ot(V.Buffer.from(h)))}const c=du(t,0,jf),u=lu(t);let l=[];for(let y=0;y<u;y++){const h=Ef(t),m=lu(t),f=du(t,0,m),g=lu(t),b=du(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new Id(d)}}class RS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ZM(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=QK.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new ZM(a,s).compileInstructions(e.instructions);return new RS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Fu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Fu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Fu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(vn(),this.staticAccountKeys.length,"staticAccountKeys"),vn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Yy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Yy);for(const r of this.compiledInstructions){const s=Array();Fu(s,r.accountKeyIndexes.length);const i=Array();Fu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Yy);for(const r of this.addressTableLookups){const s=Array();Fu(s,r.writableIndexes.length);const i=Array();Fu(i,r.readonlyIndexes.length),e+=F([vn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Ef(t),s=r&XK;Un(r!==s,"Expected versioned message but received legacy message");const i=s;Un(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Ef(t),numReadonlySignedAccounts:Ef(t),numReadonlyUnsignedAccounts:Ef(t)},a=[],c=lu(t);for(let m=0;m<c;m++)a.push(new ot(du(t,0,jf)));const u=Ie.encode(du(t,0,jf)),l=lu(t),d=[];for(let m=0;m<l;m++){const f=Ef(t),g=lu(t),b=du(t,0,g),S=lu(t),p=new Uint8Array(du(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=lu(t),h=[];for(let m=0;m<y;m++){const f=new ot(du(t,0,jf)),g=lu(t),b=du(t,0,g),S=lu(t),p=du(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new RS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const gJ={deserializeMessageVersion(n){const e=n[0],t=e&XK;return t===e?"legacy":t},deserialize:n=>{const e=gJ.deserializeMessageVersion(n);if(e==="legacy")return Id.from(n);if(e===0)return RS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ag=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const out=V.Buffer.alloc(YM).fill(0);class As{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Zn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new As(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ot(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Un(f.programIdIndex>=0),f.accounts.forEach(g=>Un(g>=0))}),new Id({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=lJ(r,s.secretKey);this._addSignature(s.publicKey,rn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Un(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):Zct(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Fu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Un(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Un(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Un(i.length<=Yy,`Transaction too large: ${i.length} > ${Yy}`),i}get keys(){return Un(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Un(this.instructions.length===1),this.instructions[0].programId}get data(){return Un(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=lu(t);let s=[];for(let i=0;i<r;i++){const o=du(t,0,YM);s.push(Ie.encode(V.Buffer.from(o)))}return Zn.populate(Id.from(t),s)}static populate(e,t=[]){const r=new Zn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(out)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new As({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class mJ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Un(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Un(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new As({programId:g,data:rn(m.data),keys:f}))}return new mJ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return Id.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return RS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class yJ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Un(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(YM));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Fu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(tut(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=lu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(du(t,0,YM)));const i=gJ.deserialize(new Uint8Array(t));return new yJ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Un(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=lJ(t,s.secretKey)}}addSignature(e,t){Un(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Un(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const aut=160,cut=64,uut=aut/cut,S_e=1e3/uut,af=new ot("SysvarC1ock11111111111111111111111111111111"),lut=new ot("SysvarEpochSchedu1e111111111111111111111111"),dut=new ot("Sysvar1nstructions1111111111111111111111111"),RD=new ot("SysvarRecentB1ockHashes11111111111111111111"),sw=new ot("SysvarRent111111111111111111111111111111111"),fut=new ot("SysvarRewards111111111111111111111111111111"),hut=new ot("SysvarS1otHashes111111111111111111111111111"),gut=new ot("SysvarS1otHistory11111111111111111111111111"),CD=new ot("SysvarStakeHistory1111111111111111111111111");class JM extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const mut={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Xt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function yq(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new JM({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function f1(n){return new Promise(e=>setTimeout(e,n))}function Mn(n,e){const t=n.layout.span>=0?n.layout.span:p_e(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function is(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const k_e=Ae("lamportsPerSignature"),v_e=F([U("version"),U("state"),vn("authorizedPubkey"),vn("nonce"),F([k_e],"feeCalculator")]),pq=v_e.span;class e6{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=v_e.decode(rn(e),0);return new e6({authorizedPubkey:new ot(t.authorizedPubkey),nonce:new ot(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const yut=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},put=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=yut(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return um(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},iw=put(8);class but{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ls))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=is(Ls.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ot(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=is(Ls.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=is(Ls.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ot(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=is(Ls.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=is(Ls.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(t),seed:r,space:s,programId:new ot(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=is(Ls.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ot(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=is(Ls.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ot(t),seed:r,programId:new ot(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=is(Ls.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ot(t),seed:r,lamports:s,space:i,programId:new ot(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=is(Ls.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ot(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),is(Ls.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=is(Ls.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=is(Ls.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ot(t)}}static checkProgramId(e){if(!e.equals(Ua.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ls=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),vn("programId")])},Assign:{index:1,layout:F([U("instruction"),vn("programId")])},Transfer:{index:2,layout:F([U("instruction"),iw("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),vn("base"),D1("seed"),_e("lamports"),_e("space"),vn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),vn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),vn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),vn("base"),D1("seed"),_e("space"),vn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),vn("base"),D1("seed"),vn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),iw("lamports"),D1("seed"),vn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Ua{constructor(){}static createAccount(e){const t=Ls.Create,r=Mn(t,{lamports:e.lamports,space:e.space,programId:rn(e.programId.toBuffer())});return new As({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ls.TransferWithSeed;t=Mn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ls.Transfer;t=Mn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new As({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ls.AssignWithSeed;t=Mn(s,{base:rn(e.basePubkey.toBuffer()),seed:e.seed,programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ls.Assign;t=Mn(s,{programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new As({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ls.CreateWithSeed,r=Mn(t,{base:rn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:rn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new As({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Zn;"basePubkey"in e&&"seed"in e?t.add(Ua.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:pq,programId:this.programId})):t.add(Ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:pq,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ls.InitializeNonceAccount,r=Mn(t,{authorized:rn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:RD,isSigner:!1,isWritable:!1},{pubkey:sw,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new As(s)}static nonceAdvance(e){const t=Ls.AdvanceNonceAccount,r=Mn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:RD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new As(s)}static nonceWithdraw(e){const t=Ls.WithdrawNonceAccount,r=Mn(t,{lamports:e.lamports});return new As({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:RD,isSigner:!1,isWritable:!1},{pubkey:sw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ls.AuthorizeNonceAccount,r=Mn(t,{authorized:rn(e.newAuthorizedPubkey.toBuffer())});return new As({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ls.AllocateWithSeed;t=Mn(s,{base:rn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:rn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ls.Allocate;t=Mn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new As({keys:r,programId:this.programId,data:t})}}Ua.programId=new ot("11111111111111111111111111111111");const Sut=Yy-300;class CS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/CS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Zn,h.add(Ua.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Zn,h.add(Ua.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Zn,h.add(Ua.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Zn().add(Ua.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await yq(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=CS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Zn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(yq(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await f1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Zn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:sw,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(S_e/2)))}}return!0}}CS.chunkSize=Sut;const kut=new ot("BPFLoader2111111111111111111111111111111111");class vut{static getMinNumSignatures(e){return CS.getMinNumSignatures(e)}static load(e,t,r,s,i){return CS.load(e,t,r,i,s)}}function Aut(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yN,dge;function wut(){if(dge)return yN;dge=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return yN=function(r){var s=t(r,!1);if(s!==void 0)return""+s},yN}var Iut=wut(),fge=Aut(Iut);const MR=32;function pN(n){let e=0;for(;n>1;)n/=2,e++;return e}function Put(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class A_e{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=pN(Put(e+MR+1))-pN(MR)-1,r=this.getSlotsInEpoch(t),s=e-(r-MR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*MR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+pN(MR)):this.slotsPerEpoch}}var _ut=globalThis.fetch;class Eut extends Bb{constructor(e,t,r){const s=i=>{const o=$b(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function xut(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const hge=56;class bq{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=xut(Tut,e),r=e.length-hge;Un(r>=0,"lookup table is invalid"),Un(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(vn(),s,"addresses")]).decode(e.slice(hge));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ot(t.authority[0]):void 0,addresses:i.map(o=>new ot(o))}}}const Tut={index:1,layout:F([U("typeIndex"),iw("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(vn(),Vt(te(),-1),"authority")])},Rut=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Cut(n){const e=n.match(Rut);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const ji=bz(aJ(ot),Ye(),n=>new ot(n)),w_e=cJ([Ye(),Ti("base64")]),pJ=bz(aJ(V.Buffer),w_e,n=>V.Buffer.from(n[0],"base64")),I_e=30*1e3;function Mut(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Rs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function gge(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function P_e(n){return zc([Be({jsonrpc:Ti("2.0"),id:Ye(),result:n}),Be({jsonrpc:Ti("2.0"),id:Ye(),error:Be({code:gT(),message:Ye(),data:gr(xct())})})])}const But=P_e(gT());function Hr(n){return bz(P_e(n),But,e=>"error"in e?e:{...e,result:pt(e.result,n)})}function go(n){return Hr(Be({context:Be({slot:pe()}),value:n}))}function t6(n){return Be({context:Be({slot:pe()}),value:n})}function bN(n,e){return n===0?new RS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ot(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new Id(e)}const zut=Be({foundation:pe(),foundationTerm:pe(),initial:pe(),taper:pe(),terminal:pe()}),$ut=Hr(Pt(Bt(Be({epoch:pe(),effectiveSlot:pe(),amount:pe(),postBalance:pe(),commission:gr(Bt(pe()))})))),Dut=Pt(Be({slot:pe(),prioritizationFee:pe()})),Out=Be({total:pe(),validator:pe(),foundation:pe(),epoch:pe()}),Kut=Be({epoch:pe(),slotIndex:pe(),slotsInEpoch:pe(),absoluteSlot:pe(),blockHeight:gr(pe()),transactionCount:gr(pe())}),Lut=Be({slotsPerEpoch:pe(),leaderScheduleSlotOffset:pe(),warmup:nh(),firstNormalEpoch:pe(),firstNormalSlot:pe()}),Wut=c_e(Ye(),Pt(pe())),mk=Bt(zc([Be({}),Ye()])),Nut=Be({err:mk}),Fut=Ti("receivedSignature"),Uut=Be({"solana-core":Ye(),"feature-set":gr(pe())}),Vut=Be({program:Ye(),programId:ji,parsed:gT()}),qut=Be({programId:ji,accounts:Pt(ji),data:Ye()}),mge=go(Be({err:Bt(zc([Be({}),Ye()])),logs:Bt(Pt(Ye())),accounts:gr(Bt(Pt(Bt(Be({executable:nh(),owner:Ye(),lamports:pe(),data:Pt(Ye()),rentEpoch:gr(pe())}))))),unitsConsumed:gr(pe()),returnData:gr(Bt(Be({programId:Ye(),data:cJ([Ye(),Ti("base64")])}))),innerInstructions:gr(Bt(Pt(Be({index:pe(),instructions:Pt(zc([Vut,qut]))}))))})),jut=go(Be({byIdentity:c_e(Ye(),Pt(pe())),range:Be({firstSlot:pe(),lastSlot:pe()})}));function Hut(n,e,t,r,s,i){const o=t||_ut;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new zb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},Glt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await f1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function Gut(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function Yut(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const Zut=Hr(zut),Jut=Hr(Out),Xut=Hr(Dut),Qut=Hr(Kut),elt=Hr(Lut),tlt=Hr(Wut),rlt=Hr(pe()),nlt=go(Be({total:pe(),circulating:pe(),nonCirculating:pe(),nonCirculatingAccounts:Pt(ji)})),Sq=Be({amount:Ye(),uiAmount:Bt(pe()),decimals:pe(),uiAmountString:gr(Ye())}),slt=go(Pt(Be({address:ji,amount:Ye(),uiAmount:Bt(pe()),decimals:pe(),uiAmountString:gr(Ye())}))),ilt=go(Pt(Be({pubkey:ji,account:Be({executable:nh(),owner:ji,lamports:pe(),data:pJ,rentEpoch:pe()})}))),kq=Be({program:Ye(),parsed:gT(),space:pe()}),olt=go(Pt(Be({pubkey:ji,account:Be({executable:nh(),owner:ji,lamports:pe(),data:kq,rentEpoch:pe()})}))),alt=go(Pt(Be({lamports:pe(),address:ji}))),XM=Be({executable:nh(),owner:ji,lamports:pe(),data:pJ,rentEpoch:pe()}),clt=Be({pubkey:ji,account:XM}),ult=bz(zc([aJ(V.Buffer),kq]),zc([w_e,kq]),n=>Array.isArray(n)?pt(n,pJ):n),vq=Be({executable:nh(),owner:ji,lamports:pe(),data:ult,rentEpoch:pe()}),llt=Be({pubkey:ji,account:vq}),dlt=Be({state:zc([Ti("active"),Ti("inactive"),Ti("activating"),Ti("deactivating")]),active:pe(),inactive:pe()}),flt=Hr(Pt(Be({signature:Ye(),slot:pe(),err:mk,memo:Bt(Ye()),blockTime:gr(Bt(pe()))}))),hlt=Hr(Pt(Be({signature:Ye(),slot:pe(),err:mk,memo:Bt(Ye()),blockTime:gr(Bt(pe()))}))),glt=Be({subscription:pe(),result:t6(XM)}),mlt=Be({pubkey:ji,account:XM}),ylt=Be({subscription:pe(),result:t6(mlt)}),plt=Be({parent:pe(),slot:pe(),root:pe()}),blt=Be({subscription:pe(),result:plt}),Slt=zc([Be({type:zc([Ti("firstShredReceived"),Ti("completed"),Ti("optimisticConfirmation"),Ti("root")]),slot:pe(),timestamp:pe()}),Be({type:Ti("createdBank"),parent:pe(),slot:pe(),timestamp:pe()}),Be({type:Ti("frozen"),slot:pe(),timestamp:pe(),stats:Be({numTransactionEntries:pe(),numSuccessfulTransactions:pe(),numFailedTransactions:pe(),maxTransactionsPerEntry:pe()})}),Be({type:Ti("dead"),slot:pe(),timestamp:pe(),err:Ye()})]),klt=Be({subscription:pe(),result:Slt}),vlt=Be({subscription:pe(),result:t6(zc([Nut,Fut]))}),Alt=Be({subscription:pe(),result:pe()}),wlt=Be({pubkey:Ye(),gossip:Bt(Ye()),tpu:Bt(Ye()),rpc:Bt(Ye()),version:Bt(Ye())}),yge=Be({votePubkey:Ye(),nodePubkey:Ye(),activatedStake:pe(),epochVoteAccount:nh(),epochCredits:Pt(cJ([pe(),pe(),pe()])),commission:pe(),lastVote:pe(),rootSlot:Bt(pe())}),Ilt=Hr(Be({current:Pt(yge),delinquent:Pt(yge)})),Plt=zc([Ti("processed"),Ti("confirmed"),Ti("finalized")]),_lt=Be({slot:pe(),confirmations:Bt(pe()),err:mk,confirmationStatus:gr(Plt)}),Elt=go(Pt(Bt(_lt))),xlt=Hr(pe()),__e=Be({accountKey:ji,writableIndexes:Pt(pe()),readonlyIndexes:Pt(pe())}),bJ=Be({signatures:Pt(Ye()),message:Be({accountKeys:Pt(Ye()),header:Be({numRequiredSignatures:pe(),numReadonlySignedAccounts:pe(),numReadonlyUnsignedAccounts:pe()}),instructions:Pt(Be({accounts:Pt(pe()),data:Ye(),programIdIndex:pe()})),recentBlockhash:Ye(),addressTableLookups:gr(Pt(__e))})}),E_e=Be({pubkey:ji,signer:nh(),writable:nh(),source:gr(zc([Ti("transaction"),Ti("lookupTable")]))}),x_e=Be({accountKeys:Pt(E_e),signatures:Pt(Ye())}),T_e=Be({parsed:gT(),program:Ye(),programId:ji}),R_e=Be({accounts:Pt(ji),data:Ye(),programId:ji}),Tlt=zc([R_e,T_e]),Rlt=zc([Be({parsed:gT(),program:Ye(),programId:Ye()}),Be({accounts:Pt(Ye()),data:Ye(),programId:Ye()})]),C_e=bz(Tlt,Rlt,n=>"accounts"in n?pt(n,R_e):pt(n,T_e)),M_e=Be({signatures:Pt(Ye()),message:Be({accountKeys:Pt(E_e),instructions:Pt(C_e),recentBlockhash:Ye(),addressTableLookups:gr(Bt(Pt(__e)))})}),MO=Be({accountIndex:pe(),mint:Ye(),owner:gr(Ye()),programId:gr(Ye()),uiTokenAmount:Sq}),B_e=Be({writable:Pt(ji),readonly:Pt(ji)}),r6=Be({err:mk,fee:pe(),innerInstructions:gr(Bt(Pt(Be({index:pe(),instructions:Pt(Be({accounts:Pt(pe()),data:Ye(),programIdIndex:pe()}))})))),preBalances:Pt(pe()),postBalances:Pt(pe()),logMessages:gr(Bt(Pt(Ye()))),preTokenBalances:gr(Bt(Pt(MO))),postTokenBalances:gr(Bt(Pt(MO))),loadedAddresses:gr(B_e),computeUnitsConsumed:gr(pe())}),SJ=Be({err:mk,fee:pe(),innerInstructions:gr(Bt(Pt(Be({index:pe(),instructions:Pt(C_e)})))),preBalances:Pt(pe()),postBalances:Pt(pe()),logMessages:gr(Bt(Pt(Ye()))),preTokenBalances:gr(Bt(Pt(MO))),postTokenBalances:gr(Bt(Pt(MO))),loadedAddresses:gr(B_e),computeUnitsConsumed:gr(pe())}),mT=zc([Ti(0),Ti("legacy")]),yk=Be({pubkey:Ye(),lamports:pe(),postBalance:Bt(pe()),rewardType:Bt(Ye()),commission:gr(Bt(pe()))}),Clt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:bJ,meta:Bt(r6),version:gr(mT)})),rewards:gr(Pt(yk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Mlt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),rewards:gr(Pt(yk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Blt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:x_e,meta:Bt(r6),version:gr(mT)})),rewards:gr(Pt(yk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),zlt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:M_e,meta:Bt(SJ),version:gr(mT)})),rewards:gr(Pt(yk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),$lt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:x_e,meta:Bt(SJ),version:gr(mT)})),rewards:gr(Pt(yk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Dlt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),rewards:gr(Pt(yk)),blockTime:Bt(pe()),blockHeight:Bt(pe())}))),Olt=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),transactions:Pt(Be({transaction:bJ,meta:Bt(r6)})),rewards:gr(Pt(yk)),blockTime:Bt(pe())}))),pge=Hr(Bt(Be({blockhash:Ye(),previousBlockhash:Ye(),parentSlot:pe(),signatures:Pt(Ye()),blockTime:Bt(pe())}))),SN=Hr(Bt(Be({slot:pe(),meta:Bt(r6),blockTime:gr(Bt(pe())),transaction:bJ,version:gr(mT)}))),x$=Hr(Bt(Be({slot:pe(),transaction:M_e,meta:Bt(SJ),blockTime:gr(Bt(pe())),version:gr(mT)}))),Klt=go(Be({blockhash:Ye(),feeCalculator:Be({lamportsPerSignature:pe()})})),Llt=go(Be({blockhash:Ye(),lastValidBlockHeight:pe()})),Wlt=go(nh()),Nlt=Be({slot:pe(),numTransactions:pe(),numSlots:pe(),samplePeriodSecs:pe()}),Flt=Hr(Pt(Nlt)),Ult=go(Bt(Be({feeCalculator:Be({lamportsPerSignature:pe()})}))),Vlt=Hr(Ye()),qlt=Hr(Ye()),jlt=Be({err:mk,logs:Pt(Ye()),signature:Ye()}),Hlt=Be({result:t6(jlt),subscription:pe()}),Glt={"solana-client":"js/1.0.0-maintenance"};class Ylt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Rs(l),h=this._buildArgs([],d,void 0,y),m=fge(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=pt(f,Hr(pe()));if("error"in g)throw new Xt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Mut(e),this._rpcWsEndpoint=r||Cut(e),this._rpcClient=Hut(e,s,i,o,a,c),this._rpcRequest=Gut(this._rpcClient),this._rpcBatchRequest=Yut(this._rpcClient),this._rpcWebSocket=new Eut(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=pt(o,go(pe()));if("error"in a)throw new Xt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=pt(t,Hr(Bt(pe())));if("error"in r)throw new Xt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=pt(e,Hr(pe()));if("error"in t)throw new Xt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=pt(e,rlt);if("error"in t)throw new Xt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=pt(r,nlt);if("error"in s)throw new Xt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=pt(s,go(Sq));if("error"in i)throw new Xt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=pt(s,go(Sq));if("error"in i)throw new Xt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Rs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=pt(c,ilt);if("error"in u)throw new Xt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=pt(o,olt);if("error"in a)throw new Xt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=pt(s,alt);if("error"in i)throw new Xt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=pt(s,slt);if("error"in i)throw new Xt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=pt(o,go(Bt(XM)));if("error"in a)throw new Xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=pt(o,go(Bt(vq)));if("error"in a)throw new Xt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=pt(a,go(Pt(Bt(vq))));if("error"in c)throw new Xt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=pt(a,go(Pt(Bt(XM))));if("error"in c)throw new Xt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Rs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=pt(a,Hr(dlt));if("error"in c)throw new Xt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Rs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:gge(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Pt(clt),l=o.withContext===!0?pt(c,go(u)):pt(c,Hr(u));if("error"in l)throw new Xt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=pt(o,Hr(Pt(llt)));if("error"in a)throw new Xt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Un(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:Ag.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Ag.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await f1(1e3),i||(h=await y(),i))return;d({__type:Ag.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Ag.PROCESSED)l=d.response;else throw new fJ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:Ag.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await f1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===Ag.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await f1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Bv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Bv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Bv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Bv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Ag.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===Ag.PROCESSED)a=c.response;else throw new hJ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=pt(e,Hr(Pt(wlt)));if("error"in t)throw new Xt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=pt(r,Ilt);if("error"in s)throw new Xt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=pt(i,Hr(pe()));if("error"in o)throw new Xt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=pt(i,Hr(Ye()));if("error"in o)throw new Xt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=pt(s,Hr(Pt(ji)));if("error"in i)throw new Xt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Un(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=pt(s,Elt);if("error"in i)throw new Xt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=pt(i,Hr(pe()));if("error"in o)throw new Xt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=pt(r,Zut);if("error"in s)throw new Xt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Rs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=pt(a,$ut);if("error"in c)throw new Xt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=pt(e,Jut);if("error"in t)throw new Xt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=pt(i,Qut);if("error"in o)throw new Xt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=pt(e,elt);if("error"in t)throw new Xt(t.error,"failed to get epoch schedule");const r=t.result;return new A_e(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=pt(e,tlt);if("error"in t)throw new Xt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=pt(s,xlt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=pt(r,Klt);if("error"in s)throw new Xt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=pt(t,Flt);if("error"in r)throw new Xt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=pt(s,Ult);if("error"in i)throw new Xt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=rn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=pt(i,go(Bt(pe())));if("error"in o)throw new Xt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=pt(s,Xut);if("error"in i)throw new Xt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=pt(i,Llt);if("error"in o)throw new Xt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=pt(o,Wlt);if("error"in a)throw new Xt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=pt(e,Hr(Uut));if("error"in t)throw new Xt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=pt(e,Hr(Ye()));if("error"in t)throw new Xt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=pt(o,Blt);if("error"in a)throw a.error;return a.result}case"none":{const a=pt(o,Mlt);if("error"in a)throw a.error;return a.result}default:{const a=pt(o,Clt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:bN(d,u.message)},version:d}))}:null}}}catch(a){throw new Xt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=pt(o,$lt);if("error"in a)throw a.error;return a.result}case"none":{const a=pt(o,Dlt);if("error"in a)throw a.error;return a.result}default:{const a=pt(o,zlt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Xt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=pt(i,jut);if("error"in o)throw new Xt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=pt(o,SN);if("error"in a)throw new Xt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:bN(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Rs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=pt(o,x$);if("error"in a)throw new Xt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=pt(c,x$);if("error"in u)throw new Xt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Rs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=pt(c,SN);if("error"in u)throw new Xt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:bN(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=pt(s,Olt);if("error"in i)throw new Xt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new Id(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Zn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=pt(i,Hr(Pt(pe())));if("error"in o)throw new Xt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=pt(s,pge);if("error"in i)throw new Xt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=pt(s,pge);if("error"in i)throw new Xt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=pt(s,SN);if("error"in i)throw new Xt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new Id(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Zn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=pt(s,x$);if("error"in i)throw new Xt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=pt(o,x$);if("error"in a)throw new Xt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=pt(i,flt);if("error"in o)throw new Xt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=pt(i,hlt);if("error"in o)throw new Xt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new bq({key:e,state:bq.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=e6.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=pt(r,Vlt);if("error"in s)throw new Xt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await f1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=I_e;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await f1(S_e/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Rs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=pt(i,go(pe()));if("error"in o)throw new Xt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=pt(p,mge);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Zn){let m=e;s=new Zn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Zn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=pt(y,mge);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new JM({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=rn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=pt(a,qlt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new JM({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=pt(e,glt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=fge([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Un(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Rs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=pt(e,ylt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Rs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:gge(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=pt(e,Hlt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=pt(e,blt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=pt(e,klt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=pt(e,vlt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=pt(e,Alt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class lA{constructor(e){this._keypair=void 0,this._keypair=e??cge()}static generate(){return new lA(cge())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=CO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new lA({publicKey:r,secretKey:e})}static fromSeed(e){const t=CO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new lA({publicKey:t,secretKey:r})}get publicKey(){return new ot(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Kg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),iw("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),iw(),we(vn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class Zlt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Kg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=is(Kg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=is(Kg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ot(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(kJ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class kJ{constructor(){}static createLookupTable(e){const[t,r]=ot.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Kg.CreateLookupTable,i=Mn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ua.programId,isSigner:!1,isWritable:!1}];return[new As({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Kg.FreezeLookupTable,r=Mn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new As({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Kg.ExtendLookupTable,r=Mn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Ua.programId,isSigner:!1,isWritable:!1}),new As({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Kg.DeactivateLookupTable,r=Mn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new As({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Kg.CloseLookupTable,r=Mn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new As({programId:this.programId,keys:s,data:r})}}kJ.programId=new ot("AddressLookupTab1e1111111111111111111111111");class Jlt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(xf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=is(xf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=is(xf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=is(xf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=is(xf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(vJ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const xf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),iw("microLamports")])}});class vJ{constructor(){}static requestUnits(e){const t=xf.RequestUnits,r=Mn(t,e);return new As({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=xf.RequestHeapFrame,r=Mn(t,e);return new As({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=xf.SetComputeUnitLimit,r=Mn(t,e);return new As({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=xf.SetComputeUnitPrice,r=Mn(t,{microLamports:BigInt(e.microLamports)});return new As({keys:[],programId:this.programId,data:r})}}vJ.programId=new ot("ComputeBudget111111111111111111111111111111");const bge=64,Sge=32,kge=64,vge=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class n6{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Un(t.length===Sge,`Public Key must be ${Sge} bytes but received ${t.length} bytes`),Un(s.length===kge,`Signature must be ${kge} bytes but received ${s.length} bytes`);const o=vge.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return vge.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new As({keys:[],programId:n6.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Un(t.length===bge,`Private key must be ${bge} bytes but received ${t.length} bytes`);try{const i=lA.fromSecretKey(t),o=i.publicKey.toBytes(),a=lJ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}n6.programId=new ot("Ed25519SigVerify111111111111111111111111111");const Xlt=(n,e)=>{const t=JK.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};JK.utils.isValidPrivateKey;const Qlt=JK.getPublicKey,Age=32,kN=20,wge=64,edt=11,vN=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class dA{constructor(){}static publicKeyToEthAddress(e){Un(e.length===wge,`Public key must be ${wge} bytes but received ${e.length} bytes`);try{return V.Buffer.from(nge(rn(e))).slice(-kN)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return dA.createInstructionWithEthAddress({ethAddress:dA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Un(a.length===kN,`Address must be ${kN} bytes but received ${a.length} bytes`);const c=1+edt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(vN.span+r.length);return vN.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:rn(s),ethAddress:rn(a),recoveryId:i},h),h.fill(rn(r),vN.span),new As({keys:[],programId:dA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Un(t.length===Age,`Private key must be ${Age} bytes but received ${t.length} bytes`);try{const i=rn(t),o=Qlt(i,!1).slice(1),a=V.Buffer.from(nge(rn(r))),[c,u]=Xlt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}dA.programId=new ot("KeccakSecp256k11111111111111111111111111111");var z_e;const $_e=new ot("StakeConfig11111111111111111111111111111111");class D_e{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Sz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}z_e=Sz;Sz.default=new z_e(0,0,ot.default);class tdt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ia))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=is(Ia.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new D_e(new ot(t.staker),new ot(t.withdrawer)),lockup:new Sz(r.unixTimestamp,r.epoch,new ot(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),is(Ia.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=is(Ia.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=is(Ia.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ot(i),newAuthorizedPubkey:new ot(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=is(Ia.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),is(Ia.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=is(Ia.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),is(Ia.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(s6.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ia=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),rut(),nut()])},Authorize:{index:1,layout:F([U("instruction"),vn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),vn("newAuthorized"),U("stakeAuthorizationType"),D1("authoritySeed"),vn("authorityOwner")])}}),rdt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class s6{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||Sz.default,o=Ia.Initialize,a=Mn(o,{authorized:{staker:rn(r.staker.toBuffer()),withdrawer:rn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:rn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sw,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new As(c)}static createAccountWithSeed(e){const t=new Zn;t.add(Ua.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Zn;t.add(Ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Ia.Delegate,o=Mn(i);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:CD,isSigner:!1,isWritable:!1},{pubkey:$_e,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Ia.Authorize,c=Mn(a,{newAuthorized:rn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Zn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ia.AuthorizeWithSeed,l=Mn(u,{newAuthorized:rn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:rn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Zn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Ia.Split,a=Mn(o,{lamports:i});return new As({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Zn;return r.add(Ua.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Zn;return u.add(Ua.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Ua.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Ia.Merge,o=Mn(i);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:CD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Ia.Withdraw,c=Mn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:CD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Zn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Ia.Deactivate,i=Mn(s);return new Zn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}s6.programId=new ot("Stake11111111111111111111111111111111111111");s6.space=200;class O_e{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class ndt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Tf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=is(Tf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new O_e(new ot(t.nodePubkey),new ot(t.authorizedVoter),new ot(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=is(Tf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ot(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=is(Tf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ot(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ot(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=is(Tf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(yT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Tf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),sut()])},Authorize:{index:1,layout:F([U("instruction"),vn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),iut()])}}),sdt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class yT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Tf.InitializeAccount,o=Mn(i,{voteInit:{nodePubkey:rn(s.nodePubkey.toBuffer()),authorizedVoter:rn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:rn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:sw,isSigner:!1,isWritable:!1},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new As(a)}static createAccount(e){const t=new Zn;return t.add(Ua.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Tf.Authorize,a=Mn(o,{newAuthorized:rn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Tf.AuthorizeWithSeed,u=Mn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:rn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:rn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:af,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Zn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Tf.Withdraw,a=Mn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return yT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Tf.UpdateValidatorIdentity,o=Mn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Zn().add({keys:a,programId:this.programId,data:o})}}yT.programId=new ot("Vote111111111111111111111111111111111111111");yT.space=3762;const K_e=new ot("Va1idator1nfo111111111111111111111111111111"),idt=Be({name:Ye(),website:gr(Ye()),details:gr(Ye()),iconUrl:gr(Ye()),keybaseUsername:gr(Ye())});class AJ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(lu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ot(du(t,0,jf)),a=Ef(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(K_e)&&s[1].isSigner){const i=D1().decode(V.Buffer.from(t)),o=JSON.parse(i);return o_e(o,idt),new AJ(s[1].publicKey,o)}return null}}const odt=new ot("Vote111111111111111111111111111111111111111"),adt=F([vn("nodePubkey"),vn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),vn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([vn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class wJ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=adt.decode(rn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new wJ({nodePubkey:new ot(r.nodePubkey),authorizedWithdrawer:new ot(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(cdt),priorVoters:udt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function cdt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ot(n)}}function Ige({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ot(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function udt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Ige),...n.slice(0,e).map(Ige)]}const Pge={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function ldt(n,e){const t=e===!1?"http":"https";if(!n)return Pge[t].devnet;const r=Pge[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function ddt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new JM({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const fdt=1e9;var hdt=Object.freeze(Object.defineProperty({__proto__:null,Account:Qct,AddressLookupTableAccount:bq,AddressLookupTableInstruction:Zlt,AddressLookupTableProgram:kJ,Authorized:D_e,BLOCKHASH_CACHE_TIMEOUT_MS:I_e,BPF_LOADER_DEPRECATED_PROGRAM_ID:eut,BPF_LOADER_PROGRAM_ID:kut,BpfLoader:vut,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:xf,ComputeBudgetInstruction:Jlt,ComputeBudgetProgram:vJ,Connection:Ylt,Ed25519Program:n6,Enum:Jct,EpochSchedule:A_e,FeeCalculatorLayout:k_e,Keypair:lA,LAMPORTS_PER_SOL:fdt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Kg,Loader:CS,Lockup:Sz,MAX_SEED_LENGTH:y_e,Message:Id,MessageAccountKeys:ZM,MessageV0:RS,NONCE_ACCOUNT_LENGTH:pq,NonceAccount:e6,PACKET_DATA_SIZE:Yy,PUBLIC_KEY_LENGTH:jf,PublicKey:ot,SIGNATURE_LENGTH_IN_BYTES:YM,SOLANA_SCHEMA:U2,STAKE_CONFIG_ID:$_e,STAKE_INSTRUCTION_LAYOUTS:Ia,SYSTEM_INSTRUCTION_LAYOUTS:Ls,SYSVAR_CLOCK_PUBKEY:af,SYSVAR_EPOCH_SCHEDULE_PUBKEY:lut,SYSVAR_INSTRUCTIONS_PUBKEY:dut,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:RD,SYSVAR_RENT_PUBKEY:sw,SYSVAR_REWARDS_PUBKEY:fut,SYSVAR_SLOT_HASHES_PUBKEY:hut,SYSVAR_SLOT_HISTORY_PUBKEY:gut,SYSVAR_STAKE_HISTORY_PUBKEY:CD,Secp256k1Program:dA,SendTransactionError:JM,SolanaJSONRPCError:Xt,SolanaJSONRPCErrorCode:mut,StakeAuthorizationLayout:rdt,StakeInstruction:tdt,StakeProgram:s6,Struct:dJ,SystemInstruction:but,SystemProgram:Ua,Transaction:Zn,TransactionExpiredBlockheightExceededError:fJ,TransactionExpiredNonceInvalidError:Bv,TransactionExpiredTimeoutError:hJ,TransactionInstruction:As,TransactionMessage:mJ,TransactionStatus:Ag,VALIDATOR_INFO_KEY:K_e,VERSION_PREFIX_MASK:XK,VOTE_PROGRAM_ID:odt,ValidatorInfo:AJ,VersionedMessage:gJ,VersionedTransaction:yJ,VoteAccount:wJ,VoteAuthorizationLayout:sdt,VoteInit:O_e,VoteInstruction:ndt,VoteProgram:yT,clusterApiUrl:ldt,sendAndConfirmRawTransaction:ddt,sendAndConfirmTransaction:yq},Symbol.toStringTag,{value:"Module"})),IJ=Td(hdt);(function(n){var e=K&&K.__decorate||function(d,y,h,m){var f=arguments.length,g=f<3?y:m===null?m=Object.getOwnPropertyDescriptor(y,h):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,y,h,m);else for(var S=d.length-1;S>=0;S--)(b=d[S])&&(g=(f<3?b(g):f>3?b(y,h,g):b(y,h))||g);return f>3&&g&&Object.defineProperty(y,h,g),g},t=K&&K.__metadata||function(d,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,y)},r=K&&K.__awaiter||function(d,y,h,m){function f(g){return g instanceof h?g:new h(function(b){b(g)})}return new(h||(h=Promise))(function(g,b){function S(w){try{I(m.next(w))}catch(A){b(A)}}function p(w){try{I(m.throw(w))}catch(A){b(A)}}function I(w){w.done?g(w.value):f(w.value).then(S,p)}I((m=m.apply(d,y||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CargoPod=n.CARGO_POD_OFFSET=n.cargoPodDataEquals=void 0;const i=sl,o=IJ,a=cc,c=tr;function u(d,y){return d.version===y.version&&d.podBump===y.podBump&&d.openTokenAccounts===y.openTokenAccounts&&(0,c.arrayDeepEquals)(d.podSeeds,y.podSeeds,(h,m)=>h===m)&&d.statsDefinition.equals(y.statsDefinition)&&d.authority.equals(y.authority)&&d.seqId===y.seqId&&d.unupdatedTokenAccounts===y.unupdatedTokenAccounts}n.cargoPodDataEquals=u,n.CARGO_POD_OFFSET=8+1+32+32+1+32+1+2+1;let l=s=class{constructor(y,h,m){this._data=y,this._key=h,this._stats=m}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(y,h){return o.PublicKey.findProgramAddressSync([Xe.Buffer.from("cargo_pod"),h],y.programId)}static initCargoPod(y,h,m,f){const g=this.findAddress(y,f);return b=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.initCargoPod(Array.from(f)).accountsStrict({authority:h.publicKey(),funder:b.publicKey(),cargoPod:g[0],statsDefinition:m,systemProgram:o.SystemProgram.programId}).instruction(),signers:[h,b]}]})}static addCargo(y,h,m,f,g,b,S,p,I){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.addCargo(I).accountsStrict({authority:h.publicKey(),signerOriginAccount:m.publicKey(),cargoPod:f,cargoType:g,statsDefinition:b,originTokenAccount:S,cargoTokenAccount:p,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h,m]}]})}static legitimizeCargo(y,h,m,f,g,b,S){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.legitimizeCargo(S).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static removeCargo(y,h,m,f,g,b,S,p){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.removeCargo(p).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,destinationTokenAccount:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static consumeCargo(y,h,m,f,g,b,S,p){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.consumeCargo(p).accountsStrict({authority:h.publicKey(),cargoPod:m,cargoType:f,statsDefinition:g,cargoTokenAccount:b,tokenMint:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h]}]})}static transferCargo(y,h,m,f,g,b,S,p,I,w){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.transferCargo(w).accountsStrict({originPodAuthority:h.publicKey(),destinationPodAuthority:m.publicKey(),originCargoPod:f,destinationCargoPod:g,cargoType:b,statsDefinition:S,originTokenAccount:p,destinationTokenAccount:I,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[h,m]}]})}static transferAuthority(y,h,m,f){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.transferAuthority().accountsStrict({originPodAuthority:h.publicKey(),newPodAuthority:m.publicKey(),cargoPod:f}).instruction(),signers:[h,m]}]})}static mintTo(y,h,m,f,g,b,S,p,I){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.mintTo(h).accountsStrict({authority:m.publicKey(),mintAuthority:f.publicKey(),statsDefinition:g,cargoPod:b,cargoType:S,cargoTokenAccount:p.publicKey(),tokenMint:f.publicKey(),tokenProgram:I}).instruction(),signers:[m,f]}]})}static updateCargoPod(y,h,m){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.updateCargoPod().accountsStrict({cargoPod:h,statsDefinition:m}).instruction(),signers:[]}]})}static updatePodTokenAccount(y,h,m,f,g,b){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.updatePodTokenAccount().accountsStrict({statsDefinition:h,cargoPod:m,oldCargoType:f,cargoType:g,cargoTokenAccount:b,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static closeTokenAccount(y){const{program:h,authority:m,cargoPod:f,tokenAccountToClose:g,cargoType:b,mint:S}=y;return p=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.closeTokenAccount().accountsStrict({funder:p.publicKey(),authority:m.publicKey(),cargoPod:f,cargoType:b,cargoTokenAccount:g,mint:S,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[m]}]})}static closeCargoPod(y,h,m){return f=>r(this,void 0,void 0,function*(){return[{instruction:yield y.methods.closeCargoPod().accountsStrict({funder:f.publicKey(),authority:h.publicKey(),cargoPod:m,systemProgram:o.SystemProgram.programId}).instruction(),signers:[h]}]})}static decodeData(y,h){return(0,c.decodeAccountWithRemaining)(y,h,s,m=>Array((y.accountInfo.data.length-n.CARGO_POD_OFFSET)/8).fill(0).map((f,g)=>new a.BN(m.subarray(8*g).subarray(0,8),10,"le")))}};n.CargoPod=l,l.ACCOUNT_NAME="cargoPod",l.MIN_DATA_SIZE=n.CARGO_POD_OFFSET,n.CargoPod=l=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],l)})(XZ);var PJ={};(function(n){var e=K&&K.__decorate||function(l,d,y,h){var m=arguments.length,f=m<3?d:h===null?h=Object.getOwnPropertyDescriptor(d,y):h,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(l,d,y,h);else for(var b=l.length-1;b>=0;b--)(g=l[b])&&(f=(m<3?g(f):m>3?g(d,y,f):g(d,y))||f);return m>3&&f&&Object.defineProperty(d,y,f),f},t=K&&K.__metadata||function(l,d){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,d)},r=K&&K.__awaiter||function(l,d,y,h){function m(f){return f instanceof y?f:new y(function(g){g(f)})}return new(y||(y=Promise))(function(f,g){function b(I){try{p(h.next(I))}catch(w){g(w)}}function S(I){try{p(h.throw(I))}catch(w){g(w)}}function p(I){I.done?f(I.value):m(I.value).then(b,S)}p((h=h.apply(l,d||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.CargoType=n.CARGO_TYPE_OFFSET=n.cargoTypeDataEquals=void 0;const i=IJ,o=cc,a=tr;function c(l,d){return l.version===d.version&&l.bump===d.bump&&l.statsCount===d.statsCount&&l.statsDefinition.equals(d.statsDefinition)&&l.mint.equals(d.mint)&&l.seqId===d.seqId}n.cargoTypeDataEquals=c,n.CARGO_TYPE_OFFSET=8+1+32+32+32+1+2+2;let u=s=class{constructor(d,y,h){this._data=d,this._key=y,this._stats=h}get data(){return this._data}get key(){return this._key}get stats(){return this._stats||[]}static findAddress(d,y,h,m){const f=new ArrayBuffer(2),g=new DataView(f);g.setUint16(0,m,!0);const b=new Uint8Array(g.buffer);return i.PublicKey.findProgramAddressSync([Xe.Buffer.from("cargo_type"),b,y.toBuffer(),h.toBuffer()],d.programId)}static initCargoType({program:d,managerKey:y,profile:h,statsDefinition:m,mint:f,input:g,statsDefinitionSeqId:b}){const S=this.findAddress(d,m,f,b);return p=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoType(g).accountsStrict({funder:p.publicKey(),cargoType:S[0],statsDefinition:m,mint:f,systemProgram:i.SystemProgram.programId,key:y.publicKey(),profile:h}).instruction(),signers:[y,p]}]})}static initCargoTypeFromOldCargoType({program:d,managerKey:y,profile:h,statsDefinition:m,oldCargoType:f,mint:g,input:b}){const[S]=this.findAddress(d,m,g.publicKey(),f.data.seqId+1);return p=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeFromOldCargoType(b).accountsStrict({key:y.publicKey(),profile:h,funder:p.publicKey(),statsDefinition:m,oldCargoType:f.key,cargoType:S,systemProgram:i.SystemProgram.programId}).instruction(),signers:[y]}]})}static initCargoTypeForNextSeqId({program:d,managerKey:y,profile:h,statsDefinition:m,typeMint:f,input:g}){const[b]=this.findAddress(d,m.key,f,m.data.seqId+1);return S=>r(this,void 0,void 0,function*(){return[{instruction:yield d.methods.initCargoTypeForNextSeqId(g).accountsStrict({key:y.publicKey(),profile:h,funder:S.publicKey(),mint:f,statsDefinition:m.key,cargoType:b,systemProgram:i.SystemProgram.programId}).instruction(),signers:[y]}]})}static decodeData(d,y){return(0,a.decodeAccountWithRemaining)(d,y,s,h=>Array((d.accountInfo.data.length-n.CARGO_TYPE_OFFSET)/8).fill(0).map((m,f)=>new o.BN(h.subarray(8*f).subarray(0,8),10,"le")))}};n.CargoType=u,u.ACCOUNT_NAME="cargoType",u.MIN_DATA_SIZE=n.CARGO_TYPE_OFFSET,n.CargoType=u=s=e([(0,a.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],u)})(PJ);var L_e={},QM={};Object.defineProperty(QM,"__esModule",{value:!0});QM.IDL=void 0;QM.IDL={version:"0.1.0",name:"cargo",docs:["The `cargo` program"],instructions:[{name:"addCargo",docs:["Adds cargo to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"signerOriginAccount",isMut:!1,isSigner:!0,docs:["Signer for Cargo Token Transfer"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"closeCargoPod",docs:["Closes the [`CargoPod`](state::CargoPod) if it has no open token accounts.","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the pod account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system Program"]}],args:[]},{name:"closeTokenAccount",docs:["Closes and burns any excess tokens in a given token account within a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"funder",isMut:!0,isSigner:!1,docs:["The account to return the rent"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for [CargoPod] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account","If the token account belongs to a registered Cargo Type then this account must be a valid Cargo Type","However, to allow closing token account that are not valid Cargo this is an unchecked account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]}],args:[]},{name:"consumeCargo",docs:["Consumes cargo from a [`CargoPod`](state::CargoPod), burning the amount.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"initCargoPod",docs:["Inits a new [`CargoPod`](state::CargoPod) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition) and authority."],accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new cargo pod"]},{name:"authority",isMut:!1,isSigner:!0,docs:["The authority for the new cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"podSeeds",type:{array:["u8",32]}}]},{name:"initCargoType",docs:["Inits a new [`CargoType`](state::CargoType) account for the given [`CargoStatsDefinition`](state::CargoStatsDefinition)."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeForNextSeqId",docs:["Creates a new cargo type for the next `seq_id`."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint for the new cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeInput"}}]},{name:"initCargoTypeFromOldCargoType",docs:["Creates a new cargo type for the next `seq_id` from a given cargo type."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`].","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the cargo type"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition for the cargo type"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The old Cargo Type Account"]},{name:"cargoType",isMut:!0,isSigner:!1,docs:["The cargo type to init"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitCargoTypeFromOldCargoTypeInput"}}]},{name:"initDefinition",docs:["Inits a [`CargoStatsDefinition`](state::CargoStatsDefinition) account."],accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](Profile).","Is going to act as the authority for the new definition."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new definition"]},{name:"statsDefinition",isMut:!0,isSigner:!0,docs:["The new definition"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitDefinitionInput"}}]},{name:"legitimizeCargo",docs:["Legitimizes cargo in a [`CargoPod`](state::CargoPod) that was added outside of [`add_cargo`] or other cargo ix.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"mintTo",docs:["Mints tokens directly to a [`CargoPod`](state::CargoPod).","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the [`CargoPod`] Account"]},{name:"mintAuthority",isMut:!1,isSigner:!0,docs:["The mint Authority"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [`CargoPod`] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The [`CargoType`] Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The Cargo token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"mintAmount",type:"u64"}]},{name:"removeCargo",docs:["Removes cargo from a [`CargoPod`](state::CargoPod) to a given token account.","Requires the authority to sign."],accounts:[{name:"authority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"transferAuthority",docs:["Transfers authority of a [`CargoPod`](state::CargoPod) to a new authority.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the cargo pod"]},{name:"newPodAuthority",isMut:!1,isSigner:!0,docs:["New authority for the cargo pod"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]}],args:[]},{name:"transferCargo",docs:["Transfers cargo between [`CargoPod`](state::CargoPod)s.","Requires both authorities to sign."],accounts:[{name:"originPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the origin cargo pod"]},{name:"destinationPodAuthority",isMut:!1,isSigner:!0,docs:["Authority for the destination cargo pod"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"originCargoPod",isMut:!0,isSigner:!1,docs:["The Origin [CargoPod] Account"]},{name:"destinationCargoPod",isMut:!0,isSigner:!1,docs:["The Destination [CargoPod] Account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"cargoAmount",type:"u64"}]},{name:"updateCargoPod",docs:["Updates a [`CargoPod`](state::CargoPod) account to have the newest sequence id from the [`CargoDefinition`](state::CargoStatsDefinition).","This is the first step to update a [`CargoPod`](state::CargoPod) to a new [`CargoStatsDefinition`](state::CargoStatsDefinition).","Permissionless function."],accounts:[{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to update"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The definition of tracked stats"]}],args:[]},{name:"updateDefinition",docs:["Updates a [`CargoStatsDefinition`](state::CargoStatsDefinition) account.","Will advance the `seq_id` unless `rollback` is set to true."],accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The cargo permissions [`Profile`](Profile).","Is going to act as the authority for the new definition."]},{name:"statsDefinition",isMut:!0,isSigner:!1,docs:["The [CargoStatsDefinition]"]}],args:[{name:"input",type:{defined:"UpdateDefinitionInput"}}]},{name:"updatePodTokenAccount",docs:["Updates a [`CargoPod`](state::CargoPod)'s token account to have the same sequence id as the [`CargoPod`](state::CargoPod).","This must be called after [`update_cargo_pod`].","Permissionless function."],accounts:[{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The [CargoStatsDefinition] for the cargo type"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The [CargoPod] Account"]},{name:"oldCargoType",isMut:!1,isSigner:!1,docs:["The previous version(`seq_id`) Cargo Type"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The updated Cargo Type Account"]},{name:"cargoTokenAccount",isMut:!0,isSigner:!1,docs:["The Cargo Token Account"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]}],accounts:[{name:"cargoPod",docs:["A pod that can store any number of resources and tracks stats given a definition."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition of tracked stats."],type:"publicKey"},{name:"authority",docs:["The authority for this pod."],type:"publicKey"},{name:"openTokenAccounts",docs:["The number of open token accounts in this pod."],type:"u8"},{name:"podSeeds",docs:["The seeds of the signer for this pod."],type:{array:["u8",32]}},{name:"podBump",docs:["The bump of the signer for this pod."],type:"u8"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"},{name:"unupdatedTokenAccounts",docs:["The number of unupdated token accounts in this pod. If this is greater than zero means the pod is frozen and only can withdraw cargo but not deposit."],type:"u8"}]}},{name:"cargoStatsDefinition",docs:["A definition of cargo stats."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"authority",docs:["The authority for this definition."],type:"publicKey"},{name:"defaultCargoType",docs:["The default cargo type. System program (all 0s) if none."],type:"publicKey"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}},{name:"cargoType",docs:["The stats for a given cargo type (token mint)."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"statsDefinition",docs:["The definition this follows"],type:"publicKey"},{name:"mint",docs:["The mint the cargo type is for"],type:"publicKey"},{name:"creator",docs:["TODO: remove this"],type:"publicKey"},{name:"bump",docs:["The bump for this account"],type:"u8"},{name:"statsCount",docs:["The number of stats in this definition."],type:"u16"},{name:"seqId",docs:["The sequence id for the definition"],type:"u16"}]}}],types:[{name:"InitCargoTypeFromOldCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"newValues",docs:["vector with values for all stats tracked by the definition"],type:{option:{vec:"u64"}}}]}},{name:"InitCargoTypeInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"values",docs:["vector with values for all stats tracked by the definition"],type:{vec:"u64"}}]}},{name:"InitDefinitionInput",docs:["Struct for data input for [`InitDefinition`]"],type:{kind:"struct",fields:[{name:"cargoStats",docs:["the count of stats the definition has"],type:"u16"}]}},{name:"UpdateDefinitionInput",docs:["Struct for data input for this IX"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the cargo permissions profile"],type:"u16"},{name:"rollback",docs:["flag that if present means we need to decrease the definition seq_id"],type:{option:"bool"}}]}}],errors:[{code:6e3,name:"StatOutOfBounds",msg:"A given stat was out of bounds"},{code:6001,name:"TooManyStats",msg:"There are too many stats"},{code:6002,name:"InvalidRentFunder",msg:"Rent funder was not owned by the system program or this program"},{code:6003,name:"TooFewStats",msg:"Popped a stat when there are no stats left"},{code:6004,name:"MissingSystemProgram",msg:"System program is missing when needed"},{code:6005,name:"InvalidCargoStat",msg:"Cargo stat data was invalid"},{code:6006,name:"InvalidCargoStatSize",msg:"Cargo stat size data was invalid"},{code:6007,name:"InvalidCargoType",msg:"Cargo type is invalid"},{code:6008,name:"WrongNumberOfDefinitions",msg:"Wrong number of definitions provided to init a cargo type"},{code:6009,name:"InvalidValueForStat",msg:"Invalid value provided for stat"},{code:6010,name:"NumericOverflow",msg:"Math overflow"},{code:6011,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6012,name:"StatsDefinitionMismatch",msg:"Stats definition mismatch"},{code:6013,name:"MintMismatch",msg:"Mint mismatch"},{code:6014,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6015,name:"InvalidDelegation",msg:"Delegated amount is invalid"},{code:6016,name:"FrozenPod",msg:"The pod is frozen"},{code:6017,name:"UnupdatedCargoPodAccount",msg:"Unupdated CargoPod Account"},{code:6018,name:"InvalidSeqId",msg:"Invalid seq_id"},{code:6019,name:"UnupdatedTokenAccount",msg:"Unupdated token account"},{code:6020,name:"OpenTokenAccounts",msg:"Cargo Pod has token accounts open"},{code:6021,name:"NonZeroDelegation",msg:"Non Zero Delegated Amount"},{code:6022,name:"InvalidPreviousType",msg:"Invalid previous cargo_type account"},{code:6023,name:"InsufficientCargoAmount",msg:"Insufficient cargo amount"},{code:6024,name:"InsufficientTokenAmount",msg:"Insufficient token amount"},{code:6025,name:"PodTokenAccountAlreadyUpdated",msg:"Pod Token Account Already Updated"}]};var Yp={},gdt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},mdt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},_ge=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Aq;Object.defineProperty(Yp,"__esModule",{value:!0});Yp.CargoStatsDefinition=Yp.cargoStatsDefinitionAccountDataEquals=void 0;const W_e=IJ,N_e=tr;function ydt(n,e){return n.version===e.version&&n.authority.equals(e.authority)&&n.defaultCargoType.equals(e.defaultCargoType)&&n.statsCount===e.statsCount&&n.seqId===e.seqId}Yp.cargoStatsDefinitionAccountDataEquals=ydt;let eB=Aq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static initDefinition({program:e,profile:t,statsDefinition:r,input:s}){return i=>_ge(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initDefinition(s).accountsStrict({profile:t,funder:i.publicKey(),statsDefinition:r.publicKey(),systemProgram:W_e.SystemProgram.programId}).instruction(),signers:[i,r]}]})}static updateDefinition({program:e,managerKey:t,profile:r,statsDefinition:s,input:i}){return()=>_ge(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateDefinition(i).accountsStrict({statsDefinition:s,key:t.publicKey(),profile:r}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,N_e.decodeAccount)(e,t,Aq)}};Yp.CargoStatsDefinition=eB;eB.ACCOUNT_NAME="cargoStatsDefinition";eB.MIN_DATA_SIZE=8+1+32+32+2+2;Yp.CargoStatsDefinition=eB=Aq=gdt([(0,N_e.staticImplements)(),mdt("design:paramtypes",[Object,W_e.PublicKey])],eB);(function(n){var e=K&&K.__decorate||function(d,y,h,m){var f=arguments.length,g=f<3?y:m===null?m=Object.getOwnPropertyDescriptor(y,h):m,b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")g=Reflect.decorate(d,y,h,m);else for(var S=d.length-1;S>=0;S--)(b=d[S])&&(g=(f<3?b(g):f>3?b(y,h,g):b(y,h))||g);return f>3&&g&&Object.defineProperty(y,h,g),g},t=K&&K.__metadata||function(d,y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,y)};Object.defineProperty(n,"__esModule",{value:!0}),n.CargoProgram=n.cargoErrorMap=n.CARGO_IDL=void 0;const r=cc,s=tr,i=XZ,o=PJ,a=QM,c=Yp;var u=QM;Object.defineProperty(n,"CARGO_IDL",{enumerable:!0,get:function(){return u.IDL}}),n.cargoErrorMap=(0,s.generateErrorMap)(a.IDL);let l=class extends s.ListenProgram{constructor(y){super(y,{cargoPod:i.CargoPod,cargoType:o.CargoType,cargoStatsDefinition:c.CargoStatsDefinition})}static buildProgram(y,h,m){return new r.Program(a.IDL,y,h,m)}};n.CargoProgram=l,n.CargoProgram=l=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],l)})(L_e);var kz={},pdt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},bdt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},gl;Object.defineProperty(kz,"__esModule",{value:!0});kz.CargoPermissions=void 0;const F_e=tr;let wq=gl=class{constructor(e,t,r){this.manageDefinition=e,this.createCargoType=t,this.manageCargoType=r}getPermissions(){const e=(0,F_e.fixedSizeArray)(8,0);return e[0]=(this.manageDefinition?1<<0:0)|(this.createCargoType?1<<1:0)|(this.manageCargoType?1<<2:0),e}static empty(){return new gl(!1,!1,!1)}static all(){return new gl(!0,!0,!0)}static manageDefinition(){return new gl(!0,!1,!1)}static createCargoType(){return new gl(!1,!0,!1)}static manageCargoType(){return new gl(!1,!1,!0)}static definitionPermissions(){return gl.manageDefinition()}static cargoTypePermissions(){return new gl(!1,!0,!0)}static fromPermissions(e){return new gl((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0)}and(e){return new gl(this.manageDefinition&&e.manageDefinition,this.createCargoType&&e.createCargoType,this.manageCargoType&&e.manageCargoType)}or(e){return new gl(this.manageDefinition||e.manageDefinition,this.createCargoType||e.createCargoType,this.manageCargoType||e.manageCargoType)}eq(e){return this.manageDefinition===e.manageDefinition&&this.createCargoType===e.createCargoType&&this.manageCargoType===e.manageCargoType}contains(e){return this.and(e).eq(e)}};kz.CargoPermissions=wq;kz.CargoPermissions=wq=gl=pdt([(0,F_e.staticImplements)(),bdt("design:paramtypes",[Boolean,Boolean,Boolean])],wq);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(XZ,n),t(PJ,n),t(L_e,n),t(kz,n),t(Yp,n)})(HK);var i6={},U_e={},tB={};Object.defineProperty(tB,"__esModule",{value:!0});tB.IDL=void 0;tB.IDL={version:"0.7.1",name:"profile_faction",instructions:[{name:"chooseFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key with auth permissions."]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the transaction."]},{name:"profile",isMut:!1,isSigner:!1,docs:["The profile to change faction for."]},{name:"faction",isMut:!0,isSigner:!1,docs:["The faction to change to."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program."]}],args:[{name:"keyIndex",type:"u16"},{name:"faction",type:{defined:"Faction"}}]}],accounts:[{name:"profileFactionAccount",docs:["Stores a profile's enlisted faction on-chain."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"profile",docs:["The profile this faction enlistment is for."],type:"publicKey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"bump",docs:["The bump for this account."],type:"u8"}]}}],types:[{name:"Faction",docs:["A faction that a player can belong to."],type:{kind:"enum",variants:[{name:"Unaligned"},{name:"MUD"},{name:"ONI"},{name:"Ustur"}]}}]};var Hf={};function BO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function Sdt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function vz(n,...e){if(!Sdt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function kdt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");BO(n.outputLen),BO(n.blockLen)}function ow(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function V_e(n,e){vz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const AN=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vdt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),wN=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Fd=(n,e)=>n<<32-e|n>>>e,Ege=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,Adt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function xge(n){for(let e=0;e<n.length;e++)n[e]=Adt(n[e])}function wdt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function o6(n){return typeof n=="string"&&(n=wdt(n)),vz(n),n}function Idt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];vz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class _J{clone(){return this._cloneInto()}}function EJ(n){const e=r=>n().update(o6(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function q_e(n=32){if(AN&&typeof AN.getRandomValues=="function")return AN.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function Pdt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const _dt=(n,e,t)=>n&e^~n&t,Edt=(n,e,t)=>n&e^n&t^e&t;class j_e extends _J{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=wN(this.buffer)}update(e){ow(this);const{view:t,buffer:r,blockLen:s}=this;e=o6(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=wN(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ow(this),V_e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;Pdt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=wN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const T$=BigInt(2**32-1),Iq=BigInt(32);function H_e(n,e=!1){return e?{h:Number(n&T$),l:Number(n>>Iq&T$)}:{h:Number(n>>Iq&T$)|0,l:Number(n&T$)|0}}function G_e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=H_e(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const xdt=(n,e)=>BigInt(n>>>0)<<Iq|BigInt(e>>>0),Tdt=(n,e,t)=>n>>>t,Rdt=(n,e,t)=>n<<32-t|e>>>t,Cdt=(n,e,t)=>n>>>t|e<<32-t,Mdt=(n,e,t)=>n<<32-t|e>>>t,Bdt=(n,e,t)=>n<<64-t|e>>>t-32,zdt=(n,e,t)=>n>>>t-32|e<<64-t,$dt=(n,e)=>e,Ddt=(n,e)=>n,Y_e=(n,e,t)=>n<<t|e>>>32-t,Z_e=(n,e,t)=>e<<t|n>>>32-t,J_e=(n,e,t)=>e<<t-32|n>>>64-t,X_e=(n,e,t)=>n<<t-32|e>>>64-t;function Odt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Kdt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),Ldt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,Wdt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Ndt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Fdt=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Udt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Vdt={fromBig:H_e,split:G_e,toBig:xdt,shrSH:Tdt,shrSL:Rdt,rotrSH:Cdt,rotrSL:Mdt,rotrBH:Bdt,rotrBL:zdt,rotr32H:$dt,rotr32L:Ddt,rotlSH:Y_e,rotlSL:Z_e,rotlBH:J_e,rotlBL:X_e,add:Odt,add3L:Kdt,add3H:Ldt,add4L:Wdt,add4H:Ndt,add5H:Udt,add5L:Fdt};var Kr=Vdt;const[qdt,jdt]=(()=>Kr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),Jm=new Uint32Array(80),Xm=new Uint32Array(80);class Hdt extends j_e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)Jm[p]=e.getUint32(t),Xm[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=Jm[p-15]|0,w=Xm[p-15]|0,A=Kr.rotrSH(I,w,1)^Kr.rotrSH(I,w,8)^Kr.shrSH(I,w,7),_=Kr.rotrSL(I,w,1)^Kr.rotrSL(I,w,8)^Kr.shrSL(I,w,7),E=Jm[p-2]|0,M=Xm[p-2]|0,P=Kr.rotrSH(E,M,19)^Kr.rotrBH(E,M,61)^Kr.shrSH(E,M,6),R=Kr.rotrSL(E,M,19)^Kr.rotrBL(E,M,61)^Kr.shrSL(E,M,6),$=Kr.add4L(_,R,Xm[p-7],Xm[p-16]),z=Kr.add4H($,A,P,Jm[p-7],Jm[p-16]);Jm[p]=z|0,Xm[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Kr.rotrSH(d,y,14)^Kr.rotrSH(d,y,18)^Kr.rotrBH(d,y,41),w=Kr.rotrSL(d,y,14)^Kr.rotrSL(d,y,18)^Kr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Kr.add5L(S,w,_,jdt[p],Xm[p]),M=Kr.add5H(E,b,I,A,qdt[p],Jm[p]),P=E|0,R=Kr.rotrSH(r,s,28)^Kr.rotrBH(r,s,34)^Kr.rotrBH(r,s,39),$=Kr.rotrSL(r,s,28)^Kr.rotrBL(r,s,34)^Kr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Kr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Kr.add3L(P,$,T);r=Kr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Kr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Kr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Kr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Kr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Kr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Kr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Kr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Kr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){Jm.fill(0),Xm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Gdt=EJ(()=>new Hdt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xJ=BigInt(0),a6=BigInt(1),Ydt=BigInt(2);function MS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Az(n){if(!MS(n))throw new Error("Uint8Array expected")}function Xg(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Zdt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function BS(n){Az(n);let e="";for(let t=0;t<n.length;t++)e+=Zdt[n[t]];return e}function Q_e(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function TJ(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const Mh={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Tge(n){if(n>=Mh._0&&n<=Mh._9)return n-Mh._0;if(n>=Mh._A&&n<=Mh._F)return n-(Mh._A-10);if(n>=Mh._a&&n<=Mh._f)return n-(Mh._a-10)}function aw(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=Tge(n.charCodeAt(i)),a=Tge(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function G1(n){return TJ(BS(n))}function fA(n){return Az(n),TJ(BS(Uint8Array.from(n).reverse()))}function cw(n,e){return aw(n.toString(16).padStart(e*2,"0"))}function rB(n,e){return cw(n,e).reverse()}function Jdt(n){return aw(Q_e(n))}function sa(n,e,t){let r;if(typeof e=="string")try{r=aw(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(MS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function zS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Az(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function Xdt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Qdt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const IN=n=>typeof n=="bigint"&&xJ<=n;function c6(n,e,t){return IN(n)&&IN(e)&&IN(t)&&e<=n&&n<t}function _l(n,e,t,r){if(!c6(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function eft(n){let e;for(e=0;n>xJ;n>>=a6,e+=1);return e}function tft(n,e){return n>>BigInt(e)&a6}function rft(n,e,t){return n|(t?a6:xJ)<<BigInt(e)}const RJ=n=>(Ydt<<BigInt(n-1))-a6,PN=n=>new Uint8Array(n),Rge=n=>Uint8Array.from(n);function eEe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=PN(n),s=PN(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=PN())=>{s=a(Rge([0]),d),r=a(),d.length!==0&&(s=a(Rge([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return zS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const nft={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||MS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function pT(n,e,t={}){const r=(s,i,o)=>{const a=nft[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const sft=()=>{throw new Error("not implemented")};function nB(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var ift=Object.freeze(Object.defineProperty({__proto__:null,isBytes:MS,abytes:Az,abool:Xg,bytesToHex:BS,numberToHexUnpadded:Q_e,hexToNumber:TJ,hexToBytes:aw,bytesToNumberBE:G1,bytesToNumberLE:fA,numberToBytesBE:cw,numberToBytesLE:rB,numberToVarBytesBE:Jdt,ensureBytes:sa,concatBytes:zS,equalBytes:Xdt,utf8ToBytes:Qdt,inRange:c6,aInRange:_l,bitLen:eft,bitGet:tft,bitSet:rft,bitMask:RJ,createHmacDrbg:eEe,validateObject:pT,notImplemented:sft,memoized:nB},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ec=BigInt(0),Li=BigInt(1),h1=BigInt(2),oft=BigInt(3),Pq=BigInt(4),Cge=BigInt(5),Mge=BigInt(8);BigInt(9);BigInt(16);function bi(n,e){const t=n%e;return t>=ec?t:e+t}function aft(n,e,t){if(t<=ec||e<ec)throw new Error("Expected power/modulo > 0");if(t===Li)return ec;let r=Li;for(;e>ec;)e&Li&&(r=r*n%t),n=n*n%t,e>>=Li;return r}function no(n,e,t){let r=n;for(;e-- >ec;)r*=r,r%=t;return r}function _q(n,e){if(n===ec||e<=ec)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=bi(n,e),r=e,s=ec,i=Li;for(;t!==ec;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Li)throw new Error("invert: does not exist");return bi(s,e)}function cft(n){const e=(n-Li)/h1;let t,r,s;for(t=n-Li,r=0;t%h1===ec;t/=h1,r++);for(s=h1;s<n&&aft(s,e,n)!==n-Li;s++);if(r===1){const o=(n+Li)/Pq;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Li)/h1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Li<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function uft(n){if(n%Pq===oft){const e=(n+Li)/Pq;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%Mge===Cge){const e=(n-Cge)/Mge;return function(r,s){const i=r.mul(s,h1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,h1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return cft(n)}const lft=(n,e)=>(bi(n,e)&Li)===Li,dft=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function fft(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=dft.reduce((r,s)=>(r[s]="function",r),e);return pT(n,t)}function hft(n,e,t){if(t<ec)throw new Error("Expected power > 0");if(t===ec)return n.ONE;if(t===Li)return e;let r=n.ONE,s=e;for(;t>ec;)t&Li&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Li;return r}function gft(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function tEe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function rEe(n,e,t=!1,r={}){if(n<=ec)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=tEe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=uft(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:RJ(s),ZERO:ec,ONE:Li,create:c=>bi(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return ec<=c&&c<n},is0:c=>c===ec,isOdd:c=>(c&Li)===Li,neg:c=>bi(-c,n),eql:(c,u)=>c===u,sqr:c=>bi(c*c,n),add:(c,u)=>bi(c+u,n),sub:(c,u)=>bi(c-u,n),mul:(c,u)=>bi(c*u,n),pow:(c,u)=>hft(a,c,u),div:(c,u)=>bi(c*_q(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>_q(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>gft(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?rB(c,i):cw(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?fA(c):G1(c)}});return Object.freeze(a)}function nEe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function sEe(n){const e=nEe(n);return e+Math.ceil(e/2)}function mft(n,e,t=!1){const r=n.length,s=nEe(e),i=sEe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?G1(n):fA(n),a=bi(o,e-Li)+Li;return t?rB(a,s):cw(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yft=BigInt(0),_N=BigInt(1),EN=new WeakMap,Bge=new WeakMap;function iEe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>yft;)o&_N&&(a=a.add(c)),c=c.double(),o>>=_N;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=_N);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=Bge.get(i)||1;let u=EN.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&EN.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),Bge.set(i,o),EN.delete(i)}}}function CJ(n){return fft(n.Fp),pT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...tEe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fl=BigInt(0),jc=BigInt(1),R$=BigInt(2),pft=BigInt(8),bft={zip215:!0};function Sft(n){const e=CJ(n);return pT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function kft(n){const e=Sft(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=R$<<BigInt(a*8)-jc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:Fl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(Xg("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){_l("coordinate "+v,k,Fl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=nB((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?pft:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:Fl,y:jc};if(L!==jc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=nB(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,jc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(R$*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===Fl)return this.double();const Ue=l(D*R$*J),Wt=l(W*R$*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;_l("scalar",x,jc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return _l("scalar",x,Fl,r),x===Fl?I:this.equals(I)||x===jc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===jc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=sa("pointHex",k,O),Xg("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=fA(D),N=x?u:t.ORDER;_l("pointHex.y",L,Fl,N);const H=l(L*L),J=l(H-jc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&jc)===jc,se=(W&128)!==0;if(!x&&X===Fl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=rB(x,t.BYTES);return C[C.length-1]|=k&jc?128:0,C}toHex(){return BS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,jc,l(e.Gx*e.Gy)),S.ZERO=new S(Fl,jc,jc,Fl);const{BASE:p,ZERO:I}=S,w=iEe(S,a*8);function A(v){return bi(v,r)}function _(v){return A(fA(v))}function E(v){const k=a;v=sa("private key",v,k);const x=sa("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=zS(...k);return _(i(h(x,sa("context",v),!!s)))}function R(v,k,x={}){v=sa("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);_l("signature.s",N,Fl,r);const H=zS(W,rB(N,t.BYTES));return sa("result",H,a*2)}const $=bft;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=sa("signature",v,2*D),k=sa("message",k),O!==void 0&&Xg("zip215",O),s&&(k=s(k));const W=fA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MJ=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),zge=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const vft=BigInt(1),$ge=BigInt(2);BigInt(3);const Aft=BigInt(5),wft=BigInt(8);function Ift(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=MJ,a=n*n%i*n%i,c=no(a,$ge,i)*a%i,u=no(c,vft,i)*n%i,l=no(u,Aft,i)*u%i,d=no(l,e,i)*l%i,y=no(d,t,i)*d%i,h=no(y,r,i)*y%i,m=no(h,s,i)*h%i,f=no(m,s,i)*h%i,g=no(f,e,i)*l%i;return{pow_p_5_8:no(g,$ge,i)*n%i,b2:a}}function Pft(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function _ft(n,e){const t=MJ,r=bi(e*e*e,t),s=bi(r*r*e,t),i=Ift(n*s).pow_p_5_8;let o=bi(n*r*i,t);const a=bi(e*o*o,t),c=o,u=bi(o*zge,t),l=a===n,d=a===bi(-n,t),y=a===bi(-n*zge,t);return l&&(o=c),(d||y)&&(o=u),lft(o,t)&&(o=bi(-o,t)),{isValid:l||d,value:o}}const Eft=(()=>rEe(MJ,void 0,!0))(),xft=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Eft,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:wft,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Gdt,randomBytes:q_e,adjustScalarBytes:Pft,uvRatio:_ft}))(),bT=(()=>kft(xft))(),Tft=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qm=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ey=new Uint32Array(64);class Rft extends j_e{constructor(){super(64,32,8,!1),this.A=Qm[0]|0,this.B=Qm[1]|0,this.C=Qm[2]|0,this.D=Qm[3]|0,this.E=Qm[4]|0,this.F=Qm[5]|0,this.G=Qm[6]|0,this.H=Qm[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)ey[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=ey[d-15],h=ey[d-2],m=Fd(y,7)^Fd(y,18)^y>>>3,f=Fd(h,17)^Fd(h,19)^h>>>10;ey[d]=f+ey[d-7]+m+ey[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Fd(a,6)^Fd(a,11)^Fd(a,25),h=l+y+_dt(a,c,u)+Tft[d]+ey[d]|0,f=(Fd(r,2)^Fd(r,13)^Fd(r,22))+Edt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){ey.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Eq=EJ(()=>new Rft);class Cft extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Mft(n){return wz(n)&&typeof n[Symbol.iterator]=="function"}function wz(n){return typeof n=="object"&&n!=null}function zO(n){return wz(n)&&!Array.isArray(n)}function Pd(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function Bft(n){const{done:e,value:t}=n.next();return e?void 0:t}function zft(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Pd(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Dge(n,e,t,r){Mft(n)||(n=[n]);for(const s of n){const i=zft(s,e,t,r);i&&(yield i)}}function*BJ(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=BJ(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):wz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class yh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Dge(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Dge(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return oEe(e,this,t)}create(e,t){return bt(e,this,t)}is(e){return aEe(e,this)}mask(e,t){return $ft(e,this,t)}validate(e,t={}){return Iz(e,this,t)}}function oEe(n,e,t){const r=Iz(n,e,{message:t});if(r[0])throw r[0]}function bt(n,e,t){const r=Iz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function $ft(n,e,t){const r=Iz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function aEe(n,e){return!Iz(n,e)[0]}function Iz(n,e,t={}){const r=BJ(n,e,t),s=Bft(r);if(s[0])return[new Cft(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function pk(n,e){return new yh({type:n,schema:null,validator:e})}function Dft(){return pk("any",()=>!0)}function _t(n){return new yh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Pd(e)}`}})}function sh(){return pk("boolean",n=>typeof n=="boolean")}function zJ(n){return pk("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Pd(e)}`)}function Ri(n){const e=Pd(n),t=typeof n;return new yh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Pd(r)}`}})}function Oft(){return pk("never",()=>!1)}function zt(n){return new yh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function be(){return pk("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Pd(n)}`)}function mr(n){return new yh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function cEe(n,e){return new yh({type:"record",schema:null,*entries(t){if(wz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return zO(t)||`Expected an object, but received: ${Pd(t)}`},coercer(t){return zO(t)?{...t}:t}})}function Ze(){return pk("string",n=>typeof n=="string"||`Expected a string, but received: ${Pd(n)}`)}function $J(n){const e=Oft();return new yh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Pd(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function ze(n){const e=Object.keys(n);return new yh({type:"type",schema:n,*entries(t){if(wz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return zO(t)||`Expected an object, but received: ${Pd(t)}`},coercer(t){return zO(t)?{...t}:t}})}function $c(n){const e=n.map(t=>t.type).join(" | ");return new yh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=BJ(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Pd(t)}`,...s]}})}function ST(){return pk("unknown",()=>!0)}function Pz(n,e,t){return new yh({...n,coercer:(r,s)=>aEe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const uEe=[],lEe=[],dEe=[],Kft=BigInt(0),BR=BigInt(1),Lft=BigInt(2),Wft=BigInt(7),Nft=BigInt(256),Fft=BigInt(113);for(let n=0,e=BR,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],uEe.push(2*(5*r+t)),lEe.push((n+1)*(n+2)/2%64);let s=Kft;for(let i=0;i<7;i++)e=(e<<BR^(e>>Wft)*Fft)%Nft,e&Lft&&(s^=BR<<(BR<<BigInt(i))-BR);dEe.push(s)}const[Uft,Vft]=G_e(dEe,!0),Oge=(n,e,t)=>t>32?J_e(n,e,t):Y_e(n,e,t),Kge=(n,e,t)=>t>32?X_e(n,e,t):Z_e(n,e,t);function qft(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Oge(u,l,1)^t[a],y=Kge(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=lEe[o],c=Oge(s,i,a),u=Kge(s,i,a),l=uEe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=Uft[r],n[1]^=Vft[r]}t.fill(0)}class DJ extends _J{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,BO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=vdt(this.state)}keccak(){Ege||xge(this.state32),qft(this.state32,this.rounds),Ege||xge(this.state32),this.posOut=0,this.pos=0}update(e){ow(this);const{blockLen:t,state:r}=this;e=o6(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ow(this,!1),vz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return BO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(V_e(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new DJ(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const jft=(n,e,t)=>EJ(()=>new DJ(e,n,t)),Lge=jft(1,136,256/8);class fEe extends _J{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,kdt(e);const r=o6(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return ow(this),this.iHash.update(e),this}digestInto(e){ow(this),vz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hEe=(n,e,t)=>new fEe(n,e).update(t).digest();hEe.create=(n,e)=>new fEe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wge(n){n.lowS!==void 0&&Xg("lowS",n.lowS),n.prehash!==void 0&&Xg("prehash",n.prehash)}function Hft(n){const e=CJ(n);pT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Gft,hexToBytes:Yft}=ift,O1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=O1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Gft(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=O1,t=typeof n=="string"?Yft(n):n;Az(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=O1._parseInt(t.subarray(2)),{d:o,l:a}=O1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},By=BigInt(0),ya=BigInt(1);BigInt(2);const Nge=BigInt(3);BigInt(4);function Zft(n){const e=Hft(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return zS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return c6(m,ya,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(MS(m)&&(m=BS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:G1(sa("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=bi(p,S)),_l("private key",p,ya,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=nB((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=nB(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(sa("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Nge),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,Nge);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){_l("scalar",f,By,e.n);const g=d.ZERO;if(f===By)return g;if(f===ya)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>By||w>By;)p&ya&&(A=A.add(E)),w&ya&&(_=_.add(E)),E=E.double(),p>>=ya,w>>=ya;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;_l("scalar",f,ya,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===By||A===ya||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===ya)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===ya?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return Xg("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return Xg("isCompressed",f),BS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=iEe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function Jft(n){const e=CJ(n);return pT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Xft(n){const e=Jft(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return bi(T,r)}function a(T){return _q(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=Zft({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=zS;return Xg("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=G1(x);if(!c6(C,ya,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&ya)===ya;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>BS(cw(T,e.nByteLength));function h(T){const v=r>>ya;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>G1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=sa("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=O1.toSig(sa("DER",v));return new g(k,x)}assertValidity(){_l("r",this.r,ya,r),_l("s",this.s,ya,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(sa("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return aw(this.toDERHex())}toDERHex(){return O1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return aw(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=sEe(e.n);return mft(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=MS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=G1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=RJ(e.nBitLength);function E(T){return _l(`num < 2^${e.nBitLength}`,T,By,_),cw(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=sa("msgHash",T),Wge(k),O&&(T=sa("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(sa("extraEntropy",Y))}const H=zS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===By)return;const ne=o(re*o(J+ee*L));if(ne===By)return;let ve=(se.x===ee?0:2)|Number(se.y&ya),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return eEe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=sa("msgHash",v),k=sa("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");Wge(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||MS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof O1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qft(n){return{hash:n,hmac:(e,...t)=>hEe(n,e,Idt(...t)),randomBytes:q_e}}function eht(n,e){const t=r=>Xft({...n,...Qft(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gEe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Fge=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),tht=BigInt(1),xq=BigInt(2),Uge=(n,e)=>(n+e/xq)/e;function rht(n){const e=gEe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=no(l,t,e)*l%e,y=no(d,t,e)*l%e,h=no(y,xq,e)*u%e,m=no(h,s,e)*h%e,f=no(m,i,e)*m%e,g=no(f,a,e)*f%e,b=no(g,c,e)*g%e,S=no(b,a,e)*f%e,p=no(S,t,e)*l%e,I=no(p,o,e)*m%e,w=no(I,r,e)*u%e,A=no(w,xq,e);if(!Tq.eql(Tq.sqr(A),n))throw new Error("Cannot find square root");return A}const Tq=rEe(gEe,void 0,void 0,{sqrt:rht}),u6=eht({a:BigInt(0),b:BigInt(7),Fp:Tq,n:Fge,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Fge,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-tht*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Uge(i*n,e),c=Uge(-r*n,e);let u=bi(n-a*t-c*s,e),l=bi(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},Eq);BigInt(0);u6.ProjectivePoint;const nht=bT.utils.randomPrivateKey,Vge=()=>{const n=bT.utils.randomPrivateKey(),e=$O(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},$O=bT.getPublicKey;function qge(n){try{return bT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const OJ=(n,e)=>bT.sign(n,e.slice(0,32)),sht=bT.verify,nn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class KJ{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(om(V2,this))}static decode(e){return am(V2,this,e)}static decodeUnchecked(e){return cm(V2,this,e)}}class iht extends KJ{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const V2=new Map;var mEe;const yEe=32,Gf=32;function oht(n){return n._bn!==void 0}let jge=1;class at extends KJ{constructor(e){if(super({}),this._bn=void 0,oht(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Gf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Gf)throw new Error("Invalid public key input")}}static unique(){const e=new at(jge);return jge+=1,new at(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Gf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=Eq(s);return new at(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>yEe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,nn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=Eq(r);if(qge(s))throw new Error("Invalid seeds, address must fall off the curve");return new at(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new at(e);return qge(t.toBytes())}}mEe=at;at.default=new mEe("11111111111111111111111111111111");V2.set(at,{kind:"struct",fields:[["_bn","u256"]]});class aht{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=nn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=nn(nht()),this._publicKey=nn($O(this._secretKey))}get publicKey(){return new at(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const cht=new at("BPFLoader1111111111111111111111111111111111"),Zy=1280-40-8,l6=127,sB=64;class LJ extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(LJ.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class WJ extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(WJ.prototype,"name",{value:"TransactionExpiredTimeoutError"});class zv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(zv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class iB{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const An=(n="publicKey")=>ie(32,n),uht=(n="signature")=>ie(64,n),K1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},lht=(n="authorized")=>F([An("staker"),An("withdrawer")],n),dht=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),An("custodian")],n),fht=(n="voteInit")=>F([An("nodePubkey"),An("authorizedVoter"),An("authorizedWithdrawer"),te("commission")],n),hht=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),An("currentAuthorityDerivedKeyOwnerPubkey"),K1("currentAuthorityDerivedKeySeed"),An("newAuthorized")],n);function pEe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return pEe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function fu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Uu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function Vn(n,e){if(!n)throw new Error(e||"Assertion failed")}class d6{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new d6(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Vn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Vn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];Vn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new at(c)),...r.map(([c])=>new at(c)),...s.map(([c])=>new at(c)),...i.map(([c])=>new at(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new at(i),c=e.findIndex(u=>u.equals(a));c>=0&&(Vn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const bEe="Reached end of buffer unexpectedly";function Rf(n){if(n.length===0)throw new Error(bEe);return n.shift()}function hu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(bEe);return n.splice(...e)}class _d{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new at(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new iB(this.staticAccountKeys)}static compile(e){const t=d6.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new iB(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new _d({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Uu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Uu(f,y.length);let g=[];return Uu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Uu(s,r.length);let i=V.Buffer.alloc(Zy);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(An("key"),e,"keys"),An("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>nn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=Rf(t);if(r!==(r&l6))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Rf(t),i=Rf(t),o=fu(t);let a=[];for(let y=0;y<o;y++){const h=hu(t,0,Gf);a.push(new at(V.Buffer.from(h)))}const c=hu(t,0,Gf),u=fu(t);let l=[];for(let y=0;y<u;y++){const h=Rf(t),m=fu(t),f=hu(t,0,m),g=fu(t),b=hu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new _d(d)}}class $S{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new iB(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=d6.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new iB(a,s).compileInstructions(e.instructions);return new $S({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Uu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Uu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Uu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(An(),this.staticAccountKeys.length,"staticAccountKeys"),An("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(Zy),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(Zy);for(const r of this.compiledInstructions){const s=Array();Uu(s,r.accountKeyIndexes.length);const i=Array();Uu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Zy);for(const r of this.addressTableLookups){const s=Array();Uu(s,r.writableIndexes.length);const i=Array();Uu(i,r.readonlyIndexes.length),e+=F([An("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Rf(t),s=r&l6;Vn(r!==s,"Expected versioned message but received legacy message");const i=s;Vn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Rf(t),numReadonlySignedAccounts:Rf(t),numReadonlyUnsignedAccounts:Rf(t)},a=[],c=fu(t);for(let m=0;m<c;m++)a.push(new at(hu(t,0,Gf)));const u=Ie.encode(hu(t,0,Gf)),l=fu(t),d=[];for(let m=0;m<l;m++){const f=Rf(t),g=fu(t),b=hu(t,0,g),S=fu(t),p=new Uint8Array(hu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=fu(t),h=[];for(let m=0;m<y;m++){const f=new at(hu(t,0,Gf)),g=fu(t),b=hu(t,0,g),S=fu(t),p=hu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new $S({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const NJ={deserializeMessageVersion(n){const e=n[0],t=e&l6;return t===e?"legacy":t},deserialize:n=>{const e=NJ.deserializeMessageVersion(n);if(e==="legacy")return _d.from(n);if(e===0)return $S.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let wg=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const ght=V.Buffer.alloc(sB).fill(0);class ws{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Jn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new ws(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new at(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{Vn(f.programIdIndex>=0),f.accounts.forEach(g=>Vn(g>=0))}),new _d({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=OJ(r,s.secretKey);this._addSignature(s.publicKey,nn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Vn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):sht(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Uu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return Vn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(Vn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),Vn(i.length<=Zy,`Transaction too large: ${i.length} > ${Zy}`),i}get keys(){return Vn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Vn(this.instructions.length===1),this.instructions[0].programId}get data(){return Vn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=fu(t);let s=[];for(let i=0;i<r;i++){const o=hu(t,0,sB);s.push(Ie.encode(V.Buffer.from(o)))}return Jn.populate(_d.from(t),s)}static populate(e,t=[]){const r=new Jn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(ght)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new ws({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class FJ{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;Vn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;Vn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new ws({programId:g,data:nn(m.data),keys:f}))}return new FJ({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return _d.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return $S.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class UJ{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)Vn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(sB));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Uu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(uht(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=fu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(hu(t,0,sB)));const i=NJ.deserialize(new Uint8Array(t));return new UJ(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));Vn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=OJ(t,s.secretKey)}}addSignature(e,t){Vn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));Vn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const mht=160,yht=64,pht=mht/yht,SEe=1e3/pht,cf=new at("SysvarC1ock11111111111111111111111111111111"),bht=new at("SysvarEpochSchedu1e111111111111111111111111"),Sht=new at("Sysvar1nstructions1111111111111111111111111"),MD=new at("SysvarRecentB1ockHashes11111111111111111111"),uw=new at("SysvarRent111111111111111111111111111111111"),kht=new at("SysvarRewards111111111111111111111111111111"),vht=new at("SysvarS1otHashes111111111111111111111111111"),Aht=new at("SysvarS1otHistory11111111111111111111111111"),BD=new at("SysvarStakeHistory1111111111111111111111111");class oB extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const wht={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Qt extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function Rq(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new oB({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function g1(n){return new Promise(e=>setTimeout(e,n))}function Bn(n,e){const t=n.layout.span>=0?n.layout.span:pEe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function os(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const kEe=Ae("lamportsPerSignature"),vEe=F([U("version"),U("state"),An("authorizedPubkey"),An("nonce"),F([kEe],"feeCalculator")]),Cq=vEe.span;class f6{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=vEe.decode(nn(e),0);return new f6({authorizedPubkey:new at(t.authorizedPubkey),nonce:new at(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Iht=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},Pht=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=Iht(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return um(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},lw=Pht(8);class _ht{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ws))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=os(Ws.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new at(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=os(Ws.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=os(Ws.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new at(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=os(Ws.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=os(Ws.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(t),seed:r,space:s,programId:new at(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=os(Ws.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new at(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=os(Ws.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new at(t),seed:r,programId:new at(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=os(Ws.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new at(t),seed:r,lamports:s,space:i,programId:new at(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=os(Ws.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new at(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),os(Ws.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=os(Ws.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=os(Ws.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new at(t)}}static checkProgramId(e){if(!e.equals(Va.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ws=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),An("programId")])},Assign:{index:1,layout:F([U("instruction"),An("programId")])},Transfer:{index:2,layout:F([U("instruction"),lw("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),An("base"),K1("seed"),_e("lamports"),_e("space"),An("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),An("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),An("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),An("base"),K1("seed"),_e("space"),An("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),An("base"),K1("seed"),An("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),lw("lamports"),K1("seed"),An("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class Va{constructor(){}static createAccount(e){const t=Ws.Create,r=Bn(t,{lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())});return new ws({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ws.TransferWithSeed;t=Bn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ws.Transfer;t=Bn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ws({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ws.AssignWithSeed;t=Bn(s,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ws.Assign;t=Bn(s,{programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ws({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ws.CreateWithSeed,r=Bn(t,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:nn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ws({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Jn;"basePubkey"in e&&"seed"in e?t.add(Va.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Cq,programId:this.programId})):t.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Cq,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ws.InitializeNonceAccount,r=Bn(t,{authorized:nn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:MD,isSigner:!1,isWritable:!1},{pubkey:uw,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new ws(s)}static nonceAdvance(e){const t=Ws.AdvanceNonceAccount,r=Bn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:MD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new ws(s)}static nonceWithdraw(e){const t=Ws.WithdrawNonceAccount,r=Bn(t,{lamports:e.lamports});return new ws({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:MD,isSigner:!1,isWritable:!1},{pubkey:uw,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ws.AuthorizeNonceAccount,r=Bn(t,{authorized:nn(e.newAuthorizedPubkey.toBuffer())});return new ws({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ws.AllocateWithSeed;t=Bn(s,{base:nn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:nn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ws.Allocate;t=Bn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ws({keys:r,programId:this.programId,data:t})}}Va.programId=new at("11111111111111111111111111111111");const Eht=Zy-300;class DS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/DS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Jn,h.add(Va.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Jn,h.add(Va.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Jn,h.add(Va.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Jn().add(Va.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await Rq(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=DS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push(Rq(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await g1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Jn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:uw,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(SEe/2)))}}return!0}}DS.chunkSize=Eht;const xht=new at("BPFLoader2111111111111111111111111111111111");class Tht{static getMinNumSignatures(e){return DS.getMinNumSignatures(e)}static load(e,t,r,s,i){return DS.load(e,t,r,i,s)}}function Rht(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var xN,Hge;function Cht(){if(Hge)return xN;Hge=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return xN=function(r){var s=t(r,!1);if(s!==void 0)return""+s},xN}var Mht=Cht(),Gge=Rht(Mht);const zR=32;function TN(n){let e=0;for(;n>1;)n/=2,e++;return e}function Bht(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class AEe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=TN(Bht(e+zR+1))-TN(zR)-1,r=this.getSlotsInEpoch(t),s=e-(r-zR);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*zR:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+TN(zR)):this.slotsPerEpoch}}var zht=globalThis.fetch;class $ht extends Bb{constructor(e,t,r){const s=i=>{const o=$b(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function Dht(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Yge=56;class Mq{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=Dht(Oht,e),r=e.length-Yge;Vn(r>=0,"lookup table is invalid"),Vn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(An(),s,"addresses")]).decode(e.slice(Yge));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new at(t.authority[0]):void 0,addresses:i.map(o=>new at(o))}}}const Oht={index:1,layout:F([U("typeIndex"),lw("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(An(),Vt(te(),-1),"authority")])},Kht=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Lht(n){const e=n.match(Kht);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Hi=Pz(zJ(at),Ze(),n=>new at(n)),wEe=$J([Ze(),Ri("base64")]),VJ=Pz(zJ(V.Buffer),wEe,n=>V.Buffer.from(n[0],"base64")),IEe=30*1e3;function Wht(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Cs(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Zge(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function PEe(n){return $c([ze({jsonrpc:Ri("2.0"),id:Ze(),result:n}),ze({jsonrpc:Ri("2.0"),id:Ze(),error:ze({code:ST(),message:Ze(),data:mr(Dft())})})])}const Nht=PEe(ST());function Gr(n){return Pz(PEe(n),Nht,e=>"error"in e?e:{...e,result:bt(e.result,n)})}function mo(n){return Gr(ze({context:ze({slot:be()}),value:n}))}function h6(n){return ze({context:ze({slot:be()}),value:n})}function RN(n,e){return n===0?new $S({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new at(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new _d(e)}const Fht=ze({foundation:be(),foundationTerm:be(),initial:be(),taper:be(),terminal:be()}),Uht=Gr(_t(zt(ze({epoch:be(),effectiveSlot:be(),amount:be(),postBalance:be(),commission:mr(zt(be()))})))),Vht=_t(ze({slot:be(),prioritizationFee:be()})),qht=ze({total:be(),validator:be(),foundation:be(),epoch:be()}),jht=ze({epoch:be(),slotIndex:be(),slotsInEpoch:be(),absoluteSlot:be(),blockHeight:mr(be()),transactionCount:mr(be())}),Hht=ze({slotsPerEpoch:be(),leaderScheduleSlotOffset:be(),warmup:sh(),firstNormalEpoch:be(),firstNormalSlot:be()}),Ght=cEe(Ze(),_t(be())),bk=zt($c([ze({}),Ze()])),Yht=ze({err:bk}),Zht=Ri("receivedSignature"),Jht=ze({"solana-core":Ze(),"feature-set":mr(be())}),Xht=ze({program:Ze(),programId:Hi,parsed:ST()}),Qht=ze({programId:Hi,accounts:_t(Hi),data:Ze()}),Jge=mo(ze({err:zt($c([ze({}),Ze()])),logs:zt(_t(Ze())),accounts:mr(zt(_t(zt(ze({executable:sh(),owner:Ze(),lamports:be(),data:_t(Ze()),rentEpoch:mr(be())}))))),unitsConsumed:mr(be()),returnData:mr(zt(ze({programId:Ze(),data:$J([Ze(),Ri("base64")])}))),innerInstructions:mr(zt(_t(ze({index:be(),instructions:_t($c([Xht,Qht]))}))))})),egt=mo(ze({byIdentity:cEe(Ze(),_t(be())),range:ze({firstSlot:be(),lastSlot:be()})}));function tgt(n,e,t,r,s,i){const o=t||zht;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new zb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},rmt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await g1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function rgt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function ngt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const sgt=Gr(Fht),igt=Gr(qht),ogt=Gr(Vht),agt=Gr(jht),cgt=Gr(Hht),ugt=Gr(Ght),lgt=Gr(be()),dgt=mo(ze({total:be(),circulating:be(),nonCirculating:be(),nonCirculatingAccounts:_t(Hi)})),Bq=ze({amount:Ze(),uiAmount:zt(be()),decimals:be(),uiAmountString:mr(Ze())}),fgt=mo(_t(ze({address:Hi,amount:Ze(),uiAmount:zt(be()),decimals:be(),uiAmountString:mr(Ze())}))),hgt=mo(_t(ze({pubkey:Hi,account:ze({executable:sh(),owner:Hi,lamports:be(),data:VJ,rentEpoch:be()})}))),zq=ze({program:Ze(),parsed:ST(),space:be()}),ggt=mo(_t(ze({pubkey:Hi,account:ze({executable:sh(),owner:Hi,lamports:be(),data:zq,rentEpoch:be()})}))),mgt=mo(_t(ze({lamports:be(),address:Hi}))),aB=ze({executable:sh(),owner:Hi,lamports:be(),data:VJ,rentEpoch:be()}),ygt=ze({pubkey:Hi,account:aB}),pgt=Pz($c([zJ(V.Buffer),zq]),$c([wEe,zq]),n=>Array.isArray(n)?bt(n,VJ):n),$q=ze({executable:sh(),owner:Hi,lamports:be(),data:pgt,rentEpoch:be()}),bgt=ze({pubkey:Hi,account:$q}),Sgt=ze({state:$c([Ri("active"),Ri("inactive"),Ri("activating"),Ri("deactivating")]),active:be(),inactive:be()}),kgt=Gr(_t(ze({signature:Ze(),slot:be(),err:bk,memo:zt(Ze()),blockTime:mr(zt(be()))}))),vgt=Gr(_t(ze({signature:Ze(),slot:be(),err:bk,memo:zt(Ze()),blockTime:mr(zt(be()))}))),Agt=ze({subscription:be(),result:h6(aB)}),wgt=ze({pubkey:Hi,account:aB}),Igt=ze({subscription:be(),result:h6(wgt)}),Pgt=ze({parent:be(),slot:be(),root:be()}),_gt=ze({subscription:be(),result:Pgt}),Egt=$c([ze({type:$c([Ri("firstShredReceived"),Ri("completed"),Ri("optimisticConfirmation"),Ri("root")]),slot:be(),timestamp:be()}),ze({type:Ri("createdBank"),parent:be(),slot:be(),timestamp:be()}),ze({type:Ri("frozen"),slot:be(),timestamp:be(),stats:ze({numTransactionEntries:be(),numSuccessfulTransactions:be(),numFailedTransactions:be(),maxTransactionsPerEntry:be()})}),ze({type:Ri("dead"),slot:be(),timestamp:be(),err:Ze()})]),xgt=ze({subscription:be(),result:Egt}),Tgt=ze({subscription:be(),result:h6($c([Yht,Zht]))}),Rgt=ze({subscription:be(),result:be()}),Cgt=ze({pubkey:Ze(),gossip:zt(Ze()),tpu:zt(Ze()),rpc:zt(Ze()),version:zt(Ze())}),Xge=ze({votePubkey:Ze(),nodePubkey:Ze(),activatedStake:be(),epochVoteAccount:sh(),epochCredits:_t($J([be(),be(),be()])),commission:be(),lastVote:be(),rootSlot:zt(be())}),Mgt=Gr(ze({current:_t(Xge),delinquent:_t(Xge)})),Bgt=$c([Ri("processed"),Ri("confirmed"),Ri("finalized")]),zgt=ze({slot:be(),confirmations:zt(be()),err:bk,confirmationStatus:mr(Bgt)}),$gt=mo(_t(zt(zgt))),Dgt=Gr(be()),_Ee=ze({accountKey:Hi,writableIndexes:_t(be()),readonlyIndexes:_t(be())}),qJ=ze({signatures:_t(Ze()),message:ze({accountKeys:_t(Ze()),header:ze({numRequiredSignatures:be(),numReadonlySignedAccounts:be(),numReadonlyUnsignedAccounts:be()}),instructions:_t(ze({accounts:_t(be()),data:Ze(),programIdIndex:be()})),recentBlockhash:Ze(),addressTableLookups:mr(_t(_Ee))})}),EEe=ze({pubkey:Hi,signer:sh(),writable:sh(),source:mr($c([Ri("transaction"),Ri("lookupTable")]))}),xEe=ze({accountKeys:_t(EEe),signatures:_t(Ze())}),TEe=ze({parsed:ST(),program:Ze(),programId:Hi}),REe=ze({accounts:_t(Hi),data:Ze(),programId:Hi}),Ogt=$c([REe,TEe]),Kgt=$c([ze({parsed:ST(),program:Ze(),programId:Ze()}),ze({accounts:_t(Ze()),data:Ze(),programId:Ze()})]),CEe=Pz(Ogt,Kgt,n=>"accounts"in n?bt(n,REe):bt(n,TEe)),MEe=ze({signatures:_t(Ze()),message:ze({accountKeys:_t(EEe),instructions:_t(CEe),recentBlockhash:Ze(),addressTableLookups:mr(zt(_t(_Ee)))})}),DO=ze({accountIndex:be(),mint:Ze(),owner:mr(Ze()),programId:mr(Ze()),uiTokenAmount:Bq}),BEe=ze({writable:_t(Hi),readonly:_t(Hi)}),g6=ze({err:bk,fee:be(),innerInstructions:mr(zt(_t(ze({index:be(),instructions:_t(ze({accounts:_t(be()),data:Ze(),programIdIndex:be()}))})))),preBalances:_t(be()),postBalances:_t(be()),logMessages:mr(zt(_t(Ze()))),preTokenBalances:mr(zt(_t(DO))),postTokenBalances:mr(zt(_t(DO))),loadedAddresses:mr(BEe),computeUnitsConsumed:mr(be())}),jJ=ze({err:bk,fee:be(),innerInstructions:mr(zt(_t(ze({index:be(),instructions:_t(CEe)})))),preBalances:_t(be()),postBalances:_t(be()),logMessages:mr(zt(_t(Ze()))),preTokenBalances:mr(zt(_t(DO))),postTokenBalances:mr(zt(_t(DO))),loadedAddresses:mr(BEe),computeUnitsConsumed:mr(be())}),kT=$c([Ri(0),Ri("legacy")]),Sk=ze({pubkey:Ze(),lamports:be(),postBalance:zt(be()),rewardType:zt(Ze()),commission:mr(zt(be()))}),Lgt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:qJ,meta:zt(g6),version:mr(kT)})),rewards:mr(_t(Sk)),blockTime:zt(be()),blockHeight:zt(be())}))),Wgt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),rewards:mr(_t(Sk)),blockTime:zt(be()),blockHeight:zt(be())}))),Ngt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:xEe,meta:zt(g6),version:mr(kT)})),rewards:mr(_t(Sk)),blockTime:zt(be()),blockHeight:zt(be())}))),Fgt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:MEe,meta:zt(jJ),version:mr(kT)})),rewards:mr(_t(Sk)),blockTime:zt(be()),blockHeight:zt(be())}))),Ugt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:xEe,meta:zt(jJ),version:mr(kT)})),rewards:mr(_t(Sk)),blockTime:zt(be()),blockHeight:zt(be())}))),Vgt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),rewards:mr(_t(Sk)),blockTime:zt(be()),blockHeight:zt(be())}))),qgt=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),transactions:_t(ze({transaction:qJ,meta:zt(g6)})),rewards:mr(_t(Sk)),blockTime:zt(be())}))),Qge=Gr(zt(ze({blockhash:Ze(),previousBlockhash:Ze(),parentSlot:be(),signatures:_t(Ze()),blockTime:zt(be())}))),CN=Gr(zt(ze({slot:be(),meta:zt(g6),blockTime:mr(zt(be())),transaction:qJ,version:mr(kT)}))),C$=Gr(zt(ze({slot:be(),transaction:MEe,meta:zt(jJ),blockTime:mr(zt(be())),version:mr(kT)}))),jgt=mo(ze({blockhash:Ze(),feeCalculator:ze({lamportsPerSignature:be()})})),Hgt=mo(ze({blockhash:Ze(),lastValidBlockHeight:be()})),Ggt=mo(sh()),Ygt=ze({slot:be(),numTransactions:be(),numSlots:be(),samplePeriodSecs:be()}),Zgt=Gr(_t(Ygt)),Jgt=mo(zt(ze({feeCalculator:ze({lamportsPerSignature:be()})}))),Xgt=Gr(Ze()),Qgt=Gr(Ze()),emt=ze({err:bk,logs:_t(Ze()),signature:Ze()}),tmt=ze({result:h6(emt),subscription:be()}),rmt={"solana-client":"js/1.0.0-maintenance"};class nmt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Cs(l),h=this._buildArgs([],d,void 0,y),m=Gge(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=bt(f,Gr(be()));if("error"in g)throw new Qt(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=Wht(e),this._rpcWsEndpoint=r||Lht(e),this._rpcClient=tgt(e,s,i,o,a,c),this._rpcRequest=rgt(this._rpcClient),this._rpcBatchRequest=ngt(this._rpcClient),this._rpcWebSocket=new $ht(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=bt(o,mo(be()));if("error"in a)throw new Qt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=bt(t,Gr(zt(be())));if("error"in r)throw new Qt(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=bt(e,Gr(be()));if("error"in t)throw new Qt(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=bt(e,lgt);if("error"in t)throw new Qt(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=bt(r,dgt);if("error"in s)throw new Qt(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=bt(s,mo(Bq));if("error"in i)throw new Qt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=bt(s,mo(Bq));if("error"in i)throw new Qt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Cs(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=bt(c,hgt);if("error"in u)throw new Qt(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=bt(o,ggt);if("error"in a)throw new Qt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=bt(s,mgt);if("error"in i)throw new Qt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=bt(s,fgt);if("error"in i)throw new Qt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=bt(o,mo(zt(aB)));if("error"in a)throw new Qt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=bt(o,mo(zt($q)));if("error"in a)throw new Qt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=bt(a,mo(_t(zt($q))));if("error"in c)throw new Qt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=bt(a,mo(_t(zt(aB))));if("error"in c)throw new Qt(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Cs(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=bt(a,Gr(Sgt));if("error"in c)throw new Qt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Cs(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Zge(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=_t(ygt),l=o.withContext===!0?bt(c,mo(u)):bt(c,Gr(u));if("error"in l)throw new Qt(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=bt(o,Gr(_t(bgt)));if("error"in a)throw new Qt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return Vn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:wg.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:wg.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await g1(1e3),i||(h=await y(),i))return;d({__type:wg.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===wg.PROCESSED)l=d.response;else throw new LJ(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:wg.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await g1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===wg.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await g1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new zv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new zv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new zv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new zv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:wg.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===wg.PROCESSED)a=c.response;else throw new WJ(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=bt(e,Gr(_t(Cgt)));if("error"in t)throw new Qt(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=bt(r,Mgt);if("error"in s)throw new Qt(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=bt(i,Gr(be()));if("error"in o)throw new Qt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=bt(i,Gr(Ze()));if("error"in o)throw new Qt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=bt(s,Gr(_t(Hi)));if("error"in i)throw new Qt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);Vn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=bt(s,$gt);if("error"in i)throw new Qt(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=bt(i,Gr(be()));if("error"in o)throw new Qt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=bt(r,sgt);if("error"in s)throw new Qt(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Cs(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=bt(a,Uht);if("error"in c)throw new Qt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=bt(e,igt);if("error"in t)throw new Qt(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=bt(i,agt);if("error"in o)throw new Qt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=bt(e,cgt);if("error"in t)throw new Qt(t.error,"failed to get epoch schedule");const r=t.result;return new AEe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=bt(e,ugt);if("error"in t)throw new Qt(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=bt(s,Dgt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=bt(r,jgt);if("error"in s)throw new Qt(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=bt(t,Zgt);if("error"in r)throw new Qt(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=bt(s,Jgt);if("error"in i)throw new Qt(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=nn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=bt(i,mo(zt(be())));if("error"in o)throw new Qt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=bt(s,ogt);if("error"in i)throw new Qt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=bt(i,Hgt);if("error"in o)throw new Qt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=bt(o,Ggt);if("error"in a)throw new Qt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=bt(e,Gr(Jht));if("error"in t)throw new Qt(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=bt(e,Gr(Ze()));if("error"in t)throw new Qt(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=bt(o,Ngt);if("error"in a)throw a.error;return a.result}case"none":{const a=bt(o,Wgt);if("error"in a)throw a.error;return a.result}default:{const a=bt(o,Lgt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:RN(d,u.message)},version:d}))}:null}}}catch(a){throw new Qt(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=bt(o,Ugt);if("error"in a)throw a.error;return a.result}case"none":{const a=bt(o,Vgt);if("error"in a)throw a.error;return a.result}default:{const a=bt(o,Fgt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Qt(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=bt(i,egt);if("error"in o)throw new Qt(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=bt(o,CN);if("error"in a)throw new Qt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:RN(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Cs(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=bt(o,C$);if("error"in a)throw new Qt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=bt(c,C$);if("error"in u)throw new Qt(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Cs(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=bt(c,CN);if("error"in u)throw new Qt(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:RN(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=bt(s,qgt);if("error"in i)throw new Qt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new _d(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Jn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=bt(i,Gr(_t(be())));if("error"in o)throw new Qt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=bt(s,Qge);if("error"in i)throw new Qt(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=bt(s,Qge);if("error"in i)throw new Qt(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=bt(s,CN);if("error"in i)throw new Qt(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new _d(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Jn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=bt(s,C$);if("error"in i)throw new Qt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=bt(o,C$);if("error"in a)throw new Qt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=bt(i,kgt);if("error"in o)throw new Qt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=bt(i,vgt);if("error"in o)throw new Qt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new Mq({key:e,state:Mq.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=f6.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=bt(r,Xgt);if("error"in s)throw new Qt(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await g1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=IEe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await g1(SEe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Cs(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=bt(i,mo(be()));if("error"in o)throw new Qt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=bt(p,Jge);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Jn){let m=e;s=new Jn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Jn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=bt(y,Jge);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new oB({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=nn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=bt(a,Qgt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new oB({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=bt(e,Agt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Gge([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];Vn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Cs(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=bt(e,Igt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Cs(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Zge(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=bt(e,tmt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=bt(e,_gt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=bt(e,xgt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=bt(e,Tgt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=bt(e,Rgt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class hA{constructor(e){this._keypair=void 0,this._keypair=e??Vge()}static generate(){return new hA(Vge())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=$O(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new hA({publicKey:r,secretKey:e})}static fromSeed(e){const t=$O(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new hA({publicKey:t,secretKey:r})}get publicKey(){return new at(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Lg=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),lw("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),lw(),we(An(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class smt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Lg))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=os(Lg.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=os(Lg.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new at(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(HJ.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class HJ{constructor(){}static createLookupTable(e){const[t,r]=at.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Lg.CreateLookupTable,i=Bn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Va.programId,isSigner:!1,isWritable:!1}];return[new ws({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Lg.FreezeLookupTable,r=Bn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ws({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Lg.ExtendLookupTable,r=Bn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Va.programId,isSigner:!1,isWritable:!1}),new ws({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Lg.DeactivateLookupTable,r=Bn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ws({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Lg.CloseLookupTable,r=Bn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ws({programId:this.programId,keys:s,data:r})}}HJ.programId=new at("AddressLookupTab1e1111111111111111111111111");class imt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Cf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=os(Cf.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=os(Cf.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=os(Cf.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=os(Cf.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(GJ.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Cf=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),lw("microLamports")])}});class GJ{constructor(){}static requestUnits(e){const t=Cf.RequestUnits,r=Bn(t,e);return new ws({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=Cf.RequestHeapFrame,r=Bn(t,e);return new ws({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=Cf.SetComputeUnitLimit,r=Bn(t,e);return new ws({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=Cf.SetComputeUnitPrice,r=Bn(t,{microLamports:BigInt(e.microLamports)});return new ws({keys:[],programId:this.programId,data:r})}}GJ.programId=new at("ComputeBudget111111111111111111111111111111");const eme=64,tme=32,rme=64,nme=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class m6{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;Vn(t.length===tme,`Public Key must be ${tme} bytes but received ${t.length} bytes`),Vn(s.length===rme,`Signature must be ${rme} bytes but received ${s.length} bytes`);const o=nme.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return nme.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new ws({keys:[],programId:m6.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Vn(t.length===eme,`Private key must be ${eme} bytes but received ${t.length} bytes`);try{const i=hA.fromSecretKey(t),o=i.publicKey.toBytes(),a=OJ(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}m6.programId=new at("Ed25519SigVerify111111111111111111111111111");const omt=(n,e)=>{const t=u6.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};u6.utils.isValidPrivateKey;const amt=u6.getPublicKey,sme=32,MN=20,ime=64,cmt=11,BN=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class gA{constructor(){}static publicKeyToEthAddress(e){Vn(e.length===ime,`Public key must be ${ime} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Lge(nn(e))).slice(-MN)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return gA.createInstructionWithEthAddress({ethAddress:gA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,Vn(a.length===MN,`Address must be ${MN} bytes but received ${a.length} bytes`);const c=1+cmt,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc(BN.span+r.length);return BN.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:nn(s),ethAddress:nn(a),recoveryId:i},h),h.fill(nn(r),BN.span),new ws({keys:[],programId:gA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;Vn(t.length===sme,`Private key must be ${sme} bytes but received ${t.length} bytes`);try{const i=nn(t),o=amt(i,!1).slice(1),a=V.Buffer.from(Lge(nn(r))),[c,u]=omt(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}gA.programId=new at("KeccakSecp256k11111111111111111111111111111");var zEe;const $Ee=new at("StakeConfig11111111111111111111111111111111");class DEe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class _z{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}zEe=_z;_z.default=new zEe(0,0,at.default);class umt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Pa))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=os(Pa.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new DEe(new at(t.staker),new at(t.withdrawer)),lockup:new _z(r.unixTimestamp,r.epoch,new at(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),os(Pa.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=os(Pa.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=os(Pa.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new at(i),newAuthorizedPubkey:new at(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=os(Pa.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),os(Pa.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=os(Pa.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),os(Pa.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(y6.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Pa=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),lht(),dht()])},Authorize:{index:1,layout:F([U("instruction"),An("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),An("newAuthorized"),U("stakeAuthorizationType"),K1("authoritySeed"),An("authorityOwner")])}}),lmt=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class y6{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||_z.default,o=Pa.Initialize,a=Bn(o,{authorized:{staker:nn(r.staker.toBuffer()),withdrawer:nn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:nn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:uw,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new ws(c)}static createAccountWithSeed(e){const t=new Jn;t.add(Va.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Jn;t.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=Pa.Delegate,o=Bn(i);return new Jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:BD,isSigner:!1,isWritable:!1},{pubkey:$Ee,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=Pa.Authorize,c=Bn(a,{newAuthorized:nn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Jn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Pa.AuthorizeWithSeed,l=Bn(u,{newAuthorized:nn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:nn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:cf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Jn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=Pa.Split,a=Bn(o,{lamports:i});return new ws({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Jn;return r.add(Va.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Jn;return u.add(Va.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(Va.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=Pa.Merge,o=Bn(i);return new Jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:BD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=Pa.Withdraw,c=Bn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:BD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Jn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=Pa.Deactivate,i=Bn(s);return new Jn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}y6.programId=new at("Stake11111111111111111111111111111111111111");y6.space=200;class OEe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class dmt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Mf))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=os(Mf.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new OEe(new at(t.nodePubkey),new at(t.authorizedVoter),new at(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=os(Mf.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new at(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=os(Mf.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new at(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new at(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=os(Mf.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(vT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Mf=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),fht()])},Authorize:{index:1,layout:F([U("instruction"),An("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),hht()])}}),fmt=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class vT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Mf.InitializeAccount,o=Bn(i,{voteInit:{nodePubkey:nn(s.nodePubkey.toBuffer()),authorizedVoter:nn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:nn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:uw,isSigner:!1,isWritable:!1},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new ws(a)}static createAccount(e){const t=new Jn;return t.add(Va.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Mf.Authorize,a=Bn(o,{newAuthorized:nn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Mf.AuthorizeWithSeed,u=Bn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:nn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:nn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:cf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Jn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Mf.Withdraw,a=Bn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return vT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Mf.UpdateValidatorIdentity,o=Bn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Jn().add({keys:a,programId:this.programId,data:o})}}vT.programId=new at("Vote111111111111111111111111111111111111111");vT.space=3762;const KEe=new at("Va1idator1nfo111111111111111111111111111111"),hmt=ze({name:Ze(),website:mr(Ze()),details:mr(Ze()),iconUrl:mr(Ze()),keybaseUsername:mr(Ze())});class YJ{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(fu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new at(hu(t,0,Gf)),a=Rf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(KEe)&&s[1].isSigner){const i=K1().decode(V.Buffer.from(t)),o=JSON.parse(i);return oEe(o,hmt),new YJ(s[1].publicKey,o)}return null}}const gmt=new at("Vote111111111111111111111111111111111111111"),mmt=F([An("nodePubkey"),An("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),An("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([An("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class ZJ{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=mmt.decode(nn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new ZJ({nodePubkey:new at(r.nodePubkey),authorizedWithdrawer:new at(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(ymt),priorVoters:pmt(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function ymt({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new at(n)}}function ome({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new at(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function pmt({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(ome),...n.slice(0,e).map(ome)]}const ame={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function bmt(n,e){const t=e===!1?"http":"https";if(!n)return ame[t].devnet;const r=ame[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function Smt(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new oB({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const kmt=1e9;var vmt=Object.freeze(Object.defineProperty({__proto__:null,Account:aht,AddressLookupTableAccount:Mq,AddressLookupTableInstruction:smt,AddressLookupTableProgram:HJ,Authorized:DEe,BLOCKHASH_CACHE_TIMEOUT_MS:IEe,BPF_LOADER_DEPRECATED_PROGRAM_ID:cht,BPF_LOADER_PROGRAM_ID:xht,BpfLoader:Tht,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Cf,ComputeBudgetInstruction:imt,ComputeBudgetProgram:GJ,Connection:nmt,Ed25519Program:m6,Enum:iht,EpochSchedule:AEe,FeeCalculatorLayout:kEe,Keypair:hA,LAMPORTS_PER_SOL:kmt,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Lg,Loader:DS,Lockup:_z,MAX_SEED_LENGTH:yEe,Message:_d,MessageAccountKeys:iB,MessageV0:$S,NONCE_ACCOUNT_LENGTH:Cq,NonceAccount:f6,PACKET_DATA_SIZE:Zy,PUBLIC_KEY_LENGTH:Gf,PublicKey:at,SIGNATURE_LENGTH_IN_BYTES:sB,SOLANA_SCHEMA:V2,STAKE_CONFIG_ID:$Ee,STAKE_INSTRUCTION_LAYOUTS:Pa,SYSTEM_INSTRUCTION_LAYOUTS:Ws,SYSVAR_CLOCK_PUBKEY:cf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:bht,SYSVAR_INSTRUCTIONS_PUBKEY:Sht,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:MD,SYSVAR_RENT_PUBKEY:uw,SYSVAR_REWARDS_PUBKEY:kht,SYSVAR_SLOT_HASHES_PUBKEY:vht,SYSVAR_SLOT_HISTORY_PUBKEY:Aht,SYSVAR_STAKE_HISTORY_PUBKEY:BD,Secp256k1Program:gA,SendTransactionError:oB,SolanaJSONRPCError:Qt,SolanaJSONRPCErrorCode:wht,StakeAuthorizationLayout:lmt,StakeInstruction:umt,StakeProgram:y6,Struct:KJ,SystemInstruction:_ht,SystemProgram:Va,Transaction:Jn,TransactionExpiredBlockheightExceededError:LJ,TransactionExpiredNonceInvalidError:zv,TransactionExpiredTimeoutError:WJ,TransactionInstruction:ws,TransactionMessage:FJ,TransactionStatus:wg,VALIDATOR_INFO_KEY:KEe,VERSION_PREFIX_MASK:l6,VOTE_PROGRAM_ID:gmt,ValidatorInfo:YJ,VersionedMessage:NJ,VersionedTransaction:UJ,VoteAccount:ZJ,VoteAuthorizationLayout:fmt,VoteInit:OEe,VoteInstruction:dmt,VoteProgram:vT,clusterApiUrl:bmt,sendAndConfirmRawTransaction:Smt,sendAndConfirmTransaction:Rq},Symbol.toStringTag,{value:"Module"})),Amt=Td(vmt),AT={},wmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Imt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},py;Object.defineProperty(AT,"__esModule",{value:!0});AT.FactionPermissions=void 0;const LEe=tr;let cme=AT.FactionPermissions=py=class{constructor(e){this.setFaction=e}getPermissions(){const e=(0,LEe.fixedSizeArray)(8,0);return e[0]=this.setFaction?1<<0:0,e}static empty(){return new py(!1)}static all(){return new py(!0)}static setFactionPermissions(){return new py(!0)}static fromPermissions(e){return new py((e[0]&1<<0)!==0)}and(e){return new py(this.setFaction&&e.setFaction)}or(e){return new py(this.setFaction||e.setFaction)}eq(e){return this.setFaction===e.setFaction}contains(e){return this.setFaction||!e.setFaction}};AT.FactionPermissions=cme=py=wmt([(0,LEe.staticImplements)(),Imt("design:paramtypes",[Boolean])],cme);var Pmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},_mt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Emt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},x2;Object.defineProperty(Hf,"__esModule",{value:!0});Hf.ProfileFactionAccount=Hf.Faction=Hf.profileFactionDataEquals=void 0;const Dq=Amt,Oq=tr,M$=Jd,ume=AT;function xmt(n,e){return n.version===e.version&&n.faction===e.faction&&n.profile.equals(e.profile)}Hf.profileFactionDataEquals=xmt;var Kq;(function(n){n[n.Unaligned=0]="Unaligned",n[n.MUD=1]="MUD",n[n.ONI=2]="ONI",n[n.Ustur=3]="Ustur"})(Kq||(Hf.Faction=Kq={}));let OO=Hf.ProfileFactionAccount=x2=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static chooseFactionBareBones(e,t,r,s,i,o){const a=x2.findAddress(e,r);return{instructions:c=>Emt(this,void 0,void 0,function*(){return{instruction:yield e.methods.chooseFaction(i,(0,Oq.getAnchorEnum)(Kq,s)).accountsStrict({key:t.publicKey(),funder:c.publicKey(),profile:r,faction:a[0],systemProgram:Dq.SystemProgram.programId}).remainingAccounts((0,M$.getMetaAccountsFromProfilesOrRoles)(o)).instruction().then(u=>(0,M$.addKeyIndexesToTransactionInstruction)(u,o)),signers:[t]}}),faction:a}}static chooseFaction(e,t,r,s){const i=(0,M$.findKeyInProfile)((0,M$.profileKeyInputToFindKeyInput)(t,[e.programId],ume.FactionPermissions.setFactionPermissions()),ume.FactionPermissions);if("error"in i)throw i.error;const{profileKey:o,key:a,keyIndex:c}=i;return x2.chooseFactionBareBones(e,a,o,r,c,s)}static findAddress(e,t){return Dq.PublicKey.findProgramAddressSync([Xe.Buffer.from("player_faction"),t.toBuffer()],e.programId)}static decodeData(e,t){return(0,Oq.decodeAccount)(e,t,x2)}};OO.ACCOUNT_NAME="profileFactionAccount";OO.MIN_DATA_SIZE=8+1+32+1+1;Hf.ProfileFactionAccount=OO=x2=Pmt([(0,Oq.staticImplements)(),_mt("design:paramtypes",[Object,Dq.PublicKey])],OO);(function(n){var e=K&&K.__decorate||function(u,l,d,y){var h=arguments.length,m=h<3?l:y===null?y=Object.getOwnPropertyDescriptor(l,d):y,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(u,l,d,y);else for(var g=u.length-1;g>=0;g--)(f=u[g])&&(m=(h<3?f(m):h>3?f(l,d,m):f(l,d))||m);return h>3&&m&&Object.defineProperty(l,d,m),m},t=K&&K.__metadata||function(u,l){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(u,l)};Object.defineProperty(n,"__esModule",{value:!0}),n.ProfileFactionProgram=n.profileFactionErrorMap=n.PROFILE_FACTION_IDL=void 0;const r=cc,s=tr,i=tB,o=Hf;var a=tB;Object.defineProperty(n,"PROFILE_FACTION_IDL",{enumerable:!0,get:function(){return a.IDL}}),n.profileFactionErrorMap=(0,s.generateErrorMap)(i.IDL);let c=n.ProfileFactionProgram=class extends s.ListenProgram{constructor(l){super(l,{profileFaction:o.ProfileFactionAccount})}static buildProgram(l,d,y){return new r.Program(i.IDL,l,d,y)}};n.ProfileFactionProgram=c=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],c)})(U_e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(U_e,n),t(AT,n),t(Hf,n)})(i6);var p6={};(function(n){var e=K&&K.__decorate||function(c,u,l,d){var y=arguments.length,h=y<3?u:d===null?d=Object.getOwnPropertyDescriptor(u,l):d,m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(c,u,l,d);else for(var f=c.length-1;f>=0;f--)(m=c[f])&&(h=(y<3?m(h):y>3?m(u,l,h):m(u,l))||h);return y>3&&h&&Object.defineProperty(u,l,h),h},t=K&&K.__metadata||function(c,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(c,u)},r;Object.defineProperty(n,"__esModule",{value:!0}),n.FleetShips=n.fleetShipsEquals=n.FLEET_SHIPS_MIN_DATA_SIZE=void 0;const s=qs,i=tr;n.FLEET_SHIPS_MIN_DATA_SIZE=8+1+1+32+4;function o(c,u){return c.version===u.version&&c.bump===u.bump&&c.fleet.equals(u.fleet)&&c.fleetShipsInfoCount==u.fleetShipsInfoCount}n.fleetShipsEquals=o;let a=r=class{constructor(u,l,d){this._data=u,this._key=l,this._fleetShips=d}get data(){return this._data}get key(){return this._key}get fleetShips(){return this._fleetShips||[]}static findAddress(u,l){return s.PublicKey.findProgramAddressSync([Xe.Buffer.from("FleetShips"),l.toBuffer()],u.programId)}static decodeData(u,l){return(0,i.decodeAccountWithRemaining)(u,l,r,(y,h)=>Array(h.fleetShipsInfoCount).fill(0).map((m,f)=>l.coder.types.decode("FleetShipsInfo",y.subarray(48*f).subarray(0,48))))}};n.FleetShips=a,a.ACCOUNT_NAME="fleetShips",a.MIN_DATA_SIZE=n.FLEET_SHIPS_MIN_DATA_SIZE,n.FleetShips=a=r=e([(0,i.staticImplements)(),t("design:paramtypes",[Object,s.PublicKey,Array])],a)})(p6);var nm={},Tmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Rmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},B$=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},zD;Object.defineProperty(nm,"__esModule",{value:!0});nm.MineItem=nm.mineItemDataEquals=void 0;const lme=sl,Lq=qs,KO=tr;function Cmt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.mint.equals(e.mint)&&(0,KO.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&n.numResourceAccounts.eq(e.numResourceAccounts)&&n.resourceHardness===e.resourceHardness&&n.bump===e.bump}nm.mineItemDataEquals=Cmt;let dw=zD=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return Lq.PublicKey.findProgramAddressSync([Xe.Buffer.from("MineItem"),t.toBuffer(),r.toBuffer()],e.programId)}static registerMineItem(e,t,r,s,i,o){const a=zD.findAddress(e,i,s);return{mineItemKey:a,instructions:c=>B$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerMineItem(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},funder:c.publicKey(),mineItem:a[0],mint:s,systemProgram:Lq.SystemProgram.programId}).instruction(),signers:[t,c]}]})}}static fundMineItemBank(e,t,r,s,i){const o=(0,lme.getAssociatedTokenAddressSync)(t,e,!0);return(0,KO.transferToTokenAccount)(r,s,o,i)}static updateMineItem(e,t,r,s,i,o){const a=Object.assign(Object.assign({},o),{name:o.name==null?null:o.name,resourceHardness:o.resourceHardness==null?null:o.resourceHardness});return()=>B$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateMineItem(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},mineItem:s}).instruction(),signers:[t]}]})}static drainMineItemBank(e,t,r,s,i,o,a,c,u){return l=>B$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainMineItemBank(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?l.publicKey():s,mineItem:i,tokenFrom:a,tokenTo:c,tokenProgram:lme.TOKEN_PROGRAM_ID}).instruction(),signers:[t]}]})}static deregisterMineItem(e,t,r,s,i,o,a){return c=>B$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterMineItem(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?c.publicKey():s,mineItem:i}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,KO.decodeAccount)(e,t,zD)}};nm.MineItem=dw;dw.ACCOUNT_NAME="mineItem";dw.MIN_DATA_SIZE=8+1+32+32+64+8+2+1;dw.RESOURCE_HARDNESS_DECIMALS=100;nm.MineItem=dw=zD=Tmt([(0,KO.staticImplements)(),Rmt("design:paramtypes",[Object,Lq.PublicKey])],dw);var ld={},Mmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Bmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},zN=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},$D;Object.defineProperty(ld,"__esModule",{value:!0});ld.Resource=ld.resourceDataEquals=ld.LocationType=void 0;const Wq=qs,WEe=tr;var dme;(function(n){n[n.Planet=1]="Planet"})(dme||(ld.LocationType=dme={}));function zmt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.location.equals(e.location)&&n.mineItem.equals(e.mineItem)&&n.locationType===e.locationType&&n.numMiners.eq(e.numMiners)&&n.amountMined.eq(e.amountMined)&&n.systemRichness===e.systemRichness&&n.bump===e.bump}ld.resourceDataEquals=zmt;let fw=$D=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return Wq.PublicKey.findProgramAddressSync([Xe.Buffer.from("Resource"),t.toBuffer(),r.toBuffer()],e.programId)}static registerResource(e,t,r,s,i,o,a){const c=$D.findAddress(e,i,s);return{resourceKey:c,instructions:u=>zN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerResource(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},funder:u.publicKey(),resource:c[0],location:s,mineItem:i,systemProgram:Wq.SystemProgram.programId}).instruction(),signers:[t,u]}]})}}static updateResource(e,t,r,s,i,o,a){return()=>zN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateResource(Object.assign(Object.assign({},a),{systemRichness:a.systemRichness==null?null:a.systemRichness})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},mineItem:i,resource:s}).instruction(),signers:[t]}]})}static deregisterResource(e,t,r,s,i,o,a,c,u){return l=>zN(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterResource(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:c},fundsTo:s==="funder"?l.publicKey():s,resource:i,mineItem:o,location:a}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,WEe.decodeAccount)(e,t,$D)}};ld.Resource=fw;fw.ACCOUNT_NAME="resource";fw.MIN_DATA_SIZE=8+1+32+32+32+1+8+8+2+1;fw.SYSTEM_RICHNESS_DECIMALS=100;ld.Resource=fw=$D=Mmt([(0,WEe.staticImplements)(),Bmt("design:paramtypes",[Object,Wq.PublicKey])],fw);var b6={};(function(n){var e=K&&K.__decorate||function(m,f,g,b){var S=arguments.length,p=S<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,g):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(m,f,g,b);else for(var w=m.length-1;w>=0;w--)(I=m[w])&&(p=(S<3?I(p):S>3?I(f,g,p):I(f,g))||p);return S>3&&p&&Object.defineProperty(f,g,p),p},t=K&&K.__metadata||function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)},r=K&&K.__awaiter||function(m,f,g,b){function S(p){return p instanceof g?p:new g(function(I){I(p)})}return new(g||(g=Promise))(function(p,I){function w(E){try{_(b.next(E))}catch(M){I(M)}}function A(E){try{_(b.throw(E))}catch(M){I(M)}}function _(E){E.done?p(E.value):S(E.value).then(w,A)}_((b=b.apply(m,f||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Sector=n.connectionFlagsFromByte=n.connectionFlagsToByte=n.connectionFlagsEquals=n.SECTOR_CONNECTION_MIN_DATA_SIZE=n.sectorConnectionEquals=n.sectorDataEquals=n.calculateDistance=void 0;const i=qs,o=tr,a=(m,f)=>Math.sqrt(f[0].sub(m[0]).sqr().add(f[1].sub(m[1]).sqr()).toNumber());n.calculateDistance=a;function c(m,f){return m.version===f.version&&m.gameId.equals(f.gameId)&&(0,o.arrayDeepEquals)(m.coordinates,f.coordinates,(g,b)=>g.eq(b))&&m.discoverer.equals(f.discoverer)&&(0,o.arrayDeepEquals)(m.name,f.name,(g,b)=>g===b)&&m.numStars===f.numStars&&m.numPlanets===f.numPlanets&&m.numMoons===f.numMoons&&m.numAsteroidBelts===f.numAsteroidBelts&&m.numConnections===f.numConnections&&m.lastScanTime.eq(f.lastScanTime)&&m.lastScanChance===f.lastScanChance&&m.bump===f.bump}n.sectorDataEquals=c;function u(m,f){return m.connectionSector.equals(f.connectionSector)&&m.subCoordinates[0].eq(f.subCoordinates[0])&&m.subCoordinates[1].eq(f.subCoordinates[1])&&m.flags===f.flags}n.sectorConnectionEquals=u,n.SECTOR_CONNECTION_MIN_DATA_SIZE=32+8*2+1;function l(m,f){return m.isJumpPoint===f.isJumpPoint}n.connectionFlagsEquals=l;function d(m){return m.isJumpPoint?1<<0:0}n.connectionFlagsToByte=d;function y(m){return{isJumpPoint:(m&1<<0)>0}}n.connectionFlagsFromByte=y;let h=s=class{constructor(f,g,b){this._data=f,this._key=g,this._connections=b}get data(){return this._data}get key(){return this._key}get connections(){return this._connections}static findAddress(f,g,b){return i.PublicKey.findProgramAddressSync([Xe.Buffer.from("Sector"),g.toBuffer(),b[0].toTwos(64).toArrayLike(Xe.Buffer,"le",8),b[1].toTwos(64).toArrayLike(Xe.Buffer,"le",8)],f.programId)}static decodeData(f,g){return(0,o.decodeAccountWithRemaining)(f,g,s,(b,S)=>Array(S.numConnections).fill(0).map((p,I)=>g.coder.types.decode("SectorConnection",b.subarray(n.SECTOR_CONNECTION_MIN_DATA_SIZE*I).subarray(0,n.SECTOR_CONNECTION_MIN_DATA_SIZE))))}static registerSector(f,g,b,S,p,I,w,A){const _=s.findAddress(f,p,I);return{sectorKey:_,instructions:E=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.registerSector(I,(0,o.stringToByteArray)(w,64),A).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:p},funder:E.publicKey(),discoverer:S,sector:_[0],systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,E]}]})}}static discoverSector(f,g,b,S,p,I,w,A,_){const E=s.findAddress(f,I,A);return{sectorKey:E,instructions:M=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.discoverSector({coordinates:A,keyIndex:_}).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:p,owningProfile:b,owningProfileFaction:S,key:g.publicKey()},gameId:I},gameState:w},funder:M.publicKey(),sector:E[0],systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,M]}]})}}static addConnection(f,g,b,S,p,I,w,A,_,E,M){return P=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.addConnection(w,d(A),_,d(E),M).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:I},funder:P.publicKey(),sector1:S,sector2:p,systemProgram:i.SystemProgram.programId}).instruction(),signers:[g,P]}]})}static removeConnection(f,g,b,S,p,I,w,A){const _=p.connections.findIndex(M=>M.connectionSector.equals(I.key)),E=I.connections.findIndex(M=>M.connectionSector.equals(p.key));if(_===-1||E===-1)throw new Error("Connection not found");return M=>r(this,void 0,void 0,function*(){return[{instruction:yield f.methods.removeConnection(_,E,w).accountsStrict({gameAndProfile:{key:g.publicKey(),profile:b,gameId:A},fundsTo:S==="funder"?M.publicKey():S,sector1:p.key,sector2:I.key,systemProgram:i.SystemProgram.programId}).instruction(),signers:[g]}]})}};n.Sector=h,h.ACCOUNT_NAME="sector",h.MIN_DATA_SIZE=8+1+32+8*2+32+64+2+2+2+2+2+8+4+1,n.Sector=h=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey,Array])],h)})(b6);var S6={};(function(n){var e=K&&K.__decorate||function(p,I,w,A){var _=arguments.length,E=_<3?I:A===null?A=Object.getOwnPropertyDescriptor(I,w):A,M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(p,I,w,A);else for(var P=p.length-1;P>=0;P--)(M=p[P])&&(E=(_<3?M(E):_>3?M(I,w,E):M(I,w))||E);return _>3&&E&&Object.defineProperty(I,w,E),E},t=K&&K.__metadata||function(p,I){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(p,I)},r=K&&K.__awaiter||function(p,I,w,A){function _(E){return E instanceof w?E:new w(function(M){M(E)})}return new(w||(w=Promise))(function(E,M){function P(z){try{$(A.next(z))}catch(T){M(T)}}function R(z){try{$(A.throw(z))}catch(T){M(T)}}function $(z){z.done?E(z.value):_(z.value).then(P,R)}$((A=A.apply(p,I||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Ship=n.shipDataEquals=n.shipStatsEquals=n.miscStatsEquals=n.cargoStatsEquals=n.movementStatsEquals=n.SHIP_MIN_DATA_SIZE=n.shipStatsDefault=n.getSizeClassAnchorEnum=n.SHIP_STATS_MIN_DATA_SIZE=n.SHIP_SIZES=n.SizeClass=void 0;const i=qs,o=tr;var a;(function(p){p[p.XxSmall=1]="XxSmall",p[p.XSmall=2]="XSmall",p[p.Small=3]="Small",p[p.Medium=4]="Medium",p[p.Large=5]="Large",p[p.Capital=6]="Capital",p[p.Commander=7]="Commander",p[p.Titan=9]="Titan"})(a||(n.SizeClass=a={})),n.SHIP_SIZES={xxSmall:1,xSmall:4,small:9,medium:16,large:25,capital:36,commander:49,titan:81};const c=24,u=36,l=32;n.SHIP_STATS_MIN_DATA_SIZE=c+u+l;const d=p=>{const I=a[p];if(I)return{[I.toUpperCase()===I?I.toLowerCase():I.charAt(0).toLowerCase()+I.slice(1)]:{}};throw new Error(`${p} is not found in the "SizeClass" enum`)};n.getSizeClassAnchorEnum=d;function y(){return{movementStats:{warpSpeed:0,subwarpSpeed:0,maxWarpDistance:0,warpCoolDown:0,subwarpFuelConsumptionRate:0,warpFuelConsumptionRate:0,planetExitFuelAmount:0},cargoStats:{cargoCapacity:0,fuelCapacity:0,ammoCapacity:0,ammoConsumptionRate:0,foodConsumptionRate:0,miningRate:0,upgradeRate:0,cargoTransferRate:0,tractorBeamGatherRate:0},miscStats:{requiredCrew:0,passengerCapacity:0,crewCount:0,rentedCrew:0,respawnTime:0,scanCoolDown:0,sduPerScan:0,scanCost:0,placeholder:0,placeholder2:0,placeholder3:0}}}n.shipStatsDefault=y,n.SHIP_MIN_DATA_SIZE=8+1+32+32+1+8+8+32+64+n.SHIP_STATS_MIN_DATA_SIZE;function h(p,I){return p.subwarpSpeed===I.subwarpSpeed&&p.maxWarpDistance===I.maxWarpDistance&&p.warpCoolDown===I.warpCoolDown&&p.warpCoolDown===I.warpCoolDown&&p.subwarpFuelConsumptionRate===I.subwarpFuelConsumptionRate&&p.warpFuelConsumptionRate===I.warpFuelConsumptionRate&&p.planetExitFuelAmount===I.planetExitFuelAmount}n.movementStatsEquals=h;function m(p,I){return p.cargoCapacity===I.cargoCapacity&&p.fuelCapacity===I.fuelCapacity&&p.ammoCapacity===I.ammoCapacity&&p.ammoConsumptionRate===I.ammoConsumptionRate&&p.foodConsumptionRate===I.foodConsumptionRate&&p.miningRate===I.miningRate&&p.tractorBeamGatherRate===I.tractorBeamGatherRate&&p.cargoTransferRate===I.cargoTransferRate&&p.upgradeRate===I.upgradeRate}n.cargoStatsEquals=m;function f(p,I){return p.requiredCrew===I.requiredCrew&&p.passengerCapacity===I.passengerCapacity&&p.crewCount===I.crewCount&&p.scanCoolDown===I.scanCoolDown&&p.respawnTime===I.respawnTime&&p.sduPerScan===I.sduPerScan&&p.scanCost===I.scanCost&&p.placeholder===I.placeholder&&p.placeholder2===I.placeholder2&&p.placeholder3===I.placeholder3}n.miscStatsEquals=f;function g(p,I){return h(p.movementStats,I.movementStats)&&m(p.cargoStats,I.cargoStats)&&f(p.miscStats,I.miscStats)}n.shipStatsEquals=g;function b(p,I){return p.version===I.version&&p.gameId.equals(I.gameId)&&p.mint.equals(I.mint)&&p.sizeClass===I.sizeClass&&g(p.stats,I.stats)&&p.updateId.eq(I.updateId)&&p.maxUpdateId.eq(I.maxUpdateId)&&p.next.key.equals(I.next.key)&&(0,o.arrayDeepEquals)(p.name,I.name,(w,A)=>w===A)}n.shipDataEquals=b;let S=s=class{constructor(I,w){this._data=I,this._key=w}get data(){return this._data}get key(){return this._key}static registerShip(I,w,A,_,E,M,P){return R=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.registerShip(P).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:M},funder:R.publicKey(),ship:_.publicKey(),mint:E,systemProgram:i.SystemProgram.programId}).instruction(),signers:[w,R,_]}]})}static updateShip(I,w,A,_,E,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.updateShip(M).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:E},ship:_}).instruction(),signers:[w]}]})}static invalidateShip(I,w,A,_,E,M){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.invalidateShip(M).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:E},ship:_}).instruction(),signers:[w]}]})}static setNextShip(I,w,A,_,E,M,P){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield I.methods.setNextShip(P).accountsStrict({gameAndProfile:{key:w.publicKey(),profile:A,gameId:M},ship:_,nextShip:E}).instruction(),signers:[w]}]})}static decodeData(I,w){return(0,o.decodeAccount)(I,w,s)}};n.Ship=S,S.ACCOUNT_NAME="ship",S.MIN_DATA_SIZE=n.SHIP_MIN_DATA_SIZE,n.Ship=S=s=e([(0,o.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],S)})(S6);(function(n){var e=K&&K.__decorate||function(I,w,A,_){var E=arguments.length,M=E<3?w:_===null?_=Object.getOwnPropertyDescriptor(w,A):_,P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(I,w,A,_);else for(var R=I.length-1;R>=0;R--)(P=I[R])&&(M=(E<3?P(M):E>3?P(w,A,M):P(w,A))||M);return E>3&&M&&Object.defineProperty(w,A,M),M},t=K&&K.__metadata||function(I,w){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(I,w)},r=K&&K.__awaiter||function(I,w,A,_){function E(M){return M instanceof A?M:new A(function(P){P(M)})}return new(A||(A=Promise))(function(M,P){function R(T){try{z(_.next(T))}catch(v){P(v)}}function $(T){try{z(_.throw(T))}catch(v){P(v)}}function z(T){T.done?M(T.value):E(T.value).then(R,$)}z((_=_.apply(I,w||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Fleet=n.fleetDataEquals=n.GLOBAL_SCALE_DECIMALS_6=n.GLOBAL_SCALE_DECIMALS_4=n.GLOBAL_SCALE_DECIMALS_2=n.FLEET_MIN_DATA_SIZE=n.PointsCategoryEnum=n.MAX_CONSUMPTION_CAPACITY=n.MAX_CARGO_CAPACITY=n.MAX_WARP_DISTANCE=n.MIN_WARP_DISTANCE=void 0;const i=sl,o=qs,a=HK,c=tr,u=i6,l=qK,d=p6,y=nm,h=Au,m=ld,f=b6,g=S6;n.MIN_WARP_DISTANCE=0,n.MAX_WARP_DISTANCE=20*100,n.MAX_CARGO_CAPACITY=1e8,n.MAX_CONSUMPTION_CAPACITY=5e7;var b;(function(I){I[I.XP=1]="XP",I[I.LP=2]="LP"})(b||(n.PointsCategoryEnum=b={})),n.FLEET_MIN_DATA_SIZE=8+1+32+32+32+32+32+(2*8+4*2)+8+8+g.SHIP_STATS_MIN_DATA_SIZE+32+32+32+8+32+1+1,n.GLOBAL_SCALE_DECIMALS_2=100,n.GLOBAL_SCALE_DECIMALS_4=1e4,n.GLOBAL_SCALE_DECIMALS_6=1e6;function S(I,w){return I.version===w.version&&I.gameId.equals(w.gameId)&&I.ownerProfile.equals(w.ownerProfile)&&I.subProfile.key.equals(w.subProfile.key)&&I.subProfileInvalidator.equals(w.subProfileInvalidator)&&(0,c.arrayDeepEquals)(I.fleetLabel,w.fleetLabel,(A,_)=>A===_)&&(0,c.arrayDeepEquals)(Object.values(I.shipCounts),Object.values(w.shipCounts),(A,_)=>A===_)&&(0,g.shipStatsEquals)(I.stats,w.stats)&&I.cargoHold.equals(w.cargoHold)&&I.ammoBank.equals(w.ammoBank)&&I.fuelTank.equals(w.fuelTank)&&I.updateId.eq(w.updateId)&&I.warpCooldownExpiresAt.eq(w.warpCooldownExpiresAt)&&I.fleetShips.equals(w.fleetShips)&&I.faction===w.faction&&I.bump===w.bump}n.fleetDataEquals=S;let p=s=class{constructor(w,A,_){this._data=w,this._key=A,this._state=_}get data(){return this._data}get key(){return this._key}get state(){return this._state}static findAddress(w,A,_,E){return o.PublicKey.findProgramAddressSync([Xe.Buffer.from("Fleet"),A.toBuffer(),_.toBuffer(),Xe.Buffer.from(E)],w.programId)}static getFleetSize(w){return w.xxSmall*g.SizeClass.XxSmall+w.xSmall*g.SizeClass.XSmall+w.small*g.SizeClass.Small+w.medium*g.SizeClass.Medium+w.large*g.SizeClass.Large+w.capital*g.SizeClass.Capital+w.commander*g.SizeClass.Commander+w.titan*g.SizeClass.Titan}static calculateWarpTime(w,A){return w.movementStats.warpSpeed>0?A/(w.movementStats.warpSpeed/n.GLOBAL_SCALE_DECIMALS_6):0}static calculateWarpTimeWithCoords(w,A,_){return this.calculateWarpTime(w,(0,f.calculateDistance)(A,_))}static calculateWarpFuelBurnWithDistance(w,A){return A*(w.movementStats.warpFuelConsumptionRate/n.GLOBAL_SCALE_DECIMALS_2)}static calculateWarpFuelBurnWithCoords(w,A,_){return this.calculateWarpFuelBurnWithDistance(w,(0,f.calculateDistance)(A,_))}static calculateSubwarpTime(w,A){return w.movementStats.subwarpSpeed>0?A/(w.movementStats.subwarpSpeed/n.GLOBAL_SCALE_DECIMALS_6):0}static calculateSubwarpTimeWithCoords(w,A,_){return this.calculateSubwarpTime(w,(0,f.calculateDistance)(A,_))}static calculateSubwarpFuelBurnWithDistance(w,A){return A*(w.movementStats.subwarpFuelConsumptionRate/n.GLOBAL_SCALE_DECIMALS_2)}static calculateSubwarpFuelBurnWithCoords(w,A,_){return this.calculateSubwarpFuelBurnWithDistance(w,(0,f.calculateDistance)(A,_))}static calculateAsteroidMiningFoodDuration(w,A){return w.cargoStats.foodConsumptionRate>0?A/(w.cargoStats.foodConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningFoodToConsume(w,A,_){const E=s.calculateAsteroidMiningFoodDuration(w,A),P=Math.min(_,E)*(w.cargoStats.foodConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4);return P>0?A>P?P:A:0}static calculateAsteroidMiningAmmoDuration(w,A){return w.cargoStats.ammoConsumptionRate>0?A/(w.cargoStats.ammoConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4):0}static calculateAsteroidMiningAmmoToConsume(w,A,_){const E=s.calculateAsteroidMiningAmmoDuration(w,A),P=Math.min(_,E)*(w.cargoStats.ammoConsumptionRate/n.GLOBAL_SCALE_DECIMALS_4);return P>0?A>P?P:A:0}static applyAsteroidMiningRatePenalty(w,A){return A>=1?0:(1-A)*w}static calculateAsteroidMiningEmissionRateBareBones(w,A,_,E=0){const M=A/y.MineItem.RESOURCE_HARDNESS_DECIMALS;if(M>0){const P=_/m.Resource.SYSTEM_RICHNESS_DECIMALS,R=w.cargoStats.miningRate/n.GLOBAL_SCALE_DECIMALS_4*P/M;return s.applyAsteroidMiningRatePenalty(R,E)}return 0}static calculateAsteroidMiningEmissionRate(w,A,_,E=0){return s.calculateAsteroidMiningEmissionRateBareBones(w,A.resourceHardness,_.systemRichness,E)}static calculateAsteroidMiningResourceExtractionDurationBareBones(w,A,_,E,M=0){const P=s.calculateAsteroidMiningEmissionRateBareBones(w,A,_,M);return P>0?E/P:0}static calculateAsteroidMiningResourceExtractionDuration(w,A,_,E){return s.calculateAsteroidMiningResourceExtractionDurationBareBones(w,A.resourceHardness,_.systemRichness,E)}static calculateAsteroidMiningResourceToExtractBareBones(w,A,_,E,M,P=0){const R=s.calculateAsteroidMiningEmissionRateBareBones(w,A,_,P);return Math.min(M,R*E)}static calculateAsteroidMiningResourceToExtract(w,A,_,E,M,P=0){return s.calculateAsteroidMiningResourceToExtractBareBones(w,A.resourceHardness,_.systemRichness,E,M,P)}normalizedCrew(){return this.data.stats.miscStats.crewCount>=this.data.stats.miscStats.requiredCrew}static createFleet(w,A,_,E,M,P,R,$,z,T,v,k){const x=s.findAddress(w,z,E,k.fleetLabel),C=d.FleetShips.findAddress(w,x[0]),B=o.Keypair.generate().publicKey.toBuffer(),O=o.Keypair.generate().publicKey.toBuffer(),D=o.Keypair.generate().publicKey.toBuffer(),W=a.CargoPod.findAddress(A,B),L=a.CargoPod.findAddress(A,O),N=a.CargoPod.findAddress(A,D);return{fleetKey:x,cargoHoldKey:W,fuelTankKey:L,ammoBankKey:N,instructions:H=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.createFleet(Object.assign(Object.assign({},k),{cargoHoldSeeds:Array.from(B),fuelTankSeeds:Array.from(O),ammoBankSeeds:Array.from(D)})).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:_.publicKey(),profile:E,profileFaction:M,gameId:z},gameState:T},funder:H.publicKey(),fleet:x[0],fleetShips:C[0],ship:P,starbaseAndStarbasePlayer:{starbase:$,starbasePlayer:R},cargoHold:W[0],fuelTank:L[0],ammoBank:N[0],cargoStatsDefinition:v,cargoProgram:A.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[_,H]}]})}}static addShipToFleet(w,A,_,E,M,P,R,$,z,T,v){return k=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.addShipToFleet(v).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:z},gameState:T},funder:k.publicKey(),fleetShips:d.FleetShips.findAddress(w,M)[0],ship:P,starbaseAndStarbasePlayer:{starbase:$,starbasePlayer:R},systemProgram:o.SystemProgram.programId}).remainingAccounts([{pubkey:$,isSigner:!1,isWritable:!1}]).instruction(),signers:[A,k]}]})}static updateShipInFleet(w,A,_,E,M,P,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.updateShipInFleet(R).accountsStrict({fleet:A,fleetShips:d.FleetShips.findAddress(w,A)[0],oldShip:_,next:E,gameAccounts:{gameState:P,gameId:M}}).instruction(),signers:[]}]})}static disbandFleet(w,A,_,E,M,P,R,$,z,T,v){return s.disbandFleetBareBones(w,A,_,E,M,P.key,P.data.fleetLabel,P.data.ammoBank,P.data.cargoHold,P.data.fuelTank,R,$,z,T,v)}static disbandFleetBareBones(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B){const O=l.DisbandedFleet.findAddress(w,x,E,R);return{disbandedFleetKey:O,instructions:D=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.disbandFleet(B).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:_.publicKey(),profile:E,profileFaction:M,gameId:x},gameState:C},funder:D.publicKey(),fleet:P,fleetShips:d.FleetShips.findAddress(w,P)[0],disbandedFleet:O[0],cargoHold:z,fuelTank:T,ammoBank:$,starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},cargoProgram:A.programId,systemProgram:o.SystemProgram.programId}).remainingAccounts([{pubkey:k,isSigner:!1,isWritable:!1}]).instruction(),signers:[_,D]}]})}}static forceDisbandFleet(w,A,_,E,M,P,R,$,z,T,v){return s.forceDisbandFleetBareBones(w,A,_.key,_.data.ownerProfile,_.data.fleetLabel,_.data.ammoBank,_.data.cargoHold,_.data.fuelTank,E,M,P,R,$,z,T,v)}static forceDisbandFleetBareBones(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O){const D=l.DisbandedFleet.findAddress(w,k,E,M),W=B&&O?[{pubkey:B,isSigner:!1,isWritable:!0},{pubkey:O,isSigner:!1,isWritable:!0}]:[];return{disbandedFleetKey:D,instructions:L=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.forceDisbandFleet(C).accountsStrict({funder:L.publicKey(),fleet:_,fleetShips:d.FleetShips.findAddress(w,_)[0],disbandedFleet:D[0],cargoHold:R,fuelTank:$,ammoBank:P,starbaseAndStarbasePlayer:{starbase:T,starbasePlayer:z},ship:v,gameAccounts:{gameId:k,gameState:x},cargoProgram:A.programId,systemProgram:o.SystemProgram.programId}).remainingAccounts(W).instruction(),signers:[L]}]})}}static depositCargoToFleet(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L){return N=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.depositCargoToFleet(L).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:z,owningProfile:E,owningProfileFaction:M,key:_.publicKey()},gameId:D},gameState:W},fundsTo:P==="funder"?N.publicKey():P,starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:$},cargoPodFrom:T,cargoPodTo:v,cargoType:k,cargoStatsDefinition:x,tokenFrom:C,tokenTo:B,tokenMint:O,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:R,isSigner:!1,isWritable:!1}]).instruction(),signers:[_]}]})}static transferCargoWithinFleet(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W){const L=W?[{pubkey:W,isSigner:!1,isWritable:!1}]:[];return N=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.transferCargoWithinFleet(D).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:P,key:_.publicKey()},gameId:B},gameState:O},cargoPodFrom:$,cargoPodTo:z,cargoType:T,cargoStatsDefinition:v,tokenFrom:k,tokenTo:x,tokenMint:C,fundsTo:E==="funder"?N.publicKey():E,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts(L).instruction(),signers:[_]}]})}static withdrawCargoFromFleet(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L){return N=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.withdrawCargoFromFleet(L).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:z,owningProfile:M,owningProfileFaction:P,key:_.publicKey()},gameId:D},gameState:W},starbaseAndStarbasePlayer:{starbase:R,starbasePlayer:$},cargoPodFrom:T,cargoPodTo:v,cargoType:k,cargoStatsDefinition:x,tokenFrom:C,tokenTo:B,tokenMint:O,fundsTo:E==="funder"?N.publicKey():E,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([{pubkey:R,isSigner:!1,isWritable:!1}]).instruction(),signers:[_]}]})}static closeFleetCargoPodTokenAccount(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B){return O=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.closeFleetCargoPodTokenAccount(B).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:P,key:_.publicKey()},gameId:x},gameState:C},cargoPod:$,cargoType:z,cargoStatsDefinition:T,token:v,tokenMint:k,fundsTo:E==="funder"?O.publicKey():E,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[_]}]})}static idleToLoadingBay(w,A,_,E,M,P,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.idleToLoadingBay(T).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:$},gameState:z},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R}}).instruction(),signers:[A]}]})}static idleToRespawn(w,A,_,E,M,P,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.idleToRespawn(T).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:z},gameState:$},atlasTokenFrom:P,atlasTokenTo:R,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static loadingBayToIdle(w,A,_,E,M,P,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.loadingBayToIdle(T).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:$},gameState:z},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R}}).remainingAccounts([{pubkey:P,isSigner:!1,isWritable:!1}]).instruction(),signers:[A]}]})}static moveWarpHandler(w,A,_,E,M,P,R,$,z,T,v){const k=[{pubkey:M,isSigner:!1,isWritable:!0},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!1},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!1},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:_,isSigner:!1,isWritable:!1},{pubkey:h.ProgressionConfig.findAddress(w,v)[0],isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1}];return this.fleetStateHandler(w,E,k)}static movementSubwarpHandler(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D){const W=s.getSubwarpRemainingAccounts(w,A,_,E,P,R,$,z,T,v,k,x,C,B,O,D);return this.fleetStateHandler(w,M,W)}static fleetStateHandler(w,A,_=[]){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.fleetStateHandler().accountsStrict({fleet:A}).remainingAccounts(_).instruction(),signers:[]}]})}static warpToCoordinate(w,A,_,E,M,P,R,$,z,T,v,k,x,C){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.warpToCoordinate(C).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:k},gameState:v},fuelTank:P,cargoType:R,statsDefinition:$,tokenFrom:z,tokenMint:T,cargoProgram:x.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static warpLane(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.warpLane(H).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:L},gameState:W},fromStarbase:P,toStarbase:R,fromSector:$,toSector:z,fuelTank:T,cargoType:v,statsDefinition:k,fuelTokenFrom:x,fuelMint:C,feeTokenFrom:B,feeTokenTo:O,feeMint:D,cargoProgram:N.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static startSubwarp(w,A,_,E,M,P,R,$){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.startSubwarp($).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:P},gameState:R}}).instruction(),signers:[A]}]})}static stopSubwarp(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H){const J=s.getSubwarpRemainingAccounts(w,A,_,M,$,z,T,v,k,x,C,B,O,D,W,L);return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.stopSubwarp(H).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:P,key:E.publicKey()},gameId:L},gameState:N}}).remainingAccounts(J).instruction(),signers:[E]}]})}static startMiningAsteroid(w,A,_,E,M,P,R,$,z,T,v,k,x,C){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.startMiningAsteroid(C).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:k},gameState:v},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R},mineItem:$,resource:z,planet:T,fleetFuelTokenAccount:x}).instruction(),signers:[A]}]})}static asteroidMiningHandler(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H){return this.fleetStateHandler(w,_,[{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!0},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:O,isSigner:!1,isWritable:!0},{pubkey:D,isSigner:!1,isWritable:!0},{pubkey:W,isSigner:!1,isWritable:!0},{pubkey:L,isSigner:!1,isWritable:!0},{pubkey:N,isSigner:!1,isWritable:!0},{pubkey:H,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!1},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}])}static stopMiningAsteroid(w,A,_,E,M,P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re,se){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.stopMiningAsteroid(se).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:R,owningProfile:M,owningProfileFaction:P,key:E.publicKey()},gameId:Y},gameState:Q},mineItem:$,resource:z,planet:T,fuelTank:v,cargoType:k,cargoStatsDefinition:x,tokenFrom:X,tokenMint:re,miningXpAccounts:{userPointsAccount:C,pointsCategory:B,pointsModifierAccount:O},pilotXpAccounts:{userPointsAccount:D,pointsCategory:W,pointsModifierAccount:L},councilRankXpAccounts:{userPointsAccount:N,pointsCategory:H,pointsModifierAccount:J},progressionConfig:h.ProgressionConfig.findAddress(w,Y)[0],cargoProgram:A.programId,pointsProgram:_.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[E]}]})}static mineAsteroidToRespawn(w,A,_,E,M,P,R,$,z,T,v,k){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.mineAsteroidToRespawn(k).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:z},gameState:$},resource:P,planet:R,atlasTokenFrom:T,atlasTokenTo:v,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[A]}]})}static forceDropFleetCargo(w,A,_,E,M,P,R,$,z){const T=d.FleetShips.findAddress(w,_);return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.forceDropFleetCargo().accountsStrict({fleet:_,fleetShips:T[0],cargoPod:E,cargoType:M,cargoStatsDefinition:P,gameId:R,tokenFrom:$,tokenMint:z,cargoProgram:A.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[]}]})}static respawnToLoadingBay(w,A,_,E,M,P,R,$,z,T,v,k,x){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.respawnToLoadingBay(x).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:M,owningProfile:_,owningProfileFaction:E,key:A.publicKey()},gameId:v},gameState:k},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R},cargoHold:$,fuelTank:z,ammoBank:T}).instruction(),signers:[A]}]})}static loadFleetCrew(w,A,_,E,M,P,R,$,z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.loadFleetCrew(z).accountsStrict({fleetAndOwner:{fleet:M,key:A.publicKey(),owningProfile:_,owningProfileFaction:E},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R},gameId:$}).remainingAccounts([{pubkey:P,isSigner:!1,isWritable:!1}]).instruction(),signers:[A]}]})}static unloadFleetCrew(w,A,_,E,M,P,R,$,z){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.unloadFleetCrew(z).accountsStrict({fleetAndOwner:{fleet:M,key:A.publicKey(),owningProfile:_,owningProfileFaction:E},starbaseAndStarbasePlayer:{starbase:P,starbasePlayer:R},gameId:$}).remainingAccounts([{pubkey:P,isSigner:!1,isWritable:!1}]).instruction(),signers:[A]}]})}static addRental(w,A,_,E,M,P,R,$,z){const T=u.ProfileFactionAccount.findAddress(A,P)[0];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.addRental(z).accountsStrict({ownerKey:_.publicKey(),ownerProfile:M,invalidator:E.publicKey(),subProfileFaction:T,subProfile:P,fleet:R,gameId:$}).instruction(),signers:[_,E]}]})}static changeRental(w,A,_,E,M,P){const R=u.ProfileFactionAccount.findAddress(A,E)[0];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.changeRental().accountsStrict({subProfileInvalidator:_.publicKey(),newSubProfile:E,subProfileFaction:R,fleet:M,gameId:P}).instruction(),signers:[_]}]})}static invalidateRental(w,A,_,E,M,P,R){const $=E&&M&&P&&R?[{pubkey:E,isSigner:!1,isWritable:!1},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!0}]:[];return()=>r(this,void 0,void 0,function*(){return[{instruction:yield w.methods.invalidateRental().accountsStrict({subProfileInvalidator:A.publicKey(),fleet:_}).remainingAccounts($).instruction(),signers:[A]}]})}static decodeData(w,A){return(0,c.decodeAccountWithRemaining)(w,A,s,(_,E)=>{const M=_[0];let P;switch(M){case 0:{P={StarbaseLoadingBay:A.coder.types.decode("StarbaseLoadingBay",_.subarray(1))};break}case 1:{P={Idle:A.coder.types.decode("Idle",_.subarray(1))};break}case 2:{P={MineAsteroid:A.coder.types.decode("MineAsteroid",_.subarray(1))};break}case 3:{P={MoveWarp:A.coder.types.decode("MoveWarp",_.subarray(1))};break}case 4:{P={MoveSubwarp:A.coder.types.decode("MoveSubwarp",_.subarray(1))};break}case 5:{P={Respawn:A.coder.types.decode("Respawn",_.subarray(1))};break}default:throw new Error("Unknown fleet state: "+M)}return P})}static calculateCombinedStats(w,A,_){const E=w;return E.cargoStats=s.calculateCombinedCargoStats(w.cargoStats,this.multiplyCargoStats(A.cargoStats,_)),E.miscStats=s.calculateCombinedMiscStats(w.miscStats,this.multiplyMiscStats(A.miscStats,_)),E.movementStats=s.calculateCombinedMovementStats(w.movementStats,this.multiplyMovementStats(A.movementStats,_)),E}static multiplyShipStats(w,A){const _=w;return _.cargoStats=s.multiplyCargoStats(w.cargoStats,A),_.miscStats=s.multiplyMiscStats(w.miscStats,A),_.movementStats=s.multiplyMovementStats(w.movementStats,A),_}static calculateCombinedCargoStats(w,A){return{cargoCapacity:Math.min(n.MAX_CARGO_CAPACITY,w.cargoCapacity+A.cargoCapacity),fuelCapacity:Math.min(n.MAX_CARGO_CAPACITY,w.fuelCapacity+A.fuelCapacity),ammoCapacity:Math.min(n.MAX_CARGO_CAPACITY,w.ammoCapacity+A.ammoCapacity),ammoConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.ammoConsumptionRate+A.ammoConsumptionRate),foodConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.foodConsumptionRate+A.foodConsumptionRate),miningRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.miningRate+A.miningRate),upgradeRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.upgradeRate+A.upgradeRate),cargoTransferRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.cargoTransferRate+A.cargoTransferRate),tractorBeamGatherRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.tractorBeamGatherRate+A.tractorBeamGatherRate)}}static multiplyCargoStats(w,A){return{cargoCapacity:Math.min(n.MAX_CARGO_CAPACITY,A*w.cargoCapacity),fuelCapacity:Math.min(n.MAX_CARGO_CAPACITY,A*w.fuelCapacity),ammoCapacity:Math.min(n.MAX_CARGO_CAPACITY,A*w.ammoCapacity),ammoConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.ammoConsumptionRate),foodConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.foodConsumptionRate),miningRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.miningRate),upgradeRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.upgradeRate),cargoTransferRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.cargoTransferRate),tractorBeamGatherRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.tractorBeamGatherRate)}}static calculateCombinedMiscStats(w,A){return{requiredCrew:w.requiredCrew+A.requiredCrew,passengerCapacity:w.passengerCapacity+A.passengerCapacity,crewCount:w.crewCount+A.crewCount,rentedCrew:w.rentedCrew+A.rentedCrew,respawnTime:Math.max(w.respawnTime,A.respawnTime),scanCoolDown:Math.max(w.scanCoolDown,A.scanCoolDown),sduPerScan:w.sduPerScan+A.sduPerScan,scanCost:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.scanCost+A.scanCost),placeholder:0,placeholder2:0,placeholder3:0}}static multiplyMiscStats(w,A){return{requiredCrew:w.requiredCrew*A,passengerCapacity:w.passengerCapacity*A,crewCount:w.crewCount*A,rentedCrew:w.rentedCrew*A,respawnTime:w.respawnTime,scanCoolDown:w.scanCoolDown,sduPerScan:w.sduPerScan*A,scanCost:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.scanCost),placeholder:0,placeholder2:0,placeholder3:0}}static calculateCombinedMovementStats(w,A){return{subwarpSpeed:Math.min(w.subwarpSpeed,A.subwarpSpeed),warpSpeed:Math.min(w.warpSpeed,A.warpSpeed),maxWarpDistance:Math.min(n.MAX_WARP_DISTANCE,Math.max(n.MIN_WARP_DISTANCE,Math.max(w.maxWarpDistance,A.maxWarpDistance))),warpCoolDown:Math.max(w.warpCoolDown,A.warpCoolDown),subwarpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.subwarpFuelConsumptionRate+A.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.warpFuelConsumptionRate+A.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(n.MAX_CONSUMPTION_CAPACITY,w.planetExitFuelAmount+A.planetExitFuelAmount)}}static multiplyMovementStats(w,A){return{subwarpSpeed:w.subwarpSpeed,warpSpeed:w.warpSpeed,maxWarpDistance:Math.min(n.MAX_WARP_DISTANCE,Math.max(n.MIN_WARP_DISTANCE,w.maxWarpDistance)),warpCoolDown:w.warpCoolDown,subwarpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.subwarpFuelConsumptionRate),warpFuelConsumptionRate:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.warpFuelConsumptionRate),planetExitFuelAmount:Math.min(n.MAX_CONSUMPTION_CAPACITY,A*w.planetExitFuelAmount)}}};n.Fleet=p,p.ACCOUNT_NAME="fleet",p.MIN_DATA_SIZE=n.FLEET_MIN_DATA_SIZE,p.getSubwarpRemainingAccounts=(I,w,A,_,E,M,P,R,$,z,T,v,k,x,C,B)=>[{pubkey:_,isSigner:!1,isWritable:!0},{pubkey:E,isSigner:!1,isWritable:!0},{pubkey:M,isSigner:!1,isWritable:!1},{pubkey:P,isSigner:!1,isWritable:!1},{pubkey:R,isSigner:!1,isWritable:!0},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:z,isSigner:!1,isWritable:!0},{pubkey:T,isSigner:!1,isWritable:!1},{pubkey:v,isSigner:!1,isWritable:!1},{pubkey:k,isSigner:!1,isWritable:!0},{pubkey:x,isSigner:!1,isWritable:!1},{pubkey:C,isSigner:!1,isWritable:!1},{pubkey:h.ProgressionConfig.findAddress(I,B)[0],isSigner:!1,isWritable:!1},{pubkey:B,isSigner:!1,isWritable:!1},{pubkey:A.programId,isSigner:!1,isWritable:!1},{pubkey:w.programId,isSigner:!1,isWritable:!1},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}],n.Fleet=p=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Object])],p)})(jK);var k6={};(function(n){var e=K&&K.__decorate||function(M,P,R,$){var z=arguments.length,T=z<3?P:$===null?$=Object.getOwnPropertyDescriptor(P,R):$,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(M,P,R,$);else for(var k=M.length-1;k>=0;k--)(v=M[k])&&(T=(z<3?v(T):z>3?v(P,R,T):v(P,R))||T);return z>3&&T&&Object.defineProperty(P,R,T),T},t=K&&K.__metadata||function(M,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,P)},r=K&&K.__awaiter||function(M,P,R,$){function z(T){return T instanceof R?T:new R(function(v){v(T)})}return new(R||(R=Promise))(function(T,v){function k(B){try{C($.next(B))}catch(O){v(O)}}function x(B){try{C($.throw(B))}catch(O){v(O)}}function C(B){B.done?T(B.value):z(B.value).then(k,x)}C(($=$.apply(M,P||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Game=n.RISK_ZONES_MIN_DATA_SIZE=n.MISC_VARIABLES_MIN_DATA_SIZE=n.VAULTS_MIN_DATA_SIZE=n.MINTS_MIN_DATA_SIZE=n.FLEET_INFO_MIN_DATA_SIZE=n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE=n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=n.CRAFTING_MIN_DATA_SIZE=n.CARGO_MIN_DATA_SIZE=n.POINTS_MIN_DATA_SIZE=n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=n.gameDataEquals=n.riskZonesEquals=n.riskZoneEquals=n.RiskZones=n.DEFAULT_RISK_ZONES=n.DEFAULT_RISK_ZONE=n.starbaseUpkeepLevelsEquals=n.starbaseUpkeepInfoEquals=n.factionsStarbaseLevelInfoEqual=n.starbaseLevelInfoArraysEqual=n.starbaseLevelInfoEquals=n.PointsCategoryType=n.vaultsEquals=n.mintsEquals=n.pointsEquals=n.sagePointsCategoryEquals=n.craftingEquals=n.cargoEquals=void 0;const i=qs,o=cc,a=tr;function c(M,P){return M.statsDefinition.equals(P.statsDefinition)}n.cargoEquals=c;function u(M,P){return M.domain.equals(P.domain)}n.craftingEquals=u;function l(M,P){return M.modifierBump===P.modifierBump&&M.modifier.equals(P.modifier)&&M.category.equals(P.category)}n.sagePointsCategoryEquals=l;function d(M,P){return l(M.lpCategory,P.lpCategory)&&l(M.councilRankXpCategory,P.councilRankXpCategory)&&l(M.pilotXpCategory,P.pilotXpCategory)&&l(M.dataRunningXpCategory,P.dataRunningXpCategory)&&l(M.miningXpCategory,P.miningXpCategory)&&l(M.craftingXpCategory,P.craftingXpCategory)}n.pointsEquals=d;function y(M,P){return M.atlas.equals(P.atlas)&&M.polis.equals(P.polis)&&M.ammo.equals(P.ammo)&&M.food.equals(P.food)&&M.fuel.equals(P.fuel)&&M.repairKit.equals(P.repairKit)}n.mintsEquals=y;function h(M,P){return M.atlas.equals(P.atlas)&&M.polis.equals(P.polis)}n.vaultsEquals=h;var m;(function(M){M[M.LP=1]="LP",M[M.CRXP=2]="CRXP",M[M.PXP=3]="PXP",M[M.DRXP=4]="DRXP",M[M.MXP=5]="MXP",M[M.CXP=6]="CXP"})(m||(n.PointsCategoryType=m={}));function f(M,P){return M.hp.eq(P.hp)&&M.sp.eq(P.sp)&&M.sectorRingAvailable===P.sectorRingAvailable&&M.warpLaneMovementFee.eq(P.warpLaneMovementFee)&&M.recipeCategoryForLevel.equals(P.recipeCategoryForLevel)&&M.recipeForUpgrade.equals(P.recipeForUpgrade)}n.starbaseLevelInfoEquals=f;function g(M,P){return(0,a.arrayDeepEquals)(M,P,f)}n.starbaseLevelInfoArraysEqual=g;function b(M,P){const R=g(M.mud,P.mud),$=g(M.oni,P.oni),z=g(M.ustur,P.ustur);return R&&$&&z}n.factionsStarbaseLevelInfoEqual=b;function S(M,P){return M.ammoReserve.eq(P.ammoReserve)&&M.foodReserve.eq(P.foodReserve)&&M.toolkitReserve.eq(P.toolkitReserve)&&M.ammoDepletionRate===P.ammoDepletionRate&&M.foodDepletionRate===P.foodDepletionRate&&M.toolkitDepletionRate===P.toolkitDepletionRate}n.starbaseUpkeepInfoEquals=S;function p(M,P){return S(M.level1,P.level1)&&S(M.level2,P.level2)&&S(M.level3,P.level3)&&S(M.level4,P.level4)&&S(M.level5,P.level5)}n.starbaseUpkeepLevelsEquals=p,n.DEFAULT_RISK_ZONE={center:[new o.BN(0),new o.BN(0)],radius:new o.BN(0)},n.DEFAULT_RISK_ZONES={mudSecurityZone:n.DEFAULT_RISK_ZONE,oniSecurityZone:n.DEFAULT_RISK_ZONE,usturSecurityZone:n.DEFAULT_RISK_ZONE,highRiskZone:n.DEFAULT_RISK_ZONE,mediumRiskZone:n.DEFAULT_RISK_ZONE};var I;(function(M){M[M.MudSecurityZone=0]="MudSecurityZone",M[M.OniSecurityZone=1]="OniSecurityZone",M[M.UsturSecurityZone=2]="UsturSecurityZone",M[M.HighRiskZone=3]="HighRiskZone",M[M.MediumRiskZone=4]="MediumRiskZone"})(I||(n.RiskZones=I={}));function w(M,P){return M.radius.eq(P.radius)&&M.center[0].eq(P.center[0])&&M.center[1].eq(P.center[1])}n.riskZoneEquals=w;function A(M,P){return w(M.mudSecurityZone,P.mudSecurityZone)&&w(M.oniSecurityZone,P.oniSecurityZone)&&w(M.usturSecurityZone,P.usturSecurityZone)&&w(M.highRiskZone,P.highRiskZone)&&w(M.mediumRiskZone,P.mediumRiskZone)}n.riskZonesEquals=A;function _(M,P){return M.version===P.version&&M.profile.equals(P.profile)&&M.gameState.equals(P.gameState)&&c(M.cargo,P.cargo)&&u(M.crafting,P.crafting)&&d(M.points,P.points)&&y(M.mints,P.mints)&&h(M.vaults,P.vaults)&&A(M.riskZones,P.riskZones)&&M.updateId.eq(P.updateId)}n.gameDataEquals=_,n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE=32+32+1,n.POINTS_MIN_DATA_SIZE=6*n.FLEET_POINT_MODIFIER_MIN_DATA_SIZE,n.CARGO_MIN_DATA_SIZE=32,n.CRAFTING_MIN_DATA_SIZE=32,n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE=32+32+8+8+8+1,n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE=8+4+8+4+8+4,n.FLEET_INFO_MIN_DATA_SIZE=n.STAR_BASE_LEVEL_INFO_MIN_DATA_SIZE*21+n.STAR_BASE_UPKEEP_INFO_MIN_DATA_SIZE*7+4,n.MINTS_MIN_DATA_SIZE=32+32+32+32+32+32,n.VAULTS_MIN_DATA_SIZE=32+32,n.MISC_VARIABLES_MIN_DATA_SIZE=2+2+8,n.RISK_ZONES_MIN_DATA_SIZE=(8*2+8)*5;let E=s=class{constructor(P,R){this._data=P,this._key=R}get data(){return this._data}get key(){return this._key}static findPointsModifierAddress(P,R,$){return i.PublicKey.findProgramAddressSync([Xe.Buffer.from("PointsModifier"),R.toBuffer(),$.toBuffer()],P.programId)}static initGame(P,R,$,z){return T=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.initGame().accountsStrict({signer:R.publicKey(),gameId:z.publicKey(),funder:T.publicKey(),profile:$,systemProgram:i.SystemProgram.programId}).instruction(),signers:[R,T,z]}]})}static updateGame(P,R,$,z,T,v,k,x,C,B,O){const D=[],W={mints:0,vaults:0,points:0,crafting:0,cargo:0,riskZones:O||null,keyIndex:T};return v&&(v.lpCategory&&(W.points|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:v.lpCategory})),v.councilRankXpCategory&&(W.points|=1<<1,D.push({isSigner:!1,isWritable:!1,pubkey:v.councilRankXpCategory})),v.pilotXpCategory&&(W.points|=1<<2,D.push({isSigner:!1,isWritable:!1,pubkey:v.pilotXpCategory})),v.dataRunningXpCategory&&(W.points|=1<<3,D.push({isSigner:!1,isWritable:!1,pubkey:v.dataRunningXpCategory})),v.miningXpCategory&&(W.points|=1<<4,D.push({isSigner:!1,isWritable:!1,pubkey:v.miningXpCategory})),v.craftingXpCategory&&(W.points|=1<<5,D.push({isSigner:!1,isWritable:!1,pubkey:v.craftingXpCategory}))),k&&(k.atlas&&(W.mints|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:k.atlas})),k.polis&&(W.mints|=1<<1,D.push({isSigner:!1,isWritable:!1,pubkey:k.polis})),k.ammo&&(W.mints|=1<<2,D.push({isSigner:!1,isWritable:!1,pubkey:k.ammo})),k.food&&(W.mints|=1<<3,D.push({isSigner:!1,isWritable:!1,pubkey:k.food})),k.fuel&&(W.mints|=1<<4,D.push({isSigner:!1,isWritable:!1,pubkey:k.fuel})),k.repairKit&&(W.mints|=1<<5,D.push({isSigner:!1,isWritable:!1,pubkey:k.repairKit}))),x&&(x.atlas&&(W.vaults|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:x.atlas})),x.polis&&(W.vaults|=1<<1,D.push({isSigner:!1,isWritable:!1,pubkey:x.polis}))),C&&C.domain&&(W.crafting|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:C.domain})),B&&B.statsDefinition&&(W.cargo|=1<<0,D.push({isSigner:!1,isWritable:!1,pubkey:B.statsDefinition})),()=>r(this,void 0,void 0,function*(){return[{instruction:yield R.methods.updateGame(W).accountsStrict({gameAndProfile:{key:$.publicKey(),profile:z,gameId:P}}).remainingAccounts(D).instruction(),signers:[$]}]})}static registerSagePointModifier(P,R,$,z,T,v,k,x){const C=s.findPointsModifierAddress(P,T,v);return{modifierKey:C,instructions:B=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.registerSagePointModifier({pointsCategoryType:k,keyIndex:x}).accountsStrict({gameAndProfile:{key:$.publicKey(),profile:z,gameId:T},funder:B.publicKey(),pointsCategory:v,pointsModifier:C[0],pointsProgram:R.programId,systemProgram:i.SystemProgram.programId}).instruction(),signers:[$,B]}]})}}static decodeData(P,R){return(0,a.decodeAccount)(P,R,s)}};n.Game=E,E.ACCOUNT_NAME="game",E.MIN_DATA_SIZE=8+1+8+32+32+n.POINTS_MIN_DATA_SIZE+n.CARGO_MIN_DATA_SIZE+n.CRAFTING_MIN_DATA_SIZE+n.MINTS_MIN_DATA_SIZE+n.VAULTS_MIN_DATA_SIZE+n.RISK_ZONES_MIN_DATA_SIZE,E.MIN_STAR_BASE_LEVEL=0,E.MAX_STAR_BASE_LEVEL=6,n.Game=E=s=e([(0,a.staticImplements)(),t("design:paramtypes",[Object,i.PublicKey])],E)})(k6);var Rl={},el={},$mt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Dmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},fme=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Nq;Object.defineProperty(el,"__esModule",{value:!0});el.Planet=el.planetDataEquals=el.PlanetType=el.SectorRing=void 0;const NEe=qs,Oy=tr;var hme;(function(n){n[n.Inner=1]="Inner",n[n.Mid=2]="Mid",n[n.Outer=3]="Outer"})(hme||(el.SectorRing=hme={}));var gme;(function(n){n[n.Terrestrial=0]="Terrestrial",n[n.Volcanic=1]="Volcanic",n[n.Barren=2]="Barren",n[n.AsteroidBelt=3]="AsteroidBelt",n[n.GasGiant=4]="GasGiant",n[n.IceGiant=5]="IceGiant",n[n.Dark=6]="Dark"})(gme||(el.PlanetType=gme={}));function Omt(n,e){return n.version===e.version&&(0,Oy.arrayDeepEquals)(n.sector,e.sector,(t,r)=>t.eq(r))&&n.gameId.equals(e.gameId)&&n.size.eq(e.size)&&(0,Oy.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&(0,Oy.arrayDeepEquals)(n.subCoordinates,e.subCoordinates,(t,r)=>t.eq(r))&&n.planetType===e.planetType&&n.position===e.position&&n.maxHp.eq(e.maxHp)&&n.currentHealth.eq(e.currentHealth)&&n.amountMined.eq(e.amountMined)&&n.numResources===e.numResources&&n.numMiners.eq(e.numMiners)}el.planetDataEquals=Omt;let cB=Nq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,Oy.byteArrayToString)(this.data.name)}static registerPlanet(e,t,r,s,i,o,a){return c=>fme(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerPlanet(Object.assign(Object.assign({},a),{name:(0,Oy.stringToByteArray)(a.name,64)})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},funder:c.publicKey(),planet:s.publicKey(),sector:i,systemProgram:NEe.SystemProgram.programId}).instruction(),signers:[t,c,s]}]})}static updatePlanet(e,t,r,s,i,o){return()=>fme(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updatePlanet(Object.assign(Object.assign({},o),{name:o.name==null?null:(0,Oy.stringToByteArray)(o.name,64),size:o.size==null?null:o.size,maxHp:o.maxHp==null?null:o.maxHp,subCoordinates:o.subCoordinates==null?null:o.subCoordinates})).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},planet:s}).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,Oy.decodeAccount)(e,t,Nq)}};el.Planet=cB;cB.ACCOUNT_NAME="planet";cB.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+1+8+8+8+8+1+8;el.Planet=cB=Nq=$mt([(0,Oy.staticImplements)(),Dmt("design:paramtypes",[Object,NEe.PublicKey])],cB);var Kmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Lmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},z$=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Fq;Object.defineProperty(Rl,"__esModule",{value:!0});Rl.GameState=Rl.SCALE_DECIMALS_4=Rl.gameStateDataEquals=Rl.miscVariablesEquals=void 0;const DD=qs,vv=tr,$R=i6,Wmt=Cx.exports,hw=k6,Nmt=el;function FEe(n,e){return n.warpLaneFuelCostReduction===e.warpLaneFuelCostReduction&&n.upkeepMiningEmissionsPenalty===e.upkeepMiningEmissionsPenalty&&n.respawnFee.eq(e.respawnFee)}Rl.miscVariablesEquals=FEe;function Fmt(n,e){return n.version===e.version&&n.bump===e.bump&&n.gameId.equals(e.gameId)&&n.updateId.eq(e.updateId)&&n.fleet.maxFleetSize===e.fleet.maxFleetSize&&(0,hw.factionsStarbaseLevelInfoEqual)(n.fleet.starbaseLevels,e.fleet.starbaseLevels)&&(0,hw.starbaseUpkeepLevelsEquals)(n.fleet.upkeep,e.fleet.upkeep)&&FEe(n.misc,e.misc)}Rl.gameStateDataEquals=Fmt;Rl.SCALE_DECIMALS_4=1e4;let uB=Fq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return DD.PublicKey.findProgramAddressSync([Xe.Buffer.from("GameState"),t.toBuffer(),r.toArrayLike(Xe.Buffer,"le",8)],e.programId)}static initGameState(e,t,r,s,i,o){return a=>z$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.initGameState(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:a.publicKey(),gameState:i,systemProgram:DD.SystemProgram.programId}).instruction(),signers:[t,a]}]})}static updateGameState(e,t,r,s,i,o,a,c){const u=[],l=c||null,d={starbaseLevelInfoArray:null,upkeepInfoArray:null,maxFleetSize:null},y=(a==null?void 0:a.starbaseLevels)||[],h={fleet:d,misc:l,keyIndex:o},m=[y.filter(f=>f.faction==(0,vv.getNumberFromEnum)($R.Faction,$R.Faction.ONI)),y.filter(f=>f.faction==$R.Faction.MUD),y.filter(f=>f.faction==(0,vv.getNumberFromEnum)($R.Faction,$R.Faction.Ustur))];for(let f=0;f<m.length;f++){const g=m[f];if(g){const b=(0,Wmt.uniq)(g.map(S=>S.level));if(b.length!==g.length)throw new Error("Starbase levels must be unique");if(Math.max(...b)>hw.Game.MAX_STAR_BASE_LEVEL||Math.min(...b)<hw.Game.MIN_STAR_BASE_LEVEL)throw new Error("Starbase levels must be between 0 and 6")}}y.sort((f,g)=>f.faction-g.faction||f.level-g.level);for(let f=0;f<y.length;f++){const g=y[f];if(g){const b={faction:g.faction,level:g.level,hp:g.hp,sp:g.sp,warpLaneMovementFee:g.warpLaneMovementFee,sectorRingAvailable:(0,vv.getAnchorEnum)(Nmt.SectorRing,g.sectorRingAvailable)};d.starbaseLevelInfoArray==null?d.starbaseLevelInfoArray=[b]:d.starbaseLevelInfoArray.push(b),u.push({isSigner:!1,isWritable:!1,pubkey:g.oldRecipeForUpgrade}),u.push({isSigner:!1,isWritable:!1,pubkey:g.newRecipeForUpgrade}),u.push({isSigner:!1,isWritable:!1,pubkey:g.recipeCategoryForLevel})}}return a!=null&&a.maxFleetSize&&(d.maxFleetSize=a.maxFleetSize),a!=null&&a.starbaseUpkeep&&(d.upkeepInfoArray=a.starbaseUpkeep),h.fleet=(0,vv.isNull)(d)?null:d,()=>z$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateGameState(h).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},gameState:i}).remainingAccounts(u).instruction(),signers:[t]}]})}static activateGameState(e,t,r,s,i,o){return()=>z$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.activateGameState(o).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},gameState:i}).instruction(),signers:[t]}]})}static copyGameState(e,t,r,s,i,o,a){return c=>z$(this,void 0,void 0,function*(){return[{instruction:yield e.methods.copyGameState(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:s},funder:c.publicKey(),oldGameState:i,newGameState:o,systemProgram:DD.SystemProgram.programId}).instruction(),signers:[t,c]}]})}static decodeData(e,t){return(0,vv.decodeAccount)(e,t,Fq)}};Rl.GameState=uB;uB.ACCOUNT_NAME="gameState";uB.MIN_DATA_SIZE=8+1+32+8+hw.FLEET_INFO_MIN_DATA_SIZE+hw.MISC_VARIABLES_MIN_DATA_SIZE+1;Rl.GameState=uB=Fq=Kmt([(0,vv.staticImplements)(),Lmt("design:paramtypes",[Object,DD.PublicKey])],uB);var lB={};Object.defineProperty(lB,"__esModule",{value:!0});lB.IDL=void 0;lB.IDL={version:"0.1.0",name:"sage",instructions:[{name:"activateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"addConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for adding the connection"]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first connected sector"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second connected sector"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"subCoordinates1",type:{array:["i64",2]}},{name:"flags1",type:"u8"},{name:"subCoordinates2",type:{array:["i64",2]}},{name:"flags2",type:"u8"},{name:"keyIndex",type:"u16"}]},{name:"addCrewToGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"crewOwner",isMut:!1,isSigner:!0,docs:["The crew owner"]},{name:"crewDelegate",isMut:!1,isSigner:!1,docs:["The crew delegate"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddCrewInput"}}]},{name:"addRental",accounts:[{name:"ownerProfile",isMut:!1,isSigner:!1,docs:["The fleet owner's profile."]},{name:"ownerKey",isMut:!1,isSigner:!0,docs:["The key on the owner profile with renting permissions."]},{name:"invalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator - this is a signer to help make sure the fleet won't be locked."]},{name:"subProfile",isMut:!1,isSigner:!1,docs:["The profile to rent to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet to rent out."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"subProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the sub_profile belongs to."]}],args:[{name:"ownerKeyIndex",type:"u16"}]},{name:"addShipEscrow",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"originTokenAccount",isMut:!0,isSigner:!1,docs:["The Origin Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipEscrowInput"}}]},{name:"addShipToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"AddShipToFleetInput"}}]},{name:"burnCraftingConsumables",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"cancelCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to cancel"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"changeRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator"]},{name:"newSubProfile",isMut:!1,isSigner:!1,docs:["The new sub profile"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"subProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the sub_profile belongs to."]}],args:[]},{name:"claimCraftingNonConsumables",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"claimCraftingOutputs",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftableItem",isMut:!1,isSigner:!1,docs:["The craftable item"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `craftable_item`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"IngredientIndexInput"}}]},{name:"closeCraftingProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to close"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe account"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeDisbandedFleet",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the player profile."]},{name:"playerProfile",isMut:!1,isSigner:!1,docs:["The player profile."]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]}],args:[{name:"input",type:{defined:"CloseDisbandedFleetInput"}}]},{name:"closeFleetCargoPodTokenAccount",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod, owned by the fleet"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closePlayerCrewRecord",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"crewRecord",isMut:!0,isSigner:!1,docs:["The [`PlayerCrewRecord`] account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeStarbaseCargoTokenAccount",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"token",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"closeUpgradeProcess",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"resourceCraftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to close"]},{name:"resourceCraftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the upgrade resource"]},{name:"resourceCraftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"completeStarbaseUpgrade",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account for crafting at this `Starbase`"]},{name:"upgradeFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account for starbase upgrades"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"newRecipeCategory",isMut:!1,isSigner:!1,docs:["The crafting recipe category for the next `Starbase` level"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"copyGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"oldGameState",isMut:!1,isSigner:!1,docs:["The old [`GameState`] account"]},{name:"newGameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account","This will and should fail if there already exists a `GameState`for the desired `update_id`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"ManageGameInput"}}]},{name:"createCargoPod",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCargoPodInput"}}]},{name:"createCertificateMint",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The Starbase to create a certificate mint for"]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint to create a certificate mint for"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The new certificate mint"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type to associate with the `cargo_mint`","Included to ensure that this instruction can only be called for valid cargo types"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The game account"]},{name:"transferHookExtraAccountMetaList",isMut:!0,isSigner:!1,docs:["The transfer hook extra accounts list"]},{name:"transferHookProgram",isMut:!1,isSigner:!1,docs:["The transfer hook program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"createCraftingProcess",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to initialize"]},{name:"craftingFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account (NOT initialized)"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCraftingProcessInput"}}]},{name:"createFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `Fleet`"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The new fleet `cargo_hold` cargo pod (not initialized)"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The new fleet `fuel_tank` cargo pod (not initialized)"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The new fleet `ammo_bank` cargo pod (not initialized)"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account - represents the first ship in the new fleet"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"CreateFleetInput"}}]},{name:"createStarbaseUpgradeResourceProcess",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!0,isSigner:!1,docs:["The [`CraftingInstance`] account to initialize"]},{name:"upgradeFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account (NOT initialized)"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"craftingDomain",isMut:!1,isSigner:!1,docs:["The crafting domain"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"StarbaseCreateCraftingProcessInput"}}]},{name:"depositCargoToFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"DepositCargoToFleetInput"}}]},{name:"depositCargoToGame",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `key`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod`"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"depositCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The source cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `crafting_process`"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseDepositCraftingIngredientInput"}}]},{name:"depositStarbaseUpkeepResource",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The source cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `cargo_pod_from`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the upkeep resource"]},{name:"loyaltyPointsAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"DepositStarbaseUpkeepResourceInput"}}]},{name:"deregisterMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterProgressionConfig",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"deregisterSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"DeregisterSurveyDataUnitTrackerInput"}}]},{name:"devAddCrewToGame",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The starbase player account to add crew to"]}],args:[{name:"input",type:{defined:"DevAddCrewInput"}}]},{name:"disbandFleet",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account","The fleet can only be disbanded by the `owner_profile` and not `sub_profile`","Fleet cannot be disbanded while rented"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandFleetInput"}}]},{name:"disbandedFleetToEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The [`DisbandedFleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DisbandedFleetToEscrowInput"}}]},{name:"discoverSector",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!1,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new sector"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"DiscoverSectorInput"}}]},{name:"drainMineItemBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing funds go."]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The mine item token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"drainSurveyDataUnitsBank",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the closing rent refunds go."]},{name:"surveyDataUnitTracker",isMut:!1,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The SDU token bank to drain"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["Where to send tokens from the bank"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"fleetStateHandler",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}],args:[]},{name:"forceDisbandFleet",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"disbandedFleet",isMut:!0,isSigner:!1,docs:["The new [`DisbandedFleet`] account"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!0,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`]","Must provide at least one ship that is invalid for this instruction"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"ForcedDisbandFleetInput"}}]},{name:"forceDropFleetCargo",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The `Fleet` Account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `cargo_type` for the token"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[]},{name:"idleToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"idleToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"IdleToRespawnInput"}}]},{name:"initGame",accounts:[{name:"signer",isMut:!0,isSigner:!0,docs:["The entity calling this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The sector permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"gameId",isMut:!0,isSigner:!0,docs:["The [`Game`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"initGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `GameState`"]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"InitGameStateInput"}}]},{name:"invalidateRental",accounts:[{name:"subProfileInvalidator",isMut:!1,isSigner:!0,docs:["The fleet rental invalidator"]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet"]}],args:[]},{name:"invalidateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"loadFleetCrew",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:"FleetCrewInput"}}]},{name:"loadingBayToIdle",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]}],args:[{name:"keyIndex",type:"u16"}]},{name:"mineAsteroidToRespawn",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"atlasTokenFrom",isMut:!0,isSigner:!1,docs:["Source Token account for ATLAS, owned by the player"]},{name:"atlasTokenTo",isMut:!0,isSigner:!1,docs:["Vault Token account for ATLAS"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Solana Token Program"]}],args:[{name:"input",type:{defined:"MineAsteroidToRespawnInput"}}]},{name:"mintCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateTokenTo",isMut:!0,isSigner:!1,docs:["The token account where certificates are minted to"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the Starbase"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to take from"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"mintCrewToGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]}],args:[]},{name:"redeemCertificate",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoMint",isMut:!1,isSigner:!1,docs:["The mint of the cargo in question"]},{name:"certificateMint",isMut:!0,isSigner:!1,docs:["The cargo certificate mint"]},{name:"certificateOwnerAuthority",isMut:!1,isSigner:!0,docs:["Owner of the certificates"]},{name:"certificateTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo certificate - owned by the `certificate_owner_authority`"]},{name:"cargoTokenFrom",isMut:!0,isSigner:!1,docs:["The source token account for the cargo - owned by the Starbase"]},{name:"cargoTokenTo",isMut:!0,isSigner:!1,docs:["The destination token account for the cargo - owned by the `cargo_pod`"]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod to send to"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"token2022Program",isMut:!1,isSigner:!1,docs:["The token 2022 program"]}],args:[{name:"keyIndex",type:"u16"},{name:"amount",type:"u64"}]},{name:"registerMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new mine item"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"mint",isMut:!0,isSigner:!1,docs:["The mint address representing the mine item"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterMineItemInput"}}]},{name:"registerPlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"planet",isMut:!0,isSigner:!0,docs:["The [`Planet`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterPlanetInput"}}]},{name:"registerProgressionConfig",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterProgressionConfigInput"}}]},{name:"registerResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new resource"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"location",isMut:!0,isSigner:!1,docs:["The Location address"]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterResourceInput"}}]},{name:"registerSageCrewConfig",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"sageCrewConfig",isMut:!0,isSigner:!1,docs:["The [`SageCrewConfig`] account"]},{name:"config",isMut:!1,isSigner:!1,docs:["The crew config"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"registerSagePlayerProfile",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The player permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new profile"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The `SagePlayerProfile` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[]},{name:"registerSagePointModifier",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The `PointCategory`"]},{name:"pointsModifier",isMut:!0,isSigner:!1,docs:["The `PointsModifier` account to be created in Points CPI"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterSagePointsModifierInput"}}]},{name:"registerSector",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new sector"]},{name:"discoverer",isMut:!1,isSigner:!1,docs:["The discoverer of this sector"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"coordinates",type:{array:["i64",2]}},{name:"name",type:{array:["u8",64]}},{name:"keyIndex",type:"u16"}]},{name:"registerShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"ship",isMut:!0,isSigner:!0,docs:["The [`Ship`] account"]},{name:"mint",isMut:!1,isSigner:!1,docs:["The mint address representing the [`Ship`]"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterShipInput"}}]},{name:"registerStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"star",isMut:!0,isSigner:!0,docs:["The [`Star`] account"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarInput"}}]},{name:"registerStarbase",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new star base"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"sector",isMut:!1,isSigner:!1,docs:["The [`Sector`] account"]},{name:"gameStateAndProfile",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterStarbaseInputUnpacked"}}]},{name:"registerStarbasePlayer",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder -- pays account rent"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"sagePlayerProfile",isMut:!1,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the player belongs to."]},{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] account to initialize"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[]},{name:"registerSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new `SurveyDataUnitTracker`"]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!0,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"sduMint",isMut:!1,isSigner:!1,docs:["The Survey Data Unit Mint"]},{name:"resourceMint",isMut:!1,isSigner:!1,docs:["The mint of the resource spent when scanning for SDUs"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RegisterSurveyDataUnitTrackerInput"}}]},{name:"removeCargoPod",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The cargo pod (should be empty)"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"input",type:{defined:"StarbaseRemoveCargoPodInput"}}]},{name:"removeConnection",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["Where the rent refund funds from the connections go to."]},{name:"sector1",isMut:!0,isSigner:!1,docs:["The first sector to remove from"]},{name:"sector2",isMut:!0,isSigner:!1,docs:["The second sector to remove from"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The system program"]}],args:[{name:"sector1Index",type:"u16"},{name:"sector2Index",type:"u16"},{name:"keyIndex",type:"u16"}]},{name:"removeCrewFromGame",accounts:[{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"sageCrewConfig",isMut:!1,isSigner:!1,docs:["The [`SageCrewConfig`] Account"]},{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The crew program `CrewConfig` account"]},{name:"newCrewOwner",isMut:!1,isSigner:!1,docs:["The new crew owner"]},{name:"crewDelegate",isMut:!1,isSigner:!1,docs:["The crew delegate"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveCrewInput"}}]},{name:"removeInvalidShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"removeShipEscrow",accounts:[{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"sagePlayerProfile",isMut:!0,isSigner:!1,docs:["The [`SagePlayerProfile`] account"]},{name:"destinationTokenAccount",isMut:!0,isSigner:!1,docs:["The Destination Token Account"]},{name:"ship",isMut:!1,isSigner:!1,docs:["The [`Ship`] Account"]},{name:"shipEscrowTokenAccount",isMut:!0,isSigner:!1,docs:["The Escrow Token Account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The Token Program"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"RemoveShipEscrowInput"}}]},{name:"respawnToLoadingBay",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoHold",isMut:!1,isSigner:!1,docs:["The fleet `cargo_hold` cargo pod"]},{name:"fuelTank",isMut:!1,isSigner:!1,docs:["The fleet `fuel_tank` cargo pod"]},{name:"ammoBank",isMut:!1,isSigner:!1,docs:["The fleet `ammo_bank` cargo pod"]}],args:[{name:"input",type:{defined:"RespawnToLoadingBayInput"}}]},{name:"scanForSurveyDataUnits",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"surveyDataUnitTracker",isMut:!1,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]},{name:"surveyDataUnitTrackerSigner",isMut:!1,isSigner:!1,docs:["The `SurveyDataUnitTracker` signer"]},{name:"cargoHold",isMut:!0,isSigner:!1,docs:["The general cargo hold cargo pod for the fleet"]},{name:"sector",isMut:!0,isSigner:!1,docs:["The [`Sector`] account"]},{name:"sduTokenFrom",isMut:!0,isSigner:!1,docs:["Source token account for the SDU, owned by `survey_data_unit_tracker_signer`"]},{name:"sduTokenTo",isMut:!0,isSigner:!1,docs:["Destination token account for the SDU, owned by cargo_hold"]},{name:"resourceTokenFrom",isMut:!0,isSigner:!1,docs:["Token account for `resource_mint`, owned by fleet"]},{name:"resourceMint",isMut:!0,isSigner:!1,docs:["The resource that is spent when scanning for Survey Data Units"]},{name:"sduCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of the SDU"]},{name:"resourceCargoType",isMut:!1,isSigner:!1,docs:["The cargo type of `resource_mint`"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition"]},{name:"dataRunningXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The cargo program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program"]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"recentSlothashes",isMut:!1,isSigner:!1,docs:["Solana recent slothashes"]}],args:[{name:"input",type:{defined:"ScanForSurveyDataUnitsInput"}}]},{name:"setNextShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The current [`Ship`] account"]},{name:"nextShip",isMut:!0,isSigner:!1,docs:["The next [`Ship`] account"]}],args:[{name:"keyIndex",type:"u16"}]},{name:"startCraftingProcess",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!0,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fleetFuelTokenAccount",isMut:!1,isSigner:!1,docs:["The fleet fuel token account - owned by the `fuel_tank`"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startStarbaseUpgrade",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"upgradeFacility",isMut:!0,isSigner:!1,docs:["The `CraftingFacility` account for starbase upgrades"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"startSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StartSubwarpInput"}}]},{name:"stopCraftingProcess",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The [`CraftingProcess`] account"]},{name:"craftingRecipe",isMut:!0,isSigner:!1,docs:["The crafting [`Recipe`]"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The `CraftingFacility` account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"stopMiningAsteroid",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token account"]},{name:"pilotXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"miningXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"councilRankXpAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StopMiningAsteroidInput"}}]},{name:"stopSubwarp",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"StopSubwarpInput"}}]},{name:"submitStarbaseUpgradeResource",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"resourceCraftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"resourceCraftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"resourceCraftingFacility",isMut:!1,isSigner:!1,docs:["The crafting facility account"]},{name:"upgradeProcessRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the submission of resources used in the upgrade process"]},{name:"starbaseUpgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"resourceRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the resource being submitted","i.e. the recipe for crafting the resource whose mint would be `token_mint`"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to` (receives any refunds)"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"loyaltyPointsAccounts",accounts:[{name:"userPointsAccount",isMut:!0,isSigner:!1,docs:["The User Points Account"]},{name:"pointsCategory",isMut:!1,isSigner:!1,docs:["The Points Category Account"]},{name:"pointsModifierAccount",isMut:!1,isSigner:!1,docs:["The Points Modifier Account"]}]},{name:"progressionConfig",isMut:!1,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"pointsProgram",isMut:!1,isSigner:!1,docs:["The points program"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"SubmitStarbaseUpgradeResourceInput"}}]},{name:"syncStarbasePlayer",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[]},{name:"syncStarbaseUpgradeIngredients",accounts:[{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new crafting process"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"upgradeRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe for the starbase upgrade"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["Solana System program"]}],args:[{name:"input",type:{defined:"KeyIndexInput"}}]},{name:"transferCargoAtStarbase",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"StarbaseTransferCargoInput"}}]},{name:"transferCargoWithinFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"TransferCargoWithinFleetInput"}}]},{name:"unloadFleetCrew",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}],args:[{name:"input",type:{defined:"FleetCrewInput"}}]},{name:"updateGame",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!0,isSigner:!1,docs:["The [`Game`] account"]}]}],args:[{name:"input",type:{defined:"UpdateGameInput"}}]},{name:"updateGameState",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!0,isSigner:!1,docs:["The [`GameState`] account"]}],args:[{name:"input",type:{defined:"UpdateGameStateInput"}}]},{name:"updateMineItem",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!0,isSigner:!1,docs:["The [`MineItem`] account"]}],args:[{name:"input",type:{defined:"UpdateMineItemInput"}}]},{name:"updatePlanet",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"planet",isMut:!0,isSigner:!1,docs:["The [`Planet`] account"]}],args:[{name:"input",type:{defined:"UpdatePlanetInput"}}]},{name:"updateProgressionConfig",accounts:[{name:"progressionConfig",isMut:!0,isSigner:!1,docs:["The [`ProgressionConfig`] account"]},{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"UpdateProgressionConfigInput"}}]},{name:"updateResource",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"mineItem",isMut:!1,isSigner:!1,docs:["The [`MineItem`] account"]},{name:"resource",isMut:!0,isSigner:!1,docs:["The [`Resource`] account"]}],args:[{name:"input",type:{defined:"UpdateResourceInput"}}]},{name:"updateShip",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"ship",isMut:!0,isSigner:!1,docs:["The [`Ship`] account"]}],args:[{name:"input",type:{defined:"UpdateShipInput"}}]},{name:"updateShipEscrow",accounts:[{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!0,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipEscrowInput"}}]},{name:"updateShipInFleet",accounts:[{name:"fleet",isMut:!0,isSigner:!1,docs:["The [`Fleet`] account"]},{name:"fleetShips",isMut:!0,isSigner:!1,docs:["The [`FleetShips`] account"]},{name:"oldShip",isMut:!1,isSigner:!1,docs:["The old [`Ship`] Account"]},{name:"next",isMut:!1,isSigner:!1,docs:["The address indicated as `next` in the `old_ship` account"]},{name:"gameAccounts",accounts:[{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]}],args:[{name:"input",type:{defined:"UpdateShipFleetInput"}}]},{name:"updateStar",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"star",isMut:!0,isSigner:!1,docs:["The [`Star`] account"]}],args:[{name:"input",type:{defined:"UpdateStarInput"}}]},{name:"updateStarbase",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the new game"]},{name:"starbase",isMut:!0,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System program"]}],args:[{name:"input",type:{defined:"UpdateStarbaseInput"}}]},{name:"updateSurveyDataUnitTracker",accounts:[{name:"gameAndProfile",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"surveyDataUnitTracker",isMut:!0,isSigner:!1,docs:["The [`SurveyDataUnitTracker`] account"]}],args:[{name:"input",type:{defined:"UpdateSurveyDataUnitTrackerInput"}}]},{name:"warpLane",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fromStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"toStarbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"fromSector",isMut:!1,isSigner:!1,docs:["The Sector account representing the fleet`s  current sector"]},{name:"toSector",isMut:!1,isSigner:!1,docs:["The Sector account that `Fleet` will move to"]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The `Cargo Type` Account"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The `CargoStatsDefinition` for the cargo type"]},{name:"fuelTokenFrom",isMut:!0,isSigner:!1,docs:["The fuel source token account - owned by the `fuel_tank`"]},{name:"fuelMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"feeTokenFrom",isMut:!0,isSigner:!1,docs:["The fee source token account"]},{name:"feeTokenTo",isMut:!0,isSigner:!1,docs:["The fee destination token account"]},{name:"feeMint",isMut:!0,isSigner:!1,docs:["Fee Token Mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpLaneInput"}}]},{name:"warpToCoordinate",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"fuelTank",isMut:!0,isSigner:!1,docs:["The fuel tank cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account for fuel"]},{name:"statsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `fuel_tank`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["Token Mint - The fuel mint"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WarpToCoordinateInput"}}]},{name:"withdrawCargoFromFleet",accounts:[{name:"gameAccountsFleetAndOwner",accounts:[{name:"gameFleetAndOwner",accounts:[{name:"fleetAndOwner",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key on the profile."]},{name:"owningProfile",isMut:!1,isSigner:!1,docs:["The profile that owns the fleet."]},{name:"owningProfileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"fleet",isMut:!0,isSigner:!1,docs:["The fleet."]}]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"cargoPodFrom",isMut:!0,isSigner:!1,docs:["The origin cargo pod, owned by the fleet"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod, owned by the Starbase player"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod_from`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"WithdrawCargoFromFleetInput"}}]},{name:"withdrawCargoFromGame",accounts:[{name:"fundsTo",isMut:!0,isSigner:!1,docs:["The funds_to - receives rent refund"]},{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"cargoPod",isMut:!0,isSigner:!1,docs:["The new cargo pod"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The cargo type account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source token account - owned by the `cargo_pod`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination token account - owned by the `key`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The mint of the token accounts"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["Token Program"]}],args:[{name:"input",type:{defined:"CargoToGameInput"}}]},{name:"withdrawCraftingIngredient",accounts:[{name:"starbaseAndStarbasePlayer",accounts:[{name:"starbase",isMut:!1,isSigner:!1,docs:["The [`Starbase`] account"]},{name:"starbasePlayer",isMut:!1,isSigner:!1,docs:["The [`StarbasePlayer`] Account"]}]},{name:"craftingInstance",isMut:!1,isSigner:!1,docs:["The [`CraftingInstance`] account"]},{name:"craftingFacility",isMut:!1,isSigner:!1,docs:["The [`CraftingFacility`](crafting::CraftingFacility) account"]},{name:"craftingProcess",isMut:!0,isSigner:!1,docs:["The crafting process account"]},{name:"cargoPodTo",isMut:!0,isSigner:!1,docs:["The destination cargo pod account"]},{name:"craftingRecipe",isMut:!1,isSigner:!1,docs:["The crafting recipe"]},{name:"cargoType",isMut:!1,isSigner:!1,docs:["The Cargo Type Account"]},{name:"cargoStatsDefinition",isMut:!1,isSigner:!1,docs:["The cargo stats definition account"]},{name:"gameAccountsAndProfile",accounts:[{name:"gameAndProfileAndFaction",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The [`Profile`] account"]},{name:"profileFaction",isMut:!1,isSigner:!1,docs:["The faction that the profile belongs to."]},{name:"gameId",isMut:!1,isSigner:!1,docs:["The [`Game`] account"]}]},{name:"gameState",isMut:!1,isSigner:!1,docs:["The [`GameState`] account"]}]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The source account of the tokens - owner should be `crafting_process`"]},{name:"tokenTo",isMut:!0,isSigner:!1,docs:["The destination account of the tokens - owner should be `cargo_pod_to`"]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"craftingProgram",isMut:!1,isSigner:!1,docs:["The Crafting Program"]},{name:"cargoProgram",isMut:!1,isSigner:!1,docs:["The Cargo Program"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The [Token] program"]}],args:[{name:"input",type:{defined:"StarbaseWithdrawCraftingIngredientInput"}}]}],accounts:[{name:"craftingInstance",docs:["This account is used to store relevant information for a crafting process instance"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"authority",docs:["The authority over the `CraftingInstance`"],type:"publicKey"},{name:"craftingProcess",docs:["The `CraftingProcess` account address"],type:"publicKey"},{name:"instanceType",docs:["the planet type"],type:"u8"},{name:"numCrew",docs:["The number of crew taking part in the crafting process"],type:"u64"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"disbandedFleet",docs:["Keeps track of a fleet while it is disbanded"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"starbase",docs:["The `Starbase` at which the original `Fleet` was disbanded."],type:"publicKey"},{name:"fleetLabel",docs:["The label or name of the disbanded fleet."],type:{array:["u8",32]}},{name:"fleetShips",docs:["The `FleetShips` account belonging to the original `Fleet` that was disbanded."],type:"publicKey"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"fleet",docs:["A `SAGE` fleet."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game id this belongs to."],type:"publicKey"},{name:"ownerProfile",docs:["The owner's profile."],type:"publicKey"},{name:"fleetShips",docs:["Fleet Ships Key"],type:"publicKey"},{name:"subProfile",docs:["The fleet's sub-authority.","If [`Some`] will have the exclusive ability to interact with this fleet."],type:{defined:"OptionalNonSystemPubkey"}},{name:"subProfileInvalidator",docs:["The authority for revoking a sun-authority."],type:"publicKey"},{name:"faction",docs:["The faction of the profile."],type:"u8"},{name:"fleetLabel",docs:["The label or name of the fleet."],type:{array:["u8",32]}},{name:"shipCounts",docs:["The number of ships in the fleet."],type:{defined:"ShipCounts"}},{name:"warpCooldownExpiresAt",docs:["The time at which the warp cooldown expires"],type:"i64"},{name:"scanCooldownExpiresAt",docs:["The time at which the scan cooldown expires"],type:"i64"},{name:"stats",docs:["The fleet's stats."],type:{defined:"ShipStats"}},{name:"cargoHold",docs:["The Cargo pod representing the fleet's cargo hold"],type:"publicKey"},{name:"fuelTank",docs:["The Cargo pod representing the fleet's fuel tank"],type:"publicKey"},{name:"ammoBank",docs:["The Cargo pod representing the fleet's ammo bank"],type:"publicKey"},{name:"updateId",docs:["The update id for the `Fleet`"],type:"u64"},{name:"bump",docs:["The fleet's bump."],type:"u8"}]}},{name:"fleetShips",docs:["Keeps track of a the individual ships that make up a fleet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"fleet",docs:["The `Fleet` account this belongs to"],type:"publicKey"},{name:"fleetShipsInfoCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"bump",docs:["The disbanded fleet's bump."],type:"u8"}]}},{name:"game",docs:["Global Game Configuration variables"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"updateId",docs:["The sequence id for updates."],type:"u64"},{name:"profile",docs:["The [`Profile`](player_profile::state::Profile) that handles the sector program permissions"],type:"publicKey"},{name:"gameState",docs:["The associated `GameState` account."],type:"publicKey"},{name:"points",docs:["Points setting"],type:{defined:"Points"}},{name:"cargo",docs:["Cargo settings"],type:{defined:"Cargo"}},{name:"crafting",docs:["Crafting settings"],type:{defined:"Crafting"}},{name:"mints",docs:["mint related settings"],type:{defined:"Mints"}},{name:"vaults",docs:["vault related settings"],type:{defined:"Vaults"}},{name:"riskZones",docs:["Data for risk zones"],type:{defined:"RiskZonesData"}}]}},{name:"gameState",docs:["Keeps track of variables that may change frequently during a `Game` session"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"updateId",docs:["The sequence id for updates"],type:"u64"},{name:"gameId",docs:["The `Game` that this belongs to"],type:"publicKey"},{name:"fleet",docs:["Fleet settings"],type:{defined:"FleetInfo"}},{name:"misc",docs:["Miscellaneous settings"],type:{defined:"MiscVariables"}},{name:"bump",docs:["PDA bump"],type:"u8"}]}},{name:"mineItem",docs:["Represents a token registered as an item that can be mined"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this item is registered with"],type:"publicKey"},{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"mint",docs:["the mint representing the items mined"],type:"publicKey"},{name:"resourceHardness",docs:["How hard it is to mine this item -> Ranges from 1-10"],type:"u16"},{name:"numResourceAccounts",docs:["The number of resource accounts for this mine item"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"planet",docs:["Planet"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Planet`"],type:{array:["u8",64]}},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"planetType",docs:["the planet type"],type:"u8"},{name:"position",docs:["the planet position"],type:"u8"},{name:"size",docs:["size"],type:"u64"},{name:"maxHp",docs:["maximum health"],type:"u64"},{name:"currentHealth",docs:["The current health of the `Planet`."],type:"u64"},{name:"amountMined",docs:["the cumulative amount mined from this `Asteroid`"],type:"u64"},{name:"numResources",docs:["the number of resources at this `Asteroid`"],type:"u8"},{name:"numMiners",docs:["the number of entities currently mining at this `Asteroid`"],type:"u64"}]}},{name:"playerCrewRecord",docs:["An account used to record how many crew members have been added to the game by a player",'This is meant to be used temporarily during the crew "pre add" period where players can add crew members to the game but not use them'],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"crewConfig",docs:["The `SageCrewConfig` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"count",docs:["The number of crew members"],type:"u32"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"progressionConfig",docs:["Progression Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:"u64"},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:"u64"},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:"u64"},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:"u64"},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:"u64"},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:"u64"},{name:"numItems",docs:["number of progression items being tracked"],type:"u16"}]}},{name:"resource",docs:["Represents a mine-able item existing at a particular location (e.g. a planet)"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id pubkey"],type:"publicKey"},{name:"location",docs:["the location's pubkey"],type:"publicKey"},{name:"mineItem",docs:["the mine item pubkey"],type:"publicKey"},{name:"locationType",docs:["the location type"],type:"u8"},{name:"systemRichness",docs:["How abundant the resource is at the location -> Ranges from 1-5"],type:"u16"},{name:"amountMined",docs:["the cumulative amount mined from this resource"],type:"u64"},{name:"numMiners",docs:["the number of entities currently mining this resource"],type:"u64"},{name:"bump",docs:["bump for PDA"],type:"u8"}]}},{name:"sageCrewConfig",docs:["SAGE crew Config"],type:{kind:"struct",fields:[{name:"version",docs:["the data version of this account."],type:"u8"},{name:"gameId",docs:["the `Game` that this belongs to"],type:"publicKey"},{name:"config",docs:["the `CrewConfig` account address"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"sagePlayerProfile",docs:["A `SAGE` player's profile."],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"}]}},{name:"sector",docs:["Sector"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"coordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"discoverer",docs:["The discoverer of this sector"],type:"publicKey"},{name:"name",docs:["The name of this sector"],type:{array:["u8",64]}},{name:"numStars",docs:["the number of stars in this system"],type:"u16"},{name:"numPlanets",docs:["the number of planets in this system"],type:"u16"},{name:"numMoons",docs:["the number of moons in this system"],type:"u16"},{name:"numAsteroidBelts",docs:["the number of num_asteroid belts in this system"],type:"u16"},{name:"lastScanTime",docs:["The last time the `Sector` was scanned"],type:"i64"},{name:"lastScanChance",docs:["The probability of finding SDUs in the `Sector` from the last time it was scanned"],type:"u32"},{name:"bump",docs:["PDA bump"],type:"u8"},{name:"numConnections",docs:["the number of connections in this system"],type:"u16"}]}},{name:"ship",docs:["This account represents a Ship"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["the game_id account this Ship is registered with"],type:"publicKey"},{name:"mint",docs:["the mint representing the Ship"],type:"publicKey"},{name:"name",docs:["The name of this `Ship`"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:"u8"},{name:"stats",docs:["The ship's stats"],type:{defined:"ShipStats"}},{name:"updateId",docs:["The `update_id` for the `Ship`"],type:"u64"},{name:"maxUpdateId",docs:["The max `Game` `update_id` that the `Ship` is valid for"],type:"u64"},{name:"next",docs:["the next `Ship` account to use when this `Ship` is updated"],type:{defined:"OptionalNonSystemPubkey"}}]}},{name:"star",docs:["`Star` account"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"name",docs:["The name of this `Star`"],type:{array:["u8",64]}},{name:"gameId",docs:["the game_id that this belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this belongs to"],type:{array:["i64",2]}},{name:"size",docs:["size"],type:"u64"},{name:"subCoordinates",docs:["sub_coordinates as [x, y]"],type:{array:["i64",2]}},{name:"starType",docs:["the star type"],type:"u8"}]}},{name:"starbase",docs:["Starbase"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this `Starbase` account."],type:"u8"},{name:"gameId",docs:["the game_id that this `Starbase` belongs to"],type:"publicKey"},{name:"sector",docs:["the sector that this `Starbase` belongs to"],type:{array:["i64",2]}},{name:"craftingFacility",docs:["the [`CraftingFacility`] to use for crafting at this `Starbase`"],type:"publicKey"},{name:"upgradeFacility",docs:["the [`CraftingFacility`] to use for upgrade jobs at this `Starbase`"],type:"publicKey"},{name:"name",docs:["The name of this `Starbase`"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["coordinates as [x, y]"],type:{array:["i64",2]}},{name:"faction",docs:["The faction of the `Starbase`."],type:"u8"},{name:"bump",docs:["bump for PDA"],type:"u8"},{name:"seqId",docs:["The sequence id for the `Starbase`"],type:"u16"},{name:"state",docs:["The state of the `Starbase`. Is a [`StarbaseState`]."],type:"u8"},{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"hp",docs:["The `Starbase` health points."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position (`sector::state::Ring`) available for this `Starbase`"],type:"u8"},{name:"upgradeState",docs:["The `Starbase` upgrade state"],type:"u8"},{name:"upgradeIngredientsChecksum",docs:["used to check if expected upgrade ingredients have been supplied"],type:{array:["u8",16]}},{name:"numUpgradeIngredients",docs:["number of ingredients needed for starbase upgrade"],type:"u8"},{name:"upkeepAmmoBalance",docs:["The balance of ammo for upkeep"],type:"u64"},{name:"upkeepAmmoLastUpdate",docs:["The last time ammo for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepAmmoGlobalLastUpdate",docs:["The last time ammo for upkeep was updated (Global time)"],type:"i64"},{name:"upkeepFoodBalance",docs:["The balance of food for upkeep"],type:"u64"},{name:"upkeepFoodLastUpdate",docs:["The last time food for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepFoodGlobalLastUpdate",docs:["The last time food for upkeep was updated (Global time)"],type:"i64"},{name:"upkeepToolkitBalance",docs:["The balance of toolkits for upkeep"],type:"u64"},{name:"upkeepToolkitLastUpdate",docs:["The last time toolkits for upkeep was updated (Local time)"],type:"i64"},{name:"upkeepToolkitGlobalLastUpdate",docs:["The last time toolkits for upkeep was updated (Global time)"],type:"i64"},{name:"builtDestroyedTimestamp",docs:["The last time the starbase was built or destroyed"],type:"i64"}]}},{name:"starbasePlayer",docs:["The `SAGE` player info within a `Starbase`"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account"],type:"u8"},{name:"playerProfile",docs:["The `Profile` key"],type:"publicKey"},{name:"gameId",docs:["The id of the `Game`"],type:"publicKey"},{name:"starbase",docs:["The `Starbase` key"],type:"publicKey"},{name:"sagePlayerProfile",docs:["The `SagePlayerProfile` key"],type:"publicKey"},{name:"bump",docs:["Bump of Account PDA"],type:"u8"},{name:"shipEscrowCount",docs:["List length of `RemainingData`"],type:"u32"},{name:"oldTotalCrew",docs:["The old total crew members from the player's fleets at the `Starbase`","This is used BEFORE crew program features are turned ON"],type:"u32"},{name:"newTotalCrew",docs:["The new total crew members from the player's fleets at the `Starbase`","This is used AFTER crew program features are turned ON"],type:"u32"},{name:"busyCrew",docs:["The number of crew members that is engaged/busy and not available"],type:"u64"},{name:"updateId",docs:["The `Game` update id"],type:"u64"},{name:"updatedShipEscrowCount",docs:["Number of updated items in `RemainingData` list","This will be `ship_escrow_count` when all ships in escrow are up-to-date"],type:"u32"}]}},{name:"surveyDataUnitTracker",docs:["Survey Data Unit (SDU) Tracker"],type:{kind:"struct",fields:[{name:"version",docs:["The data version of this account."],type:"u8"},{name:"gameId",docs:["The game_id that this belongs to"],type:"publicKey"},{name:"sduMint",docs:["The Survey Data Unit Mint"],type:"publicKey"},{name:"resourceMint",docs:["The mint of the resource spent when scanning for SDUs"],type:"publicKey"},{name:"signer",docs:["The signer for this account"],type:"publicKey"},{name:"signerBump",docs:["The signer for this account"],type:"u8"},{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"}]}}],types:[{name:"AddCrewInput",docs:["Struct for data input for `AddCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:"CrewTransferInput"}}}]}},{name:"AddShipEscrowInput",docs:["Struct for data input for `AddShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer to escrow"],type:"u64"},{name:"index",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`","Some index `WrappedShipEscrow`, or None for new `WrappedShipEscrow`"],type:{option:"u32"}}]}},{name:"AddShipToFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:{option:"u32"}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Cargo",docs:["Variables for the Cargo program"],type:{kind:"struct",fields:[{name:"statsDefinition",docs:["The cargo stats definition account"],type:"publicKey"}]}},{name:"CargoStats",docs:["A ship's cargo stats"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargoTransferRate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractorBeamGatherRate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoStatsUnpacked",docs:["Unpacked version of [`CargoStats`]"],type:{kind:"struct",fields:[{name:"cargoCapacity",docs:["the capacity of the ship's cargo hold"],type:"u32"},{name:"fuelCapacity",docs:["the capacity of the ship's fuel tank"],type:"u32"},{name:"ammoCapacity",docs:["the capacity of the ship's ammo bank"],type:"u32"},{name:"ammoConsumptionRate",docs:["the amount of ammo consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"foodConsumptionRate",docs:["the amount of food consumed per second by the ship when doing non-combat activities e.g. mining"],type:"u32"},{name:"miningRate",docs:["the amount of resources that can be mined by a ship per second"],type:"u32"},{name:"upgradeRate",docs:["the amount of upgrade material that is consumed by a ship per second while upgrading a Starbase"],type:"u32"},{name:"cargoTransferRate",docs:["the amount of cargo that a ship can transfer per second to another ship outside of dock"],type:"u32"},{name:"tractorBeamGatherRate",docs:["the amount of cargo that the ship can gather per second using its tractor beam"],type:"u32"}]}},{name:"CargoToGameInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CloseDisbandedFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Crafting",docs:["Variables for the Crafting program"],type:{kind:"struct",fields:[{name:"domain",docs:["The crafting domain account"],type:"publicKey"}]}},{name:"CraftingInstanceType",docs:["Represents the type of `CraftingInstance`"],type:{kind:"enum",variants:[{name:"StarbaseCrafting"},{name:"StarbaseUpgradeMaterial"}]}},{name:"CreateFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u8"},{name:"fleetLabel",docs:["the fleet label"],type:{array:["u8",32]}},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"},{name:"cargoHoldSeeds",docs:["cargo hold seeds"],type:{array:["u8",32]}},{name:"fuelTankSeeds",docs:["fuel tank seeds"],type:{array:["u8",32]}},{name:"ammoBankSeeds",docs:["ammo bank seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"CrewTransferInput",docs:["Struct for data input for crew cNFT transfer"],type:{kind:"struct",fields:[{name:"dataHash",docs:["The crew cNFT data hash"],type:{array:["u8",32]}},{name:"proofCount",docs:["The number of proofs for the crew cNFT"],type:"u8"},{name:"leafIndex",docs:["The crew cNFT index (index of the leaf node in the Merkle tree)"],type:"u32"}]}},{name:"DepositCargoToFleetInput",docs:["Struct for data input to `DepositCargoToFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DepositStarbaseUpkeepResourceInput",docs:["Submit starbase upkeep resource inputs"],type:{kind:"struct",fields:[{name:"pointsProgramPermissionsKeyIndex",docs:["the index of the points program permissions in the player profile"],type:"u16"},{name:"sagePermissionsKeyIndex",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"resourceType",docs:["the resource type"],type:"u8"},{name:"resourceIndex",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list"],type:"u16"},{name:"amount",docs:["the amount"],type:"u64"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"DeregisterSurveyDataUnitTrackerInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"DevAddCrewInput",docs:["Struct for data input to Dev Add Crew"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the permissions profile"],type:"u16"},{name:"crewCount",docs:["The number of crew to add or remove"],type:"i32"}]}},{name:"DisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DisbandedFleetToEscrowInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:{option:"u32"}},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"DiscoverSectorInput",docs:["Struct for data input for `DiscoverSector`"],type:{kind:"struct",fields:[{name:"coordinates",docs:["The coordinates of the new `Sector`"],type:{array:["i64",2]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FactionsStarbaseLevelInfo",docs:["`Starbase` levels discriminated by faction"],type:{kind:"struct",fields:[{name:"mud",docs:["Mud Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"oni",docs:["Oni Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}},{name:"ustur",docs:["Ustur Starbase Levels Info"],type:{array:[{defined:"StarbaseLevelInfo"},7]}}]}},{name:"FleetCrewInput",docs:["Struct for data input to `FleetCrew`"],type:{kind:"struct",fields:[{name:"count",docs:["passenger count"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"FleetInfo",docs:["Variables for the Fleet program"],type:{kind:"struct",fields:[{name:"starbaseLevels",docs:["`Starbase` levels discriminated by faction"],type:{defined:"FactionsStarbaseLevelInfo"}},{name:"upkeep",docs:["`Starbase` upkeep discriminated by level"],type:{defined:"StarbaseUpkeepLevels"}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:"u32"}]}},{name:"FleetInput",docs:["Struct for data input to Update fleet settings"],type:{kind:"struct",fields:[{name:"starbaseLevelInfoArray",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:"StarbaseLevelInfoArrayInput"}}}},{name:"upkeepInfoArray",docs:["`Starbase` Level Info array"],type:{option:{vec:{defined:"StarbaseUpkeepInfoArrayInput"}}}},{name:"maxFleetSize",docs:["Maximum `Fleet` size allowed"],type:{option:"u32"}}]}},{name:"FleetShipsInfo",docs:["Struct that represents info on a single ship type in a fleet"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}},{name:"ForcedDisbandFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"Idle",docs:["The data for the [`FleetStateData::Idle`](crate::state_machine::FleetStateData::Idle) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet is in"],type:{array:["i64",2]}}]}},{name:"IdleToRespawnInput",docs:["Struct for data input to initialize an `IdleToRespawn` Ix"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["index of the key in the player profile"],type:"u16"}]}},{name:"IngredientIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"ingredientIndex",docs:["the index of the recipe output"],type:"u16"}]}},{name:"InitGameStateInput",docs:["Struct for data input to `InitGameState`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"KeyIndexInput",docs:["Struct for data input that has `key_index`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"LocationType",docs:["Represents different types of locations that a `Resource` might be found"],type:{kind:"enum",variants:[{name:"Planet"}]}},{name:"ManageGameInput",docs:["Struct for data input to managing Game accounts"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"MineAsteroid",docs:["The data for the [`FleetStateData::MineAsteroid`](crate::state_machine::FleetStateData::MineAsteroid) state"],type:{kind:"struct",fields:[{name:"asteroid",docs:["The `Asteroid` the `Fleet` is mining (Must be an asteroid belt)"],type:"publicKey"},{name:"resource",docs:["The `Resource` being mined on the `Asteroid`"],type:"publicKey"},{name:"start",docs:["The timestamp at which mining activity started"],type:"i64"},{name:"end",docs:["The timestamp at which mining activity stops"],type:"i64"},{name:"amountMined",docs:["The cumulative amount mined"],type:"u64"},{name:"lastUpdate",docs:["The last time the `Fleet` was updated"],type:"i64"}]}},{name:"MineAsteroidToRespawnInput",docs:["Struct for data input for `MineAsteroidToRespawnInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"Mints",docs:["Token mints"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"},{name:"ammo",docs:["ammunition"],type:"publicKey"},{name:"food",docs:["food"],type:"publicKey"},{name:"fuel",docs:["fuel"],type:"publicKey"},{name:"repairKit",docs:["repair kit"],type:"publicKey"}]}},{name:"MiscStats",docs:["A ship's miscellaneous stats"],type:{kind:"struct",fields:[{name:"requiredCrew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passengerCapacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crewCount",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rentedCrew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sduPerScan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scanCost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscStatsUnpacked",docs:["Unpacked version of [`MiscStats`]"],type:{kind:"struct",fields:[{name:"requiredCrew",docs:["Number of crew required to operate the ship"],type:"u16"},{name:"passengerCapacity",docs:["Number of crew that the ship can carry as passengers"],type:"u16"},{name:"crewCount",docs:["Total number of crew on the ship (required crew + passengers on board)","Will be zero until `CREW_FEATURE` is enabled"],type:"u16"},{name:"rentedCrew",docs:["Total number of crew that were rented out together with the fleet"],type:"u16"},{name:"respawnTime",docs:["the time it takes the ship to respawn"],type:"u16"},{name:"scanCoolDown",docs:["the time it takes the ship to be able to scan again after scanning"],type:"u16"},{name:"sduPerScan",docs:["The number of SDUs that can be found while scanning"],type:"u32"},{name:"scanCost",docs:["the amount of resource required to do a scan"],type:"u32"},{name:"placeholder",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder2",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"},{name:"placeholder3",docs:["TODO: this is a placeholder stat for use in the future"],type:"u32"}]}},{name:"MiscVariables",docs:["Miscellaneous game state variables"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:"i16"},{name:"respawnFee",docs:["Respawn fee; You cannot enter into the respawning state without paying this fee","Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"},{name:"upkeepMiningEmissionsPenalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:"i16"}]}},{name:"MiscVariablesInput",docs:["Struct for data input to update miscellaneous settings"],type:{kind:"struct",fields:[{name:"warpLaneFuelCostReduction",docs:['Percentage by which the "warp lane" movement type reduces warp fuel cost'],type:{option:"i16"}},{name:"upkeepMiningEmissionsPenalty",docs:["Percentage by which to reduce the asteroid mining rate if a starbase ammo upkeep coffer is empty"],type:{option:"i16"}},{name:"respawnFee",docs:["Respawn fee, charged in ATLAS"],type:{option:"u64"}}]}},{name:"MoveSubwarp",docs:["The data for the [`FleetStateData::MoveSubwarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The sector the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The sector the fleet is going to"],type:{array:["i64",2]}},{name:"currentSector",docs:["The sector the fleet is currently in"],type:{array:["i64",2]}},{name:"departureTime",docs:["When the fleet started subwarp"],type:"i64"},{name:"arrivalTime",docs:["When the fleet will finish subwarp"],type:"i64"},{name:"fuelExpenditure",docs:["The fuel cost of the subwarp"],type:"u64"},{name:"lastUpdate",docs:["The last update time"],type:"i64"}]}},{name:"MoveWarp",docs:["The data for the [`FleetStateData::MoveWarp`] state"],type:{kind:"struct",fields:[{name:"fromSector",docs:["The star system the fleet is coming from"],type:{array:["i64",2]}},{name:"toSector",docs:["The star system the fleet is going to"],type:{array:["i64",2]}},{name:"warpStart",docs:["When the fleet started warping"],type:"i64"},{name:"warpFinish",docs:["When the warp will end"],type:"i64"}]}},{name:"MovementStats",docs:["A ship's movement stats"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"MovementStatsUnpacked",docs:["Unpacked version of [`MovementStats`]"],type:{kind:"struct",fields:[{name:"subwarpSpeed",docs:["the amount of distance that the ship can cover in one second while sub-warping"],type:"u32"},{name:"warpSpeed",docs:["the amount of distance that the ship can cover in one second while warping"],type:"u32"},{name:"maxWarpDistance",docs:["the max distance that the ship can warp"],type:"u16"},{name:"warpCoolDown",docs:["the time it takes the ship to be able to warp again after a warp"],type:"u16"},{name:"subwarpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when sub-warp moving"],type:"u32"},{name:"warpFuelConsumptionRate",docs:["the amount of fuel consumed by the ship when warp moving"],type:"u32"},{name:"planetExitFuelAmount",docs:["the amount of fuel required to exit a planet"],type:"u32"}]}},{name:"OptionalNonSystemPubkey",docs:["A pubkey sized option that is none if set to the system program."],type:{kind:"struct",fields:[{name:"key",type:"publicKey"}]}},{name:"PlanetType",docs:["Represents different types a `Planet` could be"],type:{kind:"enum",variants:[{name:"Terrestrial"},{name:"Volcanic"},{name:"Barren"},{name:"AsteroidBelt"},{name:"GasGiant"},{name:"IceGiant"},{name:"Dark"}]}},{name:"Points",docs:["Variables for the Points program"],type:{kind:"struct",fields:[{name:"lpCategory",docs:["Represents the points category & modifier to use for Loyalty Points (LP)"],type:{defined:"SagePointsCategory"}},{name:"councilRankXpCategory",docs:["Represents the points category & modifier to use for Council Rank Experience Points (CRXP)"],type:{defined:"SagePointsCategory"}},{name:"pilotXpCategory",docs:["Represents the points category & modifier to use for Pilot License Experience Points (PXP)"],type:{defined:"SagePointsCategory"}},{name:"dataRunningXpCategory",docs:["Represents the points category & modifier to use for Data Running Experience Points (DRXP)"],type:{defined:"SagePointsCategory"}},{name:"miningXpCategory",docs:["Represents the points category & modifier to use for Mining Experience Points (MXP)"],type:{defined:"SagePointsCategory"}},{name:"craftingXpCategory",docs:["Represents the points category & modifier to use for Crafting Experience Points (CXP)"],type:{defined:"SagePointsCategory"}}]}},{name:"ProgressionItem",docs:["Progression Item"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"ProgressionItemInput",docs:["Progression Item for Data Input"],type:{kind:"struct",fields:[{name:"itemType",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:"ProgressionItem"}}]}},{name:"ProgressionItemInputUnpacked",docs:["Unpacked version of [`ProgressionItemInput`]"],type:{kind:"struct",fields:[{name:"itemType",docs:["The type of progression item"],type:"u8"},{name:"item",docs:["The progression item"],type:{defined:"ProgressionItem"}}]}},{name:"ProgressionItemType",docs:["The different types of progression items"],type:{kind:"enum",variants:[{name:"Subwarp"},{name:"Warp"},{name:"WarpLane"},{name:"AsteroidExit"},{name:"ScanUnsuccessful"},{name:"ScanSuccessful"},{name:"Mining"},{name:"Crafting"},{name:"Upkeep"},{name:"Upgrade"}]}},{name:"ProgressionItemUnpacked",docs:["Unpacked version of [`ProgressionItem`]"],type:{kind:"struct",fields:[{name:"value",docs:["The progression points value"],type:"u32"}]}},{name:"RegisterMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{array:["u8",64]}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterPlanetInput",docs:["Struct for data input to Register Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{array:["u8",64]}},{name:"size",docs:["`Planet` size"],type:"u64"},{name:"maxHp",docs:["`Planet` max health"],type:"u64"},{name:"subCoordinates",docs:["`Planet` sub_coordinates"],type:{array:["i64",2]}},{name:"planetType",docs:["`Planet` type"],type:"u8"},{name:"position",docs:["`Planet` position"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterProgressionConfigInput",docs:["Data input for RegisterProgressionConfig"],type:{kind:"struct",fields:[{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterResourceInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"locationType",docs:["`Resource` location type"],type:"u8"},{name:"systemRichness",docs:["`Resource` `system_richness`"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSagePointsModifierInput",docs:["Struct for data input to register a points modifier for SAGE program"],type:{kind:"struct",fields:[{name:"pointsCategoryType",docs:["The points category type of the modifier"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RegisterShipInput",docs:["Struct for data input to Register Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"},{name:"isActive",docs:["Whether the ship is initialized to active (`update_id == current_update_id`)"],type:"bool"}]}},{name:"RegisterStarInput",docs:["Struct for data input to Register Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{array:["u8",64]}},{name:"size",docs:["`Star` size"],type:"u64"},{name:"subCoordinates",docs:["`Star` sub_coordinates"],type:{array:["i64",2]}},{name:"starType",docs:["`Star` type"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInput",docs:["Struct for data input to Register `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterStarbaseInputUnpacked",docs:["Unpacked version of [`RegisterStarbaseInput`]"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{array:["u8",64]}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{array:["i64",2]}},{name:"starbaseLevelIndex",docs:["The index representing the level of the `Starbase` in the game variables."],type:"u8"},{name:"faction",docs:["The `Starbase` faction"],type:"u8"},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"RegisterSurveyDataUnitTrackerInput",docs:["Struct for data input to Register SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{array:["i64",2]}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{array:[{array:["i64",2]},3]}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{array:["i64",2]}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:"u32"},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:"u32"},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:"u32"},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:"i64"},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:"u32"},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:"u32"},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:"u32"},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:"u32"},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:"i16"},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"RemoveCrewInput",docs:["Accounts for Struct for data input for `RemoveCrew`"],type:{kind:"struct",fields:[{name:"items",docs:["inputs required to transfer crew cNFTs"],type:{vec:{defined:"CrewTransferInput"}}},{name:"keyIndex",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"}]}},{name:"RemoveShipEscrowInput",docs:["Struct for data input for `RemoveShipEscrow`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Amount of `Ship` tokens to transfer from escrow"],type:"u64"},{name:"permissionKeyIndex",docs:["the index of the `ProfileKey` in `Profile` with required permissions"],type:"u16"},{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"Respawn",docs:["The data for the [`FleetStateData::Respawn`](crate::state_machine::FleetStateData::Respawn) state"],type:{kind:"struct",fields:[{name:"sector",docs:["The star system the fleet was in when it entered the `Respawn` state"],type:{array:["i64",2]}},{name:"start",docs:["The time `Respawn` started"],type:"i64"}]}},{name:"RespawnToLoadingBayInput",docs:["Struct for data input to `RespawnToLoadingBay`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"RiskZoneData",docs:["`RiskZone` center and radius"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZoneDataUnpacked",docs:["Unpacked version of [`RiskZoneData`]"],type:{kind:"struct",fields:[{name:"center",docs:["Risk zone center"],type:{array:["i64",2]}},{name:"radius",docs:["Risk zone radius"],type:"u64"}]}},{name:"RiskZonesData",docs:["[`RiskZoneData`] for [`RiskZones`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"RiskZonesDataUnpacked",docs:["Unpacked version of [`RiskZonesData`]"],type:{kind:"struct",fields:[{name:"mudSecurityZone",docs:["Mud security zone"],type:{defined:"RiskZoneData"}},{name:"oniSecurityZone",docs:["Oni security zone"],type:{defined:"RiskZoneData"}},{name:"usturSecurityZone",docs:["Ustur security zone"],type:{defined:"RiskZoneData"}},{name:"highRiskZone",docs:["High risk zone"],type:{defined:"RiskZoneData"}},{name:"mediumRiskZone",docs:["Medium risk zone"],type:{defined:"RiskZoneData"}}]}},{name:"SagePointsCategory",docs:["Represents a points category & modifier as defined in the Points program"],type:{kind:"struct",fields:[{name:"category",docs:["The points category"],type:"publicKey"},{name:"modifier",docs:["The points category modifier"],type:"publicKey"},{name:"modifierBump",docs:["The points category modifier bump"],type:"u8"}]}},{name:"ScanForSurveyDataUnitsInput",docs:["Struct for data input to Scan For Survey Data Units"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SectorConnection",docs:["Connection between sectors"],type:{kind:"struct",fields:[{name:"connectionSector",docs:["The sector connected to"],type:"publicKey"},{name:"subCoordinates",docs:["The location of the connection"],type:{array:["i64",2]}},{name:"flags",docs:["Connection flags"],type:"u8"}]}},{name:"SectorRing",docs:["Represents the orbital position of a `Planet` in the `Sector`"],type:{kind:"enum",variants:[{name:"Inner"},{name:"Mid"},{name:"Outer"}]}},{name:"ShipCounts",docs:["Ship counts for a fleet."],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipCountsUnpacked",docs:["Unpacked version of [`ShipCounts`]"],type:{kind:"struct",fields:[{name:"total",docs:["The total number of ships in the fleet."],type:"u32"},{name:"updated",docs:["Used when updating a fleet.","Value is 0 when fleet update is in progress"],type:"u32"},{name:"xxSmall",docs:["The number of xx small ships in the fleet."],type:"u16"},{name:"xSmall",docs:["The number of x small ships in the fleet."],type:"u16"},{name:"small",docs:["The number of small ships in the fleet."],type:"u16"},{name:"medium",docs:["The number of medium ships in the fleet."],type:"u16"},{name:"large",docs:["The number of large ships in the fleet."],type:"u16"},{name:"capital",docs:["The number of capital ships in the fleet."],type:"u16"},{name:"commander",docs:["The number of commander ships in the fleet."],type:"u16"},{name:"titan",docs:["The number of titan ships in the fleet."],type:"u16"}]}},{name:"ShipSizes",docs:["Ship sizes."],type:{kind:"struct",fields:[{name:"xxSmall",docs:["The size of xx small ships"],type:"u8"},{name:"xSmall",docs:["The size of x small ships"],type:"u8"},{name:"small",docs:["The size of small ships"],type:"u8"},{name:"medium",docs:["The size of medium ships"],type:"u8"},{name:"large",docs:["The size of large ships"],type:"u8"},{name:"capital",docs:["The size of capital ships"],type:"u8"},{name:"commander",docs:["The size of commander ships"],type:"u8"},{name:"titan",docs:["The size of titan ships"],type:"u8"}]}},{name:"ShipStats",docs:["A ship's stats"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"ShipStatsUnpacked",docs:["Unpacked version of [`ShipStats`]"],type:{kind:"struct",fields:[{name:"movementStats",docs:["Movement stats for the ship"],type:{defined:"MovementStats"}},{name:"cargoStats",docs:["Cargo stats for the ship"],type:{defined:"CargoStats"}},{name:"miscStats",docs:["Miscellaneous stats for the ship"],type:{defined:"MiscStats"}}]}},{name:"SizeClass",docs:["Represents different types of Ships"],type:{kind:"enum",variants:[{name:"XxSmall"},{name:"XSmall"},{name:"Small"},{name:"Medium"},{name:"Large"},{name:"Capital"},{name:"Commander"},{name:"Titan"}]}},{name:"StarType",docs:["Represents different types of Stars"],type:{kind:"enum",variants:[{name:"WhiteDwarf"},{name:"RedDwarf"},{name:"Solar"},{name:"HotBlue"},{name:"RedGiant"}]}},{name:"StarbaseCreateCargoPodInput",docs:["Struct for data input to `StarbaseCreateCargoPod`"],type:{kind:"struct",fields:[{name:"podSeeds",docs:["cargo pod seeds"],type:{array:["u8",32]}},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseCreateCraftingProcessInput",docs:["Struct for data input to create a `CraftingProcess`"],type:{kind:"struct",fields:[{name:"craftingId",docs:["crafting id"],type:"u64"},{name:"recipeCategoryIndex",docs:["the index of the recipe's category"],type:"u16"},{name:"quantity",docs:["quantity of outputs to craft"],type:"u64"},{name:"numCrew",docs:["number of crew members to use for this crafting process"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseDepositCraftingIngredientInput",docs:["Struct for data input to deposit an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to deposit"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseLevelInfo",docs:["Information associated with `Starbase` levels"],type:{kind:"struct",fields:[{name:"recipeForUpgrade",docs:["The crafting recipe required to upgrade a `Starbase` to this level"],type:"publicKey"},{name:"recipeCategoryForLevel",docs:["The crafting recipe category enabled for crafting at a `Starbase` of this level."],type:"publicKey"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:"u8"},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS',"Since ATLAS has 8 decimal places, units are in the smallest value of ATLAS possible."],type:"u64"}]}},{name:"StarbaseLevelInfoArrayInput",docs:["Struct for data input to Update Starbase Level Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"faction",docs:["The `Starbase` faction."],type:"u8"},{name:"hp",docs:["The `Starbase` health points for this level."],type:"u64"},{name:"sp",docs:["The `Starbase` shield points for this level."],type:"u64"},{name:"sectorRingAvailable",docs:["The planet position `Ring` available for this level"],type:{defined:"SectorRing"}},{name:"warpLaneMovementFee",docs:['Fee charged for the "warp lane" movement type which is meant to be charged in ATLAS'],type:"u64"}]}},{name:"StarbaseLoadingBay",docs:["The data for the [`FleetStateData::StarbaseLoadingBay`] state"],type:{kind:"struct",fields:[{name:"starbase",docs:["The `Starbase` is in the loading bay of"],type:"publicKey"},{name:"lastUpdate",docs:["The last time this fleet was updated"],type:"i64"}]}},{name:"StarbaseRemoveCargoPodInput",docs:["Struct for data input to `StarbaseRemoveCargoPod`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"Active"},{name:"Destroyed"}]}},{name:"StarbaseTransferCargoInput",docs:["Struct for data input to `DepositCargoToGame`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StarbaseUpgradeState",docs:["The state of a `Starbase`."],type:{kind:"enum",variants:[{name:"NotStarted"},{name:"Started"},{name:"Completed"}]}},{name:"StarbaseUpkeepInfo",docs:["Information associated with `Starbase` upkeep"],type:{kind:"struct",fields:[{name:"ammoReserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammoDepletionRate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"foodReserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"foodDepletionRate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkitReserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkitDepletionRate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepInfoArrayInput",docs:["Struct for data input to Update Starbase Upkeep Settings"],type:{kind:"struct",fields:[{name:"level",docs:["The level of the `Starbase`."],type:"u8"},{name:"info",docs:["The stats for the ship"],type:{defined:"StarbaseUpkeepInfoUnpacked"}}]}},{name:"StarbaseUpkeepInfoUnpacked",docs:["Unpacked version of [`StarbaseUpkeepInfo`]"],type:{kind:"struct",fields:[{name:"ammoReserve",docs:["The maximum amount of ammo that can be committed upkeep by players","If 0 (zero) then ammo upkeep is disabled"],type:"u64"},{name:"ammoDepletionRate",docs:["The per second rate at which the ammo reserve is emptied"],type:"u32"},{name:"foodReserve",docs:["The maximum amount of food that can be committed upkeep by players","If 0 (zero) then food upkeep is disabled"],type:"u64"},{name:"foodDepletionRate",docs:["The per second rate at which the food reserve is emptied"],type:"u32"},{name:"toolkitReserve",docs:["The maximum amount of toolkits that can be committed upkeep by players","If 0 (zero) then toolkit upkeep is disabled"],type:"u64"},{name:"toolkitDepletionRate",docs:["The per second rate at which the toolkit reserve is emptied"],type:"u32"}]}},{name:"StarbaseUpkeepLevels",docs:["Information on `Starbase` upkeep by level"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}}]}},{name:"StarbaseUpkeepLevelsUnpacked",docs:["Unpacked version of [`StarbaseUpkeepLevels`]"],type:{kind:"struct",fields:[{name:"level0",docs:["Upkeep info. for a level 0 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level1",docs:["Upkeep info. for a level 1 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level2",docs:["Upkeep info. for a level 2 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level3",docs:["Upkeep info. for a level 3 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level4",docs:["Upkeep info. for a level 4 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level5",docs:["Upkeep info. for a level 5 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}},{name:"level6",docs:["Upkeep info. for a level 6 `Starbase`"],type:{defined:"StarbaseUpkeepInfo"}}]}},{name:"StarbaseWithdrawCraftingIngredientInput",docs:["Struct for data input to withdraw an ingredient"],type:{kind:"struct",fields:[{name:"amount",docs:["the amount of ingredient to withdraw"],type:"u64"},{name:"ingredientIndex",docs:["the index of the recipe ingredient"],type:"u16"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StartSubwarpInput",docs:["Struct for data input to initialize an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}},{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"StopMiningAsteroidInput",docs:["Struct for data input for `StopMiningAsteroidInput`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"StopSubwarpInput",docs:["Struct for data input to stop an `SubwarpMovement`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"}]}},{name:"SubmitStarbaseUpgradeResourceInput",docs:["Submit starbase upgrade resource inputs"],type:{kind:"struct",fields:[{name:"pointsProgramPermissionsKeyIndex",docs:["the index of the point program permissions in the player profile"],type:"u16"},{name:"sagePermissionsKeyIndex",docs:["the index of the key in sage permissions in the player profile"],type:"u16"},{name:"upgradeProcessRecipeInputIndex",docs:["the index of the resource in the upgrade_process_recipe ingredients list","The resource is a non-consumable in this recipe"],type:"u16"},{name:"starbaseUpgradeRecipeInputIndex",docs:["the index of the resource in the upgrade recipe","The resource is a consumable in this recipe"],type:"u16"},{name:"resourceRecipeOutputIndex",docs:["the index of the resource represented by `token_mint` in the `resource_recipe` ingredients list","The resource is an output in this recipe"],type:"u16"},{name:"epochIndex",docs:["the index of the epoch in the `RedemptionConfig` account"],type:"u16"}]}},{name:"TransferCargoWithinFleetInput",docs:["Struct for data input to `TransferCargoWithinFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"UpdateGameInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"cargo",docs:["Cargo settings"],type:"u8"},{name:"crafting",docs:["Crafting settings"],type:"u8"},{name:"mints",docs:["Mints"],type:"u8"},{name:"vaults",docs:["Vaults"],type:"u8"},{name:"points",docs:["Points settings"],type:"u8"},{name:"riskZones",docs:["Data for risk zones"],type:{option:{defined:"RiskZonesDataUnpacked"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateGameStateInput",docs:["Struct for data input to Update instruction"],type:{kind:"struct",fields:[{name:"fleet",docs:["Fleet settings"],type:{option:{defined:"FleetInput"}}},{name:"misc",docs:["Miscellaneous settings"],type:{option:{defined:"MiscVariablesInput"}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateMineItemInput",docs:["Struct for data input to Register a Resource"],type:{kind:"struct",fields:[{name:"name",docs:["The name of the `MineItem`"],type:{option:{array:["u8",64]}}},{name:"resourceHardness",docs:["How hard it is to mine this item"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdatePlanetInput",docs:["Struct for data input to Update Planet"],type:{kind:"struct",fields:[{name:"name",docs:["`Planet` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Planet` size"],type:{option:"u64"}},{name:"maxHp",docs:["`Planet` max_hp"],type:{option:"u64"}},{name:"subCoordinates",docs:["`Planet` sub_coordinates"],type:{option:{array:["i64",2]}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateProgressionConfigInput",docs:["Struct for data input for `UpdateProgressionConfig`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the key in the permissions profile"],type:"u16"},{name:"dailyLpLimit",docs:["the daily limit for Loyalty Points (LP)"],type:{option:"u64"}},{name:"dailyCouncilRankXpLimit",docs:["the daily limit for Council Rank Experience Points (CRXP)"],type:{option:"u64"}},{name:"dailyPilotXpLimit",docs:["the daily limit for Pilot License Experience Points (PXP)"],type:{option:"u64"}},{name:"dailyDataRunningXpLimit",docs:["the daily limit for Data Running Experience Points (DRXP)"],type:{option:"u64"}},{name:"dailyMiningXpLimit",docs:["the daily limit for Mining Experience Points (MXP)"],type:{option:"u64"}},{name:"dailyCraftingXpLimit",docs:["the daily limit for Crafting Experience Points (CXP)"],type:{option:"u64"}},{name:"items",docs:["the progression items"],type:{option:{vec:{defined:"ProgressionItemInputUnpacked"}}}}]}},{name:"UpdateResourceInput",docs:["Struct for data input to Update Resource"],type:{kind:"struct",fields:[{name:"systemRichness",docs:["`Resource` richness"],type:{option:"u16"}},{name:"keyIndex",docs:["the index of the key in the fleet permissions profile"],type:"u16"}]}},{name:"UpdateShipEscrowInput",docs:["Struct for data input for `UpdateShipEscrow`"],type:{kind:"struct",fields:[{name:"shipEscrowIndex",docs:["Index of `WrappedShipEscrow` in remaining data of `StarbasePlayer`"],type:"u32"}]}},{name:"UpdateShipFleetInput",docs:["Struct for data input for that has `key_index`"],type:{kind:"struct",fields:[{name:"shipAmount",docs:["Number of ships to add to the fleet"],type:"u16"},{name:"fleetShipInfoIndex",docs:["Index of `FleetShipsInfo` in remaining data of `FleetShips`"],type:"u32"}]}},{name:"UpdateShipInput",docs:["Struct for data input to Update Ship"],type:{kind:"struct",fields:[{name:"name",docs:["The `Ship` name/label"],type:{array:["u8",64]}},{name:"sizeClass",docs:["the ship's size class"],type:{defined:"SizeClass"}},{name:"stats",docs:["The stats for the ship"],type:{defined:"ShipStatsUnpacked"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarInput",docs:["Struct for data input to Update Star"],type:{kind:"struct",fields:[{name:"name",docs:["`Star` name"],type:{option:{array:["u8",64]}}},{name:"size",docs:["`Star` size"],type:{option:"u64"}},{name:"starType",docs:["`Star` type"],type:{option:"u8"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateStarbaseInput",docs:["Struct for data input to Update `Starbase`"],type:{kind:"struct",fields:[{name:"name",docs:["`Starbase` name"],type:{option:{array:["u8",64]}}},{name:"subCoordinates",docs:["`Starbase` coordinates"],type:{option:{array:["i64",2]}}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpdateSurveyDataUnitTrackerInput",docs:["Struct for data input to Update SurveyDataUnitTracker"],type:{kind:"struct",fields:[{name:"coordinatesRange",docs:["The valid coordinates range","e.g. a value of [-50, 50] means that coordinates from [-50, -50] to [50, 50] are valid for SDU scanning"],type:{option:{array:["i64",2]}}},{name:"cssCoordinates",docs:["The locations of the central space stations (CSS) of the three factions"],type:{option:{array:[{array:["i64",2]},3]}}},{name:"originCoordinates",docs:['The co-ordinates of the "origin"; used in calculating SDU probability'],type:{option:{array:["i64",2]}}},{name:"cssMaxDistance",docs:["The max distance from the nearest CSS; used in calculating SDU probability"],type:{option:"u32"}},{name:"originMaxDistance",docs:["The max distance from the `origin_coordinates`; used in calculating SDU probability"],type:{option:"u32"}},{name:"distanceWeighting",docs:["The distance weighting; used in calculating SDU probability"],type:{option:"u32"}},{name:"tMax",docs:["The maximum time before SDU probability at a location changes"],type:{option:"i64"}},{name:"xMul",docs:["Multiplier in the X dimension; used in noise function"],type:{option:"u32"}},{name:"yMul",docs:["Multiplier in the Y dimension; used in noise function"],type:{option:"u32"}},{name:"zMul",docs:["Multiplier in the Z dimension; used in noise function"],type:{option:"u32"}},{name:"sduMaxPerSector",docs:["The maximum number of SDUs that can be found per scan per sector"],type:{option:"u32"}},{name:"scanChanceRegenPeriod",docs:["The amount of time in seconds that it takes for a sector scan chance to fully regenerate"],type:{option:"i16"}},{name:"keyIndex",docs:["the index of the key in the sector permissions profile"],type:"u16"}]}},{name:"UpkeepResourceType",docs:["The different types of upkeep resources"],type:{kind:"enum",variants:[{name:"Ammo"},{name:"Food"},{name:"Toolkit"}]}},{name:"Vaults",docs:["Token vaults"],type:{kind:"struct",fields:[{name:"atlas",docs:["ATLAS token mint"],type:"publicKey"},{name:"polis",docs:["POLIS token mint"],type:"publicKey"}]}},{name:"WarpLaneInput",docs:["Struct for data input to initialize a `WarpLane`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSectorIndex",docs:["Index of the to_sector in `SectorConnections` of the from_sector"],type:"u16"},{name:"fromSectorIndex",docs:["Index of the from_sector in `SectorConnections` of the to_sector"],type:"u16"}]}},{name:"WarpToCoordinateInput",docs:["Struct for data input to initialize a `WarpToCoordinate`"],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the player profile"],type:"u16"},{name:"toSector",docs:["The destination coordinates"],type:{array:["i64",2]}}]}},{name:"WithdrawCargoFromFleetInput",docs:["Struct for data input to `WithdrawCargoFromFleet`"],type:{kind:"struct",fields:[{name:"amount",docs:["cargo amount"],type:"u64"},{name:"keyIndex",docs:["the index of the key in the player profile"],type:"u16"}]}},{name:"WrappedShipEscrow",docs:["Wrapped `Ship` escrow info"],type:{kind:"struct",fields:[{name:"ship",docs:["The `Ship` account address"],type:"publicKey"},{name:"amount",docs:["The `Ship` token amount in escrow"],type:"u64"},{name:"updateId",docs:["The update id for the `Ship`"],type:"u64"}]}}],errors:[{code:6e3,name:"IncorrectAdminAddress",msg:"Incorrect admin address."},{code:6001,name:"MissingRemainingAccount",msg:"An expected remaining account is missing."},{code:6002,name:"NoStargateConnectionsAvailable",msg:"No Stargate connections available."},{code:6003,name:"StargatesNotConnected",msg:"The provided Stargates are not connected."},{code:6004,name:"InvalidPlanetType",msg:"Invalid Planet Type."},{code:6005,name:"InvalidRingType",msg:"Invalid Ring Type."},{code:6006,name:"InvalidStarType",msg:"Invalid Star Type."},{code:6007,name:"InvalidOrInactiveGame",msg:"Invalid Or Inactive Game"},{code:6008,name:"InvalidShipSizeClass",msg:"Invalid Ship Size Class."},{code:6009,name:"IncorrectAccountSize",msg:"Incorrect Account Size."},{code:6010,name:"UpdateIdMismatch",msg:"The update_id is mismatched."},{code:6011,name:"AlreadyActive",msg:"The account is already active."},{code:6012,name:"InactiveAccount",msg:"The account is inactive."},{code:6013,name:"InvalidGame",msg:"The game account is invalid."},{code:6014,name:"InvalidGameState",msg:"The game state account is invalid."},{code:6015,name:"InvalidSector",msg:"The sector account is invalid."},{code:6016,name:"FleetCrewNotNormalized",msg:"Fleet Crew Not Normalized"},{code:6017,name:"InsufficientFuel",msg:"Insufficient Fuel to complete movement"},{code:6018,name:"DistanceGreaterThanMax",msg:"Distance of movement is greater than the allowed maximum"},{code:6019,name:"NumericOverflow",msg:"Numeric overflow"},{code:6020,name:"InvalidLocationType",msg:"Invalid Location Type."},{code:6021,name:"LocationTypeNotSupported",msg:"The provided location type is not supported."},{code:6022,name:"IncorrectMineItem",msg:"Incorrect mine item address."},{code:6023,name:"IncorrectAuthorityAddress",msg:"Incorrect authority address."},{code:6024,name:"IncorrectResourceAddress",msg:"Incorrect resource address."},{code:6025,name:"IncorrectMintAuthority",msg:"Incorrect mint authority."},{code:6026,name:"MintAuthorityIsNone",msg:"The mint authority should exist."},{code:6027,name:"InvalidCurrentFleetState",msg:"The current fleet state is not valid."},{code:6028,name:"InvalidCurrentStarbaseState",msg:"The current starbase state is not valid."},{code:6029,name:"AuthorityMismatch",msg:"Authority mismatch"},{code:6030,name:"MintMismatch",msg:"Mint mismatch"},{code:6031,name:"TokenMismatch",msg:"Incorrect token address."},{code:6032,name:"OwnerMismatch",msg:"Owner mismatch"},{code:6033,name:"GameMismatch",msg:"Game ID mismatch"},{code:6034,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6035,name:"SagePlayerProfileMismatch",msg:"SagePlayerProfile mismatch"},{code:6036,name:"StarbaseMismatch",msg:"Starbase mismatch"},{code:6037,name:"FactionMismatch",msg:"Faction mismatch"},{code:6038,name:"SeqIdMismatch",msg:"Sequence id mismatch"},{code:6039,name:"ShipMismatch",msg:"Ship mismatch"},{code:6040,name:"CargoPodMismatch",msg:"Cargo Pod mismatch"},{code:6041,name:"PlanetMismatch",msg:"Planet mismatch"},{code:6042,name:"MineItemMismatch",msg:"MineItem mismatch"},{code:6043,name:"LocationMismatch",msg:"Location mismatch"},{code:6044,name:"InvalidEscrowKey",msg:"Escrow key not found in remaining data"},{code:6045,name:"InvalidShipAmount",msg:"Insufficient Ship token amount"},{code:6046,name:"InvalidShipHangarSpaceAmount",msg:"Insufficient Ship hangar space amount"},{code:6047,name:"InvalidCrewAmount",msg:"Invalid crew amount"},{code:6048,name:"InvalidState",msg:"Invalid state"},{code:6049,name:"InvalidDistance",msg:"Invalid distance"},{code:6050,name:"NotAtCentralSpaceStation",msg:"Not at central space station"},{code:6051,name:"ShipNotExpected",msg:"The instruction does not expect a ship account"},{code:6052,name:"AddressMismatch",msg:"Address mismatch"},{code:6053,name:"InvalidSectorConnection",msg:"Invalid sector connection"},{code:6054,name:"InvalidStarbaseLevel",msg:"Invalid Starbase level"},{code:6055,name:"InvalidStarbaseUpgradeRecipeCategory",msg:"Invalid Starbase upgrade recipe category"},{code:6056,name:"HangarUpgradeNotPossible",msg:"Hangar upgrade not Possible"},{code:6057,name:"DisbandedFleetNotEmpty",msg:"Disbanded fleet not empty"},{code:6058,name:"FaultyMovement",msg:"Faulty movement"},{code:6059,name:"IncorrectHandleRawAccount",msg:"Incorrect Account Type for Handle Raw"},{code:6060,name:"InsufficientShipCargoCapacity",msg:"Insufficient Ship Cargo Capacity"},{code:6061,name:"FleetDoesNotNeedUpdate",msg:"Fleet does not need update"},{code:6062,name:"MustDisbandFleet",msg:"Must disband fleet"},{code:6063,name:"CannotForceDisbandFleet",msg:"Cannot force-disband fleet"},{code:6064,name:"ShipMismatchOrAlreadyUpdated",msg:"Ship mismatch or already updated"},{code:6065,name:"ShipAlreadyUpdated",msg:"Ship already updated"},{code:6066,name:"InvalidNextShipAddress",msg:"Invalid next ship address"},{code:6067,name:"InvalidShipForForcedDisband",msg:"Ship is not valid for forced disband of fleet"},{code:6068,name:"InvalidWarpRange",msg:"Warp range exceeded"},{code:6069,name:"InvalidIngredient",msg:"Invalid Ingredient"},{code:6070,name:"StarbaseUpgradeNotInProgress",msg:"Starbase Upgrade Not in progress"},{code:6071,name:"MissingRentedCrew",msg:"Missing Rented Crew"},{code:6072,name:"NoPassengersAllowed",msg:"No Passengers Allowed"},{code:6073,name:"PlanetNotReachable",msg:"Planet Not Reachable"},{code:6074,name:"RespawnNotPossible",msg:"Respawn Not Possible"},{code:6075,name:"InvalidMovement",msg:"Cannot enter enemy faction's Security Zone"},{code:6076,name:"CargoAmountAboveZero",msg:"The Cargo Pod contains a non-zero amount of the Cargo Type"},{code:6077,name:"InvalidCargoPod",msg:"The Cargo Pod is invalid"},{code:6078,name:"InvalidZoneCoordinates",msg:"Invalid Zone Coordinates"},{code:6079,name:"RespawnTimeNotElapsed",msg:"Respawn time not elapsed"},{code:6080,name:"ActiveAccount",msg:"The Account is Active"},{code:6081,name:"StarbasePlayerMismatch",msg:"Starbase Player mismatch"},{code:6082,name:"AlreadyProcessed",msg:"The account has already been processed"},{code:6083,name:"InvalidAmount",msg:"The amount is invalid"},{code:6084,name:"WarpIsOnCooldown",msg:"Warp is on cooldown"},{code:6085,name:"ProgramMismatch",msg:"Program Mismatch"},{code:6086,name:"MustBeOnlyInstruction",msg:"Current Instruction Is Not Only Instruction"},{code:6087,name:"InvalidTime",msg:"Invalid Time"},{code:6088,name:"ScanIsOnCooldown",msg:"Scanning is on cooldown"},{code:6089,name:"InvalidFleetSize",msg:"Invalid Fleet Size"},{code:6090,name:"InactiveFeature",msg:"The feature is inactive"},{code:6091,name:"ZeroShipsAdded",msg:"Zero ships added to fleet"},{code:6092,name:"InvalidNoiseSeed",msg:"Invalid Noise Seed"},{code:6093,name:"InvalidType",msg:"Invalid type"},{code:6094,name:"RentedFleet",msg:"Rented Fleet"},{code:6095,name:"NoCrewItems",msg:"No Crew Items"},{code:6096,name:"GenericInvalid",msg:"Generic invalid data"}]};var Zp={},rl={},Umt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Vmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},qmt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Uq;Object.defineProperty(rl,"__esModule",{value:!0});rl.SageCrewConfig=rl.sageCrewConfigDataEquals=rl.CREW_FEATURE=void 0;const Vq=qs,UEe=tr;rl.CREW_FEATURE=!0;function jmt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.config.equals(e.config)&&n.bump===e.bump}rl.sageCrewConfigDataEquals=jmt;let dB=Uq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t){return Vq.PublicKey.findProgramAddressSync([Xe.Buffer.from("SageCrewConfig"),t.toBuffer()],e.programId)}static registerSageCrewConfig(e){const{program:t,key:r,profile:s,crewProgramConfig:i,gameId:o,input:a}=e;return c=>qmt(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerSageCrewConfig(a).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:s,gameId:o},funder:c.publicKey(),sageCrewConfig:this.findAddress(t,o)[0],config:i,systemProgram:Vq.SystemProgram.programId}).instruction(),signers:[r,c]}]})}static decodeData(e,t){return(0,UEe.decodeAccount)(e,t,Uq)}};rl.SageCrewConfig=dB;dB.ACCOUNT_NAME="sageCrewConfig";dB.MIN_DATA_SIZE=8+1+32+32+1;rl.SageCrewConfig=dB=Uq=Umt([(0,UEe.staticImplements)(),Vmt("design:paramtypes",[Object,Vq.PublicKey])],dB);var Hmt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},Gmt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Ymt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},qq;Object.defineProperty(Zp,"__esModule",{value:!0});Zp.PlayerCrewRecord=Zp.playerCrewRecordDataEquals=void 0;const VEe=qs,qEe=tr,Zmt=rl;function Jmt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.playerProfile.equals(e.playerProfile)&&n.crewConfig.equals(e.crewConfig)&&n.count===e.count&&n.bump===e.bump}Zp.playerCrewRecordDataEquals=Jmt;let fB=qq=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return VEe.PublicKey.findProgramAddressSync([Xe.Buffer.from("PlayerCrewRecord"),t.toBuffer(),r.toBuffer()],e.programId)}static closePlayerCrewRecord(e){const{profile:t,profileFaction:r,key:s,fundsTo:i,program:o,starbase:a,starbasePlayer:c,gameId:u,input:l}=e;return d=>Ymt(this,void 0,void 0,function*(){return[{instruction:yield o.methods.closePlayerCrewRecord(l).accountsStrict({fundsTo:i==="funder"?d.publicKey():i,gameAndProfileAndFaction:{key:s.publicKey(),profile:t,profileFaction:r,gameId:u},starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:c},crewRecord:this.findAddress(o,t,u)[0],crewConfig:Zmt.SageCrewConfig.findAddress(o,u)[0]}).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,qEe.decodeAccount)(e,t,qq)}};Zp.PlayerCrewRecord=fB;fB.ACCOUNT_NAME="playerCrewRecord";fB.MIN_DATA_SIZE=8+1+32+32+32+4+1;Zp.PlayerCrewRecord=fB=qq=Hmt([(0,qEe.staticImplements)(),Gmt("design:paramtypes",[Object,VEe.PublicKey])],fB);var Cl={},JJ={},v6={},lm={},uc={},pu={},ph={},Ez={};Object.defineProperty(Ez,"__esModule",{value:!0});Ez.getChangeLogSerializer=void 0;const Ck=q,Xmt=n=>(0,Ck.struct)([["root",(0,Ck.publicKey)()],["pathNodes",(0,Ck.array)((0,Ck.publicKey)(),{size:n})],["index",(0,Ck.fixSerializer)((0,Ck.u32)(),8)]]);Ez.getChangeLogSerializer=Xmt;var OS={},xz={};Object.defineProperty(xz,"__esModule",{value:!0});xz.getPathSerializer=void 0;const Yb=q;function Qmt(n){return(0,Yb.mapSerializer)((0,Yb.struct)([["proof",(0,Yb.array)((0,Yb.publicKey)(),{size:n})],["leaf",(0,Yb.publicKey)()],["index",(0,Yb.u32)()],["padding",(0,Yb.u32)()]],{description:"Path"}),e=>({...e,padding:0}),e=>{const{padding:t,...r}=e;return r})}xz.getPathSerializer=Qmt;Object.defineProperty(OS,"__esModule",{value:!0});OS.getCurrentRoot=OS.getConcurrentMerkleTreeSerializer=void 0;const eyt=Z,DR=q,tyt=Ez,ryt=xz,nyt=(n,e)=>(0,DR.struct)([["sequenceNumber",(0,DR.u64)()],["activeIndex",(0,DR.u64)()],["bufferSize",(0,DR.u64)()],["changeLogs",(0,DR.array)((0,tyt.getChangeLogSerializer)(n),{size:e})],["rightMostPath",(0,ryt.getPathSerializer)(n)]]);OS.getConcurrentMerkleTreeSerializer=nyt;const syt=n=>(0,eyt.publicKeyBytes)(n.changeLogs[Number(n.activeIndex)].root);OS.getCurrentRoot=syt;var jEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMerkleTreeSize=n.getMerkleTreeAccountDataV1Serializer=n.getMerkleTreeAccountDataSerializer=void 0;const e=q,t=lm,r=OS,s=()=>{const a=(0,t.getConcurrentMerkleTreeHeaderSerializer)();return{description:"MerkleTreeAccountData",fixedSize:null,maxSize:null,serialize:c=>{switch(c.treeHeader.__kind){case"V1":return(0,n.getMerkleTreeAccountDataV1Serializer)(c.treeHeader.maxDepth,c.treeHeader.maxBufferSize).serialize(c);default:throw new Error(`Unknown MerkleTreeAccountData version: ${c.treeHeader.__kind}`)}},deserialize:(c,u=0)=>{const{header:l}=a.deserialize(c,u)[0];switch(l.__kind){case"V1":return(0,n.getMerkleTreeAccountDataV1Serializer)(l.maxDepth,l.maxBufferSize).deserialize(c,u);default:throw new Error(`Unknown MerkleTreeAccountData version: ${l.__kind}`)}}}};n.getMerkleTreeAccountDataSerializer=s;const i=(a,c)=>(0,e.mapSerializer)((0,e.struct)([["discriminator",(0,e.u8)()],["treeHeader",(0,t.getConcurrentMerkleTreeHeaderDataSerializer)()],["tree",(0,r.getConcurrentMerkleTreeSerializer)(a,c)],["canopy",(0,e.array)((0,e.publicKey)(),{size:"remainder"})]]),u=>({...u,discriminator:t.CompressionAccountType.ConcurrentMerkleTree}));n.getMerkleTreeAccountDataV1Serializer=i;const o=(a,c,u=0)=>{const d=(0,t.getConcurrentMerkleTreeHeaderDataSerializer)().fixedSize,y=(0,r.getConcurrentMerkleTreeSerializer)(a,c).fixedSize,h=32*Math.max((1<<u+1)-2,0);return 1+d+y+h};n.getMerkleTreeSize=o})(jEe);var A6={};Object.defineProperty(A6,"__esModule",{value:!0});A6.findMintAuthorityPda=void 0;const iyt=q,oyt=lm;function ayt(n,e){const t=n.programs.getPublicKey("mplBubblegum",oyt.MPL_BUBBLEGUM_PROGRAM_ID);return n.eddsa.findPda(t,[(0,iyt.publicKey)().serialize(e.mint)])}A6.findMintAuthorityPda=ayt;var gw={},Yu={},HEe=Td(GDe),Qg={};Object.defineProperty(Qg,"__esModule",{value:!0});Qg.parseLeafFromMintToCollectionV1Transaction=Qg.parseLeafFromMintV1Transaction=Qg.findLeafAssetIdPda=void 0;const $N=q,XJ=lm;function cyt(n,e){const t=n.programs.getPublicKey("mplBubblegum",XJ.MPL_BUBBLEGUM_PROGRAM_ID);return n.eddsa.findPda(t,[(0,$N.string)({size:"variable"}).serialize("asset"),(0,$N.publicKey)().serialize(e.merkleTree),(0,$N.u64)().serialize(e.leafIndex)])}Qg.findLeafAssetIdPda=cyt;async function uyt(n,e){const t=await n.rpc.getTransaction(e),r=t==null?void 0:t.meta.innerInstructions;if(r)return(0,XJ.getLeafSchemaSerializer)().deserialize(r[0].instructions[0].data.slice(8))[0];throw new Error("Could not parse leaf from transaction")}Qg.parseLeafFromMintV1Transaction=uyt;async function lyt(n,e){const t=await n.rpc.getTransaction(e),r=t==null?void 0:t.meta.innerInstructions;if(r)return(0,XJ.getLeafSchemaSerializer)().deserialize(r[0].instructions[0].data.slice(8))[0];throw new Error("Could not parse leaf from transaction")}Qg.parseLeafFromMintToCollectionV1Transaction=lyt;Object.defineProperty(Yu,"__esModule",{value:!0});Yu.hashMetadataCreators=Yu.hashMetadataData=Yu.hashMetadata=Yu.hashLeaf=Yu.hash=void 0;const Wg=q,dyt=HEe,GEe=lm,fyt=Qg;function hB(n){return(0,dyt.keccak_256)(Array.isArray(n)?(0,Wg.mergeBytes)(n):n)}Yu.hash=hB;function hyt(n,e){const t=e.delegate??e.owner,r=e.nftVersion??1,[s]=(0,fyt.findLeafAssetIdPda)(n,{merkleTree:e.merkleTree,leafIndex:e.leafIndex});return hB([(0,Wg.u8)().serialize(r),(0,Wg.publicKey)().serialize(s),(0,Wg.publicKey)().serialize(e.owner),(0,Wg.publicKey)().serialize(t),(0,Wg.u64)().serialize(e.leafIndex),YEe(e.metadata)])}Yu.hashLeaf=hyt;function YEe(n){return(0,Wg.mergeBytes)([ZEe(n),JEe(n.creators)])}Yu.hashMetadata=YEe;function ZEe(n){return hB([hB((0,GEe.getMetadataArgsSerializer)().serialize(n)),(0,Wg.u16)().serialize(n.sellerFeeBasisPoints)])}Yu.hashMetadataData=ZEe;function JEe(n){return hB((0,Wg.array)((0,GEe.getCreatorSerializer)(),{size:"remainder"}).serialize(n))}Yu.hashMetadataCreators=JEe;Object.defineProperty(gw,"__esModule",{value:!0});gw.resolveCreatorHash=gw.resolveDataHash=void 0;const XEe=Yu,gyt=(n,e,t,r,s)=>(0,XEe.hashMetadataData)(t.metadata);gw.resolveDataHash=gyt;const myt=(n,e,t,r,s)=>(0,XEe.hashMetadataCreators)(t.metadata.creators);gw.resolveCreatorHash=myt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Ez,n),t(OS,n),t(jEe,n),t(A6,n),t(xz,n),t(gw,n)})(ph);var oa={},QEe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getBubblegumEventTypeSerializer=n.BubblegumEventType=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.LeafSchemaEvent=1]="LeafSchemaEvent"})(t=n.BubblegumEventType||(n.BubblegumEventType={}));function r(){return(0,e.scalarEnum)(t,{description:"BubblegumEventType"})}n.getBubblegumEventTypeSerializer=r})(QEe);var w6={};Object.defineProperty(w6,"__esModule",{value:!0});w6.getCollectionSerializer=void 0;const DN=q;function yyt(){return(0,DN.struct)([["verified",(0,DN.bool)()],["key",(0,DN.publicKey)()]],{description:"Collection"})}w6.getCollectionSerializer=yyt;var exe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCompressionAccountTypeSerializer=n.CompressionAccountType=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.ConcurrentMerkleTree=1]="ConcurrentMerkleTree"})(t=n.CompressionAccountType||(n.CompressionAccountType={}));function r(){return(0,e.scalarEnum)(t,{description:"CompressionAccountType"})}n.getCompressionAccountTypeSerializer=r})(exe);var I6={};Object.defineProperty(I6,"__esModule",{value:!0});I6.getConcurrentMerkleTreeHeaderSerializer=void 0;const pyt=q,mme=oa;function byt(){return(0,pyt.struct)([["accountType",(0,mme.getCompressionAccountTypeSerializer)()],["header",(0,mme.getConcurrentMerkleTreeHeaderDataSerializer)()]],{description:"ConcurrentMerkleTreeHeader"})}I6.getConcurrentMerkleTreeHeaderSerializer=byt;var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});Jy.isConcurrentMerkleTreeHeaderData=Jy.concurrentMerkleTreeHeaderData=Jy.getConcurrentMerkleTreeHeaderDataSerializer=void 0;const ty=q;function Syt(){return(0,ty.dataEnum)([["V1",(0,ty.struct)([["maxBufferSize",(0,ty.u32)()],["maxDepth",(0,ty.u32)()],["authority",(0,ty.publicKey)()],["creationSlot",(0,ty.u64)()],["padding",(0,ty.array)((0,ty.u8)(),{size:6})]])]],{description:"ConcurrentMerkleTreeHeaderData"})}Jy.getConcurrentMerkleTreeHeaderDataSerializer=Syt;function kyt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Jy.concurrentMerkleTreeHeaderData=kyt;function vyt(n,e){return e.__kind===n}Jy.isConcurrentMerkleTreeHeaderData=vyt;var P6={};Object.defineProperty(P6,"__esModule",{value:!0});P6.getCreatorSerializer=void 0;const $$=q;function Ayt(){return(0,$$.struct)([["address",(0,$$.publicKey)()],["verified",(0,$$.bool)()],["share",(0,$$.u8)()]],{description:"Creator"})}P6.getCreatorSerializer=Ayt;var txe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDecompressibleStateSerializer=n.DecompressibleState=void 0;const e=q;var t;(function(s){s[s.Enabled=0]="Enabled",s[s.Disabled=1]="Disabled"})(t=n.DecompressibleState||(n.DecompressibleState={}));function r(){return(0,e.scalarEnum)(t,{description:"DecompressibleState"})}n.getDecompressibleStateSerializer=r})(txe);var Xy={};Object.defineProperty(Xy,"__esModule",{value:!0});Xy.isLeafSchema=Xy.leafSchema=Xy.getLeafSchemaSerializer=void 0;const ry=q;function wyt(){return(0,ry.dataEnum)([["V1",(0,ry.struct)([["id",(0,ry.publicKey)()],["owner",(0,ry.publicKey)()],["delegate",(0,ry.publicKey)()],["nonce",(0,ry.u64)()],["dataHash",(0,ry.bytes)({size:32})],["creatorHash",(0,ry.bytes)({size:32})]])]],{description:"LeafSchema"})}Xy.getLeafSchemaSerializer=wyt;function Iyt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Xy.leafSchema=Iyt;function Pyt(n,e){return e.__kind===n}Xy.isLeafSchema=Pyt;var _6={};Object.defineProperty(_6,"__esModule",{value:!0});_6.getMetadataArgsSerializer=void 0;const ON=Z,Hc=q,Zb=oa;function _yt(){return(0,Hc.mapSerializer)((0,Hc.struct)([["name",(0,Hc.string)()],["symbol",(0,Hc.string)()],["uri",(0,Hc.string)()],["sellerFeeBasisPoints",(0,Hc.u16)()],["primarySaleHappened",(0,Hc.bool)()],["isMutable",(0,Hc.bool)()],["editionNonce",(0,Hc.option)((0,Hc.u8)())],["tokenStandard",(0,Hc.option)((0,Zb.getTokenStandardSerializer)())],["collection",(0,Hc.option)((0,Zb.getCollectionSerializer)())],["uses",(0,Hc.option)((0,Zb.getUsesSerializer)())],["tokenProgramVersion",(0,Zb.getTokenProgramVersionSerializer)()],["creators",(0,Hc.array)((0,Zb.getCreatorSerializer)())]],{description:"MetadataArgs"}),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,editionNonce:n.editionNonce??(0,ON.none)(),tokenStandard:n.tokenStandard??(0,ON.some)(Zb.TokenStandard.NonFungible),uses:n.uses??(0,ON.none)(),tokenProgramVersion:n.tokenProgramVersion??Zb.TokenProgramVersion.Original}))}_6.getMetadataArgsSerializer=_yt;var rxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenProgramVersionSerializer=n.TokenProgramVersion=void 0;const e=q;var t;(function(s){s[s.Original=0]="Original",s[s.Token2022=1]="Token2022"})(t=n.TokenProgramVersion||(n.TokenProgramVersion={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenProgramVersion"})}n.getTokenProgramVersionSerializer=r})(rxe);var nxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=q;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(nxe);var E6={};Object.defineProperty(E6,"__esModule",{value:!0});E6.getUpdateArgsSerializer=void 0;const Jb=Z,dc=q,Eyt=oa;function xyt(){return(0,dc.mapSerializer)((0,dc.struct)([["name",(0,dc.option)((0,dc.string)())],["symbol",(0,dc.option)((0,dc.string)())],["uri",(0,dc.option)((0,dc.string)())],["creators",(0,dc.option)((0,dc.array)((0,Eyt.getCreatorSerializer)()))],["sellerFeeBasisPoints",(0,dc.option)((0,dc.u16)())],["primarySaleHappened",(0,dc.option)((0,dc.bool)())],["isMutable",(0,dc.option)((0,dc.bool)())]],{description:"UpdateArgs"}),n=>({...n,name:n.name??(0,Jb.none)(),symbol:n.symbol??(0,Jb.none)(),uri:n.uri??(0,Jb.none)(),creators:n.creators??(0,Jb.none)(),sellerFeeBasisPoints:n.sellerFeeBasisPoints??(0,Jb.none)(),primarySaleHappened:n.primarySaleHappened??(0,Jb.none)(),isMutable:n.isMutable??(0,Jb.none)()}))}E6.getUpdateArgsSerializer=xyt;var sxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=q;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(sxe);var x6={};Object.defineProperty(x6,"__esModule",{value:!0});x6.getUsesSerializer=void 0;const KN=q,Tyt=oa;function Ryt(){return(0,KN.struct)([["useMethod",(0,Tyt.getUseMethodSerializer)()],["remaining",(0,KN.u64)()],["total",(0,KN.u64)()]],{description:"Uses"})}x6.getUsesSerializer=Ryt;var ixe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionSerializer=n.Version=void 0;const e=q;var t;(function(s){s[s.V1=0]="V1"})(t=n.Version||(n.Version={}));function r(){return(0,e.scalarEnum)(t,{description:"Version"})}n.getVersionSerializer=r})(ixe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(QEe,n),t(w6,n),t(exe,n),t(I6,n),t(Jy,n),t(P6,n),t(txe,n),t(Xy,n),t(_6,n),t(rxe,n),t(nxe,n),t(E6,n),t(sxe,n),t(x6,n),t(ixe,n)})(oa);Object.defineProperty(pu,"__esModule",{value:!0});pu.getMerkleTreeGpaBuilder=pu.safeFetchAllMerkleTree=pu.fetchAllMerkleTree=pu.safeFetchMerkleTree=pu.fetchMerkleTree=pu.deserializeMerkleTree=void 0;const Jp=Z,Cyt=q,Myt=ph,yme=oa;function wT(n){return(0,Jp.deserializeAccount)(n,(0,Myt.getMerkleTreeAccountDataSerializer)())}pu.deserializeMerkleTree=wT;async function Byt(n,e,t){const r=await n.rpc.getAccount((0,Jp.publicKey)(e,!1),t);return(0,Jp.assertAccountExists)(r,"MerkleTree"),wT(r)}pu.fetchMerkleTree=Byt;async function zyt(n,e,t){const r=await n.rpc.getAccount((0,Jp.publicKey)(e,!1),t);return r.exists?wT(r):null}pu.safeFetchMerkleTree=zyt;async function $yt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Jp.publicKey)(s,!1)),t)).map(s=>((0,Jp.assertAccountExists)(s,"MerkleTree"),wT(s)))}pu.fetchAllMerkleTree=$yt;async function Dyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Jp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>wT(s))}pu.safeFetchAllMerkleTree=Dyt;function Oyt(n){const e=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK");return(0,Jp.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,yme.getCompressionAccountTypeSerializer)()],treeHeader:[1,(0,yme.getConcurrentMerkleTreeHeaderDataSerializer)()],serializedTree:[56,(0,Cyt.bytes)()]}).deserializeUsing(t=>wT(t))}pu.getMerkleTreeGpaBuilder=Oyt;var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.safeFetchTreeConfigFromSeeds=Xs.fetchTreeConfigFromSeeds=Xs.findTreeConfigPda=Xs.getTreeConfigSize=Xs.getTreeConfigGpaBuilder=Xs.safeFetchAllTreeConfig=Xs.fetchAllTreeConfig=Xs.safeFetchTreeConfig=Xs.fetchTreeConfig=Xs.deserializeTreeConfig=Xs.getTreeConfigAccountDataSerializer=void 0;const Xp=Z,ic=q,oxe=oa;function axe(){return(0,ic.mapSerializer)((0,ic.struct)([["discriminator",(0,ic.array)((0,ic.u8)(),{size:8})],["treeCreator",(0,ic.publicKey)()],["treeDelegate",(0,ic.publicKey)()],["totalMintCapacity",(0,ic.u64)()],["numMinted",(0,ic.u64)()],["isPublic",(0,ic.bool)()],["isDecompressible",(0,oxe.getDecompressibleStateSerializer)()]],{description:"TreeConfigAccountData"}),n=>({...n,discriminator:[122,245,175,248,171,34,0,207]}))}Xs.getTreeConfigAccountDataSerializer=axe;function IT(n){return(0,Xp.deserializeAccount)(n,axe())}Xs.deserializeTreeConfig=IT;async function cxe(n,e,t){const r=await n.rpc.getAccount((0,Xp.publicKey)(e,!1),t);return(0,Xp.assertAccountExists)(r,"TreeConfig"),IT(r)}Xs.fetchTreeConfig=cxe;async function uxe(n,e,t){const r=await n.rpc.getAccount((0,Xp.publicKey)(e,!1),t);return r.exists?IT(r):null}Xs.safeFetchTreeConfig=uxe;async function Kyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Xp.publicKey)(s,!1)),t)).map(s=>((0,Xp.assertAccountExists)(s,"TreeConfig"),IT(s)))}Xs.fetchAllTreeConfig=Kyt;async function Lyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Xp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>IT(s))}Xs.safeFetchAllTreeConfig=Lyt;function Wyt(n){const e=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return(0,Xp.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,ic.array)((0,ic.u8)(),{size:8})],treeCreator:[8,(0,ic.publicKey)()],treeDelegate:[40,(0,ic.publicKey)()],totalMintCapacity:[72,(0,ic.u64)()],numMinted:[80,(0,ic.u64)()],isPublic:[88,(0,ic.bool)()],isDecompressible:[89,(0,oxe.getDecompressibleStateSerializer)()]}).deserializeUsing(t=>IT(t)).whereField("discriminator",[122,245,175,248,171,34,0,207])}Xs.getTreeConfigGpaBuilder=Wyt;function Nyt(){return 96}Xs.getTreeConfigSize=Nyt;function QJ(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return n.eddsa.findPda(t,[(0,ic.publicKey)().serialize(e.merkleTree)])}Xs.findTreeConfigPda=QJ;async function Fyt(n,e,t){return cxe(n,QJ(n,e),t)}Xs.fetchTreeConfigFromSeeds=Fyt;async function Uyt(n,e,t){return uxe(n,QJ(n,e),t)}Xs.safeFetchTreeConfigFromSeeds=Uyt;var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.safeFetchVoucherFromSeeds=Qs.fetchVoucherFromSeeds=Qs.findVoucherPda=Qs.getVoucherSize=Qs.getVoucherGpaBuilder=Qs.safeFetchAllVoucher=Qs.fetchAllVoucher=Qs.safeFetchVoucher=Qs.fetchVoucher=Qs.deserializeVoucher=Qs.getVoucherAccountDataSerializer=void 0;const Qp=Z,ju=q,lxe=oa;function dxe(){return(0,ju.mapSerializer)((0,ju.struct)([["discriminator",(0,ju.array)((0,ju.u8)(),{size:8})],["leafSchema",(0,lxe.getLeafSchemaSerializer)()],["index",(0,ju.u32)()],["merkleTree",(0,ju.publicKey)()]],{description:"VoucherAccountData"}),n=>({...n,discriminator:[191,204,149,234,213,165,13,65]}))}Qs.getVoucherAccountDataSerializer=dxe;function PT(n){return(0,Qp.deserializeAccount)(n,dxe())}Qs.deserializeVoucher=PT;async function fxe(n,e,t){const r=await n.rpc.getAccount((0,Qp.publicKey)(e,!1),t);return(0,Qp.assertAccountExists)(r,"Voucher"),PT(r)}Qs.fetchVoucher=fxe;async function hxe(n,e,t){const r=await n.rpc.getAccount((0,Qp.publicKey)(e,!1),t);return r.exists?PT(r):null}Qs.safeFetchVoucher=hxe;async function Vyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Qp.publicKey)(s,!1)),t)).map(s=>((0,Qp.assertAccountExists)(s,"Voucher"),PT(s)))}Qs.fetchAllVoucher=Vyt;async function qyt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Qp.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>PT(s))}Qs.safeFetchAllVoucher=qyt;function jyt(n){const e=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return(0,Qp.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,ju.array)((0,ju.u8)(),{size:8})],leafSchema:[8,(0,lxe.getLeafSchemaSerializer)()],index:[177,(0,ju.u32)()],merkleTree:[181,(0,ju.publicKey)()]}).deserializeUsing(t=>PT(t)).whereField("discriminator",[191,204,149,234,213,165,13,65])}Qs.getVoucherGpaBuilder=jyt;function Hyt(){return 213}Qs.getVoucherSize=Hyt;function eX(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY");return n.eddsa.findPda(t,[(0,ju.string)({size:"variable"}).serialize("voucher"),(0,ju.publicKey)().serialize(e.merkleTree),(0,ju.u64)().serialize(e.nonce)])}Qs.findVoucherPda=eX;async function Gyt(n,e,t){return fxe(n,eX(n,e),t)}Qs.fetchVoucherFromSeeds=Gyt;async function Yyt(n,e,t){return hxe(n,eX(n,e),t)}Qs.safeFetchVoucherFromSeeds=Yyt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(pu,n),t(Xs,n),t(Qs,n)})(uc);var Tz={},Fe={};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.getMplBubblegumErrorFromName=Fe.getMplBubblegumErrorFromCode=Fe.InvalidCanopySizeError=Fe.InvalidTokenStandardError=Fe.CreatorDidNotUnverifyError=Fe.PrimarySaleCanOnlyBeFlippedToTrueError=Fe.MetadataImmutableError=Fe.CollectionMismatchError=Fe.MissingCollectionMetadataAccountError=Fe.MissingCollectionMintAccountError=Fe.DecompressionDisabledError=Fe.UnknownExternalErrorError=Fe.CollectionMustBeAUniqueMasterEditionError=Fe.CollectionMasterEditionAccountInvalidError=Fe.InvalidDelegateRecordError=Fe.InvalidCollectionAuthorityError=Fe.MetadataMintMismatchError=Fe.CollectionMustBeSizedError=Fe.LeafAuthorityMustSignError=Fe.UpdateAuthorityIncorrectError=Fe.AlreadyUnverifiedError=Fe.AlreadyVerifiedError=Fe.CollectionNotFoundError=Fe.CollectionCannotBeVerifiedInThisInstructionError=Fe.IncorrectOwnerError=Fe.NumericalOverflowErrorError=Fe.InsufficientMintCapacityError=Fe.TreeAuthorityIncorrectError=Fe.MetadataBasisPointsTooHighError=Fe.MetadataUriTooLongError=Fe.MetadataSymbolTooLongError=Fe.MetadataNameTooLongError=Fe.CreatorsTooLongError=Fe.DataHashMismatchError=Fe.CreatorHashMismatchError=Fe.NoCreatorsPresentError=Fe.CreatorNotFoundError=Fe.CreatorDidNotVerifyError=Fe.DuplicateCreatorAddressError=Fe.CreatorShareTotalMustBe100Error=Fe.UnsupportedSchemaVersionError=Fe.HashingMismatchError=Fe.PublicKeyMismatchError=Fe.AssetOwnerMismatchError=void 0;const Tr=Z,_r=new Map,Er=new Map;class tX extends Tr.ProgramError{constructor(e,t){super("Asset Owner Does not match",e,t),this.name="AssetOwnerMismatch",this.code=6e3}}Fe.AssetOwnerMismatchError=tX;_r.set(6e3,tX);Er.set("AssetOwnerMismatch",tX);class rX extends Tr.ProgramError{constructor(e,t){super("PublicKeyMismatch",e,t),this.name="PublicKeyMismatch",this.code=6001}}Fe.PublicKeyMismatchError=rX;_r.set(6001,rX);Er.set("PublicKeyMismatch",rX);class nX extends Tr.ProgramError{constructor(e,t){super("Hashing Mismatch Within Leaf Schema",e,t),this.name="HashingMismatch",this.code=6002}}Fe.HashingMismatchError=nX;_r.set(6002,nX);Er.set("HashingMismatch",nX);class sX extends Tr.ProgramError{constructor(e,t){super("Unsupported Schema Version",e,t),this.name="UnsupportedSchemaVersion",this.code=6003}}Fe.UnsupportedSchemaVersionError=sX;_r.set(6003,sX);Er.set("UnsupportedSchemaVersion",sX);class iX extends Tr.ProgramError{constructor(e,t){super("Creator shares must sum to 100",e,t),this.name="CreatorShareTotalMustBe100",this.code=6004}}Fe.CreatorShareTotalMustBe100Error=iX;_r.set(6004,iX);Er.set("CreatorShareTotalMustBe100",iX);class oX extends Tr.ProgramError{constructor(e,t){super("No duplicate creator addresses in metadata",e,t),this.name="DuplicateCreatorAddress",this.code=6005}}Fe.DuplicateCreatorAddressError=oX;_r.set(6005,oX);Er.set("DuplicateCreatorAddress",oX);class aX extends Tr.ProgramError{constructor(e,t){super("Creator did not verify the metadata",e,t),this.name="CreatorDidNotVerify",this.code=6006}}Fe.CreatorDidNotVerifyError=aX;_r.set(6006,aX);Er.set("CreatorDidNotVerify",aX);class cX extends Tr.ProgramError{constructor(e,t){super("Creator not found in creator Vec",e,t),this.name="CreatorNotFound",this.code=6007}}Fe.CreatorNotFoundError=cX;_r.set(6007,cX);Er.set("CreatorNotFound",cX);class uX extends Tr.ProgramError{constructor(e,t){super("No creators in creator Vec",e,t),this.name="NoCreatorsPresent",this.code=6008}}Fe.NoCreatorsPresentError=uX;_r.set(6008,uX);Er.set("NoCreatorsPresent",uX);class lX extends Tr.ProgramError{constructor(e,t){super("User-provided creator Vec must result in same user-provided creator hash",e,t),this.name="CreatorHashMismatch",this.code=6009}}Fe.CreatorHashMismatchError=lX;_r.set(6009,lX);Er.set("CreatorHashMismatch",lX);class dX extends Tr.ProgramError{constructor(e,t){super("User-provided metadata must result in same user-provided data hash",e,t),this.name="DataHashMismatch",this.code=6010}}Fe.DataHashMismatchError=dX;_r.set(6010,dX);Er.set("DataHashMismatch",dX);class fX extends Tr.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=6011}}Fe.CreatorsTooLongError=fX;_r.set(6011,fX);Er.set("CreatorsTooLong",fX);class hX extends Tr.ProgramError{constructor(e,t){super("Name in metadata is too long",e,t),this.name="MetadataNameTooLong",this.code=6012}}Fe.MetadataNameTooLongError=hX;_r.set(6012,hX);Er.set("MetadataNameTooLong",hX);class gX extends Tr.ProgramError{constructor(e,t){super("Symbol in metadata is too long",e,t),this.name="MetadataSymbolTooLong",this.code=6013}}Fe.MetadataSymbolTooLongError=gX;_r.set(6013,gX);Er.set("MetadataSymbolTooLong",gX);class mX extends Tr.ProgramError{constructor(e,t){super("Uri in metadata is too long",e,t),this.name="MetadataUriTooLong",this.code=6014}}Fe.MetadataUriTooLongError=mX;_r.set(6014,mX);Er.set("MetadataUriTooLong",mX);class yX extends Tr.ProgramError{constructor(e,t){super("Basis points in metadata cannot exceed 10000",e,t),this.name="MetadataBasisPointsTooHigh",this.code=6015}}Fe.MetadataBasisPointsTooHighError=yX;_r.set(6015,yX);Er.set("MetadataBasisPointsTooHigh",yX);class pX extends Tr.ProgramError{constructor(e,t){super("Tree creator or tree delegate must sign.",e,t),this.name="TreeAuthorityIncorrect",this.code=6016}}Fe.TreeAuthorityIncorrectError=pX;_r.set(6016,pX);Er.set("TreeAuthorityIncorrect",pX);class bX extends Tr.ProgramError{constructor(e,t){super("Not enough unapproved mints left",e,t),this.name="InsufficientMintCapacity",this.code=6017}}Fe.InsufficientMintCapacityError=bX;_r.set(6017,bX);Er.set("InsufficientMintCapacity",bX);class SX extends Tr.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=6018}}Fe.NumericalOverflowErrorError=SX;_r.set(6018,SX);Er.set("NumericalOverflowError",SX);class kX extends Tr.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=6019}}Fe.IncorrectOwnerError=kX;_r.set(6019,kX);Er.set("IncorrectOwner",kX);class vX extends Tr.ProgramError{constructor(e,t){super("Cannot Verify Collection in this Instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=6020}}Fe.CollectionCannotBeVerifiedInThisInstructionError=vX;_r.set(6020,vX);Er.set("CollectionCannotBeVerifiedInThisInstruction",vX);class AX extends Tr.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=6021}}Fe.CollectionNotFoundError=AX;_r.set(6021,AX);Er.set("CollectionNotFound",AX);class wX extends Tr.ProgramError{constructor(e,t){super("Collection item is already verified.",e,t),this.name="AlreadyVerified",this.code=6022}}Fe.AlreadyVerifiedError=wX;_r.set(6022,wX);Er.set("AlreadyVerified",wX);class IX extends Tr.ProgramError{constructor(e,t){super("Collection item is already unverified.",e,t),this.name="AlreadyUnverified",this.code=6023}}Fe.AlreadyUnverifiedError=IX;_r.set(6023,IX);Er.set("AlreadyUnverified",IX);class PX extends Tr.ProgramError{constructor(e,t){super("Incorrect leaf metadata update authority.",e,t),this.name="UpdateAuthorityIncorrect",this.code=6024}}Fe.UpdateAuthorityIncorrectError=PX;_r.set(6024,PX);Er.set("UpdateAuthorityIncorrect",PX);class _X extends Tr.ProgramError{constructor(e,t){super("This transaction must be signed by either the leaf owner or leaf delegate",e,t),this.name="LeafAuthorityMustSign",this.code=6025}}Fe.LeafAuthorityMustSignError=_X;_r.set(6025,_X);Er.set("LeafAuthorityMustSign",_X);class EX extends Tr.ProgramError{constructor(e,t){super("Collection Not Compatable with Compression, Must be Sized",e,t),this.name="CollectionMustBeSized",this.code=6026}}Fe.CollectionMustBeSizedError=EX;_r.set(6026,EX);Er.set("CollectionMustBeSized",EX);class xX extends Tr.ProgramError{constructor(e,t){super("Metadata mint does not match collection mint",e,t),this.name="MetadataMintMismatch",this.code=6027}}Fe.MetadataMintMismatchError=xX;_r.set(6027,xX);Er.set("MetadataMintMismatch",xX);class TX extends Tr.ProgramError{constructor(e,t){super("Invalid collection authority",e,t),this.name="InvalidCollectionAuthority",this.code=6028}}Fe.InvalidCollectionAuthorityError=TX;_r.set(6028,TX);Er.set("InvalidCollectionAuthority",TX);class RX extends Tr.ProgramError{constructor(e,t){super("Invalid delegate record pda derivation",e,t),this.name="InvalidDelegateRecord",this.code=6029}}Fe.InvalidDelegateRecordError=RX;_r.set(6029,RX);Er.set("InvalidDelegateRecord",RX);class CX extends Tr.ProgramError{constructor(e,t){super("Edition account doesnt match collection",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=6030}}Fe.CollectionMasterEditionAccountInvalidError=CX;_r.set(6030,CX);Er.set("CollectionMasterEditionAccountInvalid",CX);class MX extends Tr.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=6031}}Fe.CollectionMustBeAUniqueMasterEditionError=MX;_r.set(6031,MX);Er.set("CollectionMustBeAUniqueMasterEdition",MX);class BX extends Tr.ProgramError{constructor(e,t){super("Could not convert external error to BubblegumError",e,t),this.name="UnknownExternalError",this.code=6032}}Fe.UnknownExternalErrorError=BX;_r.set(6032,BX);Er.set("UnknownExternalError",BX);class zX extends Tr.ProgramError{constructor(e,t){super("Decompression is disabled for this tree.",e,t),this.name="DecompressionDisabled",this.code=6033}}Fe.DecompressionDisabledError=zX;_r.set(6033,zX);Er.set("DecompressionDisabled",zX);class $X extends Tr.ProgramError{constructor(e,t){super("Missing collection mint account",e,t),this.name="MissingCollectionMintAccount",this.code=6034}}Fe.MissingCollectionMintAccountError=$X;_r.set(6034,$X);Er.set("MissingCollectionMintAccount",$X);class DX extends Tr.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadataAccount",this.code=6035}}Fe.MissingCollectionMetadataAccountError=DX;_r.set(6035,DX);Er.set("MissingCollectionMetadataAccount",DX);class OX extends Tr.ProgramError{constructor(e,t){super("Collection mismatch",e,t),this.name="CollectionMismatch",this.code=6036}}Fe.CollectionMismatchError=OX;_r.set(6036,OX);Er.set("CollectionMismatch",OX);class KX extends Tr.ProgramError{constructor(e,t){super("Metadata not mutable",e,t),this.name="MetadataImmutable",this.code=6037}}Fe.MetadataImmutableError=KX;_r.set(6037,KX);Er.set("MetadataImmutable",KX);class LX extends Tr.ProgramError{constructor(e,t){super("Can only update primary sale to true",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=6038}}Fe.PrimarySaleCanOnlyBeFlippedToTrueError=LX;_r.set(6038,LX);Er.set("PrimarySaleCanOnlyBeFlippedToTrue",LX);class WX extends Tr.ProgramError{constructor(e,t){super("Creator did not unverify the metadata",e,t),this.name="CreatorDidNotUnverify",this.code=6039}}Fe.CreatorDidNotUnverifyError=WX;_r.set(6039,WX);Er.set("CreatorDidNotUnverify",WX);class NX extends Tr.ProgramError{constructor(e,t){super("Only NonFungible standard is supported",e,t),this.name="InvalidTokenStandard",this.code=6040}}Fe.InvalidTokenStandardError=NX;_r.set(6040,NX);Er.set("InvalidTokenStandard",NX);class FX extends Tr.ProgramError{constructor(e,t){super("Canopy size should be set bigger for this tree",e,t),this.name="InvalidCanopySize",this.code=6041}}Fe.InvalidCanopySizeError=FX;_r.set(6041,FX);Er.set("InvalidCanopySize",FX);function Zyt(n,e,t){const r=_r.get(n);return r?new r(e,t):null}Fe.getMplBubblegumErrorFromCode=Zyt;function Jyt(n,e,t){const r=Er.get(n);return r?new r(e,t):null}Fe.getMplBubblegumErrorFromName=Jyt;var ei={};Object.defineProperty(ei,"__esModule",{value:!0});ei.getSplAccountCompressionErrorFromName=ei.getSplAccountCompressionErrorFromCode=ei.LeafIndexOutOfBoundsError=ei.IncorrectAccountTypeError=ei.IncorrectAccountOwnerError=ei.IncorrectAuthorityError=ei.CanopyLengthMismatchError=ei.ConcurrentMerkleTreeConstantsErrorError=ei.ZeroCopyErrorError=ei.ConcurrentMerkleTreeErrorError=ei.IncorrectLeafLengthError=void 0;const dm=Z,bh=new Map,Sh=new Map;class UX extends dm.ProgramError{constructor(e,t){super("Incorrect leaf length. Expected vec of 32 bytes",e,t),this.name="IncorrectLeafLength",this.code=6e3}}ei.IncorrectLeafLengthError=UX;bh.set(6e3,UX);Sh.set("IncorrectLeafLength",UX);class VX extends dm.ProgramError{constructor(e,t){super("Concurrent merkle tree error",e,t),this.name="ConcurrentMerkleTreeError",this.code=6001}}ei.ConcurrentMerkleTreeErrorError=VX;bh.set(6001,VX);Sh.set("ConcurrentMerkleTreeError",VX);class qX extends dm.ProgramError{constructor(e,t){super("Issue zero copying concurrent merkle tree data",e,t),this.name="ZeroCopyError",this.code=6002}}ei.ZeroCopyErrorError=qX;bh.set(6002,qX);Sh.set("ZeroCopyError",qX);class jX extends dm.ProgramError{constructor(e,t){super("An unsupported max depth or max buffer size constant was provided",e,t),this.name="ConcurrentMerkleTreeConstantsError",this.code=6003}}ei.ConcurrentMerkleTreeConstantsErrorError=jX;bh.set(6003,jX);Sh.set("ConcurrentMerkleTreeConstantsError",jX);class HX extends dm.ProgramError{constructor(e,t){super("Expected a different byte length for the merkle tree canopy",e,t),this.name="CanopyLengthMismatch",this.code=6004}}ei.CanopyLengthMismatchError=HX;bh.set(6004,HX);Sh.set("CanopyLengthMismatch",HX);class GX extends dm.ProgramError{constructor(e,t){super("Provided authority does not match expected tree authority",e,t),this.name="IncorrectAuthority",this.code=6005}}ei.IncorrectAuthorityError=GX;bh.set(6005,GX);Sh.set("IncorrectAuthority",GX);class YX extends dm.ProgramError{constructor(e,t){super("Account is owned by a different program, expected it to be owned by this program",e,t),this.name="IncorrectAccountOwner",this.code=6006}}ei.IncorrectAccountOwnerError=YX;bh.set(6006,YX);Sh.set("IncorrectAccountOwner",YX);class ZX extends dm.ProgramError{constructor(e,t){super("Account provided has incorrect account type",e,t),this.name="IncorrectAccountType",this.code=6007}}ei.IncorrectAccountTypeError=ZX;bh.set(6007,ZX);Sh.set("IncorrectAccountType",ZX);class JX extends dm.ProgramError{constructor(e,t){super("Leaf index of concurrent merkle tree is out of bounds",e,t),this.name="LeafIndexOutOfBounds",this.code=6008}}ei.LeafIndexOutOfBoundsError=JX;bh.set(6008,JX);Sh.set("LeafIndexOutOfBounds",JX);function Xyt(n,e,t){const r=bh.get(n);return r?new r(e,t):null}ei.getSplAccountCompressionErrorFromCode=Xyt;function Qyt(n,e,t){const r=Sh.get(n);return r?new r(e,t):null}ei.getSplAccountCompressionErrorFromName=Qyt;var mw={};Object.defineProperty(mw,"__esModule",{value:!0});mw.getSplNoopErrorFromName=mw.getSplNoopErrorFromCode=void 0;const ept=new Map,tpt=new Map;function rpt(n,e,t){const r=ept.get(n);return r?new r(e,t):null}mw.getSplNoopErrorFromCode=rpt;function npt(n,e,t){const r=tpt.get(n);return r?new r(e,t):null}mw.getSplNoopErrorFromName=npt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Fe,n),t(ei,n),t(mw,n)})(Tz);var gxe={},yw={},fs={};Object.defineProperty(fs,"__esModule",{value:!0});fs.getAccountMetasAndSigners=fs.expectPda=fs.expectPublicKey=fs.expectSome=void 0;const q2=Z;function spt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}fs.expectSome=spt;function ipt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,q2.publicKey)(n,!1)}fs.expectPublicKey=ipt;function opt(n){if(!n||!Array.isArray(n)||!(0,q2.isPda)(n))throw new Error("Expected a PDA.");return n}fs.expectPda=opt;function apt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,q2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,q2.publicKey)(i.value,!1),isSigner:(0,q2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}fs.getAccountMetasAndSigners=apt;Object.defineProperty(yw,"__esModule",{value:!0});yw.burn=yw.getBurnInstructionDataSerializer=void 0;const cpt=Z,Bh=q,upt=uc,LN=fs;function mxe(){return(0,Bh.mapSerializer)((0,Bh.struct)([["discriminator",(0,Bh.array)((0,Bh.u8)(),{size:8})],["root",(0,Bh.bytes)({size:32})],["dataHash",(0,Bh.bytes)({size:32})],["creatorHash",(0,Bh.bytes)({size:32})],["nonce",(0,Bh.u64)()],["index",(0,Bh.u32)()]],{description:"BurnInstructionData"}),n=>({...n,discriminator:[116,110,29,56,107,219,42,93]}))}yw.getBurnInstructionDataSerializer=mxe;function lpt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,upt.findTreeConfigPda)(n,{merkleTree:(0,LN.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,LN.expectSome)(r.leafOwner.value)),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,LN.getAccountMetasAndSigners)(i,"programId",t),u=mxe().serialize(s),l=0;return(0,cpt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}yw.burn=lpt;var pw={};Object.defineProperty(pw,"__esModule",{value:!0});pw.cancelRedeem=pw.getCancelRedeemInstructionDataSerializer=void 0;const dpt=Z,OR=q,fpt=uc,pme=fs;function yxe(){return(0,OR.mapSerializer)((0,OR.struct)([["discriminator",(0,OR.array)((0,OR.u8)(),{size:8})],["root",(0,OR.bytes)({size:32})]],{description:"CancelRedeemInstructionData"}),n=>({...n,discriminator:[111,76,232,50,39,175,48,242]}))}pw.getCancelRedeemInstructionDataSerializer=yxe;function hpt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},merkleTree:{index:2,isWritable:!0,value:e.merkleTree??null},voucher:{index:3,isWritable:!0,value:e.voucher??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,fpt.findTreeConfigPda)(n,{merkleTree:(0,pme.expectPublicKey)(r.merkleTree.value)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,pme.getAccountMetasAndSigners)(i,"programId",t),c=yxe().serialize(s),u=0;return(0,dpt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pw.cancelRedeem=hpt;var bw={};Object.defineProperty(bw,"__esModule",{value:!0});bw.createTreeConfig=bw.getCreateTreeConfigInstructionDataSerializer=void 0;const jq=Z,ny=q,bme=uc,Sme=fs;function pxe(){return(0,ny.mapSerializer)((0,ny.struct)([["discriminator",(0,ny.array)((0,ny.u8)(),{size:8})],["maxDepth",(0,ny.u32)()],["maxBufferSize",(0,ny.u32)()],["public",(0,ny.option)((0,ny.bool)())]],{description:"CreateTreeConfigInstructionData"}),n=>({...n,discriminator:[165,83,136,142,89,202,47,220],public:n.public??(0,jq.none)()}))}bw.getCreateTreeConfigInstructionDataSerializer=pxe;function gpt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},merkleTree:{index:1,isWritable:!0,value:e.merkleTree??null},payer:{index:2,isWritable:!0,value:e.payer??null},treeCreator:{index:3,isWritable:!1,value:e.treeCreator??null},logWrapper:{index:4,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:5,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,bme.findTreeConfigPda)(n,{merkleTree:(0,Sme.expectPublicKey)(r.merkleTree.value)})),r.payer.value||(r.payer.value=n.payer),r.treeCreator.value||(r.treeCreator.value=n.identity),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Sme.getAccountMetasAndSigners)(i,"programId",t),c=pxe().serialize(s),u=(0,bme.getTreeConfigSize)()+jq.ACCOUNT_HEADER_SIZE;return(0,jq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bw.createTreeConfig=gpt;var Sw={},kk={},Lb={},Ut={},yo={},ut={},bxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.None=0]="None",s[s.Metadata=1]="Metadata",s[s.Holder=2]="Holder",s[s.MetadataDelegate=3]="MetadataDelegate",s[s.TokenDelegate=4]="TokenDelegate"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(bxe);var T6={};Object.defineProperty(T6,"__esModule",{value:!0});T6.getAuthorizationDataSerializer=void 0;const mpt=q,ypt=ut;function ppt(){return(0,mpt.struct)([["payload",(0,ypt.getPayloadSerializer)()]],{description:"AuthorizationData"})}T6.getAuthorizationDataSerializer=ppt;var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});Qy.isBurnArgs=Qy.burnArgs=Qy.getBurnArgsSerializer=void 0;const D$=q;function bpt(){return(0,D$.dataEnum)([["V1",(0,D$.mapSerializer)((0,D$.struct)([["amount",(0,D$.u64)()]]),n=>({...n,amount:n.amount??1}))]],{description:"BurnArgs"})}Qy.getBurnArgsSerializer=bpt;function Spt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Qy.burnArgs=Spt;function kpt(n,e){return e.__kind===n}Qy.isBurnArgs=kpt;var R6={};Object.defineProperty(R6,"__esModule",{value:!0});R6.getCollectionSerializer=void 0;const WN=q;function vpt(){return(0,WN.struct)([["verified",(0,WN.bool)()],["key",(0,WN.publicKey)()]],{description:"Collection"})}R6.getCollectionSerializer=vpt;var ep={};Object.defineProperty(ep,"__esModule",{value:!0});ep.isCollectionDetails=ep.collectionDetails=ep.getCollectionDetailsSerializer=void 0;const Mk=q;function Apt(){return(0,Mk.dataEnum)([["V1",(0,Mk.struct)([["size",(0,Mk.u64)()]])],["V2",(0,Mk.struct)([["padding",(0,Mk.array)((0,Mk.u8)(),{size:8})]])]],{description:"CollectionDetails"})}ep.getCollectionDetailsSerializer=Apt;function wpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ep.collectionDetails=wpt;function Ipt(n,e){return e.__kind===n}ep.isCollectionDetails=Ipt;var tp={};Object.defineProperty(tp,"__esModule",{value:!0});tp.isCollectionDetailsToggle=tp.collectionDetailsToggle=tp.getCollectionDetailsToggleSerializer=void 0;const KR=q,Ppt=ut;function _pt(){return(0,KR.dataEnum)([["None",(0,KR.unit)()],["Clear",(0,KR.unit)()],["Set",(0,KR.struct)([["fields",(0,KR.tuple)([(0,Ppt.getCollectionDetailsSerializer)()])]])]],{description:"CollectionDetailsToggle"})}tp.getCollectionDetailsToggleSerializer=_pt;function Ept(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}tp.collectionDetailsToggle=Ept;function xpt(n,e){return e.__kind===n}tp.isCollectionDetailsToggle=xpt;var rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.isCollectionToggle=rp.collectionToggle=rp.getCollectionToggleSerializer=void 0;const LR=q,Tpt=ut;function Rpt(){return(0,LR.dataEnum)([["None",(0,LR.unit)()],["Clear",(0,LR.unit)()],["Set",(0,LR.struct)([["fields",(0,LR.tuple)([(0,Tpt.getCollectionSerializer)()])]])]],{description:"CollectionToggle"})}rp.getCollectionToggleSerializer=Rpt;function Cpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}rp.collectionToggle=Cpt;function Mpt(n,e){return e.__kind===n}rp.isCollectionToggle=Mpt;var np={};Object.defineProperty(np,"__esModule",{value:!0});np.isCreateArgs=np.createArgs=np.getCreateArgsSerializer=void 0;const Xb=Z,jo=q,Bk=ut;function Bpt(){return(0,jo.dataEnum)([["V1",(0,jo.mapSerializer)((0,jo.struct)([["name",(0,jo.string)()],["symbol",(0,jo.string)()],["uri",(0,jo.string)()],["sellerFeeBasisPoints",(0,Xb.mapAmountSerializer)((0,jo.u16)(),"%",2)],["creators",(0,jo.option)((0,jo.array)((0,Bk.getCreatorSerializer)()))],["primarySaleHappened",(0,jo.bool)()],["isMutable",(0,jo.bool)()],["tokenStandard",(0,Bk.getTokenStandardSerializer)()],["collection",(0,jo.option)((0,Bk.getCollectionSerializer)())],["uses",(0,jo.option)((0,Bk.getUsesSerializer)())],["collectionDetails",(0,jo.option)((0,Bk.getCollectionDetailsSerializer)())],["ruleSet",(0,jo.option)((0,jo.publicKey)())],["decimals",(0,jo.option)((0,jo.u8)())],["printSupply",(0,jo.option)((0,Bk.getPrintSupplySerializer)())]]),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,collection:n.collection??(0,Xb.none)(),uses:n.uses??(0,Xb.none)(),collectionDetails:n.collectionDetails??(0,Xb.none)(),ruleSet:n.ruleSet??(0,Xb.none)(),decimals:n.decimals??(0,Xb.none)(),printSupply:n.printSupply??(0,Xb.none)()}))]],{description:"CreateArgs"})}np.getCreateArgsSerializer=Bpt;function zpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}np.createArgs=zpt;function $pt(n,e){return e.__kind===n}np.isCreateArgs=$pt;var C6={};Object.defineProperty(C6,"__esModule",{value:!0});C6.getCreatorSerializer=void 0;const O$=q;function Dpt(){return(0,O$.struct)([["address",(0,O$.publicKey)()],["verified",(0,O$.bool)()],["share",(0,O$.u8)()]],{description:"Creator"})}C6.getCreatorSerializer=Dpt;var M6={};Object.defineProperty(M6,"__esModule",{value:!0});M6.getDataSerializer=void 0;const Qb=q,Opt=ut;function Kpt(){return(0,Qb.struct)([["name",(0,Qb.string)()],["symbol",(0,Qb.string)()],["uri",(0,Qb.string)()],["sellerFeeBasisPoints",(0,Qb.u16)()],["creators",(0,Qb.option)((0,Qb.array)((0,Opt.getCreatorSerializer)()))]],{description:"Data"})}M6.getDataSerializer=Kpt;var B6={};Object.defineProperty(B6,"__esModule",{value:!0});B6.getDataV2Serializer=void 0;const zh=q,NN=ut;function Lpt(){return(0,zh.struct)([["name",(0,zh.string)()],["symbol",(0,zh.string)()],["uri",(0,zh.string)()],["sellerFeeBasisPoints",(0,zh.u16)()],["creators",(0,zh.option)((0,zh.array)((0,NN.getCreatorSerializer)()))],["collection",(0,zh.option)((0,NN.getCollectionSerializer)())],["uses",(0,zh.option)((0,NN.getUsesSerializer)())]],{description:"DataV2"})}B6.getDataV2Serializer=Lpt;var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.isDelegateArgs=sp.delegateArgs=sp.getDelegateArgsSerializer=void 0;const xu=Z,br=q,Tu=ut;function Wpt(){return(0,br.dataEnum)([["CollectionV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["SaleV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["TransferV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["DataV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["UtilityV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["StakingV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["StandardV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()]]),n=>({...n,amount:n.amount??1}))],["LockedTransferV1",(0,br.mapSerializer)((0,br.struct)([["amount",(0,br.u64)()],["lockedAddress",(0,br.publicKey)()],["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,xu.none)()}))],["ProgrammableConfigV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["AuthorityItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["DataItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["CollectionItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["ProgrammableConfigItemV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))],["PrintDelegateV1",(0,br.mapSerializer)((0,br.struct)([["authorizationData",(0,br.option)((0,Tu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,xu.none)()}))]],{description:"DelegateArgs"})}sp.getDelegateArgsSerializer=Wpt;function Npt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}sp.delegateArgs=Npt;function Fpt(n,e){return e.__kind===n}sp.isDelegateArgs=Fpt;var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.isEscrowAuthority=ip.escrowAuthority=ip.getEscrowAuthoritySerializer=void 0;const WR=q;function Upt(){return(0,WR.dataEnum)([["TokenOwner",(0,WR.unit)()],["Creator",(0,WR.struct)([["fields",(0,WR.tuple)([(0,WR.publicKey)()])]])]],{description:"EscrowAuthority"})}ip.getEscrowAuthoritySerializer=Upt;function Vpt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ip.escrowAuthority=Vpt;function qpt(n,e){return e.__kind===n}ip.isEscrowAuthority=qpt;var XX={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHolderDelegateRoleSerializer=n.HolderDelegateRole=void 0;const e=q;var t;(function(s){s[s.PrintDelegate=0]="PrintDelegate"})(t=n.HolderDelegateRole||(n.HolderDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"HolderDelegateRole"})}n.getHolderDelegateRoleSerializer=r})(XX);var Sxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getKeySerializer=n.Key=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.EditionV1=1]="EditionV1",s[s.MasterEditionV1=2]="MasterEditionV1",s[s.ReservationListV1=3]="ReservationListV1",s[s.MetadataV1=4]="MetadataV1",s[s.ReservationListV2=5]="ReservationListV2",s[s.MasterEditionV2=6]="MasterEditionV2",s[s.EditionMarker=7]="EditionMarker",s[s.UseAuthorityRecord=8]="UseAuthorityRecord",s[s.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",s[s.TokenOwnedEscrow=10]="TokenOwnedEscrow",s[s.TokenRecord=11]="TokenRecord",s[s.MetadataDelegate=12]="MetadataDelegate",s[s.EditionMarkerV2=13]="EditionMarkerV2",s[s.HolderDelegate=14]="HolderDelegate"})(t=n.Key||(n.Key={}));function r(){return(0,e.scalarEnum)(t,{description:"Key"})}n.getKeySerializer=r})(Sxe);var op={};Object.defineProperty(op,"__esModule",{value:!0});op.isLockArgs=op.lockArgs=op.getLockArgsSerializer=void 0;const jpt=Z,K$=q,Hpt=ut;function Gpt(){return(0,K$.dataEnum)([["V1",(0,K$.mapSerializer)((0,K$.struct)([["authorizationData",(0,K$.option)((0,Hpt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,jpt.none)()}))]],{description:"LockArgs"})}op.getLockArgsSerializer=Gpt;function Ypt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}op.lockArgs=Ypt;function Zpt(n,e){return e.__kind===n}op.isLockArgs=Zpt;var QX={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMetadataDelegateRoleSerializer=n.MetadataDelegateRole=void 0;const e=q;var t;(function(s){s[s.AuthorityItem=0]="AuthorityItem",s[s.Collection=1]="Collection",s[s.Use=2]="Use",s[s.Data=3]="Data",s[s.ProgrammableConfig=4]="ProgrammableConfig",s[s.DataItem=5]="DataItem",s[s.CollectionItem=6]="CollectionItem",s[s.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(t=n.MetadataDelegateRole||(n.MetadataDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"MetadataDelegateRole"})}n.getMetadataDelegateRoleSerializer=r})(QX);var kxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMigrationTypeSerializer=n.MigrationType=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.ProgrammableV1=1]="ProgrammableV1"})(t=n.MigrationType||(n.MigrationType={}));function r(){return(0,e.scalarEnum)(t,{description:"MigrationType"})}n.getMigrationTypeSerializer=r})(kxe);var ap={};Object.defineProperty(ap,"__esModule",{value:!0});ap.isMintArgs=ap.mintArgs=ap.getMintArgsSerializer=void 0;const Jpt=Z,NR=q,Xpt=ut;function Qpt(){return(0,NR.dataEnum)([["V1",(0,NR.mapSerializer)((0,NR.struct)([["amount",(0,NR.u64)()],["authorizationData",(0,NR.option)((0,Xpt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Jpt.none)()}))]],{description:"MintArgs"})}ap.getMintArgsSerializer=Qpt;function ebt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}ap.mintArgs=ebt;function tbt(n,e){return e.__kind===n}ap.isMintArgs=tbt;var z6={};Object.defineProperty(z6,"__esModule",{value:!0});z6.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=void 0;const kme=q;function rbt(){return(0,kme.struct)([["edition",(0,kme.u64)()]],{description:"MintNewEditionFromMasterEditionViaTokenArgs"})}z6.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=rbt;var $6={};Object.defineProperty($6,"__esModule",{value:!0});$6.getPayloadSerializer=void 0;const FN=q,nbt=ut;function sbt(){return(0,FN.struct)([["map",(0,FN.map)((0,FN.string)(),(0,nbt.getPayloadTypeSerializer)())]],{description:"Payload"})}$6.getPayloadSerializer=sbt;var vxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPayloadKeySerializer=n.PayloadKey=void 0;const e=q;var t;(function(s){s[s.Amount=0]="Amount",s[s.Authority=1]="Authority",s[s.AuthoritySeeds=2]="AuthoritySeeds",s[s.Delegate=3]="Delegate",s[s.DelegateSeeds=4]="DelegateSeeds",s[s.Destination=5]="Destination",s[s.DestinationSeeds=6]="DestinationSeeds",s[s.Holder=7]="Holder",s[s.Source=8]="Source",s[s.SourceSeeds=9]="SourceSeeds"})(t=n.PayloadKey||(n.PayloadKey={}));function r(){return(0,e.scalarEnum)(t,{description:"PayloadKey"})}n.getPayloadKeySerializer=r})(vxe);var cp={};Object.defineProperty(cp,"__esModule",{value:!0});cp.isPayloadType=cp.payloadType=cp.getPayloadTypeSerializer=void 0;const Ul=q,vme=ut;function ibt(){return(0,Ul.dataEnum)([["Pubkey",(0,Ul.struct)([["fields",(0,Ul.tuple)([(0,Ul.publicKey)()])]])],["Seeds",(0,Ul.struct)([["fields",(0,Ul.tuple)([(0,vme.getSeedsVecSerializer)()])]])],["MerkleProof",(0,Ul.struct)([["fields",(0,Ul.tuple)([(0,vme.getProofInfoSerializer)()])]])],["Number",(0,Ul.struct)([["fields",(0,Ul.tuple)([(0,Ul.u64)()])]])]],{description:"PayloadType"})}cp.getPayloadTypeSerializer=ibt;function obt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}cp.payloadType=obt;function abt(n,e){return e.__kind===n}cp.isPayloadType=abt;var up={};Object.defineProperty(up,"__esModule",{value:!0});up.isPrintArgs=up.printArgs=up.getPrintArgsSerializer=void 0;const FR=q;function cbt(){return(0,FR.dataEnum)([["V1",(0,FR.struct)([["edition",(0,FR.u64)()]])],["V2",(0,FR.struct)([["edition",(0,FR.u64)()]])]],{description:"PrintArgs"})}up.getPrintArgsSerializer=cbt;function ubt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}up.printArgs=ubt;function lbt(n,e){return e.__kind===n}up.isPrintArgs=lbt;var lp={};Object.defineProperty(lp,"__esModule",{value:!0});lp.isPrintSupply=lp.printSupply=lp.getPrintSupplySerializer=void 0;const zk=q;function dbt(){return(0,zk.dataEnum)([["Zero",(0,zk.unit)()],["Limited",(0,zk.struct)([["fields",(0,zk.tuple)([(0,zk.u64)()])]])],["Unlimited",(0,zk.unit)()]],{description:"PrintSupply"})}lp.getPrintSupplySerializer=dbt;function fbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}lp.printSupply=fbt;function hbt(n,e){return e.__kind===n}lp.isPrintSupply=hbt;var dp={};Object.defineProperty(dp,"__esModule",{value:!0});dp.isProgrammableConfig=dp.programmableConfig=dp.getProgrammableConfigSerializer=void 0;const L$=q;function gbt(){return(0,L$.dataEnum)([["V1",(0,L$.struct)([["ruleSet",(0,L$.option)((0,L$.publicKey)())]])]],{description:"ProgrammableConfig"})}dp.getProgrammableConfigSerializer=gbt;function mbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}dp.programmableConfig=mbt;function ybt(n,e){return e.__kind===n}dp.isProgrammableConfig=ybt;var D6={};Object.defineProperty(D6,"__esModule",{value:!0});D6.getProofInfoSerializer=void 0;const UN=q;function pbt(){return(0,UN.struct)([["proof",(0,UN.array)((0,UN.bytes)({size:32}))]],{description:"ProofInfo"})}D6.getProofInfoSerializer=pbt;var O6={};Object.defineProperty(O6,"__esModule",{value:!0});O6.getReservationSerializer=void 0;const W$=q;function bbt(){return(0,W$.struct)([["address",(0,W$.publicKey)()],["spotsRemaining",(0,W$.u64)()],["totalSpots",(0,W$.u64)()]],{description:"Reservation"})}O6.getReservationSerializer=bbt;var K6={};Object.defineProperty(K6,"__esModule",{value:!0});K6.getReservationV1Serializer=void 0;const N$=q;function Sbt(){return(0,N$.struct)([["address",(0,N$.publicKey)()],["spotsRemaining",(0,N$.u8)()],["totalSpots",(0,N$.u8)()]],{description:"ReservationV1"})}K6.getReservationV1Serializer=Sbt;var Axe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRevokeArgsSerializer=n.RevokeArgs=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.SaleV1=1]="SaleV1",s[s.TransferV1=2]="TransferV1",s[s.DataV1=3]="DataV1",s[s.UtilityV1=4]="UtilityV1",s[s.StakingV1=5]="StakingV1",s[s.StandardV1=6]="StandardV1",s[s.LockedTransferV1=7]="LockedTransferV1",s[s.ProgrammableConfigV1=8]="ProgrammableConfigV1",s[s.MigrationV1=9]="MigrationV1",s[s.AuthorityItemV1=10]="AuthorityItemV1",s[s.DataItemV1=11]="DataItemV1",s[s.CollectionItemV1=12]="CollectionItemV1",s[s.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1",s[s.PrintDelegateV1=14]="PrintDelegateV1"})(t=n.RevokeArgs||(n.RevokeArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"RevokeArgs"})}n.getRevokeArgsSerializer=r})(Axe);var fp={};Object.defineProperty(fp,"__esModule",{value:!0});fp.isRuleSetToggle=fp.ruleSetToggle=fp.getRuleSetToggleSerializer=void 0;const $k=q;function kbt(){return(0,$k.dataEnum)([["None",(0,$k.unit)()],["Clear",(0,$k.unit)()],["Set",(0,$k.struct)([["fields",(0,$k.tuple)([(0,$k.publicKey)()])]])]],{description:"RuleSetToggle"})}fp.getRuleSetToggleSerializer=kbt;function vbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}fp.ruleSetToggle=vbt;function Abt(n,e){return e.__kind===n}fp.isRuleSetToggle=Abt;var L6={};Object.defineProperty(L6,"__esModule",{value:!0});L6.getSeedsVecSerializer=void 0;const F$=q;function wbt(){return(0,F$.struct)([["seeds",(0,F$.array)((0,F$.bytes)({size:(0,F$.u32)()}))]],{description:"SeedsVec"})}L6.getSeedsVecSerializer=wbt;var W6={};Object.defineProperty(W6,"__esModule",{value:!0});W6.getSetCollectionSizeArgsSerializer=void 0;const Ame=q;function Ibt(){return(0,Ame.struct)([["size",(0,Ame.u64)()]],{description:"SetCollectionSizeArgs"})}W6.getSetCollectionSizeArgsSerializer=Ibt;var wxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenDelegateRoleSerializer=n.TokenDelegateRole=void 0;const e=q;var t;(function(s){s[s.Sale=0]="Sale",s[s.Transfer=1]="Transfer",s[s.Utility=2]="Utility",s[s.Staking=3]="Staking",s[s.Standard=4]="Standard",s[s.LockedTransfer=5]="LockedTransfer",s[s.Migration=6]="Migration"})(t=n.TokenDelegateRole||(n.TokenDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenDelegateRole"})}n.getTokenDelegateRoleSerializer=r})(wxe);var Ixe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=q;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition",s[s.ProgrammableNonFungible=4]="ProgrammableNonFungible",s[s.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(Ixe);var Pxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Unlocked=0]="Unlocked",s[s.Locked=1]="Locked",s[s.Listed=2]="Listed"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(Pxe);var hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.isTransferArgs=hp.transferArgs=hp.getTransferArgsSerializer=void 0;const Pbt=Z,UR=q,_bt=ut;function Ebt(){return(0,UR.dataEnum)([["V1",(0,UR.mapSerializer)((0,UR.struct)([["amount",(0,UR.u64)()],["authorizationData",(0,UR.option)((0,_bt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Pbt.none)()}))]],{description:"TransferArgs"})}hp.getTransferArgsSerializer=Ebt;function xbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}hp.transferArgs=xbt;function Tbt(n,e){return e.__kind===n}hp.isTransferArgs=Tbt;var gp={};Object.defineProperty(gp,"__esModule",{value:!0});gp.isUnlockArgs=gp.unlockArgs=gp.getUnlockArgsSerializer=void 0;const Rbt=Z,U$=q,Cbt=ut;function Mbt(){return(0,U$.dataEnum)([["V1",(0,U$.mapSerializer)((0,U$.struct)([["authorizationData",(0,U$.option)((0,Cbt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Rbt.none)()}))]],{description:"UnlockArgs"})}gp.getUnlockArgsSerializer=Mbt;function Bbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}gp.unlockArgs=Bbt;function zbt(n,e){return e.__kind===n}gp.isUnlockArgs=zbt;var mp={};Object.defineProperty(mp,"__esModule",{value:!0});mp.isUpdateArgs=mp.updateArgs=mp.getUpdateArgsSerializer=void 0;const Zs=Z,ar=q,cn=ut;function $bt(){return(0,ar.dataEnum)([["V1",(0,ar.mapSerializer)((0,ar.struct)([["newUpdateAuthority",(0,ar.option)((0,ar.publicKey)())],["data",(0,ar.option)((0,cn.getDataSerializer)())],["primarySaleHappened",(0,ar.option)((0,ar.bool)())],["isMutable",(0,ar.option)((0,ar.bool)())],["collection",(0,cn.getCollectionToggleSerializer)()],["collectionDetails",(0,cn.getCollectionDetailsToggleSerializer)()],["uses",(0,cn.getUsesToggleSerializer)()],["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Zs.none)(),data:n.data??(0,Zs.none)(),primarySaleHappened:n.primarySaleHappened??(0,Zs.none)(),isMutable:n.isMutable??(0,Zs.none)(),collection:n.collection??(0,cn.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,cn.collectionDetailsToggle)("None"),uses:n.uses??(0,cn.usesToggle)("None"),ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsUpdateAuthorityV2",(0,ar.mapSerializer)((0,ar.struct)([["newUpdateAuthority",(0,ar.option)((0,ar.publicKey)())],["data",(0,ar.option)((0,cn.getDataSerializer)())],["primarySaleHappened",(0,ar.option)((0,ar.bool)())],["isMutable",(0,ar.option)((0,ar.bool)())],["collection",(0,cn.getCollectionToggleSerializer)()],["collectionDetails",(0,cn.getCollectionDetailsToggleSerializer)()],["uses",(0,cn.getUsesToggleSerializer)()],["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["tokenStandard",(0,ar.option)((0,cn.getTokenStandardSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Zs.none)(),data:n.data??(0,Zs.none)(),primarySaleHappened:n.primarySaleHappened??(0,Zs.none)(),isMutable:n.isMutable??(0,Zs.none)(),collection:n.collection??(0,cn.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,cn.collectionDetailsToggle)("None"),uses:n.uses??(0,cn.usesToggle)("None"),ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsAuthorityItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["newUpdateAuthority",(0,ar.option)((0,ar.publicKey)())],["primarySaleHappened",(0,ar.option)((0,ar.bool)())],["isMutable",(0,ar.option)((0,ar.bool)())],["tokenStandard",(0,ar.option)((0,cn.getTokenStandardSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Zs.none)(),primarySaleHappened:n.primarySaleHappened??(0,Zs.none)(),isMutable:n.isMutable??(0,Zs.none)(),tokenStandard:n.tokenStandard??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsCollectionDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["collection",(0,cn.getCollectionToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,cn.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsDataDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["data",(0,ar.option)((0,cn.getDataSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsProgrammableConfigDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsDataItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["data",(0,ar.option)((0,cn.getDataSerializer)())],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Zs.none)(),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsCollectionItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["collection",(0,cn.getCollectionToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,cn.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))],["AsProgrammableConfigItemDelegateV2",(0,ar.mapSerializer)((0,ar.struct)([["ruleSet",(0,cn.getRuleSetToggleSerializer)()],["authorizationData",(0,ar.option)((0,cn.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,cn.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Zs.none)()}))]],{description:"UpdateArgs"})}mp.getUpdateArgsSerializer=$bt;function Dbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}mp.updateArgs=Dbt;function Obt(n,e){return e.__kind===n}mp.isUpdateArgs=Obt;var yp={};Object.defineProperty(yp,"__esModule",{value:!0});yp.isUseArgs=yp.useArgs=yp.getUseArgsSerializer=void 0;const Kbt=Z,V$=q,Lbt=ut;function Wbt(){return(0,V$.dataEnum)([["V1",(0,V$.mapSerializer)((0,V$.struct)([["authorizationData",(0,V$.option)((0,Lbt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Kbt.none)()}))]],{description:"UseArgs"})}yp.getUseArgsSerializer=Wbt;function Nbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}yp.useArgs=Nbt;function Fbt(n,e){return e.__kind===n}yp.isUseArgs=Fbt;var _xe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=q;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(_xe);var N6={};Object.defineProperty(N6,"__esModule",{value:!0});N6.getUsesSerializer=void 0;const VN=q,Ubt=ut;function Vbt(){return(0,VN.struct)([["useMethod",(0,Ubt.getUseMethodSerializer)()],["remaining",(0,VN.u64)()],["total",(0,VN.u64)()]],{description:"Uses"})}N6.getUsesSerializer=Vbt;var pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.isUsesToggle=pp.usesToggle=pp.getUsesToggleSerializer=void 0;const VR=q,qbt=ut;function jbt(){return(0,VR.dataEnum)([["None",(0,VR.unit)()],["Clear",(0,VR.unit)()],["Set",(0,VR.struct)([["fields",(0,VR.tuple)([(0,qbt.getUsesSerializer)()])]])]],{description:"UsesToggle"})}pp.getUsesToggleSerializer=jbt;function Hbt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}pp.usesToggle=Hbt;function Gbt(n,e){return e.__kind===n}pp.isUsesToggle=Gbt;var Exe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVerificationArgsSerializer=n.VerificationArgs=void 0;const e=q;var t;(function(s){s[s.CreatorV1=0]="CreatorV1",s[s.CollectionV1=1]="CollectionV1"})(t=n.VerificationArgs||(n.VerificationArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"VerificationArgs"})}n.getVerificationArgsSerializer=r})(Exe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(bxe,n),t(T6,n),t(Qy,n),t(R6,n),t(ep,n),t(tp,n),t(rp,n),t(np,n),t(C6,n),t(M6,n),t(B6,n),t(sp,n),t(ip,n),t(XX,n),t(Sxe,n),t(op,n),t(QX,n),t(kxe,n),t(ap,n),t(z6,n),t($6,n),t(vxe,n),t(cp,n),t(up,n),t(lp,n),t(dp,n),t(D6,n),t(O6,n),t(K6,n),t(Axe,n),t(fp,n),t(L6,n),t(W6,n),t(wxe,n),t(Ixe,n),t(Pxe,n),t(hp,n),t(gp,n),t(mp,n),t(yp,n),t(_xe,n),t(N6,n),t(pp,n),t(Exe,n)})(ut);Object.defineProperty(yo,"__esModule",{value:!0});yo.safeFetchCollectionAuthorityRecordFromSeeds=yo.fetchCollectionAuthorityRecordFromSeeds=yo.findCollectionAuthorityRecordPda=yo.getCollectionAuthorityRecordGpaBuilder=yo.safeFetchAllCollectionAuthorityRecord=yo.fetchAllCollectionAuthorityRecord=yo.safeFetchCollectionAuthorityRecord=yo.fetchCollectionAuthorityRecord=yo.deserializeCollectionAuthorityRecord=yo.getCollectionAuthorityRecordAccountDataSerializer=void 0;const eb=Z,Zu=q,LO=ut;function xxe(){return(0,Zu.mapSerializer)((0,Zu.struct)([["key",(0,LO.getKeySerializer)()],["bump",(0,Zu.u8)()],["updateAuthority",(0,Zu.option)((0,Zu.publicKey)())]],{description:"CollectionAuthorityRecordAccountData"}),n=>({...n,key:LO.Key.CollectionAuthorityRecord}))}yo.getCollectionAuthorityRecordAccountDataSerializer=xxe;function _T(n){return(0,eb.deserializeAccount)(n,xxe())}yo.deserializeCollectionAuthorityRecord=_T;async function Txe(n,e,t){const r=await n.rpc.getAccount((0,eb.publicKey)(e,!1),t);return(0,eb.assertAccountExists)(r,"CollectionAuthorityRecord"),_T(r)}yo.fetchCollectionAuthorityRecord=Txe;async function Rxe(n,e,t){const r=await n.rpc.getAccount((0,eb.publicKey)(e,!1),t);return r.exists?_T(r):null}yo.safeFetchCollectionAuthorityRecord=Rxe;async function Ybt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,eb.publicKey)(s,!1)),t)).map(s=>((0,eb.assertAccountExists)(s,"CollectionAuthorityRecord"),_T(s)))}yo.fetchAllCollectionAuthorityRecord=Ybt;async function Zbt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,eb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>_T(s))}yo.safeFetchAllCollectionAuthorityRecord=Zbt;function Jbt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,eb.gpaBuilder)(n,e).registerFields({key:[0,(0,LO.getKeySerializer)()],bump:[1,(0,Zu.u8)()],updateAuthority:[2,(0,Zu.option)((0,Zu.publicKey)())]}).deserializeUsing(t=>_T(t)).whereField("key",LO.Key.CollectionAuthorityRecord)}yo.getCollectionAuthorityRecordGpaBuilder=Jbt;function eQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Zu.string)({size:"variable"}).serialize("metadata"),(0,Zu.publicKey)().serialize(t),(0,Zu.publicKey)().serialize(e.mint),(0,Zu.string)({size:"variable"}).serialize("collection_authority"),(0,Zu.publicKey)().serialize(e.collectionAuthority)])}yo.findCollectionAuthorityRecordPda=eQ;async function Xbt(n,e,t){return Txe(n,eQ(n,e),t)}yo.fetchCollectionAuthorityRecordFromSeeds=Xbt;async function Qbt(n,e,t){return Rxe(n,eQ(n,e),t)}yo.safeFetchCollectionAuthorityRecordFromSeeds=Qbt;var po={};Object.defineProperty(po,"__esModule",{value:!0});po.safeFetchDeprecatedMasterEditionV1FromSeeds=po.fetchDeprecatedMasterEditionV1FromSeeds=po.findDeprecatedMasterEditionV1Pda=po.getDeprecatedMasterEditionV1GpaBuilder=po.safeFetchAllDeprecatedMasterEditionV1=po.fetchAllDeprecatedMasterEditionV1=po.safeFetchDeprecatedMasterEditionV1=po.fetchDeprecatedMasterEditionV1=po.deserializeDeprecatedMasterEditionV1=po.getDeprecatedMasterEditionV1AccountDataSerializer=void 0;const tb=Z,kc=q,WO=ut;function Cxe(){return(0,kc.mapSerializer)((0,kc.struct)([["key",(0,WO.getKeySerializer)()],["supply",(0,kc.u64)()],["maxSupply",(0,kc.option)((0,kc.u64)())],["printingMint",(0,kc.publicKey)()],["oneTimePrintingAuthorizationMint",(0,kc.publicKey)()]],{description:"DeprecatedMasterEditionV1AccountData"}),n=>({...n,key:WO.Key.MasterEditionV1}))}po.getDeprecatedMasterEditionV1AccountDataSerializer=Cxe;function ET(n){return(0,tb.deserializeAccount)(n,Cxe())}po.deserializeDeprecatedMasterEditionV1=ET;async function Mxe(n,e,t){const r=await n.rpc.getAccount((0,tb.publicKey)(e,!1),t);return(0,tb.assertAccountExists)(r,"DeprecatedMasterEditionV1"),ET(r)}po.fetchDeprecatedMasterEditionV1=Mxe;async function Bxe(n,e,t){const r=await n.rpc.getAccount((0,tb.publicKey)(e,!1),t);return r.exists?ET(r):null}po.safeFetchDeprecatedMasterEditionV1=Bxe;async function e0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,tb.publicKey)(s,!1)),t)).map(s=>((0,tb.assertAccountExists)(s,"DeprecatedMasterEditionV1"),ET(s)))}po.fetchAllDeprecatedMasterEditionV1=e0t;async function t0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,tb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>ET(s))}po.safeFetchAllDeprecatedMasterEditionV1=t0t;function r0t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,tb.gpaBuilder)(n,e).registerFields({key:[0,(0,WO.getKeySerializer)()],supply:[1,(0,kc.u64)()],maxSupply:[9,(0,kc.option)((0,kc.u64)())],printingMint:[null,(0,kc.publicKey)()],oneTimePrintingAuthorizationMint:[null,(0,kc.publicKey)()]}).deserializeUsing(t=>ET(t)).whereField("key",WO.Key.MasterEditionV1)}po.getDeprecatedMasterEditionV1GpaBuilder=r0t;function tQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,kc.string)({size:"variable"}).serialize("metadata"),(0,kc.publicKey)().serialize(t),(0,kc.publicKey)().serialize(e.mint),(0,kc.string)({size:"variable"}).serialize("edition")])}po.findDeprecatedMasterEditionV1Pda=tQ;async function n0t(n,e,t){return Mxe(n,tQ(n,e),t)}po.fetchDeprecatedMasterEditionV1FromSeeds=n0t;async function s0t(n,e,t){return Bxe(n,tQ(n,e),t)}po.safeFetchDeprecatedMasterEditionV1FromSeeds=s0t;var xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.getEditionSize=xa.getEditionGpaBuilder=xa.safeFetchAllEdition=xa.fetchAllEdition=xa.safeFetchEdition=xa.fetchEdition=xa.deserializeEdition=xa.getEditionAccountDataSerializer=void 0;const rb=Z,$v=q,NO=ut;function zxe(){return(0,$v.mapSerializer)((0,$v.struct)([["key",(0,NO.getKeySerializer)()],["parent",(0,$v.publicKey)()],["edition",(0,$v.u64)()]],{description:"EditionAccountData"}),n=>({...n,key:NO.Key.EditionV1}))}xa.getEditionAccountDataSerializer=zxe;function xT(n){return(0,rb.deserializeAccount)(n,zxe())}xa.deserializeEdition=xT;async function i0t(n,e,t){const r=await n.rpc.getAccount((0,rb.publicKey)(e,!1),t);return(0,rb.assertAccountExists)(r,"Edition"),xT(r)}xa.fetchEdition=i0t;async function o0t(n,e,t){const r=await n.rpc.getAccount((0,rb.publicKey)(e,!1),t);return r.exists?xT(r):null}xa.safeFetchEdition=o0t;async function a0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,rb.publicKey)(s,!1)),t)).map(s=>((0,rb.assertAccountExists)(s,"Edition"),xT(s)))}xa.fetchAllEdition=a0t;async function c0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,rb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>xT(s))}xa.safeFetchAllEdition=c0t;function u0t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,rb.gpaBuilder)(n,e).registerFields({key:[0,(0,NO.getKeySerializer)()],parent:[1,(0,$v.publicKey)()],edition:[33,(0,$v.u64)()]}).deserializeUsing(t=>xT(t)).whereField("key",NO.Key.EditionV1)}xa.getEditionGpaBuilder=u0t;function l0t(){return 41}xa.getEditionSize=l0t;var ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.safeFetchEditionMarkerFromSeeds=ti.fetchEditionMarkerFromSeeds=ti.findEditionMarkerPda=ti.getEditionMarkerSize=ti.getEditionMarkerGpaBuilder=ti.safeFetchAllEditionMarker=ti.fetchAllEditionMarker=ti.safeFetchEditionMarker=ti.fetchEditionMarker=ti.deserializeEditionMarker=ti.getEditionMarkerAccountDataSerializer=void 0;const nb=Z,td=q,FO=ut;function $xe(){return(0,td.mapSerializer)((0,td.struct)([["key",(0,FO.getKeySerializer)()],["ledger",(0,td.array)((0,td.u8)(),{size:31})]],{description:"EditionMarkerAccountData"}),n=>({...n,key:FO.Key.EditionMarker}))}ti.getEditionMarkerAccountDataSerializer=$xe;function TT(n){return(0,nb.deserializeAccount)(n,$xe())}ti.deserializeEditionMarker=TT;async function Dxe(n,e,t){const r=await n.rpc.getAccount((0,nb.publicKey)(e,!1),t);return(0,nb.assertAccountExists)(r,"EditionMarker"),TT(r)}ti.fetchEditionMarker=Dxe;async function Oxe(n,e,t){const r=await n.rpc.getAccount((0,nb.publicKey)(e,!1),t);return r.exists?TT(r):null}ti.safeFetchEditionMarker=Oxe;async function d0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,nb.publicKey)(s,!1)),t)).map(s=>((0,nb.assertAccountExists)(s,"EditionMarker"),TT(s)))}ti.fetchAllEditionMarker=d0t;async function f0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,nb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>TT(s))}ti.safeFetchAllEditionMarker=f0t;function h0t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,nb.gpaBuilder)(n,e).registerFields({key:[0,(0,FO.getKeySerializer)()],ledger:[1,(0,td.array)((0,td.u8)(),{size:31})]}).deserializeUsing(t=>TT(t)).whereField("key",FO.Key.EditionMarker)}ti.getEditionMarkerGpaBuilder=h0t;function g0t(){return 32}ti.getEditionMarkerSize=g0t;function rQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,td.string)({size:"variable"}).serialize("metadata"),(0,td.publicKey)().serialize(t),(0,td.publicKey)().serialize(e.mint),(0,td.string)({size:"variable"}).serialize("edition"),(0,td.string)({size:"variable"}).serialize(e.editionMarker)])}ti.findEditionMarkerPda=rQ;async function m0t(n,e,t){return Dxe(n,rQ(n,e),t)}ti.fetchEditionMarkerFromSeeds=m0t;async function y0t(n,e,t){return Oxe(n,rQ(n,e),t)}ti.safeFetchEditionMarkerFromSeeds=y0t;var bo={};Object.defineProperty(bo,"__esModule",{value:!0});bo.safeFetchEditionMarkerV2FromSeeds=bo.fetchEditionMarkerV2FromSeeds=bo.findEditionMarkerV2Pda=bo.getEditionMarkerV2GpaBuilder=bo.safeFetchAllEditionMarkerV2=bo.fetchAllEditionMarkerV2=bo.safeFetchEditionMarkerV2=bo.fetchEditionMarkerV2=bo.deserializeEditionMarkerV2=bo.getEditionMarkerV2AccountDataSerializer=void 0;const sb=Z,Bf=q,Kxe=ut;function Lxe(){return(0,Bf.struct)([["key",(0,Kxe.getKeySerializer)()],["ledger",(0,Bf.bytes)({size:(0,Bf.u32)()})]],{description:"EditionMarkerV2AccountData"})}bo.getEditionMarkerV2AccountDataSerializer=Lxe;function RT(n){return(0,sb.deserializeAccount)(n,Lxe())}bo.deserializeEditionMarkerV2=RT;async function Wxe(n,e,t){const r=await n.rpc.getAccount((0,sb.publicKey)(e,!1),t);return(0,sb.assertAccountExists)(r,"EditionMarkerV2"),RT(r)}bo.fetchEditionMarkerV2=Wxe;async function Nxe(n,e,t){const r=await n.rpc.getAccount((0,sb.publicKey)(e,!1),t);return r.exists?RT(r):null}bo.safeFetchEditionMarkerV2=Nxe;async function p0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,sb.publicKey)(s,!1)),t)).map(s=>((0,sb.assertAccountExists)(s,"EditionMarkerV2"),RT(s)))}bo.fetchAllEditionMarkerV2=p0t;async function b0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,sb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>RT(s))}bo.safeFetchAllEditionMarkerV2=b0t;function S0t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,sb.gpaBuilder)(n,e).registerFields({key:[0,(0,Kxe.getKeySerializer)()],ledger:[1,(0,Bf.bytes)({size:(0,Bf.u32)()})]}).deserializeUsing(t=>RT(t))}bo.getEditionMarkerV2GpaBuilder=S0t;function nQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Bf.string)({size:"variable"}).serialize("metadata"),(0,Bf.publicKey)().serialize(t),(0,Bf.publicKey)().serialize(e.mint),(0,Bf.string)({size:"variable"}).serialize("edition"),(0,Bf.string)({size:"variable"}).serialize("marker")])}bo.findEditionMarkerV2Pda=nQ;async function k0t(n,e,t){return Wxe(n,nQ(n,e),t)}bo.fetchEditionMarkerV2FromSeeds=k0t;async function v0t(n,e,t){return Nxe(n,nQ(n,e),t)}bo.safeFetchEditionMarkerV2FromSeeds=v0t;var ri={},on={},F6={};Object.defineProperty(F6,"__esModule",{value:!0});F6.findEditionMarkerFromEditionNumberPda=void 0;const A0t=Lb;function w0t(n,e){return(0,A0t.findEditionMarkerPda)(n,{mint:e.mint,editionMarker:(BigInt(e.editionNumber)/248n).toString(10)})}F6.findEditionMarkerFromEditionNumberPda=w0t;var U6={},Wb={};Object.defineProperty(Wb,"__esModule",{value:!0});Wb.TokenMetadataError=void 0;const I0t=Z;class P0t extends I0t.UmiError{constructor(e,t){super(e,"plugin","Token Metadata",t),this.name="TokenMetadataError"}}Wb.TokenMetadataError=P0t;Object.defineProperty(U6,"__esModule",{value:!0});U6.getMetadataDelegateRoleSeedSerializer=void 0;const wme=q,_0t=Wb,sy=QX;function E0t(){return(0,wme.mapSerializer)((0,wme.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case sy.MetadataDelegateRole.AuthorityItem:return"authority_item_delegate";case sy.MetadataDelegateRole.Collection:return"collection_delegate";case sy.MetadataDelegateRole.Use:return"use_delegate";case sy.MetadataDelegateRole.Data:return"data_delegate";case sy.MetadataDelegateRole.ProgrammableConfig:return"programmable_config_delegate";case sy.MetadataDelegateRole.DataItem:return"data_item_delegate";case sy.MetadataDelegateRole.CollectionItem:return"collection_item_delegate";case sy.MetadataDelegateRole.ProgrammableConfigItem:return"prog_config_item_delegate";default:throw new _0t.TokenMetadataError(`Invalid MetadataDelegateRoleArgs ${n}`)}},n=>n)}U6.getMetadataDelegateRoleSeedSerializer=E0t;var V6={};Object.defineProperty(V6,"__esModule",{value:!0});V6.getHolderDelegateRoleSeedSerializer=void 0;const Ime=q,x0t=Wb,T0t=XX;function R0t(){return(0,Ime.mapSerializer)((0,Ime.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case T0t.HolderDelegateRole.PrintDelegate:return"print_delegate";default:throw new x0t.TokenMetadataError(`Invalid PrintDelegateRoleArgs ${n}`)}},n=>n)}V6.getHolderDelegateRoleSeedSerializer=R0t;var Ta={},Hs={},fm={},q6={},So={};Object.defineProperty(So,"__esModule",{value:!0});So.safeFetchAddressLookupTableFromSeeds=So.fetchAddressLookupTableFromSeeds=So.findAddressLookupTablePda=So.getAddressLookupTableGpaBuilder=So.safeFetchAllAddressLookupTable=So.fetchAllAddressLookupTable=So.safeFetchAddressLookupTable=So.fetchAddressLookupTable=So.deserializeAddressLookupTable=So.getAddressLookupTableAccountDataSerializer=void 0;const ib=Z,io=q;function Fxe(){return(0,io.mapSerializer)((0,io.struct)([["discriminator",(0,io.u32)()],["deactivationSlot",(0,io.u64)()],["lastExtendedSlot",(0,io.u64)()],["lastExtendedStartIndex",(0,io.u8)()],["authority",(0,io.option)((0,io.publicKey)(),{fixed:!0})],["padding",(0,io.u16)()],["addresses",(0,io.array)((0,io.publicKey)(),{size:"remainder"})]],{description:"AddressLookupTableAccountData"}),n=>({...n,discriminator:1,padding:0}))}So.getAddressLookupTableAccountDataSerializer=Fxe;function CT(n){return(0,ib.deserializeAccount)(n,Fxe())}So.deserializeAddressLookupTable=CT;async function Uxe(n,e,t){const r=await n.rpc.getAccount((0,ib.publicKey)(e,!1),t);return(0,ib.assertAccountExists)(r,"AddressLookupTable"),CT(r)}So.fetchAddressLookupTable=Uxe;async function Vxe(n,e,t){const r=await n.rpc.getAccount((0,ib.publicKey)(e,!1),t);return r.exists?CT(r):null}So.safeFetchAddressLookupTable=Vxe;async function C0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ib.publicKey)(s,!1)),t)).map(s=>((0,ib.assertAccountExists)(s,"AddressLookupTable"),CT(s)))}So.fetchAllAddressLookupTable=C0t;async function M0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ib.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>CT(s))}So.safeFetchAllAddressLookupTable=M0t;function B0t(n){const e=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return(0,ib.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,io.u32)()],deactivationSlot:[4,(0,io.u64)()],lastExtendedSlot:[12,(0,io.u64)()],lastExtendedStartIndex:[20,(0,io.u8)()],authority:[21,(0,io.option)((0,io.publicKey)(),{fixed:!0})],padding:[54,(0,io.u16)()],addresses:[56,(0,io.array)((0,io.publicKey)(),{size:"remainder"})]}).deserializeUsing(t=>CT(t)).whereField("discriminator",1)}So.getAddressLookupTableGpaBuilder=B0t;function sQ(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return n.eddsa.findPda(t,[(0,io.publicKey)().serialize(e.authority),(0,io.u64)().serialize(e.recentSlot)])}So.findAddressLookupTablePda=sQ;async function z0t(n,e,t){return Uxe(n,sQ(n,e),t)}So.fetchAddressLookupTableFromSeeds=z0t;async function $0t(n,e,t){return Vxe(n,sQ(n,e),t)}So.safeFetchAddressLookupTableFromSeeds=$0t;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});Ra.getMintSize=Ra.getMintGpaBuilder=Ra.safeFetchAllMint=Ra.fetchAllMint=Ra.safeFetchMint=Ra.fetchMint=Ra.deserializeMint=Ra.getMintAccountDataSerializer=void 0;const ob=Z,Yo=q;function qxe(){return(0,Yo.struct)([["mintAuthority",(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})],["supply",(0,Yo.u64)()],["decimals",(0,Yo.u8)()],["isInitialized",(0,Yo.bool)()],["freezeAuthority",(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})]],{description:"MintAccountData"})}Ra.getMintAccountDataSerializer=qxe;function MT(n){return(0,ob.deserializeAccount)(n,qxe())}Ra.deserializeMint=MT;async function D0t(n,e,t){const r=await n.rpc.getAccount((0,ob.publicKey)(e,!1),t);return(0,ob.assertAccountExists)(r,"Mint"),MT(r)}Ra.fetchMint=D0t;async function O0t(n,e,t){const r=await n.rpc.getAccount((0,ob.publicKey)(e,!1),t);return r.exists?MT(r):null}Ra.safeFetchMint=O0t;async function K0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ob.publicKey)(s,!1)),t)).map(s=>((0,ob.assertAccountExists)(s,"Mint"),MT(s)))}Ra.fetchAllMint=K0t;async function L0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ob.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>MT(s))}Ra.safeFetchAllMint=L0t;function W0t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,ob.gpaBuilder)(n,e).registerFields({mintAuthority:[0,(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})],supply:[36,(0,Yo.u64)()],decimals:[44,(0,Yo.u8)()],isInitialized:[45,(0,Yo.bool)()],freezeAuthority:[46,(0,Yo.option)((0,Yo.publicKey)(),{prefix:(0,Yo.u32)(),fixed:!0})]}).deserializeUsing(t=>MT(t)).whereSize(82)}Ra.getMintGpaBuilder=W0t;function N0t(){return 82}Ra.getMintSize=N0t;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.getMultisigSize=Ca.getMultisigGpaBuilder=Ca.safeFetchAllMultisig=Ca.fetchAllMultisig=Ca.safeFetchMultisig=Ca.fetchMultisig=Ca.deserializeMultisig=Ca.getMultisigAccountDataSerializer=void 0;const ab=Z,Ql=q;function jxe(){return(0,Ql.struct)([["m",(0,Ql.u8)()],["n",(0,Ql.u8)()],["isInitialized",(0,Ql.bool)()],["signers",(0,Ql.array)((0,Ql.publicKey)(),{size:11})]],{description:"MultisigAccountData"})}Ca.getMultisigAccountDataSerializer=jxe;function BT(n){return(0,ab.deserializeAccount)(n,jxe())}Ca.deserializeMultisig=BT;async function F0t(n,e,t){const r=await n.rpc.getAccount((0,ab.publicKey)(e,!1),t);return(0,ab.assertAccountExists)(r,"Multisig"),BT(r)}Ca.fetchMultisig=F0t;async function U0t(n,e,t){const r=await n.rpc.getAccount((0,ab.publicKey)(e,!1),t);return r.exists?BT(r):null}Ca.safeFetchMultisig=U0t;async function V0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ab.publicKey)(s,!1)),t)).map(s=>((0,ab.assertAccountExists)(s,"Multisig"),BT(s)))}Ca.fetchAllMultisig=V0t;async function q0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ab.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>BT(s))}Ca.safeFetchAllMultisig=q0t;function j0t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,ab.gpaBuilder)(n,e).registerFields({m:[0,(0,Ql.u8)()],n:[1,(0,Ql.u8)()],isInitialized:[2,(0,Ql.bool)()],signers:[3,(0,Ql.array)((0,Ql.publicKey)(),{size:11})]}).deserializeUsing(t=>BT(t)).whereSize(355)}Ca.getMultisigGpaBuilder=j0t;function H0t(){return 355}Ca.getMultisigSize=H0t;var Ma={},j6={},Hxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.MintTokens=0]="MintTokens",s[s.FreezeAccount=1]="FreezeAccount",s[s.AccountOwner=2]="AccountOwner",s[s.CloseAccount=3]="CloseAccount"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(Hxe);var Gxe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initialized=1]="Initialized",s[s.Frozen=2]="Frozen"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(Gxe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Hxe,n),t(Gxe,n)})(j6);Object.defineProperty(Ma,"__esModule",{value:!0});Ma.getTokenSize=Ma.getTokenGpaBuilder=Ma.safeFetchAllToken=Ma.fetchAllToken=Ma.safeFetchToken=Ma.fetchToken=Ma.deserializeToken=Ma.getTokenAccountDataSerializer=void 0;const cb=Z,ms=q,Yxe=j6;function Zxe(){return(0,ms.struct)([["mint",(0,ms.publicKey)()],["owner",(0,ms.publicKey)()],["amount",(0,ms.u64)()],["delegate",(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})],["state",(0,Yxe.getTokenStateSerializer)()],["isNative",(0,ms.option)((0,ms.u64)(),{prefix:(0,ms.u32)(),fixed:!0})],["delegatedAmount",(0,ms.u64)()],["closeAuthority",(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})]],{description:"TokenAccountData"})}Ma.getTokenAccountDataSerializer=Zxe;function zT(n){return(0,cb.deserializeAccount)(n,Zxe())}Ma.deserializeToken=zT;async function G0t(n,e,t){const r=await n.rpc.getAccount((0,cb.publicKey)(e,!1),t);return(0,cb.assertAccountExists)(r,"Token"),zT(r)}Ma.fetchToken=G0t;async function Y0t(n,e,t){const r=await n.rpc.getAccount((0,cb.publicKey)(e,!1),t);return r.exists?zT(r):null}Ma.safeFetchToken=Y0t;async function Z0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,cb.publicKey)(s,!1)),t)).map(s=>((0,cb.assertAccountExists)(s,"Token"),zT(s)))}Ma.fetchAllToken=Z0t;async function J0t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,cb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>zT(s))}Ma.safeFetchAllToken=J0t;function X0t(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,cb.gpaBuilder)(n,e).registerFields({mint:[0,(0,ms.publicKey)()],owner:[32,(0,ms.publicKey)()],amount:[64,(0,ms.u64)()],delegate:[72,(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})],state:[108,(0,Yxe.getTokenStateSerializer)()],isNative:[109,(0,ms.option)((0,ms.u64)(),{prefix:(0,ms.u32)(),fixed:!0})],delegatedAmount:[121,(0,ms.u64)()],closeAuthority:[129,(0,ms.option)((0,ms.publicKey)(),{prefix:(0,ms.u32)(),fixed:!0})]}).deserializeUsing(t=>zT(t)).whereSize(165)}Ma.getTokenGpaBuilder=X0t;function Q0t(){return 165}Ma.getTokenSize=Q0t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(So,n),t(Ra,n),t(Ca,n),t(Ma,n)})(q6);var kh={},Kf={};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.getMplSystemExtrasErrorFromName=Kf.getMplSystemExtrasErrorFromCode=Kf.SysExInvalidOwnerForSourceError=Kf.SysExInvalidSystemProgramError=void 0;const Jxe=Z,iQ=new Map,oQ=new Map;class aQ extends Jxe.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}Kf.SysExInvalidSystemProgramError=aQ;iQ.set(0,aQ);oQ.set("InvalidSystemProgram",aQ);class cQ extends Jxe.ProgramError{constructor(e,t){super("Invalid Program Owner For The Source Account",e,t),this.name="InvalidOwnerForSource",this.code=1}}Kf.SysExInvalidOwnerForSourceError=cQ;iQ.set(1,cQ);oQ.set("InvalidOwnerForSource",cQ);function e1t(n,e,t){const r=iQ.get(n);return r?new r(e,t):null}Kf.getMplSystemExtrasErrorFromCode=e1t;function t1t(n,e,t){const r=oQ.get(n);return r?new r(e,t):null}Kf.getMplSystemExtrasErrorFromName=t1t;var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.getMplTokenExtrasErrorFromName=ko.getMplTokenExtrasErrorFromCode=ko.TokExCannotCreateNonAssociatedTokenError=ko.TokExInvalidTokenOwnerError=ko.TokExInvalidTokenMintError=ko.TokExInvalidProgramOwnerError=ko.TokExInvalidAssociatedTokenAccountError=ko.TokExInvalidAssociatedTokenProgramError=ko.TokExInvalidTokenProgramError=ko.TokExInvalidSystemProgramError=void 0;const Nb=Z,hm=new Map,gm=new Map;class uQ extends Nb.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}ko.TokExInvalidSystemProgramError=uQ;hm.set(0,uQ);gm.set("InvalidSystemProgram",uQ);class lQ extends Nb.ProgramError{constructor(e,t){super("Invalid Token Program",e,t),this.name="InvalidTokenProgram",this.code=1}}ko.TokExInvalidTokenProgramError=lQ;hm.set(1,lQ);gm.set("InvalidTokenProgram",lQ);class dQ extends Nb.ProgramError{constructor(e,t){super("Invalid Associated Token Program",e,t),this.name="InvalidAssociatedTokenProgram",this.code=2}}ko.TokExInvalidAssociatedTokenProgramError=dQ;hm.set(2,dQ);gm.set("InvalidAssociatedTokenProgram",dQ);class fQ extends Nb.ProgramError{constructor(e,t){super("Invalid Associated Token Account: it should derive from the provided mint and owner",e,t),this.name="InvalidAssociatedTokenAccount",this.code=3}}ko.TokExInvalidAssociatedTokenAccountError=fQ;hm.set(3,fQ);gm.set("InvalidAssociatedTokenAccount",fQ);class hQ extends Nb.ProgramError{constructor(e,t){super("Invalid Program Owner",e,t),this.name="InvalidProgramOwner",this.code=4}}ko.TokExInvalidProgramOwnerError=hQ;hm.set(4,hQ);gm.set("InvalidProgramOwner",hQ);class gQ extends Nb.ProgramError{constructor(e,t){super("Invalid Token Mint: it should be the same as the provided mint account",e,t),this.name="InvalidTokenMint",this.code=5}}ko.TokExInvalidTokenMintError=gQ;hm.set(5,gQ);gm.set("InvalidTokenMint",gQ);class mQ extends Nb.ProgramError{constructor(e,t){super("Invalid Program Owner: it should be the same as the provided owner account",e,t),this.name="InvalidTokenOwner",this.code=6}}ko.TokExInvalidTokenOwnerError=mQ;hm.set(6,mQ);gm.set("InvalidTokenOwner",mQ);class yQ extends Nb.ProgramError{constructor(e,t){super("Cannot create non-associated token accounts as they would need to sign the transaction. Please provide an associated token account instead",e,t),this.name="CannotCreateNonAssociatedToken",this.code=7}}ko.TokExCannotCreateNonAssociatedTokenError=yQ;hm.set(7,yQ);gm.set("CannotCreateNonAssociatedToken",yQ);function r1t(n,e,t){const r=hm.get(n);return r?new r(e,t):null}ko.getMplTokenExtrasErrorFromCode=r1t;function n1t(n,e,t){const r=gm.get(n);return r?new r(e,t):null}ko.getMplTokenExtrasErrorFromName=n1t;var kw={};Object.defineProperty(kw,"__esModule",{value:!0});kw.getSplAddressLookupTableErrorFromName=kw.getSplAddressLookupTableErrorFromCode=void 0;const s1t=new Map,i1t=new Map;function o1t(n,e,t){const r=s1t.get(n);return r?new r(e,t):null}kw.getSplAddressLookupTableErrorFromCode=o1t;function a1t(n,e,t){const r=i1t.get(n);return r?new r(e,t):null}kw.getSplAddressLookupTableErrorFromName=a1t;var bp={};Object.defineProperty(bp,"__esModule",{value:!0});bp.getSplAssociatedTokenErrorFromName=bp.getSplAssociatedTokenErrorFromCode=bp.AtaInvalidOwnerError=void 0;const c1t=Z,Xxe=new Map,Qxe=new Map;class pQ extends c1t.ProgramError{constructor(e,t){super("Associated token account owner does not match address derivation",e,t),this.name="InvalidOwner",this.code=0}}bp.AtaInvalidOwnerError=pQ;Xxe.set(0,pQ);Qxe.set("InvalidOwner",pQ);function u1t(n,e,t){const r=Xxe.get(n);return r?new r(e,t):null}bp.getSplAssociatedTokenErrorFromCode=u1t;function l1t(n,e,t){const r=Qxe.get(n);return r?new r(e,t):null}bp.getSplAssociatedTokenErrorFromName=l1t;var vw={};Object.defineProperty(vw,"__esModule",{value:!0});vw.getSplComputeBudgetErrorFromName=vw.getSplComputeBudgetErrorFromCode=void 0;const d1t=new Map,f1t=new Map;function h1t(n,e,t){const r=d1t.get(n);return r?new r(e,t):null}vw.getSplComputeBudgetErrorFromCode=h1t;function g1t(n,e,t){const r=f1t.get(n);return r?new r(e,t):null}vw.getSplComputeBudgetErrorFromName=g1t;var Aw={};Object.defineProperty(Aw,"__esModule",{value:!0});Aw.getSplMemoErrorFromName=Aw.getSplMemoErrorFromCode=void 0;const m1t=new Map,y1t=new Map;function p1t(n,e,t){const r=m1t.get(n);return r?new r(e,t):null}Aw.getSplMemoErrorFromCode=p1t;function b1t(n,e,t){const r=y1t.get(n);return r?new r(e,t):null}Aw.getSplMemoErrorFromName=b1t;var ww={};Object.defineProperty(ww,"__esModule",{value:!0});ww.getSplSystemErrorFromName=ww.getSplSystemErrorFromCode=void 0;const S1t=new Map,k1t=new Map;function v1t(n,e,t){const r=S1t.get(n);return r?new r(e,t):null}ww.getSplSystemErrorFromCode=v1t;function A1t(n,e,t){const r=k1t.get(n);return r?new r(e,t):null}ww.getSplSystemErrorFromName=A1t;var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.getSplTokenErrorFromName=vr.getSplTokenErrorFromCode=vr.TokNonNativeNotSupportedError=vr.TokMintDecimalsMismatchError=vr.TokAccountFrozenError=vr.TokMintCannotFreezeError=vr.TokAuthorityTypeNotSupportedError=vr.TokOverflowError=vr.TokInvalidStateError=vr.TokInvalidInstructionError=vr.TokNonNativeHasBalanceError=vr.TokNativeNotSupportedError=vr.TokUninitializedStateError=vr.TokInvalidNumberOfRequiredSignersError=vr.TokInvalidNumberOfProvidedSignersError=vr.TokAlreadyInUseError=vr.TokFixedSupplyError=vr.TokOwnerMismatchError=vr.TokMintMismatchError=vr.TokInvalidMintError=vr.TokInsufficientFundsError=vr.TokNotRentExemptError=void 0;const Vo=Z,Do=new Map,Oo=new Map;class bQ extends Vo.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=0}}vr.TokNotRentExemptError=bQ;Do.set(0,bQ);Oo.set("NotRentExempt",bQ);class SQ extends Vo.ProgramError{constructor(e,t){super("Insufficient funds",e,t),this.name="InsufficientFunds",this.code=1}}vr.TokInsufficientFundsError=SQ;Do.set(1,SQ);Oo.set("InsufficientFunds",SQ);class kQ extends Vo.ProgramError{constructor(e,t){super("Invalid Mint",e,t),this.name="InvalidMint",this.code=2}}vr.TokInvalidMintError=kQ;Do.set(2,kQ);Oo.set("InvalidMint",kQ);class vQ extends Vo.ProgramError{constructor(e,t){super("Account not associated with this Mint",e,t),this.name="MintMismatch",this.code=3}}vr.TokMintMismatchError=vQ;Do.set(3,vQ);Oo.set("MintMismatch",vQ);class AQ extends Vo.ProgramError{constructor(e,t){super("Owner does not match",e,t),this.name="OwnerMismatch",this.code=4}}vr.TokOwnerMismatchError=AQ;Do.set(4,AQ);Oo.set("OwnerMismatch",AQ);class wQ extends Vo.ProgramError{constructor(e,t){super("Fixed supply",e,t),this.name="FixedSupply",this.code=5}}vr.TokFixedSupplyError=wQ;Do.set(5,wQ);Oo.set("FixedSupply",wQ);class IQ extends Vo.ProgramError{constructor(e,t){super("Already in use",e,t),this.name="AlreadyInUse",this.code=6}}vr.TokAlreadyInUseError=IQ;Do.set(6,IQ);Oo.set("AlreadyInUse",IQ);class PQ extends Vo.ProgramError{constructor(e,t){super("Invalid number of provided signers",e,t),this.name="InvalidNumberOfProvidedSigners",this.code=7}}vr.TokInvalidNumberOfProvidedSignersError=PQ;Do.set(7,PQ);Oo.set("InvalidNumberOfProvidedSigners",PQ);class _Q extends Vo.ProgramError{constructor(e,t){super("Invalid number of required signers",e,t),this.name="InvalidNumberOfRequiredSigners",this.code=8}}vr.TokInvalidNumberOfRequiredSignersError=_Q;Do.set(8,_Q);Oo.set("InvalidNumberOfRequiredSigners",_Q);class EQ extends Vo.ProgramError{constructor(e,t){super("State is unititialized",e,t),this.name="UninitializedState",this.code=9}}vr.TokUninitializedStateError=EQ;Do.set(9,EQ);Oo.set("UninitializedState",EQ);class xQ extends Vo.ProgramError{constructor(e,t){super("Instruction does not support native tokens",e,t),this.name="NativeNotSupported",this.code=10}}vr.TokNativeNotSupportedError=xQ;Do.set(10,xQ);Oo.set("NativeNotSupported",xQ);class TQ extends Vo.ProgramError{constructor(e,t){super("Non-native account can only be closed if its balance is zero",e,t),this.name="NonNativeHasBalance",this.code=11}}vr.TokNonNativeHasBalanceError=TQ;Do.set(11,TQ);Oo.set("NonNativeHasBalance",TQ);class RQ extends Vo.ProgramError{constructor(e,t){super("Invalid instruction",e,t),this.name="InvalidInstruction",this.code=12}}vr.TokInvalidInstructionError=RQ;Do.set(12,RQ);Oo.set("InvalidInstruction",RQ);class CQ extends Vo.ProgramError{constructor(e,t){super("State is invalid for requested operation",e,t),this.name="InvalidState",this.code=13}}vr.TokInvalidStateError=CQ;Do.set(13,CQ);Oo.set("InvalidState",CQ);class MQ extends Vo.ProgramError{constructor(e,t){super("Operation overflowed",e,t),this.name="Overflow",this.code=14}}vr.TokOverflowError=MQ;Do.set(14,MQ);Oo.set("Overflow",MQ);class BQ extends Vo.ProgramError{constructor(e,t){super("Account does not support specified authority type",e,t),this.name="AuthorityTypeNotSupported",this.code=15}}vr.TokAuthorityTypeNotSupportedError=BQ;Do.set(15,BQ);Oo.set("AuthorityTypeNotSupported",BQ);class zQ extends Vo.ProgramError{constructor(e,t){super("This token mint cannot freeze accounts",e,t),this.name="MintCannotFreeze",this.code=16}}vr.TokMintCannotFreezeError=zQ;Do.set(16,zQ);Oo.set("MintCannotFreeze",zQ);class $Q extends Vo.ProgramError{constructor(e,t){super("Account is frozen",e,t),this.name="AccountFrozen",this.code=17}}vr.TokAccountFrozenError=$Q;Do.set(17,$Q);Oo.set("AccountFrozen",$Q);class DQ extends Vo.ProgramError{constructor(e,t){super("The provided decimals value different from the Mint decimals",e,t),this.name="MintDecimalsMismatch",this.code=18}}vr.TokMintDecimalsMismatchError=DQ;Do.set(18,DQ);Oo.set("MintDecimalsMismatch",DQ);class OQ extends Vo.ProgramError{constructor(e,t){super("Instruction does not support non-native tokens",e,t),this.name="NonNativeNotSupported",this.code=19}}vr.TokNonNativeNotSupportedError=OQ;Do.set(19,OQ);Oo.set("NonNativeNotSupported",OQ);function w1t(n,e,t){const r=Do.get(n);return r?new r(e,t):null}vr.getSplTokenErrorFromCode=w1t;function I1t(n,e,t){const r=Oo.get(n);return r?new r(e,t):null}vr.getSplTokenErrorFromName=I1t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Kf,n),t(ko,n),t(kw,n),t(bp,n),t(vw,n),t(Aw,n),t(ww,n),t(vr,n)})(kh);var eTe={},Iw={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.getAccountMetasAndSigners=ir.expectPda=ir.expectPublicKey=ir.expectSome=void 0;const j2=Z;function P1t(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}ir.expectSome=P1t;function _1t(n){if(!n)throw new Error("Expected a PublicKey.");return(0,j2.publicKey)(n,!1)}ir.expectPublicKey=_1t;function E1t(n){if(!n||!Array.isArray(n)||!(0,j2.isPda)(n))throw new Error("Expected a PDA.");return n}ir.expectPda=E1t;function x1t(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,j2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,j2.publicKey)(i.value,!1),isSigner:(0,j2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}ir.getAccountMetasAndSigners=x1t;Object.defineProperty(Iw,"__esModule",{value:!0});Iw.addMemo=Iw.getAddMemoInstructionDataSerializer=void 0;const T1t=Z,Pme=q,R1t=ir;function tTe(){return(0,Pme.struct)([["memo",(0,Pme.string)()]],{description:"AddMemoInstructionData"})}Iw.getAddMemoInstructionDataSerializer=tTe;function C1t(n,e){const t=n.programs.getPublicKey("splMemo","Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,R1t.getAccountMetasAndSigners)(i,"programId",t),c=tTe().serialize(s),u=0;return(0,T1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Iw.addMemo=C1t;var Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});Pw.amountToUiAmount=Pw.getAmountToUiAmountInstructionDataSerializer=void 0;const M1t=Z,q$=q,B1t=ir;function rTe(){return(0,q$.mapSerializer)((0,q$.struct)([["discriminator",(0,q$.u8)()],["amount",(0,q$.u64)()]],{description:"AmountToUiAmountInstructionData"}),n=>({...n,discriminator:23}))}Pw.getAmountToUiAmountInstructionDataSerializer=rTe;function z1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,B1t.getAccountMetasAndSigners)(i,"programId",t),c=rTe().serialize(s),u=0;return(0,M1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Pw.amountToUiAmount=z1t;var _w={};Object.defineProperty(_w,"__esModule",{value:!0});_w.approveTokenDelegate=_w.getApproveTokenDelegateInstructionDataSerializer=void 0;const $1t=Z,j$=q,D1t=ir;function nTe(){return(0,j$.mapSerializer)((0,j$.struct)([["discriminator",(0,j$.u8)()],["amount",(0,j$.u64)()]],{description:"ApproveTokenDelegateInstructionData"}),n=>({...n,discriminator:4}))}_w.getApproveTokenDelegateInstructionDataSerializer=nTe;function O1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,D1t.getAccountMetasAndSigners)(i,"programId",t),c=nTe().serialize(s),u=0;return(0,$1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_w.approveTokenDelegate=O1t;var Ew={};Object.defineProperty(Ew,"__esModule",{value:!0});Ew.approveTokenDelegateChecked=Ew.getApproveTokenDelegateCheckedInstructionDataSerializer=void 0;const K1t=Z,qR=q,L1t=ir;function sTe(){return(0,qR.mapSerializer)((0,qR.struct)([["discriminator",(0,qR.u8)()],["amount",(0,qR.u64)()],["decimals",(0,qR.u8)()]],{description:"ApproveTokenDelegateCheckedInstructionData"}),n=>({...n,discriminator:13}))}Ew.getApproveTokenDelegateCheckedInstructionDataSerializer=sTe;function W1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},delegate:{index:2,isWritable:!1,value:e.delegate??null},owner:{index:3,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,L1t.getAccountMetasAndSigners)(i,"programId",t),c=sTe().serialize(s),u=0;return(0,K1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ew.approveTokenDelegateChecked=W1t;var xw={};Object.defineProperty(xw,"__esModule",{value:!0});xw.burnToken=xw.getBurnTokenInstructionDataSerializer=void 0;const N1t=Z,H$=q,F1t=ir;function iTe(){return(0,H$.mapSerializer)((0,H$.struct)([["discriminator",(0,H$.u8)()],["amount",(0,H$.u64)()]],{description:"BurnTokenInstructionData"}),n=>({...n,discriminator:8}))}xw.getBurnTokenInstructionDataSerializer=iTe;function U1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,F1t.getAccountMetasAndSigners)(i,"programId",t),c=iTe().serialize(s),u=0;return(0,N1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xw.burnToken=U1t;var Tw={};Object.defineProperty(Tw,"__esModule",{value:!0});Tw.burnTokenChecked=Tw.getBurnTokenCheckedInstructionDataSerializer=void 0;const V1t=Z,jR=q,q1t=ir;function oTe(){return(0,jR.mapSerializer)((0,jR.struct)([["discriminator",(0,jR.u8)()],["amount",(0,jR.u64)()],["decimals",(0,jR.u8)()]],{description:"BurnTokenCheckedInstructionData"}),n=>({...n,discriminator:15}))}Tw.getBurnTokenCheckedInstructionDataSerializer=oTe;function j1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,q1t.getAccountMetasAndSigners)(i,"programId",t),c=oTe().serialize(s),u=0;return(0,V1t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Tw.burnTokenChecked=j1t;var Rw={};Object.defineProperty(Rw,"__esModule",{value:!0});Rw.closeLut=Rw.getCloseLutInstructionDataSerializer=void 0;const H1t=Z,qN=q,G1t=ir;function aTe(){return(0,qN.mapSerializer)((0,qN.struct)([["discriminator",(0,qN.u32)()]],{description:"CloseLutInstructionData"}),n=>({...n,discriminator:4}))}Rw.getCloseLutInstructionDataSerializer=aTe;function Y1t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},recipient:{index:2,isWritable:!0,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,G1t.getAccountMetasAndSigners)(s,"programId",t),a=aTe().serialize({}),c=0;return(0,H1t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Rw.closeLut=Y1t;var Cw={};Object.defineProperty(Cw,"__esModule",{value:!0});Cw.closeToken=Cw.getCloseTokenInstructionDataSerializer=void 0;const Z1t=Z,jN=q,J1t=ir;function cTe(){return(0,jN.mapSerializer)((0,jN.struct)([["discriminator",(0,jN.u8)()]],{description:"CloseTokenInstructionData"}),n=>({...n,discriminator:9}))}Cw.getCloseTokenInstructionDataSerializer=cTe;function X1t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},destination:{index:1,isWritable:!0,value:e.destination??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,J1t.getAccountMetasAndSigners)(s,"programId",t),a=cTe().serialize({}),c=0;return(0,Z1t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Cw.closeToken=X1t;var Mw={};Object.defineProperty(Mw,"__esModule",{value:!0});Mw.createAccount=Mw.getCreateAccountInstructionDataSerializer=void 0;const Hq=Z,Dk=q,Q1t=ir;function uTe(){return(0,Dk.mapSerializer)((0,Dk.struct)([["discriminator",(0,Dk.u32)()],["lamports",(0,Hq.mapAmountSerializer)((0,Dk.u64)(),"SOL",9)],["space",(0,Dk.u64)()],["programId",(0,Dk.publicKey)()]],{description:"CreateAccountInstructionData"}),n=>({...n,discriminator:0}))}Mw.getCreateAccountInstructionDataSerializer=uTe;function eSt(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null}},s={...e};r.payer.value||(r.payer.value=n.payer);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Q1t.getAccountMetasAndSigners)(i,"programId",t),c=uTe().serialize(s),u=Number(e.space)+Hq.ACCOUNT_HEADER_SIZE;return(0,Hq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Mw.createAccount=eSt;var Bw={};Object.defineProperty(Bw,"__esModule",{value:!0});Bw.createAccountWithRent=Bw.getCreateAccountWithRentInstructionDataSerializer=void 0;const _me=Z,HR=q,tSt=ir;function lTe(){return(0,HR.mapSerializer)((0,HR.struct)([["discriminator",(0,HR.u8)()],["space",(0,HR.u64)()],["programId",(0,HR.publicKey)()]],{description:"CreateAccountWithRentInstructionData"}),n=>({...n,discriminator:0}))}Bw.getCreateAccountWithRentInstructionDataSerializer=lTe;function rSt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,tSt.getAccountMetasAndSigners)(i,"programId",t),c=lTe().serialize(s),u=Number(e.space)+_me.ACCOUNT_HEADER_SIZE;return(0,_me.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Bw.createAccountWithRent=rSt;var H6={},$T={},G6={};Object.defineProperty(G6,"__esModule",{value:!0});G6.findAssociatedTokenPda=void 0;const HN=q;function nSt(n,e){const t=n.programs.getPublicKey("splAssociatedToken"),r=e.tokenProgramId??n.programs.getPublicKey("splToken");return n.eddsa.findPda(t,[(0,HN.publicKey)().serialize(e.owner),(0,HN.publicKey)().serialize(r),(0,HN.publicKey)().serialize(e.mint)])}G6.findAssociatedTokenPda=nSt;var Y6={};Object.defineProperty(Y6,"__esModule",{value:!0});Y6.resolveExtendLutBytes=void 0;const sSt=(n,e,t,r)=>32*t.addresses.length;Y6.resolveExtendLutBytes=sSt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(G6,n),t(Y6,n)})($T);Object.defineProperty(H6,"__esModule",{value:!0});H6.createAssociatedToken=void 0;const Eme=Z,iSt=$T,oSt=q6,G$=ir;function aSt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,iSt.findAssociatedTokenPda)(n,{owner:(0,G$.expectPublicKey)(r.owner.value),mint:(0,G$.expectPublicKey)(r.mint.value),tokenProgramId:(0,G$.expectPublicKey)(r.tokenProgram.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,G$.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=(0,oSt.getTokenSize)()+Eme.ACCOUNT_HEADER_SIZE;return(0,Eme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}H6.createAssociatedToken=aSt;var zw={};Object.defineProperty(zw,"__esModule",{value:!0});zw.createEmptyLut=zw.getCreateEmptyLutInstructionDataSerializer=void 0;const xme=Z,GR=q,cSt=q6,Y$=ir;function dTe(){return(0,GR.mapSerializer)((0,GR.struct)([["discriminator",(0,GR.u32)()],["recentSlot",(0,GR.u64)()],["bump",(0,GR.u8)()]],{description:"CreateEmptyLutInstructionData"}),n=>({...n,discriminator:0}))}zw.getCreateEmptyLutInstructionDataSerializer=dTe;function uSt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.address.value||(r.address.value=(0,cSt.findAddressLookupTablePda)(n,{authority:(0,Y$.expectPublicKey)(r.authority.value),recentSlot:(0,Y$.expectSome)(s.recentSlot)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.bump||(s.bump=(0,Y$.expectPda)(r.address.value)[1]);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Y$.getAccountMetasAndSigners)(i,"programId",t),c=dTe().serialize(s),u=56+xme.ACCOUNT_HEADER_SIZE;return(0,xme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zw.createEmptyLut=uSt;var Z6={};Object.defineProperty(Z6,"__esModule",{value:!0});Z6.createIdempotentAssociatedToken=void 0;const lSt=Z,dSt=ir;function fSt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,dSt.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,lSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Z6.createIdempotentAssociatedToken=fSt;var $w={};Object.defineProperty($w,"__esModule",{value:!0});$w.createTokenIfMissing=$w.getCreateTokenIfMissingInstructionDataSerializer=void 0;const hSt=Z,GN=q,gSt=$T,YR=ir;function fTe(){return(0,GN.mapSerializer)((0,GN.struct)([["discriminator",(0,GN.u8)()]],{description:"CreateTokenIfMissingInstructionData"}),n=>({...n,discriminator:0}))}$w.getCreateTokenIfMissingInstructionDataSerializer=fTe;function mSt(n,e){const t=n.programs.getPublicKey("mplTokenExtras","TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p"),r={payer:{index:0,isWritable:!0,value:e.payer??null},token:{index:1,isWritable:!1,value:e.token??null},mint:{index:2,isWritable:!1,value:e.mint??null},owner:{index:3,isWritable:!1,value:e.owner??null},ata:{index:4,isWritable:!0,value:e.ata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:7,isWritable:!1,value:e.ataProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,gSt.findAssociatedTokenPda)(n,{owner:(0,YR.expectPublicKey)(r.owner.value),mint:(0,YR.expectPublicKey)(r.mint.value),tokenProgramId:(0,YR.expectPublicKey)(r.tokenProgram.value)})),r.token.value||(r.token.value=(0,YR.expectSome)(r.ata.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,YR.getAccountMetasAndSigners)(s,"programId",t),a=fTe().serialize({}),c=0;return(0,hSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}$w.createTokenIfMissing=mSt;var Dw={};Object.defineProperty(Dw,"__esModule",{value:!0});Dw.deactivateLut=Dw.getDeactivateLutInstructionDataSerializer=void 0;const ySt=Z,YN=q,pSt=ir;function hTe(){return(0,YN.mapSerializer)((0,YN.struct)([["discriminator",(0,YN.u32)()]],{description:"DeactivateLutInstructionData"}),n=>({...n,discriminator:3}))}Dw.getDeactivateLutInstructionDataSerializer=hTe;function bSt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,pSt.getAccountMetasAndSigners)(s,"programId",t),a=hTe().serialize({}),c=0;return(0,ySt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Dw.deactivateLut=bSt;var Ow={};Object.defineProperty(Ow,"__esModule",{value:!0});Ow.extendLut=Ow.getExtendLutInstructionDataSerializer=void 0;const SSt=Z,Ok=q,kSt=$T,vSt=ir;function gTe(){return(0,Ok.mapSerializer)((0,Ok.struct)([["discriminator",(0,Ok.u32)()],["addresses",(0,Ok.array)((0,Ok.publicKey)(),{size:(0,Ok.u64)()})]],{description:"ExtendLutInstructionData"}),n=>({...n,discriminator:2}))}Ow.getExtendLutInstructionDataSerializer=gTe;function ASt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,vSt.getAccountMetasAndSigners)(i,"programId",t),c=gTe().serialize(s),u=(0,kSt.resolveExtendLutBytes)(n,r,s,t);return(0,SSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ow.extendLut=ASt;var Kw={};Object.defineProperty(Kw,"__esModule",{value:!0});Kw.freezeLut=Kw.getFreezeLutInstructionDataSerializer=void 0;const wSt=Z,ZN=q,ISt=ir;function mTe(){return(0,ZN.mapSerializer)((0,ZN.struct)([["discriminator",(0,ZN.u32)()]],{description:"FreezeLutInstructionData"}),n=>({...n,discriminator:1}))}Kw.getFreezeLutInstructionDataSerializer=mTe;function PSt(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,ISt.getAccountMetasAndSigners)(s,"programId",t),a=mTe().serialize({}),c=0;return(0,wSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Kw.freezeLut=PSt;var Lw={};Object.defineProperty(Lw,"__esModule",{value:!0});Lw.freezeToken=Lw.getFreezeTokenInstructionDataSerializer=void 0;const _St=Z,JN=q,ESt=ir;function yTe(){return(0,JN.mapSerializer)((0,JN.struct)([["discriminator",(0,JN.u8)()]],{description:"FreezeTokenInstructionData"}),n=>({...n,discriminator:10}))}Lw.getFreezeTokenInstructionDataSerializer=yTe;function xSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,ESt.getAccountMetasAndSigners)(s,"programId",t),a=yTe().serialize({}),c=0;return(0,_St.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Lw.freezeToken=xSt;var Ww={};Object.defineProperty(Ww,"__esModule",{value:!0});Ww.getTokenDataSize=Ww.getGetTokenDataSizeInstructionDataSerializer=void 0;const TSt=Z,XN=q,RSt=ir;function pTe(){return(0,XN.mapSerializer)((0,XN.struct)([["discriminator",(0,XN.u8)()]],{description:"GetTokenDataSizeInstructionData"}),n=>({...n,discriminator:21}))}Ww.getGetTokenDataSizeInstructionDataSerializer=pTe;function CSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,RSt.getAccountMetasAndSigners)(s,"programId",t),a=pTe().serialize({}),c=0;return(0,TSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Ww.getTokenDataSize=CSt;var Nw={};Object.defineProperty(Nw,"__esModule",{value:!0});Nw.initializeImmutableOwner=Nw.getInitializeImmutableOwnerInstructionDataSerializer=void 0;const MSt=Z,QN=q,BSt=ir;function bTe(){return(0,QN.mapSerializer)((0,QN.struct)([["discriminator",(0,QN.u8)()]],{description:"InitializeImmutableOwnerInstructionData"}),n=>({...n,discriminator:22}))}Nw.getInitializeImmutableOwnerInstructionDataSerializer=bTe;function zSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,BSt.getAccountMetasAndSigners)(s,"programId",t),a=bTe().serialize({}),c=0;return(0,MSt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Nw.initializeImmutableOwner=zSt;var Fw={};Object.defineProperty(Fw,"__esModule",{value:!0});Fw.initializeMint=Fw.getInitializeMintInstructionDataSerializer=void 0;const Tme=Z,e0=q,$St=ir;function STe(){return(0,e0.mapSerializer)((0,e0.struct)([["discriminator",(0,e0.u8)()],["decimals",(0,e0.u8)()],["mintAuthority",(0,e0.publicKey)()],["freezeAuthority",(0,e0.option)((0,e0.publicKey)())]],{description:"InitializeMintInstructionData"}),n=>({...n,discriminator:0}))}Fw.getInitializeMintInstructionDataSerializer=STe;function DSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Tme.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$St.getAccountMetasAndSigners)(i,"programId",t),c=STe().serialize(s),u=0;return(0,Tme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Fw.initializeMint=DSt;var Uw={};Object.defineProperty(Uw,"__esModule",{value:!0});Uw.initializeMint2=Uw.getInitializeMint2InstructionDataSerializer=void 0;const OSt=Z,t0=q,KSt=ir;function kTe(){return(0,t0.mapSerializer)((0,t0.struct)([["discriminator",(0,t0.u8)()],["decimals",(0,t0.u8)()],["mintAuthority",(0,t0.publicKey)()],["freezeAuthority",(0,t0.option)((0,t0.publicKey)())]],{description:"InitializeMint2InstructionData"}),n=>({...n,discriminator:20}))}Uw.getInitializeMint2InstructionDataSerializer=kTe;function LSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,KSt.getAccountMetasAndSigners)(i,"programId",t),c=kTe().serialize(s),u=0;return(0,OSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Uw.initializeMint2=LSt;var Vw={};Object.defineProperty(Vw,"__esModule",{value:!0});Vw.initializeMultisig=Vw.getInitializeMultisigInstructionDataSerializer=void 0;const Rme=Z,Z$=q,WSt=ir;function vTe(){return(0,Z$.mapSerializer)((0,Z$.struct)([["discriminator",(0,Z$.u8)()],["m",(0,Z$.u8)()]],{description:"InitializeMultisigInstructionData"}),n=>({...n,discriminator:2}))}Vw.getInitializeMultisigInstructionDataSerializer=vTe;function NSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Rme.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,WSt.getAccountMetasAndSigners)(i,"programId",t),c=vTe().serialize(s),u=0;return(0,Rme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Vw.initializeMultisig=NSt;var qw={};Object.defineProperty(qw,"__esModule",{value:!0});qw.initializeMultisig2=qw.getInitializeMultisig2InstructionDataSerializer=void 0;const FSt=Z,J$=q,USt=ir;function ATe(){return(0,J$.mapSerializer)((0,J$.struct)([["discriminator",(0,J$.u8)()],["m",(0,J$.u8)()]],{description:"InitializeMultisig2InstructionData"}),n=>({...n,discriminator:19}))}qw.getInitializeMultisig2InstructionDataSerializer=ATe;function VSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},signer:{index:1,isWritable:!1,value:e.signer??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,USt.getAccountMetasAndSigners)(i,"programId",t),c=ATe().serialize(s),u=0;return(0,FSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qw.initializeMultisig2=VSt;var jw={};Object.defineProperty(jw,"__esModule",{value:!0});jw.initializeToken=jw.getInitializeTokenInstructionDataSerializer=void 0;const Cme=Z,eF=q,qSt=ir;function wTe(){return(0,eF.mapSerializer)((0,eF.struct)([["discriminator",(0,eF.u8)()]],{description:"InitializeTokenInstructionData"}),n=>({...n,discriminator:1}))}jw.getInitializeTokenInstructionDataSerializer=wTe;function jSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null},rent:{index:3,isWritable:!1,value:e.rent??null}};r.rent.value||(r.rent.value=(0,Cme.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,qSt.getAccountMetasAndSigners)(s,"programId",t),a=wTe().serialize({}),c=0;return(0,Cme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}jw.initializeToken=jSt;var Hw={};Object.defineProperty(Hw,"__esModule",{value:!0});Hw.initializeToken2=Hw.getInitializeToken2InstructionDataSerializer=void 0;const Mme=Z,X$=q,HSt=ir;function ITe(){return(0,X$.mapSerializer)((0,X$.struct)([["discriminator",(0,X$.u8)()],["owner",(0,X$.publicKey)()]],{description:"InitializeToken2InstructionData"}),n=>({...n,discriminator:16}))}Hw.getInitializeToken2InstructionDataSerializer=ITe;function GSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},rent:{index:2,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,Mme.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,HSt.getAccountMetasAndSigners)(i,"programId",t),c=ITe().serialize(s),u=0;return(0,Mme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Hw.initializeToken2=GSt;var Gw={};Object.defineProperty(Gw,"__esModule",{value:!0});Gw.initializeToken3=Gw.getInitializeToken3InstructionDataSerializer=void 0;const YSt=Z,Q$=q,ZSt=ir;function PTe(){return(0,Q$.mapSerializer)((0,Q$.struct)([["discriminator",(0,Q$.u8)()],["owner",(0,Q$.publicKey)()]],{description:"InitializeToken3InstructionData"}),n=>({...n,discriminator:18}))}Gw.getInitializeToken3InstructionDataSerializer=PTe;function JSt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ZSt.getAccountMetasAndSigners)(i,"programId",t),c=PTe().serialize(s),u=0;return(0,YSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Gw.initializeToken3=JSt;var Yw={};Object.defineProperty(Yw,"__esModule",{value:!0});Yw.mintTokensTo=Yw.getMintTokensToInstructionDataSerializer=void 0;const XSt=Z,e8=q,QSt=ir;function _Te(){return(0,e8.mapSerializer)((0,e8.struct)([["discriminator",(0,e8.u8)()],["amount",(0,e8.u64)()]],{description:"MintTokensToInstructionData"}),n=>({...n,discriminator:7}))}Yw.getMintTokensToInstructionDataSerializer=_Te;function ekt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e};r.mintAuthority.value||(r.mintAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,QSt.getAccountMetasAndSigners)(i,"programId",t),c=_Te().serialize(s),u=0;return(0,XSt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Yw.mintTokensTo=ekt;var Zw={};Object.defineProperty(Zw,"__esModule",{value:!0});Zw.mintTokensToChecked=Zw.getMintTokensToCheckedInstructionDataSerializer=void 0;const tkt=Z,ZR=q,rkt=ir;function ETe(){return(0,ZR.mapSerializer)((0,ZR.struct)([["discriminator",(0,ZR.u8)()],["amount",(0,ZR.u64)()],["decimals",(0,ZR.u8)()]],{description:"MintTokensToCheckedInstructionData"}),n=>({...n,discriminator:14}))}Zw.getMintTokensToCheckedInstructionDataSerializer=ETe;function nkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,rkt.getAccountMetasAndSigners)(i,"programId",t),c=ETe().serialize(s),u=0;return(0,tkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Zw.mintTokensToChecked=nkt;var J6={};Object.defineProperty(J6,"__esModule",{value:!0});J6.recoverNestedAssociatedToken=void 0;const skt=Z,ikt=ir;function okt(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={nestedAssociatedAccountAddress:{index:0,isWritable:!0,value:e.nestedAssociatedAccountAddress??null},nestedTokenMintAddress:{index:1,isWritable:!1,value:e.nestedTokenMintAddress??null},destinationAssociatedAccountAddress:{index:2,isWritable:!0,value:e.destinationAssociatedAccountAddress??null},ownerAssociatedAccountAddress:{index:3,isWritable:!1,value:e.ownerAssociatedAccountAddress??null},ownerTokenMintAddress:{index:4,isWritable:!1,value:e.ownerTokenMintAddress??null},walletAddress:{index:5,isWritable:!0,value:e.walletAddress??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null}};r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,ikt.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,skt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}J6.recoverNestedAssociatedToken=okt;var Jw={};Object.defineProperty(Jw,"__esModule",{value:!0});Jw.requestHeapFrame=Jw.getRequestHeapFrameInstructionDataSerializer=void 0;const akt=Z,t8=q,ckt=ir;function xTe(){return(0,t8.mapSerializer)((0,t8.struct)([["discriminator",(0,t8.u8)()],["bytes",(0,t8.u32)()]],{description:"RequestHeapFrameInstructionData"}),n=>({...n,discriminator:1}))}Jw.getRequestHeapFrameInstructionDataSerializer=xTe;function ukt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ckt.getAccountMetasAndSigners)(i,"programId",t),c=xTe().serialize(s),u=0;return(0,akt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Jw.requestHeapFrame=ukt;var Xw={};Object.defineProperty(Xw,"__esModule",{value:!0});Xw.requestUnits=Xw.getRequestUnitsInstructionDataSerializer=void 0;const lkt=Z,JR=q,dkt=ir;function TTe(){return(0,JR.mapSerializer)((0,JR.struct)([["discriminator",(0,JR.u8)()],["units",(0,JR.u32)()],["additionalFee",(0,JR.u32)()]],{description:"RequestUnitsInstructionData"}),n=>({...n,discriminator:0}))}Xw.getRequestUnitsInstructionDataSerializer=TTe;function fkt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dkt.getAccountMetasAndSigners)(i,"programId",t),c=TTe().serialize(s),u=0;return(0,lkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Xw.requestUnits=fkt;var Qw={};Object.defineProperty(Qw,"__esModule",{value:!0});Qw.revokeTokenDelegate=Qw.getRevokeTokenDelegateInstructionDataSerializer=void 0;const hkt=Z,tF=q,gkt=ir;function RTe(){return(0,tF.mapSerializer)((0,tF.struct)([["discriminator",(0,tF.u8)()]],{description:"RevokeTokenDelegateInstructionData"}),n=>({...n,discriminator:5}))}Qw.getRevokeTokenDelegateInstructionDataSerializer=RTe;function mkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,gkt.getAccountMetasAndSigners)(s,"programId",t),a=RTe().serialize({}),c=0;return(0,hkt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Qw.revokeTokenDelegate=mkt;var eI={};Object.defineProperty(eI,"__esModule",{value:!0});eI.setAuthority=eI.getSetAuthorityInstructionDataSerializer=void 0;const ykt=Z,XR=q,pkt=ir,bkt=j6;function CTe(){return(0,XR.mapSerializer)((0,XR.struct)([["discriminator",(0,XR.u8)()],["authorityType",(0,bkt.getAuthorityTypeSerializer)()],["newAuthority",(0,XR.option)((0,XR.publicKey)())]],{description:"SetAuthorityInstructionData"}),n=>({...n,discriminator:6}))}eI.getSetAuthorityInstructionDataSerializer=CTe;function Skt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={owned:{index:0,isWritable:!0,value:e.owned??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,pkt.getAccountMetasAndSigners)(i,"programId",t),c=CTe().serialize(s),u=0;return(0,ykt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}eI.setAuthority=Skt;var tI={};Object.defineProperty(tI,"__esModule",{value:!0});tI.setComputeUnitLimit=tI.getSetComputeUnitLimitInstructionDataSerializer=void 0;const kkt=Z,r8=q,vkt=ir;function MTe(){return(0,r8.mapSerializer)((0,r8.struct)([["discriminator",(0,r8.u8)()],["units",(0,r8.u32)()]],{description:"SetComputeUnitLimitInstructionData"}),n=>({...n,discriminator:2}))}tI.getSetComputeUnitLimitInstructionDataSerializer=MTe;function Akt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,vkt.getAccountMetasAndSigners)(i,"programId",t),c=MTe().serialize(s),u=0;return(0,kkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}tI.setComputeUnitLimit=Akt;var rI={};Object.defineProperty(rI,"__esModule",{value:!0});rI.setComputeUnitPrice=rI.getSetComputeUnitPriceInstructionDataSerializer=void 0;const wkt=Z,n8=q,Ikt=ir;function BTe(){return(0,n8.mapSerializer)((0,n8.struct)([["discriminator",(0,n8.u8)()],["microLamports",(0,n8.u64)()]],{description:"SetComputeUnitPriceInstructionData"}),n=>({...n,discriminator:3}))}rI.getSetComputeUnitPriceInstructionDataSerializer=BTe;function Pkt(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ikt.getAccountMetasAndSigners)(i,"programId",t),c=BTe().serialize(s),u=0;return(0,wkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}rI.setComputeUnitPrice=Pkt;var nI={};Object.defineProperty(nI,"__esModule",{value:!0});nI.syncNative=nI.getSyncNativeInstructionDataSerializer=void 0;const _kt=Z,rF=q,Ekt=ir;function zTe(){return(0,rF.mapSerializer)((0,rF.struct)([["discriminator",(0,rF.u8)()]],{description:"SyncNativeInstructionData"}),n=>({...n,discriminator:17}))}nI.getSyncNativeInstructionDataSerializer=zTe;function xkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Ekt.getAccountMetasAndSigners)(s,"programId",t),a=zTe().serialize({}),c=0;return(0,_kt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}nI.syncNative=xkt;var sI={};Object.defineProperty(sI,"__esModule",{value:!0});sI.thawToken=sI.getThawTokenInstructionDataSerializer=void 0;const Tkt=Z,nF=q,Rkt=ir;function $Te(){return(0,nF.mapSerializer)((0,nF.struct)([["discriminator",(0,nF.u8)()]],{description:"ThawTokenInstructionData"}),n=>({...n,discriminator:11}))}sI.getThawTokenInstructionDataSerializer=$Te;function Ckt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Rkt.getAccountMetasAndSigners)(s,"programId",t),a=$Te().serialize({}),c=0;return(0,Tkt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}sI.thawToken=Ckt;var iI={};Object.defineProperty(iI,"__esModule",{value:!0});iI.transferAllSol=iI.getTransferAllSolInstructionDataSerializer=void 0;const Mkt=Z,sF=q,Bkt=ir;function DTe(){return(0,sF.mapSerializer)((0,sF.struct)([["discriminator",(0,sF.u8)()]],{description:"TransferAllSolInstructionData"}),n=>({...n,discriminator:1}))}iI.getTransferAllSolInstructionDataSerializer=DTe;function zkt(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}};r.source.value||(r.source.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Bkt.getAccountMetasAndSigners)(s,"programId",t),a=DTe().serialize({}),c=0;return(0,Mkt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}iI.transferAllSol=zkt;var oI={};Object.defineProperty(oI,"__esModule",{value:!0});oI.transferSol=oI.getTransferSolInstructionDataSerializer=void 0;const OTe=Z,s8=q,$kt=ir;function KTe(){return(0,s8.mapSerializer)((0,s8.struct)([["discriminator",(0,s8.u32)()],["amount",(0,OTe.mapAmountSerializer)((0,s8.u64)(),"SOL",9)]],{description:"TransferSolInstructionData"}),n=>({...n,discriminator:2}))}oI.getTransferSolInstructionDataSerializer=KTe;function Dkt(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null}},s={...e};r.source.value||(r.source.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$kt.getAccountMetasAndSigners)(i,"programId",t),c=KTe().serialize(s),u=0;return(0,OTe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}oI.transferSol=Dkt;var aI={};Object.defineProperty(aI,"__esModule",{value:!0});aI.transferTokens=aI.getTransferTokensInstructionDataSerializer=void 0;const Okt=Z,i8=q,Kkt=ir;function LTe(){return(0,i8.mapSerializer)((0,i8.struct)([["discriminator",(0,i8.u8)()],["amount",(0,i8.u64)()]],{description:"TransferTokensInstructionData"}),n=>({...n,discriminator:3}))}aI.getTransferTokensInstructionDataSerializer=LTe;function Lkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Kkt.getAccountMetasAndSigners)(i,"programId",t),c=LTe().serialize(s),u=0;return(0,Okt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}aI.transferTokens=Lkt;var cI={};Object.defineProperty(cI,"__esModule",{value:!0});cI.transferTokensChecked=cI.getTransferTokensCheckedInstructionDataSerializer=void 0;const Wkt=Z,QR=q,Nkt=ir;function WTe(){return(0,QR.mapSerializer)((0,QR.struct)([["discriminator",(0,QR.u8)()],["amount",(0,QR.u64)()],["decimals",(0,QR.u8)()]],{description:"TransferTokensCheckedInstructionData"}),n=>({...n,discriminator:12}))}cI.getTransferTokensCheckedInstructionDataSerializer=WTe;function Fkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},destination:{index:2,isWritable:!0,value:e.destination??null},authority:{index:3,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Nkt.getAccountMetasAndSigners)(i,"programId",t),c=WTe().serialize(s),u=0;return(0,Wkt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cI.transferTokensChecked=Fkt;var uI={};Object.defineProperty(uI,"__esModule",{value:!0});uI.uiAmountToAmount=uI.getUiAmountToAmountInstructionDataSerializer=void 0;const Ukt=Z,o8=q,Vkt=ir;function NTe(){return(0,o8.mapSerializer)((0,o8.struct)([["discriminator",(0,o8.u8)()],["uiAmount",(0,o8.u64)()]],{description:"UiAmountToAmountInstructionData"}),n=>({...n,discriminator:24}))}uI.getUiAmountToAmountInstructionDataSerializer=NTe;function qkt(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Vkt.getAccountMetasAndSigners)(i,"programId",t),c=NTe().serialize(s),u=0;return(0,Ukt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}uI.uiAmountToAmount=qkt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Iw,n),t(Pw,n),t(_w,n),t(Ew,n),t(xw,n),t(Tw,n),t(Rw,n),t(Cw,n),t(Mw,n),t(Bw,n),t(H6,n),t(zw,n),t(Z6,n),t($w,n),t(Dw,n),t(Ow,n),t(Kw,n),t(Lw,n),t(Ww,n),t(Nw,n),t(Fw,n),t(Uw,n),t(Vw,n),t(qw,n),t(jw,n),t(Hw,n),t(Gw,n),t(Yw,n),t(Zw,n),t(J6,n),t(Jw,n),t(Xw,n),t(Qw,n),t(eI,n),t(tI,n),t(rI,n),t(nI,n),t(sI,n),t(iI,n),t(oI,n),t(aI,n),t(cI,n),t(uI,n)})(eTe);var FTe={},UTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplSystemExtrasProgramId=n.getMplSystemExtrasProgram=n.createMplSystemExtrasProgram=n.MPL_SYSTEM_EXTRAS_PROGRAM_ID=void 0;const e=kh;n.MPL_SYSTEM_EXTRAS_PROGRAM_ID="SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG";function t(){return{name:"mplSystemExtras",publicKey:n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplSystemExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplSystemExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplSystemExtrasProgram=t;function r(i,o){return i.programs.get("mplSystemExtras",o)}n.getMplSystemExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplSystemExtras",n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,o)}n.getMplSystemExtrasProgramId=s})(UTe);var VTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenExtrasProgramId=n.getMplTokenExtrasProgram=n.createMplTokenExtrasProgram=n.MPL_TOKEN_EXTRAS_PROGRAM_ID=void 0;const e=kh;n.MPL_TOKEN_EXTRAS_PROGRAM_ID="TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p";function t(){return{name:"mplTokenExtras",publicKey:n.MPL_TOKEN_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenExtrasProgram=t;function r(i,o){return i.programs.get("mplTokenExtras",o)}n.getMplTokenExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenExtras",n.MPL_TOKEN_EXTRAS_PROGRAM_ID,o)}n.getMplTokenExtrasProgramId=s})(VTe);var qTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAddressLookupTableProgramId=n.getSplAddressLookupTableProgram=n.createSplAddressLookupTableProgram=n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID=void 0;const e=kh;n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID="AddressLookupTab1e1111111111111111111111111";function t(){return{name:"splAddressLookupTable",publicKey:n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAddressLookupTableErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAddressLookupTableErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAddressLookupTableProgram=t;function r(i,o){return i.programs.get("splAddressLookupTable",o)}n.getSplAddressLookupTableProgram=r;function s(i,o){return i.programs.getPublicKey("splAddressLookupTable",n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,o)}n.getSplAddressLookupTableProgramId=s})(qTe);var jTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAssociatedTokenProgramId=n.getSplAssociatedTokenProgram=n.createSplAssociatedTokenProgram=n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const e=kh;n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";function t(){return{name:"splAssociatedToken",publicKey:n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAssociatedTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAssociatedTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAssociatedTokenProgram=t;function r(i,o){return i.programs.get("splAssociatedToken",o)}n.getSplAssociatedTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splAssociatedToken",n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,o)}n.getSplAssociatedTokenProgramId=s})(jTe);var HTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplComputeBudgetProgramId=n.getSplComputeBudgetProgram=n.createSplComputeBudgetProgram=n.SPL_COMPUTE_BUDGET_PROGRAM_ID=void 0;const e=kh;n.SPL_COMPUTE_BUDGET_PROGRAM_ID="ComputeBudget111111111111111111111111111111";function t(){return{name:"splComputeBudget",publicKey:n.SPL_COMPUTE_BUDGET_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplComputeBudgetErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplComputeBudgetErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplComputeBudgetProgram=t;function r(i,o){return i.programs.get("splComputeBudget",o)}n.getSplComputeBudgetProgram=r;function s(i,o){return i.programs.getPublicKey("splComputeBudget",n.SPL_COMPUTE_BUDGET_PROGRAM_ID,o)}n.getSplComputeBudgetProgramId=s})(HTe);var GTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplMemoProgramId=n.getSplMemoProgram=n.createSplMemoProgram=n.SPL_MEMO_PROGRAM_ID=void 0;const e=kh;n.SPL_MEMO_PROGRAM_ID="Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo";function t(){return{name:"splMemo",publicKey:n.SPL_MEMO_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplMemoErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplMemoErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplMemoProgram=t;function r(i,o){return i.programs.get("splMemo",o)}n.getSplMemoProgram=r;function s(i,o){return i.programs.getPublicKey("splMemo",n.SPL_MEMO_PROGRAM_ID,o)}n.getSplMemoProgramId=s})(GTe);var YTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplSystemProgramId=n.getSplSystemProgram=n.createSplSystemProgram=n.SPL_SYSTEM_PROGRAM_ID=void 0;const e=kh;n.SPL_SYSTEM_PROGRAM_ID="11111111111111111111111111111111";function t(){return{name:"splSystem",publicKey:n.SPL_SYSTEM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplSystemErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplSystemErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplSystemProgram=t;function r(i,o){return i.programs.get("splSystem",o)}n.getSplSystemProgram=r;function s(i,o){return i.programs.getPublicKey("splSystem",n.SPL_SYSTEM_PROGRAM_ID,o)}n.getSplSystemProgramId=s})(YTe);var ZTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplTokenProgramId=n.getSplTokenProgram=n.createSplTokenProgram=n.SPL_TOKEN_PROGRAM_ID=void 0;const e=kh;n.SPL_TOKEN_PROGRAM_ID="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function t(){return{name:"splToken",publicKey:n.SPL_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplTokenProgram=t;function r(i,o){return i.programs.get("splToken",o)}n.getSplTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splToken",n.SPL_TOKEN_PROGRAM_ID,o)}n.getSplTokenProgramId=s})(ZTe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(UTe,n),t(VTe,n),t(qTe,n),t(jTe,n),t(HTe,n),t(GTe,n),t(YTe,n),t(ZTe,n)})(FTe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(q6,n),t(kh,n),t(eTe,n),t(FTe,n),t(ir,n),t(j6,n)})(fm);var X6={};Object.defineProperty(X6,"__esModule",{value:!0});X6.createLut=void 0;const jkt=Z,iF=fm;function Hkt(n,e){const{addresses:t,...r}=e,s=e.authority??n.identity,i=e.address??(0,iF.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:e.recentSlot});return[(0,jkt.transactionBuilder)().add((0,iF.createEmptyLut)(n,r)).add((0,iF.extendLut)(n,{address:i,authority:s,addresses:t,payer:e.payer})),{publicKey:i[0],addresses:t}]}X6.createLut=Hkt;var Q6={};Object.defineProperty(Q6,"__esModule",{value:!0});Q6.createLutForTransactionBuilder=void 0;const oF=Z,Gq=fm,Gkt=(n,e,t,r)=>{const s=r??n.identity,i=(0,oF.uniquePublicKeys)([e.getFeePayer(n).publicKey,...e.items.flatMap(({instruction:u})=>u.keys.filter(l=>l.isSigner).map(l=>l.pubkey))]),o=(0,oF.uniquePublicKeys)(e.items.flatMap(({instruction:u})=>[u.programId,...u.keys.map(l=>l.pubkey)])).filter(u=>!i.includes(u)),a=[],c=[];return(0,oF.chunk)(o,256).forEach((u,l)=>{const d=t-l,[y]=(0,Gq.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:d});a.push({publicKey:y,addresses:u}),c.push(...Ykt(n,(0,Gq.createEmptyLut)(n,{recentSlot:d}),y,s,u))}),[c,a]};Q6.createLutForTransactionBuilder=Gkt;function Ykt(n,e,t,r,s){const i=[];let o=[],a=e;return s.forEach(c=>{const u=e.add((0,Gq.extendLut)(n,{address:t,addresses:[...o,c],authority:r}));u.fitsInOneTransaction(n)?(o.push(c),a=u):(o=[c],i.push(a),e=e.empty(),a=e)}),o.length>0&&i.push(a),i}var Rz={};Object.defineProperty(Rz,"__esModule",{value:!0});Rz.createMint=void 0;const Bme=Z,aF=fm;function Zkt(n,e){return(0,Bme.transactionBuilder)().add((0,aF.createAccountWithRent)(n,{newAccount:e.mint,space:(0,aF.getMintSize)(),programId:n.programs.get("splToken").publicKey})).add((0,aF.initializeMint2)(n,{mint:e.mint.publicKey,decimals:e.decimals??0,mintAuthority:e.mintAuthority??n.identity.publicKey,freezeAuthority:e.freezeAuthority===void 0?(0,Bme.some)(n.identity.publicKey):e.freezeAuthority}))}Rz.createMint=Zkt;var eL={};Object.defineProperty(eL,"__esModule",{value:!0});eL.createMintWithAssociatedToken=void 0;const cF=Z,Jkt=Rz,zme=fm,Xkt=$T;function Qkt(n,e){const t={mint:e.mint.publicKey,owner:e.owner??n.identity.publicKey},r=e.amount??0;let s=(0,cF.transactionBuilder)().add((0,Jkt.createMint)(n,{...e,mintAuthority:e.mintAuthority?(0,cF.publicKey)(e.mintAuthority,!1):void 0})).add((0,zme.createAssociatedToken)(n,t));return r>0&&(s=s.add((0,zme.mintTokensTo)(n,{amount:r,mint:e.mint.publicKey,token:(0,Xkt.findAssociatedTokenPda)(n,t),mintAuthority:e.mintAuthority&&(0,cF.isSigner)(e.mintAuthority)?e.mintAuthority:void 0}))),s}eL.createMintWithAssociatedToken=Qkt;var tL={};Object.defineProperty(tL,"__esModule",{value:!0});tL.createToken=void 0;const evt=Z,uF=fm;function tvt(n,e){return(0,evt.transactionBuilder)().add((0,uF.createAccountWithRent)(n,{newAccount:e.token,space:(0,uF.getTokenSize)(),programId:n.programs.get("splToken").publicKey})).add((0,uF.initializeToken3)(n,{account:e.token.publicKey,mint:e.mint,owner:e.owner??n.identity.publicKey}))}tL.createToken=tvt;var JTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchTokensByOwnerAndMint=n.fetchTokensByOwner=n.fetchAllMintByOwner=n.fetchAllMintPublicKeyByOwner=n.fetchAllTokenByOwnerAndMint=n.fetchAllTokenByOwner=void 0;const e=Z,t=q,r=fm,s=async(u,l,d,y={})=>{const h=u.programs.get("splToken").publicKey,m=y.mint?{mint:y.mint}:{programId:h};return(await u.rpc.call("getTokenAccountsByOwner",[l,m],{...y,extra:{encoding:"base64"}})).value.filter(({account:g})=>{const b=t.base64.serialize(g.data[0]),S=(0,t.u64)().deserialize(b.slice(64,72))[0];return d(S)})},i=async(u,l,d={})=>{const{mint:y,tokenStrategy:h="getProgramAccounts",tokenAmountFilter:m=b=>b>0,...f}=d;if(h==="getTokenAccountsByOwner")return(await s(u,l,m,{mint:y,...f})).map(({pubkey:S,account:p})=>(0,r.deserializeToken)({...p,data:t.base64.serialize(p.data[0]),publicKey:(0,e.publicKey)(S),owner:(0,e.publicKey)(p.owner),lamports:(0,e.lamports)(p.lamports)}));let g=(0,r.getTokenGpaBuilder)(u).whereField("owner",l);return y&&(g=g.whereField("mint",y)),(await g.get()).filter(b=>{const S=(0,t.u64)().deserialize(b.data.slice(64,72))[0];return m(S)}).map(b=>(0,r.deserializeToken)(b))};n.fetchAllTokenByOwner=i;const o=(u,l,d,y={})=>(0,n.fetchAllTokenByOwner)(u,l,{...y,mint:d});n.fetchAllTokenByOwnerAndMint=o;const a=async(u,l,d={})=>{const{tokenStrategy:y="getProgramAccounts",tokenAmountFilter:h=f=>f>0,...m}=d;return y==="getTokenAccountsByOwner"?(await s(u,l,h,m)).map(({account:g})=>(0,e.publicKey)(t.base64.serialize(g.data[0]).slice(0,32))):(await(0,r.getTokenGpaBuilder)(u).slice(0,72).whereField("owner",l).get()).filter(f=>{const g=(0,t.u64)().deserialize(f.data.slice(64,72))[0];return h(g)}).map(f=>(0,e.publicKey)(f.data.slice(0,32)))};n.fetchAllMintPublicKeyByOwner=a;const c=async(u,l,d={})=>{const{tokenStrategy:y,tokenAmountFilter:h,...m}=d,f=await(0,n.fetchAllMintPublicKeyByOwner)(u,l,d);return(0,r.fetchAllMint)(u,f,m)};n.fetchAllMintByOwner=c,n.fetchTokensByOwner=n.fetchAllTokenByOwner,n.fetchTokensByOwnerAndMint=n.fetchAllTokenByOwnerAndMint})(JTe);var rL={};Object.defineProperty(rL,"__esModule",{value:!0});rL.findLargestTokensByMint=void 0;const $me=Z,rvt=async(n,e,t={})=>(await n.rpc.call("getTokenLargestAccounts",[e],t)).value.map(({address:s,amount:i,decimals:o})=>({publicKey:(0,$me.publicKey)(s),amount:(0,$me.createAmount)(i,"splToken",o)}));rL.findLargestTokensByMint=rvt;var XTe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.mplEssentials=n.mplToolbox=void 0;const e=Z,t=fm,r=()=>({install(s){s.programs.add((0,t.createSplSystemProgram)(),!1),s.programs.add((0,t.createSplMemoProgram)(),!1),s.programs.add((0,t.createSplTokenProgram)(),!1),s.programs.add((0,t.createSplAssociatedTokenProgram)(),!1),s.programs.add((0,t.createSplAddressLookupTableProgram)(),!1),s.programs.add((0,t.createMplSystemExtrasProgram)(),!1),s.programs.add((0,t.createMplTokenExtrasProgram)(),!1),s.programs.add({...(0,t.createSplTokenProgram)(),name:"splToken2022",publicKey:(0,e.publicKey)("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")},!1)}});n.mplToolbox=r,n.mplEssentials=n.mplToolbox})(XTe);var nL={};Object.defineProperty(nL,"__esModule",{value:!0});nL.getSysvar=void 0;const Ud=Z,nvt=n=>{switch(n){case"clock":return(0,Ud.publicKey)("SysvarC1ock11111111111111111111111111111111");case"epochSchedule":return(0,Ud.publicKey)("SysvarEpochSchedu1e111111111111111111111111");case"instructions":return(0,Ud.publicKey)("Sysvar1nstructions1111111111111111111111111");case"recentBlockhashes":return(0,Ud.publicKey)("SysvarRecentB1ockHashes11111111111111111111");case"rent":return(0,Ud.publicKey)("SysvarRent111111111111111111111111111111111");case"rewards":return(0,Ud.publicKey)("SysvarRewards111111111111111111111111111111");case"slotHashes":return(0,Ud.publicKey)("SysvarS1otHashes111111111111111111111111111");case"slotHistory":return(0,Ud.publicKey)("SysvarS1otHistory11111111111111111111111111");case"stakeHistory":return(0,Ud.publicKey)("SysvarStakeHistory1111111111111111111111111");default:throw new Ud.SdkError(`Unknown sysvar: ${n}`)}};nL.getSysvar=nvt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(fm,n),t($T,n),t(X6,n),t(Q6,n),t(Rz,n),t(eL,n),t(tL,n),t(JTe,n),t(rL,n),t(XTe,n),t(nL,n)})(Hs);var sL={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isProgrammable=n.isNonFungible=n.isFungible=n.deserializeDigitalAsset=n.fetchAllMetadataByOwner=n.fetchAllDigitalAssetByOwner=n.fetchAllDigitalAssetByUpdateAuthority=n.fetchAllDigitalAssetByVerifiedCollection=n.fetchAllDigitalAssetByCreator=n.fetchAllDigitalAsset=n.fetchDigitalAssetByMetadata=n.fetchDigitalAsset=void 0;const e=Hs,t=Z,r=Wb,s=Lb,i=326,o=34,a=[366,400,434,468,502],c=1,u=2;async function l(A,_,E){const[M]=(0,s.findMetadataPda)(A,{mint:_}),[P]=(0,s.findMasterEditionPda)(A,{mint:_}),[R,$,z]=await A.rpc.getAccounts([_,M,P],E);return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),S(R,$,z.exists?z:void 0)}n.fetchDigitalAsset=l;async function d(A,_,E){const M=await(0,s.fetchMetadata)(A,_,E);return l(A,M.mint,E)}n.fetchDigitalAssetByMetadata=d;async function y(A,_,E){const M=_.flatMap(R=>[R,(0,s.findMetadataPda)(A,{mint:R})[0],(0,s.findMasterEditionPda)(A,{mint:R})[0]]),P=await A.rpc.getAccounts(M,E);return(0,t.chunk)(P,3).flatMap(([R,$,z])=>{try{return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),[S(R,$,z.exists?z:void 0)]}catch{return[]}})}n.fetchAllDigitalAsset=y;async function h(A,_,E){const M=((E==null?void 0:E.position)??1)-1,P=await(0,s.getMetadataGpaBuilder)(A).where(i+M*o,_).sliceField("mint").getDataAsPublicKeys();return y(A,P,E)}n.fetchAllDigitalAssetByCreator=h;async function m(A,_,E){const M=await Promise.all(a.map(async P=>(0,s.getMetadataGpaBuilder)(A).where(P,1).where(P+c,1).where(P+u,_).sliceField("mint").getDataAsPublicKeys()));return y(A,M.flat(),E)}n.fetchAllDigitalAssetByVerifiedCollection=m;async function f(A,_,E){const M=await(0,s.getMetadataGpaBuilder)(A).whereField("updateAuthority",_).sliceField("mint").getDataAsPublicKeys();return y(A,M,E)}n.fetchAllDigitalAssetByUpdateAuthority=f;async function g(A,_,E){const M=await(0,e.fetchAllMintPublicKeyByOwner)(A,_,E);return y(A,M,E)}n.fetchAllDigitalAssetByOwner=g;async function b(A,_,E){const P=(await(0,e.fetchAllMintPublicKeyByOwner)(A,_,E)).map($=>(0,s.findMetadataPda)(A,{mint:$})[0]);return(await A.rpc.getAccounts(P,E)).flatMap($=>{try{return(0,t.assertAccountExists)($,"Metadata"),[(0,s.deserializeMetadata)($)]}catch{return[]}})}n.fetchAllMetadataByOwner=b;function S(A,_,E){const M=(0,e.deserializeMint)(A),P=(0,s.deserializeMetadata)(_),R=(0,t.unwrapOption)(P.tokenStandard);if(R&&(0,n.isNonFungible)(R)&&!E)throw new Error("Edition account must be provided for non-fungible assets.");const $={publicKey:M.publicKey,mint:M,metadata:P};if(!E)return $;const z=(0,s.getKeySerializer)().deserialize(E.data)[0];let T;if(z===s.Key.MasterEditionV1||z===s.Key.MasterEditionV2)T={isOriginal:!0,...(0,s.deserializeMasterEdition)(E)};else if(z===s.Key.EditionV1)T={isOriginal:!1,...(0,s.deserializeEdition)(E)};else throw new r.TokenMetadataError(`Invalid key "${z}" for edition account.`);return{...$,edition:T}}n.deserializeDigitalAsset=S;const p=A=>A===s.TokenStandard.Fungible||A===s.TokenStandard.FungibleAsset;n.isFungible=p;const I=A=>!(0,n.isFungible)(A);n.isNonFungible=I;const w=A=>A===s.TokenStandard.ProgrammableNonFungible;n.isProgrammable=w})(sL);Object.defineProperty(Ta,"__esModule",{value:!0});Ta.resolveIsNonFungibleOrIsMintSigner=Ta.resolveOptionalTokenOwner=Ta.resolveCreateV1Bytes=Ta.resolveCreators=Ta.resolvePrintSupply=Ta.resolveDecimals=Ta.resolveIsNonFungible=Ta.resolveCollectionDetails=void 0;const svt=Hs,ih=Z,Cz=sL,sm=Lb,ivt=679,ovt=282,avt=(n,e,t,...r)=>t.isCollection?(0,ih.some)((0,sm.collectionDetails)("V1",{size:0})):(0,ih.none)();Ta.resolveCollectionDetails=avt;const cvt=(n,e,t,...r)=>(0,Cz.isNonFungible)((0,sm.expectSome)(t.tokenStandard));Ta.resolveIsNonFungible=cvt;const uvt=(n,e,t,...r)=>(0,Cz.isNonFungible)((0,sm.expectSome)(t.tokenStandard))?(0,ih.none)():(0,ih.some)(0);Ta.resolveDecimals=uvt;const lvt=(n,e,t,...r)=>(0,Cz.isNonFungible)((0,sm.expectSome)(t.tokenStandard))?(0,ih.some)((0,sm.printSupply)("Zero")):(0,ih.none)();Ta.resolvePrintSupply=lvt;const dvt=(n,e,...t)=>(0,ih.some)([{address:(0,sm.expectPublicKey)(e.authority.value),share:100,verified:!0}]);Ta.resolveCreators=dvt;const fvt=(n,e,t,...r)=>{const s=(0,svt.getMintSize)()+ivt+2*ih.ACCOUNT_HEADER_SIZE;return(0,Cz.isNonFungible)((0,sm.expectSome)(t.tokenStandard))?s+ovt+ih.ACCOUNT_HEADER_SIZE:s};Ta.resolveCreateV1Bytes=fvt;const hvt=(n,e,...t)=>e.token.value?{value:null}:{value:n.identity.publicKey};Ta.resolveOptionalTokenOwner=hvt;const gvt=(n,e,t,...r)=>(0,Cz.isNonFungible)((0,sm.expectSome)(t.tokenStandard))||(0,ih.isSigner)((0,sm.expectSome)(e.mint.value));Ta.resolveIsNonFungibleOrIsMintSigner=gvt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(F6,n),t(U6,n),t(V6,n),t(Ta,n)})(on);Object.defineProperty(ri,"__esModule",{value:!0});ri.safeFetchHolderDelegateRecordFromSeeds=ri.fetchHolderDelegateRecordFromSeeds=ri.findHolderDelegateRecordPda=ri.getHolderDelegateRecordSize=ri.getHolderDelegateRecordGpaBuilder=ri.safeFetchAllHolderDelegateRecord=ri.fetchAllHolderDelegateRecord=ri.safeFetchHolderDelegateRecord=ri.fetchHolderDelegateRecord=ri.deserializeHolderDelegateRecord=ri.getHolderDelegateRecordAccountDataSerializer=void 0;const ub=Z,bu=q,mvt=on,QTe=ut;function eRe(){return(0,bu.struct)([["key",(0,QTe.getKeySerializer)()],["bump",(0,bu.u8)()],["mint",(0,bu.publicKey)()],["delegate",(0,bu.publicKey)()],["updateAuthority",(0,bu.publicKey)()]],{description:"HolderDelegateRecordAccountData"})}ri.getHolderDelegateRecordAccountDataSerializer=eRe;function DT(n){return(0,ub.deserializeAccount)(n,eRe())}ri.deserializeHolderDelegateRecord=DT;async function tRe(n,e,t){const r=await n.rpc.getAccount((0,ub.publicKey)(e,!1),t);return(0,ub.assertAccountExists)(r,"HolderDelegateRecord"),DT(r)}ri.fetchHolderDelegateRecord=tRe;async function rRe(n,e,t){const r=await n.rpc.getAccount((0,ub.publicKey)(e,!1),t);return r.exists?DT(r):null}ri.safeFetchHolderDelegateRecord=rRe;async function yvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ub.publicKey)(s,!1)),t)).map(s=>((0,ub.assertAccountExists)(s,"HolderDelegateRecord"),DT(s)))}ri.fetchAllHolderDelegateRecord=yvt;async function pvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,ub.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>DT(s))}ri.safeFetchAllHolderDelegateRecord=pvt;function bvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,ub.gpaBuilder)(n,e).registerFields({key:[0,(0,QTe.getKeySerializer)()],bump:[1,(0,bu.u8)()],mint:[2,(0,bu.publicKey)()],delegate:[34,(0,bu.publicKey)()],updateAuthority:[66,(0,bu.publicKey)()]}).deserializeUsing(t=>DT(t))}ri.getHolderDelegateRecordGpaBuilder=bvt;function Svt(){return 98}ri.getHolderDelegateRecordSize=Svt;function KQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,bu.string)({size:"variable"}).serialize("metadata"),(0,bu.publicKey)().serialize(t),(0,bu.publicKey)().serialize(e.mint),(0,mvt.getHolderDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,bu.publicKey)().serialize(e.owner),(0,bu.publicKey)().serialize(e.delegate)])}ri.findHolderDelegateRecordPda=KQ;async function kvt(n,e,t){return tRe(n,KQ(n,e),t)}ri.fetchHolderDelegateRecordFromSeeds=kvt;async function vvt(n,e,t){return rRe(n,KQ(n,e),t)}ri.safeFetchHolderDelegateRecordFromSeeds=vvt;var vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.safeFetchMasterEditionFromSeeds=vo.fetchMasterEditionFromSeeds=vo.findMasterEditionPda=vo.getMasterEditionGpaBuilder=vo.safeFetchAllMasterEdition=vo.fetchAllMasterEdition=vo.safeFetchMasterEdition=vo.fetchMasterEdition=vo.deserializeMasterEdition=vo.getMasterEditionAccountDataSerializer=void 0;const lb=Z,El=q,UO=ut;function nRe(){return(0,El.mapSerializer)((0,El.struct)([["key",(0,UO.getKeySerializer)()],["supply",(0,El.u64)()],["maxSupply",(0,El.option)((0,El.u64)())]],{description:"MasterEditionAccountData"}),n=>({...n,key:UO.Key.MasterEditionV2}))}vo.getMasterEditionAccountDataSerializer=nRe;function OT(n){return(0,lb.deserializeAccount)(n,nRe())}vo.deserializeMasterEdition=OT;async function sRe(n,e,t){const r=await n.rpc.getAccount((0,lb.publicKey)(e,!1),t);return(0,lb.assertAccountExists)(r,"MasterEdition"),OT(r)}vo.fetchMasterEdition=sRe;async function iRe(n,e,t){const r=await n.rpc.getAccount((0,lb.publicKey)(e,!1),t);return r.exists?OT(r):null}vo.safeFetchMasterEdition=iRe;async function Avt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,lb.publicKey)(s,!1)),t)).map(s=>((0,lb.assertAccountExists)(s,"MasterEdition"),OT(s)))}vo.fetchAllMasterEdition=Avt;async function wvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,lb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>OT(s))}vo.safeFetchAllMasterEdition=wvt;function Ivt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,lb.gpaBuilder)(n,e).registerFields({key:[0,(0,UO.getKeySerializer)()],supply:[1,(0,El.u64)()],maxSupply:[9,(0,El.option)((0,El.u64)())]}).deserializeUsing(t=>OT(t)).whereField("key",UO.Key.MasterEditionV2)}vo.getMasterEditionGpaBuilder=Ivt;function LQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,El.string)({size:"variable"}).serialize("metadata"),(0,El.publicKey)().serialize(t),(0,El.publicKey)().serialize(e.mint),(0,El.string)({size:"variable"}).serialize("edition")])}vo.findMasterEditionPda=LQ;async function Pvt(n,e,t){return sRe(n,LQ(n,e),t)}vo.fetchMasterEditionFromSeeds=Pvt;async function _vt(n,e,t){return iRe(n,LQ(n,e),t)}vo.safeFetchMasterEditionFromSeeds=_vt;var Ao={};Object.defineProperty(Ao,"__esModule",{value:!0});Ao.safeFetchMetadataFromSeeds=Ao.fetchMetadataFromSeeds=Ao.findMetadataPda=Ao.getMetadataGpaBuilder=Ao.safeFetchAllMetadata=Ao.fetchAllMetadata=Ao.safeFetchMetadata=Ao.fetchMetadata=Ao.deserializeMetadata=Ao.getMetadataAccountDataSerializer=void 0;const db=Z,ln=q,bc=ut;function oRe(){return(0,ln.mapSerializer)((0,ln.struct)([["key",(0,bc.getKeySerializer)()],["updateAuthority",(0,ln.publicKey)()],["mint",(0,ln.publicKey)()],["name",(0,ln.string)()],["symbol",(0,ln.string)()],["uri",(0,ln.string)()],["sellerFeeBasisPoints",(0,ln.u16)()],["creators",(0,ln.option)((0,ln.array)((0,bc.getCreatorSerializer)()))],["primarySaleHappened",(0,ln.bool)()],["isMutable",(0,ln.bool)()],["editionNonce",(0,ln.option)((0,ln.u8)())],["tokenStandard",(0,ln.option)((0,bc.getTokenStandardSerializer)())],["collection",(0,ln.option)((0,bc.getCollectionSerializer)())],["uses",(0,ln.option)((0,bc.getUsesSerializer)())],["collectionDetails",(0,ln.option)((0,bc.getCollectionDetailsSerializer)())],["programmableConfig",(0,ln.option)((0,bc.getProgrammableConfigSerializer)())]],{description:"MetadataAccountData"}),n=>({...n,key:bc.Key.MetadataV1}))}Ao.getMetadataAccountDataSerializer=oRe;function KT(n){return(0,db.deserializeAccount)(n,oRe())}Ao.deserializeMetadata=KT;async function aRe(n,e,t){const r=await n.rpc.getAccount((0,db.publicKey)(e,!1),t);return(0,db.assertAccountExists)(r,"Metadata"),KT(r)}Ao.fetchMetadata=aRe;async function cRe(n,e,t){const r=await n.rpc.getAccount((0,db.publicKey)(e,!1),t);return r.exists?KT(r):null}Ao.safeFetchMetadata=cRe;async function Evt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,db.publicKey)(s,!1)),t)).map(s=>((0,db.assertAccountExists)(s,"Metadata"),KT(s)))}Ao.fetchAllMetadata=Evt;async function xvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,db.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>KT(s))}Ao.safeFetchAllMetadata=xvt;function Tvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,db.gpaBuilder)(n,e).registerFields({key:[0,(0,bc.getKeySerializer)()],updateAuthority:[1,(0,ln.publicKey)()],mint:[33,(0,ln.publicKey)()],name:[65,(0,ln.string)()],symbol:[null,(0,ln.string)()],uri:[null,(0,ln.string)()],sellerFeeBasisPoints:[null,(0,ln.u16)()],creators:[null,(0,ln.option)((0,ln.array)((0,bc.getCreatorSerializer)()))],primarySaleHappened:[null,(0,ln.bool)()],isMutable:[null,(0,ln.bool)()],editionNonce:[null,(0,ln.option)((0,ln.u8)())],tokenStandard:[null,(0,ln.option)((0,bc.getTokenStandardSerializer)())],collection:[null,(0,ln.option)((0,bc.getCollectionSerializer)())],uses:[null,(0,ln.option)((0,bc.getUsesSerializer)())],collectionDetails:[null,(0,ln.option)((0,bc.getCollectionDetailsSerializer)())],programmableConfig:[null,(0,ln.option)((0,bc.getProgrammableConfigSerializer)())]}).deserializeUsing(t=>KT(t)).whereField("key",bc.Key.MetadataV1)}Ao.getMetadataGpaBuilder=Tvt;function WQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,ln.string)({size:"variable"}).serialize("metadata"),(0,ln.publicKey)().serialize(t),(0,ln.publicKey)().serialize(e.mint)])}Ao.findMetadataPda=WQ;async function Rvt(n,e,t){return aRe(n,WQ(n,e),t)}Ao.fetchMetadataFromSeeds=Rvt;async function Cvt(n,e,t){return cRe(n,WQ(n,e),t)}Ao.safeFetchMetadataFromSeeds=Cvt;var ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.safeFetchMetadataDelegateRecordFromSeeds=ni.fetchMetadataDelegateRecordFromSeeds=ni.findMetadataDelegateRecordPda=ni.getMetadataDelegateRecordSize=ni.getMetadataDelegateRecordGpaBuilder=ni.safeFetchAllMetadataDelegateRecord=ni.fetchAllMetadataDelegateRecord=ni.safeFetchMetadataDelegateRecord=ni.fetchMetadataDelegateRecord=ni.deserializeMetadataDelegateRecord=ni.getMetadataDelegateRecordAccountDataSerializer=void 0;const fb=Z,Su=q,Mvt=on,uRe=ut;function lRe(){return(0,Su.struct)([["key",(0,uRe.getKeySerializer)()],["bump",(0,Su.u8)()],["mint",(0,Su.publicKey)()],["delegate",(0,Su.publicKey)()],["updateAuthority",(0,Su.publicKey)()]],{description:"MetadataDelegateRecordAccountData"})}ni.getMetadataDelegateRecordAccountDataSerializer=lRe;function LT(n){return(0,fb.deserializeAccount)(n,lRe())}ni.deserializeMetadataDelegateRecord=LT;async function dRe(n,e,t){const r=await n.rpc.getAccount((0,fb.publicKey)(e,!1),t);return(0,fb.assertAccountExists)(r,"MetadataDelegateRecord"),LT(r)}ni.fetchMetadataDelegateRecord=dRe;async function fRe(n,e,t){const r=await n.rpc.getAccount((0,fb.publicKey)(e,!1),t);return r.exists?LT(r):null}ni.safeFetchMetadataDelegateRecord=fRe;async function Bvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,fb.publicKey)(s,!1)),t)).map(s=>((0,fb.assertAccountExists)(s,"MetadataDelegateRecord"),LT(s)))}ni.fetchAllMetadataDelegateRecord=Bvt;async function zvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,fb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>LT(s))}ni.safeFetchAllMetadataDelegateRecord=zvt;function $vt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,fb.gpaBuilder)(n,e).registerFields({key:[0,(0,uRe.getKeySerializer)()],bump:[1,(0,Su.u8)()],mint:[2,(0,Su.publicKey)()],delegate:[34,(0,Su.publicKey)()],updateAuthority:[66,(0,Su.publicKey)()]}).deserializeUsing(t=>LT(t))}ni.getMetadataDelegateRecordGpaBuilder=$vt;function Dvt(){return 98}ni.getMetadataDelegateRecordSize=Dvt;function NQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Su.string)({size:"variable"}).serialize("metadata"),(0,Su.publicKey)().serialize(t),(0,Su.publicKey)().serialize(e.mint),(0,Mvt.getMetadataDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,Su.publicKey)().serialize(e.updateAuthority),(0,Su.publicKey)().serialize(e.delegate)])}ni.findMetadataDelegateRecordPda=NQ;async function Ovt(n,e,t){return dRe(n,NQ(n,e),t)}ni.fetchMetadataDelegateRecordFromSeeds=Ovt;async function Kvt(n,e,t){return fRe(n,NQ(n,e),t)}ni.safeFetchMetadataDelegateRecordFromSeeds=Kvt;var vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.getTokenOwnedEscrowGpaBuilder=vc.safeFetchAllTokenOwnedEscrow=vc.fetchAllTokenOwnedEscrow=vc.safeFetchTokenOwnedEscrow=vc.fetchTokenOwnedEscrow=vc.deserializeTokenOwnedEscrow=vc.getTokenOwnedEscrowAccountDataSerializer=void 0;const hb=Z,Dv=q,mA=ut;function hRe(){return(0,Dv.mapSerializer)((0,Dv.struct)([["key",(0,mA.getKeySerializer)()],["baseToken",(0,Dv.publicKey)()],["authority",(0,mA.getEscrowAuthoritySerializer)()],["bump",(0,Dv.u8)()]],{description:"TokenOwnedEscrowAccountData"}),n=>({...n,key:mA.Key.TokenOwnedEscrow}))}vc.getTokenOwnedEscrowAccountDataSerializer=hRe;function WT(n){return(0,hb.deserializeAccount)(n,hRe())}vc.deserializeTokenOwnedEscrow=WT;async function Lvt(n,e,t){const r=await n.rpc.getAccount((0,hb.publicKey)(e,!1),t);return(0,hb.assertAccountExists)(r,"TokenOwnedEscrow"),WT(r)}vc.fetchTokenOwnedEscrow=Lvt;async function Wvt(n,e,t){const r=await n.rpc.getAccount((0,hb.publicKey)(e,!1),t);return r.exists?WT(r):null}vc.safeFetchTokenOwnedEscrow=Wvt;async function Nvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,hb.publicKey)(s,!1)),t)).map(s=>((0,hb.assertAccountExists)(s,"TokenOwnedEscrow"),WT(s)))}vc.fetchAllTokenOwnedEscrow=Nvt;async function Fvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,hb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>WT(s))}vc.safeFetchAllTokenOwnedEscrow=Fvt;function Uvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,hb.gpaBuilder)(n,e).registerFields({key:[0,(0,mA.getKeySerializer)()],baseToken:[1,(0,Dv.publicKey)()],authority:[33,(0,mA.getEscrowAuthoritySerializer)()],bump:[null,(0,Dv.u8)()]}).deserializeUsing(t=>WT(t)).whereField("key",mA.Key.TokenOwnedEscrow)}vc.getTokenOwnedEscrowGpaBuilder=Uvt;var si={};Object.defineProperty(si,"__esModule",{value:!0});si.safeFetchTokenRecordFromSeeds=si.fetchTokenRecordFromSeeds=si.findTokenRecordPda=si.getTokenRecordSize=si.getTokenRecordGpaBuilder=si.safeFetchAllTokenRecord=si.fetchAllTokenRecord=si.safeFetchTokenRecord=si.fetchTokenRecord=si.deserializeTokenRecord=si.getTokenRecordAccountDataSerializer=void 0;const gb=Z,vi=q,Ky=ut;function gRe(){return(0,vi.mapSerializer)((0,vi.struct)([["key",(0,Ky.getKeySerializer)()],["bump",(0,vi.u8)()],["state",(0,Ky.getTokenStateSerializer)()],["ruleSetRevision",(0,vi.option)((0,vi.u64)())],["delegate",(0,vi.option)((0,vi.publicKey)())],["delegateRole",(0,vi.option)((0,Ky.getTokenDelegateRoleSerializer)())],["lockedTransfer",(0,vi.option)((0,vi.publicKey)())]],{description:"TokenRecordAccountData"}),n=>({...n,key:Ky.Key.TokenRecord}))}si.getTokenRecordAccountDataSerializer=gRe;function NT(n){return(0,gb.deserializeAccount)(n,gRe())}si.deserializeTokenRecord=NT;async function mRe(n,e,t){const r=await n.rpc.getAccount((0,gb.publicKey)(e,!1),t);return(0,gb.assertAccountExists)(r,"TokenRecord"),NT(r)}si.fetchTokenRecord=mRe;async function yRe(n,e,t){const r=await n.rpc.getAccount((0,gb.publicKey)(e,!1),t);return r.exists?NT(r):null}si.safeFetchTokenRecord=yRe;async function Vvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,gb.publicKey)(s,!1)),t)).map(s=>((0,gb.assertAccountExists)(s,"TokenRecord"),NT(s)))}si.fetchAllTokenRecord=Vvt;async function qvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,gb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>NT(s))}si.safeFetchAllTokenRecord=qvt;function jvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,gb.gpaBuilder)(n,e).registerFields({key:[0,(0,Ky.getKeySerializer)()],bump:[1,(0,vi.u8)()],state:[2,(0,Ky.getTokenStateSerializer)()],ruleSetRevision:[3,(0,vi.option)((0,vi.u64)())],delegate:[null,(0,vi.option)((0,vi.publicKey)())],delegateRole:[null,(0,vi.option)((0,Ky.getTokenDelegateRoleSerializer)())],lockedTransfer:[null,(0,vi.option)((0,vi.publicKey)())]}).deserializeUsing(t=>NT(t)).whereField("key",Ky.Key.TokenRecord)}si.getTokenRecordGpaBuilder=jvt;function Hvt(){return 80}si.getTokenRecordSize=Hvt;function FQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,vi.string)({size:"variable"}).serialize("metadata"),(0,vi.publicKey)().serialize(t),(0,vi.publicKey)().serialize(e.mint),(0,vi.string)({size:"variable"}).serialize("token_record"),(0,vi.publicKey)().serialize(e.token)])}si.findTokenRecordPda=FQ;async function Gvt(n,e,t){return mRe(n,FQ(n,e),t)}si.fetchTokenRecordFromSeeds=Gvt;async function Yvt(n,e,t){return yRe(n,FQ(n,e),t)}si.safeFetchTokenRecordFromSeeds=Yvt;var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.safeFetchUseAuthorityRecordFromSeeds=ii.fetchUseAuthorityRecordFromSeeds=ii.findUseAuthorityRecordPda=ii.getUseAuthorityRecordSize=ii.getUseAuthorityRecordGpaBuilder=ii.safeFetchAllUseAuthorityRecord=ii.fetchAllUseAuthorityRecord=ii.safeFetchUseAuthorityRecord=ii.fetchUseAuthorityRecord=ii.deserializeUseAuthorityRecord=ii.getUseAuthorityRecordAccountDataSerializer=void 0;const mb=Z,rd=q,VO=ut;function pRe(){return(0,rd.mapSerializer)((0,rd.struct)([["key",(0,VO.getKeySerializer)()],["allowedUses",(0,rd.u64)()],["bump",(0,rd.u8)()]],{description:"UseAuthorityRecordAccountData"}),n=>({...n,key:VO.Key.UseAuthorityRecord}))}ii.getUseAuthorityRecordAccountDataSerializer=pRe;function FT(n){return(0,mb.deserializeAccount)(n,pRe())}ii.deserializeUseAuthorityRecord=FT;async function bRe(n,e,t){const r=await n.rpc.getAccount((0,mb.publicKey)(e,!1),t);return(0,mb.assertAccountExists)(r,"UseAuthorityRecord"),FT(r)}ii.fetchUseAuthorityRecord=bRe;async function SRe(n,e,t){const r=await n.rpc.getAccount((0,mb.publicKey)(e,!1),t);return r.exists?FT(r):null}ii.safeFetchUseAuthorityRecord=SRe;async function Zvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,mb.publicKey)(s,!1)),t)).map(s=>((0,mb.assertAccountExists)(s,"UseAuthorityRecord"),FT(s)))}ii.fetchAllUseAuthorityRecord=Zvt;async function Jvt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,mb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>FT(s))}ii.safeFetchAllUseAuthorityRecord=Jvt;function Xvt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,mb.gpaBuilder)(n,e).registerFields({key:[0,(0,VO.getKeySerializer)()],allowedUses:[1,(0,rd.u64)()],bump:[9,(0,rd.u8)()]}).deserializeUsing(t=>FT(t)).whereField("key",VO.Key.UseAuthorityRecord)}ii.getUseAuthorityRecordGpaBuilder=Xvt;function Qvt(){return 10}ii.getUseAuthorityRecordSize=Qvt;function UQ(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,rd.string)({size:"variable"}).serialize("metadata"),(0,rd.publicKey)().serialize(t),(0,rd.publicKey)().serialize(e.mint),(0,rd.string)({size:"variable"}).serialize("user"),(0,rd.publicKey)().serialize(e.useAuthority)])}ii.findUseAuthorityRecordPda=UQ;async function eAt(n,e,t){return bRe(n,UQ(n,e),t)}ii.fetchUseAuthorityRecordFromSeeds=eAt;async function tAt(n,e,t){return SRe(n,UQ(n,e),t)}ii.safeFetchUseAuthorityRecordFromSeeds=tAt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(yo,n),t(po,n),t(xa,n),t(ti,n),t(bo,n),t(ri,n),t(vo,n),t(Ao,n),t(ni,n),t(vc,n),t(si,n),t(ii,n)})(Ut);var VQ={},G={};Object.defineProperty(G,"__esModule",{value:!0});G.ReservationAlreadyMadeError=G.ReservationNotSetError=G.ReservationDoesNotExistError=G.ReservationExistsError=G.ShareTotalMustBe100Error=G.NoBalanceInAccountForAuthorizationError=G.OwnerMismatchError=G.PrimarySaleCanOnlyBeFlippedToTrueError=G.InvalidBasisPointsError=G.CreatorNotFoundError=G.NoCreatorsPresentOnMetadataError=G.MustBeOneOfCreatorsError=G.CreatorsMustBeAtleastOneError=G.CreatorsTooLongError=G.DisabledError=G.AuthorizationTokenAccountOwnerMismatchError=G.PrintingMintAuthorizationAccountMismatchError=G.NotEnoughTokensError=G.TokenAccountMintMismatchV2Error=G.TokenAccountMintMismatchError=G.OneTimePrintingAuthMintMismatchError=G.PrintingMintMismatchError=G.DerivedKeyInvalidError=G.TokenAccountOneTimeAuthMintMismatchError=G.TokenBurnFailedError=G.EditionMintDecimalsShouldBeZeroError=G.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=G.PrintingMintDecimalsShouldBeZeroError=G.EditionAlreadyMintedError=G.DestinationMintMismatchError=G.MasterRecordMismatchError=G.TokenMintToFailedError=G.MaxEditionsMintedAlreadyError=G.EditionsMustHaveExactlyOneTokenError=G.MintMismatchError=G.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=G.UriTooLongError=G.SymbolTooLongError=G.NameTooLongError=G.InvalidMintAuthorityError=G.NotMintAuthorityError=G.UpdateAuthorityIsNotSignerError=G.UpdateAuthorityIncorrectError=G.InvalidEditionKeyError=G.InvalidMetadataKeyError=G.UninitializedError=G.AlreadyInitializedError=G.NotRentExemptError=G.InstructionPackErrorError=G.InstructionUnpackErrorError=void 0;G.RevokeCollectionAuthoritySignerIncorrectError=G.InvalidUserError=G.EditionOverrideCannotBeZeroError=G.NotAllowedToChangeSellerFeeBasisPointsError=G.CannotWipeVerifiedCreatorsError=G.CannotRemoveVerifiedCreatorError=G.CannotAdjustVerifiedCreatorError=G.InvalidDelegateError=G.InvalidFreezeAuthorityError=G.InvalidCollectionAuthorityRecordError=G.InvalidUseAuthorityRecordError=G.CollectionAuthorityDoesNotExistError=G.CollectionAuthorityRecordAlreadyExistsError=G.NotEnoughUsesError=G.UnusableError=G.UseAuthorityRecordAlreadyRevokedError=G.UseAuthorityRecordAlreadyExistsError=G.CollectionMustBeAUniqueMasterEditionError=G.InvalidCollectionUpdateAuthorityError=G.CollectionNotFoundError=G.CannotChangeUsesAfterFirstUseError=G.CannotChangeUseMethodAfterFirstUseError=G.InvalidUseMethodError=G.MustBeBurnedError=G.RemovedError=G.CollectionCannotBeVerifiedInThisInstructionError=G.IsMutableCanOnlyBeFlippedToFalseError=G.ReservationArrayShouldBeSizeOneError=G.InvalidEditionIndexError=G.OneTimeAuthMintSupplyMustBeZeroForConversionError=G.PrintingMintSupplyMustBeZeroForConversionError=G.InvalidOwnerError=G.InvalidOperationError=G.TriedToReplaceAnExistingReservationError=G.ReservationNotCompleteError=G.BeyondAlottedAddressSizeError=G.DataTypeMismatchError=G.InvalidTokenProgramError=G.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=G.DuplicateCreatorAddressError=G.DataIsImmutableError=G.PrintingWouldBreachMaximumSupplyError=G.IncorrectOwnerError=G.SpotMismatchError=G.CannotUnverifyAnotherCreatorError=G.CannotVerifyAnotherCreatorError=G.AddressNotInReservationError=G.ReservationBreachesMaximumSupplyError=G.NumericalOverflowErrorError=G.BeyondMaxAddressSizeError=void 0;G.MissingSplTokenProgramError=G.MissingTokenAccountError=G.OnlySaleDelegateCanTransferError=G.InvalidSystemWalletError=G.FeatureNotSupportedError=G.MissingArgumentInBuilderError=G.MissingAccountInBuilderError=G.DelegateNotFoundError=G.DelegateAlreadyExistsError=G.InvalidProgrammableConfigError=G.MissingProgrammableConfigError=G.MissingAuthorizationRulesError=G.InvalidAuthorizationRulesError=G.InvalidMintForTokenStandardError=G.InvalidTokenStandardError=G.MintIsNotSignerError=G.EscrowParentHasDelegateError=G.InvalidBubblegumSignerError=G.InvalidCollectionSizeChangeError=G.NoFreezeAuthoritySetError=G.BorshSerializationErrorError=G.InsufficientTokensError=G.MustBeNonFungibleError=G.InvalidSystemProgramError=G.MustBeEscrowAuthorityError=G.InvalidEscrowBumpSeedError=G.MustUnverifyError=G.EditionNumberGreaterThanMaxSupplyError=G.PrintEditionDoesNotMatchMasterEditionError=G.ReservationListDeprecatedError=G.InvalidEditionMarkerError=G.InvalidPrintEditionError=G.InvalidMasterEditionError=G.NotAPrintEditionError=G.AlreadyUnverifiedError=G.AlreadyVerifiedError=G.CollectionMasterEditionAccountInvalidError=G.CannotUpdateVerifiedCollectionError=G.BorshDeserializationErrorError=G.MasterEditionHasPrintsError=G.NotAMasterEditionError=G.MissingEditionAccountError=G.CouldNotDetermineTokenStandardError=G.NotACollectionParentError=G.NotVerifiedMemberOfCollectionError=G.NotAMemberOfCollectionError=G.MissingCollectionMetadataError=G.SizedCollectionError=G.UnsizedCollectionError=G.TokenCloseFailedError=void 0;G.getMplTokenMetadataErrorFromCode=G.MissingImmutableOwnerExtensionError=G.InvalidTokenExtensionTypeError=G.InvalidMetadataPointerError=G.InvalidMintCloseAuthorityError=G.InvalidMintExtensionTypeError=G.CannotChangeUpdateAuthorityWithDelegateError=G.InvalidMetadataFlagsError=G.InvalidFeeAccountError=G.MissingDelegateRecordError=G.InvalidInstructionError=G.InvalidCloseAuthorityError=G.InvalidTokenRecordError=G.MissingCollectionMasterEditionError=G.MissingCollectionMintError=G.InsufficientTokenBalanceError=G.InvalidUpdateArgsError=G.InvalidParentAccountsError=G.InvalidInstructionsSysvarError=G.InvalidAssociatedTokenAccountProgramError=G.MissingEditionError=G.CannotBurnWithDelegateError=G.MissingEditionMarkerAccountError=G.MissingMasterEditionTokenAccountError=G.MissingMasterEditionMintAccountError=G.InvalidAmountError=G.CannotUpdateAssetWithDelegateError=G.DataIncrementLimitExceededError=G.InvalidLockedTransferAddressError=G.MissingLockedTransferAddressError=G.InvalidDelegateArgsError=G.AmountMustBeGreaterThanZeroError=G.MissingMasterEditionAccountError=G.MissingPrintSupplyError=G.InvalidDelegateRoleError=G.IncorrectTokenStateError=G.InvalidMasterEditionAccountLengthError=G.MissingTokenOwnerAccountError=G.DataIsEmptyOrZeroedError=G.MintSupplyMustBeZeroError=G.MissingTokenRecordError=G.InvalidAuthorityTypeError=G.MissingDelegateRoleError=G.UnlockedTokenError=G.LockedTokenError=G.KeyMismatchError=G.InstructionNotSupportedError=G.InvalidTransferAuthorityError=G.InvalidDelegateRoleForTransferError=G.MissingAuthorizationRulesProgramError=void 0;G.getMplTokenMetadataErrorFromName=void 0;const de=Z,ue=new Map,le=new Map;class qQ extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionUnpackError",this.code=0}}G.InstructionUnpackErrorError=qQ;ue.set(0,qQ);le.set("InstructionUnpackError",qQ);class jQ extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionPackError",this.code=1}}G.InstructionPackErrorError=jQ;ue.set(1,jQ);le.set("InstructionPackError",jQ);class HQ extends de.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=2}}G.NotRentExemptError=HQ;ue.set(2,HQ);le.set("NotRentExempt",HQ);class GQ extends de.ProgramError{constructor(e,t){super("Already initialized",e,t),this.name="AlreadyInitialized",this.code=3}}G.AlreadyInitializedError=GQ;ue.set(3,GQ);le.set("AlreadyInitialized",GQ);class YQ extends de.ProgramError{constructor(e,t){super("Uninitialized",e,t),this.name="Uninitialized",this.code=4}}G.UninitializedError=YQ;ue.set(4,YQ);le.set("Uninitialized",YQ);class ZQ extends de.ProgramError{constructor(e,t){super(" Metadata's key must match seed of ['metadata', program id, mint] provided",e,t),this.name="InvalidMetadataKey",this.code=5}}G.InvalidMetadataKeyError=ZQ;ue.set(5,ZQ);le.set("InvalidMetadataKey",ZQ);class JQ extends de.ProgramError{constructor(e,t){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided",e,t),this.name="InvalidEditionKey",this.code=6}}G.InvalidEditionKeyError=JQ;ue.set(6,JQ);le.set("InvalidEditionKey",JQ);class XQ extends de.ProgramError{constructor(e,t){super("Update Authority given does not match",e,t),this.name="UpdateAuthorityIncorrect",this.code=7}}G.UpdateAuthorityIncorrectError=XQ;ue.set(7,XQ);le.set("UpdateAuthorityIncorrect",XQ);class QQ extends de.ProgramError{constructor(e,t){super("Update Authority needs to be signer to update metadata",e,t),this.name="UpdateAuthorityIsNotSigner",this.code=8}}G.UpdateAuthorityIsNotSignerError=QQ;ue.set(8,QQ);le.set("UpdateAuthorityIsNotSigner",QQ);class eee extends de.ProgramError{constructor(e,t){super("You must be the mint authority and signer on this transaction",e,t),this.name="NotMintAuthority",this.code=9}}G.NotMintAuthorityError=eee;ue.set(9,eee);le.set("NotMintAuthority",eee);class tee extends de.ProgramError{constructor(e,t){super("Mint authority provided does not match the authority on the mint",e,t),this.name="InvalidMintAuthority",this.code=10}}G.InvalidMintAuthorityError=tee;ue.set(10,tee);le.set("InvalidMintAuthority",tee);class ree extends de.ProgramError{constructor(e,t){super("Name too long",e,t),this.name="NameTooLong",this.code=11}}G.NameTooLongError=ree;ue.set(11,ree);le.set("NameTooLong",ree);class nee extends de.ProgramError{constructor(e,t){super("Symbol too long",e,t),this.name="SymbolTooLong",this.code=12}}G.SymbolTooLongError=nee;ue.set(12,nee);le.set("SymbolTooLong",nee);class see extends de.ProgramError{constructor(e,t){super("URI too long",e,t),this.name="UriTooLong",this.code=13}}G.UriTooLongError=see;ue.set(13,see);le.set("UriTooLong",see);class iee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",this.code=14}}G.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=iee;ue.set(14,iee);le.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",iee);class oee extends de.ProgramError{constructor(e,t){super("Mint given does not match mint on Metadata",e,t),this.name="MintMismatch",this.code=15}}G.MintMismatchError=oee;ue.set(15,oee);le.set("MintMismatch",oee);class aee extends de.ProgramError{constructor(e,t){super("Editions must have exactly one token",e,t),this.name="EditionsMustHaveExactlyOneToken",this.code=16}}G.EditionsMustHaveExactlyOneTokenError=aee;ue.set(16,aee);le.set("EditionsMustHaveExactlyOneToken",aee);class cee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MaxEditionsMintedAlready",this.code=17}}G.MaxEditionsMintedAlreadyError=cee;ue.set(17,cee);le.set("MaxEditionsMintedAlready",cee);class uee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenMintToFailed",this.code=18}}G.TokenMintToFailedError=uee;ue.set(18,uee);le.set("TokenMintToFailed",uee);class lee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MasterRecordMismatch",this.code=19}}G.MasterRecordMismatchError=lee;ue.set(19,lee);le.set("MasterRecordMismatch",lee);class dee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="DestinationMintMismatch",this.code=20}}G.DestinationMintMismatchError=dee;ue.set(20,dee);le.set("DestinationMintMismatch",dee);class fee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="EditionAlreadyMinted",this.code=21}}G.EditionAlreadyMintedError=fee;ue.set(21,fee);le.set("EditionAlreadyMinted",fee);class hee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintDecimalsShouldBeZero",this.code=22}}G.PrintingMintDecimalsShouldBeZeroError=hee;ue.set(22,hee);le.set("PrintingMintDecimalsShouldBeZero",hee);class gee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",this.code=23}}G.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=gee;ue.set(23,gee);le.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",gee);class mee extends de.ProgramError{constructor(e,t){super("EditionMintDecimalsShouldBeZero",e,t),this.name="EditionMintDecimalsShouldBeZero",this.code=24}}G.EditionMintDecimalsShouldBeZeroError=mee;ue.set(24,mee);le.set("EditionMintDecimalsShouldBeZero",mee);class yee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenBurnFailed",this.code=25}}G.TokenBurnFailedError=yee;ue.set(25,yee);le.set("TokenBurnFailed",yee);class pee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenAccountOneTimeAuthMintMismatch",this.code=26}}G.TokenAccountOneTimeAuthMintMismatchError=pee;ue.set(26,pee);le.set("TokenAccountOneTimeAuthMintMismatch",pee);class bee extends de.ProgramError{constructor(e,t){super("Derived key invalid",e,t),this.name="DerivedKeyInvalid",this.code=27}}G.DerivedKeyInvalidError=bee;ue.set(27,bee);le.set("DerivedKeyInvalid",bee);class See extends de.ProgramError{constructor(e,t){super("The Printing mint does not match that on the master edition!",e,t),this.name="PrintingMintMismatch",this.code=28}}G.PrintingMintMismatchError=See;ue.set(28,See);le.set("PrintingMintMismatch",See);class kee extends de.ProgramError{constructor(e,t){super("The One Time Printing Auth mint does not match that on the master edition!",e,t),this.name="OneTimePrintingAuthMintMismatch",this.code=29}}G.OneTimePrintingAuthMintMismatchError=kee;ue.set(29,kee);le.set("OneTimePrintingAuthMintMismatch",kee);class vee extends de.ProgramError{constructor(e,t){super("The mint of the token account does not match the Printing mint!",e,t),this.name="TokenAccountMintMismatch",this.code=30}}G.TokenAccountMintMismatchError=vee;ue.set(30,vee);le.set("TokenAccountMintMismatch",vee);class Aee extends de.ProgramError{constructor(e,t){super("The mint of the token account does not match the master metadata mint!",e,t),this.name="TokenAccountMintMismatchV2",this.code=31}}G.TokenAccountMintMismatchV2Error=Aee;ue.set(31,Aee);le.set("TokenAccountMintMismatchV2",Aee);class wee extends de.ProgramError{constructor(e,t){super("Not enough tokens to mint a limited edition",e,t),this.name="NotEnoughTokens",this.code=32}}G.NotEnoughTokensError=wee;ue.set(32,wee);le.set("NotEnoughTokens",wee);class Iee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintAuthorizationAccountMismatch",this.code=33}}G.PrintingMintAuthorizationAccountMismatchError=Iee;ue.set(33,Iee);le.set("PrintingMintAuthorizationAccountMismatch",Iee);class Pee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AuthorizationTokenAccountOwnerMismatch",this.code=34}}G.AuthorizationTokenAccountOwnerMismatchError=Pee;ue.set(34,Pee);le.set("AuthorizationTokenAccountOwnerMismatch",Pee);class _ee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="Disabled",this.code=35}}G.DisabledError=_ee;ue.set(35,_ee);le.set("Disabled",_ee);class Eee extends de.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=36}}G.CreatorsTooLongError=Eee;ue.set(36,Eee);le.set("CreatorsTooLong",Eee);class xee extends de.ProgramError{constructor(e,t){super("Creators must be at least one if set",e,t),this.name="CreatorsMustBeAtleastOne",this.code=37}}G.CreatorsMustBeAtleastOneError=xee;ue.set(37,xee);le.set("CreatorsMustBeAtleastOne",xee);class Tee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeOneOfCreators",this.code=38}}G.MustBeOneOfCreatorsError=Tee;ue.set(38,Tee);le.set("MustBeOneOfCreators",Tee);class Ree extends de.ProgramError{constructor(e,t){super("This metadata does not have creators",e,t),this.name="NoCreatorsPresentOnMetadata",this.code=39}}G.NoCreatorsPresentOnMetadataError=Ree;ue.set(39,Ree);le.set("NoCreatorsPresentOnMetadata",Ree);class Cee extends de.ProgramError{constructor(e,t){super("This creator address was not found",e,t),this.name="CreatorNotFound",this.code=40}}G.CreatorNotFoundError=Cee;ue.set(40,Cee);le.set("CreatorNotFound",Cee);class Mee extends de.ProgramError{constructor(e,t){super("Basis points cannot be more than 10000",e,t),this.name="InvalidBasisPoints",this.code=41}}G.InvalidBasisPointsError=Mee;ue.set(41,Mee);le.set("InvalidBasisPoints",Mee);class Bee extends de.ProgramError{constructor(e,t){super("Primary sale can only be flipped to true and is immutable",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=42}}G.PrimarySaleCanOnlyBeFlippedToTrueError=Bee;ue.set(42,Bee);le.set("PrimarySaleCanOnlyBeFlippedToTrue",Bee);class zee extends de.ProgramError{constructor(e,t){super("Owner does not match that on the account given",e,t),this.name="OwnerMismatch",this.code=43}}G.OwnerMismatchError=zee;ue.set(43,zee);le.set("OwnerMismatch",zee);class $ee extends de.ProgramError{constructor(e,t){super("This account has no tokens to be used for authorization",e,t),this.name="NoBalanceInAccountForAuthorization",this.code=44}}G.NoBalanceInAccountForAuthorizationError=$ee;ue.set(44,$ee);le.set("NoBalanceInAccountForAuthorization",$ee);class Dee extends de.ProgramError{constructor(e,t){super("Share total must equal 100 for creator array",e,t),this.name="ShareTotalMustBe100",this.code=45}}G.ShareTotalMustBe100Error=Dee;ue.set(45,Dee);le.set("ShareTotalMustBe100",Dee);class Oee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationExists",this.code=46}}G.ReservationExistsError=Oee;ue.set(46,Oee);le.set("ReservationExists",Oee);class Kee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationDoesNotExist",this.code=47}}G.ReservationDoesNotExistError=Kee;ue.set(47,Kee);le.set("ReservationDoesNotExist",Kee);class Lee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotSet",this.code=48}}G.ReservationNotSetError=Lee;ue.set(48,Lee);le.set("ReservationNotSet",Lee);class Wee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationAlreadyMade",this.code=49}}G.ReservationAlreadyMadeError=Wee;ue.set(49,Wee);le.set("ReservationAlreadyMade",Wee);class Nee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondMaxAddressSize",this.code=50}}G.BeyondMaxAddressSizeError=Nee;ue.set(50,Nee);le.set("BeyondMaxAddressSize",Nee);class Fee extends de.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=51}}G.NumericalOverflowErrorError=Fee;ue.set(51,Fee);le.set("NumericalOverflowError",Fee);class Uee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationBreachesMaximumSupply",this.code=52}}G.ReservationBreachesMaximumSupplyError=Uee;ue.set(52,Uee);le.set("ReservationBreachesMaximumSupply",Uee);class Vee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AddressNotInReservation",this.code=53}}G.AddressNotInReservationError=Vee;ue.set(53,Vee);le.set("AddressNotInReservation",Vee);class qee extends de.ProgramError{constructor(e,t){super("You cannot unilaterally verify another creator, they must sign",e,t),this.name="CannotVerifyAnotherCreator",this.code=54}}G.CannotVerifyAnotherCreatorError=qee;ue.set(54,qee);le.set("CannotVerifyAnotherCreator",qee);class jee extends de.ProgramError{constructor(e,t){super("You cannot unilaterally unverify another creator",e,t),this.name="CannotUnverifyAnotherCreator",this.code=55}}G.CannotUnverifyAnotherCreatorError=jee;ue.set(55,jee);le.set("CannotUnverifyAnotherCreator",jee);class Hee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="SpotMismatch",this.code=56}}G.SpotMismatchError=Hee;ue.set(56,Hee);le.set("SpotMismatch",Hee);class Gee extends de.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=57}}G.IncorrectOwnerError=Gee;ue.set(57,Gee);le.set("IncorrectOwner",Gee);class Yee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingWouldBreachMaximumSupply",this.code=58}}G.PrintingWouldBreachMaximumSupplyError=Yee;ue.set(58,Yee);le.set("PrintingWouldBreachMaximumSupply",Yee);class Zee extends de.ProgramError{constructor(e,t){super("Data is immutable",e,t),this.name="DataIsImmutable",this.code=59}}G.DataIsImmutableError=Zee;ue.set(59,Zee);le.set("DataIsImmutable",Zee);class Jee extends de.ProgramError{constructor(e,t){super("No duplicate creator addresses",e,t),this.name="DuplicateCreatorAddress",this.code=60}}G.DuplicateCreatorAddressError=Jee;ue.set(60,Jee);le.set("DuplicateCreatorAddress",Jee);class Xee extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",this.code=61}}G.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=Xee;ue.set(61,Xee);le.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",Xee);class Qee extends de.ProgramError{constructor(e,t){super("Invalid token program",e,t),this.name="InvalidTokenProgram",this.code=62}}G.InvalidTokenProgramError=Qee;ue.set(62,Qee);le.set("InvalidTokenProgram",Qee);class ete extends de.ProgramError{constructor(e,t){super("Data type mismatch",e,t),this.name="DataTypeMismatch",this.code=63}}G.DataTypeMismatchError=ete;ue.set(63,ete);le.set("DataTypeMismatch",ete);class tte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondAlottedAddressSize",this.code=64}}G.BeyondAlottedAddressSizeError=tte;ue.set(64,tte);le.set("BeyondAlottedAddressSize",tte);class rte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotComplete",this.code=65}}G.ReservationNotCompleteError=rte;ue.set(65,rte);le.set("ReservationNotComplete",rte);class nte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TriedToReplaceAnExistingReservation",this.code=66}}G.TriedToReplaceAnExistingReservationError=nte;ue.set(66,nte);le.set("TriedToReplaceAnExistingReservation",nte);class ste extends de.ProgramError{constructor(e,t){super("Invalid operation",e,t),this.name="InvalidOperation",this.code=67}}G.InvalidOperationError=ste;ue.set(67,ste);le.set("InvalidOperation",ste);class ite extends de.ProgramError{constructor(e,t){super("Invalid Owner",e,t),this.name="InvalidOwner",this.code=68}}G.InvalidOwnerError=ite;ue.set(68,ite);le.set("InvalidOwner",ite);class ote extends de.ProgramError{constructor(e,t){super("Printing mint supply must be zero for conversion",e,t),this.name="PrintingMintSupplyMustBeZeroForConversion",this.code=69}}G.PrintingMintSupplyMustBeZeroForConversionError=ote;ue.set(69,ote);le.set("PrintingMintSupplyMustBeZeroForConversion",ote);class ate extends de.ProgramError{constructor(e,t){super("One Time Auth mint supply must be zero for conversion",e,t),this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",this.code=70}}G.OneTimeAuthMintSupplyMustBeZeroForConversionError=ate;ue.set(70,ate);le.set("OneTimeAuthMintSupplyMustBeZeroForConversion",ate);class cte extends de.ProgramError{constructor(e,t){super("You tried to insert one edition too many into an edition mark pda",e,t),this.name="InvalidEditionIndex",this.code=71}}G.InvalidEditionIndexError=cte;ue.set(71,cte);le.set("InvalidEditionIndex",cte);class ute extends de.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationArrayShouldBeSizeOne",this.code=72}}G.ReservationArrayShouldBeSizeOneError=ute;ue.set(72,ute);le.set("ReservationArrayShouldBeSizeOne",ute);class lte extends de.ProgramError{constructor(e,t){super("Is Mutable can only be flipped to false",e,t),this.name="IsMutableCanOnlyBeFlippedToFalse",this.code=73}}G.IsMutableCanOnlyBeFlippedToFalseError=lte;ue.set(73,lte);le.set("IsMutableCanOnlyBeFlippedToFalse",lte);class dte extends de.ProgramError{constructor(e,t){super("Collection cannot be verified in this instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=74}}G.CollectionCannotBeVerifiedInThisInstructionError=dte;ue.set(74,dte);le.set("CollectionCannotBeVerifiedInThisInstruction",dte);class fte extends de.ProgramError{constructor(e,t){super("This instruction was deprecated in a previous release and is now removed",e,t),this.name="Removed",this.code=75}}G.RemovedError=fte;ue.set(75,fte);le.set("Removed",fte);class hte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeBurned",this.code=76}}G.MustBeBurnedError=hte;ue.set(76,hte);le.set("MustBeBurned",hte);class gte extends de.ProgramError{constructor(e,t){super("This use method is invalid",e,t),this.name="InvalidUseMethod",this.code=77}}G.InvalidUseMethodError=gte;ue.set(77,gte);le.set("InvalidUseMethod",gte);class mte extends de.ProgramError{constructor(e,t){super("Cannot Change Use Method after the first use",e,t),this.name="CannotChangeUseMethodAfterFirstUse",this.code=78}}G.CannotChangeUseMethodAfterFirstUseError=mte;ue.set(78,mte);le.set("CannotChangeUseMethodAfterFirstUse",mte);class yte extends de.ProgramError{constructor(e,t){super("Cannot Change Remaining or Available uses after the first use",e,t),this.name="CannotChangeUsesAfterFirstUse",this.code=79}}G.CannotChangeUsesAfterFirstUseError=yte;ue.set(79,yte);le.set("CannotChangeUsesAfterFirstUse",yte);class pte extends de.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=80}}G.CollectionNotFoundError=pte;ue.set(80,pte);le.set("CollectionNotFound",pte);class bte extends de.ProgramError{constructor(e,t){super("Collection Update Authority is invalid",e,t),this.name="InvalidCollectionUpdateAuthority",this.code=81}}G.InvalidCollectionUpdateAuthorityError=bte;ue.set(81,bte);le.set("InvalidCollectionUpdateAuthority",bte);class Ste extends de.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=82}}G.CollectionMustBeAUniqueMasterEditionError=Ste;ue.set(82,Ste);le.set("CollectionMustBeAUniqueMasterEdition",Ste);class kte extends de.ProgramError{constructor(e,t){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve",e,t),this.name="UseAuthorityRecordAlreadyExists",this.code=83}}G.UseAuthorityRecordAlreadyExistsError=kte;ue.set(83,kte);le.set("UseAuthorityRecordAlreadyExists",kte);class vte extends de.ProgramError{constructor(e,t){super("The Use Authority Record is empty or already revoked",e,t),this.name="UseAuthorityRecordAlreadyRevoked",this.code=84}}G.UseAuthorityRecordAlreadyRevokedError=vte;ue.set(84,vte);le.set("UseAuthorityRecordAlreadyRevoked",vte);class Ate extends de.ProgramError{constructor(e,t){super("This token has no uses",e,t),this.name="Unusable",this.code=85}}G.UnusableError=Ate;ue.set(85,Ate);le.set("Unusable",Ate);class wte extends de.ProgramError{constructor(e,t){super("There are not enough Uses left on this token.",e,t),this.name="NotEnoughUses",this.code=86}}G.NotEnoughUsesError=wte;ue.set(86,wte);le.set("NotEnoughUses",wte);class Ite extends de.ProgramError{constructor(e,t){super("This Collection Authority Record Already Exists.",e,t),this.name="CollectionAuthorityRecordAlreadyExists",this.code=87}}G.CollectionAuthorityRecordAlreadyExistsError=Ite;ue.set(87,Ite);le.set("CollectionAuthorityRecordAlreadyExists",Ite);class Pte extends de.ProgramError{constructor(e,t){super("This Collection Authority Record Does Not Exist.",e,t),this.name="CollectionAuthorityDoesNotExist",this.code=88}}G.CollectionAuthorityDoesNotExistError=Pte;ue.set(88,Pte);le.set("CollectionAuthorityDoesNotExist",Pte);class _te extends de.ProgramError{constructor(e,t){super("This Use Authority Record is invalid.",e,t),this.name="InvalidUseAuthorityRecord",this.code=89}}G.InvalidUseAuthorityRecordError=_te;ue.set(89,_te);le.set("InvalidUseAuthorityRecord",_te);class Ete extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidCollectionAuthorityRecord",this.code=90}}G.InvalidCollectionAuthorityRecordError=Ete;ue.set(90,Ete);le.set("InvalidCollectionAuthorityRecord",Ete);class xte extends de.ProgramError{constructor(e,t){super("Metadata does not match the freeze authority on the mint",e,t),this.name="InvalidFreezeAuthority",this.code=91}}G.InvalidFreezeAuthorityError=xte;ue.set(91,xte);le.set("InvalidFreezeAuthority",xte);class Tte extends de.ProgramError{constructor(e,t){super("All tokens in this account have not been delegated to this user.",e,t),this.name="InvalidDelegate",this.code=92}}G.InvalidDelegateError=Tte;ue.set(92,Tte);le.set("InvalidDelegate",Tte);class Rte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="CannotAdjustVerifiedCreator",this.code=93}}G.CannotAdjustVerifiedCreatorError=Rte;ue.set(93,Rte);le.set("CannotAdjustVerifiedCreator",Rte);class Cte extends de.ProgramError{constructor(e,t){super("Verified creators cannot be removed.",e,t),this.name="CannotRemoveVerifiedCreator",this.code=94}}G.CannotRemoveVerifiedCreatorError=Cte;ue.set(94,Cte);le.set("CannotRemoveVerifiedCreator",Cte);class Mte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="CannotWipeVerifiedCreators",this.code=95}}G.CannotWipeVerifiedCreatorsError=Mte;ue.set(95,Mte);le.set("CannotWipeVerifiedCreators",Mte);class Bte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="NotAllowedToChangeSellerFeeBasisPoints",this.code=96}}G.NotAllowedToChangeSellerFeeBasisPointsError=Bte;ue.set(96,Bte);le.set("NotAllowedToChangeSellerFeeBasisPoints",Bte);class zte extends de.ProgramError{constructor(e,t){super("Edition override cannot be zero",e,t),this.name="EditionOverrideCannotBeZero",this.code=97}}G.EditionOverrideCannotBeZeroError=zte;ue.set(97,zte);le.set("EditionOverrideCannotBeZero",zte);class $te extends de.ProgramError{constructor(e,t){super("Invalid User",e,t),this.name="InvalidUser",this.code=98}}G.InvalidUserError=$te;ue.set(98,$te);le.set("InvalidUser",$te);class Dte extends de.ProgramError{constructor(e,t){super("Revoke Collection Authority signer is incorrect",e,t),this.name="RevokeCollectionAuthoritySignerIncorrect",this.code=99}}G.RevokeCollectionAuthoritySignerIncorrectError=Dte;ue.set(99,Dte);le.set("RevokeCollectionAuthoritySignerIncorrect",Dte);class Ote extends de.ProgramError{constructor(e,t){super("",e,t),this.name="TokenCloseFailed",this.code=100}}G.TokenCloseFailedError=Ote;ue.set(100,Ote);le.set("TokenCloseFailed",Ote);class Kte extends de.ProgramError{constructor(e,t){super("Can't use this function on unsized collection",e,t),this.name="UnsizedCollection",this.code=101}}G.UnsizedCollectionError=Kte;ue.set(101,Kte);le.set("UnsizedCollection",Kte);class Lte extends de.ProgramError{constructor(e,t){super("Can't use this function on a sized collection",e,t),this.name="SizedCollection",this.code=102}}G.SizedCollectionError=Lte;ue.set(102,Lte);le.set("SizedCollection",Lte);class Wte extends de.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadata",this.code=103}}G.MissingCollectionMetadataError=Wte;ue.set(103,Wte);le.set("MissingCollectionMetadata",Wte);class Nte extends de.ProgramError{constructor(e,t){super("This NFT is not a member of the specified collection.",e,t),this.name="NotAMemberOfCollection",this.code=104}}G.NotAMemberOfCollectionError=Nte;ue.set(104,Nte);le.set("NotAMemberOfCollection",Nte);class Fte extends de.ProgramError{constructor(e,t){super("This NFT is not a verified member of the specified collection.",e,t),this.name="NotVerifiedMemberOfCollection",this.code=105}}G.NotVerifiedMemberOfCollectionError=Fte;ue.set(105,Fte);le.set("NotVerifiedMemberOfCollection",Fte);class Ute extends de.ProgramError{constructor(e,t){super("This NFT is not a collection parent NFT.",e,t),this.name="NotACollectionParent",this.code=106}}G.NotACollectionParentError=Ute;ue.set(106,Ute);le.set("NotACollectionParent",Ute);class Vte extends de.ProgramError{constructor(e,t){super("Could not determine a TokenStandard type.",e,t),this.name="CouldNotDetermineTokenStandard",this.code=107}}G.CouldNotDetermineTokenStandardError=Vte;ue.set(107,Vte);le.set("CouldNotDetermineTokenStandard",Vte);class qte extends de.ProgramError{constructor(e,t){super("This mint account has an edition but none was provided.",e,t),this.name="MissingEditionAccount",this.code=108}}G.MissingEditionAccountError=qte;ue.set(108,qte);le.set("MissingEditionAccount",qte);class jte extends de.ProgramError{constructor(e,t){super("This edition is not a Master Edition",e,t),this.name="NotAMasterEdition",this.code=109}}G.NotAMasterEditionError=jte;ue.set(109,jte);le.set("NotAMasterEdition",jte);class Hte extends de.ProgramError{constructor(e,t){super("This Master Edition has existing prints",e,t),this.name="MasterEditionHasPrints",this.code=110}}G.MasterEditionHasPrintsError=Hte;ue.set(110,Hte);le.set("MasterEditionHasPrints",Hte);class Gte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="BorshDeserializationError",this.code=111}}G.BorshDeserializationErrorError=Gte;ue.set(111,Gte);le.set("BorshDeserializationError",Gte);class Yte extends de.ProgramError{constructor(e,t){super("Cannot update a verified collection in this command",e,t),this.name="CannotUpdateVerifiedCollection",this.code=112}}G.CannotUpdateVerifiedCollectionError=Yte;ue.set(112,Yte);le.set("CannotUpdateVerifiedCollection",Yte);class Zte extends de.ProgramError{constructor(e,t){super("Edition account doesnt match collection ",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=113}}G.CollectionMasterEditionAccountInvalidError=Zte;ue.set(113,Zte);le.set("CollectionMasterEditionAccountInvalid",Zte);class Jte extends de.ProgramError{constructor(e,t){super("Item is already verified.",e,t),this.name="AlreadyVerified",this.code=114}}G.AlreadyVerifiedError=Jte;ue.set(114,Jte);le.set("AlreadyVerified",Jte);class Xte extends de.ProgramError{constructor(e,t){super("",e,t),this.name="AlreadyUnverified",this.code=115}}G.AlreadyUnverifiedError=Xte;ue.set(115,Xte);le.set("AlreadyUnverified",Xte);class Qte extends de.ProgramError{constructor(e,t){super("This edition is not a Print Edition",e,t),this.name="NotAPrintEdition",this.code=116}}G.NotAPrintEditionError=Qte;ue.set(116,Qte);le.set("NotAPrintEdition",Qte);class ere extends de.ProgramError{constructor(e,t){super("Invalid Master Edition",e,t),this.name="InvalidMasterEdition",this.code=117}}G.InvalidMasterEditionError=ere;ue.set(117,ere);le.set("InvalidMasterEdition",ere);class tre extends de.ProgramError{constructor(e,t){super("Invalid Print Edition",e,t),this.name="InvalidPrintEdition",this.code=118}}G.InvalidPrintEditionError=tre;ue.set(118,tre);le.set("InvalidPrintEdition",tre);class rre extends de.ProgramError{constructor(e,t){super("Invalid Edition Marker",e,t),this.name="InvalidEditionMarker",this.code=119}}G.InvalidEditionMarkerError=rre;ue.set(119,rre);le.set("InvalidEditionMarker",rre);class nre extends de.ProgramError{constructor(e,t){super("Reservation List is Deprecated",e,t),this.name="ReservationListDeprecated",this.code=120}}G.ReservationListDeprecatedError=nre;ue.set(120,nre);le.set("ReservationListDeprecated",nre);class sre extends de.ProgramError{constructor(e,t){super("Print Edition does not match Master Edition",e,t),this.name="PrintEditionDoesNotMatchMasterEdition",this.code=121}}G.PrintEditionDoesNotMatchMasterEditionError=sre;ue.set(121,sre);le.set("PrintEditionDoesNotMatchMasterEdition",sre);class ire extends de.ProgramError{constructor(e,t){super("Edition Number greater than max supply",e,t),this.name="EditionNumberGreaterThanMaxSupply",this.code=122}}G.EditionNumberGreaterThanMaxSupplyError=ire;ue.set(122,ire);le.set("EditionNumberGreaterThanMaxSupply",ire);class ore extends de.ProgramError{constructor(e,t){super("Must unverify before migrating collections.",e,t),this.name="MustUnverify",this.code=123}}G.MustUnverifyError=ore;ue.set(123,ore);le.set("MustUnverify",ore);class are extends de.ProgramError{constructor(e,t){super("Invalid Escrow Account Bump Seed",e,t),this.name="InvalidEscrowBumpSeed",this.code=124}}G.InvalidEscrowBumpSeedError=are;ue.set(124,are);le.set("InvalidEscrowBumpSeed",are);class cre extends de.ProgramError{constructor(e,t){super("Must Escrow Authority",e,t),this.name="MustBeEscrowAuthority",this.code=125}}G.MustBeEscrowAuthorityError=cre;ue.set(125,cre);le.set("MustBeEscrowAuthority",cre);class ure extends de.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=126}}G.InvalidSystemProgramError=ure;ue.set(126,ure);le.set("InvalidSystemProgram",ure);class lre extends de.ProgramError{constructor(e,t){super("Must be a Non Fungible Token",e,t),this.name="MustBeNonFungible",this.code=127}}G.MustBeNonFungibleError=lre;ue.set(127,lre);le.set("MustBeNonFungible",lre);class dre extends de.ProgramError{constructor(e,t){super("Insufficient tokens for transfer",e,t),this.name="InsufficientTokens",this.code=128}}G.InsufficientTokensError=dre;ue.set(128,dre);le.set("InsufficientTokens",dre);class fre extends de.ProgramError{constructor(e,t){super("Borsh Serialization Error",e,t),this.name="BorshSerializationError",this.code=129}}G.BorshSerializationErrorError=fre;ue.set(129,fre);le.set("BorshSerializationError",fre);class hre extends de.ProgramError{constructor(e,t){super("Cannot create NFT with no Freeze Authority.",e,t),this.name="NoFreezeAuthoritySet",this.code=130}}G.NoFreezeAuthoritySetError=hre;ue.set(130,hre);le.set("NoFreezeAuthoritySet",hre);class gre extends de.ProgramError{constructor(e,t){super("Invalid collection size change",e,t),this.name="InvalidCollectionSizeChange",this.code=131}}G.InvalidCollectionSizeChangeError=gre;ue.set(131,gre);le.set("InvalidCollectionSizeChange",gre);class mre extends de.ProgramError{constructor(e,t){super("Invalid bubblegum signer",e,t),this.name="InvalidBubblegumSigner",this.code=132}}G.InvalidBubblegumSignerError=mre;ue.set(132,mre);le.set("InvalidBubblegumSigner",mre);class yre extends de.ProgramError{constructor(e,t){super("Escrow parent cannot have a delegate",e,t),this.name="EscrowParentHasDelegate",this.code=133}}G.EscrowParentHasDelegateError=yre;ue.set(133,yre);le.set("EscrowParentHasDelegate",yre);class pre extends de.ProgramError{constructor(e,t){super("Mint needs to be signer to initialize the account",e,t),this.name="MintIsNotSigner",this.code=134}}G.MintIsNotSignerError=pre;ue.set(134,pre);le.set("MintIsNotSigner",pre);class bre extends de.ProgramError{constructor(e,t){super("Invalid token standard",e,t),this.name="InvalidTokenStandard",this.code=135}}G.InvalidTokenStandardError=bre;ue.set(135,bre);le.set("InvalidTokenStandard",bre);class Sre extends de.ProgramError{constructor(e,t){super("Invalid mint account for specified token standard",e,t),this.name="InvalidMintForTokenStandard",this.code=136}}G.InvalidMintForTokenStandardError=Sre;ue.set(136,Sre);le.set("InvalidMintForTokenStandard",Sre);class kre extends de.ProgramError{constructor(e,t){super("Invalid authorization rules account",e,t),this.name="InvalidAuthorizationRules",this.code=137}}G.InvalidAuthorizationRulesError=kre;ue.set(137,kre);le.set("InvalidAuthorizationRules",kre);class vre extends de.ProgramError{constructor(e,t){super("Missing authorization rules account",e,t),this.name="MissingAuthorizationRules",this.code=138}}G.MissingAuthorizationRulesError=vre;ue.set(138,vre);le.set("MissingAuthorizationRules",vre);class Are extends de.ProgramError{constructor(e,t){super("Missing programmable configuration",e,t),this.name="MissingProgrammableConfig",this.code=139}}G.MissingProgrammableConfigError=Are;ue.set(139,Are);le.set("MissingProgrammableConfig",Are);class wre extends de.ProgramError{constructor(e,t){super("Invalid programmable configuration",e,t),this.name="InvalidProgrammableConfig",this.code=140}}G.InvalidProgrammableConfigError=wre;ue.set(140,wre);le.set("InvalidProgrammableConfig",wre);class Ire extends de.ProgramError{constructor(e,t){super("Delegate already exists",e,t),this.name="DelegateAlreadyExists",this.code=141}}G.DelegateAlreadyExistsError=Ire;ue.set(141,Ire);le.set("DelegateAlreadyExists",Ire);class Pre extends de.ProgramError{constructor(e,t){super("Delegate not found",e,t),this.name="DelegateNotFound",this.code=142}}G.DelegateNotFoundError=Pre;ue.set(142,Pre);le.set("DelegateNotFound",Pre);class _re extends de.ProgramError{constructor(e,t){super("Required account not set in instruction builder",e,t),this.name="MissingAccountInBuilder",this.code=143}}G.MissingAccountInBuilderError=_re;ue.set(143,_re);le.set("MissingAccountInBuilder",_re);class Ere extends de.ProgramError{constructor(e,t){super("Required argument not set in instruction builder",e,t),this.name="MissingArgumentInBuilder",this.code=144}}G.MissingArgumentInBuilderError=Ere;ue.set(144,Ere);le.set("MissingArgumentInBuilder",Ere);class xre extends de.ProgramError{constructor(e,t){super("Feature not supported currently",e,t),this.name="FeatureNotSupported",this.code=145}}G.FeatureNotSupportedError=xre;ue.set(145,xre);le.set("FeatureNotSupported",xre);class Tre extends de.ProgramError{constructor(e,t){super("Invalid system wallet",e,t),this.name="InvalidSystemWallet",this.code=146}}G.InvalidSystemWalletError=Tre;ue.set(146,Tre);le.set("InvalidSystemWallet",Tre);class Rre extends de.ProgramError{constructor(e,t){super("Only the sale delegate can transfer while its set",e,t),this.name="OnlySaleDelegateCanTransfer",this.code=147}}G.OnlySaleDelegateCanTransferError=Rre;ue.set(147,Rre);le.set("OnlySaleDelegateCanTransfer",Rre);class Cre extends de.ProgramError{constructor(e,t){super("Missing token account",e,t),this.name="MissingTokenAccount",this.code=148}}G.MissingTokenAccountError=Cre;ue.set(148,Cre);le.set("MissingTokenAccount",Cre);class Mre extends de.ProgramError{constructor(e,t){super("Missing SPL token program",e,t),this.name="MissingSplTokenProgram",this.code=149}}G.MissingSplTokenProgramError=Mre;ue.set(149,Mre);le.set("MissingSplTokenProgram",Mre);class Bre extends de.ProgramError{constructor(e,t){super("Missing authorization rules program",e,t),this.name="MissingAuthorizationRulesProgram",this.code=150}}G.MissingAuthorizationRulesProgramError=Bre;ue.set(150,Bre);le.set("MissingAuthorizationRulesProgram",Bre);class zre extends de.ProgramError{constructor(e,t){super("Invalid delegate role for transfer",e,t),this.name="InvalidDelegateRoleForTransfer",this.code=151}}G.InvalidDelegateRoleForTransferError=zre;ue.set(151,zre);le.set("InvalidDelegateRoleForTransfer",zre);class $re extends de.ProgramError{constructor(e,t){super("Invalid transfer authority",e,t),this.name="InvalidTransferAuthority",this.code=152}}G.InvalidTransferAuthorityError=$re;ue.set(152,$re);le.set("InvalidTransferAuthority",$re);class Dre extends de.ProgramError{constructor(e,t){super("Instruction not supported for ProgrammableNonFungible assets",e,t),this.name="InstructionNotSupported",this.code=153}}G.InstructionNotSupportedError=Dre;ue.set(153,Dre);le.set("InstructionNotSupported",Dre);class Ore extends de.ProgramError{constructor(e,t){super("Public key does not match expected value",e,t),this.name="KeyMismatch",this.code=154}}G.KeyMismatchError=Ore;ue.set(154,Ore);le.set("KeyMismatch",Ore);class Kre extends de.ProgramError{constructor(e,t){super("Token is locked",e,t),this.name="LockedToken",this.code=155}}G.LockedTokenError=Kre;ue.set(155,Kre);le.set("LockedToken",Kre);class Lre extends de.ProgramError{constructor(e,t){super("Token is unlocked",e,t),this.name="UnlockedToken",this.code=156}}G.UnlockedTokenError=Lre;ue.set(156,Lre);le.set("UnlockedToken",Lre);class Wre extends de.ProgramError{constructor(e,t){super("Missing delegate role",e,t),this.name="MissingDelegateRole",this.code=157}}G.MissingDelegateRoleError=Wre;ue.set(157,Wre);le.set("MissingDelegateRole",Wre);class Nre extends de.ProgramError{constructor(e,t){super("Invalid authority type",e,t),this.name="InvalidAuthorityType",this.code=158}}G.InvalidAuthorityTypeError=Nre;ue.set(158,Nre);le.set("InvalidAuthorityType",Nre);class Fre extends de.ProgramError{constructor(e,t){super("Missing token record account",e,t),this.name="MissingTokenRecord",this.code=159}}G.MissingTokenRecordError=Fre;ue.set(159,Fre);le.set("MissingTokenRecord",Fre);class Ure extends de.ProgramError{constructor(e,t){super("Mint supply must be zero for programmable assets",e,t),this.name="MintSupplyMustBeZero",this.code=160}}G.MintSupplyMustBeZeroError=Ure;ue.set(160,Ure);le.set("MintSupplyMustBeZero",Ure);class Vre extends de.ProgramError{constructor(e,t){super("Data is empty or zeroed",e,t),this.name="DataIsEmptyOrZeroed",this.code=161}}G.DataIsEmptyOrZeroedError=Vre;ue.set(161,Vre);le.set("DataIsEmptyOrZeroed",Vre);class qre extends de.ProgramError{constructor(e,t){super("Missing token owner",e,t),this.name="MissingTokenOwnerAccount",this.code=162}}G.MissingTokenOwnerAccountError=qre;ue.set(162,qre);le.set("MissingTokenOwnerAccount",qre);class jre extends de.ProgramError{constructor(e,t){super("Master edition account has an invalid length",e,t),this.name="InvalidMasterEditionAccountLength",this.code=163}}G.InvalidMasterEditionAccountLengthError=jre;ue.set(163,jre);le.set("InvalidMasterEditionAccountLength",jre);class Hre extends de.ProgramError{constructor(e,t){super("Incorrect token state",e,t),this.name="IncorrectTokenState",this.code=164}}G.IncorrectTokenStateError=Hre;ue.set(164,Hre);le.set("IncorrectTokenState",Hre);class Gre extends de.ProgramError{constructor(e,t){super("Invalid delegate role",e,t),this.name="InvalidDelegateRole",this.code=165}}G.InvalidDelegateRoleError=Gre;ue.set(165,Gre);le.set("InvalidDelegateRole",Gre);class Yre extends de.ProgramError{constructor(e,t){super("Print supply is required for non-fungibles",e,t),this.name="MissingPrintSupply",this.code=166}}G.MissingPrintSupplyError=Yre;ue.set(166,Yre);le.set("MissingPrintSupply",Yre);class Zre extends de.ProgramError{constructor(e,t){super("Missing master edition account",e,t),this.name="MissingMasterEditionAccount",this.code=167}}G.MissingMasterEditionAccountError=Zre;ue.set(167,Zre);le.set("MissingMasterEditionAccount",Zre);class Jre extends de.ProgramError{constructor(e,t){super("Amount must be greater than zero",e,t),this.name="AmountMustBeGreaterThanZero",this.code=168}}G.AmountMustBeGreaterThanZeroError=Jre;ue.set(168,Jre);le.set("AmountMustBeGreaterThanZero",Jre);class Xre extends de.ProgramError{constructor(e,t){super("Invalid delegate args",e,t),this.name="InvalidDelegateArgs",this.code=169}}G.InvalidDelegateArgsError=Xre;ue.set(169,Xre);le.set("InvalidDelegateArgs",Xre);class Qre extends de.ProgramError{constructor(e,t){super("Missing address for locked transfer",e,t),this.name="MissingLockedTransferAddress",this.code=170}}G.MissingLockedTransferAddressError=Qre;ue.set(170,Qre);le.set("MissingLockedTransferAddress",Qre);class ene extends de.ProgramError{constructor(e,t){super("Invalid destination address for locked transfer",e,t),this.name="InvalidLockedTransferAddress",this.code=171}}G.InvalidLockedTransferAddressError=ene;ue.set(171,ene);le.set("InvalidLockedTransferAddress",ene);class tne extends de.ProgramError{constructor(e,t){super("Exceeded account realloc increase limit",e,t),this.name="DataIncrementLimitExceeded",this.code=172}}G.DataIncrementLimitExceededError=tne;ue.set(172,tne);le.set("DataIncrementLimitExceeded",tne);class rne extends de.ProgramError{constructor(e,t){super("Cannot update the rule set of a programmable asset that has a delegate",e,t),this.name="CannotUpdateAssetWithDelegate",this.code=173}}G.CannotUpdateAssetWithDelegateError=rne;ue.set(173,rne);le.set("CannotUpdateAssetWithDelegate",rne);class nne extends de.ProgramError{constructor(e,t){super("Invalid token amount for this operation or token standard",e,t),this.name="InvalidAmount",this.code=174}}G.InvalidAmountError=nne;ue.set(174,nne);le.set("InvalidAmount",nne);class sne extends de.ProgramError{constructor(e,t){super("Missing master edition mint account",e,t),this.name="MissingMasterEditionMintAccount",this.code=175}}G.MissingMasterEditionMintAccountError=sne;ue.set(175,sne);le.set("MissingMasterEditionMintAccount",sne);class ine extends de.ProgramError{constructor(e,t){super("Missing master edition token account",e,t),this.name="MissingMasterEditionTokenAccount",this.code=176}}G.MissingMasterEditionTokenAccountError=ine;ue.set(176,ine);le.set("MissingMasterEditionTokenAccount",ine);class one extends de.ProgramError{constructor(e,t){super("Missing edition marker account",e,t),this.name="MissingEditionMarkerAccount",this.code=177}}G.MissingEditionMarkerAccountError=one;ue.set(177,one);le.set("MissingEditionMarkerAccount",one);class ane extends de.ProgramError{constructor(e,t){super("Cannot burn while persistent delegate is set",e,t),this.name="CannotBurnWithDelegate",this.code=178}}G.CannotBurnWithDelegateError=ane;ue.set(178,ane);le.set("CannotBurnWithDelegate",ane);class cne extends de.ProgramError{constructor(e,t){super("Missing edition account",e,t),this.name="MissingEdition",this.code=179}}G.MissingEditionError=cne;ue.set(179,cne);le.set("MissingEdition",cne);class une extends de.ProgramError{constructor(e,t){super("Invalid Associated Token Account Program",e,t),this.name="InvalidAssociatedTokenAccountProgram",this.code=180}}G.InvalidAssociatedTokenAccountProgramError=une;ue.set(180,une);le.set("InvalidAssociatedTokenAccountProgram",une);class lne extends de.ProgramError{constructor(e,t){super("Invalid InstructionsSysvar",e,t),this.name="InvalidInstructionsSysvar",this.code=181}}G.InvalidInstructionsSysvarError=lne;ue.set(181,lne);le.set("InvalidInstructionsSysvar",lne);class dne extends de.ProgramError{constructor(e,t){super("Invalid or Unneeded parent accounts",e,t),this.name="InvalidParentAccounts",this.code=182}}G.InvalidParentAccountsError=dne;ue.set(182,dne);le.set("InvalidParentAccounts",dne);class fne extends de.ProgramError{constructor(e,t){super("Authority cannot apply all update args",e,t),this.name="InvalidUpdateArgs",this.code=183}}G.InvalidUpdateArgsError=fne;ue.set(183,fne);le.set("InvalidUpdateArgs",fne);class hne extends de.ProgramError{constructor(e,t){super("Token account does not have enough tokens",e,t),this.name="InsufficientTokenBalance",this.code=184}}G.InsufficientTokenBalanceError=hne;ue.set(184,hne);le.set("InsufficientTokenBalance",hne);class gne extends de.ProgramError{constructor(e,t){super("Missing collection account",e,t),this.name="MissingCollectionMint",this.code=185}}G.MissingCollectionMintError=gne;ue.set(185,gne);le.set("MissingCollectionMint",gne);class mne extends de.ProgramError{constructor(e,t){super("Missing collection master edition account",e,t),this.name="MissingCollectionMasterEdition",this.code=186}}G.MissingCollectionMasterEditionError=mne;ue.set(186,mne);le.set("MissingCollectionMasterEdition",mne);class yne extends de.ProgramError{constructor(e,t){super("Invalid token record account",e,t),this.name="InvalidTokenRecord",this.code=187}}G.InvalidTokenRecordError=yne;ue.set(187,yne);le.set("InvalidTokenRecord",yne);class pne extends de.ProgramError{constructor(e,t){super("The close authority needs to be revoked by the Utility Delegate",e,t),this.name="InvalidCloseAuthority",this.code=188}}G.InvalidCloseAuthorityError=pne;ue.set(188,pne);le.set("InvalidCloseAuthority",pne);class bne extends de.ProgramError{constructor(e,t){super("Invalid or removed instruction",e,t),this.name="InvalidInstruction",this.code=189}}G.InvalidInstructionError=bne;ue.set(189,bne);le.set("InvalidInstruction",bne);class Sne extends de.ProgramError{constructor(e,t){super("Missing delegate record",e,t),this.name="MissingDelegateRecord",this.code=190}}G.MissingDelegateRecordError=Sne;ue.set(190,Sne);le.set("MissingDelegateRecord",Sne);class kne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidFeeAccount",this.code=191}}G.InvalidFeeAccountError=kne;ue.set(191,kne);le.set("InvalidFeeAccount",kne);class vne extends de.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidMetadataFlags",this.code=192}}G.InvalidMetadataFlagsError=vne;ue.set(192,vne);le.set("InvalidMetadataFlags",vne);class Ane extends de.ProgramError{constructor(e,t){super("Cannot change the update authority with a delegate",e,t),this.name="CannotChangeUpdateAuthorityWithDelegate",this.code=193}}G.CannotChangeUpdateAuthorityWithDelegateError=Ane;ue.set(193,Ane);le.set("CannotChangeUpdateAuthorityWithDelegate",Ane);class wne extends de.ProgramError{constructor(e,t){super("Invalid mint extension type",e,t),this.name="InvalidMintExtensionType",this.code=194}}G.InvalidMintExtensionTypeError=wne;ue.set(194,wne);le.set("InvalidMintExtensionType",wne);class Ine extends de.ProgramError{constructor(e,t){super("Invalid mint close authority",e,t),this.name="InvalidMintCloseAuthority",this.code=195}}G.InvalidMintCloseAuthorityError=Ine;ue.set(195,Ine);le.set("InvalidMintCloseAuthority",Ine);class Pne extends de.ProgramError{constructor(e,t){super("Invalid metadata pointer",e,t),this.name="InvalidMetadataPointer",this.code=196}}G.InvalidMetadataPointerError=Pne;ue.set(196,Pne);le.set("InvalidMetadataPointer",Pne);class _ne extends de.ProgramError{constructor(e,t){super("Invalid token extension type",e,t),this.name="InvalidTokenExtensionType",this.code=197}}G.InvalidTokenExtensionTypeError=_ne;ue.set(197,_ne);le.set("InvalidTokenExtensionType",_ne);class Ene extends de.ProgramError{constructor(e,t){super("Missing immutable owner extension",e,t),this.name="MissingImmutableOwnerExtension",this.code=198}}G.MissingImmutableOwnerExtensionError=Ene;ue.set(198,Ene);le.set("MissingImmutableOwnerExtension",Ene);function rAt(n,e,t){const r=ue.get(n);return r?new r(e,t):null}G.getMplTokenMetadataErrorFromCode=rAt;function nAt(n,e,t){const r=le.get(n);return r?new r(e,t):null}G.getMplTokenMetadataErrorFromName=nAt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(G,n)})(VQ);var kRe={},lI={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getAccountMetasAndSigners=Ne.expectPda=Ne.expectPublicKey=Ne.expectSome=void 0;const H2=Z;function sAt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}Ne.expectSome=sAt;function iAt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,H2.publicKey)(n,!1)}Ne.expectPublicKey=iAt;function oAt(n){if(!n||!Array.isArray(n)||!(0,H2.isPda)(n))throw new Error("Expected a PDA.");return n}Ne.expectPda=oAt;function aAt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,H2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,H2.publicKey)(i.value,!1),isSigner:(0,H2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}Ne.getAccountMetasAndSigners=aAt;Object.defineProperty(lI,"__esModule",{value:!0});lI.approveCollectionAuthority=lI.getApproveCollectionAuthorityInstructionDataSerializer=void 0;const cAt=Z,lF=q,uAt=Ut,Dme=Ne;function vRe(){return(0,lF.mapSerializer)((0,lF.struct)([["discriminator",(0,lF.u8)()]],{description:"ApproveCollectionAuthorityInstructionData"}),n=>({...n,discriminator:23}))}lI.getApproveCollectionAuthorityInstructionDataSerializer=vRe;function lAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},newCollectionAuthority:{index:1,isWritable:!1,value:e.newCollectionAuthority??null},updateAuthority:{index:2,isWritable:!0,value:e.updateAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},metadata:{index:4,isWritable:!1,value:e.metadata??null},mint:{index:5,isWritable:!1,value:e.mint??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},rent:{index:7,isWritable:!1,value:e.rent??null}};r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,uAt.findMetadataPda)(n,{mint:(0,Dme.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Dme.getAccountMetasAndSigners)(s,"omitted",t),a=vRe().serialize({}),c=0;return(0,cAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}lI.approveCollectionAuthority=lAt;var dI={};Object.defineProperty(dI,"__esModule",{value:!0});dI.approveUseAuthority=dI.getApproveUseAuthorityInstructionDataSerializer=void 0;const dAt=Z,a8=q,fAt=Ut,Ome=Ne;function ARe(){return(0,a8.mapSerializer)((0,a8.struct)([["discriminator",(0,a8.u8)()],["numberOfUses",(0,a8.u64)()]],{description:"ApproveUseAuthorityInstructionData"}),n=>({...n,discriminator:20}))}dI.getApproveUseAuthorityInstructionDataSerializer=ARe;function hAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},payer:{index:2,isWritable:!0,value:e.payer??null},user:{index:3,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:4,isWritable:!0,value:e.ownerTokenAccount??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},mint:{index:6,isWritable:!1,value:e.mint??null},burner:{index:7,isWritable:!1,value:e.burner??null},tokenProgram:{index:8,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},rent:{index:10,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,fAt.findMetadataPda)(n,{mint:(0,Ome.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ome.getAccountMetasAndSigners)(i,"omitted",t),c=ARe().serialize(s),u=0;return(0,dAt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}dI.approveUseAuthority=hAt;var fI={};Object.defineProperty(fI,"__esModule",{value:!0});fI.bubblegumSetCollectionSize=fI.getBubblegumSetCollectionSizeInstructionDataSerializer=void 0;const gAt=Z,dF=q,mAt=Ne,yAt=ut;function wRe(){return(0,dF.mapSerializer)((0,dF.struct)([["discriminator",(0,dF.u8)()],["setCollectionSizeArgs",(0,yAt.getSetCollectionSizeArgsSerializer)()]],{description:"BubblegumSetCollectionSizeInstructionData"}),n=>({...n,discriminator:36}))}fI.getBubblegumSetCollectionSizeInstructionDataSerializer=wRe;function pAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},bubblegumSigner:{index:3,isWritable:!1,value:e.bubblegumSigner??null},collectionAuthorityRecord:{index:4,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,mAt.getAccountMetasAndSigners)(i,"omitted",t),c=wRe().serialize(s),u=0;return(0,gAt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}fI.bubblegumSetCollectionSize=pAt;var hI={};Object.defineProperty(hI,"__esModule",{value:!0});hI.burnEditionNft=hI.getBurnEditionNftInstructionDataSerializer=void 0;const bAt=Z,fF=q,SAt=Ne;function IRe(){return(0,fF.mapSerializer)((0,fF.struct)([["discriminator",(0,fF.u8)()]],{description:"BurnEditionNftInstructionData"}),n=>({...n,discriminator:37}))}hI.getBurnEditionNftInstructionDataSerializer=IRe;function kAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},printEditionMint:{index:2,isWritable:!0,value:e.printEditionMint??null},masterEditionMint:{index:3,isWritable:!1,value:e.masterEditionMint??null},printEditionTokenAccount:{index:4,isWritable:!0,value:e.printEditionTokenAccount??null},masterEditionTokenAccount:{index:5,isWritable:!1,value:e.masterEditionTokenAccount??null},masterEditionAccount:{index:6,isWritable:!0,value:e.masterEditionAccount??null},printEditionAccount:{index:7,isWritable:!0,value:e.printEditionAccount??null},editionMarkerAccount:{index:8,isWritable:!0,value:e.editionMarkerAccount??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null}};r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,SAt.getAccountMetasAndSigners)(s,"programId",t),a=IRe().serialize({}),c=0;return(0,bAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}hI.burnEditionNft=kAt;var gI={};Object.defineProperty(gI,"__esModule",{value:!0});gI.burnNft=gI.getBurnNftInstructionDataSerializer=void 0;const vAt=Z,hF=q,AAt=Ut,Kme=Ne;function PRe(){return(0,hF.mapSerializer)((0,hF.struct)([["discriminator",(0,hF.u8)()]],{description:"BurnNftInstructionData"}),n=>({...n,discriminator:29}))}gI.getBurnNftInstructionDataSerializer=PRe;function wAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},mint:{index:2,isWritable:!0,value:e.mint??null},tokenAccount:{index:3,isWritable:!0,value:e.tokenAccount??null},masterEditionAccount:{index:4,isWritable:!0,value:e.masterEditionAccount??null},splTokenProgram:{index:5,isWritable:!1,value:e.splTokenProgram??null},collectionMetadata:{index:6,isWritable:!0,value:e.collectionMetadata??null}};r.metadata.value||(r.metadata.value=(0,AAt.findMetadataPda)(n,{mint:(0,Kme.expectPublicKey)(r.mint.value)})),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Kme.getAccountMetasAndSigners)(s,"omitted",t),a=PRe().serialize({}),c=0;return(0,vAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}gI.burnNft=wAt;var mI={};Object.defineProperty(mI,"__esModule",{value:!0});mI.burnV1=mI.getBurnV1InstructionDataSerializer=void 0;const IAt=Hs,Lme=Z,eC=q,PAt=on,c8=Ut,iy=Ne,_At=ut;function _Re(){return(0,eC.mapSerializer)((0,eC.struct)([["discriminator",(0,eC.u8)()],["burnV1Discriminator",(0,eC.u8)()],["amount",(0,eC.u64)()]],{description:"BurnV1InstructionData"}),n=>({...n,discriminator:41,burnV1Discriminator:0,amount:n.amount??1}))}mI.getBurnV1InstructionDataSerializer=_Re;function EAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!0,value:e.authority??null},collectionMetadata:{index:1,isWritable:!0,value:e.collectionMetadata??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},edition:{index:3,isWritable:!0,value:e.edition??null},mint:{index:4,isWritable:!0,value:e.mint??null},token:{index:5,isWritable:!0,value:e.token??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},masterEditionMint:{index:7,isWritable:!1,value:e.masterEditionMint??null},masterEditionToken:{index:8,isWritable:!1,value:e.masterEditionToken??null},editionMarker:{index:9,isWritable:!0,value:e.editionMarker??null},tokenRecord:{index:10,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,c8.findMetadataPda)(n,{mint:(0,iy.expectPublicKey)(r.mint.value)})),r.edition.value||(0,PAt.resolveIsNonFungible)(n,r,s,t,!0)&&(r.edition.value=(0,c8.findMasterEditionPda)(n,{mint:(0,iy.expectPublicKey)(r.mint.value)})),s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,IAt.findAssociatedTokenPda)(n,{mint:(0,iy.expectPublicKey)(r.mint.value),owner:(0,iy.expectSome)(s.tokenOwner)})),r.masterEdition.value||r.masterEditionMint.value&&(r.masterEdition.value=(0,c8.findMasterEditionPda)(n,{mint:(0,iy.expectPublicKey)(r.masterEditionMint.value)})),r.tokenRecord.value||s.tokenStandard===_At.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,c8.findTokenRecordPda)(n,{mint:(0,iy.expectPublicKey)(r.mint.value),token:(0,iy.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Lme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,iy.getAccountMetasAndSigners)(i,"programId",t),c=_Re().serialize(s),u=0;return(0,Lme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mI.burnV1=EAt;var yI={};Object.defineProperty(yI,"__esModule",{value:!0});yI.closeEscrowAccount=yI.getCloseEscrowAccountInstructionDataSerializer=void 0;const Wme=Z,gF=q,Nme=Ut,mF=Ne;function ERe(){return(0,gF.mapSerializer)((0,gF.struct)([["discriminator",(0,gF.u8)()]],{description:"CloseEscrowAccountInstructionData"}),n=>({...n,discriminator:39}))}yI.getCloseEscrowAccountInstructionDataSerializer=ERe;function xAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.metadata.value||(r.metadata.value=(0,Nme.findMetadataPda)(n,{mint:(0,mF.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Nme.findMasterEditionPda)(n,{mint:(0,mF.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Wme.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,mF.getAccountMetasAndSigners)(s,"programId",t),a=ERe().serialize({}),c=0;return(0,Wme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}yI.closeEscrowAccount=xAt;var pI={};Object.defineProperty(pI,"__esModule",{value:!0});pI.collect=pI.getCollectInstructionDataSerializer=void 0;const TAt=Z,yF=q,RAt=Ne;function xRe(){return(0,yF.mapSerializer)((0,yF.struct)([["discriminator",(0,yF.u8)()]],{description:"CollectInstructionData"}),n=>({...n,discriminator:54}))}pI.getCollectInstructionDataSerializer=xRe;function CAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},recipient:{index:1,isWritable:!1,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,RAt.getAccountMetasAndSigners)(s,"programId",t),a=xRe().serialize({}),c=0;return(0,TAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}pI.collect=CAt;var bI={};Object.defineProperty(bI,"__esModule",{value:!0});bI.convertMasterEditionV1ToV2=bI.getConvertMasterEditionV1ToV2InstructionDataSerializer=void 0;const MAt=Z,pF=q,BAt=Ne;function TRe(){return(0,pF.mapSerializer)((0,pF.struct)([["discriminator",(0,pF.u8)()]],{description:"ConvertMasterEditionV1ToV2InstructionData"}),n=>({...n,discriminator:12}))}bI.getConvertMasterEditionV1ToV2InstructionDataSerializer=TRe;function zAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={masterEdition:{index:0,isWritable:!0,value:e.masterEdition??null},oneTimeAuth:{index:1,isWritable:!0,value:e.oneTimeAuth??null},printingMint:{index:2,isWritable:!0,value:e.printingMint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,BAt.getAccountMetasAndSigners)(s,"programId",t),a=TRe().serialize({}),c=0;return(0,MAt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}bI.convertMasterEditionV1ToV2=zAt;var SI={};Object.defineProperty(SI,"__esModule",{value:!0});SI.createEscrowAccount=SI.getCreateEscrowAccountInstructionDataSerializer=void 0;const Fme=Z,bF=q,Ume=Ut,SF=Ne;function RRe(){return(0,bF.mapSerializer)((0,bF.struct)([["discriminator",(0,bF.u8)()]],{description:"CreateEscrowAccountInstructionData"}),n=>({...n,discriminator:38}))}SI.getCreateEscrowAccountInstructionDataSerializer=RRe;function $At(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:8,isWritable:!1,value:e.authority??null}};r.metadata.value||(r.metadata.value=(0,Ume.findMetadataPda)(n,{mint:(0,SF.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Ume.findMasterEditionPda)(n,{mint:(0,SF.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Fme.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,SF.getAccountMetasAndSigners)(s,"omitted",t),a=RRe().serialize({}),c=0;return(0,Fme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}SI.createEscrowAccount=$At;var kI={};Object.defineProperty(kI,"__esModule",{value:!0});kI.createMasterEditionV3=kI.getCreateMasterEditionV3InstructionDataSerializer=void 0;const DAt=Z,tC=q,Vme=Ut,kF=Ne;function CRe(){return(0,tC.mapSerializer)((0,tC.struct)([["discriminator",(0,tC.u8)()],["maxSupply",(0,tC.option)((0,tC.u64)())]],{description:"CreateMasterEditionV3InstructionData"}),n=>({...n,discriminator:17}))}kI.getCreateMasterEditionV3InstructionDataSerializer=CRe;function OAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={edition:{index:0,isWritable:!0,value:e.edition??null},mint:{index:1,isWritable:!0,value:e.mint??null},updateAuthority:{index:2,isWritable:!1,value:e.updateAuthority??null},mintAuthority:{index:3,isWritable:!1,value:e.mintAuthority??null},payer:{index:4,isWritable:!0,value:e.payer??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}},s={...e};r.edition.value||(r.edition.value=(0,Vme.findMasterEditionPda)(n,{mint:(0,kF.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,Vme.findMetadataPda)(n,{mint:(0,kF.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,kF.getAccountMetasAndSigners)(i,"omitted",t),c=CRe().serialize(s),u=0;return(0,DAt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kI.createMasterEditionV3=OAt;var vI={};Object.defineProperty(vI,"__esModule",{value:!0});vI.createMetadataAccountV3=vI.getCreateMetadataAccountV3InstructionDataSerializer=void 0;const KAt=Z,rC=q,LAt=Ut,qme=Ne,jme=ut;function MRe(){return(0,rC.mapSerializer)((0,rC.struct)([["discriminator",(0,rC.u8)()],["data",(0,jme.getDataV2Serializer)()],["isMutable",(0,rC.bool)()],["collectionDetails",(0,rC.option)((0,jme.getCollectionDetailsSerializer)())]],{description:"CreateMetadataAccountV3InstructionData"}),n=>({...n,discriminator:33}))}vI.getCreateMetadataAccountV3InstructionDataSerializer=MRe;function WAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},mint:{index:1,isWritable:!1,value:e.mint??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},updateAuthority:{index:4,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},rent:{index:6,isWritable:!1,value:e.rent??null}},s={...e};r.metadata.value||(r.metadata.value=(0,LAt.findMetadataPda)(n,{mint:(0,qme.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,qme.getAccountMetasAndSigners)(i,"omitted",t),c=MRe().serialize(s),u=0;return(0,KAt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}vI.createMetadataAccountV3=WAt;var AI={};Object.defineProperty(AI,"__esModule",{value:!0});AI.createV1=AI.getCreateV1InstructionDataSerializer=void 0;const Ov=Z,Wo=q,r0=on,Hme=Ut,u8=Ne,by=ut;function BRe(){return(0,Wo.mapSerializer)((0,Wo.struct)([["discriminator",(0,Wo.u8)()],["createV1Discriminator",(0,Wo.u8)()],["name",(0,Wo.string)()],["symbol",(0,Wo.string)()],["uri",(0,Wo.string)()],["sellerFeeBasisPoints",(0,Ov.mapAmountSerializer)((0,Wo.u16)(),"%",2)],["creators",(0,Wo.option)((0,Wo.array)((0,by.getCreatorSerializer)()))],["primarySaleHappened",(0,Wo.bool)()],["isMutable",(0,Wo.bool)()],["tokenStandard",(0,by.getTokenStandardSerializer)()],["collection",(0,Wo.option)((0,by.getCollectionSerializer)())],["uses",(0,Wo.option)((0,by.getUsesSerializer)())],["collectionDetails",(0,Wo.option)((0,by.getCollectionDetailsSerializer)())],["ruleSet",(0,Wo.option)((0,Wo.publicKey)())],["decimals",(0,Wo.option)((0,Wo.u8)())],["printSupply",(0,Wo.option)((0,by.getPrintSupplySerializer)())]],{description:"CreateV1InstructionData"}),n=>({...n,discriminator:42,createV1Discriminator:0,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,tokenStandard:n.tokenStandard??by.TokenStandard.NonFungible,collection:n.collection??(0,Ov.none)(),uses:n.uses??(0,Ov.none)(),ruleSet:n.ruleSet??(0,Ov.none)()}))}AI.getCreateV1InstructionDataSerializer=BRe;function NAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},masterEdition:{index:1,isWritable:!0,value:e.masterEdition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},payer:{index:4,isWritable:!0,value:e.payer??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:8,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Hme.findMetadataPda)(n,{mint:(0,u8.expectPublicKey)(r.mint.value)})),s.tokenStandard||(s.tokenStandard=by.TokenStandard.NonFungible),r.masterEdition.value||(0,r0.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,Hme.findMasterEditionPda)(n,{mint:(0,u8.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=(0,u8.expectSome)(r.authority.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Ov.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(0,r0.resolveIsNonFungibleOrIsMintSigner)(n,r,s,t,!1)&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),s.creators||(s.creators=(0,r0.resolveCreators)(n,r,s,t,!1)),s.isCollection||(s.isCollection=!1),s.collectionDetails||(s.collectionDetails=(0,r0.resolveCollectionDetails)(n,r,s,t,!1)),s.decimals||(s.decimals=(0,r0.resolveDecimals)(n,r,s,t,!1)),s.printSupply||(s.printSupply=(0,r0.resolvePrintSupply)(n,r,s,t,!1));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,u8.getAccountMetasAndSigners)(i,"programId",t),c=BRe().serialize(s),u=(0,r0.resolveCreateV1Bytes)(n,r,s,t);return(0,Ov.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}AI.createV1=NAt;var wI={};Object.defineProperty(wI,"__esModule",{value:!0});wI.delegateAuthorityItemV1=wI.getDelegateAuthorityItemV1InstructionDataSerializer=void 0;const Yq=Z,nC=q,FAt=on,vF=Ut,n0=Ne,zRe=ut;function $Re(){return(0,nC.mapSerializer)((0,nC.struct)([["discriminator",(0,nC.u8)()],["delegateAuthorityItemV1Discriminator",(0,nC.u8)()],["authorizationData",(0,nC.option)((0,zRe.getAuthorizationDataSerializer)())]],{description:"DelegateAuthorityItemV1InstructionData"}),n=>({...n,discriminator:44,delegateAuthorityItemV1Discriminator:9,authorizationData:n.authorizationData??(0,Yq.none)()}))}wI.getDelegateAuthorityItemV1InstructionDataSerializer=$Re;function UAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,n0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,vF.findMetadataDelegateRecordPda)(n,{delegateRole:zRe.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,n0.expectSome)(s.updateAuthority),mint:(0,n0.expectPublicKey)(r.mint.value),delegate:(0,n0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,vF.findMetadataPda)(n,{mint:(0,n0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,FAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,vF.findMasterEditionPda)(n,{mint:(0,n0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Yq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,n0.getAccountMetasAndSigners)(i,"programId",t),c=$Re().serialize(s),u=0;return(0,Yq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wI.delegateAuthorityItemV1=UAt;var II={};Object.defineProperty(II,"__esModule",{value:!0});II.delegateCollectionItemV1=II.getDelegateCollectionItemV1InstructionDataSerializer=void 0;const Zq=Z,sC=q,VAt=on,AF=Ut,s0=Ne,DRe=ut;function ORe(){return(0,sC.mapSerializer)((0,sC.struct)([["discriminator",(0,sC.u8)()],["delegateCollectionItemV1Discriminator",(0,sC.u8)()],["authorizationData",(0,sC.option)((0,DRe.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionItemV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionItemV1Discriminator:11,authorizationData:n.authorizationData??(0,Zq.none)()}))}II.getDelegateCollectionItemV1InstructionDataSerializer=ORe;function qAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,s0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,AF.findMetadataDelegateRecordPda)(n,{delegateRole:DRe.MetadataDelegateRole.CollectionItem,updateAuthority:(0,s0.expectSome)(s.updateAuthority),mint:(0,s0.expectPublicKey)(r.mint.value),delegate:(0,s0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,AF.findMetadataPda)(n,{mint:(0,s0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,VAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,AF.findMasterEditionPda)(n,{mint:(0,s0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Zq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,s0.getAccountMetasAndSigners)(i,"programId",t),c=ORe().serialize(s),u=0;return(0,Zq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}II.delegateCollectionItemV1=qAt;var PI={};Object.defineProperty(PI,"__esModule",{value:!0});PI.delegateCollectionV1=PI.getDelegateCollectionV1InstructionDataSerializer=void 0;const Jq=Z,iC=q,jAt=on,wF=Ut,i0=Ne,KRe=ut;function LRe(){return(0,iC.mapSerializer)((0,iC.struct)([["discriminator",(0,iC.u8)()],["delegateCollectionV1Discriminator",(0,iC.u8)()],["authorizationData",(0,iC.option)((0,KRe.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionV1Discriminator:0,authorizationData:n.authorizationData??(0,Jq.none)()}))}PI.getDelegateCollectionV1InstructionDataSerializer=LRe;function HAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,i0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,wF.findMetadataDelegateRecordPda)(n,{delegateRole:KRe.MetadataDelegateRole.Collection,updateAuthority:(0,i0.expectSome)(s.updateAuthority),mint:(0,i0.expectPublicKey)(r.mint.value),delegate:(0,i0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,wF.findMetadataPda)(n,{mint:(0,i0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,jAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,wF.findMasterEditionPda)(n,{mint:(0,i0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Jq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,i0.getAccountMetasAndSigners)(i,"programId",t),c=LRe().serialize(s),u=0;return(0,Jq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}PI.delegateCollectionV1=HAt;var _I={};Object.defineProperty(_I,"__esModule",{value:!0});_I.delegateDataItemV1=_I.getDelegateDataItemV1InstructionDataSerializer=void 0;const Xq=Z,oC=q,GAt=on,IF=Ut,o0=Ne,WRe=ut;function NRe(){return(0,oC.mapSerializer)((0,oC.struct)([["discriminator",(0,oC.u8)()],["delegateDataItemV1Discriminator",(0,oC.u8)()],["authorizationData",(0,oC.option)((0,WRe.getAuthorizationDataSerializer)())]],{description:"DelegateDataItemV1InstructionData"}),n=>({...n,discriminator:44,delegateDataItemV1Discriminator:10,authorizationData:n.authorizationData??(0,Xq.none)()}))}_I.getDelegateDataItemV1InstructionDataSerializer=NRe;function YAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,o0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,IF.findMetadataDelegateRecordPda)(n,{delegateRole:WRe.MetadataDelegateRole.DataItem,updateAuthority:(0,o0.expectSome)(s.updateAuthority),mint:(0,o0.expectPublicKey)(r.mint.value),delegate:(0,o0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,IF.findMetadataPda)(n,{mint:(0,o0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,GAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,IF.findMasterEditionPda)(n,{mint:(0,o0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Xq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,o0.getAccountMetasAndSigners)(i,"programId",t),c=NRe().serialize(s),u=0;return(0,Xq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_I.delegateDataItemV1=YAt;var EI={};Object.defineProperty(EI,"__esModule",{value:!0});EI.delegateDataV1=EI.getDelegateDataV1InstructionDataSerializer=void 0;const Qq=Z,aC=q,ZAt=on,PF=Ut,a0=Ne,FRe=ut;function URe(){return(0,aC.mapSerializer)((0,aC.struct)([["discriminator",(0,aC.u8)()],["delegateDataV1Discriminator",(0,aC.u8)()],["authorizationData",(0,aC.option)((0,FRe.getAuthorizationDataSerializer)())]],{description:"DelegateDataV1InstructionData"}),n=>({...n,discriminator:44,delegateDataV1Discriminator:3,authorizationData:n.authorizationData??(0,Qq.none)()}))}EI.getDelegateDataV1InstructionDataSerializer=URe;function JAt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,a0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,PF.findMetadataDelegateRecordPda)(n,{delegateRole:FRe.MetadataDelegateRole.Data,updateAuthority:(0,a0.expectSome)(s.updateAuthority),mint:(0,a0.expectPublicKey)(r.mint.value),delegate:(0,a0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,PF.findMetadataPda)(n,{mint:(0,a0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,ZAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,PF.findMasterEditionPda)(n,{mint:(0,a0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qq.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,a0.getAccountMetasAndSigners)(i,"programId",t),c=URe().serialize(s),u=0;return(0,Qq.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}EI.delegateDataV1=JAt;var xI={};Object.defineProperty(xI,"__esModule",{value:!0});xI.delegateLockedTransferV1=xI.getDelegateLockedTransferV1InstructionDataSerializer=void 0;const XAt=Hs,ej=Z,c0=q,QAt=on,l8=Ut,$h=Ne,VRe=ut;function qRe(){return(0,c0.mapSerializer)((0,c0.struct)([["discriminator",(0,c0.u8)()],["delegateLockedTransferV1Discriminator",(0,c0.u8)()],["amount",(0,c0.u64)()],["lockedAddress",(0,c0.publicKey)()],["authorizationData",(0,c0.option)((0,VRe.getAuthorizationDataSerializer)())]],{description:"DelegateLockedTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateLockedTransferV1Discriminator:7,amount:n.amount??1,authorizationData:n.authorizationData??(0,ej.none)()}))}xI.getDelegateLockedTransferV1InstructionDataSerializer=qRe;function ewt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,XAt.findAssociatedTokenPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value),owner:(0,$h.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,l8.findTokenRecordPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value),token:(0,$h.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,l8.findMetadataPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,QAt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,l8.findMasterEditionPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===VRe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,l8.findTokenRecordPda)(n,{mint:(0,$h.expectPublicKey)(r.mint.value),token:(0,$h.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ej.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$h.getAccountMetasAndSigners)(i,"programId",t),c=qRe().serialize(s),u=0;return(0,ej.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xI.delegateLockedTransferV1=ewt;var TI={};Object.defineProperty(TI,"__esModule",{value:!0});TI.delegatePrintDelegateV1=TI.getDelegatePrintDelegateV1InstructionDataSerializer=void 0;const tj=Z,cC=q,twt=on,Gme=Ut,_F=Ne,rwt=ut;function jRe(){return(0,cC.mapSerializer)((0,cC.struct)([["discriminator",(0,cC.u8)()],["delegatePrintDelegateV1Discriminator",(0,cC.u8)()],["authorizationData",(0,cC.option)((0,rwt.getAuthorizationDataSerializer)())]],{description:"DelegatePrintDelegateV1InstructionData"}),n=>({...n,discriminator:44,delegatePrintDelegateV1Discriminator:13,authorizationData:n.authorizationData??(0,tj.none)()}))}TI.getDelegatePrintDelegateV1InstructionDataSerializer=jRe;function nwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Gme.findMetadataPda)(n,{mint:(0,_F.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,twt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,Gme.findMasterEditionPda)(n,{mint:(0,_F.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,tj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,_F.getAccountMetasAndSigners)(i,"programId",t),c=jRe().serialize(s),u=0;return(0,tj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}TI.delegatePrintDelegateV1=nwt;var RI={};Object.defineProperty(RI,"__esModule",{value:!0});RI.delegateProgrammableConfigItemV1=RI.getDelegateProgrammableConfigItemV1InstructionDataSerializer=void 0;const rj=Z,uC=q,swt=on,EF=Ut,u0=Ne,HRe=ut;function GRe(){return(0,uC.mapSerializer)((0,uC.struct)([["discriminator",(0,uC.u8)()],["delegateProgrammableConfigItemV1Discriminator",(0,uC.u8)()],["authorizationData",(0,uC.option)((0,HRe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigItemV1Discriminator:12,authorizationData:n.authorizationData??(0,rj.none)()}))}RI.getDelegateProgrammableConfigItemV1InstructionDataSerializer=GRe;function iwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,u0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,EF.findMetadataDelegateRecordPda)(n,{delegateRole:HRe.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,u0.expectSome)(s.updateAuthority),mint:(0,u0.expectPublicKey)(r.mint.value),delegate:(0,u0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,EF.findMetadataPda)(n,{mint:(0,u0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,swt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,EF.findMasterEditionPda)(n,{mint:(0,u0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,rj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,u0.getAccountMetasAndSigners)(i,"programId",t),c=GRe().serialize(s),u=0;return(0,rj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}RI.delegateProgrammableConfigItemV1=iwt;var CI={};Object.defineProperty(CI,"__esModule",{value:!0});CI.delegateProgrammableConfigV1=CI.getDelegateProgrammableConfigV1InstructionDataSerializer=void 0;const nj=Z,lC=q,owt=on,xF=Ut,l0=Ne,YRe=ut;function ZRe(){return(0,lC.mapSerializer)((0,lC.struct)([["discriminator",(0,lC.u8)()],["delegateProgrammableConfigV1Discriminator",(0,lC.u8)()],["authorizationData",(0,lC.option)((0,YRe.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigV1Discriminator:8,authorizationData:n.authorizationData??(0,nj.none)()}))}CI.getDelegateProgrammableConfigV1InstructionDataSerializer=ZRe;function awt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,l0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,xF.findMetadataDelegateRecordPda)(n,{delegateRole:YRe.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,l0.expectSome)(s.updateAuthority),mint:(0,l0.expectPublicKey)(r.mint.value),delegate:(0,l0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,xF.findMetadataPda)(n,{mint:(0,l0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,owt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,xF.findMasterEditionPda)(n,{mint:(0,l0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,nj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,l0.getAccountMetasAndSigners)(i,"programId",t),c=ZRe().serialize(s),u=0;return(0,nj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}CI.delegateProgrammableConfigV1=awt;var MI={};Object.defineProperty(MI,"__esModule",{value:!0});MI.delegateSaleV1=MI.getDelegateSaleV1InstructionDataSerializer=void 0;const cwt=Hs,sj=Z,Kk=q,uwt=on,d8=Ut,Dh=Ne,JRe=ut;function XRe(){return(0,Kk.mapSerializer)((0,Kk.struct)([["discriminator",(0,Kk.u8)()],["delegateSaleV1Discriminator",(0,Kk.u8)()],["amount",(0,Kk.u64)()],["authorizationData",(0,Kk.option)((0,JRe.getAuthorizationDataSerializer)())]],{description:"DelegateSaleV1InstructionData"}),n=>({...n,discriminator:44,delegateSaleV1Discriminator:1,amount:n.amount??1,authorizationData:n.authorizationData??(0,sj.none)()}))}MI.getDelegateSaleV1InstructionDataSerializer=XRe;function lwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,cwt.findAssociatedTokenPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value),owner:(0,Dh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,d8.findTokenRecordPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value),token:(0,Dh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,d8.findMetadataPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,uwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,d8.findMasterEditionPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===JRe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,d8.findTokenRecordPda)(n,{mint:(0,Dh.expectPublicKey)(r.mint.value),token:(0,Dh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,sj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Dh.getAccountMetasAndSigners)(i,"programId",t),c=XRe().serialize(s),u=0;return(0,sj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}MI.delegateSaleV1=lwt;var BI={};Object.defineProperty(BI,"__esModule",{value:!0});BI.delegateStakingV1=BI.getDelegateStakingV1InstructionDataSerializer=void 0;const dwt=Hs,ij=Z,Lk=q,fwt=on,f8=Ut,Oh=Ne,QRe=ut;function eCe(){return(0,Lk.mapSerializer)((0,Lk.struct)([["discriminator",(0,Lk.u8)()],["delegateStakingV1Discriminator",(0,Lk.u8)()],["amount",(0,Lk.u64)()],["authorizationData",(0,Lk.option)((0,QRe.getAuthorizationDataSerializer)())]],{description:"DelegateStakingV1InstructionData"}),n=>({...n,discriminator:44,delegateStakingV1Discriminator:5,amount:n.amount??1,authorizationData:n.authorizationData??(0,ij.none)()}))}BI.getDelegateStakingV1InstructionDataSerializer=eCe;function hwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,dwt.findAssociatedTokenPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value),owner:(0,Oh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,f8.findTokenRecordPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value),token:(0,Oh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,f8.findMetadataPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,fwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,f8.findMasterEditionPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===QRe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,f8.findTokenRecordPda)(n,{mint:(0,Oh.expectPublicKey)(r.mint.value),token:(0,Oh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,ij.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Oh.getAccountMetasAndSigners)(i,"programId",t),c=eCe().serialize(s),u=0;return(0,ij.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}BI.delegateStakingV1=hwt;var zI={};Object.defineProperty(zI,"__esModule",{value:!0});zI.delegateStandardV1=zI.getDelegateStandardV1InstructionDataSerializer=void 0;const gwt=Hs,Yme=Z,dC=q,mwt=on,TF=Ut,d0=Ne;function tCe(){return(0,dC.mapSerializer)((0,dC.struct)([["discriminator",(0,dC.u8)()],["delegateStandardV1Discriminator",(0,dC.u8)()],["amount",(0,dC.u64)()]],{description:"DelegateStandardV1InstructionData"}),n=>({...n,discriminator:44,delegateStandardV1Discriminator:6,amount:n.amount??1}))}zI.getDelegateStandardV1InstructionDataSerializer=tCe;function ywt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,gwt.findAssociatedTokenPda)(n,{mint:(0,d0.expectPublicKey)(r.mint.value),owner:(0,d0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,TF.findTokenRecordPda)(n,{mint:(0,d0.expectPublicKey)(r.mint.value),token:(0,d0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,TF.findMetadataPda)(n,{mint:(0,d0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,mwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,TF.findMasterEditionPda)(n,{mint:(0,d0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Yme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,d0.getAccountMetasAndSigners)(i,"programId",t),c=tCe().serialize(s),u=0;return(0,Yme.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zI.delegateStandardV1=ywt;var $I={};Object.defineProperty($I,"__esModule",{value:!0});$I.delegateTransferV1=$I.getDelegateTransferV1InstructionDataSerializer=void 0;const pwt=Hs,oj=Z,Wk=q,bwt=on,h8=Ut,Kh=Ne,rCe=ut;function nCe(){return(0,Wk.mapSerializer)((0,Wk.struct)([["discriminator",(0,Wk.u8)()],["delegateTransferV1Discriminator",(0,Wk.u8)()],["amount",(0,Wk.u64)()],["authorizationData",(0,Wk.option)((0,rCe.getAuthorizationDataSerializer)())]],{description:"DelegateTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateTransferV1Discriminator:2,amount:n.amount??1,authorizationData:n.authorizationData??(0,oj.none)()}))}$I.getDelegateTransferV1InstructionDataSerializer=nCe;function Swt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,pwt.findAssociatedTokenPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value),owner:(0,Kh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,h8.findTokenRecordPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value),token:(0,Kh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,h8.findMetadataPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,bwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,h8.findMasterEditionPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===rCe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,h8.findTokenRecordPda)(n,{mint:(0,Kh.expectPublicKey)(r.mint.value),token:(0,Kh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,oj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Kh.getAccountMetasAndSigners)(i,"programId",t),c=nCe().serialize(s),u=0;return(0,oj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$I.delegateTransferV1=Swt;var DI={};Object.defineProperty(DI,"__esModule",{value:!0});DI.delegateUtilityV1=DI.getDelegateUtilityV1InstructionDataSerializer=void 0;const kwt=Hs,aj=Z,Nk=q,vwt=on,g8=Ut,Lh=Ne,sCe=ut;function iCe(){return(0,Nk.mapSerializer)((0,Nk.struct)([["discriminator",(0,Nk.u8)()],["delegateUtilityV1Discriminator",(0,Nk.u8)()],["amount",(0,Nk.u64)()],["authorizationData",(0,Nk.option)((0,sCe.getAuthorizationDataSerializer)())]],{description:"DelegateUtilityV1InstructionData"}),n=>({...n,discriminator:44,delegateUtilityV1Discriminator:4,amount:n.amount??1,authorizationData:n.authorizationData??(0,aj.none)()}))}DI.getDelegateUtilityV1InstructionDataSerializer=iCe;function Awt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,kwt.findAssociatedTokenPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value),owner:(0,Lh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,g8.findTokenRecordPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value),token:(0,Lh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,g8.findMetadataPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,vwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,g8.findMasterEditionPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===sCe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,g8.findTokenRecordPda)(n,{mint:(0,Lh.expectPublicKey)(r.mint.value),token:(0,Lh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,aj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Lh.getAccountMetasAndSigners)(i,"programId",t),c=iCe().serialize(s),u=0;return(0,aj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}DI.delegateUtilityV1=Awt;var OI={};Object.defineProperty(OI,"__esModule",{value:!0});OI.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=OI.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=void 0;const Zme=Z,RF=q,m8=Ut,fC=Ne;function oCe(){return(0,RF.mapSerializer)((0,RF.struct)([["discriminator",(0,RF.u8)()]],{description:"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionData"}),n=>({...n,discriminator:3}))}OI.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=oCe;function wwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!1,value:e.mintAuthority??null},printingMint:{index:5,isWritable:!0,value:e.printingMint??null},masterTokenAccount:{index:6,isWritable:!0,value:e.masterTokenAccount??null},editionMarker:{index:7,isWritable:!0,value:e.editionMarker??null},burnAuthority:{index:8,isWritable:!1,value:e.burnAuthority??null},payer:{index:9,isWritable:!1,value:e.payer??null},masterUpdateAuthority:{index:10,isWritable:!1,value:e.masterUpdateAuthority??null},masterMetadata:{index:11,isWritable:!1,value:e.masterMetadata??null},tokenProgram:{index:12,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:13,isWritable:!1,value:e.systemProgram??null},rent:{index:14,isWritable:!1,value:e.rent??null},reservationList:{index:15,isWritable:!0,value:e.reservationList??null}};r.metadata.value||(r.metadata.value=(0,m8.findMetadataPda)(n,{mint:(0,fC.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,m8.findMasterEditionPda)(n,{mint:(0,fC.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,m8.findMasterEditionPda)(n,{mint:(0,fC.expectPublicKey)(r.mint.value)})),r.editionMarker.value||(r.editionMarker.value=(0,m8.findMasterEditionPda)(n,{mint:(0,fC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,Zme.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fC.getAccountMetasAndSigners)(s,"omitted",t),a=oCe().serialize({}),c=0;return(0,Zme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}OI.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=wwt;var KI={};Object.defineProperty(KI,"__esModule",{value:!0});KI.freezeDelegatedAccount=KI.getFreezeDelegatedAccountInstructionDataSerializer=void 0;const Iwt=Z,CF=q,Pwt=Ut,Jme=Ne;function aCe(){return(0,CF.mapSerializer)((0,CF.struct)([["discriminator",(0,CF.u8)()]],{description:"FreezeDelegatedAccountInstructionData"}),n=>({...n,discriminator:26}))}KI.getFreezeDelegatedAccountInstructionDataSerializer=aCe;function _wt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,Pwt.findMasterEditionPda)(n,{mint:(0,Jme.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Jme.getAccountMetasAndSigners)(s,"programId",t),a=aCe().serialize({}),c=0;return(0,Iwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}KI.freezeDelegatedAccount=_wt;var LI={};Object.defineProperty(LI,"__esModule",{value:!0});LI.lockV1=LI.getLockV1InstructionDataSerializer=void 0;const Ewt=Hs,cj=Z,hC=q,Xme=on,MF=Ut,f0=Ne,uj=ut;function cCe(){return(0,hC.mapSerializer)((0,hC.struct)([["discriminator",(0,hC.u8)()],["lockV1Discriminator",(0,hC.u8)()],["authorizationData",(0,hC.option)((0,uj.getAuthorizationDataSerializer)())]],{description:"LockV1InstructionData"}),n=>({...n,discriminator:46,lockV1Discriminator:0,authorizationData:n.authorizationData??(0,cj.none)()}))}LI.getLockV1InstructionDataSerializer=cCe;function xwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Xme.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,Ewt.findAssociatedTokenPda)(n,{mint:(0,f0.expectPublicKey)(r.mint.value),owner:(0,f0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,MF.findMetadataPda)(n,{mint:(0,f0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,Xme.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,MF.findMasterEditionPda)(n,{mint:(0,f0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===uj.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,MF.findTokenRecordPda)(n,{mint:(0,f0.expectPublicKey)(r.mint.value),token:(0,f0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,cj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==uj.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,f0.getAccountMetasAndSigners)(i,"programId",t),c=cCe().serialize(s),u=0;return(0,cj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}LI.lockV1=xwt;var WI={};Object.defineProperty(WI,"__esModule",{value:!0});WI.migrate=WI.getMigrateInstructionDataSerializer=void 0;const Qme=Z,BF=q,zF=Ut,gC=Ne;function uCe(){return(0,BF.mapSerializer)((0,BF.struct)([["discriminator",(0,BF.u8)()]],{description:"MigrateInstructionData"}),n=>({...n,discriminator:48}))}WI.getMigrateInstructionDataSerializer=uCe;function Twt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},token:{index:2,isWritable:!0,value:e.token??null},tokenOwner:{index:3,isWritable:!1,value:e.tokenOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},payer:{index:5,isWritable:!0,value:e.payer??null},authority:{index:6,isWritable:!1,value:e.authority??null},collectionMetadata:{index:7,isWritable:!1,value:e.collectionMetadata??null},delegateRecord:{index:8,isWritable:!1,value:e.delegateRecord??null},tokenRecord:{index:9,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:10,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:12,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,zF.findMetadataPda)(n,{mint:(0,gC.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,zF.findMasterEditionPda)(n,{mint:(0,gC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.authority.value||(r.authority.value=n.identity),r.tokenRecord.value||(r.tokenRecord.value=(0,zF.findTokenRecordPda)(n,{mint:(0,gC.expectPublicKey)(r.mint.value),token:(0,gC.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qme.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,gC.getAccountMetasAndSigners)(s,"programId",t),a=uCe().serialize({}),c=0;return(0,Qme.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}WI.migrate=Twt;var NI={};Object.defineProperty(NI,"__esModule",{value:!0});NI.mintNewEditionFromMasterEditionViaToken=NI.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=void 0;const Rwt=Z,$F=q,Cwt=Ne,Mwt=ut;function lCe(){return(0,$F.mapSerializer)((0,$F.struct)([["discriminator",(0,$F.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,Mwt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaTokenInstructionData"}),n=>({...n,discriminator:11}))}NI.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=lCe;function Bwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},tokenAccountOwner:{index:7,isWritable:!1,value:e.tokenAccountOwner??null},tokenAccount:{index:8,isWritable:!1,value:e.tokenAccount??null},newMetadataUpdateAuthority:{index:9,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:10,isWritable:!1,value:e.metadata??null},tokenProgram:{index:11,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null},rent:{index:13,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Cwt.getAccountMetasAndSigners)(i,"omitted",t),c=lCe().serialize(s),u=0;return(0,Rwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}NI.mintNewEditionFromMasterEditionViaToken=Bwt;var FI={};Object.defineProperty(FI,"__esModule",{value:!0});FI.mintNewEditionFromMasterEditionViaVaultProxy=FI.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=void 0;const zwt=Z,DF=q,$wt=Ne,Dwt=ut;function dCe(){return(0,DF.mapSerializer)((0,DF.struct)([["discriminator",(0,DF.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,Dwt.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaVaultProxyInstructionData"}),n=>({...n,discriminator:13}))}FI.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=dCe;function Owt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},vaultAuthority:{index:7,isWritable:!1,value:e.vaultAuthority??null},safetyDepositStore:{index:8,isWritable:!1,value:e.safetyDepositStore??null},safetyDepositBox:{index:9,isWritable:!1,value:e.safetyDepositBox??null},vault:{index:10,isWritable:!1,value:e.vault??null},newMetadataUpdateAuthority:{index:11,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:12,isWritable:!1,value:e.metadata??null},tokenProgram:{index:13,isWritable:!1,value:e.tokenProgram??null},tokenVaultProgram:{index:14,isWritable:!1,value:e.tokenVaultProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null},rent:{index:16,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$wt.getAccountMetasAndSigners)(i,"omitted",t),c=dCe().serialize(s),u=0;return(0,zwt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}FI.mintNewEditionFromMasterEditionViaVaultProxy=Owt;var UI={};Object.defineProperty(UI,"__esModule",{value:!0});UI.mintV1=UI.getMintV1InstructionDataSerializer=void 0;const Kwt=Hs,lj=Z,Fk=q,eye=on,OF=Ut,h0=Ne,fCe=ut;function hCe(){return(0,Fk.mapSerializer)((0,Fk.struct)([["discriminator",(0,Fk.u8)()],["mintV1Discriminator",(0,Fk.u8)()],["amount",(0,Fk.u64)()],["authorizationData",(0,Fk.option)((0,fCe.getAuthorizationDataSerializer)())]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:43,mintV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,lj.none)()}))}UI.getMintV1InstructionDataSerializer=hCe;function Lwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},metadata:{index:2,isWritable:!1,value:e.metadata??null},masterEdition:{index:3,isWritable:!0,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!0,value:e.mint??null},authority:{index:6,isWritable:!1,value:e.authority??null},delegateRecord:{index:7,isWritable:!1,value:e.delegateRecord??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:12,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,eye.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,Kwt.findAssociatedTokenPda)(n,{mint:(0,h0.expectPublicKey)(r.mint.value),owner:(0,h0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,OF.findMetadataPda)(n,{mint:(0,h0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,eye.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,OF.findMasterEditionPda)(n,{mint:(0,h0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===fCe.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,OF.findTokenRecordPda)(n,{mint:(0,h0.expectPublicKey)(r.mint.value),token:(0,h0.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,lj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,h0.getAccountMetasAndSigners)(i,"programId",t),c=hCe().serialize(s),u=468;return(0,lj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}UI.mintV1=Lwt;var VI={};Object.defineProperty(VI,"__esModule",{value:!0});VI.printV1=VI.getPrintV1InstructionDataSerializer=void 0;const tye=Hs,rye=Z,mC=q,Wwt=on,Uk=Ut,Ec=Ne,nye=ut;function gCe(){return(0,mC.mapSerializer)((0,mC.struct)([["discriminator",(0,mC.u8)()],["printV1Discriminator",(0,mC.u8)()],["editionNumber",(0,mC.u64)()]],{description:"PrintV1InstructionData"}),n=>({...n,discriminator:55,printV1Discriminator:0}))}VI.getPrintV1InstructionDataSerializer=gCe;function Nwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,Uk.findMetadataPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,Uk.findMasterEditionPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,tye.findAssociatedTokenPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value),owner:(0,Ec.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.masterTokenAccountOwner.value||(r.masterTokenAccountOwner.value=n.identity),r.editionMintAuthority.value||(r.editionMintAuthority.value=(0,Ec.expectSome)(r.masterTokenAccountOwner.value)),r.editionTokenRecord.value||s.tokenStandard===nye.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,Uk.findTokenRecordPda)(n,{mint:(0,Ec.expectPublicKey)(r.editionMint.value),token:(0,Ec.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,Uk.findMasterEditionPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===nye.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,Uk.findEditionMarkerV2Pda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,Wwt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint),editionNumber:(0,Ec.expectSome)(s.editionNumber)})),r.payer.value||(r.payer.value=n.payer),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,tye.findAssociatedTokenPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint),owner:(0,Ec.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,Uk.findMetadataPda)(n,{mint:(0,Ec.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,rye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Ec.getAccountMetasAndSigners)(i,"programId",t),c=gCe().serialize(s),u=0;return(0,rye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}VI.printV1=Nwt;var qI={};Object.defineProperty(qI,"__esModule",{value:!0});qI.printV2=qI.getPrintV2InstructionDataSerializer=void 0;const sye=Hs,iye=Z,yC=q,Fwt=on,Vk=Ut,fc=Ne,oye=ut;function mCe(){return(0,yC.mapSerializer)((0,yC.struct)([["discriminator",(0,yC.u8)()],["printV2Discriminator",(0,yC.u8)()],["editionNumber",(0,yC.u64)()]],{description:"PrintV2InstructionData"}),n=>({...n,discriminator:55,printV2Discriminator:1}))}qI.getPrintV2InstructionDataSerializer=mCe;function Uwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null},holderDelegateRecord:{index:18,isWritable:!1,value:e.holderDelegateRecord??null},delegate:{index:19,isWritable:!1,value:e.delegate??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,Vk.findMetadataPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,Vk.findMasterEditionPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,sye.findAssociatedTokenPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value),owner:(0,fc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.payer.value||(r.payer.value=n.payer),r.editionMintAuthority.value||(r.holderDelegateRecord.value?r.delegate.value?r.editionMintAuthority.value=(0,fc.expectSome)(r.delegate.value):r.editionMintAuthority.value=(0,fc.expectSome)(r.payer.value):r.editionMintAuthority.value=n.identity),r.editionTokenRecord.value||s.tokenStandard===oye.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,Vk.findTokenRecordPda)(n,{mint:(0,fc.expectPublicKey)(r.editionMint.value),token:(0,fc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,Vk.findMasterEditionPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===oye.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,Vk.findEditionMarkerV2Pda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,Fwt.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint),editionNumber:(0,fc.expectSome)(s.editionNumber)})),r.masterTokenAccountOwner.value||r.holderDelegateRecord.value||(r.masterTokenAccountOwner.value=n.identity),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,sye.findAssociatedTokenPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint),owner:(0,fc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,Vk.findMetadataPda)(n,{mint:(0,fc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,iye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,fc.getAccountMetasAndSigners)(i,"programId",t),c=mCe().serialize(s),u=0;return(0,iye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qI.printV2=Uwt;var jI={};Object.defineProperty(jI,"__esModule",{value:!0});jI.puffMetadata=jI.getPuffMetadataInstructionDataSerializer=void 0;const Vwt=Z,KF=q,qwt=Ne;function yCe(){return(0,KF.mapSerializer)((0,KF.struct)([["discriminator",(0,KF.u8)()]],{description:"PuffMetadataInstructionData"}),n=>({...n,discriminator:14}))}jI.getPuffMetadataInstructionDataSerializer=yCe;function jwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,qwt.getAccountMetasAndSigners)(s,"programId",t),a=yCe().serialize({}),c=0;return(0,Vwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}jI.puffMetadata=jwt;var HI={};Object.defineProperty(HI,"__esModule",{value:!0});HI.removeCreatorVerification=HI.getRemoveCreatorVerificationInstructionDataSerializer=void 0;const Hwt=Z,LF=q,Gwt=Ne;function pCe(){return(0,LF.mapSerializer)((0,LF.struct)([["discriminator",(0,LF.u8)()]],{description:"RemoveCreatorVerificationInstructionData"}),n=>({...n,discriminator:28}))}HI.getRemoveCreatorVerificationInstructionDataSerializer=pCe;function Ywt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Gwt.getAccountMetasAndSigners)(s,"programId",t),a=pCe().serialize({}),c=0;return(0,Hwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}HI.removeCreatorVerification=Ywt;var GI={};Object.defineProperty(GI,"__esModule",{value:!0});GI.revokeAuthorityItemV1=GI.getRevokeAuthorityItemV1InstructionDataSerializer=void 0;const aye=Z,y8=q,Zwt=on,WF=Ut,g0=Ne,Jwt=ut;function bCe(){return(0,y8.mapSerializer)((0,y8.struct)([["discriminator",(0,y8.u8)()],["revokeAuthorityItemV1Discriminator",(0,y8.u8)()]],{description:"RevokeAuthorityItemV1InstructionData"}),n=>({...n,discriminator:45,revokeAuthorityItemV1Discriminator:10}))}GI.getRevokeAuthorityItemV1InstructionDataSerializer=bCe;function Xwt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,g0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,WF.findMetadataDelegateRecordPda)(n,{delegateRole:Jwt.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,g0.expectSome)(s.updateAuthority),mint:(0,g0.expectPublicKey)(r.mint.value),delegate:(0,g0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,WF.findMetadataPda)(n,{mint:(0,g0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Zwt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,WF.findMasterEditionPda)(n,{mint:(0,g0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,aye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,g0.getAccountMetasAndSigners)(i,"programId",t),c=bCe().serialize({}),u=0;return(0,aye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}GI.revokeAuthorityItemV1=Xwt;var YI={};Object.defineProperty(YI,"__esModule",{value:!0});YI.revokeCollectionAuthority=YI.getRevokeCollectionAuthorityInstructionDataSerializer=void 0;const Qwt=Z,NF=q,eIt=Ut,cye=Ne;function SCe(){return(0,NF.mapSerializer)((0,NF.struct)([["discriminator",(0,NF.u8)()]],{description:"RevokeCollectionAuthorityInstructionData"}),n=>({...n,discriminator:24}))}YI.getRevokeCollectionAuthorityInstructionDataSerializer=SCe;function tIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},delegateAuthority:{index:1,isWritable:!0,value:e.delegateAuthority??null},revokeAuthority:{index:2,isWritable:!0,value:e.revokeAuthority??null},metadata:{index:3,isWritable:!1,value:e.metadata??null},mint:{index:4,isWritable:!1,value:e.mint??null}};r.metadata.value||(r.metadata.value=(0,eIt.findMetadataPda)(n,{mint:(0,cye.expectPublicKey)(r.mint.value)}));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,cye.getAccountMetasAndSigners)(s,"programId",t),a=SCe().serialize({}),c=0;return(0,Qwt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}YI.revokeCollectionAuthority=tIt;var ZI={};Object.defineProperty(ZI,"__esModule",{value:!0});ZI.revokeCollectionItemV1=ZI.getRevokeCollectionItemV1InstructionDataSerializer=void 0;const uye=Z,p8=q,rIt=on,FF=Ut,m0=Ne,nIt=ut;function kCe(){return(0,p8.mapSerializer)((0,p8.struct)([["discriminator",(0,p8.u8)()],["revokeCollectionItemV1Discriminator",(0,p8.u8)()]],{description:"RevokeCollectionItemV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionItemV1Discriminator:12}))}ZI.getRevokeCollectionItemV1InstructionDataSerializer=kCe;function sIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,m0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,FF.findMetadataDelegateRecordPda)(n,{delegateRole:nIt.MetadataDelegateRole.CollectionItem,updateAuthority:(0,m0.expectSome)(s.updateAuthority),mint:(0,m0.expectPublicKey)(r.mint.value),delegate:(0,m0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,FF.findMetadataPda)(n,{mint:(0,m0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,rIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,FF.findMasterEditionPda)(n,{mint:(0,m0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,uye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m0.getAccountMetasAndSigners)(i,"programId",t),c=kCe().serialize({}),u=0;return(0,uye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ZI.revokeCollectionItemV1=sIt;var JI={};Object.defineProperty(JI,"__esModule",{value:!0});JI.revokeCollectionV1=JI.getRevokeCollectionV1InstructionDataSerializer=void 0;const lye=Z,b8=q,iIt=on,UF=Ut,y0=Ne,oIt=ut;function vCe(){return(0,b8.mapSerializer)((0,b8.struct)([["discriminator",(0,b8.u8)()],["revokeCollectionV1Discriminator",(0,b8.u8)()]],{description:"RevokeCollectionV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionV1Discriminator:0}))}JI.getRevokeCollectionV1InstructionDataSerializer=vCe;function aIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,y0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,UF.findMetadataDelegateRecordPda)(n,{delegateRole:oIt.MetadataDelegateRole.Collection,updateAuthority:(0,y0.expectSome)(s.updateAuthority),mint:(0,y0.expectPublicKey)(r.mint.value),delegate:(0,y0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,UF.findMetadataPda)(n,{mint:(0,y0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,iIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,UF.findMasterEditionPda)(n,{mint:(0,y0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,lye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,y0.getAccountMetasAndSigners)(i,"programId",t),c=vCe().serialize({}),u=0;return(0,lye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}JI.revokeCollectionV1=aIt;var XI={};Object.defineProperty(XI,"__esModule",{value:!0});XI.revokeDataItemV1=XI.getRevokeDataItemV1InstructionDataSerializer=void 0;const dye=Z,S8=q,cIt=on,VF=Ut,p0=Ne,uIt=ut;function ACe(){return(0,S8.mapSerializer)((0,S8.struct)([["discriminator",(0,S8.u8)()],["revokeDataItemV1Discriminator",(0,S8.u8)()]],{description:"RevokeDataItemV1InstructionData"}),n=>({...n,discriminator:45,revokeDataItemV1Discriminator:11}))}XI.getRevokeDataItemV1InstructionDataSerializer=ACe;function lIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,p0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,VF.findMetadataDelegateRecordPda)(n,{delegateRole:uIt.MetadataDelegateRole.DataItem,updateAuthority:(0,p0.expectSome)(s.updateAuthority),mint:(0,p0.expectPublicKey)(r.mint.value),delegate:(0,p0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,VF.findMetadataPda)(n,{mint:(0,p0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,cIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,VF.findMasterEditionPda)(n,{mint:(0,p0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,dye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,p0.getAccountMetasAndSigners)(i,"programId",t),c=ACe().serialize({}),u=0;return(0,dye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XI.revokeDataItemV1=lIt;var QI={};Object.defineProperty(QI,"__esModule",{value:!0});QI.revokeDataV1=QI.getRevokeDataV1InstructionDataSerializer=void 0;const fye=Z,k8=q,dIt=on,qF=Ut,b0=Ne,fIt=ut;function wCe(){return(0,k8.mapSerializer)((0,k8.struct)([["discriminator",(0,k8.u8)()],["revokeDataV1Discriminator",(0,k8.u8)()]],{description:"RevokeDataV1InstructionData"}),n=>({...n,discriminator:45,revokeDataV1Discriminator:3}))}QI.getRevokeDataV1InstructionDataSerializer=wCe;function hIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,b0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,qF.findMetadataDelegateRecordPda)(n,{delegateRole:fIt.MetadataDelegateRole.Data,updateAuthority:(0,b0.expectSome)(s.updateAuthority),mint:(0,b0.expectPublicKey)(r.mint.value),delegate:(0,b0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,qF.findMetadataPda)(n,{mint:(0,b0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,dIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,qF.findMasterEditionPda)(n,{mint:(0,b0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,fye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b0.getAccountMetasAndSigners)(i,"programId",t),c=wCe().serialize({}),u=0;return(0,fye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}QI.revokeDataV1=hIt;var eP={};Object.defineProperty(eP,"__esModule",{value:!0});eP.revokeLockedTransferV1=eP.getRevokeLockedTransferV1InstructionDataSerializer=void 0;const gIt=Hs,hye=Z,v8=q,mIt=on,A8=Ut,Wh=Ne,yIt=ut;function ICe(){return(0,v8.mapSerializer)((0,v8.struct)([["discriminator",(0,v8.u8)()],["revokeLockedTransferV1Discriminator",(0,v8.u8)()]],{description:"RevokeLockedTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeLockedTransferV1Discriminator:7}))}eP.getRevokeLockedTransferV1InstructionDataSerializer=ICe;function pIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,gIt.findAssociatedTokenPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value),owner:(0,Wh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,A8.findTokenRecordPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value),token:(0,Wh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,A8.findMetadataPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,mIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,A8.findMasterEditionPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===yIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,A8.findTokenRecordPda)(n,{mint:(0,Wh.expectPublicKey)(r.mint.value),token:(0,Wh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,hye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Wh.getAccountMetasAndSigners)(i,"programId",t),c=ICe().serialize({}),u=0;return(0,hye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}eP.revokeLockedTransferV1=pIt;var tP={};Object.defineProperty(tP,"__esModule",{value:!0});tP.revokeMigrationV1=tP.getRevokeMigrationV1InstructionDataSerializer=void 0;const bIt=Hs,gye=Z,w8=q,SIt=on,I8=Ut,Nh=Ne,kIt=ut;function PCe(){return(0,w8.mapSerializer)((0,w8.struct)([["discriminator",(0,w8.u8)()],["revokeMigrationV1Discriminator",(0,w8.u8)()]],{description:"RevokeMigrationV1InstructionData"}),n=>({...n,discriminator:45,revokeMigrationV1Discriminator:9}))}tP.getRevokeMigrationV1InstructionDataSerializer=PCe;function vIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,bIt.findAssociatedTokenPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value),owner:(0,Nh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,I8.findTokenRecordPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value),token:(0,Nh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,I8.findMetadataPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,SIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,I8.findMasterEditionPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===kIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,I8.findTokenRecordPda)(n,{mint:(0,Nh.expectPublicKey)(r.mint.value),token:(0,Nh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,gye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Nh.getAccountMetasAndSigners)(i,"programId",t),c=PCe().serialize({}),u=0;return(0,gye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}tP.revokeMigrationV1=vIt;var rP={};Object.defineProperty(rP,"__esModule",{value:!0});rP.revokePrintDelegateV1=rP.getRevokePrintDelegateV1InstructionDataSerializer=void 0;const mye=Z,P8=q,AIt=on,yye=Ut,jF=Ne;function _Ce(){return(0,P8.mapSerializer)((0,P8.struct)([["discriminator",(0,P8.u8)()],["revokePrintDelegateV1Discriminator",(0,P8.u8)()]],{description:"RevokePrintDelegateV1InstructionData"}),n=>({...n,discriminator:45,revokePrintDelegateV1Discriminator:14}))}rP.getRevokePrintDelegateV1InstructionDataSerializer=_Ce;function wIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,yye.findMetadataPda)(n,{mint:(0,jF.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,AIt.resolveIsNonFungible)(n,r,e,t,!1)&&(r.masterEdition.value=(0,yye.findMasterEditionPda)(n,{mint:(0,jF.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,jF.getAccountMetasAndSigners)(s,"programId",t),a=_Ce().serialize({}),c=0;return(0,mye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}rP.revokePrintDelegateV1=wIt;var nP={};Object.defineProperty(nP,"__esModule",{value:!0});nP.revokeProgrammableConfigItemV1=nP.getRevokeProgrammableConfigItemV1InstructionDataSerializer=void 0;const pye=Z,_8=q,IIt=on,HF=Ut,S0=Ne,PIt=ut;function ECe(){return(0,_8.mapSerializer)((0,_8.struct)([["discriminator",(0,_8.u8)()],["revokeProgrammableConfigItemV1Discriminator",(0,_8.u8)()]],{description:"RevokeProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigItemV1Discriminator:13}))}nP.getRevokeProgrammableConfigItemV1InstructionDataSerializer=ECe;function _It(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,S0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,HF.findMetadataDelegateRecordPda)(n,{delegateRole:PIt.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,S0.expectSome)(s.updateAuthority),mint:(0,S0.expectPublicKey)(r.mint.value),delegate:(0,S0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,HF.findMetadataPda)(n,{mint:(0,S0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,IIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,HF.findMasterEditionPda)(n,{mint:(0,S0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,pye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S0.getAccountMetasAndSigners)(i,"programId",t),c=ECe().serialize({}),u=0;return(0,pye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}nP.revokeProgrammableConfigItemV1=_It;var sP={};Object.defineProperty(sP,"__esModule",{value:!0});sP.revokeProgrammableConfigV1=sP.getRevokeProgrammableConfigV1InstructionDataSerializer=void 0;const bye=Z,E8=q,EIt=on,GF=Ut,k0=Ne,xIt=ut;function xCe(){return(0,E8.mapSerializer)((0,E8.struct)([["discriminator",(0,E8.u8)()],["revokeProgrammableConfigV1Discriminator",(0,E8.u8)()]],{description:"RevokeProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigV1Discriminator:8}))}sP.getRevokeProgrammableConfigV1InstructionDataSerializer=xCe;function TIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,k0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,GF.findMetadataDelegateRecordPda)(n,{delegateRole:xIt.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,k0.expectSome)(s.updateAuthority),mint:(0,k0.expectPublicKey)(r.mint.value),delegate:(0,k0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,GF.findMetadataPda)(n,{mint:(0,k0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,EIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,GF.findMasterEditionPda)(n,{mint:(0,k0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,bye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,k0.getAccountMetasAndSigners)(i,"programId",t),c=xCe().serialize({}),u=0;return(0,bye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}sP.revokeProgrammableConfigV1=TIt;var iP={};Object.defineProperty(iP,"__esModule",{value:!0});iP.revokeSaleV1=iP.getRevokeSaleV1InstructionDataSerializer=void 0;const RIt=Hs,Sye=Z,x8=q,CIt=on,T8=Ut,Fh=Ne,MIt=ut;function TCe(){return(0,x8.mapSerializer)((0,x8.struct)([["discriminator",(0,x8.u8)()],["revokeSaleV1Discriminator",(0,x8.u8)()]],{description:"RevokeSaleV1InstructionData"}),n=>({...n,discriminator:45,revokeSaleV1Discriminator:1}))}iP.getRevokeSaleV1InstructionDataSerializer=TCe;function BIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,RIt.findAssociatedTokenPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value),owner:(0,Fh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,T8.findTokenRecordPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value),token:(0,Fh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,T8.findMetadataPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,CIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,T8.findMasterEditionPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===MIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,T8.findTokenRecordPda)(n,{mint:(0,Fh.expectPublicKey)(r.mint.value),token:(0,Fh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fh.getAccountMetasAndSigners)(i,"programId",t),c=TCe().serialize({}),u=0;return(0,Sye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}iP.revokeSaleV1=BIt;var oP={};Object.defineProperty(oP,"__esModule",{value:!0});oP.revokeStakingV1=oP.getRevokeStakingV1InstructionDataSerializer=void 0;const zIt=Hs,kye=Z,R8=q,$It=on,C8=Ut,Uh=Ne,DIt=ut;function RCe(){return(0,R8.mapSerializer)((0,R8.struct)([["discriminator",(0,R8.u8)()],["revokeStakingV1Discriminator",(0,R8.u8)()]],{description:"RevokeStakingV1InstructionData"}),n=>({...n,discriminator:45,revokeStakingV1Discriminator:5}))}oP.getRevokeStakingV1InstructionDataSerializer=RCe;function OIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,zIt.findAssociatedTokenPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value),owner:(0,Uh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,C8.findTokenRecordPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value),token:(0,Uh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,C8.findMetadataPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,$It.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,C8.findMasterEditionPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===DIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,C8.findTokenRecordPda)(n,{mint:(0,Uh.expectPublicKey)(r.mint.value),token:(0,Uh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,kye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Uh.getAccountMetasAndSigners)(i,"programId",t),c=RCe().serialize({}),u=0;return(0,kye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}oP.revokeStakingV1=OIt;var aP={};Object.defineProperty(aP,"__esModule",{value:!0});aP.revokeStandardV1=aP.getRevokeStandardV1InstructionDataSerializer=void 0;const KIt=Hs,vye=Z,M8=q,LIt=on,YF=Ut,v0=Ne;function CCe(){return(0,M8.mapSerializer)((0,M8.struct)([["discriminator",(0,M8.u8)()],["revokeStandardV1Discriminator",(0,M8.u8)()]],{description:"RevokeStandardV1InstructionData"}),n=>({...n,discriminator:45,revokeStandardV1Discriminator:6}))}aP.getRevokeStandardV1InstructionDataSerializer=CCe;function WIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,KIt.findAssociatedTokenPda)(n,{mint:(0,v0.expectPublicKey)(r.mint.value),owner:(0,v0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,YF.findTokenRecordPda)(n,{mint:(0,v0.expectPublicKey)(r.mint.value),token:(0,v0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,YF.findMetadataPda)(n,{mint:(0,v0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,LIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,YF.findMasterEditionPda)(n,{mint:(0,v0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,vye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,v0.getAccountMetasAndSigners)(i,"programId",t),c=CCe().serialize({}),u=0;return(0,vye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}aP.revokeStandardV1=WIt;var cP={};Object.defineProperty(cP,"__esModule",{value:!0});cP.revokeTransferV1=cP.getRevokeTransferV1InstructionDataSerializer=void 0;const NIt=Hs,Aye=Z,B8=q,FIt=on,z8=Ut,Vh=Ne,UIt=ut;function MCe(){return(0,B8.mapSerializer)((0,B8.struct)([["discriminator",(0,B8.u8)()],["revokeTransferV1Discriminator",(0,B8.u8)()]],{description:"RevokeTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeTransferV1Discriminator:2}))}cP.getRevokeTransferV1InstructionDataSerializer=MCe;function VIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,NIt.findAssociatedTokenPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value),owner:(0,Vh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,z8.findTokenRecordPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value),token:(0,Vh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,z8.findMetadataPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,FIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,z8.findMasterEditionPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===UIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,z8.findTokenRecordPda)(n,{mint:(0,Vh.expectPublicKey)(r.mint.value),token:(0,Vh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Aye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Vh.getAccountMetasAndSigners)(i,"programId",t),c=MCe().serialize({}),u=0;return(0,Aye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cP.revokeTransferV1=VIt;var uP={};Object.defineProperty(uP,"__esModule",{value:!0});uP.revokeUseAuthority=uP.getRevokeUseAuthorityInstructionDataSerializer=void 0;const qIt=Z,ZF=q,jIt=Ut,wye=Ne;function BCe(){return(0,ZF.mapSerializer)((0,ZF.struct)([["discriminator",(0,ZF.u8)()]],{description:"RevokeUseAuthorityInstructionData"}),n=>({...n,discriminator:21}))}uP.getRevokeUseAuthorityInstructionDataSerializer=BCe;function HIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},user:{index:2,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:3,isWritable:!0,value:e.ownerTokenAccount??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}};r.metadata.value||(r.metadata.value=(0,jIt.findMetadataPda)(n,{mint:(0,wye.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,wye.getAccountMetasAndSigners)(s,"omitted",t),a=BCe().serialize({}),c=0;return(0,qIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}uP.revokeUseAuthority=HIt;var lP={};Object.defineProperty(lP,"__esModule",{value:!0});lP.revokeUtilityV1=lP.getRevokeUtilityV1InstructionDataSerializer=void 0;const GIt=Hs,Iye=Z,$8=q,YIt=on,D8=Ut,qh=Ne,ZIt=ut;function zCe(){return(0,$8.mapSerializer)((0,$8.struct)([["discriminator",(0,$8.u8)()],["revokeUtilityV1Discriminator",(0,$8.u8)()]],{description:"RevokeUtilityV1InstructionData"}),n=>({...n,discriminator:45,revokeUtilityV1Discriminator:4}))}lP.getRevokeUtilityV1InstructionDataSerializer=zCe;function JIt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,GIt.findAssociatedTokenPda)(n,{mint:(0,qh.expectPublicKey)(r.mint.value),owner:(0,qh.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,D8.findTokenRecordPda)(n,{mint:(0,qh.expectPublicKey)(r.mint.value),token:(0,qh.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,D8.findMetadataPda)(n,{mint:(0,qh.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,YIt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,D8.findMasterEditionPda)(n,{mint:(0,qh.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===ZIt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,D8.findTokenRecordPda)(n,{mint:(0,qh.expectPublicKey)(r.mint.value),token:(0,qh.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Iye.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,qh.getAccountMetasAndSigners)(i,"programId",t),c=zCe().serialize({}),u=0;return(0,Iye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lP.revokeUtilityV1=JIt;var dP={};Object.defineProperty(dP,"__esModule",{value:!0});dP.setAndVerifyCollection=dP.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const XIt=Z,JF=q,QIt=Ne;function $Ce(){return(0,JF.mapSerializer)((0,JF.struct)([["discriminator",(0,JF.u8)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:25}))}dP.getSetAndVerifyCollectionInstructionDataSerializer=$Ce;function ePt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,QIt.getAccountMetasAndSigners)(s,"omitted",t),a=$Ce().serialize({}),c=0;return(0,XIt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}dP.setAndVerifyCollection=ePt;var fP={};Object.defineProperty(fP,"__esModule",{value:!0});fP.setAndVerifySizedCollectionItem=fP.getSetAndVerifySizedCollectionItemInstructionDataSerializer=void 0;const tPt=Z,XF=q,rPt=Ne;function DCe(){return(0,XF.mapSerializer)((0,XF.struct)([["discriminator",(0,XF.u8)()]],{description:"SetAndVerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:32}))}fP.getSetAndVerifySizedCollectionItemInstructionDataSerializer=DCe;function nPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,rPt.getAccountMetasAndSigners)(s,"omitted",t),a=DCe().serialize({}),c=0;return(0,tPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}fP.setAndVerifySizedCollectionItem=nPt;var hP={};Object.defineProperty(hP,"__esModule",{value:!0});hP.setCollectionSize=hP.getSetCollectionSizeInstructionDataSerializer=void 0;const sPt=Z,QF=q,iPt=Ne,oPt=ut;function OCe(){return(0,QF.mapSerializer)((0,QF.struct)([["discriminator",(0,QF.u8)()],["setCollectionSizeArgs",(0,oPt.getSetCollectionSizeArgsSerializer)()]],{description:"SetCollectionSizeInstructionData"}),n=>({...n,discriminator:34}))}hP.getSetCollectionSizeInstructionDataSerializer=OCe;function aPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionAuthorityRecord:{index:3,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,iPt.getAccountMetasAndSigners)(i,"omitted",t),c=OCe().serialize(s),u=0;return(0,sPt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}hP.setCollectionSize=aPt;var gP={};Object.defineProperty(gP,"__esModule",{value:!0});gP.setTokenStandard=gP.getSetTokenStandardInstructionDataSerializer=void 0;const cPt=Z,eU=q,uPt=Ut,Pye=Ne;function KCe(){return(0,eU.mapSerializer)((0,eU.struct)([["discriminator",(0,eU.u8)()]],{description:"SetTokenStandardInstructionData"}),n=>({...n,discriminator:35}))}gP.getSetTokenStandardInstructionDataSerializer=KCe;function lPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},mint:{index:2,isWritable:!1,value:e.mint??null},edition:{index:3,isWritable:!1,value:e.edition??null}};r.metadata.value||(r.metadata.value=(0,uPt.findMetadataPda)(n,{mint:(0,Pye.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Pye.getAccountMetasAndSigners)(s,"omitted",t),a=KCe().serialize({}),c=0;return(0,cPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}gP.setTokenStandard=lPt;var mP={};Object.defineProperty(mP,"__esModule",{value:!0});mP.signMetadata=mP.getSignMetadataInstructionDataSerializer=void 0;const dPt=Z,tU=q,fPt=Ne;function LCe(){return(0,tU.mapSerializer)((0,tU.struct)([["discriminator",(0,tU.u8)()]],{description:"SignMetadataInstructionData"}),n=>({...n,discriminator:7}))}mP.getSignMetadataInstructionDataSerializer=LCe;function hPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fPt.getAccountMetasAndSigners)(s,"programId",t),a=LCe().serialize({}),c=0;return(0,dPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}mP.signMetadata=hPt;var yP={};Object.defineProperty(yP,"__esModule",{value:!0});yP.thawDelegatedAccount=yP.getThawDelegatedAccountInstructionDataSerializer=void 0;const gPt=Z,rU=q,mPt=Ut,_ye=Ne;function WCe(){return(0,rU.mapSerializer)((0,rU.struct)([["discriminator",(0,rU.u8)()]],{description:"ThawDelegatedAccountInstructionData"}),n=>({...n,discriminator:27}))}yP.getThawDelegatedAccountInstructionDataSerializer=WCe;function yPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,mPt.findMasterEditionPda)(n,{mint:(0,_ye.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,_ye.getAccountMetasAndSigners)(s,"programId",t),a=WCe().serialize({}),c=0;return(0,gPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}yP.thawDelegatedAccount=yPt;var pP={};Object.defineProperty(pP,"__esModule",{value:!0});pP.transferOutOfEscrow=pP.getTransferOutOfEscrowInstructionDataSerializer=void 0;const Eye=Z,O8=q,pPt=Ne;function NCe(){return(0,O8.mapSerializer)((0,O8.struct)([["discriminator",(0,O8.u8)()],["amount",(0,O8.u64)()]],{description:"TransferOutOfEscrowInstructionData"}),n=>({...n,discriminator:40,amount:n.amount??1}))}pP.getTransferOutOfEscrowInstructionDataSerializer=NCe;function bPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!1,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},payer:{index:2,isWritable:!0,value:e.payer??null},attributeMint:{index:3,isWritable:!1,value:e.attributeMint??null},attributeSrc:{index:4,isWritable:!0,value:e.attributeSrc??null},attributeDst:{index:5,isWritable:!0,value:e.attributeDst??null},escrowMint:{index:6,isWritable:!1,value:e.escrowMint??null},escrowAccount:{index:7,isWritable:!1,value:e.escrowAccount??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},ataProgram:{index:9,isWritable:!1,value:e.ataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:12,isWritable:!1,value:e.authority??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Eye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,pPt.getAccountMetasAndSigners)(i,"omitted",t),c=NCe().serialize(s),u=0;return(0,Eye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pP.transferOutOfEscrow=bPt;var bP={};Object.defineProperty(bP,"__esModule",{value:!0});bP.transferV1=bP.getTransferV1InstructionDataSerializer=void 0;const xye=Hs,dj=Z,qk=q,K8=Ut,Vl=Ne,OD=ut;function FCe(){return(0,qk.mapSerializer)((0,qk.struct)([["discriminator",(0,qk.u8)()],["transferV1Discriminator",(0,qk.u8)()],["amount",(0,qk.u64)()],["authorizationData",(0,qk.option)((0,OD.getAuthorizationDataSerializer)())]],{description:"TransferV1InstructionData"}),n=>({...n,discriminator:49,transferV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,dj.none)()}))}bP.getTransferV1InstructionDataSerializer=FCe;function SPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},destinationToken:{index:2,isWritable:!0,value:e.destinationToken??null},destinationOwner:{index:3,isWritable:!1,value:e.destinationOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},edition:{index:6,isWritable:!1,value:e.edition??null},tokenRecord:{index:7,isWritable:!0,value:e.tokenRecord??null},destinationTokenRecord:{index:8,isWritable:!0,value:e.destinationTokenRecord??null},authority:{index:9,isWritable:!1,value:e.authority??null},payer:{index:10,isWritable:!0,value:e.payer??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:14,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:15,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:16,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner.value=n.identity.publicKey),r.token.value||(r.token.value=(0,xye.findAssociatedTokenPda)(n,{mint:(0,Vl.expectPublicKey)(r.mint.value),owner:(0,Vl.expectPublicKey)(r.tokenOwner.value)})),r.destinationToken.value||(r.destinationToken.value=(0,xye.findAssociatedTokenPda)(n,{mint:(0,Vl.expectPublicKey)(r.mint.value),owner:(0,Vl.expectPublicKey)(r.destinationOwner.value)})),r.metadata.value||(r.metadata.value=(0,K8.findMetadataPda)(n,{mint:(0,Vl.expectPublicKey)(r.mint.value)})),r.edition.value||s.tokenStandard===OD.TokenStandard.ProgrammableNonFungible&&(r.edition.value=(0,K8.findMasterEditionPda)(n,{mint:(0,Vl.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===OD.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,K8.findTokenRecordPda)(n,{mint:(0,Vl.expectPublicKey)(r.mint.value),token:(0,Vl.expectPublicKey)(r.token.value)})),r.destinationTokenRecord.value||s.tokenStandard===OD.TokenStandard.ProgrammableNonFungible&&(r.destinationTokenRecord.value=(0,K8.findTokenRecordPda)(n,{token:(0,Vl.expectPublicKey)(r.destinationToken.value),mint:(0,Vl.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,dj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Vl.getAccountMetasAndSigners)(i,"programId",t),c=FCe().serialize(s),u=0;return(0,dj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bP.transferV1=SPt;var SP={};Object.defineProperty(SP,"__esModule",{value:!0});SP.unlockV1=SP.getUnlockV1InstructionDataSerializer=void 0;const kPt=Hs,fj=Z,pC=q,Tye=on,nU=Ut,A0=Ne,hj=ut;function UCe(){return(0,pC.mapSerializer)((0,pC.struct)([["discriminator",(0,pC.u8)()],["unlockV1Discriminator",(0,pC.u8)()],["authorizationData",(0,pC.option)((0,hj.getAuthorizationDataSerializer)())]],{description:"UnlockV1InstructionData"}),n=>({...n,discriminator:47,unlockV1Discriminator:0,authorizationData:n.authorizationData??(0,fj.none)()}))}SP.getUnlockV1InstructionDataSerializer=UCe;function vPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Tye.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,kPt.findAssociatedTokenPda)(n,{mint:(0,A0.expectPublicKey)(r.mint.value),owner:(0,A0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,nU.findMetadataPda)(n,{mint:(0,A0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,Tye.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,nU.findMasterEditionPda)(n,{mint:(0,A0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===hj.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,nU.findTokenRecordPda)(n,{mint:(0,A0.expectPublicKey)(r.mint.value),token:(0,A0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,fj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==hj.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,A0.getAccountMetasAndSigners)(i,"programId",t),c=UCe().serialize(s),u=0;return(0,fj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}SP.unlockV1=vPt;var kP={};Object.defineProperty(kP,"__esModule",{value:!0});kP.unverifyCollection=kP.getUnverifyCollectionInstructionDataSerializer=void 0;const APt=Z,sU=q,wPt=Ne;function VCe(){return(0,sU.mapSerializer)((0,sU.struct)([["discriminator",(0,sU.u8)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:22}))}kP.getUnverifyCollectionInstructionDataSerializer=VCe;function IPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collection:{index:3,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:4,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:5,isWritable:!1,value:e.collectionAuthorityRecord??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,wPt.getAccountMetasAndSigners)(s,"omitted",t),a=VCe().serialize({}),c=0;return(0,APt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}kP.unverifyCollection=IPt;var vP={};Object.defineProperty(vP,"__esModule",{value:!0});vP.unverifyCollectionV1=vP.getUnverifyCollectionV1InstructionDataSerializer=void 0;const Rye=Z,L8=q,PPt=Ut,Cye=Ne;function qCe(){return(0,L8.mapSerializer)((0,L8.struct)([["discriminator",(0,L8.u8)()],["unverifyCollectionV1Discriminator",(0,L8.u8)()]],{description:"UnverifyCollectionV1InstructionData"}),n=>({...n,discriminator:53,unverifyCollectionV1Discriminator:1}))}vP.getUnverifyCollectionV1InstructionDataSerializer=qCe;function _Pt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,PPt.findMetadataPda)(n,{mint:(0,Cye.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Rye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Cye.getAccountMetasAndSigners)(s,"programId",t),a=qCe().serialize({}),c=0;return(0,Rye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}vP.unverifyCollectionV1=_Pt;var AP={};Object.defineProperty(AP,"__esModule",{value:!0});AP.unverifyCreatorV1=AP.getUnverifyCreatorV1InstructionDataSerializer=void 0;const Mye=Z,W8=q,EPt=Ne;function jCe(){return(0,W8.mapSerializer)((0,W8.struct)([["discriminator",(0,W8.u8)()],["unverifyCreatorV1Discriminator",(0,W8.u8)()]],{description:"UnverifyCreatorV1InstructionData"}),n=>({...n,discriminator:53,unverifyCreatorV1Discriminator:0}))}AP.getUnverifyCreatorV1InstructionDataSerializer=jCe;function xPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Mye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,EPt.getAccountMetasAndSigners)(s,"programId",t),a=jCe().serialize({}),c=0;return(0,Mye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}AP.unverifyCreatorV1=xPt;var wP={};Object.defineProperty(wP,"__esModule",{value:!0});wP.unverifySizedCollectionItem=wP.getUnverifySizedCollectionItemInstructionDataSerializer=void 0;const TPt=Z,iU=q,RPt=Ne;function HCe(){return(0,iU.mapSerializer)((0,iU.struct)([["discriminator",(0,iU.u8)()]],{description:"UnverifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:31}))}wP.getUnverifySizedCollectionItemInstructionDataSerializer=HCe;function CPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,RPt.getAccountMetasAndSigners)(s,"omitted",t),a=HCe().serialize({}),c=0;return(0,TPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}wP.unverifySizedCollectionItem=CPt;var IP={};Object.defineProperty(IP,"__esModule",{value:!0});IP.updateAsAuthorityItemDelegateV2=IP.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=void 0;const m1=Z,ul=q,Bye=Ut,bC=Ne,gj=ut;function GCe(){return(0,ul.mapSerializer)((0,ul.struct)([["discriminator",(0,ul.u8)()],["updateAsAuthorityItemDelegateV2Discriminator",(0,ul.u8)()],["newUpdateAuthority",(0,ul.option)((0,ul.publicKey)())],["primarySaleHappened",(0,ul.option)((0,ul.bool)())],["isMutable",(0,ul.option)((0,ul.bool)())],["tokenStandard",(0,ul.option)((0,gj.getTokenStandardSerializer)())],["authorizationData",(0,ul.option)((0,gj.getAuthorizationDataSerializer)())]],{description:"UpdateAsAuthorityItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsAuthorityItemDelegateV2Discriminator:2,newUpdateAuthority:n.newUpdateAuthority??(0,m1.none)(),primarySaleHappened:n.primarySaleHappened??(0,m1.none)(),isMutable:n.isMutable??(0,m1.none)(),tokenStandard:n.tokenStandard??(0,m1.none)(),authorizationData:n.authorizationData??(0,m1.none)()}))}IP.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=GCe;function MPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Bye.findMetadataDelegateRecordPda)(n,{delegateRole:gj.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,bC.expectSome)(s.updateAuthority),delegate:(0,bC.expectPublicKey)(r.authority.value),mint:(0,bC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Bye.findMetadataPda)(n,{mint:(0,bC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,m1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,bC.getAccountMetasAndSigners)(i,"programId",t),c=GCe().serialize(s),u=0;return(0,m1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}IP.updateAsAuthorityItemDelegateV2=MPt;var PP={};Object.defineProperty(PP,"__esModule",{value:!0});PP.updateAsCollectionDelegateV2=PP.getUpdateAsCollectionDelegateV2InstructionDataSerializer=void 0;const mj=Z,SC=q,zye=Ut,jk=Ne,KD=ut;function YCe(){return(0,SC.mapSerializer)((0,SC.struct)([["discriminator",(0,SC.u8)()],["updateAsCollectionDelegateV2Discriminator",(0,SC.u8)()],["collection",(0,KD.getCollectionToggleSerializer)()],["authorizationData",(0,SC.option)((0,KD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionDelegateV2Discriminator:3,collection:n.collection??(0,KD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,mj.none)()}))}PP.getUpdateAsCollectionDelegateV2InstructionDataSerializer=YCe;function BPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,jk.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,zye.findMetadataDelegateRecordPda)(n,{mint:(0,jk.expectSome)(s.delegateMint),delegateRole:KD.MetadataDelegateRole.Collection,updateAuthority:(0,jk.expectSome)(s.delegateUpdateAuthority),delegate:(0,jk.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,zye.findMetadataPda)(n,{mint:(0,jk.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,jk.getAccountMetasAndSigners)(i,"programId",t),c=YCe().serialize(s),u=0;return(0,mj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}PP.updateAsCollectionDelegateV2=BPt;var _P={};Object.defineProperty(_P,"__esModule",{value:!0});_P.updateAsCollectionItemDelegateV2=_P.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=void 0;const yj=Z,kC=q,$ye=Ut,vC=Ne,LD=ut;function ZCe(){return(0,kC.mapSerializer)((0,kC.struct)([["discriminator",(0,kC.u8)()],["updateAsCollectionItemDelegateV2Discriminator",(0,kC.u8)()],["collection",(0,LD.getCollectionToggleSerializer)()],["authorizationData",(0,kC.option)((0,LD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionItemDelegateV2Discriminator:7,collection:n.collection??(0,LD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,yj.none)()}))}_P.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=ZCe;function zPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,$ye.findMetadataDelegateRecordPda)(n,{delegateRole:LD.MetadataDelegateRole.CollectionItem,updateAuthority:(0,vC.expectSome)(s.updateAuthority),delegate:(0,vC.expectPublicKey)(r.authority.value),mint:(0,vC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,$ye.findMetadataPda)(n,{mint:(0,vC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,yj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,vC.getAccountMetasAndSigners)(i,"programId",t),c=ZCe().serialize(s),u=0;return(0,yj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_P.updateAsCollectionItemDelegateV2=zPt;var EP={};Object.defineProperty(EP,"__esModule",{value:!0});EP.updateAsDataDelegateV2=EP.getUpdateAsDataDelegateV2InstructionDataSerializer=void 0;const qO=Z,Hk=q,Dye=Ut,Gk=Ne,pj=ut;function JCe(){return(0,Hk.mapSerializer)((0,Hk.struct)([["discriminator",(0,Hk.u8)()],["updateAsDataDelegateV2Discriminator",(0,Hk.u8)()],["data",(0,Hk.option)((0,pj.getDataSerializer)())],["authorizationData",(0,Hk.option)((0,pj.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataDelegateV2Discriminator:4,data:n.data??(0,qO.none)(),authorizationData:n.authorizationData??(0,qO.none)()}))}EP.getUpdateAsDataDelegateV2InstructionDataSerializer=JCe;function $Pt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,Gk.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Dye.findMetadataDelegateRecordPda)(n,{mint:(0,Gk.expectSome)(s.delegateMint),delegateRole:pj.MetadataDelegateRole.Data,updateAuthority:(0,Gk.expectSome)(s.delegateUpdateAuthority),delegate:(0,Gk.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,Dye.findMetadataPda)(n,{mint:(0,Gk.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qO.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Gk.getAccountMetasAndSigners)(i,"programId",t),c=JCe().serialize(s),u=0;return(0,qO.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}EP.updateAsDataDelegateV2=$Pt;var xP={};Object.defineProperty(xP,"__esModule",{value:!0});xP.updateAsDataItemDelegateV2=xP.getUpdateAsDataItemDelegateV2InstructionDataSerializer=void 0;const jO=Z,Yk=q,Oye=Ut,AC=Ne,bj=ut;function XCe(){return(0,Yk.mapSerializer)((0,Yk.struct)([["discriminator",(0,Yk.u8)()],["updateAsDataItemDelegateV2Discriminator",(0,Yk.u8)()],["data",(0,Yk.option)((0,bj.getDataSerializer)())],["authorizationData",(0,Yk.option)((0,bj.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataItemDelegateV2Discriminator:6,data:n.data??(0,jO.none)(),authorizationData:n.authorizationData??(0,jO.none)()}))}xP.getUpdateAsDataItemDelegateV2InstructionDataSerializer=XCe;function DPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Oye.findMetadataDelegateRecordPda)(n,{delegateRole:bj.MetadataDelegateRole.DataItem,updateAuthority:(0,AC.expectSome)(s.updateAuthority),delegate:(0,AC.expectPublicKey)(r.authority.value),mint:(0,AC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Oye.findMetadataPda)(n,{mint:(0,AC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,jO.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,AC.getAccountMetasAndSigners)(i,"programId",t),c=XCe().serialize(s),u=0;return(0,jO.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xP.updateAsDataItemDelegateV2=DPt;var TP={};Object.defineProperty(TP,"__esModule",{value:!0});TP.updateAsProgrammableConfigDelegateV2=TP.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=void 0;const Sj=Z,wC=q,Kye=Ut,Zk=Ne,WD=ut;function QCe(){return(0,wC.mapSerializer)((0,wC.struct)([["discriminator",(0,wC.u8)()],["updateAsProgrammableConfigDelegateV2Discriminator",(0,wC.u8)()],["ruleSet",(0,WD.getRuleSetToggleSerializer)()],["authorizationData",(0,wC.option)((0,WD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigDelegateV2Discriminator:5,ruleSet:n.ruleSet??(0,WD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Sj.none)()}))}TP.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=QCe;function OPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,Zk.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Kye.findMetadataDelegateRecordPda)(n,{mint:(0,Zk.expectSome)(s.delegateMint),delegateRole:WD.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,Zk.expectSome)(s.delegateUpdateAuthority),delegate:(0,Zk.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,Kye.findMetadataPda)(n,{mint:(0,Zk.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Zk.getAccountMetasAndSigners)(i,"programId",t),c=QCe().serialize(s),u=0;return(0,Sj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}TP.updateAsProgrammableConfigDelegateV2=OPt;var RP={};Object.defineProperty(RP,"__esModule",{value:!0});RP.updateAsProgrammableConfigItemDelegateV2=RP.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=void 0;const kj=Z,IC=q,Lye=Ut,PC=Ne,ND=ut;function e2e(){return(0,IC.mapSerializer)((0,IC.struct)([["discriminator",(0,IC.u8)()],["updateAsProgrammableConfigItemDelegateV2Discriminator",(0,IC.u8)()],["ruleSet",(0,ND.getRuleSetToggleSerializer)()],["authorizationData",(0,IC.option)((0,ND.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigItemDelegateV2Discriminator:8,ruleSet:n.ruleSet??(0,ND.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,kj.none)()}))}RP.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=e2e;function KPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,Lye.findMetadataDelegateRecordPda)(n,{delegateRole:ND.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,PC.expectSome)(s.updateAuthority),delegate:(0,PC.expectPublicKey)(r.authority.value),mint:(0,PC.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,Lye.findMetadataPda)(n,{mint:(0,PC.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,kj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,PC.getAccountMetasAndSigners)(i,"programId",t),c=e2e().serialize(s),u=0;return(0,kj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}RP.updateAsProgrammableConfigItemDelegateV2=KPt;var CP={};Object.defineProperty(CP,"__esModule",{value:!0});CP.updateAsUpdateAuthorityV2=CP.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=void 0;const Ay=Z,Ru=q,LPt=Ut,Wye=Ne,ql=ut;function t2e(){return(0,Ru.mapSerializer)((0,Ru.struct)([["discriminator",(0,Ru.u8)()],["updateAsUpdateAuthorityV2Discriminator",(0,Ru.u8)()],["newUpdateAuthority",(0,Ru.option)((0,Ru.publicKey)())],["data",(0,Ru.option)((0,ql.getDataSerializer)())],["primarySaleHappened",(0,Ru.option)((0,Ru.bool)())],["isMutable",(0,Ru.option)((0,Ru.bool)())],["collection",(0,ql.getCollectionToggleSerializer)()],["collectionDetails",(0,ql.getCollectionDetailsToggleSerializer)()],["uses",(0,ql.getUsesToggleSerializer)()],["ruleSet",(0,ql.getRuleSetToggleSerializer)()],["tokenStandard",(0,Ru.option)((0,ql.getTokenStandardSerializer)())],["authorizationData",(0,Ru.option)((0,ql.getAuthorizationDataSerializer)())]],{description:"UpdateAsUpdateAuthorityV2InstructionData"}),n=>({...n,discriminator:50,updateAsUpdateAuthorityV2Discriminator:1,newUpdateAuthority:n.newUpdateAuthority??(0,Ay.none)(),data:n.data??(0,Ay.none)(),primarySaleHappened:n.primarySaleHappened??(0,Ay.none)(),isMutable:n.isMutable??(0,Ay.none)(),collection:n.collection??(0,ql.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,ql.collectionDetailsToggle)("None"),uses:n.uses??(0,ql.usesToggle)("None"),ruleSet:n.ruleSet??(0,ql.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Ay.none)(),authorizationData:n.authorizationData??(0,Ay.none)()}))}CP.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=t2e;function WPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,LPt.findMetadataPda)(n,{mint:(0,Wye.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Ay.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Wye.getAccountMetasAndSigners)(i,"programId",t),c=t2e().serialize(s),u=0;return(0,Ay.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}CP.updateAsUpdateAuthorityV2=WPt;var MP={};Object.defineProperty(MP,"__esModule",{value:!0});MP.updateMetadataAccountV2=MP.getUpdateMetadataAccountV2InstructionDataSerializer=void 0;const T2=Z,Vd=q,NPt=Ne,FPt=ut;function r2e(){return(0,Vd.mapSerializer)((0,Vd.struct)([["discriminator",(0,Vd.u8)()],["data",(0,Vd.option)((0,FPt.getDataV2Serializer)())],["newUpdateAuthority",(0,Vd.option)((0,Vd.publicKey)())],["primarySaleHappened",(0,Vd.option)((0,Vd.bool)())],["isMutable",(0,Vd.option)((0,Vd.bool)())]],{description:"UpdateMetadataAccountV2InstructionData"}),n=>({...n,discriminator:15,data:n.data??(0,T2.none)(),newUpdateAuthority:n.newUpdateAuthority??(0,T2.none)(),primarySaleHappened:n.primarySaleHappened??(0,T2.none)(),isMutable:n.isMutable??(0,T2.none)()}))}MP.getUpdateMetadataAccountV2InstructionDataSerializer=r2e;function UPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null}},s={...e};r.updateAuthority.value||(r.updateAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,NPt.getAccountMetasAndSigners)(i,"programId",t),c=r2e().serialize(s),u=0;return(0,T2.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}MP.updateMetadataAccountV2=UPt;var BP={};Object.defineProperty(BP,"__esModule",{value:!0});BP.updatePrimarySaleHappenedViaToken=BP.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=void 0;const VPt=Z,oU=q,qPt=Ne;function n2e(){return(0,oU.mapSerializer)((0,oU.struct)([["discriminator",(0,oU.u8)()]],{description:"UpdatePrimarySaleHappenedViaTokenInstructionData"}),n=>({...n,discriminator:4}))}BP.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=n2e;function jPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!1,value:e.owner??null},token:{index:2,isWritable:!1,value:e.token??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,qPt.getAccountMetasAndSigners)(s,"programId",t),a=n2e().serialize({}),c=0;return(0,VPt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}BP.updatePrimarySaleHappenedViaToken=jPt;var zP={};Object.defineProperty(zP,"__esModule",{value:!0});zP.updateV1=zP.getUpdateV1InstructionDataSerializer=void 0;const y1=Z,ll=q,HPt=Ut,Nye=Ne,qd=ut;function s2e(){return(0,ll.mapSerializer)((0,ll.struct)([["discriminator",(0,ll.u8)()],["updateV1Discriminator",(0,ll.u8)()],["newUpdateAuthority",(0,ll.option)((0,ll.publicKey)())],["data",(0,ll.option)((0,qd.getDataSerializer)())],["primarySaleHappened",(0,ll.option)((0,ll.bool)())],["isMutable",(0,ll.option)((0,ll.bool)())],["collection",(0,qd.getCollectionToggleSerializer)()],["collectionDetails",(0,qd.getCollectionDetailsToggleSerializer)()],["uses",(0,qd.getUsesToggleSerializer)()],["ruleSet",(0,qd.getRuleSetToggleSerializer)()],["authorizationData",(0,ll.option)((0,qd.getAuthorizationDataSerializer)())]],{description:"UpdateV1InstructionData"}),n=>({...n,discriminator:50,updateV1Discriminator:0,newUpdateAuthority:n.newUpdateAuthority??(0,y1.none)(),data:n.data??(0,y1.none)(),primarySaleHappened:n.primarySaleHappened??(0,y1.none)(),isMutable:n.isMutable??(0,y1.none)(),collection:n.collection??(0,qd.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,qd.collectionDetailsToggle)("None"),uses:n.uses??(0,qd.usesToggle)("None"),ruleSet:n.ruleSet??(0,qd.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,y1.none)()}))}zP.getUpdateV1InstructionDataSerializer=s2e;function GPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,HPt.findMetadataPda)(n,{mint:(0,Nye.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,y1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Nye.getAccountMetasAndSigners)(i,"programId",t),c=s2e().serialize(s),u=0;return(0,y1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zP.updateV1=GPt;var $P={};Object.defineProperty($P,"__esModule",{value:!0});$P.useV1=$P.getUseV1InstructionDataSerializer=void 0;const vj=Z,_C=q,YPt=Ut,Fye=Ne,ZPt=ut;function i2e(){return(0,_C.mapSerializer)((0,_C.struct)([["discriminator",(0,_C.u8)()],["useV1Discriminator",(0,_C.u8)()],["authorizationData",(0,_C.option)((0,ZPt.getAuthorizationDataSerializer)())]],{description:"UseV1InstructionData"}),n=>({...n,discriminator:51,useV1Discriminator:0,authorizationData:n.authorizationData??(0,vj.none)()}))}$P.getUseV1InstructionDataSerializer=i2e;function JPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!0,value:e.delegateRecord??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!0,value:e.edition??null},payer:{index:6,isWritable:!1,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:10,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:11,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,YPt.findMetadataPda)(n,{mint:(0,Fye.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,vj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Fye.getAccountMetasAndSigners)(i,"programId",t),c=i2e().serialize(s),u=0;return(0,vj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$P.useV1=JPt;var DP={};Object.defineProperty(DP,"__esModule",{value:!0});DP.utilize=DP.getUtilizeInstructionDataSerializer=void 0;const Uye=Z,N8=q,XPt=Ut,Vye=Ne;function o2e(){return(0,N8.mapSerializer)((0,N8.struct)([["discriminator",(0,N8.u8)()],["numberOfUses",(0,N8.u64)()]],{description:"UtilizeInstructionData"}),n=>({...n,discriminator:19}))}DP.getUtilizeInstructionDataSerializer=o2e;function QPt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},mint:{index:2,isWritable:!0,value:e.mint??null},useAuthority:{index:3,isWritable:!0,value:e.useAuthority??null},owner:{index:4,isWritable:!1,value:e.owner??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:6,isWritable:!1,value:e.ataProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null},useAuthorityRecord:{index:9,isWritable:!0,value:e.useAuthorityRecord??null},burner:{index:10,isWritable:!1,value:e.burner??null}},s={...e};r.metadata.value||(r.metadata.value=(0,XPt.findMetadataPda)(n,{mint:(0,Vye.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,Uye.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Vye.getAccountMetasAndSigners)(i,"omitted",t),c=o2e().serialize(s),u=0;return(0,Uye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}DP.utilize=QPt;var OP={};Object.defineProperty(OP,"__esModule",{value:!0});OP.verifyCollection=OP.getVerifyCollectionInstructionDataSerializer=void 0;const e_t=Z,aU=q,t_t=Ne;function a2e(){return(0,aU.mapSerializer)((0,aU.struct)([["discriminator",(0,aU.u8)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:18}))}OP.getVerifyCollectionInstructionDataSerializer=a2e;function r_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,t_t.getAccountMetasAndSigners)(s,"omitted",t),a=a2e().serialize({}),c=0;return(0,e_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}OP.verifyCollection=r_t;var KP={};Object.defineProperty(KP,"__esModule",{value:!0});KP.verifyCollectionV1=KP.getVerifyCollectionV1InstructionDataSerializer=void 0;const qye=Z,F8=q,jye=Ut,cU=Ne;function c2e(){return(0,F8.mapSerializer)((0,F8.struct)([["discriminator",(0,F8.u8)()],["verifyCollectionV1Discriminator",(0,F8.u8)()]],{description:"VerifyCollectionV1InstructionData"}),n=>({...n,discriminator:52,verifyCollectionV1Discriminator:1}))}KP.getVerifyCollectionV1InstructionDataSerializer=c2e;function n_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,jye.findMetadataPda)(n,{mint:(0,cU.expectPublicKey)(r.collectionMint.value)})),r.collectionMasterEdition.value||(r.collectionMasterEdition.value=(0,jye.findMasterEditionPda)(n,{mint:(0,cU.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,cU.getAccountMetasAndSigners)(s,"programId",t),a=c2e().serialize({}),c=0;return(0,qye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}KP.verifyCollectionV1=n_t;var LP={};Object.defineProperty(LP,"__esModule",{value:!0});LP.verifyCreatorV1=LP.getVerifyCreatorV1InstructionDataSerializer=void 0;const Hye=Z,U8=q,s_t=Ne;function u2e(){return(0,U8.mapSerializer)((0,U8.struct)([["discriminator",(0,U8.u8)()],["verifyCreatorV1Discriminator",(0,U8.u8)()]],{description:"VerifyCreatorV1InstructionData"}),n=>({...n,discriminator:52,verifyCreatorV1Discriminator:0}))}LP.getVerifyCreatorV1InstructionDataSerializer=u2e;function i_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Hye.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,s_t.getAccountMetasAndSigners)(s,"programId",t),a=u2e().serialize({}),c=0;return(0,Hye.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}LP.verifyCreatorV1=i_t;var WP={};Object.defineProperty(WP,"__esModule",{value:!0});WP.verifySizedCollectionItem=WP.getVerifySizedCollectionItemInstructionDataSerializer=void 0;const o_t=Z,uU=q,a_t=Ne;function l2e(){return(0,uU.mapSerializer)((0,uU.struct)([["discriminator",(0,uU.u8)()]],{description:"VerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:30}))}WP.getVerifySizedCollectionItemInstructionDataSerializer=l2e;function c_t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,a_t.getAccountMetasAndSigners)(s,"omitted",t),a=l2e().serialize({}),c=0;return(0,o_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}WP.verifySizedCollectionItem=c_t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(lI,n),t(dI,n),t(fI,n),t(hI,n),t(gI,n),t(mI,n),t(yI,n),t(pI,n),t(bI,n),t(SI,n),t(kI,n),t(vI,n),t(AI,n),t(wI,n),t(II,n),t(PI,n),t(_I,n),t(EI,n),t(xI,n),t(TI,n),t(RI,n),t(CI,n),t(MI,n),t(BI,n),t(zI,n),t($I,n),t(DI,n),t(OI,n),t(KI,n),t(LI,n),t(WI,n),t(NI,n),t(FI,n),t(UI,n),t(VI,n),t(qI,n),t(jI,n),t(HI,n),t(GI,n),t(YI,n),t(ZI,n),t(JI,n),t(XI,n),t(QI,n),t(eP,n),t(tP,n),t(rP,n),t(nP,n),t(sP,n),t(iP,n),t(oP,n),t(aP,n),t(cP,n),t(uP,n),t(lP,n),t(dP,n),t(fP,n),t(hP,n),t(gP,n),t(mP,n),t(yP,n),t(pP,n),t(bP,n),t(SP,n),t(kP,n),t(vP,n),t(AP,n),t(wP,n),t(IP,n),t(PP,n),t(_P,n),t(EP,n),t(xP,n),t(TP,n),t(RP,n),t(CP,n),t(MP,n),t(BP,n),t(zP,n),t($P,n),t(DP,n),t(OP,n),t(KP,n),t(LP,n),t(WP,n)})(kRe);var d2e={},f2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenMetadataProgramId=n.getMplTokenMetadataProgram=n.createMplTokenMetadataProgram=n.MPL_TOKEN_METADATA_PROGRAM_ID=void 0;const e=VQ;n.MPL_TOKEN_METADATA_PROGRAM_ID="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";function t(){return{name:"mplTokenMetadata",publicKey:n.MPL_TOKEN_METADATA_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenMetadataErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenMetadataErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenMetadataProgram=t;function r(i,o){return i.programs.get("mplTokenMetadata",o)}n.getMplTokenMetadataProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenMetadata",n.MPL_TOKEN_METADATA_PROGRAM_ID,o)}n.getMplTokenMetadataProgramId=s})(f2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(f2e,n)})(d2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Ut,n),t(VQ,n),t(kRe,n),t(d2e,n),t(Ne,n),t(ut,n)})(Lb);var h2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFungibleAsset=n.createFungible=n.createProgrammableNft=n.createNft=n.createAndMint=void 0;const e=Z,t=Lb,r=(c,u)=>(0,e.transactionBuilder)().add((0,t.createV1)(c,u)).add((0,t.mintV1)(c,{...u,mint:(0,e.publicKey)(u.mint)}));n.createAndMint=r;const s=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.NonFungible,amount:1});n.createNft=s;const i=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.ProgrammableNonFungible,amount:1});n.createProgrammableNft=i;const o=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.Fungible});n.createFungible=o;const a=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.FungibleAsset});n.createFungibleAsset=a})(h2e);var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.deserializeDigitalAssetWithToken=Ac.fetchAllDigitalAssetWithTokenByMint=Ac.fetchAllDigitalAssetWithTokenByOwnerAndMint=Ac.fetchAllDigitalAssetWithTokenByOwner=Ac.fetchDigitalAssetWithTokenByMint=Ac.fetchDigitalAssetWithAssociatedToken=Ac.fetchDigitalAssetWithToken=void 0;const Sp=Z,iL=Hs,g2e=sL,id=Lb;async function m2e(n,e,t,r){const[s,i,o,a,c]=await n.rpc.getAccounts([e,(0,id.findMetadataPda)(n,{mint:e})[0],(0,id.findMasterEditionPda)(n,{mint:e})[0],t,(0,id.findTokenRecordPda)(n,{mint:e,token:t})[0]],r);return(0,Sp.assertAccountExists)(s,"Mint"),(0,Sp.assertAccountExists)(i,"Metadata"),(0,Sp.assertAccountExists)(a,"Token"),xne(s,i,a,o.exists?o:void 0,c.exists?c:void 0)}Ac.fetchDigitalAssetWithToken=m2e;async function u_t(n,e,t,r){const[s]=(0,iL.findAssociatedTokenPda)(n,{mint:e,owner:t});return m2e(n,e,s,r)}Ac.fetchDigitalAssetWithAssociatedToken=u_t;async function l_t(n,e,t){const r=await p2e(n,e,t);if(r.length===0)throw new Error("No valid token accounts found for the provided mint");if(r.length>1)throw new Error("Multiple valid token accounts found for the provided mintuse `fetchAllDigitalAssetWithTokenByMint` instead to retrieve them all.");return r[0]}Ac.fetchDigitalAssetWithTokenByMint=l_t;async function y2e(n,e,t){const r=await(0,iL.fetchAllTokenByOwner)(n,e,t),s=r.flatMap(o=>[o.mint,(0,id.findMetadataPda)(n,{mint:o.mint})[0],(0,id.findMasterEditionPda)(n,{mint:o.mint})[0],(0,id.findTokenRecordPda)(n,{mint:o.mint,token:o.publicKey})[0]]),i=await n.rpc.getAccounts(s,t);return(0,Sp.zipMap)(r,(0,Sp.chunk)(i,4),(o,a)=>{if(!a||a.length!==4)return[];const[c,u,l,d]=a;if(!c.exists||!u.exists)return[];try{return[{...(0,g2e.deserializeDigitalAsset)(c,u,l.exists?l:void 0),token:o,tokenRecord:d.exists?(0,id.deserializeTokenRecord)(d):void 0}]}catch{return[]}}).flat()}Ac.fetchAllDigitalAssetWithTokenByOwner=y2e;function d_t(n,e,t,r){return y2e(n,e,{...r,mint:t})}Ac.fetchAllDigitalAssetWithTokenByOwnerAndMint=d_t;async function p2e(n,e,t){const s=(await(0,iL.findLargestTokensByMint)(n,e,t)).filter(d=>d.amount.basisPoints>0).map(d=>d.publicKey),i=[e,(0,id.findMetadataPda)(n,{mint:e})[0],(0,id.findMasterEditionPda)(n,{mint:e})[0]];i.push(...s.flatMap(d=>[d,(0,id.findTokenRecordPda)(n,{mint:e,token:d})[0]]));const o=await n.rpc.getAccounts(i,t),[a,c,u,...l]=o;return(0,Sp.assertAccountExists)(a,"Mint"),(0,Sp.assertAccountExists)(c,"Metadata"),(0,Sp.chunk)(l,2).flatMap(([d,y])=>d.exists?[xne(a,c,d,u.exists?u:void 0,y.exists?y:void 0)]:[])}Ac.fetchAllDigitalAssetWithTokenByMint=p2e;function xne(n,e,t,r,s){return{...(0,g2e.deserializeDigitalAsset)(n,e,r),token:(0,iL.deserializeToken)(t),tokenRecord:s?(0,id.deserializeTokenRecord)(s):void 0}}Ac.deserializeDigitalAssetWithToken=xne;var oL={};Object.defineProperty(oL,"__esModule",{value:!0});oL.fetchJsonMetadata=void 0;const f_t=Wb,h_t=async(n,e)=>{try{return await n.downloader.downloadJson(e)}catch(t){throw new f_t.TokenMetadataError(`Failed to fetch JSON metadata from ${e}`,t)}};oL.fetchJsonMetadata=h_t;var aL={};Object.defineProperty(aL,"__esModule",{value:!0});aL.mplTokenMetadata=void 0;const g_t=Hs,m_t=Lb,y_t=()=>({install(n){n.use((0,g_t.mplToolbox)()),n.programs.add((0,m_t.createMplTokenMetadataProgram)(),!1)}});aL.mplTokenMetadata=y_t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Lb,n),t(on,n),t(h2e,n),t(sL,n),t(Ac,n),t(Wb,n),t(oL,n),t(aL,n)})(kk);Object.defineProperty(Sw,"__esModule",{value:!0});Sw.decompressV1=Sw.getDecompressV1InstructionDataSerializer=void 0;const Gye=kk,p_t=G0e,Yye=Z,V8=q,b_t=ph,Jk=fs,S_t=oa;function b2e(){return(0,V8.mapSerializer)((0,V8.struct)([["discriminator",(0,V8.array)((0,V8.u8)(),{size:8})],["metadata",(0,S_t.getMetadataArgsSerializer)()]],{description:"DecompressV1InstructionData"}),n=>({...n,discriminator:[54,85,76,70,228,250,164,81]}))}Sw.getDecompressV1InstructionDataSerializer=b2e;function k_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={voucher:{index:0,isWritable:!0,value:e.voucher??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},tokenAccount:{index:2,isWritable:!0,value:e.tokenAccount??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!0,value:e.mintAuthority??null},metadataAccount:{index:5,isWritable:!0,value:e.metadataAccount??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarRent:{index:8,isWritable:!1,value:e.sysvarRent??null},tokenMetadataProgram:{index:9,isWritable:!1,value:e.tokenMetadataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},associatedTokenProgram:{index:11,isWritable:!1,value:e.associatedTokenProgram??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null}},s={...e};r.tokenAccount.value||(r.tokenAccount.value=(0,p_t.findAssociatedTokenPda)(n,{mint:(0,Jk.expectPublicKey)(r.mint.value),owner:(0,Jk.expectPublicKey)(r.leafOwner.value)})),r.mintAuthority.value||(r.mintAuthority.value=(0,b_t.findMintAuthorityPda)(n,{mint:(0,Jk.expectPublicKey)(r.mint.value)})),r.metadataAccount.value||(r.metadataAccount.value=(0,Gye.findMetadataPda)(n,{mint:(0,Jk.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,Gye.findMasterEditionPda)(n,{mint:(0,Jk.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarRent.value||(r.sysvarRent.value=(0,Yye.publicKey)("SysvarRent111111111111111111111111111111111")),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r.tokenMetadataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.associatedTokenProgram.value||(r.associatedTokenProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.associatedTokenProgram.isWritable=!1),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Jk.getAccountMetasAndSigners)(i,"programId",t),c=b2e().serialize(s),u=0;return(0,Yye.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Sw.decompressV1=k_t;var NP={};Object.defineProperty(NP,"__esModule",{value:!0});NP.delegate=NP.getDelegateInstructionDataSerializer=void 0;const v_t=Z,jh=q,A_t=uc,Zye=fs;function S2e(){return(0,jh.mapSerializer)((0,jh.struct)([["discriminator",(0,jh.array)((0,jh.u8)(),{size:8})],["root",(0,jh.bytes)({size:32})],["dataHash",(0,jh.bytes)({size:32})],["creatorHash",(0,jh.bytes)({size:32})],["nonce",(0,jh.u64)()],["index",(0,jh.u32)()]],{description:"DelegateInstructionData"}),n=>({...n,discriminator:[90,147,75,178,85,88,4,137]}))}NP.getDelegateInstructionDataSerializer=S2e;function w_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},previousLeafDelegate:{index:2,isWritable:!1,value:e.previousLeafDelegate??null},newLeafDelegate:{index:3,isWritable:!1,value:e.newLeafDelegate??null},merkleTree:{index:4,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,A_t.findTreeConfigPda)(n,{merkleTree:(0,Zye.expectPublicKey)(r.merkleTree.value)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,Zye.getAccountMetasAndSigners)(i,"programId",t),u=S2e().serialize(s),l=0;return(0,v_t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}NP.delegate=w_t;var FP={};Object.defineProperty(FP,"__esModule",{value:!0});FP.mintToCollectionV1=FP.getMintToCollectionV1InstructionDataSerializer=void 0;const Jye=kk,lU=Z,q8=q,I_t=uc,EC=fs,P_t=oa;function k2e(){return(0,q8.mapSerializer)((0,q8.struct)([["discriminator",(0,q8.array)((0,q8.u8)(),{size:8})],["metadata",(0,P_t.getMetadataArgsSerializer)()]],{description:"MintToCollectionV1InstructionData"}),n=>({...n,discriminator:[153,18,178,47,197,158,86,15]}))}FP.getMintToCollectionV1InstructionDataSerializer=k2e;function __t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,I_t.findTreeConfigPda)(n,{merkleTree:(0,EC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,EC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,Jye.findMetadataPda)(n,{mint:(0,EC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,Jye.findMasterEditionPda)(n,{mint:(0,EC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,lU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,lU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,EC.getAccountMetasAndSigners)(i,"programId",t),c=k2e().serialize(s),u=0;return(0,lU.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}FP.mintToCollectionV1=__t;var UP={};Object.defineProperty(UP,"__esModule",{value:!0});UP.mintV1=UP.getMintV1InstructionDataSerializer=void 0;const E_t=Z,j8=q,x_t=uc,dU=fs,T_t=oa;function v2e(){return(0,j8.mapSerializer)((0,j8.struct)([["discriminator",(0,j8.array)((0,j8.u8)(),{size:8})],["metadata",(0,T_t.getMetadataArgsSerializer)()]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:[145,98,192,118,184,147,118,104]}))}UP.getMintV1InstructionDataSerializer=v2e;function R_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,x_t.findTreeConfigPda)(n,{merkleTree:(0,dU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,dU.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dU.getAccountMetasAndSigners)(i,"programId",t),c=v2e().serialize(s),u=0;return(0,E_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}UP.mintV1=R_t;var VP={};Object.defineProperty(VP,"__esModule",{value:!0});VP.redeem=VP.getRedeemInstructionDataSerializer=void 0;const C_t=Z,Hh=q,Xye=uc,xC=fs;function A2e(){return(0,Hh.mapSerializer)((0,Hh.struct)([["discriminator",(0,Hh.array)((0,Hh.u8)(),{size:8})],["root",(0,Hh.bytes)({size:32})],["dataHash",(0,Hh.bytes)({size:32})],["creatorHash",(0,Hh.bytes)({size:32})],["nonce",(0,Hh.u64)()],["index",(0,Hh.u32)()]],{description:"RedeemInstructionData"}),n=>({...n,discriminator:[184,12,86,149,70,196,97,225]}))}VP.getRedeemInstructionDataSerializer=A2e;function M_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!0,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},voucher:{index:4,isWritable:!0,value:e.voucher??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,Xye.findTreeConfigPda)(n,{merkleTree:(0,xC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,xC.expectSome)(r.leafOwner.value)),r.voucher.value||(r.voucher.value=(0,Xye.findVoucherPda)(n,{merkleTree:(0,xC.expectPublicKey)(r.merkleTree.value),nonce:(0,xC.expectSome)(s.nonce)})),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,xC.getAccountMetasAndSigners)(i,"programId",t),u=A2e().serialize(s),l=0;return(0,C_t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}VP.redeem=M_t;var qP={};Object.defineProperty(qP,"__esModule",{value:!0});qP.setAndVerifyCollection=qP.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const Qye=kk,fU=Z,jd=q,epe=ph,B_t=uc,Xk=fs,z_t=oa;function w2e(){return(0,jd.mapSerializer)((0,jd.struct)([["discriminator",(0,jd.array)((0,jd.u8)(),{size:8})],["root",(0,jd.bytes)({size:32})],["dataHash",(0,jd.bytes)({size:32})],["creatorHash",(0,jd.bytes)({size:32})],["nonce",(0,jd.u64)()],["index",(0,jd.u32)()],["metadata",(0,z_t.getMetadataArgsSerializer)()],["collection",(0,jd.publicKey)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:[235,242,121,216,158,234,180,234]}))}qP.getSetAndVerifyCollectionInstructionDataSerializer=w2e;function $_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,B_t.findTreeConfigPda)(n,{merkleTree:(0,Xk.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,Xk.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,Qye.findMetadataPda)(n,{mint:(0,Xk.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,Qye.findMasterEditionPda)(n,{mint:(0,Xk.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,fU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,fU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,epe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,epe.resolveCreatorHash)(n,r,s,t,!1)),s.collection||(s.collection=(0,Xk.expectPublicKey)(r.collectionMint.value)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,Xk.getAccountMetasAndSigners)(i,"programId",t),u=w2e().serialize(s),l=0;return(0,fU.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}qP.setAndVerifyCollection=$_t;var jP={};Object.defineProperty(jP,"__esModule",{value:!0});jP.setDecompressibleState=jP.getSetDecompressibleStateInstructionDataSerializer=void 0;const D_t=Z,H8=q,O_t=fs,K_t=oa;function I2e(){return(0,H8.mapSerializer)((0,H8.struct)([["discriminator",(0,H8.array)((0,H8.u8)(),{size:8})],["decompressableState",(0,K_t.getDecompressibleStateSerializer)()]],{description:"SetDecompressibleStateInstructionData"}),n=>({...n,discriminator:[82,104,152,6,149,111,100,13]}))}jP.getSetDecompressibleStateInstructionDataSerializer=I2e;function L_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},treeCreator:{index:1,isWritable:!1,value:e.treeCreator??null}},s={...e};r.treeCreator.value||(r.treeCreator.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,O_t.getAccountMetasAndSigners)(i,"programId",t),c=I2e().serialize(s),u=0;return(0,D_t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}jP.setDecompressibleState=L_t;var HP={};Object.defineProperty(HP,"__esModule",{value:!0});HP.setTreeDelegate=HP.getSetTreeDelegateInstructionDataSerializer=void 0;const W_t=Z,G8=q,N_t=uc,tpe=fs;function P2e(){return(0,G8.mapSerializer)((0,G8.struct)([["discriminator",(0,G8.array)((0,G8.u8)(),{size:8})]],{description:"SetTreeDelegateInstructionData"}),n=>({...n,discriminator:[253,118,66,37,190,49,154,102]}))}HP.getSetTreeDelegateInstructionDataSerializer=P2e;function F_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!0,value:e.treeConfig??null},treeCreator:{index:1,isWritable:!1,value:e.treeCreator??null},newTreeDelegate:{index:2,isWritable:!1,value:e.newTreeDelegate??null},merkleTree:{index:3,isWritable:!1,value:e.merkleTree??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null}};r.treeConfig.value||(r.treeConfig.value=(0,N_t.findTreeConfigPda)(n,{merkleTree:(0,tpe.expectPublicKey)(r.merkleTree.value)})),r.treeCreator.value||(r.treeCreator.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,tpe.getAccountMetasAndSigners)(s,"programId",t),a=P2e().serialize({}),c=0;return(0,W_t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}HP.setTreeDelegate=F_t;var GP={};Object.defineProperty(GP,"__esModule",{value:!0});GP.transfer=GP.getTransferInstructionDataSerializer=void 0;const U_t=Z,Gh=q,V_t=uc,hU=fs;function _2e(){return(0,Gh.mapSerializer)((0,Gh.struct)([["discriminator",(0,Gh.array)((0,Gh.u8)(),{size:8})],["root",(0,Gh.bytes)({size:32})],["dataHash",(0,Gh.bytes)({size:32})],["creatorHash",(0,Gh.bytes)({size:32})],["nonce",(0,Gh.u64)()],["index",(0,Gh.u32)()]],{description:"TransferInstructionData"}),n=>({...n,discriminator:[163,52,200,231,140,3,69,186]}))}GP.getTransferInstructionDataSerializer=_2e;function q_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},newLeafOwner:{index:3,isWritable:!1,value:e.newLeafOwner??null},merkleTree:{index:4,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:5,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:6,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,V_t.findTreeConfigPda)(n,{merkleTree:(0,hU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,hU.expectSome)(r.leafOwner.value)),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,hU.getAccountMetasAndSigners)(i,"programId",t),u=_2e().serialize(s),l=0;return(0,U_t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}GP.transfer=q_t;var YP={};Object.defineProperty(YP,"__esModule",{value:!0});YP.unverifyCollection=YP.getUnverifyCollectionInstructionDataSerializer=void 0;const rpe=kk,gU=Z,Yh=q,npe=ph,j_t=uc,TC=fs,H_t=oa;function E2e(){return(0,Yh.mapSerializer)((0,Yh.struct)([["discriminator",(0,Yh.array)((0,Yh.u8)(),{size:8})],["root",(0,Yh.bytes)({size:32})],["dataHash",(0,Yh.bytes)({size:32})],["creatorHash",(0,Yh.bytes)({size:32})],["nonce",(0,Yh.u64)()],["index",(0,Yh.u32)()],["metadata",(0,H_t.getMetadataArgsSerializer)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:[250,251,42,106,41,137,186,168]}))}YP.getUnverifyCollectionInstructionDataSerializer=E2e;function G_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,j_t.findTreeConfigPda)(n,{merkleTree:(0,TC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,TC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity.publicKey),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,rpe.findMetadataPda)(n,{mint:(0,TC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,rpe.findMasterEditionPda)(n,{mint:(0,TC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,gU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,gU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,npe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,npe.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,TC.getAccountMetasAndSigners)(i,"programId",t),u=E2e().serialize(s),l=0;return(0,gU.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}YP.unverifyCollection=G_t;var ZP={};Object.defineProperty(ZP,"__esModule",{value:!0});ZP.unverifyCreator=ZP.getUnverifyCreatorInstructionDataSerializer=void 0;const Y_t=Z,Zh=q,spe=ph,Z_t=uc,mU=fs,J_t=oa;function x2e(){return(0,Zh.mapSerializer)((0,Zh.struct)([["discriminator",(0,Zh.array)((0,Zh.u8)(),{size:8})],["root",(0,Zh.bytes)({size:32})],["dataHash",(0,Zh.bytes)({size:32})],["creatorHash",(0,Zh.bytes)({size:32})],["nonce",(0,Zh.u64)()],["index",(0,Zh.u32)()],["metadata",(0,J_t.getMetadataArgsSerializer)()]],{description:"UnverifyCreatorInstructionData"}),n=>({...n,discriminator:[107,178,57,39,105,115,112,152]}))}ZP.getUnverifyCreatorInstructionDataSerializer=x2e;function X_t(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},creator:{index:5,isWritable:!1,value:e.creator??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,Z_t.findTreeConfigPda)(n,{merkleTree:(0,mU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,mU.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,spe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,spe.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,mU.getAccountMetasAndSigners)(i,"programId",t),u=x2e().serialize(s),l=0;return(0,Y_t.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}ZP.unverifyCreator=X_t;var JP={};Object.defineProperty(JP,"__esModule",{value:!0});JP.updateMetadata=JP.getUpdateMetadataInstructionDataSerializer=void 0;const Q_t=kk,ipe=Z,w0=q,eEt=uc,Y8=fs,ope=oa;function T2e(){return(0,w0.mapSerializer)((0,w0.struct)([["discriminator",(0,w0.array)((0,w0.u8)(),{size:8})],["root",(0,w0.bytes)({size:32})],["nonce",(0,w0.u64)()],["index",(0,w0.u32)()],["currentMetadata",(0,ope.getMetadataArgsSerializer)()],["updateArgs",(0,ope.getUpdateArgsSerializer)()]],{description:"UpdateMetadataInstructionData"}),n=>({...n,discriminator:[170,182,43,239,97,78,225,186]}))}JP.getUpdateMetadataInstructionDataSerializer=T2e;function tEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},authority:{index:1,isWritable:!1,value:e.authority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:3,isWritable:!1,value:e.collectionMetadata??null},collectionAuthorityRecordPda:{index:4,isWritable:!1,value:e.collectionAuthorityRecordPda??null},leafOwner:{index:5,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:6,isWritable:!1,value:e.leafDelegate??null},payer:{index:7,isWritable:!1,value:e.payer??null},merkleTree:{index:8,isWritable:!0,value:e.merkleTree??null},logWrapper:{index:9,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:10,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:11,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,eEt.findTreeConfigPda)(n,{merkleTree:(0,Y8.expectPublicKey)(r.merkleTree.value)})),r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||r.collectionMint.value&&(r.collectionMetadata.value=(0,Q_t.findMetadataPda)(n,{mint:(0,Y8.expectPublicKey)(r.collectionMint.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,Y8.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,ipe.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,Y8.getAccountMetasAndSigners)(i,"programId",t),u=T2e().serialize(s),l=0;return(0,ipe.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}JP.updateMetadata=tEt;var XP={};Object.defineProperty(XP,"__esModule",{value:!0});XP.verifyCollection=XP.getVerifyCollectionInstructionDataSerializer=void 0;const ape=kk,yU=Z,Jh=q,cpe=ph,rEt=uc,RC=fs,nEt=oa;function R2e(){return(0,Jh.mapSerializer)((0,Jh.struct)([["discriminator",(0,Jh.array)((0,Jh.u8)(),{size:8})],["root",(0,Jh.bytes)({size:32})],["dataHash",(0,Jh.bytes)({size:32})],["creatorHash",(0,Jh.bytes)({size:32})],["nonce",(0,Jh.u64)()],["index",(0,Jh.u32)()],["metadata",(0,nEt.getMetadataArgsSerializer)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:[56,113,101,253,79,55,122,169]}))}XP.getVerifyCollectionInstructionDataSerializer=R2e;function sEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},treeCreatorOrDelegate:{index:5,isWritable:!1,value:e.treeCreatorOrDelegate??null},collectionAuthority:{index:6,isWritable:!1,value:e.collectionAuthority??null},collectionAuthorityRecordPda:{index:7,isWritable:!1,value:e.collectionAuthorityRecordPda??null},collectionMint:{index:8,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:9,isWritable:!0,value:e.collectionMetadata??null},collectionEdition:{index:10,isWritable:!1,value:e.collectionEdition??null},bubblegumSigner:{index:11,isWritable:!1,value:e.bubblegumSigner??null},logWrapper:{index:12,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:13,isWritable:!1,value:e.compressionProgram??null},tokenMetadataProgram:{index:14,isWritable:!1,value:e.tokenMetadataProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,rEt.findTreeConfigPda)(n,{merkleTree:(0,RC.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,RC.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.treeCreatorOrDelegate.value||(r.treeCreatorOrDelegate.value=n.identity.publicKey),r.collectionAuthority.value||(r.collectionAuthority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,ape.findMetadataPda)(n,{mint:(0,RC.expectPublicKey)(r.collectionMint.value)})),r.collectionEdition.value||(r.collectionEdition.value=(0,ape.findMasterEditionPda)(n,{mint:(0,RC.expectPublicKey)(r.collectionMint.value)})),r.bubblegumSigner.value||(r.bubblegumSigner.value=(0,yU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.tokenMetadataProgram.value||(r.tokenMetadataProgram.value=(0,yU.publicKey)("BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,cpe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,cpe.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,RC.getAccountMetasAndSigners)(i,"programId",t),u=R2e().serialize(s),l=0;return(0,yU.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}XP.verifyCollection=sEt;var QP={};Object.defineProperty(QP,"__esModule",{value:!0});QP.verifyCreator=QP.getVerifyCreatorInstructionDataSerializer=void 0;const iEt=Z,Xh=q,upe=ph,oEt=uc,pU=fs,aEt=oa;function C2e(){return(0,Xh.mapSerializer)((0,Xh.struct)([["discriminator",(0,Xh.array)((0,Xh.u8)(),{size:8})],["root",(0,Xh.bytes)({size:32})],["dataHash",(0,Xh.bytes)({size:32})],["creatorHash",(0,Xh.bytes)({size:32})],["nonce",(0,Xh.u64)()],["index",(0,Xh.u32)()],["metadata",(0,aEt.getMetadataArgsSerializer)()]],{description:"VerifyCreatorInstructionData"}),n=>({...n,discriminator:[52,17,96,132,71,4,85,194]}))}QP.getVerifyCreatorInstructionDataSerializer=C2e;function cEt(n,e){const t=n.programs.getPublicKey("mplBubblegum","BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY"),r={treeConfig:{index:0,isWritable:!1,value:e.treeConfig??null},leafOwner:{index:1,isWritable:!1,value:e.leafOwner??null},leafDelegate:{index:2,isWritable:!1,value:e.leafDelegate??null},merkleTree:{index:3,isWritable:!0,value:e.merkleTree??null},payer:{index:4,isWritable:!1,value:e.payer??null},creator:{index:5,isWritable:!1,value:e.creator??null},logWrapper:{index:6,isWritable:!1,value:e.logWrapper??null},compressionProgram:{index:7,isWritable:!1,value:e.compressionProgram??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null}},s={...e};r.treeConfig.value||(r.treeConfig.value=(0,oEt.findTreeConfigPda)(n,{merkleTree:(0,pU.expectPublicKey)(r.merkleTree.value)})),r.leafDelegate.value||(r.leafDelegate.value=(0,pU.expectSome)(r.leafOwner.value)),r.payer.value||(r.payer.value=n.payer),r.logWrapper.value||(r.logWrapper.value=n.programs.getPublicKey("splNoop","noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV"),r.logWrapper.isWritable=!1),r.compressionProgram.value||(r.compressionProgram.value=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r.compressionProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.dataHash||(s.dataHash=(0,upe.resolveDataHash)(n,r,s,t,!1)),s.creatorHash||(s.creatorHash=(0,upe.resolveCreatorHash)(n,r,s,t,!1)),s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,pU.getAccountMetasAndSigners)(i,"programId",t),u=C2e().serialize(s),l=0;return(0,iEt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}QP.verifyCreator=cEt;var e_={};Object.defineProperty(e_,"__esModule",{value:!0});e_.verifyLeaf=e_.getVerifyLeafInstructionDataSerializer=void 0;const uEt=Z,I0=q,lEt=fs;function M2e(){return(0,I0.mapSerializer)((0,I0.struct)([["discriminator",(0,I0.array)((0,I0.u8)(),{size:8})],["root",(0,I0.bytes)({size:32})],["leaf",(0,I0.bytes)({size:32})],["index",(0,I0.u32)()]],{description:"VerifyLeafInstructionData"}),n=>({...n,discriminator:[124,220,22,223,104,10,250,224]}))}e_.getVerifyLeafInstructionDataSerializer=M2e;function dEt(n,e){const t=n.programs.getPublicKey("splAccountCompression","cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK"),r={merkleTree:{index:0,isWritable:!1,value:e.merkleTree??null}},s={...e};s.proof||(s.proof=[]);const i=Object.values(r).sort((d,y)=>d.index-y.index),o=s.proof.map((d,y)=>({index:y,value:d,isWritable:!1}));i.push(...o);const[a,c]=(0,lEt.getAccountMetasAndSigners)(i,"programId",t),u=M2e().serialize(s),l=0;return(0,uEt.transactionBuilder)([{instruction:{keys:a,programId:t,data:u},signers:c,bytesCreatedOnChain:l}])}e_.verifyLeaf=dEt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(yw,n),t(pw,n),t(bw,n),t(Sw,n),t(NP,n),t(FP,n),t(UP,n),t(VP,n),t(qP,n),t(jP,n),t(HP,n),t(GP,n),t(YP,n),t(ZP,n),t(JP,n),t(XP,n),t(QP,n),t(e_,n)})(gxe);var B2e={},z2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplBubblegumProgramId=n.getMplBubblegumProgram=n.createMplBubblegumProgram=n.MPL_BUBBLEGUM_PROGRAM_ID=void 0;const e=Tz;n.MPL_BUBBLEGUM_PROGRAM_ID="BGUMAp9Gq7iTEuizy4pqaxsTyUCBK68MDfK752saRPUY";function t(){return{name:"mplBubblegum",publicKey:n.MPL_BUBBLEGUM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplBubblegumErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplBubblegumErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplBubblegumProgram=t;function r(i,o){return i.programs.get("mplBubblegum",o)}n.getMplBubblegumProgram=r;function s(i,o){return i.programs.getPublicKey("mplBubblegum",n.MPL_BUBBLEGUM_PROGRAM_ID,o)}n.getMplBubblegumProgramId=s})(z2e);var $2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAccountCompressionProgramId=n.getSplAccountCompressionProgram=n.createSplAccountCompressionProgram=n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID=void 0;const e=Tz;n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID="cmtDvXumGCrqC1Age74AVPhSRVXJMd8PJS91L8KbNCK";function t(){return{name:"splAccountCompression",publicKey:n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAccountCompressionErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAccountCompressionErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAccountCompressionProgram=t;function r(i,o){return i.programs.get("splAccountCompression",o)}n.getSplAccountCompressionProgram=r;function s(i,o){return i.programs.getPublicKey("splAccountCompression",n.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,o)}n.getSplAccountCompressionProgramId=s})($2e);var D2e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplNoopProgramId=n.getSplNoopProgram=n.createSplNoopProgram=n.SPL_NOOP_PROGRAM_ID=void 0;const e=Tz;n.SPL_NOOP_PROGRAM_ID="noopb9bkMVfRPU8AsbpTUg8AQkHtKwMYZiFUjNRtMmV";function t(){return{name:"splNoop",publicKey:n.SPL_NOOP_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplNoopErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplNoopErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplNoopProgram=t;function r(i,o){return i.programs.get("splNoop",o)}n.getSplNoopProgram=r;function s(i,o){return i.programs.getPublicKey("splNoop",n.SPL_NOOP_PROGRAM_ID,o)}n.getSplNoopProgramId=s})(D2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(z2e,n),t($2e,n),t(D2e,n)})(B2e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(uc,n),t(Tz,n),t(gxe,n),t(B2e,n),t(fs,n),t(oa,n)})(lm);Object.defineProperty(v6,"__esModule",{value:!0});v6.createTree=void 0;const fEt=G0e,hEt=Z,lpe=lm,gEt=ph,mEt=async(n,e)=>{const t=e.merkleTreeSize??(0,gEt.getMerkleTreeSize)(e.maxDepth,e.maxBufferSize,e.canopyDepth),r=await n.rpc.getRent(t);return(0,hEt.transactionBuilder)().add((0,fEt.createAccount)(n,{payer:e.payer??n.payer,newAccount:e.merkleTree,lamports:r,space:t,programId:n.programs.getPublicKey("splAccountCompression",lpe.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID)})).add((0,lpe.createTreeConfig)(n,{...e,merkleTree:e.merkleTree.publicKey}))};v6.createTree=mEt;var cL={};Object.defineProperty(cL,"__esModule",{value:!0});cL.ReadApiError=void 0;class yEt extends Error{constructor(){super(...arguments),this.name="ReadApiError"}}cL.ReadApiError=yEt;var uL={};Object.defineProperty(uL,"__esModule",{value:!0});uL.getAssetWithProof=void 0;const Qh=Z,bU=lm,pEt=async(n,e,t)=>{var c,u,l,d,y,h,m,f,g;const[r,s]=await Promise.all([n.rpc.getAsset(e),n.rpc.getAssetProof(e)]);let{proof:i}=s;if(t!=null&&t.truncateCanopy){const b=await(0,bU.fetchMerkleTree)(n,s.tree_id),S=Math.log2(b.canopy.length+2)-1;i=s.proof.slice(0,S===0?void 0:-S)}const o=(c=(r.grouping??[]).find(b=>b.group_key==="collection"))==null?void 0:c.group_value,a={name:((l=(u=r.content)==null?void 0:u.metadata)==null?void 0:l.name)??"",symbol:((y=(d=r.content)==null?void 0:d.metadata)==null?void 0:y.symbol)??"",uri:(h=r.content)==null?void 0:h.json_uri,sellerFeeBasisPoints:(m=r.royalty)==null?void 0:m.basis_points,primarySaleHappened:(f=r.royalty)==null?void 0:f.primary_sale_happened,isMutable:r.mutable,editionNonce:(0,Qh.wrapNullable)((g=r.supply)==null?void 0:g.edition_nonce),tokenStandard:(0,Qh.some)(bU.TokenStandard.NonFungible),collection:o?(0,Qh.some)({key:(0,Qh.publicKey)(o),verified:!0}):(0,Qh.none)(),uses:(0,Qh.none)(),tokenProgramVersion:bU.TokenProgramVersion.Original,creators:r.creators};return{leafOwner:r.ownership.owner,leafDelegate:r.ownership.delegate?r.ownership.delegate:r.ownership.owner,merkleTree:s.tree_id,root:(0,Qh.publicKeyBytes)(s.root),dataHash:(0,Qh.publicKeyBytes)(r.compression.data_hash),creatorHash:(0,Qh.publicKeyBytes)(r.compression.creator_hash),nonce:r.compression.leaf_id,index:s.node_index-2**s.proof.length,proof:i,metadata:a,rpcAsset:r,rpcAssetProof:s}};uL.getAssetWithProof=pEt;var O2e={},K2e={},Mz={},bEt=function(e){for(var t=new Xe.Buffer(e.length),r=0,s=e.length-1;r<=s;++r,--s)t[r]=e[s],t[s]=e[r];return t},UT={exports:{}},_n={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(K,function(){var t=t||function(r,s){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof K<"u"&&K.crypto&&(i=K.crypto),!i&&typeof YDe=="function")try{i=require("crypto")}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function S(){}return function(p){var I;return S.prototype=p,I=new S,S.prototype=null,I}}(),c={},u=c.lib={},l=u.Base=function(){return{extend:function(S){var p=a(this);return S&&p.mixIn(S),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var S=this.extend();return S.init.apply(S,arguments),S},init:function(){},mixIn:function(S){for(var p in S)S.hasOwnProperty(p)&&(this[p]=S[p]);S.hasOwnProperty("toString")&&(this.toString=S.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=l.extend({init:function(S,p){S=this.words=S||[],p!=s?this.sigBytes=p:this.sigBytes=S.length*4},toString:function(S){return(S||h).stringify(this)},concat:function(S){var p=this.words,I=S.words,w=this.sigBytes,A=S.sigBytes;if(this.clamp(),w%4)for(var _=0;_<A;_++){var E=I[_>>>2]>>>24-_%4*8&255;p[w+_>>>2]|=E<<24-(w+_)%4*8}else for(var M=0;M<A;M+=4)p[w+M>>>2]=I[M>>>2];return this.sigBytes+=A,this},clamp:function(){var S=this.words,p=this.sigBytes;S[p>>>2]&=4294967295<<32-p%4*8,S.length=r.ceil(p/4)},clone:function(){var S=l.clone.call(this);return S.words=this.words.slice(0),S},random:function(S){for(var p=[],I=0;I<S;I+=4)p.push(o());return new d.init(p,S)}}),y=c.enc={},h=y.Hex={stringify:function(S){for(var p=S.words,I=S.sigBytes,w=[],A=0;A<I;A++){var _=p[A>>>2]>>>24-A%4*8&255;w.push((_>>>4).toString(16)),w.push((_&15).toString(16))}return w.join("")},parse:function(S){for(var p=S.length,I=[],w=0;w<p;w+=2)I[w>>>3]|=parseInt(S.substr(w,2),16)<<24-w%8*4;return new d.init(I,p/2)}},m=y.Latin1={stringify:function(S){for(var p=S.words,I=S.sigBytes,w=[],A=0;A<I;A++){var _=p[A>>>2]>>>24-A%4*8&255;w.push(String.fromCharCode(_))}return w.join("")},parse:function(S){for(var p=S.length,I=[],w=0;w<p;w++)I[w>>>2]|=(S.charCodeAt(w)&255)<<24-w%4*8;return new d.init(I,p)}},f=y.Utf8={stringify:function(S){try{return decodeURIComponent(escape(m.stringify(S)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(S){return m.parse(unescape(encodeURIComponent(S)))}},g=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(S){typeof S=="string"&&(S=f.parse(S)),this._data.concat(S),this._nDataBytes+=S.sigBytes},_process:function(S){var p,I=this._data,w=I.words,A=I.sigBytes,_=this.blockSize,E=_*4,M=A/E;S?M=r.ceil(M):M=r.max((M|0)-this._minBufferSize,0);var P=M*_,R=r.min(P*4,A);if(P){for(var $=0;$<P;$+=_)this._doProcessBlock(w,$);p=w.splice(0,P),I.sigBytes-=R}return new d.init(p,R)},clone:function(){var S=l.clone.call(this);return S._data=this._data.clone(),S},_minBufferSize:0});u.Hasher=g.extend({cfg:l.extend(),init:function(S){this.cfg=this.cfg.extend(S),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(S){return this._append(S),this._process(),this},finalize:function(S){S&&this._append(S);var p=this._doFinalize();return p},blockSize:16,_createHelper:function(S){return function(p,I){return new S.init(I).finalize(p)}},_createHmacHelper:function(S){return function(p,I){return new b.HMAC.init(S,I).finalize(p)}}});var b=c.algo={};return c}(Math);return t})})(_n);(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[],l=[];(function(){function h(b){for(var S=r.sqrt(b),p=2;p<=S;p++)if(!(b%p))return!1;return!0}function m(b){return(b-(b|0))*4294967296|0}for(var f=2,g=0;g<64;)h(f)&&(g<8&&(u[g]=m(r.pow(f,1/2))),l[g]=m(r.pow(f,1/3)),g++),f++})();var d=[],y=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(h,m){for(var f=this._hash.words,g=f[0],b=f[1],S=f[2],p=f[3],I=f[4],w=f[5],A=f[6],_=f[7],E=0;E<64;E++){if(E<16)d[E]=h[m+E]|0;else{var M=d[E-15],P=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,R=d[E-2],$=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;d[E]=P+d[E-7]+$+d[E-16]}var z=I&w^~I&A,T=g&b^g&S^b&S,v=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),k=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),x=_+k+z+l[E]+d[E],C=v+T;_=A,A=w,w=I,I=p+x|0,p=S,S=b,b=g,g=x+C|0}f[0]=f[0]+g|0,f[1]=f[1]+b|0,f[2]=f[2]+S|0,f[3]=f[3]+p|0,f[4]=f[4]+I|0,f[5]=f[5]+w|0,f[6]=f[6]+A|0,f[7]=f[7]+_|0},_doFinalize:function(){var h=this._data,m=h.words,f=this._nDataBytes*8,g=h.sigBytes*8;return m[g>>>5]|=128<<24-g%32,m[(g+64>>>9<<4)+14]=r.floor(f/4294967296),m[(g+64>>>9<<4)+15]=f,h.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var h=a.clone.call(this);return h._hash=this._hash.clone(),h}});s.SHA256=a._createHelper(y),s.HmacSHA256=a._createHmacHelper(y)}(Math),t.SHA256})})(UT);var Tne={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(K,function(){function t(o,a){var c=a?"\u2514":"\u251C";return o?c+="\u2500 ":c+="\u2500\u2500\u2510",c}function r(o,a){var c=[];for(var u in o)!o.hasOwnProperty(u)||a&&typeof o[u]=="function"||c.push(u);return c}function s(o,a,c,u,l,d,y){var h="",m=0,f,g,b=u.slice(0);if(b.push([a,c])&&u.length>0&&(u.forEach(function(p,I){I>0&&(h+=(p[1]?" ":"\u2502")+"  "),!g&&p[0]===a&&(g=!0)}),h+=t(o,c)+o,l&&(typeof a!="object"||a instanceof Date)&&(h+=": "+a),g&&(h+=" (circular ref.)"),y(h)),!g&&typeof a=="object"){var S=r(a,d);S.forEach(function(p){f=++m===S.length,s(p,a[p],f,b,l,d,y)})}}var i={};return i.asLines=function(o,a,c,u){var l=typeof c!="function"?c:!1;s(".",o,!1,[],a,l,u||c)},i.asTree=function(o,a,c){var u="";return s(".",o,!1,[],a,c,function(l){u+=l+`
`}),u},i})})(Tne);var Fb={},L2e={exports:{}},Bz={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.Base,a=i.WordArray,c=s.x64={};c.Word=o.extend({init:function(u,l){this.high=u,this.low=l}}),c.WordArray=o.extend({init:function(u,l){u=this.words=u||[],l!=r?this.sigBytes=l:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,l=u.length,d=[],y=0;y<l;y++){var h=u[y];d.push(h.high),d.push(h.low)}return a.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),l=u.words=this.words.slice(0),d=l.length,y=0;y<d;y++)l[y]=l[y].clone();return u}})}(),t})})(Bz);var W2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){if(typeof ArrayBuffer=="function"){var r=t,s=r.lib,i=s.WordArray,o=i.init,a=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,l=[],d=0;d<u;d++)l[d>>>2]|=c[d]<<24-d%4*8;o.call(this,l,u)}else o.apply(this,arguments)};a.prototype=i}}(),t.lib.WordArray})})(W2e);var N2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],y=0;y<l;y+=2){var h=u[y>>>2]>>>16-y%4*8&65535;d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return i.create(l,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,l=c.sigBytes,d=[],y=0;y<l;y+=2){var h=a(u[y>>>2]>>>16-y%4*8&65535);d.push(String.fromCharCode(h))}return d.join("")},parse:function(c){for(var u=c.length,l=[],d=0;d<u;d++)l[d>>>1]|=a(c.charCodeAt(d)<<16-d%2*16);return i.create(l,u*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),t.enc.Utf16})})(N2e);var Ub={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Base64={stringify:function(c){var u=c.words,l=c.sigBytes,d=this._map;c.clamp();for(var y=[],h=0;h<l;h+=3)for(var m=u[h>>>2]>>>24-h%4*8&255,f=u[h+1>>>2]>>>24-(h+1)%4*8&255,g=u[h+2>>>2]>>>24-(h+2)%4*8&255,b=m<<16|f<<8|g,S=0;S<4&&h+S*.75<l;S++)y.push(d.charAt(b>>>6*(3-S)&63));var p=d.charAt(64);if(p)for(;y.length%4;)y.push(p);return y.join("")},parse:function(c){var u=c.length,l=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var y=0;y<l.length;y++)d[l.charCodeAt(y)]=y}var h=l.charAt(64);if(h){var m=c.indexOf(h);m!==-1&&(u=m)}return a(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,u,l){for(var d=[],y=0,h=0;h<u;h++)if(h%4){var m=l[c.charCodeAt(h-1)]<<h%4*2,f=l[c.charCodeAt(h)]>>>6-h%4*2,g=m|f;d[y>>>2]|=g<<24-y%4*8,y++}return i.create(d,y)}}(),t.enc.Base64})})(Ub);var F2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var l=c.words,d=c.sigBytes,y=u?this._safe_map:this._map;c.clamp();for(var h=[],m=0;m<d;m+=3)for(var f=l[m>>>2]>>>24-m%4*8&255,g=l[m+1>>>2]>>>24-(m+1)%4*8&255,b=l[m+2>>>2]>>>24-(m+2)%4*8&255,S=f<<16|g<<8|b,p=0;p<4&&m+p*.75<d;p++)h.push(y.charAt(S>>>6*(3-p)&63));var I=y.charAt(64);if(I)for(;h.length%4;)h.push(I);return h.join("")},parse:function(c,u){u===void 0&&(u=!0);var l=c.length,d=u?this._safe_map:this._map,y=this._reverseMap;if(!y){y=this._reverseMap=[];for(var h=0;h<d.length;h++)y[d.charCodeAt(h)]=h}var m=d.charAt(64);if(m){var f=c.indexOf(m);f!==-1&&(l=f)}return a(c,l,y)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,u,l){for(var d=[],y=0,h=0;h<u;h++)if(h%4){var m=l[c.charCodeAt(h-1)]<<h%4*2,f=l[c.charCodeAt(h)]>>>6-h%4*2,g=m|f;d[y>>>2]|=g<<24-y%4*8,y++}return i.create(d,y)}}(),t.enc.Base64url})})(F2e);var Vb={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=[];(function(){for(var f=0;f<64;f++)u[f]=r.abs(r.sin(f+1))*4294967296|0})();var l=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(f,g){for(var b=0;b<16;b++){var S=g+b,p=f[S];f[S]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var I=this._hash.words,w=f[g+0],A=f[g+1],_=f[g+2],E=f[g+3],M=f[g+4],P=f[g+5],R=f[g+6],$=f[g+7],z=f[g+8],T=f[g+9],v=f[g+10],k=f[g+11],x=f[g+12],C=f[g+13],B=f[g+14],O=f[g+15],D=I[0],W=I[1],L=I[2],N=I[3];D=d(D,W,L,N,w,7,u[0]),N=d(N,D,W,L,A,12,u[1]),L=d(L,N,D,W,_,17,u[2]),W=d(W,L,N,D,E,22,u[3]),D=d(D,W,L,N,M,7,u[4]),N=d(N,D,W,L,P,12,u[5]),L=d(L,N,D,W,R,17,u[6]),W=d(W,L,N,D,$,22,u[7]),D=d(D,W,L,N,z,7,u[8]),N=d(N,D,W,L,T,12,u[9]),L=d(L,N,D,W,v,17,u[10]),W=d(W,L,N,D,k,22,u[11]),D=d(D,W,L,N,x,7,u[12]),N=d(N,D,W,L,C,12,u[13]),L=d(L,N,D,W,B,17,u[14]),W=d(W,L,N,D,O,22,u[15]),D=y(D,W,L,N,A,5,u[16]),N=y(N,D,W,L,R,9,u[17]),L=y(L,N,D,W,k,14,u[18]),W=y(W,L,N,D,w,20,u[19]),D=y(D,W,L,N,P,5,u[20]),N=y(N,D,W,L,v,9,u[21]),L=y(L,N,D,W,O,14,u[22]),W=y(W,L,N,D,M,20,u[23]),D=y(D,W,L,N,T,5,u[24]),N=y(N,D,W,L,B,9,u[25]),L=y(L,N,D,W,E,14,u[26]),W=y(W,L,N,D,z,20,u[27]),D=y(D,W,L,N,C,5,u[28]),N=y(N,D,W,L,_,9,u[29]),L=y(L,N,D,W,$,14,u[30]),W=y(W,L,N,D,x,20,u[31]),D=h(D,W,L,N,P,4,u[32]),N=h(N,D,W,L,z,11,u[33]),L=h(L,N,D,W,k,16,u[34]),W=h(W,L,N,D,B,23,u[35]),D=h(D,W,L,N,A,4,u[36]),N=h(N,D,W,L,M,11,u[37]),L=h(L,N,D,W,$,16,u[38]),W=h(W,L,N,D,v,23,u[39]),D=h(D,W,L,N,C,4,u[40]),N=h(N,D,W,L,w,11,u[41]),L=h(L,N,D,W,E,16,u[42]),W=h(W,L,N,D,R,23,u[43]),D=h(D,W,L,N,T,4,u[44]),N=h(N,D,W,L,x,11,u[45]),L=h(L,N,D,W,O,16,u[46]),W=h(W,L,N,D,_,23,u[47]),D=m(D,W,L,N,w,6,u[48]),N=m(N,D,W,L,$,10,u[49]),L=m(L,N,D,W,B,15,u[50]),W=m(W,L,N,D,P,21,u[51]),D=m(D,W,L,N,x,6,u[52]),N=m(N,D,W,L,E,10,u[53]),L=m(L,N,D,W,v,15,u[54]),W=m(W,L,N,D,A,21,u[55]),D=m(D,W,L,N,z,6,u[56]),N=m(N,D,W,L,O,10,u[57]),L=m(L,N,D,W,R,15,u[58]),W=m(W,L,N,D,C,21,u[59]),D=m(D,W,L,N,M,6,u[60]),N=m(N,D,W,L,k,10,u[61]),L=m(L,N,D,W,_,15,u[62]),W=m(W,L,N,D,T,21,u[63]),I[0]=I[0]+D|0,I[1]=I[1]+W|0,I[2]=I[2]+L|0,I[3]=I[3]+N|0},_doFinalize:function(){var f=this._data,g=f.words,b=this._nDataBytes*8,S=f.sigBytes*8;g[S>>>5]|=128<<24-S%32;var p=r.floor(b/4294967296),I=b;g[(S+64>>>9<<4)+15]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,g[(S+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,f.sigBytes=(g.length+1)*4,this._process();for(var w=this._hash,A=w.words,_=0;_<4;_++){var E=A[_];A[_]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}return w},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});function d(f,g,b,S,p,I,w){var A=f+(g&b|~g&S)+p+w;return(A<<I|A>>>32-I)+g}function y(f,g,b,S,p,I,w){var A=f+(g&S|b&~S)+p+w;return(A<<I|A>>>32-I)+g}function h(f,g,b,S,p,I,w){var A=f+(g^b^S)+p+w;return(A<<I|A>>>32-I)+g}function m(f,g,b,S,p,I,w){var A=f+(b^(g|~S))+p+w;return(A<<I|A>>>32-I)+g}s.MD5=a._createHelper(l),s.HmacMD5=a._createHmacHelper(l)}(Math),t.MD5})})(Vb);var Rne={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=s.Hasher,a=r.algo,c=[],u=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(l,d){for(var y=this._hash.words,h=y[0],m=y[1],f=y[2],g=y[3],b=y[4],S=0;S<80;S++){if(S<16)c[S]=l[d+S]|0;else{var p=c[S-3]^c[S-8]^c[S-14]^c[S-16];c[S]=p<<1|p>>>31}var I=(h<<5|h>>>27)+b+c[S];S<20?I+=(m&f|~m&g)+1518500249:S<40?I+=(m^f^g)+1859775393:S<60?I+=(m&f|m&g|f&g)-1894007588:I+=(m^f^g)-899497514,b=g,g=f,f=m<<30|m>>>2,m=h,h=I}y[0]=y[0]+h|0,y[1]=y[1]+m|0,y[2]=y[2]+f|0,y[3]=y[3]+g|0,y[4]=y[4]+b|0},_doFinalize:function(){var l=this._data,d=l.words,y=this._nDataBytes*8,h=l.sigBytes*8;return d[h>>>5]|=128<<24-h%32,d[(h+64>>>9<<4)+14]=Math.floor(y/4294967296),d[(h+64>>>9<<4)+15]=y,l.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var l=o.clone.call(this);return l._hash=this._hash.clone(),l}});r.SHA1=o._createHelper(u),r.HmacSHA1=o._createHmacHelper(u)}(),t.SHA1})})(Rne);var U2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,UT.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=r.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=a._doFinalize.call(this);return u.sigBytes-=4,u}});r.SHA224=a._createHelper(c),r.HmacSHA224=a._createHmacHelper(c)}(),t.SHA224})})(U2e);var Cne={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Bz.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Hasher,o=r.x64,a=o.Word,c=o.WordArray,u=r.algo;function l(){return a.create.apply(a,arguments)}var d=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],y=[];(function(){for(var m=0;m<80;m++)y[m]=l()})();var h=u.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(m,f){for(var g=this._hash.words,b=g[0],S=g[1],p=g[2],I=g[3],w=g[4],A=g[5],_=g[6],E=g[7],M=b.high,P=b.low,R=S.high,$=S.low,z=p.high,T=p.low,v=I.high,k=I.low,x=w.high,C=w.low,B=A.high,O=A.low,D=_.high,W=_.low,L=E.high,N=E.low,H=M,J=P,Q=R,Y=$,X=z,re=T,se=v,ee=k,ne=x,ve=C,Pe=B,Le=O,We=D,Ft=W,Lt=L,Dt=N,et=0;et<80;et++){var Ue,Wt,sr=y[et];if(et<16)Wt=sr.high=m[f+et*2]|0,Ue=sr.low=m[f+et*2+1]|0;else{var rr=y[et-15],pr=rr.high,wr=rr.low,ls=(pr>>>1|wr<<31)^(pr>>>8|wr<<24)^pr>>>7,gn=(wr>>>1|pr<<31)^(wr>>>8|pr<<24)^(wr>>>7|pr<<25),ds=y[et-2],ol=ds.high,Gb=ds.low,z5=(ol>>>19|Gb<<13)^(ol<<3|Gb>>>29)^ol>>>6,aue=(Gb>>>19|ol<<13)^(Gb<<3|ol>>>29)^(Gb>>>6|ol<<26),cue=y[et-7],MDe=cue.high,BDe=cue.low,uue=y[et-16],zDe=uue.high,lue=uue.low;Ue=gn+BDe,Wt=ls+MDe+(Ue>>>0<gn>>>0?1:0),Ue=Ue+aue,Wt=Wt+z5+(Ue>>>0<aue>>>0?1:0),Ue=Ue+lue,Wt=Wt+zDe+(Ue>>>0<lue>>>0?1:0),sr.high=Wt,sr.low=Ue}var $De=ne&Pe^~ne&We,due=ve&Le^~ve&Ft,DDe=H&Q^H&X^Q&X,ODe=J&Y^J&re^Y&re,KDe=(H>>>28|J<<4)^(H<<30|J>>>2)^(H<<25|J>>>7),fue=(J>>>28|H<<4)^(J<<30|H>>>2)^(J<<25|H>>>7),LDe=(ne>>>14|ve<<18)^(ne>>>18|ve<<14)^(ne<<23|ve>>>9),WDe=(ve>>>14|ne<<18)^(ve>>>18|ne<<14)^(ve<<23|ne>>>9),hue=d[et],NDe=hue.high,gue=hue.low,Pu=Dt+WDe,Sm=Lt+LDe+(Pu>>>0<Dt>>>0?1:0),Pu=Pu+due,Sm=Sm+$De+(Pu>>>0<due>>>0?1:0),Pu=Pu+gue,Sm=Sm+NDe+(Pu>>>0<gue>>>0?1:0),Pu=Pu+Ue,Sm=Sm+Wt+(Pu>>>0<Ue>>>0?1:0),mue=fue+ODe,FDe=KDe+DDe+(mue>>>0<fue>>>0?1:0);Lt=We,Dt=Ft,We=Pe,Ft=Le,Pe=ne,Le=ve,ve=ee+Pu|0,ne=se+Sm+(ve>>>0<ee>>>0?1:0)|0,se=X,ee=re,X=Q,re=Y,Q=H,Y=J,J=Pu+mue|0,H=Sm+FDe+(J>>>0<Pu>>>0?1:0)|0}P=b.low=P+J,b.high=M+H+(P>>>0<J>>>0?1:0),$=S.low=$+Y,S.high=R+Q+($>>>0<Y>>>0?1:0),T=p.low=T+re,p.high=z+X+(T>>>0<re>>>0?1:0),k=I.low=k+ee,I.high=v+se+(k>>>0<ee>>>0?1:0),C=w.low=C+ve,w.high=x+ne+(C>>>0<ve>>>0?1:0),O=A.low=O+Le,A.high=B+Pe+(O>>>0<Le>>>0?1:0),W=_.low=W+Ft,_.high=D+We+(W>>>0<Ft>>>0?1:0),N=E.low=N+Dt,E.high=L+Lt+(N>>>0<Dt>>>0?1:0)},_doFinalize:function(){var m=this._data,f=m.words,g=this._nDataBytes*8,b=m.sigBytes*8;f[b>>>5]|=128<<24-b%32,f[(b+128>>>10<<5)+30]=Math.floor(g/4294967296),f[(b+128>>>10<<5)+31]=g,m.sigBytes=f.length*4,this._process();var S=this._hash.toX32();return S},clone:function(){var m=i.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});r.SHA512=i._createHelper(h),r.HmacSHA512=i._createHmacHelper(h)}(),t.SHA512})})(Cne);var V2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Bz.exports,Cne.exports)})(K,function(t){return function(){var r=t,s=r.x64,i=s.Word,o=s.WordArray,a=r.algo,c=a.SHA512,u=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var l=c._doFinalize.call(this);return l.sigBytes-=16,l}});r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u)}(),t.SHA384})})(V2e);var q2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Bz.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.x64,u=c.Word,l=s.algo,d=[],y=[],h=[];(function(){for(var g=1,b=0,S=0;S<24;S++){d[g+5*b]=(S+1)*(S+2)/2%64;var p=b%5,I=(2*g+3*b)%5;g=p,b=I}for(var g=0;g<5;g++)for(var b=0;b<5;b++)y[g+5*b]=b+(2*g+3*b)%5*5;for(var w=1,A=0;A<24;A++){for(var _=0,E=0,M=0;M<7;M++){if(w&1){var P=(1<<M)-1;P<32?E^=1<<P:_^=1<<P-32}w&128?w=w<<1^113:w<<=1}h[A]=u.create(_,E)}})();var m=[];(function(){for(var g=0;g<25;g++)m[g]=u.create()})();var f=l.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],b=0;b<25;b++)g[b]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,b){for(var S=this._state,p=this.blockSize/2,I=0;I<p;I++){var w=g[b+2*I],A=g[b+2*I+1];w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360;var _=S[I];_.high^=A,_.low^=w}for(var E=0;E<24;E++){for(var M=0;M<5;M++){for(var P=0,R=0,$=0;$<5;$++){var _=S[M+5*$];P^=_.high,R^=_.low}var z=m[M];z.high=P,z.low=R}for(var M=0;M<5;M++)for(var T=m[(M+4)%5],v=m[(M+1)%5],k=v.high,x=v.low,P=T.high^(k<<1|x>>>31),R=T.low^(x<<1|k>>>31),$=0;$<5;$++){var _=S[M+5*$];_.high^=P,_.low^=R}for(var C=1;C<25;C++){var P,R,_=S[C],B=_.high,O=_.low,D=d[C];D<32?(P=B<<D|O>>>32-D,R=O<<D|B>>>32-D):(P=O<<D-32|B>>>64-D,R=B<<D-32|O>>>64-D);var W=m[y[C]];W.high=P,W.low=R}var L=m[0],N=S[0];L.high=N.high,L.low=N.low;for(var M=0;M<5;M++)for(var $=0;$<5;$++){var C=M+5*$,_=S[C],H=m[C],J=m[(M+1)%5+5*$],Q=m[(M+2)%5+5*$];_.high=H.high^~J.high&Q.high,_.low=H.low^~J.low&Q.low}var _=S[0],Y=h[E];_.high^=Y.high,_.low^=Y.low}},_doFinalize:function(){var g=this._data,b=g.words;this._nDataBytes*8;var S=g.sigBytes*8,p=this.blockSize*32;b[S>>>5]|=1<<24-S%32,b[(r.ceil((S+1)/p)*p>>>5)-1]|=128,g.sigBytes=b.length*4,this._process();for(var I=this._state,w=this.cfg.outputLength/8,A=w/8,_=[],E=0;E<A;E++){var M=I[E],P=M.high,R=M.low;P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,_.push(R),_.push(P)}return new o.init(_,w)},clone:function(){for(var g=a.clone.call(this),b=g._state=this._state.slice(0),S=0;S<25;S++)b[S]=b[S].clone();return g}});s.SHA3=a._createHelper(f),s.HmacSHA3=a._createHmacHelper(f)}(Math),t.SHA3})})(q2e);var j2e={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/return function(r){var s=t,i=s.lib,o=i.WordArray,a=i.Hasher,c=s.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),y=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=o.create([0,1518500249,1859775393,2400959708,2840853838]),m=o.create([1352829926,1548603684,1836072691,2053994217,0]),f=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,_){for(var E=0;E<16;E++){var M=_+E,P=A[M];A[M]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var R=this._hash.words,$=h.words,z=m.words,T=u.words,v=l.words,k=d.words,x=y.words,C,B,O,D,W,L,N,H,J,Q;L=C=R[0],N=B=R[1],H=O=R[2],J=D=R[3],Q=W=R[4];for(var Y,E=0;E<80;E+=1)Y=C+A[_+T[E]]|0,E<16?Y+=g(B,O,D)+$[0]:E<32?Y+=b(B,O,D)+$[1]:E<48?Y+=S(B,O,D)+$[2]:E<64?Y+=p(B,O,D)+$[3]:Y+=I(B,O,D)+$[4],Y=Y|0,Y=w(Y,k[E]),Y=Y+W|0,C=W,W=D,D=w(O,10),O=B,B=Y,Y=L+A[_+v[E]]|0,E<16?Y+=I(N,H,J)+z[0]:E<32?Y+=p(N,H,J)+z[1]:E<48?Y+=S(N,H,J)+z[2]:E<64?Y+=b(N,H,J)+z[3]:Y+=g(N,H,J)+z[4],Y=Y|0,Y=w(Y,x[E]),Y=Y+Q|0,L=Q,Q=J,J=w(H,10),H=N,N=Y;Y=R[1]+O+J|0,R[1]=R[2]+D+Q|0,R[2]=R[3]+W+L|0,R[3]=R[4]+C+N|0,R[4]=R[0]+B+H|0,R[0]=Y},_doFinalize:function(){var A=this._data,_=A.words,E=this._nDataBytes*8,M=A.sigBytes*8;_[M>>>5]|=128<<24-M%32,_[(M+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,A.sigBytes=(_.length+1)*4,this._process();for(var P=this._hash,R=P.words,$=0;$<5;$++){var z=R[$];R[$]=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360}return P},clone:function(){var A=a.clone.call(this);return A._hash=this._hash.clone(),A}});function g(A,_,E){return A^_^E}function b(A,_,E){return A&_|~A&E}function S(A,_,E){return(A|~_)^E}function p(A,_,E){return A&E|_&~E}function I(A,_,E){return A^(_|~E)}function w(A,_){return A<<_|A>>>32-_}s.RIPEMD160=a._createHelper(f),s.HmacRIPEMD160=a._createHmacHelper(f)}(),t.RIPEMD160})})(j2e);var lL={exports:{}};(function(n,e){(function(t,r){n.exports=r(_n.exports)})(K,function(t){(function(){var r=t,s=r.lib,i=s.Base,o=r.enc,a=o.Utf8,c=r.algo;c.HMAC=i.extend({init:function(u,l){u=this._hasher=new u.init,typeof l=="string"&&(l=a.parse(l));var d=u.blockSize,y=d*4;l.sigBytes>y&&(l=u.finalize(l)),l.clamp();for(var h=this._oKey=l.clone(),m=this._iKey=l.clone(),f=h.words,g=m.words,b=0;b<d;b++)f[b]^=1549556828,g[b]^=909522486;h.sigBytes=m.sigBytes=y,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var l=this._hasher,d=l.finalize(u);l.reset();var y=l.finalize(this._oKey.clone().concat(d));return y}})})()})})(lL);var H2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,UT.exports,lL.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.SHA256,u=a.HMAC,l=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,y){for(var h=this.cfg,m=u.create(h.hasher,d),f=o.create(),g=o.create([1]),b=f.words,S=g.words,p=h.keySize,I=h.iterations;b.length<p;){var w=m.update(y).finalize(g);m.reset();for(var A=w.words,_=A.length,E=w,M=1;M<I;M++){E=m.finalize(E),m.reset();for(var P=E.words,R=0;R<_;R++)A[R]^=P[R]}f.concat(w),S[0]++}return f.sigBytes=p*4,f}});r.PBKDF2=function(d,y,h){return l.create(h).compute(d,y)}}(),t.PBKDF2})})(H2e);var mm={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Rne.exports,lL.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.Base,o=s.WordArray,a=r.algo,c=a.MD5,u=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(l){this.cfg=this.cfg.extend(l)},compute:function(l,d){for(var y,h=this.cfg,m=h.hasher.create(),f=o.create(),g=f.words,b=h.keySize,S=h.iterations;g.length<b;){y&&m.update(y),y=m.update(l).finalize(d),m.reset();for(var p=1;p<S;p++)y=m.finalize(y),m.reset();f.concat(y)}return f.sigBytes=b*4,f}});r.EvpKDF=function(l,d,y){return u.create(y).compute(l,d)}}(),t.EvpKDF})})(mm);var aa={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,mm.exports)})(K,function(t){t.lib.Cipher||function(r){var s=t,i=s.lib,o=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,u=s.enc;u.Utf8;var l=u.Base64,d=s.algo,y=d.EvpKDF,h=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(P,R){return this.create(this._ENC_XFORM_MODE,P,R)},createDecryptor:function(P,R){return this.create(this._DEC_XFORM_MODE,P,R)},init:function(P,R,$){this.cfg=this.cfg.extend($),this._xformMode=P,this._key=R,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(P){return this._append(P),this._process()},finalize:function(P){P&&this._append(P);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function P(R){return typeof R=="string"?M:A}return function(R){return{encrypt:function($,z,T){return P(z).encrypt(R,$,z,T)},decrypt:function($,z,T){return P(z).decrypt(R,$,z,T)}}}}()});i.StreamCipher=h.extend({_doFinalize:function(){var P=this._process(!0);return P},blockSize:1});var m=s.mode={},f=i.BlockCipherMode=o.extend({createEncryptor:function(P,R){return this.Encryptor.create(P,R)},createDecryptor:function(P,R){return this.Decryptor.create(P,R)},init:function(P,R){this._cipher=P,this._iv=R}}),g=m.CBC=function(){var P=f.extend();P.Encryptor=P.extend({processBlock:function($,z){var T=this._cipher,v=T.blockSize;R.call(this,$,z,v),T.encryptBlock($,z),this._prevBlock=$.slice(z,z+v)}}),P.Decryptor=P.extend({processBlock:function($,z){var T=this._cipher,v=T.blockSize,k=$.slice(z,z+v);T.decryptBlock($,z),R.call(this,$,z,v),this._prevBlock=k}});function R($,z,T){var v,k=this._iv;k?(v=k,this._iv=r):v=this._prevBlock;for(var x=0;x<T;x++)$[z+x]^=v[x]}return P}(),b=s.pad={},S=b.Pkcs7={pad:function(P,R){for(var $=R*4,z=$-P.sigBytes%$,T=z<<24|z<<16|z<<8|z,v=[],k=0;k<z;k+=4)v.push(T);var x=a.create(v,z);P.concat(x)},unpad:function(P){var R=P.words[P.sigBytes-1>>>2]&255;P.sigBytes-=R}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:S}),reset:function(){var P;h.reset.call(this);var R=this.cfg,$=R.iv,z=R.mode;this._xformMode==this._ENC_XFORM_MODE?P=z.createEncryptor:(P=z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==P?this._mode.init(this,$&&$.words):(this._mode=P.call(z,this,$&&$.words),this._mode.__creator=P)},_doProcessBlock:function(P,R){this._mode.processBlock(P,R)},_doFinalize:function(){var P,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),P=this._process(!0)):(P=this._process(!0),R.unpad(P)),P},blockSize:128/32});var p=i.CipherParams=o.extend({init:function(P){this.mixIn(P)},toString:function(P){return(P||this.formatter).stringify(this)}}),I=s.format={},w=I.OpenSSL={stringify:function(P){var R,$=P.ciphertext,z=P.salt;return z?R=a.create([1398893684,1701076831]).concat(z).concat($):R=$,R.toString(l)},parse:function(P){var R,$=l.parse(P),z=$.words;return z[0]==1398893684&&z[1]==1701076831&&(R=a.create(z.slice(2,4)),z.splice(0,4),$.sigBytes-=16),p.create({ciphertext:$,salt:R})}},A=i.SerializableCipher=o.extend({cfg:o.extend({format:w}),encrypt:function(P,R,$,z){z=this.cfg.extend(z);var T=P.createEncryptor($,z),v=T.finalize(R),k=T.cfg;return p.create({ciphertext:v,key:$,iv:k.iv,algorithm:P,mode:k.mode,padding:k.padding,blockSize:P.blockSize,formatter:z.format})},decrypt:function(P,R,$,z){z=this.cfg.extend(z),R=this._parse(R,z.format);var T=P.createDecryptor($,z).finalize(R.ciphertext);return T},_parse:function(P,R){return typeof P=="string"?R.parse(P,this):P}}),_=s.kdf={},E=_.OpenSSL={execute:function(P,R,$,z,T){if(z||(z=a.random(64/8)),T)var v=y.create({keySize:R+$,hasher:T}).compute(P,z);else var v=y.create({keySize:R+$}).compute(P,z);var k=a.create(v.words.slice(R),$*4);return v.sigBytes=R*4,p.create({key:v,iv:k,salt:z})}},M=i.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:E}),encrypt:function(P,R,$,z){z=this.cfg.extend(z);var T=z.kdf.execute($,P.keySize,P.ivSize,z.salt,z.hasher);z.iv=T.iv;var v=A.encrypt.call(this,P,R,T.key,z);return v.mixIn(T),v},decrypt:function(P,R,$,z){z=this.cfg.extend(z),R=this._parse(R,z.format);var T=z.kdf.execute($,P.keySize,P.ivSize,R.salt,z.hasher);z.iv=T.iv;var v=A.decrypt.call(this,P,R,T.key,z);return v}})}()})})(aa);var G2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.mode.CFB=function(){var r=t.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize;s.call(this,i,o,c,a),this._prevBlock=i.slice(o,o+c)}}),r.Decryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=i.slice(o,o+c);s.call(this,i,o,c,a),this._prevBlock=u}});function s(i,o,a,c){var u,l=this._iv;l?(u=l.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var d=0;d<a;d++)i[o+d]^=u[d]}return r}(),t.mode.CFB})})(G2e);var Y2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.mode.CTR=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,l=this._counter;u&&(l=this._counter=u.slice(0),this._iv=void 0);var d=l.slice(0);a.encryptBlock(d,0),l[c-1]=l[c-1]+1|0;for(var y=0;y<c;y++)i[o+y]^=d[y]}});return r.Decryptor=s,r}(),t.mode.CTR})})(Y2e);var Z2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var r=t.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var c=a>>16&255,u=a>>8&255,l=a&255;c===255?(c=0,u===255?(u=0,l===255?l=0:++l):++u):++c,a=0,a+=c<<16,a+=u<<8,a+=l}else a+=1<<24;return a}function i(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=r.Encryptor=r.extend({processBlock:function(a,c){var u=this._cipher,l=u.blockSize,d=this._iv,y=this._counter;d&&(y=this._counter=d.slice(0),this._iv=void 0),i(y);var h=y.slice(0);u.encryptBlock(h,0);for(var m=0;m<l;m++)a[c+m]^=h[m]}});return r.Decryptor=o,r}(),t.mode.CTRGladman})})(Z2e);var J2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.mode.OFB=function(){var r=t.lib.BlockCipherMode.extend(),s=r.Encryptor=r.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,u=this._iv,l=this._keystream;u&&(l=this._keystream=u.slice(0),this._iv=void 0),a.encryptBlock(l,0);for(var d=0;d<c;d++)i[o+d]^=l[d]}});return r.Decryptor=s,r}(),t.mode.OFB})})(J2e);var X2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.mode.ECB=function(){var r=t.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(s,i){this._cipher.encryptBlock(s,i)}}),r.Decryptor=r.extend({processBlock:function(s,i){this._cipher.decryptBlock(s,i)}}),r}(),t.mode.ECB})})(X2e);var Q2e={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.AnsiX923={pad:function(r,s){var i=r.sigBytes,o=s*4,a=o-i%o,c=i+a-1;r.clamp(),r.words[c>>>2]|=a<<24-c%4*8,r.sigBytes+=a},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Ansix923})})(Q2e);var eMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.Iso10126={pad:function(r,s){var i=s*4,o=i-r.sigBytes%i;r.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(r){var s=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=s}},t.pad.Iso10126})})(eMe);var tMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.Iso97971={pad:function(r,s){r.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(r,s)},unpad:function(r){t.pad.ZeroPadding.unpad(r),r.sigBytes--}},t.pad.Iso97971})})(tMe);var rMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.ZeroPadding={pad:function(r,s){var i=s*4;r.clamp(),r.sigBytes+=i-(r.sigBytes%i||i)},unpad:function(r){for(var s=r.words,i=r.sigBytes-1,i=r.sigBytes-1;i>=0;i--)if(s[i>>>2]>>>24-i%4*8&255){r.sigBytes=i+1;break}}},t.pad.ZeroPadding})})(rMe);var nMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(nMe);var sMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,aa.exports)})(K,function(t){return function(r){var s=t,i=s.lib,o=i.CipherParams,a=s.enc,c=a.Hex,u=s.format;u.Hex={stringify:function(l){return l.ciphertext.toString(c)},parse:function(l){var d=c.parse(l);return o.create({ciphertext:d})}}}(),t.format.Hex})})(sMe);var iMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Ub.exports,Vb.exports,mm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.BlockCipher,o=r.algo,a=[],c=[],u=[],l=[],d=[],y=[],h=[],m=[],f=[],g=[];(function(){for(var p=[],I=0;I<256;I++)I<128?p[I]=I<<1:p[I]=I<<1^283;for(var w=0,A=0,I=0;I<256;I++){var _=A^A<<1^A<<2^A<<3^A<<4;_=_>>>8^_&255^99,a[w]=_,c[_]=w;var E=p[w],M=p[E],P=p[M],R=p[_]*257^_*16843008;u[w]=R<<24|R>>>8,l[w]=R<<16|R>>>16,d[w]=R<<8|R>>>24,y[w]=R;var R=P*16843009^M*65537^E*257^w*16843008;h[_]=R<<24|R>>>8,m[_]=R<<16|R>>>16,f[_]=R<<8|R>>>24,g[_]=R,w?(w=E^p[p[p[P^E]]],A^=p[p[A]]):w=A=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],S=o.AES=i.extend({_doReset:function(){var p;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,w=I.words,A=I.sigBytes/4,_=this._nRounds=A+6,E=(_+1)*4,M=this._keySchedule=[],P=0;P<E;P++)P<A?M[P]=w[P]:(p=M[P-1],P%A?A>6&&P%A==4&&(p=a[p>>>24]<<24|a[p>>>16&255]<<16|a[p>>>8&255]<<8|a[p&255]):(p=p<<8|p>>>24,p=a[p>>>24]<<24|a[p>>>16&255]<<16|a[p>>>8&255]<<8|a[p&255],p^=b[P/A|0]<<24),M[P]=M[P-A]^p);for(var R=this._invKeySchedule=[],$=0;$<E;$++){var P=E-$;if($%4)var p=M[P];else var p=M[P-4];$<4||P<=4?R[$]=p:R[$]=h[a[p>>>24]]^m[a[p>>>16&255]]^f[a[p>>>8&255]]^g[a[p&255]]}}},encryptBlock:function(p,I){this._doCryptBlock(p,I,this._keySchedule,u,l,d,y,a)},decryptBlock:function(p,I){var w=p[I+1];p[I+1]=p[I+3],p[I+3]=w,this._doCryptBlock(p,I,this._invKeySchedule,h,m,f,g,c);var w=p[I+1];p[I+1]=p[I+3],p[I+3]=w},_doCryptBlock:function(p,I,w,A,_,E,M,P){for(var R=this._nRounds,$=p[I]^w[0],z=p[I+1]^w[1],T=p[I+2]^w[2],v=p[I+3]^w[3],k=4,x=1;x<R;x++){var C=A[$>>>24]^_[z>>>16&255]^E[T>>>8&255]^M[v&255]^w[k++],B=A[z>>>24]^_[T>>>16&255]^E[v>>>8&255]^M[$&255]^w[k++],O=A[T>>>24]^_[v>>>16&255]^E[$>>>8&255]^M[z&255]^w[k++],D=A[v>>>24]^_[$>>>16&255]^E[z>>>8&255]^M[T&255]^w[k++];$=C,z=B,T=O,v=D}var C=(P[$>>>24]<<24|P[z>>>16&255]<<16|P[T>>>8&255]<<8|P[v&255])^w[k++],B=(P[z>>>24]<<24|P[T>>>16&255]<<16|P[v>>>8&255]<<8|P[$&255])^w[k++],O=(P[T>>>24]<<24|P[v>>>16&255]<<16|P[$>>>8&255]<<8|P[z&255])^w[k++],D=(P[v>>>24]<<24|P[$>>>16&255]<<16|P[z>>>8&255]<<8|P[T&255])^w[k++];p[I]=C,p[I+1]=B,p[I+2]=O,p[I+3]=D},keySize:256/32});r.AES=i._createHelper(S)}(),t.AES})})(iMe);var oMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Ub.exports,Vb.exports,mm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.WordArray,o=s.BlockCipher,a=r.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],y=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=o.extend({_doReset:function(){for(var b=this._key,S=b.words,p=[],I=0;I<56;I++){var w=c[I]-1;p[I]=S[w>>>5]>>>31-w%32&1}for(var A=this._subKeys=[],_=0;_<16;_++){for(var E=A[_]=[],M=l[_],I=0;I<24;I++)E[I/6|0]|=p[(u[I]-1+M)%28]<<31-I%6,E[4+(I/6|0)]|=p[28+(u[I+24]-1+M)%28]<<31-I%6;E[0]=E[0]<<1|E[0]>>>31;for(var I=1;I<7;I++)E[I]=E[I]>>>(I-1)*4+3;E[7]=E[7]<<5|E[7]>>>27}for(var P=this._invSubKeys=[],I=0;I<16;I++)P[I]=A[15-I]},encryptBlock:function(b,S){this._doCryptBlock(b,S,this._subKeys)},decryptBlock:function(b,S){this._doCryptBlock(b,S,this._invSubKeys)},_doCryptBlock:function(b,S,p){this._lBlock=b[S],this._rBlock=b[S+1],m.call(this,4,252645135),m.call(this,16,65535),f.call(this,2,858993459),f.call(this,8,16711935),m.call(this,1,1431655765);for(var I=0;I<16;I++){for(var w=p[I],A=this._lBlock,_=this._rBlock,E=0,M=0;M<8;M++)E|=d[M][((_^w[M])&y[M])>>>0];this._lBlock=_,this._rBlock=A^E}var P=this._lBlock;this._lBlock=this._rBlock,this._rBlock=P,m.call(this,1,1431655765),f.call(this,8,16711935),f.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),b[S]=this._lBlock,b[S+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(b,S){var p=(this._lBlock>>>b^this._rBlock)&S;this._rBlock^=p,this._lBlock^=p<<b}function f(b,S){var p=(this._rBlock>>>b^this._lBlock)&S;this._lBlock^=p,this._rBlock^=p<<b}r.DES=o._createHelper(h);var g=a.TripleDES=o.extend({_doReset:function(){var b=this._key,S=b.words;if(S.length!==2&&S.length!==4&&S.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var p=S.slice(0,2),I=S.length<4?S.slice(0,2):S.slice(2,4),w=S.length<6?S.slice(0,2):S.slice(4,6);this._des1=h.createEncryptor(i.create(p)),this._des2=h.createEncryptor(i.create(I)),this._des3=h.createEncryptor(i.create(w))},encryptBlock:function(b,S){this._des1.encryptBlock(b,S),this._des2.decryptBlock(b,S),this._des3.encryptBlock(b,S)},decryptBlock:function(b,S){this._des3.decryptBlock(b,S),this._des2.encryptBlock(b,S),this._des1.decryptBlock(b,S)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(g)}(),t.TripleDES})})(oMe);var aMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Ub.exports,Vb.exports,mm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=o.RC4=i.extend({_doReset:function(){for(var l=this._key,d=l.words,y=l.sigBytes,h=this._S=[],m=0;m<256;m++)h[m]=m;for(var m=0,f=0;m<256;m++){var g=m%y,b=d[g>>>2]>>>24-g%4*8&255;f=(f+h[m]+b)%256;var S=h[m];h[m]=h[f],h[f]=S}this._i=this._j=0},_doProcessBlock:function(l,d){l[d]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var l=this._S,d=this._i,y=this._j,h=0,m=0;m<4;m++){d=(d+1)%256,y=(y+l[d])%256;var f=l[d];l[d]=l[y],l[y]=f,h|=l[(l[d]+l[y])%256]<<24-m*8}return this._i=d,this._j=y,h}r.RC4=i._createHelper(a);var u=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var l=this.cfg.drop;l>0;l--)c.call(this)}});r.RC4Drop=i._createHelper(u)}(),t.RC4})})(aMe);var cMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Ub.exports,Vb.exports,mm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],u=[],l=o.Rabbit=i.extend({_doReset:function(){for(var y=this._key.words,h=this.cfg.iv,m=0;m<4;m++)y[m]=(y[m]<<8|y[m]>>>24)&16711935|(y[m]<<24|y[m]>>>8)&4278255360;var f=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],g=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)g[m]^=f[m+4&7];if(h){var b=h.words,S=b[0],p=b[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,A=I>>>16|w&4294901760,_=w<<16|I&65535;g[0]^=I,g[1]^=A,g[2]^=w,g[3]^=_,g[4]^=I,g[5]^=A,g[6]^=w,g[7]^=_;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(y,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)a[f]=(a[f]<<8|a[f]>>>24)&16711935|(a[f]<<24|a[f]>>>8)&4278255360,y[h+f]^=a[f]},blockSize:128/32,ivSize:64/32});function d(){for(var y=this._X,h=this._C,m=0;m<8;m++)c[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var f=y[m]+h[m],g=f&65535,b=f>>>16,S=((g*g>>>17)+g*b>>>15)+b*b,p=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=S^p}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.Rabbit=i._createHelper(l)}(),t.Rabbit})})(cMe);var uMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Ub.exports,Vb.exports,mm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.StreamCipher,o=r.algo,a=[],c=[],u=[],l=o.RabbitLegacy=i.extend({_doReset:function(){var y=this._key.words,h=this.cfg.iv,m=this._X=[y[0],y[3]<<16|y[2]>>>16,y[1],y[0]<<16|y[3]>>>16,y[2],y[1]<<16|y[0]>>>16,y[3],y[2]<<16|y[1]>>>16],f=this._C=[y[2]<<16|y[2]>>>16,y[0]&4294901760|y[1]&65535,y[3]<<16|y[3]>>>16,y[1]&4294901760|y[2]&65535,y[0]<<16|y[0]>>>16,y[2]&4294901760|y[3]&65535,y[1]<<16|y[1]>>>16,y[3]&4294901760|y[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)f[g]^=m[g+4&7];if(h){var b=h.words,S=b[0],p=b[1],I=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,w=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,A=I>>>16|w&4294901760,_=w<<16|I&65535;f[0]^=I,f[1]^=A,f[2]^=w,f[3]^=_,f[4]^=I,f[5]^=A,f[6]^=w,f[7]^=_;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(y,h){var m=this._X;d.call(this),a[0]=m[0]^m[5]>>>16^m[3]<<16,a[1]=m[2]^m[7]>>>16^m[5]<<16,a[2]=m[4]^m[1]>>>16^m[7]<<16,a[3]=m[6]^m[3]>>>16^m[1]<<16;for(var f=0;f<4;f++)a[f]=(a[f]<<8|a[f]>>>24)&16711935|(a[f]<<24|a[f]>>>8)&4278255360,y[h+f]^=a[f]},blockSize:128/32,ivSize:64/32});function d(){for(var y=this._X,h=this._C,m=0;m<8;m++)c[m]=h[m];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var m=0;m<8;m++){var f=y[m]+h[m],g=f&65535,b=f>>>16,S=((g*g>>>17)+g*b>>>15)+b*b,p=((f&4294901760)*f|0)+((f&65535)*f|0);u[m]=S^p}y[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,y[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,y[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,y[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,y[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,y[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,y[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,y[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}r.RabbitLegacy=i._createHelper(l)}(),t.RabbitLegacy})})(uMe);var lMe={exports:{}};(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Ub.exports,Vb.exports,mm.exports,aa.exports)})(K,function(t){return function(){var r=t,s=r.lib,i=s.BlockCipher,o=r.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var l={pbox:[],sbox:[]};function d(g,b){let S=b>>24&255,p=b>>16&255,I=b>>8&255,w=b&255,A=g.sbox[0][S]+g.sbox[1][p];return A=A^g.sbox[2][I],A=A+g.sbox[3][w],A}function y(g,b,S){let p=b,I=S,w;for(let A=0;A<a;++A)p=p^g.pbox[A],I=d(g,p)^I,w=p,p=I,I=w;return w=p,p=I,I=w,I=I^g.pbox[a],p=p^g.pbox[a+1],{left:p,right:I}}function h(g,b,S){let p=b,I=S,w;for(let A=a+1;A>1;--A)p=p^g.pbox[A],I=d(g,p)^I,w=p,p=I,I=w;return w=p,p=I,I=w,I=I^g.pbox[1],p=p^g.pbox[0],{left:p,right:I}}function m(g,b,S){for(let _=0;_<4;_++){g.sbox[_]=[];for(let E=0;E<256;E++)g.sbox[_][E]=u[_][E]}let p=0;for(let _=0;_<a+2;_++)g.pbox[_]=c[_]^b[p],p++,p>=S&&(p=0);let I=0,w=0,A=0;for(let _=0;_<a+2;_+=2)A=y(g,I,w),I=A.left,w=A.right,g.pbox[_]=I,g.pbox[_+1]=w;for(let _=0;_<4;_++)for(let E=0;E<256;E+=2)A=y(g,I,w),I=A.left,w=A.right,g.sbox[_][E]=I,g.sbox[_][E+1]=w;return!0}var f=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,b=g.words,S=g.sigBytes/4;m(l,b,S)}},encryptBlock:function(g,b){var S=y(l,g[b],g[b+1]);g[b]=S.left,g[b+1]=S.right},decryptBlock:function(g,b){var S=h(l,g[b],g[b+1]);g[b]=S.left,g[b+1]=S.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=i._createHelper(f)}(),t.Blowfish})})(lMe);(function(n,e){(function(t,r,s){n.exports=r(_n.exports,Bz.exports,W2e.exports,N2e.exports,Ub.exports,F2e.exports,Vb.exports,Rne.exports,UT.exports,U2e.exports,Cne.exports,V2e.exports,q2e.exports,j2e.exports,lL.exports,H2e.exports,mm.exports,aa.exports,G2e.exports,Y2e.exports,Z2e.exports,J2e.exports,X2e.exports,Q2e.exports,eMe.exports,tMe.exports,rMe.exports,nMe.exports,sMe.exports,iMe.exports,oMe.exports,aMe.exports,cMe.exports,uMe.exports,lMe.exports)})(K,function(t){return t})})(L2e);var SEt=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fb,"__esModule",{value:!0});Fb.Base=void 0;const sc=V,SU=SEt(L2e.exports);class ml{print(){ml.print(this)}bufferIndexOf(e,t,r=!1){if(r)return this.binarySearch(e,t,sc.Buffer.compare);const s=(i,o)=>i.equals(o);return this.linearSearch(e,t,s)}static binarySearch(e,t,r){let s=0,i=e.length-1;for(;s<=i;){const o=Math.floor((s+i)/2),a=r(e[o],t);if(a===0){for(let c=o-1;c>=0;c--)if(r(e[c],t)!==0)return c+1;return 0}else a<0?s=o+1:i=o-1}return-1}binarySearch(e,t,r){return ml.binarySearch(e,t,r)}static linearSearch(e,t,r){for(let s=0;s<e.length;s++)if(r(e[s],t))return s;return-1}linearSearch(e,t,r){return ml.linearSearch(e,t,r)}static bufferify(e){if(!sc.Buffer.isBuffer(e)){if(typeof e=="object"&&e.words)return sc.Buffer.from(e.toString(SU.default.enc.Hex),"hex");if(ml.isHexString(e))return sc.Buffer.from(e.replace(/^0x/,""),"hex");if(typeof e=="string")return sc.Buffer.from(e);if(typeof e=="bigint")return sc.Buffer.from(e.toString(16),"hex");if(e instanceof Uint8Array)return sc.Buffer.from(e.buffer);if(typeof e=="number"){let t=e.toString();return t.length%2&&(t=`0${t}`),sc.Buffer.from(t,"hex")}else if(ArrayBuffer.isView(e))return sc.Buffer.from(e.buffer,e.byteOffset,e.byteLength)}return e}bigNumberify(e){return ml.bigNumberify(e)}static bigNumberify(e){if(typeof e=="bigint")return e;if(typeof e=="string")return e.startsWith("0x")&&ml.isHexString(e)?BigInt("0x"+e.replace("0x","").toString()):BigInt(e);if(sc.Buffer.isBuffer(e))return BigInt("0x"+e.toString("hex"));if(e instanceof Uint8Array||typeof e=="number")return BigInt(e);throw new Error("cannot bigNumberify")}static isHexString(e){return typeof e=="string"&&/^(0x)?[0-9A-Fa-f]*$/.test(e)}static print(e){console.log(e.toString())}bufferToHex(e,t=!0){return ml.bufferToHex(e,t)}static bufferToHex(e,t=!0){return`${t?"0x":""}${(e||sc.Buffer.alloc(0)).toString("hex")}`}bufferify(e){return ml.bufferify(e)}bufferifyFn(e){return t=>{const r=e(t);return sc.Buffer.isBuffer(r)?r:this.isHexString(r)?sc.Buffer.from(r.replace("0x",""),"hex"):typeof r=="string"?sc.Buffer.from(r):typeof r=="bigint"?sc.Buffer.from(t.toString(16),"hex"):ArrayBuffer.isView(r)?sc.Buffer.from(r.buffer,r.byteOffset,r.byteLength):sc.Buffer.from(e(SU.default.enc.Hex.parse(t.toString("hex"))).toString(SU.default.enc.Hex),"hex")}}isHexString(e){return ml.isHexString(e)}log2(e){return e===1?0:1+this.log2(e/2|0)}zip(e,t){return e.map((r,s)=>[r,t[s]])}static hexZeroPad(e,t){return"0x"+e.replace("0x","").padStart(t,"0")}}Fb.Base=ml;Fb.default=ml;var dL=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Mz,"__esModule",{value:!0});Mz.MerkleTree=void 0;const ca=V,eg=dL(bEt),kU=dL(UT.exports),kEt=dL(Tne.exports),vEt=dL(Fb);class Xc extends vEt.default{constructor(e,t=kU.default,r={}){if(super(),this.duplicateOdd=!1,this.concatenator=ca.Buffer.concat,this.hashLeaves=!1,this.isBitcoinTree=!1,this.leaves=[],this.layers=[],this.sortLeaves=!1,this.sortPairs=!1,this.sort=!1,this.fillDefaultHash=null,this.complete=!1,r.complete){if(r.isBitcoinTree)throw new Error('option "complete" is incompatible with "isBitcoinTree"');if(r.duplicateOdd)throw new Error('option "complete" is incompatible with "duplicateOdd"')}if(this.isBitcoinTree=!!r.isBitcoinTree,this.hashLeaves=!!r.hashLeaves,this.sortLeaves=!!r.sortLeaves,this.sortPairs=!!r.sortPairs,this.complete=!!r.complete,r.fillDefaultHash)if(typeof r.fillDefaultHash=="function")this.fillDefaultHash=r.fillDefaultHash;else if(ca.Buffer.isBuffer(r.fillDefaultHash)||typeof r.fillDefaultHash=="string")this.fillDefaultHash=(s,i)=>r.fillDefaultHash;else throw new Error('method "fillDefaultHash" must be a function, Buffer, or string');this.sort=!!r.sort,this.sort&&(this.sortLeaves=!0,this.sortPairs=!0),this.duplicateOdd=!!r.duplicateOdd,r.concatenator&&(this.concatenator=r.concatenator),this.hashFn=this.bufferifyFn(t),this.processLeaves(e)}getOptions(){var e,t;return{complete:this.complete,isBitcoinTree:this.isBitcoinTree,hashLeaves:this.hashLeaves,sortLeaves:this.sortLeaves,sortPairs:this.sortPairs,sort:this.sort,fillDefaultHash:(t=(e=this.fillDefaultHash)===null||e===void 0?void 0:e.toString())!==null&&t!==void 0?t:null,duplicateOdd:this.duplicateOdd}}processLeaves(e){if(this.hashLeaves&&(e=e.map(this.hashFn)),this.leaves=e.map(this.bufferify),this.sortLeaves&&(this.leaves=this.leaves.sort(ca.Buffer.compare)),this.fillDefaultHash)for(let t=this.leaves.length;t<Math.pow(2,Math.ceil(Math.log2(this.leaves.length)));t++)this.leaves.push(this.bufferify(this.fillDefaultHash(t,this.hashFn)));this.createHashes(this.leaves)}createHashes(e){for(this.layers=[e];e.length>1;){const t=this.layers.length;this.layers.push([]);const r=this.complete&&t===1&&!Number.isInteger(Math.log2(e.length))?2*e.length-Math.pow(2,Math.ceil(Math.log2(e.length))):e.length;for(let s=0;s<e.length;s+=2){if(s>=r){this.layers[t].push(...e.slice(r));break}else if(s+1===e.length&&e.length%2===1){const u=e[e.length-1];let l=u;if(this.isBitcoinTree){l=this.hashFn(this.concatenator([eg.default(u),eg.default(u)])),l=eg.default(this.hashFn(l)),this.layers[t].push(l);continue}else if(!this.duplicateOdd){this.layers[t].push(e[s]);continue}}const i=e[s],o=s+1===e.length?i:e[s+1];let a=null;this.isBitcoinTree?a=[eg.default(i),eg.default(o)]:a=[i,o],this.sortPairs&&a.sort(ca.Buffer.compare);let c=this.hashFn(this.concatenator(a));this.isBitcoinTree&&(c=eg.default(this.hashFn(c))),this.layers[t].push(c)}e=this.layers[t]}}addLeaf(e,t=!1){t&&(e=this.hashFn(e)),this.processLeaves(this.leaves.concat(e))}addLeaves(e,t=!1){t&&(e=e.map(this.hashFn)),this.processLeaves(this.leaves.concat(e))}getLeaves(e){return Array.isArray(e)?(this.hashLeaves&&(e=e.map(this.hashFn),this.sortLeaves&&(e=e.sort(ca.Buffer.compare))),this.leaves.filter(t=>this.bufferIndexOf(e,t,this.sortLeaves)!==-1)):this.leaves}getLeaf(e){return e<0||e>this.leaves.length-1?ca.Buffer.from([]):this.leaves[e]}getLeafIndex(e){e=this.bufferify(e);const t=this.getLeaves();for(let r=0;r<t.length;r++)if(t[r].equals(e))return r;return-1}getLeafCount(){return this.leaves.length}getHexLeaves(){return this.leaves.map(e=>this.bufferToHex(e))}static marshalLeaves(e){return JSON.stringify(e.map(t=>Xc.bufferToHex(t)),null,2)}static unmarshalLeaves(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(Xc.bufferify)}getLayers(){return this.layers}getHexLayers(){return this.layers.reduce((e,t)=>(Array.isArray(t)?e.push(t.map(r=>this.bufferToHex(r))):e.push(t),e),[])}getLayersFlat(){const e=this.layers.reduce((t,r)=>(Array.isArray(r)?t.unshift(...r):t.unshift(r),t),[]);return e.unshift(ca.Buffer.from([0])),e}getHexLayersFlat(){return this.getLayersFlat().map(e=>this.bufferToHex(e))}getLayerCount(){return this.getLayers().length}getRoot(){return this.layers.length===0?ca.Buffer.from([]):this.layers[this.layers.length-1][0]||ca.Buffer.from([])}getHexRoot(){return this.bufferToHex(this.getRoot())}getProof(e,t){if(typeof e>"u")throw new Error("leaf is required");e=this.bufferify(e);const r=[];if(!Number.isInteger(t)){t=-1;for(let s=0;s<this.leaves.length;s++)ca.Buffer.compare(e,this.leaves[s])===0&&(t=s)}if(t<=-1)return[];for(let s=0;s<this.layers.length;s++){const i=this.layers[s],o=t%2,a=o?t-1:this.isBitcoinTree&&t===i.length-1&&s<this.layers.length-1?t:t+1;a<i.length&&r.push({position:o?"left":"right",data:i[a]}),t=t/2|0}return r}getHexProof(e,t){return this.getProof(e,t).map(r=>this.bufferToHex(r.data))}getProofs(){const e=[],t=[];return this.getProofsDFS(this.layers.length-1,0,e,t),t}getProofsDFS(e,t,r,s){const i=t%2;if(e===-1){i||s.push([...r].reverse());return}if(t>=this.layers[e].length)return;const o=this.layers[e],a=i?t-1:t+1;let c=!1;a<o.length&&(c=!0,r.push({position:i?"left":"right",data:o[a]}));const u=t*2,l=t*2+1;this.getProofsDFS(e-1,u,r,s),this.getProofsDFS(e-1,l,r,s),c&&r.splice(r.length-1,1)}getHexProofs(){return this.getProofs().map(e=>this.bufferToHex(e.data))}getPositionalHexProof(e,t){return this.getProof(e,t).map(r=>[r.position==="left"?0:1,this.bufferToHex(r.data)])}static marshalProof(e){const t=e.map(r=>typeof r=="string"?r:ca.Buffer.isBuffer(r)?Xc.bufferToHex(r):{position:r.position,data:Xc.bufferToHex(r.data)});return JSON.stringify(t,null,2)}static unmarshalProof(e){let t=null;if(typeof e=="string")t=JSON.parse(e);else if(e instanceof Object)t=e;else throw new Error("Expected type of string or object");if(!t)return[];if(!Array.isArray(t))throw new Error("Expected JSON string to be array");return t.map(r=>{if(typeof r=="string")return Xc.bufferify(r);if(r instanceof Object)return{position:r.position,data:Xc.bufferify(r.data)};throw new Error("Expected item to be of type string or object")})}static marshalTree(e){const t=e.getHexRoot(),r=e.leaves.map(o=>Xc.bufferToHex(o)),s=e.getHexLayers(),i=e.getOptions();return JSON.stringify({options:i,root:t,layers:s,leaves:r},null,2)}static unmarshalTree(e,t=kU.default,r={}){let s=null;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof Object)s=e;else throw new Error("Expected type of string or object");if(!s)throw new Error("could not parse json");return r=Object.assign({},s.options||{},r),new Xc(s.leaves,t,r)}getProofIndices(e,t){const r=Math.pow(2,t);let s=new Set;for(const u of e){let l=r+u;for(;l>1;)s.add(l^1),l=l/2|0}const i=e.map(u=>r+u),o=Array.from(s).sort((u,l)=>u-l).reverse();s=i.concat(o);const a=new Set,c=[];for(let u of s)if(!a.has(u))for(c.push(u);u>1&&(a.add(u),!!a.has(u^1));)u=u/2|0;return c.filter(u=>!e.includes(u-r))}getProofIndicesForUnevenTree(e,t){const r=Math.ceil(Math.log2(t)),s=[];for(let a=0;a<r;a++)t%2!==0&&s.push({index:a,leavesCount:t}),t=Math.ceil(t/2);const i=[];let o=e;for(let a=0;a<r;a++){let u=o.map(d=>d%2===0?d+1:d-1).filter(d=>!o.includes(d));const l=s.find(({index:d})=>d===a);l&&o.includes(l.leavesCount-1)&&(u=u.slice(0,-1)),i.push(u),o=[...new Set(o.map(d=>d%2===0?d/2:d%2===0?(d+1)/2:(d-1)/2))]}return i}getMultiProof(e,t){if(this.complete||console.warn("Warning: For correct multiProofs it's strongly recommended to set complete: true"),t||(t=e,e=this.getLayersFlat()),this.isUnevenTree()&&t.every(Number.isInteger))return this.getMultiProofForUnevenTree(t);if(!t.every(Number.isInteger)){let s=t;this.sortPairs&&(s=s.sort(ca.Buffer.compare));let i=s.map(u=>this.bufferIndexOf(this.leaves,u,this.sortLeaves)).sort((u,l)=>u===l?0:u>l?1:-1);if(!i.every(u=>u!==-1))throw new Error("Element does not exist in Merkle tree");const o=[],a=[];let c=[];for(let u=0;u<this.layers.length;u++){const l=this.layers[u];for(let d=0;d<i.length;d++){const y=i[d],h=this.getPairNode(l,y);o.push(l[y]),h&&a.push(h),c.push(y/2|0)}i=c.filter((d,y,h)=>h.indexOf(d)===y),c=[]}return a.filter(u=>!o.includes(u))}return this.getProofIndices(t,Math.log2(e.length/2|0)).map(s=>e[s])}getMultiProofForUnevenTree(e,t){t||(t=e,e=this.getLayers());let r=[],s=t;for(const i of e){const o=[];for(const c of s){if(c%2===0){const l=c+1;if(!s.includes(l)&&i[l]){o.push(i[l]);continue}}const u=c-1;if(!s.includes(u)&&i[u]){o.push(i[u]);continue}}r=r.concat(o);const a=new Set;for(const c of s){if(c%2===0){a.add(c/2);continue}if(c%2===0){a.add((c+1)/2);continue}a.add((c-1)/2)}s=Array.from(a)}return r}getHexMultiProof(e,t){return this.getMultiProof(e,t).map(r=>this.bufferToHex(r))}getProofFlags(e,t){if(!Array.isArray(e)||e.length<=0)throw new Error("Invalid Inputs!");let r;if(e.every(Number.isInteger)?r=[...e].sort((a,c)=>a===c?0:a>c?1:-1):r=e.map(a=>this.bufferIndexOf(this.leaves,a,this.sortLeaves)).sort((a,c)=>a===c?0:a>c?1:-1),!r.every(a=>a!==-1))throw new Error("Element does not exist in Merkle tree");const s=t.map(a=>this.bufferify(a)),i=[],o=[];for(let a=0;a<this.layers.length;a++){const c=this.layers[a];r=r.reduce((u,l)=>{if(!i.includes(c[l])){const y=this.getPairNode(c,l),h=s.includes(c[l])||s.includes(y);y&&o.push(!h),i.push(c[l]),i.push(y)}return u.push(l/2|0),u},[])}return o}verify(e,t,r){let s=this.bufferify(t);if(r=this.bufferify(r),!Array.isArray(e)||!t||!r)return!1;for(let i=0;i<e.length;i++){const o=e[i];let a=null,c=null;if(typeof o=="string")a=this.bufferify(o),c=!0;else if(Array.isArray(o))c=o[0]===0,a=this.bufferify(o[1]);else if(ca.Buffer.isBuffer(o))a=o,c=!0;else if(o instanceof Object)a=this.bufferify(o.data),c=o.position==="left";else throw new Error("Expected node to be of type string or object");const u=[];this.isBitcoinTree?(u.push(eg.default(s)),u[c?"unshift":"push"](eg.default(a)),s=this.hashFn(this.concatenator(u)),s=eg.default(this.hashFn(s))):this.sortPairs?ca.Buffer.compare(s,a)===-1?(u.push(s,a),s=this.hashFn(this.concatenator(u))):(u.push(a,s),s=this.hashFn(this.concatenator(u))):(u.push(s),u[c?"unshift":"push"](a),s=this.hashFn(this.concatenator(u)))}return ca.Buffer.compare(s,r)===0}verifyMultiProof(e,t,r,s,i){if(this.isUnevenTree())return this.verifyMultiProofForUnevenTree(e,t,r,s,i);const a=Math.ceil(Math.log2(s));e=this.bufferify(e),r=r.map(d=>this.bufferify(d)),i=i.map(d=>this.bufferify(d));const c={};for(const[d,y]of this.zip(t,r))c[Math.pow(2,a)+d]=y;for(const[d,y]of this.zip(this.getProofIndices(t,a),i))c[d]=y;let u=Object.keys(c).map(d=>+d).sort((d,y)=>d-y);u=u.slice(0,u.length-1);let l=0;for(;l<u.length;){const d=u[l];if(d>=2&&{}.hasOwnProperty.call(c,d^1)){let y=[c[d-d%2],c[d-d%2+1]];this.sortPairs&&(y=y.sort(ca.Buffer.compare));const h=y[1]?this.hashFn(this.concatenator(y)):y[0];c[d/2|0]=h,u.push(d/2|0)}l+=1}return!t.length||{}.hasOwnProperty.call(c,1)&&c[1].equals(e)}verifyMultiProofWithFlags(e,t,r,s){e=this.bufferify(e),t=t.map(this.bufferify),r=r.map(this.bufferify);const i=t.length,o=s.length,a=[];let c=0,u=0,l=0;for(let d=0;d<o;d++){const y=s[d]?c<i?t[c++]:a[u++]:r[l++],h=c<i?t[c++]:a[u++],m=[y,h].sort(ca.Buffer.compare);a[d]=this.hashFn(this.concatenator(m))}return ca.Buffer.compare(a[o-1],e)===0}verifyMultiProofForUnevenTree(e,t,r,s,i){e=this.bufferify(e),r=r.map(a=>this.bufferify(a)),i=i.map(a=>this.bufferify(a));const o=this.calculateRootForUnevenTree(t,r,s,i);return e.equals(o)}getDepth(){return this.getLayers().length-1}getLayersAsObject(){const e=this.getLayers().map(r=>r.map(s=>this.bufferToHex(s,!1))),t=[];for(let r=0;r<e.length;r++){const s=[];for(let i=0;i<e[r].length;i++){const o={[e[r][i]]:null};if(t.length){o[e[r][i]]={};const a=t.shift(),c=Object.keys(a)[0];if(o[e[r][i]][c]=a[c],t.length){const u=t.shift(),l=Object.keys(u)[0];o[e[r][i]][l]=u[l]}}s.push(o)}t.push(...s)}return t[0]}static verify(e,t,r,s=kU.default,i={}){return new Xc([],s,i).verify(e,t,r)}static getMultiProof(e,t){return new Xc([]).getMultiProof(e,t)}resetTree(){this.leaves=[],this.layers=[]}getPairNode(e,t){const r=t%2===0?t+1:t-1;return r<e.length?e[r]:null}toTreeString(){const e=this.getLayersAsObject();return kEt.default.asTree(e,!0)}toString(){return this.toTreeString()}isUnevenTree(e){const t=(e==null?void 0:e.length)||this.getDepth();return!this.isPowOf2(t)}isPowOf2(e){return e&&!(e&e-1)}calculateRootForUnevenTree(e,t,r,s){const i=this.zip(e,t).sort(([d],[y])=>d-y),o=i.map(([d])=>d),a=this.getProofIndicesForUnevenTree(o,r);let c=0;const u=[];for(let d=0;d<a.length;d++){const y=a[d],h=c;c+=y.length,u[d]=this.zip(y,s.slice(h,c))}const l=[i];for(let d=0;d<u.length;d++){const y=u[d].concat(l[d]).sort(([g],[b])=>g-b).map(([,g])=>g),h=l[d].map(([g])=>g),m=[...new Set(h.map(g=>g%2===0?g/2:g%2===0?(g+1)/2:(g-1)/2))],f=[];for(let g=0;g<m.length;g++){const b=m[g],S=y[g*2],p=y[g*2+1],I=p?this.hashFn(this.concatenator([S,p])):S;f.push([b,I])}l.push(f)}return l[l.length-1][0][1]}}Mz.MerkleTree=Xc;typeof window<"u"&&(window.MerkleTree=Xc);Mz.default=Xc;var zz={},dMe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zz,"__esModule",{value:!0});zz.MerkleMountainRange=void 0;const CC=V,AEt=dMe(UT.exports),wEt=dMe(Fb);class Mne extends wEt.default{constructor(e=AEt.default,t=[],r,s,i){super(),this.root=CC.Buffer.alloc(0),this.size=0,this.width=0,this.hashes={},this.data={},t=t.map(this.bufferify),this.hashFn=this.bufferifyFn(e),this.hashLeafFn=r,this.peakBaggingFn=s,this.hashBranchFn=i;for(const o of t)this.append(o)}append(e){e=this.bufferify(e);const t=this.hashFn(e),r=this.bufferToHex(t);(!this.data[r]||this.bufferToHex(this.hashFn(this.data[r]))!==r)&&(this.data[r]=e);const s=this.hashLeaf(this.size+1,t);this.hashes[this.size+1]=s,this.width+=1;const i=this.getPeakIndexes(this.width);this.size=this.getSize(this.width);const o=[];for(let a=0;a<i.length;a++)o[a]=this._getOrCreateNode(i[a]);this.root=this.peakBagging(this.width,o)}hashLeaf(e,t){return t=this.bufferify(t),this.hashLeafFn?this.bufferify(this.hashLeafFn(e,t)):this.hashFn(CC.Buffer.concat([this.bufferify(e),t]))}hashBranch(e,t,r){return this.hashBranchFn?this.bufferify(this.hashBranchFn(e,t,r)):this.hashFn(CC.Buffer.concat([this.bufferify(e),this.bufferify(t),this.bufferify(r)]))}getPeaks(){const e=this.getPeakIndexes(this.width),t=[];for(let r=0;r<e.length;r++)t[r]=this.hashes[e[r]];return t}getLeafIndex(e){return e%2===1?this.getSize(e):this.getSize(e-1)+1}getPeakIndexes(e){const t=this.numOfPeaks(e),r=[];let s=0,i=0;for(let o=255;o>0&&!((e&1<<o-1)!==0&&(i=i+(1<<o)-1,r[s++]=i,r.length>=t));o--);if(s!==r.length)throw new Error("invalid bit calculation");return r}numOfPeaks(e){let t=e,r=0;for(;t>0;)t%2===1&&r++,t=t>>1;return r}peakBagging(e,t){const r=this.getSize(e);if(this.numOfPeaks(e)!==t.length)throw new Error("received invalid number of peaks");return e===0&&!t.length?CC.Buffer.alloc(0):this.peakBaggingFn?this.bufferify(this.peakBaggingFn(r,t)):this.hashFn(CC.Buffer.concat([this.bufferify(r),...t.map(this.bufferify)]))}getSize(e){return(e<<1)-this.numOfPeaks(e)}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.getRoot())}getNode(e){return this.hashes[e]}mountainHeight(e){let t=1;for(;1<<t<=e+t;)t++;return t-1}heightAt(e){let t=e,r=0,s=0;for(;t>r;)t-=(1<<s)-1,s=this.mountainHeight(t),r=(1<<s)-1;return s-(r-t)}isLeaf(e){return this.heightAt(e)===1}getChildren(e){const t=e-(1<<this.heightAt(e)-1),r=e-1;if(t===r)throw new Error("not a parent");return[t,r]}getMerkleProof(e){if(e>this.size)throw new Error("out of range");if(!this.isLeaf(e))throw new Error("not a leaf");const t=this.root,r=this.width,s=this.getPeakIndexes(this.width),i=[];let o=0;for(let d=0;d<s.length;d++)i[d]=this.hashes[s[d]],s[d]>=e&&o===0&&(o=s[d]);let a=0,c=0,u=this.heightAt(o);const l=[];for(;o!==e;)u--,[a,c]=this.getChildren(o),o=e<=a?a:c,l[u-1]=this.hashes[e<=a?c:a];return{root:t,width:r,peakBagging:i,siblings:l}}verify(e,t,r,s,i,o){if(s=this.bufferify(s),this.getSize(t)<r)throw new Error("index is out of range");if(!e.equals(this.peakBagging(t,i)))throw new Error("invalid root hash from the peaks");let c=0,u;const l=this.getPeakIndexes(t);for(let g=0;g<l.length;g++)if(l[g]>=r){u=i[g],c=l[g];break}if(!u)throw new Error("target not found");let d=o.length+1;const y=new Array(d);let h=0,m=0;for(;d>0&&(y[--d]=c,c!==r);)[h,m]=this.getChildren(c),c=r>h?m:h;let f;for(;d<y.length;)c=y[d],d===0?f=this.hashLeaf(c,this.hashFn(s)):c-1===y[d-1]?f=this.hashBranch(c,o[d-1],f):f=this.hashBranch(c,f,o[d-1]),d++;if(!f.equals(u))throw new Error("hashed peak is invalid");return!0}peaksToPeakMap(e,t){const r={};let s=0,i=0,o=t.length;for(let a=1;a<=32;a++)s=32-a,i=1<<a-1,(e&i)!==0?r[s]=t[--o]:r[s]=0;if(o!==0)throw new Error("invalid number of peaks");return r}peakMapToPeaks(e,t){const r=this.numOfPeaks(e),s=new Array(r);let i=0;for(let o=0;o<32;o++)t[o]!==0&&(s[i++]=t[o]);if(i!==r)throw new Error("invalid number of peaks");return s}peakUpdate(e,t,r){const s={},i=e+1;let o=this.getLeafIndex(i),a=this.hashLeaf(o,r),c=0,u=0,l=!1,d=!1,y=!1;for(let h=1;h<=32;h++)c=32-h,y?s[c]=t[c]:(u=1<<h-1,l=(e&u)!==0,d=(i&u)!==0,o++,l&&(a=this.hashBranch(o,t[c],a)),d?(l?s[c]=t[c]:s[c]=a,y=!0):s[c]=0);return s}rollUp(e,t,r,s){if(!e.equals(this.peakBagging(t,r)))throw new Error("invalid root hash from the peaks");let i=t,o=this.peaksToPeakMap(t,r);for(let a=0;a<s.length;a++)o=this.peakUpdate(i,o,s[a]),i++;return this.peakBagging(i,this.peakMapToPeaks(i,o))}_getOrCreateNode(e){if(e>this.size)throw new Error("out of range");if(!this.hashes[e]){const[t,r]=this.getChildren(e),s=this._getOrCreateNode(t),i=this._getOrCreateNode(r);this.hashes[e]=this.hashBranch(e,s,i)}return this.hashes[e]}}zz.MerkleMountainRange=Mne;typeof window<"u"&&(window.MerkleMountainRange=Mne);zz.default=Mne;var $z={},fMe=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty($z,"__esModule",{value:!0});$z.IncrementalMerkleTree=void 0;const IEt=fMe(Fb),PEt=fMe(Tne.exports);class Bne extends IEt.default{constructor(e,t){if(super(),this.hashFn=e,t.depth&&(this.depth=t.depth),t.arity&&(this.arity=t.arity),this.depth<1)throw new Error("depth must be greater than 0");if(this.arity<1)throw new Error("arity must be greater than 0");const r=[];let s=t.zeroValue;if(this.zeroValue=s,this.zeroes=[],this.depth)for(let i=0;i<this.depth;i++)this.zeroes.push(s),r[i]=[],s=this.hashFn(Array(this.arity).fill(s));this.nodes=r,this.root=s}getRoot(){return this.root}getHexRoot(){return this.bufferToHex(this.bufferify(this.getRoot()))}insert(e){if(this.depth&&this.arity&&this.nodes[0].length>=this.getMaxLeaves())throw new Error("tree is full");let t=e,r=this.nodes[0].length;for(let s=0;s<this.depth;s+=1){const i=r%this.arity,o=r-i,a=o+this.arity,c=[];this.nodes[s][r]=t;for(let u=o;u<a;u+=1)u<this.nodes[s].length?c.push(this.nodes[s][u]):c.push(this.zeroes[s]);t=this.hashFn(c),r=Math.floor(r/this.arity)}this.root=t}delete(e){this.update(e,this.zeroValue)}update(e,t){if(e<0||e>=this.nodes[0].length)throw new Error("out of bounds");let r=t;for(let s=0;s<this.depth;s+=1){const i=e%this.arity,o=e-i,a=o+this.arity,c=[];this.nodes[s][e]=r;for(let u=o;u<a;u+=1)u<this.nodes[s].length?c.push(this.nodes[s][u]):c.push(this.zeroes[s]);r=this.hashFn(c),e=Math.floor(e/this.arity)}this.root=r}getDepth(){return this.depth}getArity(){return this.arity}getMaxLeaves(){return Math.pow(this.depth,this.arity)}indexOf(e){return this.nodes[0].indexOf(e)}getLeaves(){const e=this.copyList(this.nodes[0]),t=this.nodes[0].length;for(let r=t;r<this.getMaxLeaves();r++)e[r]=this.zeroValue;return e}copyList(e){return e.map(t=>BigInt(t))}getLayers(){const e=[];for(const t of this.nodes)e.push(this.copyList(t));if(e[0].length<this.getMaxLeaves()){let t=e[0].length;for(let r=t;r<this.getMaxLeaves();r++)e[0][r]=this.zeroValue;for(let r=0;r<this.depth;r++){const s=t%this.arity,i=t-s,o=i+this.arity;for(let a=i;a<o;a++)a>=e[r].length&&(e[r][a]=this.zeroes[r]);t=Math.floor(t/this.arity)}}return e.push([this.root]),e}getHexLayers(){return this.getLayers().reduce((e,t)=>(Array.isArray(t)?e.push(t.map(r=>this.bufferToHex(this.bufferify(r)))):e.push(t),e),[])}getLayersAsObject(){const e=this.getLayers().map(r=>r.map(s=>this.bufferToHex(this.bufferify(s),!1))),t=[];for(let r=0;r<e.length;r++){const s=[];for(let i=0;i<e[r].length;i++){const o={[e[r][i]]:null};if(t.length){o[e[r][i]]={};const a=t.shift(),c=Object.keys(a)[0];if(o[e[r][i]][c]=a[c],t.length){const u=t.shift(),l=Object.keys(u)[0];o[e[r][i]][l]=u[l]}}s.push(o)}t.push(...s)}return t[0]}computeRoot(){let e,t=this.nodes[0].length;for(let r=0;r<this.depth;r+=1){const s=t%this.arity,i=t-s,o=i+this.arity,a=[];for(let c=i;c<o;c+=1)c<this.nodes[r].length?a.push(this.nodes[r][c]):a.push(this.zeroes[r]);e=this.hashFn(a),t=Math.floor(t/this.arity)}return e}getProof(e){if(e<0||e>=this.nodes[0].length)throw new Error("The leaf does not exist in this tree");const t=[],r=[],s=e;for(let i=0;i<this.depth;i+=1){const o=e%this.arity,a=e-o,c=a+this.arity;r[i]=o,t[i]=[];for(let u=a;u<c;u+=1)u!==e&&(u<this.nodes[i].length?t[i].push(this.nodes[i][u]):t[i].push(this.zeroes[i]));e=Math.floor(e/this.arity)}return{root:this.root,leaf:this.nodes[0][s],pathIndices:r,siblings:t}}verify(e){let t=e.leaf;for(let r=0;r<e.siblings.length;r+=1){const s=e.siblings[r].slice();s.splice(e.pathIndices[r],0,t),t=this.hashFn(s)}return e.root===t}toString(){return this.toTreeString()}toTreeString(){const e=this.getLayersAsObject();return PEt.default.asTree(e,!0)}}$z.IncrementalMerkleTree=Bne;typeof window<"u"&&(window.IncrementalMerkleTree=Bne);$z.default=Bne;var od={};Object.defineProperty(od,"__esModule",{value:!0});od.MerkleSumTree=od.ProofStep=od.Leaf=od.Bucket=void 0;const _Et=Fb;class HO{constructor(e,t){this.size=BigInt(e),this.hashed=t,this.parent=null,this.left=null,this.right=null}}od.Bucket=HO;class EEt{constructor(e,t,r){this.hashFn=e,this.rng=t.map(s=>BigInt(s)),this.data=r}getBucket(){let e;return this.data?e=this.hashFn(this.data):e=Xe.Buffer.alloc(32),new HO(BigInt(this.rng[1])-BigInt(this.rng[0]),e)}}od.Leaf=EEt;class hMe{constructor(e,t){this.bucket=e,this.right=t}}od.ProofStep=hMe;class Dz extends _Et.Base{constructor(e,t){super(),this.leaves=e,this.hashFn=t,Dz.checkConsecutive(e),this.buckets=[];for(const s of e)this.buckets.push(s.getBucket());let r=[];for(const s of this.buckets)r.push(s);for(;r.length!==1;){const s=[];for(;r.length;)if(r.length>=2){const i=r.shift(),o=r.shift(),a=i.size+o.size,c=this.hashFn(Xe.Buffer.concat([this.sizeToBuffer(i.size),this.bufferify(i.hashed),this.sizeToBuffer(o.size),this.bufferify(o.hashed)])),u=new HO(a,c);o.parent=u,i.parent=o.parent,i.right=o,o.left=i,s.push(u)}else s.push(r.shift());r=s}this.root=r[0]}sizeToBuffer(e){const t=Xe.Buffer.alloc(8);return new DataView(t.buffer).setBigInt64(0,BigInt(e),!1),t}static checkConsecutive(e){let t=BigInt(0);for(const r of e){if(r.rng[0]!==t)throw new Error("leaf ranges are invalid");t=BigInt(r.rng[1])}}getProof(e){let t=this.buckets[Number(e)];const r=[];for(;t&&t.parent;){const s=!!t.right,i=t.right?t.right:t.left;t=t.parent,r.push(new hMe(i,s))}return r}sum(e){let t=BigInt(0);for(const r of e)t+=BigInt(r);return t}verifyProof(e,t,r){const s=[this.sum(r.filter(a=>!a.right).map(a=>a.bucket.size)),BigInt(e.size)-this.sum(r.filter(a=>a.right).map(a=>a.bucket.size))];if(!(s[0]===t.rng[0]&&s[1]===t.rng[1]))return!1;let i=t.getBucket(),o;for(const a of r)a.right?o=this.hashFn(Xe.Buffer.concat([this.sizeToBuffer(i.size),this.bufferify(i.hashed),this.sizeToBuffer(a.bucket.size),this.bufferify(a.bucket.hashed)])):o=this.hashFn(Xe.Buffer.concat([this.sizeToBuffer(a.bucket.size),this.bufferify(a.bucket.hashed),this.sizeToBuffer(i.size),this.bufferify(i.hashed)])),i=new HO(BigInt(i.size)+BigInt(a.bucket.size),o);return i.size===e.size&&i.hashed.toString("hex")===e.hashed.toString("hex")}}od.MerkleSumTree=Dz;typeof window<"u"&&(window.MerkleSumTree=Dz);od.default=Dz;(function(n){var e=K&&K.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(n,"__esModule",{value:!0}),n.MerkleTree=void 0;const t=e(Mz);n.MerkleTree=t.default;var r=zz;Object.defineProperty(n,"MerkleMountainRange",{enumerable:!0,get:function(){return r.MerkleMountainRange}});var s=$z;Object.defineProperty(n,"IncrementalMerkleTree",{enumerable:!0,get:function(){return s.IncrementalMerkleTree}});var i=od;Object.defineProperty(n,"MerkleSumTree",{enumerable:!0,get:function(){return i.MerkleSumTree}}),n.default=t.default})(K2e);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMerkleProofAtIndex=n.getMerkleProof=n.getMerkleRoot=void 0;const e=Z,t=HEe,r=K2e,s=(c,u)=>new r.MerkleTree([...c.map(l=>(0,e.publicKeyBytes)(l)),...Array(2**u-c.length).fill(0).map(()=>new Uint8Array(32).fill(0))],t.keccak_256),i=(c,u)=>(0,e.publicKey)(s(c,u).getRoot());n.getMerkleRoot=i;const o=(c,u,l,d)=>s(c,u).getProof(Xe.Buffer.from((0,e.publicKeyBytes)(l)),d).map(y=>(0,e.publicKey)(y.data));n.getMerkleProof=o;const a=(c,u,l)=>(0,n.getMerkleProof)(c,u,c[l],l);n.getMerkleProofAtIndex=a})(O2e);var fL={},gMe={},Oz={},Kz={};Object.defineProperty(Kz,"__esModule",{value:!0});Kz.DasApiError=void 0;class xEt extends Error{constructor(){super(...arguments),this.name="DasApiError"}}Kz.DasApiError=xEt;Object.defineProperty(Oz,"__esModule",{value:!0});Oz.createDasApiDecorator=void 0;const dl=Kz,TEt=n=>({...n,getAsset:async e=>{const t=await n.call("getAsset",[e]);if(!t)throw new dl.DasApiError(`Asset not found: ${e}`);return t},getAssetProof:async e=>{const t=await n.call("getAssetProof",[e]);if(!t)throw new dl.DasApiError(`No proof found for asset: ${e}`);return t},getAssetsByAuthority:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new dl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByAuthority",[e.authority,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new dl.DasApiError(`No assets found for authority: ${e.authority}`);return t},getAssetsByCreator:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new dl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByCreator",[e.creator,e.onlyVerified,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new dl.DasApiError(`No assets found for creator: ${e.creator}`);return t},getAssetsByGroup:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new dl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByGroup",[e.groupKey,e.groupValue,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new dl.DasApiError(`No assets found for group: ${e.groupKey} => ${e.groupValue}`);return t},getAssetsByOwner:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new dl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("getAssetsByOwner",[e.owner,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null]);if(!t)throw new dl.DasApiError(`No assets found for owner: ${e.owner}`);return t},searchAssets:async e=>{if(typeof e.page=="number"&&(e.before||e.after))throw new dl.DasApiError("Pagination Error. Please use either page or before/after, but not both.");const t=await n.call("searchAssets",[e.negate??null,e.conditionType??null,e.interface??null,e.owner??null,e.ownerType??null,e.creator??null,e.creatorVerified??null,e.authority??null,e.grouping??null,e.delegate??null,e.frozen??null,e.supply??null,e.supplyMint??null,e.compressed??null,e.compressible??null,e.royaltyModel??null,e.royaltyTarget??null,e.royaltyAmount??null,e.burnt??null,e.sortBy??null,e.limit??null,e.page??1,e.before??null,e.after??null,e.jsonUri??null]);if(!t)throw new dl.DasApiError("No assets found for the given search criteria");return t}});Oz.createDasApiDecorator=TEt;var hL={};Object.defineProperty(hL,"__esModule",{value:!0});hL.dasApi=void 0;const REt=Oz,CEt=()=>({install(n){n.rpc=(0,REt.createDasApiDecorator)(n.rpc)}});hL.dasApi=CEt;var mMe={};Object.defineProperty(mMe,"__esModule",{value:!0});(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Oz,n),t(Kz,n),t(hL,n),t(mMe,n)})(gMe);Object.defineProperty(fL,"__esModule",{value:!0});fL.mplBubblegum=void 0;const MEt=gMe,vU=lm,BEt=()=>({install(n){n.use((0,MEt.dasApi)()),n.programs.add((0,vU.createMplBubblegumProgram)(),!1),n.programs.add((0,vU.createSplAccountCompressionProgram)(),!1),n.programs.add((0,vU.createSplNoopProgram)(),!1)}});fL.mplBubblegum=BEt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(v6,n),t(cL,n),t(lm,n),t(uL,n),t(Yu,n),t(ph,n),t(Qg,n),t(O2e,n),t(fL,n)})(JJ);var Oc={},Lz={},vk={};Object.defineProperty(vk,"__esModule",{value:!0});var zEt=qs;function $Et(n){return n.toBase58()}function DEt(n){return new zEt.PublicKey(n)}vk.fromWeb3JsPublicKey=$Et;vk.toWeb3JsPublicKey=DEt;Object.defineProperty(Lz,"__esModule",{value:!0});var OEt=qs,KEt=V,GO=vk;function LEt(n){return{keys:n.keys.map(e=>({...e,pubkey:GO.fromWeb3JsPublicKey(e.pubkey)})),programId:GO.fromWeb3JsPublicKey(n.programId),data:new Uint8Array(n.data)}}function WEt(n){return new OEt.TransactionInstruction({keys:n.keys.map(e=>({...e,pubkey:GO.toWeb3JsPublicKey(e.pubkey)})),programId:GO.toWeb3JsPublicKey(n.programId),data:KEt.Buffer.from(n.data)})}Lz.fromWeb3JsInstruction=LEt;Lz.toWeb3JsInstruction=WEt;var gL={};Object.defineProperty(gL,"__esModule",{value:!0});var NEt=Z,FEt=qs,UEt=vk;function VEt(n){return{publicKey:UEt.fromWeb3JsPublicKey(n.publicKey),secretKey:n.secretKey}}function qEt(n){return new FEt.Keypair({publicKey:NEt.publicKeyBytes(n.publicKey),secretKey:n.secretKey})}gL.fromWeb3JsKeypair=VEt;gL.toWeb3JsKeypair=qEt;var VT={},qT={};Object.defineProperty(qT,"__esModule",{value:!0});var jEt=Z,G2=qs,dpe=Lz,Ug=vk;function HEt(n){return{version:n.version,header:n.header,accounts:n.staticAccountKeys.map(Ug.fromWeb3JsPublicKey),blockhash:n.recentBlockhash,instructions:n.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:n.addressTableLookups.map(e=>({publicKey:Ug.fromWeb3JsPublicKey(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function GEt(n){return n.version==="legacy"?new G2.Message({header:n.header,accountKeys:n.accounts.map(Ug.toWeb3JsPublicKey),recentBlockhash:n.blockhash,instructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accounts:e.accountIndexes,data:jEt.base58.deserialize(e.data)[0]}))}):new G2.MessageV0({header:n.header,staticAccountKeys:n.accounts.map(Ug.toWeb3JsPublicKey),recentBlockhash:n.blockhash,compiledInstructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accountKeyIndexes:e.accountIndexes,data:e.data})),addressTableLookups:n.addressLookupTables.map(e=>({accountKey:Ug.toWeb3JsPublicKey(e.publicKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))})}function YEt(n){var e;return n.version==="legacy"?G2.Message.compile({payerKey:Ug.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(dpe.toWeb3JsInstruction),recentBlockhash:n.blockhash}):G2.MessageV0.compile({payerKey:Ug.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(dpe.toWeb3JsInstruction),recentBlockhash:n.blockhash,addressLookupTableAccounts:(e=n.addressLookupTables)==null?void 0:e.map(t=>new G2.AddressLookupTableAccount({key:Ug.toWeb3JsPublicKey(t.publicKey),state:{addresses:t.addresses.map(Ug.toWeb3JsPublicKey),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}qT.fromWeb3JsMessage=HEt;qT.toWeb3JsMessage=GEt;qT.toWeb3JsMessageFromInput=YEt;Object.defineProperty(VT,"__esModule",{value:!0});var ZEt=Z,zne=qs,$ne=qT;function JEt(n){return{message:$ne.fromWeb3JsMessage(n.message),serializedMessage:n.message.serialize(),signatures:n.signatures}}function yMe(n){return new zne.VersionedTransaction($ne.toWeb3JsMessage(n.message),n.signatures)}function XEt(n){const e=n.compileMessage(),t=n.signatures.reduce((s,i)=>(s[i.publicKey.toBase58()]=i.signature?new Uint8Array(i.signature):null,s),{}),r=[];for(let s=0;s<e.header.numRequiredSignatures;s+=1){const i=e.accountKeys[s].toBase58(),o=t[i]??null;r.push(o??new Uint8Array(zne.SIGNATURE_LENGTH_IN_BYTES))}return{message:$ne.fromWeb3JsMessage(e),serializedMessage:e.serialize(),signatures:r}}function QEt(n){const e=yMe({...n,message:{...n.message,version:"legacy"}});return zne.Transaction.populate(e.message,e.signatures.map(t=>ZEt.base58.deserialize(t)[0]))}VT.fromWeb3JsLegacyTransaction=XEt;VT.fromWeb3JsTransaction=JEt;VT.toWeb3JsLegacyTransaction=QEt;VT.toWeb3JsTransaction=yMe;Object.defineProperty(Oc,"__esModule",{value:!0});var pMe=Lz,bMe=gL,SMe=vk,mL=VT,Dne=qT;Oc.fromWeb3JsInstruction=pMe.fromWeb3JsInstruction;Oc.toWeb3JsInstruction=pMe.toWeb3JsInstruction;Oc.fromWeb3JsKeypair=bMe.fromWeb3JsKeypair;Oc.toWeb3JsKeypair=bMe.toWeb3JsKeypair;Oc.fromWeb3JsPublicKey=SMe.fromWeb3JsPublicKey;Oc.toWeb3JsPublicKey=SMe.toWeb3JsPublicKey;Oc.fromWeb3JsLegacyTransaction=mL.fromWeb3JsLegacyTransaction;Oc.fromWeb3JsTransaction=mL.fromWeb3JsTransaction;Oc.toWeb3JsLegacyTransaction=mL.toWeb3JsLegacyTransaction;Oc.toWeb3JsTransaction=mL.toWeb3JsTransaction;Oc.fromWeb3JsMessage=Dne.fromWeb3JsMessage;Oc.toWeb3JsMessage=Dne.toWeb3JsMessage;Oc.toWeb3JsMessageFromInput=Dne.toWeb3JsMessageFromInput;var yL={},pL={};(function(n){var e=K&&K.__decorate||function(y,h,m,f){var g=arguments.length,b=g<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,m):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,h,m,f);else for(var p=y.length-1;p>=0;p--)(S=y[p])&&(b=(g<3?S(b):g>3?S(h,m,b):S(h,m))||b);return g>3&&b&&Object.defineProperty(h,m,b),b},t=K&&K.__metadata||function(y,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,h)},r=K&&K.__awaiter||function(y,h,m,f){function g(b){return b instanceof m?b:new m(function(S){S(b)})}return new(m||(m=Promise))(function(b,S){function p(A){try{w(f.next(A))}catch(_){S(_)}}function I(A){try{w(f.throw(A))}catch(_){S(_)}}function w(A){A.done?b(A.value):g(A.value).then(p,I)}w((f=f.apply(y,h||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.StarbasePlayer=n.starbasePlayerDataEquals=n.STAR_BASE_PLAYER_MIN_DATA_SIZE=void 0;const i=sl,o=qs,a=HK,c=tr,u=rl;n.STAR_BASE_PLAYER_MIN_DATA_SIZE=8+1+32+32+32+32+1+4+4+8+8+4+4;function l(y,h){return y.version===h.version&&y.playerProfile.equals(h.playerProfile)&&y.gameId.equals(h.gameId)&&y.starbase.equals(h.starbase)&&y.sagePlayerProfile.equals(h.sagePlayerProfile)&&y.bump===h.bump&&y.shipEscrowCount==h.shipEscrowCount&&y.updatedShipEscrowCount==h.updatedShipEscrowCount&&y.updateId.eq(h.updateId)&&y.oldTotalCrew==h.oldTotalCrew&&y.newTotalCrew==h.newTotalCrew&&y.busyCrew.eq(h.busyCrew)}n.starbasePlayerDataEquals=l;let d=s=class{constructor(h,m,f){this._data=h,this._key=m,this._wrappedShipEscrows=f}get data(){return this._data}get key(){return this._key}get wrappedShipEscrows(){return this._wrappedShipEscrows||[]}totalCrew(h=u.CREW_FEATURE){return h?this.data.newTotalCrew:this.data.oldTotalCrew}static findAddress(h,m,f,g){const b=new ArrayBuffer(2),S=new DataView(b);S.setUint16(0,g,!0);const p=new Uint8Array(S.buffer);return o.PublicKey.findProgramAddressSync([Xe.Buffer.from("starbase_player"),m.toBuffer(),f.toBuffer(),p],h.programId)}static registerStarbasePlayer(h,m,f,g,b,S,p){return I=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.registerStarbasePlayer().accountsStrict({profileFaction:m,funder:I.publicKey(),gameAccounts:{gameId:b,gameState:S},sagePlayerProfile:f,starbase:g,starbasePlayer:this.findAddress(h,g,f,p)[0],systemProgram:o.SystemProgram.programId}).instruction(),signers:[I]}]})}static syncStarbasePlayer(h,m,f,g,b){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.syncStarbasePlayer().accountsStrict({starbaseAndStarbasePlayer:{starbase:f,starbasePlayer:m},gameAccounts:{gameId:g,gameState:b}}).instruction(),signers:[]}]})}static createCargoPod(h,m,f,g,b,S,p,I,w,A,_){const E=a.CargoPod.findAddress(m,Xe.Buffer.from(_.podSeeds))[0];return M=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.createCargoPod(_).accountsStrict({funder:M.publicKey(),starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:w},gameState:A},cargoPod:E,cargoStatsDefinition:I,cargoProgram:m.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[g,M]}]})}static depositCargoToGame(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.depositCargoToGame(R).accountsStrict({starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:M},gameState:P},cargoPod:I,cargoType:w,cargoStatsDefinition:A,tokenFrom:_,tokenTo:E,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static withdrawCargoFromGame(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$,z){return T=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.withdrawCargoFromGame(z).accountsStrict({fundsTo:b==="funder"?T.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:R},gameState:$},cargoPod:w,cargoType:A,cargoStatsDefinition:_,tokenFrom:E,tokenTo:M,tokenMint:P,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static transferCargoAtStarbase(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$,z,T){return v=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.transferCargoAtStarbase(T).accountsStrict({fundsTo:b==="funder"?v.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:$},gameState:z},cargoPodFrom:w,cargoPodTo:A,cargoType:_,cargoStatsDefinition:E,tokenFrom:M,tokenTo:P,tokenMint:R,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static closeStarbaseCargoTokenAccount(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$){return z=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.closeStarbaseCargoTokenAccount($).accountsStrict({fundsTo:b==="funder"?z.publicKey():b,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:S,profileFaction:p,gameId:P},gameState:R},cargoPod:w,cargoType:A,cargoStatsDefinition:_,token:E,tokenMint:M,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).instruction(),signers:[g]}]})}static removeCargoPod(h,m,f,g,b,S,p,I,w,A,_,E){return M=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.removeCargoPod(E).accountsStrict({fundsTo:p==="funder"?M.publicKey():p,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:A},gameState:_},cargoPod:w,cargoProgram:m.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[g]}]})}static mintCertificate(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$,z,T){return()=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.mintCertificate(T.keyIndex,T.amount).accountsStrict({starbaseAndStarbasePlayer:{starbase:p,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:$},gameState:z},certificateTokenTo:_,certificateMint:E,cargoTokenFrom:M,cargoTokenTo:P,cargoMint:R,cargoPod:I,cargoType:w,cargoStatsDefinition:A,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID,token2022Program:i.TOKEN_2022_PROGRAM_ID}).instruction(),signers:[g]}]})}static redeemCertificate(h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$,z,T,v,k){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield h.methods.redeemCertificate(k.keyIndex,k.amount).accountsStrict({certificateOwnerAuthority:M.publicKey(),fundsTo:p==="funder"?x.publicKey():p,starbaseAndStarbasePlayer:{starbase:I,starbasePlayer:f},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:g.publicKey(),profile:b,profileFaction:S,gameId:T},gameState:v},certificateTokenFrom:E,certificateMint:P,cargoTokenFrom:R,cargoTokenTo:$,cargoMint:z,cargoPod:w,cargoType:A,cargoStatsDefinition:_,cargoProgram:m.programId,tokenProgram:i.TOKEN_PROGRAM_ID,token2022Program:i.TOKEN_2022_PROGRAM_ID}).instruction(),signers:[g,M]}]})}static decodeData(h,m){return(0,c.decodeAccountWithRemaining)(h,m,s,(g,b)=>Array(b.shipEscrowCount).fill(0).map((S,p)=>m.coder.types.decode("WrappedShipEscrow",g.subarray(48*p).subarray(0,48))))}};n.StarbasePlayer=d,d.ACCOUNT_NAME="starbasePlayer",d.MIN_DATA_SIZE=n.STAR_BASE_PLAYER_MIN_DATA_SIZE,n.StarbasePlayer=d=s=e([(0,c.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],d)})(pL);(function(n){var e=K&&K.__awaiter||function(w,A,_,E){function M(P){return P instanceof _?P:new _(function(R){R(P)})}return new(_||(_=Promise))(function(P,R){function $(v){try{T(E.next(v))}catch(k){R(k)}}function z(v){try{T(E.throw(v))}catch(k){R(k)}}function T(v){v.done?P(v.value):M(v.value).then($,z)}T((E=E.apply(w,A||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0}),n.divideIntoParts=n.normalizePublicKey=n.findExtraAccountMetaListAddress=n.findCertificateMintAddress=n.cleanUpStarbaseCargoPods=n.getPodCleanupInstructions=n.getCleanPodsByStarbasePlayerAccounts=n.cleanCargoPodsByStarbasePlayer=n.getCargoPodsByAuthority=n.getStarbasePlayersByProfile=n.getTokenAmountToReachTargetStat=n.getCargoSpaceUsedByTokenAmount=n.getUsedCargoSpace=n.SAGE_CARGO_STAT_VALUE_INDEX=void 0;const t=sl,r=qs,s=cc,i=HK,o=tr,a=pL;n.SAGE_CARGO_STAT_VALUE_INDEX=0;const c=w=>w.stats[n.SAGE_CARGO_STAT_VALUE_INDEX];n.getUsedCargoSpace=c;const u=(w,A)=>A.mul(w.stats[n.SAGE_CARGO_STAT_VALUE_INDEX]);n.getCargoSpaceUsedByTokenAmount=u;const l=(w,A)=>{const _=w.stats[n.SAGE_CARGO_STAT_VALUE_INDEX];return _.gt(new s.BN(0))?A.div(_):A};n.getTokenAmountToReachTargetStat=l;const d=(w,A,_,E)=>e(void 0,void 0,void 0,function*(){return yield(0,o.readAllFromRPC)(w,A,a.StarbasePlayer,"processed",[{memcmp:{offset:8+1,bytes:_.toBase58()}},{memcmp:{offset:8+1+32,bytes:E.toBase58()}}])});n.getStarbasePlayersByProfile=d;const y=(w,A,_)=>e(void 0,void 0,void 0,function*(){return yield(0,o.readAllFromRPC)(w,A,i.CargoPod,"processed",[{memcmp:{offset:8+1+32,bytes:_.toBase58()}}])});n.getCargoPodsByAuthority=y;const h=(w,A,_,E,M,P,R,$,z,T,v,k)=>e(void 0,void 0,void 0,function*(){const x=[],C=[],B=yield(0,n.getCargoPodsByAuthority)(w,_,E);if(B.length>1){let O=B.map(W=>{if(W.type==="error")throw new Error("Error reading CargoPod account");return W.data});const D=O.reduce(function(W,L){return W.data.openTokenAccounts>L.data.openTokenAccounts?W:L});O=O.filter(W=>!W.key.equals(D.key));for(let W=0;W<O.length;W++){const L=O[W],N=yield(0,o.getParsedTokenAccountsByOwner)(w,L.key);if(N.length>0)for(let H=0;H<N.length;H++){const J=N[H],Q=i.CargoType.findAddress(_,$,J.mint,L.data.seqId)[0];if(Number(J.delegatedAmount)>0){const Y=(0,o.createAssociatedTokenAccountIdempotent)(J.mint,D.key,!0,t.TOKEN_PROGRAM_ID),X=Y.address.toBase58();C.includes(X)||(C.push(X),x.push(Y.instructions));const re=a.StarbasePlayer.transferCargoAtStarbase(A,_,E,v,"funder",P,R,M,L.key,D.key,Q,$,J.address,Y.address,J.mint,z,T,{amount:new s.BN(J.delegatedAmount.toString()),keyIndex:k});x.push(re)}else{const Y=a.StarbasePlayer.closeStarbaseCargoTokenAccount(A,_,E,v,"funder",P,R,M,L.key,Q,$,J.address,J.mint,z,T,{keyIndex:k});x.push(Y)}}x.push(a.StarbasePlayer.removeCargoPod(A,_,E,v,P,R,"funder",M,L.key,z,T,{keyIndex:k}))}}return x});n.cleanCargoPodsByStarbasePlayer=h;const m=(w,A,_)=>e(void 0,void 0,void 0,function*(){const E=yield(0,n.getCargoPodsByAuthority)(w,A,_);if(E.length>1){let M=E.map($=>{if($.type==="error")throw new Error("Error reading CargoPod account");return $.data});const P=M.reduce(function($,z){return $.data.openTokenAccounts>z.data.openTokenAccounts?$:z});M=M.filter($=>!$.key.equals(P.key));const R=[];for(let $=0;$<M.length;$++){const z=M[$],T=yield(0,o.getParsedTokenAccountsByOwner)(w,z.key),v=[z.key,T];R.push(v)}return{mainPod:P.key,podsAndTokensToClean:R,cargoSeqId:P.data.seqId}}});n.getCleanPodsByStarbasePlayerAccounts=m;const f=(w,A,_,E,M,P,R,$,z,T,v,k)=>{const x=[],C=[];if(w.podsAndTokensToClean.length>1)for(let B=0;B<w.podsAndTokensToClean.length;B++){const O=w.podsAndTokensToClean[B],D=O[0],W=O[1];if(W.length>0)for(let L=0;L<W.length;L++){const N=W[L],H=i.CargoType.findAddress(_,$,N.mint,w.cargoSeqId)[0];if(Number(N.delegatedAmount)>0){const J=(0,o.createAssociatedTokenAccountIdempotent)(N.mint,w.mainPod,!0,t.TOKEN_PROGRAM_ID),Q=J.address.toBase58();C.includes(Q)||(C.push(Q),x.push(J.instructions));const Y=a.StarbasePlayer.transferCargoAtStarbase(A,_,E,v,"funder",P,R,M,D,w.mainPod,H,$,N.address,J.address,N.mint,z,T,{amount:new s.BN(N.delegatedAmount.toString()),keyIndex:k});x.push(Y)}else{const J=a.StarbasePlayer.closeStarbaseCargoTokenAccount(A,_,E,v,"funder",P,R,M,D,H,$,N.address,N.mint,z,T,{keyIndex:k});x.push(J)}}x.push(a.StarbasePlayer.removeCargoPod(A,_,E,v,P,R,"funder",M,D,z,T,{keyIndex:k}))}return x};n.getPodCleanupInstructions=f;const g=(w,A,_,E,M,P,R,$,z,T)=>e(void 0,void 0,void 0,function*(){const v=[],k=yield(0,n.getStarbasePlayersByProfile)(w,A,E,R);if(k.length>0)for(let x=0;x<k.length;x++){const C=k[x];if(!C||C.type==="error")throw new Error("Error reading StarbasePlayer account");const B=yield(0,n.getCleanPodsByStarbasePlayerAccounts)(w,_,C.key),O=B?(0,n.getPodCleanupInstructions)(B,A,_,C.key,C.data.data.starbase,E,M,P,R,$,z,T):[];O.length>0&&v.push(...O)}else console.log("No StarbasePlayer accounts");return v});n.cleanUpStarbaseCargoPods=g;const b=(w,A,_,E)=>{const M=new ArrayBuffer(2),P=new DataView(M);P.setUint16(0,E,!0);const R=new Uint8Array(P.buffer);return r.PublicKey.findProgramAddressSync([Xe.Buffer.from("CertificateMint"),_.toBuffer(),A.toBuffer(),R],w.programId)};n.findCertificateMintAddress=b;const S=(w,A)=>r.PublicKey.findProgramAddressSync([Xe.Buffer.from("extra-account-metas"),A.toBuffer()],w);n.findExtraAccountMetaListAddress=S;const p=w=>Array.isArray(w)?new r.PublicKey(w):w;n.normalizePublicKey=p;function I(w,A){const _=Math.floor(w/A),E=w%A,M=Array(A).fill(_);for(let P=0;P<E;P++)M[P]+=1;return M}n.divideIntoParts=I})(yL);var ext=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},txt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},P0=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Aj;Object.defineProperty(Cl,"__esModule",{value:!0});Cl.SagePlayerProfile=Cl.crewTransferRemainingAccounts=Cl.crewTransferIxData=Cl.sppDataEquals=void 0;const J0=JJ,rxt=Oc,AU=sl,_g=qs,kMe=tr,fpe=rl,wj=yL;function nxt(n,e){return n.version===e.version&&n.playerProfile.equals(e.playerProfile)&&n.gameId.equals(e.gameId)&&n.bump===e.bump}Cl.sppDataEquals=nxt;function Ij(n){const e=(0,wj.normalizePublicKey)(n.dataHash).toBytes();return{dataHash:Array.from(e),leafIndex:n.leafIndex,proofCount:n.proof.length}}Cl.crewTransferIxData=Ij;function Pj(n){const e=_g.PublicKey.findProgramAddressSync([n.merkleTree.toBuffer()],(0,rxt.toWeb3JsPublicKey)(J0.MPL_BUBBLEGUM_PROGRAM_ID))[0],t=[{pubkey:n.merkleTree,isSigner:!1,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:(0,wj.normalizePublicKey)(n.root),isSigner:!1,isWritable:!1},{pubkey:(0,wj.normalizePublicKey)(n.creatorHash),isSigner:!1,isWritable:!1}];for(const r of n.proof)t.push({pubkey:r,isSigner:!1,isWritable:!1});return t}Cl.crewTransferRemainingAccounts=Pj;let gB=Aj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findAddress(e,t,r){return _g.PublicKey.findProgramAddressSync([Xe.Buffer.from("sage_player_profile"),t.toBuffer(),r.toBuffer()],e.programId)}static registerSagePlayerProfile(e,t,r,s){return i=>P0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerSagePlayerProfile().accountsStrict({profile:t,funder:i.publicKey(),sagePlayerProfile:this.findAddress(e,t,r)[0],gameAccounts:{gameId:r,gameState:s},systemProgram:_g.SystemProgram.programId}).instruction(),signers:[i]}]})}static addShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>P0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addShipEscrow(h).accountsStrict({funder:m.publicKey(),sagePlayerProfile:s,originTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},gameAccountsAndProfile:{gameAndProfileAndFaction:{key:i.publicKey(),profile:t,profileFaction:r,gameId:d},gameState:y},tokenProgram:AU.TOKEN_PROGRAM_ID,systemProgram:_g.SystemProgram.programId}).instruction(),signers:[i,m]}]})}static updateShipEscrow(e,t,r,s,i,o,a,c){return()=>P0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateShipEscrow(c).accountsStrict({oldShip:t,next:r,starbaseAndStarbasePlayer:{starbase:i,starbasePlayer:s},gameAccounts:{gameId:o,gameState:a}}).instruction(),signers:[]}]})}static removeShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>P0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeShipEscrow(h).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:d},gameState:y},fundsTo:m.publicKey(),sagePlayerProfile:i,destinationTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},tokenProgram:AU.TOKEN_PROGRAM_ID,systemProgram:_g.SystemProgram.programId}).instruction(),signers:[t]}]})}static removeInvalidShipEscrow(e,t,r,s,i,o,a,c,u,l,d,y,h){return m=>P0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeInvalidShipEscrow(h).accountsStrict({gameAccountsAndProfile:{gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:d},gameState:y},fundsTo:m.publicKey(),sagePlayerProfile:i,destinationTokenAccount:o,ship:a,shipEscrowTokenAccount:c,starbaseAndStarbasePlayer:{starbase:l,starbasePlayer:u},tokenProgram:AU.TOKEN_PROGRAM_ID,systemProgram:_g.SystemProgram.programId}).instruction(),signers:[t]}]})}static addCrewToGame(e,t,r,s,i,o,a,c,u,l){const d=u.items.map(Pj).flat();return()=>P0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.addCrewToGame({items:u.items.map(Ij)}).accountsStrict({sagePlayerProfile:this.findAddress(e,t,c)[0],starbaseAndStarbasePlayer:{starbase:o,starbasePlayer:i},sageCrewConfig:fpe.SageCrewConfig.findAddress(e,c)[0],gameAndProfileAndFaction:{key:s.publicKey(),profile:t,profileFaction:r,gameId:c},crewConfig:a,crewOwner:s.publicKey(),crewDelegate:l??s.publicKey(),compressionProgram:J0.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,bubblegumProgram:J0.MPL_BUBBLEGUM_PROGRAM_ID,logWrapper:J0.SPL_NOOP_PROGRAM_ID,systemProgram:_g.SystemProgram.programId}).remainingAccounts(d).instruction(),signers:[s]}]})}static removeCrewFromGame(e,t,r,s,i,o,a,c,u,l,d){if(l.items.length===0)throw new Error("No crew members being removed!");const y=l.items.map(Pj).flat(),h=this.findAddress(e,r,u)[0];return()=>P0(this,void 0,void 0,function*(){return[{instruction:yield e.methods.removeCrewFromGame({keyIndex:l.keyIndex,items:l.items.map(Ij)}).accountsStrict({sagePlayerProfile:h,starbaseAndStarbasePlayer:{starbase:a,starbasePlayer:o},sageCrewConfig:fpe.SageCrewConfig.findAddress(e,u)[0],gameAndProfileAndFaction:{key:t.publicKey(),profile:r,profileFaction:s,gameId:u},crewConfig:c,newCrewOwner:i,crewDelegate:d??h,compressionProgram:J0.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,bubblegumProgram:J0.MPL_BUBBLEGUM_PROGRAM_ID,logWrapper:J0.SPL_NOOP_PROGRAM_ID,systemProgram:_g.SystemProgram.programId}).remainingAccounts(y).instruction(),signers:[t]}]})}static decodeData(e,t){return(0,kMe.decodeAccount)(e,t,Aj)}};Cl.SagePlayerProfile=gB;gB.ACCOUNT_NAME="sagePlayerProfile";gB.MIN_DATA_SIZE=8+1+32+32+1;Cl.SagePlayerProfile=gB=Aj=ext([(0,kMe.staticImplements)(),txt("design:paramtypes",[Object,_g.PublicKey])],gB);var Yf={},sxt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},ixt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},hpe=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},_j;Object.defineProperty(Yf,"__esModule",{value:!0});Yf.Star=Yf.starDataEquals=Yf.StarType=void 0;const vMe=qs,Ly=tr;var gpe;(function(n){n[n.WhiteDwarf=0]="WhiteDwarf",n[n.RedDwarf=1]="RedDwarf",n[n.Solar=2]="Solar",n[n.HotBlue=3]="HotBlue",n[n.RedGiant=4]="RedGiant"})(gpe||(Yf.StarType=gpe={}));function oxt(n,e){return n.version===e.version&&(0,Ly.arrayDeepEquals)(n.sector,e.sector,(t,r)=>t.eq(r))&&n.gameId.equals(e.gameId)&&n.size.eq(e.size)&&(0,Ly.arrayDeepEquals)(n.name,e.name,(t,r)=>t===r)&&(0,Ly.arrayDeepEquals)(n.subCoordinates,e.subCoordinates,(t,r)=>t.eq(r))&&n.starType===e.starType}Yf.starDataEquals=oxt;let mB=_j=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}get prettyName(){return(0,Ly.byteArrayToString)(this.data.name)}static registerStar(e){const{program:t,key:r,profile:s,star:i,sector:o,gameId:a,input:c}=e;return u=>hpe(this,void 0,void 0,function*(){return[{instruction:yield t.methods.registerStar(Object.assign(Object.assign({},c),{name:(0,Ly.stringToByteArray)(c.name,64),starType:c.starType})).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:s,gameId:a},funder:u.publicKey(),star:i.publicKey(),sector:o,systemProgram:vMe.SystemProgram.programId}).instruction(),signers:[r,u,i]}]})}static updateStar(e){const{profile:t,key:r,program:s,star:i,gameId:o,input:a}=e;return()=>hpe(this,void 0,void 0,function*(){return[{instruction:yield s.methods.updateStar({keyIndex:a.keyIndex,name:a.name==null?null:(0,Ly.stringToByteArray)(a.name,64),size:a.size==null?null:a.size,starType:a.starType==null?null:a.starType}).accountsStrict({gameAndProfile:{key:r.publicKey(),profile:t,gameId:o},star:i}).instruction(),signers:[r]}]})}static decodeData(e,t){return(0,Ly.decodeAccount)(e,t,_j)}};Yf.Star=mB;mB.ACCOUNT_NAME="star";mB.MIN_DATA_SIZE=8+1+64+32+8*2+8*2+1+8;Yf.Star=mB=_j=sxt([(0,Ly.staticImplements)(),ixt("design:paramtypes",[Object,vMe.PublicKey])],mB);var One={};(function(n){var e=K&&K.__decorate||function(M,P,R,$){var z=arguments.length,T=z<3?P:$===null?$=Object.getOwnPropertyDescriptor(P,R):$,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(M,P,R,$);else for(var k=M.length-1;k>=0;k--)(v=M[k])&&(T=(z<3?v(T):z>3?v(P,R,T):v(P,R))||T);return z>3&&T&&Object.defineProperty(P,R,T),T},t=K&&K.__metadata||function(M,P){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(M,P)},r=K&&K.__awaiter||function(M,P,R,$){function z(T){return T instanceof R?T:new R(function(v){v(T)})}return new(R||(R=Promise))(function(T,v){function k(B){try{C($.next(B))}catch(O){v(O)}}function x(B){try{C($.throw(B))}catch(O){v(O)}}function C(B){B.done?T(B.value):z(B.value).then(k,x)}C(($=$.apply(M,P||[])).next())})},s;Object.defineProperty(n,"__esModule",{value:!0}),n.Starbase=n.calculateCurrentResourceTimeStop=n.calculateCurrentResourceTimeSlow=n.calculateResourceExhaustionTime=n.starbaseDataEquals=n.MIN_CSS_LEVEL=n.UpkeepResourceType=n.StarbaseUpgradeState=n.StarbaseState=n.StarbaseFaction=void 0;const i=sl,o=qs,a=cc,c=wZ,u=tr,l=JY,d=ud,y=jK,h=Au,m=yL;var f;(function(M){M[M.Unaligned=0]="Unaligned",M[M.MUD=1]="MUD",M[M.ONI=2]="ONI",M[M.Ustur=3]="Ustur"})(f||(n.StarbaseFaction=f={}));var g;(function(M){M[M.Active=1]="Active",M[M.Destroyed=2]="Destroyed"})(g||(n.StarbaseState=g={}));var b;(function(M){M[M.NotStarted=1]="NotStarted",M[M.Started=2]="Started",M[M.Completed=3]="Completed"})(b||(n.StarbaseUpgradeState=b={}));var S;(function(M){M[M.Ammo=1]="Ammo",M[M.Food=2]="Food",M[M.Toolkit=3]="Toolkit"})(S||(n.UpkeepResourceType=S={})),n.MIN_CSS_LEVEL=6;function p(M,P,R){const $=M.version===P.version&&M.gameId.equals(P.gameId)&&(0,u.arrayDeepEquals)(M.sector,P.sector,(z,T)=>z.eq(T))&&M.craftingFacility.equals(P.craftingFacility)&&M.upgradeFacility.equals(P.upgradeFacility)&&(0,u.arrayDeepEquals)(M.name,P.name,(z,T)=>z===T)&&(0,u.arrayDeepEquals)(M.subCoordinates,P.subCoordinates,(z,T)=>z.eq(T))&&M.faction===P.faction&&M.bump===P.bump&&M.seqId===P.seqId&&M.state===P.state&&M.upgradeState===P.upgradeState&&M.level===P.level&&M.hp.eq(P.hp)&&M.sp.eq(P.sp)&&M.sectorRingAvailable===P.sectorRingAvailable&&(0,u.arrayDeepEquals)(M.upgradeIngredientsChecksum,P.upgradeIngredientsChecksum,(z,T)=>z===T)&&M.numUpgradeIngredients===P.numUpgradeIngredients&&M.upkeepAmmoBalance.eq(P.upkeepAmmoBalance)&&M.upkeepAmmoLastUpdate.eq(P.upkeepAmmoLastUpdate)&&M.upkeepAmmoGlobalLastUpdate.eq(P.upkeepAmmoGlobalLastUpdate)&&M.upkeepFoodBalance.eq(P.upkeepFoodBalance)&&M.upkeepFoodLastUpdate.eq(P.upkeepFoodLastUpdate)&&M.upkeepFoodGlobalLastUpdate.eq(P.upkeepFoodGlobalLastUpdate)&&M.upkeepToolkitBalance.eq(P.upkeepToolkitBalance)&&M.upkeepToolkitLastUpdate.eq(P.upkeepToolkitLastUpdate)&&M.upkeepToolkitGlobalLastUpdate.eq(P.upkeepToolkitGlobalLastUpdate)&&M.builtDestroyedTimestamp.eq(P.builtDestroyedTimestamp);return!$&&R==="printOnFalse"&&(console.log(`data1: ${JSON.stringify(M,null,2)}`),console.log(`data2: ${JSON.stringify(P,null,2)}`)),$}n.starbaseDataEquals=p;const I=(M,P,R)=>R>0?M.add(P.div(new a.BN(R))):M;n.calculateResourceExhaustionTime=I;const w=(M,P,R,$,z,T)=>{const{globalElapsedTime:v,adjustedLocalElapsedTime:k,maxElapsedTime:x,finalBalance:C}=_(M,P,R,$,z),B=a.BN.min(k,x),O=B.eq(x)?v.mul(new a.BN(100)).sub(B.mul(new a.BN(100))).mul(new a.BN(l.EMPTY_CRAFTING_SPEED_PER_TIER[T]*100)).div(new a.BN(100)):new a.BN(0);return{localTime:P.mul(new a.BN(100)).add(k.mul(new a.BN(100))).add(O).toNumber()/100,newBalance:C.toNumber()}};n.calculateCurrentResourceTimeSlow=w;const A=(M,P,R,$,z)=>{const{adjustedLocalElapsedTime:T,finalBalance:v}=_(M,P,R,$,z);return{localTime:P.add(T),newBalance:v}};n.calculateCurrentResourceTimeStop=A;const _=(M,P,R,$,z)=>{const T=M.gt(R)?M.sub(R):new a.BN(0),v=z>0?$.div(new a.BN(z)):new a.BN(0),k=a.BN.min(v,T),C=P.add(k).gt(M)?M.sub(P):k,B=C.mul(new a.BN(z)),O=$.sub(B),D=O.lt(new a.BN(0))?new a.BN(0):O;return{globalElapsedTime:T,adjustedLocalElapsedTime:C,maxElapsedTime:v,finalBalance:D}};let E=s=class{constructor(P,R,$){this._data=P,this._key=R,this._upgradeIngredientAmounts=$}get data(){return this._data}get key(){return this._key}get upgradeIngredientAmounts(){return this._upgradeIngredientAmounts||[]}isCentralSpaceStation(){return this.data.level>=n.MIN_CSS_LEVEL}getUpkeepInfo(P){const R=P.data.fleet.upkeep;let $;switch(this.data.level){case 0:$=R.level0;break;case 1:$=R.level1;break;case 2:$=R.level2;break;case 3:$=R.level3;break;case 4:$=R.level4;break;case 5:$=R.level5;break;case 6:$=R.level6;break;default:throw"Invalid Starbase level."}return $}getStarbaseTime(P,R,$){const z=this.getUpkeepInfo($);let T,v,k,x,C;switch(P){case S.Ammo:T=z.ammoReserve,v=z.ammoDepletionRate,k=this.data.upkeepAmmoBalance,x=this.data.upkeepAmmoLastUpdate,C=this.data.upkeepAmmoGlobalLastUpdate;break;case S.Food:T=z.foodReserve,v=z.foodDepletionRate,k=this.data.upkeepFoodBalance,x=this.data.upkeepFoodLastUpdate,C=this.data.upkeepFoodGlobalLastUpdate;break;case S.Toolkit:T=z.toolkitReserve,v=z.toolkitDepletionRate,k=this.data.upkeepToolkitBalance,x=this.data.upkeepToolkitLastUpdate,C=this.data.upkeepToolkitGlobalLastUpdate;break;default:throw"Invalid resource type."}return v=v/y.GLOBAL_SCALE_DECIMALS_2,T.eq(new a.BN(0))?R:new a.BN((0,n.calculateCurrentResourceTimeSlow)(R,x,C,k,v,this.data.level).localTime)}static findAddress(P,R,$){return o.PublicKey.findProgramAddressSync([Xe.Buffer.from("Starbase"),R.toBuffer(),$[0].toTwos(64).toArrayLike(Xe.Buffer,"le",8),$[1].toTwos(64).toArrayLike(Xe.Buffer,"le",8)],P.programId)}static registerStarbase(P,R,$,z,T,v,k){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.registerStarbase(k).accountsStrict({funder:x.publicKey(),starbase:this.findAddress(P,T,k.sectorCoordinates)[0],sector:z,gameStateAndProfile:{gameAndProfile:{key:R.publicKey(),profile:$,gameId:T},gameState:v},systemProgram:o.SystemProgram.programId}).instruction(),signers:[R,x]}]})}static updateStarbase(P,R,$,z,T,v,k,x,C){const B=[];return[k,x,C].forEach(O=>O&&B.push({pubkey:O,isSigner:!1,isWritable:!1})),O=>r(this,void 0,void 0,function*(){var D,W;return[{instruction:yield P.methods.updateStarbase({name:(D=v.name)!==null&&D!==void 0?D:null,subCoordinates:(W=v.subCoordinates)!==null&&W!==void 0?W:null,keyIndex:v.keyIndex}).accountsStrict({gameAndProfile:{key:$.publicKey(),profile:z,gameId:T},funder:O.publicKey(),starbase:R,systemProgram:o.SystemProgram.programId}).remainingAccounts(B).instruction(),signers:[$,O]}]})}static createStarbaseUpgradeResourceProcess(P,R,$,z,T,v,k,x,C,B,O,D,W){const L=c.CraftingProcess.findAddress(R,B,O,W.craftingId),N=d.CraftingInstance.findAddress(P,v,L[0]);return{craftingProcessKey:L,craftingInstanceKey:N,instructions:H=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.createStarbaseUpgradeResourceProcess(W).accountsStrict({funder:H.publicKey(),starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:x,key:$.publicKey(),profile:z,profileFaction:T},gameState:C},craftingInstance:N[0],craftingProcess:L[0],upgradeFacility:B,craftingRecipe:O,craftingDomain:D,craftingProgram:R.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[$,H]}]})}}static depositStarbaseUpgradeResourceIngredient(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X){return d.CraftingInstance.depositCraftingIngredient(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X)}static withdrawStarbaseUpgradeResourceIngredient(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re){return d.CraftingInstance.withdrawCraftingIngredient(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re)}static startStarbaseUpgradeCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q){return d.CraftingInstance.startCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q)}static cancelStarbaseUpgradeCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L){return d.CraftingInstance.cancelCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L)}static stopStarbaseUpgradeCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L){return d.CraftingInstance.stopCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L)}static submitStarbaseUpgradeResource(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re,se,ee,ne,ve,Pe,Le,We,Ft,Lt){const Dt=[T],et=[];let Ue=!1;const Wt=(0,u.isAsyncSigner)(Le),sr=Wt?Le.publicKey():Le;return et.push({pubkey:sr,isSigner:Wt,isWritable:!0},{pubkey:We,isSigner:!1,isWritable:!0},{pubkey:Ft.programId,isSigner:!1,isWritable:!1}),Wt&&(Dt.push(Le),et.push({pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1})),Ue=Wt,rr=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.submitStarbaseUpgradeResource(Lt).accountsStrict({fundsTo:x==="funder"?rr.publicKey():x,starbaseAndStarbasePlayer:{starbase:B,starbasePlayer:C},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:O,key:T.publicKey(),profile:v,profileFaction:k},gameState:D},resourceCraftingInstance:d.CraftingInstance.findAddress(P,C,W)[0],resourceCraftingProcess:W,resourceCraftingFacility:L,upgradeProcessRecipe:N,starbaseUpgradeRecipe:H,resourceRecipe:J,cargoPodTo:Q,cargoType:Y,cargoStatsDefinition:X,tokenFrom:re,tokenTo:se,tokenMint:ee,loyaltyPointsAccounts:{userPointsAccount:ne,pointsCategory:ve,pointsModifierAccount:Pe},progressionConfig:h.ProgressionConfig.findAddress(P,O)[0],pointsProgram:z.programId,craftingProgram:$.programId,cargoProgram:R.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([...et,...Ue?[{pubkey:rr.publicKey(),isSigner:!0,isWritable:!0}]:[]]).instruction(),signers:[...Dt,...Ue?[rr]:[]]}]})}static startStarbaseUpgrade(P,R,$,z,T,v,k,x,C,B,O){return D=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.startStarbaseUpgrade(O).accountsStrict({funder:D.publicKey(),starbaseAndStarbasePlayer:{starbase:v,starbasePlayer:T},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:k,key:R.publicKey(),profile:$,profileFaction:z},gameState:x},upgradeFacility:C,upgradeRecipe:B,systemProgram:o.SystemProgram.programId}).instruction(),signers:[R,D]}]})}static closeStarbaseUpgradeCraftingProcess(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J){const Q=[];return H&&J&&Q.push({pubkey:H,isSigner:!1,isWritable:!0},{pubkey:J,isSigner:!1,isWritable:!0},{pubkey:i.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}),Y=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.closeUpgradeProcess(N).accountsStrict({fundsTo:v==="funder"?Y.publicKey():v,starbaseAndStarbasePlayer:{starbase:x,starbasePlayer:k},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:W,key:$.publicKey(),profile:z,profileFaction:T},gameState:L},resourceCraftingInstance:C,resourceCraftingProcess:B,resourceRecipe:D,resourceCraftingFacility:O,craftingProgram:R.programId}).remainingAccounts(Q).instruction(),signers:[$]}]})}static completeStarbaseUpgrade(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N){return H=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.completeStarbaseUpgrade(N).accountsStrict({funder:H.publicKey(),starbaseAndStarbasePlayer:{starbase:k,starbasePlayer:v},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:x,key:$.publicKey(),profile:z,profileFaction:T},gameState:C},craftingFacility:B,upgradeFacility:O,upgradeRecipe:W,newRecipeCategory:D,craftingDomain:L,craftingProgram:R.programId,systemProgram:o.SystemProgram.programId}).instruction(),signers:[$,H]}]})}static syncStarbaseUpgradeIngredients(P,R,$,z,T,v,k,x){return C=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.syncStarbaseUpgradeIngredients(x).accountsStrict({funder:C.publicKey(),starbase:z,gameAccountsAndProfile:{gameAndProfile:{gameId:T,key:R.publicKey(),profile:$},gameState:v},upgradeRecipe:k,systemProgram:o.SystemProgram.programId}).instruction(),signers:[R,C]}]})}static depositStarbaseUpkeepResource(P,R,$,z,T,v,k,x,C,B,O,D,W,L,N,H,J,Q,Y,X,re,se,ee,ne){const ve=[z],Pe=[];let Le=!1;const We=(0,u.isAsyncSigner)(re),Ft=We?re.publicKey():re;return Pe.push({pubkey:Ft,isSigner:We,isWritable:!0},{pubkey:se,isSigner:!1,isWritable:!0},{pubkey:ee.programId,isSigner:!1,isWritable:!1}),We&&(ve.push(re),Pe.push({pubkey:o.SystemProgram.programId,isSigner:!1,isWritable:!1})),Le=We,Lt=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.depositStarbaseUpkeepResource(ne).accountsStrict({fundsTo:k==="funder"?Lt.publicKey():k,starbaseAndStarbasePlayer:{starbase:C,starbasePlayer:x},gameAccountsAndProfile:{gameAndProfileAndFaction:{gameId:B,key:z.publicKey(),profile:T,profileFaction:v},gameState:O},cargoPodFrom:D,cargoType:W,cargoStatsDefinition:L,resourceRecipe:N,tokenFrom:H,tokenMint:J,loyaltyPointsAccounts:{userPointsAccount:Q,pointsCategory:Y,pointsModifierAccount:X},progressionConfig:h.ProgressionConfig.findAddress(P,B)[0],pointsProgram:$.programId,cargoProgram:R.programId,tokenProgram:i.TOKEN_PROGRAM_ID}).remainingAccounts([...Pe,...Le?[{pubkey:Lt.publicKey(),isSigner:!0,isWritable:!0}]:[]]).instruction(),signers:[...ve,...Le?[Lt]:[]]}]})}static createCertificateMint(P,R,$,z,T,v,k){return x=>r(this,void 0,void 0,function*(){return[{instruction:yield P.methods.createCertificateMint().accountsStrict({funder:x.publicKey(),starbase:$,cargoMint:z,cargoType:v,certificateMint:T,gameId:k,transferHookProgram:R,transferHookExtraAccountMetaList:(0,m.findExtraAccountMetaListAddress)(R,T)[0],token2022Program:i.TOKEN_2022_PROGRAM_ID,systemProgram:o.SystemProgram.programId}).instruction(),signers:[x]}]})}static decodeData(P,R){return(0,u.decodeAccountWithRemaining)(P,R,s,($,z)=>Array(z.numUpgradeIngredients).fill(0).map((T,v)=>new a.BN($.subarray(8*v).subarray(0,8),10,"le")))}};n.Starbase=E,E.ACCOUNT_NAME="starbase",E.MIN_DATA_SIZE=8+1+32+8*2+32+32+64+8*2+1+1+2+1+1+8+8+1+1+1+16+8+8+8+8+8+8+8+8+8+8,n.Starbase=E=s=e([(0,u.staticImplements)(),t("design:paramtypes",[Object,o.PublicKey,Array])],E)})(One);var yb={},axt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},cxt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},MC=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},Ej;Object.defineProperty(yb,"__esModule",{value:!0});yb.SurveyDataUnitTracker=yb.surveyDataUnitTrackerDataEquals=void 0;const wU=sl,R2=qs,t_=tr,uxt=Au,lxt=(n,e)=>n.length!==e.length?!1:n.reduce((t,r,s)=>{const i=e[s];return i==null?!1:t&&(0,t_.arrayDeepEquals)(r,i,(o,a)=>o.eq(a))},!0);function dxt(n,e){return n.version===e.version&&n.gameId.equals(e.gameId)&&n.sduMint.equals(e.sduMint)&&n.resourceMint.equals(e.resourceMint)&&n.signer.equals(e.signer)&&(0,t_.arrayDeepEquals)(n.coordinatesRange,e.coordinatesRange,(t,r)=>t.eq(r))&&n.sduMaxPerSector===e.sduMaxPerSector&&n.scanChanceRegenPeriod===e.scanChanceRegenPeriod&&lxt(n.cssCoordinates,e.cssCoordinates)&&(0,t_.arrayDeepEquals)(n.originCoordinates,e.originCoordinates,(t,r)=>t.eq(r))&&n.cssMaxDistance===e.cssMaxDistance&&n.originMaxDistance===e.originMaxDistance&&n.distanceWeighting===e.distanceWeighting&&n.tMax.eq(e.tMax)&&n.xMul===e.xMul&&n.yMul===e.yMul&&n.zMul===e.zMul}yb.surveyDataUnitTrackerDataEquals=dxt;let yB=Ej=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static findSignerAddress(e,t){return R2.PublicKey.findProgramAddressSync([Xe.Buffer.from("SurveyDataUnitTracker"),t.toBuffer()],e.programId)}static findSignerTokenAccountAddress(e){return(0,wU.getAssociatedTokenAddressSync)(e.sduMint,e.signer,!0)}static fundSurveyDataUnitTrackerBank(e,t,r,s){const i=this.findSignerTokenAccountAddress(e);return(0,t_.transferToTokenAccount)(t,r,i,s)}static registerSurveyDataUnitTracker(e,t,r,s,i,o,a,c){return u=>MC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.registerSurveyDataUnitTracker(c).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:a},funder:u.publicKey(),surveyDataUnitTracker:s.publicKey(),sduMint:i,resourceMint:o,systemProgram:R2.SystemProgram.programId}).instruction(),signers:[t,u,s]}]})}static updateSurveyDataUnitTracker(e,t,r,s,i,o,a){var c,u,l,d,y,h,m,f,g,b,S,p;const I=a?[{pubkey:a.sduMint,isSigner:!1,isWritable:!1},{pubkey:a.resourceMint,isSigner:!1,isWritable:!1}]:[],w=Object.assign(Object.assign({},o),{coordinatesRange:(c=o.coordinatesRange)!==null&&c!==void 0?c:null,cssCoordinates:(u=o.cssCoordinates)!==null&&u!==void 0?u:null,originCoordinates:(l=o.originCoordinates)!==null&&l!==void 0?l:null,cssMaxDistance:(d=o.cssMaxDistance)!==null&&d!==void 0?d:null,originMaxDistance:(y=o.originMaxDistance)!==null&&y!==void 0?y:null,distanceWeighting:(h=o.distanceWeighting)!==null&&h!==void 0?h:null,tMax:(m=o.tMax)!==null&&m!==void 0?m:null,xMul:(f=o.xMul)!==null&&f!==void 0?f:null,yMul:(g=o.yMul)!==null&&g!==void 0?g:null,zMul:(b=o.zMul)!==null&&b!==void 0?b:null,scanChanceRegenPeriod:(S=o.scanChanceRegenPeriod)!==null&&S!==void 0?S:null,sduMaxPerSector:(p=o.sduMaxPerSector)!==null&&p!==void 0?p:null});return()=>MC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.updateSurveyDataUnitTracker(w).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:i},surveyDataUnitTracker:s}).remainingAccounts(I).instruction(),signers:[t]}]})}static drainSurveyDataUnitsBank(e,t,r,s,i,o,a,c,u){return l=>MC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.drainSurveyDataUnitsBank(u).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},fundsTo:s==="funder"?l.publicKey():s,surveyDataUnitTracker:i,surveyDataUnitTrackerSigner:this.findSignerAddress(e,i)[0],tokenFrom:a,tokenTo:c,tokenProgram:wU.TOKEN_PROGRAM_ID}).instruction(),signers:[t]}]})}static deregisterSurveyDataUnitTracker(e,t,r,s,i,o,a){return c=>MC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.deregisterSurveyDataUnitTracker(a).accountsStrict({gameAndProfile:{key:t.publicKey(),profile:r,gameId:o},surveyDataUnitTracker:s,fundsTo:i==="funder"?c.publicKey():i}).instruction(),signers:[t]}]})}static scanForSurveyDataUnits(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w,A,_,E,M,P){return()=>MC(this,void 0,void 0,function*(){return[{instruction:yield e.methods.scanForSurveyDataUnits(P).accountsStrict({gameAccountsFleetAndOwner:{gameFleetAndOwner:{fleetAndOwner:{fleet:a,owningProfile:i,owningProfileFaction:o,key:s.publicKey()},gameId:E},gameState:M},sector:c,surveyDataUnitTracker:u,surveyDataUnitTrackerSigner:this.findSignerAddress(e,u)[0],cargoHold:l,sduCargoType:d,resourceCargoType:y,cargoStatsDefinition:h,sduTokenFrom:m,sduTokenTo:f,resourceTokenFrom:g,resourceMint:b,dataRunningXpAccounts:{userPointsAccount:S,pointsCategory:p,pointsModifierAccount:I},councilRankXpAccounts:{userPointsAccount:w,pointsCategory:A,pointsModifierAccount:_},progressionConfig:uxt.ProgressionConfig.findAddress(e,E)[0],pointsProgram:r.programId,cargoProgram:t.programId,tokenProgram:wU.TOKEN_PROGRAM_ID,recentSlothashes:R2.SYSVAR_SLOT_HASHES_PUBKEY,instructionsSysvar:R2.SYSVAR_INSTRUCTIONS_PUBKEY}).instruction(),signers:[s]}]})}static decodeData(e,t){return(0,t_.decodeAccount)(e,t,Ej)}};yb.SurveyDataUnitTracker=yB;yB.ACCOUNT_NAME="surveyDataUnitTracker";yB.MIN_DATA_SIZE=8+1+32+32+32+32+1+8*2+8*2*3+8*2+4+4+4+8+4+4+4+4+2;yb.SurveyDataUnitTracker=yB=Ej=axt([(0,t_.staticImplements)(),cxt("design:paramtypes",[Object,R2.PublicKey])],yB);(function(n){var e=K&&K.__decorate||function(R,$,z,T){var v=arguments.length,k=v<3?$:T===null?T=Object.getOwnPropertyDescriptor($,z):T,x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(R,$,z,T);else for(var C=R.length-1;C>=0;C--)(x=R[C])&&(k=(v<3?x(k):v>3?x($,z,k):x($,z))||k);return v>3&&k&&Object.defineProperty($,z,k),k},t=K&&K.__metadata||function(R,$){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(R,$)};Object.defineProperty(n,"__esModule",{value:!0}),n.SageProgram=n.sageErrorMap=n.SAGE_IDL=n.EMPTY_CRAFTING_SPEED_PER_TIER=void 0;const r=cc,s=tr,i=ud,o=qK,a=jK,c=p6,u=k6,l=Rl,d=lB,y=nm,h=el,m=Zp,f=Au,g=ld,b=rl,S=Cl,p=b6,I=S6,w=Yf,A=One,_=pL,E=yb;n.EMPTY_CRAFTING_SPEED_PER_TIER=[0,.2,.275,.35,.425,.5,.5];var M=lB;Object.defineProperty(n,"SAGE_IDL",{enumerable:!0,get:function(){return M.IDL}}),n.sageErrorMap=(0,s.generateErrorMap)(d.IDL);let P=class extends s.ListenProgram{constructor($){super($,{craftingInstance:i.CraftingInstance,disbandedFleet:o.DisbandedFleet,fleet:a.Fleet,fleetShips:c.FleetShips,game:u.Game,gameState:l.GameState,mineItem:y.MineItem,planet:h.Planet,playerCrewRecord:m.PlayerCrewRecord,progressionConfig:f.ProgressionConfig,resource:g.Resource,sageCrewConfig:b.SageCrewConfig,sagePlayerProfile:S.SagePlayerProfile,sector:p.Sector,ship:I.Ship,star:w.Star,starbase:A.Starbase,starbasePlayer:_.StarbasePlayer,surveyDataUnitTracker:E.SurveyDataUnitTracker})}static buildProgram($,z,T){return new r.Program(d.IDL,$,z,T)}};n.SageProgram=P,n.SageProgram=P=e([(0,s.staticImplements)(),t("design:paramtypes",[Object])],P)})(JY);var Wz={},fxt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},hxt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},fn;Object.defineProperty(Wz,"__esModule",{value:!0});Wz.SagePermissions=void 0;const AMe=tr;let xj=fn=class{constructor(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S,p,I,w,A,_,E,M,P,R,$){this.manageGame=e,this.manageSector=t,this.manageStar=r,this.managePlanet=s,this.manageShip=i,this.manageSagePlayerProfile=o,this.manageStarbase=a,this.manageMineItem=c,this.manageResource=u,this.removeShipEscrow=l,this.moveFleet=d,this.transitionFromLoadingBay=y,this.transitionFromIdle=h,this.rentFleet=m,this.doCrafting=f,this.manageCargoPod=g,this.addRemoveCargo=b,this.doStarbaseUpgrades=S,this.manageFleet=p,this.manageFleetCargo=I,this.doMining=w,this.respawn=A,this.manageSurveyDataUnit=_,this.scanSurveyDataUnit=E,this.doStarbaseUpkeep=M,this.manageProgression=P,this.manageCrewConfig=R,this.manageCrew=$}contains(e){return this.and(e).eq(e)}getPermissions(){const e=(0,AMe.fixedSizeArray)(8,0);return e[0]=(this.manageGame?1<<0:0)|(this.manageSector?1<<1:0)|(this.manageStar?1<<2:0)|(this.managePlanet?1<<3:0)|(this.manageShip?1<<4:0)|(this.manageSagePlayerProfile?1<<5:0)|(this.manageStarbase?1<<6:0)|(this.manageMineItem?1<<7:0),e[1]=(this.manageResource?1<<0:0)|(this.removeShipEscrow?1<<1:0)|(this.moveFleet?1<<2:0)|(this.transitionFromLoadingBay?1<<3:0)|(this.transitionFromIdle?1<<4:0)|(this.rentFleet?1<<5:0)|(this.doCrafting?1<<6:0)|(this.manageCargoPod?1<<7:0),e[2]=(this.addRemoveCargo?1<<0:0)|(this.doStarbaseUpgrades?1<<1:0)|(this.manageFleet?1<<2:0)|(this.manageFleetCargo?1<<3:0)|(this.doMining?1<<4:0)|(this.respawn?1<<5:0)|(this.manageSurveyDataUnit?1<<6:0)|(this.scanSurveyDataUnit?1<<7:0),e[3]=(this.doStarbaseUpkeep?1<<0:0)|(this.manageProgression?1<<1:0)|(this.manageCrewConfig?1<<2:0)|(this.manageCrew?1<<3:0),e}static empty(){return new fn(!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1)}static all(){return new fn(!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0)}static manageGamePermissions(){return fn.permissionsBuilder("manageGame")}static manageSectorPermissions(){return fn.permissionsBuilder("manageSector")}static manageStarPermissions(){return fn.permissionsBuilder("manageStar")}static managePlanetPermissions(){return fn.permissionsBuilder("managePlanet")}static manageShipPermissions(){return fn.permissionsBuilder("manageShip")}static manageSagePlayerProfilePermissions(){return fn.permissionsBuilder("manageSagePlayerProfile")}static manageStarbasePermissions(){return fn.permissionsBuilder("manageStarbase")}static manageMineItemPermissions(){return fn.permissionsBuilder("manageMineItem")}static manageResourcePermissions(){return fn.permissionsBuilder("manageResource")}static removeShipEscrowPermissions(){return fn.permissionsBuilder("removeShipEscrow")}static moveFleetPermissions(){return fn.permissionsBuilder("moveFleet")}static transitionFromLoadingBayPermissions(){return fn.permissionsBuilder("transitionFromLoadingBay")}static transitionFromIdlePermissions(){return fn.permissionsBuilder("transitionFromIdle")}static rentFleetPermissions(){return fn.permissionsBuilder("rentFleet")}static doCraftingPermissions(){return fn.permissionsBuilder("doCrafting")}static manageCargoPodPermissions(){return fn.permissionsBuilder("manageCargoPod")}static addRemoveCargoPermissions(){return fn.permissionsBuilder("addRemoveCargo")}static doStarbaseUpgradesPermissions(){return fn.permissionsBuilder("doStarbaseUpgrades")}static manageFleetPermissions(){return fn.permissionsBuilder("manageFleet")}static manageFleetCargoPermissions(){return fn.permissionsBuilder("manageFleetCargo")}static doMiningPermissions(){return fn.permissionsBuilder("doMining")}static respawnPermissions(){return fn.permissionsBuilder("respawn")}static manageSurveyDataUnitPermissions(){return fn.permissionsBuilder("manageSurveyDataUnit")}static scanSurveyDataUnitPermissions(){return fn.permissionsBuilder("scanSurveyDataUnit")}static doStarbaseUpkeepPermissions(){return fn.permissionsBuilder("doStarbaseUpkeep")}static manageProgressionPermissions(){return fn.permissionsBuilder("manageProgression")}static manageCrewConfigPermissions(){return fn.permissionsBuilder("manageCrewConfig")}static manageCrewPermissions(){return fn.permissionsBuilder("manageCrew")}static fromPermissions(e){return new fn((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0,(e[0]&1<<5)!==0,(e[0]&1<<6)!==0,(e[0]&1<<7)!==0,(e[1]&1<<0)!==0,(e[1]&1<<1)!==0,(e[1]&1<<2)!==0,(e[1]&1<<3)!==0,(e[1]&1<<4)!==0,(e[1]&1<<5)!==0,(e[1]&1<<6)!==0,(e[1]&1<<7)!==0,(e[2]&1<<0)!==0,(e[2]&1<<1)!==0,(e[2]&1<<2)!==0,(e[2]&1<<3)!==0,(e[2]&1<<4)!==0,(e[2]&1<<5)!==0,(e[2]&1<<6)!==0,(e[2]&1<<7)!==0,(e[3]&1<<0)!==0,(e[3]&1<<1)!==0,(e[3]&1<<2)!==0,(e[3]&1<<3)!==0)}and(e){return new fn(this.manageGame&&e.manageGame,this.manageSector&&e.manageSector,this.manageStar&&e.manageStar,this.managePlanet&&e.managePlanet,this.manageShip&&e.manageShip,this.manageSagePlayerProfile&&e.manageSagePlayerProfile,this.manageStarbase&&e.manageStarbase,this.manageMineItem&&e.manageMineItem,this.manageResource&&e.manageResource,this.removeShipEscrow&&e.removeShipEscrow,this.moveFleet&&e.moveFleet,this.transitionFromLoadingBay&&e.transitionFromLoadingBay,this.transitionFromIdle&&e.transitionFromIdle,this.rentFleet&&e.rentFleet,this.doCrafting&&e.doCrafting,this.manageCargoPod&&e.manageCargoPod,this.addRemoveCargo&&e.addRemoveCargo,this.doStarbaseUpgrades&&e.doStarbaseUpgrades,this.manageFleet&&e.manageFleet,this.manageFleetCargo&&e.manageFleetCargo,this.doMining&&e.doMining,this.respawn&&e.respawn,this.manageSurveyDataUnit&&e.manageSurveyDataUnit,this.scanSurveyDataUnit&&e.scanSurveyDataUnit,this.doStarbaseUpkeep&&e.doStarbaseUpkeep,this.manageProgression&&e.manageProgression,this.manageCrewConfig&&e.manageCrewConfig,this.manageCrew&&e.manageCrew)}or(e){return new fn(this.manageGame||e.manageGame,this.manageSector||e.manageSector,this.manageStar||e.manageStar,this.managePlanet||e.managePlanet,this.manageShip||e.manageShip,this.manageSagePlayerProfile||e.manageSagePlayerProfile,this.manageStarbase||e.manageStarbase,this.manageMineItem||e.manageMineItem,this.manageResource||e.manageResource,this.removeShipEscrow||e.removeShipEscrow,this.moveFleet||e.moveFleet,this.transitionFromLoadingBay||e.transitionFromLoadingBay,this.transitionFromIdle||e.transitionFromIdle,this.rentFleet||e.rentFleet,this.doCrafting||e.doCrafting,this.manageCargoPod||e.manageCargoPod,this.addRemoveCargo||e.addRemoveCargo,this.doStarbaseUpgrades||e.doStarbaseUpgrades,this.manageFleet||e.manageFleet,this.manageFleetCargo||e.manageFleetCargo,this.doMining||e.doMining,this.respawn||e.respawn,this.manageSurveyDataUnit||e.manageSurveyDataUnit,this.scanSurveyDataUnit||e.scanSurveyDataUnit,this.doStarbaseUpkeep||e.doStarbaseUpkeep,this.manageProgression||e.manageProgression,this.manageCrewConfig||e.manageCrewConfig,this.manageCrew||e.manageCrew)}eq(e){return this.manageGame===e.manageGame&&this.manageSector===e.manageSector&&this.manageStar===e.manageStar&&this.managePlanet===e.managePlanet&&this.manageShip===e.manageShip&&this.manageSagePlayerProfile===e.manageSagePlayerProfile&&this.manageStarbase===e.manageStarbase&&this.manageMineItem===e.manageMineItem&&this.manageResource===e.manageResource&&this.removeShipEscrow===e.removeShipEscrow&&this.moveFleet==e.moveFleet&&this.transitionFromLoadingBay===e.transitionFromLoadingBay&&this.transitionFromIdle===e.transitionFromIdle&&this.rentFleet===e.rentFleet&&this.doCrafting===e.doCrafting&&this.manageCargoPod===e.manageCargoPod&&this.addRemoveCargo===e.addRemoveCargo&&this.doStarbaseUpgrades===e.doStarbaseUpgrades&&this.manageFleet===e.manageFleet&&this.manageFleetCargo===e.manageFleetCargo&&this.doMining===e.doMining&&this.respawn===e.respawn&&this.manageSurveyDataUnit===e.manageSurveyDataUnit&&this.scanSurveyDataUnit===e.scanSurveyDataUnit&&this.doStarbaseUpkeep===e.doStarbaseUpkeep&&this.manageProgression===e.manageProgression&&this.manageCrewConfig===e.manageCrewConfig&&this.manageCrew===e.manageCrew}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(fn.empty()).map(s=>t.includes(s));if(r.length!=fn.length)throw"Incorrect permissions array";return new fn(...r)}};Wz.SagePermissions=xj;Wz.SagePermissions=xj=fn=fxt([(0,AMe.staticImplements)(),hxt("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean])],xj);var bL={},Kne={},Cd={},SL={};function YO(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function gxt(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Nz(n,...e){if(!gxt(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function mxt(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");YO(n.outputLen),YO(n.blockLen)}function r_(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function wMe(n,e){Nz(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const IU=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yxt=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),PU=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),Hd=(n,e)=>n<<32-e|n>>>e,mpe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,pxt=n=>n<<24&4278190080|n<<8&16711680|n>>>8&65280|n>>>24&255;function ype(n){for(let e=0;e<n.length;e++)n[e]=pxt(n[e])}function bxt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function kL(n){return typeof n=="string"&&(n=bxt(n)),Nz(n),n}function Sxt(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Nz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}class Lne{clone(){return this._cloneInto()}}function Wne(n){const e=r=>n().update(kL(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function IMe(n=32){if(IU&&typeof IU.getRandomValues=="function")return IU.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}function kxt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const vxt=(n,e,t)=>n&e^~n&t,Axt=(n,e,t)=>n&e^n&t^e&t;class PMe extends Lne{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=PU(this.buffer)}update(e){r_(this);const{view:t,buffer:r,blockLen:s}=this;e=kL(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=PU(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){r_(this),wMe(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;kxt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=PU(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const Z8=BigInt(2**32-1),Tj=BigInt(32);function _Me(n,e=!1){return e?{h:Number(n&Z8),l:Number(n>>Tj&Z8)}:{h:Number(n>>Tj&Z8)|0,l:Number(n&Z8)|0}}function EMe(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=_Me(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const wxt=(n,e)=>BigInt(n>>>0)<<Tj|BigInt(e>>>0),Ixt=(n,e,t)=>n>>>t,Pxt=(n,e,t)=>n<<32-t|e>>>t,_xt=(n,e,t)=>n>>>t|e<<32-t,Ext=(n,e,t)=>n<<32-t|e>>>t,xxt=(n,e,t)=>n<<64-t|e>>>t-32,Txt=(n,e,t)=>n>>>t-32|e<<64-t,Rxt=(n,e)=>e,Cxt=(n,e)=>n,xMe=(n,e,t)=>n<<t|e>>>32-t,TMe=(n,e,t)=>e<<t|n>>>32-t,RMe=(n,e,t)=>e<<t-32|n>>>64-t,CMe=(n,e,t)=>n<<t-32|e>>>64-t;function Mxt(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const Bxt=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),zxt=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,$xt=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),Dxt=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,Oxt=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),Kxt=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,Lr={fromBig:_Me,split:EMe,toBig:wxt,shrSH:Ixt,shrSL:Pxt,rotrSH:_xt,rotrSL:Ext,rotrBH:xxt,rotrBL:Txt,rotr32H:Rxt,rotr32L:Cxt,rotlSH:xMe,rotlSL:TMe,rotlBH:RMe,rotlBL:CMe,add:Mxt,add3L:Bxt,add3H:zxt,add4L:$xt,add4H:Dxt,add5H:Kxt,add5L:Oxt},[Lxt,Wxt]=(()=>Lr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),oy=new Uint32Array(80),ay=new Uint32Array(80);class Nxt extends PMe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)oy[p]=e.getUint32(t),ay[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=oy[p-15]|0,w=ay[p-15]|0,A=Lr.rotrSH(I,w,1)^Lr.rotrSH(I,w,8)^Lr.shrSH(I,w,7),_=Lr.rotrSL(I,w,1)^Lr.rotrSL(I,w,8)^Lr.shrSL(I,w,7),E=oy[p-2]|0,M=ay[p-2]|0,P=Lr.rotrSH(E,M,19)^Lr.rotrBH(E,M,61)^Lr.shrSH(E,M,6),R=Lr.rotrSL(E,M,19)^Lr.rotrBL(E,M,61)^Lr.shrSL(E,M,6),$=Lr.add4L(_,R,ay[p-7],ay[p-16]),z=Lr.add4H($,A,P,oy[p-7],oy[p-16]);oy[p]=z|0,ay[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Lr.rotrSH(d,y,14)^Lr.rotrSH(d,y,18)^Lr.rotrBH(d,y,41),w=Lr.rotrSL(d,y,14)^Lr.rotrSL(d,y,18)^Lr.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Lr.add5L(S,w,_,Wxt[p],ay[p]),M=Lr.add5H(E,b,I,A,Lxt[p],oy[p]),P=E|0,R=Lr.rotrSH(r,s,28)^Lr.rotrBH(r,s,34)^Lr.rotrBH(r,s,39),$=Lr.rotrSL(r,s,28)^Lr.rotrBL(r,s,34)^Lr.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Lr.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Lr.add3L(P,$,T);r=Lr.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Lr.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Lr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Lr.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Lr.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Lr.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Lr.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Lr.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Lr.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){oy.fill(0),ay.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Fxt=Wne(()=>new Nxt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Nne=BigInt(0),vL=BigInt(1),Uxt=BigInt(2);function KS(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Fz(n){if(!KS(n))throw new Error("Uint8Array expected")}function em(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const Vxt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function LS(n){Fz(n);let e="";for(let t=0;t<n.length;t++)e+=Vxt[n[t]];return e}function MMe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function Fne(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const tg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function ppe(n){if(n>=tg._0&&n<=tg._9)return n-tg._0;if(n>=tg._A&&n<=tg._F)return n-(tg._A-10);if(n>=tg._a&&n<=tg._f)return n-(tg._a-10)}function n_(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=ppe(n.charCodeAt(i)),a=ppe(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Y1(n){return Fne(LS(n))}function yA(n){return Fz(n),Fne(LS(Uint8Array.from(n).reverse()))}function s_(n,e){return n_(n.toString(16).padStart(e*2,"0"))}function pB(n,e){return s_(n,e).reverse()}function qxt(n){return n_(MMe(n))}function ia(n,e,t){let r;if(typeof e=="string")try{r=n_(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(KS(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function WS(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];Fz(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function jxt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function Hxt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const _U=n=>typeof n=="bigint"&&Nne<=n;function AL(n,e,t){return _U(n)&&_U(e)&&_U(t)&&e<=n&&n<t}function xl(n,e,t,r){if(!AL(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function Gxt(n){let e;for(e=0;n>Nne;n>>=vL,e+=1);return e}function Yxt(n,e){return n>>BigInt(e)&vL}function Zxt(n,e,t){return n|(t?vL:Nne)<<BigInt(e)}const Une=n=>(Uxt<<BigInt(n-1))-vL,EU=n=>new Uint8Array(n),bpe=n=>Uint8Array.from(n);function BMe(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=EU(n),s=EU(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=EU())=>{s=a(bpe([0]),d),r=a(),d.length!==0&&(s=a(bpe([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return WS(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const Jxt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||KS(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function jT(n,e,t={}){const r=(s,i,o)=>{const a=Jxt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const Xxt=()=>{throw new Error("not implemented")};function bB(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}var Qxt=Object.freeze(Object.defineProperty({__proto__:null,isBytes:KS,abytes:Fz,abool:em,bytesToHex:LS,numberToHexUnpadded:MMe,hexToNumber:Fne,hexToBytes:n_,bytesToNumberBE:Y1,bytesToNumberLE:yA,numberToBytesBE:s_,numberToBytesLE:pB,numberToVarBytesBE:qxt,ensureBytes:ia,concatBytes:WS,equalBytes:jxt,utf8ToBytes:Hxt,inRange:AL,aInRange:xl,bitLen:Gxt,bitGet:Yxt,bitSet:Zxt,bitMask:Une,createHmacDrbg:BMe,validateObject:jT,notImplemented:Xxt,memoized:bB},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const tc=BigInt(0),Wi=BigInt(1),p1=BigInt(2),eTt=BigInt(3),Rj=BigInt(4),Spe=BigInt(5),kpe=BigInt(8);BigInt(9);BigInt(16);function Si(n,e){const t=n%e;return t>=tc?t:e+t}function tTt(n,e,t){if(t<=tc||e<tc)throw new Error("Expected power/modulo > 0");if(t===Wi)return tc;let r=Wi;for(;e>tc;)e&Wi&&(r=r*n%t),n=n*n%t,e>>=Wi;return r}function so(n,e,t){let r=n;for(;e-- >tc;)r*=r,r%=t;return r}function Cj(n,e){if(n===tc||e<=tc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Si(n,e),r=e,s=tc,i=Wi;for(;t!==tc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Wi)throw new Error("invert: does not exist");return Si(s,e)}function rTt(n){const e=(n-Wi)/p1;let t,r,s;for(t=n-Wi,r=0;t%p1===tc;t/=p1,r++);for(s=p1;s<n&&tTt(s,e,n)!==n-Wi;s++);if(r===1){const o=(n+Wi)/Rj;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Wi)/p1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Wi<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function nTt(n){if(n%Rj===eTt){const e=(n+Wi)/Rj;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%kpe===Spe){const e=(n-Spe)/kpe;return function(r,s){const i=r.mul(s,p1),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,p1),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return rTt(n)}const sTt=(n,e)=>(Si(n,e)&Wi)===Wi,iTt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function oTt(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=iTt.reduce((r,s)=>(r[s]="function",r),e);return jT(n,t)}function aTt(n,e,t){if(t<tc)throw new Error("Expected power > 0");if(t===tc)return n.ONE;if(t===Wi)return e;let r=n.ONE,s=e;for(;t>tc;)t&Wi&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Wi;return r}function cTt(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function zMe(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function $Me(n,e,t=!1,r={}){if(n<=tc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=zMe(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=nTt(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:Une(s),ZERO:tc,ONE:Wi,create:c=>Si(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return tc<=c&&c<n},is0:c=>c===tc,isOdd:c=>(c&Wi)===Wi,neg:c=>Si(-c,n),eql:(c,u)=>c===u,sqr:c=>Si(c*c,n),add:(c,u)=>Si(c+u,n),sub:(c,u)=>Si(c-u,n),mul:(c,u)=>Si(c*u,n),pow:(c,u)=>aTt(a,c,u),div:(c,u)=>Si(c*Cj(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Cj(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>cTt(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?pB(c,i):s_(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?yA(c):Y1(c)}});return Object.freeze(a)}function DMe(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function OMe(n){const e=DMe(n);return e+Math.ceil(e/2)}function uTt(n,e,t=!1){const r=n.length,s=DMe(e),i=OMe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?Y1(n):yA(n),a=Si(o,e-Wi)+Wi;return t?pB(a,s):s_(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lTt=BigInt(0),xU=BigInt(1),TU=new WeakMap,vpe=new WeakMap;function KMe(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>lTt;)o&xU&&(a=a.add(c)),c=c.double(),o>>=xU;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=xU);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=vpe.get(i)||1;let u=TU.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&TU.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),vpe.set(i,o),TU.delete(i)}}}function Vne(n){return oTt(n.Fp),jT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...zMe(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jl=BigInt(0),Gc=BigInt(1),J8=BigInt(2),dTt=BigInt(8),fTt={zip215:!0};function hTt(n){const e=Vne(n);return jT(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function gTt(n){const e=hTt(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=J8<<BigInt(a*8)-Gc,l=t.create,d=e.uvRatio||((v,k)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(k))}}catch{return{isValid:!1,value:jl}}}),y=e.adjustScalarBytes||(v=>v),h=e.domain||((v,k,x)=>{if(em("phflag",x),k.length||x)throw new Error("Contexts/pre-hash are not supported");return v});function m(v,k){xl("coordinate "+v,k,jl,u)}function f(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const g=bB((v,k)=>{const{ex:x,ey:C,ez:B}=v,O=v.is0();k==null&&(k=O?dTt:t.inv(B));const D=l(x*k),W=l(C*k),L=l(B*k);if(O)return{x:jl,y:Gc};if(L!==Gc)throw new Error("invZ was invalid");return{x:D,y:W}}),b=bB(v=>{const{a:k,d:x}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:C,ey:B,ez:O,et:D}=v,W=l(C*C),L=l(B*B),N=l(O*O),H=l(N*N),J=l(W*k),Q=l(N*l(J+L)),Y=l(H+l(x*l(W*L)));if(Q!==Y)throw new Error("bad point: equation left != right (1)");const X=l(C*B),re=l(O*D);if(X!==re)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(k,x,C,B){this.ex=k,this.ey=x,this.ez=C,this.et=B,m("x",k),m("y",x),m("z",C),m("t",B),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof S)throw new Error("extended point not allowed");const{x,y:C}=k||{};return m("x",x),m("y",C),new S(x,C,Gc,l(x*C))}static normalizeZ(k){const x=t.invertBatch(k.map(C=>C.ez));return k.map((C,B)=>C.toAffine(x[B])).map(S.fromAffine)}_setWindowSize(k){w.setWindowSize(this,k)}assertValidity(){b(this)}equals(k){f(k);const{ex:x,ey:C,ez:B}=this,{ex:O,ey:D,ez:W}=k,L=l(x*W),N=l(O*B),H=l(C*W),J=l(D*B);return L===N&&H===J}is0(){return this.equals(S.ZERO)}negate(){return new S(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:k}=e,{ex:x,ey:C,ez:B}=this,O=l(x*x),D=l(C*C),W=l(J8*l(B*B)),L=l(k*O),N=x+C,H=l(l(N*N)-O-D),J=L+D,Q=J-W,Y=L-D,X=l(H*Q),re=l(J*Y),se=l(H*Y),ee=l(Q*J);return new S(X,re,ee,se)}add(k){f(k);const{a:x,d:C}=e,{ex:B,ey:O,ez:D,et:W}=this,{ex:L,ey:N,ez:H,et:J}=k;if(x===BigInt(-1)){const Lt=l((O-B)*(N+L)),Dt=l((O+B)*(N-L)),et=l(Dt-Lt);if(et===jl)return this.double();const Ue=l(D*J8*J),Wt=l(W*J8*H),sr=Wt+Ue,rr=Dt+Lt,pr=Wt-Ue,wr=l(sr*et),ls=l(rr*pr),gn=l(sr*pr),ds=l(et*rr);return new S(wr,ls,ds,gn)}const Q=l(B*L),Y=l(O*N),X=l(W*C*J),re=l(D*H),se=l((B+O)*(L+N)-Q-Y),ee=re-X,ne=re+X,ve=l(Y-x*Q),Pe=l(se*ee),Le=l(ne*ve),We=l(se*ve),Ft=l(ee*ne);return new S(Pe,Le,Ft,We)}subtract(k){return this.add(k.negate())}wNAF(k){return w.wNAFCached(this,k,S.normalizeZ)}multiply(k){const x=k;xl("scalar",x,Gc,r);const{p:C,f:B}=this.wNAF(x);return S.normalizeZ([C,B])[0]}multiplyUnsafe(k){const x=k;return xl("scalar",x,jl,r),x===jl?I:this.equals(I)||x===Gc?this:this.equals(p)?this.wNAF(x).p:w.unsafeLadder(this,x)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return w.unsafeLadder(this,r).is0()}toAffine(k){return g(this,k)}clearCofactor(){const{h:k}=e;return k===Gc?this:this.multiplyUnsafe(k)}static fromHex(k,x=!1){const{d:C,a:B}=e,O=t.BYTES;k=ia("pointHex",k,O),em("zip215",x);const D=k.slice(),W=k[O-1];D[O-1]=W&-129;const L=yA(D),N=x?u:t.ORDER;xl("pointHex.y",L,jl,N);const H=l(L*L),J=l(H-Gc),Q=l(C*H-B);let{isValid:Y,value:X}=d(J,Q);if(!Y)throw new Error("Point.fromHex: invalid y coordinate");const re=(X&Gc)===Gc,se=(W&128)!==0;if(!x&&X===jl&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==re&&(X=l(-X)),S.fromAffine({x:X,y:L})}static fromPrivateKey(k){return E(k).point}toRawBytes(){const{x:k,y:x}=this.toAffine(),C=pB(x,t.BYTES);return C[C.length-1]|=k&Gc?128:0,C}toHex(){return LS(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,Gc,l(e.Gx*e.Gy)),S.ZERO=new S(jl,Gc,Gc,jl);const{BASE:p,ZERO:I}=S,w=KMe(S,a*8);function A(v){return Si(v,r)}function _(v){return A(yA(v))}function E(v){const k=a;v=ia("private key",v,k);const x=ia("hashed private key",i(v),2*k),C=y(x.slice(0,k)),B=x.slice(k,2*k),O=_(C),D=p.multiply(O),W=D.toRawBytes();return{head:C,prefix:B,scalar:O,point:D,pointBytes:W}}function M(v){return E(v).pointBytes}function P(v=new Uint8Array,...k){const x=WS(...k);return _(i(h(x,ia("context",v),!!s)))}function R(v,k,x={}){v=ia("message",v),s&&(v=s(v));const{prefix:C,scalar:B,pointBytes:O}=E(k),D=P(x.context,C,v),W=p.multiply(D).toRawBytes(),L=P(x.context,W,O,v),N=A(D+L*B);xl("signature.s",N,jl,r);const H=WS(W,pB(N,t.BYTES));return ia("result",H,a*2)}const $=fTt;function z(v,k,x,C=$){const{context:B,zip215:O}=C,D=t.BYTES;v=ia("signature",v,2*D),k=ia("message",k),O!==void 0&&em("zip215",O),s&&(k=s(k));const W=yA(v.slice(D,2*D));let L,N,H;try{L=S.fromHex(x,O),N=S.fromHex(v.slice(0,D),O),H=p.multiplyUnsafe(W)}catch{return!1}if(!O&&L.isSmallOrder())return!1;const J=P(B,N.toRawBytes(),L.toRawBytes(),k);return N.add(L.multiplyUnsafe(J)).subtract(H).clearCofactor().equals(S.ZERO)}return p._setWindowSize(8),{CURVE:e,getPublicKey:M,sign:R,verify:z,ExtendedPoint:S,utils:{getExtendedPublicKey:E,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,k=S.BASE){return k._setWindowSize(v),k.multiply(BigInt(3)),k}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qne=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Ape=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const mTt=BigInt(1),wpe=BigInt(2);BigInt(3);const yTt=BigInt(5),pTt=BigInt(8);function bTt(n){const e=BigInt(10),t=BigInt(20),r=BigInt(40),s=BigInt(80),i=qne,a=n*n%i*n%i,c=so(a,wpe,i)*a%i,u=so(c,mTt,i)*n%i,l=so(u,yTt,i)*u%i,d=so(l,e,i)*l%i,y=so(d,t,i)*d%i,h=so(y,r,i)*y%i,m=so(h,s,i)*h%i,f=so(m,s,i)*h%i,g=so(f,e,i)*l%i;return{pow_p_5_8:so(g,wpe,i)*n%i,b2:a}}function STt(n){return n[0]&=248,n[31]&=127,n[31]|=64,n}function kTt(n,e){const t=qne,r=Si(e*e*e,t),s=Si(r*r*e,t),i=bTt(n*s).pow_p_5_8;let o=Si(n*r*i,t);const a=Si(e*o*o,t),c=o,u=Si(o*Ape,t),l=a===n,d=a===Si(-n,t),y=a===Si(-n*Ape,t);return l&&(o=c),(d||y)&&(o=u),sTt(o,t)&&(o=Si(-o,t)),{isValid:l||d,value:o}}const vTt=(()=>$Me(qne,void 0,!0))(),ATt=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:vTt,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:pTt,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Fxt,randomBytes:IMe,adjustScalarBytes:STt,uvRatio:kTt}))(),HT=(()=>gTt(ATt))(),wTt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cy=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),uy=new Uint32Array(64);class ITt extends PMe{constructor(){super(64,32,8,!1),this.A=cy[0]|0,this.B=cy[1]|0,this.C=cy[2]|0,this.D=cy[3]|0,this.E=cy[4]|0,this.F=cy[5]|0,this.G=cy[6]|0,this.H=cy[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,t,r,s,i,o,a,c]}set(e,t,r,s,i,o,a,c){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)uy[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const y=uy[d-15],h=uy[d-2],m=Hd(y,7)^Hd(y,18)^y>>>3,f=Hd(h,17)^Hd(h,19)^h>>>10;uy[d]=f+uy[d-7]+m+uy[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const y=Hd(a,6)^Hd(a,11)^Hd(a,25),h=l+y+vxt(a,c,u)+wTt[d]+uy[d]|0,f=(Hd(r,2)^Hd(r,13)^Hd(r,22))+Axt(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+f|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){uy.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Mj=Wne(()=>new ITt);class PTt extends TypeError{constructor(e,t){let r;const{message:s,explanation:i,...o}=e,{path:a}=e,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function _Tt(n){return Uz(n)&&typeof n[Symbol.iterator]=="function"}function Uz(n){return typeof n=="object"&&n!=null}function ZO(n){return Uz(n)&&!Array.isArray(n)}function Ed(n){return typeof n=="symbol"?n.toString():typeof n=="string"?JSON.stringify(n):`${n}`}function ETt(n){const{done:e,value:t}=n.next();return e?void 0:t}function xTt(n,e,t,r){if(n===!0)return;n===!1?n={}:typeof n=="string"&&(n={message:n});const{path:s,branch:i}=e,{type:o}=t,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ed(r)}\``}=n;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...n,message:c}}function*Ipe(n,e,t,r){_Tt(n)||(n=[n]);for(const s of n){const i=xTt(s,e,t,r);i&&(yield i)}}function*jne(n,e,t={}){const{path:r=[],branch:s=[n],coerce:i=!1,mask:o=!1}=t,a={path:r,branch:s,mask:o};i&&(n=e.coercer(n,a));let c="valid";for(const u of e.validator(n,a))u.explanation=t.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(n,a)){const y=jne(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:t.message});for(const h of y)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?n=l:n instanceof Map?n.set(u,l):n instanceof Set?n.add(l):Uz(n)&&(l!==void 0||u in n)&&(n[u]=l))}if(c!=="not_valid")for(const u of e.refiner(n,a))u.explanation=t.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,n])}class vh{constructor(e){const{type:t,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=t,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return Ipe(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return Ipe(l,u,this,c)}:this.refiner=()=>[]}assert(e,t){return LMe(e,this,t)}create(e,t){return St(e,this,t)}is(e){return WMe(e,this)}mask(e,t){return TTt(e,this,t)}validate(e,t={}){return Vz(e,this,t)}}function LMe(n,e,t){const r=Vz(n,e,{message:t});if(r[0])throw r[0]}function St(n,e,t){const r=Vz(n,e,{coerce:!0,message:t});if(r[0])throw r[0];return r[1]}function TTt(n,e,t){const r=Vz(n,e,{coerce:!0,mask:!0,message:t});if(r[0])throw r[0];return r[1]}function WMe(n,e){return!Vz(n,e)[0]}function Vz(n,e,t={}){const r=jne(n,e,t),s=ETt(r);if(s[0])return[new PTt(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0];{const i=s[1];return[void 0,i]}}function Ak(n,e){return new vh({type:n,schema:null,validator:e})}function RTt(){return Ak("any",()=>!0)}function Et(n){return new vh({type:"array",schema:n,*entries(e){if(n&&Array.isArray(e))for(const[t,r]of e.entries())yield[t,r,n]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Ed(e)}`}})}function oh(){return Ak("boolean",n=>typeof n=="boolean")}function Hne(n){return Ak("instance",e=>e instanceof n||`Expected a \`${n.name}\` instance, but received: ${Ed(e)}`)}function Ci(n){const e=Ed(n),t=typeof n;return new vh({type:"literal",schema:t==="string"||t==="number"||t==="boolean"?n:null,validator(r){return r===n||`Expected the literal \`${e}\`, but received: ${Ed(r)}`}})}function CTt(){return Ak("never",()=>!1)}function $t(n){return new vh({...n,validator:(e,t)=>e===null||n.validator(e,t),refiner:(e,t)=>e===null||n.refiner(e,t)})}function Se(){return Ak("number",n=>typeof n=="number"&&!isNaN(n)||`Expected a number, but received: ${Ed(n)}`)}function yr(n){return new vh({...n,validator:(e,t)=>e===void 0||n.validator(e,t),refiner:(e,t)=>e===void 0||n.refiner(e,t)})}function NMe(n,e){return new vh({type:"record",schema:null,*entries(t){if(Uz(t))for(const r in t){const s=t[r];yield[r,r,n],yield[r,s,e]}},validator(t){return ZO(t)||`Expected an object, but received: ${Ed(t)}`},coercer(t){return ZO(t)?{...t}:t}})}function Je(){return Ak("string",n=>typeof n=="string"||`Expected a string, but received: ${Ed(n)}`)}function Gne(n){const e=CTt();return new vh({type:"tuple",schema:null,*entries(t){if(Array.isArray(t)){const r=Math.max(n.length,t.length);for(let s=0;s<r;s++)yield[s,t[s],n[s]||e]}},validator(t){return Array.isArray(t)||`Expected an array, but received: ${Ed(t)}`},coercer(t){return Array.isArray(t)?t.slice():t}})}function $e(n){const e=Object.keys(n);return new vh({type:"type",schema:n,*entries(t){if(Uz(t))for(const r of e)yield[r,t[r],n[r]]},validator(t){return ZO(t)||`Expected an object, but received: ${Ed(t)}`},coercer(t){return ZO(t)?{...t}:t}})}function Dc(n){const e=n.map(t=>t.type).join(" | ");return new vh({type:"union",schema:null,coercer(t,r){for(const s of n){const[i,o]=s.validate(t,{coerce:!0,mask:r.mask});if(!i)return o}return t},validator(t,r){const s=[];for(const i of n){const[...o]=jne(t,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Ed(t)}`,...s]}})}function GT(){return Ak("unknown",()=>!0)}function qz(n,e,t){return new vh({...n,coercer:(r,s)=>WMe(r,e)?n.coercer(t(r,s),s):n.coercer(r,s)})}const FMe=[],UMe=[],VMe=[],MTt=BigInt(0),BC=BigInt(1),BTt=BigInt(2),zTt=BigInt(7),$Tt=BigInt(256),DTt=BigInt(113);for(let n=0,e=BC,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],FMe.push(2*(5*r+t)),UMe.push((n+1)*(n+2)/2%64);let s=MTt;for(let i=0;i<7;i++)e=(e<<BC^(e>>zTt)*DTt)%$Tt,e&BTt&&(s^=BC<<(BC<<BigInt(i))-BC);VMe.push(s)}const[OTt,KTt]=EMe(VMe,!0),Ppe=(n,e,t)=>t>32?RMe(n,e,t):xMe(n,e,t),_pe=(n,e,t)=>t>32?CMe(n,e,t):TMe(n,e,t);function LTt(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=t[c],l=t[c+1],d=Ppe(u,l,1)^t[a],y=_pe(u,l,1)^t[a+1];for(let h=0;h<50;h+=10)n[o+h]^=d,n[o+h+1]^=y}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=UMe[o],c=Ppe(s,i,a),u=_pe(s,i,a),l=FMe[o];s=n[l],i=n[l+1],n[l]=c,n[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=OTt[r],n[1]^=KTt[r]}t.fill(0)}class Yne extends Lne{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,YO(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=yxt(this.state)}keccak(){mpe||ype(this.state32),LTt(this.state32,this.rounds),mpe||ype(this.state32),this.posOut=0,this.pos=0}update(e){r_(this);const{blockLen:t,state:r}=this;e=kL(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,(t&128)!==0&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){r_(this,!1),Nz(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return YO(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(wMe(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Yne(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const WTt=(n,e,t)=>Wne(()=>new Yne(e,n,t)),Epe=WTt(1,136,256/8);class qMe extends Lne{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,mxt(e);const r=kL(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return r_(this),this.iHash.update(e),this}digestInto(e){r_(this),Nz(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const jMe=(n,e,t)=>new qMe(n,e).update(t).digest();jMe.create=(n,e)=>new qMe(n,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xpe(n){n.lowS!==void 0&&em("lowS",n.lowS),n.prehash!==void 0&&em("prehash",n.prehash)}function NTt(n){const e=Vne(n);jT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:FTt,hexToBytes:UTt}=Qxt,L1={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=L1;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:FTt(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=L1,t=typeof n=="string"?UTt(n):n;Fz(t);let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=L1._parseInt(t.subarray(2)),{d:o,l:a}=L1._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,t=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),c=t(o);return`30${t(o+i+4)}02${c}${s}02${a}${r}`}},zy=BigInt(0),pa=BigInt(1);BigInt(2);const Tpe=BigInt(3);BigInt(4);function VTt(n){const e=NTt(n),{Fp:t}=e,r=e.toBytes||((m,f,g)=>{const b=f.toAffine();return WS(Uint8Array.from([4]),t.toBytes(b.x),t.toBytes(b.y))}),s=e.fromBytes||(m=>{const f=m.subarray(1),g=t.fromBytes(f.subarray(0,t.BYTES)),b=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:g,y:b}});function i(m){const{a:f,b:g}=e,b=t.sqr(m),S=t.mul(b,m);return t.add(t.add(S,t.mul(m,f)),g)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return AL(m,pa,e.n)}function a(m){const{allowedPrivateKeyLengths:f,nByteLength:g,wrapPrivateKey:b,n:S}=e;if(f&&typeof m!="bigint"){if(KS(m)&&(m=LS(m)),typeof m!="string"||!f.includes(m.length))throw new Error("Invalid key");m=m.padStart(g*2,"0")}let p;try{p=typeof m=="bigint"?m:Y1(ia("private key",m,g))}catch{throw new Error(`private key must be ${g} bytes, hex or bigint, not ${typeof m}`)}return b&&(p=Si(p,S)),xl("private key",p,pa,S),p}function c(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}const u=bB((m,f)=>{const{px:g,py:b,pz:S}=m;if(t.eql(S,t.ONE))return{x:g,y:b};const p=m.is0();f==null&&(f=p?t.ONE:t.inv(S));const I=t.mul(g,f),w=t.mul(b,f),A=t.mul(S,f);if(p)return{x:t.ZERO,y:t.ZERO};if(!t.eql(A,t.ONE))throw new Error("invZ was invalid");return{x:I,y:w}}),l=bB(m=>{if(m.is0()){if(e.allowInfinityPoint&&!t.is0(m.py))return;throw new Error("bad point: ZERO")}const{x:f,y:g}=m.toAffine();if(!t.isValid(f)||!t.isValid(g))throw new Error("bad point: x or y not FE");const b=t.sqr(g),S=i(f);if(!t.eql(b,S))throw new Error("bad point: equation left != right");if(!m.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class d{constructor(f,g,b){if(this.px=f,this.py=g,this.pz=b,f==null||!t.isValid(f))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(b==null||!t.isValid(b))throw new Error("z required");Object.freeze(this)}static fromAffine(f){const{x:g,y:b}=f||{};if(!f||!t.isValid(g)||!t.isValid(b))throw new Error("invalid affine point");if(f instanceof d)throw new Error("projective point not allowed");const S=p=>t.eql(p,t.ZERO);return S(g)&&S(b)?d.ZERO:new d(g,b,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){const g=t.invertBatch(f.map(b=>b.pz));return f.map((b,S)=>b.toAffine(g[S])).map(d.fromAffine)}static fromHex(f){const g=d.fromAffine(s(ia("pointHex",f)));return g.assertValidity(),g}static fromPrivateKey(f){return d.BASE.multiply(a(f))}_setWindowSize(f){h.setWindowSize(this,f)}assertValidity(){l(this)}hasEvenY(){const{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f,A=t.eql(t.mul(g,w),t.mul(p,S)),_=t.eql(t.mul(b,w),t.mul(I,S));return A&&_}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:f,b:g}=e,b=t.mul(g,Tpe),{px:S,py:p,pz:I}=this;let w=t.ZERO,A=t.ZERO,_=t.ZERO,E=t.mul(S,S),M=t.mul(p,p),P=t.mul(I,I),R=t.mul(S,p);return R=t.add(R,R),_=t.mul(S,I),_=t.add(_,_),w=t.mul(f,_),A=t.mul(b,P),A=t.add(w,A),w=t.sub(M,A),A=t.add(M,A),A=t.mul(w,A),w=t.mul(R,w),_=t.mul(b,_),P=t.mul(f,P),R=t.sub(E,P),R=t.mul(f,R),R=t.add(R,_),_=t.add(E,E),E=t.add(_,E),E=t.add(E,P),E=t.mul(E,R),A=t.add(A,E),P=t.mul(p,I),P=t.add(P,P),E=t.mul(P,R),w=t.sub(w,E),_=t.mul(P,M),_=t.add(_,_),_=t.add(_,_),new d(w,A,_)}add(f){c(f);const{px:g,py:b,pz:S}=this,{px:p,py:I,pz:w}=f;let A=t.ZERO,_=t.ZERO,E=t.ZERO;const M=e.a,P=t.mul(e.b,Tpe);let R=t.mul(g,p),$=t.mul(b,I),z=t.mul(S,w),T=t.add(g,b),v=t.add(p,I);T=t.mul(T,v),v=t.add(R,$),T=t.sub(T,v),v=t.add(g,S);let k=t.add(p,w);return v=t.mul(v,k),k=t.add(R,z),v=t.sub(v,k),k=t.add(b,S),A=t.add(I,w),k=t.mul(k,A),A=t.add($,z),k=t.sub(k,A),E=t.mul(M,v),A=t.mul(P,z),E=t.add(A,E),A=t.sub($,E),E=t.add($,E),_=t.mul(A,E),$=t.add(R,R),$=t.add($,R),z=t.mul(M,z),v=t.mul(P,v),$=t.add($,z),z=t.sub(R,z),z=t.mul(M,z),v=t.add(v,z),R=t.mul($,v),_=t.add(_,R),R=t.mul(k,v),A=t.mul(T,A),A=t.sub(A,R),R=t.mul(T,$),E=t.mul(k,E),E=t.add(E,R),new d(A,_,E)}subtract(f){return this.add(f.negate())}is0(){return this.equals(d.ZERO)}wNAF(f){return h.wNAFCached(this,f,d.normalizeZ)}multiplyUnsafe(f){xl("scalar",f,zy,e.n);const g=d.ZERO;if(f===zy)return g;if(f===pa)return this;const{endo:b}=e;if(!b)return h.unsafeLadder(this,f);let{k1neg:S,k1:p,k2neg:I,k2:w}=b.splitScalar(f),A=g,_=g,E=this;for(;p>zy||w>zy;)p&pa&&(A=A.add(E)),w&pa&&(_=_.add(E)),E=E.double(),p>>=pa,w>>=pa;return S&&(A=A.negate()),I&&(_=_.negate()),_=new d(t.mul(_.px,b.beta),_.py,_.pz),A.add(_)}multiply(f){const{endo:g,n:b}=e;xl("scalar",f,pa,b);let S,p;if(g){const{k1neg:I,k1:w,k2neg:A,k2:_}=g.splitScalar(f);let{p:E,f:M}=this.wNAF(w),{p:P,f:R}=this.wNAF(_);E=h.constTimeNegate(I,E),P=h.constTimeNegate(A,P),P=new d(t.mul(P.px,g.beta),P.py,P.pz),S=E.add(P),p=M.add(R)}else{const{p:I,f:w}=this.wNAF(f);S=I,p=w}return d.normalizeZ([S,p])[0]}multiplyAndAddUnsafe(f,g,b){const S=d.BASE,p=(w,A)=>A===zy||A===pa||!w.equals(S)?w.multiplyUnsafe(A):w.multiply(A),I=p(this,g).add(p(f,b));return I.is0()?void 0:I}toAffine(f){return u(this,f)}isTorsionFree(){const{h:f,isTorsionFree:g}=e;if(f===pa)return!0;if(g)return g(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f,clearCofactor:g}=e;return f===pa?this:g?g(d,this):this.multiplyUnsafe(e.h)}toRawBytes(f=!0){return em("isCompressed",f),this.assertValidity(),r(d,this,f)}toHex(f=!0){return em("isCompressed",f),LS(this.toRawBytes(f))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const y=e.nBitLength,h=KMe(d,e.endo?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:a,weierstrassEquation:i,isWithinCurveOrder:o}}function qTt(n){const e=Vne(n);return jT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function jTt(n){const e=qTt(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(T){return Si(T,r)}function a(T){return Cj(T,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:l,isWithinCurveOrder:d}=VTt({...e,toBytes(T,v,k){const x=v.toAffine(),C=t.toBytes(x.x),B=WS;return em("isCompressed",k),k?B(Uint8Array.from([v.hasEvenY()?2:3]),C):B(Uint8Array.from([4]),C,t.toBytes(x.y))},fromBytes(T){const v=T.length,k=T[0],x=T.subarray(1);if(v===s&&(k===2||k===3)){const C=Y1(x);if(!AL(C,pa,t.ORDER))throw new Error("Point is not on curve");const B=l(C);let O;try{O=t.sqrt(B)}catch(L){const N=L instanceof Error?": "+L.message:"";throw new Error("Point is not on curve"+N)}const D=(O&pa)===pa;return(k&1)===1!==D&&(O=t.neg(O)),{x:C,y:O}}else if(v===i&&k===4){const C=t.fromBytes(x.subarray(0,t.BYTES)),B=t.fromBytes(x.subarray(t.BYTES,2*t.BYTES));return{x:C,y:B}}else throw new Error(`Point of length ${v} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),y=T=>LS(s_(T,e.nByteLength));function h(T){const v=r>>pa;return T>v}function m(T){return h(T)?o(-T):T}const f=(T,v,k)=>Y1(T.slice(v,k));class g{constructor(v,k,x){this.r=v,this.s=k,this.recovery=x,this.assertValidity()}static fromCompact(v){const k=e.nByteLength;return v=ia("compactSignature",v,k*2),new g(f(v,0,k),f(v,k,2*k))}static fromDER(v){const{r:k,s:x}=L1.toSig(ia("DER",v));return new g(k,x)}assertValidity(){xl("r",this.r,pa,r),xl("s",this.s,pa,r)}addRecoveryBit(v){return new g(this.r,this.s,v)}recoverPublicKey(v){const{r:k,s:x,recovery:C}=this,B=A(ia("msgHash",v));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");const O=C===2||C===3?k+e.n:k;if(O>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const D=(C&1)===0?"02":"03",W=c.fromHex(D+y(O)),L=a(O),N=o(-B*L),H=o(x*L),J=c.BASE.multiplyAndAddUnsafe(W,N,H);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return n_(this.toDERHex())}toDERHex(){return L1.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n_(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const b={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=OMe(e.n);return uTt(e.randomBytes(T),e.n)},precompute(T=8,v=c.BASE){return v._setWindowSize(T),v.multiply(BigInt(3)),v}};function S(T,v=!0){return c.fromPrivateKey(T).toRawBytes(v)}function p(T){const v=KS(T),k=typeof T=="string",x=(v||k)&&T.length;return v?x===s||x===i:k?x===2*s||x===2*i:T instanceof c}function I(T,v,k=!0){if(p(T))throw new Error("first arg must be private key");if(!p(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(u(T)).toRawBytes(k)}const w=e.bits2int||function(T){const v=Y1(T),k=T.length*8-e.nBitLength;return k>0?v>>BigInt(k):v},A=e.bits2int_modN||function(T){return o(w(T))},_=Une(e.nBitLength);function E(T){return xl(`num < 2^${e.nBitLength}`,T,zy,_),s_(T,e.nByteLength)}function M(T,v,k=P){if(["recovered","canonical"].some(Y=>Y in k))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:C}=e;let{lowS:B,prehash:O,extraEntropy:D}=k;B==null&&(B=!0),T=ia("msgHash",T),xpe(k),O&&(T=ia("prehashed msgHash",x(T)));const W=A(T),L=u(v),N=[E(L),E(W)];if(D!=null&&D!==!1){const Y=D===!0?C(t.BYTES):D;N.push(ia("extraEntropy",Y))}const H=WS(...N),J=W;function Q(Y){const X=w(Y);if(!d(X))return;const re=a(X),se=c.BASE.multiply(X).toAffine(),ee=o(se.x);if(ee===zy)return;const ne=o(re*o(J+ee*L));if(ne===zy)return;let ve=(se.x===ee?0:2)|Number(se.y&pa),Pe=ne;return B&&h(ne)&&(Pe=m(ne),ve^=1),new g(ee,Pe,ve)}return{seed:H,k2sig:Q}}const P={lowS:e.lowS,prehash:!1},R={lowS:e.lowS,prehash:!1};function $(T,v,k=P){const{seed:x,k2sig:C}=M(T,v,k),B=e;return BMe(B.hash.outputLen,B.nByteLength,B.hmac)(x,C)}c.BASE._setWindowSize(8);function z(T,v,k,x=R){var se;const C=T;if(v=ia("msgHash",v),k=ia("publicKey",k),"strict"in x)throw new Error("options.strict was renamed to lowS");xpe(x);const{lowS:B,prehash:O}=x;let D,W;try{if(typeof C=="string"||KS(C))try{D=g.fromDER(C)}catch(ee){if(!(ee instanceof L1.Err))throw ee;D=g.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){const{r:ee,s:ne}=C;D=new g(ee,ne)}else throw new Error("PARSE");W=c.fromHex(k)}catch(ee){if(ee.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(B&&D.hasHighS())return!1;O&&(v=e.hash(v));const{r:L,s:N}=D,H=A(v),J=a(N),Q=o(H*J),Y=o(L*J),X=(se=c.BASE.multiplyAndAddUnsafe(W,Q,Y))==null?void 0:se.toAffine();return X?o(X.x)===L:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:I,sign:$,verify:z,ProjectivePoint:c,Signature:g,utils:b}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HTt(n){return{hash:n,hmac:(e,...t)=>jMe(n,e,Sxt(...t)),randomBytes:IMe}}function GTt(n,e){const t=r=>jTt({...n,...HTt(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HMe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Rpe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),YTt=BigInt(1),Bj=BigInt(2),Cpe=(n,e)=>(n+e/Bj)/e;function ZTt(n){const e=HMe,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=n*n*n%e,l=u*u*n%e,d=so(l,t,e)*l%e,y=so(d,t,e)*l%e,h=so(y,Bj,e)*u%e,m=so(h,s,e)*h%e,f=so(m,i,e)*m%e,g=so(f,a,e)*f%e,b=so(g,c,e)*g%e,S=so(b,a,e)*f%e,p=so(S,t,e)*l%e,I=so(p,o,e)*m%e,w=so(I,r,e)*u%e,A=so(w,Bj,e);if(!zj.eql(zj.sqr(A),n))throw new Error("Cannot find square root");return A}const zj=$Me(HMe,void 0,void 0,{sqrt:ZTt}),wL=GTt({a:BigInt(0),b:BigInt(7),Fp:zj,n:Rpe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=Rpe,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-YTt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=Cpe(i*n,e),c=Cpe(-r*n,e);let u=Si(n-a*t-c*s,e),l=Si(-a*r-c*i,e);const d=u>o,y=l>o;if(d&&(u=e-u),y&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:u,k2neg:y,k2:l}}}},Mj);BigInt(0);wL.ProjectivePoint;const JTt=HT.utils.randomPrivateKey,Mpe=()=>{const n=HT.utils.randomPrivateKey(),e=JO(n),t=new Uint8Array(64);return t.set(n),t.set(e,32),{publicKey:e,secretKey:t}},JO=HT.getPublicKey;function Bpe(n){try{return HT.ExtendedPoint.fromHex(n),!0}catch{return!1}}const Zne=(n,e)=>HT.sign(n,e.slice(0,32)),XTt=HT.verify,sn=n=>V.Buffer.isBuffer(n)?n:n instanceof Uint8Array?V.Buffer.from(n.buffer,n.byteOffset,n.byteLength):V.Buffer.from(n);class Jne{constructor(e){Object.assign(this,e)}encode(){return V.Buffer.from(om(Y2,this))}static decode(e){return am(Y2,this,e)}static decodeUnchecked(e){return cm(Y2,this,e)}}class QTt extends Jne{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(t=>{this.enum=t})}}const Y2=new Map;var GMe;const YMe=32,Zf=32;function eRt(n){return n._bn!==void 0}let zpe=1;class ct extends Jne{constructor(e){if(super({}),this._bn=void 0,eRt(e))this._bn=e._bn;else{if(typeof e=="string"){const t=Ie.decode(e);if(t.length!=Zf)throw new Error("Invalid public key input");this._bn=new Co(t)}else this._bn=new Co(e);if(this._bn.byteLength()>Zf)throw new Error("Invalid public key input")}}static unique(){const e=new ct(zpe);return zpe+=1,new ct(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Ie.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(V.Buffer);if(e.length===Zf)return e;const t=V.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const s=V.Buffer.concat([e.toBuffer(),V.Buffer.from(t),r.toBuffer()]),i=Mj(s);return new ct(i)}static createProgramAddressSync(e,t){let r=V.Buffer.alloc(0);e.forEach(function(i){if(i.length>YMe)throw new TypeError("Max seed length exceeded");r=V.Buffer.concat([r,sn(i)])}),r=V.Buffer.concat([r,t.toBuffer(),V.Buffer.from("ProgramDerivedAddress")]);const s=Mj(r);if(Bpe(s))throw new Error("Invalid seeds, address must fall off the curve");return new ct(s)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r=255,s;for(;r!=0;){try{const i=e.concat(V.Buffer.from([r]));s=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){const t=new ct(e);return Bpe(t.toBytes())}}GMe=ct;ct.default=new GMe("11111111111111111111111111111111");Y2.set(ct,{kind:"struct",fields:[["_bn","u256"]]});class tRt{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=sn(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=sn(JTt()),this._publicKey=sn(JO(this._secretKey))}get publicKey(){return new ct(this._publicKey)}get secretKey(){return V.Buffer.concat([this._secretKey,this._publicKey],64)}}const rRt=new ct("BPFLoader1111111111111111111111111111111111"),kp=1280-40-8,IL=127,SB=64;class Xne extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Xne.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Qne extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Qne.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Kv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Kv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class kB{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const wn=(n="publicKey")=>ie(32,n),nRt=(n="signature")=>ie(64,n),W1=(n="string")=>{const e=F([U("length"),U("lengthPadding"),ie(Vt(U(),-8),"chars")],n),t=e.decode.bind(e),r=e.encode.bind(e),s=e;return s.decode=(i,o)=>t(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:V.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>U().span+U().span+V.Buffer.from(i,"utf8").length,s},sRt=(n="authorized")=>F([wn("staker"),wn("withdrawer")],n),iRt=(n="lockup")=>F([_e("unixTimestamp"),_e("epoch"),wn("custodian")],n),oRt=(n="voteInit")=>F([wn("nodePubkey"),wn("authorizedVoter"),wn("authorizedWithdrawer"),te("commission")],n),aRt=(n="voteAuthorizeWithSeedArgs")=>F([U("voteAuthorizationType"),wn("currentAuthorityDerivedKeyOwnerPubkey"),W1("currentAuthorityDerivedKeySeed"),wn("newAuthorized")],n);function ZMe(n,e){const t=s=>{if(s.span>=0)return s.span;if(typeof s.alloc=="function")return s.alloc(e[s.property]);if("count"in s&&"elementLayout"in s){const i=e[s.property];if(Array.isArray(i))return i.length*t(s.elementLayout)}else if("fields"in s)return ZMe({layout:s},e[s.property]);return 0};let r=0;return n.layout.fields.forEach(s=>{r+=t(s)}),r}function gu(n){let e=0,t=0;for(;;){let r=n.shift();if(e|=(r&127)<<t*7,t+=1,(r&128)===0)break}return e}function Vu(n,e){let t=e;for(;;){let r=t&127;if(t>>=7,t==0){n.push(r);break}else r|=128,n.push(r)}}function qn(n,e){if(!n)throw new Error(e||"Assertion failed")}class PL{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new PL(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];qn(e.length<=256,"Max static account keys length exceeded");const t=e.filter(([,c])=>c.isSigner&&c.isWritable),r=e.filter(([,c])=>c.isSigner&&!c.isWritable),s=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{qn(t.length>0,"Expected at least one writable signer key");const[c]=t[0];qn(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...t.map(([c])=>new ct(c)),...r.map(([c])=>new ct(c)),...s.map(([c])=>new ct(c)),...i.map(([c])=>new ct(c))];return[o,a]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(t.length===0&&s.length===0))return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const a=new ct(i),c=e.findIndex(u=>u.equals(a));c>=0&&(qn(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const JMe="Reached end of buffer unexpectedly";function zf(n){if(n.length===0)throw new Error(JMe);return n.shift()}function mu(n,...e){const[t]=e;if(e.length===2?t+(e[1]??0)>n.length:t>=n.length)throw new Error(JMe);return n.splice(...e)}class xd{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(t=>new ct(t)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Ie.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new kB(this.staticAccountKeys)}static compile(e){const t=PL.compile(e.instructions,e.payerKey),[r,s]=t.getMessageComponents(),o=new kB(s).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Ie.encode(a.data)}));return new xd({header:r,accountKeys:s,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-t,i=this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=t-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,t)=>!this.isProgramId(t))}serialize(){const e=this.accountKeys.length;let t=[];Vu(t,e);const r=this.instructions.map(d=>{const{accounts:y,programIdIndex:h}=d,m=Array.from(Ie.decode(d.data));let f=[];Vu(f,y.length);let g=[];return Vu(g,m.length),{programIdIndex:h,keyIndicesCount:V.Buffer.from(f),keyIndices:y,dataLength:V.Buffer.from(g),data:m}});let s=[];Vu(s,r.length);let i=V.Buffer.alloc(kp);V.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{o+=F([te("programIdIndex"),ie(d.keyIndicesCount.length,"keyIndicesCount"),we(te("keyIndex"),d.keyIndices.length,"keyIndices"),ie(d.dataLength.length,"dataLength"),we(te("userdatum"),d.data.length,"data")]).encode(d,i,o)}),i=i.slice(0,o);const a=F([ie(1,"numRequiredSignatures"),ie(1,"numReadonlySignedAccounts"),ie(1,"numReadonlyUnsignedAccounts"),ie(t.length,"keyCount"),we(wn("key"),e,"keys"),wn("recentBlockhash")]),c={numRequiredSignatures:V.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:V.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:V.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:V.Buffer.from(t),keys:this.accountKeys.map(d=>sn(d.toBytes())),recentBlockhash:Ie.decode(this.recentBlockhash)};let u=V.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(e){let t=[...e];const r=zf(t);if(r!==(r&IL))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=zf(t),i=zf(t),o=gu(t);let a=[];for(let y=0;y<o;y++){const h=mu(t,0,Zf);a.push(new ct(V.Buffer.from(h)))}const c=mu(t,0,Zf),u=gu(t);let l=[];for(let y=0;y<u;y++){const h=zf(t),m=gu(t),f=mu(t,0,m),g=gu(t),b=mu(t,0,g),S=Ie.encode(V.Buffer.from(b));l.push({programIdIndex:h,accounts:f,data:S})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Ie.encode(V.Buffer.from(c)),accountKeys:a,instructions:l};return new xd(d)}}class NS{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new kB(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const s=e-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(e>=this.header.numRequiredSignatures){const s=e-t,o=r-t-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=t-this.header.numReadonlySignedAccounts;return e<s}}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=e.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)t.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)t.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return t}static compile(e){const t=PL.compile(e.instructions,e.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const l of i){const d=t.extractTableLookup(l);if(d!==void 0){const[y,{writable:h,readonly:m}]=d;r.push(y),s.writable.push(...h),s.readonly.push(...m)}}const[o,a]=t.getMessageComponents(),u=new kB(a,s).compileInstructions(e.instructions);return new NS({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const e=Array();Vu(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Vu(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();Vu(i,this.addressTableLookups.length);const o=F([te("prefix"),F([te("numRequiredSignatures"),te("numReadonlySignedAccounts"),te("numReadonlyUnsignedAccounts")],"header"),ie(e.length,"staticAccountKeysLength"),we(wn(),this.staticAccountKeys.length,"staticAccountKeys"),wn("recentBlockhash"),ie(r.length,"instructionsLength"),ie(t.length,"serializedInstructions"),ie(i.length,"addressTableLookupsLength"),ie(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(kp),c=1<<7,u=o.encode({prefix:c,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Ie.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let e=0;const t=new Uint8Array(kp);for(const r of this.compiledInstructions){const s=Array();Vu(s,r.accountKeyIndexes.length);const i=Array();Vu(i,r.data.length),e+=F([te("programIdIndex"),ie(s.length,"encodedAccountKeyIndexesLength"),we(te(),r.accountKeyIndexes.length,"accountKeyIndexes"),ie(i.length,"encodedDataLength"),ie(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(kp);for(const r of this.addressTableLookups){const s=Array();Vu(s,r.writableIndexes.length);const i=Array();Vu(i,r.readonlyIndexes.length),e+=F([wn("accountKey"),ie(s.length,"encodedWritableIndexesLength"),we(te(),r.writableIndexes.length,"writableIndexes"),ie(i.length,"encodedReadonlyIndexesLength"),we(te(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=zf(t),s=r&IL;qn(r!==s,"Expected versioned message but received legacy message");const i=s;qn(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:zf(t),numReadonlySignedAccounts:zf(t),numReadonlyUnsignedAccounts:zf(t)},a=[],c=gu(t);for(let m=0;m<c;m++)a.push(new ct(mu(t,0,Zf)));const u=Ie.encode(mu(t,0,Zf)),l=gu(t),d=[];for(let m=0;m<l;m++){const f=zf(t),g=gu(t),b=mu(t,0,g),S=gu(t),p=new Uint8Array(mu(t,0,S));d.push({programIdIndex:f,accountKeyIndexes:b,data:p})}const y=gu(t),h=[];for(let m=0;m<y;m++){const f=new ct(mu(t,0,Zf)),g=gu(t),b=mu(t,0,g),S=gu(t),p=mu(t,0,S);h.push({accountKey:f,writableIndexes:b,readonlyIndexes:p})}return new NS({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const ese={deserializeMessageVersion(n){const e=n[0],t=e&IL;return t===e?"legacy":t},deserialize:n=>{const e=ese.deserializeMessageVersion(n);if(e==="legacy")return xd.from(n);if(e===0)return NS.deserialize(n);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ig=function(n){return n[n.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",n[n.PROCESSED=1]="PROCESSED",n[n.TIMED_OUT=2]="TIMED_OUT",n[n.NONCE_INVALID=3]="NONCE_INVALID",n}({});const cRt=V.Buffer.alloc(SB).fill(0);class Is{constructor(e){this.keys=void 0,this.programId=void 0,this.data=V.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Xn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new Is(t))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t=[this.nonceInfo.nonceInstruction,...this.instructions]:t=this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");t.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let f=0;f<t.length;f++)if(t[f].programId===void 0)throw new Error(`Transaction instruction index ${f} has undefined program id`);const s=[],i=[];t.forEach(f=>{f.keys.forEach(b=>{i.push({...b})});const g=f.programId.toString();s.includes(g)||s.push(g)}),s.forEach(f=>{i.push({pubkey:new ct(f),isSigner:!1,isWritable:!1})});const o=[];i.forEach(f=>{const g=f.pubkey.toString(),b=o.findIndex(S=>S.pubkey.toString()===g);b>-1?(o[b].isWritable=o[b].isWritable||f.isWritable,o[b].isSigner=o[b].isSigner||f.isSigner):o.push(f)}),o.sort(function(f,g){if(f.isSigner!==g.isSigner)return f.isSigner?-1:1;if(f.isWritable!==g.isWritable)return f.isWritable?-1:1;const b={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return f.pubkey.toBase58().localeCompare(g.pubkey.toBase58(),"en",b)});const a=o.findIndex(f=>f.pubkey.equals(r));if(a>-1){const[f]=o.splice(a,1);f.isSigner=!0,f.isWritable=!0,o.unshift(f)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const g=o.findIndex(b=>b.pubkey.equals(f.publicKey));if(g>-1)o[g].isSigner||(o[g].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${f.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],y=[];o.forEach(({pubkey:f,isSigner:g,isWritable:b})=>{g?(d.push(f.toString()),c+=1,b||(u+=1)):(y.push(f.toString()),b||(l+=1))});const h=d.concat(y),m=t.map(f=>{const{data:g,programId:b}=f;return{programIdIndex:h.indexOf(b.toString()),accounts:f.keys.map(S=>h.indexOf(S.pubkey.toString())),data:Ie.encode(g)}});return m.forEach(f=>{qn(f.programIdIndex>=0),f.accounts.forEach(g=>qn(g>=0))}),new xd({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:e,instructions:m})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===t.length&&this.signatures.every((s,i)=>t[i].equals(s.publicKey))||(this.signatures=t.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const t=new Set;this.signatures=e.filter(r=>{const s=r.toString();return t.has(s)?!1:(t.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const o=i.publicKey.toString();t.has(o)||(t.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach(s=>{const i=Zne(r,s.secretKey);this._addSignature(s.publicKey,sn(i))})}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){qn(t.length===64);const r=this.signatures.findIndex(s=>e.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=V.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?t&&(r.missing||=[]).push(i):XTt(s,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,t);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(e){const{signatures:t}=this,r=[];Vu(r,t.length);const s=r.length+t.length*64+e.length,i=V.Buffer.alloc(s);return qn(t.length<256),V.Buffer.from(r).copy(i,0),t.forEach(({signature:o},a)=>{o!==null&&(qn(o.length===64,"signature has invalid length"),V.Buffer.from(o).copy(i,r.length+a*64))}),e.copy(i,r.length+t.length*64),qn(i.length<=kp,`Transaction too large: ${i.length} > ${kp}`),i}get keys(){return qn(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return qn(this.instructions.length===1),this.instructions[0].programId}get data(){return qn(this.instructions.length===1),this.instructions[0].data}static from(e){let t=[...e];const r=gu(t);let s=[];for(let i=0;i<r;i++){const o=mu(t,0,SB);s.push(Ie.encode(V.Buffer.from(o)))}return Xn.populate(xd.from(t),s)}static populate(e,t=[]){const r=new Xn;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach((s,i)=>{const o={signature:s==Ie.encode(cRt)?null:Ie.decode(s),publicKey:e.accountKeys[i]};r.signatures.push(o)}),e.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Is({keys:i,programId:e.accountKeys[s.programIdIndex],data:Ie.decode(s.data)}))}),r._message=e,r._json=r.toJSON(),r}}class tse{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:s,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=r,u=o-a;qn(u>0,"Message header is invalid");const l=e.staticAccountKeys.length-o-c;qn(l>=0,"Message header is invalid");const d=e.getAccountKeys(t),y=d.get(0);if(y===void 0)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const m of s){const f=[];for(const b of m.accountKeyIndexes){const S=d.get(b);if(S===void 0)throw new Error(`Failed to find key for account key index ${b}`);const p=b<o;let I;p?I=b<u:b<d.staticAccountKeys.length?I=b-o<l:I=b-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,f.push({pubkey:S,isSigner:b<r.numRequiredSignatures,isWritable:I})}const g=d.get(m.programIdIndex);if(g===void 0)throw new Error(`Failed to find program id for program id index ${m.programIdIndex}`);h.push(new Is({programId:g,data:sn(m.data),keys:f}))}return new tse({payerKey:y,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return xd.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return NS.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class rse{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,t!==void 0)qn(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const r=[];for(let s=0;s<e.header.numRequiredSignatures;s++)r.push(new Uint8Array(SB));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Vu(t,this.signatures.length);const r=F([ie(t.length,"encodedSignaturesLength"),we(nRt(),this.signatures.length,"signatures"),ie(e.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},s);return s.slice(0,i)}static deserialize(e){let t=[...e];const r=[],s=gu(t);for(let o=0;o<s;o++)r.push(new Uint8Array(mu(t,0,SB)));const i=ese.deserialize(new Uint8Array(t));return new rse(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of e){const i=r.findIndex(o=>o.equals(s.publicKey));qn(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=Zne(t,s.secretKey)}}addSignature(e,t){qn(t.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));qn(s>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=t}}const uRt=160,lRt=64,dRt=uRt/lRt,XMe=1e3/dRt,uf=new ct("SysvarC1ock11111111111111111111111111111111"),fRt=new ct("SysvarEpochSchedu1e111111111111111111111111"),hRt=new ct("Sysvar1nstructions1111111111111111111111111"),FD=new ct("SysvarRecentB1ockHashes11111111111111111111"),i_=new ct("SysvarRent111111111111111111111111111111111"),gRt=new ct("SysvarRewards111111111111111111111111111111"),mRt=new ct("SysvarS1otHashes111111111111111111111111111"),yRt=new ct("SysvarS1otHistory11111111111111111111111111"),UD=new ct("SysvarStakeHistory1111111111111111111111111");class vB extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${t} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((t,r)=>{e.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,t(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}const pRt={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class er extends Error{constructor({code:e,message:t,data:r},s){super(s!=null?`${s}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function $j(n,e,t,r){const s=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},i=await n.sendTransaction(e,t,s);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},r&&r.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await n.confirmTransaction({abortSignal:r==null?void 0:r.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},r&&r.commitment)).value}else(r==null?void 0:r.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await n.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw i!=null?new vB({action:"send",signature:i,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${i} failed (${JSON.stringify(o)})`);return i}function b1(n){return new Promise(e=>setTimeout(e,n))}function zn(n,e){const t=n.layout.span>=0?n.layout.span:ZMe(n,e),r=V.Buffer.alloc(t),s=Object.assign({instruction:n.index},e);return n.layout.encode(s,r),r}function as(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.instruction!==n.index)throw new Error(`invalid instruction; instruction index mismatch ${t.instruction} != ${n.index}`);return t}const QMe=Ae("lamportsPerSignature"),eBe=F([U("version"),U("state"),wn("authorizedPubkey"),wn("nonce"),F([QMe],"feeCalculator")]),Dj=eBe.span;class _L{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=eBe.decode(sn(e),0);return new _L({authorizedPubkey:new ct(t.authorizedPubkey),nonce:new ct(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const bRt=n=>{const e=n.decode.bind(n),t=n.encode.bind(n);return{decode:e,encode:t}},SRt=n=>e=>{const t=ie(n,e),{encode:r,decode:s}=bRt(t),i=t;return i.decode=(o,a)=>{const c=s(o,a);return um(V.Buffer.from(c))},i.encode=(o,a,c)=>{const u=nc(o,n);return r(u,a,c)},i},o_=SRt(8);class kRt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ns))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:s}=as(Ns.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new ct(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=as(Ns.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:s}=as(Ns.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new ct(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=as(Ns.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:s,programId:i}=as(Ns.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ct(t),seed:r,space:s,programId:new ct(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=as(Ns.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new ct(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:s}=as(Ns.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new ct(t),seed:r,programId:new ct(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:s,space:i,programId:o}=as(Ns.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new ct(t),seed:r,lamports:s,space:i,programId:new ct(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=as(Ns.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new ct(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),as(Ns.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=as(Ns.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=as(Ns.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new ct(t)}}static checkProgramId(e){if(!e.equals(qa.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ns=Object.freeze({Create:{index:0,layout:F([U("instruction"),_e("lamports"),_e("space"),wn("programId")])},Assign:{index:1,layout:F([U("instruction"),wn("programId")])},Transfer:{index:2,layout:F([U("instruction"),o_("lamports")])},CreateWithSeed:{index:3,layout:F([U("instruction"),wn("base"),W1("seed"),_e("lamports"),_e("space"),wn("programId")])},AdvanceNonceAccount:{index:4,layout:F([U("instruction")])},WithdrawNonceAccount:{index:5,layout:F([U("instruction"),_e("lamports")])},InitializeNonceAccount:{index:6,layout:F([U("instruction"),wn("authorized")])},AuthorizeNonceAccount:{index:7,layout:F([U("instruction"),wn("authorized")])},Allocate:{index:8,layout:F([U("instruction"),_e("space")])},AllocateWithSeed:{index:9,layout:F([U("instruction"),wn("base"),W1("seed"),_e("space"),wn("programId")])},AssignWithSeed:{index:10,layout:F([U("instruction"),wn("base"),W1("seed"),wn("programId")])},TransferWithSeed:{index:11,layout:F([U("instruction"),o_("lamports"),W1("seed"),wn("programId")])},UpgradeNonceAccount:{index:12,layout:F([U("instruction")])}});class qa{constructor(){}static createAccount(e){const t=Ns.Create,r=zn(t,{lamports:e.lamports,space:e.space,programId:sn(e.programId.toBuffer())});return new Is({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:r})}static transfer(e){let t,r;if("basePubkey"in e){const s=Ns.TransferWithSeed;t=zn(s,{lamports:BigInt(e.lamports),seed:e.seed,programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Ns.Transfer;t=zn(s,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Is({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){const s=Ns.AssignWithSeed;t=zn(s,{base:sn(e.basePubkey.toBuffer()),seed:e.seed,programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ns.Assign;t=zn(s,{programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Is({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ns.CreateWithSeed,r=zn(t,{base:sn(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:sn(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Is({keys:s,programId:this.programId,data:r})}static createNonceAccount(e){const t=new Xn;"basePubkey"in e&&"seed"in e?t.add(qa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Dj,programId:this.programId})):t.add(qa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Dj,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ns.InitializeNonceAccount,r=zn(t,{authorized:sn(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:FD,isSigner:!1,isWritable:!1},{pubkey:i_,isSigner:!1,isWritable:!1}],programId:this.programId,data:r};return new Is(s)}static nonceAdvance(e){const t=Ns.AdvanceNonceAccount,r=zn(t),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:FD,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r};return new Is(s)}static nonceWithdraw(e){const t=Ns.WithdrawNonceAccount,r=zn(t,{lamports:e.lamports});return new Is({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:FD,isSigner:!1,isWritable:!1},{pubkey:i_,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static nonceAuthorize(e){const t=Ns.AuthorizeNonceAccount,r=zn(t,{authorized:sn(e.newAuthorizedPubkey.toBuffer())});return new Is({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}static allocate(e){let t,r;if("basePubkey"in e){const s=Ns.AllocateWithSeed;t=zn(s,{base:sn(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:sn(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Ns.Allocate;t=zn(s,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Is({keys:r,programId:this.programId,data:t})}}qa.programId=new ct("11111111111111111111111111111111");const vRt=kp-300;class FS{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/FS.chunkSize)+1+1)}static async load(e,t,r,s,i){{const d=await e.getMinimumBalanceForRentExemption(i.length),y=await e.getAccountInfo(r.publicKey,"confirmed");let h=null;if(y!==null){if(y.executable)return console.error("Program load failed, account is already executable"),!1;y.data.length!==i.length&&(h=h||new Xn,h.add(qa.allocate({accountPubkey:r.publicKey,space:i.length}))),y.owner.equals(s)||(h=h||new Xn,h.add(qa.assign({accountPubkey:r.publicKey,programId:s}))),y.lamports<d&&(h=h||new Xn,h.add(qa.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:d-y.lamports})))}else h=new Xn().add(qa.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:d>0?d:1,space:i.length,programId:s}));h!==null&&await $j(e,h,[t,r],{commitment:"confirmed"})}const o=F([U("instruction"),U("offset"),U("bytesLength"),U("bytesLengthPadding"),we(te("byte"),Vt(U(),-8),"bytes")]),a=FS.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const d=u.slice(0,a),y=V.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:d,bytesLength:0,bytesLengthPadding:0},y);const h=new Xn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:y});l.push($j(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await b1(1e3/4),c+=a,u=u.slice(a)}await Promise.all(l);{const d=F([U("instruction")]),y=V.Buffer.alloc(d.span);d.encode({instruction:1},y);const h=new Xn().add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:i_,isSigner:!1,isWritable:!1}],programId:s,data:y}),m="processed",f=await e.sendTransaction(h,[t,r],{preflightCommitment:m}),{context:g,value:b}=await e.confirmTransaction({signature:f,lastValidBlockHeight:h.lastValidBlockHeight,blockhash:h.recentBlockhash},m);if(b.err)throw new Error(`Transaction ${f} failed (${JSON.stringify(b)})`);for(;;){try{if(await e.getSlot({commitment:m})>g.slot)break}catch{}await new Promise(S=>setTimeout(S,Math.round(XMe/2)))}}return!0}}FS.chunkSize=vRt;const ARt=new ct("BPFLoader2111111111111111111111111111111111");class wRt{static getMinNumSignatures(e){return FS.getMinNumSignatures(e)}static load(e,t,r,s,i){return FS.load(e,t,r,i,s)}}function IRt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var RU,$pe;function PRt(){if($pe)return RU;$pe=1;var n=Object.prototype.toString,e=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function t(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return t(r.toJSON(),s);if(d=n.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=t(r[i],!0)+",";return o>-1&&(a+=t(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=e(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=t(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return RU=function(r){var s=t(r,!1);if(s!==void 0)return""+s},RU}var _Rt=PRt(),Dpe=IRt(_Rt);const zC=32;function CU(n){let e=0;for(;n>1;)n/=2,e++;return e}function ERt(n){return n===0?1:(n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n|=n>>32,n+1)}class tBe{constructor(e,t,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=CU(ERt(e+zC+1))-CU(zC)-1,r=this.getSlotsInEpoch(t),s=e-(r-zC);return[t,s]}else{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=t%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*zC:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+CU(zC)):this.slotsPerEpoch}}var xRt=globalThis.fetch;class TRt extends Bb{constructor(e,t,r){const s=i=>{const o=$b(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,e,t,r),this.underlyingSocket=void 0}call(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){var r;const t=(r=this.underlyingSocket)==null?void 0:r.readyState;return t===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}function RRt(n,e){let t;try{t=n.layout.decode(e)}catch(r){throw new Error("invalid instruction; "+r)}if(t.typeIndex!==n.index)throw new Error(`invalid account data; account type mismatch ${t.typeIndex} != ${n.index}`);return t}const Ope=56;class Oj{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=RRt(CRt,e),r=e.length-Ope;qn(r>=0,"lookup table is invalid"),qn(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=F([we(wn(),s,"addresses")]).decode(e.slice(Ope));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:t.authority.length!==0?new ct(t.authority[0]):void 0,addresses:i.map(o=>new ct(o))}}}const CRt={index:1,layout:F([U("typeIndex"),o_("deactivationSlot"),Ae("lastExtendedSlot"),te("lastExtendedStartIndex"),te(),we(wn(),Vt(te(),-1),"authority")])},MRt=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function BRt(n){const e=n.match(MRt);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${n}\``);const[t,r,s,i]=e,o=n.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const Gi=qz(Hne(ct),Je(),n=>new ct(n)),rBe=Gne([Je(),Ci("base64")]),nse=qz(Hne(V.Buffer),rBe,n=>V.Buffer.from(n[0],"base64")),nBe=30*1e3;function zRt(n){if(/^https?:/.test(n)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return n}function Ms(n){let e,t;if(typeof n=="string")e=n;else if(n){const{commitment:r,...s}=n;e=r,t=s}return{commitment:e,config:t}}function Kpe(n){return n.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function sBe(n){return Dc([$e({jsonrpc:Ci("2.0"),id:Je(),result:n}),$e({jsonrpc:Ci("2.0"),id:Je(),error:$e({code:GT(),message:Je(),data:yr(RTt())})})])}const $Rt=sBe(GT());function Yr(n){return qz(sBe(n),$Rt,e=>"error"in e?e:{...e,result:St(e.result,n)})}function wo(n){return Yr($e({context:$e({slot:Se()}),value:n}))}function EL(n){return $e({context:$e({slot:Se()}),value:n})}function MU(n,e){return n===0?new NS({header:e.header,staticAccountKeys:e.accountKeys.map(t=>new ct(t)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Ie.decode(t.data)})),addressTableLookups:e.addressTableLookups}):new xd(e)}const DRt=$e({foundation:Se(),foundationTerm:Se(),initial:Se(),taper:Se(),terminal:Se()}),ORt=Yr(Et($t($e({epoch:Se(),effectiveSlot:Se(),amount:Se(),postBalance:Se(),commission:yr($t(Se()))})))),KRt=Et($e({slot:Se(),prioritizationFee:Se()})),LRt=$e({total:Se(),validator:Se(),foundation:Se(),epoch:Se()}),WRt=$e({epoch:Se(),slotIndex:Se(),slotsInEpoch:Se(),absoluteSlot:Se(),blockHeight:yr(Se()),transactionCount:yr(Se())}),NRt=$e({slotsPerEpoch:Se(),leaderScheduleSlotOffset:Se(),warmup:oh(),firstNormalEpoch:Se(),firstNormalSlot:Se()}),FRt=NMe(Je(),Et(Se())),wk=$t(Dc([$e({}),Je()])),URt=$e({err:wk}),VRt=Ci("receivedSignature"),qRt=$e({"solana-core":Je(),"feature-set":yr(Se())}),jRt=$e({program:Je(),programId:Gi,parsed:GT()}),HRt=$e({programId:Gi,accounts:Et(Gi),data:Je()}),Lpe=wo($e({err:$t(Dc([$e({}),Je()])),logs:$t(Et(Je())),accounts:yr($t(Et($t($e({executable:oh(),owner:Je(),lamports:Se(),data:Et(Je()),rentEpoch:yr(Se())}))))),unitsConsumed:yr(Se()),returnData:yr($t($e({programId:Je(),data:Gne([Je(),Ci("base64")])}))),innerInstructions:yr($t(Et($e({index:Se(),instructions:Et(Dc([jRt,HRt]))}))))})),GRt=wo($e({byIdentity:NMe(Je(),Et(Se())),range:$e({firstSlot:Se(),lastSlot:Se()})}));function YRt(n,e,t,r,s,i){const o=t||xRt;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const y=await new Promise((h,m)=>{try{r(l,d,(f,g)=>h([f,g]))}catch(f){m(f)}});return await o(...y)}),new zb(async(l,d)=>{const y={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},ZCt)};try{let h=5,m,f=500;for(;c?m=await c(n,y):m=await o(n,y),!(m.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${m.status} ${m.statusText}.  Retrying after ${f}ms delay...`),await b1(f),f*=2;const g=await m.text();m.ok?d(null,g):d(new Error(`${m.status} ${m.statusText}: ${g}`))}catch(h){h instanceof Error&&d(h)}},{})}function ZRt(n){return(e,t)=>new Promise((r,s)=>{n.request(e,t,(i,o)=>{if(i){s(i);return}r(o)})})}function JRt(n){return e=>new Promise((t,r)=>{e.length===0&&t([]);const s=e.map(i=>n.request(i.methodName,i.args));n.request(s,(i,o)=>{if(i){r(i);return}t(o)})})}const XRt=Yr(DRt),QRt=Yr(LRt),eCt=Yr(KRt),tCt=Yr(WRt),rCt=Yr(NRt),nCt=Yr(FRt),sCt=Yr(Se()),iCt=wo($e({total:Se(),circulating:Se(),nonCirculating:Se(),nonCirculatingAccounts:Et(Gi)})),Kj=$e({amount:Je(),uiAmount:$t(Se()),decimals:Se(),uiAmountString:yr(Je())}),oCt=wo(Et($e({address:Gi,amount:Je(),uiAmount:$t(Se()),decimals:Se(),uiAmountString:yr(Je())}))),aCt=wo(Et($e({pubkey:Gi,account:$e({executable:oh(),owner:Gi,lamports:Se(),data:nse,rentEpoch:Se()})}))),Lj=$e({program:Je(),parsed:GT(),space:Se()}),cCt=wo(Et($e({pubkey:Gi,account:$e({executable:oh(),owner:Gi,lamports:Se(),data:Lj,rentEpoch:Se()})}))),uCt=wo(Et($e({lamports:Se(),address:Gi}))),AB=$e({executable:oh(),owner:Gi,lamports:Se(),data:nse,rentEpoch:Se()}),lCt=$e({pubkey:Gi,account:AB}),dCt=qz(Dc([Hne(V.Buffer),Lj]),Dc([rBe,Lj]),n=>Array.isArray(n)?St(n,nse):n),Wj=$e({executable:oh(),owner:Gi,lamports:Se(),data:dCt,rentEpoch:Se()}),fCt=$e({pubkey:Gi,account:Wj}),hCt=$e({state:Dc([Ci("active"),Ci("inactive"),Ci("activating"),Ci("deactivating")]),active:Se(),inactive:Se()}),gCt=Yr(Et($e({signature:Je(),slot:Se(),err:wk,memo:$t(Je()),blockTime:yr($t(Se()))}))),mCt=Yr(Et($e({signature:Je(),slot:Se(),err:wk,memo:$t(Je()),blockTime:yr($t(Se()))}))),yCt=$e({subscription:Se(),result:EL(AB)}),pCt=$e({pubkey:Gi,account:AB}),bCt=$e({subscription:Se(),result:EL(pCt)}),SCt=$e({parent:Se(),slot:Se(),root:Se()}),kCt=$e({subscription:Se(),result:SCt}),vCt=Dc([$e({type:Dc([Ci("firstShredReceived"),Ci("completed"),Ci("optimisticConfirmation"),Ci("root")]),slot:Se(),timestamp:Se()}),$e({type:Ci("createdBank"),parent:Se(),slot:Se(),timestamp:Se()}),$e({type:Ci("frozen"),slot:Se(),timestamp:Se(),stats:$e({numTransactionEntries:Se(),numSuccessfulTransactions:Se(),numFailedTransactions:Se(),maxTransactionsPerEntry:Se()})}),$e({type:Ci("dead"),slot:Se(),timestamp:Se(),err:Je()})]),ACt=$e({subscription:Se(),result:vCt}),wCt=$e({subscription:Se(),result:EL(Dc([URt,VRt]))}),ICt=$e({subscription:Se(),result:Se()}),PCt=$e({pubkey:Je(),gossip:$t(Je()),tpu:$t(Je()),rpc:$t(Je()),version:$t(Je())}),Wpe=$e({votePubkey:Je(),nodePubkey:Je(),activatedStake:Se(),epochVoteAccount:oh(),epochCredits:Et(Gne([Se(),Se(),Se()])),commission:Se(),lastVote:Se(),rootSlot:$t(Se())}),_Ct=Yr($e({current:Et(Wpe),delinquent:Et(Wpe)})),ECt=Dc([Ci("processed"),Ci("confirmed"),Ci("finalized")]),xCt=$e({slot:Se(),confirmations:$t(Se()),err:wk,confirmationStatus:yr(ECt)}),TCt=wo(Et($t(xCt))),RCt=Yr(Se()),iBe=$e({accountKey:Gi,writableIndexes:Et(Se()),readonlyIndexes:Et(Se())}),sse=$e({signatures:Et(Je()),message:$e({accountKeys:Et(Je()),header:$e({numRequiredSignatures:Se(),numReadonlySignedAccounts:Se(),numReadonlyUnsignedAccounts:Se()}),instructions:Et($e({accounts:Et(Se()),data:Je(),programIdIndex:Se()})),recentBlockhash:Je(),addressTableLookups:yr(Et(iBe))})}),oBe=$e({pubkey:Gi,signer:oh(),writable:oh(),source:yr(Dc([Ci("transaction"),Ci("lookupTable")]))}),aBe=$e({accountKeys:Et(oBe),signatures:Et(Je())}),cBe=$e({parsed:GT(),program:Je(),programId:Gi}),uBe=$e({accounts:Et(Gi),data:Je(),programId:Gi}),CCt=Dc([uBe,cBe]),MCt=Dc([$e({parsed:GT(),program:Je(),programId:Je()}),$e({accounts:Et(Je()),data:Je(),programId:Je()})]),lBe=qz(CCt,MCt,n=>"accounts"in n?St(n,uBe):St(n,cBe)),dBe=$e({signatures:Et(Je()),message:$e({accountKeys:Et(oBe),instructions:Et(lBe),recentBlockhash:Je(),addressTableLookups:yr($t(Et(iBe)))})}),XO=$e({accountIndex:Se(),mint:Je(),owner:yr(Je()),programId:yr(Je()),uiTokenAmount:Kj}),fBe=$e({writable:Et(Gi),readonly:Et(Gi)}),xL=$e({err:wk,fee:Se(),innerInstructions:yr($t(Et($e({index:Se(),instructions:Et($e({accounts:Et(Se()),data:Je(),programIdIndex:Se()}))})))),preBalances:Et(Se()),postBalances:Et(Se()),logMessages:yr($t(Et(Je()))),preTokenBalances:yr($t(Et(XO))),postTokenBalances:yr($t(Et(XO))),loadedAddresses:yr(fBe),computeUnitsConsumed:yr(Se())}),ise=$e({err:wk,fee:Se(),innerInstructions:yr($t(Et($e({index:Se(),instructions:Et(lBe)})))),preBalances:Et(Se()),postBalances:Et(Se()),logMessages:yr($t(Et(Je()))),preTokenBalances:yr($t(Et(XO))),postTokenBalances:yr($t(Et(XO))),loadedAddresses:yr(fBe),computeUnitsConsumed:yr(Se())}),YT=Dc([Ci(0),Ci("legacy")]),Ik=$e({pubkey:Je(),lamports:Se(),postBalance:$t(Se()),rewardType:$t(Je()),commission:yr($t(Se()))}),BCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:sse,meta:$t(xL),version:yr(YT)})),rewards:yr(Et(Ik)),blockTime:$t(Se()),blockHeight:$t(Se())}))),zCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),rewards:yr(Et(Ik)),blockTime:$t(Se()),blockHeight:$t(Se())}))),$Ct=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:aBe,meta:$t(xL),version:yr(YT)})),rewards:yr(Et(Ik)),blockTime:$t(Se()),blockHeight:$t(Se())}))),DCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:dBe,meta:$t(ise),version:yr(YT)})),rewards:yr(Et(Ik)),blockTime:$t(Se()),blockHeight:$t(Se())}))),OCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:aBe,meta:$t(ise),version:yr(YT)})),rewards:yr(Et(Ik)),blockTime:$t(Se()),blockHeight:$t(Se())}))),KCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),rewards:yr(Et(Ik)),blockTime:$t(Se()),blockHeight:$t(Se())}))),LCt=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),transactions:Et($e({transaction:sse,meta:$t(xL)})),rewards:yr(Et(Ik)),blockTime:$t(Se())}))),Npe=Yr($t($e({blockhash:Je(),previousBlockhash:Je(),parentSlot:Se(),signatures:Et(Je()),blockTime:$t(Se())}))),BU=Yr($t($e({slot:Se(),meta:$t(xL),blockTime:yr($t(Se())),transaction:sse,version:yr(YT)}))),X8=Yr($t($e({slot:Se(),transaction:dBe,meta:$t(ise),blockTime:yr($t(Se())),version:yr(YT)}))),WCt=wo($e({blockhash:Je(),feeCalculator:$e({lamportsPerSignature:Se()})})),NCt=wo($e({blockhash:Je(),lastValidBlockHeight:Se()})),FCt=wo(oh()),UCt=$e({slot:Se(),numTransactions:Se(),numSlots:Se(),samplePeriodSecs:Se()}),VCt=Yr(Et(UCt)),qCt=wo($t($e({feeCalculator:$e({lamportsPerSignature:Se()})}))),jCt=Yr(Je()),HCt=Yr(Je()),GCt=$e({err:wk,logs:Et(Je()),signature:Je()}),YCt=$e({result:EL(GCt),subscription:Se()}),ZCt={"solana-client":"js/1.0.0-maintenance"};class JCt{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:y}=Ms(l),h=this._buildArgs([],d,void 0,y),m=Dpe(h);return u[m]=u[m]??(async()=>{try{const f=await this._rpcRequest("getBlockHeight",h),g=St(f,Yr(Se()));if("error"in g)throw new er(g.error,"failed to get block height information");return g.result}finally{delete u[m]}})(),await u[m]}})();let r,s,i,o,a,c;t&&typeof t=="string"?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,s=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,c=t.httpAgent),this._rpcEndpoint=zRt(e),this._rpcWsEndpoint=r||BRt(e),this._rpcClient=YRt(e,s,i,o,a,c),this._rpcRequest=ZRt(this._rpcClient),this._rpcBatchRequest=JRt(this._rpcClient),this._rpcWebSocket=new TRt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=St(o,wo(Se()));if("error"in a)throw new er(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+r)})}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=St(t,Yr($t(Se())));if("error"in r)throw new er(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=St(e,Yr(Se()));if("error"in t)throw new er(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=St(e,sCt);if("error"in t)throw new er(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};typeof e=="string"?t={commitment:e}:e?t={...e,commitment:e&&e.commitment||this.commitment}:t={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),s=St(r,iCt);if("error"in s)throw new er(s.error,"failed to get supply");return s.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenSupply",r),i=St(s,wo(Kj));if("error"in i)throw new er(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenAccountBalance",r),i=St(s,wo(Kj));if("error"in i)throw new er(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:s,config:i}=Ms(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=St(c,aCt);if("error"in u)throw new er(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=St(o,cCt);if("error"in a)throw new er(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],s=await this._rpcRequest("getLargestAccounts",r),i=St(s,uCt);if("error"in i)throw new er(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),s=await this._rpcRequest("getTokenLargestAccounts",r),i=St(s,oCt);if("error"in i)throw new er(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=St(o,wo($t(AB)));if("error"in a)throw new er(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=St(o,wo($t(Wj)));if("error"in a)throw new er(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=St(a,wo(Et($t(Wj))));if("error"in c)throw new er(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=St(a,wo(Et($t(AB))));if("error"in c)throw new er(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:s,config:i}=Ms(t),o=this._buildArgs([e.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=St(a,Yr(hCt));if("error"in c)throw new er(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,t){const{commitment:r,config:s}=Ms(t),{encoding:i,...o}=s||{},a=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:Kpe(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=Et(lCt),l=o.withContext===!0?St(c,wo(u)):St(c,Yr(u));if("error"in l)throw new er(l.error,`failed to get accounts owned by program ${e.toBase58()}`);return l.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=St(o,Yr(Et(fCt)));if("error"in a)throw new er(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,t){var i;let r;if(typeof e=="string")r=e;else{const o=e;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Ie.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return qn(s.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((t,r)=>{e!=null&&(e.aborted?r(e.reason):e.addEventListener("abort",()=>{r(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(t,(d,y)=>{r=void 0;const h={context:y,value:d};c({__type:Ig.PROCESSED,response:h})},e);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,y=>{y==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(t);if(i||d==null)return;const{context:y,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:Ig.PROCESSED,response:{context:y,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const y=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let h=await y();if(!i){for(;h<=r;)if(await b1(1e3),i||(h=await y(),i))return;d({__type:Ig.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),u=this.getCancellationPromise(t);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===Ig.PROCESSED)l=d.response;else throw new Xne(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let m=i,f=null;const g=async()=>{try{const{context:b,value:S}=await this.getNonceAndContext(s,{commitment:e,minContextSlot:r});return f=b.slot,S==null?void 0:S.nonce}catch{return m}};(async()=>{if(m=await g(),!a)for(;;){if(i!==m){h({__type:Ig.NONCE_INVALID,slotInWhichNonceDidAdvance:f});return}if(await b1(2e3),a||(m=await g(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),d=this.getCancellationPromise(t);let y;try{const h=await Promise.race([d,l,c]);if(h.__type===Ig.PROCESSED)y=h.response;else{let m;for(;;){const f=await this.getSignatureStatus(o);if(f==null)break;if(f.context.slot<(h.slotInWhichNonceDidAdvance??r)){await b1(400);continue}m=f;break}if(m!=null&&m.value){const f=e||"finalized",{confirmationStatus:g}=m.value;switch(f){case"processed":case"recent":if(g!=="processed"&&g!=="confirmed"&&g!=="finalized")throw new Kv(o);break;case"confirmed":case"single":case"singleGossip":if(g!=="confirmed"&&g!=="finalized")throw new Kv(o);break;case"finalized":case"max":case"root":if(g!=="finalized")throw new Kv(o);break;default:(b=>{})(f)}y={context:m.context,value:{err:m.value.err}}}else throw new Kv(o)}}finally{a=!0,u()}return y}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:Ig.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let a;try{const c=await Promise.race([o,s]);if(c.__type===Ig.PROCESSED)a=c.response;else throw new Qne(t,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=St(e,Yr(Et(PCt)));if("error"in t)throw new er(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),s=St(r,_Ct);if("error"in s)throw new er(s.error,"failed to get vote accounts");return s.result}async getSlot(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",s),o=St(i,Yr(Se()));if("error"in o)throw new er(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=St(i,Yr(Je()));if("error"in o)throw new er(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,t){const r=[e,t],s=await this._rpcRequest("getSlotLeaders",r),i=St(s,Yr(Et(Gi)));if("error"in i)throw new er(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:s}=await this.getSignatureStatuses([e],t);qn(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const s=await this._rpcRequest("getSignatureStatuses",r),i=St(s,TCt);if("error"in i)throw new er(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=St(i,Yr(Se()));if("error"in o)throw new er(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),s=St(r,XRt);if("error"in s)throw new er(s.error,"failed to get inflation");return s.result}async getInflationReward(e,t,r){const{commitment:s,config:i}=Ms(r),o=this._buildArgs([e.map(u=>u.toBase58())],s,void 0,{...i,epoch:t??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=St(a,ORt);if("error"in c)throw new er(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),t=St(e,QRt);if("error"in t)throw new er(t.error,"failed to get inflation rate");return t.result}async getEpochInfo(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=St(i,tCt);if("error"in o)throw new er(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=St(e,rCt);if("error"in t)throw new er(t.error,"failed to get epoch schedule");const r=t.result;return new tBe(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=St(e,nCt);if("error"in t)throw new er(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=St(s,RCt);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),s=St(r,WCt);if("error"in s)throw new er(s.error,"failed to get recent blockhash");return s.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=St(t,VCt);if("error"in r)throw new er(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=St(s,qCt);if("error"in i)throw new er(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,t){const r=sn(e.serialize()).toString("base64"),s=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",s),o=St(i,wo($t(Se())));if("error"in o)throw new er(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const t=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=t!=null&&t.length?[t]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=St(s,eCt);if("error"in i)throw new er(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=St(i,NCt);if("error"in o)throw new er(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgs([e],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=St(o,FCt);if("error"in a)throw new er(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=St(e,Yr(qRt));if("error"in t)throw new er(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=St(e,Yr(Je()));if("error"in t)throw new er(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=St(o,$Ct);if("error"in a)throw a.error;return a.result}case"none":{const a=St(o,zCt);if("error"in a)throw a.error;return a.result}default:{const a=St(o,BCt);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:MU(d,u.message)},version:d}))}:null}}}catch(a){throw new er(a,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=St(o,OCt);if("error"in a)throw a.error;return a.result}case"none":{const a=St(o,KCt);if("error"in a)throw a.error;return a.result}default:{const a=St(o,DCt);if("error"in a)throw a.error;return a.result}}}catch(a){throw new er(a,"failed to get block")}}async getBlockProduction(e){let t,r;if(typeof e=="string")r=e;else if(e){const{commitment:a,...c}=e;r=a,t=c}const s=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",s),o=St(i,GRt);if("error"in o)throw new er(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=St(o,BU);if("error"in a)throw new er(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:MU(c.version,c.transaction.message)}}}async getParsedTransaction(e,t){const{commitment:r,config:s}=Ms(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=St(o,X8);if("error"in a)throw new er(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=St(c,X8);if("error"in u)throw new er(u.error,"failed to get transactions");return u.result})}async getTransactions(e,t){const{commitment:r,config:s}=Ms(t),i=e.map(c=>{const u=this._buildArgsAtLeastConfirmed([c],r,void 0,s);return{methodName:"getTransaction",args:u}});return(await this._rpcBatchRequest(i)).map(c=>{const u=St(c,BU);if("error"in u)throw new er(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:MU(l.version,l.transaction.message)}}})}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedBlock",r),i=St(s,LCt);if("error"in i)throw new er(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new xd(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Xn.populate(c.message,c.signatures)}))}}async getBlocks(e,t,r){const s=this._buildArgsAtLeastConfirmed(t!==void 0?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",s),o=St(i,Yr(Et(Se())));if("error"in o)throw new er(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=St(s,Npe);if("error"in i)throw new er(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getConfirmedBlock",r),i=St(s,Npe);if("error"in i)throw new er(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),s=await this._rpcRequest("getConfirmedTransaction",r),i=St(s,BU);if("error"in i)throw new er(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new xd(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Xn.populate(a,c)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),s=await this._rpcRequest("getConfirmedTransaction",r),i=St(s,X8);if("error"in i)throw new er(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map(o=>{const a=this._buildArgsAtLeastConfirmed([o],t,"jsonParsed");return{methodName:"getConfirmedTransaction",args:a}});return(await this._rpcBatchRequest(r)).map(o=>{const a=St(o,X8);if("error"in a)throw new er(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,t,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(t--,!(t<=0||t<i));)try{const c=await this.getConfirmedBlockSignatures(t,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=St(i,gCt);if("error"in o)throw new er(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,t,r){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",s),o=St(i,mCt);if("error"in o)throw new er(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=new Oj({key:e,state:Oj.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:s}=await this.getAccountInfoAndContext(e,t);let i=null;return s!==null&&(i=_L.fromAccountData(s.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+r)})}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),s=St(r,jCt);if("error"in s)throw new er(s.error,`airdrop to ${e.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await b1(100);const r=Date.now()-this._blockhashInfo.lastFetch>=nBe;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await b1(XMe/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=Ms(e),s=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=St(i,wo(Se()));if("error"in o)throw new er(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,t,r){if("message"in e){const f=e.serialize(),g=V.Buffer.from(f).toString("base64");if(Array.isArray(t)||r!==void 0)throw new Error("Invalid arguments");const b=t||{};b.encoding="base64","commitment"in b||(b.commitment=this.commitment),t&&typeof t=="object"&&"innerInstructions"in t&&(b.innerInstructions=t.innerInstructions);const S=[g,b],p=await this._rpcRequest("simulateTransaction",S),I=St(p,Lpe);if("error"in I)throw new Error("failed to simulate transaction: "+I.error.message);return I.result}let s;if(e instanceof Xn){let m=e;s=new Xn,s.feePayer=m.feePayer,s.instructions=e.instructions,s.nonceInfo=m.nonceInfo,s.signatures=m.signatures}else s=Xn.populate(e),s._message=s._json=void 0;if(t!==void 0&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(s.nonceInfo&&i)s.sign(...i);else{let m=this._disableBlockhashCaching;for(;;){const f=await this._blockhashWithExpiryBlockHeight(m);if(s.lastValidBlockHeight=f.lastValidBlockHeight,s.recentBlockhash=f.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const g=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(g)&&!this._blockhashInfo.transactionSignatures.includes(g)){this._blockhashInfo.simulatedSignatures.push(g);break}else m=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const m=(Array.isArray(r)?r:o.nonProgramIds()).map(f=>f.toBase58());l.accounts={encoding:"base64",addresses:m}}i&&(l.sigVerify=!0),t&&typeof t=="object"&&"innerInstructions"in t&&(l.innerInstructions=t.innerInstructions);const d=[u,l],y=await this._rpcRequest("simulateTransaction",d),h=St(y,Lpe);if("error"in h){let m;if("data"in h.error&&(m=h.error.data.logs,m&&Array.isArray(m))){const f=`
    `,g=f+m.join(f);console.error(h.error.message,g)}throw new vB({action:"simulate",signature:"",transactionMessage:h.error.message,logs:m})}return h.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,t)}if(t===void 0||!Array.isArray(t))throw new Error("Invalid arguments");const s=t;if(e.nonceInfo)e.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...s),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=sn(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},s=t&&t.skipPreflight,i=s===!0?"processed":t&&t.preflightCommitment||this.commitment;t&&t.maxRetries!=null&&(r.maxRetries=t.maxRetries),t&&t.minContextSlot!=null&&(r.minContextSlot=t.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[e,r],a=await this._rpcRequest("sendTransaction",o),c=St(a,HCt);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new vB({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([t,r])=>{this._setSubscription(t,{...r,state:"pending"})})}_setSubscription(e,t){var s;const r=(s=this._subscriptionsByHash[e])==null?void 0:s.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const i=this._subscriptionStateChangeCallbacksByHash[e];i&&i.forEach(o=>{try{o(t.state)}catch{}})}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(r==null)return()=>{};const s=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return s.add(t),()=>{s.delete(t),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!t())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!t())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];r!==void 0&&r.forEach(s=>{try{s(...t)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){const{result:t,subscription:r}=St(e,yCt);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,s=Dpe([e.method,t]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];qn(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:s,config:i}=Ms(r),o=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=St(e,bCt);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,s){const{commitment:i,config:o}=Ms(r),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:Kpe(s)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const s=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=St(e,YCt);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=St(e,kCt);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=St(e,ACt);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,s){const i=t||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,t,r,s){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,s)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=St(e,wCt);t.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,t.value==="receivedSignature"?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const s=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){t(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(e,t,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{t(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=St(e,ICt);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class pA{constructor(e){this._keypair=void 0,this._keypair=e??Mpe()}static generate(){return new pA(Mpe())}static fromSecretKey(e,t){if(e.byteLength!==64)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const s=e.slice(0,32),i=JO(s);for(let o=0;o<32;o++)if(r[o]!==i[o])throw new Error("provided secretKey is invalid")}return new pA({publicKey:r,secretKey:e})}static fromSeed(e){const t=JO(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new pA({publicKey:t,secretKey:r})}get publicKey(){return new ct(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Ng=Object.freeze({CreateLookupTable:{index:0,layout:F([U("instruction"),o_("recentSlot"),te("bumpSeed")])},FreezeLookupTable:{index:1,layout:F([U("instruction")])},ExtendLookupTable:{index:2,layout:F([U("instruction"),o_(),we(wn(),Vt(U(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:F([U("instruction")])},CloseLookupTable:{index:4,layout:F([U("instruction")])}});class XCt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Ng))if(o.index==r){s=i;break}if(!s)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return s}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=as(Ng.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=as(Ng.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map(r=>new ct(r))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ose.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class ose{constructor(){}static createLookupTable(e){const[t,r]=ct.findProgramAddressSync([e.authority.toBuffer(),nc(BigInt(e.recentSlot),8)],this.programId),s=Ng.CreateLookupTable,i=zn(s,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:qa.programId,isSigner:!1,isWritable:!1}];return[new Is({programId:this.programId,keys:o,data:i}),t]}static freezeLookupTable(e){const t=Ng.FreezeLookupTable,r=zn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Is({programId:this.programId,keys:s,data:r})}static extendLookupTable(e){const t=Ng.ExtendLookupTable,r=zn(t,{addresses:e.addresses.map(i=>i.toBytes())}),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&s.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:qa.programId,isSigner:!1,isWritable:!1}),new Is({programId:this.programId,keys:s,data:r})}static deactivateLookupTable(e){const t=Ng.DeactivateLookupTable,r=zn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Is({programId:this.programId,keys:s,data:r})}static closeLookupTable(e){const t=Ng.CloseLookupTable,r=zn(t),s=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Is({programId:this.programId,keys:s,data:r})}}ose.programId=new ct("AddressLookupTab1e1111111111111111111111111");class QCt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=te("instruction").decode(e.data);let s;for(const[i,o]of Object.entries($f))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return s}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=as($f.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=as($f.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=as($f.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=as($f.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(ase.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const $f=Object.freeze({RequestUnits:{index:0,layout:F([te("instruction"),U("units"),U("additionalFee")])},RequestHeapFrame:{index:1,layout:F([te("instruction"),U("bytes")])},SetComputeUnitLimit:{index:2,layout:F([te("instruction"),U("units")])},SetComputeUnitPrice:{index:3,layout:F([te("instruction"),o_("microLamports")])}});class ase{constructor(){}static requestUnits(e){const t=$f.RequestUnits,r=zn(t,e);return new Is({keys:[],programId:this.programId,data:r})}static requestHeapFrame(e){const t=$f.RequestHeapFrame,r=zn(t,e);return new Is({keys:[],programId:this.programId,data:r})}static setComputeUnitLimit(e){const t=$f.SetComputeUnitLimit,r=zn(t,e);return new Is({keys:[],programId:this.programId,data:r})}static setComputeUnitPrice(e){const t=$f.SetComputeUnitPrice,r=zn(t,{microLamports:BigInt(e.microLamports)});return new Is({keys:[],programId:this.programId,data:r})}}ase.programId=new ct("ComputeBudget111111111111111111111111111111");const Fpe=64,Upe=32,Vpe=64,qpe=F([te("numSignatures"),te("padding"),Oe("signatureOffset"),Oe("signatureInstructionIndex"),Oe("publicKeyOffset"),Oe("publicKeyInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),Oe("messageInstructionIndex")]);class TL{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,instructionIndex:i}=e;qn(t.length===Upe,`Public Key must be ${Upe} bytes but received ${t.length} bytes`),qn(s.length===Vpe,`Signature must be ${Vpe} bytes but received ${s.length} bytes`);const o=qpe.span,a=o+t.length,c=a+s.length,u=1,l=V.Buffer.alloc(c+r.length),d=i??65535;return qpe.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:o,publicKeyInstructionIndex:d,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:d},l),l.fill(t,o),l.fill(s,a),l.fill(r,c),new Is({keys:[],programId:TL.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;qn(t.length===Fpe,`Private key must be ${Fpe} bytes but received ${t.length} bytes`);try{const i=pA.fromSecretKey(t),o=i.publicKey.toBytes(),a=Zne(r,i.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:a,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}TL.programId=new ct("Ed25519SigVerify111111111111111111111111111");const e2t=(n,e)=>{const t=wL.sign(n,e);return[t.toCompactRawBytes(),t.recovery]};wL.utils.isValidPrivateKey;const t2t=wL.getPublicKey,jpe=32,zU=20,Hpe=64,r2t=11,$U=F([te("numSignatures"),Oe("signatureOffset"),te("signatureInstructionIndex"),Oe("ethAddressOffset"),te("ethAddressInstructionIndex"),Oe("messageDataOffset"),Oe("messageDataSize"),te("messageInstructionIndex"),ie(20,"ethAddress"),ie(64,"signature"),te("recoveryId")]);class bA{constructor(){}static publicKeyToEthAddress(e){qn(e.length===Hpe,`Public key must be ${Hpe} bytes but received ${e.length} bytes`);try{return V.Buffer.from(Epe(sn(e))).slice(-zU)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:s,recoveryId:i,instructionIndex:o}=e;return bA.createInstructionWithEthAddress({ethAddress:bA.publicKeyToEthAddress(t),message:r,signature:s,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:s,recoveryId:i,instructionIndex:o=0}=e;let a;typeof t=="string"?t.startsWith("0x")?a=V.Buffer.from(t.substr(2),"hex"):a=V.Buffer.from(t,"hex"):a=t,qn(a.length===zU,`Address must be ${zU} bytes but received ${a.length} bytes`);const c=1+r2t,u=c,l=c+a.length,d=l+s.length+1,y=1,h=V.Buffer.alloc($U.span+r.length);return $U.encode({numSignatures:y,signatureOffset:l,signatureInstructionIndex:o,ethAddressOffset:u,ethAddressInstructionIndex:o,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:o,signature:sn(s),ethAddress:sn(a),recoveryId:i},h),h.fill(sn(r),$U.span),new Is({keys:[],programId:bA.programId,data:h})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:s}=e;qn(t.length===jpe,`Private key must be ${jpe} bytes but received ${t.length} bytes`);try{const i=sn(t),o=t2t(i,!1).slice(1),a=V.Buffer.from(Epe(sn(r))),[c,u]=e2t(a,i);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:c,recoveryId:u,instructionIndex:s})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}bA.programId=new ct("KeccakSecp256k11111111111111111111111111111");var hBe;const gBe=new ct("StakeConfig11111111111111111111111111111111");class mBe{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class jz{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}hBe=jz;jz.default=new hBe(0,0,ct.default);class n2t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(_a))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=as(_a.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new mBe(new ct(t.staker),new ct(t.withdrawer)),lockup:new jz(r.unixTimestamp,r.epoch,new ct(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),as(_a.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=as(_a.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ct(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:s,authorityOwner:i}=as(_a.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new ct(i),newAuthorizedPubkey:new ct(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=as(_a.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),as(_a.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=as(_a.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),as(_a.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(RL.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const _a=Object.freeze({Initialize:{index:0,layout:F([U("instruction"),sRt(),iRt()])},Authorize:{index:1,layout:F([U("instruction"),wn("newAuthorized"),U("stakeAuthorizationType")])},Delegate:{index:2,layout:F([U("instruction")])},Split:{index:3,layout:F([U("instruction"),_e("lamports")])},Withdraw:{index:4,layout:F([U("instruction"),_e("lamports")])},Deactivate:{index:5,layout:F([U("instruction")])},Merge:{index:7,layout:F([U("instruction")])},AuthorizeWithSeed:{index:8,layout:F([U("instruction"),wn("newAuthorized"),U("stakeAuthorizationType"),W1("authoritySeed"),wn("authorityOwner")])}}),s2t=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class RL{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:s}=e,i=s||jz.default,o=_a.Initialize,a=zn(o,{authorized:{staker:sn(r.staker.toBuffer()),withdrawer:sn(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:sn(i.custodian.toBuffer())}}),c={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i_,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Is(c)}static createAccountWithSeed(e){const t=new Xn;t.add(qa.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static createAccount(e){const t=new Xn;t.add(qa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:s,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:s,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:s}=e,i=_a.Delegate,o=zn(i);return new Xn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:UD,isSigner:!1,isWritable:!1},{pubkey:gBe,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,stakeAuthorizationType:i,custodianPubkey:o}=e,a=_a.Authorize,c=zn(a,{newAuthorized:sn(s.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Xn().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:s,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,u=_a.AuthorizeWithSeed,l=zn(u,{newAuthorized:sn(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:s,authorityOwner:sn(i.toBuffer())}),d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1}];return c&&d.push({pubkey:c,isSigner:!0,isWritable:!1}),new Xn().add({keys:d,programId:this.programId,data:l})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:s,lamports:i}=e,o=_a.Split,a=zn(o,{lamports:i});return new Is({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,t){const r=new Xn;return r.add(qa.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,basePubkey:o,seed:a,lamports:c}=e,u=new Xn;return u.add(qa.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(qa.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:s,splitStakePubkey:i,lamports:c}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:s}=e,i=_a.Merge,o=zn(i);return new Xn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:UD,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:s,lamports:i,custodianPubkey:o}=e,a=_a.Withdraw,c=zn(a,{lamports:i}),u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:UD,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&u.push({pubkey:o,isSigner:!0,isWritable:!1}),new Xn().add({keys:u,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,s=_a.Deactivate,i=zn(s);return new Xn().add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}}RL.programId=new ct("Stake11111111111111111111111111111111111111");RL.space=200;class yBe{constructor(e,t,r,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=s}}class i2t{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const r=U("instruction").decode(e.data);let s;for(const[i,o]of Object.entries(Df))if(o.index==r){s=i;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=as(Df.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new yBe(new ct(t.nodePubkey),new ct(t.authorizedVoter),new ct(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=as(Df.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new ct(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:s,voteAuthorizationType:i}}=as(Df.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new ct(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new ct(s),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=as(Df.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ZT.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Df=Object.freeze({InitializeAccount:{index:0,layout:F([U("instruction"),oRt()])},Authorize:{index:1,layout:F([U("instruction"),wn("newAuthorized"),U("voteAuthorizationType")])},Withdraw:{index:3,layout:F([U("instruction"),_e("lamports")])},UpdateValidatorIdentity:{index:4,layout:F([U("instruction")])},AuthorizeWithSeed:{index:10,layout:F([U("instruction"),aRt()])}}),o2t=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ZT{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:s}=e,i=Df.InitializeAccount,o=zn(i,{voteInit:{nodePubkey:sn(s.nodePubkey.toBuffer()),authorizedVoter:sn(s.authorizedVoter.toBuffer()),authorizedWithdrawer:sn(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i_,isSigner:!1,isWritable:!1},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Is(a)}static createAccount(e){const t=new Xn;return t.add(qa.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:s,voteAuthorizationType:i}=e,o=Df.Authorize,a=zn(o,{newAuthorized:sn(s.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Xn().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:s,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,c=Df.AuthorizeWithSeed,u=zn(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:sn(r.toBuffer()),currentAuthorityDerivedKeySeed:s,newAuthorized:sn(i.toBuffer()),voteAuthorizationType:o.index}}),l=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:uf,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return new Xn().add({keys:l,programId:this.programId,data:u})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:s,toPubkey:i}=e,o=Df.Withdraw,a=zn(o,{lamports:s}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return new Xn().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return ZT.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:s}=e,i=Df.UpdateValidatorIdentity,o=zn(i),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new Xn().add({keys:a,programId:this.programId,data:o})}}ZT.programId=new ct("Vote111111111111111111111111111111111111111");ZT.space=3762;const pBe=new ct("Va1idator1nfo111111111111111111111111111111"),a2t=$e({name:Je(),website:yr(Je()),details:yr(Je()),iconUrl:yr(Je()),keybaseUsername:yr(Je())});class cse{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(gu(t)!==2)return null;const s=[];for(let i=0;i<2;i++){const o=new ct(mu(t,0,Zf)),a=zf(t)===1;s.push({publicKey:o,isSigner:a})}if(s[0].publicKey.equals(pBe)&&s[1].isSigner){const i=W1().decode(V.Buffer.from(t)),o=JSON.parse(i);return LMe(o,a2t),new cse(s[1].publicKey,o)}return null}}const c2t=new ct("Vote111111111111111111111111111111111111111"),u2t=F([wn("nodePubkey"),wn("authorizedWithdrawer"),te("commission"),Ae(),we(F([Ae("slot"),U("confirmationCount")]),Vt(U(),-8),"votes"),te("rootSlotValid"),Ae("rootSlot"),Ae(),we(F([Ae("epoch"),wn("authorizedVoter")]),Vt(U(),-8),"authorizedVoters"),F([we(F([wn("authorizedPubkey"),Ae("epochOfLastAuthorizedSwitch"),Ae("targetEpoch")]),32,"buf"),Ae("idx"),te("isEmpty")],"priorVoters"),Ae(),we(F([Ae("epoch"),Ae("credits"),Ae("prevCredits")]),Vt(U(),-8),"epochCredits"),F([Ae("slot"),Ae("timestamp")],"lastTimestamp")]);class use{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=u2t.decode(sn(e),4);let s=r.rootSlot;return r.rootSlotValid||(s=null),new use({nodePubkey:new ct(r.nodePubkey),authorizedWithdrawer:new ct(r.authorizedWithdrawer),commission:r.commission,votes:r.votes,rootSlot:s,authorizedVoters:r.authorizedVoters.map(l2t),priorVoters:d2t(r.priorVoters),epochCredits:r.epochCredits,lastTimestamp:r.lastTimestamp})}}function l2t({authorizedVoter:n,epoch:e}){return{epoch:e,authorizedVoter:new ct(n)}}function Gpe({authorizedPubkey:n,epochOfLastAuthorizedSwitch:e,targetEpoch:t}){return{authorizedPubkey:new ct(n),epochOfLastAuthorizedSwitch:e,targetEpoch:t}}function d2t({buf:n,idx:e,isEmpty:t}){return t?[]:[...n.slice(e+1).map(Gpe),...n.slice(0,e).map(Gpe)]}const Ype={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function f2t(n,e){const t=e===!1?"http":"https";if(!n)return Ype[t].devnet;const r=Ype[t][n];if(!r)throw new Error(`Unknown ${t} cluster: ${n}`);return r}async function h2t(n,e,t,r){let s,i;t&&Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")||t&&Object.prototype.hasOwnProperty.call(t,"nonceValue")?(s=t,i=r):i=t;const o=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await n.sendRawTransaction(e,o),c=i&&i.commitment,l=(await(s?n.confirmTransaction(s,c):n.confirmTransaction(a,c))).value;if(l.err)throw a!=null?new vB({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(l)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}const g2t=1e9;var m2t=Object.freeze(Object.defineProperty({__proto__:null,Account:tRt,AddressLookupTableAccount:Oj,AddressLookupTableInstruction:XCt,AddressLookupTableProgram:ose,Authorized:mBe,BLOCKHASH_CACHE_TIMEOUT_MS:nBe,BPF_LOADER_DEPRECATED_PROGRAM_ID:rRt,BPF_LOADER_PROGRAM_ID:ARt,BpfLoader:wRt,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:$f,ComputeBudgetInstruction:QCt,ComputeBudgetProgram:ase,Connection:JCt,Ed25519Program:TL,Enum:QTt,EpochSchedule:tBe,FeeCalculatorLayout:QMe,Keypair:pA,LAMPORTS_PER_SOL:g2t,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Ng,Loader:FS,Lockup:jz,MAX_SEED_LENGTH:YMe,Message:xd,MessageAccountKeys:kB,MessageV0:NS,NONCE_ACCOUNT_LENGTH:Dj,NonceAccount:_L,PACKET_DATA_SIZE:kp,PUBLIC_KEY_LENGTH:Zf,PublicKey:ct,SIGNATURE_LENGTH_IN_BYTES:SB,SOLANA_SCHEMA:Y2,STAKE_CONFIG_ID:gBe,STAKE_INSTRUCTION_LAYOUTS:_a,SYSTEM_INSTRUCTION_LAYOUTS:Ns,SYSVAR_CLOCK_PUBKEY:uf,SYSVAR_EPOCH_SCHEDULE_PUBKEY:fRt,SYSVAR_INSTRUCTIONS_PUBKEY:hRt,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:FD,SYSVAR_RENT_PUBKEY:i_,SYSVAR_REWARDS_PUBKEY:gRt,SYSVAR_SLOT_HASHES_PUBKEY:mRt,SYSVAR_SLOT_HISTORY_PUBKEY:yRt,SYSVAR_STAKE_HISTORY_PUBKEY:UD,Secp256k1Program:bA,SendTransactionError:vB,SolanaJSONRPCError:er,SolanaJSONRPCErrorCode:pRt,StakeAuthorizationLayout:s2t,StakeInstruction:n2t,StakeProgram:RL,Struct:Jne,SystemInstruction:kRt,SystemProgram:qa,Transaction:Xn,TransactionExpiredBlockheightExceededError:Xne,TransactionExpiredNonceInvalidError:Kv,TransactionExpiredTimeoutError:Qne,TransactionInstruction:Is,TransactionMessage:tse,TransactionStatus:Ig,VALIDATOR_INFO_KEY:pBe,VERSION_PREFIX_MASK:IL,VOTE_PROGRAM_ID:c2t,ValidatorInfo:cse,VersionedMessage:ese,VersionedTransaction:rse,VoteAccount:use,VoteAuthorizationLayout:o2t,VoteInit:yBe,VoteInstruction:i2t,VoteProgram:ZT,clusterApiUrl:f2t,sendAndConfirmRawTransaction:h2t,sendAndConfirmTransaction:$j},Symbol.toStringTag,{value:"Module"})),lc=Td(m2t),js={},lse={},CL={};Object.defineProperty(CL,"__esModule",{value:!0});CL.IDL=void 0;CL.IDL={version:"0.1.0",name:"crew",instructions:[{name:"closeAccounts",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"recipient",isMut:!0,isSigner:!1,docs:["The recipient - receives the account rent",""]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The crew config to potentially close. All remaining accounts must be dependent on this account",""]}],args:[{name:"input",type:{defined:"CloseAccountsInput"}}]},{name:"mintCrewMember",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The auth profile"]},{name:"rentRecipient",isMut:!0,isSigner:!1,docs:["The account to receive refunded rent if all crew have been minted"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]},{name:"owner",isMut:!0,isSigner:!1,docs:["The owner of the crew that will be minted. This is validated to be either the `owner` on the","[`UserRedemption`] account or the `sage_player_profile` if remaining accounts are provided.","Marked as mutable to allow being used for direct minting.",""]},{name:"userRedemption",isMut:!0,isSigner:!1,docs:["The user redemption account to be created which holds data about the crew to be minted"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The pack type that is being redeemed."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account containing the probability tiers for the `PackType`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"collectionMint",isMut:!1,isSigner:!1,docs:["The collection mint"]},{name:"collectionMetadata",isMut:!0,isSigner:!1,docs:["The collection metadata"]},{name:"collectionEdition",isMut:!1,isSigner:!1,docs:["The collection edition"]},{name:"compressionProgram",isMut:!1,isSigner:!1,docs:["The compression program"]},{name:"bubblegumProgram",isMut:!1,isSigner:!1,docs:["The bubblegum program"]},{name:"logWrapper",isMut:!1,isSigner:!1,docs:["The log wrapper"]},{name:"treeConfig",isMut:!0,isSigner:!1,docs:["The tree config"]},{name:"merkleTree",isMut:!0,isSigner:!1,docs:["The merkle tree to place the crew member in"]},{name:"collectionAuthorityRecordPda",isMut:!1,isSigner:!1,docs:["The collection authority record PDA"]},{name:"serverHashPreimage",isMut:!1,isSigner:!1,docs:["The preimage bytes of the server hash in the user redemption."]}],args:[{name:"input",type:{defined:"MintCrewMemberInput"}}]},{name:"redeemCrewPack",accounts:[{name:"packSftAuthority",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew config's authority profile"]},{name:"profileKey",isMut:!1,isSigner:!0,docs:["The key authorized with PROVIDE_SERVER_HASH permissions"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder for the instruction and new accounts"]},{name:"owner",isMut:!1,isSigner:!1,docs:["The user's profile with permissions to redeem crew packs"]},{name:"userRedemption",isMut:!0,isSigner:!1,docs:["The user redemption account to be created which holds data about the crew to be minted"]},{name:"sftRedemption",isMut:!1,isSigner:!1,docs:["The `SftRedemption` account to be used"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The pack type that is being redeemed."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account containing the probability tiers for the `PackType`"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The Crew Config account for the deployed Crew program"]},{name:"tokenFrom",isMut:!0,isSigner:!1,docs:["The account that holds the user's Crew Pack SPL tokens."]},{name:"tokenMint",isMut:!0,isSigner:!1,docs:["The token mint"]},{name:"tokenProgram",isMut:!1,isSigner:!1,docs:["The token program."]},{name:"instructionsSysvar",isMut:!1,isSigner:!1,docs:["Solana Instructions Sysvar"]},{name:"recentSlothashes",isMut:!1,isSigner:!1,docs:["Solana recent slothashes"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"input",type:{defined:"RedeemCrewPacksInput"}}]},{name:"registerCrewConfig",accounts:[{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"seedPubkey",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"args",type:{defined:"RegisterCrewConfigArgs"}}]},{name:"registerPackTiers",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packTiers",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"RegisterPackTiersInput"}}]},{name:"registerPackType",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packType",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]},{name:"packTiers",isMut:!1,isSigner:!1,docs:["Account defining the probability tiers for the new `PackType`"]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"RegisterPackTypeInput"}}]},{name:"registerSftRedemption",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"sftRedemptionData",isMut:!0,isSigner:!1,docs:["The `SftRedemption` account to be created"]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]},{name:"packType",isMut:!1,isSigner:!1,docs:["The associated pack type which represents the pack that is being redeemed."]},{name:"sftMint",isMut:!1,isSigner:!1,docs:["The associated mint which represents the mint of the SFT that is being exchanged."]},{name:"systemProgram",isMut:!1,isSigner:!1,docs:["The Solana System Program"]}],args:[{name:"input",type:{defined:"RegisterSftRedemptionInput"}}]},{name:"updateCrewConfig",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"crewConfig",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being registered."]}],args:[{name:"args",type:{defined:"UpdateCrewConfigArgs"}}]},{name:"updatePackTiers",accounts:[{name:"key",isMut:!1,isSigner:!0,docs:["The key authorized for this instruction"]},{name:"profile",isMut:!1,isSigner:!1,docs:["The crew permissions [`Profile`]"]},{name:"funder",isMut:!0,isSigner:!0,docs:["The funder - pays for account rent"]},{name:"packTiers",isMut:!0,isSigner:!1,docs:["The associated pack type which represents the pack type that is being updated."]},{name:"crewConfig",isMut:!1,isSigner:!1,docs:["The registered Crew Config for the deployed Crew program"]}],args:[{name:"input",type:{defined:"UpdatePackTiersInput"}}]}],accounts:[{name:"crewConfig",docs:["`CrewConfig` is the main auth account that manages access to crew operations"],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"seedPubkey",docs:["Used as random bytes for the seed to allow for multiple CrewConfig accounts"],type:"publicKey"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"profile",docs:["auth profile"],type:"publicKey"},{name:"namePrefix",docs:["The name prefix"],type:{array:["u8",32]}},{name:"namePrefixLen",docs:["The length of the name prefix"],type:"u8"},{name:"symbol",docs:["The symbol"],type:{array:["u8",10]}},{name:"symbolLen",docs:["The length of the symbol"],type:"u8"},{name:"uriPrefix",docs:["The uri prefix"],type:{array:["u8",40]}},{name:"uriPrefixLen",docs:["The length of the uri prefix"],type:"u8"},{name:"sellerFeeBasisPoints",docs:["Royalty rate for the collection"],type:"u16"},{name:"collectionMint",docs:["The collection the crew belongs to"],type:"publicKey"},{name:"creators",docs:["The creators who will split any royalties"],type:{array:[{defined:"CrewCreator"},4]}},{name:"creatorCount",docs:["The number of creators"],type:"u8"},{name:"totalMinted",docs:["Total crew minted"],type:"u32"},{name:"totalAllocated",docs:["Total crew allocated to user redemption accounts"],type:"u32"}]}},{name:"packTiers",docs:["`PackTiers` is a data structure used for defining the odds of rolling each rarity of card in a pack."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"crewConfig",type:"publicKey"},{name:"seedPubkey",docs:["The pubkey used as a PDA seed"],type:"publicKey"},{name:"tier",docs:["The tier of the pack"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"common",docs:["The weight for rolling a common card"],type:"u32"},{name:"uncommon",docs:["The weight for rolling an uncommon card"],type:"u32"},{name:"rare",docs:["The weight for rolling a rare card"],type:"u32"},{name:"epic",docs:["The weight for rolling an epic card"],type:"u32"},{name:"legendary",docs:["The weight for rolling a legendary card"],type:"u32"},{name:"anomaly",docs:["The weight for rolling an anomaly card"],type:"u32"}]}},{name:"packType",docs:["`PackType` is a data structure used for defining the different types of packs that can be opened in the Crew program."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"crewConfig",docs:["The associated crew config account"],type:"publicKey"},{name:"packTiers",docs:["The tier of the pack"],type:"publicKey"},{name:"faction",docs:["The faction of the pack"],type:"u8"}]}},{name:"sftRedemption",docs:["`SftRedemption` is a data account used for handling the redemption of SFTs in the Crew program.","This account details the number and type of cNFTs that are to be minted in exchange for the given SFT."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["the bump seed"],type:"u8"},{name:"packType",docs:["The pack type that is being redeemed."],type:"publicKey"},{name:"sftMint",docs:["The mint of the SFT that is being exchanged."],type:"publicKey"},{name:"crewConfig",docs:["The registered Crew Config for the deployed Crew program"],type:"publicKey"},{name:"redemptionAmount",docs:["The number of cNFTs being received in exchange for the SFT"],type:"u32"}]}},{name:"userRedemption",docs:["`UserRedemption` is a data structure used for handling the redemption of cNFTs by users in the Crew program."],type:{kind:"struct",fields:[{name:"version",docs:["The data version"],type:"u8"},{name:"bump",docs:["The bump seed"],type:"u8"},{name:"crewConfig",docs:["The associated crew config account"],type:"publicKey"},{name:"seedPubkey",docs:["The pubkey used to derive the address of the UserRedemption account."],type:"publicKey"},{name:"owner",docs:["The account that recieves the minted cNFTs"],type:"publicKey"},{name:"mintOffset",docs:["The number of cNFTs that had already been allocated when this account was created. All","cNFTs minted from this account calculate their mint number (i.e. NFT #0, #100, etc.) from this offset."],type:"u32"},{name:"amount",docs:["Total number of CNFTs this account is responsible for."],type:"u32"},{name:"numberMinted",docs:["The number of `cNFTs` that have been minted."],type:"u32"},{name:"packType",docs:["The pack type that is being redeemed."],type:"publicKey"},{name:"userSeed",docs:["The user provided hash used to generate the pseudo-random data."],type:{array:["u8",32]}},{name:"serverHash",docs:["The system hash used to generate the pseudo-random data."],type:{array:["u8",32]}},{name:"sageProfile",docs:["Optional sage profile key for minting directly to sage"],type:"publicKey"}]}}],types:[{name:"CloseAccountsInput",type:{kind:"struct",fields:[{name:"keyIndex",type:"u16"},{name:"closeCrewConfig",type:"bool"}]}},{name:"CrewCreator",docs:["A creator on the crew collection"],type:{kind:"struct",fields:[{name:"key",docs:["The creator's key"],type:"publicKey"},{name:"share",docs:["The creator's share of royalties"],type:"u8"}]}},{name:"CrewCreatorUnpacked",docs:["Unpacked version of [`CrewCreator`]"],type:{kind:"struct",fields:[{name:"key",docs:["The creator's key"],type:"publicKey"},{name:"share",docs:["The creator's share of royalties"],type:"u8"}]}},{name:"MintCrewMemberInput",docs:["The input for the `redeem_crew_packs` instruction."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["The index of the key in the profile's permissions list"],type:"u16"},{name:"userRedemptionIndex",docs:["The index of the crew member in the `UserRedemption` account"],type:"u32"},{name:"dataHash",docs:["The hash of the off chain data"],type:{array:["u8",16]}}]}},{name:"RedeemCrewPacksInput",docs:["Input for redeeming crew packs via `RedeemCrewPacks`"],type:{kind:"struct",fields:[{name:"quantity",docs:["The number of crew pack SFTs to redeem"],type:"u32"},{name:"seedPubkey",docs:["A pubkey to use as a seed for the `UserRedemption` account"],type:"publicKey"},{name:"serverHash",docs:["Server provided sha256 hash of a random pubkey preimage used during minting"],type:{array:["u8",32]}},{name:"keyIndex",docs:["The index of the profile_key in the profile's permission list"],type:"u16"}]}},{name:"RegisterCrewConfigArgs",docs:["Arguments for the `register_crew_config` instruction."],type:{kind:"struct",fields:[{name:"namePrefix",docs:["The name prefix to use for all minted crew"],type:"string"},{name:"symbol",docs:["The symbol to use for all minted crew"],type:"string"},{name:"uriPrefix",docs:["The URI prefix to use for all minted crew"],type:"string"},{name:"sellerFeeBasisPoints",docs:["The fee basis points to charge for selling crew"],type:"u16"},{name:"collection",docs:["The mint that will be used for all crew"],type:"publicKey"},{name:"creators",docs:["The creators of the crew and their share of the royalties"],type:{vec:{defined:"CrewCreatorUnpacked"}}}]}},{name:"RegisterPackTiersInput",docs:["`RegisterPackTiersInput` is a data structure used for handling the input parameters","for the `register_pack_tiers` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"seedPubkey",docs:["The seed pubkey for the pack tiers"],type:"publicKey"},{name:"packTier",docs:["The tier of the pack to be registered"],type:"u8"},{name:"common",docs:["The weight for receiving a common card"],type:"u32"},{name:"uncommon",docs:["The weight for receiving an uncommon card"],type:"u32"},{name:"rare",docs:["The weight for receiving a rare card"],type:"u32"},{name:"epic",docs:["The weight for receiving an epic card"],type:"u32"},{name:"legendary",docs:["The weight for receiving a legendary card"],type:"u32"},{name:"anomaly",docs:["The weight for receiving an anomaly card"],type:"u32"}]}},{name:"RegisterPackTypeInput",docs:["`RegisterPackTypeInput` is a data structure used for handling the input parameters","for the `register_pack_type` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"faction",docs:["The faction of the pack"],type:"u8"}]}},{name:"RegisterSftRedemptionInput",docs:["`RegisterSftRedemptionInput` is a data structure used for handling the input parameters","for the `register_sft_redemption` function in the Crew program."],type:{kind:"struct",fields:[{name:"redemptionAmount",docs:["The number of cNFTs being received in exchange for the SFT"],type:"u32"},{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"}]}},{name:"UpdateCrewConfigArgs",docs:["Arguments for the `update_crew_config` instruction."],type:{kind:"struct",fields:[{name:"keyIndex",type:"u16"},{name:"namePrefix",docs:["The name prefix to use for all minted crew"],type:{option:"string"}},{name:"symbol",docs:["The symbol to use for all minted crew"],type:{option:"string"}},{name:"uriPrefix",docs:["The URI prefix to use for all minted crew"],type:{option:"string"}},{name:"sellerFeeBasisPoints",docs:["The fee basis points to charge for selling crew"],type:{option:"u16"}},{name:"collection",docs:["The mint that will be used for all crew"],type:{option:"publicKey"}},{name:"creators",docs:["The creators of the crew and their share of the royalties"],type:{option:{vec:{defined:"CrewCreatorUnpacked"}}}}]}},{name:"UpdatePackTiersInput",docs:["`UpdatePackTiersInput` is a data structure used for handling the input parameters","for the `update_pack_tiers` function in the Crew program."],type:{kind:"struct",fields:[{name:"keyIndex",docs:["the index of the authorizing key in the crew permissions profile"],type:"u16"},{name:"common",docs:["The weight for receiving a common card"],type:{option:"u32"}},{name:"uncommon",docs:["The weight for receiving an uncommon card"],type:{option:"u32"}},{name:"rare",docs:["The weight for receiving a rare card"],type:{option:"u32"}},{name:"epic",docs:["The weight for receiving an epic card"],type:{option:"u32"}},{name:"legendary",docs:["The weight for receiving a legendary card"],type:{option:"u32"}},{name:"anomaly",docs:["The weight for receiving an anomaly card"],type:{option:"u32"}}]}}],errors:[{code:6e3,name:"AmountRequired",msg:"Amount Required"},{code:6001,name:"InvalidMint",msg:"Invalid Mint"},{code:6002,name:"AddressMismatch",msg:"Address Mismatch"},{code:6003,name:"PackTypeMismatch",msg:"Pack Type Mismatch"},{code:6004,name:"CrewConfigMismatch",msg:"Crew Config Mismatch"},{code:6005,name:"InvalidOdds",msg:"The provided odds do not sum to 100%"},{code:6006,name:"IndexOutOfBounds",msg:"Index Out of Bounds"},{code:6007,name:"RedemptionIndexOutOfBounds",msg:"Redemption index out of bounds"},{code:6008,name:"CrewAlreadyMinted",msg:"Crew at redemption index already minted"},{code:6009,name:"InvalidMerkleTree",msg:"Can only mint crew to trees listed in crew config"},{code:6010,name:"InvalidTransactionData",msg:"RedeemCrewPacks must be the only non compute budget ix in the transaction"},{code:6011,name:"NamePrefixTooLong",msg:"Name prefix must be 32 bytes or less"},{code:6012,name:"URIPrefixTooLong",msg:"URI prefix must be 40 bytes or less"},{code:6013,name:"SymbolTooLong",msg:"Symbol must be 10 bytes or less"},{code:6014,name:"TooManyCreators",msg:"Can't have more than 4 creators"},{code:6015,name:"InvalidCreatorShares",msg:"Shares must equal 100"},{code:6016,name:"ProfileMismatch",msg:"Profile mismatch"},{code:6017,name:"HashMismatch",msg:"Hash of provided preimage mismatch"},{code:6018,name:"NoSageProfile",msg:"Remaining accounts exist during minting with no sage profile set"},{code:6019,name:"InvalidMintingRemainingAccounts",msg:"Invalid number of remaining accounts for minting"}]};(function(n){var e=K&&K.__createBinding||(Object.create?function(y,h,m,f){f===void 0&&(f=m);var g=Object.getOwnPropertyDescriptor(h,m);(!g||("get"in g?!h.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(y,f,g)}:function(y,h,m,f){f===void 0&&(f=m),y[f]=h[m]}),t=K&&K.__setModuleDefault||(Object.create?function(y,h){Object.defineProperty(y,"default",{enumerable:!0,value:h})}:function(y,h){y.default=h}),r=K&&K.__decorate||function(y,h,m,f){var g=arguments.length,b=g<3?h:f===null?f=Object.getOwnPropertyDescriptor(h,m):f,S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(y,h,m,f);else for(var p=y.length-1;p>=0;p--)(S=y[p])&&(b=(g<3?S(b):g>3?S(h,m,b):S(h,m))||b);return g>3&&b&&Object.defineProperty(h,m,b),b},s=K&&K.__importStar||function(y){if(y&&y.__esModule)return y;var h={};if(y!=null)for(var m in y)m!=="default"&&Object.prototype.hasOwnProperty.call(y,m)&&e(h,y,m);return t(h,y),h},i=K&&K.__metadata||function(y,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(y,h)};Object.defineProperty(n,"__esModule",{value:!0}),n.optionalEquals=n.CrewProgram=n.crewErrorMap=n.CREW_IDL=void 0;const o=s(cc),a=s(tr),c=CL;Object.defineProperty(n,"CREW_IDL",{enumerable:!0,get:function(){return c.IDL}});const u=Cd;n.crewErrorMap=a.generateErrorMap(c.IDL);let l=class extends a.ListenProgram{constructor(h){super(h,{crewConfig:u.CrewConfig,packTiers:u.PackTiers,packType:u.PackType,sftRedemption:u.SftRedemption,userRedemption:u.UserRedemption})}static buildProgram(h,m,f){return new o.Program(c.IDL,h,m,f)}};n.CrewProgram=l,n.CrewProgram=l=r([a.staticImplements(),i("design:paramtypes",[Object])],l);function d(y,h,m){return y===null&&h===null?!0:y===null||h===null?!1:m(y,h)}n.optionalEquals=d})(lse);var y2t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),p2t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),dse=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&y2t(e,n,t);return p2t(e,n),e};Object.defineProperty(js,"__esModule",{value:!0});js.updatePackTiersInputEquals=js.updateCrewConfigArgsEquals=js.registerSftRedemptionInputEquals=js.registerPackTypeInputEquals=js.registerPackTiersInputEquals=js.registerCrewConfigArgsEquals=js.redeemCrewPacksInputEquals=js.mintCrewMemberInputEquals=js.crewCreatorUnpackedEquals=js.crewCreatorEquals=js.closeAccountInputEquals=void 0;const ML=dse(tr),bBe=dse(Kne),Hu=dse(lse);function b2t(n,e){return n.keyIndex===e.keyIndex&&n.closeCrewConfig===e.closeCrewConfig}js.closeAccountInputEquals=b2t;function S2t(n,e){return n.key.equals(e.key)&&n.share===e.share}js.crewCreatorEquals=S2t;function k2t(n,e){return n.key.equals(e.key)&&n.share===e.share}js.crewCreatorUnpackedEquals=k2t;function v2t(n,e){return n.keyIndex===e.keyIndex&&n.userRedemptionIndex===e.userRedemptionIndex&&ML.arrayDeepEquals(n.dataHash,e.dataHash,(t,r)=>t===r)}js.mintCrewMemberInputEquals=v2t;function A2t(n,e){return n.quantity===e.quantity&&n.seedPubkey.equals(e.seedPubkey)&&ML.arrayDeepEquals(n.serverHash,e.serverHash,(t,r)=>t===r)&&n.keyIndex===e.keyIndex&&Hu.optionalEquals(n.sageProfile,e.sageProfile,(t,r)=>t.equals(r))}js.redeemCrewPacksInputEquals=A2t;function w2t(n,e){return n.namePrefix===e.namePrefix&&n.symbol===e.symbol&&n.uriPrefix===e.uriPrefix&&n.sellerFeeBasisPoints===e.sellerFeeBasisPoints&&n.collection.equals(e.collection)&&ML.arrayDeepEquals(n.creators,e.creators,(t,r)=>bBe.crewCreatorUnpackedEquals(t,r))}js.registerCrewConfigArgsEquals=w2t;function I2t(n,e){return n.keyIndex===e.keyIndex&&n.seedPubkey.equals(e.seedPubkey)&&n.packTier===e.packTier&&n.common===e.common&&n.uncommon===e.uncommon&&n.rare===e.rare&&n.epic===e.epic&&n.legendary===e.legendary&&n.anomaly===e.anomaly}js.registerPackTiersInputEquals=I2t;function P2t(n,e){return n.keyIndex===e.keyIndex&&n.faction===e.faction}js.registerPackTypeInputEquals=P2t;function _2t(n,e){return n.redemptionAmount===e.redemptionAmount&&n.keyIndex===e.keyIndex}js.registerSftRedemptionInputEquals=_2t;function E2t(n,e){return n.keyIndex===e.keyIndex&&Hu.optionalEquals(n.namePrefix,e.namePrefix,(t,r)=>t===r)&&Hu.optionalEquals(n.symbol,e.symbol,(t,r)=>t===r)&&Hu.optionalEquals(n.uriPrefix,e.uriPrefix,(t,r)=>t===r)&&Hu.optionalEquals(n.sellerFeeBasisPoints,e.sellerFeeBasisPoints,(t,r)=>t===r)&&Hu.optionalEquals(n.collection,e.collection,(t,r)=>t.equals(r))&&Hu.optionalEquals(n.creators,e.creators,(t,r)=>ML.arrayDeepEquals(t,r,(s,i)=>bBe.crewCreatorUnpackedEquals(s,i)))}js.updateCrewConfigArgsEquals=E2t;function x2t(n,e){return n.keyIndex===e.keyIndex&&Hu.optionalEquals(n.common,e.common,(t,r)=>t===r)&&Hu.optionalEquals(n.uncommon,e.uncommon,(t,r)=>t===r)&&Hu.optionalEquals(n.rare,e.rare,(t,r)=>t===r)&&Hu.optionalEquals(n.epic,e.epic,(t,r)=>t===r)&&Hu.optionalEquals(n.legendary,e.legendary,(t,r)=>t===r)&&Hu.optionalEquals(n.anomaly,e.anomaly,(t,r)=>t===r)}js.updatePackTiersInputEquals=x2t;(function(n){var e=K&&K.__createBinding||(Object.create?function(h,m,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(m,f);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(h,g,b)}:function(h,m,f,g){g===void 0&&(g=f),h[g]=m[f]}),t=K&&K.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),r=K&&K.__decorate||function(h,m,f,g){var b=arguments.length,S=b<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,f):g,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,m,f,g);else for(var I=h.length-1;I>=0;I--)(p=h[I])&&(S=(b<3?p(S):b>3?p(m,f,S):p(m,f))||S);return b>3&&S&&Object.defineProperty(m,f,S),S},s=K&&K.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var f in h)f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)&&e(m,h,f);return t(m,h),m},i=K&&K.__metadata||function(h,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,m)},o;Object.defineProperty(n,"__esModule",{value:!0}),n.CrewConfig=n.crewConfigEquals=n.DERFAULT_CREW_CONFIG_SEED=void 0;const a=s(lc),c=s(tr),u=s(js),l=tr;n.DERFAULT_CREW_CONFIG_SEED=a.PublicKey.default;function d(h,m){return h.version===m.version&&h.seedPubkey.equals(m.seedPubkey)&&h.bump===m.bump&&h.profile.equals(m.profile)&&c.arrayDeepEquals(h.namePrefix,m.namePrefix,(f,g)=>f===g)&&h.namePrefixLen===m.namePrefixLen&&c.arrayDeepEquals(h.symbol,m.symbol,(f,g)=>f===g)&&h.symbolLen===m.symbolLen&&c.arrayDeepEquals(h.uriPrefix,m.uriPrefix,(f,g)=>f===g)&&h.uriPrefixLen===m.uriPrefixLen&&h.sellerFeeBasisPoints===m.sellerFeeBasisPoints&&h.collectionMint.equals(m.collectionMint)&&c.arrayDeepEquals(h.creators,m.creators,(f,g)=>u.crewCreatorEquals(f,g))&&h.creatorCount===m.creatorCount&&h.totalMinted===m.totalMinted&&h.totalAllocated===m.totalAllocated}n.crewConfigEquals=d;let y=o=class{constructor(m,f,g){this._data=m,this._key=f,this._trees=g}get data(){return this._data}get key(){return this._key}static decodeData(m,f){return c.decodeAccountWithRemaining(m,f,o,g=>{const b=g.readUInt32LE(0),S=g.subarray(4);return Array(b).fill(0).map((p,I)=>{const w=S.subarray(32*I,32*I+32);return new a.PublicKey(w)})})}get merkleTrees(){return this._trees}static findAddress(m,f=n.DERFAULT_CREW_CONFIG_SEED){return a.PublicKey.findProgramAddressSync([Xe.Buffer.from("crew_config"),f.toBuffer()],m.programId)}static uriPrefixBuffer(m){const f=Xe.Buffer.from(m);if(f.length>32)throw new Error("Uri prefix can't be longer than 32 bytes");const g=new Uint8Array(40);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(40,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}static namePrefixBuffer(m){const f=Xe.Buffer.from(m);if(f.length>32)throw new Error("Name prefix can't be longer than 32 bytes");const g=new Uint8Array(32);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(32,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}static symbolBuffer(m){const f=Xe.Buffer.from(m);if(f.length>10)throw new Error("Symbol can't be longer than 10 bytes");const g=new Uint8Array(10);g.set(f,0);const b=(0,l.fixedSizeArrayFromArray)(10,[...g]);if(b===null)throw new Error("Failed to create fixed size array! This should never happen");return b}};n.CrewConfig=y,y.ACCOUNT_NAME="crewConfig",y.MIN_DATA_SIZE=8+1+32+1+32+32+1+10+1+40+1+2+32+132+1+4+4,n.CrewConfig=y=o=r([c.staticImplements(),i("design:paramtypes",[Object,a.PublicKey,Array])],y)})(SL);var US={},T2t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),R2t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),C2t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},SBe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&T2t(e,n,t);return R2t(e,n),e},M2t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Nj;Object.defineProperty(US,"__esModule",{value:!0});US.PackTiers=US.packTiersEquals=void 0;const kBe=SBe(lc),vBe=SBe(tr);function B2t(n,e){return n.version===e.version&&n.crewConfig.equals(e.crewConfig)&&n.seedPubkey.equals(e.seedPubkey)&&n.tier===e.tier&&n.bump===e.bump&&n.common===e.common&&n.uncommon===e.uncommon&&n.rare===e.rare&&n.epic===e.epic&&n.legendary===e.legendary&&n.anomaly===e.anomaly}US.packTiersEquals=B2t;let wB=Nj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return vBe.decodeAccount(e,t,Nj)}static findAddress(e,t){return kBe.PublicKey.findProgramAddressSync([Xe.Buffer.from("pack_tiers"),t.seedPubkey.toBuffer(),Xe.Buffer.from([t.packTier])],e.programId)}};US.PackTiers=wB;wB.ACCOUNT_NAME="packTiers";wB.MIN_DATA_SIZE=8+1+32+32+1+1+4+4+4+4+4+4;US.PackTiers=wB=Nj=C2t([vBe.staticImplements(),M2t("design:paramtypes",[Object,kBe.PublicKey])],wB);var ABe={};(function(n){var e=K&&K.__createBinding||(Object.create?function(h,m,f,g){g===void 0&&(g=f);var b=Object.getOwnPropertyDescriptor(m,f);(!b||("get"in b?!m.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return m[f]}}),Object.defineProperty(h,g,b)}:function(h,m,f,g){g===void 0&&(g=f),h[g]=m[f]}),t=K&&K.__setModuleDefault||(Object.create?function(h,m){Object.defineProperty(h,"default",{enumerable:!0,value:m})}:function(h,m){h.default=m}),r=K&&K.__decorate||function(h,m,f,g){var b=arguments.length,S=b<3?m:g===null?g=Object.getOwnPropertyDescriptor(m,f):g,p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(h,m,f,g);else for(var I=h.length-1;I>=0;I--)(p=h[I])&&(S=(b<3?p(S):b>3?p(m,f,S):p(m,f))||S);return b>3&&S&&Object.defineProperty(m,f,S),S},s=K&&K.__importStar||function(h){if(h&&h.__esModule)return h;var m={};if(h!=null)for(var f in h)f!=="default"&&Object.prototype.hasOwnProperty.call(h,f)&&e(m,h,f);return t(m,h),m},i=K&&K.__metadata||function(h,m){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,m)},o;Object.defineProperty(n,"__esModule",{value:!0}),n.PackType=n.packTypeEquals=n.Faction=void 0;const a=s(lc),c=s(tr),u=SL;var l=i6;Object.defineProperty(n,"Faction",{enumerable:!0,get:function(){return l.Faction}});function d(h,m){return h.version===m.version&&h.bump===m.bump&&h.crewConfig.equals(m.crewConfig)&&h.packTiers.equals(m.packTiers)&&h.faction===m.faction}n.packTypeEquals=d;let y=o=class{constructor(m,f){this._data=m,this._key=f}get data(){return this._data}get key(){return this._key}static decodeData(m,f){return c.decodeAccount(m,f,o)}static findAddress(m,f){var g;const b=(g=f.crewConfig)!==null&&g!==void 0?g:u.CrewConfig.findAddress(m)[0];return a.PublicKey.findProgramAddressSync([Xe.Buffer.from("pack_type"),b.toBuffer(),f.packTiers.toBuffer(),Xe.Buffer.from([f.faction])],m.programId)}};n.PackType=y,y.ACCOUNT_NAME="packType",y.MIN_DATA_SIZE=8+1+1+32+32+1,n.PackType=y=o=r([c.staticImplements(),i("design:paramtypes",[Object,a.PublicKey])],y)})(ABe);var VS={},z2t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),$2t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),D2t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},wBe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&z2t(e,n,t);return $2t(e,n),e},O2t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Fj;Object.defineProperty(VS,"__esModule",{value:!0});VS.SftRedemption=VS.sftRedemptionEquals=void 0;const IBe=wBe(lc),PBe=wBe(tr),K2t=SL;function L2t(n,e){return n.version===e.version&&n.bump===e.bump&&n.packType.equals(e.packType)&&n.sftMint.equals(e.sftMint)&&n.crewConfig.equals(e.crewConfig)&&n.redemptionAmount===e.redemptionAmount}VS.sftRedemptionEquals=L2t;let IB=Fj=class{constructor(e,t){this._data=e,this._key=t}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return PBe.decodeAccount(e,t,Fj)}static findAddress(e,t){var r;const s=Xe.Buffer.alloc(4);s.writeInt32LE(t.redemptionAmount,0);const i=(r=t.crewConfig)!==null&&r!==void 0?r:K2t.CrewConfig.findAddress(e)[0];return IBe.PublicKey.findProgramAddressSync([Xe.Buffer.from("sft_redemption"),i.toBuffer(),t.sftMint.toBuffer(),t.packType.toBuffer(),s],e.programId)}};VS.SftRedemption=IB;IB.ACCOUNT_NAME="sftRedemption";IB.MIN_DATA_SIZE=8+1+1+32+32+32+4;VS.SftRedemption=IB=Fj=D2t([PBe.staticImplements(),O2t("design:paramtypes",[Object,IBe.PublicKey])],IB);var qS={},Hz={};Object.defineProperty(Hz,"__esModule",{value:!0});Hz.BitViewer=void 0;class W2t{constructor(e,t=e.length*8){this.buffer=e,this.bitLength=t,this.buffer=e.subarray(0,Math.ceil(t/8))}get(e){const t=Math.floor(e/8),r=e%8;if(t>=this.buffer.length)return!1;const s=this.buffer.readUint8(t),i=1<<r;return(s&i)!==0}firstUnsetIndex(){const e=this.buffer.findIndex(s=>s!==255);if(e===-1)return null;const t=this.buffer[e];let r=1;for(let s=0;s<8;s++){if((t&r)===0)return e*8+s;r<<=1}throw new Error("Couldn't find an unset bit in the non max byte. This shouldn't happen")}}Hz.BitViewer=W2t;var N2t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),F2t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),U2t=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},_Be=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&N2t(e,n,t);return F2t(e,n),e},V2t=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},Uj;Object.defineProperty(qS,"__esModule",{value:!0});qS.UserRedemption=qS.userRedemptionEquals=void 0;const EBe=_Be(lc),QO=_Be(tr),xBe=Hz;function q2t(n,e){return n.version===e.version&&n.bump===e.bump&&n.crewConfig.equals(e.crewConfig)&&n.seedPubkey.equals(e.seedPubkey)&&n.owner.equals(e.owner)&&n.mintOffset===e.mintOffset&&n.amount===e.amount&&n.numberMinted===e.numberMinted&&n.packType.equals(e.packType)&&QO.arrayDeepEquals(n.userSeed,e.userSeed,(t,r)=>t===r)&&QO.arrayDeepEquals(n.serverHash,e.serverHash,(t,r)=>t===r)&&n.sageProfile.equals(e.sageProfile)}qS.userRedemptionEquals=q2t;let PB=Uj=class{constructor(e,t,r){this._data=e,this._key=t,this.mintBits=r}get data(){return this._data}get key(){return this._key}static decodeData(e,t){return QO.decodeAccountWithRemaining(e,t,Uj,r=>new xBe.BitViewer(r))}static findAddress(e,t){return EBe.PublicKey.findProgramAddressSync([Xe.Buffer.from("user_redemption"),t.seedPubkey.toBuffer(),t.packType.toBuffer(),t.owner.toBuffer()],e.programId)}};qS.UserRedemption=PB;PB.ACCOUNT_NAME="userRedemption";PB.MIN_DATA_SIZE=8+1+1+32+32+32+4+4+4+32+32+32+32;qS.UserRedemption=PB=Uj=U2t([QO.staticImplements(),V2t("design:paramtypes",[Object,EBe.PublicKey,xBe.BitViewer])],PB);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(SL,n),t(US,n),t(ABe,n),t(VS,n),t(qS,n)})(Cd);var TBe={},BL={},j2t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(BL,"__esModule",{value:!0});BL.closeAccounts=void 0;const H2t=Cd;function G2t(n,e,t,r,s,i,o=H2t.CrewConfig.findAddress(n)[0]){const a=[e];return()=>j2t(this,void 0,void 0,function*(){return{instruction:yield n.methods.closeAccounts(i).accountsStrict({key:e.publicKey(),profile:t,recipient:r,crewConfig:o}).remainingAccounts(s.map(c=>({pubkey:c,isSigner:!1,isWritable:!0}))).instruction(),signers:a}})}BL.closeAccounts=G2t;var a_={},RBe={},qb={},Nt={},Io={},lt={},CBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.None=0]="None",s[s.Metadata=1]="Metadata",s[s.Holder=2]="Holder",s[s.MetadataDelegate=3]="MetadataDelegate",s[s.TokenDelegate=4]="TokenDelegate"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(CBe);var zL={};Object.defineProperty(zL,"__esModule",{value:!0});zL.getAuthorizationDataSerializer=void 0;const Y2t=q,Z2t=lt;function J2t(){return(0,Y2t.struct)([["payload",(0,Z2t.getPayloadSerializer)()]],{description:"AuthorizationData"})}zL.getAuthorizationDataSerializer=J2t;var vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.isBurnArgs=vp.burnArgs=vp.getBurnArgsSerializer=void 0;const Q8=q;function X2t(){return(0,Q8.dataEnum)([["V1",(0,Q8.mapSerializer)((0,Q8.struct)([["amount",(0,Q8.u64)()]]),n=>({...n,amount:n.amount??1}))]],{description:"BurnArgs"})}vp.getBurnArgsSerializer=X2t;function Q2t(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}vp.burnArgs=Q2t;function eMt(n,e){return e.__kind===n}vp.isBurnArgs=eMt;var $L={};Object.defineProperty($L,"__esModule",{value:!0});$L.getCollectionSerializer=void 0;const DU=q;function tMt(){return(0,DU.struct)([["verified",(0,DU.bool)()],["key",(0,DU.publicKey)()]],{description:"Collection"})}$L.getCollectionSerializer=tMt;var Ap={};Object.defineProperty(Ap,"__esModule",{value:!0});Ap.isCollectionDetails=Ap.collectionDetails=Ap.getCollectionDetailsSerializer=void 0;const Qk=q;function rMt(){return(0,Qk.dataEnum)([["V1",(0,Qk.struct)([["size",(0,Qk.u64)()]])],["V2",(0,Qk.struct)([["padding",(0,Qk.array)((0,Qk.u8)(),{size:8})]])]],{description:"CollectionDetails"})}Ap.getCollectionDetailsSerializer=rMt;function nMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ap.collectionDetails=nMt;function sMt(n,e){return e.__kind===n}Ap.isCollectionDetails=sMt;var wp={};Object.defineProperty(wp,"__esModule",{value:!0});wp.isCollectionDetailsToggle=wp.collectionDetailsToggle=wp.getCollectionDetailsToggleSerializer=void 0;const $C=q,iMt=lt;function oMt(){return(0,$C.dataEnum)([["None",(0,$C.unit)()],["Clear",(0,$C.unit)()],["Set",(0,$C.struct)([["fields",(0,$C.tuple)([(0,iMt.getCollectionDetailsSerializer)()])]])]],{description:"CollectionDetailsToggle"})}wp.getCollectionDetailsToggleSerializer=oMt;function aMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}wp.collectionDetailsToggle=aMt;function cMt(n,e){return e.__kind===n}wp.isCollectionDetailsToggle=cMt;var Ip={};Object.defineProperty(Ip,"__esModule",{value:!0});Ip.isCollectionToggle=Ip.collectionToggle=Ip.getCollectionToggleSerializer=void 0;const DC=q,uMt=lt;function lMt(){return(0,DC.dataEnum)([["None",(0,DC.unit)()],["Clear",(0,DC.unit)()],["Set",(0,DC.struct)([["fields",(0,DC.tuple)([(0,uMt.getCollectionSerializer)()])]])]],{description:"CollectionToggle"})}Ip.getCollectionToggleSerializer=lMt;function dMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ip.collectionToggle=dMt;function fMt(n,e){return e.__kind===n}Ip.isCollectionToggle=fMt;var Pp={};Object.defineProperty(Pp,"__esModule",{value:!0});Pp.isCreateArgs=Pp.createArgs=Pp.getCreateArgsSerializer=void 0;const _0=Z,Ho=q,ev=lt;function hMt(){return(0,Ho.dataEnum)([["V1",(0,Ho.mapSerializer)((0,Ho.struct)([["name",(0,Ho.string)()],["symbol",(0,Ho.string)()],["uri",(0,Ho.string)()],["sellerFeeBasisPoints",(0,_0.mapAmountSerializer)((0,Ho.u16)(),"%",2)],["creators",(0,Ho.option)((0,Ho.array)((0,ev.getCreatorSerializer)()))],["primarySaleHappened",(0,Ho.bool)()],["isMutable",(0,Ho.bool)()],["tokenStandard",(0,ev.getTokenStandardSerializer)()],["collection",(0,Ho.option)((0,ev.getCollectionSerializer)())],["uses",(0,Ho.option)((0,ev.getUsesSerializer)())],["collectionDetails",(0,Ho.option)((0,ev.getCollectionDetailsSerializer)())],["ruleSet",(0,Ho.option)((0,Ho.publicKey)())],["decimals",(0,Ho.option)((0,Ho.u8)())],["printSupply",(0,Ho.option)((0,ev.getPrintSupplySerializer)())]]),n=>({...n,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,collection:n.collection??(0,_0.none)(),uses:n.uses??(0,_0.none)(),collectionDetails:n.collectionDetails??(0,_0.none)(),ruleSet:n.ruleSet??(0,_0.none)(),decimals:n.decimals??(0,_0.none)(),printSupply:n.printSupply??(0,_0.none)()}))]],{description:"CreateArgs"})}Pp.getCreateArgsSerializer=hMt;function gMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Pp.createArgs=gMt;function mMt(n,e){return e.__kind===n}Pp.isCreateArgs=mMt;var DL={};Object.defineProperty(DL,"__esModule",{value:!0});DL.getCreatorSerializer=void 0;const e3=q;function yMt(){return(0,e3.struct)([["address",(0,e3.publicKey)()],["verified",(0,e3.bool)()],["share",(0,e3.u8)()]],{description:"Creator"})}DL.getCreatorSerializer=yMt;var OL={};Object.defineProperty(OL,"__esModule",{value:!0});OL.getDataSerializer=void 0;const E0=q,pMt=lt;function bMt(){return(0,E0.struct)([["name",(0,E0.string)()],["symbol",(0,E0.string)()],["uri",(0,E0.string)()],["sellerFeeBasisPoints",(0,E0.u16)()],["creators",(0,E0.option)((0,E0.array)((0,pMt.getCreatorSerializer)()))]],{description:"Data"})}OL.getDataSerializer=bMt;var KL={};Object.defineProperty(KL,"__esModule",{value:!0});KL.getDataV2Serializer=void 0;const rg=q,OU=lt;function SMt(){return(0,rg.struct)([["name",(0,rg.string)()],["symbol",(0,rg.string)()],["uri",(0,rg.string)()],["sellerFeeBasisPoints",(0,rg.u16)()],["creators",(0,rg.option)((0,rg.array)((0,OU.getCreatorSerializer)()))],["collection",(0,rg.option)((0,OU.getCollectionSerializer)())],["uses",(0,rg.option)((0,OU.getUsesSerializer)())]],{description:"DataV2"})}KL.getDataV2Serializer=SMt;var _p={};Object.defineProperty(_p,"__esModule",{value:!0});_p.isDelegateArgs=_p.delegateArgs=_p.getDelegateArgsSerializer=void 0;const Cu=Z,Sr=q,Mu=lt;function kMt(){return(0,Sr.dataEnum)([["CollectionV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["SaleV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["TransferV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["DataV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["UtilityV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["StakingV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["StandardV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()]]),n=>({...n,amount:n.amount??1}))],["LockedTransferV1",(0,Sr.mapSerializer)((0,Sr.struct)([["amount",(0,Sr.u64)()],["lockedAddress",(0,Sr.publicKey)()],["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,Cu.none)()}))],["ProgrammableConfigV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["AuthorityItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["DataItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["CollectionItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["ProgrammableConfigItemV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))],["PrintDelegateV1",(0,Sr.mapSerializer)((0,Sr.struct)([["authorizationData",(0,Sr.option)((0,Mu.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,Cu.none)()}))]],{description:"DelegateArgs"})}_p.getDelegateArgsSerializer=kMt;function vMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}_p.delegateArgs=vMt;function AMt(n,e){return e.__kind===n}_p.isDelegateArgs=AMt;var Ep={};Object.defineProperty(Ep,"__esModule",{value:!0});Ep.isEscrowAuthority=Ep.escrowAuthority=Ep.getEscrowAuthoritySerializer=void 0;const OC=q;function wMt(){return(0,OC.dataEnum)([["TokenOwner",(0,OC.unit)()],["Creator",(0,OC.struct)([["fields",(0,OC.tuple)([(0,OC.publicKey)()])]])]],{description:"EscrowAuthority"})}Ep.getEscrowAuthoritySerializer=wMt;function IMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Ep.escrowAuthority=IMt;function PMt(n,e){return e.__kind===n}Ep.isEscrowAuthority=PMt;var fse={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getHolderDelegateRoleSerializer=n.HolderDelegateRole=void 0;const e=q;var t;(function(s){s[s.PrintDelegate=0]="PrintDelegate"})(t=n.HolderDelegateRole||(n.HolderDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"HolderDelegateRole"})}n.getHolderDelegateRoleSerializer=r})(fse);var MBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getKeySerializer=n.Key=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.EditionV1=1]="EditionV1",s[s.MasterEditionV1=2]="MasterEditionV1",s[s.ReservationListV1=3]="ReservationListV1",s[s.MetadataV1=4]="MetadataV1",s[s.ReservationListV2=5]="ReservationListV2",s[s.MasterEditionV2=6]="MasterEditionV2",s[s.EditionMarker=7]="EditionMarker",s[s.UseAuthorityRecord=8]="UseAuthorityRecord",s[s.CollectionAuthorityRecord=9]="CollectionAuthorityRecord",s[s.TokenOwnedEscrow=10]="TokenOwnedEscrow",s[s.TokenRecord=11]="TokenRecord",s[s.MetadataDelegate=12]="MetadataDelegate",s[s.EditionMarkerV2=13]="EditionMarkerV2",s[s.HolderDelegate=14]="HolderDelegate"})(t=n.Key||(n.Key={}));function r(){return(0,e.scalarEnum)(t,{description:"Key"})}n.getKeySerializer=r})(MBe);var xp={};Object.defineProperty(xp,"__esModule",{value:!0});xp.isLockArgs=xp.lockArgs=xp.getLockArgsSerializer=void 0;const _Mt=Z,t3=q,EMt=lt;function xMt(){return(0,t3.dataEnum)([["V1",(0,t3.mapSerializer)((0,t3.struct)([["authorizationData",(0,t3.option)((0,EMt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,_Mt.none)()}))]],{description:"LockArgs"})}xp.getLockArgsSerializer=xMt;function TMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}xp.lockArgs=TMt;function RMt(n,e){return e.__kind===n}xp.isLockArgs=RMt;var hse={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMetadataDelegateRoleSerializer=n.MetadataDelegateRole=void 0;const e=q;var t;(function(s){s[s.AuthorityItem=0]="AuthorityItem",s[s.Collection=1]="Collection",s[s.Use=2]="Use",s[s.Data=3]="Data",s[s.ProgrammableConfig=4]="ProgrammableConfig",s[s.DataItem=5]="DataItem",s[s.CollectionItem=6]="CollectionItem",s[s.ProgrammableConfigItem=7]="ProgrammableConfigItem"})(t=n.MetadataDelegateRole||(n.MetadataDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"MetadataDelegateRole"})}n.getMetadataDelegateRoleSerializer=r})(hse);var BBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMigrationTypeSerializer=n.MigrationType=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.ProgrammableV1=1]="ProgrammableV1"})(t=n.MigrationType||(n.MigrationType={}));function r(){return(0,e.scalarEnum)(t,{description:"MigrationType"})}n.getMigrationTypeSerializer=r})(BBe);var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.isMintArgs=Tp.mintArgs=Tp.getMintArgsSerializer=void 0;const CMt=Z,KC=q,MMt=lt;function BMt(){return(0,KC.dataEnum)([["V1",(0,KC.mapSerializer)((0,KC.struct)([["amount",(0,KC.u64)()],["authorizationData",(0,KC.option)((0,MMt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,CMt.none)()}))]],{description:"MintArgs"})}Tp.getMintArgsSerializer=BMt;function zMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Tp.mintArgs=zMt;function $Mt(n,e){return e.__kind===n}Tp.isMintArgs=$Mt;var LL={};Object.defineProperty(LL,"__esModule",{value:!0});LL.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=void 0;const Zpe=q;function DMt(){return(0,Zpe.struct)([["edition",(0,Zpe.u64)()]],{description:"MintNewEditionFromMasterEditionViaTokenArgs"})}LL.getMintNewEditionFromMasterEditionViaTokenArgsSerializer=DMt;var WL={};Object.defineProperty(WL,"__esModule",{value:!0});WL.getPayloadSerializer=void 0;const KU=q,OMt=lt;function KMt(){return(0,KU.struct)([["map",(0,KU.map)((0,KU.string)(),(0,OMt.getPayloadTypeSerializer)())]],{description:"Payload"})}WL.getPayloadSerializer=KMt;var zBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getPayloadKeySerializer=n.PayloadKey=void 0;const e=q;var t;(function(s){s[s.Amount=0]="Amount",s[s.Authority=1]="Authority",s[s.AuthoritySeeds=2]="AuthoritySeeds",s[s.Delegate=3]="Delegate",s[s.DelegateSeeds=4]="DelegateSeeds",s[s.Destination=5]="Destination",s[s.DestinationSeeds=6]="DestinationSeeds",s[s.Holder=7]="Holder",s[s.Source=8]="Source",s[s.SourceSeeds=9]="SourceSeeds"})(t=n.PayloadKey||(n.PayloadKey={}));function r(){return(0,e.scalarEnum)(t,{description:"PayloadKey"})}n.getPayloadKeySerializer=r})(zBe);var Rp={};Object.defineProperty(Rp,"__esModule",{value:!0});Rp.isPayloadType=Rp.payloadType=Rp.getPayloadTypeSerializer=void 0;const Hl=q,Jpe=lt;function LMt(){return(0,Hl.dataEnum)([["Pubkey",(0,Hl.struct)([["fields",(0,Hl.tuple)([(0,Hl.publicKey)()])]])],["Seeds",(0,Hl.struct)([["fields",(0,Hl.tuple)([(0,Jpe.getSeedsVecSerializer)()])]])],["MerkleProof",(0,Hl.struct)([["fields",(0,Hl.tuple)([(0,Jpe.getProofInfoSerializer)()])]])],["Number",(0,Hl.struct)([["fields",(0,Hl.tuple)([(0,Hl.u64)()])]])]],{description:"PayloadType"})}Rp.getPayloadTypeSerializer=LMt;function WMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Rp.payloadType=WMt;function NMt(n,e){return e.__kind===n}Rp.isPayloadType=NMt;var Cp={};Object.defineProperty(Cp,"__esModule",{value:!0});Cp.isPrintArgs=Cp.printArgs=Cp.getPrintArgsSerializer=void 0;const LC=q;function FMt(){return(0,LC.dataEnum)([["V1",(0,LC.struct)([["edition",(0,LC.u64)()]])],["V2",(0,LC.struct)([["edition",(0,LC.u64)()]])]],{description:"PrintArgs"})}Cp.getPrintArgsSerializer=FMt;function UMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Cp.printArgs=UMt;function VMt(n,e){return e.__kind===n}Cp.isPrintArgs=VMt;var Mp={};Object.defineProperty(Mp,"__esModule",{value:!0});Mp.isPrintSupply=Mp.printSupply=Mp.getPrintSupplySerializer=void 0;const tv=q;function qMt(){return(0,tv.dataEnum)([["Zero",(0,tv.unit)()],["Limited",(0,tv.struct)([["fields",(0,tv.tuple)([(0,tv.u64)()])]])],["Unlimited",(0,tv.unit)()]],{description:"PrintSupply"})}Mp.getPrintSupplySerializer=qMt;function jMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Mp.printSupply=jMt;function HMt(n,e){return e.__kind===n}Mp.isPrintSupply=HMt;var Bp={};Object.defineProperty(Bp,"__esModule",{value:!0});Bp.isProgrammableConfig=Bp.programmableConfig=Bp.getProgrammableConfigSerializer=void 0;const r3=q;function GMt(){return(0,r3.dataEnum)([["V1",(0,r3.struct)([["ruleSet",(0,r3.option)((0,r3.publicKey)())]])]],{description:"ProgrammableConfig"})}Bp.getProgrammableConfigSerializer=GMt;function YMt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Bp.programmableConfig=YMt;function ZMt(n,e){return e.__kind===n}Bp.isProgrammableConfig=ZMt;var NL={};Object.defineProperty(NL,"__esModule",{value:!0});NL.getProofInfoSerializer=void 0;const LU=q;function JMt(){return(0,LU.struct)([["proof",(0,LU.array)((0,LU.bytes)({size:32}))]],{description:"ProofInfo"})}NL.getProofInfoSerializer=JMt;var FL={};Object.defineProperty(FL,"__esModule",{value:!0});FL.getReservationSerializer=void 0;const n3=q;function XMt(){return(0,n3.struct)([["address",(0,n3.publicKey)()],["spotsRemaining",(0,n3.u64)()],["totalSpots",(0,n3.u64)()]],{description:"Reservation"})}FL.getReservationSerializer=XMt;var UL={};Object.defineProperty(UL,"__esModule",{value:!0});UL.getReservationV1Serializer=void 0;const s3=q;function QMt(){return(0,s3.struct)([["address",(0,s3.publicKey)()],["spotsRemaining",(0,s3.u8)()],["totalSpots",(0,s3.u8)()]],{description:"ReservationV1"})}UL.getReservationV1Serializer=QMt;var $Be={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRevokeArgsSerializer=n.RevokeArgs=void 0;const e=q;var t;(function(s){s[s.CollectionV1=0]="CollectionV1",s[s.SaleV1=1]="SaleV1",s[s.TransferV1=2]="TransferV1",s[s.DataV1=3]="DataV1",s[s.UtilityV1=4]="UtilityV1",s[s.StakingV1=5]="StakingV1",s[s.StandardV1=6]="StandardV1",s[s.LockedTransferV1=7]="LockedTransferV1",s[s.ProgrammableConfigV1=8]="ProgrammableConfigV1",s[s.MigrationV1=9]="MigrationV1",s[s.AuthorityItemV1=10]="AuthorityItemV1",s[s.DataItemV1=11]="DataItemV1",s[s.CollectionItemV1=12]="CollectionItemV1",s[s.ProgrammableConfigItemV1=13]="ProgrammableConfigItemV1",s[s.PrintDelegateV1=14]="PrintDelegateV1"})(t=n.RevokeArgs||(n.RevokeArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"RevokeArgs"})}n.getRevokeArgsSerializer=r})($Be);var zp={};Object.defineProperty(zp,"__esModule",{value:!0});zp.isRuleSetToggle=zp.ruleSetToggle=zp.getRuleSetToggleSerializer=void 0;const rv=q;function eBt(){return(0,rv.dataEnum)([["None",(0,rv.unit)()],["Clear",(0,rv.unit)()],["Set",(0,rv.struct)([["fields",(0,rv.tuple)([(0,rv.publicKey)()])]])]],{description:"RuleSetToggle"})}zp.getRuleSetToggleSerializer=eBt;function tBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}zp.ruleSetToggle=tBt;function rBt(n,e){return e.__kind===n}zp.isRuleSetToggle=rBt;var VL={};Object.defineProperty(VL,"__esModule",{value:!0});VL.getSeedsVecSerializer=void 0;const i3=q;function nBt(){return(0,i3.struct)([["seeds",(0,i3.array)((0,i3.bytes)({size:(0,i3.u32)()}))]],{description:"SeedsVec"})}VL.getSeedsVecSerializer=nBt;var qL={};Object.defineProperty(qL,"__esModule",{value:!0});qL.getSetCollectionSizeArgsSerializer=void 0;const Xpe=q;function sBt(){return(0,Xpe.struct)([["size",(0,Xpe.u64)()]],{description:"SetCollectionSizeArgs"})}qL.getSetCollectionSizeArgsSerializer=sBt;var DBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenDelegateRoleSerializer=n.TokenDelegateRole=void 0;const e=q;var t;(function(s){s[s.Sale=0]="Sale",s[s.Transfer=1]="Transfer",s[s.Utility=2]="Utility",s[s.Staking=3]="Staking",s[s.Standard=4]="Standard",s[s.LockedTransfer=5]="LockedTransfer",s[s.Migration=6]="Migration"})(t=n.TokenDelegateRole||(n.TokenDelegateRole={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenDelegateRole"})}n.getTokenDelegateRoleSerializer=r})(DBe);var OBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStandardSerializer=n.TokenStandard=void 0;const e=q;var t;(function(s){s[s.NonFungible=0]="NonFungible",s[s.FungibleAsset=1]="FungibleAsset",s[s.Fungible=2]="Fungible",s[s.NonFungibleEdition=3]="NonFungibleEdition",s[s.ProgrammableNonFungible=4]="ProgrammableNonFungible",s[s.ProgrammableNonFungibleEdition=5]="ProgrammableNonFungibleEdition"})(t=n.TokenStandard||(n.TokenStandard={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenStandard"})}n.getTokenStandardSerializer=r})(OBe);var KBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Unlocked=0]="Unlocked",s[s.Locked=1]="Locked",s[s.Listed=2]="Listed"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(KBe);var $p={};Object.defineProperty($p,"__esModule",{value:!0});$p.isTransferArgs=$p.transferArgs=$p.getTransferArgsSerializer=void 0;const iBt=Z,WC=q,oBt=lt;function aBt(){return(0,WC.dataEnum)([["V1",(0,WC.mapSerializer)((0,WC.struct)([["amount",(0,WC.u64)()],["authorizationData",(0,WC.option)((0,oBt.getAuthorizationDataSerializer)())]]),n=>({...n,amount:n.amount??1,authorizationData:n.authorizationData??(0,iBt.none)()}))]],{description:"TransferArgs"})}$p.getTransferArgsSerializer=aBt;function cBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}$p.transferArgs=cBt;function uBt(n,e){return e.__kind===n}$p.isTransferArgs=uBt;var Dp={};Object.defineProperty(Dp,"__esModule",{value:!0});Dp.isUnlockArgs=Dp.unlockArgs=Dp.getUnlockArgsSerializer=void 0;const lBt=Z,o3=q,dBt=lt;function fBt(){return(0,o3.dataEnum)([["V1",(0,o3.mapSerializer)((0,o3.struct)([["authorizationData",(0,o3.option)((0,dBt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,lBt.none)()}))]],{description:"UnlockArgs"})}Dp.getUnlockArgsSerializer=fBt;function hBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Dp.unlockArgs=hBt;function gBt(n,e){return e.__kind===n}Dp.isUnlockArgs=gBt;var Op={};Object.defineProperty(Op,"__esModule",{value:!0});Op.isUpdateArgs=Op.updateArgs=Op.getUpdateArgsSerializer=void 0;const Js=Z,cr=q,un=lt;function mBt(){return(0,cr.dataEnum)([["V1",(0,cr.mapSerializer)((0,cr.struct)([["newUpdateAuthority",(0,cr.option)((0,cr.publicKey)())],["data",(0,cr.option)((0,un.getDataSerializer)())],["primarySaleHappened",(0,cr.option)((0,cr.bool)())],["isMutable",(0,cr.option)((0,cr.bool)())],["collection",(0,un.getCollectionToggleSerializer)()],["collectionDetails",(0,un.getCollectionDetailsToggleSerializer)()],["uses",(0,un.getUsesToggleSerializer)()],["ruleSet",(0,un.getRuleSetToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Js.none)(),data:n.data??(0,Js.none)(),primarySaleHappened:n.primarySaleHappened??(0,Js.none)(),isMutable:n.isMutable??(0,Js.none)(),collection:n.collection??(0,un.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,un.collectionDetailsToggle)("None"),uses:n.uses??(0,un.usesToggle)("None"),ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsUpdateAuthorityV2",(0,cr.mapSerializer)((0,cr.struct)([["newUpdateAuthority",(0,cr.option)((0,cr.publicKey)())],["data",(0,cr.option)((0,un.getDataSerializer)())],["primarySaleHappened",(0,cr.option)((0,cr.bool)())],["isMutable",(0,cr.option)((0,cr.bool)())],["collection",(0,un.getCollectionToggleSerializer)()],["collectionDetails",(0,un.getCollectionDetailsToggleSerializer)()],["uses",(0,un.getUsesToggleSerializer)()],["ruleSet",(0,un.getRuleSetToggleSerializer)()],["tokenStandard",(0,cr.option)((0,un.getTokenStandardSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Js.none)(),data:n.data??(0,Js.none)(),primarySaleHappened:n.primarySaleHappened??(0,Js.none)(),isMutable:n.isMutable??(0,Js.none)(),collection:n.collection??(0,un.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,un.collectionDetailsToggle)("None"),uses:n.uses??(0,un.usesToggle)("None"),ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsAuthorityItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["newUpdateAuthority",(0,cr.option)((0,cr.publicKey)())],["primarySaleHappened",(0,cr.option)((0,cr.bool)())],["isMutable",(0,cr.option)((0,cr.bool)())],["tokenStandard",(0,cr.option)((0,un.getTokenStandardSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,newUpdateAuthority:n.newUpdateAuthority??(0,Js.none)(),primarySaleHappened:n.primarySaleHappened??(0,Js.none)(),isMutable:n.isMutable??(0,Js.none)(),tokenStandard:n.tokenStandard??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsCollectionDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["collection",(0,un.getCollectionToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,un.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsDataDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["data",(0,cr.option)((0,un.getDataSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsProgrammableConfigDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["ruleSet",(0,un.getRuleSetToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsDataItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["data",(0,cr.option)((0,un.getDataSerializer)())],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,data:n.data??(0,Js.none)(),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsCollectionItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["collection",(0,un.getCollectionToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,collection:n.collection??(0,un.collectionToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))],["AsProgrammableConfigItemDelegateV2",(0,cr.mapSerializer)((0,cr.struct)([["ruleSet",(0,un.getRuleSetToggleSerializer)()],["authorizationData",(0,cr.option)((0,un.getAuthorizationDataSerializer)())]]),n=>({...n,ruleSet:n.ruleSet??(0,un.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,Js.none)()}))]],{description:"UpdateArgs"})}Op.getUpdateArgsSerializer=mBt;function yBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Op.updateArgs=yBt;function pBt(n,e){return e.__kind===n}Op.isUpdateArgs=pBt;var Kp={};Object.defineProperty(Kp,"__esModule",{value:!0});Kp.isUseArgs=Kp.useArgs=Kp.getUseArgsSerializer=void 0;const bBt=Z,a3=q,SBt=lt;function kBt(){return(0,a3.dataEnum)([["V1",(0,a3.mapSerializer)((0,a3.struct)([["authorizationData",(0,a3.option)((0,SBt.getAuthorizationDataSerializer)())]]),n=>({...n,authorizationData:n.authorizationData??(0,bBt.none)()}))]],{description:"UseArgs"})}Kp.getUseArgsSerializer=kBt;function vBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Kp.useArgs=vBt;function ABt(n,e){return e.__kind===n}Kp.isUseArgs=ABt;var LBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getUseMethodSerializer=n.UseMethod=void 0;const e=q;var t;(function(s){s[s.Burn=0]="Burn",s[s.Multiple=1]="Multiple",s[s.Single=2]="Single"})(t=n.UseMethod||(n.UseMethod={}));function r(){return(0,e.scalarEnum)(t,{description:"UseMethod"})}n.getUseMethodSerializer=r})(LBe);var jL={};Object.defineProperty(jL,"__esModule",{value:!0});jL.getUsesSerializer=void 0;const WU=q,wBt=lt;function IBt(){return(0,WU.struct)([["useMethod",(0,wBt.getUseMethodSerializer)()],["remaining",(0,WU.u64)()],["total",(0,WU.u64)()]],{description:"Uses"})}jL.getUsesSerializer=IBt;var Lp={};Object.defineProperty(Lp,"__esModule",{value:!0});Lp.isUsesToggle=Lp.usesToggle=Lp.getUsesToggleSerializer=void 0;const NC=q,PBt=lt;function _Bt(){return(0,NC.dataEnum)([["None",(0,NC.unit)()],["Clear",(0,NC.unit)()],["Set",(0,NC.struct)([["fields",(0,NC.tuple)([(0,PBt.getUsesSerializer)()])]])]],{description:"UsesToggle"})}Lp.getUsesToggleSerializer=_Bt;function EBt(n,e){return Array.isArray(e)?{__kind:n,fields:e}:{__kind:n,...e??{}}}Lp.usesToggle=EBt;function xBt(n,e){return e.__kind===n}Lp.isUsesToggle=xBt;var WBe={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getVerificationArgsSerializer=n.VerificationArgs=void 0;const e=q;var t;(function(s){s[s.CreatorV1=0]="CreatorV1",s[s.CollectionV1=1]="CollectionV1"})(t=n.VerificationArgs||(n.VerificationArgs={}));function r(){return(0,e.scalarEnum)(t,{description:"VerificationArgs"})}n.getVerificationArgsSerializer=r})(WBe);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(CBe,n),t(zL,n),t(vp,n),t($L,n),t(Ap,n),t(wp,n),t(Ip,n),t(Pp,n),t(DL,n),t(OL,n),t(KL,n),t(_p,n),t(Ep,n),t(fse,n),t(MBe,n),t(xp,n),t(hse,n),t(BBe,n),t(Tp,n),t(LL,n),t(WL,n),t(zBe,n),t(Rp,n),t(Cp,n),t(Mp,n),t(Bp,n),t(NL,n),t(FL,n),t(UL,n),t($Be,n),t(zp,n),t(VL,n),t(qL,n),t(DBe,n),t(OBe,n),t(KBe,n),t($p,n),t(Dp,n),t(Op,n),t(Kp,n),t(LBe,n),t(jL,n),t(Lp,n),t(WBe,n)})(lt);Object.defineProperty(Io,"__esModule",{value:!0});Io.safeFetchCollectionAuthorityRecordFromSeeds=Io.fetchCollectionAuthorityRecordFromSeeds=Io.findCollectionAuthorityRecordPda=Io.getCollectionAuthorityRecordGpaBuilder=Io.safeFetchAllCollectionAuthorityRecord=Io.fetchAllCollectionAuthorityRecord=Io.safeFetchCollectionAuthorityRecord=Io.fetchCollectionAuthorityRecord=Io.deserializeCollectionAuthorityRecord=Io.getCollectionAuthorityRecordAccountDataSerializer=void 0;const pb=Z,Ju=q,e4=lt;function NBe(){return(0,Ju.mapSerializer)((0,Ju.struct)([["key",(0,e4.getKeySerializer)()],["bump",(0,Ju.u8)()],["updateAuthority",(0,Ju.option)((0,Ju.publicKey)())]],{description:"CollectionAuthorityRecordAccountData"}),n=>({...n,key:e4.Key.CollectionAuthorityRecord}))}Io.getCollectionAuthorityRecordAccountDataSerializer=NBe;function JT(n){return(0,pb.deserializeAccount)(n,NBe())}Io.deserializeCollectionAuthorityRecord=JT;async function FBe(n,e,t){const r=await n.rpc.getAccount((0,pb.publicKey)(e,!1),t);return(0,pb.assertAccountExists)(r,"CollectionAuthorityRecord"),JT(r)}Io.fetchCollectionAuthorityRecord=FBe;async function UBe(n,e,t){const r=await n.rpc.getAccount((0,pb.publicKey)(e,!1),t);return r.exists?JT(r):null}Io.safeFetchCollectionAuthorityRecord=UBe;async function TBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,pb.publicKey)(s,!1)),t)).map(s=>((0,pb.assertAccountExists)(s,"CollectionAuthorityRecord"),JT(s)))}Io.fetchAllCollectionAuthorityRecord=TBt;async function RBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,pb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>JT(s))}Io.safeFetchAllCollectionAuthorityRecord=RBt;function CBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,pb.gpaBuilder)(n,e).registerFields({key:[0,(0,e4.getKeySerializer)()],bump:[1,(0,Ju.u8)()],updateAuthority:[2,(0,Ju.option)((0,Ju.publicKey)())]}).deserializeUsing(t=>JT(t)).whereField("key",e4.Key.CollectionAuthorityRecord)}Io.getCollectionAuthorityRecordGpaBuilder=CBt;function gse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ju.string)({size:"variable"}).serialize("metadata"),(0,Ju.publicKey)().serialize(t),(0,Ju.publicKey)().serialize(e.mint),(0,Ju.string)({size:"variable"}).serialize("collection_authority"),(0,Ju.publicKey)().serialize(e.collectionAuthority)])}Io.findCollectionAuthorityRecordPda=gse;async function MBt(n,e,t){return FBe(n,gse(n,e),t)}Io.fetchCollectionAuthorityRecordFromSeeds=MBt;async function BBt(n,e,t){return UBe(n,gse(n,e),t)}Io.safeFetchCollectionAuthorityRecordFromSeeds=BBt;var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.safeFetchDeprecatedMasterEditionV1FromSeeds=Po.fetchDeprecatedMasterEditionV1FromSeeds=Po.findDeprecatedMasterEditionV1Pda=Po.getDeprecatedMasterEditionV1GpaBuilder=Po.safeFetchAllDeprecatedMasterEditionV1=Po.fetchAllDeprecatedMasterEditionV1=Po.safeFetchDeprecatedMasterEditionV1=Po.fetchDeprecatedMasterEditionV1=Po.deserializeDeprecatedMasterEditionV1=Po.getDeprecatedMasterEditionV1AccountDataSerializer=void 0;const bb=Z,wc=q,t4=lt;function VBe(){return(0,wc.mapSerializer)((0,wc.struct)([["key",(0,t4.getKeySerializer)()],["supply",(0,wc.u64)()],["maxSupply",(0,wc.option)((0,wc.u64)())],["printingMint",(0,wc.publicKey)()],["oneTimePrintingAuthorizationMint",(0,wc.publicKey)()]],{description:"DeprecatedMasterEditionV1AccountData"}),n=>({...n,key:t4.Key.MasterEditionV1}))}Po.getDeprecatedMasterEditionV1AccountDataSerializer=VBe;function XT(n){return(0,bb.deserializeAccount)(n,VBe())}Po.deserializeDeprecatedMasterEditionV1=XT;async function qBe(n,e,t){const r=await n.rpc.getAccount((0,bb.publicKey)(e,!1),t);return(0,bb.assertAccountExists)(r,"DeprecatedMasterEditionV1"),XT(r)}Po.fetchDeprecatedMasterEditionV1=qBe;async function jBe(n,e,t){const r=await n.rpc.getAccount((0,bb.publicKey)(e,!1),t);return r.exists?XT(r):null}Po.safeFetchDeprecatedMasterEditionV1=jBe;async function zBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,bb.publicKey)(s,!1)),t)).map(s=>((0,bb.assertAccountExists)(s,"DeprecatedMasterEditionV1"),XT(s)))}Po.fetchAllDeprecatedMasterEditionV1=zBt;async function $Bt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,bb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>XT(s))}Po.safeFetchAllDeprecatedMasterEditionV1=$Bt;function DBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,bb.gpaBuilder)(n,e).registerFields({key:[0,(0,t4.getKeySerializer)()],supply:[1,(0,wc.u64)()],maxSupply:[9,(0,wc.option)((0,wc.u64)())],printingMint:[null,(0,wc.publicKey)()],oneTimePrintingAuthorizationMint:[null,(0,wc.publicKey)()]}).deserializeUsing(t=>XT(t)).whereField("key",t4.Key.MasterEditionV1)}Po.getDeprecatedMasterEditionV1GpaBuilder=DBt;function mse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,wc.string)({size:"variable"}).serialize("metadata"),(0,wc.publicKey)().serialize(t),(0,wc.publicKey)().serialize(e.mint),(0,wc.string)({size:"variable"}).serialize("edition")])}Po.findDeprecatedMasterEditionV1Pda=mse;async function OBt(n,e,t){return qBe(n,mse(n,e),t)}Po.fetchDeprecatedMasterEditionV1FromSeeds=OBt;async function KBt(n,e,t){return jBe(n,mse(n,e),t)}Po.safeFetchDeprecatedMasterEditionV1FromSeeds=KBt;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});Ba.getEditionSize=Ba.getEditionGpaBuilder=Ba.safeFetchAllEdition=Ba.fetchAllEdition=Ba.safeFetchEdition=Ba.fetchEdition=Ba.deserializeEdition=Ba.getEditionAccountDataSerializer=void 0;const Sb=Z,Lv=q,r4=lt;function HBe(){return(0,Lv.mapSerializer)((0,Lv.struct)([["key",(0,r4.getKeySerializer)()],["parent",(0,Lv.publicKey)()],["edition",(0,Lv.u64)()]],{description:"EditionAccountData"}),n=>({...n,key:r4.Key.EditionV1}))}Ba.getEditionAccountDataSerializer=HBe;function QT(n){return(0,Sb.deserializeAccount)(n,HBe())}Ba.deserializeEdition=QT;async function LBt(n,e,t){const r=await n.rpc.getAccount((0,Sb.publicKey)(e,!1),t);return(0,Sb.assertAccountExists)(r,"Edition"),QT(r)}Ba.fetchEdition=LBt;async function WBt(n,e,t){const r=await n.rpc.getAccount((0,Sb.publicKey)(e,!1),t);return r.exists?QT(r):null}Ba.safeFetchEdition=WBt;async function NBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Sb.publicKey)(s,!1)),t)).map(s=>((0,Sb.assertAccountExists)(s,"Edition"),QT(s)))}Ba.fetchAllEdition=NBt;async function FBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Sb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>QT(s))}Ba.safeFetchAllEdition=FBt;function UBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Sb.gpaBuilder)(n,e).registerFields({key:[0,(0,r4.getKeySerializer)()],parent:[1,(0,Lv.publicKey)()],edition:[33,(0,Lv.u64)()]}).deserializeUsing(t=>QT(t)).whereField("key",r4.Key.EditionV1)}Ba.getEditionGpaBuilder=UBt;function VBt(){return 41}Ba.getEditionSize=VBt;var oi={};Object.defineProperty(oi,"__esModule",{value:!0});oi.safeFetchEditionMarkerFromSeeds=oi.fetchEditionMarkerFromSeeds=oi.findEditionMarkerPda=oi.getEditionMarkerSize=oi.getEditionMarkerGpaBuilder=oi.safeFetchAllEditionMarker=oi.fetchAllEditionMarker=oi.safeFetchEditionMarker=oi.fetchEditionMarker=oi.deserializeEditionMarker=oi.getEditionMarkerAccountDataSerializer=void 0;const kb=Z,nd=q,n4=lt;function GBe(){return(0,nd.mapSerializer)((0,nd.struct)([["key",(0,n4.getKeySerializer)()],["ledger",(0,nd.array)((0,nd.u8)(),{size:31})]],{description:"EditionMarkerAccountData"}),n=>({...n,key:n4.Key.EditionMarker}))}oi.getEditionMarkerAccountDataSerializer=GBe;function eR(n){return(0,kb.deserializeAccount)(n,GBe())}oi.deserializeEditionMarker=eR;async function YBe(n,e,t){const r=await n.rpc.getAccount((0,kb.publicKey)(e,!1),t);return(0,kb.assertAccountExists)(r,"EditionMarker"),eR(r)}oi.fetchEditionMarker=YBe;async function ZBe(n,e,t){const r=await n.rpc.getAccount((0,kb.publicKey)(e,!1),t);return r.exists?eR(r):null}oi.safeFetchEditionMarker=ZBe;async function qBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,kb.publicKey)(s,!1)),t)).map(s=>((0,kb.assertAccountExists)(s,"EditionMarker"),eR(s)))}oi.fetchAllEditionMarker=qBt;async function jBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,kb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>eR(s))}oi.safeFetchAllEditionMarker=jBt;function HBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,kb.gpaBuilder)(n,e).registerFields({key:[0,(0,n4.getKeySerializer)()],ledger:[1,(0,nd.array)((0,nd.u8)(),{size:31})]}).deserializeUsing(t=>eR(t)).whereField("key",n4.Key.EditionMarker)}oi.getEditionMarkerGpaBuilder=HBt;function GBt(){return 32}oi.getEditionMarkerSize=GBt;function yse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,nd.string)({size:"variable"}).serialize("metadata"),(0,nd.publicKey)().serialize(t),(0,nd.publicKey)().serialize(e.mint),(0,nd.string)({size:"variable"}).serialize("edition"),(0,nd.string)({size:"variable"}).serialize(e.editionMarker)])}oi.findEditionMarkerPda=yse;async function YBt(n,e,t){return YBe(n,yse(n,e),t)}oi.fetchEditionMarkerFromSeeds=YBt;async function ZBt(n,e,t){return ZBe(n,yse(n,e),t)}oi.safeFetchEditionMarkerFromSeeds=ZBt;var _o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.safeFetchEditionMarkerV2FromSeeds=_o.fetchEditionMarkerV2FromSeeds=_o.findEditionMarkerV2Pda=_o.getEditionMarkerV2GpaBuilder=_o.safeFetchAllEditionMarkerV2=_o.fetchAllEditionMarkerV2=_o.safeFetchEditionMarkerV2=_o.fetchEditionMarkerV2=_o.deserializeEditionMarkerV2=_o.getEditionMarkerV2AccountDataSerializer=void 0;const vb=Z,Of=q,JBe=lt;function XBe(){return(0,Of.struct)([["key",(0,JBe.getKeySerializer)()],["ledger",(0,Of.bytes)({size:(0,Of.u32)()})]],{description:"EditionMarkerV2AccountData"})}_o.getEditionMarkerV2AccountDataSerializer=XBe;function tR(n){return(0,vb.deserializeAccount)(n,XBe())}_o.deserializeEditionMarkerV2=tR;async function QBe(n,e,t){const r=await n.rpc.getAccount((0,vb.publicKey)(e,!1),t);return(0,vb.assertAccountExists)(r,"EditionMarkerV2"),tR(r)}_o.fetchEditionMarkerV2=QBe;async function eze(n,e,t){const r=await n.rpc.getAccount((0,vb.publicKey)(e,!1),t);return r.exists?tR(r):null}_o.safeFetchEditionMarkerV2=eze;async function JBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,vb.publicKey)(s,!1)),t)).map(s=>((0,vb.assertAccountExists)(s,"EditionMarkerV2"),tR(s)))}_o.fetchAllEditionMarkerV2=JBt;async function XBt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,vb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>tR(s))}_o.safeFetchAllEditionMarkerV2=XBt;function QBt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,vb.gpaBuilder)(n,e).registerFields({key:[0,(0,JBe.getKeySerializer)()],ledger:[1,(0,Of.bytes)({size:(0,Of.u32)()})]}).deserializeUsing(t=>tR(t))}_o.getEditionMarkerV2GpaBuilder=QBt;function pse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Of.string)({size:"variable"}).serialize("metadata"),(0,Of.publicKey)().serialize(t),(0,Of.publicKey)().serialize(e.mint),(0,Of.string)({size:"variable"}).serialize("edition"),(0,Of.string)({size:"variable"}).serialize("marker")])}_o.findEditionMarkerV2Pda=pse;async function ezt(n,e,t){return QBe(n,pse(n,e),t)}_o.fetchEditionMarkerV2FromSeeds=ezt;async function tzt(n,e,t){return eze(n,pse(n,e),t)}_o.safeFetchEditionMarkerV2FromSeeds=tzt;var ai={},an={},HL={};Object.defineProperty(HL,"__esModule",{value:!0});HL.findEditionMarkerFromEditionNumberPda=void 0;const rzt=qb;function nzt(n,e){return(0,rzt.findEditionMarkerPda)(n,{mint:e.mint,editionMarker:(BigInt(e.editionNumber)/248n).toString(10)})}HL.findEditionMarkerFromEditionNumberPda=nzt;var GL={},jb={};Object.defineProperty(jb,"__esModule",{value:!0});jb.TokenMetadataError=void 0;const szt=Z;class izt extends szt.UmiError{constructor(e,t){super(e,"plugin","Token Metadata",t),this.name="TokenMetadataError"}}jb.TokenMetadataError=izt;Object.defineProperty(GL,"__esModule",{value:!0});GL.getMetadataDelegateRoleSeedSerializer=void 0;const Qpe=q,ozt=jb,ly=hse;function azt(){return(0,Qpe.mapSerializer)((0,Qpe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case ly.MetadataDelegateRole.AuthorityItem:return"authority_item_delegate";case ly.MetadataDelegateRole.Collection:return"collection_delegate";case ly.MetadataDelegateRole.Use:return"use_delegate";case ly.MetadataDelegateRole.Data:return"data_delegate";case ly.MetadataDelegateRole.ProgrammableConfig:return"programmable_config_delegate";case ly.MetadataDelegateRole.DataItem:return"data_item_delegate";case ly.MetadataDelegateRole.CollectionItem:return"collection_item_delegate";case ly.MetadataDelegateRole.ProgrammableConfigItem:return"prog_config_item_delegate";default:throw new ozt.TokenMetadataError(`Invalid MetadataDelegateRoleArgs ${n}`)}},n=>n)}GL.getMetadataDelegateRoleSeedSerializer=azt;var YL={};Object.defineProperty(YL,"__esModule",{value:!0});YL.getHolderDelegateRoleSeedSerializer=void 0;const ebe=q,czt=jb,uzt=fse;function lzt(){return(0,ebe.mapSerializer)((0,ebe.string)({size:"variable"}),n=>{if(typeof n=="string")return n;switch(n){case uzt.HolderDelegateRole.PrintDelegate:return"print_delegate";default:throw new czt.TokenMetadataError(`Invalid PrintDelegateRoleArgs ${n}`)}},n=>n)}YL.getHolderDelegateRoleSeedSerializer=lzt;var za={},Gs={},ym={},ZL={},Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.safeFetchAddressLookupTableFromSeeds=Eo.fetchAddressLookupTableFromSeeds=Eo.findAddressLookupTablePda=Eo.getAddressLookupTableGpaBuilder=Eo.safeFetchAllAddressLookupTable=Eo.fetchAllAddressLookupTable=Eo.safeFetchAddressLookupTable=Eo.fetchAddressLookupTable=Eo.deserializeAddressLookupTable=Eo.getAddressLookupTableAccountDataSerializer=void 0;const Ab=Z,oo=q;function tze(){return(0,oo.mapSerializer)((0,oo.struct)([["discriminator",(0,oo.u32)()],["deactivationSlot",(0,oo.u64)()],["lastExtendedSlot",(0,oo.u64)()],["lastExtendedStartIndex",(0,oo.u8)()],["authority",(0,oo.option)((0,oo.publicKey)(),{fixed:!0})],["padding",(0,oo.u16)()],["addresses",(0,oo.array)((0,oo.publicKey)(),{size:"remainder"})]],{description:"AddressLookupTableAccountData"}),n=>({...n,discriminator:1,padding:0}))}Eo.getAddressLookupTableAccountDataSerializer=tze;function rR(n){return(0,Ab.deserializeAccount)(n,tze())}Eo.deserializeAddressLookupTable=rR;async function rze(n,e,t){const r=await n.rpc.getAccount((0,Ab.publicKey)(e,!1),t);return(0,Ab.assertAccountExists)(r,"AddressLookupTable"),rR(r)}Eo.fetchAddressLookupTable=rze;async function nze(n,e,t){const r=await n.rpc.getAccount((0,Ab.publicKey)(e,!1),t);return r.exists?rR(r):null}Eo.safeFetchAddressLookupTable=nze;async function dzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ab.publicKey)(s,!1)),t)).map(s=>((0,Ab.assertAccountExists)(s,"AddressLookupTable"),rR(s)))}Eo.fetchAllAddressLookupTable=dzt;async function fzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ab.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>rR(s))}Eo.safeFetchAllAddressLookupTable=fzt;function hzt(n){const e=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return(0,Ab.gpaBuilder)(n,e).registerFields({discriminator:[0,(0,oo.u32)()],deactivationSlot:[4,(0,oo.u64)()],lastExtendedSlot:[12,(0,oo.u64)()],lastExtendedStartIndex:[20,(0,oo.u8)()],authority:[21,(0,oo.option)((0,oo.publicKey)(),{fixed:!0})],padding:[54,(0,oo.u16)()],addresses:[56,(0,oo.array)((0,oo.publicKey)(),{size:"remainder"})]}).deserializeUsing(t=>rR(t)).whereField("discriminator",1)}Eo.getAddressLookupTableGpaBuilder=hzt;function bse(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111");return n.eddsa.findPda(t,[(0,oo.publicKey)().serialize(e.authority),(0,oo.u64)().serialize(e.recentSlot)])}Eo.findAddressLookupTablePda=bse;async function gzt(n,e,t){return rze(n,bse(n,e),t)}Eo.fetchAddressLookupTableFromSeeds=gzt;async function mzt(n,e,t){return nze(n,bse(n,e),t)}Eo.safeFetchAddressLookupTableFromSeeds=mzt;var $a={};Object.defineProperty($a,"__esModule",{value:!0});$a.getMintSize=$a.getMintGpaBuilder=$a.safeFetchAllMint=$a.fetchAllMint=$a.safeFetchMint=$a.fetchMint=$a.deserializeMint=$a.getMintAccountDataSerializer=void 0;const wb=Z,Zo=q;function sze(){return(0,Zo.struct)([["mintAuthority",(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})],["supply",(0,Zo.u64)()],["decimals",(0,Zo.u8)()],["isInitialized",(0,Zo.bool)()],["freezeAuthority",(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})]],{description:"MintAccountData"})}$a.getMintAccountDataSerializer=sze;function nR(n){return(0,wb.deserializeAccount)(n,sze())}$a.deserializeMint=nR;async function yzt(n,e,t){const r=await n.rpc.getAccount((0,wb.publicKey)(e,!1),t);return(0,wb.assertAccountExists)(r,"Mint"),nR(r)}$a.fetchMint=yzt;async function pzt(n,e,t){const r=await n.rpc.getAccount((0,wb.publicKey)(e,!1),t);return r.exists?nR(r):null}$a.safeFetchMint=pzt;async function bzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,wb.publicKey)(s,!1)),t)).map(s=>((0,wb.assertAccountExists)(s,"Mint"),nR(s)))}$a.fetchAllMint=bzt;async function Szt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,wb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>nR(s))}$a.safeFetchAllMint=Szt;function kzt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,wb.gpaBuilder)(n,e).registerFields({mintAuthority:[0,(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})],supply:[36,(0,Zo.u64)()],decimals:[44,(0,Zo.u8)()],isInitialized:[45,(0,Zo.bool)()],freezeAuthority:[46,(0,Zo.option)((0,Zo.publicKey)(),{prefix:(0,Zo.u32)(),fixed:!0})]}).deserializeUsing(t=>nR(t)).whereSize(82)}$a.getMintGpaBuilder=kzt;function vzt(){return 82}$a.getMintSize=vzt;var Da={};Object.defineProperty(Da,"__esModule",{value:!0});Da.getMultisigSize=Da.getMultisigGpaBuilder=Da.safeFetchAllMultisig=Da.fetchAllMultisig=Da.safeFetchMultisig=Da.fetchMultisig=Da.deserializeMultisig=Da.getMultisigAccountDataSerializer=void 0;const Ib=Z,ed=q;function ize(){return(0,ed.struct)([["m",(0,ed.u8)()],["n",(0,ed.u8)()],["isInitialized",(0,ed.bool)()],["signers",(0,ed.array)((0,ed.publicKey)(),{size:11})]],{description:"MultisigAccountData"})}Da.getMultisigAccountDataSerializer=ize;function sR(n){return(0,Ib.deserializeAccount)(n,ize())}Da.deserializeMultisig=sR;async function Azt(n,e,t){const r=await n.rpc.getAccount((0,Ib.publicKey)(e,!1),t);return(0,Ib.assertAccountExists)(r,"Multisig"),sR(r)}Da.fetchMultisig=Azt;async function wzt(n,e,t){const r=await n.rpc.getAccount((0,Ib.publicKey)(e,!1),t);return r.exists?sR(r):null}Da.safeFetchMultisig=wzt;async function Izt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ib.publicKey)(s,!1)),t)).map(s=>((0,Ib.assertAccountExists)(s,"Multisig"),sR(s)))}Da.fetchAllMultisig=Izt;async function Pzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Ib.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>sR(s))}Da.safeFetchAllMultisig=Pzt;function _zt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,Ib.gpaBuilder)(n,e).registerFields({m:[0,(0,ed.u8)()],n:[1,(0,ed.u8)()],isInitialized:[2,(0,ed.bool)()],signers:[3,(0,ed.array)((0,ed.publicKey)(),{size:11})]}).deserializeUsing(t=>sR(t)).whereSize(355)}Da.getMultisigGpaBuilder=_zt;function Ezt(){return 355}Da.getMultisigSize=Ezt;var Oa={},JL={},oze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getAuthorityTypeSerializer=n.AuthorityType=void 0;const e=q;var t;(function(s){s[s.MintTokens=0]="MintTokens",s[s.FreezeAccount=1]="FreezeAccount",s[s.AccountOwner=2]="AccountOwner",s[s.CloseAccount=3]="CloseAccount"})(t=n.AuthorityType||(n.AuthorityType={}));function r(){return(0,e.scalarEnum)(t,{description:"AuthorityType"})}n.getAuthorityTypeSerializer=r})(oze);var aze={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getTokenStateSerializer=n.TokenState=void 0;const e=q;var t;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initialized=1]="Initialized",s[s.Frozen=2]="Frozen"})(t=n.TokenState||(n.TokenState={}));function r(){return(0,e.scalarEnum)(t,{description:"TokenState"})}n.getTokenStateSerializer=r})(aze);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(oze,n),t(aze,n)})(JL);Object.defineProperty(Oa,"__esModule",{value:!0});Oa.getTokenSize=Oa.getTokenGpaBuilder=Oa.safeFetchAllToken=Oa.fetchAllToken=Oa.safeFetchToken=Oa.fetchToken=Oa.deserializeToken=Oa.getTokenAccountDataSerializer=void 0;const Pb=Z,ys=q,cze=JL;function uze(){return(0,ys.struct)([["mint",(0,ys.publicKey)()],["owner",(0,ys.publicKey)()],["amount",(0,ys.u64)()],["delegate",(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})],["state",(0,cze.getTokenStateSerializer)()],["isNative",(0,ys.option)((0,ys.u64)(),{prefix:(0,ys.u32)(),fixed:!0})],["delegatedAmount",(0,ys.u64)()],["closeAuthority",(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})]],{description:"TokenAccountData"})}Oa.getTokenAccountDataSerializer=uze;function iR(n){return(0,Pb.deserializeAccount)(n,uze())}Oa.deserializeToken=iR;async function xzt(n,e,t){const r=await n.rpc.getAccount((0,Pb.publicKey)(e,!1),t);return(0,Pb.assertAccountExists)(r,"Token"),iR(r)}Oa.fetchToken=xzt;async function Tzt(n,e,t){const r=await n.rpc.getAccount((0,Pb.publicKey)(e,!1),t);return r.exists?iR(r):null}Oa.safeFetchToken=Tzt;async function Rzt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Pb.publicKey)(s,!1)),t)).map(s=>((0,Pb.assertAccountExists)(s,"Token"),iR(s)))}Oa.fetchAllToken=Rzt;async function Czt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Pb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>iR(s))}Oa.safeFetchAllToken=Czt;function Mzt(n){const e=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");return(0,Pb.gpaBuilder)(n,e).registerFields({mint:[0,(0,ys.publicKey)()],owner:[32,(0,ys.publicKey)()],amount:[64,(0,ys.u64)()],delegate:[72,(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})],state:[108,(0,cze.getTokenStateSerializer)()],isNative:[109,(0,ys.option)((0,ys.u64)(),{prefix:(0,ys.u32)(),fixed:!0})],delegatedAmount:[121,(0,ys.u64)()],closeAuthority:[129,(0,ys.option)((0,ys.publicKey)(),{prefix:(0,ys.u32)(),fixed:!0})]}).deserializeUsing(t=>iR(t)).whereSize(165)}Oa.getTokenGpaBuilder=Mzt;function Bzt(){return 165}Oa.getTokenSize=Bzt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Eo,n),t($a,n),t(Da,n),t(Oa,n)})(ZL);var Ah={},Lf={};Object.defineProperty(Lf,"__esModule",{value:!0});Lf.getMplSystemExtrasErrorFromName=Lf.getMplSystemExtrasErrorFromCode=Lf.SysExInvalidOwnerForSourceError=Lf.SysExInvalidSystemProgramError=void 0;const lze=Z,Sse=new Map,kse=new Map;class vse extends lze.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}Lf.SysExInvalidSystemProgramError=vse;Sse.set(0,vse);kse.set("InvalidSystemProgram",vse);class Ase extends lze.ProgramError{constructor(e,t){super("Invalid Program Owner For The Source Account",e,t),this.name="InvalidOwnerForSource",this.code=1}}Lf.SysExInvalidOwnerForSourceError=Ase;Sse.set(1,Ase);kse.set("InvalidOwnerForSource",Ase);function zzt(n,e,t){const r=Sse.get(n);return r?new r(e,t):null}Lf.getMplSystemExtrasErrorFromCode=zzt;function $zt(n,e,t){const r=kse.get(n);return r?new r(e,t):null}Lf.getMplSystemExtrasErrorFromName=$zt;var xo={};Object.defineProperty(xo,"__esModule",{value:!0});xo.getMplTokenExtrasErrorFromName=xo.getMplTokenExtrasErrorFromCode=xo.TokExCannotCreateNonAssociatedTokenError=xo.TokExInvalidTokenOwnerError=xo.TokExInvalidTokenMintError=xo.TokExInvalidProgramOwnerError=xo.TokExInvalidAssociatedTokenAccountError=xo.TokExInvalidAssociatedTokenProgramError=xo.TokExInvalidTokenProgramError=xo.TokExInvalidSystemProgramError=void 0;const Hb=Z,pm=new Map,bm=new Map;class wse extends Hb.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=0}}xo.TokExInvalidSystemProgramError=wse;pm.set(0,wse);bm.set("InvalidSystemProgram",wse);class Ise extends Hb.ProgramError{constructor(e,t){super("Invalid Token Program",e,t),this.name="InvalidTokenProgram",this.code=1}}xo.TokExInvalidTokenProgramError=Ise;pm.set(1,Ise);bm.set("InvalidTokenProgram",Ise);class Pse extends Hb.ProgramError{constructor(e,t){super("Invalid Associated Token Program",e,t),this.name="InvalidAssociatedTokenProgram",this.code=2}}xo.TokExInvalidAssociatedTokenProgramError=Pse;pm.set(2,Pse);bm.set("InvalidAssociatedTokenProgram",Pse);class _se extends Hb.ProgramError{constructor(e,t){super("Invalid Associated Token Account: it should derive from the provided mint and owner",e,t),this.name="InvalidAssociatedTokenAccount",this.code=3}}xo.TokExInvalidAssociatedTokenAccountError=_se;pm.set(3,_se);bm.set("InvalidAssociatedTokenAccount",_se);class Ese extends Hb.ProgramError{constructor(e,t){super("Invalid Program Owner",e,t),this.name="InvalidProgramOwner",this.code=4}}xo.TokExInvalidProgramOwnerError=Ese;pm.set(4,Ese);bm.set("InvalidProgramOwner",Ese);class xse extends Hb.ProgramError{constructor(e,t){super("Invalid Token Mint: it should be the same as the provided mint account",e,t),this.name="InvalidTokenMint",this.code=5}}xo.TokExInvalidTokenMintError=xse;pm.set(5,xse);bm.set("InvalidTokenMint",xse);class Tse extends Hb.ProgramError{constructor(e,t){super("Invalid Program Owner: it should be the same as the provided owner account",e,t),this.name="InvalidTokenOwner",this.code=6}}xo.TokExInvalidTokenOwnerError=Tse;pm.set(6,Tse);bm.set("InvalidTokenOwner",Tse);class Rse extends Hb.ProgramError{constructor(e,t){super("Cannot create non-associated token accounts as they would need to sign the transaction. Please provide an associated token account instead",e,t),this.name="CannotCreateNonAssociatedToken",this.code=7}}xo.TokExCannotCreateNonAssociatedTokenError=Rse;pm.set(7,Rse);bm.set("CannotCreateNonAssociatedToken",Rse);function Dzt(n,e,t){const r=pm.get(n);return r?new r(e,t):null}xo.getMplTokenExtrasErrorFromCode=Dzt;function Ozt(n,e,t){const r=bm.get(n);return r?new r(e,t):null}xo.getMplTokenExtrasErrorFromName=Ozt;var c_={};Object.defineProperty(c_,"__esModule",{value:!0});c_.getSplAddressLookupTableErrorFromName=c_.getSplAddressLookupTableErrorFromCode=void 0;const Kzt=new Map,Lzt=new Map;function Wzt(n,e,t){const r=Kzt.get(n);return r?new r(e,t):null}c_.getSplAddressLookupTableErrorFromCode=Wzt;function Nzt(n,e,t){const r=Lzt.get(n);return r?new r(e,t):null}c_.getSplAddressLookupTableErrorFromName=Nzt;var Wp={};Object.defineProperty(Wp,"__esModule",{value:!0});Wp.getSplAssociatedTokenErrorFromName=Wp.getSplAssociatedTokenErrorFromCode=Wp.AtaInvalidOwnerError=void 0;const Fzt=Z,dze=new Map,fze=new Map;class Cse extends Fzt.ProgramError{constructor(e,t){super("Associated token account owner does not match address derivation",e,t),this.name="InvalidOwner",this.code=0}}Wp.AtaInvalidOwnerError=Cse;dze.set(0,Cse);fze.set("InvalidOwner",Cse);function Uzt(n,e,t){const r=dze.get(n);return r?new r(e,t):null}Wp.getSplAssociatedTokenErrorFromCode=Uzt;function Vzt(n,e,t){const r=fze.get(n);return r?new r(e,t):null}Wp.getSplAssociatedTokenErrorFromName=Vzt;var u_={};Object.defineProperty(u_,"__esModule",{value:!0});u_.getSplComputeBudgetErrorFromName=u_.getSplComputeBudgetErrorFromCode=void 0;const qzt=new Map,jzt=new Map;function Hzt(n,e,t){const r=qzt.get(n);return r?new r(e,t):null}u_.getSplComputeBudgetErrorFromCode=Hzt;function Gzt(n,e,t){const r=jzt.get(n);return r?new r(e,t):null}u_.getSplComputeBudgetErrorFromName=Gzt;var l_={};Object.defineProperty(l_,"__esModule",{value:!0});l_.getSplMemoErrorFromName=l_.getSplMemoErrorFromCode=void 0;const Yzt=new Map,Zzt=new Map;function Jzt(n,e,t){const r=Yzt.get(n);return r?new r(e,t):null}l_.getSplMemoErrorFromCode=Jzt;function Xzt(n,e,t){const r=Zzt.get(n);return r?new r(e,t):null}l_.getSplMemoErrorFromName=Xzt;var d_={};Object.defineProperty(d_,"__esModule",{value:!0});d_.getSplSystemErrorFromName=d_.getSplSystemErrorFromCode=void 0;const Qzt=new Map,e$t=new Map;function t$t(n,e,t){const r=Qzt.get(n);return r?new r(e,t):null}d_.getSplSystemErrorFromCode=t$t;function r$t(n,e,t){const r=e$t.get(n);return r?new r(e,t):null}d_.getSplSystemErrorFromName=r$t;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getSplTokenErrorFromName=Ar.getSplTokenErrorFromCode=Ar.TokNonNativeNotSupportedError=Ar.TokMintDecimalsMismatchError=Ar.TokAccountFrozenError=Ar.TokMintCannotFreezeError=Ar.TokAuthorityTypeNotSupportedError=Ar.TokOverflowError=Ar.TokInvalidStateError=Ar.TokInvalidInstructionError=Ar.TokNonNativeHasBalanceError=Ar.TokNativeNotSupportedError=Ar.TokUninitializedStateError=Ar.TokInvalidNumberOfRequiredSignersError=Ar.TokInvalidNumberOfProvidedSignersError=Ar.TokAlreadyInUseError=Ar.TokFixedSupplyError=Ar.TokOwnerMismatchError=Ar.TokMintMismatchError=Ar.TokInvalidMintError=Ar.TokInsufficientFundsError=Ar.TokNotRentExemptError=void 0;const qo=Z,Ko=new Map,Lo=new Map;class Mse extends qo.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=0}}Ar.TokNotRentExemptError=Mse;Ko.set(0,Mse);Lo.set("NotRentExempt",Mse);class Bse extends qo.ProgramError{constructor(e,t){super("Insufficient funds",e,t),this.name="InsufficientFunds",this.code=1}}Ar.TokInsufficientFundsError=Bse;Ko.set(1,Bse);Lo.set("InsufficientFunds",Bse);class zse extends qo.ProgramError{constructor(e,t){super("Invalid Mint",e,t),this.name="InvalidMint",this.code=2}}Ar.TokInvalidMintError=zse;Ko.set(2,zse);Lo.set("InvalidMint",zse);class $se extends qo.ProgramError{constructor(e,t){super("Account not associated with this Mint",e,t),this.name="MintMismatch",this.code=3}}Ar.TokMintMismatchError=$se;Ko.set(3,$se);Lo.set("MintMismatch",$se);class Dse extends qo.ProgramError{constructor(e,t){super("Owner does not match",e,t),this.name="OwnerMismatch",this.code=4}}Ar.TokOwnerMismatchError=Dse;Ko.set(4,Dse);Lo.set("OwnerMismatch",Dse);class Ose extends qo.ProgramError{constructor(e,t){super("Fixed supply",e,t),this.name="FixedSupply",this.code=5}}Ar.TokFixedSupplyError=Ose;Ko.set(5,Ose);Lo.set("FixedSupply",Ose);class Kse extends qo.ProgramError{constructor(e,t){super("Already in use",e,t),this.name="AlreadyInUse",this.code=6}}Ar.TokAlreadyInUseError=Kse;Ko.set(6,Kse);Lo.set("AlreadyInUse",Kse);class Lse extends qo.ProgramError{constructor(e,t){super("Invalid number of provided signers",e,t),this.name="InvalidNumberOfProvidedSigners",this.code=7}}Ar.TokInvalidNumberOfProvidedSignersError=Lse;Ko.set(7,Lse);Lo.set("InvalidNumberOfProvidedSigners",Lse);class Wse extends qo.ProgramError{constructor(e,t){super("Invalid number of required signers",e,t),this.name="InvalidNumberOfRequiredSigners",this.code=8}}Ar.TokInvalidNumberOfRequiredSignersError=Wse;Ko.set(8,Wse);Lo.set("InvalidNumberOfRequiredSigners",Wse);class Nse extends qo.ProgramError{constructor(e,t){super("State is unititialized",e,t),this.name="UninitializedState",this.code=9}}Ar.TokUninitializedStateError=Nse;Ko.set(9,Nse);Lo.set("UninitializedState",Nse);class Fse extends qo.ProgramError{constructor(e,t){super("Instruction does not support native tokens",e,t),this.name="NativeNotSupported",this.code=10}}Ar.TokNativeNotSupportedError=Fse;Ko.set(10,Fse);Lo.set("NativeNotSupported",Fse);class Use extends qo.ProgramError{constructor(e,t){super("Non-native account can only be closed if its balance is zero",e,t),this.name="NonNativeHasBalance",this.code=11}}Ar.TokNonNativeHasBalanceError=Use;Ko.set(11,Use);Lo.set("NonNativeHasBalance",Use);class Vse extends qo.ProgramError{constructor(e,t){super("Invalid instruction",e,t),this.name="InvalidInstruction",this.code=12}}Ar.TokInvalidInstructionError=Vse;Ko.set(12,Vse);Lo.set("InvalidInstruction",Vse);class qse extends qo.ProgramError{constructor(e,t){super("State is invalid for requested operation",e,t),this.name="InvalidState",this.code=13}}Ar.TokInvalidStateError=qse;Ko.set(13,qse);Lo.set("InvalidState",qse);class jse extends qo.ProgramError{constructor(e,t){super("Operation overflowed",e,t),this.name="Overflow",this.code=14}}Ar.TokOverflowError=jse;Ko.set(14,jse);Lo.set("Overflow",jse);class Hse extends qo.ProgramError{constructor(e,t){super("Account does not support specified authority type",e,t),this.name="AuthorityTypeNotSupported",this.code=15}}Ar.TokAuthorityTypeNotSupportedError=Hse;Ko.set(15,Hse);Lo.set("AuthorityTypeNotSupported",Hse);class Gse extends qo.ProgramError{constructor(e,t){super("This token mint cannot freeze accounts",e,t),this.name="MintCannotFreeze",this.code=16}}Ar.TokMintCannotFreezeError=Gse;Ko.set(16,Gse);Lo.set("MintCannotFreeze",Gse);class Yse extends qo.ProgramError{constructor(e,t){super("Account is frozen",e,t),this.name="AccountFrozen",this.code=17}}Ar.TokAccountFrozenError=Yse;Ko.set(17,Yse);Lo.set("AccountFrozen",Yse);class Zse extends qo.ProgramError{constructor(e,t){super("The provided decimals value different from the Mint decimals",e,t),this.name="MintDecimalsMismatch",this.code=18}}Ar.TokMintDecimalsMismatchError=Zse;Ko.set(18,Zse);Lo.set("MintDecimalsMismatch",Zse);class Jse extends qo.ProgramError{constructor(e,t){super("Instruction does not support non-native tokens",e,t),this.name="NonNativeNotSupported",this.code=19}}Ar.TokNonNativeNotSupportedError=Jse;Ko.set(19,Jse);Lo.set("NonNativeNotSupported",Jse);function n$t(n,e,t){const r=Ko.get(n);return r?new r(e,t):null}Ar.getSplTokenErrorFromCode=n$t;function s$t(n,e,t){const r=Lo.get(n);return r?new r(e,t):null}Ar.getSplTokenErrorFromName=s$t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Lf,n),t(xo,n),t(c_,n),t(Wp,n),t(u_,n),t(l_,n),t(d_,n),t(Ar,n)})(Ah);var hze={},f_={},or={};Object.defineProperty(or,"__esModule",{value:!0});or.getAccountMetasAndSigners=or.expectPda=or.expectPublicKey=or.expectSome=void 0;const Z2=Z;function i$t(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}or.expectSome=i$t;function o$t(n){if(!n)throw new Error("Expected a PublicKey.");return(0,Z2.publicKey)(n,!1)}or.expectPublicKey=o$t;function a$t(n){if(!n||!Array.isArray(n)||!(0,Z2.isPda)(n))throw new Error("Expected a PDA.");return n}or.expectPda=a$t;function c$t(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,Z2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,Z2.publicKey)(i.value,!1),isSigner:(0,Z2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}or.getAccountMetasAndSigners=c$t;Object.defineProperty(f_,"__esModule",{value:!0});f_.addMemo=f_.getAddMemoInstructionDataSerializer=void 0;const u$t=Z,tbe=q,l$t=or;function gze(){return(0,tbe.struct)([["memo",(0,tbe.string)()]],{description:"AddMemoInstructionData"})}f_.getAddMemoInstructionDataSerializer=gze;function d$t(n,e){const t=n.programs.getPublicKey("splMemo","Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,l$t.getAccountMetasAndSigners)(i,"programId",t),c=gze().serialize(s),u=0;return(0,u$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}f_.addMemo=d$t;var h_={};Object.defineProperty(h_,"__esModule",{value:!0});h_.amountToUiAmount=h_.getAmountToUiAmountInstructionDataSerializer=void 0;const f$t=Z,c3=q,h$t=or;function mze(){return(0,c3.mapSerializer)((0,c3.struct)([["discriminator",(0,c3.u8)()],["amount",(0,c3.u64)()]],{description:"AmountToUiAmountInstructionData"}),n=>({...n,discriminator:23}))}h_.getAmountToUiAmountInstructionDataSerializer=mze;function g$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,h$t.getAccountMetasAndSigners)(i,"programId",t),c=mze().serialize(s),u=0;return(0,f$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}h_.amountToUiAmount=g$t;var g_={};Object.defineProperty(g_,"__esModule",{value:!0});g_.approveTokenDelegate=g_.getApproveTokenDelegateInstructionDataSerializer=void 0;const m$t=Z,u3=q,y$t=or;function yze(){return(0,u3.mapSerializer)((0,u3.struct)([["discriminator",(0,u3.u8)()],["amount",(0,u3.u64)()]],{description:"ApproveTokenDelegateInstructionData"}),n=>({...n,discriminator:4}))}g_.getApproveTokenDelegateInstructionDataSerializer=yze;function p$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,y$t.getAccountMetasAndSigners)(i,"programId",t),c=yze().serialize(s),u=0;return(0,m$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}g_.approveTokenDelegate=p$t;var m_={};Object.defineProperty(m_,"__esModule",{value:!0});m_.approveTokenDelegateChecked=m_.getApproveTokenDelegateCheckedInstructionDataSerializer=void 0;const b$t=Z,FC=q,S$t=or;function pze(){return(0,FC.mapSerializer)((0,FC.struct)([["discriminator",(0,FC.u8)()],["amount",(0,FC.u64)()],["decimals",(0,FC.u8)()]],{description:"ApproveTokenDelegateCheckedInstructionData"}),n=>({...n,discriminator:13}))}m_.getApproveTokenDelegateCheckedInstructionDataSerializer=pze;function k$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},delegate:{index:2,isWritable:!1,value:e.delegate??null},owner:{index:3,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S$t.getAccountMetasAndSigners)(i,"programId",t),c=pze().serialize(s),u=0;return(0,b$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}m_.approveTokenDelegateChecked=k$t;var y_={};Object.defineProperty(y_,"__esModule",{value:!0});y_.burnToken=y_.getBurnTokenInstructionDataSerializer=void 0;const v$t=Z,l3=q,A$t=or;function bze(){return(0,l3.mapSerializer)((0,l3.struct)([["discriminator",(0,l3.u8)()],["amount",(0,l3.u64)()]],{description:"BurnTokenInstructionData"}),n=>({...n,discriminator:8}))}y_.getBurnTokenInstructionDataSerializer=bze;function w$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,A$t.getAccountMetasAndSigners)(i,"programId",t),c=bze().serialize(s),u=0;return(0,v$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}y_.burnToken=w$t;var p_={};Object.defineProperty(p_,"__esModule",{value:!0});p_.burnTokenChecked=p_.getBurnTokenCheckedInstructionDataSerializer=void 0;const I$t=Z,UC=q,P$t=or;function Sze(){return(0,UC.mapSerializer)((0,UC.struct)([["discriminator",(0,UC.u8)()],["amount",(0,UC.u64)()],["decimals",(0,UC.u8)()]],{description:"BurnTokenCheckedInstructionData"}),n=>({...n,discriminator:15}))}p_.getBurnTokenCheckedInstructionDataSerializer=Sze;function _$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!0,value:e.mint??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,P$t.getAccountMetasAndSigners)(i,"programId",t),c=Sze().serialize(s),u=0;return(0,I$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}p_.burnTokenChecked=_$t;var b_={};Object.defineProperty(b_,"__esModule",{value:!0});b_.closeLut=b_.getCloseLutInstructionDataSerializer=void 0;const E$t=Z,NU=q,x$t=or;function kze(){return(0,NU.mapSerializer)((0,NU.struct)([["discriminator",(0,NU.u32)()]],{description:"CloseLutInstructionData"}),n=>({...n,discriminator:4}))}b_.getCloseLutInstructionDataSerializer=kze;function T$t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},recipient:{index:2,isWritable:!0,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,x$t.getAccountMetasAndSigners)(s,"programId",t),a=kze().serialize({}),c=0;return(0,E$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}b_.closeLut=T$t;var S_={};Object.defineProperty(S_,"__esModule",{value:!0});S_.closeToken=S_.getCloseTokenInstructionDataSerializer=void 0;const R$t=Z,FU=q,C$t=or;function vze(){return(0,FU.mapSerializer)((0,FU.struct)([["discriminator",(0,FU.u8)()]],{description:"CloseTokenInstructionData"}),n=>({...n,discriminator:9}))}S_.getCloseTokenInstructionDataSerializer=vze;function M$t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},destination:{index:1,isWritable:!0,value:e.destination??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,C$t.getAccountMetasAndSigners)(s,"programId",t),a=vze().serialize({}),c=0;return(0,R$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}S_.closeToken=M$t;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});k_.createAccount=k_.getCreateAccountInstructionDataSerializer=void 0;const Vj=Z,nv=q,B$t=or;function Aze(){return(0,nv.mapSerializer)((0,nv.struct)([["discriminator",(0,nv.u32)()],["lamports",(0,Vj.mapAmountSerializer)((0,nv.u64)(),"SOL",9)],["space",(0,nv.u64)()],["programId",(0,nv.publicKey)()]],{description:"CreateAccountInstructionData"}),n=>({...n,discriminator:0}))}k_.getCreateAccountInstructionDataSerializer=Aze;function z$t(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null}},s={...e};r.payer.value||(r.payer.value=n.payer);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,B$t.getAccountMetasAndSigners)(i,"programId",t),c=Aze().serialize(s),u=Number(e.space)+Vj.ACCOUNT_HEADER_SIZE;return(0,Vj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}k_.createAccount=z$t;var v_={};Object.defineProperty(v_,"__esModule",{value:!0});v_.createAccountWithRent=v_.getCreateAccountWithRentInstructionDataSerializer=void 0;const rbe=Z,VC=q,$$t=or;function wze(){return(0,VC.mapSerializer)((0,VC.struct)([["discriminator",(0,VC.u8)()],["space",(0,VC.u64)()],["programId",(0,VC.publicKey)()]],{description:"CreateAccountWithRentInstructionData"}),n=>({...n,discriminator:0}))}v_.getCreateAccountWithRentInstructionDataSerializer=wze;function D$t(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={payer:{index:0,isWritable:!0,value:e.payer??null},newAccount:{index:1,isWritable:!0,value:e.newAccount??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$$t.getAccountMetasAndSigners)(i,"programId",t),c=wze().serialize(s),u=Number(e.space)+rbe.ACCOUNT_HEADER_SIZE;return(0,rbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}v_.createAccountWithRent=D$t;var XL={},oR={},QL={};Object.defineProperty(QL,"__esModule",{value:!0});QL.findAssociatedTokenPda=void 0;const UU=q;function O$t(n,e){const t=n.programs.getPublicKey("splAssociatedToken"),r=e.tokenProgramId??n.programs.getPublicKey("splToken");return n.eddsa.findPda(t,[(0,UU.publicKey)().serialize(e.owner),(0,UU.publicKey)().serialize(r),(0,UU.publicKey)().serialize(e.mint)])}QL.findAssociatedTokenPda=O$t;var e5={};Object.defineProperty(e5,"__esModule",{value:!0});e5.resolveExtendLutBytes=void 0;const K$t=(n,e,t,r)=>32*t.addresses.length;e5.resolveExtendLutBytes=K$t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(QL,n),t(e5,n)})(oR);Object.defineProperty(XL,"__esModule",{value:!0});XL.createAssociatedToken=void 0;const nbe=Z,L$t=oR,W$t=ZL,d3=or;function N$t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,L$t.findAssociatedTokenPda)(n,{owner:(0,d3.expectPublicKey)(r.owner.value),mint:(0,d3.expectPublicKey)(r.mint.value),tokenProgramId:(0,d3.expectPublicKey)(r.tokenProgram.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,d3.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=(0,W$t.getTokenSize)()+nbe.ACCOUNT_HEADER_SIZE;return(0,nbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}XL.createAssociatedToken=N$t;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});A_.createEmptyLut=A_.getCreateEmptyLutInstructionDataSerializer=void 0;const sbe=Z,qC=q,F$t=ZL,f3=or;function Ize(){return(0,qC.mapSerializer)((0,qC.struct)([["discriminator",(0,qC.u32)()],["recentSlot",(0,qC.u64)()],["bump",(0,qC.u8)()]],{description:"CreateEmptyLutInstructionData"}),n=>({...n,discriminator:0}))}A_.getCreateEmptyLutInstructionDataSerializer=Ize;function U$t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.address.value||(r.address.value=(0,F$t.findAddressLookupTablePda)(n,{authority:(0,f3.expectPublicKey)(r.authority.value),recentSlot:(0,f3.expectSome)(s.recentSlot)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),s.bump||(s.bump=(0,f3.expectPda)(r.address.value)[1]);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,f3.getAccountMetasAndSigners)(i,"programId",t),c=Ize().serialize(s),u=56+sbe.ACCOUNT_HEADER_SIZE;return(0,sbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}A_.createEmptyLut=U$t;var t5={};Object.defineProperty(t5,"__esModule",{value:!0});t5.createIdempotentAssociatedToken=void 0;const V$t=Z,q$t=or;function j$t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={payer:{index:0,isWritable:!0,value:e.payer??null},ata:{index:1,isWritable:!0,value:e.ata??null},owner:{index:2,isWritable:!1,value:e.owner??null},mint:{index:3,isWritable:!1,value:e.mint??null},systemProgram:{index:4,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null}};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,q$t.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,V$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}t5.createIdempotentAssociatedToken=j$t;var w_={};Object.defineProperty(w_,"__esModule",{value:!0});w_.createTokenIfMissing=w_.getCreateTokenIfMissingInstructionDataSerializer=void 0;const H$t=Z,VU=q,G$t=oR,jC=or;function Pze(){return(0,VU.mapSerializer)((0,VU.struct)([["discriminator",(0,VU.u8)()]],{description:"CreateTokenIfMissingInstructionData"}),n=>({...n,discriminator:0}))}w_.getCreateTokenIfMissingInstructionDataSerializer=Pze;function Y$t(n,e){const t=n.programs.getPublicKey("mplTokenExtras","TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p"),r={payer:{index:0,isWritable:!0,value:e.payer??null},token:{index:1,isWritable:!1,value:e.token??null},mint:{index:2,isWritable:!1,value:e.mint??null},owner:{index:3,isWritable:!1,value:e.owner??null},ata:{index:4,isWritable:!0,value:e.ata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:7,isWritable:!1,value:e.ataProgram??null}};r.payer.value||(r.payer.value=n.payer),r.owner.value||(r.owner.value=n.identity.publicKey),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ata.value||(r.ata.value=(0,G$t.findAssociatedTokenPda)(n,{owner:(0,jC.expectPublicKey)(r.owner.value),mint:(0,jC.expectPublicKey)(r.mint.value),tokenProgramId:(0,jC.expectPublicKey)(r.tokenProgram.value)})),r.token.value||(r.token.value=(0,jC.expectSome)(r.ata.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,jC.getAccountMetasAndSigners)(s,"programId",t),a=Pze().serialize({}),c=0;return(0,H$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}w_.createTokenIfMissing=Y$t;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});I_.deactivateLut=I_.getDeactivateLutInstructionDataSerializer=void 0;const Z$t=Z,qU=q,J$t=or;function _ze(){return(0,qU.mapSerializer)((0,qU.struct)([["discriminator",(0,qU.u32)()]],{description:"DeactivateLutInstructionData"}),n=>({...n,discriminator:3}))}I_.getDeactivateLutInstructionDataSerializer=_ze;function X$t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,J$t.getAccountMetasAndSigners)(s,"programId",t),a=_ze().serialize({}),c=0;return(0,Z$t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}I_.deactivateLut=X$t;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});P_.extendLut=P_.getExtendLutInstructionDataSerializer=void 0;const Q$t=Z,sv=q,e8t=oR,t8t=or;function Eze(){return(0,sv.mapSerializer)((0,sv.struct)([["discriminator",(0,sv.u32)()],["addresses",(0,sv.array)((0,sv.publicKey)(),{size:(0,sv.u64)()})]],{description:"ExtendLutInstructionData"}),n=>({...n,discriminator:2}))}P_.getExtendLutInstructionDataSerializer=Eze;function r8t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null},payer:{index:2,isWritable:!0,value:e.payer??null},systemProgram:{index:3,isWritable:!1,value:e.systemProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,t8t.getAccountMetasAndSigners)(i,"programId",t),c=Eze().serialize(s),u=(0,e8t.resolveExtendLutBytes)(n,r,s,t);return(0,Q$t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}P_.extendLut=r8t;var __={};Object.defineProperty(__,"__esModule",{value:!0});__.freezeLut=__.getFreezeLutInstructionDataSerializer=void 0;const n8t=Z,jU=q,s8t=or;function xze(){return(0,jU.mapSerializer)((0,jU.struct)([["discriminator",(0,jU.u32)()]],{description:"FreezeLutInstructionData"}),n=>({...n,discriminator:1}))}__.getFreezeLutInstructionDataSerializer=xze;function i8t(n,e){const t=n.programs.getPublicKey("splAddressLookupTable","AddressLookupTab1e1111111111111111111111111"),r={address:{index:0,isWritable:!0,value:e.address??null},authority:{index:1,isWritable:!1,value:e.authority??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,s8t.getAccountMetasAndSigners)(s,"programId",t),a=xze().serialize({}),c=0;return(0,n8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}__.freezeLut=i8t;var E_={};Object.defineProperty(E_,"__esModule",{value:!0});E_.freezeToken=E_.getFreezeTokenInstructionDataSerializer=void 0;const o8t=Z,HU=q,a8t=or;function Tze(){return(0,HU.mapSerializer)((0,HU.struct)([["discriminator",(0,HU.u8)()]],{description:"FreezeTokenInstructionData"}),n=>({...n,discriminator:10}))}E_.getFreezeTokenInstructionDataSerializer=Tze;function c8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,a8t.getAccountMetasAndSigners)(s,"programId",t),a=Tze().serialize({}),c=0;return(0,o8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}E_.freezeToken=c8t;var x_={};Object.defineProperty(x_,"__esModule",{value:!0});x_.getTokenDataSize=x_.getGetTokenDataSizeInstructionDataSerializer=void 0;const u8t=Z,GU=q,l8t=or;function Rze(){return(0,GU.mapSerializer)((0,GU.struct)([["discriminator",(0,GU.u8)()]],{description:"GetTokenDataSizeInstructionData"}),n=>({...n,discriminator:21}))}x_.getGetTokenDataSizeInstructionDataSerializer=Rze;function d8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,l8t.getAccountMetasAndSigners)(s,"programId",t),a=Rze().serialize({}),c=0;return(0,u8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}x_.getTokenDataSize=d8t;var T_={};Object.defineProperty(T_,"__esModule",{value:!0});T_.initializeImmutableOwner=T_.getInitializeImmutableOwnerInstructionDataSerializer=void 0;const f8t=Z,YU=q,h8t=or;function Cze(){return(0,YU.mapSerializer)((0,YU.struct)([["discriminator",(0,YU.u8)()]],{description:"InitializeImmutableOwnerInstructionData"}),n=>({...n,discriminator:22}))}T_.getInitializeImmutableOwnerInstructionDataSerializer=Cze;function g8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,h8t.getAccountMetasAndSigners)(s,"programId",t),a=Cze().serialize({}),c=0;return(0,f8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}T_.initializeImmutableOwner=g8t;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});R_.initializeMint=R_.getInitializeMintInstructionDataSerializer=void 0;const ibe=Z,x0=q,m8t=or;function Mze(){return(0,x0.mapSerializer)((0,x0.struct)([["discriminator",(0,x0.u8)()],["decimals",(0,x0.u8)()],["mintAuthority",(0,x0.publicKey)()],["freezeAuthority",(0,x0.option)((0,x0.publicKey)())]],{description:"InitializeMintInstructionData"}),n=>({...n,discriminator:0}))}R_.getInitializeMintInstructionDataSerializer=Mze;function y8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,ibe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m8t.getAccountMetasAndSigners)(i,"programId",t),c=Mze().serialize(s),u=0;return(0,ibe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}R_.initializeMint=y8t;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});C_.initializeMint2=C_.getInitializeMint2InstructionDataSerializer=void 0;const p8t=Z,T0=q,b8t=or;function Bze(){return(0,T0.mapSerializer)((0,T0.struct)([["discriminator",(0,T0.u8)()],["decimals",(0,T0.u8)()],["mintAuthority",(0,T0.publicKey)()],["freezeAuthority",(0,T0.option)((0,T0.publicKey)())]],{description:"InitializeMint2InstructionData"}),n=>({...n,discriminator:20}))}C_.getInitializeMint2InstructionDataSerializer=Bze;function S8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b8t.getAccountMetasAndSigners)(i,"programId",t),c=Bze().serialize(s),u=0;return(0,p8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}C_.initializeMint2=S8t;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});M_.initializeMultisig=M_.getInitializeMultisigInstructionDataSerializer=void 0;const obe=Z,h3=q,k8t=or;function zze(){return(0,h3.mapSerializer)((0,h3.struct)([["discriminator",(0,h3.u8)()],["m",(0,h3.u8)()]],{description:"InitializeMultisigInstructionData"}),n=>({...n,discriminator:2}))}M_.getInitializeMultisigInstructionDataSerializer=zze;function v8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},rent:{index:1,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,obe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,k8t.getAccountMetasAndSigners)(i,"programId",t),c=zze().serialize(s),u=0;return(0,obe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}M_.initializeMultisig=v8t;var B_={};Object.defineProperty(B_,"__esModule",{value:!0});B_.initializeMultisig2=B_.getInitializeMultisig2InstructionDataSerializer=void 0;const A8t=Z,g3=q,w8t=or;function $ze(){return(0,g3.mapSerializer)((0,g3.struct)([["discriminator",(0,g3.u8)()],["m",(0,g3.u8)()]],{description:"InitializeMultisig2InstructionData"}),n=>({...n,discriminator:19}))}B_.getInitializeMultisig2InstructionDataSerializer=$ze;function I8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={multisig:{index:0,isWritable:!0,value:e.multisig??null},signer:{index:1,isWritable:!1,value:e.signer??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,w8t.getAccountMetasAndSigners)(i,"programId",t),c=$ze().serialize(s),u=0;return(0,A8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}B_.initializeMultisig2=I8t;var z_={};Object.defineProperty(z_,"__esModule",{value:!0});z_.initializeToken=z_.getInitializeTokenInstructionDataSerializer=void 0;const abe=Z,ZU=q,P8t=or;function Dze(){return(0,ZU.mapSerializer)((0,ZU.struct)([["discriminator",(0,ZU.u8)()]],{description:"InitializeTokenInstructionData"}),n=>({...n,discriminator:1}))}z_.getInitializeTokenInstructionDataSerializer=Dze;function _8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null},rent:{index:3,isWritable:!1,value:e.rent??null}};r.rent.value||(r.rent.value=(0,abe.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,P8t.getAccountMetasAndSigners)(s,"programId",t),a=Dze().serialize({}),c=0;return(0,abe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}z_.initializeToken=_8t;var $_={};Object.defineProperty($_,"__esModule",{value:!0});$_.initializeToken2=$_.getInitializeToken2InstructionDataSerializer=void 0;const cbe=Z,m3=q,E8t=or;function Oze(){return(0,m3.mapSerializer)((0,m3.struct)([["discriminator",(0,m3.u8)()],["owner",(0,m3.publicKey)()]],{description:"InitializeToken2InstructionData"}),n=>({...n,discriminator:16}))}$_.getInitializeToken2InstructionDataSerializer=Oze;function x8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},rent:{index:2,isWritable:!1,value:e.rent??null}},s={...e};r.rent.value||(r.rent.value=(0,cbe.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,E8t.getAccountMetasAndSigners)(i,"programId",t),c=Oze().serialize(s),u=0;return(0,cbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}$_.initializeToken2=x8t;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});D_.initializeToken3=D_.getInitializeToken3InstructionDataSerializer=void 0;const T8t=Z,y3=q,R8t=or;function Kze(){return(0,y3.mapSerializer)((0,y3.struct)([["discriminator",(0,y3.u8)()],["owner",(0,y3.publicKey)()]],{description:"InitializeToken3InstructionData"}),n=>({...n,discriminator:18}))}D_.getInitializeToken3InstructionDataSerializer=Kze;function C8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,R8t.getAccountMetasAndSigners)(i,"programId",t),c=Kze().serialize(s),u=0;return(0,T8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}D_.initializeToken3=C8t;var O_={};Object.defineProperty(O_,"__esModule",{value:!0});O_.mintTokensTo=O_.getMintTokensToInstructionDataSerializer=void 0;const M8t=Z,p3=q,B8t=or;function Lze(){return(0,p3.mapSerializer)((0,p3.struct)([["discriminator",(0,p3.u8)()],["amount",(0,p3.u64)()]],{description:"MintTokensToInstructionData"}),n=>({...n,discriminator:7}))}O_.getMintTokensToInstructionDataSerializer=Lze;function z8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e};r.mintAuthority.value||(r.mintAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,B8t.getAccountMetasAndSigners)(i,"programId",t),c=Lze().serialize(s),u=0;return(0,M8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}O_.mintTokensTo=z8t;var K_={};Object.defineProperty(K_,"__esModule",{value:!0});K_.mintTokensToChecked=K_.getMintTokensToCheckedInstructionDataSerializer=void 0;const $8t=Z,HC=q,D8t=or;function Wze(){return(0,HC.mapSerializer)((0,HC.struct)([["discriminator",(0,HC.u8)()],["amount",(0,HC.u64)()],["decimals",(0,HC.u8)()]],{description:"MintTokensToCheckedInstructionData"}),n=>({...n,discriminator:14}))}K_.getMintTokensToCheckedInstructionDataSerializer=Wze;function O8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!0,value:e.mint??null},token:{index:1,isWritable:!0,value:e.token??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,D8t.getAccountMetasAndSigners)(i,"programId",t),c=Wze().serialize(s),u=0;return(0,$8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}K_.mintTokensToChecked=O8t;var r5={};Object.defineProperty(r5,"__esModule",{value:!0});r5.recoverNestedAssociatedToken=void 0;const K8t=Z,L8t=or;function W8t(n,e){const t=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r={nestedAssociatedAccountAddress:{index:0,isWritable:!0,value:e.nestedAssociatedAccountAddress??null},nestedTokenMintAddress:{index:1,isWritable:!1,value:e.nestedTokenMintAddress??null},destinationAssociatedAccountAddress:{index:2,isWritable:!0,value:e.destinationAssociatedAccountAddress??null},ownerAssociatedAccountAddress:{index:3,isWritable:!1,value:e.ownerAssociatedAccountAddress??null},ownerTokenMintAddress:{index:4,isWritable:!1,value:e.ownerTokenMintAddress??null},walletAddress:{index:5,isWritable:!0,value:e.walletAddress??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null}};r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,L8t.getAccountMetasAndSigners)(s,"programId",t),a=new Uint8Array,c=0;return(0,K8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}r5.recoverNestedAssociatedToken=W8t;var L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.requestHeapFrame=L_.getRequestHeapFrameInstructionDataSerializer=void 0;const N8t=Z,b3=q,F8t=or;function Nze(){return(0,b3.mapSerializer)((0,b3.struct)([["discriminator",(0,b3.u8)()],["bytes",(0,b3.u32)()]],{description:"RequestHeapFrameInstructionData"}),n=>({...n,discriminator:1}))}L_.getRequestHeapFrameInstructionDataSerializer=Nze;function U8t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,F8t.getAccountMetasAndSigners)(i,"programId",t),c=Nze().serialize(s),u=0;return(0,N8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}L_.requestHeapFrame=U8t;var W_={};Object.defineProperty(W_,"__esModule",{value:!0});W_.requestUnits=W_.getRequestUnitsInstructionDataSerializer=void 0;const V8t=Z,GC=q,q8t=or;function Fze(){return(0,GC.mapSerializer)((0,GC.struct)([["discriminator",(0,GC.u8)()],["units",(0,GC.u32)()],["additionalFee",(0,GC.u32)()]],{description:"RequestUnitsInstructionData"}),n=>({...n,discriminator:0}))}W_.getRequestUnitsInstructionDataSerializer=Fze;function j8t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,q8t.getAccountMetasAndSigners)(i,"programId",t),c=Fze().serialize(s),u=0;return(0,V8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}W_.requestUnits=j8t;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});N_.revokeTokenDelegate=N_.getRevokeTokenDelegateInstructionDataSerializer=void 0;const H8t=Z,JU=q,G8t=or;function Uze(){return(0,JU.mapSerializer)((0,JU.struct)([["discriminator",(0,JU.u8)()]],{description:"RevokeTokenDelegateInstructionData"}),n=>({...n,discriminator:5}))}N_.getRevokeTokenDelegateInstructionDataSerializer=Uze;function Y8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,G8t.getAccountMetasAndSigners)(s,"programId",t),a=Uze().serialize({}),c=0;return(0,H8t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}N_.revokeTokenDelegate=Y8t;var F_={};Object.defineProperty(F_,"__esModule",{value:!0});F_.setAuthority=F_.getSetAuthorityInstructionDataSerializer=void 0;const Z8t=Z,YC=q,J8t=or,X8t=JL;function Vze(){return(0,YC.mapSerializer)((0,YC.struct)([["discriminator",(0,YC.u8)()],["authorityType",(0,X8t.getAuthorityTypeSerializer)()],["newAuthority",(0,YC.option)((0,YC.publicKey)())]],{description:"SetAuthorityInstructionData"}),n=>({...n,discriminator:6}))}F_.getSetAuthorityInstructionDataSerializer=Vze;function Q8t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={owned:{index:0,isWritable:!0,value:e.owned??null},owner:{index:1,isWritable:!1,value:e.owner??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,J8t.getAccountMetasAndSigners)(i,"programId",t),c=Vze().serialize(s),u=0;return(0,Z8t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}F_.setAuthority=Q8t;var U_={};Object.defineProperty(U_,"__esModule",{value:!0});U_.setComputeUnitLimit=U_.getSetComputeUnitLimitInstructionDataSerializer=void 0;const e3t=Z,S3=q,t3t=or;function qze(){return(0,S3.mapSerializer)((0,S3.struct)([["discriminator",(0,S3.u8)()],["units",(0,S3.u32)()]],{description:"SetComputeUnitLimitInstructionData"}),n=>({...n,discriminator:2}))}U_.getSetComputeUnitLimitInstructionDataSerializer=qze;function r3t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,t3t.getAccountMetasAndSigners)(i,"programId",t),c=qze().serialize(s),u=0;return(0,e3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}U_.setComputeUnitLimit=r3t;var V_={};Object.defineProperty(V_,"__esModule",{value:!0});V_.setComputeUnitPrice=V_.getSetComputeUnitPriceInstructionDataSerializer=void 0;const n3t=Z,k3=q,s3t=or;function jze(){return(0,k3.mapSerializer)((0,k3.struct)([["discriminator",(0,k3.u8)()],["microLamports",(0,k3.u64)()]],{description:"SetComputeUnitPriceInstructionData"}),n=>({...n,discriminator:3}))}V_.getSetComputeUnitPriceInstructionDataSerializer=jze;function i3t(n,e){const t=n.programs.getPublicKey("splComputeBudget","ComputeBudget111111111111111111111111111111"),r={},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,s3t.getAccountMetasAndSigners)(i,"programId",t),c=jze().serialize(s),u=0;return(0,n3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}V_.setComputeUnitPrice=i3t;var q_={};Object.defineProperty(q_,"__esModule",{value:!0});q_.syncNative=q_.getSyncNativeInstructionDataSerializer=void 0;const o3t=Z,XU=q,a3t=or;function Hze(){return(0,XU.mapSerializer)((0,XU.struct)([["discriminator",(0,XU.u8)()]],{description:"SyncNativeInstructionData"}),n=>({...n,discriminator:17}))}q_.getSyncNativeInstructionDataSerializer=Hze;function c3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,a3t.getAccountMetasAndSigners)(s,"programId",t),a=Hze().serialize({}),c=0;return(0,o3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}q_.syncNative=c3t;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});j_.thawToken=j_.getThawTokenInstructionDataSerializer=void 0;const u3t=Z,QU=q,l3t=or;function Gze(){return(0,QU.mapSerializer)((0,QU.struct)([["discriminator",(0,QU.u8)()]],{description:"ThawTokenInstructionData"}),n=>({...n,discriminator:11}))}j_.getThawTokenInstructionDataSerializer=Gze;function d3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={account:{index:0,isWritable:!0,value:e.account??null},mint:{index:1,isWritable:!1,value:e.mint??null},owner:{index:2,isWritable:!1,value:e.owner??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,l3t.getAccountMetasAndSigners)(s,"programId",t),a=Gze().serialize({}),c=0;return(0,u3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}j_.thawToken=d3t;var H_={};Object.defineProperty(H_,"__esModule",{value:!0});H_.transferAllSol=H_.getTransferAllSolInstructionDataSerializer=void 0;const f3t=Z,e7=q,h3t=or;function Yze(){return(0,e7.mapSerializer)((0,e7.struct)([["discriminator",(0,e7.u8)()]],{description:"TransferAllSolInstructionData"}),n=>({...n,discriminator:1}))}H_.getTransferAllSolInstructionDataSerializer=Yze;function g3t(n,e){const t=n.programs.getPublicKey("mplSystemExtras","SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},systemProgram:{index:2,isWritable:!1,value:e.systemProgram??null}};r.source.value||(r.source.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,h3t.getAccountMetasAndSigners)(s,"programId",t),a=Yze().serialize({}),c=0;return(0,f3t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}H_.transferAllSol=g3t;var G_={};Object.defineProperty(G_,"__esModule",{value:!0});G_.transferSol=G_.getTransferSolInstructionDataSerializer=void 0;const Zze=Z,v3=q,m3t=or;function Jze(){return(0,v3.mapSerializer)((0,v3.struct)([["discriminator",(0,v3.u32)()],["amount",(0,Zze.mapAmountSerializer)((0,v3.u64)(),"SOL",9)]],{description:"TransferSolInstructionData"}),n=>({...n,discriminator:2}))}G_.getTransferSolInstructionDataSerializer=Jze;function y3t(n,e){const t=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null}},s={...e};r.source.value||(r.source.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m3t.getAccountMetasAndSigners)(i,"programId",t),c=Jze().serialize(s),u=0;return(0,Zze.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}G_.transferSol=y3t;var Y_={};Object.defineProperty(Y_,"__esModule",{value:!0});Y_.transferTokens=Y_.getTransferTokensInstructionDataSerializer=void 0;const p3t=Z,A3=q,b3t=or;function Xze(){return(0,A3.mapSerializer)((0,A3.struct)([["discriminator",(0,A3.u8)()],["amount",(0,A3.u64)()]],{description:"TransferTokensInstructionData"}),n=>({...n,discriminator:3}))}Y_.getTransferTokensInstructionDataSerializer=Xze;function S3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},destination:{index:1,isWritable:!0,value:e.destination??null},authority:{index:2,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b3t.getAccountMetasAndSigners)(i,"programId",t),c=Xze().serialize(s),u=0;return(0,p3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Y_.transferTokens=S3t;var Z_={};Object.defineProperty(Z_,"__esModule",{value:!0});Z_.transferTokensChecked=Z_.getTransferTokensCheckedInstructionDataSerializer=void 0;const k3t=Z,ZC=q,v3t=or;function Qze(){return(0,ZC.mapSerializer)((0,ZC.struct)([["discriminator",(0,ZC.u8)()],["amount",(0,ZC.u64)()],["decimals",(0,ZC.u8)()]],{description:"TransferTokensCheckedInstructionData"}),n=>({...n,discriminator:12}))}Z_.getTransferTokensCheckedInstructionDataSerializer=Qze;function A3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={source:{index:0,isWritable:!0,value:e.source??null},mint:{index:1,isWritable:!1,value:e.mint??null},destination:{index:2,isWritable:!0,value:e.destination??null},authority:{index:3,isWritable:!1,value:e.authority??null}},s={...e};r.authority.value||(r.authority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,v3t.getAccountMetasAndSigners)(i,"programId",t),c=Qze().serialize(s),u=0;return(0,k3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Z_.transferTokensChecked=A3t;var J_={};Object.defineProperty(J_,"__esModule",{value:!0});J_.uiAmountToAmount=J_.getUiAmountToAmountInstructionDataSerializer=void 0;const w3t=Z,w3=q,I3t=or;function e$e(){return(0,w3.mapSerializer)((0,w3.struct)([["discriminator",(0,w3.u8)()],["uiAmount",(0,w3.u64)()]],{description:"UiAmountToAmountInstructionData"}),n=>({...n,discriminator:24}))}J_.getUiAmountToAmountInstructionDataSerializer=e$e;function P3t(n,e){const t=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r={mint:{index:0,isWritable:!1,value:e.mint??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,I3t.getAccountMetasAndSigners)(i,"programId",t),c=e$e().serialize(s),u=0;return(0,w3t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}J_.uiAmountToAmount=P3t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(f_,n),t(h_,n),t(g_,n),t(m_,n),t(y_,n),t(p_,n),t(b_,n),t(S_,n),t(k_,n),t(v_,n),t(XL,n),t(A_,n),t(t5,n),t(w_,n),t(I_,n),t(P_,n),t(__,n),t(E_,n),t(x_,n),t(T_,n),t(R_,n),t(C_,n),t(M_,n),t(B_,n),t(z_,n),t($_,n),t(D_,n),t(O_,n),t(K_,n),t(r5,n),t(L_,n),t(W_,n),t(N_,n),t(F_,n),t(U_,n),t(V_,n),t(q_,n),t(j_,n),t(H_,n),t(G_,n),t(Y_,n),t(Z_,n),t(J_,n)})(hze);var t$e={},r$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplSystemExtrasProgramId=n.getMplSystemExtrasProgram=n.createMplSystemExtrasProgram=n.MPL_SYSTEM_EXTRAS_PROGRAM_ID=void 0;const e=Ah;n.MPL_SYSTEM_EXTRAS_PROGRAM_ID="SysExL2WDyJi9aRZrXorrjHJut3JwHQ7R9bTyctbNNG";function t(){return{name:"mplSystemExtras",publicKey:n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplSystemExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplSystemExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplSystemExtrasProgram=t;function r(i,o){return i.programs.get("mplSystemExtras",o)}n.getMplSystemExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplSystemExtras",n.MPL_SYSTEM_EXTRAS_PROGRAM_ID,o)}n.getMplSystemExtrasProgramId=s})(r$e);var n$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenExtrasProgramId=n.getMplTokenExtrasProgram=n.createMplTokenExtrasProgram=n.MPL_TOKEN_EXTRAS_PROGRAM_ID=void 0;const e=Ah;n.MPL_TOKEN_EXTRAS_PROGRAM_ID="TokExjvjJmhKaRBShsBAsbSvEWMA1AgUNK7ps4SAc2p";function t(){return{name:"mplTokenExtras",publicKey:n.MPL_TOKEN_EXTRAS_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenExtrasErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenExtrasErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenExtrasProgram=t;function r(i,o){return i.programs.get("mplTokenExtras",o)}n.getMplTokenExtrasProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenExtras",n.MPL_TOKEN_EXTRAS_PROGRAM_ID,o)}n.getMplTokenExtrasProgramId=s})(n$e);var s$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAddressLookupTableProgramId=n.getSplAddressLookupTableProgram=n.createSplAddressLookupTableProgram=n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID=void 0;const e=Ah;n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID="AddressLookupTab1e1111111111111111111111111";function t(){return{name:"splAddressLookupTable",publicKey:n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAddressLookupTableErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAddressLookupTableErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAddressLookupTableProgram=t;function r(i,o){return i.programs.get("splAddressLookupTable",o)}n.getSplAddressLookupTableProgram=r;function s(i,o){return i.programs.getPublicKey("splAddressLookupTable",n.SPL_ADDRESS_LOOKUP_TABLE_PROGRAM_ID,o)}n.getSplAddressLookupTableProgramId=s})(s$e);var i$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplAssociatedTokenProgramId=n.getSplAssociatedTokenProgram=n.createSplAssociatedTokenProgram=n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID=void 0;const e=Ah;n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL";function t(){return{name:"splAssociatedToken",publicKey:n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplAssociatedTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplAssociatedTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplAssociatedTokenProgram=t;function r(i,o){return i.programs.get("splAssociatedToken",o)}n.getSplAssociatedTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splAssociatedToken",n.SPL_ASSOCIATED_TOKEN_PROGRAM_ID,o)}n.getSplAssociatedTokenProgramId=s})(i$e);var o$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplComputeBudgetProgramId=n.getSplComputeBudgetProgram=n.createSplComputeBudgetProgram=n.SPL_COMPUTE_BUDGET_PROGRAM_ID=void 0;const e=Ah;n.SPL_COMPUTE_BUDGET_PROGRAM_ID="ComputeBudget111111111111111111111111111111";function t(){return{name:"splComputeBudget",publicKey:n.SPL_COMPUTE_BUDGET_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplComputeBudgetErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplComputeBudgetErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplComputeBudgetProgram=t;function r(i,o){return i.programs.get("splComputeBudget",o)}n.getSplComputeBudgetProgram=r;function s(i,o){return i.programs.getPublicKey("splComputeBudget",n.SPL_COMPUTE_BUDGET_PROGRAM_ID,o)}n.getSplComputeBudgetProgramId=s})(o$e);var a$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplMemoProgramId=n.getSplMemoProgram=n.createSplMemoProgram=n.SPL_MEMO_PROGRAM_ID=void 0;const e=Ah;n.SPL_MEMO_PROGRAM_ID="Memo1UhkJRfHyvLMcVucJwxXeuD728EqVDDwQDxFMNo";function t(){return{name:"splMemo",publicKey:n.SPL_MEMO_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplMemoErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplMemoErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplMemoProgram=t;function r(i,o){return i.programs.get("splMemo",o)}n.getSplMemoProgram=r;function s(i,o){return i.programs.getPublicKey("splMemo",n.SPL_MEMO_PROGRAM_ID,o)}n.getSplMemoProgramId=s})(a$e);var c$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplSystemProgramId=n.getSplSystemProgram=n.createSplSystemProgram=n.SPL_SYSTEM_PROGRAM_ID=void 0;const e=Ah;n.SPL_SYSTEM_PROGRAM_ID="11111111111111111111111111111111";function t(){return{name:"splSystem",publicKey:n.SPL_SYSTEM_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplSystemErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplSystemErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplSystemProgram=t;function r(i,o){return i.programs.get("splSystem",o)}n.getSplSystemProgram=r;function s(i,o){return i.programs.getPublicKey("splSystem",n.SPL_SYSTEM_PROGRAM_ID,o)}n.getSplSystemProgramId=s})(c$e);var u$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getSplTokenProgramId=n.getSplTokenProgram=n.createSplTokenProgram=n.SPL_TOKEN_PROGRAM_ID=void 0;const e=Ah;n.SPL_TOKEN_PROGRAM_ID="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA";function t(){return{name:"splToken",publicKey:n.SPL_TOKEN_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getSplTokenErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getSplTokenErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createSplTokenProgram=t;function r(i,o){return i.programs.get("splToken",o)}n.getSplTokenProgram=r;function s(i,o){return i.programs.getPublicKey("splToken",n.SPL_TOKEN_PROGRAM_ID,o)}n.getSplTokenProgramId=s})(u$e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(r$e,n),t(n$e,n),t(s$e,n),t(i$e,n),t(o$e,n),t(a$e,n),t(c$e,n),t(u$e,n)})(t$e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(ZL,n),t(Ah,n),t(hze,n),t(t$e,n),t(or,n),t(JL,n)})(ym);var n5={};Object.defineProperty(n5,"__esModule",{value:!0});n5.createLut=void 0;const _3t=Z,t7=ym;function E3t(n,e){const{addresses:t,...r}=e,s=e.authority??n.identity,i=e.address??(0,t7.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:e.recentSlot});return[(0,_3t.transactionBuilder)().add((0,t7.createEmptyLut)(n,r)).add((0,t7.extendLut)(n,{address:i,authority:s,addresses:t,payer:e.payer})),{publicKey:i[0],addresses:t}]}n5.createLut=E3t;var s5={};Object.defineProperty(s5,"__esModule",{value:!0});s5.createLutForTransactionBuilder=void 0;const r7=Z,qj=ym,x3t=(n,e,t,r)=>{const s=r??n.identity,i=(0,r7.uniquePublicKeys)([e.getFeePayer(n).publicKey,...e.items.flatMap(({instruction:u})=>u.keys.filter(l=>l.isSigner).map(l=>l.pubkey))]),o=(0,r7.uniquePublicKeys)(e.items.flatMap(({instruction:u})=>[u.programId,...u.keys.map(l=>l.pubkey)])).filter(u=>!i.includes(u)),a=[],c=[];return(0,r7.chunk)(o,256).forEach((u,l)=>{const d=t-l,[y]=(0,qj.findAddressLookupTablePda)(n,{authority:s.publicKey,recentSlot:d});a.push({publicKey:y,addresses:u}),c.push(...T3t(n,(0,qj.createEmptyLut)(n,{recentSlot:d}),y,s,u))}),[c,a]};s5.createLutForTransactionBuilder=x3t;function T3t(n,e,t,r,s){const i=[];let o=[],a=e;return s.forEach(c=>{const u=e.add((0,qj.extendLut)(n,{address:t,addresses:[...o,c],authority:r}));u.fitsInOneTransaction(n)?(o.push(c),a=u):(o=[c],i.push(a),e=e.empty(),a=e)}),o.length>0&&i.push(a),i}var Gz={};Object.defineProperty(Gz,"__esModule",{value:!0});Gz.createMint=void 0;const ube=Z,n7=ym;function R3t(n,e){return(0,ube.transactionBuilder)().add((0,n7.createAccountWithRent)(n,{newAccount:e.mint,space:(0,n7.getMintSize)(),programId:n.programs.get("splToken").publicKey})).add((0,n7.initializeMint2)(n,{mint:e.mint.publicKey,decimals:e.decimals??0,mintAuthority:e.mintAuthority??n.identity.publicKey,freezeAuthority:e.freezeAuthority===void 0?(0,ube.some)(n.identity.publicKey):e.freezeAuthority}))}Gz.createMint=R3t;var i5={};Object.defineProperty(i5,"__esModule",{value:!0});i5.createMintWithAssociatedToken=void 0;const s7=Z,C3t=Gz,lbe=ym,M3t=oR;function B3t(n,e){const t={mint:e.mint.publicKey,owner:e.owner??n.identity.publicKey},r=e.amount??0;let s=(0,s7.transactionBuilder)().add((0,C3t.createMint)(n,{...e,mintAuthority:e.mintAuthority?(0,s7.publicKey)(e.mintAuthority,!1):void 0})).add((0,lbe.createAssociatedToken)(n,t));return r>0&&(s=s.add((0,lbe.mintTokensTo)(n,{amount:r,mint:e.mint.publicKey,token:(0,M3t.findAssociatedTokenPda)(n,t),mintAuthority:e.mintAuthority&&(0,s7.isSigner)(e.mintAuthority)?e.mintAuthority:void 0}))),s}i5.createMintWithAssociatedToken=B3t;var o5={};Object.defineProperty(o5,"__esModule",{value:!0});o5.createToken=void 0;const z3t=Z,i7=ym;function $3t(n,e){return(0,z3t.transactionBuilder)().add((0,i7.createAccountWithRent)(n,{newAccount:e.token,space:(0,i7.getTokenSize)(),programId:n.programs.get("splToken").publicKey})).add((0,i7.initializeToken3)(n,{account:e.token.publicKey,mint:e.mint,owner:e.owner??n.identity.publicKey}))}o5.createToken=$3t;var l$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fetchTokensByOwnerAndMint=n.fetchTokensByOwner=n.fetchAllMintByOwner=n.fetchAllMintPublicKeyByOwner=n.fetchAllTokenByOwnerAndMint=n.fetchAllTokenByOwner=void 0;const e=Z,t=q,r=ym,s=async(u,l,d,y={})=>{const h=u.programs.get("splToken").publicKey,m=y.mint?{mint:y.mint}:{programId:h};return(await u.rpc.call("getTokenAccountsByOwner",[l,m],{...y,extra:{encoding:"base64"}})).value.filter(({account:g})=>{const b=t.base64.serialize(g.data[0]),S=(0,t.u64)().deserialize(b.slice(64,72))[0];return d(S)})},i=async(u,l,d={})=>{const{mint:y,tokenStrategy:h="getProgramAccounts",tokenAmountFilter:m=b=>b>0,...f}=d;if(h==="getTokenAccountsByOwner")return(await s(u,l,m,{mint:y,...f})).map(({pubkey:S,account:p})=>(0,r.deserializeToken)({...p,data:t.base64.serialize(p.data[0]),publicKey:(0,e.publicKey)(S),owner:(0,e.publicKey)(p.owner),lamports:(0,e.lamports)(p.lamports)}));let g=(0,r.getTokenGpaBuilder)(u).whereField("owner",l);return y&&(g=g.whereField("mint",y)),(await g.get()).filter(b=>{const S=(0,t.u64)().deserialize(b.data.slice(64,72))[0];return m(S)}).map(b=>(0,r.deserializeToken)(b))};n.fetchAllTokenByOwner=i;const o=(u,l,d,y={})=>(0,n.fetchAllTokenByOwner)(u,l,{...y,mint:d});n.fetchAllTokenByOwnerAndMint=o;const a=async(u,l,d={})=>{const{tokenStrategy:y="getProgramAccounts",tokenAmountFilter:h=f=>f>0,...m}=d;return y==="getTokenAccountsByOwner"?(await s(u,l,h,m)).map(({account:g})=>(0,e.publicKey)(t.base64.serialize(g.data[0]).slice(0,32))):(await(0,r.getTokenGpaBuilder)(u).slice(0,72).whereField("owner",l).get()).filter(f=>{const g=(0,t.u64)().deserialize(f.data.slice(64,72))[0];return h(g)}).map(f=>(0,e.publicKey)(f.data.slice(0,32)))};n.fetchAllMintPublicKeyByOwner=a;const c=async(u,l,d={})=>{const{tokenStrategy:y,tokenAmountFilter:h,...m}=d,f=await(0,n.fetchAllMintPublicKeyByOwner)(u,l,d);return(0,r.fetchAllMint)(u,f,m)};n.fetchAllMintByOwner=c,n.fetchTokensByOwner=n.fetchAllTokenByOwner,n.fetchTokensByOwnerAndMint=n.fetchAllTokenByOwnerAndMint})(l$e);var a5={};Object.defineProperty(a5,"__esModule",{value:!0});a5.findLargestTokensByMint=void 0;const dbe=Z,D3t=async(n,e,t={})=>(await n.rpc.call("getTokenLargestAccounts",[e],t)).value.map(({address:s,amount:i,decimals:o})=>({publicKey:(0,dbe.publicKey)(s),amount:(0,dbe.createAmount)(i,"splToken",o)}));a5.findLargestTokensByMint=D3t;var d$e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.mplEssentials=n.mplToolbox=void 0;const e=Z,t=ym,r=()=>({install(s){s.programs.add((0,t.createSplSystemProgram)(),!1),s.programs.add((0,t.createSplMemoProgram)(),!1),s.programs.add((0,t.createSplTokenProgram)(),!1),s.programs.add((0,t.createSplAssociatedTokenProgram)(),!1),s.programs.add((0,t.createSplAddressLookupTableProgram)(),!1),s.programs.add((0,t.createMplSystemExtrasProgram)(),!1),s.programs.add((0,t.createMplTokenExtrasProgram)(),!1),s.programs.add({...(0,t.createSplTokenProgram)(),name:"splToken2022",publicKey:(0,e.publicKey)("TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb")},!1)}});n.mplToolbox=r,n.mplEssentials=n.mplToolbox})(d$e);var c5={};Object.defineProperty(c5,"__esModule",{value:!0});c5.getSysvar=void 0;const Gd=Z,O3t=n=>{switch(n){case"clock":return(0,Gd.publicKey)("SysvarC1ock11111111111111111111111111111111");case"epochSchedule":return(0,Gd.publicKey)("SysvarEpochSchedu1e111111111111111111111111");case"instructions":return(0,Gd.publicKey)("Sysvar1nstructions1111111111111111111111111");case"recentBlockhashes":return(0,Gd.publicKey)("SysvarRecentB1ockHashes11111111111111111111");case"rent":return(0,Gd.publicKey)("SysvarRent111111111111111111111111111111111");case"rewards":return(0,Gd.publicKey)("SysvarRewards111111111111111111111111111111");case"slotHashes":return(0,Gd.publicKey)("SysvarS1otHashes111111111111111111111111111");case"slotHistory":return(0,Gd.publicKey)("SysvarS1otHistory11111111111111111111111111");case"stakeHistory":return(0,Gd.publicKey)("SysvarStakeHistory1111111111111111111111111");default:throw new Gd.SdkError(`Unknown sysvar: ${n}`)}};c5.getSysvar=O3t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(ym,n),t(oR,n),t(n5,n),t(s5,n),t(Gz,n),t(i5,n),t(o5,n),t(l$e,n),t(a5,n),t(d$e,n),t(c5,n)})(Gs);var u5={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isProgrammable=n.isNonFungible=n.isFungible=n.deserializeDigitalAsset=n.fetchAllMetadataByOwner=n.fetchAllDigitalAssetByOwner=n.fetchAllDigitalAssetByUpdateAuthority=n.fetchAllDigitalAssetByVerifiedCollection=n.fetchAllDigitalAssetByCreator=n.fetchAllDigitalAsset=n.fetchDigitalAssetByMetadata=n.fetchDigitalAsset=void 0;const e=Gs,t=Z,r=jb,s=qb,i=326,o=34,a=[366,400,434,468,502],c=1,u=2;async function l(A,_,E){const[M]=(0,s.findMetadataPda)(A,{mint:_}),[P]=(0,s.findMasterEditionPda)(A,{mint:_}),[R,$,z]=await A.rpc.getAccounts([_,M,P],E);return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),S(R,$,z.exists?z:void 0)}n.fetchDigitalAsset=l;async function d(A,_,E){const M=await(0,s.fetchMetadata)(A,_,E);return l(A,M.mint,E)}n.fetchDigitalAssetByMetadata=d;async function y(A,_,E){const M=_.flatMap(R=>[R,(0,s.findMetadataPda)(A,{mint:R})[0],(0,s.findMasterEditionPda)(A,{mint:R})[0]]),P=await A.rpc.getAccounts(M,E);return(0,t.chunk)(P,3).flatMap(([R,$,z])=>{try{return(0,t.assertAccountExists)(R,"Mint"),(0,t.assertAccountExists)($,"Metadata"),[S(R,$,z.exists?z:void 0)]}catch{return[]}})}n.fetchAllDigitalAsset=y;async function h(A,_,E){const M=((E==null?void 0:E.position)??1)-1,P=await(0,s.getMetadataGpaBuilder)(A).where(i+M*o,_).sliceField("mint").getDataAsPublicKeys();return y(A,P,E)}n.fetchAllDigitalAssetByCreator=h;async function m(A,_,E){const M=await Promise.all(a.map(async P=>(0,s.getMetadataGpaBuilder)(A).where(P,1).where(P+c,1).where(P+u,_).sliceField("mint").getDataAsPublicKeys()));return y(A,M.flat(),E)}n.fetchAllDigitalAssetByVerifiedCollection=m;async function f(A,_,E){const M=await(0,s.getMetadataGpaBuilder)(A).whereField("updateAuthority",_).sliceField("mint").getDataAsPublicKeys();return y(A,M,E)}n.fetchAllDigitalAssetByUpdateAuthority=f;async function g(A,_,E){const M=await(0,e.fetchAllMintPublicKeyByOwner)(A,_,E);return y(A,M,E)}n.fetchAllDigitalAssetByOwner=g;async function b(A,_,E){const P=(await(0,e.fetchAllMintPublicKeyByOwner)(A,_,E)).map($=>(0,s.findMetadataPda)(A,{mint:$})[0]);return(await A.rpc.getAccounts(P,E)).flatMap($=>{try{return(0,t.assertAccountExists)($,"Metadata"),[(0,s.deserializeMetadata)($)]}catch{return[]}})}n.fetchAllMetadataByOwner=b;function S(A,_,E){const M=(0,e.deserializeMint)(A),P=(0,s.deserializeMetadata)(_),R=(0,t.unwrapOption)(P.tokenStandard);if(R&&(0,n.isNonFungible)(R)&&!E)throw new Error("Edition account must be provided for non-fungible assets.");const $={publicKey:M.publicKey,mint:M,metadata:P};if(!E)return $;const z=(0,s.getKeySerializer)().deserialize(E.data)[0];let T;if(z===s.Key.MasterEditionV1||z===s.Key.MasterEditionV2)T={isOriginal:!0,...(0,s.deserializeMasterEdition)(E)};else if(z===s.Key.EditionV1)T={isOriginal:!1,...(0,s.deserializeEdition)(E)};else throw new r.TokenMetadataError(`Invalid key "${z}" for edition account.`);return{...$,edition:T}}n.deserializeDigitalAsset=S;const p=A=>A===s.TokenStandard.Fungible||A===s.TokenStandard.FungibleAsset;n.isFungible=p;const I=A=>!(0,n.isFungible)(A);n.isNonFungible=I;const w=A=>A===s.TokenStandard.ProgrammableNonFungible||A===s.TokenStandard.ProgrammableNonFungibleEdition;n.isProgrammable=w})(u5);Object.defineProperty(za,"__esModule",{value:!0});za.resolveIsNonFungibleOrIsMintSigner=za.resolveOptionalTokenOwner=za.resolveCreateV1Bytes=za.resolveCreators=za.resolvePrintSupply=za.resolveDecimals=za.resolveIsNonFungible=za.resolveCollectionDetails=void 0;const K3t=Gs,ah=Z,Yz=u5,im=qb,L3t=607,W3t=20,N3t=(n,e,t,...r)=>t.isCollection?(0,ah.some)((0,im.collectionDetails)("V2",{padding:new Array(8).fill(0)})):(0,ah.none)();za.resolveCollectionDetails=N3t;const F3t=(n,e,t,...r)=>(0,Yz.isNonFungible)((0,im.expectSome)(t.tokenStandard));za.resolveIsNonFungible=F3t;const U3t=(n,e,t,...r)=>(0,Yz.isNonFungible)((0,im.expectSome)(t.tokenStandard))?(0,ah.none)():(0,ah.some)(0);za.resolveDecimals=U3t;const V3t=(n,e,t,...r)=>(0,Yz.isNonFungible)((0,im.expectSome)(t.tokenStandard))?(0,ah.some)((0,im.printSupply)("Zero")):(0,ah.none)();za.resolvePrintSupply=V3t;const q3t=(n,e,...t)=>(0,ah.some)([{address:(0,im.expectPublicKey)(e.authority.value),share:100,verified:!0}]);za.resolveCreators=q3t;const j3t=(n,e,t,...r)=>{const s=(0,K3t.getMintSize)()+L3t+2*ah.ACCOUNT_HEADER_SIZE;return(0,Yz.isNonFungible)((0,im.expectSome)(t.tokenStandard))?s+W3t+ah.ACCOUNT_HEADER_SIZE:s};za.resolveCreateV1Bytes=j3t;const H3t=(n,e,...t)=>e.token.value?{value:null}:{value:n.identity.publicKey};za.resolveOptionalTokenOwner=H3t;const G3t=(n,e,t,...r)=>(0,Yz.isNonFungible)((0,im.expectSome)(t.tokenStandard))||(0,ah.isSigner)((0,im.expectSome)(e.mint.value));za.resolveIsNonFungibleOrIsMintSigner=G3t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(HL,n),t(GL,n),t(YL,n),t(za,n)})(an);Object.defineProperty(ai,"__esModule",{value:!0});ai.safeFetchHolderDelegateRecordFromSeeds=ai.fetchHolderDelegateRecordFromSeeds=ai.findHolderDelegateRecordPda=ai.getHolderDelegateRecordSize=ai.getHolderDelegateRecordGpaBuilder=ai.safeFetchAllHolderDelegateRecord=ai.fetchAllHolderDelegateRecord=ai.safeFetchHolderDelegateRecord=ai.fetchHolderDelegateRecord=ai.deserializeHolderDelegateRecord=ai.getHolderDelegateRecordAccountDataSerializer=void 0;const _b=Z,ku=q,Y3t=an,f$e=lt;function h$e(){return(0,ku.struct)([["key",(0,f$e.getKeySerializer)()],["bump",(0,ku.u8)()],["mint",(0,ku.publicKey)()],["delegate",(0,ku.publicKey)()],["updateAuthority",(0,ku.publicKey)()]],{description:"HolderDelegateRecordAccountData"})}ai.getHolderDelegateRecordAccountDataSerializer=h$e;function aR(n){return(0,_b.deserializeAccount)(n,h$e())}ai.deserializeHolderDelegateRecord=aR;async function g$e(n,e,t){const r=await n.rpc.getAccount((0,_b.publicKey)(e,!1),t);return(0,_b.assertAccountExists)(r,"HolderDelegateRecord"),aR(r)}ai.fetchHolderDelegateRecord=g$e;async function m$e(n,e,t){const r=await n.rpc.getAccount((0,_b.publicKey)(e,!1),t);return r.exists?aR(r):null}ai.safeFetchHolderDelegateRecord=m$e;async function Z3t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,_b.publicKey)(s,!1)),t)).map(s=>((0,_b.assertAccountExists)(s,"HolderDelegateRecord"),aR(s)))}ai.fetchAllHolderDelegateRecord=Z3t;async function J3t(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,_b.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>aR(s))}ai.safeFetchAllHolderDelegateRecord=J3t;function X3t(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,_b.gpaBuilder)(n,e).registerFields({key:[0,(0,f$e.getKeySerializer)()],bump:[1,(0,ku.u8)()],mint:[2,(0,ku.publicKey)()],delegate:[34,(0,ku.publicKey)()],updateAuthority:[66,(0,ku.publicKey)()]}).deserializeUsing(t=>aR(t))}ai.getHolderDelegateRecordGpaBuilder=X3t;function Q3t(){return 98}ai.getHolderDelegateRecordSize=Q3t;function Xse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,ku.string)({size:"variable"}).serialize("metadata"),(0,ku.publicKey)().serialize(t),(0,ku.publicKey)().serialize(e.mint),(0,Y3t.getHolderDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,ku.publicKey)().serialize(e.owner),(0,ku.publicKey)().serialize(e.delegate)])}ai.findHolderDelegateRecordPda=Xse;async function eDt(n,e,t){return g$e(n,Xse(n,e),t)}ai.fetchHolderDelegateRecordFromSeeds=eDt;async function tDt(n,e,t){return m$e(n,Xse(n,e),t)}ai.safeFetchHolderDelegateRecordFromSeeds=tDt;var To={};Object.defineProperty(To,"__esModule",{value:!0});To.safeFetchMasterEditionFromSeeds=To.fetchMasterEditionFromSeeds=To.findMasterEditionPda=To.getMasterEditionGpaBuilder=To.safeFetchAllMasterEdition=To.fetchAllMasterEdition=To.safeFetchMasterEdition=To.fetchMasterEdition=To.deserializeMasterEdition=To.getMasterEditionAccountDataSerializer=void 0;const Eb=Z,Tl=q,s4=lt;function y$e(){return(0,Tl.mapSerializer)((0,Tl.struct)([["key",(0,s4.getKeySerializer)()],["supply",(0,Tl.u64)()],["maxSupply",(0,Tl.option)((0,Tl.u64)())]],{description:"MasterEditionAccountData"}),n=>({...n,key:s4.Key.MasterEditionV2}))}To.getMasterEditionAccountDataSerializer=y$e;function cR(n){return(0,Eb.deserializeAccount)(n,y$e())}To.deserializeMasterEdition=cR;async function p$e(n,e,t){const r=await n.rpc.getAccount((0,Eb.publicKey)(e,!1),t);return(0,Eb.assertAccountExists)(r,"MasterEdition"),cR(r)}To.fetchMasterEdition=p$e;async function b$e(n,e,t){const r=await n.rpc.getAccount((0,Eb.publicKey)(e,!1),t);return r.exists?cR(r):null}To.safeFetchMasterEdition=b$e;async function rDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Eb.publicKey)(s,!1)),t)).map(s=>((0,Eb.assertAccountExists)(s,"MasterEdition"),cR(s)))}To.fetchAllMasterEdition=rDt;async function nDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Eb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>cR(s))}To.safeFetchAllMasterEdition=nDt;function sDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Eb.gpaBuilder)(n,e).registerFields({key:[0,(0,s4.getKeySerializer)()],supply:[1,(0,Tl.u64)()],maxSupply:[9,(0,Tl.option)((0,Tl.u64)())]}).deserializeUsing(t=>cR(t)).whereField("key",s4.Key.MasterEditionV2)}To.getMasterEditionGpaBuilder=sDt;function Qse(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Tl.string)({size:"variable"}).serialize("metadata"),(0,Tl.publicKey)().serialize(t),(0,Tl.publicKey)().serialize(e.mint),(0,Tl.string)({size:"variable"}).serialize("edition")])}To.findMasterEditionPda=Qse;async function iDt(n,e,t){return p$e(n,Qse(n,e),t)}To.fetchMasterEditionFromSeeds=iDt;async function oDt(n,e,t){return b$e(n,Qse(n,e),t)}To.safeFetchMasterEditionFromSeeds=oDt;var Ro={};Object.defineProperty(Ro,"__esModule",{value:!0});Ro.safeFetchMetadataFromSeeds=Ro.fetchMetadataFromSeeds=Ro.findMetadataPda=Ro.getMetadataGpaBuilder=Ro.safeFetchAllMetadata=Ro.fetchAllMetadata=Ro.safeFetchMetadata=Ro.fetchMetadata=Ro.deserializeMetadata=Ro.getMetadataAccountDataSerializer=void 0;const xb=Z,dn=q,Sc=lt;function S$e(){return(0,dn.mapSerializer)((0,dn.struct)([["key",(0,Sc.getKeySerializer)()],["updateAuthority",(0,dn.publicKey)()],["mint",(0,dn.publicKey)()],["name",(0,dn.string)()],["symbol",(0,dn.string)()],["uri",(0,dn.string)()],["sellerFeeBasisPoints",(0,dn.u16)()],["creators",(0,dn.option)((0,dn.array)((0,Sc.getCreatorSerializer)()))],["primarySaleHappened",(0,dn.bool)()],["isMutable",(0,dn.bool)()],["editionNonce",(0,dn.option)((0,dn.u8)())],["tokenStandard",(0,dn.option)((0,Sc.getTokenStandardSerializer)())],["collection",(0,dn.option)((0,Sc.getCollectionSerializer)())],["uses",(0,dn.option)((0,Sc.getUsesSerializer)())],["collectionDetails",(0,dn.option)((0,Sc.getCollectionDetailsSerializer)())],["programmableConfig",(0,dn.option)((0,Sc.getProgrammableConfigSerializer)())]],{description:"MetadataAccountData"}),n=>({...n,key:Sc.Key.MetadataV1}))}Ro.getMetadataAccountDataSerializer=S$e;function uR(n){return(0,xb.deserializeAccount)(n,S$e())}Ro.deserializeMetadata=uR;async function k$e(n,e,t){const r=await n.rpc.getAccount((0,xb.publicKey)(e,!1),t);return(0,xb.assertAccountExists)(r,"Metadata"),uR(r)}Ro.fetchMetadata=k$e;async function v$e(n,e,t){const r=await n.rpc.getAccount((0,xb.publicKey)(e,!1),t);return r.exists?uR(r):null}Ro.safeFetchMetadata=v$e;async function aDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,xb.publicKey)(s,!1)),t)).map(s=>((0,xb.assertAccountExists)(s,"Metadata"),uR(s)))}Ro.fetchAllMetadata=aDt;async function cDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,xb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>uR(s))}Ro.safeFetchAllMetadata=cDt;function uDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,xb.gpaBuilder)(n,e).registerFields({key:[0,(0,Sc.getKeySerializer)()],updateAuthority:[1,(0,dn.publicKey)()],mint:[33,(0,dn.publicKey)()],name:[65,(0,dn.string)()],symbol:[null,(0,dn.string)()],uri:[null,(0,dn.string)()],sellerFeeBasisPoints:[null,(0,dn.u16)()],creators:[null,(0,dn.option)((0,dn.array)((0,Sc.getCreatorSerializer)()))],primarySaleHappened:[null,(0,dn.bool)()],isMutable:[null,(0,dn.bool)()],editionNonce:[null,(0,dn.option)((0,dn.u8)())],tokenStandard:[null,(0,dn.option)((0,Sc.getTokenStandardSerializer)())],collection:[null,(0,dn.option)((0,Sc.getCollectionSerializer)())],uses:[null,(0,dn.option)((0,Sc.getUsesSerializer)())],collectionDetails:[null,(0,dn.option)((0,Sc.getCollectionDetailsSerializer)())],programmableConfig:[null,(0,dn.option)((0,Sc.getProgrammableConfigSerializer)())]}).deserializeUsing(t=>uR(t)).whereField("key",Sc.Key.MetadataV1)}Ro.getMetadataGpaBuilder=uDt;function eie(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,dn.string)({size:"variable"}).serialize("metadata"),(0,dn.publicKey)().serialize(t),(0,dn.publicKey)().serialize(e.mint)])}Ro.findMetadataPda=eie;async function lDt(n,e,t){return k$e(n,eie(n,e),t)}Ro.fetchMetadataFromSeeds=lDt;async function dDt(n,e,t){return v$e(n,eie(n,e),t)}Ro.safeFetchMetadataFromSeeds=dDt;var ci={};Object.defineProperty(ci,"__esModule",{value:!0});ci.safeFetchMetadataDelegateRecordFromSeeds=ci.fetchMetadataDelegateRecordFromSeeds=ci.findMetadataDelegateRecordPda=ci.getMetadataDelegateRecordSize=ci.getMetadataDelegateRecordGpaBuilder=ci.safeFetchAllMetadataDelegateRecord=ci.fetchAllMetadataDelegateRecord=ci.safeFetchMetadataDelegateRecord=ci.fetchMetadataDelegateRecord=ci.deserializeMetadataDelegateRecord=ci.getMetadataDelegateRecordAccountDataSerializer=void 0;const Tb=Z,vu=q,fDt=an,A$e=lt;function w$e(){return(0,vu.struct)([["key",(0,A$e.getKeySerializer)()],["bump",(0,vu.u8)()],["mint",(0,vu.publicKey)()],["delegate",(0,vu.publicKey)()],["updateAuthority",(0,vu.publicKey)()]],{description:"MetadataDelegateRecordAccountData"})}ci.getMetadataDelegateRecordAccountDataSerializer=w$e;function lR(n){return(0,Tb.deserializeAccount)(n,w$e())}ci.deserializeMetadataDelegateRecord=lR;async function I$e(n,e,t){const r=await n.rpc.getAccount((0,Tb.publicKey)(e,!1),t);return(0,Tb.assertAccountExists)(r,"MetadataDelegateRecord"),lR(r)}ci.fetchMetadataDelegateRecord=I$e;async function P$e(n,e,t){const r=await n.rpc.getAccount((0,Tb.publicKey)(e,!1),t);return r.exists?lR(r):null}ci.safeFetchMetadataDelegateRecord=P$e;async function hDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Tb.publicKey)(s,!1)),t)).map(s=>((0,Tb.assertAccountExists)(s,"MetadataDelegateRecord"),lR(s)))}ci.fetchAllMetadataDelegateRecord=hDt;async function gDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Tb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>lR(s))}ci.safeFetchAllMetadataDelegateRecord=gDt;function mDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Tb.gpaBuilder)(n,e).registerFields({key:[0,(0,A$e.getKeySerializer)()],bump:[1,(0,vu.u8)()],mint:[2,(0,vu.publicKey)()],delegate:[34,(0,vu.publicKey)()],updateAuthority:[66,(0,vu.publicKey)()]}).deserializeUsing(t=>lR(t))}ci.getMetadataDelegateRecordGpaBuilder=mDt;function yDt(){return 98}ci.getMetadataDelegateRecordSize=yDt;function tie(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,vu.string)({size:"variable"}).serialize("metadata"),(0,vu.publicKey)().serialize(t),(0,vu.publicKey)().serialize(e.mint),(0,fDt.getMetadataDelegateRoleSeedSerializer)().serialize(e.delegateRole),(0,vu.publicKey)().serialize(e.updateAuthority),(0,vu.publicKey)().serialize(e.delegate)])}ci.findMetadataDelegateRecordPda=tie;async function pDt(n,e,t){return I$e(n,tie(n,e),t)}ci.fetchMetadataDelegateRecordFromSeeds=pDt;async function bDt(n,e,t){return P$e(n,tie(n,e),t)}ci.safeFetchMetadataDelegateRecordFromSeeds=bDt;var Ic={};Object.defineProperty(Ic,"__esModule",{value:!0});Ic.getTokenOwnedEscrowGpaBuilder=Ic.safeFetchAllTokenOwnedEscrow=Ic.fetchAllTokenOwnedEscrow=Ic.safeFetchTokenOwnedEscrow=Ic.fetchTokenOwnedEscrow=Ic.deserializeTokenOwnedEscrow=Ic.getTokenOwnedEscrowAccountDataSerializer=void 0;const Rb=Z,Wv=q,SA=lt;function _$e(){return(0,Wv.mapSerializer)((0,Wv.struct)([["key",(0,SA.getKeySerializer)()],["baseToken",(0,Wv.publicKey)()],["authority",(0,SA.getEscrowAuthoritySerializer)()],["bump",(0,Wv.u8)()]],{description:"TokenOwnedEscrowAccountData"}),n=>({...n,key:SA.Key.TokenOwnedEscrow}))}Ic.getTokenOwnedEscrowAccountDataSerializer=_$e;function dR(n){return(0,Rb.deserializeAccount)(n,_$e())}Ic.deserializeTokenOwnedEscrow=dR;async function SDt(n,e,t){const r=await n.rpc.getAccount((0,Rb.publicKey)(e,!1),t);return(0,Rb.assertAccountExists)(r,"TokenOwnedEscrow"),dR(r)}Ic.fetchTokenOwnedEscrow=SDt;async function kDt(n,e,t){const r=await n.rpc.getAccount((0,Rb.publicKey)(e,!1),t);return r.exists?dR(r):null}Ic.safeFetchTokenOwnedEscrow=kDt;async function vDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Rb.publicKey)(s,!1)),t)).map(s=>((0,Rb.assertAccountExists)(s,"TokenOwnedEscrow"),dR(s)))}Ic.fetchAllTokenOwnedEscrow=vDt;async function ADt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Rb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>dR(s))}Ic.safeFetchAllTokenOwnedEscrow=ADt;function wDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Rb.gpaBuilder)(n,e).registerFields({key:[0,(0,SA.getKeySerializer)()],baseToken:[1,(0,Wv.publicKey)()],authority:[33,(0,SA.getEscrowAuthoritySerializer)()],bump:[null,(0,Wv.u8)()]}).deserializeUsing(t=>dR(t)).whereField("key",SA.Key.TokenOwnedEscrow)}Ic.getTokenOwnedEscrowGpaBuilder=wDt;var ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.safeFetchTokenRecordFromSeeds=ui.fetchTokenRecordFromSeeds=ui.findTokenRecordPda=ui.getTokenRecordSize=ui.getTokenRecordGpaBuilder=ui.safeFetchAllTokenRecord=ui.fetchAllTokenRecord=ui.safeFetchTokenRecord=ui.fetchTokenRecord=ui.deserializeTokenRecord=ui.getTokenRecordAccountDataSerializer=void 0;const Cb=Z,Ai=q,Wy=lt;function E$e(){return(0,Ai.mapSerializer)((0,Ai.struct)([["key",(0,Wy.getKeySerializer)()],["bump",(0,Ai.u8)()],["state",(0,Wy.getTokenStateSerializer)()],["ruleSetRevision",(0,Ai.option)((0,Ai.u64)())],["delegate",(0,Ai.option)((0,Ai.publicKey)())],["delegateRole",(0,Ai.option)((0,Wy.getTokenDelegateRoleSerializer)())],["lockedTransfer",(0,Ai.option)((0,Ai.publicKey)())]],{description:"TokenRecordAccountData"}),n=>({...n,key:Wy.Key.TokenRecord}))}ui.getTokenRecordAccountDataSerializer=E$e;function fR(n){return(0,Cb.deserializeAccount)(n,E$e())}ui.deserializeTokenRecord=fR;async function x$e(n,e,t){const r=await n.rpc.getAccount((0,Cb.publicKey)(e,!1),t);return(0,Cb.assertAccountExists)(r,"TokenRecord"),fR(r)}ui.fetchTokenRecord=x$e;async function T$e(n,e,t){const r=await n.rpc.getAccount((0,Cb.publicKey)(e,!1),t);return r.exists?fR(r):null}ui.safeFetchTokenRecord=T$e;async function IDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Cb.publicKey)(s,!1)),t)).map(s=>((0,Cb.assertAccountExists)(s,"TokenRecord"),fR(s)))}ui.fetchAllTokenRecord=IDt;async function PDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Cb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>fR(s))}ui.safeFetchAllTokenRecord=PDt;function _Dt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Cb.gpaBuilder)(n,e).registerFields({key:[0,(0,Wy.getKeySerializer)()],bump:[1,(0,Ai.u8)()],state:[2,(0,Wy.getTokenStateSerializer)()],ruleSetRevision:[3,(0,Ai.option)((0,Ai.u64)())],delegate:[null,(0,Ai.option)((0,Ai.publicKey)())],delegateRole:[null,(0,Ai.option)((0,Wy.getTokenDelegateRoleSerializer)())],lockedTransfer:[null,(0,Ai.option)((0,Ai.publicKey)())]}).deserializeUsing(t=>fR(t)).whereField("key",Wy.Key.TokenRecord)}ui.getTokenRecordGpaBuilder=_Dt;function EDt(){return 80}ui.getTokenRecordSize=EDt;function rie(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,Ai.string)({size:"variable"}).serialize("metadata"),(0,Ai.publicKey)().serialize(t),(0,Ai.publicKey)().serialize(e.mint),(0,Ai.string)({size:"variable"}).serialize("token_record"),(0,Ai.publicKey)().serialize(e.token)])}ui.findTokenRecordPda=rie;async function xDt(n,e,t){return x$e(n,rie(n,e),t)}ui.fetchTokenRecordFromSeeds=xDt;async function TDt(n,e,t){return T$e(n,rie(n,e),t)}ui.safeFetchTokenRecordFromSeeds=TDt;var li={};Object.defineProperty(li,"__esModule",{value:!0});li.safeFetchUseAuthorityRecordFromSeeds=li.fetchUseAuthorityRecordFromSeeds=li.findUseAuthorityRecordPda=li.getUseAuthorityRecordSize=li.getUseAuthorityRecordGpaBuilder=li.safeFetchAllUseAuthorityRecord=li.fetchAllUseAuthorityRecord=li.safeFetchUseAuthorityRecord=li.fetchUseAuthorityRecord=li.deserializeUseAuthorityRecord=li.getUseAuthorityRecordAccountDataSerializer=void 0;const Mb=Z,sd=q,i4=lt;function R$e(){return(0,sd.mapSerializer)((0,sd.struct)([["key",(0,i4.getKeySerializer)()],["allowedUses",(0,sd.u64)()],["bump",(0,sd.u8)()]],{description:"UseAuthorityRecordAccountData"}),n=>({...n,key:i4.Key.UseAuthorityRecord}))}li.getUseAuthorityRecordAccountDataSerializer=R$e;function hR(n){return(0,Mb.deserializeAccount)(n,R$e())}li.deserializeUseAuthorityRecord=hR;async function C$e(n,e,t){const r=await n.rpc.getAccount((0,Mb.publicKey)(e,!1),t);return(0,Mb.assertAccountExists)(r,"UseAuthorityRecord"),hR(r)}li.fetchUseAuthorityRecord=C$e;async function M$e(n,e,t){const r=await n.rpc.getAccount((0,Mb.publicKey)(e,!1),t);return r.exists?hR(r):null}li.safeFetchUseAuthorityRecord=M$e;async function RDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Mb.publicKey)(s,!1)),t)).map(s=>((0,Mb.assertAccountExists)(s,"UseAuthorityRecord"),hR(s)))}li.fetchAllUseAuthorityRecord=RDt;async function CDt(n,e,t){return(await n.rpc.getAccounts(e.map(s=>(0,Mb.publicKey)(s,!1)),t)).filter(s=>s.exists).map(s=>hR(s))}li.safeFetchAllUseAuthorityRecord=CDt;function MDt(n){const e=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return(0,Mb.gpaBuilder)(n,e).registerFields({key:[0,(0,i4.getKeySerializer)()],allowedUses:[1,(0,sd.u64)()],bump:[9,(0,sd.u8)()]}).deserializeUsing(t=>hR(t)).whereField("key",i4.Key.UseAuthorityRecord)}li.getUseAuthorityRecordGpaBuilder=MDt;function BDt(){return 10}li.getUseAuthorityRecordSize=BDt;function nie(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s");return n.eddsa.findPda(t,[(0,sd.string)({size:"variable"}).serialize("metadata"),(0,sd.publicKey)().serialize(t),(0,sd.publicKey)().serialize(e.mint),(0,sd.string)({size:"variable"}).serialize("user"),(0,sd.publicKey)().serialize(e.useAuthority)])}li.findUseAuthorityRecordPda=nie;async function zDt(n,e,t){return C$e(n,nie(n,e),t)}li.fetchUseAuthorityRecordFromSeeds=zDt;async function $Dt(n,e,t){return M$e(n,nie(n,e),t)}li.safeFetchUseAuthorityRecordFromSeeds=$Dt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Io,n),t(Po,n),t(Ba,n),t(oi,n),t(_o,n),t(ai,n),t(To,n),t(Ro,n),t(ci,n),t(Ic,n),t(ui,n),t(li,n)})(Nt);var sie={},j={};Object.defineProperty(j,"__esModule",{value:!0});j.ReservationAlreadyMadeError=j.ReservationNotSetError=j.ReservationDoesNotExistError=j.ReservationExistsError=j.ShareTotalMustBe100Error=j.NoBalanceInAccountForAuthorizationError=j.OwnerMismatchError=j.PrimarySaleCanOnlyBeFlippedToTrueError=j.InvalidBasisPointsError=j.CreatorNotFoundError=j.NoCreatorsPresentOnMetadataError=j.MustBeOneOfCreatorsError=j.CreatorsMustBeAtleastOneError=j.CreatorsTooLongError=j.DisabledError=j.AuthorizationTokenAccountOwnerMismatchError=j.PrintingMintAuthorizationAccountMismatchError=j.NotEnoughTokensError=j.TokenAccountMintMismatchV2Error=j.TokenAccountMintMismatchError=j.OneTimePrintingAuthMintMismatchError=j.PrintingMintMismatchError=j.DerivedKeyInvalidError=j.TokenAccountOneTimeAuthMintMismatchError=j.TokenBurnFailedError=j.EditionMintDecimalsShouldBeZeroError=j.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=j.PrintingMintDecimalsShouldBeZeroError=j.EditionAlreadyMintedError=j.DestinationMintMismatchError=j.MasterRecordMismatchError=j.TokenMintToFailedError=j.MaxEditionsMintedAlreadyError=j.EditionsMustHaveExactlyOneTokenError=j.MintMismatchError=j.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=j.UriTooLongError=j.SymbolTooLongError=j.NameTooLongError=j.InvalidMintAuthorityError=j.NotMintAuthorityError=j.UpdateAuthorityIsNotSignerError=j.UpdateAuthorityIncorrectError=j.InvalidEditionKeyError=j.InvalidMetadataKeyError=j.UninitializedError=j.AlreadyInitializedError=j.NotRentExemptError=j.InstructionPackErrorError=j.InstructionUnpackErrorError=void 0;j.RevokeCollectionAuthoritySignerIncorrectError=j.InvalidUserError=j.EditionOverrideCannotBeZeroError=j.NotAllowedToChangeSellerFeeBasisPointsError=j.CannotWipeVerifiedCreatorsError=j.CannotRemoveVerifiedCreatorError=j.CannotAdjustVerifiedCreatorError=j.InvalidDelegateError=j.InvalidFreezeAuthorityError=j.InvalidCollectionAuthorityRecordError=j.InvalidUseAuthorityRecordError=j.CollectionAuthorityDoesNotExistError=j.CollectionAuthorityRecordAlreadyExistsError=j.NotEnoughUsesError=j.UnusableError=j.UseAuthorityRecordAlreadyRevokedError=j.UseAuthorityRecordAlreadyExistsError=j.CollectionMustBeAUniqueMasterEditionError=j.InvalidCollectionUpdateAuthorityError=j.CollectionNotFoundError=j.CannotChangeUsesAfterFirstUseError=j.CannotChangeUseMethodAfterFirstUseError=j.InvalidUseMethodError=j.MustBeBurnedError=j.RemovedError=j.CollectionCannotBeVerifiedInThisInstructionError=j.IsMutableCanOnlyBeFlippedToFalseError=j.ReservationArrayShouldBeSizeOneError=j.InvalidEditionIndexError=j.OneTimeAuthMintSupplyMustBeZeroForConversionError=j.PrintingMintSupplyMustBeZeroForConversionError=j.InvalidOwnerError=j.InvalidOperationError=j.TriedToReplaceAnExistingReservationError=j.ReservationNotCompleteError=j.BeyondAlottedAddressSizeError=j.DataTypeMismatchError=j.InvalidTokenProgramError=j.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=j.DuplicateCreatorAddressError=j.DataIsImmutableError=j.PrintingWouldBreachMaximumSupplyError=j.IncorrectOwnerError=j.SpotMismatchError=j.CannotUnverifyAnotherCreatorError=j.CannotVerifyAnotherCreatorError=j.AddressNotInReservationError=j.ReservationBreachesMaximumSupplyError=j.NumericalOverflowErrorError=j.BeyondMaxAddressSizeError=void 0;j.MissingSplTokenProgramError=j.MissingTokenAccountError=j.OnlySaleDelegateCanTransferError=j.InvalidSystemWalletError=j.FeatureNotSupportedError=j.MissingArgumentInBuilderError=j.MissingAccountInBuilderError=j.DelegateNotFoundError=j.DelegateAlreadyExistsError=j.InvalidProgrammableConfigError=j.MissingProgrammableConfigError=j.MissingAuthorizationRulesError=j.InvalidAuthorizationRulesError=j.InvalidMintForTokenStandardError=j.InvalidTokenStandardError=j.MintIsNotSignerError=j.EscrowParentHasDelegateError=j.InvalidBubblegumSignerError=j.InvalidCollectionSizeChangeError=j.NoFreezeAuthoritySetError=j.BorshSerializationErrorError=j.InsufficientTokensError=j.MustBeNonFungibleError=j.InvalidSystemProgramError=j.MustBeEscrowAuthorityError=j.InvalidEscrowBumpSeedError=j.MustUnverifyError=j.EditionNumberGreaterThanMaxSupplyError=j.PrintEditionDoesNotMatchMasterEditionError=j.ReservationListDeprecatedError=j.InvalidEditionMarkerError=j.InvalidPrintEditionError=j.InvalidMasterEditionError=j.NotAPrintEditionError=j.AlreadyUnverifiedError=j.AlreadyVerifiedError=j.CollectionMasterEditionAccountInvalidError=j.CannotUpdateVerifiedCollectionError=j.BorshDeserializationErrorError=j.MasterEditionHasPrintsError=j.NotAMasterEditionError=j.MissingEditionAccountError=j.CouldNotDetermineTokenStandardError=j.NotACollectionParentError=j.NotVerifiedMemberOfCollectionError=j.NotAMemberOfCollectionError=j.MissingCollectionMetadataError=j.SizedCollectionError=j.UnsizedCollectionError=j.TokenCloseFailedError=void 0;j.ExpectedUninitializedAccountError=j.MissingImmutableOwnerExtensionError=j.InvalidTokenExtensionTypeError=j.InvalidMetadataPointerError=j.InvalidMintCloseAuthorityError=j.InvalidMintExtensionTypeError=j.CannotChangeUpdateAuthorityWithDelegateError=j.InvalidMetadataFlagsError=j.InvalidFeeAccountError=j.MissingDelegateRecordError=j.InvalidInstructionError=j.InvalidCloseAuthorityError=j.InvalidTokenRecordError=j.MissingCollectionMasterEditionError=j.MissingCollectionMintError=j.InsufficientTokenBalanceError=j.InvalidUpdateArgsError=j.InvalidParentAccountsError=j.InvalidInstructionsSysvarError=j.InvalidAssociatedTokenAccountProgramError=j.MissingEditionError=j.CannotBurnWithDelegateError=j.MissingEditionMarkerAccountError=j.MissingMasterEditionTokenAccountError=j.MissingMasterEditionMintAccountError=j.InvalidAmountError=j.CannotUpdateAssetWithDelegateError=j.DataIncrementLimitExceededError=j.InvalidLockedTransferAddressError=j.MissingLockedTransferAddressError=j.InvalidDelegateArgsError=j.AmountMustBeGreaterThanZeroError=j.MissingMasterEditionAccountError=j.MissingPrintSupplyError=j.InvalidDelegateRoleError=j.IncorrectTokenStateError=j.InvalidMasterEditionAccountLengthError=j.MissingTokenOwnerAccountError=j.DataIsEmptyOrZeroedError=j.MintSupplyMustBeZeroError=j.MissingTokenRecordError=j.InvalidAuthorityTypeError=j.MissingDelegateRoleError=j.UnlockedTokenError=j.LockedTokenError=j.KeyMismatchError=j.InstructionNotSupportedError=j.InvalidTransferAuthorityError=j.InvalidDelegateRoleForTransferError=j.MissingAuthorizationRulesProgramError=void 0;j.getMplTokenMetadataErrorFromName=j.getMplTokenMetadataErrorFromCode=j.ConditionsForClosingNotMetError=j.AccountAlreadyResizedError=j.InvalidEditionAccountLengthError=void 0;const ce=Z,oe=new Map,ae=new Map;class iie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionUnpackError",this.code=0}}j.InstructionUnpackErrorError=iie;oe.set(0,iie);ae.set("InstructionUnpackError",iie);class oie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InstructionPackError",this.code=1}}j.InstructionPackErrorError=oie;oe.set(1,oie);ae.set("InstructionPackError",oie);class aie extends ce.ProgramError{constructor(e,t){super("Lamport balance below rent-exempt threshold",e,t),this.name="NotRentExempt",this.code=2}}j.NotRentExemptError=aie;oe.set(2,aie);ae.set("NotRentExempt",aie);class cie extends ce.ProgramError{constructor(e,t){super("Already initialized",e,t),this.name="AlreadyInitialized",this.code=3}}j.AlreadyInitializedError=cie;oe.set(3,cie);ae.set("AlreadyInitialized",cie);class uie extends ce.ProgramError{constructor(e,t){super("Uninitialized",e,t),this.name="Uninitialized",this.code=4}}j.UninitializedError=uie;oe.set(4,uie);ae.set("Uninitialized",uie);class lie extends ce.ProgramError{constructor(e,t){super(" Metadata's key must match seed of ['metadata', program id, mint] provided",e,t),this.name="InvalidMetadataKey",this.code=5}}j.InvalidMetadataKeyError=lie;oe.set(5,lie);ae.set("InvalidMetadataKey",lie);class die extends ce.ProgramError{constructor(e,t){super("Edition's key must match seed of ['metadata', program id, name, 'edition'] provided",e,t),this.name="InvalidEditionKey",this.code=6}}j.InvalidEditionKeyError=die;oe.set(6,die);ae.set("InvalidEditionKey",die);class fie extends ce.ProgramError{constructor(e,t){super("Update Authority given does not match",e,t),this.name="UpdateAuthorityIncorrect",this.code=7}}j.UpdateAuthorityIncorrectError=fie;oe.set(7,fie);ae.set("UpdateAuthorityIncorrect",fie);class hie extends ce.ProgramError{constructor(e,t){super("Update Authority needs to be signer to update metadata",e,t),this.name="UpdateAuthorityIsNotSigner",this.code=8}}j.UpdateAuthorityIsNotSignerError=hie;oe.set(8,hie);ae.set("UpdateAuthorityIsNotSigner",hie);class gie extends ce.ProgramError{constructor(e,t){super("You must be the mint authority and signer on this transaction",e,t),this.name="NotMintAuthority",this.code=9}}j.NotMintAuthorityError=gie;oe.set(9,gie);ae.set("NotMintAuthority",gie);class mie extends ce.ProgramError{constructor(e,t){super("Mint authority provided does not match the authority on the mint",e,t),this.name="InvalidMintAuthority",this.code=10}}j.InvalidMintAuthorityError=mie;oe.set(10,mie);ae.set("InvalidMintAuthority",mie);class yie extends ce.ProgramError{constructor(e,t){super("Name too long",e,t),this.name="NameTooLong",this.code=11}}j.NameTooLongError=yie;oe.set(11,yie);ae.set("NameTooLong",yie);class pie extends ce.ProgramError{constructor(e,t){super("Symbol too long",e,t),this.name="SymbolTooLong",this.code=12}}j.SymbolTooLongError=pie;oe.set(12,pie);ae.set("SymbolTooLong",pie);class bie extends ce.ProgramError{constructor(e,t){super("URI too long",e,t),this.name="UriTooLong",this.code=13}}j.UriTooLongError=bie;oe.set(13,bie);ae.set("UriTooLong",bie);class Sie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",this.code=14}}j.UpdateAuthorityMustBeEqualToMetadataAuthorityAndSignerError=Sie;oe.set(14,Sie);ae.set("UpdateAuthorityMustBeEqualToMetadataAuthorityAndSigner",Sie);class kie extends ce.ProgramError{constructor(e,t){super("Mint given does not match mint on Metadata",e,t),this.name="MintMismatch",this.code=15}}j.MintMismatchError=kie;oe.set(15,kie);ae.set("MintMismatch",kie);class vie extends ce.ProgramError{constructor(e,t){super("Editions must have exactly one token",e,t),this.name="EditionsMustHaveExactlyOneToken",this.code=16}}j.EditionsMustHaveExactlyOneTokenError=vie;oe.set(16,vie);ae.set("EditionsMustHaveExactlyOneToken",vie);class Aie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MaxEditionsMintedAlready",this.code=17}}j.MaxEditionsMintedAlreadyError=Aie;oe.set(17,Aie);ae.set("MaxEditionsMintedAlready",Aie);class wie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenMintToFailed",this.code=18}}j.TokenMintToFailedError=wie;oe.set(18,wie);ae.set("TokenMintToFailed",wie);class Iie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MasterRecordMismatch",this.code=19}}j.MasterRecordMismatchError=Iie;oe.set(19,Iie);ae.set("MasterRecordMismatch",Iie);class Pie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="DestinationMintMismatch",this.code=20}}j.DestinationMintMismatchError=Pie;oe.set(20,Pie);ae.set("DestinationMintMismatch",Pie);class _ie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="EditionAlreadyMinted",this.code=21}}j.EditionAlreadyMintedError=_ie;oe.set(21,_ie);ae.set("EditionAlreadyMinted",_ie);class Eie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintDecimalsShouldBeZero",this.code=22}}j.PrintingMintDecimalsShouldBeZeroError=Eie;oe.set(22,Eie);ae.set("PrintingMintDecimalsShouldBeZero",Eie);class xie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="OneTimePrintingAuthorizationMintDecimalsShouldBeZero",this.code=23}}j.OneTimePrintingAuthorizationMintDecimalsShouldBeZeroError=xie;oe.set(23,xie);ae.set("OneTimePrintingAuthorizationMintDecimalsShouldBeZero",xie);class Tie extends ce.ProgramError{constructor(e,t){super("EditionMintDecimalsShouldBeZero",e,t),this.name="EditionMintDecimalsShouldBeZero",this.code=24}}j.EditionMintDecimalsShouldBeZeroError=Tie;oe.set(24,Tie);ae.set("EditionMintDecimalsShouldBeZero",Tie);class Rie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenBurnFailed",this.code=25}}j.TokenBurnFailedError=Rie;oe.set(25,Rie);ae.set("TokenBurnFailed",Rie);class Cie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenAccountOneTimeAuthMintMismatch",this.code=26}}j.TokenAccountOneTimeAuthMintMismatchError=Cie;oe.set(26,Cie);ae.set("TokenAccountOneTimeAuthMintMismatch",Cie);class Mie extends ce.ProgramError{constructor(e,t){super("Derived key invalid",e,t),this.name="DerivedKeyInvalid",this.code=27}}j.DerivedKeyInvalidError=Mie;oe.set(27,Mie);ae.set("DerivedKeyInvalid",Mie);class Bie extends ce.ProgramError{constructor(e,t){super("The Printing mint does not match that on the master edition!",e,t),this.name="PrintingMintMismatch",this.code=28}}j.PrintingMintMismatchError=Bie;oe.set(28,Bie);ae.set("PrintingMintMismatch",Bie);class zie extends ce.ProgramError{constructor(e,t){super("The One Time Printing Auth mint does not match that on the master edition!",e,t),this.name="OneTimePrintingAuthMintMismatch",this.code=29}}j.OneTimePrintingAuthMintMismatchError=zie;oe.set(29,zie);ae.set("OneTimePrintingAuthMintMismatch",zie);class $ie extends ce.ProgramError{constructor(e,t){super("The mint of the token account does not match the Printing mint!",e,t),this.name="TokenAccountMintMismatch",this.code=30}}j.TokenAccountMintMismatchError=$ie;oe.set(30,$ie);ae.set("TokenAccountMintMismatch",$ie);class Die extends ce.ProgramError{constructor(e,t){super("The mint of the token account does not match the master metadata mint!",e,t),this.name="TokenAccountMintMismatchV2",this.code=31}}j.TokenAccountMintMismatchV2Error=Die;oe.set(31,Die);ae.set("TokenAccountMintMismatchV2",Die);class Oie extends ce.ProgramError{constructor(e,t){super("Not enough tokens to mint a limited edition",e,t),this.name="NotEnoughTokens",this.code=32}}j.NotEnoughTokensError=Oie;oe.set(32,Oie);ae.set("NotEnoughTokens",Oie);class Kie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingMintAuthorizationAccountMismatch",this.code=33}}j.PrintingMintAuthorizationAccountMismatchError=Kie;oe.set(33,Kie);ae.set("PrintingMintAuthorizationAccountMismatch",Kie);class Lie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AuthorizationTokenAccountOwnerMismatch",this.code=34}}j.AuthorizationTokenAccountOwnerMismatchError=Lie;oe.set(34,Lie);ae.set("AuthorizationTokenAccountOwnerMismatch",Lie);class Wie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="Disabled",this.code=35}}j.DisabledError=Wie;oe.set(35,Wie);ae.set("Disabled",Wie);class Nie extends ce.ProgramError{constructor(e,t){super("Creators list too long",e,t),this.name="CreatorsTooLong",this.code=36}}j.CreatorsTooLongError=Nie;oe.set(36,Nie);ae.set("CreatorsTooLong",Nie);class Fie extends ce.ProgramError{constructor(e,t){super("Creators must be at least one if set",e,t),this.name="CreatorsMustBeAtleastOne",this.code=37}}j.CreatorsMustBeAtleastOneError=Fie;oe.set(37,Fie);ae.set("CreatorsMustBeAtleastOne",Fie);class Uie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeOneOfCreators",this.code=38}}j.MustBeOneOfCreatorsError=Uie;oe.set(38,Uie);ae.set("MustBeOneOfCreators",Uie);class Vie extends ce.ProgramError{constructor(e,t){super("This metadata does not have creators",e,t),this.name="NoCreatorsPresentOnMetadata",this.code=39}}j.NoCreatorsPresentOnMetadataError=Vie;oe.set(39,Vie);ae.set("NoCreatorsPresentOnMetadata",Vie);class qie extends ce.ProgramError{constructor(e,t){super("This creator address was not found",e,t),this.name="CreatorNotFound",this.code=40}}j.CreatorNotFoundError=qie;oe.set(40,qie);ae.set("CreatorNotFound",qie);class jie extends ce.ProgramError{constructor(e,t){super("Basis points cannot be more than 10000",e,t),this.name="InvalidBasisPoints",this.code=41}}j.InvalidBasisPointsError=jie;oe.set(41,jie);ae.set("InvalidBasisPoints",jie);class Hie extends ce.ProgramError{constructor(e,t){super("Primary sale can only be flipped to true and is immutable",e,t),this.name="PrimarySaleCanOnlyBeFlippedToTrue",this.code=42}}j.PrimarySaleCanOnlyBeFlippedToTrueError=Hie;oe.set(42,Hie);ae.set("PrimarySaleCanOnlyBeFlippedToTrue",Hie);class Gie extends ce.ProgramError{constructor(e,t){super("Owner does not match that on the account given",e,t),this.name="OwnerMismatch",this.code=43}}j.OwnerMismatchError=Gie;oe.set(43,Gie);ae.set("OwnerMismatch",Gie);class Yie extends ce.ProgramError{constructor(e,t){super("This account has no tokens to be used for authorization",e,t),this.name="NoBalanceInAccountForAuthorization",this.code=44}}j.NoBalanceInAccountForAuthorizationError=Yie;oe.set(44,Yie);ae.set("NoBalanceInAccountForAuthorization",Yie);class Zie extends ce.ProgramError{constructor(e,t){super("Share total must equal 100 for creator array",e,t),this.name="ShareTotalMustBe100",this.code=45}}j.ShareTotalMustBe100Error=Zie;oe.set(45,Zie);ae.set("ShareTotalMustBe100",Zie);class Jie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationExists",this.code=46}}j.ReservationExistsError=Jie;oe.set(46,Jie);ae.set("ReservationExists",Jie);class Xie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationDoesNotExist",this.code=47}}j.ReservationDoesNotExistError=Xie;oe.set(47,Xie);ae.set("ReservationDoesNotExist",Xie);class Qie extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotSet",this.code=48}}j.ReservationNotSetError=Qie;oe.set(48,Qie);ae.set("ReservationNotSet",Qie);class eoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationAlreadyMade",this.code=49}}j.ReservationAlreadyMadeError=eoe;oe.set(49,eoe);ae.set("ReservationAlreadyMade",eoe);class toe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondMaxAddressSize",this.code=50}}j.BeyondMaxAddressSizeError=toe;oe.set(50,toe);ae.set("BeyondMaxAddressSize",toe);class roe extends ce.ProgramError{constructor(e,t){super("NumericalOverflowError",e,t),this.name="NumericalOverflowError",this.code=51}}j.NumericalOverflowErrorError=roe;oe.set(51,roe);ae.set("NumericalOverflowError",roe);class noe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationBreachesMaximumSupply",this.code=52}}j.ReservationBreachesMaximumSupplyError=noe;oe.set(52,noe);ae.set("ReservationBreachesMaximumSupply",noe);class soe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AddressNotInReservation",this.code=53}}j.AddressNotInReservationError=soe;oe.set(53,soe);ae.set("AddressNotInReservation",soe);class ioe extends ce.ProgramError{constructor(e,t){super("You cannot unilaterally verify another creator, they must sign",e,t),this.name="CannotVerifyAnotherCreator",this.code=54}}j.CannotVerifyAnotherCreatorError=ioe;oe.set(54,ioe);ae.set("CannotVerifyAnotherCreator",ioe);class ooe extends ce.ProgramError{constructor(e,t){super("You cannot unilaterally unverify another creator",e,t),this.name="CannotUnverifyAnotherCreator",this.code=55}}j.CannotUnverifyAnotherCreatorError=ooe;oe.set(55,ooe);ae.set("CannotUnverifyAnotherCreator",ooe);class aoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="SpotMismatch",this.code=56}}j.SpotMismatchError=aoe;oe.set(56,aoe);ae.set("SpotMismatch",aoe);class coe extends ce.ProgramError{constructor(e,t){super("Incorrect account owner",e,t),this.name="IncorrectOwner",this.code=57}}j.IncorrectOwnerError=coe;oe.set(57,coe);ae.set("IncorrectOwner",coe);class uoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="PrintingWouldBreachMaximumSupply",this.code=58}}j.PrintingWouldBreachMaximumSupplyError=uoe;oe.set(58,uoe);ae.set("PrintingWouldBreachMaximumSupply",uoe);class loe extends ce.ProgramError{constructor(e,t){super("Data is immutable",e,t),this.name="DataIsImmutable",this.code=59}}j.DataIsImmutableError=loe;oe.set(59,loe);ae.set("DataIsImmutable",loe);class doe extends ce.ProgramError{constructor(e,t){super("No duplicate creator addresses",e,t),this.name="DuplicateCreatorAddress",this.code=60}}j.DuplicateCreatorAddressError=doe;oe.set(60,doe);ae.set("DuplicateCreatorAddress",doe);class foe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",this.code=61}}j.ReservationSpotsRemainingShouldMatchTotalSpotsAtStartError=foe;oe.set(61,foe);ae.set("ReservationSpotsRemainingShouldMatchTotalSpotsAtStart",foe);class hoe extends ce.ProgramError{constructor(e,t){super("Invalid token program",e,t),this.name="InvalidTokenProgram",this.code=62}}j.InvalidTokenProgramError=hoe;oe.set(62,hoe);ae.set("InvalidTokenProgram",hoe);class goe extends ce.ProgramError{constructor(e,t){super("Data type mismatch",e,t),this.name="DataTypeMismatch",this.code=63}}j.DataTypeMismatchError=goe;oe.set(63,goe);ae.set("DataTypeMismatch",goe);class moe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BeyondAlottedAddressSize",this.code=64}}j.BeyondAlottedAddressSizeError=moe;oe.set(64,moe);ae.set("BeyondAlottedAddressSize",moe);class yoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationNotComplete",this.code=65}}j.ReservationNotCompleteError=yoe;oe.set(65,yoe);ae.set("ReservationNotComplete",yoe);class poe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TriedToReplaceAnExistingReservation",this.code=66}}j.TriedToReplaceAnExistingReservationError=poe;oe.set(66,poe);ae.set("TriedToReplaceAnExistingReservation",poe);class boe extends ce.ProgramError{constructor(e,t){super("Invalid operation",e,t),this.name="InvalidOperation",this.code=67}}j.InvalidOperationError=boe;oe.set(67,boe);ae.set("InvalidOperation",boe);class Soe extends ce.ProgramError{constructor(e,t){super("Invalid Owner",e,t),this.name="InvalidOwner",this.code=68}}j.InvalidOwnerError=Soe;oe.set(68,Soe);ae.set("InvalidOwner",Soe);class koe extends ce.ProgramError{constructor(e,t){super("Printing mint supply must be zero for conversion",e,t),this.name="PrintingMintSupplyMustBeZeroForConversion",this.code=69}}j.PrintingMintSupplyMustBeZeroForConversionError=koe;oe.set(69,koe);ae.set("PrintingMintSupplyMustBeZeroForConversion",koe);class voe extends ce.ProgramError{constructor(e,t){super("One Time Auth mint supply must be zero for conversion",e,t),this.name="OneTimeAuthMintSupplyMustBeZeroForConversion",this.code=70}}j.OneTimeAuthMintSupplyMustBeZeroForConversionError=voe;oe.set(70,voe);ae.set("OneTimeAuthMintSupplyMustBeZeroForConversion",voe);class Aoe extends ce.ProgramError{constructor(e,t){super("You tried to insert one edition too many into an edition mark pda",e,t),this.name="InvalidEditionIndex",this.code=71}}j.InvalidEditionIndexError=Aoe;oe.set(71,Aoe);ae.set("InvalidEditionIndex",Aoe);class woe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="ReservationArrayShouldBeSizeOne",this.code=72}}j.ReservationArrayShouldBeSizeOneError=woe;oe.set(72,woe);ae.set("ReservationArrayShouldBeSizeOne",woe);class Ioe extends ce.ProgramError{constructor(e,t){super("Is Mutable can only be flipped to false",e,t),this.name="IsMutableCanOnlyBeFlippedToFalse",this.code=73}}j.IsMutableCanOnlyBeFlippedToFalseError=Ioe;oe.set(73,Ioe);ae.set("IsMutableCanOnlyBeFlippedToFalse",Ioe);class Poe extends ce.ProgramError{constructor(e,t){super("Collection cannot be verified in this instruction",e,t),this.name="CollectionCannotBeVerifiedInThisInstruction",this.code=74}}j.CollectionCannotBeVerifiedInThisInstructionError=Poe;oe.set(74,Poe);ae.set("CollectionCannotBeVerifiedInThisInstruction",Poe);class _oe extends ce.ProgramError{constructor(e,t){super("This instruction was deprecated in a previous release and is now removed",e,t),this.name="Removed",this.code=75}}j.RemovedError=_oe;oe.set(75,_oe);ae.set("Removed",_oe);class Eoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="MustBeBurned",this.code=76}}j.MustBeBurnedError=Eoe;oe.set(76,Eoe);ae.set("MustBeBurned",Eoe);class xoe extends ce.ProgramError{constructor(e,t){super("This use method is invalid",e,t),this.name="InvalidUseMethod",this.code=77}}j.InvalidUseMethodError=xoe;oe.set(77,xoe);ae.set("InvalidUseMethod",xoe);class Toe extends ce.ProgramError{constructor(e,t){super("Cannot Change Use Method after the first use",e,t),this.name="CannotChangeUseMethodAfterFirstUse",this.code=78}}j.CannotChangeUseMethodAfterFirstUseError=Toe;oe.set(78,Toe);ae.set("CannotChangeUseMethodAfterFirstUse",Toe);class Roe extends ce.ProgramError{constructor(e,t){super("Cannot Change Remaining or Available uses after the first use",e,t),this.name="CannotChangeUsesAfterFirstUse",this.code=79}}j.CannotChangeUsesAfterFirstUseError=Roe;oe.set(79,Roe);ae.set("CannotChangeUsesAfterFirstUse",Roe);class Coe extends ce.ProgramError{constructor(e,t){super("Collection Not Found on Metadata",e,t),this.name="CollectionNotFound",this.code=80}}j.CollectionNotFoundError=Coe;oe.set(80,Coe);ae.set("CollectionNotFound",Coe);class Moe extends ce.ProgramError{constructor(e,t){super("Collection Update Authority is invalid",e,t),this.name="InvalidCollectionUpdateAuthority",this.code=81}}j.InvalidCollectionUpdateAuthorityError=Moe;oe.set(81,Moe);ae.set("InvalidCollectionUpdateAuthority",Moe);class Boe extends ce.ProgramError{constructor(e,t){super("Collection Must Be a Unique Master Edition v2",e,t),this.name="CollectionMustBeAUniqueMasterEdition",this.code=82}}j.CollectionMustBeAUniqueMasterEditionError=Boe;oe.set(82,Boe);ae.set("CollectionMustBeAUniqueMasterEdition",Boe);class zoe extends ce.ProgramError{constructor(e,t){super("The Use Authority Record Already Exists, to modify it Revoke, then Approve",e,t),this.name="UseAuthorityRecordAlreadyExists",this.code=83}}j.UseAuthorityRecordAlreadyExistsError=zoe;oe.set(83,zoe);ae.set("UseAuthorityRecordAlreadyExists",zoe);class $oe extends ce.ProgramError{constructor(e,t){super("The Use Authority Record is empty or already revoked",e,t),this.name="UseAuthorityRecordAlreadyRevoked",this.code=84}}j.UseAuthorityRecordAlreadyRevokedError=$oe;oe.set(84,$oe);ae.set("UseAuthorityRecordAlreadyRevoked",$oe);class Doe extends ce.ProgramError{constructor(e,t){super("This token has no uses",e,t),this.name="Unusable",this.code=85}}j.UnusableError=Doe;oe.set(85,Doe);ae.set("Unusable",Doe);class Ooe extends ce.ProgramError{constructor(e,t){super("There are not enough Uses left on this token.",e,t),this.name="NotEnoughUses",this.code=86}}j.NotEnoughUsesError=Ooe;oe.set(86,Ooe);ae.set("NotEnoughUses",Ooe);class Koe extends ce.ProgramError{constructor(e,t){super("This Collection Authority Record Already Exists.",e,t),this.name="CollectionAuthorityRecordAlreadyExists",this.code=87}}j.CollectionAuthorityRecordAlreadyExistsError=Koe;oe.set(87,Koe);ae.set("CollectionAuthorityRecordAlreadyExists",Koe);class Loe extends ce.ProgramError{constructor(e,t){super("This Collection Authority Record Does Not Exist.",e,t),this.name="CollectionAuthorityDoesNotExist",this.code=88}}j.CollectionAuthorityDoesNotExistError=Loe;oe.set(88,Loe);ae.set("CollectionAuthorityDoesNotExist",Loe);class Woe extends ce.ProgramError{constructor(e,t){super("This Use Authority Record is invalid.",e,t),this.name="InvalidUseAuthorityRecord",this.code=89}}j.InvalidUseAuthorityRecordError=Woe;oe.set(89,Woe);ae.set("InvalidUseAuthorityRecord",Woe);class Noe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidCollectionAuthorityRecord",this.code=90}}j.InvalidCollectionAuthorityRecordError=Noe;oe.set(90,Noe);ae.set("InvalidCollectionAuthorityRecord",Noe);class Foe extends ce.ProgramError{constructor(e,t){super("Metadata does not match the freeze authority on the mint",e,t),this.name="InvalidFreezeAuthority",this.code=91}}j.InvalidFreezeAuthorityError=Foe;oe.set(91,Foe);ae.set("InvalidFreezeAuthority",Foe);class Uoe extends ce.ProgramError{constructor(e,t){super("All tokens in this account have not been delegated to this user.",e,t),this.name="InvalidDelegate",this.code=92}}j.InvalidDelegateError=Uoe;oe.set(92,Uoe);ae.set("InvalidDelegate",Uoe);class Voe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="CannotAdjustVerifiedCreator",this.code=93}}j.CannotAdjustVerifiedCreatorError=Voe;oe.set(93,Voe);ae.set("CannotAdjustVerifiedCreator",Voe);class qoe extends ce.ProgramError{constructor(e,t){super("Verified creators cannot be removed.",e,t),this.name="CannotRemoveVerifiedCreator",this.code=94}}j.CannotRemoveVerifiedCreatorError=qoe;oe.set(94,qoe);ae.set("CannotRemoveVerifiedCreator",qoe);class joe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="CannotWipeVerifiedCreators",this.code=95}}j.CannotWipeVerifiedCreatorsError=joe;oe.set(95,joe);ae.set("CannotWipeVerifiedCreators",joe);class Hoe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="NotAllowedToChangeSellerFeeBasisPoints",this.code=96}}j.NotAllowedToChangeSellerFeeBasisPointsError=Hoe;oe.set(96,Hoe);ae.set("NotAllowedToChangeSellerFeeBasisPoints",Hoe);class Goe extends ce.ProgramError{constructor(e,t){super("Edition override cannot be zero",e,t),this.name="EditionOverrideCannotBeZero",this.code=97}}j.EditionOverrideCannotBeZeroError=Goe;oe.set(97,Goe);ae.set("EditionOverrideCannotBeZero",Goe);class Yoe extends ce.ProgramError{constructor(e,t){super("Invalid User",e,t),this.name="InvalidUser",this.code=98}}j.InvalidUserError=Yoe;oe.set(98,Yoe);ae.set("InvalidUser",Yoe);class Zoe extends ce.ProgramError{constructor(e,t){super("Revoke Collection Authority signer is incorrect",e,t),this.name="RevokeCollectionAuthoritySignerIncorrect",this.code=99}}j.RevokeCollectionAuthoritySignerIncorrectError=Zoe;oe.set(99,Zoe);ae.set("RevokeCollectionAuthoritySignerIncorrect",Zoe);class Joe extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="TokenCloseFailed",this.code=100}}j.TokenCloseFailedError=Joe;oe.set(100,Joe);ae.set("TokenCloseFailed",Joe);class Xoe extends ce.ProgramError{constructor(e,t){super("Can't use this function on unsized collection",e,t),this.name="UnsizedCollection",this.code=101}}j.UnsizedCollectionError=Xoe;oe.set(101,Xoe);ae.set("UnsizedCollection",Xoe);class Qoe extends ce.ProgramError{constructor(e,t){super("Can't use this function on a sized collection",e,t),this.name="SizedCollection",this.code=102}}j.SizedCollectionError=Qoe;oe.set(102,Qoe);ae.set("SizedCollection",Qoe);class eae extends ce.ProgramError{constructor(e,t){super("Missing collection metadata account",e,t),this.name="MissingCollectionMetadata",this.code=103}}j.MissingCollectionMetadataError=eae;oe.set(103,eae);ae.set("MissingCollectionMetadata",eae);class tae extends ce.ProgramError{constructor(e,t){super("This NFT is not a member of the specified collection.",e,t),this.name="NotAMemberOfCollection",this.code=104}}j.NotAMemberOfCollectionError=tae;oe.set(104,tae);ae.set("NotAMemberOfCollection",tae);class rae extends ce.ProgramError{constructor(e,t){super("This NFT is not a verified member of the specified collection.",e,t),this.name="NotVerifiedMemberOfCollection",this.code=105}}j.NotVerifiedMemberOfCollectionError=rae;oe.set(105,rae);ae.set("NotVerifiedMemberOfCollection",rae);class nae extends ce.ProgramError{constructor(e,t){super("This NFT is not a collection parent NFT.",e,t),this.name="NotACollectionParent",this.code=106}}j.NotACollectionParentError=nae;oe.set(106,nae);ae.set("NotACollectionParent",nae);class sae extends ce.ProgramError{constructor(e,t){super("Could not determine a TokenStandard type.",e,t),this.name="CouldNotDetermineTokenStandard",this.code=107}}j.CouldNotDetermineTokenStandardError=sae;oe.set(107,sae);ae.set("CouldNotDetermineTokenStandard",sae);class iae extends ce.ProgramError{constructor(e,t){super("This mint account has an edition but none was provided.",e,t),this.name="MissingEditionAccount",this.code=108}}j.MissingEditionAccountError=iae;oe.set(108,iae);ae.set("MissingEditionAccount",iae);class oae extends ce.ProgramError{constructor(e,t){super("This edition is not a Master Edition",e,t),this.name="NotAMasterEdition",this.code=109}}j.NotAMasterEditionError=oae;oe.set(109,oae);ae.set("NotAMasterEdition",oae);class aae extends ce.ProgramError{constructor(e,t){super("This Master Edition has existing prints",e,t),this.name="MasterEditionHasPrints",this.code=110}}j.MasterEditionHasPrintsError=aae;oe.set(110,aae);ae.set("MasterEditionHasPrints",aae);class cae extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="BorshDeserializationError",this.code=111}}j.BorshDeserializationErrorError=cae;oe.set(111,cae);ae.set("BorshDeserializationError",cae);class uae extends ce.ProgramError{constructor(e,t){super("Cannot update a verified collection in this command",e,t),this.name="CannotUpdateVerifiedCollection",this.code=112}}j.CannotUpdateVerifiedCollectionError=uae;oe.set(112,uae);ae.set("CannotUpdateVerifiedCollection",uae);class lae extends ce.ProgramError{constructor(e,t){super("Edition account doesnt match collection ",e,t),this.name="CollectionMasterEditionAccountInvalid",this.code=113}}j.CollectionMasterEditionAccountInvalidError=lae;oe.set(113,lae);ae.set("CollectionMasterEditionAccountInvalid",lae);class dae extends ce.ProgramError{constructor(e,t){super("Item is already verified.",e,t),this.name="AlreadyVerified",this.code=114}}j.AlreadyVerifiedError=dae;oe.set(114,dae);ae.set("AlreadyVerified",dae);class fae extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="AlreadyUnverified",this.code=115}}j.AlreadyUnverifiedError=fae;oe.set(115,fae);ae.set("AlreadyUnverified",fae);class hae extends ce.ProgramError{constructor(e,t){super("This edition is not a Print Edition",e,t),this.name="NotAPrintEdition",this.code=116}}j.NotAPrintEditionError=hae;oe.set(116,hae);ae.set("NotAPrintEdition",hae);class gae extends ce.ProgramError{constructor(e,t){super("Invalid Master Edition",e,t),this.name="InvalidMasterEdition",this.code=117}}j.InvalidMasterEditionError=gae;oe.set(117,gae);ae.set("InvalidMasterEdition",gae);class mae extends ce.ProgramError{constructor(e,t){super("Invalid Print Edition",e,t),this.name="InvalidPrintEdition",this.code=118}}j.InvalidPrintEditionError=mae;oe.set(118,mae);ae.set("InvalidPrintEdition",mae);class yae extends ce.ProgramError{constructor(e,t){super("Invalid Edition Marker",e,t),this.name="InvalidEditionMarker",this.code=119}}j.InvalidEditionMarkerError=yae;oe.set(119,yae);ae.set("InvalidEditionMarker",yae);class pae extends ce.ProgramError{constructor(e,t){super("Reservation List is Deprecated",e,t),this.name="ReservationListDeprecated",this.code=120}}j.ReservationListDeprecatedError=pae;oe.set(120,pae);ae.set("ReservationListDeprecated",pae);class bae extends ce.ProgramError{constructor(e,t){super("Print Edition does not match Master Edition",e,t),this.name="PrintEditionDoesNotMatchMasterEdition",this.code=121}}j.PrintEditionDoesNotMatchMasterEditionError=bae;oe.set(121,bae);ae.set("PrintEditionDoesNotMatchMasterEdition",bae);class Sae extends ce.ProgramError{constructor(e,t){super("Edition Number greater than max supply",e,t),this.name="EditionNumberGreaterThanMaxSupply",this.code=122}}j.EditionNumberGreaterThanMaxSupplyError=Sae;oe.set(122,Sae);ae.set("EditionNumberGreaterThanMaxSupply",Sae);class kae extends ce.ProgramError{constructor(e,t){super("Must unverify before migrating collections.",e,t),this.name="MustUnverify",this.code=123}}j.MustUnverifyError=kae;oe.set(123,kae);ae.set("MustUnverify",kae);class vae extends ce.ProgramError{constructor(e,t){super("Invalid Escrow Account Bump Seed",e,t),this.name="InvalidEscrowBumpSeed",this.code=124}}j.InvalidEscrowBumpSeedError=vae;oe.set(124,vae);ae.set("InvalidEscrowBumpSeed",vae);class Aae extends ce.ProgramError{constructor(e,t){super("Must Escrow Authority",e,t),this.name="MustBeEscrowAuthority",this.code=125}}j.MustBeEscrowAuthorityError=Aae;oe.set(125,Aae);ae.set("MustBeEscrowAuthority",Aae);class wae extends ce.ProgramError{constructor(e,t){super("Invalid System Program",e,t),this.name="InvalidSystemProgram",this.code=126}}j.InvalidSystemProgramError=wae;oe.set(126,wae);ae.set("InvalidSystemProgram",wae);class Iae extends ce.ProgramError{constructor(e,t){super("Must be a Non Fungible Token",e,t),this.name="MustBeNonFungible",this.code=127}}j.MustBeNonFungibleError=Iae;oe.set(127,Iae);ae.set("MustBeNonFungible",Iae);class Pae extends ce.ProgramError{constructor(e,t){super("Insufficient tokens for transfer",e,t),this.name="InsufficientTokens",this.code=128}}j.InsufficientTokensError=Pae;oe.set(128,Pae);ae.set("InsufficientTokens",Pae);class _ae extends ce.ProgramError{constructor(e,t){super("Borsh Serialization Error",e,t),this.name="BorshSerializationError",this.code=129}}j.BorshSerializationErrorError=_ae;oe.set(129,_ae);ae.set("BorshSerializationError",_ae);class Eae extends ce.ProgramError{constructor(e,t){super("Cannot create NFT with no Freeze Authority.",e,t),this.name="NoFreezeAuthoritySet",this.code=130}}j.NoFreezeAuthoritySetError=Eae;oe.set(130,Eae);ae.set("NoFreezeAuthoritySet",Eae);class xae extends ce.ProgramError{constructor(e,t){super("Invalid collection size change",e,t),this.name="InvalidCollectionSizeChange",this.code=131}}j.InvalidCollectionSizeChangeError=xae;oe.set(131,xae);ae.set("InvalidCollectionSizeChange",xae);class Tae extends ce.ProgramError{constructor(e,t){super("Invalid bubblegum signer",e,t),this.name="InvalidBubblegumSigner",this.code=132}}j.InvalidBubblegumSignerError=Tae;oe.set(132,Tae);ae.set("InvalidBubblegumSigner",Tae);class Rae extends ce.ProgramError{constructor(e,t){super("Escrow parent cannot have a delegate",e,t),this.name="EscrowParentHasDelegate",this.code=133}}j.EscrowParentHasDelegateError=Rae;oe.set(133,Rae);ae.set("EscrowParentHasDelegate",Rae);class Cae extends ce.ProgramError{constructor(e,t){super("Mint needs to be signer to initialize the account",e,t),this.name="MintIsNotSigner",this.code=134}}j.MintIsNotSignerError=Cae;oe.set(134,Cae);ae.set("MintIsNotSigner",Cae);class Mae extends ce.ProgramError{constructor(e,t){super("Invalid token standard",e,t),this.name="InvalidTokenStandard",this.code=135}}j.InvalidTokenStandardError=Mae;oe.set(135,Mae);ae.set("InvalidTokenStandard",Mae);class Bae extends ce.ProgramError{constructor(e,t){super("Invalid mint account for specified token standard",e,t),this.name="InvalidMintForTokenStandard",this.code=136}}j.InvalidMintForTokenStandardError=Bae;oe.set(136,Bae);ae.set("InvalidMintForTokenStandard",Bae);class zae extends ce.ProgramError{constructor(e,t){super("Invalid authorization rules account",e,t),this.name="InvalidAuthorizationRules",this.code=137}}j.InvalidAuthorizationRulesError=zae;oe.set(137,zae);ae.set("InvalidAuthorizationRules",zae);class $ae extends ce.ProgramError{constructor(e,t){super("Missing authorization rules account",e,t),this.name="MissingAuthorizationRules",this.code=138}}j.MissingAuthorizationRulesError=$ae;oe.set(138,$ae);ae.set("MissingAuthorizationRules",$ae);class Dae extends ce.ProgramError{constructor(e,t){super("Missing programmable configuration",e,t),this.name="MissingProgrammableConfig",this.code=139}}j.MissingProgrammableConfigError=Dae;oe.set(139,Dae);ae.set("MissingProgrammableConfig",Dae);class Oae extends ce.ProgramError{constructor(e,t){super("Invalid programmable configuration",e,t),this.name="InvalidProgrammableConfig",this.code=140}}j.InvalidProgrammableConfigError=Oae;oe.set(140,Oae);ae.set("InvalidProgrammableConfig",Oae);class Kae extends ce.ProgramError{constructor(e,t){super("Delegate already exists",e,t),this.name="DelegateAlreadyExists",this.code=141}}j.DelegateAlreadyExistsError=Kae;oe.set(141,Kae);ae.set("DelegateAlreadyExists",Kae);class Lae extends ce.ProgramError{constructor(e,t){super("Delegate not found",e,t),this.name="DelegateNotFound",this.code=142}}j.DelegateNotFoundError=Lae;oe.set(142,Lae);ae.set("DelegateNotFound",Lae);class Wae extends ce.ProgramError{constructor(e,t){super("Required account not set in instruction builder",e,t),this.name="MissingAccountInBuilder",this.code=143}}j.MissingAccountInBuilderError=Wae;oe.set(143,Wae);ae.set("MissingAccountInBuilder",Wae);class Nae extends ce.ProgramError{constructor(e,t){super("Required argument not set in instruction builder",e,t),this.name="MissingArgumentInBuilder",this.code=144}}j.MissingArgumentInBuilderError=Nae;oe.set(144,Nae);ae.set("MissingArgumentInBuilder",Nae);class Fae extends ce.ProgramError{constructor(e,t){super("Feature not supported currently",e,t),this.name="FeatureNotSupported",this.code=145}}j.FeatureNotSupportedError=Fae;oe.set(145,Fae);ae.set("FeatureNotSupported",Fae);class Uae extends ce.ProgramError{constructor(e,t){super("Invalid system wallet",e,t),this.name="InvalidSystemWallet",this.code=146}}j.InvalidSystemWalletError=Uae;oe.set(146,Uae);ae.set("InvalidSystemWallet",Uae);class Vae extends ce.ProgramError{constructor(e,t){super("Only the sale delegate can transfer while its set",e,t),this.name="OnlySaleDelegateCanTransfer",this.code=147}}j.OnlySaleDelegateCanTransferError=Vae;oe.set(147,Vae);ae.set("OnlySaleDelegateCanTransfer",Vae);class qae extends ce.ProgramError{constructor(e,t){super("Missing token account",e,t),this.name="MissingTokenAccount",this.code=148}}j.MissingTokenAccountError=qae;oe.set(148,qae);ae.set("MissingTokenAccount",qae);class jae extends ce.ProgramError{constructor(e,t){super("Missing SPL token program",e,t),this.name="MissingSplTokenProgram",this.code=149}}j.MissingSplTokenProgramError=jae;oe.set(149,jae);ae.set("MissingSplTokenProgram",jae);class Hae extends ce.ProgramError{constructor(e,t){super("Missing authorization rules program",e,t),this.name="MissingAuthorizationRulesProgram",this.code=150}}j.MissingAuthorizationRulesProgramError=Hae;oe.set(150,Hae);ae.set("MissingAuthorizationRulesProgram",Hae);class Gae extends ce.ProgramError{constructor(e,t){super("Invalid delegate role for transfer",e,t),this.name="InvalidDelegateRoleForTransfer",this.code=151}}j.InvalidDelegateRoleForTransferError=Gae;oe.set(151,Gae);ae.set("InvalidDelegateRoleForTransfer",Gae);class Yae extends ce.ProgramError{constructor(e,t){super("Invalid transfer authority",e,t),this.name="InvalidTransferAuthority",this.code=152}}j.InvalidTransferAuthorityError=Yae;oe.set(152,Yae);ae.set("InvalidTransferAuthority",Yae);class Zae extends ce.ProgramError{constructor(e,t){super("Instruction not supported for ProgrammableNonFungible assets",e,t),this.name="InstructionNotSupported",this.code=153}}j.InstructionNotSupportedError=Zae;oe.set(153,Zae);ae.set("InstructionNotSupported",Zae);class Jae extends ce.ProgramError{constructor(e,t){super("Public key does not match expected value",e,t),this.name="KeyMismatch",this.code=154}}j.KeyMismatchError=Jae;oe.set(154,Jae);ae.set("KeyMismatch",Jae);class Xae extends ce.ProgramError{constructor(e,t){super("Token is locked",e,t),this.name="LockedToken",this.code=155}}j.LockedTokenError=Xae;oe.set(155,Xae);ae.set("LockedToken",Xae);class Qae extends ce.ProgramError{constructor(e,t){super("Token is unlocked",e,t),this.name="UnlockedToken",this.code=156}}j.UnlockedTokenError=Qae;oe.set(156,Qae);ae.set("UnlockedToken",Qae);class ece extends ce.ProgramError{constructor(e,t){super("Missing delegate role",e,t),this.name="MissingDelegateRole",this.code=157}}j.MissingDelegateRoleError=ece;oe.set(157,ece);ae.set("MissingDelegateRole",ece);class tce extends ce.ProgramError{constructor(e,t){super("Invalid authority type",e,t),this.name="InvalidAuthorityType",this.code=158}}j.InvalidAuthorityTypeError=tce;oe.set(158,tce);ae.set("InvalidAuthorityType",tce);class rce extends ce.ProgramError{constructor(e,t){super("Missing token record account",e,t),this.name="MissingTokenRecord",this.code=159}}j.MissingTokenRecordError=rce;oe.set(159,rce);ae.set("MissingTokenRecord",rce);class nce extends ce.ProgramError{constructor(e,t){super("Mint supply must be zero for programmable assets",e,t),this.name="MintSupplyMustBeZero",this.code=160}}j.MintSupplyMustBeZeroError=nce;oe.set(160,nce);ae.set("MintSupplyMustBeZero",nce);class sce extends ce.ProgramError{constructor(e,t){super("Data is empty or zeroed",e,t),this.name="DataIsEmptyOrZeroed",this.code=161}}j.DataIsEmptyOrZeroedError=sce;oe.set(161,sce);ae.set("DataIsEmptyOrZeroed",sce);class ice extends ce.ProgramError{constructor(e,t){super("Missing token owner",e,t),this.name="MissingTokenOwnerAccount",this.code=162}}j.MissingTokenOwnerAccountError=ice;oe.set(162,ice);ae.set("MissingTokenOwnerAccount",ice);class oce extends ce.ProgramError{constructor(e,t){super("Master edition account has an invalid length",e,t),this.name="InvalidMasterEditionAccountLength",this.code=163}}j.InvalidMasterEditionAccountLengthError=oce;oe.set(163,oce);ae.set("InvalidMasterEditionAccountLength",oce);class ace extends ce.ProgramError{constructor(e,t){super("Incorrect token state",e,t),this.name="IncorrectTokenState",this.code=164}}j.IncorrectTokenStateError=ace;oe.set(164,ace);ae.set("IncorrectTokenState",ace);class cce extends ce.ProgramError{constructor(e,t){super("Invalid delegate role",e,t),this.name="InvalidDelegateRole",this.code=165}}j.InvalidDelegateRoleError=cce;oe.set(165,cce);ae.set("InvalidDelegateRole",cce);class uce extends ce.ProgramError{constructor(e,t){super("Print supply is required for non-fungibles",e,t),this.name="MissingPrintSupply",this.code=166}}j.MissingPrintSupplyError=uce;oe.set(166,uce);ae.set("MissingPrintSupply",uce);class lce extends ce.ProgramError{constructor(e,t){super("Missing master edition account",e,t),this.name="MissingMasterEditionAccount",this.code=167}}j.MissingMasterEditionAccountError=lce;oe.set(167,lce);ae.set("MissingMasterEditionAccount",lce);class dce extends ce.ProgramError{constructor(e,t){super("Amount must be greater than zero",e,t),this.name="AmountMustBeGreaterThanZero",this.code=168}}j.AmountMustBeGreaterThanZeroError=dce;oe.set(168,dce);ae.set("AmountMustBeGreaterThanZero",dce);class fce extends ce.ProgramError{constructor(e,t){super("Invalid delegate args",e,t),this.name="InvalidDelegateArgs",this.code=169}}j.InvalidDelegateArgsError=fce;oe.set(169,fce);ae.set("InvalidDelegateArgs",fce);class hce extends ce.ProgramError{constructor(e,t){super("Missing address for locked transfer",e,t),this.name="MissingLockedTransferAddress",this.code=170}}j.MissingLockedTransferAddressError=hce;oe.set(170,hce);ae.set("MissingLockedTransferAddress",hce);class gce extends ce.ProgramError{constructor(e,t){super("Invalid destination address for locked transfer",e,t),this.name="InvalidLockedTransferAddress",this.code=171}}j.InvalidLockedTransferAddressError=gce;oe.set(171,gce);ae.set("InvalidLockedTransferAddress",gce);class mce extends ce.ProgramError{constructor(e,t){super("Exceeded account realloc increase limit",e,t),this.name="DataIncrementLimitExceeded",this.code=172}}j.DataIncrementLimitExceededError=mce;oe.set(172,mce);ae.set("DataIncrementLimitExceeded",mce);class yce extends ce.ProgramError{constructor(e,t){super("Cannot update the rule set of a programmable asset that has a delegate",e,t),this.name="CannotUpdateAssetWithDelegate",this.code=173}}j.CannotUpdateAssetWithDelegateError=yce;oe.set(173,yce);ae.set("CannotUpdateAssetWithDelegate",yce);class pce extends ce.ProgramError{constructor(e,t){super("Invalid token amount for this operation or token standard",e,t),this.name="InvalidAmount",this.code=174}}j.InvalidAmountError=pce;oe.set(174,pce);ae.set("InvalidAmount",pce);class bce extends ce.ProgramError{constructor(e,t){super("Missing master edition mint account",e,t),this.name="MissingMasterEditionMintAccount",this.code=175}}j.MissingMasterEditionMintAccountError=bce;oe.set(175,bce);ae.set("MissingMasterEditionMintAccount",bce);class Sce extends ce.ProgramError{constructor(e,t){super("Missing master edition token account",e,t),this.name="MissingMasterEditionTokenAccount",this.code=176}}j.MissingMasterEditionTokenAccountError=Sce;oe.set(176,Sce);ae.set("MissingMasterEditionTokenAccount",Sce);class kce extends ce.ProgramError{constructor(e,t){super("Missing edition marker account",e,t),this.name="MissingEditionMarkerAccount",this.code=177}}j.MissingEditionMarkerAccountError=kce;oe.set(177,kce);ae.set("MissingEditionMarkerAccount",kce);class vce extends ce.ProgramError{constructor(e,t){super("Cannot burn while persistent delegate is set",e,t),this.name="CannotBurnWithDelegate",this.code=178}}j.CannotBurnWithDelegateError=vce;oe.set(178,vce);ae.set("CannotBurnWithDelegate",vce);class Ace extends ce.ProgramError{constructor(e,t){super("Missing edition account",e,t),this.name="MissingEdition",this.code=179}}j.MissingEditionError=Ace;oe.set(179,Ace);ae.set("MissingEdition",Ace);class wce extends ce.ProgramError{constructor(e,t){super("Invalid Associated Token Account Program",e,t),this.name="InvalidAssociatedTokenAccountProgram",this.code=180}}j.InvalidAssociatedTokenAccountProgramError=wce;oe.set(180,wce);ae.set("InvalidAssociatedTokenAccountProgram",wce);class Ice extends ce.ProgramError{constructor(e,t){super("Invalid InstructionsSysvar",e,t),this.name="InvalidInstructionsSysvar",this.code=181}}j.InvalidInstructionsSysvarError=Ice;oe.set(181,Ice);ae.set("InvalidInstructionsSysvar",Ice);class Pce extends ce.ProgramError{constructor(e,t){super("Invalid or Unneeded parent accounts",e,t),this.name="InvalidParentAccounts",this.code=182}}j.InvalidParentAccountsError=Pce;oe.set(182,Pce);ae.set("InvalidParentAccounts",Pce);class _ce extends ce.ProgramError{constructor(e,t){super("Authority cannot apply all update args",e,t),this.name="InvalidUpdateArgs",this.code=183}}j.InvalidUpdateArgsError=_ce;oe.set(183,_ce);ae.set("InvalidUpdateArgs",_ce);class Ece extends ce.ProgramError{constructor(e,t){super("Token account does not have enough tokens",e,t),this.name="InsufficientTokenBalance",this.code=184}}j.InsufficientTokenBalanceError=Ece;oe.set(184,Ece);ae.set("InsufficientTokenBalance",Ece);class xce extends ce.ProgramError{constructor(e,t){super("Missing collection account",e,t),this.name="MissingCollectionMint",this.code=185}}j.MissingCollectionMintError=xce;oe.set(185,xce);ae.set("MissingCollectionMint",xce);class Tce extends ce.ProgramError{constructor(e,t){super("Missing collection master edition account",e,t),this.name="MissingCollectionMasterEdition",this.code=186}}j.MissingCollectionMasterEditionError=Tce;oe.set(186,Tce);ae.set("MissingCollectionMasterEdition",Tce);class Rce extends ce.ProgramError{constructor(e,t){super("Invalid token record account",e,t),this.name="InvalidTokenRecord",this.code=187}}j.InvalidTokenRecordError=Rce;oe.set(187,Rce);ae.set("InvalidTokenRecord",Rce);class Cce extends ce.ProgramError{constructor(e,t){super("The close authority needs to be revoked by the Utility Delegate",e,t),this.name="InvalidCloseAuthority",this.code=188}}j.InvalidCloseAuthorityError=Cce;oe.set(188,Cce);ae.set("InvalidCloseAuthority",Cce);class Mce extends ce.ProgramError{constructor(e,t){super("Invalid or removed instruction",e,t),this.name="InvalidInstruction",this.code=189}}j.InvalidInstructionError=Mce;oe.set(189,Mce);ae.set("InvalidInstruction",Mce);class Bce extends ce.ProgramError{constructor(e,t){super("Missing delegate record",e,t),this.name="MissingDelegateRecord",this.code=190}}j.MissingDelegateRecordError=Bce;oe.set(190,Bce);ae.set("MissingDelegateRecord",Bce);class zce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidFeeAccount",this.code=191}}j.InvalidFeeAccountError=zce;oe.set(191,zce);ae.set("InvalidFeeAccount",zce);class $ce extends ce.ProgramError{constructor(e,t){super("",e,t),this.name="InvalidMetadataFlags",this.code=192}}j.InvalidMetadataFlagsError=$ce;oe.set(192,$ce);ae.set("InvalidMetadataFlags",$ce);class Dce extends ce.ProgramError{constructor(e,t){super("Cannot change the update authority with a delegate",e,t),this.name="CannotChangeUpdateAuthorityWithDelegate",this.code=193}}j.CannotChangeUpdateAuthorityWithDelegateError=Dce;oe.set(193,Dce);ae.set("CannotChangeUpdateAuthorityWithDelegate",Dce);class Oce extends ce.ProgramError{constructor(e,t){super("Invalid mint extension type",e,t),this.name="InvalidMintExtensionType",this.code=194}}j.InvalidMintExtensionTypeError=Oce;oe.set(194,Oce);ae.set("InvalidMintExtensionType",Oce);class Kce extends ce.ProgramError{constructor(e,t){super("Invalid mint close authority",e,t),this.name="InvalidMintCloseAuthority",this.code=195}}j.InvalidMintCloseAuthorityError=Kce;oe.set(195,Kce);ae.set("InvalidMintCloseAuthority",Kce);class Lce extends ce.ProgramError{constructor(e,t){super("Invalid metadata pointer",e,t),this.name="InvalidMetadataPointer",this.code=196}}j.InvalidMetadataPointerError=Lce;oe.set(196,Lce);ae.set("InvalidMetadataPointer",Lce);class Wce extends ce.ProgramError{constructor(e,t){super("Invalid token extension type",e,t),this.name="InvalidTokenExtensionType",this.code=197}}j.InvalidTokenExtensionTypeError=Wce;oe.set(197,Wce);ae.set("InvalidTokenExtensionType",Wce);class Nce extends ce.ProgramError{constructor(e,t){super("Missing immutable owner extension",e,t),this.name="MissingImmutableOwnerExtension",this.code=198}}j.MissingImmutableOwnerExtensionError=Nce;oe.set(198,Nce);ae.set("MissingImmutableOwnerExtension",Nce);class Fce extends ce.ProgramError{constructor(e,t){super("Expected account to be uninitialized",e,t),this.name="ExpectedUninitializedAccount",this.code=199}}j.ExpectedUninitializedAccountError=Fce;oe.set(199,Fce);ae.set("ExpectedUninitializedAccount",Fce);class Uce extends ce.ProgramError{constructor(e,t){super("Edition account has an invalid length",e,t),this.name="InvalidEditionAccountLength",this.code=200}}j.InvalidEditionAccountLengthError=Uce;oe.set(200,Uce);ae.set("InvalidEditionAccountLength",Uce);class Vce extends ce.ProgramError{constructor(e,t){super("Account has already been resized",e,t),this.name="AccountAlreadyResized",this.code=201}}j.AccountAlreadyResizedError=Vce;oe.set(201,Vce);ae.set("AccountAlreadyResized",Vce);class qce extends ce.ProgramError{constructor(e,t){super("Conditions for closing not met",e,t),this.name="ConditionsForClosingNotMet",this.code=202}}j.ConditionsForClosingNotMetError=qce;oe.set(202,qce);ae.set("ConditionsForClosingNotMet",qce);function DDt(n,e,t){const r=oe.get(n);return r?new r(e,t):null}j.getMplTokenMetadataErrorFromCode=DDt;function ODt(n,e,t){const r=ae.get(n);return r?new r(e,t):null}j.getMplTokenMetadataErrorFromName=ODt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(j,n)})(sie);var B$e={},X_={},Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getAccountMetasAndSigners=Ke.expectPda=Ke.expectPublicKey=Ke.expectSome=void 0;const J2=Z;function KDt(n){if(n==null)throw new Error("Expected a value but received null or undefined.");return n}Ke.expectSome=KDt;function LDt(n){if(!n)throw new Error("Expected a PublicKey.");return(0,J2.publicKey)(n,!1)}Ke.expectPublicKey=LDt;function WDt(n){if(!n||!Array.isArray(n)||!(0,J2.isPda)(n))throw new Error("Expected a PDA.");return n}Ke.expectPda=WDt;function NDt(n,e,t){const r=[],s=[];return n.forEach(i=>{if(!i.value){if(e==="omitted")return;r.push({pubkey:t,isSigner:!1,isWritable:!1});return}(0,J2.isSigner)(i.value)&&s.push(i.value),r.push({pubkey:(0,J2.publicKey)(i.value,!1),isSigner:(0,J2.isSigner)(i.value),isWritable:i.isWritable})}),[r,s]}Ke.getAccountMetasAndSigners=NDt;Object.defineProperty(X_,"__esModule",{value:!0});X_.approveCollectionAuthority=X_.getApproveCollectionAuthorityInstructionDataSerializer=void 0;const FDt=Z,o7=q,UDt=Nt,fbe=Ke;function z$e(){return(0,o7.mapSerializer)((0,o7.struct)([["discriminator",(0,o7.u8)()]],{description:"ApproveCollectionAuthorityInstructionData"}),n=>({...n,discriminator:23}))}X_.getApproveCollectionAuthorityInstructionDataSerializer=z$e;function VDt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},newCollectionAuthority:{index:1,isWritable:!1,value:e.newCollectionAuthority??null},updateAuthority:{index:2,isWritable:!0,value:e.updateAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},metadata:{index:4,isWritable:!1,value:e.metadata??null},mint:{index:5,isWritable:!1,value:e.mint??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},rent:{index:7,isWritable:!1,value:e.rent??null}};r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,UDt.findMetadataPda)(n,{mint:(0,fbe.expectPublicKey)(r.mint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fbe.getAccountMetasAndSigners)(s,"omitted",t),a=z$e().serialize({}),c=0;return(0,FDt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}X_.approveCollectionAuthority=VDt;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});Q_.approveUseAuthority=Q_.getApproveUseAuthorityInstructionDataSerializer=void 0;const qDt=Z,I3=q,jDt=Nt,hbe=Ke;function $$e(){return(0,I3.mapSerializer)((0,I3.struct)([["discriminator",(0,I3.u8)()],["numberOfUses",(0,I3.u64)()]],{description:"ApproveUseAuthorityInstructionData"}),n=>({...n,discriminator:20}))}Q_.getApproveUseAuthorityInstructionDataSerializer=$$e;function HDt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},payer:{index:2,isWritable:!0,value:e.payer??null},user:{index:3,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:4,isWritable:!0,value:e.ownerTokenAccount??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},mint:{index:6,isWritable:!1,value:e.mint??null},burner:{index:7,isWritable:!1,value:e.burner??null},tokenProgram:{index:8,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},rent:{index:10,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,jDt.findMetadataPda)(n,{mint:(0,hbe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hbe.getAccountMetasAndSigners)(i,"omitted",t),c=$$e().serialize(s),u=0;return(0,qDt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Q_.approveUseAuthority=HDt;var eE={};Object.defineProperty(eE,"__esModule",{value:!0});eE.bubblegumSetCollectionSize=eE.getBubblegumSetCollectionSizeInstructionDataSerializer=void 0;const GDt=Z,a7=q,YDt=Ke,ZDt=lt;function D$e(){return(0,a7.mapSerializer)((0,a7.struct)([["discriminator",(0,a7.u8)()],["setCollectionSizeArgs",(0,ZDt.getSetCollectionSizeArgsSerializer)()]],{description:"BubblegumSetCollectionSizeInstructionData"}),n=>({...n,discriminator:36}))}eE.getBubblegumSetCollectionSizeInstructionDataSerializer=D$e;function JDt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},bubblegumSigner:{index:3,isWritable:!1,value:e.bubblegumSigner??null},collectionAuthorityRecord:{index:4,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,YDt.getAccountMetasAndSigners)(i,"omitted",t),c=D$e().serialize(s),u=0;return(0,GDt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}eE.bubblegumSetCollectionSize=JDt;var tE={};Object.defineProperty(tE,"__esModule",{value:!0});tE.burnEditionNft=tE.getBurnEditionNftInstructionDataSerializer=void 0;const XDt=Z,c7=q,QDt=Ke;function O$e(){return(0,c7.mapSerializer)((0,c7.struct)([["discriminator",(0,c7.u8)()]],{description:"BurnEditionNftInstructionData"}),n=>({...n,discriminator:37}))}tE.getBurnEditionNftInstructionDataSerializer=O$e;function eOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},printEditionMint:{index:2,isWritable:!0,value:e.printEditionMint??null},masterEditionMint:{index:3,isWritable:!1,value:e.masterEditionMint??null},printEditionTokenAccount:{index:4,isWritable:!0,value:e.printEditionTokenAccount??null},masterEditionTokenAccount:{index:5,isWritable:!1,value:e.masterEditionTokenAccount??null},masterEditionAccount:{index:6,isWritable:!0,value:e.masterEditionAccount??null},printEditionAccount:{index:7,isWritable:!0,value:e.printEditionAccount??null},editionMarkerAccount:{index:8,isWritable:!0,value:e.editionMarkerAccount??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null}};r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,QDt.getAccountMetasAndSigners)(s,"programId",t),a=O$e().serialize({}),c=0;return(0,XDt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}tE.burnEditionNft=eOt;var rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.burnNft=rE.getBurnNftInstructionDataSerializer=void 0;const tOt=Z,u7=q,rOt=Nt,gbe=Ke;function K$e(){return(0,u7.mapSerializer)((0,u7.struct)([["discriminator",(0,u7.u8)()]],{description:"BurnNftInstructionData"}),n=>({...n,discriminator:29}))}rE.getBurnNftInstructionDataSerializer=K$e;function nOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!0,value:e.owner??null},mint:{index:2,isWritable:!0,value:e.mint??null},tokenAccount:{index:3,isWritable:!0,value:e.tokenAccount??null},masterEditionAccount:{index:4,isWritable:!0,value:e.masterEditionAccount??null},splTokenProgram:{index:5,isWritable:!1,value:e.splTokenProgram??null},collectionMetadata:{index:6,isWritable:!0,value:e.collectionMetadata??null}};r.metadata.value||(r.metadata.value=(0,rOt.findMetadataPda)(n,{mint:(0,gbe.expectPublicKey)(r.mint.value)})),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,gbe.getAccountMetasAndSigners)(s,"omitted",t),a=K$e().serialize({}),c=0;return(0,tOt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}rE.burnNft=nOt;var nE={};Object.defineProperty(nE,"__esModule",{value:!0});nE.burnV1=nE.getBurnV1InstructionDataSerializer=void 0;const sOt=Gs,mbe=Z,JC=q,iOt=an,P3=Nt,dy=Ke,oOt=lt;function L$e(){return(0,JC.mapSerializer)((0,JC.struct)([["discriminator",(0,JC.u8)()],["burnV1Discriminator",(0,JC.u8)()],["amount",(0,JC.u64)()]],{description:"BurnV1InstructionData"}),n=>({...n,discriminator:41,burnV1Discriminator:0,amount:n.amount??1}))}nE.getBurnV1InstructionDataSerializer=L$e;function aOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!0,value:e.authority??null},collectionMetadata:{index:1,isWritable:!0,value:e.collectionMetadata??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},edition:{index:3,isWritable:!0,value:e.edition??null},mint:{index:4,isWritable:!0,value:e.mint??null},token:{index:5,isWritable:!0,value:e.token??null},masterEdition:{index:6,isWritable:!0,value:e.masterEdition??null},masterEditionMint:{index:7,isWritable:!1,value:e.masterEditionMint??null},masterEditionToken:{index:8,isWritable:!1,value:e.masterEditionToken??null},editionMarker:{index:9,isWritable:!0,value:e.editionMarker??null},tokenRecord:{index:10,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,P3.findMetadataPda)(n,{mint:(0,dy.expectPublicKey)(r.mint.value)})),r.edition.value||(0,iOt.resolveIsNonFungible)(n,r,s,t,!0)&&(r.edition.value=(0,P3.findMasterEditionPda)(n,{mint:(0,dy.expectPublicKey)(r.mint.value)})),s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,sOt.findAssociatedTokenPda)(n,{mint:(0,dy.expectPublicKey)(r.mint.value),owner:(0,dy.expectSome)(s.tokenOwner)})),r.masterEdition.value||r.masterEditionMint.value&&(r.masterEdition.value=(0,P3.findMasterEditionPda)(n,{mint:(0,dy.expectPublicKey)(r.masterEditionMint.value)})),r.tokenRecord.value||s.tokenStandard===oOt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,P3.findTokenRecordPda)(n,{mint:(0,dy.expectPublicKey)(r.mint.value),token:(0,dy.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,mbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dy.getAccountMetasAndSigners)(i,"programId",t),c=L$e().serialize(s),u=0;return(0,mbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}nE.burnV1=aOt;var sE={};Object.defineProperty(sE,"__esModule",{value:!0});sE.closeAccounts=sE.getCloseAccountsInstructionDataSerializer=void 0;const cOt=Z,l7=q,ybe=Nt,d7=Ke;function W$e(){return(0,l7.mapSerializer)((0,l7.struct)([["discriminator",(0,l7.u8)()]],{description:"CloseAccountsInstructionData"}),n=>({...n,discriminator:57}))}sE.getCloseAccountsInstructionDataSerializer=W$e;function uOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},destination:{index:4,isWritable:!0,value:e.destination??null}};r.metadata.value||(r.metadata.value=(0,ybe.findMetadataPda)(n,{mint:(0,d7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,ybe.findMasterEditionPda)(n,{mint:(0,d7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,d7.getAccountMetasAndSigners)(s,"programId",t),a=W$e().serialize({}),c=0;return(0,cOt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}sE.closeAccounts=uOt;var iE={};Object.defineProperty(iE,"__esModule",{value:!0});iE.closeEscrowAccount=iE.getCloseEscrowAccountInstructionDataSerializer=void 0;const pbe=Z,f7=q,bbe=Nt,h7=Ke;function N$e(){return(0,f7.mapSerializer)((0,f7.struct)([["discriminator",(0,f7.u8)()]],{description:"CloseEscrowAccountInstructionData"}),n=>({...n,discriminator:39}))}iE.getCloseEscrowAccountInstructionDataSerializer=N$e;function lOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.metadata.value||(r.metadata.value=(0,bbe.findMetadataPda)(n,{mint:(0,h7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,bbe.findMasterEditionPda)(n,{mint:(0,h7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,pbe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,h7.getAccountMetasAndSigners)(s,"programId",t),a=N$e().serialize({}),c=0;return(0,pbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}iE.closeEscrowAccount=lOt;var oE={};Object.defineProperty(oE,"__esModule",{value:!0});oE.collect=oE.getCollectInstructionDataSerializer=void 0;const dOt=Z,g7=q,fOt=Ke;function F$e(){return(0,g7.mapSerializer)((0,g7.struct)([["discriminator",(0,g7.u8)()]],{description:"CollectInstructionData"}),n=>({...n,discriminator:54}))}oE.getCollectInstructionDataSerializer=F$e;function hOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},recipient:{index:1,isWritable:!1,value:e.recipient??null}};r.authority.value||(r.authority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,fOt.getAccountMetasAndSigners)(s,"programId",t),a=F$e().serialize({}),c=0;return(0,dOt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}oE.collect=hOt;var aE={};Object.defineProperty(aE,"__esModule",{value:!0});aE.convertMasterEditionV1ToV2=aE.getConvertMasterEditionV1ToV2InstructionDataSerializer=void 0;const gOt=Z,m7=q,mOt=Ke;function U$e(){return(0,m7.mapSerializer)((0,m7.struct)([["discriminator",(0,m7.u8)()]],{description:"ConvertMasterEditionV1ToV2InstructionData"}),n=>({...n,discriminator:12}))}aE.getConvertMasterEditionV1ToV2InstructionDataSerializer=U$e;function yOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={masterEdition:{index:0,isWritable:!0,value:e.masterEdition??null},oneTimeAuth:{index:1,isWritable:!0,value:e.oneTimeAuth??null},printingMint:{index:2,isWritable:!0,value:e.printingMint??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,mOt.getAccountMetasAndSigners)(s,"programId",t),a=U$e().serialize({}),c=0;return(0,gOt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}aE.convertMasterEditionV1ToV2=yOt;var cE={};Object.defineProperty(cE,"__esModule",{value:!0});cE.createEscrowAccount=cE.getCreateEscrowAccountInstructionDataSerializer=void 0;const Sbe=Z,y7=q,kbe=Nt,p7=Ke;function V$e(){return(0,y7.mapSerializer)((0,y7.struct)([["discriminator",(0,y7.u8)()]],{description:"CreateEscrowAccountInstructionData"}),n=>({...n,discriminator:38}))}cE.getCreateEscrowAccountInstructionDataSerializer=V$e;function pOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!0,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},mint:{index:2,isWritable:!1,value:e.mint??null},tokenAccount:{index:3,isWritable:!1,value:e.tokenAccount??null},edition:{index:4,isWritable:!1,value:e.edition??null},payer:{index:5,isWritable:!0,value:e.payer??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:8,isWritable:!1,value:e.authority??null}};r.metadata.value||(r.metadata.value=(0,kbe.findMetadataPda)(n,{mint:(0,p7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,kbe.findMasterEditionPda)(n,{mint:(0,p7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Sbe.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,p7.getAccountMetasAndSigners)(s,"omitted",t),a=V$e().serialize({}),c=0;return(0,Sbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}cE.createEscrowAccount=pOt;var uE={};Object.defineProperty(uE,"__esModule",{value:!0});uE.createMasterEditionV3=uE.getCreateMasterEditionV3InstructionDataSerializer=void 0;const bOt=Z,XC=q,vbe=Nt,b7=Ke;function q$e(){return(0,XC.mapSerializer)((0,XC.struct)([["discriminator",(0,XC.u8)()],["maxSupply",(0,XC.option)((0,XC.u64)())]],{description:"CreateMasterEditionV3InstructionData"}),n=>({...n,discriminator:17}))}uE.getCreateMasterEditionV3InstructionDataSerializer=q$e;function SOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={edition:{index:0,isWritable:!0,value:e.edition??null},mint:{index:1,isWritable:!0,value:e.mint??null},updateAuthority:{index:2,isWritable:!1,value:e.updateAuthority??null},mintAuthority:{index:3,isWritable:!1,value:e.mintAuthority??null},payer:{index:4,isWritable:!0,value:e.payer??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}},s={...e};r.edition.value||(r.edition.value=(0,vbe.findMasterEditionPda)(n,{mint:(0,b7.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.metadata.value||(r.metadata.value=(0,vbe.findMetadataPda)(n,{mint:(0,b7.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b7.getAccountMetasAndSigners)(i,"omitted",t),c=q$e().serialize(s),u=0;return(0,bOt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}uE.createMasterEditionV3=SOt;var lE={};Object.defineProperty(lE,"__esModule",{value:!0});lE.createMetadataAccountV3=lE.getCreateMetadataAccountV3InstructionDataSerializer=void 0;const kOt=Z,QC=q,vOt=Nt,Abe=Ke,wbe=lt;function j$e(){return(0,QC.mapSerializer)((0,QC.struct)([["discriminator",(0,QC.u8)()],["data",(0,wbe.getDataV2Serializer)()],["isMutable",(0,QC.bool)()],["collectionDetails",(0,QC.option)((0,wbe.getCollectionDetailsSerializer)())]],{description:"CreateMetadataAccountV3InstructionData"}),n=>({...n,discriminator:33}))}lE.getCreateMetadataAccountV3InstructionDataSerializer=j$e;function AOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},mint:{index:1,isWritable:!1,value:e.mint??null},mintAuthority:{index:2,isWritable:!1,value:e.mintAuthority??null},payer:{index:3,isWritable:!0,value:e.payer??null},updateAuthority:{index:4,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},rent:{index:6,isWritable:!1,value:e.rent??null}},s={...e};r.metadata.value||(r.metadata.value=(0,vOt.findMetadataPda)(n,{mint:(0,Abe.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Abe.getAccountMetasAndSigners)(i,"omitted",t),c=j$e().serialize(s),u=0;return(0,kOt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}lE.createMetadataAccountV3=AOt;var dE={};Object.defineProperty(dE,"__esModule",{value:!0});dE.createV1=dE.getCreateV1InstructionDataSerializer=void 0;const Nv=Z,No=q,R0=an,Ibe=Nt,_3=Ke,Sy=lt;function H$e(){return(0,No.mapSerializer)((0,No.struct)([["discriminator",(0,No.u8)()],["createV1Discriminator",(0,No.u8)()],["name",(0,No.string)()],["symbol",(0,No.string)()],["uri",(0,No.string)()],["sellerFeeBasisPoints",(0,Nv.mapAmountSerializer)((0,No.u16)(),"%",2)],["creators",(0,No.option)((0,No.array)((0,Sy.getCreatorSerializer)()))],["primarySaleHappened",(0,No.bool)()],["isMutable",(0,No.bool)()],["tokenStandard",(0,Sy.getTokenStandardSerializer)()],["collection",(0,No.option)((0,Sy.getCollectionSerializer)())],["uses",(0,No.option)((0,Sy.getUsesSerializer)())],["collectionDetails",(0,No.option)((0,Sy.getCollectionDetailsSerializer)())],["ruleSet",(0,No.option)((0,No.publicKey)())],["decimals",(0,No.option)((0,No.u8)())],["printSupply",(0,No.option)((0,Sy.getPrintSupplySerializer)())]],{description:"CreateV1InstructionData"}),n=>({...n,discriminator:42,createV1Discriminator:0,symbol:n.symbol??"",primarySaleHappened:n.primarySaleHappened??!1,isMutable:n.isMutable??!0,tokenStandard:n.tokenStandard??Sy.TokenStandard.NonFungible,collection:n.collection??(0,Nv.none)(),uses:n.uses??(0,Nv.none)(),ruleSet:n.ruleSet??(0,Nv.none)()}))}dE.getCreateV1InstructionDataSerializer=H$e;function wOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},masterEdition:{index:1,isWritable:!0,value:e.masterEdition??null},mint:{index:2,isWritable:!0,value:e.mint??null},authority:{index:3,isWritable:!1,value:e.authority??null},payer:{index:4,isWritable:!0,value:e.payer??null},updateAuthority:{index:5,isWritable:!1,value:e.updateAuthority??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:8,isWritable:!1,value:e.splTokenProgram??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Ibe.findMetadataPda)(n,{mint:(0,_3.expectPublicKey)(r.mint.value)})),s.tokenStandard||(s.tokenStandard=Sy.TokenStandard.NonFungible),r.masterEdition.value||(0,R0.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,Ibe.findMasterEditionPda)(n,{mint:(0,_3.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=(0,_3.expectSome)(r.authority.value)),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Nv.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(0,R0.resolveIsNonFungibleOrIsMintSigner)(n,r,s,t,!1)&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),s.creators||(s.creators=(0,R0.resolveCreators)(n,r,s,t,!1)),s.isCollection||(s.isCollection=!1),s.collectionDetails||(s.collectionDetails=(0,R0.resolveCollectionDetails)(n,r,s,t,!1)),s.decimals||(s.decimals=(0,R0.resolveDecimals)(n,r,s,t,!1)),s.printSupply||(s.printSupply=(0,R0.resolvePrintSupply)(n,r,s,t,!1));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,_3.getAccountMetasAndSigners)(i,"programId",t),c=H$e().serialize(s),u=(0,R0.resolveCreateV1Bytes)(n,r,s,t);return(0,Nv.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}dE.createV1=wOt;var fE={};Object.defineProperty(fE,"__esModule",{value:!0});fE.delegateAuthorityItemV1=fE.getDelegateAuthorityItemV1InstructionDataSerializer=void 0;const jj=Z,e2=q,IOt=an,S7=Nt,C0=Ke,G$e=lt;function Y$e(){return(0,e2.mapSerializer)((0,e2.struct)([["discriminator",(0,e2.u8)()],["delegateAuthorityItemV1Discriminator",(0,e2.u8)()],["authorizationData",(0,e2.option)((0,G$e.getAuthorizationDataSerializer)())]],{description:"DelegateAuthorityItemV1InstructionData"}),n=>({...n,discriminator:44,delegateAuthorityItemV1Discriminator:9,authorizationData:n.authorizationData??(0,jj.none)()}))}fE.getDelegateAuthorityItemV1InstructionDataSerializer=Y$e;function POt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,C0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,S7.findMetadataDelegateRecordPda)(n,{delegateRole:G$e.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,C0.expectSome)(s.updateAuthority),mint:(0,C0.expectPublicKey)(r.mint.value),delegate:(0,C0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,S7.findMetadataPda)(n,{mint:(0,C0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,IOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,S7.findMasterEditionPda)(n,{mint:(0,C0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,jj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,C0.getAccountMetasAndSigners)(i,"programId",t),c=Y$e().serialize(s),u=0;return(0,jj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}fE.delegateAuthorityItemV1=POt;var hE={};Object.defineProperty(hE,"__esModule",{value:!0});hE.delegateCollectionItemV1=hE.getDelegateCollectionItemV1InstructionDataSerializer=void 0;const Hj=Z,t2=q,_Ot=an,k7=Nt,M0=Ke,Z$e=lt;function J$e(){return(0,t2.mapSerializer)((0,t2.struct)([["discriminator",(0,t2.u8)()],["delegateCollectionItemV1Discriminator",(0,t2.u8)()],["authorizationData",(0,t2.option)((0,Z$e.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionItemV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionItemV1Discriminator:11,authorizationData:n.authorizationData??(0,Hj.none)()}))}hE.getDelegateCollectionItemV1InstructionDataSerializer=J$e;function EOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,M0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,k7.findMetadataDelegateRecordPda)(n,{delegateRole:Z$e.MetadataDelegateRole.CollectionItem,updateAuthority:(0,M0.expectSome)(s.updateAuthority),mint:(0,M0.expectPublicKey)(r.mint.value),delegate:(0,M0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,k7.findMetadataPda)(n,{mint:(0,M0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,_Ot.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,k7.findMasterEditionPda)(n,{mint:(0,M0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Hj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,M0.getAccountMetasAndSigners)(i,"programId",t),c=J$e().serialize(s),u=0;return(0,Hj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}hE.delegateCollectionItemV1=EOt;var gE={};Object.defineProperty(gE,"__esModule",{value:!0});gE.delegateCollectionV1=gE.getDelegateCollectionV1InstructionDataSerializer=void 0;const Gj=Z,r2=q,xOt=an,v7=Nt,B0=Ke,X$e=lt;function Q$e(){return(0,r2.mapSerializer)((0,r2.struct)([["discriminator",(0,r2.u8)()],["delegateCollectionV1Discriminator",(0,r2.u8)()],["authorizationData",(0,r2.option)((0,X$e.getAuthorizationDataSerializer)())]],{description:"DelegateCollectionV1InstructionData"}),n=>({...n,discriminator:44,delegateCollectionV1Discriminator:0,authorizationData:n.authorizationData??(0,Gj.none)()}))}gE.getDelegateCollectionV1InstructionDataSerializer=Q$e;function TOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,B0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,v7.findMetadataDelegateRecordPda)(n,{delegateRole:X$e.MetadataDelegateRole.Collection,updateAuthority:(0,B0.expectSome)(s.updateAuthority),mint:(0,B0.expectPublicKey)(r.mint.value),delegate:(0,B0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,v7.findMetadataPda)(n,{mint:(0,B0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,xOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,v7.findMasterEditionPda)(n,{mint:(0,B0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Gj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,B0.getAccountMetasAndSigners)(i,"programId",t),c=Q$e().serialize(s),u=0;return(0,Gj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gE.delegateCollectionV1=TOt;var mE={};Object.defineProperty(mE,"__esModule",{value:!0});mE.delegateDataItemV1=mE.getDelegateDataItemV1InstructionDataSerializer=void 0;const Yj=Z,n2=q,ROt=an,A7=Nt,z0=Ke,e8e=lt;function t8e(){return(0,n2.mapSerializer)((0,n2.struct)([["discriminator",(0,n2.u8)()],["delegateDataItemV1Discriminator",(0,n2.u8)()],["authorizationData",(0,n2.option)((0,e8e.getAuthorizationDataSerializer)())]],{description:"DelegateDataItemV1InstructionData"}),n=>({...n,discriminator:44,delegateDataItemV1Discriminator:10,authorizationData:n.authorizationData??(0,Yj.none)()}))}mE.getDelegateDataItemV1InstructionDataSerializer=t8e;function COt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,z0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,A7.findMetadataDelegateRecordPda)(n,{delegateRole:e8e.MetadataDelegateRole.DataItem,updateAuthority:(0,z0.expectSome)(s.updateAuthority),mint:(0,z0.expectPublicKey)(r.mint.value),delegate:(0,z0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,A7.findMetadataPda)(n,{mint:(0,z0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,ROt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,A7.findMasterEditionPda)(n,{mint:(0,z0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Yj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,z0.getAccountMetasAndSigners)(i,"programId",t),c=t8e().serialize(s),u=0;return(0,Yj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mE.delegateDataItemV1=COt;var yE={};Object.defineProperty(yE,"__esModule",{value:!0});yE.delegateDataV1=yE.getDelegateDataV1InstructionDataSerializer=void 0;const Zj=Z,s2=q,MOt=an,w7=Nt,$0=Ke,r8e=lt;function n8e(){return(0,s2.mapSerializer)((0,s2.struct)([["discriminator",(0,s2.u8)()],["delegateDataV1Discriminator",(0,s2.u8)()],["authorizationData",(0,s2.option)((0,r8e.getAuthorizationDataSerializer)())]],{description:"DelegateDataV1InstructionData"}),n=>({...n,discriminator:44,delegateDataV1Discriminator:3,authorizationData:n.authorizationData??(0,Zj.none)()}))}yE.getDelegateDataV1InstructionDataSerializer=n8e;function BOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,$0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,w7.findMetadataDelegateRecordPda)(n,{delegateRole:r8e.MetadataDelegateRole.Data,updateAuthority:(0,$0.expectSome)(s.updateAuthority),mint:(0,$0.expectPublicKey)(r.mint.value),delegate:(0,$0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,w7.findMetadataPda)(n,{mint:(0,$0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,MOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,w7.findMasterEditionPda)(n,{mint:(0,$0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Zj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,$0.getAccountMetasAndSigners)(i,"programId",t),c=n8e().serialize(s),u=0;return(0,Zj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yE.delegateDataV1=BOt;var pE={};Object.defineProperty(pE,"__esModule",{value:!0});pE.delegateLockedTransferV1=pE.getDelegateLockedTransferV1InstructionDataSerializer=void 0;const zOt=Gs,Jj=Z,D0=q,$Ot=an,E3=Nt,ng=Ke,s8e=lt;function i8e(){return(0,D0.mapSerializer)((0,D0.struct)([["discriminator",(0,D0.u8)()],["delegateLockedTransferV1Discriminator",(0,D0.u8)()],["amount",(0,D0.u64)()],["lockedAddress",(0,D0.publicKey)()],["authorizationData",(0,D0.option)((0,s8e.getAuthorizationDataSerializer)())]],{description:"DelegateLockedTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateLockedTransferV1Discriminator:7,amount:n.amount??1,authorizationData:n.authorizationData??(0,Jj.none)()}))}pE.getDelegateLockedTransferV1InstructionDataSerializer=i8e;function DOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,zOt.findAssociatedTokenPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value),owner:(0,ng.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,E3.findTokenRecordPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value),token:(0,ng.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,E3.findMetadataPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,$Ot.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,E3.findMasterEditionPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===s8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,E3.findTokenRecordPda)(n,{mint:(0,ng.expectPublicKey)(r.mint.value),token:(0,ng.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Jj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ng.getAccountMetasAndSigners)(i,"programId",t),c=i8e().serialize(s),u=0;return(0,Jj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}pE.delegateLockedTransferV1=DOt;var bE={};Object.defineProperty(bE,"__esModule",{value:!0});bE.delegatePrintDelegateV1=bE.getDelegatePrintDelegateV1InstructionDataSerializer=void 0;const Xj=Z,i2=q,OOt=an,Pbe=Nt,I7=Ke,KOt=lt;function o8e(){return(0,i2.mapSerializer)((0,i2.struct)([["discriminator",(0,i2.u8)()],["delegatePrintDelegateV1Discriminator",(0,i2.u8)()],["authorizationData",(0,i2.option)((0,KOt.getAuthorizationDataSerializer)())]],{description:"DelegatePrintDelegateV1InstructionData"}),n=>({...n,discriminator:44,delegatePrintDelegateV1Discriminator:13,authorizationData:n.authorizationData??(0,Xj.none)()}))}bE.getDelegatePrintDelegateV1InstructionDataSerializer=o8e;function LOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.metadata.value||(r.metadata.value=(0,Pbe.findMetadataPda)(n,{mint:(0,I7.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,OOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,Pbe.findMasterEditionPda)(n,{mint:(0,I7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Xj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,I7.getAccountMetasAndSigners)(i,"programId",t),c=o8e().serialize(s),u=0;return(0,Xj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bE.delegatePrintDelegateV1=LOt;var SE={};Object.defineProperty(SE,"__esModule",{value:!0});SE.delegateProgrammableConfigItemV1=SE.getDelegateProgrammableConfigItemV1InstructionDataSerializer=void 0;const Qj=Z,o2=q,WOt=an,P7=Nt,O0=Ke,a8e=lt;function c8e(){return(0,o2.mapSerializer)((0,o2.struct)([["discriminator",(0,o2.u8)()],["delegateProgrammableConfigItemV1Discriminator",(0,o2.u8)()],["authorizationData",(0,o2.option)((0,a8e.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigItemV1Discriminator:12,authorizationData:n.authorizationData??(0,Qj.none)()}))}SE.getDelegateProgrammableConfigItemV1InstructionDataSerializer=c8e;function NOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,O0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,P7.findMetadataDelegateRecordPda)(n,{delegateRole:a8e.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,O0.expectSome)(s.updateAuthority),mint:(0,O0.expectPublicKey)(r.mint.value),delegate:(0,O0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,P7.findMetadataPda)(n,{mint:(0,O0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,WOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,P7.findMasterEditionPda)(n,{mint:(0,O0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qj.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,O0.getAccountMetasAndSigners)(i,"programId",t),c=c8e().serialize(s),u=0;return(0,Qj.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}SE.delegateProgrammableConfigItemV1=NOt;var kE={};Object.defineProperty(kE,"__esModule",{value:!0});kE.delegateProgrammableConfigV1=kE.getDelegateProgrammableConfigV1InstructionDataSerializer=void 0;const eH=Z,a2=q,FOt=an,_7=Nt,K0=Ke,u8e=lt;function l8e(){return(0,a2.mapSerializer)((0,a2.struct)([["discriminator",(0,a2.u8)()],["delegateProgrammableConfigV1Discriminator",(0,a2.u8)()],["authorizationData",(0,a2.option)((0,u8e.getAuthorizationDataSerializer)())]],{description:"DelegateProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:44,delegateProgrammableConfigV1Discriminator:8,authorizationData:n.authorizationData??(0,eH.none)()}))}kE.getDelegateProgrammableConfigV1InstructionDataSerializer=l8e;function UOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,K0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,_7.findMetadataDelegateRecordPda)(n,{delegateRole:u8e.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,K0.expectSome)(s.updateAuthority),mint:(0,K0.expectPublicKey)(r.mint.value),delegate:(0,K0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,_7.findMetadataPda)(n,{mint:(0,K0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,FOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,_7.findMasterEditionPda)(n,{mint:(0,K0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,eH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,K0.getAccountMetasAndSigners)(i,"programId",t),c=l8e().serialize(s),u=0;return(0,eH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kE.delegateProgrammableConfigV1=UOt;var vE={};Object.defineProperty(vE,"__esModule",{value:!0});vE.delegateSaleV1=vE.getDelegateSaleV1InstructionDataSerializer=void 0;const VOt=Gs,tH=Z,iv=q,qOt=an,x3=Nt,sg=Ke,d8e=lt;function f8e(){return(0,iv.mapSerializer)((0,iv.struct)([["discriminator",(0,iv.u8)()],["delegateSaleV1Discriminator",(0,iv.u8)()],["amount",(0,iv.u64)()],["authorizationData",(0,iv.option)((0,d8e.getAuthorizationDataSerializer)())]],{description:"DelegateSaleV1InstructionData"}),n=>({...n,discriminator:44,delegateSaleV1Discriminator:1,amount:n.amount??1,authorizationData:n.authorizationData??(0,tH.none)()}))}vE.getDelegateSaleV1InstructionDataSerializer=f8e;function jOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,VOt.findAssociatedTokenPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value),owner:(0,sg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,x3.findTokenRecordPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value),token:(0,sg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,x3.findMetadataPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,qOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,x3.findMasterEditionPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===d8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,x3.findTokenRecordPda)(n,{mint:(0,sg.expectPublicKey)(r.mint.value),token:(0,sg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,tH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,sg.getAccountMetasAndSigners)(i,"programId",t),c=f8e().serialize(s),u=0;return(0,tH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}vE.delegateSaleV1=jOt;var AE={};Object.defineProperty(AE,"__esModule",{value:!0});AE.delegateStakingV1=AE.getDelegateStakingV1InstructionDataSerializer=void 0;const HOt=Gs,rH=Z,ov=q,GOt=an,T3=Nt,ig=Ke,h8e=lt;function g8e(){return(0,ov.mapSerializer)((0,ov.struct)([["discriminator",(0,ov.u8)()],["delegateStakingV1Discriminator",(0,ov.u8)()],["amount",(0,ov.u64)()],["authorizationData",(0,ov.option)((0,h8e.getAuthorizationDataSerializer)())]],{description:"DelegateStakingV1InstructionData"}),n=>({...n,discriminator:44,delegateStakingV1Discriminator:5,amount:n.amount??1,authorizationData:n.authorizationData??(0,rH.none)()}))}AE.getDelegateStakingV1InstructionDataSerializer=g8e;function YOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,HOt.findAssociatedTokenPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value),owner:(0,ig.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,T3.findTokenRecordPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value),token:(0,ig.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,T3.findMetadataPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,GOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,T3.findMasterEditionPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===h8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,T3.findTokenRecordPda)(n,{mint:(0,ig.expectPublicKey)(r.mint.value),token:(0,ig.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,rH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ig.getAccountMetasAndSigners)(i,"programId",t),c=g8e().serialize(s),u=0;return(0,rH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}AE.delegateStakingV1=YOt;var wE={};Object.defineProperty(wE,"__esModule",{value:!0});wE.delegateStandardV1=wE.getDelegateStandardV1InstructionDataSerializer=void 0;const ZOt=Gs,_be=Z,c2=q,JOt=an,E7=Nt,L0=Ke;function m8e(){return(0,c2.mapSerializer)((0,c2.struct)([["discriminator",(0,c2.u8)()],["delegateStandardV1Discriminator",(0,c2.u8)()],["amount",(0,c2.u64)()]],{description:"DelegateStandardV1InstructionData"}),n=>({...n,discriminator:44,delegateStandardV1Discriminator:6,amount:n.amount??1}))}wE.getDelegateStandardV1InstructionDataSerializer=m8e;function XOt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,ZOt.findAssociatedTokenPda)(n,{mint:(0,L0.expectPublicKey)(r.mint.value),owner:(0,L0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,E7.findTokenRecordPda)(n,{mint:(0,L0.expectPublicKey)(r.mint.value),token:(0,L0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,E7.findMetadataPda)(n,{mint:(0,L0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,JOt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,E7.findMasterEditionPda)(n,{mint:(0,L0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,_be.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,L0.getAccountMetasAndSigners)(i,"programId",t),c=m8e().serialize(s),u=0;return(0,_be.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}wE.delegateStandardV1=XOt;var IE={};Object.defineProperty(IE,"__esModule",{value:!0});IE.delegateTransferV1=IE.getDelegateTransferV1InstructionDataSerializer=void 0;const QOt=Gs,nH=Z,av=q,e4t=an,R3=Nt,og=Ke,y8e=lt;function p8e(){return(0,av.mapSerializer)((0,av.struct)([["discriminator",(0,av.u8)()],["delegateTransferV1Discriminator",(0,av.u8)()],["amount",(0,av.u64)()],["authorizationData",(0,av.option)((0,y8e.getAuthorizationDataSerializer)())]],{description:"DelegateTransferV1InstructionData"}),n=>({...n,discriminator:44,delegateTransferV1Discriminator:2,amount:n.amount??1,authorizationData:n.authorizationData??(0,nH.none)()}))}IE.getDelegateTransferV1InstructionDataSerializer=p8e;function t4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,QOt.findAssociatedTokenPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value),owner:(0,og.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,R3.findTokenRecordPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value),token:(0,og.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,R3.findMetadataPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,e4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,R3.findMasterEditionPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===y8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,R3.findTokenRecordPda)(n,{mint:(0,og.expectPublicKey)(r.mint.value),token:(0,og.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,nH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,og.getAccountMetasAndSigners)(i,"programId",t),c=p8e().serialize(s),u=0;return(0,nH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}IE.delegateTransferV1=t4t;var PE={};Object.defineProperty(PE,"__esModule",{value:!0});PE.delegateUtilityV1=PE.getDelegateUtilityV1InstructionDataSerializer=void 0;const r4t=Gs,sH=Z,cv=q,n4t=an,C3=Nt,ag=Ke,b8e=lt;function S8e(){return(0,cv.mapSerializer)((0,cv.struct)([["discriminator",(0,cv.u8)()],["delegateUtilityV1Discriminator",(0,cv.u8)()],["amount",(0,cv.u64)()],["authorizationData",(0,cv.option)((0,b8e.getAuthorizationDataSerializer)())]],{description:"DelegateUtilityV1InstructionData"}),n=>({...n,discriminator:44,delegateUtilityV1Discriminator:4,amount:n.amount??1,authorizationData:n.authorizationData??(0,sH.none)()}))}PE.getDelegateUtilityV1InstructionDataSerializer=S8e;function s4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,r4t.findAssociatedTokenPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value),owner:(0,ag.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,C3.findTokenRecordPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value),token:(0,ag.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,C3.findMetadataPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,n4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,C3.findMasterEditionPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===b8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,C3.findTokenRecordPda)(n,{mint:(0,ag.expectPublicKey)(r.mint.value),token:(0,ag.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,sH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ag.getAccountMetasAndSigners)(i,"programId",t),c=S8e().serialize(s),u=0;return(0,sH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}PE.delegateUtilityV1=s4t;var _E={};Object.defineProperty(_E,"__esModule",{value:!0});_E.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=_E.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=void 0;const Ebe=Z,x7=q,M3=Nt,u2=Ke;function k8e(){return(0,x7.mapSerializer)((0,x7.struct)([["discriminator",(0,x7.u8)()]],{description:"DeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionData"}),n=>({...n,discriminator:3}))}_E.getDeprecatedMintNewEditionFromMasterEditionViaPrintingTokenInstructionDataSerializer=k8e;function i4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},mint:{index:3,isWritable:!0,value:e.mint??null},mintAuthority:{index:4,isWritable:!1,value:e.mintAuthority??null},printingMint:{index:5,isWritable:!0,value:e.printingMint??null},masterTokenAccount:{index:6,isWritable:!0,value:e.masterTokenAccount??null},editionMarker:{index:7,isWritable:!0,value:e.editionMarker??null},burnAuthority:{index:8,isWritable:!1,value:e.burnAuthority??null},payer:{index:9,isWritable:!1,value:e.payer??null},masterUpdateAuthority:{index:10,isWritable:!1,value:e.masterUpdateAuthority??null},masterMetadata:{index:11,isWritable:!1,value:e.masterMetadata??null},tokenProgram:{index:12,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:13,isWritable:!1,value:e.systemProgram??null},rent:{index:14,isWritable:!1,value:e.rent??null},reservationList:{index:15,isWritable:!0,value:e.reservationList??null}};r.metadata.value||(r.metadata.value=(0,M3.findMetadataPda)(n,{mint:(0,u2.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,M3.findMasterEditionPda)(n,{mint:(0,u2.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(r.masterEdition.value=(0,M3.findMasterEditionPda)(n,{mint:(0,u2.expectPublicKey)(r.mint.value)})),r.editionMarker.value||(r.editionMarker.value=(0,M3.findMasterEditionPda)(n,{mint:(0,u2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,Ebe.publicKey)("SysvarRent111111111111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,u2.getAccountMetasAndSigners)(s,"omitted",t),a=k8e().serialize({}),c=0;return(0,Ebe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}_E.deprecatedMintNewEditionFromMasterEditionViaPrintingToken=i4t;var EE={};Object.defineProperty(EE,"__esModule",{value:!0});EE.freezeDelegatedAccount=EE.getFreezeDelegatedAccountInstructionDataSerializer=void 0;const o4t=Z,T7=q,a4t=Nt,xbe=Ke;function v8e(){return(0,T7.mapSerializer)((0,T7.struct)([["discriminator",(0,T7.u8)()]],{description:"FreezeDelegatedAccountInstructionData"}),n=>({...n,discriminator:26}))}EE.getFreezeDelegatedAccountInstructionDataSerializer=v8e;function c4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,a4t.findMasterEditionPda)(n,{mint:(0,xbe.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,xbe.getAccountMetasAndSigners)(s,"programId",t),a=v8e().serialize({}),c=0;return(0,o4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}EE.freezeDelegatedAccount=c4t;var xE={};Object.defineProperty(xE,"__esModule",{value:!0});xE.lockV1=xE.getLockV1InstructionDataSerializer=void 0;const u4t=Gs,iH=Z,l2=q,Tbe=an,R7=Nt,W0=Ke,oH=lt;function A8e(){return(0,l2.mapSerializer)((0,l2.struct)([["discriminator",(0,l2.u8)()],["lockV1Discriminator",(0,l2.u8)()],["authorizationData",(0,l2.option)((0,oH.getAuthorizationDataSerializer)())]],{description:"LockV1InstructionData"}),n=>({...n,discriminator:46,lockV1Discriminator:0,authorizationData:n.authorizationData??(0,iH.none)()}))}xE.getLockV1InstructionDataSerializer=A8e;function l4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Tbe.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,u4t.findAssociatedTokenPda)(n,{mint:(0,W0.expectPublicKey)(r.mint.value),owner:(0,W0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,R7.findMetadataPda)(n,{mint:(0,W0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,Tbe.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,R7.findMasterEditionPda)(n,{mint:(0,W0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===oH.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,R7.findTokenRecordPda)(n,{mint:(0,W0.expectPublicKey)(r.mint.value),token:(0,W0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,iH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==oH.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,W0.getAccountMetasAndSigners)(i,"programId",t),c=A8e().serialize(s),u=0;return(0,iH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}xE.lockV1=l4t;var TE={};Object.defineProperty(TE,"__esModule",{value:!0});TE.migrate=TE.getMigrateInstructionDataSerializer=void 0;const Rbe=Z,C7=q,M7=Nt,d2=Ke;function w8e(){return(0,C7.mapSerializer)((0,C7.struct)([["discriminator",(0,C7.u8)()]],{description:"MigrateInstructionData"}),n=>({...n,discriminator:48}))}TE.getMigrateInstructionDataSerializer=w8e;function d4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},token:{index:2,isWritable:!0,value:e.token??null},tokenOwner:{index:3,isWritable:!1,value:e.tokenOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},payer:{index:5,isWritable:!0,value:e.payer??null},authority:{index:6,isWritable:!1,value:e.authority??null},collectionMetadata:{index:7,isWritable:!1,value:e.collectionMetadata??null},delegateRecord:{index:8,isWritable:!1,value:e.delegateRecord??null},tokenRecord:{index:9,isWritable:!0,value:e.tokenRecord??null},systemProgram:{index:10,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:12,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,M7.findMetadataPda)(n,{mint:(0,d2.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,M7.findMasterEditionPda)(n,{mint:(0,d2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.authority.value||(r.authority.value=n.identity),r.tokenRecord.value||(r.tokenRecord.value=(0,M7.findTokenRecordPda)(n,{mint:(0,d2.expectPublicKey)(r.mint.value),token:(0,d2.expectPublicKey)(r.token.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Rbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,d2.getAccountMetasAndSigners)(s,"programId",t),a=w8e().serialize({}),c=0;return(0,Rbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}TE.migrate=d4t;var RE={};Object.defineProperty(RE,"__esModule",{value:!0});RE.mintNewEditionFromMasterEditionViaToken=RE.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=void 0;const f4t=Z,B7=q,h4t=Ke,g4t=lt;function I8e(){return(0,B7.mapSerializer)((0,B7.struct)([["discriminator",(0,B7.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,g4t.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaTokenInstructionData"}),n=>({...n,discriminator:11}))}RE.getMintNewEditionFromMasterEditionViaTokenInstructionDataSerializer=I8e;function m4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},tokenAccountOwner:{index:7,isWritable:!1,value:e.tokenAccountOwner??null},tokenAccount:{index:8,isWritable:!1,value:e.tokenAccount??null},newMetadataUpdateAuthority:{index:9,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:10,isWritable:!1,value:e.metadata??null},tokenProgram:{index:11,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:12,isWritable:!1,value:e.systemProgram??null},rent:{index:13,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,h4t.getAccountMetasAndSigners)(i,"omitted",t),c=I8e().serialize(s),u=0;return(0,f4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}RE.mintNewEditionFromMasterEditionViaToken=m4t;var CE={};Object.defineProperty(CE,"__esModule",{value:!0});CE.mintNewEditionFromMasterEditionViaVaultProxy=CE.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=void 0;const y4t=Z,z7=q,p4t=Ke,b4t=lt;function P8e(){return(0,z7.mapSerializer)((0,z7.struct)([["discriminator",(0,z7.u8)()],["mintNewEditionFromMasterEditionViaTokenArgs",(0,b4t.getMintNewEditionFromMasterEditionViaTokenArgsSerializer)()]],{description:"MintNewEditionFromMasterEditionViaVaultProxyInstructionData"}),n=>({...n,discriminator:13}))}CE.getMintNewEditionFromMasterEditionViaVaultProxyInstructionDataSerializer=P8e;function S4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={newMetadata:{index:0,isWritable:!0,value:e.newMetadata??null},newEdition:{index:1,isWritable:!0,value:e.newEdition??null},masterEdition:{index:2,isWritable:!0,value:e.masterEdition??null},newMint:{index:3,isWritable:!0,value:e.newMint??null},editionMarkPda:{index:4,isWritable:!0,value:e.editionMarkPda??null},newMintAuthority:{index:5,isWritable:!1,value:e.newMintAuthority??null},payer:{index:6,isWritable:!0,value:e.payer??null},vaultAuthority:{index:7,isWritable:!1,value:e.vaultAuthority??null},safetyDepositStore:{index:8,isWritable:!1,value:e.safetyDepositStore??null},safetyDepositBox:{index:9,isWritable:!1,value:e.safetyDepositBox??null},vault:{index:10,isWritable:!1,value:e.vault??null},newMetadataUpdateAuthority:{index:11,isWritable:!1,value:e.newMetadataUpdateAuthority??null},metadata:{index:12,isWritable:!1,value:e.metadata??null},tokenProgram:{index:13,isWritable:!1,value:e.tokenProgram??null},tokenVaultProgram:{index:14,isWritable:!1,value:e.tokenVaultProgram??null},systemProgram:{index:15,isWritable:!1,value:e.systemProgram??null},rent:{index:16,isWritable:!1,value:e.rent??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,p4t.getAccountMetasAndSigners)(i,"omitted",t),c=P8e().serialize(s),u=0;return(0,y4t.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}CE.mintNewEditionFromMasterEditionViaVaultProxy=S4t;var ME={};Object.defineProperty(ME,"__esModule",{value:!0});ME.mintV1=ME.getMintV1InstructionDataSerializer=void 0;const k4t=Gs,aH=Z,uv=q,Cbe=an,$7=Nt,N0=Ke,_8e=lt;function E8e(){return(0,uv.mapSerializer)((0,uv.struct)([["discriminator",(0,uv.u8)()],["mintV1Discriminator",(0,uv.u8)()],["amount",(0,uv.u64)()],["authorizationData",(0,uv.option)((0,_8e.getAuthorizationDataSerializer)())]],{description:"MintV1InstructionData"}),n=>({...n,discriminator:43,mintV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,aH.none)()}))}ME.getMintV1InstructionDataSerializer=E8e;function v4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},metadata:{index:2,isWritable:!1,value:e.metadata??null},masterEdition:{index:3,isWritable:!0,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!0,value:e.mint??null},authority:{index:6,isWritable:!1,value:e.authority??null},delegateRecord:{index:7,isWritable:!1,value:e.delegateRecord??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:12,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:13,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:14,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,Cbe.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,k4t.findAssociatedTokenPda)(n,{mint:(0,N0.expectPublicKey)(r.mint.value),owner:(0,N0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,$7.findMetadataPda)(n,{mint:(0,N0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Cbe.resolveIsNonFungible)(n,r,s,t,!0)&&(r.masterEdition.value=(0,$7.findMasterEditionPda)(n,{mint:(0,N0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===_8e.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,$7.findTokenRecordPda)(n,{mint:(0,N0.expectPublicKey)(r.mint.value),token:(0,N0.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,aH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,N0.getAccountMetasAndSigners)(i,"programId",t),c=E8e().serialize(s),u=468;return(0,aH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ME.mintV1=v4t;var BE={};Object.defineProperty(BE,"__esModule",{value:!0});BE.printV1=BE.getPrintV1InstructionDataSerializer=void 0;const Mbe=Gs,Bbe=Z,f2=q,A4t=an,lv=Nt,xc=Ke,zbe=lt;function x8e(){return(0,f2.mapSerializer)((0,f2.struct)([["discriminator",(0,f2.u8)()],["printV1Discriminator",(0,f2.u8)()],["editionNumber",(0,f2.u64)()]],{description:"PrintV1InstructionData"}),n=>({...n,discriminator:55,printV1Discriminator:0}))}BE.getPrintV1InstructionDataSerializer=x8e;function w4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,lv.findMetadataPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,lv.findMasterEditionPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,Mbe.findAssociatedTokenPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value),owner:(0,xc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.masterTokenAccountOwner.value||(r.masterTokenAccountOwner.value=n.identity),r.editionMintAuthority.value||(r.editionMintAuthority.value=(0,xc.expectSome)(r.masterTokenAccountOwner.value)),r.editionTokenRecord.value||s.tokenStandard===zbe.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,lv.findTokenRecordPda)(n,{mint:(0,xc.expectPublicKey)(r.editionMint.value),token:(0,xc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,lv.findMasterEditionPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===zbe.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,lv.findEditionMarkerV2Pda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,A4t.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint),editionNumber:(0,xc.expectSome)(s.editionNumber)})),r.payer.value||(r.payer.value=n.payer),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,Mbe.findAssociatedTokenPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint),owner:(0,xc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,lv.findMetadataPda)(n,{mint:(0,xc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Bbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,xc.getAccountMetasAndSigners)(i,"programId",t),c=x8e().serialize(s),u=0;return(0,Bbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}BE.printV1=w4t;var zE={};Object.defineProperty(zE,"__esModule",{value:!0});zE.printV2=zE.getPrintV2InstructionDataSerializer=void 0;const $be=Gs,Dbe=Z,h2=q,I4t=an,dv=Nt,hc=Ke,Obe=lt;function T8e(){return(0,h2.mapSerializer)((0,h2.struct)([["discriminator",(0,h2.u8)()],["printV2Discriminator",(0,h2.u8)()],["editionNumber",(0,h2.u64)()]],{description:"PrintV2InstructionData"}),n=>({...n,discriminator:55,printV2Discriminator:1}))}zE.getPrintV2InstructionDataSerializer=T8e;function P4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={editionMetadata:{index:0,isWritable:!0,value:e.editionMetadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},editionMint:{index:2,isWritable:!0,value:e.editionMint??null},editionTokenAccountOwner:{index:3,isWritable:!1,value:e.editionTokenAccountOwner??null},editionTokenAccount:{index:4,isWritable:!0,value:e.editionTokenAccount??null},editionMintAuthority:{index:5,isWritable:!1,value:e.editionMintAuthority??null},editionTokenRecord:{index:6,isWritable:!0,value:e.editionTokenRecord??null},masterEdition:{index:7,isWritable:!0,value:e.masterEdition??null},editionMarkerPda:{index:8,isWritable:!0,value:e.editionMarkerPda??null},payer:{index:9,isWritable:!0,value:e.payer??null},masterTokenAccountOwner:{index:10,isWritable:!1,value:e.masterTokenAccountOwner??null},masterTokenAccount:{index:11,isWritable:!1,value:e.masterTokenAccount??null},masterMetadata:{index:12,isWritable:!1,value:e.masterMetadata??null},updateAuthority:{index:13,isWritable:!1,value:e.updateAuthority??null},splTokenProgram:{index:14,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:15,isWritable:!1,value:e.splAtaProgram??null},sysvarInstructions:{index:16,isWritable:!1,value:e.sysvarInstructions??null},systemProgram:{index:17,isWritable:!1,value:e.systemProgram??null},holderDelegateRecord:{index:18,isWritable:!1,value:e.holderDelegateRecord??null},delegate:{index:19,isWritable:!1,value:e.delegate??null}},s={...e};r.editionMetadata.value||(r.editionMetadata.value=(0,dv.findMetadataPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value)})),r.edition.value||(r.edition.value=(0,dv.findMasterEditionPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value)})),r.editionTokenAccountOwner.value||(r.editionTokenAccountOwner.value=n.identity.publicKey),r.editionTokenAccount.value||(r.editionTokenAccount.value=(0,$be.findAssociatedTokenPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value),owner:(0,hc.expectPublicKey)(r.editionTokenAccountOwner.value)})),r.payer.value||(r.payer.value=n.payer),r.editionMintAuthority.value||(r.holderDelegateRecord.value?r.delegate.value?r.editionMintAuthority.value=(0,hc.expectSome)(r.delegate.value):r.editionMintAuthority.value=(0,hc.expectSome)(r.payer.value):r.editionMintAuthority.value=n.identity),r.editionTokenRecord.value||s.tokenStandard===Obe.TokenStandard.ProgrammableNonFungible&&(r.editionTokenRecord.value=(0,dv.findTokenRecordPda)(n,{mint:(0,hc.expectPublicKey)(r.editionMint.value),token:(0,hc.expectPublicKey)(r.editionTokenAccount.value)})),r.masterEdition.value||(r.masterEdition.value=(0,dv.findMasterEditionPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint)})),r.editionMarkerPda.value||(s.tokenStandard===Obe.TokenStandard.ProgrammableNonFungible?r.editionMarkerPda.value=(0,dv.findEditionMarkerV2Pda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint)}):r.editionMarkerPda.value=(0,I4t.findEditionMarkerFromEditionNumberPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint),editionNumber:(0,hc.expectSome)(s.editionNumber)})),r.masterTokenAccountOwner.value||r.holderDelegateRecord.value||(r.masterTokenAccountOwner.value=n.identity),r.masterTokenAccount.value||(r.masterTokenAccount.value=(0,$be.findAssociatedTokenPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint),owner:(0,hc.expectPublicKey)(r.masterTokenAccountOwner.value)})),r.masterMetadata.value||(r.masterMetadata.value=(0,dv.findMetadataPda)(n,{mint:(0,hc.expectSome)(s.masterEditionMint)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Dbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hc.getAccountMetasAndSigners)(i,"programId",t),c=T8e().serialize(s),u=0;return(0,Dbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}zE.printV2=P4t;var $E={};Object.defineProperty($E,"__esModule",{value:!0});$E.puffMetadata=$E.getPuffMetadataInstructionDataSerializer=void 0;const _4t=Z,D7=q,E4t=Ke;function R8e(){return(0,D7.mapSerializer)((0,D7.struct)([["discriminator",(0,D7.u8)()]],{description:"PuffMetadataInstructionData"}),n=>({...n,discriminator:14}))}$E.getPuffMetadataInstructionDataSerializer=R8e;function x4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,E4t.getAccountMetasAndSigners)(s,"programId",t),a=R8e().serialize({}),c=0;return(0,_4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}$E.puffMetadata=x4t;var DE={};Object.defineProperty(DE,"__esModule",{value:!0});DE.removeCreatorVerification=DE.getRemoveCreatorVerificationInstructionDataSerializer=void 0;const T4t=Z,O7=q,R4t=Ke;function C8e(){return(0,O7.mapSerializer)((0,O7.struct)([["discriminator",(0,O7.u8)()]],{description:"RemoveCreatorVerificationInstructionData"}),n=>({...n,discriminator:28}))}DE.getRemoveCreatorVerificationInstructionDataSerializer=C8e;function C4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,R4t.getAccountMetasAndSigners)(s,"programId",t),a=C8e().serialize({}),c=0;return(0,T4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}DE.removeCreatorVerification=C4t;var OE={};Object.defineProperty(OE,"__esModule",{value:!0});OE.resize=OE.getResizeInstructionDataSerializer=void 0;const M4t=Z,K7=q,Kbe=Nt,L7=Ke;function M8e(){return(0,K7.mapSerializer)((0,K7.struct)([["discriminator",(0,K7.u8)()]],{description:"ResizeInstructionData"}),n=>({...n,discriminator:56}))}OE.getResizeInstructionDataSerializer=M8e;function B4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},edition:{index:1,isWritable:!0,value:e.edition??null},mint:{index:2,isWritable:!1,value:e.mint??null},payer:{index:3,isWritable:!0,value:e.payer??null},authority:{index:4,isWritable:!1,value:e.authority??null},token:{index:5,isWritable:!1,value:e.token??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null}};r.metadata.value||(r.metadata.value=(0,Kbe.findMetadataPda)(n,{mint:(0,L7.expectPublicKey)(r.mint.value)})),r.edition.value||(r.edition.value=(0,Kbe.findMasterEditionPda)(n,{mint:(0,L7.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,L7.getAccountMetasAndSigners)(s,"programId",t),a=M8e().serialize({}),c=0;return(0,M4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}OE.resize=B4t;var KE={};Object.defineProperty(KE,"__esModule",{value:!0});KE.revokeAuthorityItemV1=KE.getRevokeAuthorityItemV1InstructionDataSerializer=void 0;const Lbe=Z,B3=q,z4t=an,W7=Nt,F0=Ke,$4t=lt;function B8e(){return(0,B3.mapSerializer)((0,B3.struct)([["discriminator",(0,B3.u8)()],["revokeAuthorityItemV1Discriminator",(0,B3.u8)()]],{description:"RevokeAuthorityItemV1InstructionData"}),n=>({...n,discriminator:45,revokeAuthorityItemV1Discriminator:10}))}KE.getRevokeAuthorityItemV1InstructionDataSerializer=B8e;function D4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,F0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,W7.findMetadataDelegateRecordPda)(n,{delegateRole:$4t.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,F0.expectSome)(s.updateAuthority),mint:(0,F0.expectPublicKey)(r.mint.value),delegate:(0,F0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,W7.findMetadataPda)(n,{mint:(0,F0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,z4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,W7.findMasterEditionPda)(n,{mint:(0,F0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Lbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,F0.getAccountMetasAndSigners)(i,"programId",t),c=B8e().serialize({}),u=0;return(0,Lbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}KE.revokeAuthorityItemV1=D4t;var LE={};Object.defineProperty(LE,"__esModule",{value:!0});LE.revokeCollectionAuthority=LE.getRevokeCollectionAuthorityInstructionDataSerializer=void 0;const O4t=Z,N7=q,K4t=Nt,Wbe=Ke;function z8e(){return(0,N7.mapSerializer)((0,N7.struct)([["discriminator",(0,N7.u8)()]],{description:"RevokeCollectionAuthorityInstructionData"}),n=>({...n,discriminator:24}))}LE.getRevokeCollectionAuthorityInstructionDataSerializer=z8e;function L4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionAuthorityRecord:{index:0,isWritable:!0,value:e.collectionAuthorityRecord??null},delegateAuthority:{index:1,isWritable:!0,value:e.delegateAuthority??null},revokeAuthority:{index:2,isWritable:!0,value:e.revokeAuthority??null},metadata:{index:3,isWritable:!1,value:e.metadata??null},mint:{index:4,isWritable:!1,value:e.mint??null}};r.metadata.value||(r.metadata.value=(0,K4t.findMetadataPda)(n,{mint:(0,Wbe.expectPublicKey)(r.mint.value)}));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,Wbe.getAccountMetasAndSigners)(s,"programId",t),a=z8e().serialize({}),c=0;return(0,O4t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}LE.revokeCollectionAuthority=L4t;var WE={};Object.defineProperty(WE,"__esModule",{value:!0});WE.revokeCollectionItemV1=WE.getRevokeCollectionItemV1InstructionDataSerializer=void 0;const Nbe=Z,z3=q,W4t=an,F7=Nt,U0=Ke,N4t=lt;function $8e(){return(0,z3.mapSerializer)((0,z3.struct)([["discriminator",(0,z3.u8)()],["revokeCollectionItemV1Discriminator",(0,z3.u8)()]],{description:"RevokeCollectionItemV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionItemV1Discriminator:12}))}WE.getRevokeCollectionItemV1InstructionDataSerializer=$8e;function F4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,U0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,F7.findMetadataDelegateRecordPda)(n,{delegateRole:N4t.MetadataDelegateRole.CollectionItem,updateAuthority:(0,U0.expectSome)(s.updateAuthority),mint:(0,U0.expectPublicKey)(r.mint.value),delegate:(0,U0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,F7.findMetadataPda)(n,{mint:(0,U0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,W4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,F7.findMasterEditionPda)(n,{mint:(0,U0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Nbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,U0.getAccountMetasAndSigners)(i,"programId",t),c=$8e().serialize({}),u=0;return(0,Nbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}WE.revokeCollectionItemV1=F4t;var NE={};Object.defineProperty(NE,"__esModule",{value:!0});NE.revokeCollectionV1=NE.getRevokeCollectionV1InstructionDataSerializer=void 0;const Fbe=Z,$3=q,U4t=an,U7=Nt,V0=Ke,V4t=lt;function D8e(){return(0,$3.mapSerializer)((0,$3.struct)([["discriminator",(0,$3.u8)()],["revokeCollectionV1Discriminator",(0,$3.u8)()]],{description:"RevokeCollectionV1InstructionData"}),n=>({...n,discriminator:45,revokeCollectionV1Discriminator:0}))}NE.getRevokeCollectionV1InstructionDataSerializer=D8e;function q4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,V0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,U7.findMetadataDelegateRecordPda)(n,{delegateRole:V4t.MetadataDelegateRole.Collection,updateAuthority:(0,V0.expectSome)(s.updateAuthority),mint:(0,V0.expectPublicKey)(r.mint.value),delegate:(0,V0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,U7.findMetadataPda)(n,{mint:(0,V0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,U4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,U7.findMasterEditionPda)(n,{mint:(0,V0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Fbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,V0.getAccountMetasAndSigners)(i,"programId",t),c=D8e().serialize({}),u=0;return(0,Fbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}NE.revokeCollectionV1=q4t;var FE={};Object.defineProperty(FE,"__esModule",{value:!0});FE.revokeDataItemV1=FE.getRevokeDataItemV1InstructionDataSerializer=void 0;const Ube=Z,D3=q,j4t=an,V7=Nt,q0=Ke,H4t=lt;function O8e(){return(0,D3.mapSerializer)((0,D3.struct)([["discriminator",(0,D3.u8)()],["revokeDataItemV1Discriminator",(0,D3.u8)()]],{description:"RevokeDataItemV1InstructionData"}),n=>({...n,discriminator:45,revokeDataItemV1Discriminator:11}))}FE.getRevokeDataItemV1InstructionDataSerializer=O8e;function G4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,q0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,V7.findMetadataDelegateRecordPda)(n,{delegateRole:H4t.MetadataDelegateRole.DataItem,updateAuthority:(0,q0.expectSome)(s.updateAuthority),mint:(0,q0.expectPublicKey)(r.mint.value),delegate:(0,q0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,V7.findMetadataPda)(n,{mint:(0,q0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,j4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,V7.findMasterEditionPda)(n,{mint:(0,q0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Ube.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,q0.getAccountMetasAndSigners)(i,"programId",t),c=O8e().serialize({}),u=0;return(0,Ube.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}FE.revokeDataItemV1=G4t;var UE={};Object.defineProperty(UE,"__esModule",{value:!0});UE.revokeDataV1=UE.getRevokeDataV1InstructionDataSerializer=void 0;const Vbe=Z,O3=q,Y4t=an,q7=Nt,j0=Ke,Z4t=lt;function K8e(){return(0,O3.mapSerializer)((0,O3.struct)([["discriminator",(0,O3.u8)()],["revokeDataV1Discriminator",(0,O3.u8)()]],{description:"RevokeDataV1InstructionData"}),n=>({...n,discriminator:45,revokeDataV1Discriminator:3}))}UE.getRevokeDataV1InstructionDataSerializer=K8e;function J4t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,j0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,q7.findMetadataDelegateRecordPda)(n,{delegateRole:Z4t.MetadataDelegateRole.Data,updateAuthority:(0,j0.expectSome)(s.updateAuthority),mint:(0,j0.expectPublicKey)(r.mint.value),delegate:(0,j0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,q7.findMetadataPda)(n,{mint:(0,j0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Y4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,q7.findMasterEditionPda)(n,{mint:(0,j0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Vbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,j0.getAccountMetasAndSigners)(i,"programId",t),c=K8e().serialize({}),u=0;return(0,Vbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}UE.revokeDataV1=J4t;var VE={};Object.defineProperty(VE,"__esModule",{value:!0});VE.revokeLockedTransferV1=VE.getRevokeLockedTransferV1InstructionDataSerializer=void 0;const X4t=Gs,qbe=Z,K3=q,Q4t=an,L3=Nt,cg=Ke,eKt=lt;function L8e(){return(0,K3.mapSerializer)((0,K3.struct)([["discriminator",(0,K3.u8)()],["revokeLockedTransferV1Discriminator",(0,K3.u8)()]],{description:"RevokeLockedTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeLockedTransferV1Discriminator:7}))}VE.getRevokeLockedTransferV1InstructionDataSerializer=L8e;function tKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,X4t.findAssociatedTokenPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value),owner:(0,cg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,L3.findTokenRecordPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value),token:(0,cg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,L3.findMetadataPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,Q4t.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,L3.findMasterEditionPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===eKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,L3.findTokenRecordPda)(n,{mint:(0,cg.expectPublicKey)(r.mint.value),token:(0,cg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,qbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,cg.getAccountMetasAndSigners)(i,"programId",t),c=L8e().serialize({}),u=0;return(0,qbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}VE.revokeLockedTransferV1=tKt;var qE={};Object.defineProperty(qE,"__esModule",{value:!0});qE.revokeMigrationV1=qE.getRevokeMigrationV1InstructionDataSerializer=void 0;const rKt=Gs,jbe=Z,W3=q,nKt=an,N3=Nt,ug=Ke,sKt=lt;function W8e(){return(0,W3.mapSerializer)((0,W3.struct)([["discriminator",(0,W3.u8)()],["revokeMigrationV1Discriminator",(0,W3.u8)()]],{description:"RevokeMigrationV1InstructionData"}),n=>({...n,discriminator:45,revokeMigrationV1Discriminator:9}))}qE.getRevokeMigrationV1InstructionDataSerializer=W8e;function iKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,rKt.findAssociatedTokenPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value),owner:(0,ug.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,N3.findTokenRecordPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value),token:(0,ug.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,N3.findMetadataPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,nKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,N3.findMasterEditionPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===sKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,N3.findTokenRecordPda)(n,{mint:(0,ug.expectPublicKey)(r.mint.value),token:(0,ug.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,jbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,ug.getAccountMetasAndSigners)(i,"programId",t),c=W8e().serialize({}),u=0;return(0,jbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}qE.revokeMigrationV1=iKt;var jE={};Object.defineProperty(jE,"__esModule",{value:!0});jE.revokePrintDelegateV1=jE.getRevokePrintDelegateV1InstructionDataSerializer=void 0;const Hbe=Z,F3=q,oKt=an,Gbe=Nt,j7=Ke;function N8e(){return(0,F3.mapSerializer)((0,F3.struct)([["discriminator",(0,F3.u8)()],["revokePrintDelegateV1Discriminator",(0,F3.u8)()]],{description:"RevokePrintDelegateV1InstructionData"}),n=>({...n,discriminator:45,revokePrintDelegateV1Discriminator:14}))}jE.getRevokePrintDelegateV1InstructionDataSerializer=N8e;function aKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}};r.metadata.value||(r.metadata.value=(0,Gbe.findMetadataPda)(n,{mint:(0,j7.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,oKt.resolveIsNonFungible)(n,r,e,t,!1)&&(r.masterEdition.value=(0,Gbe.findMasterEditionPda)(n,{mint:(0,j7.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Hbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,j7.getAccountMetasAndSigners)(s,"programId",t),a=N8e().serialize({}),c=0;return(0,Hbe.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}jE.revokePrintDelegateV1=aKt;var HE={};Object.defineProperty(HE,"__esModule",{value:!0});HE.revokeProgrammableConfigItemV1=HE.getRevokeProgrammableConfigItemV1InstructionDataSerializer=void 0;const Ybe=Z,U3=q,cKt=an,H7=Nt,H0=Ke,uKt=lt;function F8e(){return(0,U3.mapSerializer)((0,U3.struct)([["discriminator",(0,U3.u8)()],["revokeProgrammableConfigItemV1Discriminator",(0,U3.u8)()]],{description:"RevokeProgrammableConfigItemV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigItemV1Discriminator:13}))}HE.getRevokeProgrammableConfigItemV1InstructionDataSerializer=F8e;function lKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,H0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,H7.findMetadataDelegateRecordPda)(n,{delegateRole:uKt.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,H0.expectSome)(s.updateAuthority),mint:(0,H0.expectPublicKey)(r.mint.value),delegate:(0,H0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,H7.findMetadataPda)(n,{mint:(0,H0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,cKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,H7.findMasterEditionPda)(n,{mint:(0,H0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Ybe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,H0.getAccountMetasAndSigners)(i,"programId",t),c=F8e().serialize({}),u=0;return(0,Ybe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}HE.revokeProgrammableConfigItemV1=lKt;var GE={};Object.defineProperty(GE,"__esModule",{value:!0});GE.revokeProgrammableConfigV1=GE.getRevokeProgrammableConfigV1InstructionDataSerializer=void 0;const Zbe=Z,V3=q,dKt=an,G7=Nt,G0=Ke,fKt=lt;function U8e(){return(0,V3.mapSerializer)((0,V3.struct)([["discriminator",(0,V3.u8)()],["revokeProgrammableConfigV1Discriminator",(0,V3.u8)()]],{description:"RevokeProgrammableConfigV1InstructionData"}),n=>({...n,discriminator:45,revokeProgrammableConfigV1Discriminator:8}))}GE.getRevokeProgrammableConfigV1InstructionDataSerializer=U8e;function hKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=(0,G0.expectPublicKey)(r.authority.value)),r.delegateRecord.value||(r.delegateRecord.value=(0,G7.findMetadataDelegateRecordPda)(n,{delegateRole:fKt.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,G0.expectSome)(s.updateAuthority),mint:(0,G0.expectPublicKey)(r.mint.value),delegate:(0,G0.expectPublicKey)(r.delegate.value)})),r.metadata.value||(r.metadata.value=(0,G7.findMetadataPda)(n,{mint:(0,G0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,dKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,G7.findMasterEditionPda)(n,{mint:(0,G0.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Zbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,G0.getAccountMetasAndSigners)(i,"programId",t),c=U8e().serialize({}),u=0;return(0,Zbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}GE.revokeProgrammableConfigV1=hKt;var YE={};Object.defineProperty(YE,"__esModule",{value:!0});YE.revokeSaleV1=YE.getRevokeSaleV1InstructionDataSerializer=void 0;const gKt=Gs,Jbe=Z,q3=q,mKt=an,j3=Nt,lg=Ke,yKt=lt;function V8e(){return(0,q3.mapSerializer)((0,q3.struct)([["discriminator",(0,q3.u8)()],["revokeSaleV1Discriminator",(0,q3.u8)()]],{description:"RevokeSaleV1InstructionData"}),n=>({...n,discriminator:45,revokeSaleV1Discriminator:1}))}YE.getRevokeSaleV1InstructionDataSerializer=V8e;function pKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,gKt.findAssociatedTokenPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value),owner:(0,lg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,j3.findTokenRecordPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value),token:(0,lg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,j3.findMetadataPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,mKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,j3.findMasterEditionPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===yKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,j3.findTokenRecordPda)(n,{mint:(0,lg.expectPublicKey)(r.mint.value),token:(0,lg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Jbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,lg.getAccountMetasAndSigners)(i,"programId",t),c=V8e().serialize({}),u=0;return(0,Jbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}YE.revokeSaleV1=pKt;var ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});ZE.revokeStakingV1=ZE.getRevokeStakingV1InstructionDataSerializer=void 0;const bKt=Gs,Xbe=Z,H3=q,SKt=an,G3=Nt,dg=Ke,kKt=lt;function q8e(){return(0,H3.mapSerializer)((0,H3.struct)([["discriminator",(0,H3.u8)()],["revokeStakingV1Discriminator",(0,H3.u8)()]],{description:"RevokeStakingV1InstructionData"}),n=>({...n,discriminator:45,revokeStakingV1Discriminator:5}))}ZE.getRevokeStakingV1InstructionDataSerializer=q8e;function vKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,bKt.findAssociatedTokenPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value),owner:(0,dg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,G3.findTokenRecordPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value),token:(0,dg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,G3.findMetadataPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,SKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,G3.findMasterEditionPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===kKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,G3.findTokenRecordPda)(n,{mint:(0,dg.expectPublicKey)(r.mint.value),token:(0,dg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Xbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,dg.getAccountMetasAndSigners)(i,"programId",t),c=q8e().serialize({}),u=0;return(0,Xbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ZE.revokeStakingV1=vKt;var JE={};Object.defineProperty(JE,"__esModule",{value:!0});JE.revokeStandardV1=JE.getRevokeStandardV1InstructionDataSerializer=void 0;const AKt=Gs,Qbe=Z,Y3=q,wKt=an,Y7=Nt,Y0=Ke;function j8e(){return(0,Y3.mapSerializer)((0,Y3.struct)([["discriminator",(0,Y3.u8)()],["revokeStandardV1Discriminator",(0,Y3.u8)()]],{description:"RevokeStandardV1InstructionData"}),n=>({...n,discriminator:45,revokeStandardV1Discriminator:6}))}JE.getRevokeStandardV1InstructionDataSerializer=j8e;function IKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,AKt.findAssociatedTokenPda)(n,{mint:(0,Y0.expectPublicKey)(r.mint.value),owner:(0,Y0.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,Y7.findTokenRecordPda)(n,{mint:(0,Y0.expectPublicKey)(r.mint.value),token:(0,Y0.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,Y7.findMetadataPda)(n,{mint:(0,Y0.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,wKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,Y7.findMasterEditionPda)(n,{mint:(0,Y0.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,Qbe.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Y0.getAccountMetasAndSigners)(i,"programId",t),c=j8e().serialize({}),u=0;return(0,Qbe.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}JE.revokeStandardV1=IKt;var XE={};Object.defineProperty(XE,"__esModule",{value:!0});XE.revokeTransferV1=XE.getRevokeTransferV1InstructionDataSerializer=void 0;const PKt=Gs,e0e=Z,Z3=q,_Kt=an,J3=Nt,fg=Ke,EKt=lt;function H8e(){return(0,Z3.mapSerializer)((0,Z3.struct)([["discriminator",(0,Z3.u8)()],["revokeTransferV1Discriminator",(0,Z3.u8)()]],{description:"RevokeTransferV1InstructionData"}),n=>({...n,discriminator:45,revokeTransferV1Discriminator:2}))}XE.getRevokeTransferV1InstructionDataSerializer=H8e;function xKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,PKt.findAssociatedTokenPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value),owner:(0,fg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,J3.findTokenRecordPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value),token:(0,fg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,J3.findMetadataPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,_Kt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,J3.findMasterEditionPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===EKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,J3.findTokenRecordPda)(n,{mint:(0,fg.expectPublicKey)(r.mint.value),token:(0,fg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,e0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,fg.getAccountMetasAndSigners)(i,"programId",t),c=H8e().serialize({}),u=0;return(0,e0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}XE.revokeTransferV1=xKt;var QE={};Object.defineProperty(QE,"__esModule",{value:!0});QE.revokeUseAuthority=QE.getRevokeUseAuthorityInstructionDataSerializer=void 0;const TKt=Z,Z7=q,RKt=Nt,t0e=Ke;function G8e(){return(0,Z7.mapSerializer)((0,Z7.struct)([["discriminator",(0,Z7.u8)()]],{description:"RevokeUseAuthorityInstructionData"}),n=>({...n,discriminator:21}))}QE.getRevokeUseAuthorityInstructionDataSerializer=G8e;function CKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={useAuthorityRecord:{index:0,isWritable:!0,value:e.useAuthorityRecord??null},owner:{index:1,isWritable:!0,value:e.owner??null},user:{index:2,isWritable:!1,value:e.user??null},ownerTokenAccount:{index:3,isWritable:!0,value:e.ownerTokenAccount??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!1,value:e.metadata??null},tokenProgram:{index:6,isWritable:!1,value:e.tokenProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null}};r.metadata.value||(r.metadata.value=(0,RKt.findMetadataPda)(n,{mint:(0,t0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,t0e.getAccountMetasAndSigners)(s,"omitted",t),a=G8e().serialize({}),c=0;return(0,TKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}QE.revokeUseAuthority=CKt;var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.revokeUtilityV1=ex.getRevokeUtilityV1InstructionDataSerializer=void 0;const MKt=Gs,r0e=Z,X3=q,BKt=an,Q3=Nt,hg=Ke,zKt=lt;function Y8e(){return(0,X3.mapSerializer)((0,X3.struct)([["discriminator",(0,X3.u8)()],["revokeUtilityV1Discriminator",(0,X3.u8)()]],{description:"RevokeUtilityV1InstructionData"}),n=>({...n,discriminator:45,revokeUtilityV1Discriminator:4}))}ex.getRevokeUtilityV1InstructionDataSerializer=Y8e;function $Kt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegateRecord:{index:0,isWritable:!0,value:e.delegateRecord??null},delegate:{index:1,isWritable:!1,value:e.delegate??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},masterEdition:{index:3,isWritable:!1,value:e.masterEdition??null},tokenRecord:{index:4,isWritable:!0,value:e.tokenRecord??null},mint:{index:5,isWritable:!1,value:e.mint??null},token:{index:6,isWritable:!0,value:e.token??null},authority:{index:7,isWritable:!1,value:e.authority??null},payer:{index:8,isWritable:!0,value:e.payer??null},systemProgram:{index:9,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:10,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:11,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:12,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:13,isWritable:!1,value:e.authorizationRules??null}},s={...e};s.tokenOwner||(s.tokenOwner=n.identity.publicKey),r.token.value||(r.token.value=(0,MKt.findAssociatedTokenPda)(n,{mint:(0,hg.expectPublicKey)(r.mint.value),owner:(0,hg.expectSome)(s.tokenOwner)})),r.delegateRecord.value||(r.delegateRecord.value=(0,Q3.findTokenRecordPda)(n,{mint:(0,hg.expectPublicKey)(r.mint.value),token:(0,hg.expectPublicKey)(r.token.value)})),r.metadata.value||(r.metadata.value=(0,Q3.findMetadataPda)(n,{mint:(0,hg.expectPublicKey)(r.mint.value)})),r.masterEdition.value||(0,BKt.resolveIsNonFungible)(n,r,s,t,!1)&&(r.masterEdition.value=(0,Q3.findMasterEditionPda)(n,{mint:(0,hg.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===zKt.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,Q3.findTokenRecordPda)(n,{mint:(0,hg.expectPublicKey)(r.mint.value),token:(0,hg.expectPublicKey)(r.token.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,r0e.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hg.getAccountMetasAndSigners)(i,"programId",t),c=Y8e().serialize({}),u=0;return(0,r0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ex.revokeUtilityV1=$Kt;var tx={};Object.defineProperty(tx,"__esModule",{value:!0});tx.setAndVerifyCollection=tx.getSetAndVerifyCollectionInstructionDataSerializer=void 0;const DKt=Z,J7=q,OKt=Ke;function Z8e(){return(0,J7.mapSerializer)((0,J7.struct)([["discriminator",(0,J7.u8)()]],{description:"SetAndVerifyCollectionInstructionData"}),n=>({...n,discriminator:25}))}tx.getSetAndVerifyCollectionInstructionDataSerializer=Z8e;function KKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,OKt.getAccountMetasAndSigners)(s,"omitted",t),a=Z8e().serialize({}),c=0;return(0,DKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}tx.setAndVerifyCollection=KKt;var rx={};Object.defineProperty(rx,"__esModule",{value:!0});rx.setAndVerifySizedCollectionItem=rx.getSetAndVerifySizedCollectionItemInstructionDataSerializer=void 0;const LKt=Z,X7=q,WKt=Ke;function J8e(){return(0,X7.mapSerializer)((0,X7.struct)([["discriminator",(0,X7.u8)()]],{description:"SetAndVerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:32}))}rx.getSetAndVerifySizedCollectionItemInstructionDataSerializer=J8e;function NKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},updateAuthority:{index:3,isWritable:!1,value:e.updateAuthority??null},collectionMint:{index:4,isWritable:!1,value:e.collectionMint??null},collection:{index:5,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:6,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:7,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer),r.updateAuthority.value||(r.updateAuthority.value=n.identity.publicKey);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,WKt.getAccountMetasAndSigners)(s,"omitted",t),a=J8e().serialize({}),c=0;return(0,LKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}rx.setAndVerifySizedCollectionItem=NKt;var nx={};Object.defineProperty(nx,"__esModule",{value:!0});nx.setCollectionSize=nx.getSetCollectionSizeInstructionDataSerializer=void 0;const FKt=Z,Q7=q,UKt=Ke,VKt=lt;function X8e(){return(0,Q7.mapSerializer)((0,Q7.struct)([["discriminator",(0,Q7.u8)()],["setCollectionSizeArgs",(0,VKt.getSetCollectionSizeArgsSerializer)()]],{description:"SetCollectionSizeInstructionData"}),n=>({...n,discriminator:34}))}nx.getSetCollectionSizeInstructionDataSerializer=X8e;function qKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={collectionMetadata:{index:0,isWritable:!0,value:e.collectionMetadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collectionAuthorityRecord:{index:3,isWritable:!1,value:e.collectionAuthorityRecord??null}},s={...e},i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,UKt.getAccountMetasAndSigners)(i,"omitted",t),c=X8e().serialize(s),u=0;return(0,FKt.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}nx.setCollectionSize=qKt;var sx={};Object.defineProperty(sx,"__esModule",{value:!0});sx.setTokenStandard=sx.getSetTokenStandardInstructionDataSerializer=void 0;const jKt=Z,eV=q,HKt=Nt,n0e=Ke;function Q8e(){return(0,eV.mapSerializer)((0,eV.struct)([["discriminator",(0,eV.u8)()]],{description:"SetTokenStandardInstructionData"}),n=>({...n,discriminator:35}))}sx.getSetTokenStandardInstructionDataSerializer=Q8e;function GKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null},mint:{index:2,isWritable:!1,value:e.mint??null},edition:{index:3,isWritable:!1,value:e.edition??null}};r.metadata.value||(r.metadata.value=(0,HKt.findMetadataPda)(n,{mint:(0,n0e.expectPublicKey)(r.mint.value)})),r.updateAuthority.value||(r.updateAuthority.value=n.identity);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,n0e.getAccountMetasAndSigners)(s,"omitted",t),a=Q8e().serialize({}),c=0;return(0,jKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}sx.setTokenStandard=GKt;var ix={};Object.defineProperty(ix,"__esModule",{value:!0});ix.signMetadata=ix.getSignMetadataInstructionDataSerializer=void 0;const YKt=Z,tV=q,ZKt=Ke;function e3e(){return(0,tV.mapSerializer)((0,tV.struct)([["discriminator",(0,tV.u8)()]],{description:"SignMetadataInstructionData"}),n=>({...n,discriminator:7}))}ix.getSignMetadataInstructionDataSerializer=e3e;function JKt(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},creator:{index:1,isWritable:!1,value:e.creator??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,ZKt.getAccountMetasAndSigners)(s,"programId",t),a=e3e().serialize({}),c=0;return(0,YKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ix.signMetadata=JKt;var ox={};Object.defineProperty(ox,"__esModule",{value:!0});ox.thawDelegatedAccount=ox.getThawDelegatedAccountInstructionDataSerializer=void 0;const XKt=Z,rV=q,QKt=Nt,s0e=Ke;function t3e(){return(0,rV.mapSerializer)((0,rV.struct)([["discriminator",(0,rV.u8)()]],{description:"ThawDelegatedAccountInstructionData"}),n=>({...n,discriminator:27}))}ox.getThawDelegatedAccountInstructionDataSerializer=t3e;function e6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={delegate:{index:0,isWritable:!0,value:e.delegate??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},edition:{index:2,isWritable:!1,value:e.edition??null},mint:{index:3,isWritable:!1,value:e.mint??null},tokenProgram:{index:4,isWritable:!1,value:e.tokenProgram??null}};r.edition.value||(r.edition.value=(0,QKt.findMasterEditionPda)(n,{mint:(0,s0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,s0e.getAccountMetasAndSigners)(s,"programId",t),a=t3e().serialize({}),c=0;return(0,XKt.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}ox.thawDelegatedAccount=e6t;var ax={};Object.defineProperty(ax,"__esModule",{value:!0});ax.transferOutOfEscrow=ax.getTransferOutOfEscrowInstructionDataSerializer=void 0;const i0e=Z,eD=q,t6t=Ke;function r3e(){return(0,eD.mapSerializer)((0,eD.struct)([["discriminator",(0,eD.u8)()],["amount",(0,eD.u64)()]],{description:"TransferOutOfEscrowInstructionData"}),n=>({...n,discriminator:40,amount:n.amount??1}))}ax.getTransferOutOfEscrowInstructionDataSerializer=r3e;function r6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={escrow:{index:0,isWritable:!1,value:e.escrow??null},metadata:{index:1,isWritable:!0,value:e.metadata??null},payer:{index:2,isWritable:!0,value:e.payer??null},attributeMint:{index:3,isWritable:!1,value:e.attributeMint??null},attributeSrc:{index:4,isWritable:!0,value:e.attributeSrc??null},attributeDst:{index:5,isWritable:!0,value:e.attributeDst??null},escrowMint:{index:6,isWritable:!1,value:e.escrowMint??null},escrowAccount:{index:7,isWritable:!1,value:e.escrowAccount??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},ataProgram:{index:9,isWritable:!1,value:e.ataProgram??null},tokenProgram:{index:10,isWritable:!1,value:e.tokenProgram??null},sysvarInstructions:{index:11,isWritable:!1,value:e.sysvarInstructions??null},authority:{index:12,isWritable:!1,value:e.authority??null}},s={...e};r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,i0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,t6t.getAccountMetasAndSigners)(i,"omitted",t),c=r3e().serialize(s),u=0;return(0,i0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ax.transferOutOfEscrow=r6t;var cx={};Object.defineProperty(cx,"__esModule",{value:!0});cx.transferV1=cx.getTransferV1InstructionDataSerializer=void 0;const o0e=Gs,cH=Z,fv=q,tD=Nt,Gl=Ke,VD=lt;function n3e(){return(0,fv.mapSerializer)((0,fv.struct)([["discriminator",(0,fv.u8)()],["transferV1Discriminator",(0,fv.u8)()],["amount",(0,fv.u64)()],["authorizationData",(0,fv.option)((0,VD.getAuthorizationDataSerializer)())]],{description:"TransferV1InstructionData"}),n=>({...n,discriminator:49,transferV1Discriminator:0,amount:n.amount??1,authorizationData:n.authorizationData??(0,cH.none)()}))}cx.getTransferV1InstructionDataSerializer=n3e;function n6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={token:{index:0,isWritable:!0,value:e.token??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},destinationToken:{index:2,isWritable:!0,value:e.destinationToken??null},destinationOwner:{index:3,isWritable:!1,value:e.destinationOwner??null},mint:{index:4,isWritable:!1,value:e.mint??null},metadata:{index:5,isWritable:!0,value:e.metadata??null},edition:{index:6,isWritable:!1,value:e.edition??null},tokenRecord:{index:7,isWritable:!0,value:e.tokenRecord??null},destinationTokenRecord:{index:8,isWritable:!0,value:e.destinationTokenRecord??null},authority:{index:9,isWritable:!1,value:e.authority??null},payer:{index:10,isWritable:!0,value:e.payer??null},systemProgram:{index:11,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:12,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:13,isWritable:!1,value:e.splTokenProgram??null},splAtaProgram:{index:14,isWritable:!1,value:e.splAtaProgram??null},authorizationRulesProgram:{index:15,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:16,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.tokenOwner.value||(r.tokenOwner.value=n.identity.publicKey),r.token.value||(r.token.value=(0,o0e.findAssociatedTokenPda)(n,{mint:(0,Gl.expectPublicKey)(r.mint.value),owner:(0,Gl.expectPublicKey)(r.tokenOwner.value)})),r.destinationToken.value||(r.destinationToken.value=(0,o0e.findAssociatedTokenPda)(n,{mint:(0,Gl.expectPublicKey)(r.mint.value),owner:(0,Gl.expectPublicKey)(r.destinationOwner.value)})),r.metadata.value||(r.metadata.value=(0,tD.findMetadataPda)(n,{mint:(0,Gl.expectPublicKey)(r.mint.value)})),r.edition.value||s.tokenStandard===VD.TokenStandard.ProgrammableNonFungible&&(r.edition.value=(0,tD.findMasterEditionPda)(n,{mint:(0,Gl.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===VD.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,tD.findTokenRecordPda)(n,{mint:(0,Gl.expectPublicKey)(r.mint.value),token:(0,Gl.expectPublicKey)(r.token.value)})),r.destinationTokenRecord.value||s.tokenStandard===VD.TokenStandard.ProgrammableNonFungible&&(r.destinationTokenRecord.value=(0,tD.findTokenRecordPda)(n,{token:(0,Gl.expectPublicKey)(r.destinationToken.value),mint:(0,Gl.expectPublicKey)(r.mint.value)})),r.authority.value||(r.authority.value=n.identity),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,cH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.splAtaProgram.value||(r.splAtaProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.splAtaProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Gl.getAccountMetasAndSigners)(i,"programId",t),c=n3e().serialize(s),u=0;return(0,cH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}cx.transferV1=n6t;var ux={};Object.defineProperty(ux,"__esModule",{value:!0});ux.unlockV1=ux.getUnlockV1InstructionDataSerializer=void 0;const s6t=Gs,uH=Z,g2=q,a0e=an,nV=Nt,Z0=Ke,lH=lt;function s3e(){return(0,g2.mapSerializer)((0,g2.struct)([["discriminator",(0,g2.u8)()],["unlockV1Discriminator",(0,g2.u8)()],["authorizationData",(0,g2.option)((0,lH.getAuthorizationDataSerializer)())]],{description:"UnlockV1InstructionData"}),n=>({...n,discriminator:47,unlockV1Discriminator:0,authorizationData:n.authorizationData??(0,uH.none)()}))}ux.getUnlockV1InstructionDataSerializer=s3e;function i6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},tokenOwner:{index:1,isWritable:!1,value:e.tokenOwner??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},tokenRecord:{index:6,isWritable:!0,value:e.tokenRecord??null},payer:{index:7,isWritable:!0,value:e.payer??null},systemProgram:{index:8,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:9,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:10,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:11,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:12,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.tokenOwner.value||(r.tokenOwner={...r.tokenOwner,...(0,a0e.resolveOptionalTokenOwner)(n,r,s,t,!1)}),r.token.value||(r.token.value=(0,s6t.findAssociatedTokenPda)(n,{mint:(0,Z0.expectPublicKey)(r.mint.value),owner:(0,Z0.expectPublicKey)(r.tokenOwner.value)})),r.metadata.value||(r.metadata.value=(0,nV.findMetadataPda)(n,{mint:(0,Z0.expectPublicKey)(r.mint.value)})),r.edition.value||(0,a0e.resolveIsNonFungible)(n,r,s,t,!1)&&(r.edition.value=(0,nV.findMasterEditionPda)(n,{mint:(0,Z0.expectPublicKey)(r.mint.value)})),r.tokenRecord.value||s.tokenStandard===lH.TokenStandard.ProgrammableNonFungible&&(r.tokenRecord.value=(0,nV.findTokenRecordPda)(n,{mint:(0,Z0.expectPublicKey)(r.mint.value),token:(0,Z0.expectPublicKey)(r.token.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,uH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.splTokenProgram.value||s.tokenStandard!==lH.TokenStandard.ProgrammableNonFungible&&(r.splTokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.splTokenProgram.isWritable=!1),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,Z0.getAccountMetasAndSigners)(i,"programId",t),c=s3e().serialize(s),u=0;return(0,uH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}ux.unlockV1=i6t;var lx={};Object.defineProperty(lx,"__esModule",{value:!0});lx.unverifyCollection=lx.getUnverifyCollectionInstructionDataSerializer=void 0;const o6t=Z,sV=q,a6t=Ke;function i3e(){return(0,sV.mapSerializer)((0,sV.struct)([["discriminator",(0,sV.u8)()]],{description:"UnverifyCollectionInstructionData"}),n=>({...n,discriminator:22}))}lx.getUnverifyCollectionInstructionDataSerializer=i3e;function c6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},collectionMint:{index:2,isWritable:!1,value:e.collectionMint??null},collection:{index:3,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:4,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:5,isWritable:!1,value:e.collectionAuthorityRecord??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,a6t.getAccountMetasAndSigners)(s,"omitted",t),a=i3e().serialize({}),c=0;return(0,o6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}lx.unverifyCollection=c6t;var dx={};Object.defineProperty(dx,"__esModule",{value:!0});dx.unverifyCollectionV1=dx.getUnverifyCollectionV1InstructionDataSerializer=void 0;const c0e=Z,rD=q,u6t=Nt,u0e=Ke;function o3e(){return(0,rD.mapSerializer)((0,rD.struct)([["discriminator",(0,rD.u8)()],["unverifyCollectionV1Discriminator",(0,rD.u8)()]],{description:"UnverifyCollectionV1InstructionData"}),n=>({...n,discriminator:53,unverifyCollectionV1Discriminator:1}))}dx.getUnverifyCollectionV1InstructionDataSerializer=o3e;function l6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,u6t.findMetadataPda)(n,{mint:(0,u0e.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,c0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,u0e.getAccountMetasAndSigners)(s,"programId",t),a=o3e().serialize({}),c=0;return(0,c0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}dx.unverifyCollectionV1=l6t;var fx={};Object.defineProperty(fx,"__esModule",{value:!0});fx.unverifyCreatorV1=fx.getUnverifyCreatorV1InstructionDataSerializer=void 0;const l0e=Z,nD=q,d6t=Ke;function a3e(){return(0,nD.mapSerializer)((0,nD.struct)([["discriminator",(0,nD.u8)()],["unverifyCreatorV1Discriminator",(0,nD.u8)()]],{description:"UnverifyCreatorV1InstructionData"}),n=>({...n,discriminator:53,unverifyCreatorV1Discriminator:0}))}fx.getUnverifyCreatorV1InstructionDataSerializer=a3e;function f6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},systemProgram:{index:5,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:6,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,l0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,d6t.getAccountMetasAndSigners)(s,"programId",t),a=a3e().serialize({}),c=0;return(0,l0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}fx.unverifyCreatorV1=f6t;var hx={};Object.defineProperty(hx,"__esModule",{value:!0});hx.unverifySizedCollectionItem=hx.getUnverifySizedCollectionItemInstructionDataSerializer=void 0;const h6t=Z,iV=q,g6t=Ke;function c3e(){return(0,iV.mapSerializer)((0,iV.struct)([["discriminator",(0,iV.u8)()]],{description:"UnverifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:31}))}hx.getUnverifySizedCollectionItemInstructionDataSerializer=c3e;function m6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,g6t.getAccountMetasAndSigners)(s,"omitted",t),a=c3e().serialize({}),c=0;return(0,h6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}hx.unverifySizedCollectionItem=m6t;var gx={};Object.defineProperty(gx,"__esModule",{value:!0});gx.updateAsAuthorityItemDelegateV2=gx.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=void 0;const S1=Z,fl=q,d0e=Nt,m2=Ke,dH=lt;function u3e(){return(0,fl.mapSerializer)((0,fl.struct)([["discriminator",(0,fl.u8)()],["updateAsAuthorityItemDelegateV2Discriminator",(0,fl.u8)()],["newUpdateAuthority",(0,fl.option)((0,fl.publicKey)())],["primarySaleHappened",(0,fl.option)((0,fl.bool)())],["isMutable",(0,fl.option)((0,fl.bool)())],["tokenStandard",(0,fl.option)((0,dH.getTokenStandardSerializer)())],["authorizationData",(0,fl.option)((0,dH.getAuthorizationDataSerializer)())]],{description:"UpdateAsAuthorityItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsAuthorityItemDelegateV2Discriminator:2,newUpdateAuthority:n.newUpdateAuthority??(0,S1.none)(),primarySaleHappened:n.primarySaleHappened??(0,S1.none)(),isMutable:n.isMutable??(0,S1.none)(),tokenStandard:n.tokenStandard??(0,S1.none)(),authorizationData:n.authorizationData??(0,S1.none)()}))}gx.getUpdateAsAuthorityItemDelegateV2InstructionDataSerializer=u3e;function y6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,d0e.findMetadataDelegateRecordPda)(n,{delegateRole:dH.MetadataDelegateRole.AuthorityItem,updateAuthority:(0,m2.expectSome)(s.updateAuthority),delegate:(0,m2.expectPublicKey)(r.authority.value),mint:(0,m2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,d0e.findMetadataPda)(n,{mint:(0,m2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,S1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,m2.getAccountMetasAndSigners)(i,"programId",t),c=u3e().serialize(s),u=0;return(0,S1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}gx.updateAsAuthorityItemDelegateV2=y6t;var mx={};Object.defineProperty(mx,"__esModule",{value:!0});mx.updateAsCollectionDelegateV2=mx.getUpdateAsCollectionDelegateV2InstructionDataSerializer=void 0;const fH=Z,y2=q,f0e=Nt,hv=Ke,qD=lt;function l3e(){return(0,y2.mapSerializer)((0,y2.struct)([["discriminator",(0,y2.u8)()],["updateAsCollectionDelegateV2Discriminator",(0,y2.u8)()],["collection",(0,qD.getCollectionToggleSerializer)()],["authorizationData",(0,y2.option)((0,qD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionDelegateV2Discriminator:3,collection:n.collection??(0,qD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,fH.none)()}))}mx.getUpdateAsCollectionDelegateV2InstructionDataSerializer=l3e;function p6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,hv.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,f0e.findMetadataDelegateRecordPda)(n,{mint:(0,hv.expectSome)(s.delegateMint),delegateRole:qD.MetadataDelegateRole.Collection,updateAuthority:(0,hv.expectSome)(s.delegateUpdateAuthority),delegate:(0,hv.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,f0e.findMetadataPda)(n,{mint:(0,hv.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,fH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,hv.getAccountMetasAndSigners)(i,"programId",t),c=l3e().serialize(s),u=0;return(0,fH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}mx.updateAsCollectionDelegateV2=p6t;var yx={};Object.defineProperty(yx,"__esModule",{value:!0});yx.updateAsCollectionItemDelegateV2=yx.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=void 0;const hH=Z,p2=q,h0e=Nt,b2=Ke,jD=lt;function d3e(){return(0,p2.mapSerializer)((0,p2.struct)([["discriminator",(0,p2.u8)()],["updateAsCollectionItemDelegateV2Discriminator",(0,p2.u8)()],["collection",(0,jD.getCollectionToggleSerializer)()],["authorizationData",(0,p2.option)((0,jD.getAuthorizationDataSerializer)())]],{description:"UpdateAsCollectionItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsCollectionItemDelegateV2Discriminator:7,collection:n.collection??(0,jD.collectionToggle)("None"),authorizationData:n.authorizationData??(0,hH.none)()}))}yx.getUpdateAsCollectionItemDelegateV2InstructionDataSerializer=d3e;function b6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,h0e.findMetadataDelegateRecordPda)(n,{delegateRole:jD.MetadataDelegateRole.CollectionItem,updateAuthority:(0,b2.expectSome)(s.updateAuthority),delegate:(0,b2.expectPublicKey)(r.authority.value),mint:(0,b2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,h0e.findMetadataPda)(n,{mint:(0,b2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,hH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b2.getAccountMetasAndSigners)(i,"programId",t),c=d3e().serialize(s),u=0;return(0,hH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}yx.updateAsCollectionItemDelegateV2=b6t;var px={};Object.defineProperty(px,"__esModule",{value:!0});px.updateAsDataDelegateV2=px.getUpdateAsDataDelegateV2InstructionDataSerializer=void 0;const o4=Z,gv=q,g0e=Nt,mv=Ke,gH=lt;function f3e(){return(0,gv.mapSerializer)((0,gv.struct)([["discriminator",(0,gv.u8)()],["updateAsDataDelegateV2Discriminator",(0,gv.u8)()],["data",(0,gv.option)((0,gH.getDataSerializer)())],["authorizationData",(0,gv.option)((0,gH.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataDelegateV2Discriminator:4,data:n.data??(0,o4.none)(),authorizationData:n.authorizationData??(0,o4.none)()}))}px.getUpdateAsDataDelegateV2InstructionDataSerializer=f3e;function S6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,mv.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,g0e.findMetadataDelegateRecordPda)(n,{mint:(0,mv.expectSome)(s.delegateMint),delegateRole:gH.MetadataDelegateRole.Data,updateAuthority:(0,mv.expectSome)(s.delegateUpdateAuthority),delegate:(0,mv.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,g0e.findMetadataPda)(n,{mint:(0,mv.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,o4.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,mv.getAccountMetasAndSigners)(i,"programId",t),c=f3e().serialize(s),u=0;return(0,o4.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}px.updateAsDataDelegateV2=S6t;var bx={};Object.defineProperty(bx,"__esModule",{value:!0});bx.updateAsDataItemDelegateV2=bx.getUpdateAsDataItemDelegateV2InstructionDataSerializer=void 0;const a4=Z,yv=q,m0e=Nt,S2=Ke,mH=lt;function h3e(){return(0,yv.mapSerializer)((0,yv.struct)([["discriminator",(0,yv.u8)()],["updateAsDataItemDelegateV2Discriminator",(0,yv.u8)()],["data",(0,yv.option)((0,mH.getDataSerializer)())],["authorizationData",(0,yv.option)((0,mH.getAuthorizationDataSerializer)())]],{description:"UpdateAsDataItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsDataItemDelegateV2Discriminator:6,data:n.data??(0,a4.none)(),authorizationData:n.authorizationData??(0,a4.none)()}))}bx.getUpdateAsDataItemDelegateV2InstructionDataSerializer=h3e;function k6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,m0e.findMetadataDelegateRecordPda)(n,{delegateRole:mH.MetadataDelegateRole.DataItem,updateAuthority:(0,S2.expectSome)(s.updateAuthority),delegate:(0,S2.expectPublicKey)(r.authority.value),mint:(0,S2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,m0e.findMetadataPda)(n,{mint:(0,S2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,a4.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S2.getAccountMetasAndSigners)(i,"programId",t),c=h3e().serialize(s),u=0;return(0,a4.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}bx.updateAsDataItemDelegateV2=k6t;var Sx={};Object.defineProperty(Sx,"__esModule",{value:!0});Sx.updateAsProgrammableConfigDelegateV2=Sx.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=void 0;const yH=Z,k2=q,y0e=Nt,pv=Ke,HD=lt;function g3e(){return(0,k2.mapSerializer)((0,k2.struct)([["discriminator",(0,k2.u8)()],["updateAsProgrammableConfigDelegateV2Discriminator",(0,k2.u8)()],["ruleSet",(0,HD.getRuleSetToggleSerializer)()],["authorizationData",(0,k2.option)((0,HD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigDelegateV2Discriminator:5,ruleSet:n.ruleSet??(0,HD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,yH.none)()}))}Sx.getUpdateAsProgrammableConfigDelegateV2InstructionDataSerializer=g3e;function v6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.delegateMint||(s.delegateMint=(0,pv.expectPublicKey)(r.mint.value)),s.delegateUpdateAuthority||(s.delegateUpdateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,y0e.findMetadataDelegateRecordPda)(n,{mint:(0,pv.expectSome)(s.delegateMint),delegateRole:HD.MetadataDelegateRole.ProgrammableConfig,updateAuthority:(0,pv.expectSome)(s.delegateUpdateAuthority),delegate:(0,pv.expectPublicKey)(r.authority.value)})),r.metadata.value||(r.metadata.value=(0,y0e.findMetadataPda)(n,{mint:(0,pv.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,yH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,pv.getAccountMetasAndSigners)(i,"programId",t),c=g3e().serialize(s),u=0;return(0,yH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Sx.updateAsProgrammableConfigDelegateV2=v6t;var kx={};Object.defineProperty(kx,"__esModule",{value:!0});kx.updateAsProgrammableConfigItemDelegateV2=kx.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=void 0;const pH=Z,v2=q,p0e=Nt,A2=Ke,GD=lt;function m3e(){return(0,v2.mapSerializer)((0,v2.struct)([["discriminator",(0,v2.u8)()],["updateAsProgrammableConfigItemDelegateV2Discriminator",(0,v2.u8)()],["ruleSet",(0,GD.getRuleSetToggleSerializer)()],["authorizationData",(0,v2.option)((0,GD.getAuthorizationDataSerializer)())]],{description:"UpdateAsProgrammableConfigItemDelegateV2InstructionData"}),n=>({...n,discriminator:50,updateAsProgrammableConfigItemDelegateV2Discriminator:8,ruleSet:n.ruleSet??(0,GD.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,pH.none)()}))}kx.getUpdateAsProgrammableConfigItemDelegateV2InstructionDataSerializer=m3e;function A6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),s.updateAuthority||(s.updateAuthority=n.identity.publicKey),r.delegateRecord.value||(r.delegateRecord.value=(0,p0e.findMetadataDelegateRecordPda)(n,{delegateRole:GD.MetadataDelegateRole.ProgrammableConfigItem,updateAuthority:(0,A2.expectSome)(s.updateAuthority),delegate:(0,A2.expectPublicKey)(r.authority.value),mint:(0,A2.expectPublicKey)(r.mint.value)})),r.metadata.value||(r.metadata.value=(0,p0e.findMetadataPda)(n,{mint:(0,A2.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,pH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,A2.getAccountMetasAndSigners)(i,"programId",t),c=m3e().serialize(s),u=0;return(0,pH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}kx.updateAsProgrammableConfigItemDelegateV2=A6t;var vx={};Object.defineProperty(vx,"__esModule",{value:!0});vx.updateAsUpdateAuthorityV2=vx.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=void 0;const wy=Z,Bu=q,w6t=Nt,b0e=Ke,Yl=lt;function y3e(){return(0,Bu.mapSerializer)((0,Bu.struct)([["discriminator",(0,Bu.u8)()],["updateAsUpdateAuthorityV2Discriminator",(0,Bu.u8)()],["newUpdateAuthority",(0,Bu.option)((0,Bu.publicKey)())],["data",(0,Bu.option)((0,Yl.getDataSerializer)())],["primarySaleHappened",(0,Bu.option)((0,Bu.bool)())],["isMutable",(0,Bu.option)((0,Bu.bool)())],["collection",(0,Yl.getCollectionToggleSerializer)()],["collectionDetails",(0,Yl.getCollectionDetailsToggleSerializer)()],["uses",(0,Yl.getUsesToggleSerializer)()],["ruleSet",(0,Yl.getRuleSetToggleSerializer)()],["tokenStandard",(0,Bu.option)((0,Yl.getTokenStandardSerializer)())],["authorizationData",(0,Bu.option)((0,Yl.getAuthorizationDataSerializer)())]],{description:"UpdateAsUpdateAuthorityV2InstructionData"}),n=>({...n,discriminator:50,updateAsUpdateAuthorityV2Discriminator:1,newUpdateAuthority:n.newUpdateAuthority??(0,wy.none)(),data:n.data??(0,wy.none)(),primarySaleHappened:n.primarySaleHappened??(0,wy.none)(),isMutable:n.isMutable??(0,wy.none)(),collection:n.collection??(0,Yl.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Yl.collectionDetailsToggle)("None"),uses:n.uses??(0,Yl.usesToggle)("None"),ruleSet:n.ruleSet??(0,Yl.ruleSetToggle)("None"),tokenStandard:n.tokenStandard??(0,wy.none)(),authorizationData:n.authorizationData??(0,wy.none)()}))}vx.getUpdateAsUpdateAuthorityV2InstructionDataSerializer=y3e;function I6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,w6t.findMetadataPda)(n,{mint:(0,b0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,wy.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,b0e.getAccountMetasAndSigners)(i,"programId",t),c=y3e().serialize(s),u=0;return(0,wy.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}vx.updateAsUpdateAuthorityV2=I6t;var Ax={};Object.defineProperty(Ax,"__esModule",{value:!0});Ax.updateMetadataAccountV2=Ax.getUpdateMetadataAccountV2InstructionDataSerializer=void 0;const C2=Z,Yd=q,P6t=Ke,_6t=lt;function p3e(){return(0,Yd.mapSerializer)((0,Yd.struct)([["discriminator",(0,Yd.u8)()],["data",(0,Yd.option)((0,_6t.getDataV2Serializer)())],["newUpdateAuthority",(0,Yd.option)((0,Yd.publicKey)())],["primarySaleHappened",(0,Yd.option)((0,Yd.bool)())],["isMutable",(0,Yd.option)((0,Yd.bool)())]],{description:"UpdateMetadataAccountV2InstructionData"}),n=>({...n,discriminator:15,data:n.data??(0,C2.none)(),newUpdateAuthority:n.newUpdateAuthority??(0,C2.none)(),primarySaleHappened:n.primarySaleHappened??(0,C2.none)(),isMutable:n.isMutable??(0,C2.none)()}))}Ax.getUpdateMetadataAccountV2InstructionDataSerializer=p3e;function E6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},updateAuthority:{index:1,isWritable:!1,value:e.updateAuthority??null}},s={...e};r.updateAuthority.value||(r.updateAuthority.value=n.identity);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,P6t.getAccountMetasAndSigners)(i,"programId",t),c=p3e().serialize(s),u=0;return(0,C2.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ax.updateMetadataAccountV2=E6t;var wx={};Object.defineProperty(wx,"__esModule",{value:!0});wx.updatePrimarySaleHappenedViaToken=wx.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=void 0;const x6t=Z,oV=q,T6t=Ke;function b3e(){return(0,oV.mapSerializer)((0,oV.struct)([["discriminator",(0,oV.u8)()]],{description:"UpdatePrimarySaleHappenedViaTokenInstructionData"}),n=>({...n,discriminator:4}))}wx.getUpdatePrimarySaleHappenedViaTokenInstructionDataSerializer=b3e;function R6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},owner:{index:1,isWritable:!1,value:e.owner??null},token:{index:2,isWritable:!1,value:e.token??null}},s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,T6t.getAccountMetasAndSigners)(s,"programId",t),a=b3e().serialize({}),c=0;return(0,x6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}wx.updatePrimarySaleHappenedViaToken=R6t;var Ix={};Object.defineProperty(Ix,"__esModule",{value:!0});Ix.updateV1=Ix.getUpdateV1InstructionDataSerializer=void 0;const k1=Z,hl=q,C6t=Nt,S0e=Ke,Zd=lt;function S3e(){return(0,hl.mapSerializer)((0,hl.struct)([["discriminator",(0,hl.u8)()],["updateV1Discriminator",(0,hl.u8)()],["newUpdateAuthority",(0,hl.option)((0,hl.publicKey)())],["data",(0,hl.option)((0,Zd.getDataSerializer)())],["primarySaleHappened",(0,hl.option)((0,hl.bool)())],["isMutable",(0,hl.option)((0,hl.bool)())],["collection",(0,Zd.getCollectionToggleSerializer)()],["collectionDetails",(0,Zd.getCollectionDetailsToggleSerializer)()],["uses",(0,Zd.getUsesToggleSerializer)()],["ruleSet",(0,Zd.getRuleSetToggleSerializer)()],["authorizationData",(0,hl.option)((0,Zd.getAuthorizationDataSerializer)())]],{description:"UpdateV1InstructionData"}),n=>({...n,discriminator:50,updateV1Discriminator:0,newUpdateAuthority:n.newUpdateAuthority??(0,k1.none)(),data:n.data??(0,k1.none)(),primarySaleHappened:n.primarySaleHappened??(0,k1.none)(),isMutable:n.isMutable??(0,k1.none)(),collection:n.collection??(0,Zd.collectionToggle)("None"),collectionDetails:n.collectionDetails??(0,Zd.collectionDetailsToggle)("None"),uses:n.uses??(0,Zd.usesToggle)("None"),ruleSet:n.ruleSet??(0,Zd.ruleSetToggle)("None"),authorizationData:n.authorizationData??(0,k1.none)()}))}Ix.getUpdateV1InstructionDataSerializer=S3e;function M6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},token:{index:2,isWritable:!1,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!1,value:e.edition??null},payer:{index:6,isWritable:!0,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},authorizationRulesProgram:{index:9,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:10,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,C6t.findMetadataPda)(n,{mint:(0,S0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,k1.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,S0e.getAccountMetasAndSigners)(i,"programId",t),c=S3e().serialize(s),u=0;return(0,k1.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Ix.updateV1=M6t;var Px={};Object.defineProperty(Px,"__esModule",{value:!0});Px.useV1=Px.getUseV1InstructionDataSerializer=void 0;const bH=Z,w2=q,B6t=Nt,k0e=Ke,z6t=lt;function k3e(){return(0,w2.mapSerializer)((0,w2.struct)([["discriminator",(0,w2.u8)()],["useV1Discriminator",(0,w2.u8)()],["authorizationData",(0,w2.option)((0,z6t.getAuthorizationDataSerializer)())]],{description:"UseV1InstructionData"}),n=>({...n,discriminator:51,useV1Discriminator:0,authorizationData:n.authorizationData??(0,bH.none)()}))}Px.getUseV1InstructionDataSerializer=k3e;function $6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!0,value:e.delegateRecord??null},token:{index:2,isWritable:!0,value:e.token??null},mint:{index:3,isWritable:!1,value:e.mint??null},metadata:{index:4,isWritable:!0,value:e.metadata??null},edition:{index:5,isWritable:!0,value:e.edition??null},payer:{index:6,isWritable:!1,value:e.payer??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:8,isWritable:!1,value:e.sysvarInstructions??null},splTokenProgram:{index:9,isWritable:!1,value:e.splTokenProgram??null},authorizationRulesProgram:{index:10,isWritable:!1,value:e.authorizationRulesProgram??null},authorizationRules:{index:11,isWritable:!1,value:e.authorizationRules??null}},s={...e};r.authority.value||(r.authority.value=n.identity),r.metadata.value||(r.metadata.value=(0,B6t.findMetadataPda)(n,{mint:(0,k0e.expectPublicKey)(r.mint.value)})),r.payer.value||(r.payer.value=n.payer),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,bH.publicKey)("Sysvar1nstructions1111111111111111111111111")),r.authorizationRulesProgram.value||r.authorizationRules.value&&(r.authorizationRulesProgram.value=n.programs.getPublicKey("mplTokenAuthRules","auth9SigNpDKz4sJJ1DfCTuZrZNSAgh9sFD3rboVmgg"),r.authorizationRulesProgram.isWritable=!1);const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,k0e.getAccountMetasAndSigners)(i,"programId",t),c=k3e().serialize(s),u=0;return(0,bH.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}Px.useV1=$6t;var _x={};Object.defineProperty(_x,"__esModule",{value:!0});_x.utilize=_x.getUtilizeInstructionDataSerializer=void 0;const v0e=Z,sD=q,D6t=Nt,A0e=Ke;function v3e(){return(0,sD.mapSerializer)((0,sD.struct)([["discriminator",(0,sD.u8)()],["numberOfUses",(0,sD.u64)()]],{description:"UtilizeInstructionData"}),n=>({...n,discriminator:19}))}_x.getUtilizeInstructionDataSerializer=v3e;function O6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},tokenAccount:{index:1,isWritable:!0,value:e.tokenAccount??null},mint:{index:2,isWritable:!0,value:e.mint??null},useAuthority:{index:3,isWritable:!0,value:e.useAuthority??null},owner:{index:4,isWritable:!1,value:e.owner??null},tokenProgram:{index:5,isWritable:!1,value:e.tokenProgram??null},ataProgram:{index:6,isWritable:!1,value:e.ataProgram??null},systemProgram:{index:7,isWritable:!1,value:e.systemProgram??null},rent:{index:8,isWritable:!1,value:e.rent??null},useAuthorityRecord:{index:9,isWritable:!0,value:e.useAuthorityRecord??null},burner:{index:10,isWritable:!1,value:e.burner??null}},s={...e};r.metadata.value||(r.metadata.value=(0,D6t.findMetadataPda)(n,{mint:(0,A0e.expectPublicKey)(r.mint.value)})),r.tokenProgram.value||(r.tokenProgram.value=n.programs.getPublicKey("splToken","TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),r.tokenProgram.isWritable=!1),r.ataProgram.value||(r.ataProgram.value=n.programs.getPublicKey("splAssociatedToken","ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),r.ataProgram.isWritable=!1),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.rent.value||(r.rent.value=(0,v0e.publicKey)("SysvarRent111111111111111111111111111111111"));const i=Object.values(r).sort((l,d)=>l.index-d.index),[o,a]=(0,A0e.getAccountMetasAndSigners)(i,"omitted",t),c=v3e().serialize(s),u=0;return(0,v0e.transactionBuilder)([{instruction:{keys:o,programId:t,data:c},signers:a,bytesCreatedOnChain:u}])}_x.utilize=O6t;var Ex={};Object.defineProperty(Ex,"__esModule",{value:!0});Ex.verifyCollection=Ex.getVerifyCollectionInstructionDataSerializer=void 0;const K6t=Z,aV=q,L6t=Ke;function A3e(){return(0,aV.mapSerializer)((0,aV.struct)([["discriminator",(0,aV.u8)()]],{description:"VerifyCollectionInstructionData"}),n=>({...n,discriminator:18}))}Ex.getVerifyCollectionInstructionDataSerializer=A3e;function W6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!0,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!1,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,L6t.getAccountMetasAndSigners)(s,"omitted",t),a=A3e().serialize({}),c=0;return(0,K6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Ex.verifyCollection=W6t;var xx={};Object.defineProperty(xx,"__esModule",{value:!0});xx.verifyCollectionV1=xx.getVerifyCollectionV1InstructionDataSerializer=void 0;const w0e=Z,iD=q,I0e=Nt,cV=Ke;function w3e(){return(0,iD.mapSerializer)((0,iD.struct)([["discriminator",(0,iD.u8)()],["verifyCollectionV1Discriminator",(0,iD.u8)()]],{description:"VerifyCollectionV1InstructionData"}),n=>({...n,discriminator:52,verifyCollectionV1Discriminator:1}))}xx.getVerifyCollectionV1InstructionDataSerializer=w3e;function N6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.collectionMetadata.value||(r.collectionMetadata.value=(0,I0e.findMetadataPda)(n,{mint:(0,cV.expectPublicKey)(r.collectionMint.value)})),r.collectionMasterEdition.value||(r.collectionMasterEdition.value=(0,I0e.findMasterEditionPda)(n,{mint:(0,cV.expectPublicKey)(r.collectionMint.value)})),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,w0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,cV.getAccountMetasAndSigners)(s,"programId",t),a=w3e().serialize({}),c=0;return(0,w0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}xx.verifyCollectionV1=N6t;var Tx={};Object.defineProperty(Tx,"__esModule",{value:!0});Tx.verifyCreatorV1=Tx.getVerifyCreatorV1InstructionDataSerializer=void 0;const P0e=Z,oD=q,F6t=Ke;function I3e(){return(0,oD.mapSerializer)((0,oD.struct)([["discriminator",(0,oD.u8)()],["verifyCreatorV1Discriminator",(0,oD.u8)()]],{description:"VerifyCreatorV1InstructionData"}),n=>({...n,discriminator:52,verifyCreatorV1Discriminator:0}))}Tx.getVerifyCreatorV1InstructionDataSerializer=I3e;function U6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={authority:{index:0,isWritable:!1,value:e.authority??null},delegateRecord:{index:1,isWritable:!1,value:e.delegateRecord??null},metadata:{index:2,isWritable:!0,value:e.metadata??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collectionMetadata:{index:4,isWritable:!0,value:e.collectionMetadata??null},collectionMasterEdition:{index:5,isWritable:!1,value:e.collectionMasterEdition??null},systemProgram:{index:6,isWritable:!1,value:e.systemProgram??null},sysvarInstructions:{index:7,isWritable:!1,value:e.sysvarInstructions??null}};r.authority.value||(r.authority.value=n.identity),r.systemProgram.value||(r.systemProgram.value=n.programs.getPublicKey("splSystem","11111111111111111111111111111111"),r.systemProgram.isWritable=!1),r.sysvarInstructions.value||(r.sysvarInstructions.value=(0,P0e.publicKey)("Sysvar1nstructions1111111111111111111111111"));const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,F6t.getAccountMetasAndSigners)(s,"programId",t),a=I3e().serialize({}),c=0;return(0,P0e.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Tx.verifyCreatorV1=U6t;var Rx={};Object.defineProperty(Rx,"__esModule",{value:!0});Rx.verifySizedCollectionItem=Rx.getVerifySizedCollectionItemInstructionDataSerializer=void 0;const V6t=Z,uV=q,q6t=Ke;function P3e(){return(0,uV.mapSerializer)((0,uV.struct)([["discriminator",(0,uV.u8)()]],{description:"VerifySizedCollectionItemInstructionData"}),n=>({...n,discriminator:30}))}Rx.getVerifySizedCollectionItemInstructionDataSerializer=P3e;function j6t(n,e){const t=n.programs.getPublicKey("mplTokenMetadata","metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),r={metadata:{index:0,isWritable:!0,value:e.metadata??null},collectionAuthority:{index:1,isWritable:!1,value:e.collectionAuthority??null},payer:{index:2,isWritable:!0,value:e.payer??null},collectionMint:{index:3,isWritable:!1,value:e.collectionMint??null},collection:{index:4,isWritable:!0,value:e.collection??null},collectionMasterEditionAccount:{index:5,isWritable:!1,value:e.collectionMasterEditionAccount??null},collectionAuthorityRecord:{index:6,isWritable:!1,value:e.collectionAuthorityRecord??null}};r.payer.value||(r.payer.value=n.payer);const s=Object.values(r).sort((u,l)=>u.index-l.index),[i,o]=(0,q6t.getAccountMetasAndSigners)(s,"omitted",t),a=P3e().serialize({}),c=0;return(0,V6t.transactionBuilder)([{instruction:{keys:i,programId:t,data:a},signers:o,bytesCreatedOnChain:c}])}Rx.verifySizedCollectionItem=j6t;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(X_,n),t(Q_,n),t(eE,n),t(tE,n),t(rE,n),t(nE,n),t(sE,n),t(iE,n),t(oE,n),t(aE,n),t(cE,n),t(uE,n),t(lE,n),t(dE,n),t(fE,n),t(hE,n),t(gE,n),t(mE,n),t(yE,n),t(pE,n),t(bE,n),t(SE,n),t(kE,n),t(vE,n),t(AE,n),t(wE,n),t(IE,n),t(PE,n),t(_E,n),t(EE,n),t(xE,n),t(TE,n),t(RE,n),t(CE,n),t(ME,n),t(BE,n),t(zE,n),t($E,n),t(DE,n),t(OE,n),t(KE,n),t(LE,n),t(WE,n),t(NE,n),t(FE,n),t(UE,n),t(VE,n),t(qE,n),t(jE,n),t(HE,n),t(GE,n),t(YE,n),t(ZE,n),t(JE,n),t(XE,n),t(QE,n),t(ex,n),t(tx,n),t(rx,n),t(nx,n),t(sx,n),t(ix,n),t(ox,n),t(ax,n),t(cx,n),t(ux,n),t(lx,n),t(dx,n),t(fx,n),t(hx,n),t(gx,n),t(mx,n),t(yx,n),t(px,n),t(bx,n),t(Sx,n),t(kx,n),t(vx,n),t(Ax,n),t(wx,n),t(Ix,n),t(Px,n),t(_x,n),t(Ex,n),t(xx,n),t(Tx,n),t(Rx,n)})(B$e);var _3e={},E3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getMplTokenMetadataProgramId=n.getMplTokenMetadataProgram=n.createMplTokenMetadataProgram=n.MPL_TOKEN_METADATA_PROGRAM_ID=void 0;const e=sie;n.MPL_TOKEN_METADATA_PROGRAM_ID="metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s";function t(){return{name:"mplTokenMetadata",publicKey:n.MPL_TOKEN_METADATA_PROGRAM_ID,getErrorFromCode(i,o){return(0,e.getMplTokenMetadataErrorFromCode)(i,this,o)},getErrorFromName(i,o){return(0,e.getMplTokenMetadataErrorFromName)(i,this,o)},isOnCluster(){return!0}}}n.createMplTokenMetadataProgram=t;function r(i,o){return i.programs.get("mplTokenMetadata",o)}n.getMplTokenMetadataProgram=r;function s(i,o){return i.programs.getPublicKey("mplTokenMetadata",n.MPL_TOKEN_METADATA_PROGRAM_ID,o)}n.getMplTokenMetadataProgramId=s})(E3e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(E3e,n)})(_3e);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Nt,n),t(sie,n),t(B$e,n),t(_3e,n),t(Ke,n),t(lt,n)})(qb);var x3e={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.createFungibleAsset=n.createFungible=n.createProgrammableNft=n.createNft=n.createAndMint=void 0;const e=Z,t=qb,r=(c,u)=>(0,e.transactionBuilder)().add((0,t.createV1)(c,u)).add((0,t.mintV1)(c,{...u,mint:(0,e.publicKey)(u.mint)}));n.createAndMint=r;const s=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.NonFungible,amount:1});n.createNft=s;const i=(c,u)=>(0,n.createAndMint)(c,{...u,tokenStandard:t.TokenStandard.ProgrammableNonFungible,amount:1});n.createProgrammableNft=i;const o=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.Fungible});n.createFungible=o;const a=(c,u)=>(0,t.createV1)(c,{...u,tokenStandard:t.TokenStandard.FungibleAsset});n.createFungibleAsset=a})(x3e);var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.deserializeDigitalAssetWithToken=Pc.fetchAllDigitalAssetWithTokenByMint=Pc.fetchAllDigitalAssetWithTokenByOwnerAndMint=Pc.fetchAllDigitalAssetWithTokenByOwner=Pc.fetchDigitalAssetWithTokenByMint=Pc.fetchDigitalAssetWithAssociatedToken=Pc.fetchDigitalAssetWithToken=void 0;const Np=Z,l5=Gs,T3e=u5,ad=qb;async function R3e(n,e,t,r){const[s,i,o,a,c]=await n.rpc.getAccounts([e,(0,ad.findMetadataPda)(n,{mint:e})[0],(0,ad.findMasterEditionPda)(n,{mint:e})[0],t,(0,ad.findTokenRecordPda)(n,{mint:e,token:t})[0]],r);return(0,Np.assertAccountExists)(s,"Mint"),(0,Np.assertAccountExists)(i,"Metadata"),(0,Np.assertAccountExists)(a,"Token"),jce(s,i,a,o.exists?o:void 0,c.exists?c:void 0)}Pc.fetchDigitalAssetWithToken=R3e;async function H6t(n,e,t,r){const[s]=(0,l5.findAssociatedTokenPda)(n,{mint:e,owner:t});return R3e(n,e,s,r)}Pc.fetchDigitalAssetWithAssociatedToken=H6t;async function G6t(n,e,t){const r=await M3e(n,e,t);if(r.length===0)throw new Error("No valid token accounts found for the provided mint");if(r.length>1)throw new Error("Multiple valid token accounts found for the provided mintuse `fetchAllDigitalAssetWithTokenByMint` instead to retrieve them all.");return r[0]}Pc.fetchDigitalAssetWithTokenByMint=G6t;async function C3e(n,e,t){const r=await(0,l5.fetchAllTokenByOwner)(n,e,t),s=r.flatMap(o=>[o.mint,(0,ad.findMetadataPda)(n,{mint:o.mint})[0],(0,ad.findMasterEditionPda)(n,{mint:o.mint})[0],(0,ad.findTokenRecordPda)(n,{mint:o.mint,token:o.publicKey})[0]]),i=await n.rpc.getAccounts(s,t);return(0,Np.zipMap)(r,(0,Np.chunk)(i,4),(o,a)=>{if(!a||a.length!==4)return[];const[c,u,l,d]=a;if(!c.exists||!u.exists)return[];try{return[{...(0,T3e.deserializeDigitalAsset)(c,u,l.exists?l:void 0),token:o,tokenRecord:d.exists?(0,ad.deserializeTokenRecord)(d):void 0}]}catch{return[]}}).flat()}Pc.fetchAllDigitalAssetWithTokenByOwner=C3e;function Y6t(n,e,t,r){return C3e(n,e,{...r,mint:t})}Pc.fetchAllDigitalAssetWithTokenByOwnerAndMint=Y6t;async function M3e(n,e,t){const s=(await(0,l5.findLargestTokensByMint)(n,e,t)).filter(d=>d.amount.basisPoints>0).map(d=>d.publicKey),i=[e,(0,ad.findMetadataPda)(n,{mint:e})[0],(0,ad.findMasterEditionPda)(n,{mint:e})[0]];i.push(...s.flatMap(d=>[d,(0,ad.findTokenRecordPda)(n,{mint:e,token:d})[0]]));const o=await n.rpc.getAccounts(i,t),[a,c,u,...l]=o;return(0,Np.assertAccountExists)(a,"Mint"),(0,Np.assertAccountExists)(c,"Metadata"),(0,Np.chunk)(l,2).flatMap(([d,y])=>d.exists?[jce(a,c,d,u.exists?u:void 0,y.exists?y:void 0)]:[])}Pc.fetchAllDigitalAssetWithTokenByMint=M3e;function jce(n,e,t,r,s){return{...(0,T3e.deserializeDigitalAsset)(n,e,r),token:(0,l5.deserializeToken)(t),tokenRecord:s?(0,ad.deserializeTokenRecord)(s):void 0}}Pc.deserializeDigitalAssetWithToken=jce;var d5={};Object.defineProperty(d5,"__esModule",{value:!0});d5.fetchJsonMetadata=void 0;const Z6t=jb,J6t=async(n,e)=>{try{return await n.downloader.downloadJson(e)}catch(t){throw new Z6t.TokenMetadataError(`Failed to fetch JSON metadata from ${e}`,t)}};d5.fetchJsonMetadata=J6t;var f5={};Object.defineProperty(f5,"__esModule",{value:!0});f5.mplTokenMetadata=void 0;const X6t=Gs,Q6t=qb,eLt=()=>({install(n){n.use((0,X6t.mplToolbox)()),n.programs.add((0,Q6t.createMplTokenMetadataProgram)(),!1)}});f5.mplTokenMetadata=eLt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(qb,n),t(an,n),t(x3e,n),t(u5,n),t(Pc,n),t(jb,n),t(d5,n),t(f5,n)})(RBe);var h5={},Hce={},g5={},_c={},Zz={},Pk={};Object.defineProperty(Pk,"__esModule",{value:!0});var tLt=lc;function rLt(n){return n.toBase58()}function nLt(n){return new tLt.PublicKey(n)}Pk.fromWeb3JsPublicKey=rLt;Pk.toWeb3JsPublicKey=nLt;Object.defineProperty(Zz,"__esModule",{value:!0});var sLt=lc,iLt=V,c4=Pk;function oLt(n){return{keys:n.keys.map(e=>({...e,pubkey:c4.fromWeb3JsPublicKey(e.pubkey)})),programId:c4.fromWeb3JsPublicKey(n.programId),data:new Uint8Array(n.data)}}function aLt(n){return new sLt.TransactionInstruction({keys:n.keys.map(e=>({...e,pubkey:c4.toWeb3JsPublicKey(e.pubkey)})),programId:c4.toWeb3JsPublicKey(n.programId),data:iLt.Buffer.from(n.data)})}Zz.fromWeb3JsInstruction=oLt;Zz.toWeb3JsInstruction=aLt;var m5={};Object.defineProperty(m5,"__esModule",{value:!0});var cLt=Z,uLt=lc,lLt=Pk;function dLt(n){return{publicKey:lLt.fromWeb3JsPublicKey(n.publicKey),secretKey:n.secretKey}}function fLt(n){return new uLt.Keypair({publicKey:cLt.publicKeyBytes(n.publicKey),secretKey:n.secretKey})}m5.fromWeb3JsKeypair=dLt;m5.toWeb3JsKeypair=fLt;var gR={},mR={};Object.defineProperty(mR,"__esModule",{value:!0});var hLt=Z,X2=lc,_0e=Zz,Vg=Pk;function gLt(n){return{version:n.version,header:n.header,accounts:n.staticAccountKeys.map(Vg.fromWeb3JsPublicKey),blockhash:n.recentBlockhash,instructions:n.compiledInstructions.map(e=>({programIndex:e.programIdIndex,accountIndexes:e.accountKeyIndexes,data:new Uint8Array(e.data)})),addressLookupTables:n.addressTableLookups.map(e=>({publicKey:Vg.fromWeb3JsPublicKey(e.accountKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))}}function mLt(n){return n.version==="legacy"?new X2.Message({header:n.header,accountKeys:n.accounts.map(Vg.toWeb3JsPublicKey),recentBlockhash:n.blockhash,instructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accounts:e.accountIndexes,data:hLt.base58.deserialize(e.data)[0]}))}):new X2.MessageV0({header:n.header,staticAccountKeys:n.accounts.map(Vg.toWeb3JsPublicKey),recentBlockhash:n.blockhash,compiledInstructions:n.instructions.map(e=>({programIdIndex:e.programIndex,accountKeyIndexes:e.accountIndexes,data:e.data})),addressTableLookups:n.addressLookupTables.map(e=>({accountKey:Vg.toWeb3JsPublicKey(e.publicKey),writableIndexes:e.writableIndexes,readonlyIndexes:e.readonlyIndexes}))})}function yLt(n){var e;return n.version==="legacy"?X2.Message.compile({payerKey:Vg.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(_0e.toWeb3JsInstruction),recentBlockhash:n.blockhash}):X2.MessageV0.compile({payerKey:Vg.toWeb3JsPublicKey(n.payer),instructions:n.instructions.map(_0e.toWeb3JsInstruction),recentBlockhash:n.blockhash,addressLookupTableAccounts:(e=n.addressLookupTables)==null?void 0:e.map(t=>new X2.AddressLookupTableAccount({key:Vg.toWeb3JsPublicKey(t.publicKey),state:{addresses:t.addresses.map(Vg.toWeb3JsPublicKey),authority:void 0,deactivationSlot:BigInt(`0x${"ff".repeat(8)}`),lastExtendedSlot:0,lastExtendedSlotStartIndex:0}}))})}mR.fromWeb3JsMessage=gLt;mR.toWeb3JsMessage=mLt;mR.toWeb3JsMessageFromInput=yLt;Object.defineProperty(gR,"__esModule",{value:!0});var pLt=Z,Gce=lc,Yce=mR;function bLt(n){return{message:Yce.fromWeb3JsMessage(n.message),serializedMessage:n.message.serialize(),signatures:n.signatures}}function B3e(n){return new Gce.VersionedTransaction(Yce.toWeb3JsMessage(n.message),n.signatures)}function SLt(n){const e=n.compileMessage(),t=n.signatures.reduce((s,i)=>(s[i.publicKey.toBase58()]=i.signature?new Uint8Array(i.signature):null,s),{}),r=[];for(let s=0;s<e.header.numRequiredSignatures;s+=1){const i=e.accountKeys[s].toBase58(),o=t[i]??null;r.push(o??new Uint8Array(Gce.SIGNATURE_LENGTH_IN_BYTES))}return{message:Yce.fromWeb3JsMessage(e),serializedMessage:e.serialize(),signatures:r}}function kLt(n){const e=B3e({...n,message:{...n.message,version:"legacy"}});return Gce.Transaction.populate(e.message,e.signatures.map(t=>pLt.base58.deserialize(t)[0]))}gR.fromWeb3JsLegacyTransaction=SLt;gR.fromWeb3JsTransaction=bLt;gR.toWeb3JsLegacyTransaction=kLt;gR.toWeb3JsTransaction=B3e;Object.defineProperty(_c,"__esModule",{value:!0});var z3e=Zz,$3e=m5,D3e=Pk,y5=gR,Zce=mR;_c.fromWeb3JsInstruction=z3e.fromWeb3JsInstruction;_c.toWeb3JsInstruction=z3e.toWeb3JsInstruction;_c.fromWeb3JsKeypair=$3e.fromWeb3JsKeypair;_c.toWeb3JsKeypair=$3e.toWeb3JsKeypair;_c.fromWeb3JsPublicKey=D3e.fromWeb3JsPublicKey;_c.toWeb3JsPublicKey=D3e.toWeb3JsPublicKey;_c.fromWeb3JsLegacyTransaction=y5.fromWeb3JsLegacyTransaction;_c.fromWeb3JsTransaction=y5.fromWeb3JsTransaction;_c.toWeb3JsLegacyTransaction=y5.toWeb3JsLegacyTransaction;_c.toWeb3JsTransaction=y5.toWeb3JsTransaction;_c.fromWeb3JsMessage=Zce.fromWeb3JsMessage;_c.toWeb3JsMessage=Zce.toWeb3JsMessage;_c.toWeb3JsMessageFromInput=Zce.toWeb3JsMessageFromInput;var O3e={},Ka={},Fp={},Md={};Object.defineProperty(Md,"__esModule",{value:!0});Md.isBytes=L3e;Md.number=u4;Md.bool=K3e;Md.bytes=Jce;Md.hash=W3e;Md.exists=N3e;Md.output=F3e;function u4(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`positive integer expected, not ${n}`)}function K3e(n){if(typeof n!="boolean")throw new Error(`boolean expected, not ${n}`)}function L3e(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function Jce(n,...e){if(!L3e(n))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(n.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${n.length}`)}function W3e(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");u4(n.outputLen),u4(n.blockLen)}function N3e(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function F3e(n,e){Jce(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const vLt={number:u4,bool:K3e,bytes:Jce,hash:W3e,exists:N3e,output:F3e};Md.default=vLt;var p5={},b5={};Object.defineProperty(b5,"__esModule",{value:!0});b5.crypto=void 0;b5.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(n){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(n,"__esModule",{value:!0}),n.Hash=n.nextTick=n.byteSwapIfBE=n.byteSwap=n.isLE=n.rotl=n.rotr=n.createView=n.u32=n.u8=void 0,n.isBytes=r,n.byteSwap32=l,n.bytesToHex=y,n.hexToBytes=f,n.asyncLoop=b,n.utf8ToBytes=S,n.toBytes=p,n.concatBytes=I,n.checkOpts=_,n.wrapConstructor=E,n.wrapConstructorWithOpts=M,n.wrapXOFConstructorWithOpts=P,n.randomBytes=R;const e=b5,t=Md;function r($){return $ instanceof Uint8Array||$!=null&&typeof $=="object"&&$.constructor.name==="Uint8Array"}const s=$=>new Uint8Array($.buffer,$.byteOffset,$.byteLength);n.u8=s;const i=$=>new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4));n.u32=i;const o=$=>new DataView($.buffer,$.byteOffset,$.byteLength);n.createView=o;const a=($,z)=>$<<32-z|$>>>z;n.rotr=a;const c=($,z)=>$<<z|$>>>32-z>>>0;n.rotl=c,n.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const u=$=>$<<24&4278190080|$<<8&16711680|$>>>8&65280|$>>>24&255;n.byteSwap=u,n.byteSwapIfBE=n.isLE?$=>$:$=>(0,n.byteSwap)($);function l($){for(let z=0;z<$.length;z++)$[z]=(0,n.byteSwap)($[z])}const d=Array.from({length:256},($,z)=>z.toString(16).padStart(2,"0"));function y($){(0,t.bytes)($);let z="";for(let T=0;T<$.length;T++)z+=d[$[T]];return z}const h={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function m($){if($>=h._0&&$<=h._9)return $-h._0;if($>=h._A&&$<=h._F)return $-(h._A-10);if($>=h._a&&$<=h._f)return $-(h._a-10)}function f($){if(typeof $!="string")throw new Error("hex string expected, got "+typeof $);const z=$.length,T=z/2;if(z%2)throw new Error("padded hex string expected, got unpadded hex of length "+z);const v=new Uint8Array(T);for(let k=0,x=0;k<T;k++,x+=2){const C=m($.charCodeAt(x)),B=m($.charCodeAt(x+1));if(C===void 0||B===void 0){const O=$[x]+$[x+1];throw new Error('hex string expected, got non-hex character "'+O+'" at index '+x)}v[k]=C*16+B}return v}const g=async()=>{};n.nextTick=g;async function b($,z,T){let v=Date.now();for(let k=0;k<$;k++){T(k);const x=Date.now()-v;x>=0&&x<z||(await(0,n.nextTick)(),v+=x)}}function S($){if(typeof $!="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function p($){return typeof $=="string"&&($=S($)),(0,t.bytes)($),$}function I(...$){let z=0;for(let v=0;v<$.length;v++){const k=$[v];(0,t.bytes)(k),z+=k.length}const T=new Uint8Array(z);for(let v=0,k=0;v<$.length;v++){const x=$[v];T.set(x,k),k+=x.length}return T}class w{clone(){return this._cloneInto()}}n.Hash=w;const A={}.toString;function _($,z){if(z!==void 0&&A.call(z)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign($,z)}function E($){const z=v=>$().update(p(v)).digest(),T=$();return z.outputLen=T.outputLen,z.blockLen=T.blockLen,z.create=()=>$(),z}function M($){const z=(v,k)=>$(k).update(p(v)).digest(),T=$({});return z.outputLen=T.outputLen,z.blockLen=T.blockLen,z.create=v=>$(v),z}function P($){const z=(v,k)=>$(k).update(p(v)).digest(),T=$({});return z.outputLen=T.outputLen,z.blockLen=T.blockLen,z.create=v=>$(v),z}function R($=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array($));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes($);throw new Error("crypto.getRandomValues must be defined")}})(p5);Object.defineProperty(Fp,"__esModule",{value:!0});Fp.HashMD=Fp.Maj=Fp.Chi=void 0;const lV=Md,I2=p5;function ALt(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),c=r?4:0,u=r?0:4;n.setUint32(e+c,o,r),n.setUint32(e+u,a,r)}const wLt=(n,e,t)=>n&e^~n&t;Fp.Chi=wLt;const ILt=(n,e,t)=>n&e^n&t^e&t;Fp.Maj=ILt;class PLt extends I2.Hash{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,I2.createView)(this.buffer)}update(e){(0,lV.exists)(this);const{view:t,buffer:r,blockLen:s}=this;e=(0,I2.toBytes)(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=(0,I2.createView)(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,lV.exists)(this),(0,lV.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;ALt(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=(0,I2.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}Fp.HashMD=PLt;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.add5L=Pr.add5H=Pr.add4H=Pr.add4L=Pr.add3H=Pr.add3L=Pr.rotlBL=Pr.rotlBH=Pr.rotlSL=Pr.rotlSH=Pr.rotr32L=Pr.rotr32H=Pr.rotrBL=Pr.rotrBH=Pr.rotrSL=Pr.rotrSH=Pr.shrSL=Pr.shrSH=Pr.toBig=void 0;Pr.fromBig=Xce;Pr.split=U3e;Pr.add=nDe;const aD=BigInt(2**32-1),SH=BigInt(32);function Xce(n,e=!1){return e?{h:Number(n&aD),l:Number(n>>SH&aD)}:{h:Number(n>>SH&aD)|0,l:Number(n&aD)|0}}function U3e(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=Xce(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const V3e=(n,e)=>BigInt(n>>>0)<<SH|BigInt(e>>>0);Pr.toBig=V3e;const q3e=(n,e,t)=>n>>>t;Pr.shrSH=q3e;const j3e=(n,e,t)=>n<<32-t|e>>>t;Pr.shrSL=j3e;const H3e=(n,e,t)=>n>>>t|e<<32-t;Pr.rotrSH=H3e;const G3e=(n,e,t)=>n<<32-t|e>>>t;Pr.rotrSL=G3e;const Y3e=(n,e,t)=>n<<64-t|e>>>t-32;Pr.rotrBH=Y3e;const Z3e=(n,e,t)=>n>>>t-32|e<<64-t;Pr.rotrBL=Z3e;const J3e=(n,e)=>e;Pr.rotr32H=J3e;const X3e=(n,e)=>n;Pr.rotr32L=X3e;const Q3e=(n,e,t)=>n<<t|e>>>32-t;Pr.rotlSH=Q3e;const eDe=(n,e,t)=>e<<t|n>>>32-t;Pr.rotlSL=eDe;const tDe=(n,e,t)=>e<<t-32|n>>>64-t;Pr.rotlBH=tDe;const rDe=(n,e,t)=>n<<t-32|e>>>64-t;Pr.rotlBL=rDe;function nDe(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const sDe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0);Pr.add3L=sDe;const iDe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0;Pr.add3H=iDe;const oDe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0);Pr.add4L=oDe;const aDe=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0;Pr.add4H=aDe;const cDe=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0);Pr.add5L=cDe;const uDe=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0;Pr.add5H=uDe;const _Lt={fromBig:Xce,split:U3e,toBig:V3e,shrSH:q3e,shrSL:j3e,rotrSH:H3e,rotrSL:G3e,rotrBH:Y3e,rotrBL:Z3e,rotr32H:J3e,rotr32L:X3e,rotlSH:Q3e,rotlSL:eDe,rotlBH:tDe,rotlBL:rDe,add:nDe,add3L:sDe,add3H:iDe,add4L:oDe,add4H:aDe,add5H:uDe,add5L:cDe};Pr.default=_Lt;Object.defineProperty(Ka,"__esModule",{value:!0});Ka.sha384=Ka.sha512_256=Ka.sha512_224=Ka.sha512=Ka.SHA384=Ka.SHA512_256=Ka.SHA512_224=Ka.SHA512=void 0;const ELt=Fp,Wr=Pr,S5=p5,[xLt,TLt]=(()=>Wr.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))))(),fy=new Uint32Array(80),hy=new Uint32Array(80);class Jz extends ELt.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:y,Gh:h,Gl:m,Hh:f,Hl:g}=this;return[e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g]}set(e,t,r,s,i,o,a,c,u,l,d,y,h,m,f,g){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=y|0,this.Gh=h|0,this.Gl=m|0,this.Hh=f|0,this.Hl=g|0}process(e,t){for(let p=0;p<16;p++,t+=4)fy[p]=e.getUint32(t),hy[p]=e.getUint32(t+=4);for(let p=16;p<80;p++){const I=fy[p-15]|0,w=hy[p-15]|0,A=Wr.default.rotrSH(I,w,1)^Wr.default.rotrSH(I,w,8)^Wr.default.shrSH(I,w,7),_=Wr.default.rotrSL(I,w,1)^Wr.default.rotrSL(I,w,8)^Wr.default.shrSL(I,w,7),E=fy[p-2]|0,M=hy[p-2]|0,P=Wr.default.rotrSH(E,M,19)^Wr.default.rotrBH(E,M,61)^Wr.default.shrSH(E,M,6),R=Wr.default.rotrSL(E,M,19)^Wr.default.rotrBL(E,M,61)^Wr.default.shrSL(E,M,6),$=Wr.default.add4L(_,R,hy[p-7],hy[p-16]),z=Wr.default.add4H($,A,P,fy[p-7],fy[p-16]);fy[p]=z|0,hy[p]=$|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:y,Fh:h,Fl:m,Gh:f,Gl:g,Hh:b,Hl:S}=this;for(let p=0;p<80;p++){const I=Wr.default.rotrSH(d,y,14)^Wr.default.rotrSH(d,y,18)^Wr.default.rotrBH(d,y,41),w=Wr.default.rotrSL(d,y,14)^Wr.default.rotrSL(d,y,18)^Wr.default.rotrBL(d,y,41),A=d&h^~d&f,_=y&m^~y&g,E=Wr.default.add5L(S,w,_,TLt[p],hy[p]),M=Wr.default.add5H(E,b,I,A,xLt[p],fy[p]),P=E|0,R=Wr.default.rotrSH(r,s,28)^Wr.default.rotrBH(r,s,34)^Wr.default.rotrBH(r,s,39),$=Wr.default.rotrSL(r,s,28)^Wr.default.rotrBL(r,s,34)^Wr.default.rotrBL(r,s,39),z=r&i^r&a^i&a,T=s&o^s&c^o&c;b=f|0,S=g|0,f=h|0,g=m|0,h=d|0,m=y|0,{h:d,l:y}=Wr.default.add(u|0,l|0,M|0,P|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const v=Wr.default.add3L(P,$,T);r=Wr.default.add3H(v,M,R,z),s=v|0}({h:r,l:s}=Wr.default.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Wr.default.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Wr.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Wr.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:y}=Wr.default.add(this.Eh|0,this.El|0,d|0,y|0),{h,l:m}=Wr.default.add(this.Fh|0,this.Fl|0,h|0,m|0),{h:f,l:g}=Wr.default.add(this.Gh|0,this.Gl|0,f|0,g|0),{h:b,l:S}=Wr.default.add(this.Hh|0,this.Hl|0,b|0,S|0),this.set(r,s,i,o,a,c,u,l,d,y,h,m,f,g,b,S)}roundClean(){fy.fill(0),hy.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Ka.SHA512=Jz;class lDe extends Jz{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}Ka.SHA512_224=lDe;class dDe extends Jz{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}Ka.SHA512_256=dDe;class fDe extends Jz{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Ka.SHA384=fDe;Ka.sha512=(0,S5.wrapConstructor)(()=>new Jz);Ka.sha512_224=(0,S5.wrapConstructor)(()=>new lDe);Ka.sha512_256=(0,S5.wrapConstructor)(()=>new dDe);Ka.sha384=(0,S5.wrapConstructor)(()=>new fDe);var Qce={},Xz={},gs={},Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.notImplemented=Pn.bitMask=void 0;Pn.isBytes=v5;Pn.abytes=A5;Pn.abool=CLt;Pn.bytesToHex=tue;Pn.numberToHexUnpadded=hDe;Pn.hexToNumber=rue;Pn.hexToBytes=w5;Pn.bytesToNumberBE=BLt;Pn.bytesToNumberLE=zLt;Pn.numberToBytesBE=gDe;Pn.numberToBytesLE=$Lt;Pn.numberToVarBytesBE=DLt;Pn.ensureBytes=OLt;Pn.concatBytes=mDe;Pn.equalBytes=KLt;Pn.utf8ToBytes=LLt;Pn.inRange=yDe;Pn.aInRange=WLt;Pn.bitLen=NLt;Pn.bitGet=FLt;Pn.bitSet=ULt;Pn.createHmacDrbg=qLt;Pn.validateObject=HLt;Pn.memoized=YLt;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eue=BigInt(0),k5=BigInt(1),RLt=BigInt(2);function v5(n){return n instanceof Uint8Array||n!=null&&typeof n=="object"&&n.constructor.name==="Uint8Array"}function A5(n){if(!v5(n))throw new Error("Uint8Array expected")}function CLt(n,e){if(typeof e!="boolean")throw new Error(`${n} must be valid boolean, got "${e}".`)}const MLt=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function tue(n){A5(n);let e="";for(let t=0;t<n.length;t++)e+=MLt[n[t]];return e}function hDe(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function rue(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}const gg={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function E0e(n){if(n>=gg._0&&n<=gg._9)return n-gg._0;if(n>=gg._A&&n<=gg._F)return n-(gg._A-10);if(n>=gg._a&&n<=gg._f)return n-(gg._a-10)}function w5(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length,t=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(t);for(let s=0,i=0;s<t;s++,i+=2){const o=E0e(n.charCodeAt(i)),a=E0e(n.charCodeAt(i+1));if(o===void 0||a===void 0){const c=n[i]+n[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function BLt(n){return rue(tue(n))}function zLt(n){return A5(n),rue(tue(Uint8Array.from(n).reverse()))}function gDe(n,e){return w5(n.toString(16).padStart(e*2,"0"))}function $Lt(n,e){return gDe(n,e).reverse()}function DLt(n){return w5(hDe(n))}function OLt(n,e,t){let r;if(typeof e=="string")try{r=w5(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(v5(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function mDe(...n){let e=0;for(let r=0;r<n.length;r++){const s=n[r];A5(s),e+=s.length}const t=new Uint8Array(e);for(let r=0,s=0;r<n.length;r++){const i=n[r];t.set(i,s),s+=i.length}return t}function KLt(n,e){if(n.length!==e.length)return!1;let t=0;for(let r=0;r<n.length;r++)t|=n[r]^e[r];return t===0}function LLt(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}const dV=n=>typeof n=="bigint"&&eue<=n;function yDe(n,e,t){return dV(n)&&dV(e)&&dV(t)&&e<=n&&n<t}function WLt(n,e,t,r){if(!yDe(e,t,r))throw new Error(`expected valid ${n}: ${t} <= n < ${r}, got ${typeof e} ${e}`)}function NLt(n){let e;for(e=0;n>eue;n>>=k5,e+=1);return e}function FLt(n,e){return n>>BigInt(e)&k5}function ULt(n,e,t){return n|(t?k5:eue)<<BigInt(e)}const VLt=n=>(RLt<<BigInt(n-1))-k5;Pn.bitMask=VLt;const fV=n=>new Uint8Array(n),x0e=n=>Uint8Array.from(n);function qLt(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=fV(n),s=fV(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),c=(d=fV())=>{s=a(x0e([0]),d),r=a(),d.length!==0&&(s=a(x0e([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const y=[];for(;d<e;){r=a();const h=r.slice();y.push(h),d+=r.length}return mDe(...y)};return(d,y)=>{o(),c(d);let h;for(;!(h=y(u()));)c();return o(),h}}const jLt={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||v5(n),isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function HLt(n,e,t={}){const r=(s,i,o)=>{const a=jLt[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const c=n[s];if(!(o&&c===void 0)&&!a(c,n))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const GLt=()=>{throw new Error("not implemented")};Pn.notImplemented=GLt;function YLt(n){const e=new WeakMap;return(t,...r)=>{const s=e.get(t);if(s!==void 0)return s;const i=n(t,...r);return e.set(t,i),i}}Object.defineProperty(gs,"__esModule",{value:!0});gs.isNegativeLE=void 0;gs.mod=qu;gs.pow=pDe;gs.pow2=JLt;gs.invert=l4;gs.tonelliShanks=bDe;gs.FpSqrt=SDe;gs.validateField=e5t;gs.FpPow=kDe;gs.FpInvertBatch=vDe;gs.FpDiv=t5t;gs.FpLegendre=ADe;gs.FpIsSquare=r5t;gs.nLength=nue;gs.Field=n5t;gs.FpSqrtOdd=s5t;gs.FpSqrtEven=i5t;gs.hashToPrivateScalar=o5t;gs.getFieldBytesLength=sue;gs.getMinHashLength=wDe;gs.mapHashToField=a5t;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xu=Pn,rc=BigInt(0),Us=BigInt(1),$y=BigInt(2),ZLt=BigInt(3),kH=BigInt(4),T0e=BigInt(5),R0e=BigInt(8);BigInt(9);BigInt(16);function qu(n,e){const t=n%e;return t>=rc?t:e+t}function pDe(n,e,t){if(t<=rc||e<rc)throw new Error("Expected power/modulo > 0");if(t===Us)return rc;let r=Us;for(;e>rc;)e&Us&&(r=r*n%t),n=n*n%t,e>>=Us;return r}function JLt(n,e,t){let r=n;for(;e-- >rc;)r*=r,r%=t;return r}function l4(n,e){if(n===rc||e<=rc)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=qu(n,e),r=e,s=rc,i=Us;for(;t!==rc;){const a=r/t,c=r%t,u=s-i*a;r=t,t=c,s=i,i=u}if(r!==Us)throw new Error("invert: does not exist");return qu(s,e)}function bDe(n){const e=(n-Us)/$y;let t,r,s;for(t=n-Us,r=0;t%$y===rc;t/=$y,r++);for(s=$y;s<n&&pDe(s,e,n)!==n-Us;s++);if(r===1){const o=(n+Us)/kH;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const i=(t+Us)/$y;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,s),t),d=a.pow(c,i),y=a.pow(c,t);for(;!a.eql(y,a.ONE);){if(a.eql(y,a.ZERO))return a.ZERO;let h=1;for(let f=a.sqr(y);h<u&&!a.eql(f,a.ONE);h++)f=a.sqr(f);const m=a.pow(l,Us<<BigInt(u-h-1));l=a.sqr(m),d=a.mul(d,m),y=a.mul(y,l),u=h}return d}}function SDe(n){if(n%kH===ZLt){const e=(n+Us)/kH;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%R0e===T0e){const e=(n-T0e)/R0e;return function(r,s){const i=r.mul(s,$y),o=r.pow(i,e),a=r.mul(s,o),c=r.mul(r.mul(a,$y),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),s))throw new Error("Cannot find square root");return u}}return bDe(n)}const XLt=(n,e)=>(qu(n,e)&Us)===Us;gs.isNegativeLE=XLt;const QLt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function e5t(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=QLt.reduce((r,s)=>(r[s]="function",r),e);return(0,Xu.validateObject)(n,t)}function kDe(n,e,t){if(t<rc)throw new Error("Expected power > 0");if(t===rc)return n.ONE;if(t===Us)return e;let r=n.ONE,s=e;for(;t>rc;)t&Us&&(r=n.mul(r,s)),s=n.sqr(s),t>>=Us;return r}function vDe(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function t5t(n,e,t){return n.mul(e,typeof t=="bigint"?l4(t,n.ORDER):n.inv(t))}function ADe(n){const e=(n-Us)/$y;return(t,r)=>t.pow(r,e)}function r5t(n){const e=ADe(n.ORDER);return t=>{const r=e(n,t);return n.eql(r,n.ZERO)||n.eql(r,n.ONE)}}function nue(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function n5t(n,e,t=!1,r={}){if(n<=rc)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=nue(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=SDe(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:(0,Xu.bitMask)(s),ZERO:rc,ONE:Us,create:c=>qu(c,n),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return rc<=c&&c<n},is0:c=>c===rc,isOdd:c=>(c&Us)===Us,neg:c=>qu(-c,n),eql:(c,u)=>c===u,sqr:c=>qu(c*c,n),add:(c,u)=>qu(c+u,n),sub:(c,u)=>qu(c-u,n),mul:(c,u)=>qu(c*u,n),pow:(c,u)=>kDe(a,c,u),div:(c,u)=>qu(c*l4(u,n),n),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>l4(c,n),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>vDe(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>t?(0,Xu.numberToBytesLE)(c,i):(0,Xu.numberToBytesBE)(c,i),fromBytes:c=>{if(c.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${c.length}`);return t?(0,Xu.bytesToNumberLE)(c):(0,Xu.bytesToNumberBE)(c)}});return Object.freeze(a)}function s5t(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?t:n.neg(t)}function i5t(n,e){if(!n.isOdd)throw new Error("Field doesn't have isOdd");const t=n.sqrt(e);return n.isOdd(t)?n.neg(t):t}function o5t(n,e,t=!1){n=(0,Xu.ensureBytes)("privateHash",n);const r=n.length,s=nue(e).nByteLength+8;if(s<24||r<s||r>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${r}`);const i=t?(0,Xu.bytesToNumberLE)(n):(0,Xu.bytesToNumberBE)(n);return qu(i,e-Us)+Us}function sue(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function wDe(n){const e=sue(n);return e+Math.ceil(e/2)}function a5t(n,e,t=!1){const r=n.length,s=sue(e),i=wDe(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?(0,Xu.bytesToNumberBE)(n):(0,Xu.bytesToNumberLE)(n),a=qu(o,e-Us)+Us;return t?(0,Xu.numberToBytesLE)(a,s):(0,Xu.numberToBytesBE)(a,s)}Object.defineProperty(Xz,"__esModule",{value:!0});Xz.wNAF=u5t;Xz.pippenger=l5t;Xz.validateBasic=d5t;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C0e=gs,IDe=Pn,c5t=BigInt(0),hV=BigInt(1),gV=new WeakMap,M0e=new WeakMap;function u5t(n,e){const t=(i,o)=>{const a=o.negate();return i?a:o},r=i=>{if(!Number.isSafeInteger(i)||i<=0||i>e)throw new Error(`Wrong window size=${i}, should be [1..${e}]`)},s=i=>{r(i);const o=Math.ceil(e/i)+1,a=2**(i-1);return{windows:o,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,o){let a=n.ZERO,c=i;for(;o>c5t;)o&hV&&(a=a.add(c)),c=c.double(),o>>=hV;return a},precomputeWindow(i,o){const{windows:a,windowSize:c}=s(o),u=[];let l=i,d=l;for(let y=0;y<a;y++){d=l,u.push(d);for(let h=1;h<c;h++)d=d.add(l),u.push(d);l=d.double()}return u},wNAF(i,o,a){const{windows:c,windowSize:u}=s(i);let l=n.ZERO,d=n.BASE;const y=BigInt(2**i-1),h=2**i,m=BigInt(i);for(let f=0;f<c;f++){const g=f*u;let b=Number(a&y);a>>=m,b>u&&(b-=h,a+=hV);const S=g,p=g+Math.abs(b)-1,I=f%2!==0,w=b<0;b===0?d=d.add(t(I,o[S])):l=l.add(t(w,o[p]))}return{p:l,f:d}},wNAFCached(i,o,a){const c=M0e.get(i)||1;let u=gV.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&gV.set(i,a(u))),this.wNAF(c,u,o)},setWindowSize(i,o){r(o),M0e.set(i,o),gV.delete(i)}}}function l5t(n,e,t,r){if(!Array.isArray(t)||!Array.isArray(r)||r.length!==t.length)throw new Error("arrays of points and scalars must have equal length");r.forEach((l,d)=>{if(!e.isValid(l))throw new Error(`wrong scalar at index ${d}`)}),t.forEach((l,d)=>{if(!(l instanceof n))throw new Error(`wrong point at index ${d}`)});const s=(0,IDe.bitLen)(BigInt(t.length)),i=s>12?s-3:s>4?s-2:s?2:1,o=(1<<i)-1,a=new Array(o+1).fill(n.ZERO),c=Math.floor((e.BITS-1)/i)*i;let u=n.ZERO;for(let l=c;l>=0;l-=i){a.fill(n.ZERO);for(let y=0;y<r.length;y++){const h=r[y],m=Number(h>>BigInt(l)&BigInt(o));a[m]=a[m].add(t[y])}let d=n.ZERO;for(let y=a.length-1,h=n.ZERO;y>0;y--)h=h.add(a[y]),d=d.add(h);if(u=u.add(d),l!==0)for(let y=0;y<i;y++)u=u.double()}return u}function d5t(n){return(0,C0e.validateField)(n.Fp),(0,IDe.validateObject)(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,C0e.nLength)(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}Object.defineProperty(Qce,"__esModule",{value:!0});Qce.twistedEdwards=m5t;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vH=Xz,B0e=gs,Jc=Pn,zu=Pn,Zl=BigInt(0),Yc=BigInt(1),cD=BigInt(2),f5t=BigInt(8),h5t={zip215:!0};function g5t(n){const e=(0,vH.validateBasic)(n);return Jc.validateObject(n,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function m5t(n){const e=g5t(n),{Fp:t,n:r,prehash:s,hash:i,randomBytes:o,nByteLength:a,h:c}=e,u=cD<<BigInt(a*8)-Yc,l=t.create,d=(0,B0e.Field)(e.n,e.nBitLength),y=e.uvRatio||((k,x)=>{try{return{isValid:!0,value:t.sqrt(k*t.inv(x))}}catch{return{isValid:!1,value:Zl}}}),h=e.adjustScalarBytes||(k=>k),m=e.domain||((k,x,C)=>{if((0,zu.abool)("phflag",C),x.length||C)throw new Error("Contexts/pre-hash are not supported");return k});function f(k,x){Jc.aInRange("coordinate "+k,x,Zl,u)}function g(k){if(!(k instanceof p))throw new Error("ExtendedPoint expected")}const b=(0,zu.memoized)((k,x)=>{const{ex:C,ey:B,ez:O}=k,D=k.is0();x==null&&(x=D?f5t:t.inv(O));const W=l(C*x),L=l(B*x),N=l(O*x);if(D)return{x:Zl,y:Yc};if(N!==Yc)throw new Error("invZ was invalid");return{x:W,y:L}}),S=(0,zu.memoized)(k=>{const{a:x,d:C}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:B,ey:O,ez:D,et:W}=k,L=l(B*B),N=l(O*O),H=l(D*D),J=l(H*H),Q=l(L*x),Y=l(H*l(Q+N)),X=l(J+l(C*l(L*N)));if(Y!==X)throw new Error("bad point: equation left != right (1)");const re=l(B*O),se=l(D*W);if(re!==se)throw new Error("bad point: equation left != right (2)");return!0});class p{constructor(x,C,B,O){this.ex=x,this.ey=C,this.ez=B,this.et=O,f("x",x),f("y",C),f("z",B),f("t",O),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof p)throw new Error("extended point not allowed");const{x:C,y:B}=x||{};return f("x",C),f("y",B),new p(C,B,Yc,l(C*B))}static normalizeZ(x){const C=t.invertBatch(x.map(B=>B.ez));return x.map((B,O)=>B.toAffine(C[O])).map(p.fromAffine)}static msm(x,C){return(0,vH.pippenger)(p,d,x,C)}_setWindowSize(x){A.setWindowSize(this,x)}assertValidity(){S(this)}equals(x){g(x);const{ex:C,ey:B,ez:O}=this,{ex:D,ey:W,ez:L}=x,N=l(C*L),H=l(D*O),J=l(B*L),Q=l(W*O);return N===H&&J===Q}is0(){return this.equals(p.ZERO)}negate(){return new p(l(-this.ex),this.ey,this.ez,l(-this.et))}double(){const{a:x}=e,{ex:C,ey:B,ez:O}=this,D=l(C*C),W=l(B*B),L=l(cD*l(O*O)),N=l(x*D),H=C+B,J=l(l(H*H)-D-W),Q=N+W,Y=Q-L,X=N-W,re=l(J*Y),se=l(Q*X),ee=l(J*X),ne=l(Y*Q);return new p(re,se,ne,ee)}add(x){g(x);const{a:C,d:B}=e,{ex:O,ey:D,ez:W,et:L}=this,{ex:N,ey:H,ez:J,et:Q}=x;if(C===BigInt(-1)){const Dt=l((D-O)*(H+N)),et=l((D+O)*(H-N)),Ue=l(et-Dt);if(Ue===Zl)return this.double();const Wt=l(W*cD*Q),sr=l(L*cD*J),rr=sr+Wt,pr=et+Dt,wr=sr-Wt,ls=l(rr*Ue),gn=l(pr*wr),ds=l(rr*wr),ol=l(Ue*pr);return new p(ls,gn,ol,ds)}const Y=l(O*N),X=l(D*H),re=l(L*B*Q),se=l(W*J),ee=l((O+D)*(N+H)-Y-X),ne=se-re,ve=se+re,Pe=l(X-C*Y),Le=l(ee*ne),We=l(ve*Pe),Ft=l(ee*Pe),Lt=l(ne*ve);return new p(Le,We,Lt,Ft)}subtract(x){return this.add(x.negate())}wNAF(x){return A.wNAFCached(this,x,p.normalizeZ)}multiply(x){const C=x;Jc.aInRange("scalar",C,Yc,r);const{p:B,f:O}=this.wNAF(C);return p.normalizeZ([B,O])[0]}multiplyUnsafe(x){const C=x;return Jc.aInRange("scalar",C,Zl,r),C===Zl?w:this.equals(w)||C===Yc?this:this.equals(I)?this.wNAF(C).p:A.unsafeLadder(this,C)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return A.unsafeLadder(this,r).is0()}toAffine(x){return b(this,x)}clearCofactor(){const{h:x}=e;return x===Yc?this:this.multiplyUnsafe(x)}static fromHex(x,C=!1){const{d:B,a:O}=e,D=t.BYTES;x=(0,zu.ensureBytes)("pointHex",x,D),(0,zu.abool)("zip215",C);const W=x.slice(),L=x[D-1];W[D-1]=L&-129;const N=Jc.bytesToNumberLE(W),H=C?u:t.ORDER;Jc.aInRange("pointHex.y",N,Zl,H);const J=l(N*N),Q=l(J-Yc),Y=l(B*J-O);let{isValid:X,value:re}=y(Q,Y);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const se=(re&Yc)===Yc,ee=(L&128)!==0;if(!C&&re===Zl&&ee)throw new Error("Point.fromHex: x=0 and x_0=1");return ee!==se&&(re=l(-re)),p.fromAffine({x:re,y:N})}static fromPrivateKey(x){return M(x).point}toRawBytes(){const{x,y:C}=this.toAffine(),B=Jc.numberToBytesLE(C,t.BYTES);return B[B.length-1]|=x&Yc?128:0,B}toHex(){return Jc.bytesToHex(this.toRawBytes())}}p.BASE=new p(e.Gx,e.Gy,Yc,l(e.Gx*e.Gy)),p.ZERO=new p(Zl,Yc,Yc,Zl);const{BASE:I,ZERO:w}=p,A=(0,vH.wNAF)(p,a*8);function _(k){return(0,B0e.mod)(k,r)}function E(k){return _(Jc.bytesToNumberLE(k))}function M(k){const x=a;k=(0,zu.ensureBytes)("private key",k,x);const C=(0,zu.ensureBytes)("hashed private key",i(k),2*x),B=h(C.slice(0,x)),O=C.slice(x,2*x),D=E(B),W=I.multiply(D),L=W.toRawBytes();return{head:B,prefix:O,scalar:D,point:W,pointBytes:L}}function P(k){return M(k).pointBytes}function R(k=new Uint8Array,...x){const C=Jc.concatBytes(...x);return E(i(m(C,(0,zu.ensureBytes)("context",k),!!s)))}function $(k,x,C={}){k=(0,zu.ensureBytes)("message",k),s&&(k=s(k));const{prefix:B,scalar:O,pointBytes:D}=M(x),W=R(C.context,B,k),L=I.multiply(W).toRawBytes(),N=R(C.context,L,D,k),H=_(W+N*O);Jc.aInRange("signature.s",H,Zl,r);const J=Jc.concatBytes(L,Jc.numberToBytesLE(H,t.BYTES));return(0,zu.ensureBytes)("result",J,a*2)}const z=h5t;function T(k,x,C,B=z){const{context:O,zip215:D}=B,W=t.BYTES;k=(0,zu.ensureBytes)("signature",k,2*W),x=(0,zu.ensureBytes)("message",x),D!==void 0&&(0,zu.abool)("zip215",D),s&&(x=s(x));const L=Jc.bytesToNumberLE(k.slice(W,2*W));let N,H,J;try{N=p.fromHex(C,D),H=p.fromHex(k.slice(0,W),D),J=I.multiplyUnsafe(L)}catch{return!1}if(!D&&N.isSmallOrder())return!1;const Q=R(O,H.toRawBytes(),N.toRawBytes(),x);return H.add(N.multiplyUnsafe(Q)).subtract(J).clearCofactor().equals(p.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:P,sign:$,verify:T,ExtendedPoint:p,utils:{getExtendedPublicKey:M,randomPrivateKey:()=>o(t.BYTES),precompute(k=8,x=p.BASE){return x._setWindowSize(k),x.multiply(BigInt(3)),x}}}}var _k={};Object.defineProperty(_k,"__esModule",{value:!0});_k.expand_message_xmd=PDe;_k.expand_message_xof=_De;_k.hash_to_field=AH;_k.isogenyMap=S5t;_k.createHasher=k5t;const y5t=gs,pc=Pn,p5t=pc.bytesToNumberBE;function Iy(n,e){if(_B(n),_B(e),n<0||n>=1<<8*e)throw new Error(`bad I2OSP call: value=${n} length=${e}`);const t=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)t[r]=n&255,n>>>=8;return new Uint8Array(t)}function b5t(n,e){const t=new Uint8Array(n.length);for(let r=0;r<n.length;r++)t[r]=n[r]^e[r];return t}function _B(n){if(!Number.isSafeInteger(n))throw new Error("number expected")}function PDe(n,e,t,r){(0,pc.abytes)(n),(0,pc.abytes)(e),_B(t),e.length>255&&(e=r((0,pc.concatBytes)((0,pc.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));const{outputLen:s,blockLen:i}=r,o=Math.ceil(t/s);if(t>65535||o>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,pc.concatBytes)(e,Iy(e.length,1)),c=Iy(0,i),u=Iy(t,2),l=new Array(o),d=r((0,pc.concatBytes)(c,n,u,Iy(0,1),a));l[0]=r((0,pc.concatBytes)(d,Iy(1,1),a));for(let h=1;h<=o;h++){const m=[b5t(d,l[h-1]),Iy(h+1,1),a];l[h]=r((0,pc.concatBytes)(...m))}return(0,pc.concatBytes)(...l).slice(0,t)}function _De(n,e,t,r,s){if((0,pc.abytes)(n),(0,pc.abytes)(e),_B(t),e.length>255){const i=Math.ceil(2*r/8);e=s.create({dkLen:i}).update((0,pc.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(t>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:t}).update(n).update(Iy(t,2)).update(e).update(Iy(e.length,1)).digest()}function AH(n,e,t){(0,pc.validateObject)(t,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:i,hash:o,expand:a,DST:c}=t;(0,pc.abytes)(n),_B(e);const u=typeof c=="string"?(0,pc.utf8ToBytes)(c):c,l=r.toString(2).length,d=Math.ceil((l+s)/8),y=e*i*d;let h;if(a==="xmd")h=PDe(n,u,y,o);else if(a==="xof")h=_De(n,u,y,s,o);else if(a==="_internal_pass")h=n;else throw new Error('expand must be "xmd" or "xof"');const m=new Array(e);for(let f=0;f<e;f++){const g=new Array(i);for(let b=0;b<i;b++){const S=d*(b+f*i),p=h.subarray(S,S+d);g[b]=(0,y5t.mod)(p5t(p),r)}m[f]=g}return m}function S5t(n,e){const t=e.map(r=>Array.from(r).reverse());return(r,s)=>{const[i,o,a,c]=t.map(u=>u.reduce((l,d)=>n.add(n.mul(l,r),d)));return r=n.div(i,o),s=n.mul(s,n.div(a,c)),{x:r,y:s}}}function k5t(n,e,t){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,s){const i=AH(r,2,{...t,DST:t.DST,...s}),o=n.fromAffine(e(i[0])),a=n.fromAffine(e(i[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,s){const i=AH(r,1,{...t,DST:t.encodeDST,...s}),o=n.fromAffine(e(i[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error("mapToCurve: expected array of bigints");for(const i of r)if(typeof i!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${i} in array`);const s=n.fromAffine(e(r)).clearCofactor();return s.assertValidity(),s}}}var iue={};Object.defineProperty(iue,"__esModule",{value:!0});iue.montgomery=A5t;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const z0e=gs,ky=Pn,bv=BigInt(0),mV=BigInt(1);function v5t(n){return(0,ky.validateObject)(n,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...n})}function A5t(n){const e=v5t(n),{P:t}=e,r=S=>(0,z0e.mod)(S,t),s=e.montgomeryBits,i=Math.ceil(s/8),o=e.nByteLength,a=e.adjustScalarBytes||(S=>S),c=e.powPminus2||(S=>(0,z0e.pow)(S,t-BigInt(2),t));function u(S,p,I){const w=r(S*(p-I));return p=r(p-w),I=r(I+w),[p,I]}const l=(e.a-BigInt(2))/BigInt(4);function d(S,p){(0,ky.aInRange)("u",S,bv,t),(0,ky.aInRange)("scalar",p,bv,t);const I=p,w=S;let A=mV,_=bv,E=S,M=mV,P=bv,R;for(let z=BigInt(s-1);z>=bv;z--){const T=I>>z&mV;P^=T,R=u(P,A,E),A=R[0],E=R[1],R=u(P,_,M),_=R[0],M=R[1],P=T;const v=A+_,k=r(v*v),x=A-_,C=r(x*x),B=k-C,O=E+M,D=E-M,W=r(D*v),L=r(O*x),N=W+L,H=W-L;E=r(N*N),M=r(w*r(H*H)),A=r(k*C),_=r(B*(k+r(l*B)))}R=u(P,A,E),A=R[0],E=R[1],R=u(P,_,M),_=R[0],M=R[1];const $=c(_);return r(A*$)}function y(S){return(0,ky.numberToBytesLE)(r(S),i)}function h(S){const p=(0,ky.ensureBytes)("u coordinate",S,i);return o===32&&(p[31]&=127),(0,ky.bytesToNumberLE)(p)}function m(S){const p=(0,ky.ensureBytes)("scalar",S),I=p.length;if(I!==i&&I!==o)throw new Error(`Expected ${i} or ${o} bytes, got ${I}`);return(0,ky.bytesToNumberLE)(a(p))}function f(S,p){const I=h(p),w=m(S),A=d(I,w);if(A===bv)throw new Error("Invalid private or public key received");return y(A)}const g=y(e.Gu);function b(S){return f(S,g)}return{scalarMult:f,scalarMultBase:b,getSharedSecret:(S,p)=>f(S,p),getPublicKey:S=>b(S),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:g}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.hash_to_ristretto255=n.hashToRistretto255=n.RistrettoPoint=n.encodeToCurve=n.hashToCurve=n.edwardsToMontgomery=n.x25519=n.ed25519ph=n.ed25519ctx=n.ed25519=n.ED25519_TORSION_SUBGROUP=void 0,n.edwardsToMontgomeryPub=A,n.edwardsToMontgomeryPriv=_;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e=Ka,t=p5,r=Qce,s=_k,i=gs,o=iue,a=Pn,c=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),u=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l=BigInt(0),d=BigInt(1),y=BigInt(2),h=BigInt(3),m=BigInt(5),f=BigInt(8);function g(Q){const Y=BigInt(10),X=BigInt(20),re=BigInt(40),se=BigInt(80),ee=c,ve=Q*Q%ee*Q%ee,Pe=(0,i.pow2)(ve,y,ee)*ve%ee,Le=(0,i.pow2)(Pe,d,ee)*Q%ee,We=(0,i.pow2)(Le,m,ee)*Le%ee,Ft=(0,i.pow2)(We,Y,ee)*We%ee,Lt=(0,i.pow2)(Ft,X,ee)*Ft%ee,Dt=(0,i.pow2)(Lt,re,ee)*Lt%ee,et=(0,i.pow2)(Dt,se,ee)*Dt%ee,Ue=(0,i.pow2)(et,se,ee)*Dt%ee,Wt=(0,i.pow2)(Ue,Y,ee)*We%ee;return{pow_p_5_8:(0,i.pow2)(Wt,y,ee)*Q%ee,b2:ve}}function b(Q){return Q[0]&=248,Q[31]&=127,Q[31]|=64,Q}function S(Q,Y){const X=c,re=(0,i.mod)(Y*Y*Y,X),se=(0,i.mod)(re*re*Y,X),ee=g(Q*se).pow_p_5_8;let ne=(0,i.mod)(Q*re*ee,X);const ve=(0,i.mod)(Y*ne*ne,X),Pe=ne,Le=(0,i.mod)(ne*u,X),We=ve===Q,Ft=ve===(0,i.mod)(-Q,X),Lt=ve===(0,i.mod)(-Q*u,X);return We&&(ne=Pe),(Ft||Lt)&&(ne=Le),(0,i.isNegativeLE)(ne,X)&&(ne=(0,i.mod)(-ne,X)),{isValid:We||Ft,value:ne}}n.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const p=(()=>(0,i.Field)(c,void 0,!0))(),I=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:p,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:f,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:e.sha512,randomBytes:t.randomBytes,adjustScalarBytes:b,uvRatio:S}))();n.ed25519=(()=>(0,r.twistedEdwards)(I))();function w(Q,Y,X){if(Y.length>255)throw new Error("Context is too big");return(0,t.concatBytes)((0,t.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([X?1:0,Y.length]),Y,Q)}n.ed25519ctx=(()=>(0,r.twistedEdwards)({...I,domain:w}))(),n.ed25519ph=(()=>(0,r.twistedEdwards)(Object.assign({},I,{domain:w,prehash:e.sha512})))(),n.x25519=(()=>(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:Q=>{const Y=c,{pow_p_5_8:X,b2:re}=g(Q);return(0,i.mod)((0,i.pow2)(X,h,Y)*re,Y)},adjustScalarBytes:b,randomBytes:t.randomBytes}))();function A(Q){const{y:Y}=n.ed25519.ExtendedPoint.fromHex(Q),X=BigInt(1);return p.toBytes(p.create((X+Y)*p.inv(X-Y)))}n.edwardsToMontgomery=A;function _(Q){const Y=I.hash(Q.subarray(0,32));return I.adjustScalarBytes(Y).subarray(0,32)}const E=(()=>(p.ORDER+h)/f)(),M=(()=>p.pow(y,E))(),P=(()=>p.sqrt(p.neg(p.ONE)))();function R(Q){const Y=(p.ORDER-m)/f,X=BigInt(486662);let re=p.sqr(Q);re=p.mul(re,y);let se=p.add(re,p.ONE),ee=p.neg(X),ne=p.sqr(se),ve=p.mul(ne,se),Pe=p.mul(re,X);Pe=p.mul(Pe,ee),Pe=p.add(Pe,ne),Pe=p.mul(Pe,ee);let Le=p.sqr(ve);ne=p.sqr(Le),Le=p.mul(Le,ve),Le=p.mul(Le,Pe),ne=p.mul(ne,Le);let We=p.pow(ne,Y);We=p.mul(We,Le);let Ft=p.mul(We,P);ne=p.sqr(We),ne=p.mul(ne,ve);let Lt=p.eql(ne,Pe),Dt=p.cmov(Ft,We,Lt),et=p.mul(ee,re),Ue=p.mul(We,Q);Ue=p.mul(Ue,M);let Wt=p.mul(Ue,P),sr=p.mul(Pe,re);ne=p.sqr(Ue),ne=p.mul(ne,ve);let rr=p.eql(ne,sr),pr=p.cmov(Wt,Ue,rr);ne=p.sqr(Dt),ne=p.mul(ne,ve);let wr=p.eql(ne,Pe),ls=p.cmov(et,ee,wr),gn=p.cmov(pr,Dt,wr),ds=p.isOdd(gn);return gn=p.cmov(gn,p.neg(gn),wr!==ds),{xMn:ls,xMd:se,yMn:gn,yMd:d}}const $=(()=>(0,i.FpSqrtEven)(p,p.neg(BigInt(486664))))();function z(Q){const{xMn:Y,xMd:X,yMn:re,yMd:se}=R(Q);let ee=p.mul(Y,se);ee=p.mul(ee,$);let ne=p.mul(X,re),ve=p.sub(Y,X),Pe=p.add(Y,X),Le=p.mul(ne,Pe),We=p.eql(Le,p.ZERO);ee=p.cmov(ee,p.ZERO,We),ne=p.cmov(ne,p.ONE,We),ve=p.cmov(ve,p.ONE,We),Pe=p.cmov(Pe,p.ONE,We);const Ft=p.invertBatch([ne,Pe]);return{x:p.mul(ee,Ft[0]),y:p.mul(ve,Ft[1])}}const T=(()=>(0,s.createHasher)(n.ed25519.ExtendedPoint,Q=>z(Q[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:p.ORDER,m:1,k:128,expand:"xmd",hash:e.sha512}))();n.hashToCurve=(()=>T.hashToCurve)(),n.encodeToCurve=(()=>T.encodeToCurve)();function v(Q){if(!(Q instanceof H))throw new Error("RistrettoPoint expected")}const k=u,x=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),C=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),B=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),O=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),D=Q=>S(d,Q),W=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),L=Q=>n.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(Q)&W);function N(Q){const{d:Y}=n.ed25519.CURVE,X=n.ed25519.CURVE.Fp.ORDER,re=n.ed25519.CURVE.Fp.create,se=re(k*Q*Q),ee=re((se+d)*B);let ne=BigInt(-1);const ve=re((ne-Y*se)*re(se+Y));let{isValid:Pe,value:Le}=S(ee,ve),We=re(Le*Q);(0,i.isNegativeLE)(We,X)||(We=re(-We)),Pe||(Le=We),Pe||(ne=se);const Ft=re(ne*(se-d)*O-ve),Lt=Le*Le,Dt=re((Le+Le)*ve),et=re(Ft*x),Ue=re(d-Lt),Wt=re(d+Lt);return new n.ed25519.ExtendedPoint(re(Dt*Wt),re(Ue*et),re(et*Wt),re(Dt*Ue))}class H{constructor(Y){this.ep=Y}static fromAffine(Y){return new H(n.ed25519.ExtendedPoint.fromAffine(Y))}static hashToCurve(Y){Y=(0,a.ensureBytes)("ristrettoHash",Y,64);const X=L(Y.slice(0,32)),re=N(X),se=L(Y.slice(32,64)),ee=N(se);return new H(re.add(ee))}static fromHex(Y){Y=(0,a.ensureBytes)("ristrettoHex",Y,32);const{a:X,d:re}=n.ed25519.CURVE,se=n.ed25519.CURVE.Fp.ORDER,ee=n.ed25519.CURVE.Fp.create,ne="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",ve=L(Y);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(ve,32),Y)||(0,i.isNegativeLE)(ve,se))throw new Error(ne);const Pe=ee(ve*ve),Le=ee(d+X*Pe),We=ee(d-X*Pe),Ft=ee(Le*Le),Lt=ee(We*We),Dt=ee(X*re*Ft-Lt),{isValid:et,value:Ue}=D(ee(Dt*Lt)),Wt=ee(Ue*We),sr=ee(Ue*Wt*Dt);let rr=ee((ve+ve)*Wt);(0,i.isNegativeLE)(rr,se)&&(rr=ee(-rr));const pr=ee(Le*sr),wr=ee(rr*pr);if(!et||(0,i.isNegativeLE)(wr,se)||pr===l)throw new Error(ne);return new H(new n.ed25519.ExtendedPoint(rr,pr,d,wr))}toRawBytes(){let{ex:Y,ey:X,ez:re,et:se}=this.ep;const ee=n.ed25519.CURVE.Fp.ORDER,ne=n.ed25519.CURVE.Fp.create,ve=ne(ne(re+X)*ne(re-X)),Pe=ne(Y*X),Le=ne(Pe*Pe),{value:We}=D(ne(ve*Le)),Ft=ne(We*ve),Lt=ne(We*Pe),Dt=ne(Ft*Lt*se);let et;if((0,i.isNegativeLE)(se*Dt,ee)){let Wt=ne(X*k),sr=ne(Y*k);Y=Wt,X=sr,et=ne(Ft*C)}else et=Lt;(0,i.isNegativeLE)(Y*Dt,ee)&&(X=ne(-X));let Ue=ne((re-X)*et);return(0,i.isNegativeLE)(Ue,ee)&&(Ue=ne(-Ue)),(0,a.numberToBytesLE)(Ue,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(Y){v(Y);const{ex:X,ey:re}=this.ep,{ex:se,ey:ee}=Y.ep,ne=n.ed25519.CURVE.Fp.create,ve=ne(X*ee)===ne(re*se),Pe=ne(re*ee)===ne(X*se);return ve||Pe}add(Y){return v(Y),new H(this.ep.add(Y.ep))}subtract(Y){return v(Y),new H(this.ep.subtract(Y.ep))}multiply(Y){return new H(this.ep.multiply(Y))}multiplyUnsafe(Y){return new H(this.ep.multiplyUnsafe(Y))}double(){return new H(this.ep.double())}negate(){return new H(this.ep.negate())}}n.RistrettoPoint=(()=>(H.BASE||(H.BASE=new H(n.ed25519.ExtendedPoint.BASE)),H.ZERO||(H.ZERO=new H(n.ed25519.ExtendedPoint.ZERO)),H))();const J=(Q,Y)=>{const X=Y.DST,re=typeof X=="string"?(0,t.utf8ToBytes)(X):X,se=(0,s.expand_message_xmd)(Q,re,64,e.sha512);return H.hashToCurve(se)};n.hashToRistretto255=J,n.hash_to_ristretto255=n.hashToRistretto255})(O3e);Object.defineProperty(g5,"__esModule",{value:!0});var yV=Z,Sv=_c,$0e=O3e,P2=lc;function w5t(){return{generateKeypair:()=>Sv.fromWeb3JsKeypair(P2.Keypair.generate()),createKeypairFromSecretKey:a=>Sv.fromWeb3JsKeypair(P2.Keypair.fromSecretKey(a)),createKeypairFromSeed:a=>Sv.fromWeb3JsKeypair(P2.Keypair.fromSeed(a)),isOnCurve:a=>P2.PublicKey.isOnCurve(Sv.toWeb3JsPublicKey(yV.publicKey(a))),findPda:(a,c)=>{const[u,l]=P2.PublicKey.findProgramAddressSync(c,Sv.toWeb3JsPublicKey(yV.publicKey(a)));return[Sv.fromWeb3JsPublicKey(u),l]},sign:(a,c)=>$0e.ed25519.sign(a,c.secretKey.slice(0,32)),verify:(a,c,u)=>$0e.ed25519.verify(c,a,yV.publicKeyBytes(u))}}g5.createWeb3JsEddsa=w5t;Object.defineProperty(Hce,"__esModule",{value:!0});var I5t=g5;const P5t=()=>({install(n){n.eddsa=I5t.createWeb3JsEddsa()}});Hce.web3JsEddsa=P5t;Object.defineProperty(h5,"__esModule",{value:!0});var _5t=Hce,E5t=g5;h5.web3JsEddsa=_5t.web3JsEddsa;h5.createWeb3JsEddsa=E5t.createWeb3JsEddsa;var I5={},P5={},_5={};Object.defineProperty(_5,"__esModule",{value:!0});var wH=Z;class x5t extends wH.SdkError{name="ProgramNotRecognizedError";constructor(e,t){const r=!wH.isPublicKey(e),s=e,i=t==="*"?"any":`the [${t}]`,o=`The provided program ${r?"name":"address"} [${s}] is not recognized in ${i} cluster. Did you forget to register this program? If so, you may use "context.programs.add(myProgram)" to fix this.`;super(o),this.identifier=e,this.cluster=t}}class T5t extends wH.ProgramError{name="ProgramErrorNotRecognizedError";constructor(e,t){const r=t.code?` of code [${t.code}]`:"",s=`The program [${e.name}] at address [${e.publicKey}] raised an error${r} that is not recognized by the programs registered on the SDK. Please check the underlying program error below for more details.`;super(s,e,t)}}_5.ProgramErrorNotRecognizedError=T5t;_5.ProgramNotRecognizedError=x5t;Object.defineProperty(P5,"__esModule",{value:!0});var uD=Z,D0e=_5;function EDe(n,e=[],t={}){const r=[...e],s={...t},i=(g,b="current")=>{const S=c(b),p=f(g);return uD.isPublicKey(p)?S.some(I=>I.publicKey===p):S.some(I=>I.name===p)},o=(g,b="current")=>{const S=m(b),p=c(b),I=f(g),w=uD.isPublicKey(I)?p.find(A=>A.publicKey===I):p.find(A=>A.name===I);if(!w)throw new D0e.ProgramNotRecognizedError(I,S);return w},a=(g,b,S)=>{try{return o(g,S).publicKey}catch(p){if(b===void 0)throw p;return uD.publicKey(b)}},c=(g="current")=>{const b=m(g);return b==="*"?r:r.filter(S=>S.isOnCluster(b))},u=(g,b=!0)=>{!b&&i(g.publicKey,"*")||r.unshift(g)},l=(g,b)=>{s[g]=b,f(g)},d=g=>{delete s[g]},y=()=>EDe(n,r,s),h=(g,b)=>{var z,T,v,k;if(!Array.isArray(g.logs)||g.logs.length===0)return null;const S=g.logs.join(`
`),p=/Error processing Instruction (\d+):/,I=((z=g.message.match(p))==null?void 0:z[1])??null,w=/Custom program error: (0x[a-f0-9]+)/i,A=((T=S.match(w))==null?void 0:T[1])??null,_=A?parseInt(A,16):null;if(I===null||_===null)return null;const E=parseInt(I,10),M=((k=(v=b.message.instructions)==null?void 0:v[E])==null?void 0:k.programIndex)??null,P=M?b.message.accounts[M]:null;if(!P)return null;let R;try{R=o(P)}catch{return null}return R.getErrorFromCode(_,g)??new D0e.ProgramErrorNotRecognizedError(R,g)},m=g=>g==="current"?n.rpc.getCluster():g,f=(g,b=[])=>{if(uD.isPublicKey(g)||s[g]===void 0)return g;const S=[...b,g];if(b.includes(g))throw new Error(`Circular binding detected: ${S.join(" -> ")}`);return f(s[g],S)};return{has:i,get:o,getPublicKey:a,all:c,add:u,bind:l,unbind:d,clone:y,resolveError:h}}P5.createDefaultProgramRepository=EDe;var oue={};Object.defineProperty(oue,"__esModule",{value:!0});var R5t=P5;const C5t=()=>({install(n){n.programs=R5t.createDefaultProgramRepository(n)}});oue.defaultProgramRepository=C5t;Object.defineProperty(I5,"__esModule",{value:!0});var M5t=P5,B5t=oue;I5.createDefaultProgramRepository=M5t.createDefaultProgramRepository;I5.defaultProgramRepository=B5t.defaultProgramRepository;var z5t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),$5t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),D5t=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&z5t(e,n,t);return $5t(e,n),e},O5t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(a_,"__esModule",{value:!0});a_.mintCrewMember=a_.mintCrewMemberAccounts=void 0;const K5t=D5t(lc),lD=JJ,dD=RBe,L5t=Z,W5t=h5,N5t=I5,kv=_c,xDe=Cd;function TDe(n,e,t,r,s,i,o,a,c,u,l,d,y=xDe.CrewConfig.findAddress(n)[0]){const h=[e],m=(0,L5t.createUmi)().use((0,N5t.defaultProgramRepository)()).use((0,W5t.web3JsEddsa)()),f=(0,dD.findMetadataPda)(m,{mint:(0,kv.fromWeb3JsPublicKey)(c)})[0],g=(0,dD.findMasterEditionPda)(m,{mint:(0,kv.fromWeb3JsPublicKey)(c)})[0],b=(0,dD.findMetadataDelegateRecordPda)(m,{mint:(0,kv.fromWeb3JsPublicKey)(c),delegateRole:dD.MetadataDelegateRole.Collection,delegate:(0,kv.fromWeb3JsPublicKey)(y),updateAuthority:(0,kv.fromWeb3JsPublicKey)(u)})[0],S=(0,lD.findTreeConfigPda)(m,{merkleTree:(0,kv.fromWeb3JsPublicKey)(l)})[0],p=lD.SPL_ACCOUNT_COMPRESSION_PROGRAM_ID,I=lD.MPL_BUBBLEGUM_PROGRAM_ID,w=lD.SPL_NOOP_PROGRAM_ID;return{accounts:{key:e.publicKey(),profile:t,rentRecipient:r,crewConfig:y,owner:s,userRedemption:i,packType:o,packTiers:a,systemProgram:K5t.SystemProgram.programId,collectionMint:c,collectionMetadata:f,collectionEdition:g,compressionProgram:p,bubblegumProgram:I,logWrapper:w,treeConfig:S,merkleTree:l,collectionAuthorityRecordPda:b,serverHashPreimage:d},signers:h}}a_.mintCrewMemberAccounts=TDe;function F5t(n,e,t,r,s,i,o,a,c,u,l,d,y,h=xDe.CrewConfig.findAddress(n)[0]){const{accounts:m,signers:f}=TDe(n,e,t,r,s,i,o,a,c,u,l,d,h);return()=>O5t(this,void 0,void 0,function*(){return{instruction:yield n.methods.mintCrewMember(y).accountsStrict(m).instruction(),signers:f}})}a_.mintCrewMember=F5t;var E5={},U5t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),V5t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),RDe=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&U5t(e,n,t);return V5t(e,n),e},q5t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})},j5t=K&&K.__rest||function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};Object.defineProperty(E5,"__esModule",{value:!0});E5.redeemCrewPack=void 0;const H5t=RDe(sl),pV=RDe(lc),O0e=Cd;function G5t(n,e,t,r,s,i,o,a,c,u,l,d=O0e.CrewConfig.findAddress(n)[0]){const y=[e,r],h=O0e.UserRedemption.findAddress(n,{owner:s,packType:o,seedPubkey:l.seedPubkey})[0],{sageProfile:m}=l,f=j5t(l,["sageProfile"]),g=m?[{pubkey:m,isSigner:!1,isWritable:!1}]:[];return b=>q5t(this,void 0,void 0,function*(){return{instruction:yield n.methods.redeemCrewPack(f).accountsStrict({packSftAuthority:e.publicKey(),profile:t,profileKey:r.publicKey(),funder:b.publicKey(),owner:s,userRedemption:h,sftRedemption:i,packType:o,packTiers:a,crewConfig:d,tokenFrom:c,tokenMint:u,tokenProgram:H5t.TOKEN_PROGRAM_ID,instructionsSysvar:pV.SYSVAR_INSTRUCTIONS_PUBKEY,recentSlothashes:pV.SYSVAR_SLOT_HASHES_PUBKEY,systemProgram:pV.SystemProgram.programId}).remainingAccounts(g).instruction(),signers:[...y,b]}})}E5.redeemCrewPack=G5t;var x5={},Y5t=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),Z5t=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),J5t=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&Y5t(e,n,t);return Z5t(e,n),e},X5t=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(x5,"__esModule",{value:!0});x5.registerCrewConfig=void 0;const Q5t=J5t(lc),K0e=Cd;function eWt(n,e,t,r,s=K0e.DERFAULT_CREW_CONFIG_SEED){const i=[],o=K0e.CrewConfig.findAddress(n,s)[0],a=r.map(c=>({pubkey:c,isSigner:!1,isWritable:!1}));return c=>X5t(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerCrewConfig(t).accountsStrict({profile:e,funder:c.publicKey(),crewConfig:o,seedPubkey:s,systemProgram:Q5t.SystemProgram.programId}).remainingAccounts(a).instruction(),signers:[...i,c]}})}x5.registerCrewConfig=eWt;var T5={},tWt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),rWt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),nWt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&tWt(e,n,t);return rWt(e,n),e},sWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(T5,"__esModule",{value:!0});T5.registerPackTiers=void 0;const iWt=nWt(lc),L0e=Cd;function oWt(n,e,t,r,s){const i=[e];s=s??L0e.CrewConfig.findAddress(n)[0];const o=L0e.PackTiers.findAddress(n,{packTier:r.packTier,seedPubkey:r.seedPubkey})[0];return a=>sWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerPackTiers(r).accountsStrict({key:e.publicKey(),profile:t,funder:a.publicKey(),packTiers:o,systemProgram:iWt.SystemProgram.programId,crewConfig:s}).instruction(),signers:[...i,a]}})}T5.registerPackTiers=oWt;var R5={},aWt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),cWt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),uWt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&aWt(e,n,t);return cWt(e,n),e},lWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(R5,"__esModule",{value:!0});R5.registerPackType=void 0;const dWt=uWt(lc),W0e=Cd;function fWt(n,e,t,r,s,i){const o=[e];i=i??W0e.CrewConfig.findAddress(n)[0];const a=W0e.PackType.findAddress(n,{crewConfig:i,packTiers:r,faction:s.faction})[0];return c=>lWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerPackType(s).accountsStrict({key:e.publicKey(),profile:t,funder:c.publicKey(),packType:a,packTiers:r,systemProgram:dWt.SystemProgram.programId,crewConfig:i}).instruction(),signers:[...o,c]}})}R5.registerPackType=fWt;var C5={},hWt=K&&K.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(e,t);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,s)}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}),gWt=K&&K.__setModuleDefault||(Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e}),mWt=K&&K.__importStar||function(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)t!=="default"&&Object.prototype.hasOwnProperty.call(n,t)&&hWt(e,n,t);return gWt(e,n),e},yWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(C5,"__esModule",{value:!0});C5.registerSftRedemption=void 0;const pWt=mWt(lc),N0e=Cd;function bWt(n,e,t,r,s,i,o){const a=[e];o=o??N0e.CrewConfig.findAddress(n)[0];const c=N0e.SftRedemption.findAddress(n,{redemptionAmount:i.redemptionAmount,crewConfig:o,packType:r,sftMint:s})[0];return u=>yWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.registerSftRedemption(i).accountsStrict({key:e.publicKey(),profile:t,funder:u.publicKey(),sftRedemptionData:c,crewConfig:o,packType:r,sftMint:s,systemProgram:pWt.SystemProgram.programId}).instruction(),signers:[...a,u]}})}C5.registerSftRedemption=bWt;var M5={},SWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(M5,"__esModule",{value:!0});M5.updateCrewConfig=void 0;function kWt(n,e,t,r,s){const i=[e];return o=>SWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.updateCrewConfig(s).accountsStrict({key:e.publicKey(),profile:t,funder:o.publicKey(),crewConfig:r}).instruction(),signers:[...i,o]}})}M5.updateCrewConfig=kWt;var B5={},vWt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(B5,"__esModule",{value:!0});B5.updatePackTiers=void 0;const AWt=Cd;function wWt(n,e,t,r,s,i){const o=[e];return i=i??AWt.CrewConfig.findAddress(n)[0],a=>vWt(this,void 0,void 0,function*(){return{instruction:yield n.methods.updatePackTiers(s).accountsStrict({key:e.publicKey(),profile:t,funder:a.publicKey(),packTiers:r,crewConfig:i}).instruction(),signers:[...o,a]}})}B5.updatePackTiers=wWt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(BL,n),t(a_,n),t(E5,n),t(x5,n),t(T5,n),t(R5,n),t(C5,n),t(M5,n),t(B5,n)})(TBe);var Qz={},IWt=K&&K.__decorate||function(n,e,t,r){var s=arguments.length,i=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(n,e,t,r);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(i=(s<3?o(i):s>3?o(e,t,i):o(e,t))||i);return s>3&&i&&Object.defineProperty(e,t,i),i},PWt=K&&K.__metadata||function(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)},gc;Object.defineProperty(Qz,"__esModule",{value:!0});Qz.CrewPermissions=void 0;const CDe=tr;let IH=gc=class{constructor(e,t,r,s,i){this.registerSftRedemption=e,this.registerPackType=t,this.managePackTiers=r,this.mintCrewCards=s,this.provideServerHash=i}getPermissions(){const e=(0,CDe.fixedSizeArray)(8,0);return e[0]=(this.registerSftRedemption?1<<0:0)|(this.registerPackType?1<<1:0)|(this.managePackTiers?1<<2:0)|(this.mintCrewCards?1<<3:0)|(this.provideServerHash?1<<4:0),e}static empty(){return new gc(!1,!1,!1,!1,!1)}static all(){return new gc(!0,!0,!0,!0,!0)}static registerSftRedemption(){return gc.permissionsBuilder("registerSftRedemption")}static registerPackType(){return gc.permissionsBuilder("registerPackType")}static managePackTiers(){return gc.permissionsBuilder("managePackTiers")}static mintCrewCards(){return gc.permissionsBuilder("mintCrewCards")}static provideServerHash(){return gc.permissionsBuilder("provideServerHash")}static fromPermissions(e){return new gc((e[0]&1<<0)!==0,(e[0]&1<<1)!==0,(e[0]&1<<2)!==0,(e[0]&1<<3)!==0,(e[0]&1<<4)!==0)}and(e){return new gc(this.registerSftRedemption&&e.registerSftRedemption,this.registerPackType&&e.registerPackType,this.managePackTiers&&e.managePackTiers,this.mintCrewCards&&e.mintCrewCards,this.provideServerHash&&e.provideServerHash)}or(e){return new gc(this.registerSftRedemption||e.registerSftRedemption,this.registerPackType||e.registerPackType,this.managePackTiers||e.managePackTiers,this.mintCrewCards||e.mintCrewCards,this.provideServerHash||e.provideServerHash)}eq(e){return this.registerSftRedemption===e.registerSftRedemption&&this.registerPackType===e.registerPackType&&this.managePackTiers===e.managePackTiers&&this.mintCrewCards===e.mintCrewCards&&this.provideServerHash===e.provideServerHash}contains(e){return this.and(e).eq(e)}static permissionsBuilder(e){const t=Array.isArray(e)?e:[e],r=Object.keys(gc.empty()).map(s=>t.includes(s));if(r.length!==gc.length)throw console.error(r.length,gc.length),"Incorrect number of permissions";return new gc(...r)}};Qz.CrewPermissions=IH;Qz.CrewPermissions=IH=gc=IWt([(0,CDe.staticImplements)(),PWt("design:paramtypes",[Boolean,Boolean,Boolean,Boolean,Boolean])],IH);(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(Cd,n),t(Hz,n),t(lse,n),t(TBe,n),t(Qz,n),t(js,n)})(Kne);var _Wt=K&&K.__awaiter||function(n,e,t,r){function s(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};Object.defineProperty(bL,"__esModule",{value:!0});bL.mintCrewMemberToSage=void 0;const EWt=qs,F0e=Kne;function xWt(n,e,t,r,s,i,o,a,c,u,l,d,y,h,m=F0e.CrewConfig.findAddress(n)[0]){const{accounts:f,signers:g}=(0,F0e.mintCrewMemberAccounts)(n,e,t,r,s,i,o,a,c,u,l,d,m),b=[];return b.push({pubkey:y.sageProgram.programId,isWritable:!1,isSigner:!1}),b.push({pubkey:y.starbase,isWritable:!0,isSigner:!1}),b.push({pubkey:y.starbasePlayer,isWritable:!0,isSigner:!1}),b.push({pubkey:y.sageCrewConfig,isWritable:!1,isSigner:!1}),b.push({pubkey:EWt.SYSVAR_INSTRUCTIONS_PUBKEY,isWritable:!1,isSigner:!1}),()=>_Wt(this,void 0,void 0,function*(){return{instruction:yield n.methods.mintCrewMember(h).accountsStrict(f).remainingAccounts(b).instruction(),signers:g}})}bL.mintCrewMemberToSage=xWt;(function(n){var e=K&&K.__createBinding||(Object.create?function(r,s,i,o){o===void 0&&(o=i);var a=Object.getOwnPropertyDescriptor(s,i);(!a||("get"in a?!s.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return s[i]}}),Object.defineProperty(r,o,a)}:function(r,s,i,o){o===void 0&&(o=i),r[o]=s[i]}),t=K&&K.__exportStar||function(r,s){for(var i in r)i!=="default"&&!Object.prototype.hasOwnProperty.call(s,i)&&e(s,r,i)};Object.defineProperty(n,"__esModule",{value:!0}),t(JY,n),t(ud,n),t(qK,n),t(jK,n),t(p6,n),t(k6,n),t(Rl,n),t(nm,n),t(Wz,n),t(el,n),t(Zp,n),t(Au,n),t(ld,n),t(bL,n),t(rl,n),t(Cl,n),t(b6,n),t(S6,n),t(Yf,n),t(One,n),t(pL,n),t(yb,n),t(yL,n)})(ZY);const Fg=Y0e("playerProfileStore",{state:()=>({profile:{},profileKeys:[]}),getters:{},actions:{async createProfile(){var a,c,u;const n=(a=M2())==null?void 0:a.pg_playerProfile.value,e=TWt((c=this.profile)==null?void 0:c.publicKey),t=RWt(ZDe());console.log("Profile publicKey:",this.profile.publicKey.toString());const r=new JDe,s=await Jd.PlayerProfile.createProfile(n,e,[{key:Av(),expireTime:null,scope:n==null?void 0:n.programId,permissions:Jd.ProfilePermissions.all()}],1)(t);Array.isArray(s)?s.forEach(l=>{l!=null&&l.instruction?r.add(l.instruction):console.error("No instruction found in the array element")}):s!=null&&s.instruction?r.add(s.instruction):console.error("No instruction found"),new Jd.PlayerProfile((u=this.profile)==null?void 0:u.account);const{instructions:i,name:o}=Jd.PlayerProfile.setName(n,{profile:e.publicKey(),key:t,playerProfileProgram:n},"test");console.log(await i(t)),await oOe(r,"Create Player Profile")},async updateStore_new(){var e;const n=await fD().connection.getProgramAccounts(vfe,{filters:[{memcmp:{offset:30,bytes:Av().toString()}}]});if(n){console.log(n),this.profile.publicKey=n[0].pubkey;const t=(e=M2())==null?void 0:e.pg_playerProfile.value,r=await tr.readAllFromRPC(fD().connection,t,Jd.PlayerProfile,"processed",[{memcmp:{offset:Jd.PlayerProfile.MIN_DATA_SIZE+2,bytes:Av().toString()}}]);console.log("MyProfiles"),console.log(r),this.profile.account=t.coder.types.decode("profile",n[0].account.data.slice(0,31)),console.log(this.profile)}else this.profileId=XDe.generate().publicKey},async updateStore(){this.profileKeys=[];const n=M2().pg_playerProfile.value,e=await fD().connection.getProgramAccounts(vfe,{filters:[{memcmp:{offset:30,bytes:Av().toString()}}]});console.log(e[0]);let t=e[0].account.data.subarray(30);for(this.profile={publicKey:e[0].pubkey,account:await n.account.profile.fetch(e[0].pubkey),data:t};t.length>=80;){const r=t.subarray(0,80);console.log(`currProfileKey: ${r}`);const s=n.coder.types.decode("profileKey",r);this.profileKeys.push({profileKeys:s,sagePermissions:ZY.SagePermissions.fromPermissions(s.permissions)}),t=t.subarray(80)}}}});function TWt(n){return{publicKey:()=>n}}function RWt(n){return{inner(){return n},publicKey(){return n.publicKey.value},requiresAsync(){return!0},sign(e){return n.signTransaction.value(e)},signAll(e){return n.signAllTransactions.value(e)}}}const CWt=tl("div",{class:"col"},"Permission for:",-1),MWt={class:"row"},BWt={class:"col"},zWt=PH({__name:"PlayerProfilePermissions",setup(n){return(e,t)=>(wv(!0),pue(Sue,null,bue(Eg(Fg)().profileKeys,r=>(wv(),ZD(Z0e,{flat:"",bordered:"",key:r},{default:lf(()=>[yl(hD,{class:"row"},{default:lf(()=>[CWt,tl("div",null,X0(r.profileKeys.key),1)]),_:2},1024),yl(lOe,{bordered:"",separator:""},{default:lf(()=>[(wv(!0),pue(Sue,null,bue(Object.keys(r.sagePermissions),s=>(wv(),ZD(cOe,{key:s},{default:lf(()=>[yl(uOe,{class:""},{default:lf(()=>[tl("div",MWt,[tl("div",BWt,X0(s.toUpperCase()),1),yl(aOe,{dense:"",modelValue:Eg(Fg)().profileKeys[0].sagePermissions[s],"onUpdate:modelValue":i=>Eg(Fg)().profileKeys[0].sagePermissions[s]=i,"checked-icon":"check",color:"primary","unchecked-icon":"clear"},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024))),128))}}),$Wt=PH({__name:"PlayerProfileCreate",setup(n){return QDe("somenamw"),(e,t)=>(wv(),ZD(eOe,{label:"Create Profile",onClick:t[0]||(t[0]=r=>Eg(Fg)().createProfile())}))}}),DWt="SageStore",bV=Y0e("sageStore",{state:()=>({game:{},games:[]}),getters:{},actions:{async updateStore(){if(M2()){const n=M2().pg_sage.value;try{this.games=await(n==null?void 0:n.account.game.all()),this.game={publicKey:this.games[0].publicKey,account:await tr.readFromRPCOrError(fD().connection,n,this.games[0].publicKey,ZY.Game,"confirmed")}}catch{this.games=void 0,this.game=void 0}console.log(`[Updated] ${DWt}`)}}}}),OWt=tl("div",{class:"col text-h6"},"Player Profile Integration",-1),KWt=tl("div",{class:"text-subtitle1"},"Playerprofile",-1),LWt=tl("div",{class:"text-subtitle2 text-accent"}," Get access to your player profile data ",-1),WWt={class:"row items-center"},NWt=tl("div",{class:"col text-subtitle1"},"User",-1),FWt={class:"row items-center"},UWt=tl("div",{class:"col text-subtitle1"},"PlayerProfileID",-1),VWt={class:"row items-center"},qWt=tl("div",{class:"col text-subtitle1"},"PlayerProfile",-1),uFt=PH({__name:"PlayerProfilePage",setup(n){return tOe(async()=>{await bV().updateStore(),await Fg().updateStore()}),rOe(()=>Av(),async()=>{await bV().updateStore(),await Fg().updateStore()}),(e,t)=>(wv(),ZD(iOe,{class:"bg-black"},{default:lf(()=>[yl(Z0e,{flat:""},{default:lf(()=>[yl(hD,{class:"row items-center q-gutter-x-md"},{default:lf(()=>[yl(nOe,{name:"diversity_3",size:"md"}),OWt]),_:1}),yl(sOe),e$(" "+X0(Eg(bV)().game)+" "+X0(Eg(Fg)().profileKeys)+" ",1),yl(hD,null,{default:lf(()=>[KWt,LWt]),_:1}),yl(hD,{class:"q-gutter-y-sm"},{default:lf(()=>{var r,s;return[tl("div",WWt,[NWt,e$(" "+X0(Eg(Av)().toString()??"not-found"),1)]),tl("div",FWt,[UWt,e$(" "+X0(((s=(r=Eg(Fg)())==null?void 0:r.profile.publicKey)==null?void 0:s.toString())??"not-found"),1)]),tl("div",VWt,[qWt,e$(" "+X0(Eg(Fg)().profile??"not-found"),1)]),yl(zWt),yl($Wt)]}),_:1})]),_:1})]),_:1}))}});export{uFt as default};
