import{J as w,ci as z,aX as f,bZ as x,aT as c,c2 as O,aQ as v,aF as R,aC as m,c3 as b,aV as g,cN as T}from"./index.6e2c915f.js";function k(){const e=w(!z.value);return e.value===!1&&f(()=>{e.value=!0}),e}const y=typeof ResizeObserver<"u",p=y===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var C=x({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:r}){let t=null,i,s={width:-1,height:-1};function l(n){n===!0||e.debounce===0||e.debounce==="0"?u():t===null&&(t=setTimeout(u,e.debounce))}function u(){if(t!==null&&(clearTimeout(t),t=null),i){const{offsetWidth:n,offsetHeight:o}=i;(n!==s.width||o!==s.height)&&(s={width:n,height:o},r("resize",s))}}const{proxy:d}=m();if(y===!0){let n;const o=a=>{i=d.$el.parentNode,i?(n=new ResizeObserver(l),n.observe(i),u()):a!==!0&&v(()=>{o(!0)})};return f(()=>{o()}),c(()=>{t!==null&&clearTimeout(t),n!==void 0&&(n.disconnect!==void 0?n.disconnect():i&&n.unobserve(i))}),O}else{let a=function(){t!==null&&(clearTimeout(t),t=null),o!==void 0&&(o.removeEventListener!==void 0&&o.removeEventListener("resize",l,b.passive),o=void 0)},h=function(){a(),i&&i.contentDocument&&(o=i.contentDocument.defaultView,o.addEventListener("resize",l,b.passive),u())};const n=k();let o;return f(()=>{v(()=>{i=d.$el,i&&h()})}),c(a),d.trigger=l,()=>{if(n.value===!0)return R("object",{style:p.style,tabindex:-1,type:"text/html",data:p.url,"aria-hidden":"true",onLoad:h})}}}});function D(){let e;const r=m();function t(){e=void 0}return g(t),c(t),{removeTick:t,registerTick(i){e=i,v(()=>{e===i&&(T(r)===!1&&e(),e=void 0)})}}}function j(){let e=null;const r=m();function t(){e!==null&&(clearTimeout(e),e=null)}return g(t),c(t),{removeTimeout:t,registerTimeout(i,s){t(),T(r)===!1&&(e=setTimeout(i,s))}}}let E=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const r=document.createElement("div");Object.assign(r.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(r),e.scrollLeft=-1e3,E=e.scrollLeft>=0,e.remove()}export{C as Q,D as a,E as r,j as u};
